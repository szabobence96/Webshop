"use strict";(self.webpackChunkwebshop=self.webpackChunkwebshop||[]).push([[179],{6304:(en,Se,Q)=>{Q.d(Se,{Dh:()=>ut,GT:()=>ke,cc:()=>me,hO:()=>Ne,on:()=>z,pX:()=>ce,xv:()=>Ve});var o=Q(5879),U=Q(120),Y=Q(2793);en=Q.hmd(en);const pe=["ngOnDestroy"],ce=(Re,at,We,xe={})=>new Proxy(Re,{get:(nt,$e)=>We.runOutsideAngular(()=>{var it;if(Re[$e])return!(null===(it=xe?.spy)||void 0===it)&&it.get&&xe.spy.get($e,Re[$e]),Re[$e];if(pe.indexOf($e)>-1)return()=>{};const he=at.toPromise().then(ue=>{const Ge=ue&&ue[$e];return"function"==typeof Ge?Ge.bind(ue):Ge&&Ge.then?Ge.then(Le=>We.run(()=>Le)):We.run(()=>Ge)});return new Proxy(()=>{},{get:(ue,Ge)=>he[Ge],apply:(ue,Ge,Le)=>he.then(Ct=>{var ot;const Yt=Ct&&Ct(...Le);return!(null===(ot=xe?.spy)||void 0===ot)&&ot.apply&&xe.spy.apply($e,Le,Yt),Yt})})})}),ke=(Re,at)=>{at.forEach(We=>{Object.getOwnPropertyNames(We.prototype||We).forEach(xe=>{Object.defineProperty(Re.prototype,xe,Object.getOwnPropertyDescriptor(We.prototype||We,xe))})})};class De{constructor(at){return at}}const ut=new o.OlP("angularfire2.app.options"),Ve=new o.OlP("angularfire2.app.name");function z(Re,at,We){const nt="object"==typeof We&&We||{};nt.name=nt.name||"string"==typeof We&&We||"[DEFAULT]";const it=U.Z.apps.filter(he=>he&&he.name===nt.name)[0]||at.runOutsideAngular(()=>U.Z.initializeApp(Re,nt));try{JSON.stringify(Re)!==JSON.stringify(it.options)&&G("error",`${it.name} Firebase App already initialized with different options${en.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new De(it)}const G=(Re,...at)=>{(0,o.X6Q)()&&typeof console<"u"&&console[Re](...at)},de={provide:De,useFactory:z,deps:[ut,o.R0b,[new o.FiY,Ve]]};let Ne=(()=>{class Re{constructor(We){U.Z.registerVersion("angularfire",Y.q4.full,"core"),U.Z.registerVersion("angularfire",Y.q4.full,"app-compat"),U.Z.registerVersion("angular",o.q4F.full,We.toString())}static initializeApp(We,xe){return{ngModule:Re,providers:[{provide:ut,useValue:We},{provide:Ve,useValue:xe}]}}}return Re.\u0275fac=function(We){return new(We||Re)(o.LFG(o.Lbi))},Re.\u0275mod=o.oAB({type:Re}),Re.\u0275inj=o.cJS({providers:[de]}),Re})();function me(Re,at,We,xe,nt){const[,$e,it]=globalThis.\u0275AngularfireInstanceCache.find(he=>he[0]===Re)||[];if($e)return function lt(Re,at){try{return Re.toString()===at.toString()}catch{return Re===at}}(nt,it)||(mt("error",`${at} was already initialized on the ${We} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),mt("warn",{is:nt,was:it})),$e;{const he=xe();return globalThis.\u0275AngularfireInstanceCache.push([Re,he,nt]),he}}const st=!!en.hot,mt=(Re,...at)=>{(0,o.X6Q)()&&typeof console<"u"&&console[Re](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(en,Se,Q)=>{Q.d(Se,{q4:()=>Tu,iC:()=>ps,HU:()=>Ri,vb:()=>ph,JM:()=>fh,u3:()=>Zc});var o=Q(5879),U=Q(4097),Y=Q(5861),pe=Q(534),ce=Q(9058),ke=Q(4537),De=Q(7879);const ut=(D,F)=>F.some(H=>D instanceof H);let Ve,z;const Ne=new WeakMap,me=new WeakMap,lt=new WeakMap,st=new WeakMap,mt=new WeakMap;let We={get(D,F,H){if(D instanceof IDBTransaction){if("done"===F)return me.get(D);if("objectStoreNames"===F)return D.objectStoreNames||lt.get(D);if("store"===F)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return it(D[F])},set:(D,F,H)=>(D[F]=H,!0),has:(D,F)=>D instanceof IDBTransaction&&("done"===F||"store"===F)||F in D};function $e(D){return"function"==typeof D?function nt(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...F){return D.apply(he(this),F),it(Ne.get(this))}:function(...F){return it(D.apply(he(this),F))}:function(F,...H){const oe=D.call(he(this),F,...H);return lt.set(oe,F.sort?F.sort():[F]),it(oe)}}(D):(D instanceof IDBTransaction&&function at(D){if(me.has(D))return;const F=new Promise((H,oe)=>{const be=()=>{D.removeEventListener("complete",Ue),D.removeEventListener("error",rt),D.removeEventListener("abort",rt)},Ue=()=>{H(),be()},rt=()=>{oe(D.error||new DOMException("AbortError","AbortError")),be()};D.addEventListener("complete",Ue),D.addEventListener("error",rt),D.addEventListener("abort",rt)});me.set(D,F)}(D),ut(D,function G(){return Ve||(Ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,We):D)}function it(D){if(D instanceof IDBRequest)return function Re(D){const F=new Promise((H,oe)=>{const be=()=>{D.removeEventListener("success",Ue),D.removeEventListener("error",rt)},Ue=()=>{H(it(D.result)),be()},rt=()=>{oe(D.error),be()};D.addEventListener("success",Ue),D.addEventListener("error",rt)});return F.then(H=>{H instanceof IDBCursor&&Ne.set(H,D)}).catch(()=>{}),mt.set(F,D),F}(D);if(st.has(D))return st.get(D);const F=$e(D);return F!==D&&(st.set(D,F),mt.set(F,D)),F}const he=D=>mt.get(D),Le=["get","getKey","getAll","getAllKeys","count"],Ct=["put","add","delete","clear"],ot=new Map;function Yt(D,F){if(!(D instanceof IDBDatabase)||F in D||"string"!=typeof F)return;if(ot.get(F))return ot.get(F);const H=F.replace(/FromIndex$/,""),oe=F!==H,be=Ct.includes(H);if(!(H in(oe?IDBIndex:IDBObjectStore).prototype)||!be&&!Le.includes(H))return;const Ue=function(){var rt=(0,Y.Z)(function*(Bt,...Ft){const hn=this.transaction(Bt,be?"readwrite":"readonly");let Un=hn.store;return oe&&(Un=Un.index(Ft.shift())),(yield Promise.all([Un[H](...Ft),be&&hn.done]))[0]});return function(Ft){return rt.apply(this,arguments)}}();return ot.set(F,Ue),Ue}!function xe(D){We=D(We)}(D=>({...D,get:(F,H,oe)=>Yt(F,H)||D.get(F,H,oe),has:(F,H)=>!!Yt(F,H)||D.has(F,H)}));const nn="@firebase/installations",un="0.6.4",rn=1e4,pi=`w:${un}`,Te="FIS_v2",Ce="https://firebaseinstallations.googleapis.com/v1",He=36e5,St=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function bt(D){return D instanceof ce.ZR&&D.code.includes("request-failed")}function Tn({projectId:D}){return`${Ce}/projects/${D}/installations`}function dn(D){return{token:D.token,requestStatus:2,expiresIn:Fn(D.expiresIn),creationTime:Date.now()}}function Nn(D,F){return fn.apply(this,arguments)}function fn(){return(fn=(0,Y.Z)(function*(D,F){const oe=(yield F.json()).error;return St.create("request-failed",{requestName:D,serverCode:oe.code,serverMessage:oe.message,serverStatus:oe.status})})).apply(this,arguments)}function tn({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Ut(D){return cn.apply(this,arguments)}function cn(){return(cn=(0,Y.Z)(function*(D){const F=yield D();return F.status>=500&&F.status<600?D():F})).apply(this,arguments)}function Fn(D){return Number(D.replace("s","000"))}function Di(){return(Di=(0,Y.Z)(function*({appConfig:D,heartbeatServiceProvider:F},{fid:H}){const oe=Tn(D),be=tn(D),Ue=F.getImmediate({optional:!0});if(Ue){const hn=yield Ue.getHeartbeatsHeader();hn&&be.append("x-firebase-client",hn)}const Bt={method:"POST",headers:be,body:JSON.stringify({fid:H,authVersion:Te,appId:D.appId,sdkVersion:pi})},Ft=yield Ut(()=>fetch(oe,Bt));if(Ft.ok){const hn=yield Ft.json();return{fid:hn.fid||H,registrationStatus:2,refreshToken:hn.refreshToken,authToken:dn(hn.authToken)}}throw yield Nn("Create Installation",Ft)})).apply(this,arguments)}function ni(D){return new Promise(F=>{setTimeout(F,D)})}const No=/^[cdef][\w-]{21}$/,sn="";function Kt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const H=function Qt(D){return function zi(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return No.test(H)?H:sn}catch{return sn}}function zt(D){return`${D.appName}!${D.appId}`}const Ie=new Map;function we(D,F){const H=zt(D);Fe(H,F),function xt(D,F){const H=function jt(){return!mn&&"BroadcastChannel"in self&&(mn=new BroadcastChannel("[Firebase] FID Change"),mn.onmessage=D=>{Fe(D.data.key,D.data.fid)}),mn}();H&&H.postMessage({key:D,fid:F}),function Xt(){0===Ie.size&&mn&&(mn.close(),mn=null)}()}(H,F)}function Fe(D,F){const H=Ie.get(D);if(H)for(const oe of H)oe(F)}let mn=null;const Ht="firebase-installations-database",xi=1,yi="firebase-installations-store";let Hn=null;function Li(){return Hn||(Hn=function ue(D,F,{blocked:H,upgrade:oe,blocking:be,terminated:Ue}={}){const rt=indexedDB.open(D,F),Bt=it(rt);return oe&&rt.addEventListener("upgradeneeded",Ft=>{oe(it(rt.result),Ft.oldVersion,Ft.newVersion,it(rt.transaction))}),H&&rt.addEventListener("blocked",()=>H()),Bt.then(Ft=>{Ue&&Ft.addEventListener("close",()=>Ue()),be&&Ft.addEventListener("versionchange",()=>be())}).catch(()=>{}),Bt}(Ht,xi,{upgrade:(D,F)=>{0===F&&D.createObjectStore(yi)}})),Hn}function $n(D,F){return gr.apply(this,arguments)}function gr(){return(gr=(0,Y.Z)(function*(D,F){const H=zt(D),be=(yield Li()).transaction(yi,"readwrite"),Ue=be.objectStore(yi),rt=yield Ue.get(H);return yield Ue.put(F,H),yield be.done,(!rt||rt.fid!==F.fid)&&we(D,F.fid),F})).apply(this,arguments)}function mi(D){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,Y.Z)(function*(D){const F=zt(D),oe=(yield Li()).transaction(yi,"readwrite");yield oe.objectStore(yi).delete(F),yield oe.done})).apply(this,arguments)}function _r(D,F){return go.apply(this,arguments)}function go(){return(go=(0,Y.Z)(function*(D,F){const H=zt(D),be=(yield Li()).transaction(yi,"readwrite"),Ue=be.objectStore(yi),rt=yield Ue.get(H),Bt=F(rt);return void 0===Bt?yield Ue.delete(H):yield Ue.put(Bt,H),yield be.done,Bt&&(!rt||rt.fid!==Bt.fid)&&we(D,Bt.fid),Bt})).apply(this,arguments)}function fe(D){return le.apply(this,arguments)}function le(){return le=(0,Y.Z)(function*(D){let F;const H=yield _r(D.appConfig,oe=>{const be=function X(D){return Vt(D||{fid:Kt(),registrationStatus:0})}(oe),Ue=function te(D,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(St.create("app-offline"))};const H={fid:F.fid,registrationStatus:1,registrationTime:Date.now()},oe=function K(D,F){return Pe.apply(this,arguments)}(D,H);return{installationEntry:H,registrationPromise:oe}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:Qe(D)}:{installationEntry:F}}(D,be);return F=Ue.registrationPromise,Ue.installationEntry});return H.fid===sn?{installationEntry:yield F}:{installationEntry:H,registrationPromise:F}}),le.apply(this,arguments)}function Pe(){return Pe=(0,Y.Z)(function*(D,F){try{const H=yield function Ci(D,F){return Di.apply(this,arguments)}(D,F);return $n(D.appConfig,H)}catch(H){throw bt(H)&&409===H.customData.serverCode?yield mi(D.appConfig):yield $n(D.appConfig,{fid:F.fid,registrationStatus:0}),H}}),Pe.apply(this,arguments)}function Qe(D){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,Y.Z)(function*(D){let F=yield yn(D.appConfig);for(;1===F.registrationStatus;)yield ni(100),F=yield yn(D.appConfig);if(0===F.registrationStatus){const{installationEntry:H,registrationPromise:oe}=yield fe(D);return oe||H}return F})).apply(this,arguments)}function yn(D){return _r(D,F=>{if(!F)throw St.create("installation-not-found");return Vt(F)})}function Vt(D){return function Xn(D){return 1===D.registrationStatus&&D.registrationTime+rn<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function ai(){return(ai=(0,Y.Z)(function*({appConfig:D,heartbeatServiceProvider:F},H){const oe=function Rn(D,{fid:F}){return`${Tn(D)}/${F}/authTokens:generate`}(D,H),be=function On(D,{refreshToken:F}){const H=tn(D);return H.append("Authorization",function Vn(D){return`${Te} ${D}`}(F)),H}(D,H),Ue=F.getImmediate({optional:!0});if(Ue){const hn=yield Ue.getHeartbeatsHeader();hn&&be.append("x-firebase-client",hn)}const Bt={method:"POST",headers:be,body:JSON.stringify({installation:{sdkVersion:pi,appId:D.appId}})},Ft=yield Ut(()=>fetch(oe,Bt));if(Ft.ok)return dn(yield Ft.json());throw yield Nn("Generate Auth Token",Ft)})).apply(this,arguments)}function vr(D){return Yo.apply(this,arguments)}function Yo(){return Yo=(0,Y.Z)(function*(D,F=!1){let H;const oe=yield _r(D.appConfig,Ue=>{if(!Dn(Ue))throw St.create("not-registered");const rt=Ue.authToken;if(!F&&function ri(D){return 2===D.requestStatus&&!function Gi(D){const F=Date.now();return F<D.creationTime||D.creationTime+D.expiresIn<F+He}(D)}(rt))return Ue;if(1===rt.requestStatus)return H=function Je(D,F){return ze.apply(this,arguments)}(D,F),Ue;{if(!navigator.onLine)throw St.create("app-offline");const Bt=function Yi(D){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:F})}(Ue);return H=function Wt(D,F){return kt.apply(this,arguments)}(D,Bt),Bt}});return H?yield H:oe.authToken}),Yo.apply(this,arguments)}function ze(){return(ze=(0,Y.Z)(function*(D,F){let H=yield _t(D.appConfig);for(;1===H.authToken.requestStatus;)yield ni(100),H=yield _t(D.appConfig);const oe=H.authToken;return 0===oe.requestStatus?vr(D,F):oe})).apply(this,arguments)}function _t(D){return _r(D,F=>{if(!Dn(F))throw St.create("not-registered");return function er(D){return 1===D.requestStatus&&D.requestTime+rn<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function kt(){return kt=(0,Y.Z)(function*(D,F){try{const H=yield function xn(D,F){return ai.apply(this,arguments)}(D,F),oe=Object.assign(Object.assign({},F),{authToken:H});return yield $n(D.appConfig,oe),H}catch(H){if(!bt(H)||401!==H.customData.serverCode&&404!==H.customData.serverCode){const oe=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield $n(D.appConfig,oe)}else yield mi(D.appConfig);throw H}}),kt.apply(this,arguments)}function Dn(D){return void 0!==D&&2===D.registrationStatus}function _o(){return(_o=(0,Y.Z)(function*(D){const F=D,{installationEntry:H,registrationPromise:oe}=yield fe(F);return oe?oe.catch(console.error):vr(F).catch(console.error),H.fid})).apply(this,arguments)}function vo(){return vo=(0,Y.Z)(function*(D,F=!1){const H=D;return yield function us(D){return bs.apply(this,arguments)}(H),(yield vr(H,F)).token}),vo.apply(this,arguments)}function bs(){return(bs=(0,Y.Z)(function*(D){const{registrationPromise:F}=yield fe(D);F&&(yield F)})).apply(this,arguments)}function Us(D){return St.create("missing-app-config-values",{valueName:D})}const nc="installations",oa=D=>{const F=D.getProvider("app").getImmediate(),H=function $r(D){if(!D||!D.options)throw Us("App Configuration");if(!D.name)throw Us("App Name");const F=["projectId","apiKey","appId"];for(const H of F)if(!D.options[H])throw Us(H);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(F);return{app:F,appConfig:H,heartbeatServiceProvider:(0,pe._getProvider)(F,"heartbeat"),_delete:()=>Promise.resolve()}},Ec=D=>{const F=D.getProvider("app").getImmediate(),H=(0,pe._getProvider)(F,nc).getImmediate();return{getId:()=>function Ur(D){return _o.apply(this,arguments)}(H),getToken:be=>function Oa(D){return vo.apply(this,arguments)}(H,be)}};(function Mc(){(0,pe._registerComponent)(new ke.wA(nc,oa,"PUBLIC")),(0,pe._registerComponent)(new ke.wA("installations-internal",Ec,"PRIVATE"))})(),(0,pe.registerVersion)(nn,un),(0,pe.registerVersion)(nn,un,"esm2017");const Qo="@firebase/remote-config",yr=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class En{constructor(F,H,oe,be){this.client=F,this.storage=H,this.storageCache=oe,this.logger=be}isCachedDataFresh(F,H){if(!H)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const oe=Date.now()-H,be=oe<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${oe}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${be}.`),be}fetch(F){var H=this;return(0,Y.Z)(function*(){const[oe,be]=yield Promise.all([H.storage.getLastSuccessfulFetchTimestampMillis(),H.storage.getLastSuccessfulFetchResponse()]);if(be&&H.isCachedDataFresh(F.cacheMaxAgeMillis,oe))return be;F.eTag=be&&be.eTag;const Ue=yield H.client.fetch(F),rt=[H.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ue.status&&rt.push(H.storage.setLastSuccessfulFetchResponse(Ue)),yield Promise.all(rt),Ue})()}}function Mi(D=navigator){return D.languages&&D.languages[0]||D.language}class so{constructor(F,H,oe,be,Ue,rt){this.firebaseInstallations=F,this.sdkVersion=H,this.namespace=oe,this.projectId=be,this.apiKey=Ue,this.appId=rt}fetch(F){var H=this;return(0,Y.Z)(function*(){const[oe,be]=yield Promise.all([H.firebaseInstallations.getId(),H.firebaseInstallations.getToken()]),rt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${H.projectId}/namespaces/${H.namespace}:fetch?key=${H.apiKey}`,Bt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},Ft={sdk_version:H.sdkVersion,app_instance_id:oe,app_instance_id_token:be,app_id:H.appId,language_code:Mi()},hn={method:"POST",headers:Bt,body:JSON.stringify(Ft)},Un=fetch(rt,hn),Sn=new Promise((za,Fr)=>{F.signal.addEventListener(()=>{const bl=new Error("The operation was aborted.");bl.name="AbortError",Fr(bl)})});let ms;try{yield Promise.race([Un,Sn]),ms=yield Un}catch(za){let Fr="fetch-client-network";throw"AbortError"===za?.name&&(Fr="fetch-timeout"),yr.create(Fr,{originalErrorMessage:za?.message})}let Do=ms.status;const Xi=ms.headers.get("ETag")||void 0;let Ou,ja;if(200===ms.status){let za;try{za=yield ms.json()}catch(Fr){throw yr.create("fetch-client-parse",{originalErrorMessage:Fr?.message})}Ou=za.entries,ja=za.state}if("INSTANCE_STATE_UNSPECIFIED"===ja?Do=500:"NO_CHANGE"===ja?Do=304:("NO_TEMPLATE"===ja||"EMPTY_CONFIG"===ja)&&(Ou={}),304!==Do&&200!==Do)throw yr.create("fetch-status",{httpStatus:Do});return{status:Do,eTag:Xi,config:Ou}})()}}class Jo{constructor(F,H){this.client=F,this.storage=H}fetch(F){var H=this;return(0,Y.Z)(function*(){const oe=(yield H.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return H.attemptFetch(F,oe)})()}attemptFetch(F,{throttleEndTimeMillis:H,backoffCount:oe}){var be=this;return(0,Y.Z)(function*(){yield function Bs(D,F){return new Promise((H,oe)=>{const be=Math.max(F-Date.now(),0),Ue=setTimeout(H,be);D.addEventListener(()=>{clearTimeout(Ue),oe(yr.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,H);try{const Ue=yield be.client.fetch(F);return yield be.storage.deleteThrottleMetadata(),Ue}catch(Ue){if(!function qn(D){if(!(D instanceof ce.ZR&&D.customData))return!1;const F=Number(D.customData.httpStatus);return 429===F||500===F||503===F||504===F}(Ue))throw Ue;const rt={throttleEndTimeMillis:Date.now()+(0,ce.$s)(oe),backoffCount:oe+1};return yield be.storage.setThrottleMetadata(rt),be.attemptFetch(F,rt)}})()}}class Xo{constructor(F,H,oe,be,Ue){this.app=F,this._client=H,this._storageCache=oe,this._storage=be,this._logger=Ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function on(D,F){const H=D.target.error||void 0;return yr.create(F,{originalErrorMessage:H&&H?.message})}const qr="app_namespace_store";class Cs{constructor(F,H,oe,be=function xr(){return new Promise((D,F)=>{try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=oe=>{F(on(oe,"storage-open"))},H.onsuccess=oe=>{D(oe.target.result)},H.onupgradeneeded=oe=>{0===oe.oldVersion&&oe.target.result.createObjectStore(qr,{keyPath:"compositeKey"})}}catch(H){F(yr.create("storage-open",{originalErrorMessage:H?.message}))}})}()){this.appId=F,this.appName=H,this.namespace=oe,this.openDbPromise=be}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var H=this;return(0,Y.Z)(function*(){const oe=yield H.openDbPromise;return new Promise((be,Ue)=>{const Bt=oe.transaction([qr],"readonly").objectStore(qr),Ft=H.createCompositeKey(F);try{const hn=Bt.get(Ft);hn.onerror=Un=>{Ue(on(Un,"storage-get"))},hn.onsuccess=Un=>{const Sn=Un.target.result;be(Sn?Sn.value:void 0)}}catch(hn){Ue(yr.create("storage-get",{originalErrorMessage:hn?.message}))}})})()}set(F,H){var oe=this;return(0,Y.Z)(function*(){const be=yield oe.openDbPromise;return new Promise((Ue,rt)=>{const Ft=be.transaction([qr],"readwrite").objectStore(qr),hn=oe.createCompositeKey(F);try{const Un=Ft.put({compositeKey:hn,value:H});Un.onerror=Sn=>{rt(on(Sn,"storage-set"))},Un.onsuccess=()=>{Ue()}}catch(Un){rt(yr.create("storage-set",{originalErrorMessage:Un?.message}))}})})()}delete(F){var H=this;return(0,Y.Z)(function*(){const oe=yield H.openDbPromise;return new Promise((be,Ue)=>{const Bt=oe.transaction([qr],"readwrite").objectStore(qr),Ft=H.createCompositeKey(F);try{const hn=Bt.delete(Ft);hn.onerror=Un=>{Ue(on(Un,"storage-delete"))},hn.onsuccess=()=>{be()}}catch(hn){Ue(yr.create("storage-delete",{originalErrorMessage:hn?.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class Uo{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,Y.Z)(function*(){const H=F.storage.getLastFetchStatus(),oe=F.storage.getLastSuccessfulFetchTimestampMillis(),be=F.storage.getActiveConfig(),Ue=yield H;Ue&&(F.lastFetchStatus=Ue);const rt=yield oe;rt&&(F.lastSuccessfulFetchTimestampMillis=rt);const Bt=yield be;Bt&&(F.activeConfig=Bt)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function Pa(){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,Y.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function Er(){(0,pe._registerComponent)(new ke.wA("remote-config",function D(F,{instanceIdentifier:H}){const oe=F.getProvider("app").getImmediate(),be=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw yr.create("registration-window");if(!(0,ce.hl)())throw yr.create("indexed-db-unavailable");const{projectId:Ue,apiKey:rt,appId:Bt}=oe.options;if(!Ue)throw yr.create("registration-project-id");if(!rt)throw yr.create("registration-api-key");if(!Bt)throw yr.create("registration-app-id");const Ft=new Cs(Bt,oe.name,H=H||"firebase"),hn=new Uo(Ft),Un=new De.Yd(Qo);Un.logLevel=De.in.ERROR;const Sn=new so(be,pe.SDK_VERSION,H,Ue,rt,Bt),ms=new Jo(Sn,Ft),Do=new En(ms,Ft,hn,Un),Xi=new Xo(oe,Do,hn,Ft,Un);return function br(D){const F=(0,ce.m9)(D);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(Xi),Xi},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(Qo,"0.4.4"),(0,pe.registerVersion)(Qo,"0.4.4","esm2017")}();const Vo=(D,F)=>F.some(H=>D instanceof H);let Gr,ei;const Da=new WeakMap,Dr=new WeakMap,rr=new WeakMap,Zr=new WeakMap,da=new WeakMap;let Wr={get(D,F,H){if(D instanceof IDBTransaction){if("done"===F)return Dr.get(D);if("objectStoreNames"===F)return D.objectStoreNames||rr.get(D);if("store"===F)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return Yr(D[F])},set:(D,F,H)=>(D[F]=H,!0),has:(D,F)=>D instanceof IDBTransaction&&("done"===F||"store"===F)||F in D};function Ar(D){return"function"==typeof D?function cl(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function gu(){return ei||(ei=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...F){return D.apply(hi(this),F),Yr(Da.get(this))}:function(...F){return Yr(D.apply(hi(this),F))}:function(F,...H){const oe=D.call(hi(this),F,...H);return rr.set(oe,F.sort?F.sort():[F]),Yr(oe)}}(D):(D instanceof IDBTransaction&&function al(D){if(Dr.has(D))return;const F=new Promise((H,oe)=>{const be=()=>{D.removeEventListener("complete",Ue),D.removeEventListener("error",rt),D.removeEventListener("abort",rt)},Ue=()=>{H(),be()},rt=()=>{oe(D.error||new DOMException("AbortError","AbortError")),be()};D.addEventListener("complete",Ue),D.addEventListener("error",rt),D.addEventListener("abort",rt)});Dr.set(D,F)}(D),Vo(D,function Pc(){return Gr||(Gr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,Wr):D)}function Yr(D){if(D instanceof IDBRequest)return function Hi(D){const F=new Promise((H,oe)=>{const be=()=>{D.removeEventListener("success",Ue),D.removeEventListener("error",rt)},Ue=()=>{H(Yr(D.result)),be()},rt=()=>{oe(D.error),be()};D.addEventListener("success",Ue),D.addEventListener("error",rt)});return F.then(H=>{H instanceof IDBCursor&&Da.set(H,D)}).catch(()=>{}),da.set(F,D),F}(D);if(Zr.has(D))return Zr.get(D);const F=Ar(D);return F!==D&&(Zr.set(D,F),da.set(F,D)),F}const hi=D=>da.get(D);function ha(D,F,{blocked:H,upgrade:oe,blocking:be,terminated:Ue}={}){const rt=indexedDB.open(D,F),Bt=Yr(rt);return oe&&rt.addEventListener("upgradeneeded",Ft=>{oe(Yr(rt.result),Ft.oldVersion,Ft.newVersion,Yr(rt.transaction))}),H&&rt.addEventListener("blocked",()=>H()),Bt.then(Ft=>{Ue&&Ft.addEventListener("close",()=>Ue()),be&&Ft.addEventListener("versionchange",()=>be())}).catch(()=>{}),Bt}function oi(D,{blocked:F}={}){const H=indexedDB.deleteDatabase(D);return F&&H.addEventListener("blocked",()=>F()),Yr(H).then(()=>{})}const kr=["get","getKey","getAll","getAllKeys","count"],Ul=["put","add","delete","clear"],xs=new Map;function Dc(D,F){if(!(D instanceof IDBDatabase)||F in D||"string"!=typeof F)return;if(xs.get(F))return xs.get(F);const H=F.replace(/FromIndex$/,""),oe=F!==H,be=Ul.includes(H);if(!(H in(oe?IDBIndex:IDBObjectStore).prototype)||!be&&!kr.includes(H))return;const Ue=function(){var rt=(0,Y.Z)(function*(Bt,...Ft){const hn=this.transaction(Bt,be?"readwrite":"readonly");let Un=hn.store;return oe&&(Un=Un.index(Ft.shift())),(yield Promise.all([Un[H](...Ft),be&&hn.done]))[0]});return function(Ft){return rt.apply(this,arguments)}}();return xs.set(F,Ue),Ue}!function Ir(D){Wr=D(Wr)}(D=>({...D,get:(F,H,oe)=>Dc(F,H)||D.get(F,H,oe),has:(F,H)=>!!Dc(F,H)||D.has(F,H)}));const Aa="/firebase-messaging-sw.js",Ac="/firebase-cloud-messaging-push-scope",oc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Vl="https://fcmregistrations.googleapis.com/v1",gi="google.c.a.c_id",_u="google.c.a.c_l",kc="google.c.a.ts";var sc=function(D){return D.PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",D}(sc||{});function wo(D){const F=new Uint8Array(D);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ac(D){const H=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),oe=atob(H),be=new Uint8Array(oe.length);for(let Ue=0;Ue<oe.length;++Ue)be[Ue]=oe.charCodeAt(Ue);return be}const fa="fcm_token_details_db",Es=5,Bl="fcm_token_object_Store";function Rr(){return Rr=(0,Y.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ue=>Ue.name).includes(fa))return null;let F=null;return(yield ha(fa,Es,{upgrade:(oe=(0,Y.Z)(function*(be,Ue,rt,Bt){var Ft;if(Ue<2||!be.objectStoreNames.contains(Bl))return;const hn=Bt.objectStore(Bl),Un=yield hn.index("fcmSenderId").get(D);if(yield hn.clear(),Un)if(2===Ue){const Sn=Un;if(!Sn.auth||!Sn.p256dh||!Sn.endpoint)return;F={token:Sn.fcmToken,createTime:null!==(Ft=Sn.createTime)&&void 0!==Ft?Ft:Date.now(),subscriptionOptions:{auth:Sn.auth,p256dh:Sn.p256dh,endpoint:Sn.endpoint,swScope:Sn.swScope,vapidKey:"string"==typeof Sn.vapidKey?Sn.vapidKey:wo(Sn.vapidKey)}}}else if(3===Ue){const Sn=Un;F={token:Sn.fcmToken,createTime:Sn.createTime,subscriptionOptions:{auth:wo(Sn.auth),p256dh:wo(Sn.p256dh),endpoint:Sn.endpoint,swScope:Sn.swScope,vapidKey:wo(Sn.vapidKey)}}}else if(4===Ue){const Sn=Un;F={token:Sn.fcmToken,createTime:Sn.createTime,subscriptionOptions:{auth:wo(Sn.auth),p256dh:wo(Sn.p256dh),endpoint:Sn.endpoint,swScope:Sn.swScope,vapidKey:wo(Sn.vapidKey)}}}}),function(Ue,rt,Bt,Ft){return oe.apply(this,arguments)})})).close(),yield oi(fa),yield oi("fcm_vapid_details_db"),yield oi("undefined"),function js(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:F}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}(F)?F:null;var oe}),Rr.apply(this,arguments)}const pa="firebase-messaging-database",Rc=1,jo="firebase-messaging-store";let ur=null;function ka(){return ur||(ur=ha(pa,Rc,{upgrade:(D,F)=>{0===F&&D.createObjectStore(jo)}})),ur}function Kr(D){return Nc.apply(this,arguments)}function Nc(){return Nc=(0,Y.Z)(function*(D){const F=ma(D),oe=yield(yield ka()).transaction(jo).objectStore(jo).get(F);if(oe)return oe;{const be=yield function vu(D){return Rr.apply(this,arguments)}(D.appConfig.senderId);if(be)return yield Co(D,be),be}}),Nc.apply(this,arguments)}function Co(D,F){return cc.apply(this,arguments)}function cc(){return(cc=(0,Y.Z)(function*(D,F){const H=ma(D),be=(yield ka()).transaction(jo,"readwrite");return yield be.objectStore(jo).put(F,H),yield be.done,F})).apply(this,arguments)}function zs(){return(zs=(0,Y.Z)(function*(D){const F=ma(D),oe=(yield ka()).transaction(jo,"readwrite");yield oe.objectStore(jo).delete(F),yield oe.done})).apply(this,arguments)}function ma({appConfig:D}){return D.appId}const bi=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zo(D,F){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,Y.Z)(function*(D,F){const H=yield Lc(D),oe=Na(F),be={method:"POST",headers:H,body:JSON.stringify(oe)};let Ue;try{Ue=yield(yield fetch(Hs(D.appConfig),be)).json()}catch(rt){throw bi.create("token-subscribe-failed",{errorInfo:rt?.toString()})}if(Ue.error)throw bi.create("token-subscribe-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw bi.create("token-subscribe-no-token");return Ue.token})).apply(this,arguments)}function es(){return(es=(0,Y.Z)(function*(D,F){const H=yield Lc(D),oe=Na(F.subscriptionOptions),be={method:"PATCH",headers:H,body:JSON.stringify(oe)};let Ue;try{Ue=yield(yield fetch(`${Hs(D.appConfig)}/${F.token}`,be)).json()}catch(rt){throw bi.create("token-update-failed",{errorInfo:rt?.toString()})}if(Ue.error)throw bi.create("token-update-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw bi.create("token-update-no-token");return Ue.token})).apply(this,arguments)}function Fc(D,F){return xo.apply(this,arguments)}function xo(){return(xo=(0,Y.Z)(function*(D,F){const oe={method:"DELETE",headers:yield Lc(D)};try{const Ue=yield(yield fetch(`${Hs(D.appConfig)}/${F}`,oe)).json();if(Ue.error)throw bi.create("token-unsubscribe-failed",{errorInfo:Ue.error.message})}catch(be){throw bi.create("token-unsubscribe-failed",{errorInfo:be?.toString()})}})).apply(this,arguments)}function Hs({projectId:D}){return`${Vl}/projects/${D}/registrations`}function Lc(D){return ed.apply(this,arguments)}function ed(){return(ed=(0,Y.Z)(function*({appConfig:D,installations:F}){const H=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${H}`})})).apply(this,arguments)}function Na({p256dh:D,auth:F,endpoint:H,vapidKey:oe}){const be={web:{endpoint:H,auth:F,p256dh:D}};return oe!==oc&&(be.web.applicationPubKey=oe),be}const C=6048e5;function j(){return j=(0,Y.Z)(function*(D){const F=yield function dr(D,F){return Eo.apply(this,arguments)}(D.swRegistration,D.vapidKey),H={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:F.endpoint,auth:wo(F.getKey("auth")),p256dh:wo(F.getKey("p256dh"))},oe=yield Kr(D.firebaseDependencies);if(oe){if(function ts(D,F){return F.vapidKey===D.vapidKey&&F.endpoint===D.endpoint&&F.auth===D.auth&&F.p256dh===D.p256dh}(oe.subscriptionOptions,H))return Date.now()>=oe.createTime+C?function Ke(D,F){return Rt.apply(this,arguments)}(D,{token:oe.token,createTime:Date.now(),subscriptionOptions:H}):oe.token;try{yield Fc(D.firebaseDependencies,oe.token)}catch(be){console.warn(be)}return Gn(D.firebaseDependencies,H)}return Gn(D.firebaseDependencies,H)}),j.apply(this,arguments)}function ve(){return ve=(0,Y.Z)(function*(D){const F=yield Kr(D.firebaseDependencies);F&&(yield Fc(D.firebaseDependencies,F.token),yield function jl(D){return zs.apply(this,arguments)}(D.firebaseDependencies));const H=yield D.swRegistration.pushManager.getSubscription();return!H||H.unsubscribe()}),ve.apply(this,arguments)}function Rt(){return Rt=(0,Y.Z)(function*(D,F){try{const H=yield function Mt(D,F){return es.apply(this,arguments)}(D.firebaseDependencies,F),oe=Object.assign(Object.assign({},F),{token:H,createTime:Date.now()});return yield Co(D.firebaseDependencies,oe),H}catch(H){throw yield function ee(D){return ve.apply(this,arguments)}(D),H}}),Rt.apply(this,arguments)}function Gn(D,F){return ti.apply(this,arguments)}function ti(){return(ti=(0,Y.Z)(function*(D,F){const oe={token:yield zo(D,F),createTime:Date.now(),subscriptionOptions:F};return yield Co(D,oe),oe.token})).apply(this,arguments)}function Eo(){return(Eo=(0,Y.Z)(function*(D,F){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ac(F)})})).apply(this,arguments)}function Uc(D){const F={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function $s(D,F){if(!F.notification)return;D.notification={};const H=F.notification.title;H&&(D.notification.title=H);const oe=F.notification.body;oe&&(D.notification.body=oe);const be=F.notification.image;be&&(D.notification.image=be);const Ue=F.notification.icon;Ue&&(D.notification.icon=Ue)}(F,D),function ul(D,F){F.data&&(D.data=F.data)}(F,D),function Mo(D,F){var H,oe,be,Ue,rt;if(!(F.fcmOptions||null!==(H=F.notification)&&void 0!==H&&H.click_action))return;D.fcmOptions={};const Bt=null!==(be=null===(oe=F.fcmOptions)||void 0===oe?void 0:oe.link)&&void 0!==be?be:null===(Ue=F.notification)||void 0===Ue?void 0:Ue.click_action;Bt&&(D.fcmOptions.link=Bt);const Ft=null===(rt=F.fcmOptions)||void 0===rt?void 0:rt.analytics_label;Ft&&(D.fcmOptions.analyticsLabel=Ft)}(F,D),F}function td(D,F){const H=[];for(let oe=0;oe<D.length;oe++)H.push(D.charAt(oe)),oe<F.length&&H.push(F.charAt(oe));return H.join("")}function yu(D){return bi.create("missing-app-config-values",{valueName:D})}td("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),td("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Gh{constructor(F,H,oe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const be=function qh(D){if(!D||!D.options)throw yu("App Configuration Object");if(!D.name)throw yu("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:H}=D;for(const oe of F)if(!H[oe])throw yu(oe);return{appName:D.name,projectId:H.projectId,apiKey:H.apiKey,appId:H.appId,senderId:H.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:be,installations:H,analyticsProvider:oe}}_delete(){return Promise.resolve()}}function Hl(){return(Hl=(0,Y.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Aa,{scope:Ac}),D.swRegistration.update().catch(()=>{})}catch(F){throw bi.create("failed-service-worker-registration",{browserErrorMessage:F?.message})}})).apply(this,arguments)}function Ms(){return(Ms=(0,Y.Z)(function*(D,F){if(!F&&!D.swRegistration&&(yield function zl(D){return Hl.apply(this,arguments)}(D)),F||!D.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw bi.create("invalid-sw-registration");D.swRegistration=F}})).apply(this,arguments)}function dl(){return(dl=(0,Y.Z)(function*(D,F){F?D.vapidKey=F:D.vapidKey||(D.vapidKey=oc)})).apply(this,arguments)}function bu(){return bu=(0,Y.Z)(function*(D,F){if(!navigator)throw bi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw bi.create("permission-blocked");return yield function Vc(D,F){return dl.apply(this,arguments)}(D,F?.vapidKey),yield function nd(D,F){return Ms.apply(this,arguments)}(D,F?.serviceWorkerRegistration),function N(D){return j.apply(this,arguments)}(D)}),bu.apply(this,arguments)}function Is(){return(Is=(0,Y.Z)(function*(D,F,H){const oe=function th(D){switch(D){case sc.NOTIFICATION_CLICKED:return"notification_open";case sc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(F);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(oe,{message_id:H[gi],message_name:H[_u],message_time:H[kc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ti(){return Ti=(0,Y.Z)(function*(D,F){const H=F.data;if(!H.isFirebaseMessaging)return;D.onMessageHandler&&H.messageType===sc.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Uc(H)):D.onMessageHandler.next(Uc(H)));const oe=H.data;(function Io(D){return"object"==typeof D&&!!D&&gi in D})(oe)&&"1"===oe["google.c.a.e"]&&(yield function Xf(D,F,H){return Is.apply(this,arguments)}(D,H.messageType,oe))}),Ti.apply(this,arguments)}const hl="@firebase/messaging",Ho=D=>{const F=new Gh(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",H=>function wu(D,F){return Ti.apply(this,arguments)}(F,H)),F},Qr=D=>{const F=D.getProvider("messaging").getImmediate();return{getToken:oe=>function id(D,F){return bu.apply(this,arguments)}(F,oe)}};function fl(){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,Y.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function nh(){(0,pe._registerComponent)(new ke.wA("messaging",Ho,"PUBLIC")),(0,pe._registerComponent)(new ke.wA("messaging-internal",Qr,"PRIVATE")),(0,pe.registerVersion)(hl,"0.12.4"),(0,pe.registerVersion)(hl,"0.12.4","esm2017")}();const lc="analytics",Cu="firebase_id",Mn="origin",jc=6e4,ep="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rd="https://www.googletagmanager.com/gtag/js",Br=new De.Yd("@firebase/analytics"),Wi=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ts(D){if(!D.startsWith(rd)){const F=Wi.create("invalid-gtag-resource",{gtagURL:D});return Br.warn(F.message),""}return D}function zc(D){return Promise.all(D.map(F=>F.catch(H=>H)))}function pt(){return(pt=(0,Y.Z)(function*(D,F,H,oe,be,Ue){const rt=oe[be];try{if(rt)yield F[rt];else{const Ft=(yield zc(H)).find(hn=>hn.measurementId===be);Ft&&(yield F[Ft.appId])}}catch(Bt){Br.error(Bt)}D("config",be,Ue)})).apply(this,arguments)}function Os(){return(Os=(0,Y.Z)(function*(D,F,H,oe,be){try{let Ue=[];if(be&&be.send_to){let rt=be.send_to;Array.isArray(rt)||(rt=[rt]);const Bt=yield zc(H);for(const Ft of rt){const hn=Bt.find(Sn=>Sn.measurementId===Ft),Un=hn&&F[hn.appId];if(!Un){Ue=[];break}Ue.push(Un)}}0===Ue.length&&(Ue=Object.values(F)),yield Promise.all(Ue),D("event",oe,be||{})}catch(Ue){Br.error(Ue)}})).apply(this,arguments)}const Oo=30,ao=new class Qi{constructor(F={},H=1e3){this.throttleMetadata=F,this.intervalMillis=H}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,H){this.throttleMetadata[F]=H}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function np(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function or(){return(or=(0,Y.Z)(function*(D){var F;const{appId:H,apiKey:oe}=D,be={method:"GET",headers:np(oe)},Ue=ep.replace("{app-id}",H),rt=yield fetch(Ue,be);if(200!==rt.status&&304!==rt.status){let Bt="";try{const Ft=yield rt.json();null!==(F=Ft.error)&&void 0!==F&&F.message&&(Bt=Ft.error.message)}catch{}throw Wi.create("config-fetch-failed",{httpStatus:rt.status,responseMessage:Bt})}return rt.json()})).apply(this,arguments)}function hr(){return(hr=(0,Y.Z)(function*(D,F=ao,H){const{appId:oe,apiKey:be,measurementId:Ue}=D.options;if(!oe)throw Wi.create("no-app-id");if(!be){if(Ue)return{measurementId:Ue,appId:oe};throw Wi.create("no-api-key")}const rt=F.getThrottleMetadata(oe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Bt=new ga;return setTimeout((0,Y.Z)(function*(){Bt.abort()}),void 0!==H?H:jc),co({appId:oe,apiKey:be,measurementId:Ue},rt,Bt,F)})).apply(this,arguments)}function co(D,F,H){return Jr.apply(this,arguments)}function Jr(){return Jr=(0,Y.Z)(function*(D,{throttleEndTimeMillis:F,backoffCount:H},oe,be=ao){var Ue;const{appId:rt,measurementId:Bt}=D;try{yield function Xr(D,F){return new Promise((H,oe)=>{const be=Math.max(F-Date.now(),0),Ue=setTimeout(H,be);D.addEventListener(()=>{clearTimeout(Ue),oe(Wi.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(oe,F)}catch(Ft){if(Bt)return Br.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bt} provided in the "measurementId" field in the local Firebase config. [${Ft?.message}]`),{appId:rt,measurementId:Bt};throw Ft}try{const Ft=yield function s_(D){return or.apply(this,arguments)}(D);return be.deleteThrottleMetadata(rt),Ft}catch(Ft){const hn=Ft;if(!function Yh(D){if(!(D instanceof ce.ZR&&D.customData))return!1;const F=Number(D.customData.httpStatus);return 429===F||500===F||503===F||504===F}(hn)){if(be.deleteThrottleMetadata(rt),Bt)return Br.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bt} provided in the "measurementId" field in the local Firebase config. [${hn?.message}]`),{appId:rt,measurementId:Bt};throw Ft}const Un=503===Number(null===(Ue=hn?.customData)||void 0===Ue?void 0:Ue.httpStatus)?(0,ce.$s)(H,be.intervalMillis,Oo):(0,ce.$s)(H,be.intervalMillis),Sn={throttleEndTimeMillis:Date.now()+Un,backoffCount:H+1};return be.setThrottleMetadata(rt,Sn),Br.debug(`Calling attemptFetch again in ${Un} millis`),co(D,Sn,oe,be)}}),Jr.apply(this,arguments)}class ga{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}let sd,hc;function Eu(){return(Eu=(0,Y.Z)(function*(D,F,H,oe,be){if(be&&be.global)D("event",H,oe);else{const Ue=yield F;D("event",H,Object.assign(Object.assign({},oe),{send_to:Ue}))}})).apply(this,arguments)}function _a(){return(_a=(0,Y.Z)(function*(){if(!(0,ce.hl)())return Br.warn(Wi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(D){return Br.warn(Wi.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function va(){return va=(0,Y.Z)(function*(D,F,H,oe,be,Ue,rt){var Bt;const Ft=function Ji(D){return hr.apply(this,arguments)}(D);Ft.then(Do=>{H[Do.measurementId]=Do.appId,D.options.measurementId&&Do.measurementId!==D.options.measurementId&&Br.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Do.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Do=>Br.error(Do)),F.push(Ft);const hn=function ns(){return _a.apply(this,arguments)}().then(Do=>{if(Do)return oe.getId()}),[Un,Sn]=yield Promise.all([Ft,hn]);(function od(D){const F=window.document.getElementsByTagName("script");for(const H of Object.values(F))if(H.src&&H.src.includes(rd)&&H.src.includes(D))return H;return null})(Ue)||function tp(D,F){const H=function sh(D,F){let H;return window.trustedTypes&&(H=window.trustedTypes.createPolicy(D,F)),H}("firebase-js-sdk-policy",{createScriptURL:Ts}),oe=document.createElement("script"),be=`${rd}?l=${D}&id=${F}`;oe.src=H?H?.createScriptURL(be):be,oe.async=!0,document.head.appendChild(oe)}(Ue,Un.measurementId),hc&&(be("consent","default",hc),function fc(D){hc=D}(void 0)),be("js",new Date);const ms=null!==(Bt=rt?.config)&&void 0!==Bt?Bt:{};return ms[Mn]="firebase",ms.update=!0,null!=Sn&&(ms[Cu]=Sn),be("config",Un.measurementId,ms),sd&&(be("set",sd),function Gl(D){sd=D}(void 0)),Un.measurementId}),va.apply(this,arguments)}class uh{constructor(F){this.app=F}_delete(){return delete hs[this.app.options.appId],Promise.resolve()}}let hs={},zn=[];const ar={};let pc,li,Po="dataLayer",Ua=!1;function Nr(D,F,H){!function Hc(){const D=[];if((0,ce.ru)()&&D.push("This is a browser extension environment."),(0,ce.zI)()||D.push("Cookies are not available."),D.length>0){const F=D.map((oe,be)=>`(${be+1}) ${oe}`).join(" "),H=Wi.create("invalid-analytics-context",{errorInfo:F});Br.warn(H.message)}}();const oe=D.options.appId;if(!oe)throw Wi.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Wi.create("no-api-key");Br.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=hs[oe])throw Wi.create("already-exists",{id:oe});if(!Ua){!function ah(D){let F=[];Array.isArray(window[D])?F=window[D]:window[D]=F}(Po);const{wrappedGtag:Ue,gtagCore:rt}=function To(D,F,H,oe,be){let Ue=function(...rt){window[oe].push(arguments)};return window[be]&&"function"==typeof window[be]&&(Ue=window[be]),window[be]=function xu(D,F,H,oe){function Ue(){return Ue=(0,Y.Z)(function*(rt,...Bt){try{if("event"===rt){const[Ft,hn]=Bt;yield function ii(D,F,H,oe,be){return Os.apply(this,arguments)}(D,F,H,Ft,hn)}else if("config"===rt){const[Ft,hn]=Bt;yield function uc(D,F,H,oe,be,Ue){return pt.apply(this,arguments)}(D,F,H,oe,Ft,hn)}else if("consent"===rt){const[Ft]=Bt;D("consent","update",Ft)}else if("get"===rt){const[Ft,hn,Un]=Bt;D("get",Ft,hn,Un)}else if("set"===rt){const[Ft]=Bt;D("set",Ft)}else D(rt,...Bt)}catch(Ft){Br.error(Ft)}}),Ue.apply(this,arguments)}return function be(rt){return Ue.apply(this,arguments)}}(Ue,D,F,H),{gtagCore:Ue,wrappedGtag:window[be]}}(hs,zn,ar,Po,"gtag");li=Ue,pc=rt,Ua=!0}return hs[oe]=function sr(D,F,H,oe,be,Ue,rt){return va.apply(this,arguments)}(D,zn,ar,F,pc,Po,H),new uh(D)}function ip(){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,Y.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const $c="@firebase/analytics";!function dd(){(0,pe._registerComponent)(new ke.wA(lc,(F,{options:H})=>Nr(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),H),"PUBLIC")),(0,pe._registerComponent)(new ke.wA("analytics-internal",function D(F){try{const H=F.getProvider(lc).getImmediate();return{logEvent:(oe,be,Ue)=>function Kh(D,F,H,oe){D=(0,ce.m9)(D),function ym(D,F,H,oe,be){return Eu.apply(this,arguments)}(li,hs[D.app.options.appId],F,H,oe).catch(be=>Br.error(be))}(H,oe,be,Ue)}}catch(H){throw Wi.create("interop-component-reg-failed",{reason:H})}},"PRIVATE")),(0,pe.registerVersion)($c,"0.10.0"),(0,pe.registerVersion)($c,"0.10.0","esm2017")}();var _l=Q(1954),fs=Q(2631);const Jh=new class Qh extends fs.v{}(class Iu extends _l.o{constructor(F,H){super(F,H),this.scheduler=F,this.work=H}schedule(F,H=0){return H>0?super.schedule(F,H):(this.delay=H,this.state=F,this.scheduler.flush(this),this)}execute(F,H){return H>0||this.closed?super.execute(F,H):this._execute(F,H)}requestAsyncId(F,H,oe=0){return null!=oe&&oe>0||null==oe&&this.delay>0?super.requestAsyncId(F,H,oe):(F.flush(this),0)}});var Xh=Q(6321),$o=Q(5592),hd=Q(9397),Gs=Q(5137),Yl=Q(3093);const Tu=new o.GfV("7.6.1"),Kl="__angularfire_symbol__analyticsIsSupportedValue",Ql="__angularfire_symbol__analyticsIsSupported",fd="__angularfire_symbol__remoteConfigIsSupportedValue",Jl="__angularfire_symbol__remoteConfigIsSupported",Xl="__angularfire_symbol__messagingIsSupportedValue",Zs="__angularfire_symbol__messagingIsSupported";function fh(D,F,H){if(F){if(1===F.length)return F[0];const Ue=F.filter(rt=>rt.app===H);if(1===Ue.length)return Ue[0]}return H.container.getProvider(D).getImmediate({optional:!0})}globalThis[Ql]||(globalThis[Ql]=ip().then(D=>globalThis[Kl]=D).catch(()=>globalThis[Kl]=!1)),globalThis[Zs]||(globalThis[Zs]=fl().then(D=>globalThis[Xl]=D).catch(()=>globalThis[Xl]=!1)),globalThis[Jl]||(globalThis[Jl]=Pa().then(D=>globalThis[fd]=D).catch(()=>globalThis[fd]=!1));const ph=(D,F)=>{const H=F?[F]:(0,U.C6)(),oe=[];return H.forEach(be=>{be.container.getProvider(D).instances.forEach(rt=>{oe.includes(rt)||oe.push(rt)})}),oe};function vl(){}class is{constructor(F,H=Jh){this.zone=F,this.delegate=H}now(){return this.delegate.now()}schedule(F,H,oe){const be=this.zone;return this.delegate.schedule(function(rt){be.runGuarded(()=>{F.apply(this,[rt])})},H,oe)}}class Gc{constructor(F){this.zone=F,this.task=null}call(F,H){const oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vl,{},vl,vl)),H.pipe((0,hd.b)({next:oe,complete:oe,error:oe})).subscribe(F).add(oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ri=(()=>{class D{constructor(H){this.ngZone=H,this.outsideAngular=H.runOutsideAngular(()=>new is(Zone.current)),this.insideAngular=H.run(()=>new is(Zone.current,Xh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(H){return new(H||D)(o.LFG(o.R0b))},D.\u0275prov=o.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function mc(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Oi(D){return mc().ngZone.run(()=>D())}function ps(D){return mc(),function yl(D){return function(H){return(H=H.lift(new Gc(D.ngZone))).pipe((0,Gs.R)(D.outsideAngular),(0,Yl.Q)(D.insideAngular))}}(mc())(D)}const Ba=(D,F)=>function(){const oe=arguments;return F&&setTimeout(()=>{"scheduled"===F.state&&F.invoke()},10),Oi(()=>D.apply(void 0,oe))},Zc=(D,F)=>function(){let H;const oe=arguments;for(let Ue=0;Ue<arguments.length;Ue++)"function"==typeof oe[Ue]&&(F&&(H||(H=Oi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vl,{},vl,vl)))),oe[Ue]=Ba(oe[Ue],H));const be=function md(D){return mc().ngZone.runOutsideAngular(()=>D())}(()=>D.apply(this,oe));if(!F){if(be instanceof $o.y){const Ue=mc();return be.pipe((0,Gs.R)(Ue.outsideAngular),(0,Yl.Q)(Ue.insideAngular))}return Oi(()=>be)}return be instanceof $o.y?be.pipe(ps):be instanceof Promise?Oi(()=>new Promise((Ue,rt)=>be.then(Bt=>Oi(()=>Ue(Bt)),Bt=>Oi(()=>rt(Bt))))):"function"==typeof be&&H?function(){return setTimeout(()=>{H&&"scheduled"===H.state&&H.invoke()},10),be.apply(this,arguments)}:Oi(()=>be)}},6710:(en,Se,Q)=>{Q.d(Se,{$:()=>Aa,A:()=>G,D:()=>me,I:()=>tc,J:()=>oa,L:()=>Et,N:()=>_r,P:()=>sr,Q:()=>Cs,R:()=>ml,U:()=>ua,V:()=>Pa,W:()=>Vi,X:()=>Mr,Y:()=>Pc,Z:()=>gu,_:()=>da,a:()=>qs,a0:()=>oc,a1:()=>gi,a2:()=>eh,a3:()=>Bl,a4:()=>Rr,a5:()=>pa,a6:()=>jo,a7:()=>ka,a8:()=>Nc,a9:()=>cc,aA:()=>ue,aB:()=>Ql,aC:()=>mi,aD:()=>go,aE:()=>hd,aF:()=>Wl,aG:()=>ud,aH:()=>Ai,aL:()=>Bc,aO:()=>Gr,aa:()=>jl,ab:()=>ma,ac:()=>ll,ad:()=>Mt,ae:()=>Fc,af:()=>Hs,ai:()=>C,aj:()=>j,ak:()=>ee,an:()=>cl,ao:()=>$s,aq:()=>dl,ar:()=>hl,as:()=>Le,at:()=>Vt,au:()=>Qe,av:()=>xe,aw:()=>Sn,ax:()=>Zs,ay:()=>Xn,az:()=>nt,b:()=>ih,c:()=>li,d:()=>Nr,e:()=>jr,f:()=>$c,g:()=>Qh,h:()=>_l,i:()=>So,j:()=>Xh,k:()=>ja,l:()=>ds,m:()=>bl,o:()=>tf,p:()=>ut,r:()=>dc,s:()=>ql,u:()=>ns,v:()=>Io,x:()=>qh});var o=Q(5861),U=Q(9058),Y=Q(534),pe=Q(7582),ce=Q(7879),ke=Q(4537);const ut={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const me=function de(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},lt=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},st=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Re=new ce.Yd("@firebase/auth");function We(S,...w){Re.logLevel<=ce.in.ERROR&&Re.error(`Auth (${Y.SDK_VERSION}): ${S}`,...w)}function xe(S,...w){throw he(S,...w)}function nt(S,...w){return he(S,...w)}function $e(S,w,M){const A=Object.assign(Object.assign({},lt()),{[w]:M});return new U.LL("auth","Firebase",A).create(w,{appName:S.name})}function it(S,w,M){if(!(w instanceof M))throw M.name!==w.constructor.name&&xe(S,"argument-error"),$e(S,"argument-error",`Type of ${w.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function he(S,...w){if("string"!=typeof S){const M=w[0],A=[...w.slice(1)];return A[0]&&(A[0].appName=S.name),S._errorFactory.create(M,...A)}return st.create(S,...w)}function ue(S,w,...M){if(!S)throw he(w,...M)}function Ge(S){const w="INTERNAL ASSERTION FAILED: "+S;throw We(w),new Error(w)}function Le(S,w){S||Ge(w)}function Ct(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.href)||""}function ot(){return"http:"===Yt()||"https:"===Yt()}function Yt(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.protocol)||null}class rn{constructor(w,M){this.shortDelay=w,this.longDelay=M,Le(M>w,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function nn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ot()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pi(S,w){Le(S.emulator,"Emulator should always be set here");const{url:M}=S.emulator;return w?`${M}${w.startsWith("/")?w.slice(1):w}`:M}class Te{static initialize(w,M,A){this.fetchImpl=w,M&&(this.headersImpl=M),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},He=new rn(3e4,6e4);function je(S,w){return S.tenantId&&!w.tenantId?Object.assign(Object.assign({},w),{tenantId:S.tenantId}):w}function ct(S,w,M,A){return gt.apply(this,arguments)}function gt(){return(gt=(0,o.Z)(function*(S,w,M,A,$={}){return St(S,$,(0,o.Z)(function*(){let J={},Oe={};A&&("GET"===w?Oe=A:J={body:JSON.stringify(A)});const Xe=(0,U.xO)(Object.assign({key:S.config.apiKey},Oe)).slice(1),At=yield S._getAdditionalHeaders();return At["Content-Type"]="application/json",S.languageCode&&(At["X-Firebase-Locale"]=S.languageCode),Te.fetch()(Nn(S,S.config.apiHost,M,Xe),Object.assign({method:w,headers:At,referrerPolicy:"no-referrer"},J))}))})).apply(this,arguments)}function St(S,w,M){return bt.apply(this,arguments)}function bt(){return(bt=(0,o.Z)(function*(S,w,M){S._canInitEmulator=!1;const A=Object.assign(Object.assign({},Ce),w);try{const $=new fn(S),J=yield Promise.race([M(),$.promise]);$.clearNetworkTimeout();const Oe=yield J.json();if("needConfirmation"in Oe)throw tn(S,"account-exists-with-different-credential",Oe);if(J.ok&&!("errorMessage"in Oe))return Oe;{const Xe=J.ok?Oe.errorMessage:Oe.error.message,[At,Nt]=Xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===At)throw tn(S,"credential-already-in-use",Oe);if("EMAIL_EXISTS"===At)throw tn(S,"email-already-in-use",Oe);if("USER_DISABLED"===At)throw tn(S,"user-disabled",Oe);const pn=A[At]||At.toLowerCase().replace(/[_\s]+/g,"-");if(Nt)throw $e(S,pn,Nt);xe(S,pn)}}catch($){if($ instanceof U.ZR)throw $;xe(S,"network-request-failed",{message:String($)})}})).apply(this,arguments)}function Tn(S,w,M,A){return dn.apply(this,arguments)}function dn(){return(dn=(0,o.Z)(function*(S,w,M,A,$={}){const J=yield ct(S,w,M,A,$);return"mfaPendingCredential"in J&&xe(S,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function Nn(S,w,M,A){const $=`${w}${M}?${A}`;return S.config.emulator?pi(S.config,$):`${S.config.apiScheme}://${$}`}class fn{constructor(w){this.auth=w,this.timer=null,this.promise=new Promise((M,A)=>{this.timer=setTimeout(()=>A(nt(this.auth,"network-request-failed")),He.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tn(S,w,M){const A={appName:S.name};M.email&&(A.email=M.email),M.phoneNumber&&(A.phoneNumber=M.phoneNumber);const $=nt(S,w,A);return $.customData._tokenResponse=M,$}function Ut(){return(Ut=(0,o.Z)(function*(S,w){return ct(S,"POST","/v1/accounts:delete",w)})).apply(this,arguments)}function Fn(){return(Fn=(0,o.Z)(function*(S,w){return ct(S,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function Ci(){return(Ci=(0,o.Z)(function*(S,w){return ct(S,"POST","/v1/accounts:lookup",w)})).apply(this,arguments)}function Di(S){if(S)try{const w=new Date(Number(S));if(!isNaN(w.getTime()))return w.toUTCString()}catch{}}function No(){return(No=(0,o.Z)(function*(S,w=!1){const M=(0,U.m9)(S),A=yield M.getIdToken(w),$=Kt(A);ue($&&$.exp&&$.auth_time&&$.iat,M.auth,"internal-error");const J="object"==typeof $.firebase?$.firebase:void 0,Oe=J?.sign_in_provider;return{claims:$,token:A,authTime:Di(sn($.auth_time)),issuedAtTime:Di(sn($.iat)),expirationTime:Di(sn($.exp)),signInProvider:Oe||null,signInSecondFactor:J?.sign_in_second_factor||null}})).apply(this,arguments)}function sn(S){return 1e3*Number(S)}function Kt(S){const[w,M,A]=S.split(".");if(void 0===w||void 0===M||void 0===A)return We("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,U.tV)(M);return $?JSON.parse($):(We("Failed to decode base64 JWT payload"),null)}catch($){return We("Caught error parsing JWT payload as JSON",$?.toString()),null}}function zt(S,w){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,o.Z)(function*(S,w,M=!1){if(M)return w;try{return yield w}catch(A){throw A instanceof U.ZR&&function we({code:S}){return"auth/user-disabled"===S||"auth/user-token-expired"===S}(A)&&S.auth.currentUser===S&&(yield S.auth.signOut()),A}})).apply(this,arguments)}class Ee{constructor(w){this.user=w,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(w){var M;if(w){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const $=(null!==(M=this.user.stsTokenManager.expirationTime)&&void 0!==M?M:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(w=!1){var M=this;if(!this.isRunning)return;const A=this.getInterval(w);this.timerId=setTimeout((0,o.Z)(function*(){yield M.iteration()}),A)}iteration(){var w=this;return(0,o.Z)(function*(){try{yield w.user.getIdToken(!0)}catch(M){return void("auth/network-request-failed"===M?.code&&w.schedule(!0))}w.schedule()})()}}class qe{constructor(w,M){this.createdAt=w,this.lastLoginAt=M,this._initializeTime()}_initializeTime(){this.lastSignInTime=Di(this.lastLoginAt),this.creationTime=Di(this.createdAt)}_copy(w){this.createdAt=w.createdAt,this.lastLoginAt=w.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fe(S){return xt.apply(this,arguments)}function xt(){return xt=(0,o.Z)(function*(S){var w;const M=S.auth,A=yield S.getIdToken(),$=yield zt(S,function Vn(S,w){return Ci.apply(this,arguments)}(M,{idToken:A}));ue($?.users.length,M,"internal-error");const J=$.users[0];S._notifyReloadListener(J);const Oe=null!==(w=J.providerUserInfo)&&void 0!==w&&w.length?function Ht(S){return S.map(w=>{var{providerId:M}=w,A=(0,pe._T)(w,["providerId"]);return{providerId:M,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}(J.providerUserInfo):[],Xe=function Xt(S,w){return[...S.filter(A=>!w.some($=>$.providerId===A.providerId)),...w]}(S.providerData,Oe),pn=!!S.isAnonymous&&!(S.email&&J.passwordHash||Xe?.length),Zn={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:Xe,metadata:new qe(J.createdAt,J.lastLoginAt),isAnonymous:pn};Object.assign(S,Zn)}),xt.apply(this,arguments)}function jt(){return(jt=(0,o.Z)(function*(S){const w=(0,U.m9)(S);yield Fe(w),yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)})).apply(this,arguments)}function yi(){return(yi=(0,o.Z)(function*(S,w){const M=yield St(S,{},(0,o.Z)(function*(){const A=(0,U.xO)({grant_type:"refresh_token",refresh_token:w}).slice(1),{tokenApiHost:$,apiKey:J}=S.config,Oe=Nn(S,$,"/v1/token",`key=${J}`),Xe=yield S._getAdditionalHeaders();return Xe["Content-Type"]="application/x-www-form-urlencoded",Te.fetch()(Oe,{method:"POST",headers:Xe,body:A})}));return{accessToken:M.access_token,expiresIn:M.expires_in,refreshToken:M.refresh_token}})).apply(this,arguments)}class Hn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(w){ue(w.idToken,"internal-error"),ue(typeof w.idToken<"u","internal-error"),ue(typeof w.refreshToken<"u","internal-error");const M="expiresIn"in w&&typeof w.expiresIn<"u"?Number(w.expiresIn):function Qt(S){const w=Kt(S);return ue(w,"internal-error"),ue(typeof w.exp<"u","internal-error"),ue(typeof w.iat<"u","internal-error"),Number(w.exp)-Number(w.iat)}(w.idToken);this.updateTokensAndExpiration(w.idToken,w.refreshToken,M)}getToken(w,M=!1){var A=this;return(0,o.Z)(function*(){return ue(!A.accessToken||A.refreshToken,w,"user-token-expired"),M||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(w,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(w,M){var A=this;return(0,o.Z)(function*(){const{accessToken:$,refreshToken:J,expiresIn:Oe}=yield function xi(S,w){return yi.apply(this,arguments)}(w,M);A.updateTokensAndExpiration($,J,Number(Oe))})()}updateTokensAndExpiration(w,M,A){this.refreshToken=M||null,this.accessToken=w||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(w,M){const{refreshToken:A,accessToken:$,expirationTime:J}=M,Oe=new Hn;return A&&(ue("string"==typeof A,"internal-error",{appName:w}),Oe.refreshToken=A),$&&(ue("string"==typeof $,"internal-error",{appName:w}),Oe.accessToken=$),J&&(ue("number"==typeof J,"internal-error",{appName:w}),Oe.expirationTime=J),Oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(w){this.accessToken=w.accessToken,this.refreshToken=w.refreshToken,this.expirationTime=w.expirationTime}_clone(){return Object.assign(new Hn,this.toJSON())}_performRefresh(){return Ge("not implemented")}}function Li(S,w){ue("string"==typeof S||typeof S>"u","internal-error",{appName:w})}class $n{constructor(w){var{uid:M,auth:A,stsTokenManager:$}=w,J=(0,pe._T)(w,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=M,this.auth=A,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new qe(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(w){var M=this;return(0,o.Z)(function*(){const A=yield zt(M,M.stsTokenManager.getToken(M.auth,w));return ue(A,M.auth,"internal-error"),M.accessToken!==A&&(M.accessToken=A,yield M.auth._persistUserIfCurrent(M),M.auth._notifyListenersIfCurrent(M)),A})()}getIdTokenResult(w){return function zi(S){return No.apply(this,arguments)}(this,w)}reload(){return function mn(S){return jt.apply(this,arguments)}(this)}_assign(w){this!==w&&(ue(this.uid===w.uid,this.auth,"internal-error"),this.displayName=w.displayName,this.photoURL=w.photoURL,this.email=w.email,this.emailVerified=w.emailVerified,this.phoneNumber=w.phoneNumber,this.isAnonymous=w.isAnonymous,this.tenantId=w.tenantId,this.providerData=w.providerData.map(M=>Object.assign({},M)),this.metadata._copy(w.metadata),this.stsTokenManager._assign(w.stsTokenManager))}_clone(w){const M=new $n(Object.assign(Object.assign({},this),{auth:w,stsTokenManager:this.stsTokenManager._clone()}));return M.metadata._copy(this.metadata),M}_onReload(w){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=w,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(w){this.reloadListener?this.reloadListener(w):this.reloadUserInfo=w}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(w,M=!1){var A=this;return(0,o.Z)(function*(){let $=!1;w.idToken&&w.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(w),$=!0),M&&(yield Fe(A)),yield A.auth._persistUserIfCurrent(A),$&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var w=this;return(0,o.Z)(function*(){const M=yield w.getIdToken();return yield zt(w,function On(S,w){return Ut.apply(this,arguments)}(w.auth,{idToken:M})),w.stsTokenManager.clearRefreshToken(),w.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(w=>Object.assign({},w)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(w,M){var A,$,J,Oe,Xe,At,Nt,pn;const Zn=null!==(A=M.displayName)&&void 0!==A?A:void 0,eo=null!==($=M.email)&&void 0!==$?$:void 0,ya=null!==(J=M.phoneNumber)&&void 0!==J?J:void 0,to=null!==(Oe=M.photoURL)&&void 0!==Oe?Oe:void 0,cp=null!==(Xe=M.tenantId)&&void 0!==Xe?Xe:void 0,nf=null!==(At=M._redirectEventId)&&void 0!==At?At:void 0,Wc=null!==(Nt=M.createdAt)&&void 0!==Nt?Nt:void 0,Su=null!==(pn=M.lastLoginAt)&&void 0!==pn?pn:void 0,{uid:wl,emailVerified:rf,isAnonymous:mh,providerData:sf,stsTokenManager:Cm}=M;ue(wl&&Cm,w,"internal-error");const tu=Hn.fromJSON(this.name,Cm);ue("string"==typeof wl,w,"internal-error"),Li(Zn,w.name),Li(eo,w.name),ue("boolean"==typeof rf,w,"internal-error"),ue("boolean"==typeof mh,w,"internal-error"),Li(ya,w.name),Li(to,w.name),Li(cp,w.name),Li(nf,w.name),Li(Wc,w.name),Li(Su,w.name);const gh=new $n({uid:wl,auth:w,email:eo,emailVerified:rf,displayName:Zn,isAnonymous:mh,photoURL:to,phoneNumber:ya,tenantId:cp,stsTokenManager:tu,createdAt:Wc,lastLoginAt:Su});return sf&&Array.isArray(sf)&&(gh.providerData=sf.map(d_=>Object.assign({},d_))),nf&&(gh._redirectEventId=nf),gh}static _fromIdTokenResponse(w,M,A=!1){return(0,o.Z)(function*(){const $=new Hn;$.updateFromServerResponse(M);const J=new $n({uid:M.localId,auth:w,stsTokenManager:$,isAnonymous:A});return yield Fe(J),J})()}}const gr=new Map;function mi(S){Le(S instanceof Function,"Expected a class definition");let w=gr.get(S);return w?(Le(w instanceof S,"Instance stored in cache mismatched with class"),w):(w=new S,gr.set(S,w),w)}const _r=(()=>{class S{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(M,A){var $=this;return(0,o.Z)(function*(){$.storage[M]=A})()}_get(M){var A=this;return(0,o.Z)(function*(){const $=A.storage[M];return void 0===$?null:$})()}_remove(M){var A=this;return(0,o.Z)(function*(){delete A.storage[M]})()}_addListener(M,A){}_removeListener(M,A){}}return S.type="NONE",S})();function go(S,w,M){return`firebase:${S}:${w}:${M}`}class fe{constructor(w,M,A){this.persistence=w,this.auth=M,this.userKey=A;const{config:$,name:J}=this.auth;this.fullUserKey=go(this.userKey,$.apiKey,J),this.fullPersistenceKey=go("persistence",$.apiKey,J),this.boundEventHandler=M._onStorageEvent.bind(M),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(w){return this.persistence._set(this.fullUserKey,w.toJSON())}getCurrentUser(){var w=this;return(0,o.Z)(function*(){const M=yield w.persistence._get(w.fullUserKey);return M?$n._fromJSON(w.auth,M):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(w){var M=this;return(0,o.Z)(function*(){if(M.persistence===w)return;const A=yield M.getCurrentUser();return yield M.removeCurrentUser(),M.persistence=w,A?M.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(w,M,A="authUser"){return(0,o.Z)(function*(){if(!M.length)return new fe(mi(_r),w,A);const $=(yield Promise.all(M.map(function(){var Nt=(0,o.Z)(function*(pn){if(yield pn._isAvailable())return pn});return function(pn){return Nt.apply(this,arguments)}}()))).filter(Nt=>Nt);let J=$[0]||mi(_r);const Oe=go(A,w.config.apiKey,w.name);let Xe=null;for(const Nt of M)try{const pn=yield Nt._get(Oe);if(pn){const Zn=$n._fromJSON(w,pn);Nt!==J&&(Xe=Zn),J=Nt;break}}catch{}const At=$.filter(Nt=>Nt._shouldAllowMigration);return J._shouldAllowMigration&&At.length?(J=At[0],Xe&&(yield J._set(Oe,Xe.toJSON())),yield Promise.all(M.map(function(){var Nt=(0,o.Z)(function*(pn){if(pn!==J)try{yield pn._remove(Oe)}catch{}});return function(pn){return Nt.apply(this,arguments)}}())),new fe(J,w,A)):new fe(J,w,A)})()}}function le(S){const w=S.toLowerCase();if(w.includes("opera/")||w.includes("opr/")||w.includes("opios/"))return"Opera";if(Pe(w))return"IEMobile";if(w.includes("msie")||w.includes("trident/"))return"IE";if(w.includes("edge/"))return"Edge";if(X(w))return"Firefox";if(w.includes("silk/"))return"Silk";if(Ot(w))return"Blackberry";if(yn(w))return"Webos";if(te(w))return"Safari";if((w.includes("chrome/")||K(w))&&!w.includes("edge/"))return"Chrome";if(Qe(w))return"Android";{const A=S.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function X(S=(0,U.z$)()){return/firefox\//i.test(S)}function te(S=(0,U.z$)()){const w=S.toLowerCase();return w.includes("safari/")&&!w.includes("chrome/")&&!w.includes("crios/")&&!w.includes("android")}function K(S=(0,U.z$)()){return/crios\//i.test(S)}function Pe(S=(0,U.z$)()){return/iemobile/i.test(S)}function Qe(S=(0,U.z$)()){return/android/i.test(S)}function Ot(S=(0,U.z$)()){return/blackberry/i.test(S)}function yn(S=(0,U.z$)()){return/webos/i.test(S)}function Vt(S=(0,U.z$)()){return/iphone|ipad|ipod/i.test(S)||/macintosh/i.test(S)&&/mobile/i.test(S)}function Xn(S=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(S)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(S)}function Rn(S=(0,U.z$)()){return Vt(S)||Qe(S)||yn(S)||Ot(S)||/windows phone/i.test(S)||Pe(S)}function Yo(S,w=[]){let M;switch(S){case"Browser":M=le((0,U.z$)());break;case"Worker":M=`${le((0,U.z$)())}-${S}`;break;default:M=S}const A=w.length?w.join(","):"FirebaseCore-web";return`${M}/JsCore/${Y.SDK_VERSION}/${A}`}function ze(){return(ze=(0,o.Z)(function*(S){return(yield ct(S,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _t(S,w){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,o.Z)(function*(S,w){return ct(S,"GET","/v2/recaptchaConfig",je(S,w))})).apply(this,arguments)}function kt(S){return void 0!==S&&void 0!==S.getResponse}function Dn(S){return void 0!==S&&void 0!==S.enterprise}class ri{constructor(w){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===w.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=w.recaptchaKey.split("/")[3],this.emailPasswordEnabled=w.recaptchaEnforcementState.some(M=>"EMAIL_PASSWORD_PROVIDER"===M.provider&&"OFF"!==M.enforcementState)}}function Yi(S){return new Promise((w,M)=>{const A=document.createElement("script");A.setAttribute("src",S),A.onload=w,A.onerror=$=>{const J=nt("internal-error");J.customData=$,M(J)},A.type="text/javascript",A.charset="UTF-8",function Gi(){var S,w;return null!==(w=null===(S=document.getElementsByTagName("head"))||void 0===S?void 0:S[0])&&void 0!==w?w:document}().appendChild(A)})}function er(S){return`__${S}${Math.floor(1e6*Math.random())}`}class vo{constructor(w){this.type="recaptcha-enterprise",this.auth=Ai(w)}verify(w="verify",M=!1){var A=this;return(0,o.Z)(function*(){function J(){return J=(0,o.Z)(function*(Xe){if(!M){if(null==Xe.tenantId&&null!=Xe._agentRecaptchaConfig)return Xe._agentRecaptchaConfig.siteKey;if(null!=Xe.tenantId&&void 0!==Xe._tenantRecaptchaConfigs[Xe.tenantId])return Xe._tenantRecaptchaConfigs[Xe.tenantId].siteKey}return new Promise(function(){var At=(0,o.Z)(function*(Nt,pn){_t(Xe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Zn=>{if(void 0!==Zn.recaptchaKey){const eo=new ri(Zn);return null==Xe.tenantId?Xe._agentRecaptchaConfig=eo:Xe._tenantRecaptchaConfigs[Xe.tenantId]=eo,Nt(eo.siteKey)}pn(new Error("recaptcha Enterprise site key undefined"))}).catch(Zn=>{pn(Zn)})});return function(Nt,pn){return At.apply(this,arguments)}}())}),J.apply(this,arguments)}function Oe(Xe,At,Nt){const pn=window.grecaptcha;Dn(pn)?pn.enterprise.ready(()=>{pn.enterprise.execute(Xe,{action:w}).then(Zn=>{At(Zn)}).catch(()=>{At("NO_RECAPTCHA")})}):Nt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Xe,At)=>{(function $(Xe){return J.apply(this,arguments)})(A.auth).then(Nt=>{if(!M&&Dn(window.grecaptcha))Oe(Nt,Xe,At);else{if(typeof window>"u")return void At(new Error("RecaptchaVerifier is only supported in browser"));Yi("https://www.google.com/recaptcha/enterprise.js?render="+Nt).then(()=>{Oe(Nt,Xe,At)}).catch(pn=>{At(pn)})}}).catch(Nt=>{At(Nt)})})})()}}function us(S,w,M){return bs.apply(this,arguments)}function bs(){return(bs=(0,o.Z)(function*(S,w,M,A=!1){const $=new vo(S);let J;try{J=yield $.verify(M)}catch{J=yield $.verify(M,!0)}const Oe=Object.assign({},w);return Object.assign(Oe,A?{captchaResp:J}:{captchaResponse:J}),Object.assign(Oe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Oe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Oe})).apply(this,arguments)}class Ko{constructor(w){this.auth=w,this.queue=[]}pushCallback(w,M){const A=J=>new Promise((Oe,Xe)=>{try{Oe(w(J))}catch(At){Xe(At)}});A.onAbort=M,this.queue.push(A);const $=this.queue.length-1;return()=>{this.queue[$]=()=>Promise.resolve()}}runMiddleware(w){var M=this;return(0,o.Z)(function*(){if(M.auth.currentUser===w)return;const A=[];try{for(const $ of M.queue)yield $(w),$.onAbort&&A.push($.onAbort)}catch($){A.reverse();for(const J of A)try{J()}catch{}throw M.auth._errorFactory.create("login-blocked",{originalMessage:$?.message})}})()}}class Ln{constructor(w,M,A,$){this.app=w,this.heartbeatServiceProvider=M,this.appCheckServiceProvider=A,this.config=$,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yo(this),this.idTokenSubscription=new yo(this),this.beforeStateQueue=new Ko(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=st,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=w.name,this.clientVersion=$.sdkClientVersion}_initializeWithPersistence(w,M){var A=this;return M&&(this._popupRedirectResolver=mi(M)),this._initializationPromise=this.queue((0,o.Z)(function*(){var $,J;if(!A._deleted&&(A.persistenceManager=yield fe.create(A,w),!A._deleted)){if(null!==($=A._popupRedirectResolver)&&void 0!==$&&$._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(M),A.lastNotifiedUid=(null===(J=A.currentUser)||void 0===J?void 0:J.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var w=this;return(0,o.Z)(function*(){if(w._deleted)return;const M=yield w.assertedPersistence.getCurrentUser();if(w.currentUser||M){if(w.currentUser&&M&&w.currentUser.uid===M.uid)return w._currentUser._assign(M),void(yield w.currentUser.getIdToken());yield w._updateCurrentUser(M,!0)}})()}initializeCurrentUser(w){var M=this;return(0,o.Z)(function*(){var A;const $=yield M.assertedPersistence.getCurrentUser();let J=$,Oe=!1;if(w&&M.config.authDomain){yield M.getOrInitRedirectPersistenceManager();const Xe=null===(A=M.redirectUser)||void 0===A?void 0:A._redirectEventId,At=J?._redirectEventId,Nt=yield M.tryRedirectSignIn(w);(!Xe||Xe===At)&&Nt?.user&&(J=Nt.user,Oe=!0)}if(!J)return M.directlySetCurrentUser(null);if(!J._redirectEventId){if(Oe)try{yield M.beforeStateQueue.runMiddleware(J)}catch(Xe){J=$,M._popupRedirectResolver._overrideRedirectResult(M,()=>Promise.reject(Xe))}return J?M.reloadAndSetCurrentUserOrClear(J):M.directlySetCurrentUser(null)}return ue(M._popupRedirectResolver,M,"argument-error"),yield M.getOrInitRedirectPersistenceManager(),M.redirectUser&&M.redirectUser._redirectEventId===J._redirectEventId?M.directlySetCurrentUser(J):M.reloadAndSetCurrentUserOrClear(J)})()}tryRedirectSignIn(w){var M=this;return(0,o.Z)(function*(){let A=null;try{A=yield M._popupRedirectResolver._completeRedirectFn(M,w,!0)}catch{yield M._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(w){var M=this;return(0,o.Z)(function*(){try{yield Fe(w)}catch(A){if("auth/network-request-failed"!==A?.code)return M.directlySetCurrentUser(null)}return M.directlySetCurrentUser(w)})()}useDeviceLanguage(){this.languageCode=function un(){if(typeof navigator>"u")return null;const S=navigator;return S.languages&&S.languages[0]||S.language||null}()}_delete(){var w=this;return(0,o.Z)(function*(){w._deleted=!0})()}updateCurrentUser(w){var M=this;return(0,o.Z)(function*(){const A=w?(0,U.m9)(w):null;return A&&ue(A.auth.config.apiKey===M.config.apiKey,M,"invalid-user-token"),M._updateCurrentUser(A&&A._clone(M))})()}_updateCurrentUser(w,M=!1){var A=this;return(0,o.Z)(function*(){if(!A._deleted)return w&&ue(A.tenantId===w.tenantId,A,"tenant-id-mismatch"),M||(yield A.beforeStateQueue.runMiddleware(w)),A.queue((0,o.Z)(function*(){yield A.directlySetCurrentUser(w),A.notifyAuthListeners()}))})()}signOut(){var w=this;return(0,o.Z)(function*(){return yield w.beforeStateQueue.runMiddleware(null),(w.redirectPersistenceManager||w._popupRedirectResolver)&&(yield w._setRedirectUser(null)),w._updateCurrentUser(null,!0)})()}setPersistence(w){var M=this;return this.queue((0,o.Z)(function*(){yield M.assertedPersistence.setPersistence(mi(w))}))}initializeRecaptchaConfig(){var w=this;return(0,o.Z)(function*(){const M=yield _t(w,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),A=new ri(M);null==w.tenantId?w._agentRecaptchaConfig=A:w._tenantRecaptchaConfigs[w.tenantId]=A,A.emailPasswordEnabled&&new vo(w).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(w){this._errorFactory=new U.LL("auth","Firebase",w())}onAuthStateChanged(w,M,A){return this.registerStateListener(this.authStateSubscription,w,M,A)}beforeAuthStateChanged(w,M){return this.beforeStateQueue.pushCallback(w,M)}onIdTokenChanged(w,M,A){return this.registerStateListener(this.idTokenSubscription,w,M,A)}toJSON(){var w;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(w=this._currentUser)||void 0===w?void 0:w.toJSON()}}_setRedirectUser(w,M){var A=this;return(0,o.Z)(function*(){const $=yield A.getOrInitRedirectPersistenceManager(M);return null===w?$.removeCurrentUser():$.setCurrentUser(w)})()}getOrInitRedirectPersistenceManager(w){var M=this;return(0,o.Z)(function*(){if(!M.redirectPersistenceManager){const A=w&&mi(w)||M._popupRedirectResolver;ue(A,M,"argument-error"),M.redirectPersistenceManager=yield fe.create(M,[mi(A._redirectPersistence)],"redirectUser"),M.redirectUser=yield M.redirectPersistenceManager.getCurrentUser()}return M.redirectPersistenceManager})()}_redirectUserForId(w){var M=this;return(0,o.Z)(function*(){var A,$;return M._isInitialized&&(yield M.queue((0,o.Z)(function*(){}))),(null===(A=M._currentUser)||void 0===A?void 0:A._redirectEventId)===w?M._currentUser:(null===($=M.redirectUser)||void 0===$?void 0:$._redirectEventId)===w?M.redirectUser:null})()}_persistUserIfCurrent(w){var M=this;return(0,o.Z)(function*(){if(w===M.currentUser)return M.queue((0,o.Z)(function*(){return M.directlySetCurrentUser(w)}))})()}_notifyListenersIfCurrent(w){w===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var w,M;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(M=null===(w=this.currentUser)||void 0===w?void 0:w.uid)&&void 0!==M?M:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(w,M,A,$){if(this._deleted)return()=>{};const J="function"==typeof M?M:M.next.bind(M),Oe=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(Oe,this,"internal-error"),Oe.then(()=>J(this.currentUser)),"function"==typeof M?w.addObserver(M,A,$):w.addObserver(M)}directlySetCurrentUser(w){var M=this;return(0,o.Z)(function*(){M.currentUser&&M.currentUser!==w&&M._currentUser._stopProactiveRefresh(),w&&M.isProactiveRefreshEnabled&&w._startProactiveRefresh(),M.currentUser=w,w?yield M.assertedPersistence.setCurrentUser(w):yield M.assertedPersistence.removeCurrentUser()})()}queue(w){return this.operations=this.operations.then(w,w),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(w){!w||this.frameworks.includes(w)||(this.frameworks.push(w),this.frameworks.sort(),this.clientVersion=Yo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var w=this;return(0,o.Z)(function*(){var M;const A={"X-Client-Version":w.clientVersion};w.app.options.appId&&(A["X-Firebase-gmpid"]=w.app.options.appId);const $=yield null===(M=w.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===M?void 0:M.getHeartbeatsHeader();$&&(A["X-Firebase-Client"]=$);const J=yield w._getAppCheckToken();return J&&(A["X-Firebase-AppCheck"]=J),A})()}_getAppCheckToken(){var w=this;return(0,o.Z)(function*(){var M;const A=yield null===(M=w.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===M?void 0:M.getToken();return A?.error&&function at(S,...w){Re.logLevel<=ce.in.WARN&&Re.warn(`Auth (${Y.SDK_VERSION}): ${S}`,...w)}(`Error while retrieving App Check token: ${A.error}`),A?.token})()}}function Ai(S){return(0,U.m9)(S)}class yo{constructor(w){this.auth=w,this.observer=null,this.addObserver=(0,U.ne)(M=>this.observer=M)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tc(S,w,M){const A=Ai(S);ue(A._canInitEmulator,A,"emulator-config-failed"),ue(/^https?:\/\//.test(w),A,"invalid-emulator-scheme");const $=!!M?.disableWarnings,J=$r(w),{host:Oe,port:Xe}=function Us(S){const w=$r(S),M=/(\/\/)?([^?#/]+)/.exec(S.substr(w.length));if(!M)return{host:"",port:null};const A=M[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(A);if($){const J=$[1];return{host:J,port:nc(A.substr(J.length+1))}}{const[J,Oe]=A.split(":");return{host:J,port:nc(Oe)}}}(w);A.config.emulator={url:`${J}//${Oe}${null===Xe?"":`:${Xe}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Oe,port:Xe,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:$})}),$||function Xu(){function S(){const w=document.createElement("p"),M=w.style;w.innerText="Running in emulator mode. Do not use with production credentials.",M.position="fixed",M.width="100%",M.backgroundColor="#ffffff",M.border=".1em solid #000000",M.color="#b50000",M.bottom="0px",M.left="0px",M.margin="0px",M.zIndex="10000",M.textAlign="center",w.classList.add("firebase-emulator-warning"),document.body.appendChild(w)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",S):S())}()}function $r(S){const w=S.indexOf(":");return w<0?"":S.substr(0,w+1)}function nc(S){if(!S)return null;const w=Number(S);return isNaN(w)?null:w}class oa{constructor(w,M){this.providerId=w,this.signInMethod=M}toJSON(){return Ge("not implemented")}_getIdTokenResponse(w){return Ge("not implemented")}_linkToIdToken(w,M){return Ge("not implemented")}_getReauthenticationResolver(w){return Ge("not implemented")}}function Ec(S,w){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,o.Z)(function*(S,w){return ct(S,"POST","/v1/accounts:resetPassword",je(S,w))})).apply(this,arguments)}function Qo(S,w){return sa.apply(this,arguments)}function sa(){return(sa=(0,o.Z)(function*(S,w){return ct(S,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function Fo(){return(Fo=(0,o.Z)(function*(S,w){return ct(S,"POST","/v1/accounts:update",je(S,w))})).apply(this,arguments)}function bo(S,w){return yr.apply(this,arguments)}function yr(){return(yr=(0,o.Z)(function*(S,w){return Tn(S,"POST","/v1/accounts:signInWithPassword",je(S,w))})).apply(this,arguments)}function ic(S,w){return aa.apply(this,arguments)}function aa(){return(aa=(0,o.Z)(function*(S,w){return ct(S,"POST","/v1/accounts:sendOobCode",je(S,w))})).apply(this,arguments)}function Ic(){return(Ic=(0,o.Z)(function*(S,w){return ic(S,w)})).apply(this,arguments)}function ca(S,w){return ws.apply(this,arguments)}function ws(){return(ws=(0,o.Z)(function*(S,w){return ic(S,w)})).apply(this,arguments)}function rc(S,w){return jn.apply(this,arguments)}function jn(){return(jn=(0,o.Z)(function*(S,w){return ic(S,w)})).apply(this,arguments)}function br(){return(br=(0,o.Z)(function*(S,w){return ic(S,w)})).apply(this,arguments)}function wr(){return(wr=(0,o.Z)(function*(S,w){return Tn(S,"POST","/v1/accounts:signInWithEmailLink",je(S,w))})).apply(this,arguments)}function Oc(){return(Oc=(0,o.Z)(function*(S,w){return Tn(S,"POST","/v1/accounts:signInWithEmailLink",je(S,w))})).apply(this,arguments)}class Lo extends oa{constructor(w,M,A,$=null){super("password",A),this._email=w,this._password=M,this._tenantId=$}static _fromEmailAndPassword(w,M){return new Lo(w,M,"password")}static _fromEmailAndCode(w,M,A=null){return new Lo(w,M,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(w){const M="string"==typeof w?JSON.parse(w):w;if(M?.email&&M?.password){if("password"===M.signInMethod)return this._fromEmailAndPassword(M.email,M.password);if("emailLink"===M.signInMethod)return this._fromEmailAndCode(M.email,M.password,M.tenantId)}return null}_getIdTokenResponse(w){var M=this;return(0,o.Z)(function*(){var A;switch(M.signInMethod){case"password":const $={returnSecureToken:!0,email:M._email,password:M._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(A=w._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const J=yield us(w,$,"signInWithPassword");return bo(w,J)}return bo(w,$).catch(function(){var J=(0,o.Z)(function*(Oe){if("auth/missing-recaptcha-token"===Oe.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Xe=yield us(w,$,"signInWithPassword");return bo(w,Xe)}return Promise.reject(Oe)});return function(Oe){return J.apply(this,arguments)}}());case"emailLink":return function Sa(S,w){return wr.apply(this,arguments)}(w,{email:M._email,oobCode:M._password});default:xe(w,"internal-error")}})()}_linkToIdToken(w,M){var A=this;return(0,o.Z)(function*(){switch(A.signInMethod){case"password":return Qo(w,{idToken:M,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function Tc(S,w){return Oc.apply(this,arguments)}(w,{idToken:M,email:A._email,oobCode:A._password});default:xe(w,"internal-error")}})()}_getReauthenticationResolver(w){return this._getIdTokenResponse(w)}}function Vs(S,w){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,o.Z)(function*(S,w){return Tn(S,"POST","/v1/accounts:signInWithIdp",je(S,w))})).apply(this,arguments)}class Et extends oa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(w){const M=new Et(w.providerId,w.signInMethod);return w.idToken||w.accessToken?(w.idToken&&(M.idToken=w.idToken),w.accessToken&&(M.accessToken=w.accessToken),w.nonce&&!w.pendingToken&&(M.nonce=w.nonce),w.pendingToken&&(M.pendingToken=w.pendingToken)):w.oauthToken&&w.oauthTokenSecret?(M.accessToken=w.oauthToken,M.secret=w.oauthTokenSecret):xe("argument-error"),M}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(w){const M="string"==typeof w?JSON.parse(w):w,{providerId:A,signInMethod:$}=M,J=(0,pe._T)(M,["providerId","signInMethod"]);if(!A||!$)return null;const Oe=new Et(A,$);return Oe.idToken=J.idToken||void 0,Oe.accessToken=J.accessToken||void 0,Oe.secret=J.secret,Oe.nonce=J.nonce,Oe.pendingToken=J.pendingToken||null,Oe}_getIdTokenResponse(w){return Vs(w,this.buildRequest())}_linkToIdToken(w,M){const A=this.buildRequest();return A.idToken=M,Vs(w,A)}_getReauthenticationResolver(w){const M=this.buildRequest();return M.autoCreate=!1,Vs(w,M)}buildRequest(){const w={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)w.pendingToken=this.pendingToken;else{const M={};this.idToken&&(M.id_token=this.idToken),this.accessToken&&(M.access_token=this.accessToken),this.secret&&(M.oauth_token_secret=this.secret),M.providerId=this.providerId,this.nonce&&!this.pendingToken&&(M.nonce=this.nonce),w.postBody=(0,U.xO)(M)}return w}}function Mi(){return(Mi=(0,o.Z)(function*(S,w){return ct(S,"POST","/v1/accounts:sendVerificationCode",je(S,w))})).apply(this,arguments)}function Bs(){return(Bs=(0,o.Z)(function*(S,w){return Tn(S,"POST","/v1/accounts:signInWithPhoneNumber",je(S,w))})).apply(this,arguments)}function Jo(){return(Jo=(0,o.Z)(function*(S,w){const M=yield Tn(S,"POST","/v1/accounts:signInWithPhoneNumber",je(S,w));if(M.temporaryProof)throw tn(S,"account-exists-with-different-credential",M);return M})).apply(this,arguments)}const Ii={USER_NOT_FOUND:"user-not-found"};function Xo(){return(Xo=(0,o.Z)(function*(S,w){return Tn(S,"POST","/v1/accounts:signInWithPhoneNumber",je(S,Object.assign(Object.assign({},w),{operation:"REAUTH"})),Ii)})).apply(this,arguments)}class on extends oa{constructor(w){super("phone","phone"),this.params=w}static _fromVerification(w,M){return new on({verificationId:w,verificationCode:M})}static _fromTokenResponse(w,M){return new on({phoneNumber:w,temporaryProof:M})}_getIdTokenResponse(w){return function so(S,w){return Bs.apply(this,arguments)}(w,this._makeVerificationRequest())}_linkToIdToken(w,M){return function qn(S,w){return Jo.apply(this,arguments)}(w,Object.assign({idToken:M},this._makeVerificationRequest()))}_getReauthenticationResolver(w){return function la(S,w){return Xo.apply(this,arguments)}(w,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:w,phoneNumber:M,verificationId:A,verificationCode:$}=this.params;return w&&M?{temporaryProof:w,phoneNumber:M}:{sessionInfo:A,code:$}}toJSON(){const w={providerId:this.providerId};return this.params.phoneNumber&&(w.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(w.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(w.verificationCode=this.params.verificationCode),this.params.verificationId&&(w.verificationId=this.params.verificationId),w}static fromJSON(w){"string"==typeof w&&(w=JSON.parse(w));const{verificationId:M,verificationCode:A,phoneNumber:$,temporaryProof:J}=w;return A||M||$||J?new on({verificationId:M,verificationCode:A,phoneNumber:$,temporaryProof:J}):null}}class Cr{constructor(w){var M,A,$,J,Oe,Xe;const At=(0,U.zd)((0,U.pd)(w)),Nt=null!==(M=At.apiKey)&&void 0!==M?M:null,pn=null!==(A=At.oobCode)&&void 0!==A?A:null,Zn=function qr(S){switch(S){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=At.mode)&&void 0!==$?$:null);ue(Nt&&pn&&Zn,"argument-error"),this.apiKey=Nt,this.operation=Zn,this.code=pn,this.continueUrl=null!==(J=At.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==(Oe=At.languageCode)&&void 0!==Oe?Oe:null,this.tenantId=null!==(Xe=At.tenantId)&&void 0!==Xe?Xe:null}static parseLink(w){const M=function Ll(S){const w=(0,U.zd)((0,U.pd)(S)).link,M=w?(0,U.zd)((0,U.pd)(w)).deep_link_id:null,A=(0,U.zd)((0,U.pd)(S)).deep_link_id;return(A?(0,U.zd)((0,U.pd)(A)).link:null)||A||M||w||S}(w);try{return new Cr(M)}catch{return null}}}let Cs=(()=>{class S{constructor(){this.providerId=S.PROVIDER_ID}static credential(M,A){return Lo._fromEmailAndPassword(M,A)}static credentialWithLink(M,A){const $=Cr.parseLink(A);return ue($,"argument-error"),Lo._fromEmailAndCode(M,$.code,$.tenantId)}}return S.PROVIDER_ID="password",S.EMAIL_PASSWORD_SIGN_IN_METHOD="password",S.EMAIL_LINK_SIGN_IN_METHOD="emailLink",S})();class Uo{constructor(w){this.providerId=w,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(w){this.defaultLanguageCode=w}setCustomParameters(w){return this.customParameters=w,this}getCustomParameters(){return this.customParameters}}class Er extends Uo{constructor(){super(...arguments),this.scopes=[]}addScope(w){return this.scopes.includes(w)||this.scopes.push(w),this}getScopes(){return[...this.scopes]}}class Mr extends Er{static credentialFromJSON(w){const M="string"==typeof w?JSON.parse(w):w;return ue("providerId"in M&&"signInMethod"in M,"argument-error"),Et._fromParams(M)}credential(w){return this._credential(Object.assign(Object.assign({},w),{nonce:w.rawNonce}))}_credential(w){return ue(w.idToken||w.accessToken,"argument-error"),Et._fromParams(Object.assign(Object.assign({},w),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(w){return Mr.oauthCredentialFromTaggedObject(w)}static credentialFromError(w){return Mr.oauthCredentialFromTaggedObject(w.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:M,oauthAccessToken:A,oauthTokenSecret:$,pendingToken:J,nonce:Oe,providerId:Xe}=w;if(!A&&!$&&!M&&!J||!Xe)return null;try{return new Mr(Xe)._credential({idToken:M,accessToken:A,nonce:Oe,pendingToken:J})}catch{return null}}}let ua=(()=>{class S extends Er{constructor(){super("facebook.com")}static credential(M){return Et._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.FACEBOOK_SIGN_IN_METHOD,accessToken:M})}static credentialFromResult(M){return S.credentialFromTaggedObject(M)}static credentialFromError(M){return S.credentialFromTaggedObject(M.customData||{})}static credentialFromTaggedObject({_tokenResponse:M}){if(!M||!("oauthAccessToken"in M)||!M.oauthAccessToken)return null;try{return S.credential(M.oauthAccessToken)}catch{return null}}}return S.FACEBOOK_SIGN_IN_METHOD="facebook.com",S.PROVIDER_ID="facebook.com",S})(),Pa=(()=>{class S extends Er{constructor(){super("google.com"),this.addScope("profile")}static credential(M,A){return Et._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GOOGLE_SIGN_IN_METHOD,idToken:M,accessToken:A})}static credentialFromResult(M){return S.credentialFromTaggedObject(M)}static credentialFromError(M){return S.credentialFromTaggedObject(M.customData||{})}static credentialFromTaggedObject({_tokenResponse:M}){if(!M)return null;const{oauthIdToken:A,oauthAccessToken:$}=M;if(!A&&!$)return null;try{return S.credential(A,$)}catch{return null}}}return S.GOOGLE_SIGN_IN_METHOD="google.com",S.PROVIDER_ID="google.com",S})(),Vi=(()=>{class S extends Er{constructor(){super("github.com")}static credential(M){return Et._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GITHUB_SIGN_IN_METHOD,accessToken:M})}static credentialFromResult(M){return S.credentialFromTaggedObject(M)}static credentialFromError(M){return S.credentialFromTaggedObject(M.customData||{})}static credentialFromTaggedObject({_tokenResponse:M}){if(!M||!("oauthAccessToken"in M)||!M.oauthAccessToken)return null;try{return S.credential(M.oauthAccessToken)}catch{return null}}}return S.GITHUB_SIGN_IN_METHOD="github.com",S.PROVIDER_ID="github.com",S})();class Gr extends oa{constructor(w,M){super(w,w),this.pendingToken=M}_getIdTokenResponse(w){return Vs(w,this.buildRequest())}_linkToIdToken(w,M){const A=this.buildRequest();return A.idToken=M,Vs(w,A)}_getReauthenticationResolver(w){const M=this.buildRequest();return M.autoCreate=!1,Vs(w,M)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(w){const M="string"==typeof w?JSON.parse(w):w,{providerId:A,signInMethod:$,pendingToken:J}=M;return A&&$&&J&&A===$?new Gr(A,J):null}static _create(w,M){return new Gr(w,M)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Pc extends Uo{constructor(w){ue(w.startsWith("saml."),"argument-error"),super(w)}static credentialFromResult(w){return Pc.samlCredentialFromTaggedObject(w)}static credentialFromError(w){return Pc.samlCredentialFromTaggedObject(w.customData||{})}static credentialFromJSON(w){const M=Gr.fromJSON(w);return ue(M,"argument-error"),M}static samlCredentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{pendingToken:M,providerId:A}=w;if(!M||!A)return null;try{return Gr._create(A,M)}catch{return null}}}let gu=(()=>{class S extends Er{constructor(){super("twitter.com")}static credential(M,A){return Et._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.TWITTER_SIGN_IN_METHOD,oauthToken:M,oauthTokenSecret:A})}static credentialFromResult(M){return S.credentialFromTaggedObject(M)}static credentialFromError(M){return S.credentialFromTaggedObject(M.customData||{})}static credentialFromTaggedObject({_tokenResponse:M}){if(!M)return null;const{oauthAccessToken:A,oauthTokenSecret:$}=M;if(!A||!$)return null;try{return S.credential(A,$)}catch{return null}}}return S.TWITTER_SIGN_IN_METHOD="twitter.com",S.PROVIDER_ID="twitter.com",S})();function Da(S,w){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,o.Z)(function*(S,w){return Tn(S,"POST","/v1/accounts:signUp",je(S,w))})).apply(this,arguments)}class rr{constructor(w){this.user=w.user,this.providerId=w.providerId,this._tokenResponse=w._tokenResponse,this.operationType=w.operationType}static _fromIdTokenResponse(w,M,A,$=!1){return(0,o.Z)(function*(){const J=yield $n._fromIdTokenResponse(w,A,$),Oe=Zr(A);return new rr({user:J,providerId:Oe,_tokenResponse:A,operationType:M})})()}static _forOperation(w,M,A){return(0,o.Z)(function*(){yield w._updateTokensIfNecessary(A,!0);const $=Zr(A);return new rr({user:w,providerId:$,_tokenResponse:A,operationType:M})})()}}function Zr(S){return S.providerId?S.providerId:"phoneNumber"in S?"phone":null}function da(S){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,o.Z)(function*(S){var w;const M=Ai(S);if(yield M._initializationPromise,null!==(w=M.currentUser)&&void 0!==w&&w.isAnonymous)return new rr({user:M.currentUser,providerId:null,operationType:"signIn"});const A=yield Da(M,{returnSecureToken:!0}),$=yield rr._fromIdTokenResponse(M,"signIn",A,!0);return yield M._updateCurrentUser($.user),$})).apply(this,arguments)}class al extends U.ZR{constructor(w,M,A,$){var J;super(M.code,M.message),this.operationType=A,this.user=$,Object.setPrototypeOf(this,al.prototype),this.customData={appName:w.name,tenantId:null!==(J=w.tenantId)&&void 0!==J?J:void 0,_serverResponse:M.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(w,M,A,$){return new al(w,M,A,$)}}function Wr(S,w,M,A){return("reauthenticate"===w?M._getReauthenticationResolver(S):M._getIdTokenResponse(S)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?al._fromErrorAndOperation(S,J,w,A):J})}function Ir(S){return new Set(S.map(({providerId:w})=>w).filter(w=>!!w))}function cl(S,w){return Ar.apply(this,arguments)}function Ar(){return Ar=(0,o.Z)(function*(S,w){const M=(0,U.m9)(S);yield ha(!0,M,w);const{providerUserInfo:A}=yield function cn(S,w){return Fn.apply(this,arguments)}(M.auth,{idToken:yield M.getIdToken(),deleteProvider:[w]}),$=Ir(A||[]);return M.providerData=M.providerData.filter(J=>$.has(J.providerId)),$.has("phone")||(M.phoneNumber=null),yield M.auth._persistUserIfCurrent(M),M}),Ar.apply(this,arguments)}function Yr(S,w){return hi.apply(this,arguments)}function hi(){return(hi=(0,o.Z)(function*(S,w,M=!1){const A=yield zt(S,w._linkToIdToken(S.auth,yield S.getIdToken()),M);return rr._forOperation(S,"link",A)})).apply(this,arguments)}function ha(S,w,M){return oi.apply(this,arguments)}function oi(){return(oi=(0,o.Z)(function*(S,w,M){yield Fe(w);const $=!1===S?"provider-already-linked":"no-such-provider";ue(Ir(w.providerData).has(M)===S,w.auth,$)})).apply(this,arguments)}function kr(S,w){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,o.Z)(function*(S,w,M=!1){const{auth:A}=S,$="reauthenticate";try{const J=yield zt(S,Wr(A,$,w,S),M);ue(J.idToken,A,"internal-error");const Oe=Kt(J.idToken);ue(Oe,A,"internal-error");const{sub:Xe}=Oe;return ue(S.uid===Xe,A,"user-mismatch"),rr._forOperation(S,$,J)}catch(J){throw"auth/user-not-found"===J?.code&&xe(A,"user-mismatch"),J}})).apply(this,arguments)}function xs(S,w){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,o.Z)(function*(S,w,M=!1){const A="signIn",$=yield Wr(S,A,w),J=yield rr._fromIdTokenResponse(S,A,$);return M||(yield S._updateCurrentUser(J.user)),J})).apply(this,arguments)}function Aa(S,w){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,o.Z)(function*(S,w){return xs(Ai(S),w)})).apply(this,arguments)}function oc(S,w){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,o.Z)(function*(S,w){const M=(0,U.m9)(S);return yield ha(!1,M,w.providerId),Yr(M,w)})).apply(this,arguments)}function gi(S,w){return _u.apply(this,arguments)}function _u(){return(_u=(0,o.Z)(function*(S,w){return kr((0,U.m9)(S),w)})).apply(this,arguments)}function Bo(){return(Bo=(0,o.Z)(function*(S,w){return Tn(S,"POST","/v1/accounts:signInWithCustomToken",je(S,w))})).apply(this,arguments)}function eh(S,w){return sc.apply(this,arguments)}function sc(){return sc=(0,o.Z)(function*(S,w){const M=Ai(S),A=yield function kc(S,w){return Bo.apply(this,arguments)}(M,{token:w,returnSecureToken:!0}),$=yield rr._fromIdTokenResponse(M,"signIn",A);return yield M._updateCurrentUser($.user),$}),sc.apply(this,arguments)}class wo{constructor(w,M){this.factorId=w,this.uid=M.mfaEnrollmentId,this.enrollmentTime=new Date(M.enrolledAt).toUTCString(),this.displayName=M.displayName}static _fromServerResponse(w,M){return"phoneInfo"in M?ac._fromServerResponse(w,M):"totpInfo"in M?fa._fromServerResponse(w,M):xe(w,"internal-error")}}class ac extends wo{constructor(w){super("phone",w),this.phoneNumber=w.phoneInfo}static _fromServerResponse(w,M){return new ac(M)}}class fa extends wo{constructor(w){super("totp",w)}static _fromServerResponse(w,M){return new fa(M)}}function Es(S,w,M){var A;ue((null===(A=M.url)||void 0===A?void 0:A.length)>0,S,"invalid-continue-uri"),ue(typeof M.dynamicLinkDomain>"u"||M.dynamicLinkDomain.length>0,S,"invalid-dynamic-link-domain"),w.continueUrl=M.url,w.dynamicLinkDomain=M.dynamicLinkDomain,w.canHandleCodeInApp=M.handleCodeInApp,M.iOS&&(ue(M.iOS.bundleId.length>0,S,"missing-ios-bundle-id"),w.iOSBundleId=M.iOS.bundleId),M.android&&(ue(M.android.packageName.length>0,S,"missing-android-pkg-name"),w.androidInstallApp=M.android.installApp,w.androidMinimumVersionCode=M.android.minimumVersion,w.androidPackageName=M.android.packageName)}function Bl(S,w,M){return vu.apply(this,arguments)}function vu(){return vu=(0,o.Z)(function*(S,w,M){var A;const $=Ai(S),J={requestType:"PASSWORD_RESET",email:w,clientType:"CLIENT_TYPE_WEB"};if(null!==(A=$._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const Oe=yield us($,J,"getOobCode",!0);M&&Es($,Oe,M),yield ca($,Oe)}else M&&Es($,J,M),yield ca($,J).catch(function(){var Oe=(0,o.Z)(function*(Xe){if("auth/missing-recaptcha-token"!==Xe.code)return Promise.reject(Xe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const At=yield us($,J,"getOobCode",!0);M&&Es($,At,M),yield ca($,At)}});return function(Xe){return Oe.apply(this,arguments)}}())}),vu.apply(this,arguments)}function Rr(S,w,M){return js.apply(this,arguments)}function js(){return(js=(0,o.Z)(function*(S,w,M){yield Ec((0,U.m9)(S),{oobCode:w,newPassword:M})})).apply(this,arguments)}function pa(S,w){return Rc.apply(this,arguments)}function Rc(){return Rc=(0,o.Z)(function*(S,w){yield function sl(S,w){return Fo.apply(this,arguments)}((0,U.m9)(S),{oobCode:w})}),Rc.apply(this,arguments)}function jo(S,w){return ur.apply(this,arguments)}function ur(){return(ur=(0,o.Z)(function*(S,w){const M=(0,U.m9)(S),A=yield Ec(M,{oobCode:w}),$=A.requestType;switch(ue($,M,"internal-error"),$){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ue(A.newEmail,M,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ue(A.mfaInfo,M,"internal-error");default:ue(A.email,M,"internal-error")}let J=null;return A.mfaInfo&&(J=wo._fromServerResponse(Ai(M),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:J},operation:$}})).apply(this,arguments)}function ka(S,w){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,o.Z)(function*(S,w){const{data:M}=yield jo((0,U.m9)(S),w);return M.email})).apply(this,arguments)}function Nc(S,w,M){return Co.apply(this,arguments)}function Co(){return Co=(0,o.Z)(function*(S,w,M){var A;const $=Ai(S),J={returnSecureToken:!0,email:w,password:M,clientType:"CLIENT_TYPE_WEB"};let Oe;if(null!==(A=$._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const Nt=yield us($,J,"signUpPassword");Oe=Da($,Nt)}else Oe=Da($,J).catch(function(){var Nt=(0,o.Z)(function*(pn){if("auth/missing-recaptcha-token"===pn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Zn=yield us($,J,"signUpPassword");return Da($,Zn)}return Promise.reject(pn)});return function(pn){return Nt.apply(this,arguments)}}());const Xe=yield Oe.catch(Nt=>Promise.reject(Nt)),At=yield rr._fromIdTokenResponse($,"signIn",Xe);return yield $._updateCurrentUser(At.user),At}),Co.apply(this,arguments)}function cc(S,w,M){return Aa((0,U.m9)(S),Cs.credential(w,M))}function jl(S,w,M){return zs.apply(this,arguments)}function zs(){return zs=(0,o.Z)(function*(S,w,M){var A;const $=Ai(S),J={requestType:"EMAIL_SIGNIN",email:w,clientType:"CLIENT_TYPE_WEB"};function Oe(Xe,At){ue(At.handleCodeInApp,$,"argument-error"),At&&Es($,Xe,At)}if(null!==(A=$._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const Xe=yield us($,J,"getOobCode",!0);Oe(Xe,M),yield rc($,Xe)}else Oe(J,M),yield rc($,J).catch(function(){var Xe=(0,o.Z)(function*(At){if("auth/missing-recaptcha-token"!==At.code)return Promise.reject(At);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Nt=yield us($,J,"getOobCode",!0);Oe(Nt,M),yield rc($,Nt)}});return function(At){return Xe.apply(this,arguments)}}())}),zs.apply(this,arguments)}function ma(S,w){const M=Cr.parseLink(w);return"EMAIL_SIGNIN"===M?.operation}function ll(S,w,M){return bi.apply(this,arguments)}function bi(){return(bi=(0,o.Z)(function*(S,w,M){const A=(0,U.m9)(S),$=Cs.credentialWithLink(w,M||Ct());return ue($._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),Aa(A,$)})).apply(this,arguments)}function Ra(){return(Ra=(0,o.Z)(function*(S,w){return ct(S,"POST","/v1/accounts:createAuthUri",je(S,w))})).apply(this,arguments)}function Mt(S,w){return es.apply(this,arguments)}function es(){return es=(0,o.Z)(function*(S,w){const A={identifier:w,continueUri:ot()?Ct():"http://localhost"},{signinMethods:$}=yield function zo(S,w){return Ra.apply(this,arguments)}((0,U.m9)(S),A);return $||[]}),es.apply(this,arguments)}function Fc(S,w){return xo.apply(this,arguments)}function xo(){return xo=(0,o.Z)(function*(S,w){const M=(0,U.m9)(S),$={requestType:"VERIFY_EMAIL",idToken:yield S.getIdToken()};w&&Es(M.auth,$,w);const{email:J}=yield function Zi(S,w){return Ic.apply(this,arguments)}(M.auth,$);J!==S.email&&(yield S.reload())}),xo.apply(this,arguments)}function Hs(S,w,M){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,o.Z)(function*(S,w,M){const A=(0,U.m9)(S),J={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield S.getIdToken(),newEmail:w};M&&Es(A.auth,J,M);const{email:Oe}=yield function Ui(S,w){return br.apply(this,arguments)}(A.auth,J);Oe!==S.email&&(yield S.reload())}),Lc.apply(this,arguments)}function Na(){return(Na=(0,o.Z)(function*(S,w){return ct(S,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function C(S,w){return N.apply(this,arguments)}function N(){return N=(0,o.Z)(function*(S,{displayName:w,photoURL:M}){if(void 0===w&&void 0===M)return;const A=(0,U.m9)(S),J={idToken:yield A.getIdToken(),displayName:w,photoUrl:M,returnSecureToken:!0},Oe=yield zt(A,function ed(S,w){return Na.apply(this,arguments)}(A.auth,J));A.displayName=Oe.displayName||null,A.photoURL=Oe.photoUrl||null;const Xe=A.providerData.find(({providerId:At})=>"password"===At);Xe&&(Xe.displayName=A.displayName,Xe.photoURL=A.photoURL),yield A._updateTokensIfNecessary(Oe)}),N.apply(this,arguments)}function j(S,w){return ve((0,U.m9)(S),w,null)}function ee(S,w){return ve((0,U.m9)(S),null,w)}function ve(S,w,M){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,o.Z)(function*(S,w,M){const{auth:A}=S,J={idToken:yield S.getIdToken(),returnSecureToken:!0};w&&(J.email=w),M&&(J.password=M);const Oe=yield zt(S,Qo(A,J));yield S._updateTokensIfNecessary(Oe,!0)})).apply(this,arguments)}class Gn{constructor(w,M,A={}){this.isNewUser=w,this.providerId=M,this.profile=A}}class ti extends Gn{constructor(w,M,A,$){super(w,M,A),this.username=$}}class dr extends Gn{constructor(w,M){super(w,"facebook.com",M)}}class Eo extends ti{constructor(w,M){super(w,"github.com",M,"string"==typeof M?.login?M?.login:null)}}class ts extends Gn{constructor(w,M){super(w,"google.com",M)}}class Uc extends ti{constructor(w,M,A){super(w,"twitter.com",M,A)}}function $s(S){const{user:w,_tokenResponse:M}=S;return w.isAnonymous&&!M?{providerId:null,isNewUser:!1,profile:null}:function Rt(S){var w,M;if(!S)return null;const{providerId:A}=S,$=S.rawUserInfo?JSON.parse(S.rawUserInfo):{},J=S.isNewUser||"identitytoolkit#SignupNewUserResponse"===S.kind;if(!A&&S?.idToken){const Oe=null===(M=null===(w=Kt(S.idToken))||void 0===w?void 0:w.firebase)||void 0===M?void 0:M.sign_in_provider;if(Oe)return new Gn(J,"anonymous"!==Oe&&"custom"!==Oe?Oe:null)}if(!A)return null;switch(A){case"facebook.com":return new dr(J,$);case"github.com":return new Eo(J,$);case"google.com":return new ts(J,$);case"twitter.com":return new Uc(J,$,S.screenName||null);case"custom":case"anonymous":return new Gn(J,null);default:return new Gn(J,A,$)}}(M)}function Io(S,w,M,A){return(0,U.m9)(S).onIdTokenChanged(w,M,A)}function qh(S,w,M,A){return(0,U.m9)(S).onAuthStateChanged(w,M,A)}class Ms{constructor(w,M,A){this.type=w,this.credential=M,this.auth=A}static _fromIdtoken(w,M){return new Ms("enroll",w,M)}static _fromMfaPendingCredential(w){return new Ms("signin",w)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(w){var M,A;if(w?.multiFactorSession){if(null!==(M=w.multiFactorSession)&&void 0!==M&&M.pendingCredential)return Ms._fromMfaPendingCredential(w.multiFactorSession.pendingCredential);if(null!==(A=w.multiFactorSession)&&void 0!==A&&A.idToken)return Ms._fromIdtoken(w.multiFactorSession.idToken)}return null}}class Vc{constructor(w,M,A){this.session=w,this.hints=M,this.signInResolver=A}static _fromError(w,M){const A=Ai(w),$=M.customData._serverResponse,J=($.mfaInfo||[]).map(Xe=>wo._fromServerResponse(A,Xe));ue($.mfaPendingCredential,A,"internal-error");const Oe=Ms._fromMfaPendingCredential($.mfaPendingCredential);return new Vc(Oe,J,function(){var Xe=(0,o.Z)(function*(At){const Nt=yield At._process(A,Oe);delete $.mfaInfo,delete $.mfaPendingCredential;const pn=Object.assign(Object.assign({},$),{idToken:Nt.idToken,refreshToken:Nt.refreshToken});switch(M.operationType){case"signIn":const Zn=yield rr._fromIdTokenResponse(A,M.operationType,pn);return yield A._updateCurrentUser(Zn.user),Zn;case"reauthenticate":return ue(M.user,A,"internal-error"),rr._forOperation(M.user,M.operationType,pn);default:xe(A,"internal-error")}});return function(At){return Xe.apply(this,arguments)}}())}resolveSignIn(w){var M=this;return(0,o.Z)(function*(){return M.signInResolver(w)})()}}function dl(S,w){var M;const A=(0,U.m9)(S),$=w;return ue(w.customData.operationType,A,"argument-error"),ue(null===(M=$.customData._serverResponse)||void 0===M?void 0:M.mfaPendingCredential,A,"argument-error"),Vc._fromError(A,$)}class wu{constructor(w){this.user=w,this.enrolledFactors=[],w._onReload(M=>{M.mfaInfo&&(this.enrolledFactors=M.mfaInfo.map(A=>wo._fromServerResponse(w.auth,A)))})}static _fromUser(w){return new wu(w)}getSession(){var w=this;return(0,o.Z)(function*(){return Ms._fromIdtoken(yield w.user.getIdToken(),w.user.auth)})()}enroll(w,M){var A=this;return(0,o.Z)(function*(){const $=w,J=yield A.getSession(),Oe=yield zt(A.user,$._process(A.user.auth,J,M));return yield A.user._updateTokensIfNecessary(Oe),A.user.reload()})()}unenroll(w){var M=this;return(0,o.Z)(function*(){const A="string"==typeof w?w:w.uid,$=yield M.user.getIdToken();try{const J=yield zt(M.user,function th(S,w){return ct(S,"POST","/v2/accounts/mfaEnrollment:withdraw",je(S,w))}(M.user.auth,{idToken:$,mfaEnrollmentId:A}));M.enrolledFactors=M.enrolledFactors.filter(({uid:Oe})=>Oe!==A),yield M.user._updateTokensIfNecessary(J),yield M.user.reload()}catch(J){throw J}})()}}const Ti=new WeakMap;function hl(S){const w=(0,U.m9)(S);return Ti.has(w)||Ti.set(w,wu._fromUser(w)),Ti.get(w)}const Fa="__sak";class Ho{constructor(w,M){this.storageRetriever=w,this.type=M}_isAvailable(){try{return this.storage?(this.storage.setItem(Fa,"1"),this.storage.removeItem(Fa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(w,M){return this.storage.setItem(w,JSON.stringify(M)),Promise.resolve()}_get(w){const M=this.storage.getItem(w);return Promise.resolve(M?JSON.parse(M):null)}_remove(w){return this.storage.removeItem(w),Promise.resolve()}get storage(){return this.storageRetriever()}}const ih=(()=>{class S extends Ho{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(M,A)=>this.onStorageEvent(M,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qr(){const S=(0,U.z$)();return te(S)||Vt(S)}()&&function vr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Rn(),this._shouldAllowMigration=!0}forAllChangedKeys(M){for(const A of Object.keys(this.listeners)){const $=this.storage.getItem(A),J=this.localCache[A];$!==J&&M(A,J,$)}}onStorageEvent(M,A=!1){if(!M.key)return void this.forAllChangedKeys((Xe,At,Nt)=>{this.notifyListeners(Xe,Nt)});const $=M.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Xe=this.storage.getItem($);if(M.newValue!==Xe)null!==M.newValue?this.storage.setItem($,M.newValue):this.storage.removeItem($);else if(this.localCache[$]===M.newValue&&!A)return}const J=()=>{const Xe=this.storage.getItem($);!A&&this.localCache[$]===Xe||this.notifyListeners($,Xe)},Oe=this.storage.getItem($);!function ai(){return(0,U.w1)()&&10===document.documentMode}()||Oe===M.newValue||M.newValue===M.oldValue?J():setTimeout(J,10)}notifyListeners(M,A){this.localCache[M]=A;const $=this.listeners[M];if($)for(const J of Array.from($))J(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((M,A,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:M,oldValue:A,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(M,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[M]||(this.listeners[M]=new Set,this.localCache[M]=this.storage.getItem(M)),this.listeners[M].add(A)}_removeListener(M,A){this.listeners[M]&&(this.listeners[M].delete(A),0===this.listeners[M].size&&delete this.listeners[M]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(M,A){var $=()=>super._set,J=this;return(0,o.Z)(function*(){yield $().call(J,M,A),J.localCache[M]=JSON.stringify(A)})()}_get(M){var A=()=>super._get,$=this;return(0,o.Z)(function*(){const J=yield A().call($,M);return $.localCache[M]=JSON.stringify(J),J})()}_remove(M){var A=()=>super._remove,$=this;return(0,o.Z)(function*(){yield A().call($,M),delete $.localCache[M]})()}}return S.type="LOCAL",S})(),qs=(()=>{class S extends Ho{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(M,A){}_removeListener(M,A){}}return S.type="SESSION",S})();let oh=(()=>{class S{constructor(M){this.eventTarget=M,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(M){const A=this.receivers.find(J=>J.isListeningto(M));if(A)return A;const $=new S(M);return this.receivers.push($),$}isListeningto(M){return this.eventTarget===M}handleEvent(M){var A=this;return(0,o.Z)(function*(){const $=M,{eventId:J,eventType:Oe,data:Xe}=$.data,At=A.handlersMap[Oe];if(!At?.size)return;$.ports[0].postMessage({status:"ack",eventId:J,eventType:Oe});const Nt=Array.from(At).map(function(){var Zn=(0,o.Z)(function*(eo){return eo($.origin,Xe)});return function(eo){return Zn.apply(this,arguments)}}()),pn=yield function pl(S){return Promise.all(S.map(function(){var w=(0,o.Z)(function*(M){try{return{fulfilled:!0,value:yield M}}catch(A){return{fulfilled:!1,reason:A}}});return function(M){return w.apply(this,arguments)}}()))}(Nt);$.ports[0].postMessage({status:"done",eventId:J,eventType:Oe,response:pn})})()}_subscribe(M,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[M]||(this.handlersMap[M]=new Set),this.handlersMap[M].add(A)}_unsubscribe(M,A){this.handlersMap[M]&&A&&this.handlersMap[M].delete(A),(!A||0===this.handlersMap[M].size)&&delete this.handlersMap[M],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return S.receivers=[],S})();function Bc(S="",w=10){let M="";for(let A=0;A<w;A++)M+=Math.floor(10*Math.random());return S+M}class Zh{constructor(w){this.target=w,this.handlers=new Set}removeMessageHandler(w){w.messageChannel&&(w.messageChannel.port1.removeEventListener("message",w.onMessage),w.messageChannel.port1.close()),this.handlers.delete(w)}_send(w,M,A=50){var $=this;return(0,o.Z)(function*(){const J=typeof MessageChannel<"u"?new MessageChannel:null;if(!J)throw new Error("connection_unavailable");let Oe,Xe;return new Promise((At,Nt)=>{const pn=Bc("",20);J.port1.start();const Zn=setTimeout(()=>{Nt(new Error("unsupported_event"))},A);Xe={messageChannel:J,onMessage(eo){const ya=eo;if(ya.data.eventId===pn)switch(ya.data.status){case"ack":clearTimeout(Zn),Oe=setTimeout(()=>{Nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Oe),At(ya.data.response);break;default:clearTimeout(Zn),clearTimeout(Oe),Nt(new Error("invalid_response"))}}},$.handlers.add(Xe),J.port1.addEventListener("message",Xe.onMessage),$.target.postMessage({eventType:w,eventId:pn,data:M},[J.port2])}).finally(()=>{Xe&&$.removeMessageHandler(Xe)})})()}}function Vr(){return window}function Cu(){return typeof Vr().WorkerGlobalScope<"u"&&"function"==typeof Vr().importScripts}function jc(){return(jc=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Br="firebaseLocalStorageDb",Wi="firebaseLocalStorage",Ts="fbase_key";class zc{constructor(w){this.request=w}toPromise(){return new Promise((w,M)=>{this.request.addEventListener("success",()=>{w(this.request.result)}),this.request.addEventListener("error",()=>{M(this.request.error)})})}}function sh(S,w){return S.transaction([Wi],w?"readwrite":"readonly").objectStore(Wi)}function ah(){const S=indexedDB.open(Br,1);return new Promise((w,M)=>{S.addEventListener("error",()=>{M(S.error)}),S.addEventListener("upgradeneeded",()=>{const A=S.result;try{A.createObjectStore(Wi,{keyPath:Ts})}catch($){M($)}}),S.addEventListener("success",(0,o.Z)(function*(){const A=S.result;A.objectStoreNames.contains(Wi)?w(A):(A.close(),yield function tp(){const S=indexedDB.deleteDatabase(Br);return new zc(S).toPromise()}(),w(yield ah()))}))})}function uc(S,w,M){return pt.apply(this,arguments)}function pt(){return(pt=(0,o.Z)(function*(S,w,M){const A=sh(S,!0).put({[Ts]:w,value:M});return new zc(A).toPromise()})).apply(this,arguments)}function Os(){return(Os=(0,o.Z)(function*(S,w){const M=sh(S,!1).get(w),A=yield new zc(M).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function xu(S,w){const M=sh(S,!0).delete(w);return new zc(M).toPromise()}const So=(()=>{class S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var M=this;return(0,o.Z)(function*(){return M.db||(M.db=yield ah()),M.db})()}_withRetries(M){var A=this;return(0,o.Z)(function*(){let $=0;for(;;)try{const J=yield A._openDb();return yield M(J)}catch(J){if($++>3)throw J;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var M=this;return(0,o.Z)(function*(){return Cu()?M.initializeReceiver():M.initializeSender()})()}initializeReceiver(){var M=this;return(0,o.Z)(function*(){M.receiver=oh._getInstance(function rd(){return Cu()?self:null}()),M.receiver._subscribe("keyChanged",function(){var A=(0,o.Z)(function*($,J){return{keyProcessed:(yield M._poll()).includes(J.key)}});return function($,J){return A.apply(this,arguments)}}()),M.receiver._subscribe("ping",function(){var A=(0,o.Z)(function*($,J){return["keyChanged"]});return function($,J){return A.apply(this,arguments)}}())})()}initializeSender(){var M=this;return(0,o.Z)(function*(){var A,$;if(M.activeServiceWorker=yield function Mn(){return jc.apply(this,arguments)}(),!M.activeServiceWorker)return;M.sender=new Zh(M.activeServiceWorker);const J=yield M.sender._send("ping",{},800);J&&null!==(A=J[0])&&void 0!==A&&A.fulfilled&&null!==($=J[0])&&void 0!==$&&$.value.includes("keyChanged")&&(M.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(M){var A=this;return(0,o.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function ep(){var S;return(null===(S=navigator?.serviceWorker)||void 0===S?void 0:S.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:M},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const M=yield ah();return yield uc(M,Fa,"1"),yield xu(M,Fa),!0}catch{}return!1})()}_withPendingWrite(M){var A=this;return(0,o.Z)(function*(){A.pendingWrites++;try{yield M()}finally{A.pendingWrites--}})()}_set(M,A){var $=this;return(0,o.Z)(function*(){return $._withPendingWrite((0,o.Z)(function*(){return yield $._withRetries(J=>uc(J,M,A)),$.localCache[M]=A,$.notifyServiceWorker(M)}))})()}_get(M){var A=this;return(0,o.Z)(function*(){const $=yield A._withRetries(J=>function ii(S,w){return Os.apply(this,arguments)}(J,M));return A.localCache[M]=$,$})()}_remove(M){var A=this;return(0,o.Z)(function*(){return A._withPendingWrite((0,o.Z)(function*(){return yield A._withRetries($=>xu($,M)),delete A.localCache[M],A.notifyServiceWorker(M)}))})()}_poll(){var M=this;return(0,o.Z)(function*(){const A=yield M._withRetries(Oe=>{const Xe=sh(Oe,!1).getAll();return new zc(Xe).toPromise()});if(!A)return[];if(0!==M.pendingWrites)return[];const $=[],J=new Set;for(const{fbase_key:Oe,value:Xe}of A)J.add(Oe),JSON.stringify(M.localCache[Oe])!==JSON.stringify(Xe)&&(M.notifyListeners(Oe,Xe),$.push(Oe));for(const Oe of Object.keys(M.localCache))M.localCache[Oe]&&!J.has(Oe)&&(M.notifyListeners(Oe,null),$.push(Oe));return $})()}notifyListeners(M,A){this.localCache[M]=A;const $=this.listeners[M];if($)for(const J of Array.from($))J(A)}startPolling(){var M=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return M._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(M,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[M]||(this.listeners[M]=new Set,this._get(M)),this.listeners[M].add(A)}_removeListener(M,A){this.listeners[M]&&(this.listeners[M].delete(A),0===this.listeners[M].size&&delete this.listeners[M]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return S.type="LOCAL",S})(),Ji=1e12;class hr{constructor(w){this.auth=w,this.counter=Ji,this._widgets=new Map}render(w,M){const A=this.counter;return this._widgets.set(A,new co(w,this.auth.name,M||{})),this.counter++,A}reset(w){var M;const A=w||Ji;null===(M=this._widgets.get(A))||void 0===M||M.delete(),this._widgets.delete(A)}getResponse(w){var M;return(null===(M=this._widgets.get(w||Ji))||void 0===M?void 0:M.getResponse())||""}execute(w){var M=this;return(0,o.Z)(function*(){var A;return null===(A=M._widgets.get(w||Ji))||void 0===A||A.execute(),""})()}}class co{constructor(w,M,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const $="string"==typeof w?document.getElementById(w):w;ue($,"argument-error",{appName:M}),this.container=$,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Jr(S){const w=[],M="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<S;A++)w.push(M.charAt(Math.floor(62*Math.random())));return w.join("")}(50);const{callback:w,"expired-callback":M}=this.params;if(w)try{w(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,M)try{M()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xr=er("rcb"),Yh=new rn(3e4,6e4);class sd{constructor(){var w;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(w=Vr().grecaptcha)||void 0===w||!w.render)}load(w,M=""){return ue(function ym(S){return S.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(S)}(M),w,"argument-error"),this.shouldResolveImmediately(M)&&kt(Vr().grecaptcha)?Promise.resolve(Vr().grecaptcha):new Promise((A,$)=>{const J=Vr().setTimeout(()=>{$(nt(w,"network-request-failed"))},Yh.get());Vr()[Xr]=()=>{Vr().clearTimeout(J),delete Vr()[Xr];const Xe=Vr().grecaptcha;if(!Xe||!kt(Xe))return void $(nt(w,"internal-error"));const At=Xe.render;Xe.render=(Nt,pn)=>{const Zn=At(Nt,pn);return this.counter++,Zn},this.hostLanguage=M,A(Xe)},Yi(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:Xr,render:"explicit",hl:M})}`).catch(()=>{clearTimeout(J),$(nt(w,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(w){var M;return!(null===(M=Vr().grecaptcha)||void 0===M||!M.render)&&(w===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Eu{load(w){return(0,o.Z)(function*(){return new hr(w)})()}clearedOneInstance(){}}const $l="recaptcha",ch={theme:"light",type:"image"};class ml{constructor(w,M=Object.assign({},ch),A){this.parameters=M,this.type=$l,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ai(A),this.isInvisible="invisible"===this.parameters.size,ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const $="string"==typeof w?document.getElementById(w):w;ue($,this.auth,"argument-error"),this.container=$,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Eu:new sd,this.validateStartingState()}verify(){var w=this;return(0,o.Z)(function*(){w.assertNotDestroyed();const M=yield w.render(),A=w.getAssertedRecaptcha();return A.getResponse(M)||new Promise(J=>{const Oe=Xe=>{Xe&&(w.tokenChangeListeners.delete(Oe),J(Xe))};w.tokenChangeListeners.add(Oe),w.isInvisible&&A.execute(M)})})()}render(){try{this.assertNotDestroyed()}catch(w){return Promise.reject(w)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(w=>{throw this.renderPromise=null,w})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(w=>{this.container.removeChild(w)})}validateStartingState(){ue(!this.parameters.sitekey,this.auth,"argument-error"),ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(w){return M=>{if(this.tokenChangeListeners.forEach(A=>A(M)),"function"==typeof w)w(M);else if("string"==typeof w){const A=Vr()[w];"function"==typeof A&&A(M)}}}assertNotDestroyed(){ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var w=this;return(0,o.Z)(function*(){if(yield w.init(),!w.widgetId){let M=w.container;if(!w.isInvisible){const A=document.createElement("div");M.appendChild(A),M=A}w.widgetId=w.getAssertedRecaptcha().render(M,w.parameters)}return w.widgetId})()}init(){var w=this;return(0,o.Z)(function*(){ue(ot()&&!Cu(),w.auth,"internal-error"),yield function lh(){let S=null;return new Promise(w=>{"complete"!==document.readyState?(S=()=>w(),window.addEventListener("load",S)):w()}).catch(w=>{throw S&&window.removeEventListener("load",S),w})}(),w.recaptcha=yield w._recaptchaLoader.load(w.auth,w.auth.languageCode||void 0);const M=yield function Je(S){return ze.apply(this,arguments)}(w.auth);ue(M,w.auth,"internal-error"),w.parameters.sitekey=M})()}getAssertedRecaptcha(){return ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class La{constructor(w,M){this.verificationId=w,this.onConfirmation=M}confirm(w){const M=on._fromVerification(this.verificationId,w);return this.onConfirmation(M)}}function ql(S,w,M){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,o.Z)(function*(S,w,M){const A=Ai(S),$=yield fc(A,w,(0,U.m9)(M));return new La($,J=>Aa(A,J))})).apply(this,arguments)}function ds(S,w,M){return gl.apply(this,arguments)}function gl(){return(gl=(0,o.Z)(function*(S,w,M){const A=(0,U.m9)(S);yield ha(!1,A,"phone");const $=yield fc(A.auth,w,(0,U.m9)(M));return new La($,J=>oc(A,J))})).apply(this,arguments)}function dc(S,w,M){return hc.apply(this,arguments)}function hc(){return(hc=(0,o.Z)(function*(S,w,M){const A=(0,U.m9)(S),$=yield fc(A.auth,w,(0,U.m9)(M));return new La($,J=>gi(A,J))})).apply(this,arguments)}function fc(S,w,M){return Gl.apply(this,arguments)}function Gl(){return Gl=(0,o.Z)(function*(S,w,M){var A;const $=yield M.verify();try{let J;if(ue("string"==typeof $,S,"argument-error"),ue(M.type===$l,S,"argument-error"),J="string"==typeof w?{phoneNumber:w}:w,"session"in J){const Oe=J.session;if("phoneNumber"in J)return ue("enroll"===Oe.type,S,"internal-error"),(yield function id(S,w){return ct(S,"POST","/v2/accounts/mfaEnrollment:start",je(S,w))}(S,{idToken:Oe.credential,phoneEnrollmentInfo:{phoneNumber:J.phoneNumber,recaptchaToken:$}})).phoneSessionInfo.sessionInfo;{ue("signin"===Oe.type,S,"internal-error");const Xe=(null===(A=J.multiFactorHint)||void 0===A?void 0:A.uid)||J.multiFactorUid;return ue(Xe,S,"missing-multi-factor-info"),(yield function Qi(S,w){return ct(S,"POST","/v2/accounts/mfaSignIn:start",je(S,w))}(S,{mfaPendingCredential:Oe.credential,mfaEnrollmentId:Xe,phoneSignInInfo:{recaptchaToken:$}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Oe}=yield function En(S,w){return Mi.apply(this,arguments)}(S,{phoneNumber:J.phoneNumber,recaptchaToken:$});return Oe}}finally{M._reset()}}),Gl.apply(this,arguments)}function ns(S,w){return _a.apply(this,arguments)}function _a(){return(_a=(0,o.Z)(function*(S,w){yield Yr((0,U.m9)(S),w)})).apply(this,arguments)}let sr=(()=>{class S{constructor(M){this.providerId=S.PROVIDER_ID,this.auth=Ai(M)}verifyPhoneNumber(M,A){return fc(this.auth,M,(0,U.m9)(A))}static credential(M,A){return on._fromVerification(M,A)}static credentialFromResult(M){return S.credentialFromTaggedObject(M)}static credentialFromError(M){return S.credentialFromTaggedObject(M.customData||{})}static credentialFromTaggedObject({_tokenResponse:M}){if(!M)return null;const{phoneNumber:A,temporaryProof:$}=M;return A&&$?on._fromTokenResponse(A,$):null}}return S.PROVIDER_ID="phone",S.PHONE_SIGN_IN_METHOD="phone",S})();function va(S,w){return w?mi(w):(ue(S._popupRedirectResolver,S,"argument-error"),S._popupRedirectResolver)}class uh extends oa{constructor(w){super("custom","custom"),this.params=w}_getIdTokenResponse(w){return Vs(w,this._buildIdpRequest())}_linkToIdToken(w,M){return Vs(w,this._buildIdpRequest(M))}_getReauthenticationResolver(w){return Vs(w,this._buildIdpRequest())}_buildIdpRequest(w){const M={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return w&&(M.idToken=w),M}}function hs(S){return xs(S.auth,new uh(S),S.bypassAuthState)}function zn(S){const{auth:w,user:M}=S;return ue(M,w,"internal-error"),kr(M,new uh(S),S.bypassAuthState)}function ar(S){return Po.apply(this,arguments)}function Po(){return(Po=(0,o.Z)(function*(S){const{auth:w,user:M}=S;return ue(M,w,"internal-error"),Yr(M,new uh(S),S.bypassAuthState)})).apply(this,arguments)}class Zl{constructor(w,M,A,$,J=!1){this.auth=w,this.resolver=A,this.user=$,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(M)?M:[M]}execute(){var w=this;return new Promise(function(){var M=(0,o.Z)(function*(A,$){w.pendingPromise={resolve:A,reject:$};try{w.eventManager=yield w.resolver._initialize(w.auth),yield w.onExecution(),w.eventManager.registerConsumer(w)}catch(J){w.reject(J)}});return function(A,$){return M.apply(this,arguments)}}())}onAuthEvent(w){var M=this;return(0,o.Z)(function*(){const{urlResponse:A,sessionId:$,postBody:J,tenantId:Oe,error:Xe,type:At}=w;if(Xe)return void M.reject(Xe);const Nt={auth:M.auth,requestUri:A,sessionId:$,tenantId:Oe||void 0,postBody:J||void 0,user:M.user,bypassAuthState:M.bypassAuthState};try{M.resolve(yield M.getIdpTask(At)(Nt))}catch(pn){M.reject(pn)}})()}onError(w){this.reject(w)}getIdpTask(w){switch(w){case"signInViaPopup":case"signInViaRedirect":return hs;case"linkViaPopup":case"linkViaRedirect":return ar;case"reauthViaPopup":case"reauthViaRedirect":return zn;default:xe(this.auth,"internal-error")}}resolve(w){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(w),this.unregisterAndCleanUp()}reject(w){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(w),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pc=new rn(2e3,1e4);function li(S,w,M){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,o.Z)(function*(S,w,M){const A=Ai(S);it(S,w,Uo);const $=va(A,M);return new tr(A,"signInViaPopup",w,$).executeNotNull()})).apply(this,arguments)}function jr(S,w,M){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,o.Z)(function*(S,w,M){const A=(0,U.m9)(S);it(A.auth,w,Uo);const $=va(A.auth,M);return new tr(A.auth,"reauthViaPopup",w,$,A).executeNotNull()})).apply(this,arguments)}function Nr(S,w,M){return cr.apply(this,arguments)}function cr(){return(cr=(0,o.Z)(function*(S,w,M){const A=(0,U.m9)(S);it(A.auth,w,Uo);const $=va(A.auth,M);return new tr(A.auth,"linkViaPopup",w,$,A).executeNotNull()})).apply(this,arguments)}let tr=(()=>{class S extends Zl{constructor(M,A,$,J,Oe){super(M,A,J,Oe),this.provider=$,this.authWindow=null,this.pollId=null,S.currentPopupAction&&S.currentPopupAction.cancel(),S.currentPopupAction=this}executeNotNull(){var M=this;return(0,o.Z)(function*(){const A=yield M.execute();return ue(A,M.auth,"internal-error"),A})()}onExecution(){var M=this;return(0,o.Z)(function*(){Le(1===M.filter.length,"Popup operations only handle one event");const A=Bc();M.authWindow=yield M.resolver._openPopup(M.auth,M.provider,M.filter[0],A),M.authWindow.associatedEvent=A,M.resolver._originValidation(M.auth).catch($=>{M.reject($)}),M.resolver._isIframeWebStorageSupported(M.auth,$=>{$||M.reject(nt(M.auth,"web-storage-unsupported"))}),M.pollUserCancellation()})()}get eventId(){var M;return(null===(M=this.authWindow)||void 0===M?void 0:M.associatedEvent)||null}cancel(){this.reject(nt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,S.currentPopupAction=null}pollUserCancellation(){const M=()=>{var A,$;this.pollId=null!==($=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==$&&$.closed?window.setTimeout(()=>{this.pollId=null,this.reject(nt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(M,pc.get())};M()}}return S.currentPopupAction=null,S})();const ip="pendingRedirect",Ss=new Map;class ad extends Zl{constructor(w,M,A=!1){super(w,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],M,void 0,A),this.eventId=null}execute(){var w=()=>super.execute,M=this;return(0,o.Z)(function*(){let A=Ss.get(M.auth._key());if(!A){try{const J=(yield function bm(S,w){return cd.apply(this,arguments)}(M.resolver,M.auth))?yield w().call(M):null;A=()=>Promise.resolve(J)}catch($){A=()=>Promise.reject($)}Ss.set(M.auth._key(),A)}return M.bypassAuthState||Ss.set(M.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(w){var M=()=>super.onAuthEvent,A=this;return(0,o.Z)(function*(){if("signInViaRedirect"===w.type)return M().call(A,w);if("unknown"!==w.type){if(w.eventId){const $=yield A.auth._redirectUserForId(w.eventId);if($)return A.user=$,M().call(A,w);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function cd(){return(cd=(0,o.Z)(function*(S,w){const M=dh(w),A=Kh(S);if(!(yield A._isAvailable()))return!1;const $="true"===(yield A._get(M));return yield A._remove(M),$})).apply(this,arguments)}function ld(S,w){return rp.apply(this,arguments)}function rp(){return(rp=(0,o.Z)(function*(S,w){return Kh(S)._set(dh(w),"true")})).apply(this,arguments)}function ud(){Ss.clear()}function Wl(S,w){Ss.set(S._key(),w)}function Kh(S){return mi(S._redirectPersistence)}function dh(S){return go(ip,S.config.apiKey,S.name)}function $c(S,w,M){return function qc(S,w,M){return dd.apply(this,arguments)}(S,w,M)}function dd(){return(dd=(0,o.Z)(function*(S,w,M){const A=Ai(S);it(S,w,Uo),yield A._initializationPromise;const $=va(A,M);return yield ld($,A),$._openRedirect(A,w,"signInViaRedirect")})).apply(this,arguments)}function _l(S,w,M){return function Iu(S,w,M){return fs.apply(this,arguments)}(S,w,M)}function fs(){return(fs=(0,o.Z)(function*(S,w,M){const A=(0,U.m9)(S);it(A.auth,w,Uo),yield A.auth._initializationPromise;const $=va(A.auth,M);yield ld($,A.auth);const J=yield Yl(A);return $._openRedirect(A.auth,w,"reauthViaRedirect",J)})).apply(this,arguments)}function Qh(S,w,M){return function Jh(S,w,M){return hh.apply(this,arguments)}(S,w,M)}function hh(){return(hh=(0,o.Z)(function*(S,w,M){const A=(0,U.m9)(S);it(A.auth,w,Uo),yield A.auth._initializationPromise;const $=va(A.auth,M);yield ha(!1,A,w.providerId),yield ld($,A.auth);const J=yield Yl(A);return $._openRedirect(A.auth,w,"linkViaRedirect",J)})).apply(this,arguments)}function Xh(S,w){return $o.apply(this,arguments)}function $o(){return($o=(0,o.Z)(function*(S,w){return yield Ai(S)._initializationPromise,hd(S,w,!1)})).apply(this,arguments)}function hd(S,w){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,o.Z)(function*(S,w,M=!1){const A=Ai(S),$=va(A,w),Oe=yield new ad(A,$,M).execute();return Oe&&!M&&(delete Oe.user._redirectEventId,yield A._persistUserIfCurrent(Oe.user),yield A._setRedirectUser(null,w)),Oe})).apply(this,arguments)}function Yl(S){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,o.Z)(function*(S){const w=Bc(`${S.uid}:::`);return S._redirectEventId=w,yield S.auth._setRedirectUser(S),yield S.auth._persistUserIfCurrent(S),w})).apply(this,arguments)}class Ql{constructor(w){this.auth=w,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(w){this.consumers.add(w),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,w)&&(this.sendToConsumer(this.queuedRedirectEvent,w),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(w){this.consumers.delete(w)}onEvent(w){if(this.hasEventBeenHandled(w))return!1;let M=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(w,A)&&(M=!0,this.sendToConsumer(w,A),this.saveEventToCache(w))}),this.hasHandledPotentialRedirect||!function Xl(S){switch(S.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jl(S);default:return!1}}(w)||(this.hasHandledPotentialRedirect=!0,M||(this.queuedRedirectEvent=w,M=!0)),M}sendToConsumer(w,M){var A;if(w.error&&!Jl(w)){const $=(null===(A=w.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";M.onError(nt(this.auth,$))}else M.onAuthEvent(w)}isEventForConsumer(w,M){const A=null===M.eventId||!!w.eventId&&w.eventId===M.eventId;return M.filter.includes(w.type)&&A}hasEventBeenHandled(w){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fd(w))}saveEventToCache(w){this.cachedEventUids.add(fd(w)),this.lastProcessedEventTime=Date.now()}}function fd(S){return[S.type,S.eventId,S.sessionId,S.tenantId].filter(w=>w).join("-")}function Jl({type:S,error:w}){return"unknown"===S&&"auth/no-auth-event"===w?.code}function Zs(S){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,o.Z)(function*(S,w={}){return ct(S,"GET","/v1/projects",w)})).apply(this,arguments)}const op=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pd=/^https?/;function fh(){return(fh=(0,o.Z)(function*(S){if(S.config.emulator)return;const{authorizedDomains:w}=yield Zs(S);for(const M of w)try{if(ph(M))return}catch{}xe(S,"unauthorized-domain")})).apply(this,arguments)}function ph(S){const w=Ct(),{protocol:M,hostname:A}=new URL(w);if(S.startsWith("chrome-extension://")){const Oe=new URL(S);return""===Oe.hostname&&""===A?"chrome-extension:"===M&&S.replace("chrome-extension://","")===w.replace("chrome-extension://",""):"chrome-extension:"===M&&Oe.hostname===A}if(!pd.test(M))return!1;if(op.test(S))return A===S;const $=S.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(A)}const vl=new rn(3e4,6e4);function is(){const S=Vr().___jsl;if(S?.H)for(const w of Object.keys(S.H))if(S.H[w].r=S.H[w].r||[],S.H[w].L=S.H[w].L||[],S.H[w].r=[...S.H[w].L],S.CP)for(let M=0;M<S.CP.length;M++)S.CP[M]=null}let Ri=null;const md=new rn(5e3,15e3),Oi="__/auth/iframe",gd="emulator/auth/iframe",sp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ps=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yl(S){const w=S.config;ue(w.authDomain,S,"auth-domain-config-required");const M=w.emulator?pi(w,gd):`https://${S.config.authDomain}/${Oi}`,A={apiKey:w.apiKey,appName:S.name,v:Y.SDK_VERSION},$=ps.get(S.config.apiHost);$&&(A.eid=$);const J=S._getFrameworks();return J.length&&(A.fw=J.join(",")),`${M}?${(0,U.xO)(A).slice(1)}`}function Zc(){return Zc=(0,o.Z)(function*(S){const w=yield function mc(S){return Ri=Ri||function Gc(S){return new Promise((w,M)=>{var A,$,J;function Oe(){is(),gapi.load("gapi.iframes",{callback:()=>{w(gapi.iframes.getContext())},ontimeout:()=>{is(),M(nt(S,"network-request-failed"))},timeout:vl.get()})}if(null!==($=null===(A=Vr().gapi)||void 0===A?void 0:A.iframes)&&void 0!==$&&$.Iframe)w(gapi.iframes.getContext());else{if(null===(J=Vr().gapi)||void 0===J||!J.load){const Xe=er("iframefcb");return Vr()[Xe]=()=>{gapi.load?Oe():M(nt(S,"network-request-failed"))},Yi(`https://apis.google.com/js/api.js?onload=${Xe}`).catch(At=>M(At))}Oe()}}).catch(w=>{throw Ri=null,w})}(S),Ri}(S),M=Vr().gapi;return ue(M,S,"internal-error"),w.open({where:document.body,url:yl(S),messageHandlersFilter:M.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sp,dontclear:!0},A=>new Promise(function(){var $=(0,o.Z)(function*(J,Oe){yield A.restyle({setHideOnLeave:!1});const Xe=nt(S,"network-request-failed"),At=Vr().setTimeout(()=>{Oe(Xe)},md.get());function Nt(){Vr().clearTimeout(At),J(A)}A.ping(Nt).then(Nt,()=>{Oe(Xe)})});return function(J,Oe){return $.apply(this,arguments)}}()))}),Zc.apply(this,arguments)}const D={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ue{constructor(w){this.window=w,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ft="__/auth/handler",hn="emulator/auth/handler",Un=encodeURIComponent("fac");function Sn(S,w,M,A,$,J){return ms.apply(this,arguments)}function ms(){return(ms=(0,o.Z)(function*(S,w,M,A,$,J){ue(S.config.authDomain,S,"auth-domain-config-required"),ue(S.config.apiKey,S,"invalid-api-key");const Oe={apiKey:S.config.apiKey,appName:S.name,authType:M,redirectUrl:A,v:Y.SDK_VERSION,eventId:$};if(w instanceof Uo){w.setDefaultLanguage(S.languageCode),Oe.providerId=w.providerId||"",(0,U.xb)(w.getCustomParameters())||(Oe.customParameters=JSON.stringify(w.getCustomParameters()));for(const[pn,Zn]of Object.entries(J||{}))Oe[pn]=Zn}if(w instanceof Er){const pn=w.getScopes().filter(Zn=>""!==Zn);pn.length>0&&(Oe.scopes=pn.join(","))}S.tenantId&&(Oe.tid=S.tenantId);const Xe=Oe;for(const pn of Object.keys(Xe))void 0===Xe[pn]&&delete Xe[pn];const At=yield S._getAppCheckToken(),Nt=At?`#${Un}=${encodeURIComponent(At)}`:"";return`${function Do({config:S}){return S.emulator?pi(S,hn):`https://${S.authDomain}/${Ft}`}(S)}?${(0,U.xO)(Xe).slice(1)}${Nt}`})).apply(this,arguments)}const Xi="webStorageSupport",ja=class Ou{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qs,this._completeRedirectFn=hd,this._overrideRedirectResult=Wl}_openPopup(w,M,A,$){var J=this;return(0,o.Z)(function*(){var Oe;Le(null===(Oe=J.eventManagers[w._key()])||void 0===Oe?void 0:Oe.manager,"_initialize() not called before _openPopup()");const Xe=yield Sn(w,M,A,Ct(),$);return function rt(S,w,M,A=500,$=600){const J=Math.max((window.screen.availHeight-$)/2,0).toString(),Oe=Math.max((window.screen.availWidth-A)/2,0).toString();let Xe="";const At=Object.assign(Object.assign({},D),{width:A.toString(),height:$.toString(),top:J,left:Oe}),Nt=(0,U.z$)().toLowerCase();M&&(Xe=K(Nt)?"_blank":M),X(Nt)&&(w=w||"http://localhost",At.scrollbars="yes");const pn=Object.entries(At).reduce((eo,[ya,to])=>`${eo}${ya}=${to},`,"");if(function xn(S=(0,U.z$)()){var w;return Vt(S)&&!(null===(w=window.navigator)||void 0===w||!w.standalone)}(Nt)&&"_self"!==Xe)return function Bt(S,w){const M=document.createElement("a");M.href=S,M.target=w;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),M.dispatchEvent(A)}(w||"",Xe),new Ue(null);const Zn=window.open(w||"",Xe,pn);ue(Zn,S,"popup-blocked");try{Zn.focus()}catch{}return new Ue(Zn)}(w,Xe,Bc())})()}_openRedirect(w,M,A,$){var J=this;return(0,o.Z)(function*(){return yield J._originValidation(w),function lc(S){Vr().location.href=S}(yield Sn(w,M,A,Ct(),$)),new Promise(()=>{})})()}_initialize(w){const M=w._key();if(this.eventManagers[M]){const{manager:$,promise:J}=this.eventManagers[M];return $?Promise.resolve($):(Le(J,"If manager is not set, promise should be"),J)}const A=this.initAndGetManager(w);return this.eventManagers[M]={promise:A},A.catch(()=>{delete this.eventManagers[M]}),A}initAndGetManager(w){var M=this;return(0,o.Z)(function*(){const A=yield function Ba(S){return Zc.apply(this,arguments)}(w),$=new Ql(w);return A.register("authEvent",J=>(ue(J?.authEvent,w,"invalid-auth-event"),{status:$.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),M.eventManagers[w._key()]={manager:$},M.iframes[w._key()]=A,$})()}_isIframeWebStorageSupported(w,M){this.iframes[w._key()].send(Xi,{type:Xi},$=>{var J;const Oe=null===(J=$?.[0])||void 0===J?void 0:J[Xi];void 0!==Oe&&M(!!Oe),xe(w,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(w){const M=w._key();return this.originValidationPromises[M]||(this.originValidationPromises[M]=function Va(S){return fh.apply(this,arguments)}(w)),this.originValidationPromises[M]}get _shouldInitProactively(){return Rn()||te()||Vt()}};class za{constructor(w){this.factorId=w}_process(w,M,A){switch(M.type){case"enroll":return this._finalizeEnroll(w,M.credential,A);case"signin":return this._finalizeSignIn(w,M.credential);default:return Ge("unexpected MultiFactorSessionType")}}}class Fr extends za{constructor(w){super("phone"),this.credential=w}static _fromCredential(w){return new Fr(w)}_finalizeEnroll(w,M,A){return function bu(S,w){return ct(S,"POST","/v2/accounts/mfaEnrollment:finalize",je(S,w))}(w,{idToken:M,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(w,M){return function ao(S,w){return ct(S,"POST","/v2/accounts/mfaSignIn:finalize",je(S,w))}(w,{mfaPendingCredential:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let bl=(()=>{class S{constructor(){}static assertion(M){return Fr._fromCredential(M)}}return S.FACTOR_ID="phone",S})();var c_="@firebase/auth";class Ny{constructor(w){this.auth=w,this.internalListeners=new Map}getUid(){var w;return this.assertAuthConfigured(),(null===(w=this.auth.currentUser)||void 0===w?void 0:w.uid)||null}getToken(w){var M=this;return(0,o.Z)(function*(){return M.assertAuthConfigured(),yield M.auth._initializationPromise,M.auth.currentUser?{accessToken:yield M.auth.currentUser.getIdToken(w)}:null})()}addAuthTokenListener(w){if(this.assertAuthConfigured(),this.internalListeners.has(w))return;const M=this.auth.onIdTokenChanged(A=>{w(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(w,M),this.updateProactiveRefresh()}removeAuthTokenListener(w){this.assertAuthConfigured();const M=this.internalListeners.get(w);M&&(this.internalListeners.delete(w),M(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const l_=(0,U.Pz)("authIdTokenMaxAge")||300;let yd=null;const u_=S=>function(){var w=(0,o.Z)(function*(M){const A=M&&(yield M.getIdTokenResult()),$=A&&((new Date).getTime()-Date.parse(A.issuedAtTime))/1e3;if($&&$>l_)return;const J=A?.token;yd!==J&&(yd=J,yield fetch(S,{method:J?"POST":"DELETE",headers:J?{Authorization:`Bearer ${J}`}:{}}))});return function(M){return w.apply(this,arguments)}}();function tf(S=(0,Y.getApp)()){const w=(0,Y._getProvider)(S,"auth");if(w.isInitialized())return w.getImmediate();const M=function ci(S,w){const M=(0,Y._getProvider)(S,"auth");if(M.isInitialized()){const $=M.getImmediate(),J=M.getOptions();if((0,U.vZ)(J,w??{}))return $;xe($,"already-initialized")}return M.initialize({options:w})}(S,{popupRedirectResolver:ja,persistence:[So,ih,qs]}),A=(0,U.Pz)("authTokenSyncURL");if(A){const J=u_(A);(function td(S,w,M){(0,U.m9)(S).beforeAuthStateChanged(w,M)})(M,J,()=>J(M.currentUser)),Io(M,Oe=>J(Oe))}const $=(0,U.q4)("auth");return $&&tc(M,`http://${$}`),M}!function ap(S){(0,Y._registerComponent)(new ke.wA("auth",(w,{options:M})=>{const A=w.getProvider("app").getImmediate(),$=w.getProvider("heartbeat"),J=w.getProvider("app-check-internal"),{apiKey:Oe,authDomain:Xe}=A.options;ue(Oe&&!Oe.includes(":"),"invalid-api-key",{appName:A.name});const At={apiKey:Oe,authDomain:Xe,clientPlatform:S,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yo(S)},Nt=new Ln(A,$,J,At);return function xc(S,w){const M=w?.persistence||[],A=(Array.isArray(M)?M:[M]).map(mi);w?.errorMap&&S._updateErrorMap(w.errorMap),S._initializeWithPersistence(A,w?.popupRedirectResolver)}(Nt,M),Nt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((w,M,A)=>{w.getProvider("auth-internal").initialize()})),(0,Y._registerComponent)(new ke.wA("auth-internal",w=>{const M=Ai(w.getProvider("auth").getImmediate());return new Ny(M)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Y.registerVersion)(c_,"0.23.2",function Ws(S){switch(S){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(S)),(0,Y.registerVersion)(c_,"0.23.2","esm2017")}("Browser")},9058:(en,Se,Q)=>{Q.d(Se,{$s:()=>mi,BH:()=>$e,DV:()=>Fn,Dv:()=>Fe,G6:()=>pi,GJ:()=>Ut,L:()=>Ve,LL:()=>gt,P0:()=>We,Pz:()=>nt,Sg:()=>it,UG:()=>Ge,UI:()=>Ci,US:()=>ke,Wj:()=>jt,Wl:()=>dn,Yr:()=>rn,ZB:()=>de,ZR:()=>ct,aH:()=>xe,b$:()=>ot,cI:()=>Tn,dS:()=>Ht,eu:()=>Ce,g5:()=>Y,gK:()=>xt,gQ:()=>Qt,h$:()=>ut,hl:()=>Te,hu:()=>U,jU:()=>Le,lb:()=>Xt,m9:()=>go,ne:()=>zt,p$:()=>G,pd:()=>Kt,q4:()=>at,r3:()=>cn,ru:()=>Ct,tV:()=>z,uI:()=>ue,ug:()=>xi,vZ:()=>Di,w1:()=>nn,w9:()=>On,xO:()=>No,xb:()=>Vn,z$:()=>he,zI:()=>He,zd:()=>sn});const o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},U=function(fe,le){if(!fe)throw Y(le)},Y=function(fe){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+fe)},pe=function(fe){const le=[];let X=0;for(let te=0;te<fe.length;te++){let K=fe.charCodeAt(te);K<128?le[X++]=K:K<2048?(le[X++]=K>>6|192,le[X++]=63&K|128):55296==(64512&K)&&te+1<fe.length&&56320==(64512&fe.charCodeAt(te+1))?(K=65536+((1023&K)<<10)+(1023&fe.charCodeAt(++te)),le[X++]=K>>18|240,le[X++]=K>>12&63|128,le[X++]=K>>6&63|128,le[X++]=63&K|128):(le[X++]=K>>12|224,le[X++]=K>>6&63|128,le[X++]=63&K|128)}return le},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(fe,le){if(!Array.isArray(fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=le?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let K=0;K<fe.length;K+=3){const Pe=fe[K],Qe=K+1<fe.length,Ot=Qe?fe[K+1]:0,yn=K+2<fe.length,Vt=yn?fe[K+2]:0;let ai=(15&Ot)<<2|Vt>>6,Rn=63&Vt;yn||(Rn=64,Qe||(ai=64)),te.push(X[Pe>>2],X[(3&Pe)<<4|Ot>>4],X[ai],X[Rn])}return te.join("")},encodeString(fe,le){return this.HAS_NATIVE_SUPPORT&&!le?btoa(fe):this.encodeByteArray(pe(fe),le)},decodeString(fe,le){return this.HAS_NATIVE_SUPPORT&&!le?atob(fe):function(fe){const le=[];let X=0,te=0;for(;X<fe.length;){const K=fe[X++];if(K<128)le[te++]=String.fromCharCode(K);else if(K>191&&K<224){const Pe=fe[X++];le[te++]=String.fromCharCode((31&K)<<6|63&Pe)}else if(K>239&&K<365){const yn=((7&K)<<18|(63&fe[X++])<<12|(63&fe[X++])<<6|63&fe[X++])-65536;le[te++]=String.fromCharCode(55296+(yn>>10)),le[te++]=String.fromCharCode(56320+(1023&yn))}else{const Pe=fe[X++],Qe=fe[X++];le[te++]=String.fromCharCode((15&K)<<12|(63&Pe)<<6|63&Qe)}}return le.join("")}(this.decodeStringToByteArray(fe,le))},decodeStringToByteArray(fe,le){this.init_();const X=le?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let K=0;K<fe.length;){const Pe=X[fe.charAt(K++)],Ot=K<fe.length?X[fe.charAt(K)]:0;++K;const Vt=K<fe.length?X[fe.charAt(K)]:64;++K;const xn=K<fe.length?X[fe.charAt(K)]:64;if(++K,null==Pe||null==Ot||null==Vt||null==xn)throw new De;te.push(Pe<<2|Ot>>4),64!==Vt&&(te.push(Ot<<4&240|Vt>>2),64!==xn&&te.push(Vt<<6&192|xn))}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let fe=0;fe<this.ENCODED_VALS.length;fe++)this.byteToCharMap_[fe]=this.ENCODED_VALS.charAt(fe),this.charToByteMap_[this.byteToCharMap_[fe]]=fe,this.byteToCharMapWebSafe_[fe]=this.ENCODED_VALS_WEBSAFE.charAt(fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[fe]]=fe,fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(fe)]=fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(fe)]=fe)}}};class De extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ut=function(fe){const le=pe(fe);return ke.encodeByteArray(le,!0)},Ve=function(fe){return ut(fe).replace(/\./g,"")},z=function(fe){try{return ke.decodeString(fe,!0)}catch(le){console.error("base64Decode failed: ",le)}return null};function G(fe){return de(void 0,fe)}function de(fe,le){if(!(le instanceof Object))return le;switch(le.constructor){case Date:return new Date(le.getTime());case Object:void 0===fe&&(fe={});break;case Array:fe=[];break;default:return le}for(const X in le)!le.hasOwnProperty(X)||!Ne(X)||(fe[X]=de(fe[X],le[X]));return fe}function Ne(fe){return"__proto__"!==fe}const Re=()=>{try{return function me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const fe=process.env.__FIREBASE_DEFAULTS__;return fe?JSON.parse(fe):void 0})()||(()=>{if(typeof document>"u")return;let fe;try{fe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const le=fe&&z(fe[1]);return le&&JSON.parse(le)})()}catch(fe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${fe}`)}},at=fe=>{var le,X;return null===(X=null===(le=Re())||void 0===le?void 0:le.emulatorHosts)||void 0===X?void 0:X[fe]},We=fe=>{const le=at(fe);if(!le)return;const X=le.lastIndexOf(":");if(X<=0||X+1===le.length)throw new Error(`Invalid host ${le} with no separate hostname and port!`);const te=parseInt(le.substring(X+1),10);return"["===le[0]?[le.substring(1,X-1),te]:[le.substring(0,X),te]},xe=()=>{var fe;return null===(fe=Re())||void 0===fe?void 0:fe.config},nt=fe=>{var le;return null===(le=Re())||void 0===le?void 0:le[`_${fe}`]};class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((le,X)=>{this.resolve=le,this.reject=X})}wrapCallback(le){return(X,te)=>{X?this.reject(X):this.resolve(te),"function"==typeof le&&(this.promise.catch(()=>{}),1===le.length?le(X):le(X,te))}}}function it(fe,le){if(fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const te=le||"demo-project",K=fe.iat||0,Pe=fe.sub||fe.user_id;if(!Pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qe=Object.assign({iss:`https://securetoken.google.com/${te}`,aud:te,iat:K,exp:K+3600,auth_time:K,sub:Pe,user_id:Pe,firebase:{sign_in_provider:"custom",identities:{}}},fe);return[Ve(JSON.stringify({alg:"none",type:"JWT"})),Ve(JSON.stringify(Qe)),""].join(".")}function he(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(he())}function Ge(){var fe;const le=null===(fe=Re())||void 0===fe?void 0:fe.forceEnvironment;if("node"===le)return!0;if("browser"===le)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Le(){return"object"==typeof self&&self.self===self}function Ct(){const fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof fe&&void 0!==fe.id}function ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function nn(){const fe=he();return fe.indexOf("MSIE ")>=0||fe.indexOf("Trident/")>=0}function rn(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function pi(){return!Ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Te(){try{return"object"==typeof indexedDB}catch{return!1}}function Ce(){return new Promise((fe,le)=>{try{let X=!0;const te="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(te);K.onsuccess=()=>{K.result.close(),X||self.indexedDB.deleteDatabase(te),fe(!0)},K.onupgradeneeded=()=>{X=!1},K.onerror=()=>{var Pe;le((null===(Pe=K.error)||void 0===Pe?void 0:Pe.message)||"")}}catch(X){le(X)}})}function He(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ct extends Error{constructor(le,X,te){super(X),this.code=le,this.customData=te,this.name="FirebaseError",Object.setPrototypeOf(this,ct.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gt.prototype.create)}}class gt{constructor(le,X,te){this.service=le,this.serviceName=X,this.errors=te}create(le,...X){const te=X[0]||{},K=`${this.service}/${le}`,Pe=this.errors[le],Qe=Pe?function St(fe,le){return fe.replace(bt,(X,te)=>{const K=le[te];return null!=K?String(K):`<${te}?>`})}(Pe,te):"Error";return new ct(K,`${this.serviceName}: ${Qe} (${K}).`,te)}}const bt=/\{\$([^}]+)}/g;function Tn(fe){return JSON.parse(fe)}function dn(fe){return JSON.stringify(fe)}const Nn=function(fe){let le={},X={},te={},K="";try{const Pe=fe.split(".");le=Tn(z(Pe[0])||""),X=Tn(z(Pe[1])||""),K=Pe[2],te=X.d||{},delete X.d}catch{}return{header:le,claims:X,data:te,signature:K}},On=function(fe){const X=Nn(fe).claims;return!!X&&"object"==typeof X&&X.hasOwnProperty("iat")},Ut=function(fe){const le=Nn(fe).claims;return"object"==typeof le&&!0===le.admin};function cn(fe,le){return Object.prototype.hasOwnProperty.call(fe,le)}function Fn(fe,le){if(Object.prototype.hasOwnProperty.call(fe,le))return fe[le]}function Vn(fe){for(const le in fe)if(Object.prototype.hasOwnProperty.call(fe,le))return!1;return!0}function Ci(fe,le,X){const te={};for(const K in fe)Object.prototype.hasOwnProperty.call(fe,K)&&(te[K]=le.call(X,fe[K],K,fe));return te}function Di(fe,le){if(fe===le)return!0;const X=Object.keys(fe),te=Object.keys(le);for(const K of X){if(!te.includes(K))return!1;const Pe=fe[K],Qe=le[K];if(ni(Pe)&&ni(Qe)){if(!Di(Pe,Qe))return!1}else if(Pe!==Qe)return!1}for(const K of te)if(!X.includes(K))return!1;return!0}function ni(fe){return null!==fe&&"object"==typeof fe}function No(fe){const le=[];for(const[X,te]of Object.entries(fe))Array.isArray(te)?te.forEach(K=>{le.push(encodeURIComponent(X)+"="+encodeURIComponent(K))}):le.push(encodeURIComponent(X)+"="+encodeURIComponent(te));return le.length?"&"+le.join("&"):""}function sn(fe){const le={};return fe.replace(/^\?/,"").split("&").forEach(te=>{if(te){const[K,Pe]=te.split("=");le[decodeURIComponent(K)]=decodeURIComponent(Pe)}}),le}function Kt(fe){const le=fe.indexOf("?");if(!le)return"";const X=fe.indexOf("#",le);return fe.substring(le,X>0?X:void 0)}class Qt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let le=1;le<this.blockSize;++le)this.pad_[le]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(le,X){X||(X=0);const te=this.W_;if("string"==typeof le)for(let xn=0;xn<16;xn++)te[xn]=le.charCodeAt(X)<<24|le.charCodeAt(X+1)<<16|le.charCodeAt(X+2)<<8|le.charCodeAt(X+3),X+=4;else for(let xn=0;xn<16;xn++)te[xn]=le[X]<<24|le[X+1]<<16|le[X+2]<<8|le[X+3],X+=4;for(let xn=16;xn<80;xn++){const ai=te[xn-3]^te[xn-8]^te[xn-14]^te[xn-16];te[xn]=4294967295&(ai<<1|ai>>>31)}let Vt,Xn,K=this.chain_[0],Pe=this.chain_[1],Qe=this.chain_[2],Ot=this.chain_[3],yn=this.chain_[4];for(let xn=0;xn<80;xn++){xn<40?xn<20?(Vt=Ot^Pe&(Qe^Ot),Xn=1518500249):(Vt=Pe^Qe^Ot,Xn=1859775393):xn<60?(Vt=Pe&Qe|Ot&(Pe|Qe),Xn=2400959708):(Vt=Pe^Qe^Ot,Xn=3395469782);const ai=(K<<5|K>>>27)+Vt+yn+Xn+te[xn]&4294967295;yn=Ot,Ot=Qe,Qe=4294967295&(Pe<<30|Pe>>>2),Pe=K,K=ai}this.chain_[0]=this.chain_[0]+K&4294967295,this.chain_[1]=this.chain_[1]+Pe&4294967295,this.chain_[2]=this.chain_[2]+Qe&4294967295,this.chain_[3]=this.chain_[3]+Ot&4294967295,this.chain_[4]=this.chain_[4]+yn&4294967295}update(le,X){if(null==le)return;void 0===X&&(X=le.length);const te=X-this.blockSize;let K=0;const Pe=this.buf_;let Qe=this.inbuf_;for(;K<X;){if(0===Qe)for(;K<=te;)this.compress_(le,K),K+=this.blockSize;if("string"==typeof le){for(;K<X;)if(Pe[Qe]=le.charCodeAt(K),++Qe,++K,Qe===this.blockSize){this.compress_(Pe),Qe=0;break}}else for(;K<X;)if(Pe[Qe]=le[K],++Qe,++K,Qe===this.blockSize){this.compress_(Pe),Qe=0;break}}this.inbuf_=Qe,this.total_+=X}digest(){const le=[];let X=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let K=this.blockSize-1;K>=56;K--)this.buf_[K]=255&X,X/=256;this.compress_(this.buf_);let te=0;for(let K=0;K<5;K++)for(let Pe=24;Pe>=0;Pe-=8)le[te]=this.chain_[K]>>Pe&255,++te;return le}}function zt(fe,le){const X=new Ie(fe,le);return X.subscribe.bind(X)}class Ie{constructor(le,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{le(this)}).catch(te=>{this.error(te)})}next(le){this.forEachObserver(X=>{X.next(le)})}error(le){this.forEachObserver(X=>{X.error(le)}),this.close(le)}complete(){this.forEachObserver(le=>{le.complete()}),this.close()}subscribe(le,X,te){let K;if(void 0===le&&void 0===X&&void 0===te)throw new Error("Missing Observer.");K=function Ee(fe,le){if("object"!=typeof fe||null===fe)return!1;for(const X of le)if(X in fe&&"function"==typeof fe[X])return!0;return!1}(le,["next","error","complete"])?le:{next:le,error:X,complete:te},void 0===K.next&&(K.next=qe),void 0===K.error&&(K.error=qe),void 0===K.complete&&(K.complete=qe);const Pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),Pe}unsubscribeOne(le){void 0===this.observers||void 0===this.observers[le]||(delete this.observers[le],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(le){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,le)}sendOne(le,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[le])try{X(this.observers[le])}catch(te){typeof console<"u"&&console.error&&console.error(te)}})}close(le){this.finalized||(this.finalized=!0,void 0!==le&&(this.finalError=le),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qe(){}const Fe=function(fe,le,X,te){let K;if(te<le?K="at least "+le:te>X&&(K=0===X?"none":"no more than "+X),K)throw new Error(fe+" failed: Was called with "+te+(1===te?" argument.":" arguments.")+" Expects "+K+".")};function xt(fe,le){return`${fe} failed: ${le} argument `}function jt(fe,le,X,te){if((!te||X)&&"function"!=typeof X)throw new Error(xt(fe,le)+"must be a valid function.")}function Xt(fe,le,X,te){if((!te||X)&&("object"!=typeof X||null===X))throw new Error(xt(fe,le)+"must be a valid context object.")}const Ht=function(fe){const le=[];let X=0;for(let te=0;te<fe.length;te++){let K=fe.charCodeAt(te);if(K>=55296&&K<=56319){const Pe=K-55296;te++,U(te<fe.length,"Surrogate pair missing trail surrogate."),K=65536+(Pe<<10)+(fe.charCodeAt(te)-56320)}K<128?le[X++]=K:K<2048?(le[X++]=K>>6|192,le[X++]=63&K|128):K<65536?(le[X++]=K>>12|224,le[X++]=K>>6&63|128,le[X++]=63&K|128):(le[X++]=K>>18|240,le[X++]=K>>12&63|128,le[X++]=K>>6&63|128,le[X++]=63&K|128)}return le},xi=function(fe){let le=0;for(let X=0;X<fe.length;X++){const te=fe.charCodeAt(X);te<128?le++:te<2048?le+=2:te>=55296&&te<=56319?(le+=4,X++):le+=3}return le},Hn=1e3,Li=2,$n=144e5,gr=.5;function mi(fe,le=Hn,X=Li){const te=le*Math.pow(X,fe),K=Math.round(gr*te*(Math.random()-.5)*2);return Math.min($n,te+K)}function go(fe){return fe&&fe._delegate?fe._delegate:fe}},7759:(en,Se,Q)=>{var o=Q(5879);let U=null;function Y(){return U}class ce{}const ke=new o.OlP("DocumentToken");let De=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Ve)},providedIn:"platform"})}return n})();const ut=new o.OlP("Location Initialized");let Ve=(()=>{class n extends De{constructor(){super(),this._doc=(0,o.f3M)(ke),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(e){const i=Y().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Y().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function z(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function G(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function de(n){return n&&"?"!==n[0]?"?"+n:n}let Ne=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(lt)},providedIn:"root"})}return n})();const me=new o.OlP("appBaseHref");let lt=(()=>{class n extends Ne{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return z(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+de(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const u=this.prepareExternalUrl(r+de(s));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,s){const u=this.prepareExternalUrl(r+de(s));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(De),o.LFG(me,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),st=(()=>{class n extends Ne{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=z(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let u=this.prepareExternalUrl(r+de(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,s){let u=this.prepareExternalUrl(r+de(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(De),o.LFG(me,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})(),mt=(()=>{class n{constructor(e){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function xe(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(G(We(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+de(i))}normalize(e){return n.stripTrailingSlash(function at(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,We(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+de(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+de(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=de;static#t=this.joinWithSlash=z;static#n=this.stripTrailingSlash=G;static#i=this.\u0275fac=function(i){return new(i||n)(o.LFG(Ne))};static#r=this.\u0275prov=o.Yz7({token:n,factory:function(){return function Re(){return new mt((0,o.LFG)(Ne))}()},providedIn:"root"})}return n})();function We(n){return n.replace(/\/index.html$/,"")}var he=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(he||{}),ue=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(ue||{}),Ge=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Ge||{}),Le=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Le||{});function Ce(n,t){return cn((0,o.cg1)(n)[o.wAp.DateFormat],t)}function He(n,t){return cn((0,o.cg1)(n)[o.wAp.TimeFormat],t)}function je(n,t){return cn((0,o.cg1)(n)[o.wAp.DateTimeFormat],t)}function ct(n,t){const e=(0,o.cg1)(n),i=e[o.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===Le.CurrencyDecimal)return e[o.wAp.NumberSymbols][Le.Decimal];if(t===Le.CurrencyGroup)return e[o.wAp.NumberSymbols][Le.Group]}return i}function fn(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function cn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Fn(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const ni=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,zi={},No=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var sn=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(sn||{}),Kt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Kt||{}),Qt=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Qt||{});function zt(n,t,e,i){let r=function le(n){if(te(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,u=1]=n.split("-").map(m=>+m);return Ie(r,s-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(ni))return function X(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,m=Number(n[5]||0)-i,v=Number(n[6]||0),x=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,u,m,v,x),t}(i)}const t=new Date(n);if(!te(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=we(e,t)||t;let m,u=[];for(;t;){if(m=No.exec(t),!m){u.push(t);break}{u=u.concat(m.slice(1));const P=u.pop();if(!P)break;t=P}}let v=r.getTimezoneOffset();i&&(v=_r(i,v),r=function fe(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function go(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(_r(t,r)-r))}(r,i,!0));let x="";return u.forEach(P=>{const L=function Ei(n){if(mi[n])return mi[n];let t;switch(n){case"G":case"GG":case"GGG":t=jt(Qt.Eras,ue.Abbreviated);break;case"GGGG":t=jt(Qt.Eras,ue.Wide);break;case"GGGGG":t=jt(Qt.Eras,ue.Narrow);break;case"y":t=xt(Kt.FullYear,1,0,!1,!0);break;case"yy":t=xt(Kt.FullYear,2,0,!0,!0);break;case"yyy":t=xt(Kt.FullYear,3,0,!1,!0);break;case"yyyy":t=xt(Kt.FullYear,4,0,!1,!0);break;case"Y":t=gr(1);break;case"YY":t=gr(2,!0);break;case"YYY":t=gr(3);break;case"YYYY":t=gr(4);break;case"M":case"L":t=xt(Kt.Month,1,1);break;case"MM":case"LL":t=xt(Kt.Month,2,1);break;case"MMM":t=jt(Qt.Months,ue.Abbreviated);break;case"MMMM":t=jt(Qt.Months,ue.Wide);break;case"MMMMM":t=jt(Qt.Months,ue.Narrow);break;case"LLL":t=jt(Qt.Months,ue.Abbreviated,he.Standalone);break;case"LLLL":t=jt(Qt.Months,ue.Wide,he.Standalone);break;case"LLLLL":t=jt(Qt.Months,ue.Narrow,he.Standalone);break;case"w":t=$n(1);break;case"ww":t=$n(2);break;case"W":t=$n(1,!0);break;case"d":t=xt(Kt.Date,1);break;case"dd":t=xt(Kt.Date,2);break;case"c":case"cc":t=xt(Kt.Day,1);break;case"ccc":t=jt(Qt.Days,ue.Abbreviated,he.Standalone);break;case"cccc":t=jt(Qt.Days,ue.Wide,he.Standalone);break;case"ccccc":t=jt(Qt.Days,ue.Narrow,he.Standalone);break;case"cccccc":t=jt(Qt.Days,ue.Short,he.Standalone);break;case"E":case"EE":case"EEE":t=jt(Qt.Days,ue.Abbreviated);break;case"EEEE":t=jt(Qt.Days,ue.Wide);break;case"EEEEE":t=jt(Qt.Days,ue.Narrow);break;case"EEEEEE":t=jt(Qt.Days,ue.Short);break;case"a":case"aa":case"aaa":t=jt(Qt.DayPeriods,ue.Abbreviated);break;case"aaaa":t=jt(Qt.DayPeriods,ue.Wide);break;case"aaaaa":t=jt(Qt.DayPeriods,ue.Narrow);break;case"b":case"bb":case"bbb":t=jt(Qt.DayPeriods,ue.Abbreviated,he.Standalone,!0);break;case"bbbb":t=jt(Qt.DayPeriods,ue.Wide,he.Standalone,!0);break;case"bbbbb":t=jt(Qt.DayPeriods,ue.Narrow,he.Standalone,!0);break;case"B":case"BB":case"BBB":t=jt(Qt.DayPeriods,ue.Abbreviated,he.Format,!0);break;case"BBBB":t=jt(Qt.DayPeriods,ue.Wide,he.Format,!0);break;case"BBBBB":t=jt(Qt.DayPeriods,ue.Narrow,he.Format,!0);break;case"h":t=xt(Kt.Hours,1,-12);break;case"hh":t=xt(Kt.Hours,2,-12);break;case"H":t=xt(Kt.Hours,1);break;case"HH":t=xt(Kt.Hours,2);break;case"m":t=xt(Kt.Minutes,1);break;case"mm":t=xt(Kt.Minutes,2);break;case"s":t=xt(Kt.Seconds,1);break;case"ss":t=xt(Kt.Seconds,2);break;case"S":t=xt(Kt.FractionalSeconds,1);break;case"SS":t=xt(Kt.FractionalSeconds,2);break;case"SSS":t=xt(Kt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Ht(sn.Short);break;case"ZZZZZ":t=Ht(sn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Ht(sn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Ht(sn.Long);break;default:return null}return mi[n]=t,t}(P);x+=L?L(r,e,v):"''"===P?"'":P.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),x}function Ie(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function we(n,t){const e=function ot(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(zi[e]=zi[e]||{},zi[e][t])return zi[e][t];let i="";switch(t){case"shortDate":i=Ce(n,Ge.Short);break;case"mediumDate":i=Ce(n,Ge.Medium);break;case"longDate":i=Ce(n,Ge.Long);break;case"fullDate":i=Ce(n,Ge.Full);break;case"shortTime":i=He(n,Ge.Short);break;case"mediumTime":i=He(n,Ge.Medium);break;case"longTime":i=He(n,Ge.Long);break;case"fullTime":i=He(n,Ge.Full);break;case"short":const r=we(n,"shortTime"),s=we(n,"shortDate");i=Ee(je(n,Ge.Short),[r,s]);break;case"medium":const u=we(n,"mediumTime"),m=we(n,"mediumDate");i=Ee(je(n,Ge.Medium),[u,m]);break;case"long":const v=we(n,"longTime"),x=we(n,"longDate");i=Ee(je(n,Ge.Long),[v,x]);break;case"full":const P=we(n,"fullTime"),L=we(n,"fullDate");i=Ee(je(n,Ge.Full),[P,L])}return i&&(zi[e][t]=i),i}function Ee(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function qe(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let u=String(n);for(;u.length<t;)u="0"+u;return i&&(u=u.slice(u.length-t)),s+u}function xt(n,t,e=0,i=!1,r=!1){return function(s,u){let m=function mn(n,t){switch(n){case Kt.FullYear:return t.getFullYear();case Kt.Month:return t.getMonth();case Kt.Date:return t.getDate();case Kt.Hours:return t.getHours();case Kt.Minutes:return t.getMinutes();case Kt.Seconds:return t.getSeconds();case Kt.FractionalSeconds:return t.getMilliseconds();case Kt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||m>-e)&&(m+=e),n===Kt.Hours)0===m&&-12===e&&(m=12);else if(n===Kt.FractionalSeconds)return function Fe(n,t){return qe(n,3).substring(0,t)}(m,t);const v=ct(u,Le.MinusSign);return qe(m,t,v,i,r)}}function jt(n,t,e=he.Format,i=!1){return function(r,s){return function Xt(n,t,e,i,r,s){switch(e){case Qt.Months:return function un(n,t,e){const i=(0,o.cg1)(n),s=cn([i[o.wAp.MonthsFormat],i[o.wAp.MonthsStandalone]],t);return cn(s,e)}(t,r,i)[n.getMonth()];case Qt.Days:return function nn(n,t,e){const i=(0,o.cg1)(n),s=cn([i[o.wAp.DaysFormat],i[o.wAp.DaysStandalone]],t);return cn(s,e)}(t,r,i)[n.getDay()];case Qt.DayPeriods:const u=n.getHours(),m=n.getMinutes();if(s){const x=function tn(n){const t=(0,o.cg1)(n);return fn(t),(t[o.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Fn(i):[Fn(i[0]),Fn(i[1])])}(t),P=function On(n,t,e){const i=(0,o.cg1)(n);fn(i);const s=cn([i[o.wAp.ExtraData][0],i[o.wAp.ExtraData][1]],t)||[];return cn(s,e)||[]}(t,r,i),L=x.findIndex(q=>{if(Array.isArray(q)){const[ne,ae]=q,ye=u>=ne.hours&&m>=ne.minutes,Ze=u<ae.hours||u===ae.hours&&m<ae.minutes;if(ne.hours<ae.hours){if(ye&&Ze)return!0}else if(ye||Ze)return!0}else if(q.hours===u&&q.minutes===m)return!0;return!1});if(-1!==L)return P[L]}return function Yt(n,t,e){const i=(0,o.cg1)(n),s=cn([i[o.wAp.DayPeriodsFormat],i[o.wAp.DayPeriodsStandalone]],t);return cn(s,e)}(t,r,i)[u<12?0:1];case Qt.Eras:return function rn(n,t){return cn((0,o.cg1)(n)[o.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function Ht(n){return function(t,e,i){const r=-1*i,s=ct(e,Le.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case sn.Short:return(r>=0?"+":"")+qe(u,2,s)+qe(Math.abs(r%60),2,s);case sn.ShortGMT:return"GMT"+(r>=0?"+":"")+qe(u,1,s);case sn.Long:return"GMT"+(r>=0?"+":"")+qe(u,2,s)+":"+qe(Math.abs(r%60),2,s);case sn.Extended:return 0===i?"Z":(r>=0?"+":"")+qe(u,2,s)+":"+qe(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const xi=0,yi=4;function Li(n){return Ie(n.getFullYear(),n.getMonth(),n.getDate()+(yi-n.getDay()))}function $n(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();r=1+Math.floor((u+s)/7)}else{const s=Li(e),u=function Hn(n){const t=Ie(n,xi,1).getDay();return Ie(n,0,1+(t<=yi?yi:yi+7)-t)}(s.getFullYear()),m=s.getTime()-u.getTime();r=1+Math.round(m/6048e5)}return qe(r,n,ct(i,Le.MinusSign))}}function gr(n,t=!1){return function(e,i){return qe(Li(e).getFullYear(),n,ct(i,Le.MinusSign),t)}}const mi={};function _r(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function te(n){return n instanceof Date&&!isNaN(n.valueOf())}const _o=/\s+/,Oa=[];let vo=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=Oa,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(_o):Oa}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(_o):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(_o).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class Ko{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ln=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ko(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===s?void 0:s);else if(null!==s){const m=i.get(s);i.move(m,u),Ai(m,r)}});for(let r=0,s=i.length;r<s;r++){const m=i.get(r).context;m.index=r,m.count=s,m.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Ai(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Ai(n,t){n.context.$implicit=t.item}let ci=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new xc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){tc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){tc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.s_b),o.Y36(o.Rgc))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class xc{constructor(){this.$implicit=null,this.ngIf=null}}function tc(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}class $r{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Us=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),nc=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new $r(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Us,9))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),Qo=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),u=-1===r.indexOf("-")?void 0:o.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,u):this._renderer.removeStyle(this._ngEl.nativeElement,r,u)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),sa=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,s,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.s_b))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[o.TTD]})}return n})();function Fo(n,t){return new o.vHH(2100,!1)}class bo{createSubscription(t,e){return(0,o.rg0)(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){(0,o.rg0)(()=>t.unsubscribe())}}class yr{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const ic=new yr,aa=new bo;let Zi=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,o.QGY)(e))return ic;if((0,o.F4k)(e))return aa;throw Fo()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.sBO,16))};static#t=this.\u0275pipe=o.Yjl({name:"async",type:n,pure:!1,standalone:!0})}return n})();const Ui=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),br=new o.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Sa=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,s){if(null==e||""===e||e!=e)return null;try{return zt(e,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(u){throw Fo()}}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.soG,16),o.Y36(Ui,24),o.Y36(br,24))};static#t=this.\u0275pipe=o.Yjl({name:"date",type:n,pure:!0,standalone:!0})}return n})(),Ii=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})();const la="browser";function Cr(n){return"server"===n}let Er=(()=>{class n{static#e=this.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new Mr((0,o.LFG)(ke),window)})}return n})();class Mr{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ua(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const u=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ts extends ce{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Uc extends ts{static makeCurrent(){!function pe(n){U||(U=n)}(new Uc)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ul(){return $s=$s||document.querySelector("base"),$s?$s.getAttribute("href"):null}();return null==e?null:function Io(n){Mo=Mo||document.createElement("a"),Mo.setAttribute("href",n);const t=Mo.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){$s=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Ur(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Mo,$s=null,qh=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const yu=new o.OlP("EventManagerPlugins");let Gh=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new o.vHH(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(yu),o.LFG(o.R0b))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();class zl{constructor(t){this._doc=t}}const Hl="ng-app-id";let nd=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Cr(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Hl}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(Hl),s;{const u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=i,this.platformIsServer&&u.setAttribute(Hl,this.appId),u}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const s=this.styleRef,u=s.get(i)?.elements;u?u.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(ke),o.LFG(o.AFp),o.LFG(o.Ojb,8),o.LFG(o.Lbi))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const Ms={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vc=/%COMP%/g,Is=new o.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ti(n,t){return t.map(e=>e.replace(Vc,n))}let hl=(()=>{class n{constructor(e,i,r,s,u,m,v,x=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=u,this.platformId=m,this.ngZone=v,this.nonce=x,this.rendererByCompId=new Map,this.platformIsServer=Cr(m),this.defaultRenderer=new Fa(e,u,v,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===o.ifc.ShadowDom&&(i={...i,encapsulation:o.ifc.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof ih?r.applyToHost(e):r instanceof Ki&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const u=this.doc,m=this.ngZone,v=this.eventManager,x=this.sharedStylesHost,P=this.removeStylesOnCompDestroy,L=this.platformIsServer;switch(i.encapsulation){case o.ifc.Emulated:s=new ih(v,x,i,this.appId,P,u,m,L);break;case o.ifc.ShadowDom:return new fl(v,x,e,i,u,m,this.nonce,L);default:s=new Ki(v,x,i,P,u,m,L)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Gh),o.LFG(nd),o.LFG(o.AFp),o.LFG(Is),o.LFG(ke),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(o.Ojb))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();class Fa{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Ms[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(nh(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(nh(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new o.vHH(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Ms[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Ms[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=Y().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function nh(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class fl extends Fa{constructor(t,e,i,r,s,u,m,v){super(t,s,u,v),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const x=Ti(r.id,r.styles);for(const P of x){const L=document.createElement("style");m&&L.setAttribute("nonce",m),L.textContent=P,this.shadowRoot.appendChild(L)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ki extends Fa{constructor(t,e,i,r,s,u,m,v){super(t,s,u,m),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=v?Ti(v,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ih extends Ki{constructor(t,e,i,r,s,u,m,v){const x=r+"-"+i.id;super(t,e,i,s,u,m,v,x),this.contentAttr=function th(n){return"_ngcontent-%COMP%".replace(Vc,n)}(x),this.hostAttr=function wu(n){return"_nghost-%COMP%".replace(Vc,n)}(x)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let rh=(()=>{class n extends zl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(ke))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const qs=["alt","control","meta","shift"],pl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oh={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Bc=(()=>{class n extends zl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),u=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Y().onAndCancel(e,s.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let u="",m=i.indexOf("code");if(m>-1&&(i.splice(m,1),u="code."),qs.forEach(x=>{const P=i.indexOf(x);P>-1&&(i.splice(P,1),u+=x+".")}),u+=s,0!=i.length||0===s.length)return null;const v={};return v.domEventName=r,v.fullKey=u,v}static matchEventFullKeyCode(e,i){let r=pl[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),qs.forEach(u=>{u!==r&&(0,oh[u])(e)&&(s+=u+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(ke))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const Br=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:la},{provide:o.g9A,useValue:function Mn(){Uc.makeCurrent()},multi:!0},{provide:ke,useFactory:function ep(){return(0,o.RDi)(document),document},deps:[]}]),Wh=new o.OlP(""),Wi=[{provide:o.rWj,useClass:class td{addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new o.vHH(5103,!1);return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,u=!1;const m=function(v){u=u||v,s--,0==s&&i(u)};r.forEach(v=>{v.whenStable(m)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Y().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],Ts=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function jc(){return new o.qLn},deps:[]},{provide:yu,useClass:rh,multi:!0,deps:[ke,o.R0b,o.Lbi]},{provide:yu,useClass:Bc,multi:!0,deps:[ke]},hl,nd,Gh,{provide:o.FYo,useExisting:hl},{provide:class Vi{},useClass:qh,deps:[]},[]];let zc=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Wh,12))};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({providers:[...Ts,...Wi],imports:[Ii,o.hGG]})}return n})(),pt=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(ke))};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function uc(){return new pt((0,o.LFG)(ke))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let Xr=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(i){let r=null;return r=i?new(i||n):o.LFG(ga),r},providedIn:"root"})}return n})(),ga=(()=>{class n extends Xr{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new o.vHH(5200,!1);case o.q3G.URL:return(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new o.vHH(5201,!1);default:throw new o.vHH(5202,!1)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(ke))};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function Yh(n){return new ga(n.get(ke))}(o.LFG(o.zs3)),r},providedIn:"root"})}return n})();function dc(n){return n instanceof o.Rgc}function hc(n){return"function"==typeof n}function fc(n){return"string"==typeof n}let Gl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(e,i){1&e&&o._UZ(0,"div",0),2&e&&o.Q6J("innerHTML",i.content,o.oJD)},encapsulation:2}),n})();class ns{constructor(t){this.args=t,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const t=this.viewRef.rootNodes;return 1===t.length&&t[0]===Node.ELEMENT_NODE?this.element=t[0]:(this.element=document.createElement("div"),this.element.append(...t)),this.element}destroy(){1!==this.viewRef.rootNodes[0]&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class _a{constructor(t){this.value=t}getElement(){return this.value}detectChanges(){}destroy(){}}class sr{constructor(t){if(this.options=t,t.vcr)this.compRef=t.vcr.createComponent(t.component,{index:t.vcr.length,injector:t.injector||t.vcr.injector});else{const e=t.resolver.resolveComponentFactory(t.component);this.compRef=e.create(t.injector),t.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(t,e){return this.compRef.instance[t]=e,this}setInputs(t){return Object.keys(t).forEach(e=>{this.compRef.instance[e]=t[e]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(t){return t.appendChild(this.getElement()),this}removeFrom(t){return t.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let va=(()=>{class n{constructor(e,i,r){this.resolver=e,this.injector=i,this.appRef=r}createComponent(e,i={}){return new sr({component:e,vcr:i.vcr,injector:i.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(e,i={}){return new ns({vcr:i.vcr,appRef:this.appRef,tpl:e,context:i.context})}createView(e,i={}){if(dc(e))return this.createTemplate(e,i);if(hc(e))return this.createComponent(e,i);if(fc(e))return new _a(e);throw"Type of content is not supported"}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o._Vd),o.LFG(o.zs3),o.LFG(o.z2F))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uh=(()=>{class n{constructor(e,i,r){this.defaultTpl=e,this.vcr=i,this.viewService=r}ngOnInit(){this.resolveContentType()}ngOnChanges(e){e.view&&!e.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){this.viewRef?.destroy(),fc(this.view)?(this.viewRef=this.viewService.createComponent(Gl,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:this.injector??this.vcr.injector,context:this.context})}ngOnDestroy(){this.viewRef?.destroy()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(va))},n.\u0275dir=o.lG2({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[o.TTD]}),n})(),hs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var zn=Q(8645),ar=Q(5592),Po=Q(4829);const{isArray:Zl}=Array;var li=Q(8251);function Hc(n){return new ar.y(t=>{(0,Po.Xf)(n()).subscribe(t)})}var Nr=Q(9360);function cr(n,t){return(0,Nr.e)((e,i)=>{let r=0;e.subscribe((0,li.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var tr=Q(9397);const ip=["*"],Ss=function(n,t){return{"border-color":n,"border-right-color":t}};function ad(n,t){if(1&n&&(o.TgZ(0,"div"),o._uU(1,"\n        "),o._UZ(2,"hot-toast-error",2),o._uU(3,"\n      "),o.qZA()),2&n){const e=o.oxw(3);o.xp6(2),o.Q6J("theme",e.theme)}}function bm(n,t){if(1&n&&(o.TgZ(0,"div"),o._uU(1,"\n        "),o._UZ(2,"hot-toast-checkmark",2),o._uU(3,"\n      "),o.qZA()),2&n){const e=o.oxw(3);o.xp6(2),o.Q6J("theme",e.theme)}}function cd(n,t){if(1&n&&(o.TgZ(0,"div"),o._uU(1,"\n        "),o._UZ(2,"hot-toast-warning",2),o._uU(3,"\n      "),o.qZA()),2&n){const e=o.oxw(3);o.xp6(2),o.Q6J("theme",e.theme)}}function ld(n,t){if(1&n&&(o.TgZ(0,"div"),o._uU(1,"\n        "),o._UZ(2,"hot-toast-info",2),o._uU(3,"\n      "),o.qZA()),2&n){const e=o.oxw(3);o.xp6(2),o.Q6J("theme",e.theme)}}function rp(n,t){if(1&n&&(o.TgZ(0,"div",4),o._uU(1,"\n    "),o.TgZ(2,"div",5),o._uU(3,"\n      "),o.YNc(4,ad,4,1,"div",6),o._uU(5,"\n      "),o.YNc(6,bm,4,1,"div",6),o._uU(7,"\n      "),o.YNc(8,cd,4,1,"div",6),o._uU(9,"\n      "),o.YNc(10,ld,4,1,"div",6),o._uU(11,"\n    "),o.qZA(),o._uU(12,"\n  "),o.qZA()),2&n){const e=o.oxw(2);o.xp6(2),o.Q6J("ngSwitch",e.type),o.xp6(2),o.Q6J("ngSwitchCase","error"),o.xp6(2),o.Q6J("ngSwitchCase","success"),o.xp6(2),o.Q6J("ngSwitchCase","warning"),o.xp6(2),o.Q6J("ngSwitchCase","info")}}function ud(n,t){if(1&n&&(o.TgZ(0,"div",1),o._uU(1,"\n  "),o._UZ(2,"hot-toast-loader",2),o._uU(3,"\n  "),o.YNc(4,rp,13,5,"div",3),o._uU(5,"\n"),o.qZA()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("theme",e.theme),o.xp6(2),o.Q6J("ngIf","loading"!==e.type)}}const Wl=["hotToastBarBase"];function Kh(n,t){if(1&n&&(o.ynx(0),o._uU(1,"\n          "),o.TgZ(2,"hot-toast-animated-icon",10),o._uU(3),o.qZA(),o._uU(4,"\n        "),o.BQk()),2&n){const e=o.oxw(2);o.xp6(2),o.Q6J("iconTheme",e.toast.iconTheme),o.xp6(1),o.Oqu(e.toast.icon)}}function dh(n,t){if(1&n&&(o._uU(0,"\n          "),o.TgZ(1,"div"),o._uU(2,"\n            "),o.GkF(3,11),o._uU(4,"\n          "),o.qZA(),o._uU(5,"\n        ")),2&n){const e=o.oxw(2);o.xp6(3),o.Q6J("dynamicView",e.toast.icon)}}function $c(n,t){if(1&n&&(o.ynx(0),o._uU(1,"\n        "),o.YNc(2,Kh,5,2,"ng-container",4),o._uU(3,"\n        "),o.YNc(4,dh,6,1,"ng-template",null,9,o.W1O),o._uU(6,"\n      "),o.BQk()),2&n){const e=o.MAs(5),i=o.oxw();o.xp6(2),o.Q6J("ngIf",i.isIconString)("ngIfElse",e)}}function qc(n,t){if(1&n&&(o._uU(0,"\n        "),o._UZ(1,"hot-toast-indicator",12),o._uU(2,"\n      ")),2&n){const e=o.oxw();o.xp6(1),o.Q6J("theme",e.toast.iconTheme)("type",e.toast.type)}}function dd(n,t){1&n&&o.GkF(0)}function _l(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",13),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.close())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("ngStyle",e.toast.closeStyle)}}function Iu(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"hot-toast",3),o.NdJ("height",function(r){const u=o.CHM(e).$implicit,m=o.oxw();return o.KtG(m.updateHeight(r,u))})("beforeClosed",function(){const s=o.CHM(e).$implicit,u=o.oxw();return o.KtG(u.beforeClosed(s))})("afterClosed",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.afterClosed(r))}),o.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=o.oxw();o.Q6J("toast",e)("offset",r.calculateOffset(e.id,e.position))("toastRef",r.toastRefs[i])}}const fs={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class Xh{constructor(t){this.toast=t,this._onClosed=new zn.x}get data(){return this.toast.data}set dispose(t){this._dispose=t}getToast(){return this.toast}appendTo(t){const{dispose:e,updateMessage:i,updateToast:r,afterClosed:s}=t.addToast(this);return this.dispose=e,this.updateMessage=i,this.updateToast=r,this.afterClosed=function Ua(...n){return 1===(n=function pc(n){return 1===n.length&&Zl(n[0])?n[0]:n}(n)).length?(0,Po.Xf)(n[0]):new ar.y(function jr(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push((0,Po.Xf)(n[i]).subscribe((0,li.x)(t,r=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(r)})))}}(n))}(this._onClosed.asObservable(),s),this}close(t={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:t.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}}let hd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:ip,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0),o._uU(1,"\n  "),o.Hsn(2),o._uU(3,"\n"),o.qZA(),o._uU(4,"\n")),2&e&&o.Udp("color",null==i.iconTheme?null:i.iconTheme.primary)},encapsulation:2,changeDetection:0}),n})(),Gs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(e,i){1&e&&(o._UZ(0,"div",0),o._uU(1,"\n")),2&e&&o.Udp("--check-primary",null==i.theme?null:i.theme.primary)("--check-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),Yl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(e,i){1&e&&(o._UZ(0,"div",0),o._uU(1,"\n")),2&e&&o.Udp("--error-primary",null==i.theme?null:i.theme.primary)("--error-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),Tu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(e,i){1&e&&(o._UZ(0,"div",0),o._uU(1,"\n")),2&e&&o.Q6J("ngStyle",o.WLB(1,Ss,null==i.theme?null:i.theme.primary,null==i.theme?null:i.theme.secondary))},dependencies:[Qo],encapsulation:2,changeDetection:0}),n})(),Kl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(e,i){1&e&&(o._UZ(0,"div",0),o._uU(1,"\n")),2&e&&o.Udp("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),Ql=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(e,i){1&e&&(o._UZ(0,"div",0),o._uU(1,"\n")),2&e&&o.Udp("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),fd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,i){1&e&&(o.YNc(0,ud,6,2,"div",0),o._uU(1,"\n")),2&e&&o.Q6J("ngIf","blank"!==i.type)},dependencies:[ci,Us,nc,Gs,Yl,Tu,Kl,Ql],encapsulation:2,changeDetection:0}),n})(),Jl=(()=>{class n{constructor(e,i,r){this.injector=e,this.renderer=i,this.ngZone=r,this.offset=0,this.height=new o.vpe,this.beforeClosed=new o.vpe,this.afterClosed=new o.vpe,this.isManualClose=!1,this.unlisteners=[]}get toastBarBaseHeight(){return this.toastBarBase.nativeElement.offsetHeight}get containerPositionStyle(){const e=this.toast.position.includes("top"),i=e?{top:0}:{bottom:0},r=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return{transform:`translateY(${this.offset*(e?1:-1)}px)`,...i,...r}}get toastBarBaseStyles(){const e=this.toast.position.includes("top"),i=`hotToastEnterAnimation${e?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`;return{...this.toast.style,animation:this.toast.autoClose?`${i}, hotToastExitAnimation${e?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:i}}get isIconString(){return"string"==typeof this.toast.icon}ngOnChanges(e){e.toast&&!e.toast.firstChange&&e.toast.currentValue?.message&&requestAnimationFrame(()=>{this.height.emit(this.toastBarBase.nativeElement.offsetHeight)})}ngOnInit(){dc(this.toast.message)&&(this.context={$implicit:this.toastRef}),hc(this.toast.message)&&(this.toastComponentInjector=o.zs3.create({providers:[{provide:Xh,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const e=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(e.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(e,"animationstart",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(e,"animationend",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}close(){this.isManualClose=!0;((n,t)=>{this.toastBarBase.nativeElement.style.animation=t})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(e){return e.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const e=this.toast.attributes;for(const[i,r]of Object.entries(e))this.renderer.setAttribute(this.toastBarBase.nativeElement,i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.zs3),o.Y36(o.Qsj),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["hot-toast"]],viewQuery:function(e,i){if(1&e&&o.Gf(Wl,5),2&e){let r;o.iGM(r=o.CRH())&&(i.toastBarBase=r.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},features:[o.TTD],decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0),o._uU(1,"\n  "),o.TgZ(2,"div",1,2),o._uU(4,"\n    "),o.TgZ(5,"div",3),o._uU(6,"\n      "),o.YNc(7,$c,7,2,"ng-container",4),o._uU(8,"\n\n      "),o.YNc(9,qc,3,2,"ng-template",null,5,o.W1O),o._uU(11,"\n    "),o.qZA(),o._uU(12,"\n\n    "),o.TgZ(13,"div",6),o._uU(14,"\n      "),o.TgZ(15,"div"),o._uU(16,"\n        "),o.YNc(17,dd,1,0,"ng-container",7),o._uU(18,"\n      "),o.qZA(),o._uU(19,"\n    "),o.qZA(),o._uU(20,"\n\n    "),o.YNc(21,_l,1,1,"button",8),o._uU(22,"\n  "),o.qZA(),o._uU(23,"\n"),o.qZA(),o._uU(24,"\n")),2&e){const r=o.MAs(10);o.Q6J("ngStyle",i.containerPositionStyle)("ngClass","hot-toast-theme-"+i.toast.theme),o.xp6(2),o.Udp("--hot-toast-animation-state",i.isManualClose?"running":"paused"),o.Q6J("ngStyle",i.toastBarBaseStyles)("ngClass",i.toast.className),o.uIk("aria-live",i.toast.ariaLive)("role",i.toast.role),o.xp6(5),o.Q6J("ngIf",void 0!==i.toast.icon)("ngIfElse",r),o.xp6(10),o.Q6J("dynamicView",i.toast.message)("dynamicViewContext",i.context)("dynamicViewInjector",i.toastComponentInjector),o.xp6(4),o.Q6J("ngIf",i.toast.dismissible)}},dependencies:[vo,ci,Qo,uh,hd,fd],encapsulation:2,changeDetection:0}),n})(),Xl=(()=>{class n{constructor(e){this.cdr=e,this.toasts=[],this.toastRefs=[],this._onClosed=new zn.x,this.onClosed$=this._onClosed.asObservable()}trackById(e,i){return i.id}calculateOffset(e,i){const r=this.toasts.filter(m=>m.visible&&m.position===i),s=r.findIndex(m=>m.id===e);return-1!==s?r.slice(...this.defaultConfig.reverseOrder?[s+1]:[0,s]).reduce((m,v)=>m+(v.height||0)+8,0):0}updateHeight(e,i){i.height=e,this.cdr.detectChanges()}addToast(e){this.toastRefs.push(e);const i=e.getToast();return this.toasts.push(e.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(i.id)},updateMessage:r=>{i.message=r,this.updateToasts(i),this.cdr.detectChanges()},updateToast:r=>{this.updateToasts(i,r),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(i)}}closeToast(e){if(e){const i=this.hotToastComponentList.find(r=>r.toast.id===e);i&&i.close()}else this.hotToastComponentList.forEach(i=>i.close())}beforeClosed(e){e.visible=!1}afterClosed(e){this.toasts.findIndex(r=>r.id===e.id)>-1&&(this._onClosed.next(e),this.toasts=this.toasts.filter(r=>r.id!==e.id),this.toastRefs=this.toastRefs.filter(r=>r.getToast().id!==e.id),this.cdr.detectChanges())}hasToast(e){return this.toasts.findIndex(i=>i.id===e)>-1}getAfterClosed(e){return this.onClosed$.pipe(cr(i=>i.id===e.id))}updateToasts(e,i){this.toasts=this.toasts.map(r=>({...r,...r.id===e.id&&{...e,...i}}))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["hot-toast-container"]],viewQuery:function(e,i){if(1&e&&o.Gf(Jl,5),2&e){let r;o.iGM(r=o.CRH())&&(i.hotToastComponentList=r)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._uU(1,"\n  "),o.TgZ(2,"div",1),o._uU(3,"\n    "),o.YNc(4,Iu,1,3,"hot-toast",2),o._uU(5,"\n  "),o.qZA(),o._uU(6,"\n"),o.qZA(),o._uU(7,"\n")),2&e&&(o.xp6(4),o.Q6J("ngForOf",i.toasts)("ngForTrackBy",i.trackById))},dependencies:[Ln,Jl],encapsulation:2,changeDetection:0}),n})();class Zs{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.info={content:""},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class pd{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let Va=(()=>{class n{constructor(e,i,r){this._viewService=e,this.platformId=i,this._isInitialized=!1,this._defaultConfig=new Zs,this._defaultPersistConfig=new pd,r&&(this._defaultConfig={...this._defaultConfig,...r})}get defaultConfig(){return this._defaultConfig}set defaultConfig(e){this._defaultConfig={...this._defaultConfig,...e},this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(e,i){return this.createToast(e||this._defaultConfig.blank.content,"blank",{...this._defaultConfig,...i})}error(e,i){return this.createToast(e||this._defaultConfig.error.content,"error",{...this._defaultConfig,...this._defaultConfig?.error,...i})}success(e,i){return this.createToast(e||this._defaultConfig.success.content,"success",{...this._defaultConfig,...this._defaultConfig?.success,...i})}loading(e,i){return this.createToast(e||this._defaultConfig.loading.content,"loading",{...this._defaultConfig,...this._defaultConfig?.loading,...i})}warning(e,i){return this.createToast(e||this._defaultConfig.warning.content,"warning",{...this._defaultConfig,...this._defaultConfig?.warning,...i})}info(e,i){return this.createToast(e||this._defaultConfig.info.content,"info",{...this._defaultConfig,...this._defaultConfig?.info,...i})}observe(e){return i=>{let r,s=0;const u=e.loading??this._defaultConfig.loading?.content,m=e.success??this._defaultConfig.success?.content,v=e.error??this._defaultConfig.error?.content;return Hc(()=>(u&&(r=this.createLoadingToast(u),s=Date.now()),i.pipe((0,tr.b)({...m&&{next:x=>{r=this.createOrUpdateToast(e,x,r,"success",0===s?s:Date.now()-s)}},...v&&{error:x=>{r=this.createOrUpdateToast(e,x,r,"error",0===s?s:Date.now()-s)}}}))))}}close(e){this._componentRef&&this._componentRef.ref.instance.closeToast(e)}init(){Cr(this.platformId)||(this._componentRef=this._viewService.createComponent(Xl).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(e,i,r,s,u){let m=null,v={};if(({content:m,options:v}=this.getContentAndOptions(s,e[s]||(this._defaultConfig[s]?this._defaultConfig[s].content:""))),m=((n,t)=>(n=>"function"==typeof n)(n)?n(t):n)(m,i),r){r.updateMessage(m);const x={type:s,duration:u+fs[s],...v,...v.duration&&{duration:u+v.duration}};r.updateToast(x)}else this.createToast(m,s,v);return r}createToast(e,i,r,s){this._isInitialized||(this._isInitialized=!0,this.init());const u=Date.now(),m=r?.id??u.toString();if(!this.isDuplicate(m)&&(!r.persist?.enabled||r.persist?.enabled&&this.handleStorageValue(m,r))){const v={ariaLive:r?.ariaLive??"polite",createdAt:u,duration:r?.duration??fs[i],id:m,message:e,role:r?.role??"status",type:i,visible:!0,observableMessages:s??void 0,...r};return new Xh(v).appendTo(this._componentRef.ref.instance)}}isDuplicate(e){return this._componentRef.ref.instance.hasToast(e)}handleStorageValue(e,i){let r=1;const s={...this._defaultPersistConfig,...i.persist},u="local"===s.storage?localStorage:sessionStorage,m=s.key.replace(/\${id}/g,e);let v=u.getItem(m);return v?(v=parseInt(v,10),r=v>0?v-1:v):r=s.count,u.setItem(m,r.toString()),r}getContentAndOptions(e,i){let r,s={...this._defaultConfig,...this._defaultConfig[e]};if("string"==typeof i||dc(i)||hc(i))r=i;else{let u;({content:r,...u}=i),s={...s,...u}}return{content:r,options:s}}createLoadingToast(e){let i=null,r={};return({content:i,options:r}=this.getContentAndOptions("loading",e)),this.loading(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(va),o.LFG(o.Lbi),o.LFG(Zs,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fh=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:Zs,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Ii,hs]}),n})();class ph{}class vl{}const is="*";function Gc(n,t){return{type:7,name:n,definitions:t,options:{}}}function Ri(n,t=null){return{type:4,styles:t,timings:n}}function mc(n,t=null){return{type:3,steps:n,options:t}}function md(n,t=null){return{type:2,steps:n,options:t}}function Oi(n){return{type:6,styles:n,offset:null}}function gd(n,t,e){return{type:0,name:n,styles:t,options:e}}function sp(n){return{type:5,steps:n}}function ps(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}class H{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class oe{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==s&&this._onFinish()}),u.onDestroy(()=>{++i==s&&this._onDestroy()}),u.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,m)=>Math.max(u,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function rt(n){return new o.vHH(3e3,!1)}function Nt(n){switch(n.length){case 0:return new H;case 1:return n[0];default:return new oe(n)}}function pn(n,t,e=new Map,i=new Map){const r=[],s=[];let u=-1,m=null;if(t.forEach(v=>{const x=v.get("offset"),P=x==u,L=P&&m||new Map;v.forEach((q,ne)=>{let ae=ne,ye=q;if("offset"!==ne)switch(ae=n.normalizePropertyName(ae,r),ye){case"!":ye=e.get(ne);break;case is:ye=i.get(ne);break;default:ye=n.normalizeStyleValue(ne,ae,ye,r)}L.set(ae,ye)}),P||s.push(L),m=L,u=x}),r.length)throw function l_(n){return new o.vHH(3502,!1)}();return s}function Zn(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&eo(e,"start",n)));break;case"done":n.onDone(()=>i(e&&eo(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&eo(e,"destroy",n)))}}function eo(n,t,e){const s=ya(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),u=n._data;return null!=u&&(s._data=u),s}function ya(n,t,e,i,r="",s=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!u}}function to(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function cp(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const nf=(()=>typeof document>"u"?null:document.documentElement)();function Wc(n){const t=n.parentNode||n.host||null;return t===nf?null:t}let wl=null,rf=!1;function tu(n,t){for(;t;){if(t===n)return!0;t=Wc(t)}return!1}function gh(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let _h=(()=>{class n{validateStyleProperty(e){return function mh(n){wl||(wl=function Cm(){return typeof document<"u"?document.body:null}()||{},rf=!!wl.style&&"WebkitAppearance"in wl.style);let t=!0;return wl.style&&!function Su(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in wl.style,!t&&rf&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in wl.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return tu(e,i)}getParentElement(e){return Wc(e)}query(e,i,r){return gh(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,u,m=[],v){return new H(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})(),bd=(()=>{class n{static#e=this.NOOP=new _h}return n})();const h_=1e3,xm="ng-enter",f_="ng-leave",Em="ng-trigger",wd=".ng-trigger",up="ng-animating",p_=".ng-animating";function Pu(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:vh(parseFloat(t[1]),t[2])}function vh(n,t){return"s"===t?n*h_:n}function Mm(n,t,e){return n.hasOwnProperty("duration")?n:function Ew(n,t,e){let r,s=0,u="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return t.push(rt()),{duration:0,delay:0,easing:""};r=vh(parseFloat(m[1]),m[2]);const v=m[3];null!=v&&(s=vh(parseFloat(v),m[4]));const x=m[5];x&&(u=x)}else r=n;if(!e){let m=!1,v=t.length;r<0&&(t.push(function Bt(){return new o.vHH(3100,!1)}()),m=!0),s<0&&(t.push(function Ft(){return new o.vHH(3101,!1)}()),m=!0),m&&t.splice(v,0,rt())}return{duration:r,delay:s,easing:u}}(n,t,e)}function Cl(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Fy(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function xl(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function gc(n,t,e){t.forEach((i,r)=>{const s=bh(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function Du(n,t){t.forEach((e,i)=>{const r=bh(i);n.style[r]=""})}function yh(n){return Array.isArray(n)?1==n.length?n[0]:md(n):n}const Au=new RegExp("{{\\s*(.+?)\\s*}}","g");function cf(n){let t=[];if("string"==typeof n){let e;for(;e=Au.exec(n);)t.push(e[1]);Au.lastIndex=0}return t}function Cd(n,t,e){const i=n.toString(),r=i.replace(Au,(s,u)=>{let m=t[u];return null==m&&(e.push(function Un(n){return new o.vHH(3003,!1)}()),m=""),m.toString()});return r==i?n:r}function nu(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const lf=/-+([a-z0-9])/g;function bh(n){return n.replace(lf,(...t)=>t[1].toUpperCase())}function Ys(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Sn(n){return new o.vHH(3004,!1)}()}}function Tm(n,t){return window.getComputedStyle(n)[t]}const y="*";function E(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function T(n,t,e){if(":"==n[0]){const v=function R(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Ny(n){return new o.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof v)return void t.push(v);n=v}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function wm(n){return new o.vHH(3015,!1)}()),t;const r=i[1],s=i[2],u=i[3];t.push(re(r,u));"<"==s[0]&&!(r==y&&u==y)&&t.push(re(u,r))}(i,e,t)):e.push(n),e}const V=new Set(["true","1"]),W=new Set(["false","0"]);function re(n,t){const e=V.has(n)||W.has(n),i=V.has(t)||W.has(t);return(r,s)=>{let u=n==y||n==r,m=t==y||t==s;return!u&&e&&"boolean"==typeof r&&(u=r?V.has(n):W.has(n)),!m&&i&&"boolean"==typeof s&&(m=s?V.has(t):W.has(t)),u&&m}}const _e=new RegExp("s*:selfs*,?","g");function Ae(n,t,e,i){return new ht(n).build(t,e,i)}class ht{constructor(t){this._driver=t}build(t,e,i){const r=new An(e);return this._resetContextStyleTimingState(r),Ys(this,yh(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function Do(){return new o.vHH(3006,!1)}()),t.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const v=m,x=v.name;x.toString().split(/\s*,\s*/).forEach(P=>{v.name=P,s.push(this.visitState(v,e))}),v.name=x}else if(1==m.type){const v=this.visitTransition(m,e);i+=v.queryCount,r+=v.depCount,u.push(v)}else e.errors.push(function Xi(){return new o.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,u=r||{};i.styles.forEach(m=>{m instanceof Map&&m.forEach(v=>{cf(v).forEach(x=>{u.hasOwnProperty(x)||s.add(x)})})}),s.size&&(nu(s.values()),e.errors.push(function Ou(n,t){return new o.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ys(this,yh(t.animation),e);return{type:1,matchers:E(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:wi(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ys(this,i,e)),options:wi(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(u=>{e.currentTime=i;const m=Ys(this,u,e);return r=Math.max(r,e.currentTime),m});return e.currentTime=r,{type:3,steps:s,options:wi(t.options)}}visitAnimate(t,e){const i=function _i(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return fr(Mm(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=fr(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=Mm(e,t);return fr(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Oi({});if(5==s.type)r=this.visitKeyframes(s,e);else{let u=t.styles,m=!1;if(!u){m=!0;const x={};i.easing&&(x.easing=i.easing),u=Oi(x)}e.currentTime+=i.duration+i.delay;const v=this.visitStyle(u,e);v.isEmptyStep=m,r=v}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let m of r)"string"==typeof m?m===is?i.push(m):e.errors.push(new o.vHH(3002,!1)):i.push(Fy(m));let s=!1,u=null;return i.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(u=m.get("easing"),m.delete("easing")),!s))for(let v of m.values())if(v.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:u,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((m,v)=>{const x=e.collectedStyles.get(e.currentQuerySelector),P=x.get(v);let L=!0;P&&(s!=r&&s>=P.startTime&&r<=P.endTime&&(e.errors.push(function Fr(n,t,e,i,r){return new o.vHH(3010,!1)}()),L=!1),s=P.startTime),L&&x.set(v,{startTime:s,endTime:r}),e.options&&function m_(n,t,e){const i=t.params||{},r=cf(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function hn(n){return new o.vHH(3001,!1)}())})}(m,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function bl(){return new o.vHH(3011,!1)}()),i;let s=0;const u=[];let m=!1,v=!1,x=0;const P=t.steps.map(wt=>{const Dt=this._makeStyleAst(wt,e);let Pt=null!=Dt.offset?Dt.offset:function Jn(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Dt.styles),Lt=0;return null!=Pt&&(s++,Lt=Dt.offset=Pt),v=v||Lt<0||Lt>1,m=m||Lt<x,x=Lt,u.push(Lt),Dt});v&&e.errors.push(function a_(){return new o.vHH(3012,!1)}()),m&&e.errors.push(function _d(){return new o.vHH(3200,!1)}());const L=t.steps.length;let q=0;s>0&&s<L?e.errors.push(function vd(){return new o.vHH(3202,!1)}()):0==s&&(q=1/(L-1));const ne=L-1,ae=e.currentTime,ye=e.currentAnimateTimings,Ze=ye.duration;return P.forEach((wt,Dt)=>{const Pt=q>0?Dt==ne?1:q*Dt:u[Dt],Lt=Pt*Ze;e.currentTime=ae+ye.delay+Lt,ye.duration=Lt,this._validateStyleAst(wt,e),wt.offset=Pt,i.styles.push(wt)}),i}visitReference(t,e){return{type:8,animation:Ys(this,yh(t.animation),e),options:wi(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:wi(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:wi(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,u]=function an(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(_e,"")),n=n.replace(/@\*/g,wd).replace(/@\w+/g,e=>wd+"-"+e.slice(1)).replace(/:animating/g,p_),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,to(e.collectedStyles,e.currentQuerySelector,new Map);const m=Ys(this,yh(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:m,originalSelector:t.selector,options:wi(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function ef(){return new o.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Mm(t.timings,e.errors,!0);return{type:12,animation:Ys(this,yh(t.animation),e),timings:i,options:null}}}class An{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function wi(n){return n?(n=Cl(n)).params&&(n.params=function Jt(n){return n?Cl(n):null}(n.params)):n={},n}function fr(n,t,e){return{duration:n,delay:t,easing:e}}function Ks(n,t,e,i,r,s,u=null,m=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:u,subTimeline:m}}class Yc{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const df=new RegExp(":enter","g"),xd=new RegExp(":leave","g");function Ed(n,t,e,i,r,s=new Map,u=new Map,m,v,x=[]){return(new Ly).buildKeyframes(n,t,e,i,r,s,u,m,v,x)}class Ly{buildKeyframes(t,e,i,r,s,u,m,v,x,P=[]){x=x||new Yc;const L=new _c(t,e,x,r,s,P,[]);L.options=v;const q=v.delay?Pu(v.delay):0;L.currentTimeline.delayNextStep(q),L.currentTimeline.setStyles([u],null,L.errors,v),Ys(this,i,L);const ne=L.timelines.filter(ae=>ae.containsAnimation());if(ne.length&&m.size){let ae;for(let ye=ne.length-1;ye>=0;ye--){const Ze=ne[ye];if(Ze.element===e){ae=Ze;break}}ae&&!ae.allowOnlyTimelineStyles()&&ae.setStyles([m],null,L.errors,v)}return ne.length?ne.map(ae=>ae.buildKeyframes()):[Ks(e,[],[],[],0,q,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);s!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const u="number"==typeof s?s:Pu(Cd(s,r?.params??{},e.errors));i.delayNextStep(u)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const u=null!=i.duration?Pu(i.duration):null,m=null!=i.delay?Pu(i.delay):null;return 0!==u&&t.forEach(v=>{const x=e.appendInstructionToTimeline(v,u,m);s=Math.max(s,x.duration+x.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Ys(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Qs);const u=Pu(s.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Ys(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Pu(t.options.delay):0;t.steps.forEach(u=>{const m=e.createSubContext(t.options);s&&m.delayNextStep(s),Ys(this,u,m),r=Math.max(r,m.currentTimeline.currentTime),i.push(m.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Mm(e.params?Cd(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,m=e.createSubContext().currentTimeline;m.easing=i.easing,t.styles.forEach(v=>{m.forwardTime((v.offset||0)*s),m.setStyles(v.styles,v.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Pu(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Qs);let u=i;const m=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=m.length;let v=null;m.forEach((x,P)=>{e.currentQueryIndex=P;const L=e.createSubContext(t.options,x);s&&L.delayNextStep(s),x===e.element&&(v=L.currentTimeline),Ys(this,t.animation,L),L.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,L.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),v&&(e.currentTimeline.mergeTimelineCollectedStyles(v),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,u=Math.abs(s.duration),m=u*(e.currentQueryTotal-1);let v=u*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":v=m-v;break;case"full":v=i.currentStaggerTime}const P=e.currentTimeline;v&&P.delayNextStep(v);const L=P.currentTime;Ys(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-L+(r.startTime-i.currentTimeline.startTime)}}const Qs={};class _c{constructor(t,e,i,r,s,u,m,v){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=u,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new Uy(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Pu(i.duration)),null!=i.delay&&(r.delay=Pu(i.delay));const s=i.params;if(s){let u=r.params;u||(u=this.options.params={}),Object.keys(s).forEach(m=>{(!e||!u.hasOwnProperty(m))&&(u[m]=Cd(s[m],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new _c(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Qs,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new RD(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,u){let m=[];if(r&&m.push(this.element),t.length>0){t=(t=t.replace(df,"."+this._enterClassName)).replace(xd,"."+this._leaveClassName);let x=this._driver.query(this.element,t,1!=i);0!==i&&(x=i<0?x.slice(x.length+i,x.length):x.slice(0,i)),m.push(...x)}return!s&&0==m.length&&u.push(function c_(n){return new o.vHH(3014,!1)}()),m}}class Uy{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Uy(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||is),this._currentKeyframe.set(e,is);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},u=function ND(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,is)}else xl(r,e)}),e}(t,this._globalTimelineStyles);for(let[m,v]of u){const x=Cd(v,s,i);this._pendingStyles.set(m,x),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??is),this._updateStyle(m,x)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((m,v)=>{const x=xl(m,new Map,this._backFill);x.forEach((P,L)=>{"!"===P?t.add(L):P===is&&e.add(L)}),i||x.set("offset",v/this.duration),r.push(x)});const s=t.size?nu(t.values()):[],u=e.size?nu(e.values()):[];if(i){const m=r[0],v=new Map(m);m.set("offset",0),v.set("offset",1),r=[m,v]}return Ks(this.element,r,s,u,this.duration,this.startTime,this.easing,!1)}}class RD extends Uy{constructor(t,e,i,r,s,u,m=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=m,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],u=i+e,m=e/u,v=xl(t[0]);v.set("offset",0),s.push(v);const x=xl(t[0]);x.set("offset",MI(m)),s.push(x);const P=t.length-1;for(let L=1;L<=P;L++){let q=xl(t[L]);const ne=q.get("offset");q.set("offset",MI((e+ne*i)/u)),s.push(q)}i=u,e=0,r="",t=s}return Ks(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function MI(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Ow{}const Vy=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Sw extends Ow{normalizePropertyName(t,e){return bh(t)}normalizeStyleValue(t,e,i,r){let s="";const u=i.toString().trim();if(Vy.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const m=i.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&r.push(function ms(n,t){return new o.vHH(3005,!1)}())}return u+s}}function By(n,t,e,i,r,s,u,m,v,x,P,L,q){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:u,timelines:m,queriedElements:v,preStyleProps:x,postStyleProps:P,totalTime:L,errors:q}}const Pw={};class II{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function OI(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,u,m,v,x,P){const L=[],q=this.ast.options&&this.ast.options.params||Pw,ae=this.buildStyles(i,m&&m.params||Pw,L),ye=v&&v.params||Pw,Ze=this.buildStyles(r,ye,L),wt=new Set,Dt=new Map,Pt=new Map,Lt="void"===r,Pn={params:hp(ye,q),delay:this.ast.options?.delay},kn=P?[]:Ed(t,e,this.ast.animation,s,u,ae,Ze,Pn,x,L);let ji=0;if(kn.forEach(rl=>{ji=Math.max(rl.duration+rl.delay,ji)}),L.length)return By(e,this._triggerName,i,r,Lt,ae,Ze,[],[],Dt,Pt,ji,L);kn.forEach(rl=>{const vm=rl.element,CH=to(Dt,vm,new Set);rl.preStyleProps.forEach(ky=>CH.add(ky));const xI=to(Pt,vm,new Set);rl.postStyleProps.forEach(ky=>xI.add(ky)),vm!==e&&wt.add(vm)});const Wo=nu(wt.values());return By(e,this._triggerName,i,r,Lt,ae,Ze,kn,Wo,Dt,Pt,ji)}}function hp(n,t){const e=Cl(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class SI{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Cl(this.defaultParams);return Object.keys(t).forEach(s=>{const u=t[s];null!==u&&(r[s]=u)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((u,m)=>{u&&(u=Cd(u,r,e));const v=this.normalizer.normalizePropertyName(m,e);u=this.normalizer.normalizeStyleValue(m,v,u,e),i.set(m,u)})}),i}}class LD{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new SI(r.style,r.options&&r.options.params||{},i))}),g_(this.states,"true","1"),g_(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new II(t,r,this.states))}),this.fallbackTransition=function PL(n,t,e){return new II(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,m)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function g_(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const UD=new Yc;class DI{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=Ae(this._driver,e,i,[]);if(i.length)throw function yd(n){return new o.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=pn(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let u;const m=new Map;if(s?(u=Ed(this._driver,e,s,xm,f_,new Map,new Map,i,UD,r),u.forEach(P=>{const L=to(m,P.element,new Map);P.postStyleProps.forEach(q=>L.set(q,null))})):(r.push(function u_(){return new o.vHH(3300,!1)}()),u=[]),r.length)throw function tf(n){return new o.vHH(3504,!1)}();m.forEach((P,L)=>{P.forEach((q,ne)=>{P.set(ne,this._driver.computeStyle(L,ne,is))})});const x=Nt(u.map(P=>{const L=m.get(P.element);return this._buildPlayer(P,new Map,L)}));return this._playersById.set(t,x),x.onDestroy(()=>this.destroy(t)),this.players.push(x),x}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function S(n){return new o.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=ya(e,"","","");return Zn(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Dw="ng-animate-queued",__="ng-animate-disabled",RI=[],zy={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Hy={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},iu="__ng_removed";class y_{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function FI(n){return n??null}(i?t.value:t),i){const s=Cl(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Ch="void",Aw=new y_(Ch);class NI{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ru(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function w(n,t){return new o.vHH(3302,!1)}();if(null==i||0==i.length)throw function M(n){return new o.vHH(3303,!1)}();if(!function $y(n){return"start"==n||"done"==n}(i))throw function A(n,t){return new o.vHH(3400,!1)}();const s=to(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};s.push(u);const m=to(this._engine.statesByElement,t,new Map);return m.has(e)||(ru(t,Em),ru(t,Em+"-"+e),m.set(e,Aw)),()=>{this._engine.afterFlush(()=>{const v=s.indexOf(u);v>=0&&s.splice(v,1),this._triggers.has(e)||m.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function $(n){return new o.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),u=new kw(this.id,e,t);let m=this._engine.statesByElement.get(t);m||(ru(t,Em),ru(t,Em+"-"+e),this._engine.statesByElement.set(t,m=new Map));let v=m.get(e);const x=new y_(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&v&&x.absorbOptions(v.options),m.set(e,x),v||(v=Aw),x.value!==Ch&&v.value===x.value){if(!function Om(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(v.params,x.params)){const ye=[],Ze=s.matchStyles(v.value,v.params,ye),wt=s.matchStyles(x.value,x.params,ye);ye.length?this._engine.reportError(ye):this._engine.afterFlush(()=>{Du(t,Ze),gc(t,wt)})}return}const q=to(this._engine.playersByElement,t,[]);q.forEach(ye=>{ye.namespaceId==this.id&&ye.triggerName==e&&ye.queued&&ye.destroy()});let ne=s.matchTransition(v.value,x.value,t,x.params),ae=!1;if(!ne){if(!r)return;ne=s.fallbackTransition,ae=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:ne,fromState:v,toState:x,player:u,isFallbackTransition:ae}),ae||(ru(t,Dw),u.onStart(()=>{w_(t,Dw)})),u.onDone(()=>{let ye=this.players.indexOf(u);ye>=0&&this.players.splice(ye,1);const Ze=this._engine.playersByElement.get(t);if(Ze){let wt=Ze.indexOf(u);wt>=0&&Ze.splice(wt,1)}}),this.players.push(u),q.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,wd,!0);i.forEach(r=>{if(r[iu])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),u=new Map;if(s){const m=[];if(s.forEach((v,x)=>{if(u.set(x,v.value),this._triggers.has(x)){const P=this.trigger(t,x,Ch,r);P&&m.push(P)}}),m.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&Nt(m).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const u=s.name;if(r.has(u))return;r.add(u);const v=this._triggers.get(u).fallbackTransition,x=i.get(u)||Aw,P=new y_(Ch),L=new kw(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:v,fromState:x,toState:P,player:L,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[iu];(!s||s===zy)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ru(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,u=this._elementListeners.get(s);u&&u.forEach(m=>{if(m.name==i.triggerName){const v=ya(s,i.triggerName,i.fromState.value,i.toState.value);v._data=t,Zn(i.player,m.phase,v,m.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class VD{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new NI(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,m=this.driver.getParentElement(e);for(;m;){const v=r.get(m);if(v){const x=i.indexOf(v);i.splice(x+1,0,t),u=!0;break}m=this.driver.getParentElement(m)}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(b_(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!b_(e))return;const s=e[iu];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ru(t,__)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),w_(t,__))}removeNode(t,e,i){if(b_(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[iu]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return b_(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,wd,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,p_,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Nt(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[iu];if(e&&e.setForRemoval){if(t[iu]=zy,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(__)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ru(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Nt(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function J(n){return new o.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new Yc,r=[],s=new Map,u=[],m=new Map,v=new Map,x=new Map,P=new Set;this.disabledNodes.forEach(Cn=>{P.add(Cn);const Bn=this.driver.query(Cn,".ng-animate-queued",!0);for(let Qn=0;Qn<Bn.length;Qn++)P.add(Bn[Qn])});const L=this.bodyNode,q=Array.from(this.statesByElement.keys()),ne=LI(q,this.collectedEnterElements),ae=new Map;let ye=0;ne.forEach((Cn,Bn)=>{const Qn=xm+ye++;ae.set(Bn,Qn),Cn.forEach(ir=>ru(ir,Qn))});const Ze=[],wt=new Set,Dt=new Set;for(let Cn=0;Cn<this.collectedLeaveElements.length;Cn++){const Bn=this.collectedLeaveElements[Cn],Qn=Bn[iu];Qn&&Qn.setForRemoval&&(Ze.push(Bn),wt.add(Bn),Qn.hasAnimation?this.driver.query(Bn,".ng-star-inserted",!0).forEach(ir=>wt.add(ir)):Dt.add(Bn))}const Pt=new Map,Lt=LI(q,Array.from(wt));Lt.forEach((Cn,Bn)=>{const Qn=f_+ye++;Pt.set(Bn,Qn),Cn.forEach(ir=>ru(ir,Qn))}),t.push(()=>{ne.forEach((Cn,Bn)=>{const Qn=ae.get(Bn);Cn.forEach(ir=>w_(ir,Qn))}),Lt.forEach((Cn,Bn)=>{const Qn=Pt.get(Bn);Cn.forEach(ir=>w_(ir,Qn))}),Ze.forEach(Cn=>{this.processLeaveNode(Cn)})});const Pn=[],kn=[];for(let Cn=this._namespaceList.length-1;Cn>=0;Cn--)this._namespaceList[Cn].drainQueuedTransitions(e).forEach(Qn=>{const ir=Qn.player,ec=Qn.element;if(Pn.push(ir),this.collectedEnterElements.length){const ol=ec[iu];if(ol&&ol.setForMove){if(ol.previousTriggersValues&&ol.previousTriggersValues.has(Qn.triggerName)){const Ry=ol.previousTriggersValues.get(Qn.triggerName),Xd=this.statesByElement.get(Qn.element);if(Xd&&Xd.has(Qn.triggerName)){const kD=Xd.get(Qn.triggerName);kD.value=Ry,Xd.set(Qn.triggerName,kD)}}return void ir.destroy()}}const Jf=!L||!this.driver.containsElement(L,ec),Ju=Pt.get(ec),o_=ae.get(ec),ls=this._buildInstruction(Qn,i,o_,Ju,Jf);if(ls.errors&&ls.errors.length)return void kn.push(ls);if(Jf)return ir.onStart(()=>Du(ec,ls.fromStyles)),ir.onDestroy(()=>gc(ec,ls.toStyles)),void r.push(ir);if(Qn.isFallbackTransition)return ir.onStart(()=>Du(ec,ls.fromStyles)),ir.onDestroy(()=>gc(ec,ls.toStyles)),void r.push(ir);const MH=[];ls.timelines.forEach(ol=>{ol.stretchStartingKeyframe=!0,this.disabledNodes.has(ol.element)||MH.push(ol)}),ls.timelines=MH,i.append(ec,ls.timelines),u.push({instruction:ls,player:ir,element:ec}),ls.queriedElements.forEach(ol=>to(m,ol,[]).push(ir)),ls.preStyleProps.forEach((ol,Ry)=>{if(ol.size){let Xd=v.get(Ry);Xd||v.set(Ry,Xd=new Set),ol.forEach((kD,TL)=>Xd.add(TL))}}),ls.postStyleProps.forEach((ol,Ry)=>{let Xd=x.get(Ry);Xd||x.set(Ry,Xd=new Set),ol.forEach((kD,TL)=>Xd.add(TL))})});if(kn.length){const Cn=[];kn.forEach(Bn=>{Cn.push(function Xe(n,t){return new o.vHH(3505,!1)}())}),Pn.forEach(Bn=>Bn.destroy()),this.reportError(Cn)}const ji=new Map,Wo=new Map;u.forEach(Cn=>{const Bn=Cn.element;i.has(Bn)&&(Wo.set(Bn,Bn),this._beforeAnimationBuild(Cn.player.namespaceId,Cn.instruction,ji))}),r.forEach(Cn=>{const Bn=Cn.element;this._getPreviousPlayers(Bn,!1,Cn.namespaceId,Cn.triggerName,null).forEach(ir=>{to(ji,Bn,[]).push(ir),ir.destroy()})});const rl=Ze.filter(Cn=>C_(Cn,v,x)),vm=new Map;fp(vm,this.driver,Dt,x,is).forEach(Cn=>{C_(Cn,v,x)&&rl.push(Cn)});const xI=new Map;ne.forEach((Cn,Bn)=>{fp(xI,this.driver,new Set(Cn),v,"!")}),rl.forEach(Cn=>{const Bn=vm.get(Cn),Qn=xI.get(Cn);vm.set(Cn,new Map([...Bn?.entries()??[],...Qn?.entries()??[]]))});const ky=[],xH=[],EH={};u.forEach(Cn=>{const{element:Bn,player:Qn,instruction:ir}=Cn;if(i.has(Bn)){if(P.has(Bn))return Qn.onDestroy(()=>gc(Bn,ir.toStyles)),Qn.disabled=!0,Qn.overrideTotalTime(ir.totalTime),void r.push(Qn);let ec=EH;if(Wo.size>1){let Ju=Bn;const o_=[];for(;Ju=Ju.parentNode;){const ls=Wo.get(Ju);if(ls){ec=ls;break}o_.push(Ju)}o_.forEach(ls=>Wo.set(ls,ec))}const Jf=this._buildAnimation(Qn.namespaceId,ir,ji,s,xI,vm);if(Qn.setRealPlayer(Jf),ec===EH)ky.push(Qn);else{const Ju=this.playersByElement.get(ec);Ju&&Ju.length&&(Qn.parentPlayer=Nt(Ju)),r.push(Qn)}}else Du(Bn,ir.fromStyles),Qn.onDestroy(()=>gc(Bn,ir.toStyles)),xH.push(Qn),P.has(Bn)&&r.push(Qn)}),xH.forEach(Cn=>{const Bn=s.get(Cn.element);if(Bn&&Bn.length){const Qn=Nt(Bn);Cn.setRealPlayer(Qn)}}),r.forEach(Cn=>{Cn.parentPlayer?Cn.syncPlayerEvents(Cn.parentPlayer):Cn.destroy()});for(let Cn=0;Cn<Ze.length;Cn++){const Bn=Ze[Cn],Qn=Bn[iu];if(w_(Bn,f_),Qn&&Qn.hasAnimation)continue;let ir=[];if(m.size){let Jf=m.get(Bn);Jf&&Jf.length&&ir.push(...Jf);let Ju=this.driver.query(Bn,p_,!0);for(let o_=0;o_<Ju.length;o_++){let ls=m.get(Ju[o_]);ls&&ls.length&&ir.push(...ls)}}const ec=ir.filter(Jf=>!Jf.destroyed);ec.length?jD(this,Bn,ec):this.processLeaveNode(Bn)}return Ze.length=0,ky.forEach(Cn=>{this.players.push(Cn),Cn.onDone(()=>{Cn.destroy();const Bn=this.players.indexOf(Cn);this.players.splice(Bn,1)}),Cn.play()}),ky}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let u=[];if(e){const m=this.playersByQueriedElement.get(t);m&&(u=m)}else{const m=this.playersByElement.get(t);if(m){const v=!s||s==Ch;m.forEach(x=>{x.queued||!v&&x.triggerName!=r||u.push(x)})}}return(i||r)&&(u=u.filter(m=>!(i&&i!=m.namespaceId||r&&r!=m.triggerName))),u}_beforeAnimationBuild(t,e,i){const s=e.element,u=e.isRemovalTransition?void 0:t,m=e.isRemovalTransition?void 0:e.triggerName;for(const v of e.timelines){const x=v.element,P=x!==s,L=to(i,x,[]);this._getPreviousPlayers(x,P,u,m,e.toState).forEach(ne=>{const ae=ne.getRealPlayer();ae.beforeDestroy&&ae.beforeDestroy(),ne.destroy(),L.push(ne)})}Du(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,u){const m=e.triggerName,v=e.element,x=[],P=new Set,L=new Set,q=e.timelines.map(ae=>{const ye=ae.element;P.add(ye);const Ze=ye[iu];if(Ze&&Ze.removedBeforeQueried)return new H(ae.duration,ae.delay);const wt=ye!==v,Dt=function Rw(n){const t=[];return UI(n,t),t}((i.get(ye)||RI).map(ji=>ji.getRealPlayer())).filter(ji=>!!ji.element&&ji.element===ye),Pt=s.get(ye),Lt=u.get(ye),Pn=pn(this._normalizer,ae.keyframes,Pt,Lt),kn=this._buildPlayer(ae,Pn,Dt);if(ae.subTimeline&&r&&L.add(ye),wt){const ji=new kw(t,m,ye);ji.setRealPlayer(kn),x.push(ji)}return kn});x.forEach(ae=>{to(this.playersByQueriedElement,ae.element,[]).push(ae),ae.onDone(()=>function BD(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,ae.element,ae))}),P.forEach(ae=>ru(ae,up));const ne=Nt(q);return ne.onDestroy(()=>{P.forEach(ae=>w_(ae,up)),gc(v,e.toStyles)}),L.forEach(ae=>{to(r,ae,[]).push(ne)}),ne}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new H(t.duration,t.delay)}}class kw{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new H,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>Zn(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){to(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function b_(n){return n&&1===n.nodeType}function qy(n,t){const e=n.style.display;return n.style.display=t??"none",e}function fp(n,t,e,i,r){const s=[];e.forEach(v=>s.push(qy(v)));const u=[];i.forEach((v,x)=>{const P=new Map;v.forEach(L=>{const q=t.computeStyle(x,L,r);P.set(L,q),(!q||0==q.length)&&(x[iu]=Hy,u.push(x))}),n.set(x,P)});let m=0;return e.forEach(v=>qy(v,s[m++])),u}function LI(n,t){const e=new Map;if(n.forEach(m=>e.set(m,[])),0==t.length)return e;const r=new Set(t),s=new Map;function u(m){if(!m)return 1;let v=s.get(m);if(v)return v;const x=m.parentNode;return v=e.has(x)?x:r.has(x)?1:u(x),s.set(m,v),v}return t.forEach(m=>{const v=u(m);1!==v&&e.get(v).push(m)}),e}function ru(n,t){n.classList?.add(t)}function w_(n,t){n.classList?.remove(t)}function jD(n,t,e){Nt(e).onDone(()=>n.processLeaveNode(t))}function UI(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof oe?UI(i.players,t):t.push(i)}}function C_(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class Sm{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new VD(t,e,i),this._timelineEngine=new DI(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const u=t+"-"+r;let m=this._triggerCache[u];if(!m){const v=[],P=Ae(this._driver,s,v,[]);if(v.length)throw function eu(n,t){return new o.vHH(3404,!1)}();m=function PI(n,t,e){return new LD(n,t,e)}(r,P,this._normalizer),this._triggerCache[u]=m}this._transitionEngine.registerTrigger(e,r,m)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,u]=cp(i);this._timelineEngine.command(s,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[u,m]=cp(i);return this._timelineEngine.listen(u,e,m,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let BI=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&gc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gc(this._element,this._initialStyles),this._endStyles&&(gc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Du(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Du(this._element,this._endStyles),this._endStyles=null),gc(this._element,this._initialStyles),this._state=3)}}return n})();function Gy(n){let t=null;return n.forEach((e,i)=>{(function pp(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class jI{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:Tm(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class zD{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return tu(t,e)}getParentElement(t){return Wc(t)}query(t,e,i){return gh(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,u=[]){const v={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(v.easing=s);const x=new Map,P=u.filter(ne=>ne instanceof jI);(function ku(n,t){return 0===n||0===t})(i,r)&&P.forEach(ne=>{ne.currentSnapshot.forEach((ae,ye)=>x.set(ye,ae))});let L=function af(n){return n.length?n[0]instanceof Map?n:n.map(t=>Fy(t)):[]}(e).map(ne=>xl(ne));L=function Iw(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,u)=>{i.has(u)||r.push(u),i.set(u,s)}),r.length)for(let s=1;s<t.length;s++){let u=t[s];r.forEach(m=>u.set(m,Tm(n,m)))}}return t}(t,L,x);const q=function VI(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Gy(t[0]),t.length>1&&(i=Gy(t[t.length-1]))):t instanceof Map&&(e=Gy(t)),e||i?new BI(n,e,i):null}(t,L);return new jI(t,L,v,q)}}let HD=(()=>{class n extends ph{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?md(e):e;return Md(this._renderer,null,i,"register",[r]),new $D(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(o.FYo),o.LFG(ke))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();class $D extends vl{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new qD(this._id,t,e||{},this._renderer)}}class qD{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Md(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Md(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const zI="@.disabled";let GD=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,u)=>{const m=u?.parentNode(s);m&&u.removeChild(m,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let P=this._rendererCache.get(s);return P||(P=new HI("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,P)),P}const u=i.id,m=i.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const v=P=>{Array.isArray(P)?P.forEach(v):this.engine.registerTrigger(u,m,e,P.name,P)};return i.data.animation.forEach(v),new ZD(this,m,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,m]=s;u(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(o.FYo),o.LFG(Sm),o.LFG(o.R0b))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();class HI{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==zI?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ZD extends HI{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==zI?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function WD(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),u="";return"@"!=s.charAt(0)&&([s,u]=function YD(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,u,m=>{this.factory.scheduleListenerCallback(m._data||-1,i,m)})}return this.delegate.listen(t,e,i)}}let $I=(()=>{class n extends Sm{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(ke),o.LFG(bd),o.LFG(Ow),o.LFG(o.z2F))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const qI=[{provide:ph,useClass:HD},{provide:Ow,useFactory:function KD(){return new Sw}},{provide:Sm,useClass:$I},{provide:o.FYo,useFactory:function QD(n,t,e){return new GD(n,t,e)},deps:[hl,Sm,o.R0b]}],Nw=[{provide:bd,useFactory:()=>new zD},{provide:o.QbO,useValue:"BrowserAnimations"},...qI],x_=[{provide:bd,useClass:_h},{provide:o.QbO,useValue:"NoopAnimations"},...qI];let Eh=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?x_:Nw}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({providers:Nw,imports:[zc]})}return n})();var Id=Q(4097),bn=Q(2793);class Pm{constructor(t){return t}}class Fw{constructor(){return(0,Id.C6)()}}const ZI=new o.OlP("angularfire2._apps"),DL={provide:Pm,useFactory:function Lw(n){return n&&1===n.length?n[0]:new Pm((0,Id.Mq)())},deps:[[new o.FiY,ZI]]},WI={provide:Fw,deps:[[new o.FiY,ZI]]};function eA(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new Pm(i)}}let tA=(()=>{class n{constructor(e){(0,Id.KN)("angularfire",bn.q4.full,"core"),(0,Id.KN)("angularfire",bn.q4.full,"app"),(0,Id.KN)("angular",o.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[DL,WI]}),n})();function nA(n,...t){return{ngModule:tA,providers:[{provide:ZI,useFactory:eA(n),multi:!0,deps:[o.R0b,o.zs3,bn.HU,...t]}]}}const YI=(0,bn.u3)(Id.ZF,!0);var dt=Q(5861),Ds=Q(534),ou=Q(4537),ie=Q(9058),Ru=Q(7879);const Vw=new Map,QI={activated:!1,tokenObservers:[]},rA={initialized:!1,enabled:!1};function Ao(n){return Vw.get(n)||Object.assign({},QI)}function Bw(){return rA}const mp="https://content-firebaseappcheck.googleapis.com/v1",JI="exchangeDebugToken",jw={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class XI{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,dt.Z)(function*(){e.stop();try{e.pending=new ie.BH,yield function oA(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new ie.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Js=new ie.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function tT(n){if(!Ao(n).activated)throw Js.create("use-before-activation",{appName:n.name})}function Am(n,t){return Yy.apply(this,arguments)}function Yy(){return(Yy=(0,dt.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const L=yield r.getHeartbeatsHeader();L&&(i["X-Firebase-Client"]=L)}const s={method:"POST",body:JSON.stringify(t),headers:i};let u,m;try{u=yield fetch(n,s)}catch(L){throw Js.create("fetch-network-error",{originalErrorMessage:L?.message})}if(200!==u.status)throw Js.create("fetch-status-error",{httpStatus:u.status});try{m=yield u.json()}catch(L){throw Js.create("fetch-parse-error",{originalErrorMessage:L?.message})}const v=m.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Js.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const x=1e3*Number(v[1]),P=Date.now();return{token:m.token,expireTimeMillis:P+x,issuedAtTimeMillis:P}})).apply(this,arguments)}function iT(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${mp}/projects/${e}/apps/${i}:${JI}?key=${r}`,body:{debug_token:t}}}const Hw="firebase-app-check-database",Ky=1,I_="firebase-app-check-store";let vp=null;function hf(){return(hf=(0,dt.Z)(function*(n,t){const i=(yield function Nu(){return vp||(vp=new Promise((n,t)=>{try{const e=indexedDB.open(Hw,Ky);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Js.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(I_,{keyPath:"compositeKey"})}}catch(e){t(Js.create("storage-open",{originalErrorMessage:e?.message}))}}),vp)}()).transaction(I_,"readwrite"),s=i.objectStore(I_).put({compositeKey:n,value:t});return new Promise((u,m)=>{s.onsuccess=v=>{u()},i.onerror=v=>{var x;m(Js.create("storage-set",{originalErrorMessage:null===(x=v.target.error)||void 0===x?void 0:x.message}))}})})).apply(this,arguments)}const yp=new Ru.Yd("@firebase/app-check");function Xy(n,t){return(0,ie.hl)()?function $w(n,t){return function qw(n,t){return hf.apply(this,arguments)}(function oT(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{yp.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Yw(){return Bw().enabled}function Kw(){return Qw.apply(this,arguments)}function Qw(){return(Qw=(0,dt.Z)(function*(){const n=Bw();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const FL={error:"UNKNOWN_ERROR"};function e0(n){return ie.US.encodeString(JSON.stringify(n),!1)}function t0(n){return T_.apply(this,arguments)}function T_(){return(T_=(0,dt.Z)(function*(n,t=!1){const e=n.app;tT(e);const i=Ao(e);let s,r=i.token;if(r&&!pf(r)&&(i.token=void 0,r=void 0),!r){const v=yield i.cachedTokenPromise;v&&(pf(v)?r=v:yield Xy(e,void 0))}if(!t&&r&&pf(r))return{token:r.token};let m,u=!1;if(Yw()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Am(iT(e,yield Kw()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const v=yield i.exchangeTokenPromise;return yield Xy(e,v),i.token=v,{token:v.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield Ao(e).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?yp.warn(v.message):yp.error(v),s=v}return r?s?m=pf(r)?{token:r.token,internalError:s}:o0(s):(m={token:r.token},i.token=r,yield Xy(e,r)):m=o0(s),u&&function bp(n,t){const e=Ao(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,m),m})).apply(this,arguments)}function n0(n){return ff.apply(this,arguments)}function ff(){return(ff=(0,dt.Z)(function*(n){const t=n.app;tT(t);const{provider:e}=Ao(t);if(Yw()){const i=yield Kw(),{token:r}=yield Am(iT(t,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function S_(n,t){const e=Ao(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function km(n){const{app:t}=n,e=Ao(t);let i=e.tokenRefresher;i||(i=function r0(n){const{app:t}=n;return new XI((0,dt.Z)(function*(){let i;if(i=Ao(t).token?yield t0(n,!0):yield t0(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Ao(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},jw.RETRIAL_MIN_WAIT,jw.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function pf(n){return n.expireTimeMillis-Date.now()>0}function o0(n){return{token:e0(FL),error:n}}class s0{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Ao(this.app);for(const e of t)S_(this.app,e.next);return Promise.resolve()}}const Nm="app-check-internal";!function mA(){(0,Ds._registerComponent)(new ou.wA("app-check",n=>function LL(n,t){return new s0(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Nm).initialize()})),(0,Ds._registerComponent)(new ou.wA(Nm,n=>function Jw(n){return{getToken:t=>t0(n,t),getLimitedUseToken:()=>n0(n),addTokenListener:t=>function O_(n,t,e,i){const{app:r}=n,s=Ao(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:i,type:t}],s.token&&pf(s.token)){const m=s.token;Promise.resolve().then(()=>{e({token:m.token}),km(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>km(n))}(n,"INTERNAL",t),removeTokenListener:t=>S_(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ds.registerVersion)("@firebase/app-check","0.8.0")}();class wp{constructor(){return(0,bn.vb)("app-check")}}typeof window<"u"&&window;var Cp=Q(6710);function gT(n){return new ar.y(function(t){return{unsubscribe:(0,Cp.x)(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}function su(n){return new ar.y(function(t){return{unsubscribe:(0,Cp.v)(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}class xp{constructor(t){return t}}class Td{constructor(){return(0,bn.vb)("auth")}}const aC=new o.OlP("angularfire2.auth-instances");function bA(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new xp(i)}}const cC={provide:Td,deps:[[new o.FiY,aC]]},Od={provide:xp,useFactory:function qL(n,t){const e=(0,bn.JM)("auth",n,t);return e&&new xp(e)},deps:[[new o.FiY,aC],Pm]};let vT=(()=>{class n{constructor(){(0,Id.KN)("angularfire",bn.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Od,cC]}),n})();function wA(n,...t){return{ngModule:vT,providers:[{provide:aC,useFactory:bA(n),multi:!0,deps:[o.R0b,o.zs3,bn.HU,Fw,[new o.FiY,wp],...t]}]}}const GL=(0,bn.u3)(gT,!0),Xs=(0,bn.u3)(su,!0),wT=(0,bn.u3)(Cp.a8,!0),MA=(0,bn.u3)(Cp.o,!0),rU=(0,bn.u3)(Cp.a9,!0),Fm=(0,bn.u3)(Cp.ai,!0);var $t,Lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},El={},h0=h0||{},Wn=Lm||self;function Um(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Ep(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var N_="closure_uid_"+(1e9*Math.random()>>>0),HA=0;function $A(n,t,e){return n.call.apply(n.bind,arguments)}function qA(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function ba(n,t,e){return(ba=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$A:qA).apply(null,arguments)}function f0(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ea(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var u=Array(arguments.length-2),m=2;m<arguments.length;m++)u[m-2]=arguments[m];return t.prototype[r].apply(i,u)}}function gf(){this.s=this.s,this.o=this.o}gf.prototype.s=!1,gf.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function xT(n){Object.prototype.hasOwnProperty.call(n,N_)&&n[N_]||(n[N_]=++HA)}(this)},gf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const hC=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function p0(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function ET(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(Um(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let u=0;u<s;u++)n[r+u]=i[u]}else n.push(i)}}function Ha(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Ha.prototype.h=function(){this.defaultPrevented=!0};var Ml=function(){if(!Wn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Wn.addEventListener("test",()=>{},t),Wn.removeEventListener("test",()=>{},t)}catch{}return n}();function F_(n){return/^[\s\xa0]*$/.test(n)}function m0(){var n=Wn.navigator;return n&&(n=n.userAgent)?n:""}function Mh(n){return-1!=m0().indexOf(n)}function L_(n){return L_[" "](n),n}L_[" "]=function(){};var fC,n,ZA=Mh("Opera"),Vm=Mh("Trident")||Mh("MSIE"),IT=Mh("Edge"),g0=IT||Vm,TT=Mh("Gecko")&&!(-1!=m0().toLowerCase().indexOf("webkit")&&!Mh("Edge"))&&!(Mh("Trident")||Mh("MSIE"))&&!Mh("Edge"),WA=-1!=m0().toLowerCase().indexOf("webkit")&&!Mh("Edge");function _0(){var n=Wn.document;return n?n.documentMode:void 0}e:{var pC="",mC=(n=m0(),TT?/rv:([^\);]+)(\)|;)/.exec(n):IT?/Edge\/([\d\.]+)/.exec(n):Vm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):WA?/WebKit\/(\S+)/.exec(n):ZA?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(mC&&(pC=mC?mC[1]:""),Vm){var gC=_0();if(null!=gC&&gC>parseFloat(pC)){fC=String(gC);break e}}fC=pC}var vC=Wn.document&&Vm&&(_0()||parseInt(fC,10))||void 0;function U_(n,t){if(Ha.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(TT){e:{try{L_(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:OT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&U_.$.h.call(this)}}ea(U_,Ha);var OT={2:"touch",3:"pen",4:"mouse"};U_.prototype.h=function(){U_.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var V_="closure_listenable_"+(1e6*Math.random()|0),ST=0;function PT(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++ST,this.fa=this.ia=!1}function Mp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function B_(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function yC(n){const t={};for(const e in n)t[e]=n[e];return t}const bC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wC(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<bC.length;s++)e=bC[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function j_(n){this.src=n,this.g={},this.h=0}function z_(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=hC(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Mp(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Lu(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}j_.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=Lu(n,t,i,r);return-1<u?(t=n[u],e||(t.ia=!1)):((t=new PT(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var CC="closure_lm_"+(1e6*Math.random()|0),xC={};function v0(n,t,e,i,r){if(i&&i.once)return kT(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)v0(n,t[s],e,i,r);return null}return e=b0(e),n&&n[V_]?n.O(t,e,Ep(i)?!!i.capture:!!i,r):DT(n,t,e,!1,i,r)}function DT(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var u=Ep(r)?!!r.capture:!!r,m=RT(n);if(m||(n[CC]=m=new j_(n)),(e=m.add(t,e,i,u,s)).proxy)return e;if(i=function AT(){const t=y0;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Ml||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(EC(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function kT(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)kT(n,t[s],e,i,r);return null}return e=b0(e),n&&n[V_]?n.P(t,e,Ep(i)?!!i.capture:!!i,r):DT(n,t,e,!0,i,r)}function H_(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)H_(n,t[s],e,i,r);else i=Ep(i)?!!i.capture:!!i,e=b0(e),n&&n[V_]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Lu(s=n.g[t],e,i,r))&&(Mp(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=RT(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Lu(t,e,i,r)),(e=-1<n?t[n]:null)&&Ip(e))}function Ip(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[V_])z_(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(EC(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=RT(t))?(z_(e,n),0==e.h&&(e.src=null,t[CC]=null)):Mp(n)}}}function EC(n){return n in xC?xC[n]:xC[n]="on"+n}function y0(n,t){if(n.fa)n=!0;else{t=new U_(t,this);var e=n.listener,i=n.la||n.src;n.ia&&Ip(n),n=e.call(i,t)}return n}function RT(n){return(n=n[CC])instanceof j_?n:null}var MC="__closure_events_fn_"+(1e9*Math.random()>>>0);function b0(n){return"function"==typeof n?n:(n[MC]||(n[MC]=function(t){return n.handleEvent(t)}),n[MC])}function As(){gf.call(this),this.i=new j_(this),this.S=this,this.J=null}function wa(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new Ha(t,n);else if(t instanceof Ha)t.target=t.target||n;else{var r=t;wC(t=new Ha(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var u=t.g=e[s];r=w0(u,i,!0,t)&&r}if(r=w0(u=t.g=n,i,!0,t)&&r,r=w0(u,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=w0(u=t.g=e[s],i,!1,t)&&r}function w0(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.fa&&u.capture==e){var m=u.listener,v=u.la||u.src;u.ia&&z_(n.i,u),r=!1!==m.call(v,i)&&r}}return r&&!i.defaultPrevented}ea(As,gf),As.prototype[V_]=!0,As.prototype.removeEventListener=function(n,t,e,i){H_(this,n,t,e,i)},As.prototype.N=function(){if(As.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Mp(e[i]);delete n.g[t],n.h--}}this.J=null},As.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},As.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var C0=Wn.JSON.stringify;function $_(){var n=TC;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var IC=new class NT{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new FT,n=>n.reset());class FT{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function KA(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function QA(n){Wn.setTimeout(()=>{throw n},0)}let Ih,q_=!1,TC=new class YA{constructor(){this.h=this.g=null}add(t,e){const i=IC.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},LT=()=>{const n=Wn.Promise.resolve(void 0);Ih=()=>{n.then(JA)}};var JA=()=>{for(var n;n=$_();){try{n.h.call(n.g)}catch(e){QA(e)}var t=IC;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}q_=!1};function x0(n,t){As.call(this),this.h=n||1,this.g=t||Wn,this.j=ba(this.qb,this),this.l=Date.now()}function OC(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function SC(n,t,e){if("function"==typeof n)e&&(n=ba(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ba(n.handleEvent,n)}return 2147483647<Number(t)?-1:Wn.setTimeout(n,t||0)}function UT(n){n.g=SC(()=>{n.g=null,n.i&&(n.i=!1,UT(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}ea(x0,As),($t=x0.prototype).ga=!1,$t.T=null,$t.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),wa(this,"tick"),this.ga&&(OC(this),this.start()))}},$t.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$t.N=function(){x0.$.N.call(this),OC(this),delete this.g};class VT extends gf{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:UT(this)}N(){super.N(),this.g&&(Wn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tp(n){gf.call(this),this.h=n,this.g={}}ea(Tp,gf);var BT=[];function G_(n,t,e,i){Array.isArray(e)||(e&&(BT[0]=e.toString()),e=BT);for(var r=0;r<e.length;r++){var s=v0(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function jT(n){B_(n.g,function(t,e){this.g.hasOwnProperty(e)&&Ip(t)},n),n.g={}}function E0(){this.g=!0}function Bm(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function nk(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<r.length;u++)r[u]=""}}}return C0(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Tp.prototype.N=function(){Tp.$.N.call(this),jT(this)},Tp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},E0.prototype.Ea=function(){this.g=!1},E0.prototype.info=function(){};var _f={},PC=null;function M0(){return PC=PC||new As}function ik(n){Ha.call(this,_f.Ta,n)}function jm(n){const t=M0();wa(t,new ik(t))}function DC(n,t){Ha.call(this,_f.STAT_EVENT,n),this.stat=t}function Kc(n){const t=M0();wa(t,new DC(t,n))}function Z_(n,t){Ha.call(this,_f.Ua,n),this.size=t}function W_(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Wn.setTimeout(function(){n()},t)}_f.Ta="serverreachability",ea(ik,Ha),_f.STAT_EVENT="statevent",ea(DC,Ha),_f.Ua="timingevent",ea(Z_,Ha);var I0={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},T0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function AC(){}function zm(){}AC.prototype.h=null;var Qc,gs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Th(){Ha.call(this,"d")}function Hm(){Ha.call(this,"c")}function $m(){}function Sd(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Tp(this),this.P=qm,this.V=new x0(n=g0?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Op}function Op(){this.i=null,this.g="",this.h=!1}ea(Th,Ha),ea(Hm,Ha),ea($m,AC),$m.prototype.g=function(){return new XMLHttpRequest},$m.prototype.i=function(){return{}},Qc=new $m;var qm=45e3,vf={},Oh={};function yf(n,t,e){n.L=1,n.v=D0(Sh(t)),n.s=e,n.S=!0,Sp(n,null)}function Sp(n,t){n.G=Date.now(),Gm(n),n.A=Sh(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),YT(e.i,"t",i),n.C=0,e=n.l.J,n.h=new Op,n.g=XC(n.l,e?t:null,!n.s),0<n.O&&(n.M=new VT(ba(n.Pa,n,n.g),n.O)),G_(n.U,n.g,"readystatechange",n.nb),t=n.I?yC(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),jm(),function XA(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var u="",m=s.split("&"),v=0;v<m.length;v++){var x=m[v].split("=");if(1<x.length){var P=x[0];x=x[1];var L=P.split("_");u=2<=L.length&&"type"==L[1]?u+(P+"=")+x+"&":u+(P+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Pp(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Dp(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=zT(n,e),r==Oh){4==t&&(n.o=4,Kc(14),i=!1),Bm(n.j,n.m,null,"[Incomplete Response]");break}if(r==vf){n.o=4,Kc(15),Bm(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Bm(n.j,n.m,r,null),O0(n,r)}Pp(n)&&r!=Oh&&r!=vf&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Kc(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),lv(t),t.M=!0,Kc(11))):(Bm(n.j,n.m,e,"[Invalid Chunked Response]"),bf(n),Zm(n))}function zT(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Oh:(e=Number(t.substring(e,i)),isNaN(e)?vf:(i+=1)+e>t.length?Oh:(t=t.slice(i,i+e),n.C=i+e,t))}function Gm(n){n.Y=Date.now()+n.P,kC(n,n.P)}function kC(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=W_(ba(n.lb,n),t)}function Y_(n){n.B&&(Wn.clearTimeout(n.B),n.B=null)}function Zm(n){0==n.l.H||n.J||YC(n.l,n)}function bf(n){Y_(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,OC(n.V),jT(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function O0(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||UC(e.i,n)))if(!n.K&&UC(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;uv(e),U0(e)}cv(e),Kc(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=W_(ba(e.ib,e),6e3));if(1>=KT(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Cf(e,11)}else if((n.K||e.g==n)&&uv(e),!F_(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let x=r[t];if(e.V=x[0],x=x[1],2==e.H)if("c"==x[0]){e.K=x[1],e.pa=x[2];const P=x[3];null!=P&&(e.ra=P,e.l.info("VER="+e.ra));const L=x[4];null!=L&&(e.Ga=L,e.l.info("SVER="+e.Ga));const q=x[5];null!=q&&"number"==typeof q&&0<q&&(e.L=i=1.5*q,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const ne=n.g;if(ne){const ae=ne.g?ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ae){var s=i.i;s.g||-1==ae.indexOf("spdy")&&-1==ae.indexOf("quic")&&-1==ae.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ev(s,s.h),s.h=null))}if(i.F){const ye=ne.g?ne.g.getResponseHeader("X-HTTP-Session-Id"):null;ye&&(i.Da=ye,lo(i.I,i.F,ye))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var u=n;if((i=e).wa=JC(i,i.J?i.pa:null,i.Y),u.K){QT(i.i,u);var m=u,v=i.L;v&&m.setTimeout(v),m.B&&(Y_(m),Gm(m)),i.g=u}else ZC(i);0<e.j.length&&sv(e)}else"stop"!=x[0]&&"close"!=x[0]||Cf(e,7);else 3==e.H&&("stop"==x[0]||"close"==x[0]?"stop"==x[0]?Cf(e,7):L0(e):"noop"!=x[0]&&e.h&&e.h.Aa(x),e.A=0)}jm()}catch{}}function S0(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Um(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function $T(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Um(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function HT(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Um(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}($t=Sd.prototype).setTimeout=function(n){this.P=n},$t.nb=function(n){n=n.target;const t=this.M;t&&3==Vu(n)?t.l():this.Pa(n)},$t.Pa=function(n){try{if(n==this.g)e:{const P=Vu(this.g);var t=this.g.Ia();if(this.g.da(),!(3>P)&&(3!=P||g0||this.g&&(this.h.h||this.g.ja()||r1(this.g)))){this.J||4!=P||7==t||jm(),Y_(this);var e=this.g.da();this.ca=e;t:if(Pp(this)){var i=r1(this.g);n="";var r=i.length,s=4==Vu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){bf(this),Zm(this);var u="";break t}this.h.i=new Wn.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==e,function ek(n,t,e,i,r,s,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.W,P,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F_(m)){var x=m;break t}}x=null}if(!(e=x)){this.i=!1,this.o=3,Kc(12),bf(this),Zm(this);break e}Bm(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,O0(this,e)}this.S?(Dp(this,P,u),g0&&this.i&&3==P&&(G_(this.U,this.V,"tick",this.mb),this.V.start())):(Bm(this.j,this.m,u,null),O0(this,u)),4==P&&bf(this),this.i&&!this.J&&(4==P?YC(this.l,this):(this.i=!1,Gm(this)))}else(function uk(n){const t={};n=(n.g&&2<=Vu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(F_(n[i]))continue;var e=KA(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function aU(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<u.indexOf("Unknown SID")?(this.o=3,Kc(12)):(this.o=0,Kc(13)),bf(this),Zm(this)}}}catch{}},$t.mb=function(){if(this.g){var n=Vu(this.g),t=this.g.ja();this.C<t.length&&(Y_(this),Dp(this,n,t),this.i&&4!=n&&Gm(this))}},$t.cancel=function(){this.J=!0,bf(this)},$t.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function tk(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(jm(),Kc(17)),bf(this),this.o=2,Zm(this)):kC(this,this.Y-n)};var qT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wm(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Wm){this.h=n.h,P0(this,n.j),this.s=n.s,this.g=n.g,RC(this,n.m),this.l=n.l;var t=n.i,e=new Km;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),GT(this,e),this.o=n.o}else n&&(t=String(n).match(qT))?(this.h=!1,P0(this,t[1]||"",!0),this.s=K_(t[2]||""),this.g=K_(t[3]||"",!0),RC(this,t[4]),this.l=K_(t[5]||"",!0),GT(this,t[6]||"",!0),this.o=K_(t[7]||"")):(this.h=!1,this.i=new Km(null,this.h))}function Sh(n){return new Wm(n)}function P0(n,t,e){n.j=e?K_(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function RC(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function GT(n,t,e){t instanceof Km?(n.i=t,function rk(n,t){t&&!n.j&&(wf(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(Qm(this,i),YT(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Q_(t,ZT)),n.i=new Km(t,n.h))}function lo(n,t,e){n.i.set(t,e)}function D0(n){return lo(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function K_(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Q_(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,NC),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function NC(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wm.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Q_(t,Ym,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Q_(t,Ym,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Q_(e,"/"==e.charAt(0)?A0:FC,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Q_(e,J_)),n.join("")};var Ym=/[#\/\?@]/g,FC=/[#\?:]/g,A0=/[#\?]/g,ZT=/[#\?@]/g,J_=/#/g;function Km(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function wf(n){n.g||(n.g=new Map,n.h=0,n.i&&function cU(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Qm(n,t){wf(n),t=Jm(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function WT(n,t){return wf(n),t=Jm(n,t),n.g.has(t)}function YT(n,t,e){Qm(n,t),0<e.length&&(n.i=null,n.g.set(Jm(n,t),p0(e)),n.h+=e.length)}function Jm(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function X_(n){this.l=n||k0,n=Wn.PerformanceNavigationTiming?0<(n=Wn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Wn.g&&Wn.g.Ka&&Wn.g.Ka()&&Wn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($t=Km.prototype).add=function(n,t){wf(this),this.i=null,n=Jm(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},$t.forEach=function(n,t){wf(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},$t.ta=function(){wf(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},$t.Z=function(n){wf(this);let t=[];if("string"==typeof n)WT(this,n)&&(t=t.concat(this.g.get(Jm(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},$t.set=function(n,t){return wf(this),this.i=null,WT(this,n=Jm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},$t.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},$t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),u=this.Z(i);for(i=0;i<u.length;i++){var r=s;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var k0=10;function ok(n){return!!n.h||!!n.g&&n.g.size>=n.j}function KT(n){return n.h?1:n.g?n.g.size:0}function UC(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function ev(n,t){n.g?n.g.add(t):n.h=t}function QT(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function VC(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return p0(n.i)}X_.prototype.cancel=function(){if(this.i=VC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var sk=class{stringify(n){return Wn.JSON.stringify(n,void 0)}parse(n){return Wn.JSON.parse(n,void 0)}};function ak(){this.g=new sk}function JT(n,t,e){const i=e||"";try{S0(n,function(r,s){let u=r;Ep(r)&&(u=C0(r)),t.push(i+s+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function tv(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function nv(n){this.l=n.fc||null,this.j=n.ob||!1}function R0(n,t){As.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=BC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ea(nv,AC),nv.prototype.g=function(){return new R0(this.l,this.j)},nv.prototype.i=function(n){return function(){return n}}({}),ea(R0,As);var BC=0;function jC(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Ap(n){n.readyState=4,n.l=null,n.j=null,n.A=null,kp(n)}function kp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}($t=R0.prototype).open=function(n,t){if(this.readyState!=BC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,kp(this)},$t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Wn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},$t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ap(this)),this.readyState=BC},$t.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,kp(this)),this.g&&(this.readyState=3,kp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Wn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jC(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},$t.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Ap(this):kp(this),3==this.readyState&&jC(this)}},$t.Za=function(n){this.g&&(this.response=this.responseText=n,Ap(this))},$t.Ya=function(n){this.g&&(this.response=n,Ap(this))},$t.ka=function(){this.g&&Ap(this)},$t.setRequestHeader=function(n,t){this.v.append(n,t)},$t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},$t.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(R0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ck=Wn.JSON.parse;function no(n){As.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=iv,this.L=this.M=!1}ea(no,As);var iv="",zC=/^https?$/i,e1=["POST","PUT"];function t1(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,n1(n),Rp(n)}function n1(n){n.F||(n.F=!0,wa(n,"complete"),wa(n,"error"))}function rv(n){if(n.h&&typeof h0<"u"&&(!n.C[1]||4!=Vu(n)||2!=n.da()))if(n.v&&4==Vu(n))SC(n.La,0,n);else if(wa(n,"readystatechange"),4==Vu(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===u){var r=String(n.I).match(qT)[1]||null;!r&&Wn.self&&Wn.self.location&&(r=Wn.self.location.protocol.slice(0,-1)),i=!zC.test(r?r.toLowerCase():"")}e=i}if(e)wa(n,"complete"),wa(n,"success");else{n.m=6;try{var s=2<Vu(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",n1(n)}}finally{Rp(n)}}}function Rp(n,t){if(n.g){N0(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||wa(n,"ready");try{e.onreadystatechange=i}catch{}}}function N0(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Wn.clearTimeout(n.A),n.A=null)}function Vu(n){return n.g?n.g.readyState:0}function r1(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case iv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function HC(n){let t="";return B_(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function ov(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=HC(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):lo(n,t,e))}function Xm(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function F0(n){this.Ga=0,this.j=[],this.l=new E0,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xm("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xm("baseRetryDelayMs",5e3,n),this.hb=Xm("retryDelaySeedMs",1e4,n),this.eb=Xm("forwardChannelMaxRetries",2,n),this.xa=Xm("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new X_(n&&n.concurrentRequestLimit),this.Ja=new ak,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function L0(n){if($C(n),3==n.H){var t=n.W++,e=Sh(n.I);if(lo(e,"SID",n.K),lo(e,"RID",t),lo(e,"TYPE","terminate"),av(n,e),(t=new Sd(n,n.l,t)).L=2,t.v=D0(Sh(e)),e=!1,Wn.navigator&&Wn.navigator.sendBeacon)try{e=Wn.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&Wn.Image&&((new Image).src=t.v,e=!0),e||(t.g=XC(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Gm(t)}QC(n)}function U0(n){n.g&&(lv(n),n.g.cancel(),n.g=null)}function $C(n){U0(n),n.u&&(Wn.clearTimeout(n.u),n.u=null),uv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Wn.clearTimeout(n.m),n.m=null)}function sv(n){if(!ok(n.i)&&!n.m){n.m=!0;var t=n.Na;Ih||LT(),q_||(Ih(),q_=!0),TC.add(t,n),n.C=0}}function qC(n,t){var e;e=t?t.m:n.W++;const i=Sh(n.I);lo(i,"SID",n.K),lo(i,"RID",e),lo(i,"AID",n.V),av(n,i),n.o&&n.s&&ov(i,n.o,n.s),e=new Sd(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=GC(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),ev(n.i,e),yf(e,i,t)}function av(n,t){n.na&&B_(n.na,function(e,i){lo(t,i,e)}),n.h&&S0({},function(e,i){lo(t,i,e)})}function GC(n,t,e){e=Math.min(n.j.length,e);var i=n.h?ba(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const u=["count="+e];-1==s?0<e?(s=r[0].g,u.push("ofs="+s)):s=0:u.push("ofs="+s);let m=!0;for(let v=0;v<e;v++){let x=r[v].g;const P=r[v].map;if(x-=s,0>x)s=Math.max(0,r[v].g-100),m=!1;else try{JT(P,u,"req"+x+"_")}catch{i&&i(P)}}if(m){i=u.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function ZC(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Ih||LT(),q_||(Ih(),q_=!0),TC.add(t,n),n.A=0}}function cv(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=W_(ba(n.Ma,n),KC(n,n.A)),n.A++,0))}function lv(n){null!=n.B&&(Wn.clearTimeout(n.B),n.B=null)}function WC(n){n.g=new Sd(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Sh(n.wa);lo(t,"RID","rpc"),lo(t,"SID",n.K),lo(t,"AID",n.V),lo(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&lo(t,"TO",n.qa),lo(t,"TYPE","xmlhttp"),av(n,t),n.o&&n.s&&ov(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=D0(Sh(t)),e.s=null,e.S=!0,Sp(e,n)}function uv(n){null!=n.v&&(Wn.clearTimeout(n.v),n.v=null)}function YC(n,t){var e=null;if(n.g==t){uv(n),lv(n),n.g=null;var i=2}else{if(!UC(n.i,t))return;e=t.F,QT(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;wa(i=M0(),new Z_(i,e)),sv(n)}else ZC(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function o1(n,t){return!(KT(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=W_(ba(n.Na,n,t),KC(n,n.C)),n.C++,0)))}(n,t)||2==i&&cv(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Cf(n,5);break;case 4:Cf(n,10);break;case 3:Cf(n,6);break;default:Cf(n,2)}}function KC(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function Cf(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=ba(n.pb,n);e||(e=new Wm("//www.google.com/images/cleardot.gif"),Wn.location&&"http"==Wn.location.protocol||P0(e,"https"),D0(e)),function XT(n,t){const e=new E0;if(Wn.Image){const i=new Image;i.onload=f0(tv,e,i,"TestLoadImage: loaded",!0,t),i.onerror=f0(tv,e,i,"TestLoadImage: error",!1,t),i.onabort=f0(tv,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=f0(tv,e,i,"TestLoadImage: timeout",!1,t),Wn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Kc(2);n.H=0,n.h&&n.h.za(t),QC(n),$C(n)}function QC(n){if(n.H=0,n.ma=[],n.h){const t=VC(n.i);(0!=t.length||0!=n.j.length)&&(ET(n.ma,t),ET(n.ma,n.j),n.i.i.length=0,p0(n.j),n.j.length=0),n.h.ya()}}function JC(n,t,e){var i=e instanceof Wm?Sh(e):new Wm(e);if(""!=i.g)t&&(i.g=t+"."+i.g),RC(i,i.m);else{var r=Wn.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Wm(null);i&&P0(s,i),t&&(s.g=t),r&&RC(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&lo(i,e,t),lo(i,"VER",n.ra),av(n,i),i}function XC(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new no(e&&n.Ha&&!n.va?new nv({ob:!0}):n.va)).Oa(n.J),t}function dv(){}function Bu(){if(Vm&&!(10<=Number(vC)))throw Error("Environmental error: no available transport.")}function Il(n,t){As.call(this),this.g=new F0(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!F_(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!F_(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new au(this)}function s1(n){Th.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function V0(){Hm.call(this),this.status=1}function au(n){this.g=n}function ju(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function hv(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],u=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;u=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(u<<7&4294967295|u>>>25))+((u=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((s=(t=e+((u=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((r=s+((u=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Tr(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}($t=no.prototype).Oa=function(n){this.M=n},$t.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Qc.g(),this.C=function Uu(n){return n.h||(n.h=n.i())}(this.u?this.u:Qc),this.g.onreadystatechange=ba(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void t1(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Wn.FormData&&n instanceof Wn.FormData,!(0<=hC(e1,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,u]of e)this.g.setRequestHeader(s,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{N0(this),0<this.B&&((this.L=function lk(n){return Vm&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ba(this.ua,this)):this.A=SC(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){t1(this,s)}},$t.ua=function(){typeof h0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wa(this,"timeout"),this.abort(8))},$t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,wa(this,"complete"),wa(this,"abort"),Rp(this))},$t.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rp(this,!0)),no.$.N.call(this)},$t.La=function(){this.s||(this.G||this.v||this.l?rv(this):this.kb())},$t.kb=function(){rv(this)},$t.isActive=function(){return!!this.g},$t.da=function(){try{return 2<Vu(this)?this.g.status:-1}catch{return-1}},$t.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},$t.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),ck(t)}},$t.Ia=function(){return this.m},$t.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},($t=F0.prototype).ra=8,$t.H=1,$t.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Sd(this,this.l,n);let s=this.s;if(this.U&&(s?(s=yC(s),wC(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=GC(this,r,t),lo(e=Sh(this.I),"RID",n),lo(e,"CVER",22),this.F&&lo(e,"X-HTTP-Session-Id",this.F),av(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(HC(s)))+"&"+t:this.o&&ov(e,this.o,s)),ev(this.i,r),this.bb&&lo(e,"TYPE","init"),this.P?(lo(e,"$req",t),lo(e,"SID","null"),r.aa=!0,yf(r,e,null)):yf(r,e,t),this.H=2}}else 3==this.H&&(n?qC(this,n):0==this.j.length||ok(this.i)||qC(this))},$t.Ma=function(){if(this.u=null,WC(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=W_(ba(this.jb,this),n)}},$t.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Kc(10),U0(this),WC(this))},$t.ib=function(){null!=this.v&&(this.v=null,U0(this),cv(this),Kc(19))},$t.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Kc(2)):(this.l.info("Failed to ping google.com"),Kc(1))},$t.isActive=function(){return!!this.h&&this.h.isActive(this)},($t=dv.prototype).Ba=function(){},$t.Aa=function(){},$t.za=function(){},$t.ya=function(){},$t.isActive=function(){return!0},$t.Va=function(){},Bu.prototype.g=function(n,t){return new Il(n,t)},ea(Il,As),Il.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Kc(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=JC(n,null,n.Y),sv(n)},Il.prototype.close=function(){L0(this.g)},Il.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=C0(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&sv(t)},Il.prototype.N=function(){this.g.h=null,delete this.j,L0(this.g),delete this.g,Il.$.N.call(this)},ea(s1,Th),ea(V0,Hm),ea(au,dv),au.prototype.Ba=function(){wa(this.g,"a")},au.prototype.Aa=function(n){wa(this.g,new s1(n))},au.prototype.za=function(n){wa(this.g,new V0)},au.prototype.ya=function(){wa(this.g,"b")},ea(ju,function ex(){this.blockSize=-1}),ju.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ju.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)hv(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){hv(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){hv(this,i),r=0;break}}this.h=r,this.i+=t},ju.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var lU={};function tx(n){return-128<=n&&128>n?function MT(n,t){var e=lU;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Tr([0|t],0>t?-1:0)}):new Tr([0|n],0>n?-1:0)}function Pd(n){if(isNaN(n)||!isFinite(n))return uo;if(0>n)return Ca(Pd(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=ix;return new Tr(t,0)}var ix=4294967296,uo=tx(0),B0=tx(1),a1=tx(16777216);function Ph(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Tl(n){return-1==n.h}function Ca(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Tr(e,~n.h).add(B0)}function fv(n,t){return n.add(Ca(t))}function pv(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Dd(n,t){this.g=n,this.h=t}function j0(n,t){if(Ph(t))throw Error("division by zero");if(Ph(n))return new Dd(uo,uo);if(Tl(n))return t=j0(Ca(n),t),new Dd(Ca(t.g),Ca(t.h));if(Tl(t))return t=j0(n,Ca(t)),new Dd(Ca(t.g),t.h);if(30<n.g.length){if(Tl(n)||Tl(t))throw Error("slowDivide_ only works with positive integers.");for(var e=B0,i=t;0>=i.X(n);)e=c1(e),i=c1(i);var r=Np(e,1),s=Np(i,1);for(i=Np(i,2),e=Np(e,2);!Ph(i);){var u=s.add(i);0>=u.X(n)&&(r=r.add(e),s=u),i=Np(i,1),e=Np(e,1)}return t=fv(n,r.R(t)),new Dd(r,t)}for(r=uo;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),u=(s=Pd(e)).R(t);Tl(u)||0<u.X(n);)u=(s=Pd(e-=i)).R(t);Ph(s)&&(s=B0),r=r.add(s),n=fv(n,u)}return new Dd(r,n)}function c1(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Tr(e,n.h)}function Np(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new Tr(r,n.h)}($t=Tr.prototype).ea=function(){if(Tl(this))return-Ca(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:ix+i)*t,t*=ix}return n},$t.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ph(this))return"0";if(Tl(this))return"-"+Ca(this).toString(n);for(var t=Pd(Math.pow(n,6)),e=this,i="";;){var r=j0(e,t).g,s=((0<(e=fv(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Ph(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},$t.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},$t.X=function(n){return Tl(n=fv(this,n))?-1:Ph(n)?0:1},$t.abs=function(){return Tl(this)?Ca(this):this},$t.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),u=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=u>>>16,e[r]=(u&=65535)<<16|(s&=65535)}return new Tr(e,-2147483648&e[e.length-1]?-1:0)},$t.R=function(n){if(Ph(this)||Ph(n))return uo;if(Tl(this))return Tl(n)?Ca(this).R(Ca(n)):Ca(Ca(this).R(n));if(Tl(n))return Ca(this.R(Ca(n)));if(0>this.X(a1)&&0>n.X(a1))return Pd(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,u=65535&this.D(i),m=n.D(r)>>>16,v=65535&n.D(r);e[2*i+2*r]+=u*v,pv(e,2*i+2*r),e[2*i+2*r+1]+=s*v,pv(e,2*i+2*r+1),e[2*i+2*r+1]+=u*m,pv(e,2*i+2*r+1),e[2*i+2*r+2]+=s*m,pv(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Tr(e,0)},$t.gb=function(n){return j0(this,n).h},$t.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Tr(e,this.h&n.h)},$t.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Tr(e,this.h|n.h)},$t.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Tr(e,this.h^n.h)},Bu.prototype.createWebChannel=Bu.prototype.g,Il.prototype.send=Il.prototype.u,Il.prototype.open=Il.prototype.m,Il.prototype.close=Il.prototype.close,I0.NO_ERROR=0,I0.TIMEOUT=8,I0.HTTP_ERROR=6,T0.COMPLETE="complete",zm.EventType=gs,gs.OPEN="a",gs.CLOSE="b",gs.ERROR="c",gs.MESSAGE="d",As.prototype.listen=As.prototype.O,no.prototype.listenOnce=no.prototype.P,no.prototype.getLastError=no.prototype.Sa,no.prototype.getLastErrorCode=no.prototype.Ia,no.prototype.getStatus=no.prototype.da,no.prototype.getResponseJson=no.prototype.Wa,no.prototype.getResponseText=no.prototype.ja,no.prototype.send=no.prototype.ha,no.prototype.setWithCredentials=no.prototype.Oa,ju.prototype.digest=ju.prototype.l,ju.prototype.reset=ju.prototype.reset,ju.prototype.update=ju.prototype.j,Tr.prototype.add=Tr.prototype.add,Tr.prototype.multiply=Tr.prototype.R,Tr.prototype.modulo=Tr.prototype.gb,Tr.prototype.compare=Tr.prototype.X,Tr.prototype.toNumber=Tr.prototype.ea,Tr.prototype.toString=Tr.prototype.toString,Tr.prototype.getBits=Tr.prototype.D,Tr.fromNumber=Pd,Tr.fromString=function nx(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return Ca(nx(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Pd(Math.pow(t,8)),i=uo,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),u=parseInt(n.substring(r,r+s),t);8>s?(s=Pd(Math.pow(t,s)),i=i.R(s).add(Pd(u))):i=(i=i.R(e)).add(Pd(u))}return i};var dk=El.createWebChannelTransport=function(){return new Bu},l1=El.getStatEventTarget=function(){return M0()},u1=El.ErrorCode=I0,rx=El.EventType=T0,ox=El.Event=_f,zu=El.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},hk=El.FetchXmlHttpFactory=nv,mv=El.WebChannel=zm,Ad=El.XhrIo=no,Hu=El.Md5=ju,$a=El.Integer=Tr;const sx="@firebase/firestore";class ks{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ks.UNAUTHENTICATED=new ks(null),ks.GOOGLE_CREDENTIALS=new ks("google-credentials-uid"),ks.FIRST_PARTY=new ks("first-party-uid"),ks.MOCK_USER=new ks("mock-user");let eg="9.23.0";const xf=new Ru.Yd("@firebase/firestore");function ax(){return xf.logLevel}function It(n,...t){if(xf.logLevel<=Ru.in.DEBUG){const e=t.map(z0);xf.debug(`Firestore (${eg}): ${n}`,...e)}}function io(n,...t){if(xf.logLevel<=Ru.in.ERROR){const e=t.map(z0);xf.error(`Firestore (${eg}): ${n}`,...e)}}function cu(n,...t){if(xf.logLevel<=Ru.in.WARN){const e=t.map(z0);xf.warn(`Firestore (${eg}): ${n}`,...e)}}function z0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ln(n="Unexpected state"){const t=`FIRESTORE (${eg}) INTERNAL ASSERTION FAILED: `+n;throw io(t),new Error(t)}function wn(n,t){n||ln()}function Gt(n,t){return n}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends ie.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _s{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class cx{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class h1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ks.UNAUTHENTICATED))}shutdown(){}}class pk{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class mk{constructor(t){this.t=t,this.currentUser=ks.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=x=>this.i!==r?(r=this.i,e(x)):Promise.resolve();let u=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _s,t.enqueueRetryable(()=>s(this.currentUser))};const m=()=>{const x=u;t.enqueueRetryable((0,dt.Z)(function*(){yield x.promise,yield s(i.currentUser)}))},v=x=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(x=>v(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?v(x):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _s)}},0),m()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(wn("string"==typeof i.accessToken),new cx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return wn(null===t||"string"==typeof t),new ks(t)}}class lx{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=ks.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class H0{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new lx(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(ks.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ux{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=s=>{null!=s.error&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.T;return this.T=s.token,It("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(wn("string"==typeof e.token),this.T=e.token,new $0(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function f1(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class dx{static A(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=f1(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function Yn(n,t){return n<t?-1:n>t?1:0}function Fp(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function hx(n){return n+"\0"}class ho{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new vt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new vt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new vt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ho.fromMillis(Date.now())}static fromDate(t){return ho.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new ho(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Yn(this.nanoseconds,t.nanoseconds):Yn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class In{constructor(t){this.timestamp=t}static fromTimestamp(t){return new In(t)}static min(){return new In(new ho(0,0))}static max(){return new In(new ho(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gv{constructor(t,e,i){void 0===e?e=0:e>t.length&&ln(),void 0===i?i=t.length-e:i>t.length-e&&ln(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===gv.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof gv?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),u=e.get(r);if(s<u)return-1;if(s>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class $i extends gv{construct(t,e,i){return new $i(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new vt(tt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new $i(e)}static emptyPath(){return new $i([])}}const _k=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qo extends gv{construct(t,e,i){return new qo(t,e,i)}static isValidIdentifier(t){return _k.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qo.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qo(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new vt(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const m=t[r];if("\\"===m){if(r+1===t.length)throw new vt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[r+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new vt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=v,r+=2}else"`"===m?(u=!u,r++):"."!==m||u?(i+=m,r++):(s(),r++)}if(s(),u)throw new vt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qo(e)}static emptyPath(){return new qo([])}}class qt{constructor(t){this.path=t}static fromPath(t){return new qt($i.fromString(t))}static fromName(t){return new qt($i.fromString(t).popFirst(5))}static empty(){return new qt($i.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===$i.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return $i.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new qt(new $i(t.slice()))}}class q0{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function fx(n){return n.fields.find(t=>2===t.kind)}function Lp(n){return n.fields.filter(t=>2!==t.kind)}q0.UNKNOWN_ID=-1;class G0{constructor(t,e){this.fieldPath=t,this.kind=e}}class _v{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new _v(0,Ol.min())}}function p1(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=In.fromTimestamp(1e9===i?new ho(e+1,0):new ho(e,i));return new Ol(r,qt.empty(),t)}function m1(n){return new Ol(n.readTime,n.key,-1)}class Ol{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ol(In.min(),qt.empty(),-1)}static max(){return new Ol(In.max(),qt.empty(),-1)}}function px(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=qt.comparator(n.documentKey,t.documentKey),0!==e?e:Yn(n.largestBatchId,t.largestBatchId))}const mx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Dh(n){return Z0.apply(this,arguments)}function Z0(){return Z0=(0,dt.Z)(function*(n){if(n.code!==tt.FAILED_PRECONDITION||n.message!==mx)throw n;It("LocalStore","Unexpectedly lost primary lease")}),Z0.apply(this,arguments)}class Ye{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ln(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ye((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ye?e:Ye.resolve(e)}catch(e){return Ye.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ye.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ye.reject(e)}static resolve(t){return new Ye((e,i)=>{e(t)})}static reject(t){return new Ye((e,i)=>{i(t)})}static waitFor(t){return new Ye((e,i)=>{let r=0,s=0,u=!1;t.forEach(m=>{++r,m.next(()=>{++s,u&&s===r&&e()},v=>i(v))}),u=!0,s===r&&e()})}static or(t){let e=Ye.resolve(!1);for(const i of t)e=e.next(r=>r?Ye.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new Ye((i,r)=>{const s=t.length,u=new Array(s);let m=0;for(let v=0;v<s;v++){const x=v;e(t[x]).next(P=>{u[x]=P,++m,m===s&&i(u)},P=>r(P))}})}static doWhile(t,e){return new Ye((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class vv{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new _s,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new tg(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=_x(i.target.error);this.v.reject(new tg(t,r))}}static open(t,e,i,r){try{return new vv(e,t.transaction(r,i))}catch(s){throw new tg(e,s)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(It("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new _1(e)}}class lu{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===lu.S((0,ie.z$)())&&io("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return It("SimpleDb","Removing database:",t),Sl(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,ie.hl)())return!1;if(lu.C())return!0;const t=(0,ie.z$)(),e=lu.S(t),i=0<e&&e<10,r=lu.N(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,dt.Z)(function*(){return e.db||(It("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=u=>{i(u.target.result)},s.onblocked=()=>{r(new tg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=u=>{const m=u.target.error;r("VersionError"===m.name?new vt(tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new vt(tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new tg(t,m))},s.onupgradeneeded=u=>{It("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.V.O(u.target.result,s.transaction,u.oldVersion,e.version).next(()=>{It("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,dt.Z)(function*(){const u="readonly"===e;let m=0;for(;;){++m;try{s.db=yield s.$(t);const v=vv.open(s.db,t,u?"readonly":"readwrite",i),x=r(v).next(P=>(v.P(),P)).catch(P=>(v.abort(P),Ye.reject(P))).toPromise();return x.catch(()=>{}),yield v.R,x}catch(v){const x=v,P="FirebaseError"!==x.name&&m<3;if(It("SimpleDb","Transaction failed with error:",x.message,"Retrying:",P),s.close(),!P)return Promise.reject(x)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class g1{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return Sl(this.L.delete())}}class tg extends vt{constructor(t,e){super(tt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function kd(n){return"IndexedDbTransactionError"===n.name}class _1{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(It("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(It("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Sl(i)}add(t){return It("SimpleDb","ADD",this.store.name,t,t),Sl(this.store.add(t))}get(t){return Sl(this.store.get(t)).next(e=>(void 0===e&&(e=null),It("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return It("SimpleDb","DELETE",this.store.name,t),Sl(this.store.delete(t))}count(){return It("SimpleDb","COUNT",this.store.name),Sl(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(u,m)=>{s.push(m)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Ye((s,u)=>{r.onerror=m=>{u(m.target.error)},r.onsuccess=m=>{s(m.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Ye((r,s)=>{i.onerror=u=>{s(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}J(t,e){It("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,u,m)=>m.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new Ye((i,r)=>{e.onerror=s=>{const u=_x(s.target.error);r(u)},e.onsuccess=s=>{const u=s.target.result;u?t(u.primaryKey,u.value).next(m=>{m?u.continue():i()}):i()}})}W(t,e){const i=[];return new Ye((r,s)=>{t.onerror=u=>{s(u.target.error)},t.onsuccess=u=>{const m=u.target.result;if(!m)return void r();const v=new g1(m),x=e(m.primaryKey,m.value,v);if(x instanceof Ye){const P=x.catch(L=>(v.done(),Ye.reject(L)));i.push(P)}v.isDone?r():null===v.K?m.continue():m.continue(v.K)}}).next(()=>Ye.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Sl(n){return new Ye((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=_x(i.target.error);e(r)}})}let v1=!1;function _x(n){const t=lu.S((0,ie.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new vt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return v1||(v1=!0,setTimeout(()=>{throw i},0)),i}}return n}class ng{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;It("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,dt.Z)(function*(){e.task=null;try{It("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){kd(i)?It("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Dh(i)}yield e.et(6e4)}))}}class uU{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,dt.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,s=!0;return Ye.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return It("IndexBackiller",`Processing collection: ${u}`),this.it(t,u,r).next(m=>{r-=m,i.add(u)});s=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const u=s.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.rt(r,s)).next(m=>(It("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(t,e,m))).next(()=>u.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,s)=>{const u=m1(s);px(u,i)>0&&(i=u)}),new Ol(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let vc=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function W0(n){return null==n}function ig(n){return 0===n&&1/n==-1/0}function vx(n){return"number"==typeof n&&Number.isInteger(n)&&!ig(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function yc(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=y1(t)),t=rg(n.get(e),t);return y1(t)}function rg(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function y1(n){return n+"\x01\x01"}function Rd(n){const t=n.length;if(wn(t>=2),2===t)return wn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),$i.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const u=n.indexOf("\x01",s);switch((u<0||u>e)&&ln(),n.charAt(u+1)){case"\x01":const m=n.substring(s,u);let v;0===r.length?v=m:(r+=m,v=r,r=""),i.push(v);break;case"\x10":r+=n.substring(s,u),r+="\0";break;case"\x11":r+=n.substring(s,u+1);break;default:ln()}s=u+2}return new $i(i)}const b1=["userId","batchId"];function Ah(n,t){return[n,yc(t)]}function w1(n,t,e){return[n,yc(t),e]}const Y0={},K0=["prefixPath","collectionGroup","readTime","documentId"],Jc=["prefixPath","collectionGroup","documentId"],dU=["collectionGroup","readTime","prefixPath","documentId"],C1=["canonicalId","targetId"],x1=["targetId","path"],bk=["path","targetId"],E1=["collectionId","parent"],M1=["indexId","uid"],I1=["uid","sequenceNumber"],T1=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],wk=["indexId","uid","orderedDocumentKey"],Ck=["userId","collectionPath","documentId"],xk=["userId","collectionPath","largestBatchId"],yv=["userId","collectionGroup","largestBatchId"],O1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ek=[...O1,"documentOverlays"],S1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bv=S1,P1=[...bv,"indexConfiguration","indexState","indexEntries"];class Q0 extends gx{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function Rs(n,t){const e=Gt(n);return lu.M(e.ht,t)}function D1(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function uu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function og(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class zr{constructor(t,e){this.comparator=t,this.root=e||xa.EMPTY}insert(t,e){return new zr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,xa.BLACK,null,null))}remove(t){return new zr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xa.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new J0(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new J0(this.root,t,this.comparator,!1)}getReverseIterator(){return new J0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new J0(this.root,t,this.comparator,!0)}}class J0{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class xa{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??xa.RED,this.left=r??xa.EMPTY,this.right=s??xa.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new xa(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return xa.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return xa.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,xa.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,xa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ln();const t=this.left.check();if(t!==this.right.check())throw ln();return t+(this.isRed()?0:1)}}xa.EMPTY=null,xa.RED=!0,xa.BLACK=!1,xa.EMPTY=new class{constructor(){this.size=0}get key(){throw ln()}get value(){throw ln()}get color(){throw ln()}get left(){throw ln()}get right(){throw ln()}copy(n,t,e,i,r){return this}insert(n,t,e){return new xa(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hr{constructor(t){this.comparator=t,this.data=new zr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new yx(this.data.getIterator())}getIteratorFrom(t){return new yx(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Hr)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Hr(this.comparator);return e.data=t,e}}class yx{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Up(n){return n.hasNext()?n.getNext():void 0}class Xc{constructor(t){this.fields=t,t.sort(qo.comparator)}static empty(){return new Xc([])}unionWith(t){let e=new Hr(qo.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Xc(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Fp(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class bx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ns{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new bx("Invalid base64 string: "+r):r}}(t);return new Ns(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Ns(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Yn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ns.EMPTY_BYTE_STRING=new Ns("");const hU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vp(n){if(wn(!!n),"string"==typeof n){let t=0;const e=hU.exec(n);if(wn(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:rs(n.seconds),nanos:rs(n.nanos)}}function rs(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ef(n){return"string"==typeof n?Ns.fromBase64String(n):Ns.fromUint8Array(n)}function wv(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Bp(n){const t=n.mapValue.fields.__previous_value__;return wv(t)?Bp(t):t}function Cv(n){const t=Vp(n.mapValue.fields.__local_write_time__.timestampValue);return new ho(t.seconds,t.nanos)}class Ik{constructor(t,e,i,r,s,u,m,v,x){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=v,this.useFetchStreams=x}}class kh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new kh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof kh&&t.projectId===this.projectId&&t.database===this.database}}const du={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},X0={nullValue:"NULL_VALUE"};function Mf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?wv(n)?4:R1(n)?9007199254740991:10:ln()}function Nd(n,t){if(n===t)return!0;const e=Mf(n);if(e!==Mf(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Cv(n).isEqual(Cv(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Vp(i.timestampValue),u=Vp(r.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Ef(n.bytesValue).isEqual(Ef(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return rs(i.geoPointValue.latitude)===rs(r.geoPointValue.latitude)&&rs(i.geoPointValue.longitude)===rs(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return rs(i.integerValue)===rs(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=rs(i.doubleValue),u=rs(r.doubleValue);return s===u?ig(s)===ig(u):isNaN(s)&&isNaN(u)}return!1}(n,t);case 9:return Fp(n.arrayValue.values||[],t.arrayValue.values||[],Nd);case 10:return function(i,r){const s=i.mapValue.fields||{},u=r.mapValue.fields||{};if(D1(s)!==D1(u))return!1;for(const m in s)if(s.hasOwnProperty(m)&&(void 0===u[m]||!Nd(s[m],u[m])))return!1;return!0}(n,t);default:return ln()}var r}function xv(n,t){return void 0!==(n.values||[]).find(e=>Nd(e,t))}function jp(n,t){if(n===t)return 0;const e=Mf(n),i=Mf(t);if(e!==i)return Yn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Yn(n.booleanValue,t.booleanValue);case 2:return function(r,s){const u=rs(r.integerValue||r.doubleValue),m=rs(s.integerValue||s.doubleValue);return u<m?-1:u>m?1:u===m?0:isNaN(u)?isNaN(m)?0:-1:1}(n,t);case 3:return A1(n.timestampValue,t.timestampValue);case 4:return A1(Cv(n),Cv(t));case 5:return Yn(n.stringValue,t.stringValue);case 6:return function(r,s){const u=Ef(r),m=Ef(s);return u.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const u=r.split("/"),m=s.split("/");for(let v=0;v<u.length&&v<m.length;v++){const x=Yn(u[v],m[v]);if(0!==x)return x}return Yn(u.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const u=Yn(rs(r.latitude),rs(s.latitude));return 0!==u?u:Yn(rs(r.longitude),rs(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const u=r.values||[],m=s.values||[];for(let v=0;v<u.length&&v<m.length;++v){const x=jp(u[v],m[v]);if(x)return x}return Yn(u.length,m.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===du.mapValue&&s===du.mapValue)return 0;if(r===du.mapValue)return 1;if(s===du.mapValue)return-1;const u=r.fields||{},m=Object.keys(u),v=s.fields||{},x=Object.keys(v);m.sort(),x.sort();for(let P=0;P<m.length&&P<x.length;++P){const L=Yn(m[P],x[P]);if(0!==L)return L;const q=jp(u[m[P]],v[x[P]]);if(0!==q)return q}return Yn(m.length,x.length)}(n.mapValue,t.mapValue);default:throw ln()}}function A1(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Yn(n,t);const e=Vp(n),i=Vp(t),r=Yn(e.seconds,i.seconds);return 0!==r?r:Yn(e.nanos,i.nanos)}function zp(n){return wx(n)}function wx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Vp(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ef(n.bytesValue).toBase64():"referenceValue"in n?qt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const u of i.values||[])s?s=!1:r+=",",r+=wx(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",u=!0;for(const m of r)u?u=!1:s+=",",s+=`${m}:${wx(i.fields[m])}`;return s+"}"}(n.mapValue):ln();var t}function $u(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Cx(n){return!!n&&"integerValue"in n}function sg(n){return!!n&&"arrayValue"in n}function k1(n){return!!n&&"nullValue"in n}function xx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tb(n){return!!n&&"mapValue"in n}function ag(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return uu(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=ag(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ag(n.arrayValue.values[e]);return t}return Object.assign({},n)}function R1(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ex(n){return"nullValue"in n?X0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?$u(kh.empty(),qt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ln()}function Tk(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?$u(kh.empty(),qt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?du:ln()}function Mx(n,t){const e=jp(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function Ix(n,t){const e=jp(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Ea{constructor(t){this.value=t}static empty(){return new Ea({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!tb(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ag(e)}setAll(t){let e=qo.emptyPath(),i={},r=[];t.forEach((u,m)=>{if(!e.isImmediateParentOf(m)){const v=this.getFieldsMap(e);this.applyChanges(v,i,r),i={},r=[],e=m.popLast()}u?i[m.lastSegment()]=ag(u):r.push(m.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());tb(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Nd(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];tb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){uu(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Ea(ag(this.value))}}function N1(n){const t=[];return uu(n.fields,(e,i)=>{const r=new qo([e]);if(tb(i)){const s=N1(i.mapValue).fields;if(0===s.length)t.push(r);else for(const u of s)t.push(r.child(u))}else t.push(r)}),new Xc(t)}class ro{constructor(t,e,i,r,s,u,m){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=u,this.documentState=m}static newInvalidDocument(t){return new ro(t,0,In.min(),In.min(),In.min(),Ea.empty(),0)}static newFoundDocument(t,e,i,r){return new ro(t,1,e,In.min(),i,r,0)}static newNoDocument(t,e){return new ro(t,2,e,In.min(),In.min(),Ea.empty(),0)}static newUnknownDocument(t,e){return new ro(t,3,e,In.min(),In.min(),Ea.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(In.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ea.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ea.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=In.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof ro&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ro(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fd{constructor(t,e){this.position=t,this.inclusive=e}}function F1(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],u=n.position[r];if(i=s.field.isKeyField()?qt.comparator(qt.fromName(u.referenceValue),e.key):jp(u,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function Tx(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Nd(n.position[e],t.position[e]))return!1;return!0}class cg{constructor(t,e="asc"){this.field=t,this.dir=e}}function Ok(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class L1{}class Ni extends L1{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new Sk(t,e,i):"array-contains"===e?new Ax(t,i):"in"===e?new ib(t,i):"not-in"===e?new j1(t,i):"array-contains-any"===e?new kx(t,i):new Ni(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new Pk(t,i):new Dk(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(jp(e,this.value)):null!==e&&Mf(this.value)===Mf(e)&&this.matchesComparison(jp(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ln()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class pr extends L1{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new pr(t,e)}matches(t){return lg(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function lg(n){return"and"===n.op}function Ox(n){return"or"===n.op}function Sx(n){return Px(n)&&lg(n)}function Px(n){for(const t of n.filters)if(t instanceof pr)return!1;return!0}function nb(n){if(n instanceof Ni)return n.field.canonicalString()+n.op.toString()+zp(n.value);if(Sx(n))return n.filters.map(t=>nb(t)).join(",");{const t=n.filters.map(e=>nb(e)).join(",");return`${n.op}(${t})`}}function U1(n,t){return n instanceof Ni?(e=n,(i=t)instanceof Ni&&e.op===i.op&&e.field.isEqual(i.field)&&Nd(e.value,i.value)):n instanceof pr?function(e,i){return i instanceof pr&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,s,u)=>r&&U1(s,i.filters[u]),!0)}(n,t):void ln();var e,i}function V1(n,t){const e=n.filters.concat(t);return pr.create(e,n.op)}function Dx(n){return n instanceof Ni?`${(t=n).field.canonicalString()} ${t.op} ${zp(t.value)}`:n instanceof pr?function(t){return t.op.toString()+" {"+t.getFilters().map(Dx).join(" ,")+"}"}(n):"Filter";var t}class Sk extends Ni{constructor(t,e,i){super(t,e,i),this.key=qt.fromName(i.referenceValue)}matches(t){const e=qt.comparator(t.key,this.key);return this.matchesComparison(e)}}class Pk extends Ni{constructor(t,e){super(t,"in",e),this.keys=B1(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Dk extends Ni{constructor(t,e){super(t,"not-in",e),this.keys=B1(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function B1(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>qt.fromName(i.referenceValue))}class Ax extends Ni{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return sg(e)&&xv(e.arrayValue,this.value)}}class ib extends Ni{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&xv(this.value.arrayValue,e)}}class j1 extends Ni{constructor(t,e){super(t,"not-in",e)}matches(t){if(xv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!xv(this.value.arrayValue,e)}}class kx extends Ni{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!sg(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>xv(this.value.arrayValue,i))}}class Ak{constructor(t,e=null,i=[],r=[],s=null,u=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=u,this.endAt=m,this.dt=null}}function Rx(n,t=null,e=[],i=[],r=null,s=null,u=null){return new Ak(n,t,e,i,r,s,u)}function Rh(n){const t=Gt(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>nb(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),W0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>zp(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>zp(i)).join(",")),t.dt=e}return t.dt}function Ev(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!Ok(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!U1(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Tx(n.startAt,t.startAt)&&Tx(n.endAt,t.endAt)}function Mv(n){return qt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ld(n,t){return n.filters.filter(e=>e instanceof Ni&&e.field.isEqual(t))}function Nx(n,t,e){let i=X0,r=!0;for(const s of Ld(n,t)){let u=X0,m=!0;switch(s.op){case"<":case"<=":u=Ex(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,m=!1;break;case"!=":case"not-in":u=X0}Mx({value:i,inclusive:r},{value:u,inclusive:m})<0&&(i=u,r=m)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const u=e.position[s];Mx({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function z1(n,t,e){let i=du,r=!0;for(const s of Ld(n,t)){let u=du,m=!0;switch(s.op){case">=":case">":u=Tk(s.value),m=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,m=!1;break;case"!=":case"not-in":u=du}Ix({value:i,inclusive:r},{value:u,inclusive:m})>0&&(i=u,r=m)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const u=e.position[s];Ix({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class If{constructor(t,e=null,i=[],r=[],s=null,u="F",m=null,v=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=u,this.startAt=m,this.endAt=v,this.wt=null,this._t=null}}function rb(n,t,e,i,r,s,u,m){return new If(n,t,e,i,r,s,u,m)}function Tf(n){return new If(n)}function H1(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ob(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Iv(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Fx(n){return null!==n.collectionGroup}function Of(n){const t=Gt(n);if(null===t.wt){t.wt=[];const e=Iv(t),i=ob(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new cg(e)),t.wt.push(new cg(qo.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new cg(qo.keyField(),s))}}}return t.wt}function Ma(n){const t=Gt(n);if(!t._t)if("F"===t.limitType)t._t=Rx(t.path,t.collectionGroup,Of(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of Of(t))e.push(new cg(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new Fd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fd(t.startAt.position,t.startAt.inclusive):null;t._t=Rx(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function sb(n,t){t.getFirstInequalityField(),Iv(n);const e=n.filters.concat([t]);return new If(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Tv(n,t,e){return new If(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function ug(n,t){return Ev(Ma(n),Ma(t))&&n.limitType===t.limitType}function Lx(n){return`${Rh(Ma(n))}|lt:${n.limitType}`}function Ux(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>Dx(i)).join(", ")}]`),W0(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>zp(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>zp(i)).join(",")),`Target(${e})`}(Ma(n))}; limitType=${n.limitType})`}function Ov(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):qt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of Of(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,u){const m=F1(r,s,u);return r.inclusive?m<=0:m<0}(e.startAt,Of(e),i)||e.endAt&&!function(r,s,u){const m=F1(r,s,u);return r.inclusive?m>=0:m>0}(e.endAt,Of(e),i)));var e,i}function $1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function q1(n){return(t,e)=>{let i=!1;for(const r of Of(n)){const s=G1(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function G1(n,t,e){const i=n.field.isKeyField()?qt.comparator(t.key,e.key):function(r,s,u){const m=s.data.field(r),v=u.data.field(r);return null!==m&&null!==v?jp(m,v):ln()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ln()}}class Sf{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){uu(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return og(this.inner)}size(){return this.innerSize}}const Z1=new zr(qt.comparator);function el(){return Z1}const W1=new zr(qt.comparator);function ab(...n){let t=W1;for(const e of n)t=t.insert(e.key,e);return t}function Y1(n){let t=W1;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Ud(){return dg()}function Vx(){return dg()}function dg(){return new Sf(n=>n.toString(),(n,t)=>n.isEqual(t))}const K1=new zr(qt.comparator),Q1=new Hr(qt.comparator);function ui(...n){let t=Q1;for(const e of n)t=t.add(e);return t}const J1=new Hr(Yn);function Bx(){return J1}function X1(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ig(t)?"-0":t}}function eO(n){return{integerValue:""+n}}function tO(n,t){return vx(t)?eO(t):X1(n,t)}class Pf{constructor(){this._=void 0}}function nO(n,t,e){return n instanceof Hp?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&wv(r)&&(r=Bp(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof Df?zx(n,t):n instanceof $p?kk(n,t):function(i,r){const s=jx(i,r),u=Hx(s)+Hx(i.gt);return Cx(s)&&Cx(i.gt)?eO(u):X1(i.serializer,u)}(n,t)}function iO(n,t,e){return n instanceof Df?zx(n,t):n instanceof $p?kk(n,t):e}function jx(n,t){return n instanceof Sv?Cx(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Hp extends Pf{}class Df extends Pf{constructor(t){super(),this.elements=t}}function zx(n,t){const e=$x(t);for(const i of n.elements)e.some(r=>Nd(r,i))||e.push(i);return{arrayValue:{values:e}}}class $p extends Pf{constructor(t){super(),this.elements=t}}function kk(n,t){let e=$x(t);for(const i of n.elements)e=e.filter(r=>!Nd(r,i));return{arrayValue:{values:e}}}class Sv extends Pf{constructor(t,e){super(),this.serializer=t,this.gt=e}}function Hx(n){return rs(n.integerValue||n.doubleValue)}function $x(n){return sg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Pv{constructor(t,e){this.field=t,this.transform=e}}class Nk{constructor(t,e){this.version=t,this.transformResults=e}}class Or{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Or}static exists(t){return new Or(void 0,t)}static updateTime(t){return new Or(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function cb(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class qp{}function rO(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new pg(n.key,Or.none()):new fg(n.key,n.data,Or.none());{const e=n.data,i=Ea.empty();let r=new Hr(qo.comparator);for(let s of t.fields)if(!r.has(s)){let u=e.field(s);null===u&&s.length>1&&(s=s.popLast(),u=e.field(s)),null===u?i.delete(s):i.set(s,u),r=r.add(s)}return new Nh(n.key,i,new Xc(r.toArray()),Or.none())}}function fU(n,t,e){n instanceof fg?function(i,r,s){const u=i.value.clone(),m=Av(i.fieldTransforms,r,s.transformResults);u.setAll(m),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Nh?function(i,r,s){if(!cb(i.precondition,r))return void r.convertToUnknownDocument(s.version);const u=Av(i.fieldTransforms,r,s.transformResults),m=r.data;m.setAll(oO(i)),m.setAll(u),r.convertToFoundDocument(s.version,m).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Dv(n,t,e,i){return n instanceof fg?function(r,s,u,m){if(!cb(r.precondition,s))return u;const v=r.value.clone(),x=qx(r.fieldTransforms,m,s);return v.setAll(x),s.convertToFoundDocument(s.version,v).setHasLocalMutations(),null}(n,t,e,i):n instanceof Nh?function(r,s,u,m){if(!cb(r.precondition,s))return u;const v=qx(r.fieldTransforms,m,s),x=s.data;return x.setAll(oO(r)),x.setAll(v),s.convertToFoundDocument(s.version,x).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(P=>P.field))}(n,t,e,i):(u=e,cb(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u);var s,u}function pU(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=jx(i.transform,r||null);null!=s&&(null===e&&(e=Ea.empty()),e.set(i.field,s))}return e||null}function hg(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Fp(e,i,(r,s)=>function Rk(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Df&&i instanceof Df||e instanceof $p&&i instanceof $p?Fp(e.elements,i.elements,Nd):e instanceof Sv&&i instanceof Sv?Nd(e.gt,i.gt):e instanceof Hp&&i instanceof Hp);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class fg extends qp{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Nh extends qp{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function oO(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Av(n,t,e){const i=new Map;wn(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],u=s.transform,m=t.data.field(s.field);i.set(s.field,iO(u,m,e[r]))}return i}function qx(n,t,e){const i=new Map;for(const r of n){const s=r.transform,u=e.data.field(r.field);i.set(r.field,nO(s,u,t))}return i}class pg extends qp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lb extends qp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mg{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&fU(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Dv(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Dv(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Vx();return this.mutations.forEach(r=>{const s=t.get(r.key),u=s.overlayedDocument;let m=this.applyToLocalView(u,s.mutatedFields);m=e.has(r.key)?null:m;const v=rO(u,m);null!==v&&i.set(r.key,v),u.isValidDocument()||u.convertToNoDocument(In.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ui())}isEqual(t){return this.batchId===t.batchId&&Fp(this.mutations,t.mutations,(e,i)=>hg(e,i))&&Fp(this.baseMutations,t.baseMutations,(e,i)=>hg(e,i))}}class Gx{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){wn(t.mutations.length===i.length);let r=K1;const s=t.mutations;for(let u=0;u<s.length;u++)r=r.insert(s[u].key,i[u].version);return new Gx(t,e,i,r)}}class Zx{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Fk{constructor(t,e){this.count=t,this.unchangedNames=e}}var vs,Bi;function kv(n){switch(n){default:return ln();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0}}function aO(n){if(void 0===n)return io("GRPC error has no .code"),tt.UNKNOWN;switch(n){case vs.OK:return tt.OK;case vs.CANCELLED:return tt.CANCELLED;case vs.UNKNOWN:return tt.UNKNOWN;case vs.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case vs.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case vs.INTERNAL:return tt.INTERNAL;case vs.UNAVAILABLE:return tt.UNAVAILABLE;case vs.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case vs.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case vs.NOT_FOUND:return tt.NOT_FOUND;case vs.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case vs.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case vs.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case vs.ABORTED:return tt.ABORTED;case vs.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case vs.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case vs.DATA_LOSS:return tt.DATA_LOSS;default:return ln()}}(Bi=vs||(vs={}))[Bi.OK=0]="OK",Bi[Bi.CANCELLED=1]="CANCELLED",Bi[Bi.UNKNOWN=2]="UNKNOWN",Bi[Bi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bi[Bi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bi[Bi.NOT_FOUND=5]="NOT_FOUND",Bi[Bi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bi[Bi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bi[Bi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bi[Bi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bi[Bi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bi[Bi.ABORTED=10]="ABORTED",Bi[Bi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bi[Bi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bi[Bi.INTERNAL=13]="INTERNAL",Bi[Bi.UNAVAILABLE=14]="UNAVAILABLE",Bi[Bi.DATA_LOSS=15]="DATA_LOSS";class Wx{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Rv}static getOrCreateInstance(){return null===Rv&&(Rv=new Wx),Rv}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let Rv=null;function Yx(){return new TextEncoder}const Kx=new $a([4294967295,4294967295],0);function Qx(n){const t=Yx().encode(n),e=new Hu;return e.update(t),new Uint8Array(e.digest())}function cO(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new $a([e,i],0),new $a([r,s],0)]}class ub{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new gg(`Invalid padding: ${e}`);if(i<0)throw new gg(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new gg(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new gg(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=$a.fromNumber(this.It)}Et(t,e,i){let r=t.add(e.multiply($a.fromNumber(i)));return 1===r.compare(Kx)&&(r=new $a([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=Qx(t),[i,r]=cO(e);for(let s=0;s<this.hashCount;s++){const u=this.Et(i,r,s);if(!this.At(u))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),u=new ub(s,r,e);return i.forEach(m=>u.insert(m)),u}insert(t){if(0===this.It)return;const e=Qx(t),[i,r]=cO(e);for(let s=0;s<this.hashCount;s++){const u=this.Et(i,r,s);this.Rt(u)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class gg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nv{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Fv.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Nv(In.min(),r,new zr(Yn),el(),ui())}}class Fv{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Fv(i,e,ui(),ui(),ui())}}class _g{constructor(t,e,i,r){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=r}}class db{constructor(t,e){this.targetId=t,this.Vt=e}}class Jx{constructor(t,e,i=Ns.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class hb{constructor(){this.St=0,this.Dt=uO(),this.Ct=Ns.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=ui(),e=ui(),i=ui();return this.Dt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ln()}}),new Fv(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=uO()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Xx{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=el(),this.zt=lO(),this.Wt=new zr(Yn)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:ln()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,r)=>{this.te(r)&&e(r)})}ne(t){var e;const i=t.targetId,r=t.Vt.count,s=this.se(i);if(s){const u=s.target;if(Mv(u))if(0===r){const m=new qt(u.path);this.Yt(i,m,ro.newNoDocument(m,In.min()))}else wn(1===r);else{const m=this.ie(i);if(m!==r){const v=this.re(t,m);0!==v&&(this.ee(i),this.Wt=this.Wt.insert(i,2===v?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=Wx.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(x,P,L){var q,ne,ae,ye,Ze,wt;const Dt={localCacheCount:P,existenceFilterCount:L.count},Pt=L.unchangedNames;return Pt&&(Dt.bloomFilter={applied:0===x,hashCount:null!==(q=Pt?.hashCount)&&void 0!==q?q:0,bitmapLength:null!==(ye=null===(ae=null===(ne=Pt?.bits)||void 0===ne?void 0:ne.bitmap)||void 0===ae?void 0:ae.length)&&void 0!==ye?ye:0,padding:null!==(wt=null===(Ze=Pt?.bits)||void 0===Ze?void 0:Ze.padding)&&void 0!==wt?wt:0}),Dt}(v,m,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:r}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:u=0},hashCount:m=0}=i;let v,x;try{v=Ef(s).toUint8Array()}catch(P){if(P instanceof bx)return cu("Decoding the base64 bloom filter in existence filter failed ("+P.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw P}try{x=new ub(v,u,m)}catch(P){return cu(P instanceof gg?"BloomFilter error: ":"Applying bloom filter failed: ",P),1}return 0===x.It?1:r!==e-this.oe(t.targetId,x)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const u=this.Gt.ue(),m=`projects/${u.projectId}/databases/${u.database}/documents/${s.path.canonicalString()}`;e.vt(m)||(this.Yt(t,s,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((s,u)=>{const m=this.se(u);if(m){if(s.current&&Mv(m.target)){const v=new qt(m.target.path);null!==this.jt.get(v)||this.ae(u,v)||this.Yt(u,v,ro.newNoDocument(v,t))}s.Mt&&(e.set(u,s.Ot()),s.Ft())}});let i=ui();this.zt.forEach((s,u)=>{let m=!0;u.forEachWhile(v=>{const x=this.se(v);return!x||"TargetPurposeLimboResolution"===x.purpose||(m=!1,!1)}),m&&(i=i.add(s))}),this.jt.forEach((s,u)=>u.setReadTime(t));const r=new Nv(t,e,this.Wt,this.jt,i);return this.jt=el(),this.zt=lO(),this.Wt=new zr(Yn),r}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new hb,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new Hr(Yn),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||It("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new hb),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function lO(){return new zr(qt.comparator)}function uO(){return new zr(qt.comparator)}const Lk={asc:"ASCENDING",desc:"DESCENDING"},Uk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dO={and:"AND",or:"OR"};class eE{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function fb(n,t){return n.useProto3Json||W0(t)?t:{value:t}}function Gp(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tE(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function hO(n,t){return Gp(n,t.toTimestamp())}function os(n){return wn(!!n),In.fromTimestamp(function(t){const e=Vp(t);return new ho(e.seconds,e.nanos)}(n))}function pb(n,t){return(e=n,new $i(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function nE(n){const t=$i.fromString(n);return wn(Uv(t)),t}function Lv(n,t){return pb(n.databaseId,t.path)}function qu(n,t){const e=nE(t);if(e.get(1)!==n.databaseId.projectId)throw new vt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new vt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new qt(fO(e))}function mb(n,t){return pb(n.databaseId,t)}function qa(n){const t=nE(n);return 4===t.length?$i.emptyPath():fO(t)}function Vd(n){return new $i(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fO(n){return wn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function pO(n,t,e){return{name:Lv(n,t),fields:e.value.mapValue.fields}}function Vk(n,t,e){const i=qu(n,t.name),r=os(t.updateTime),s=t.createTime?os(t.createTime):In.min(),u=new Ea({mapValue:{fields:t.fields}}),m=ro.newFoundDocument(i,r,s,u);return e&&m.setHasCommittedMutations(),e?m.setHasCommittedMutations():m}function Zp(n,t){let e;if(t instanceof fg)e={update:pO(n,t.key,t.value)};else if(t instanceof pg)e={delete:Lv(n,t.key)};else if(t instanceof Nh)e={update:pO(n,t.key,t.data),updateMask:Hk(t.fieldMask)};else{if(!(t instanceof lb))return ln();e={verify:Lv(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const u=s.transform;if(u instanceof Hp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Df)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof $p)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Sv)return{fieldPath:s.field.canonicalString(),increment:u.gt};throw ln()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:hO(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ln()),e;var r}function gO(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Or.updateTime(os(r.updateTime)):void 0!==r.exists?Or.exists(r.exists):Or.none():Or.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,u){let m=null;"setToServerValue"in u?(wn("REQUEST_TIME"===u.setToServerValue),m=new Hp):"appendMissingElements"in u?m=new Df(u.appendMissingElements.values||[]):"removeAllFromArray"in u?m=new $p(u.removeAllFromArray.values||[]):"increment"in u?m=new Sv(s,u.increment):ln();const v=qo.fromServerFormat(u.fieldPath);return new Pv(v,m)}(n,r)):[];var r;if(t.update){const r=qu(n,t.update.name),s=new Ea({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Xc((t.updateMask.fieldPaths||[]).map(x=>qo.fromServerFormat(x)));return new Nh(r,s,u,e,i)}return new fg(r,s,e,i)}if(t.delete){const r=qu(n,t.delete);return new pg(r,e)}if(t.verify){const r=qu(n,t.verify);return new lb(r,e)}return ln()}function Bk(n,t){return{documents:[mb(n,t.path)]}}function Wp(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=mb(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=mb(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(v){if(0!==v.length)return rE(pr.create(v,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(v){if(0!==v.length)return v.map(x=>{return{field:Af((P=x).field),direction:yO(P.dir)};var P})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const u=fb(n,t.limit);var m,v;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(m=t.startAt).inclusive,values:m.position}),t.endAt&&(e.structuredQuery.endAt={before:!(v=t.endAt).inclusive,values:v.position}),e}function _O(n){let t=qa(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){wn(1===i);const P=e.from[0];P.allDescendants?r=P.collectionId:t=t.child(P.collectionId)}let s=[];e.where&&(s=function(P){const L=vO(P);return L instanceof pr&&Sx(L)?L.getFilters():[L]}(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(P=>{return new cg(kf((L=P).field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction));var L}));let m=null;e.limit&&(m=function(P){let L;return L="object"==typeof P?P.value:P,W0(L)?null:L}(e.limit));let v=null;var P;e.startAt&&(v=new Fd((P=e.startAt).values||[],!!P.before));let x=null;return e.endAt&&(x=function(P){return new Fd(P.values||[],!P.before)}(e.endAt)),rb(t,r,u,s,m,"F",v,x)}function vO(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=kf(t.unaryFilter.field);return Ni.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=kf(t.unaryFilter.field);return Ni.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=kf(t.unaryFilter.field);return Ni.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=kf(t.unaryFilter.field);return Ni.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ln()}}(n):void 0!==n.fieldFilter?Ni.create(kf((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ln()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return pr.create(t.compositeFilter.filters.map(e=>vO(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ln()}}(t.compositeFilter.op))}(n):ln();var t}function yO(n){return Lk[n]}function jk(n){return Uk[n]}function zk(n){return dO[n]}function Af(n){return{fieldPath:n.canonicalString()}}function kf(n){return qo.fromServerFormat(n.fieldPath)}function rE(n){return n instanceof Ni?function(t){if("=="===t.op){if(xx(t.value))return{unaryFilter:{field:Af(t.field),op:"IS_NAN"}};if(k1(t.value))return{unaryFilter:{field:Af(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(xx(t.value))return{unaryFilter:{field:Af(t.field),op:"IS_NOT_NAN"}};if(k1(t.value))return{unaryFilter:{field:Af(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Af(t.field),op:jk(t.op),value:t.value}}}(n):n instanceof pr?function(t){const e=t.getFilters().map(i=>rE(i));return 1===e.length?e[0]:{compositeFilter:{op:zk(t.op),filters:e}}}(n):ln()}function Hk(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Uv(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Gu{constructor(t,e,i,r,s=In.min(),u=In.min(),m=Ns.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=v}withSequenceNumber(t){return new Gu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class $k{constructor(t){this.fe=t}}function wO(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Vv(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Lv(r=n.fe,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:Gp(r,s.version.toTimestamp()),createTime:Gp(r,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:hu(t.version)};else{if(!t.isUnknownDocument())return ln();i.unknownDocument={path:e.path.toArray(),version:hu(t.version)}}var r,s;return i}function Vv(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function hu(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Yp(n){const t=new ho(n.seconds,n.nanoseconds);return In.fromTimestamp(t)}function Rf(n,t){const e=(t.baseMutations||[]).map(s=>gO(n.fe,s));for(let s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);const i=t.mutations.map(s=>gO(n.fe,s)),r=ho.fromMillis(t.localWriteTimeMs);return new mg(t.batchId,r,e,i)}function Kp(n){const t=Yp(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Yp(n.lastLimboFreeSnapshotVersion):In.min();let i;var r;return void 0!==n.query.documents?(wn(1===(r=n.query).documents.length),i=Ma(Tf(qa(r.documents[0])))):i=Ma(_O(n.query)),new Gu(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Ns.fromBase64String(n.resumeToken))}function qk(n,t){const e=hu(t.snapshotVersion),i=hu(t.lastLimboFreeSnapshotVersion);let r;r=Mv(t.target)?Bk(n.fe,t.target):Wp(n.fe,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Rh(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function oE(n){const t=_O({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Tv(t,t.limit,"L"):t}function CO(n,t){return new Zx(t.largestBatchId,gO(n.fe,t.overlayMutation))}function xO(n,t){const e=t.path.lastSegment();return[n,yc(t.path.popLast()),e]}function EO(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:hu(i.readTime),documentKey:yc(i.documentKey.path),largestBatchId:i.largestBatchId}}class Gk{getBundleMetadata(t,e){return sE(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Yp(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return sE(t).put({bundleId:(i=e).id,createTime:hu(os(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return aE(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:oE(r.bundledQuery),readTime:Yp(r.readTime)};var r})}saveNamedQuery(t,e){return aE(t).put({name:(i=e).name,readTime:hu(os(i.readTime)),bundledQuery:i.bundledQuery});var i}}function sE(n){return Rs(n,"bundles")}function aE(n){return Rs(n,"namedQueries")}class gb{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new gb(t,e.uid||"")}getOverlay(t,e){return vg(t).get(xO(this.userId,e)).next(i=>i?CO(this.serializer,i):null)}getOverlays(t,e){const i=Ud();return Ye.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,u)=>{const m=new Zx(e,u);r.push(this.we(t,m))}),Ye.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(yc(u.getCollectionPath())));const s=[];return r.forEach(u=>{const m=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);s.push(vg(t).J("collectionPathOverlayIndex",m))}),Ye.waitFor(s)}getOverlaysForCollection(t,e,i){const r=Ud(),s=yc(e),u=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return vg(t).j("collectionPathOverlayIndex",u).next(m=>{for(const v of m){const x=CO(this.serializer,v);r.set(x.getKey(),x)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=Ud();let u;const m=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return vg(t).X({index:"collectionGroupOverlayIndex",range:m},(v,x,P)=>{const L=CO(this.serializer,x);s.size()<r||L.largestBatchId===u?(s.set(L.getKey(),L),u=L.largestBatchId):P.done()}).next(()=>s)}we(t,e){return vg(t).put(function(i,r,s){const[u,m,v]=xO(r,s.mutation.key);return{userId:r,collectionPath:m,documentId:v,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Zp(i.fe,s.mutation)}}(this.serializer,this.userId,e))}}function vg(n){return Rs(n,"documentOverlays")}class Nf{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(rs(t.integerValue));else if("doubleValue"in t){const i=rs(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),ig(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(Ef(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?R1(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):ln()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const r of Object.keys(i))this.Te(r,e),this.me(i[r],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const r of i)this.me(r,e)}ve(t,e){this.ye(e,37),qt.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function Zk(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function MO(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=Zk(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}Nf.Ve=new Nf;class IO{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=e.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=e.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(t){const e=this.Fe(t),i=MO(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Le(t){const e=this.Fe(t),i=MO(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Wk{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class TO{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class yg{constructor(){this.je=new IO,this.ze=new Wk(this.je),this.We=new TO(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Ff{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Ff(this.indexId,this.documentKey,this.arrayValue,i)}}function Fh(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=OO(n.arrayValue,t.arrayValue),0!==e?e:(e=OO(n.directionalValue,t.directionalValue),0!==e?e:qt.comparator(n.documentKey,t.documentKey)))}function OO(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class Yk{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){wn(t.collectionGroup===this.collectionId);const e=fx(t);if(void 0!==e&&!this.en(e))return!1;const i=Lp(t);let r=new Set,s=0,u=0;for(;s<i.length&&this.en(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const m=i[s];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[u++],m))return!1}++s}for(;s<i.length;++s)if(u>=this.Ye.length||!this.sn(this.Ye[u++],i[s]))return!1;return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function Kk(n){var t,e;if(wn(n instanceof Ni||n instanceof pr),n instanceof Ni){if(n instanceof ib){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>Ni.create(n.field,"==",s)))||[];return pr.create(r,"or")}return n}const i=n.filters.map(r=>Kk(r));return pr.create(i,n.op)}function SO(n){if(0===n.getFilters().length)return[];const t=AO(Kk(n));return wn(Qk(t)),PO(t)||DO(t)?[t]:t.getFilters()}function PO(n){return n instanceof Ni}function DO(n){return n instanceof pr&&Sx(n)}function Qk(n){return PO(n)||DO(n)||function(t){if(t instanceof pr&&Ox(t)){for(const e of t.getFilters())if(!PO(e)&&!DO(e))return!1;return!0}return!1}(n)}function AO(n){if(wn(n instanceof Ni||n instanceof pr),n instanceof Ni)return n;if(1===n.filters.length)return AO(n.filters[0]);const t=n.filters.map(i=>AO(i));let e=pr.create(t,n.op);return e=cE(e),Qk(e)?e:(wn(e instanceof pr),wn(lg(e)),wn(e.filters.length>1),e.filters.reduce((i,r)=>kO(i,r)))}function kO(n,t){let e;return wn(n instanceof Ni||n instanceof pr),wn(t instanceof Ni||t instanceof pr),e=n instanceof Ni?t instanceof Ni?pr.create([n,t],"and"):Jk(n,t):t instanceof Ni?Jk(t,n):function(i,r){if(wn(i.filters.length>0&&r.filters.length>0),lg(i)&&lg(r))return V1(i,r.getFilters());const s=Ox(i)?i:r,u=Ox(i)?r:i,m=s.filters.map(v=>kO(v,u));return pr.create(m,"or")}(n,t),cE(e)}function Jk(n,t){if(lg(t))return V1(t,n.getFilters());{const e=t.filters.map(i=>kO(n,i));return pr.create(e,"or")}}function cE(n){if(wn(n instanceof Ni||n instanceof pr),n instanceof Ni)return n;const t=n.getFilters();if(1===t.length)return cE(t[0]);if(Px(n))return n;const e=t.map(r=>cE(r)),i=[];return e.forEach(r=>{r instanceof Ni?i.push(r):r instanceof pr&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:pr.create(i,n.op)}class _U{constructor(){this.rn=new RO}addToCollectionParentIndex(t,e){return this.rn.add(e),Ye.resolve()}getCollectionParents(t,e){return Ye.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return Ye.resolve()}deleteFieldIndex(t,e){return Ye.resolve()}getDocumentsMatchingTarget(t,e){return Ye.resolve(null)}getIndexType(t,e){return Ye.resolve(0)}getFieldIndexes(t,e){return Ye.resolve([])}getNextCollectionGroupToUpdate(t){return Ye.resolve(null)}getMinOffset(t,e){return Ye.resolve(Ol.min())}getMinOffsetFromCollectionGroup(t,e){return Ye.resolve(Ol.min())}updateCollectionGroup(t,e,i){return Ye.resolve()}updateIndexEntries(t,e){return Ye.resolve()}}class RO{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Hr($i.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Hr($i.comparator)).toArray()}}const Bv=new Uint8Array(0);class lE{constructor(t,e){this.user=t,this.databaseId=e,this.on=new RO,this.un=new Sf(i=>Rh(i),(i,r)=>Ev(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const s={collectionId:i,parent:yc(r)};return uE(t).put(s)}return Ye.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[hx(e),""],!1,!0);return uE(t).j(r).next(s=>{for(const u of s){if(u.collectionId!==e)break;i.push(Rd(u.parent))}return i})}addFieldIndex(t,e){const i=Qp(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var u;delete r.indexId;const s=i.add(r);if(e.indexState){const u=zv(t);return s.next(m=>{u.put(EO(m,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=Qp(t),r=zv(t),s=jv(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=jv(t);let r=!0;const s=new Map;return Ye.forEach(this.cn(e),u=>this.an(t,u).next(m=>{r&&(r=!!m),s.set(u,m)})).next(()=>{if(r){let u=ui();const m=[];return Ye.forEach(s,(v,x)=>{var P;It("IndexedDbIndexManager",`Using index ${P=v,`id=${P.indexId}|cg=${P.collectionGroup}|f=${P.fields.map(Pt=>`${Pt.fieldPath}:${Pt.kind}`).join(",")}`} to execute ${Rh(e)}`);const L=function(Pt,Lt){const Pn=fx(Lt);if(void 0===Pn)return null;for(const kn of Ld(Pt,Pn.fieldPath))switch(kn.op){case"array-contains-any":return kn.value.arrayValue.values||[];case"array-contains":return[kn.value]}return null}(x,v),q=function(Pt,Lt){const Pn=new Map;for(const kn of Lp(Lt))for(const ji of Ld(Pt,kn.fieldPath))switch(ji.op){case"==":case"in":Pn.set(kn.fieldPath.canonicalString(),ji.value);break;case"not-in":case"!=":return Pn.set(kn.fieldPath.canonicalString(),ji.value),Array.from(Pn.values())}return null}(x,v),ne=function(Pt,Lt){const Pn=[];let kn=!0;for(const ji of Lp(Lt)){const Wo=0===ji.kind?Nx(Pt,ji.fieldPath,Pt.startAt):z1(Pt,ji.fieldPath,Pt.startAt);Pn.push(Wo.value),kn&&(kn=Wo.inclusive)}return new Fd(Pn,kn)}(x,v),ae=function(Pt,Lt){const Pn=[];let kn=!0;for(const ji of Lp(Lt)){const Wo=0===ji.kind?z1(Pt,ji.fieldPath,Pt.endAt):Nx(Pt,ji.fieldPath,Pt.endAt);Pn.push(Wo.value),kn&&(kn=Wo.inclusive)}return new Fd(Pn,kn)}(x,v),ye=this.hn(v,x,ne),Ze=this.hn(v,x,ae),wt=this.ln(v,x,q),Dt=this.fn(v.indexId,L,ye,ne.inclusive,Ze,ae.inclusive,wt);return Ye.forEach(Dt,Pt=>i.H(Pt,e.limit).next(Lt=>{Lt.forEach(Pn=>{const kn=qt.fromSegments(Pn.documentKey);u.has(kn)||(u=u.add(kn),m.push(kn))})}))}).next(()=>m)}return Ye.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:SO(pr.create(t.filters,"and")).map(i=>Rx(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,r,s,u,m){const v=(null!=e?e.length:1)*Math.max(i.length,s.length),x=v/(null!=e?e.length:1),P=[];for(let L=0;L<v;++L){const q=e?this.dn(e[L/x]):Bv,ne=this.wn(t,q,i[L%x],r),ae=this._n(t,q,s[L%x],u),ye=m.map(Ze=>this.wn(t,q,Ze,!0));P.push(...this.createRange(ne,ae,ye))}return P}wn(t,e,i,r){const s=new Ff(t,qt.empty(),e,i);return r?s:s.Je()}_n(t,e,i,r){const s=new Ff(t,qt.empty(),e,i);return r?s.Je():s}an(t,e){const i=new Yk(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let u=null;for(const m of s)i.tn(m)&&(!u||m.fields.length>u.fields.length)&&(u=m);return u})}getIndexType(t,e){let i=2;const r=this.cn(e);return Ye.forEach(r,s=>this.an(t,s).next(u=>{u?0!==i&&u.fields.length<function(m){let v=new Hr(qo.comparator),x=!1;for(const P of m.filters)for(const L of P.getFlattenedFilters())L.field.isKeyField()||("array-contains"===L.op||"array-contains-any"===L.op?x=!0:v=v.add(L.field));for(const P of m.orderBy)P.field.isKeyField()||(v=v.add(P.field));return v.size+(x?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}mn(t,e){const i=new yg;for(const r of Lp(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const u=i.He(r.kind);Nf.Ve._e(s,u)}return i.Qe()}dn(t){const e=new yg;return Nf.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new yg;return Nf.Ve._e($u(this.databaseId,e),i.He(function(r){const s=Lp(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let r=[];r.push(new yg);let s=0;for(const u of Lp(t)){const m=i[s++];for(const v of r)if(this.yn(e,u.fieldPath)&&sg(m))r=this.pn(r,u,m);else{const x=v.He(u.kind);Nf.Ve._e(m,x)}}return this.In(r)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const r=[...t],s=[];for(const u of i.arrayValue.values||[])for(const m of r){const v=new yg;v.seed(m.Qe()),Nf.Ve._e(u,v.He(e.kind)),s.push(v)}return s}yn(t,e){return!!t.filters.find(i=>i instanceof Ni&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=Qp(t),r=zv(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(s=>{const u=[];return Ye.forEach(s,m=>r.get([m.indexId,this.uid]).next(v=>{u.push(function(x,P){const L=P?new _v(P.sequenceNumber,new Ol(Yp(P.readTime),new qt(Rd(P.documentKey)),P.largestBatchId)):_v.empty(),q=x.fields.map(([ne,ae])=>new G0(qo.fromServerFormat(ne),ae));return new q0(x.indexId,x.collectionGroup,q,L)}(m,v))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Yn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=Qp(t),s=zv(t);return this.Tn(t).next(u=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(m=>Ye.forEach(m,v=>s.put(EO(v.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return Ye.forEach(e,(r,s)=>{const u=i.get(r.collectionGroup);return(u?Ye.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(m=>(i.set(r.collectionGroup,m),Ye.forEach(m,v=>this.En(t,r,v).next(x=>{const P=this.An(s,v);return x.isEqual(P)?Ye.resolve():this.vn(t,s,v,x,P)}))))})}Rn(t,e,i,r){return jv(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,r){return jv(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const r=jv(t);let s=new Hr(Fh);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(u,m)=>{s=s.add(new Ff(i.indexId,e,m.arrayValue,m.directionalValue))}).next(()=>s)}An(t,e){let i=new Hr(Fh);const r=this.mn(e,t);if(null==r)return i;const s=fx(e);if(null!=s){const u=t.data.field(s.fieldPath);if(sg(u))for(const m of u.arrayValue.values||[])i=i.add(new Ff(e.indexId,t.key,this.dn(m),r))}else i=i.add(new Ff(e.indexId,t.key,Bv,r));return i}vn(t,e,i,r,s){It("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(m,v,x,P,L){const q=m.getIterator(),ne=v.getIterator();let ae=Up(q),ye=Up(ne);for(;ae||ye;){let Ze=!1,wt=!1;if(ae&&ye){const Dt=x(ae,ye);Dt<0?wt=!0:Dt>0&&(Ze=!0)}else null!=ae?wt=!0:Ze=!0;Ze?(P(ye),ye=Up(ne)):wt?(L(ae),ae=Up(q)):(ae=Up(q),ye=Up(ne))}}(r,s,Fh,m=>{u.push(this.Rn(t,e,i,m))},m=>{u.push(this.Pn(t,e,i,m))}),Ye.waitFor(u)}Tn(t){let e=1;return zv(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,m)=>Fh(u,m)).filter((u,m,v)=>!m||0!==Fh(u,v[m-1]));const r=[];r.push(t);for(const u of i){const m=Fh(u,t),v=Fh(u,e);if(0===m)r[0]=t.Je();else if(m>0&&v<0)r.push(u),r.push(u.Je());else if(v>0)break}r.push(e);const s=[];for(let u=0;u<r.length;u+=2){if(this.bn(r[u],r[u+1]))return[];s.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,Bv,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,Bv,[]]))}return s}bn(t,e){return Fh(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(Xk)}getMinOffset(t,e){return Ye.mapArray(this.cn(e),i=>this.an(t,i).next(r=>r||ln())).next(Xk)}}function uE(n){return Rs(n,"collectionParents")}function jv(n){return Rs(n,"indexEntries")}function Qp(n){return Rs(n,"indexConfiguration")}function zv(n){return Rs(n,"indexState")}function Xk(n){wn(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;px(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Ol(t.readTime,t.documentKey,e)}const eR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ga{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Ga(t,Ga.DEFAULT_COLLECTION_PERCENTILE,Ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function dE(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],u=IDBKeyRange.only(e.batchId);let m=0;const v=i.X({range:u},(P,L,q)=>(m++,q.delete()));s.push(v.next(()=>{wn(1===m)}));const x=[];for(const P of e.mutations){const L=w1(t,P.key.path,e.batchId);s.push(r.delete(L)),x.push(P.key)}return Ye.waitFor(s).next(()=>x)}function _b(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ln();t=n.noDocument}return JSON.stringify(t).length}Ga.DEFAULT_COLLECTION_PERCENTILE=10,Ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ga.DEFAULT=new Ga(41943040,Ga.DEFAULT_COLLECTION_PERCENTILE,Ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ga.DISABLED=new Ga(-1,0,0);class vb{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(t,e,i,r){wn(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new vb(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jp(t).X({index:"userMutationsIndex",range:i},(r,s,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=bg(t),u=Jp(t);return u.add({}).next(m=>{wn("number"==typeof m);const v=new mg(m,e,i,r),x=function(q,ne,ae){const ye=ae.baseMutations.map(wt=>Zp(q.fe,wt)),Ze=ae.mutations.map(wt=>Zp(q.fe,wt));return{userId:ne,batchId:ae.batchId,localWriteTimeMs:ae.localWriteTime.toMillis(),baseMutations:ye,mutations:Ze}}(this.serializer,this.userId,v),P=[];let L=new Hr((q,ne)=>Yn(q.canonicalString(),ne.canonicalString()));for(const q of r){const ne=w1(this.userId,q.key.path,m);L=L.add(q.key.path.popLast()),P.push(u.put(x)),P.push(s.put(ne,Y0))}return L.forEach(q=>{P.push(this.indexManager.addToCollectionParentIndex(t,q))}),t.addOnCommittedListener(()=>{this.Vn[m]=v.keys()}),Ye.waitFor(P).next(()=>v)})}lookupMutationBatch(t,e){return Jp(t).get(e).next(i=>i?(wn(i.userId===this.userId),Rf(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?Ye.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Vn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Jp(t).X({index:"userMutationsIndex",range:r},(u,m,v)=>{m.userId===this.userId&&(wn(m.batchId>=i),s=Rf(this.serializer,m)),v.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Jp(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,s,u)=>{i=s.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jp(t).j("userMutationsIndex",e).next(i=>i.map(r=>Rf(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Ah(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return bg(t).X({range:r},(u,m,v)=>{const[x,P,L]=u,q=Rd(P);if(x===this.userId&&e.path.isEqual(q))return Jp(t).get(L).next(ne=>{if(!ne)throw ln();wn(ne.userId===this.userId),s.push(Rf(this.serializer,ne))});v.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Hr(Yn);const r=[];return e.forEach(s=>{const u=Ah(this.userId,s.path),m=IDBKeyRange.lowerBound(u),v=bg(t).X({range:m},(x,P,L)=>{const[q,ne,ae]=x,ye=Rd(ne);q===this.userId&&s.path.isEqual(ye)?i=i.add(ae):L.done()});r.push(v)}),Ye.waitFor(r).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=Ah(this.userId,i),u=IDBKeyRange.lowerBound(s);let m=new Hr(Yn);return bg(t).X({range:u},(v,x,P)=>{const[L,q,ne]=v,ae=Rd(q);L===this.userId&&i.isPrefixOf(ae)?ae.length===r&&(m=m.add(ne)):P.done()}).next(()=>this.Dn(t,m))}Dn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(Jp(t).get(s).next(u=>{if(null===u)throw ln();wn(u.userId===this.userId),i.push(Rf(this.serializer,u))}))}),Ye.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return dE(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),Ye.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ye.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return bg(t).X({range:i},(s,u,m)=>{if(s[0]===this.userId){const v=Rd(s[1]);r.push(v)}else m.done()}).next(()=>{wn(0===r.length)})})}containsKey(t,e){return NO(t,this.userId,e)}xn(t){return wg(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function NO(n,t,e){const i=Ah(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let u=!1;return bg(n).X({range:s,Y:!0},(m,v,x)=>{const[P,L,q]=m;P===t&&L===r&&(u=!0),x.done()}).next(()=>u)}function Jp(n){return Rs(n,"mutations")}function bg(n){return Rs(n,"documentMutations")}function wg(n){return Rs(n,"mutationQueues")}class Bd{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new Bd(0)}static Mn(){return new Bd(-1)}}class tR{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new Bd(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>In.fromTimestamp(new ho(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Cg(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(wn(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return Cg(t).X((u,m)=>{const v=Kp(m);v.sequenceNumber<=e&&null===i.get(v.targetId)&&(r++,s.push(this.removeTargetData(t,v)))}).next(()=>Ye.waitFor(s)).next(()=>r)}forEachTarget(t,e){return Cg(t).X((i,r)=>{const s=Kp(r);e(s)})}$n(t){return FO(t).get("targetGlobalKey").next(e=>(wn(null!==e),e))}On(t,e){return FO(t).put("targetGlobalKey",e)}Fn(t,e){return Cg(t).put(qk(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Rh(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Cg(t).X({range:r,index:"queryTargetsIndex"},(u,m,v)=>{const x=Kp(m);Ev(e,x.target)&&(s=x,v.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=Lf(t);return e.forEach(u=>{const m=yc(u.path);r.push(s.put({targetId:i,path:m})),r.push(this.referenceDelegate.addReference(t,i,u))}),Ye.waitFor(r)}removeMatchingKeys(t,e,i){const r=Lf(t);return Ye.forEach(e,s=>{const u=yc(s.path);return Ye.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=Lf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Lf(t);let s=ui();return r.X({range:i,Y:!0},(u,m,v)=>{const x=Rd(u[1]),P=new qt(x);s=s.add(P)}).next(()=>s)}containsKey(t,e){const i=yc(e.path),r=IDBKeyRange.bound([i],[hx(i)],!1,!0);let s=0;return Lf(t).X({index:"documentTargetsIndex",Y:!0,range:r},([u,m],v,x)=>{0!==u&&(s++,x.done())}).next(()=>s>0)}le(t,e){return Cg(t).get(e).next(i=>i?Kp(i):null)}}function Cg(n){return Rs(n,"targets")}function FO(n){return Rs(n,"targetGlobal")}function Lf(n){return Rs(n,"targetDocuments")}function LO([n,t],[e,i]){const r=Yn(n,e);return 0===r?Yn(t,i):r}class nR{constructor(t){this.Ln=t,this.buffer=new Hr(LO),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();LO(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class yb{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;It("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,dt.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){kd(i)?It("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Dh(i)}yield e.Qn(3e5)}))}}class iR{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Ye.resolve(vc.ct);const i=new nR(e);return this.jn.forEachTarget(t,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(t,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector","Garbage collection skipped; disabled"),Ye.resolve(eR)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eR):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,r,s,u,m,v,x;const P=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(L=>(L>this.params.maximumSequenceNumbersToCollect?(It("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),r=this.params.maximumSequenceNumbersToCollect):r=L,u=Date.now(),this.nthSequenceNumber(t,r))).next(L=>(i=L,m=Date.now(),this.removeTargets(t,i,e))).next(L=>(s=L,v=Date.now(),this.removeOrphanedDocuments(t,i))).next(L=>(x=Date.now(),ax()<=Ru.in.DEBUG&&It("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-P}ms\n\tDetermined least recently used ${r} in `+(m-u)+`ms\n\tRemoved ${s} targets in `+(v-m)+`ms\n\tRemoved ${L} documents in `+(x-v)+`ms\nTotal Duration: ${x-P}ms`),Ye.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:L})))}}class rR{constructor(t,e){this.db=t,this.garbageCollector=function UO(n,t){return new iR(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,r)=>e(r))}addReference(t,e,i){return bb(t,i)}removeReference(t,e,i){return bb(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return bb(t,e)}Xn(t,e){return function(i,r){let s=!1;return wg(i).Z(u=>NO(i,u,r).next(m=>(m&&(s=!0),Ye.resolve(!m)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(t,(u,m)=>{if(m<=e){const v=this.Xn(t,u).next(x=>{if(!x)return s++,i.getEntry(t,u).next(()=>(i.removeEntry(u,In.min()),Lf(t).delete([0,yc(u.path)])))});r.push(v)}}).next(()=>Ye.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return bb(t,e)}Yn(t,e){const i=Lf(t);let r,s=vc.ct;return i.X({index:"documentTargetsIndex"},([u,m],{path:v,sequenceNumber:x})=>{0===u?(s!==vc.ct&&e(new qt(Rd(r)),s),s=x,r=v):s=vc.ct}).next(()=>{s!==vc.ct&&e(new qt(Rd(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function bb(n,t){return Lf(n).put((i=n.currentSequenceNumber,{targetId:0,path:yc(t.path),sequenceNumber:i}));var i}class VO{constructor(){this.changes=new Sf(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ro.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Ye.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class oR{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Uf(t).put(i)}removeEntry(t,e,i){return Uf(t).delete(function(r,s){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Vv(s),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=ro.newInvalidDocument(e);return Uf(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Xp(e))},(r,s)=>{i=this.ts(e,s)}).next(()=>i)}es(t,e){let i={size:0,document:ro.newInvalidDocument(e)};return Uf(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Xp(e))},(r,s)=>{i={document:this.ts(e,s),size:_b(s)}}).next(()=>i)}getEntries(t,e){let i=el();return this.ns(t,e,(r,s)=>{const u=this.ts(r,s);i=i.insert(r,u)}).next(()=>i)}ss(t,e){let i=el(),r=new zr(qt.comparator);return this.ns(t,e,(s,u)=>{const m=this.ts(s,u);i=i.insert(s,m),r=r.insert(s,_b(u))}).next(()=>({documents:i,rs:r}))}ns(t,e,i){if(e.isEmpty())return Ye.resolve();let r=new Hr(HO);e.forEach(v=>r=r.add(v));const s=IDBKeyRange.bound(Xp(r.first()),Xp(r.last())),u=r.getIterator();let m=u.getNext();return Uf(t).X({index:"documentKeyIndex",range:s},(v,x,P)=>{const L=qt.fromSegments([...x.prefixPath,x.collectionGroup,x.documentId]);for(;m&&HO(m,L)<0;)i(m,null),m=u.getNext();m&&m.isEqual(L)&&(i(m,x),m=u.hasNext()?u.getNext():null),m?P.G(Xp(m)):P.done()}).next(()=>{for(;m;)i(m,null),m=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const s=e.path,u=[s.popLast().toArray(),s.lastSegment(),Vv(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],m=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Uf(t).j(IDBKeyRange.bound(u,m,!0)).next(v=>{let x=el();for(const P of v){const L=this.ts(qt.fromSegments(P.prefixPath.concat(P.collectionGroup,P.documentId)),P);L.isFoundDocument()&&(Ov(e,L)||r.has(L.key))&&(x=x.insert(L.key,L))}return x})}getAllFromCollectionGroup(t,e,i,r){let s=el();const u=zO(e,i),m=zO(e,Ol.max());return Uf(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,m,!0)},(v,x,P)=>{const L=this.ts(qt.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);s=s.insert(L.key,L),s.size===r&&P.done()}).next(()=>s)}newChangeBuffer(t){return new sR(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return jO(t).get("remoteDocumentGlobalKey").next(e=>(wn(!!e),e))}Zn(t,e){return jO(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function bO(n,t){let e;if(t.document)e=Vk(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=qt.fromSegments(t.noDocument.path),r=Yp(t.noDocument.readTime);e=ro.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ln();{const i=qt.fromSegments(t.unknownDocument.path),r=Yp(t.unknownDocument.version);e=ro.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new ho(i[0],i[1]);return In.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(In.min()))return i}return ro.newInvalidDocument(t)}}function BO(n){return new oR(n)}class sR extends VO{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new Sf(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Hr((s,u)=>Yn(s.canonicalString(),u.canonicalString()));return this.changes.forEach((s,u)=>{const m=this.us.get(s);if(e.push(this.os.removeEntry(t,s,m.readTime)),u.isValidDocument()){const v=wO(this.os.serializer,u);r=r.add(s.path.popLast());const x=_b(v);i+=x-m.size,e.push(this.os.addEntry(t,s,v))}else if(i-=m.size,this.trackRemovals){const v=wO(this.os.serializer,u.convertToNoDocument(In.min()));e.push(this.os.addEntry(t,s,v))}}),r.forEach(s=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.os.updateMetadata(t,i)),Ye.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:r})=>(r.forEach((s,u)=>{this.us.set(s,{size:u,readTime:i.get(s).readTime})}),i))}}function jO(n){return Rs(n,"remoteDocumentGlobal")}function Uf(n){return Rs(n,"remoteDocumentsV14")}function Xp(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function zO(n,t){const e=t.documentKey.path.toArray();return[n,Vv(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function HO(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Yn(e[s],i[s]),r)return r;return r=Yn(e.length,i.length),r||(r=Yn(e[e.length-2],i[i.length-2]),r||Yn(e[e.length-1],i[i.length-1]))}class $O{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class hE{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&Dv(i.mutation,r,Xc.empty(),ho.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,ui()).next(()=>i))}getLocalViewOfDocuments(t,e,i=ui()){const r=Ud();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let u=ab();return s.forEach((m,v)=>{u=u.insert(m,v.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=Ud();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,ui()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((u,m)=>{e.set(u,m)})})}computeViews(t,e,i,r){let s=el();const u=dg(),m=dg();return e.forEach((v,x)=>{const P=i.get(x.key);r.has(x.key)&&(void 0===P||P.mutation instanceof Nh)?s=s.insert(x.key,x):void 0!==P?(u.set(x.key,P.mutation.getFieldMask()),Dv(P.mutation,x,P.mutation.getFieldMask(),ho.now())):u.set(x.key,Xc.empty())}),this.recalculateAndSaveOverlays(t,s).next(v=>(v.forEach((x,P)=>u.set(x,P)),e.forEach((x,P)=>{var L;return m.set(x,new $O(P,null!==(L=u.get(x))&&void 0!==L?L:null))}),m))}recalculateAndSaveOverlays(t,e){const i=dg();let r=new zr((u,m)=>u-m),s=ui();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const m of u)m.keys().forEach(v=>{const x=e.get(v);if(null===x)return;let P=i.get(v)||Xc.empty();P=m.applyToLocalView(x,P),i.set(v,P);const L=(r.get(m.batchId)||ui()).add(v);r=r.insert(m.batchId,L)})}).next(()=>{const u=[],m=r.getReverseIterator();for(;m.hasNext();){const v=m.getNext(),x=v.key,P=v.value,L=Vx();P.forEach(q=>{if(!s.has(q)){const ne=rO(e.get(q),i.get(q));null!==ne&&L.set(q,ne),s=s.add(q)}}),u.push(this.documentOverlayCache.saveOverlays(t,x,L))}return Ye.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return qt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):Fx(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const u=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):Ye.resolve(Ud());let m=-1,v=s;return u.next(x=>Ye.forEach(x,(P,L)=>(m<L.largestBatchId&&(m=L.largestBatchId),s.get(P)?Ye.resolve():this.remoteDocumentCache.getEntry(t,P).next(q=>{v=v.insert(P,q)}))).next(()=>this.populateOverlays(t,x,s)).next(()=>this.computeViews(t,v,x,ui())).next(P=>({batchId:m,changes:Y1(P)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new qt(e)).next(i=>{let r=ab();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=ab();return this.indexManager.getCollectionParents(t,r).next(u=>Ye.forEach(u,m=>{const v=(x=e,P=m.child(r),new If(P,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt));var x,P;return this.getDocumentsMatchingCollectionQuery(t,v,i).next(x=>{x.forEach((P,L)=>{s=s.insert(P,L)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(s=>{r.forEach((m,v)=>{const x=v.getKey();null===s.get(x)&&(s=s.insert(x,ro.newInvalidDocument(x)))});let u=ab();return s.forEach((m,v)=>{const x=r.get(m);void 0!==x&&Dv(x.mutation,v,Xc.empty(),ho.now()),Ov(e,v)&&(u=u.insert(m,v))}),u})}}class vU{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return Ye.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:os(i.createTime)}),Ye.resolve()}getNamedQuery(t,e){return Ye.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:oE(i.bundledQuery),readTime:os(i.readTime)}),Ye.resolve();var i}}class tl{constructor(){this.overlays=new zr(qt.comparator),this.ls=new Map}getOverlay(t,e){return Ye.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ud();return Ye.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.we(t,e,s)}),Ye.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),Ye.resolve()}getOverlaysForCollection(t,e,i){const r=Ud(),s=e.length+1,u=new qt(e.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const v=m.getNext().value,x=v.getKey();if(!e.isPrefixOf(x.path))break;x.path.length===s&&v.largestBatchId>i&&r.set(v.getKey(),v)}return Ye.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new zr((x,P)=>x-P);const u=this.overlays.getIterator();for(;u.hasNext();){const x=u.getNext().value;if(x.getKey().getCollectionGroup()===e&&x.largestBatchId>i){let P=s.get(x.largestBatchId);null===P&&(P=Ud(),s=s.insert(x.largestBatchId,P)),P.set(x.getKey(),x)}}const m=Ud(),v=s.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((x,P)=>m.set(x,P)),!(m.size()>=r)););return Ye.resolve(m)}we(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Zx(e,i));let s=this.ls.get(e);void 0===s&&(s=ui(),this.ls.set(e,s)),this.ls.set(e,s.add(i.key))}}class wb{constructor(){this.fs=new Hr(Fs.ds),this.ws=new Hr(Fs._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new Fs(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new Fs(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new qt(new $i([])),i=new Fs(e,t),r=new Fs(e,t+1),s=[];return this.ws.forEachInRange([i,r],u=>{this.ys(u),s.push(u.key)}),s}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new qt(new $i([])),i=new Fs(e,t),r=new Fs(e,t+1);let s=ui();return this.ws.forEachInRange([i,r],u=>{s=s.add(u.key)}),s}containsKey(t){const e=new Fs(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Fs{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return qt.comparator(t.key,e.key)||Yn(t.As,e.As)}static _s(t,e){return Yn(t.As,e.As)||qt.comparator(t.key,e.key)}}class aR{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new Hr(Fs.ds)}checkEmpty(t){return Ye.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.vs;this.vs++;const u=new mg(s,e,i,r);this.mutationQueue.push(u);for(const m of r)this.Rs=this.Rs.add(new Fs(m.key,s)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Ye.resolve(u)}lookupMutationBatch(t,e){return Ye.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.bs(e+1),s=r<0?0:r;return Ye.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ye.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return Ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Fs(e,0),r=new Fs(e,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],u=>{const m=this.Ps(u.As);s.push(m)}),Ye.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Hr(Yn);return e.forEach(r=>{const s=new Fs(r,0),u=new Fs(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,u],m=>{i=i.add(m.As)})}),Ye.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;qt.isDocumentKey(s)||(s=s.child(""));const u=new Fs(new qt(s),0);let m=new Hr(Yn);return this.Rs.forEachWhile(v=>{const x=v.key.path;return!!i.isPrefixOf(x)&&(x.length===r&&(m=m.add(v.As)),!0)},u),Ye.resolve(this.Vs(m))}Vs(t){const e=[];return t.forEach(i=>{const r=this.Ps(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){wn(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return Ye.forEach(e.mutations,r=>{const s=new Fs(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new Fs(e,0),r=this.Rs.firstAfterOrEqual(i);return Ye.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Ye.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class qO{constructor(t){this.Ds=t,this.docs=new zr(qt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,u=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Ye.resolve(i?i.document.mutableCopy():ro.newInvalidDocument(e))}getEntries(t,e){let i=el();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ro.newInvalidDocument(r))}),Ye.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=el();const u=e.path,m=new qt(u.child("")),v=this.docs.getIteratorFrom(m);for(;v.hasNext();){const{key:x,value:{document:P}}=v.getNext();if(!u.isPrefixOf(x.path))break;x.path.length>u.length+1||px(m1(P),i)<=0||(r.has(P.key)||Ov(e,P))&&(s=s.insert(P.key,P.mutableCopy()))}return Ye.resolve(s)}getAllFromCollectionGroup(t,e,i,r){ln()}Cs(t,e){return Ye.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new cR(this)}getSize(t){return Ye.resolve(this.size)}}class cR extends VO{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(i)}),Ye.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class fE{constructor(t){this.persistence=t,this.xs=new Sf(e=>Rh(e),Ev),this.lastRemoteSnapshotVersion=In.min(),this.highestTargetId=0,this.Ns=0,this.ks=new wb,this.targetCount=0,this.Ms=Bd.kn()}forEachTarget(t,e){return this.xs.forEach((i,r)=>e(r)),Ye.resolve()}getLastRemoteSnapshotVersion(t){return Ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ye.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),Ye.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),Ye.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new Bd(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,Ye.resolve()}updateTargetData(t,e){return this.Fn(e),Ye.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,Ye.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.xs.forEach((u,m)=>{m.sequenceNumber<=e&&null===i.get(m.targetId)&&(this.xs.delete(u),s.push(this.removeMatchingKeysForTargetId(t,m.targetId)),r++)}),Ye.waitFor(s).next(()=>r)}getTargetCount(t){return Ye.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return Ye.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),Ye.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(u=>{s.push(r.markPotentiallyOrphaned(t,u))}),Ye.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),Ye.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return Ye.resolve(i)}containsKey(t,e){return Ye.resolve(this.ks.containsKey(e))}}class jd{constructor(t,e){this.$s={},this.overlays={},this.Os=new vc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new fE(this),this.indexManager=new _U,this.remoteDocumentCache=new qO(i=>this.referenceDelegate.Ls(i)),this.serializer=new $k(e),this.qs=new vU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new tl,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new aR(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){It("MemoryPersistence","Starting transaction:",t);const r=new GO(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(t,e){return Ye.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class GO extends gx{constructor(t){super(),this.currentSequenceNumber=t}}class xg{constructor(t){this.persistence=t,this.Qs=new wb,this.js=null}static zs(t){return new xg(t)}get Ws(){if(this.js)return this.js;throw ln()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),Ye.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),Ye.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),Ye.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ye.forEach(this.Ws,i=>{const r=qt.fromPath(i);return this.Hs(t,r).next(s=>{s||e.removeEntry(r,In.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return Ye.or([()=>Ye.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class lR{constructor(t){this.serializer=t}O(t,e,i,r){const s=new vv("createOrUpgrade",e);var m;i<1&&r>=1&&(t.createObjectStore("owner"),(m=t).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",b1,{unique:!0}),m.createObjectStore("documentMutations"),uR(t),function(m){m.createObjectStore("remoteDocuments")}(t));let u=Ye.resolve();return i<3&&r>=3&&(0!==i&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(t),uR(t)),u=u.next(()=>function(m){const v=m.store("targetGlobal"),x={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:In.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",x)}(s))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(m,v){return v.store("mutations").j().next(x=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",b1,{unique:!0});const P=v.store("mutations"),L=x.map(q=>P.put(q));return Ye.waitFor(L)})}(t,s))),u=u.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Ys(s))),i<6&&r>=6&&(u=u.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(s)))),i<7&&r>=7&&(u=u.next(()=>this.Zs(s))),i<8&&r>=8&&(u=u.next(()=>this.ti(t,s))),i<9&&r>=9&&(u=u.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.ei(s))),i<11&&r>=11&&(u=u.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(m){const v=m.createObjectStore("documentOverlays",{keyPath:Ck});v.createIndex("collectionPathOverlayIndex",xk,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",yv,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(m){const v=m.createObjectStore("remoteDocumentsV14",{keyPath:K0});v.createIndex("documentKeyIndex",Jc),v.createIndex("collectionGroupIndex",dU)}(t)).next(()=>this.ni(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.si(t,s))),i<15&&r>=15&&(u=u.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:M1}).createIndex("sequenceNumberIndex",I1,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:T1}).createIndex("documentKeyIndex",wk,{unique:!1})}(t))),u}Xs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=_b(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>Ye.forEach(r,s=>{const u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",u).next(m=>Ye.forEach(m,v=>{wn(v.userId===s.userId);const x=Rf(this.serializer,v);return dE(t,s.userId,x).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((u,m)=>{const v=new $i(u),x=[0,yc(v)];s.push(e.get(x).next(P=>P?Ye.resolve():e.put({targetId:0,path:yc(v),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ye.waitFor(s))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:E1});const i=e.store("collectionParents"),r=new RO,s=u=>{if(r.add(u)){const m=u.lastSegment(),v=u.popLast();return i.put({collectionId:m,parent:yc(v)})}};return e.store("remoteDocuments").X({Y:!0},(u,m)=>{const v=new $i(u);return s(v.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([u,m,v],x)=>{const P=Rd(m);return s(P.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,r)=>{const s=Kp(r),u=qk(this.serializer,s);return e.put(u)})}ni(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((s,u)=>{const m=e.store("remoteDocumentsV14"),v=(x=u,x.document?new qt($i.fromString(x.document.name).popFirst(5)):x.noDocument?qt.fromSegments(x.noDocument.path):x.unknownDocument?qt.fromSegments(x.unknownDocument.path):ln()).path.toArray();var x;const P={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(m.put(P))}).next(()=>Ye.waitFor(r))}si(t,e){const i=e.store("mutations"),r=BO(this.serializer),s=new jd(xg.zs,this.serializer.fe);return i.j().next(u=>{const m=new Map;return u.forEach(v=>{var x;let P=null!==(x=m.get(v.userId))&&void 0!==x?x:ui();Rf(this.serializer,v).keys().forEach(L=>P=P.add(L)),m.set(v.userId,P)}),Ye.forEach(m,(v,x)=>{const P=new ks(x),L=gb.de(this.serializer,P),q=s.getIndexManager(P),ne=vb.de(P,this.serializer,q,s.referenceDelegate);return new hE(r,ne,L,q).recalculateAndSaveOverlaysForDocumentKeys(new Q0(e,vc.ct),v).next()})})}}function uR(n){n.createObjectStore("targetDocuments",{keyPath:x1}).createIndex("documentTargetsIndex",bk,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",C1,{unique:!0}),n.createObjectStore("targetGlobal")}const Cb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class pE{constructor(t,e,i,r,s,u,m,v,x,P,L=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=s,this.window=u,this.document=m,this.ri=x,this.oi=P,this.ui=L,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=q=>Promise.resolve(),!pE.D())throw new vt(tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rR(this,r),this.di=e+"main",this.serializer=new $k(v),this.wi=new lu(this.di,this.ui,new lR(this.serializer)),this.Bs=new tR(this.referenceDelegate,this.serializer),this.remoteDocumentCache=BO(this.serializer),this.qs=new Gk,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===P&&io("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new vt(tt.FAILED_PRECONDITION,Cb);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new vc(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,dt.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,dt.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,dt.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>xb(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(kd(t))return It("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return It("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return Hv(t).get("owner").next(e=>Ye.resolve(this.Ri(e)))}Pi(t){return xb(t).delete(this.clientId)}bi(){var t=this;return(0,dt.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Rs(i,"clientMetadata");return r.j().next(s=>{const u=t.Si(s,18e5),m=s.filter(v=>-1===u.indexOf(v));return Ye.forEach(m,v=>r.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?Ye.resolve(!0):Hv(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new vt(tt.FAILED_PRECONDITION,Cb);return!1}}return!(!this.networkEnabled||!this.inForeground)||xb(t).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&It("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,dt.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new Q0(e,vc.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>xb(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return vb.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new lE(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return gb.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){It("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(u=this.ui)?P1:14===u?bv:13===u?S1:12===u?Ek:11===u?O1:void ln();var u;let m;return this.wi.runTransaction(t,r,s,v=>(m=new Q0(v,this.Os?this.Os.next():vc.ct),"readwrite-primary"===e?this.Ti(m).next(x=>!!x||this.Ei(m)).next(x=>{if(!x)throw io(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new vt(tt.FAILED_PRECONDITION,mx);return i(m)}).next(x=>this.vi(m).next(()=>x)):this.Oi(m).next(()=>i(m)))).then(v=>(m.raiseOnCommittedEvent(),v))}Oi(t){return Hv(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new vt(tt.FAILED_PRECONDITION,Cb)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hv(t).put("owner",e)}static D(){return lu.D()}Ai(t){const e=Hv(t);return e.get("owner").next(i=>this.Ri(i)?(It("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Ye.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(io(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,ie.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return It("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return io("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){io("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Hv(n){return Rs(n,"owner")}function xb(n){return Rs(n,"clientMetadata")}function mE(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class Eb{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=r}static Li(t,e){let i=ui(),r=ui();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Eb(t,e.fromCache,i,r)}}class dR{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ki(t,e).next(s=>s||this.Gi(t,e,r,i)).next(s=>s||this.Qi(t,e))}Ki(t,e){if(H1(e))return Ye.resolve(null);let i=Ma(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Tv(e,null,"F"),i=Ma(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const u=ui(...s);return this.Ui.getDocuments(t,u).next(m=>this.indexManager.getMinOffset(t,i).next(v=>{const x=this.ji(e,m);return this.zi(e,x,u,v.readTime)?this.Ki(t,Tv(e,null,"F")):this.Wi(t,x,e,v)}))})))}Gi(t,e,i,r){return H1(e)||r.isEqual(In.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(s=>{const u=this.ji(e,s);return this.zi(e,u,i,r)?this.Qi(t,e):(ax()<=Ru.in.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ux(e)),this.Wi(t,u,e,p1(r,-1)))})}ji(t,e){let i=new Hr(q1(t));return e.forEach((r,s)=>{Ov(t,s)&&(i=i.add(s))}),i}zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(t,e){return ax()<=Ru.in.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",Ux(e)),this.Ui.getDocumentsMatchingQuery(t,e,Ol.min())}Wi(t,e,i,r){return this.Ui.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(u=>{s=s.insert(u.key,u)}),s))}}class ZO{constructor(t,e,i,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new zr(Yn),this.Yi=new Sf(s=>Rh(s),Ev),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new hE(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function WO(n,t,e,i){return new ZO(n,t,e,i)}function gE(n,t){return YO.apply(this,arguments)}function YO(){return YO=(0,dt.Z)(function*(n,t){const e=Gt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const u=[],m=[];let v=ui();for(const x of r){u.push(x.batchId);for(const P of x.mutations)v=v.add(P.key)}for(const x of s){m.push(x.batchId);for(const P of x.mutations)v=v.add(P.key)}return e.localDocuments.getDocuments(i,v).next(x=>({er:x,removedBatchIds:u,addedBatchIds:m}))})})}),YO.apply(this,arguments)}function vE(n){const t=Gt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function QO(n,t,e){let i=ui(),r=ui();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let u=el();return e.forEach((m,v)=>{const x=s.get(m);v.isFoundDocument()!==x.isFoundDocument()&&(r=r.add(m)),v.isNoDocument()&&v.version.isEqual(In.min())?(t.removeEntry(m,v.readTime),u=u.insert(m,v)):!x.isValidDocument()||v.version.compareTo(x.version)>0||0===v.version.compareTo(x.version)&&x.hasPendingWrites?(t.addEntry(v),u=u.insert(m,v)):It("LocalStore","Ignoring outdated watch update for ",m,". Current version:",x.version," Watch version:",v.version)}),{nr:u,sr:r}})}function JO(n,t){const e=Gt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function em(n,t){const e=Gt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Bs.getTargetData(i,t).next(s=>s?(r=s,Ye.resolve(r)):e.Bs.allocateTargetId(i).next(u=>(r=new Gu(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function Zu(n,t,e){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,dt.Z)(function*(n,t,e){const i=Gt(n),r=i.Ji.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!kd(u))throw u;It("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}),Mg.apply(this,arguments)}function $v(n,t,e){const i=Gt(n);let r=In.min(),s=ui();return i.persistence.runTransaction("Execute query","readonly",u=>function(m,v,x){const P=Gt(m),L=P.Yi.get(x);return void 0!==L?Ye.resolve(P.Ji.get(L)):P.Bs.getTargetData(v,x)}(i,u,Ma(t)).next(m=>{if(m)return r=m.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(u,m.targetId).next(v=>{s=v})}).next(()=>i.Hi.getDocumentsMatchingQuery(u,t,e?r:In.min(),e?s:ui())).next(m=>(eS(i,$1(t),m),{documents:m,ir:s})))}function yE(n,t){const e=Gt(n),i=Gt(e.Bs),r=e.Ji.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.le(s,t).next(u=>u?u.target:null))}function XO(n,t){const e=Gt(n),i=e.Xi.get(t)||In.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Zi.getAllFromCollectionGroup(r,t,p1(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(eS(e,t,r),r))}function eS(n,t,e){let i=n.Xi.get(t)||In.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(t,i)}function Mb(){return Mb=(0,dt.Z)(function*(n,t,e,i){const r=Gt(n);let s=ui(),u=el();for(const x of e){const P=t.rr(x.metadata.name);x.document&&(s=s.add(P));const L=t.ur(x);L.setReadTime(t.cr(x.metadata.readTime)),u=u.insert(P,L)}const m=r.Zi.newChangeBuffer({trackRemovals:!0}),v=yield em(r,(x=i,Ma(Tf($i.fromString(`__bundle__/docs/${x}`)))));var x;return r.persistence.runTransaction("Apply bundle documents","readwrite",x=>QO(x,m,u).next(P=>(m.apply(x),P)).next(P=>r.Bs.removeMatchingKeysForTargetId(x,v.targetId).next(()=>r.Bs.addMatchingKeys(x,s,v.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(x,P.nr,P.sr)).next(()=>P.nr)))}),Mb.apply(this,arguments)}function hR(n,t){return bE.apply(this,arguments)}function bE(){return bE=(0,dt.Z)(function*(n,t,e=ui()){const i=yield em(n,Ma(oE(t.bundledQuery))),r=Gt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const u=os(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.qs.saveNamedQuery(s,t);const m=i.withResumeToken(Ns.EMPTY_BYTE_STRING,u);return r.Ji=r.Ji.insert(m.targetId,m),r.Bs.updateTargetData(s,m).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,e,i.targetId)).next(()=>r.qs.saveNamedQuery(s,t))})}),bE.apply(this,arguments)}function fR(n,t){return`firestore_clients_${n}_${t}`}function pR(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function tS(n,t){return`firestore_targets_${n}_${t}`}class qv{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static ar(t,e,i){const r=JSON.parse(i);let s,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new vt(r.error.code,r.error.message))),u?new qv(t,e,r.state,s):(io("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Gv{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new vt(i.error.code,i.error.message))),s?new Gv(t,i.state,r):(io("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ib{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=Bx();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=vx(i.activeTargetIds[u]),s=s.add(i.activeTargetIds[u]);return r?new Ib(t,s):(io("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class wE{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new wE(e.clientId,e.onlineState):(io("SharedClientState",`Failed to parse online state: ${t}`),null)}}class nS{constructor(){this.activeTargetIds=Bx()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class iS{constructor(t,e,i,r,s){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new zr(Yn),this.started=!1,this.yr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=fR(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new nS),this.Tr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,dt.Z)(function*(){const e=yield t.syncEngine.$i();for(const r of e){if(r===t.wr)continue;const s=t.getItem(fR(t.persistenceKey,r));if(s){const u=Ib.ar(r,s);u&&(t.gr=t.gr.insert(u.clientId,u))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const r=t.br(i);r&&t.Vr(r)}for(const r of t.yr)t.mr(r);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(tS(this.persistenceKey,t));if(i){const r=Gv.ar(t,i);r&&(e=r.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(tS(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Cr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return It("SharedClientState","READ",t,e),e}setItem(t,e){It("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){It("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(It("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void io("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,dt.Z)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.Fr(r,null)}{const r=e.Br(i.key,i.newValue);if(r)return e.Fr(r.clientId,r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.Lr(i.key,i.newValue);if(r)return e.qr(r)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const r=e.Ur(i.key,i.newValue);if(r)return e.Kr(r)}}else if(i.key===e.vr){if(null!==i.newValue){const r=e.br(i.newValue);if(r)return e.Vr(r)}}else if(i.key===e.Ir){const r=function(s){let u=vc.ct;if(null!=s)try{const m=JSON.parse(s);wn("number"==typeof m),u=m}catch(m){io("SharedClientState","Failed to read sequence number from WebStorage",m)}return u}(i.newValue);r!==vc.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Gr(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Qr(s)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const r=new qv(this.currentUser,t,e,i),s=pR(this.persistenceKey,this.currentUser,t);this.setItem(s,r.hr())}Cr(t){const e=pR(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const r=tS(this.persistenceKey,t),s=new Gv(t,e,i);this.setItem(r,s.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return Ib.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return qv.ar(new ks(void 0!==i[2]?i[2]:null),r,e)}Ur(t,e){const i=this.Ar.exec(t),r=Number(i[1]);return Gv.ar(r,e)}br(t){return wE.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,dt.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);It("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),r=this.Sr(this.gr),s=this.Sr(i),u=[],m=[];return s.forEach(v=>{r.has(v)||u.push(v)}),r.forEach(v=>{s.has(v)||m.push(v)}),this.syncEngine.Wr(u,m).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=Bx();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class mR{constructor(){this.Hr=new nS,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new nS,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class bU{Yr(t){}shutdown(){}}class gR{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){It("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){It("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Tb=null;function Ig(){return null===Tb?Tb=268435456+Math.round(2147483648*Math.random()):Tb++,"0x"+Tb.toString(16)}const _R={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vR{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const Ia="WebChannelConnection";class tm extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,r,s){const u=Ig(),m=this.To(t,e);It("RestConnection",`Sending RPC '${t}' ${u}:`,m,i);const v={};return this.Eo(v,r,s),this.Ao(t,m,v,i).then(x=>(It("RestConnection",`Received RPC '${t}' ${u}: `,x),x),x=>{throw cu("RestConnection",`RPC '${t}' ${u} failed with error: `,x,"url: ",m,"request:",i),x})}vo(t,e,i,r,s,u){return this.Io(t,e,i,r,s)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+eg,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}To(t,e){return`${this.mo}/v1/${e}:${_R[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,r){const s=Ig();return new Promise((u,m)=>{const v=new Ad;v.setWithCredentials(!0),v.listenOnce(rx.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case u1.NO_ERROR:const P=v.getResponseJson();It(Ia,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(P)),u(P);break;case u1.TIMEOUT:It(Ia,`RPC '${t}' ${s} timed out`),m(new vt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case u1.HTTP_ERROR:const L=v.getStatus();if(It(Ia,`RPC '${t}' ${s} failed with status:`,L,"response text:",v.getResponseText()),L>0){let q=v.getResponseJson();Array.isArray(q)&&(q=q[0]);const ne=q?.error;if(ne&&ne.status&&ne.message){const ae=function(ye){const Ze=ye.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(Ze)>=0?Ze:tt.UNKNOWN}(ne.status);m(new vt(ae,ne.message))}else m(new vt(tt.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new vt(tt.UNAVAILABLE,"Connection failed."));break;default:ln()}}finally{It(Ia,`RPC '${t}' ${s} completed.`)}});const x=JSON.stringify(r);It(Ia,`RPC '${t}' ${s} sending request:`,r),v.send(e,"POST",x,i,15)})}Ro(t,e,i){const r=Ig(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=dk(),m=l1(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;void 0!==x&&(v.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(v.xmlHttpFactory=new hk({})),this.Eo(v.initMessageHeaders,e,i),v.encodeInitMessageHeaders=!0;const P=s.join("");It(Ia,`Creating RPC '${t}' stream ${r}: ${P}`,v);const L=u.createWebChannel(P,v);let q=!1,ne=!1;const ae=new vR({ro:Ze=>{ne?It(Ia,`Not sending because RPC '${t}' stream ${r} is closed:`,Ze):(q||(It(Ia,`Opening RPC '${t}' stream ${r} transport.`),L.open(),q=!0),It(Ia,`RPC '${t}' stream ${r} sending:`,Ze),L.send(Ze))},oo:()=>L.close()}),ye=(Ze,wt,Dt)=>{Ze.listen(wt,Pt=>{try{Dt(Pt)}catch(Lt){setTimeout(()=>{throw Lt},0)}})};return ye(L,mv.EventType.OPEN,()=>{ne||It(Ia,`RPC '${t}' stream ${r} transport opened.`)}),ye(L,mv.EventType.CLOSE,()=>{ne||(ne=!0,It(Ia,`RPC '${t}' stream ${r} transport closed`),ae.wo())}),ye(L,mv.EventType.ERROR,Ze=>{ne||(ne=!0,cu(Ia,`RPC '${t}' stream ${r} transport errored:`,Ze),ae.wo(new vt(tt.UNAVAILABLE,"The operation could not be completed")))}),ye(L,mv.EventType.MESSAGE,Ze=>{var wt;if(!ne){const Dt=Ze.data[0];wn(!!Dt);const Lt=Dt.error||(null===(wt=Dt[0])||void 0===wt?void 0:wt.error);if(Lt){It(Ia,`RPC '${t}' stream ${r} received error:`,Lt);const Pn=Lt.status;let kn=function(Wo){const rl=vs[Wo];if(void 0!==rl)return aO(rl)}(Pn),ji=Lt.message;void 0===kn&&(kn=tt.INTERNAL,ji="Unknown error status: "+Pn+" with message "+Lt.message),ne=!0,ae.wo(new vt(kn,ji)),L.close()}else It(Ia,`RPC '${t}' stream ${r} received:`,Dt),ae._o(Dt)}}),ye(m,ox.STAT_EVENT,Ze=>{Ze.stat===zu.PROXY?It(Ia,`RPC '${t}' stream ${r} detected buffering proxy`):Ze.stat===zu.NOPROXY&&It(Ia,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{ae.fo()},0),ae}}function CE(){return typeof window<"u"?window:null}function Tg(){return typeof document<"u"?document:null}function nm(n){return new eE(n,!0)}class xE{constructor(t,e,i=1e3,r=1.5,s=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-i);r>0&&It("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Ob{constructor(t,e,i,r,s,u,m,v){this.ii=t,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new xE(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,dt.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,dt.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,dt.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===tt.RESOURCE_EXHAUSTED?(io(e.toString()),io("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===tt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===e&&this.Zo(i,r)},i=>{t(()=>{const r=new vt(tt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var t=this;this.state=5,this.qo.No((0,dt.Z)(function*(){t.state=0,t.start()}))}tu(t){return It("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(It("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EE extends Ob{constructor(t,e,i,r,s,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.serializer=s}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function mO(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(v=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:ln(),r=t.targetChange.targetIds||[],s=function(v,x){return v.useProto3Json?(wn(void 0===x||"string"==typeof x),Ns.fromBase64String(x||"")):(wn(void 0===x||x instanceof Uint8Array),Ns.fromUint8Array(x||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,m=u&&function(v){const x=void 0===v.code?tt.UNKNOWN:aO(v.code);return new vt(x,v.message||"")}(u);e=new Jx(i,r,s,m||null)}else if("documentChange"in t){const i=t.documentChange,r=qu(n,i.document.name),s=os(i.document.updateTime),u=i.document.createTime?os(i.document.createTime):In.min(),m=new Ea({mapValue:{fields:i.document.fields}}),v=ro.newFoundDocument(r,s,u,m);e=new _g(i.targetIds||[],i.removedTargetIds||[],v.key,v)}else if("documentDelete"in t){const i=t.documentDelete,r=qu(n,i.document),s=i.readTime?os(i.readTime):In.min(),u=ro.newNoDocument(r,s);e=new _g([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=qu(n,i.document);e=new _g([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ln();{const i=t.filter,{count:r=0,unchangedNames:s}=i,u=new Fk(r,s);e=new db(i.targetId,u)}}var v;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return In.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?In.min():s.readTime?os(s.readTime):In.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=Vd(this.serializer),e.addTarget=function(r,s){let u;const m=s.target;if(u=Mv(m)?{documents:Bk(r,m)}:{query:Wp(r,m)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=tE(r,s.resumeToken);const v=fb(r,s.expectedCount);null!==v&&(u.expectedCount=v)}else if(s.snapshotVersion.compareTo(In.min())>0){u.readTime=Gp(r,s.snapshotVersion.toTimestamp());const v=fb(r,s.expectedCount);null!==v&&(u.expectedCount=v)}return u}(this.serializer,t);const i=function iE(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ln()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=Vd(this.serializer),e.removeTarget=t,this.Wo(e)}}class Sb extends Ob{constructor(t,e,i,r,s,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(wn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function gU(n,t){return n&&n.length>0?(wn(void 0!==t),n.map(e=>function(i,r){let s=os(i.updateTime?i.updateTime:r);return s.isEqual(In.min())&&(s=os(r)),new Nk(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=os(t.commitTime);return this.listener.cu(i,e)}return wn(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=Vd(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Zp(this.serializer,i))};this.Wo(e)}}class wU extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new vt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new vt(tt.UNKNOWN,r.toString())})}vo(t,e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.vo(t,e,i,s,u,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new vt(tt.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class oS{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(io(e),this.mu=!1):It("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class yR{constructor(t,e,i,r,s){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(m=>{i.enqueueAndForget((0,dt.Z)(function*(){var v;im(u)&&(It("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,dt.Z)(function*(x){const P=Gt(x);P.vu.add(4),yield Og(P),P.bu.set("Unknown"),P.vu.delete(4),yield Zv(P)}),function(x){return v.apply(this,arguments)})(u))}))}),this.bu=new oS(i,r)}}function Zv(n){return ME.apply(this,arguments)}function ME(){return ME=(0,dt.Z)(function*(n){if(im(n))for(const t of n.Ru)yield t(!0)}),ME.apply(this,arguments)}function Og(n){return Pb.apply(this,arguments)}function Pb(){return Pb=(0,dt.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),Pb.apply(this,arguments)}function Wv(n,t){const e=Gt(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),Yv(e)?Db(e):Qv(e).Ko()&&IE(e,t))}function Sg(n,t){const e=Gt(n),i=Qv(e);e.Au.delete(t),i.Ko()&&sS(e,t),0===e.Au.size&&(i.Ko()?i.jo():im(e)&&e.bu.set("Unknown"))}function IE(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(In.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Qv(n).su(t)}function sS(n,t){n.Vu.qt(t),Qv(n).iu(t)}function Db(n){n.Vu=new Xx({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),Qv(n).start(),n.bu.gu()}function Yv(n){return im(n)&&!Qv(n).Uo()&&n.Au.size>0}function im(n){return 0===Gt(n).vu.size}function TE(n){n.Vu=void 0}function OE(n){return SE.apply(this,arguments)}function SE(){return SE=(0,dt.Z)(function*(n){n.Au.forEach((t,e)=>{IE(n,t)})}),SE.apply(this,arguments)}function bR(n,t){return aS.apply(this,arguments)}function aS(){return aS=(0,dt.Z)(function*(n,t){TE(n),Yv(n)?(n.bu.Iu(t),Db(n)):n.bu.set("Unknown")}),aS.apply(this,arguments)}function xU(n,t,e){return PE.apply(this,arguments)}function PE(){return PE=(0,dt.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof Jx&&2===t.state&&t.cause)try{yield(i=(0,dt.Z)(function*(r,s){const u=s.cause;for(const m of s.targetIds)r.Au.has(m)&&(yield r.remoteSyncer.rejectListen(m,u),r.Au.delete(m),r.Vu.removeTarget(m))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){It("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield Ab(n,i)}else if(t instanceof _g?n.Vu.Ht(t):t instanceof db?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(In.min()))try{const i=yield vE(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const u=r.Vu.ce(s);return u.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const x=r.Au.get(v);x&&r.Au.set(v,x.withResumeToken(m.resumeToken,s))}}),u.targetMismatches.forEach((m,v)=>{const x=r.Au.get(m);if(!x)return;r.Au.set(m,x.withResumeToken(Ns.EMPTY_BYTE_STRING,x.snapshotVersion)),sS(r,m);const P=new Gu(x.target,m,v,x.sequenceNumber);IE(r,P)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){It("RemoteStore","Failed to raise snapshot:",i),yield Ab(n,i)}var i}),PE.apply(this,arguments)}function Ab(n,t,e){return DE.apply(this,arguments)}function DE(){return DE=(0,dt.Z)(function*(n,t,e){if(!kd(t))throw t;n.vu.add(1),yield Og(n),n.bu.set("Offline"),e||(e=()=>vE(n.localStore)),n.asyncQueue.enqueueRetryable((0,dt.Z)(function*(){It("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield Zv(n)}))}),DE.apply(this,arguments)}function cS(n,t){return t().catch(e=>Ab(n,e,t))}function rm(n){return kb.apply(this,arguments)}function kb(){return kb=(0,dt.Z)(function*(n){const t=Gt(n),e=Vf(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;wR(t);)try{const r=yield JO(t.localStore,i);if(null===r){0===t.Eu.length&&e.jo();break}i=r.batchId,lS(t,r)}catch(r){yield Ab(t,r)}AE(t)&&CR(t)}),kb.apply(this,arguments)}function wR(n){return im(n)&&n.Eu.length<10}function lS(n,t){n.Eu.push(t);const e=Vf(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function AE(n){return im(n)&&!Vf(n).Uo()&&n.Eu.length>0}function CR(n){Vf(n).start()}function xR(n){return Kv.apply(this,arguments)}function Kv(){return Kv=(0,dt.Z)(function*(n){Vf(n).hu()}),Kv.apply(this,arguments)}function uS(n){return Rb.apply(this,arguments)}function Rb(){return Rb=(0,dt.Z)(function*(n){const t=Vf(n);for(const e of n.Eu)t.uu(e.mutations)}),Rb.apply(this,arguments)}function ER(n,t,e){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,dt.Z)(function*(n,t,e){const i=n.Eu.shift(),r=Gx.from(i,t,e);yield cS(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield rm(n)}),Pg.apply(this,arguments)}function MR(n,t){return kE.apply(this,arguments)}function kE(){return kE=(0,dt.Z)(function*(n,t){var e;t&&Vf(n).ou&&(yield(e=(0,dt.Z)(function*(i,r){if(kv(s=r.code)&&s!==tt.ABORTED){const u=i.Eu.shift();Vf(i).Qo(),yield cS(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield rm(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),AE(n)&&CR(n)}),kE.apply(this,arguments)}function RE(n,t){return Nb.apply(this,arguments)}function Nb(){return Nb=(0,dt.Z)(function*(n,t){const e=Gt(n);e.asyncQueue.verifyOperationInProgress(),It("RemoteStore","RemoteStore received new credentials");const i=im(e);e.vu.add(3),yield Og(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield Zv(e)}),Nb.apply(this,arguments)}function dS(n,t){return NE.apply(this,arguments)}function NE(){return NE=(0,dt.Z)(function*(n,t){const e=Gt(n);t?(e.vu.delete(2),yield Zv(e)):t||(e.vu.add(2),yield Og(e),e.bu.set("Unknown"))}),NE.apply(this,arguments)}function Qv(n){return n.Su||(n.Su=function(t,e,i){const r=Gt(t);return r.fu(),new EE(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:OE.bind(null,n),ao:bR.bind(null,n),nu:xU.bind(null,n)}),n.Ru.push(function(){var t=(0,dt.Z)(function*(e){e?(n.Su.Qo(),Yv(n)?Db(n):n.bu.set("Unknown")):(yield n.Su.stop(),TE(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function Vf(n){return n.Du||(n.Du=function(t,e,i){const r=Gt(t);return r.fu(),new Sb(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:xR.bind(null,n),ao:MR.bind(null,n),au:uS.bind(null,n),cu:ER.bind(null,n)}),n.Ru.push(function(){var t=(0,dt.Z)(function*(e){e?(n.Du.Qo(),yield rm(n)):(yield n.Du.stop(),n.Eu.length>0&&(It("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class hS{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,s){const u=Date.now()+i,m=new hS(t,e,u,r,s);return m.start(i),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vt(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jv(n,t){if(io("AsyncQueue",`${t}: ${n}`),kd(n))return new vt(tt.UNAVAILABLE,`${t}: ${n}`);throw n}class Dg{constructor(t){this.comparator=t?(e,i)=>t(e,i)||qt.comparator(e.key,i.key):(e,i)=>qt.comparator(e.key,i.key),this.keyedMap=ab(),this.sortedSet=new zr(this.comparator)}static emptySet(t){return new Dg(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Dg)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Dg;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class fS{constructor(){this.Cu=new zr(qt.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):ln():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Xv{constructor(t,e,i,r,s,u,m,v,x){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=v,this.hasCachedResults=x}static fromInitialDocuments(t,e,i,r,s){const u=[];return e.forEach(m=>{u.push({type:0,doc:m})}),new Xv(t,e,Dg.emptySet(e),u,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ug(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class EU{constructor(){this.Nu=void 0,this.listeners=[]}}class MU{constructor(){this.queries=new Sf(t=>Lx(t),ug),this.onlineState="Unknown",this.ku=new Set}}function pS(n,t){return mS.apply(this,arguments)}function mS(){return mS=(0,dt.Z)(function*(n,t){const e=Gt(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new EU),r)try{s.Nu=yield e.onListen(i)}catch(u){const m=Jv(u,`Initialization of query '${Ux(t.query)}' failed`);return void t.onError(m)}e.queries.set(i,s),s.listeners.push(t),t.Mu(e.onlineState),s.Nu&&t.$u(s.Nu)&&_S(e)}),mS.apply(this,arguments)}function FE(n,t){return gS.apply(this,arguments)}function gS(){return gS=(0,dt.Z)(function*(n,t){const e=Gt(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const u=s.listeners.indexOf(t);u>=0&&(s.listeners.splice(u,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),gS.apply(this,arguments)}function IU(n,t){const e=Gt(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const m of u.listeners)m.$u(r)&&(i=!0);u.Nu=r}}i&&_S(e)}function TU(n,t,e){const i=Gt(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function _S(n){n.ku.forEach(t=>{t.next()})}class vS{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Xv(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=Xv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class IR{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class TR{constructor(t){this.serializer=t}rr(t){return qu(this.serializer,t)}ur(t){return t.metadata.exists?Vk(this.serializer,t.document,!1):ro.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return os(t)}}class a{constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=c(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=$i.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new TR(this.serializer);for(const r of t)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const u of r.metadata.queries){const m=(e.get(u)||ui()).add(s);e.set(u,m)}}return e}complete(){var t=this;return(0,dt.Z)(function*(){const e=yield function yU(n,t,e,i){return Mb.apply(this,arguments)}(t.localStore,new TR(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const r of t.queries)yield hR(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function c(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class d{constructor(t){this.key=t}}class p{constructor(t){this.key=t}}class _{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ui(),this.mutatedKeys=ui(),this.tc=q1(t),this.ec=new Dg(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new fS,r=e?e.ec:this.ec;let s=e?e.mutatedKeys:this.mutatedKeys,u=r,m=!1;const v="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,x="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((P,L)=>{const q=r.get(P),ne=Ov(this.query,L)?L:null,ae=!!q&&this.mutatedKeys.has(q.key),ye=!!ne&&(ne.hasLocalMutations||this.mutatedKeys.has(ne.key)&&ne.hasCommittedMutations);let Ze=!1;q&&ne?q.data.isEqual(ne.data)?ae!==ye&&(i.track({type:3,doc:ne}),Ze=!0):this.rc(q,ne)||(i.track({type:2,doc:ne}),Ze=!0,(v&&this.tc(ne,v)>0||x&&this.tc(ne,x)<0)&&(m=!0)):!q&&ne?(i.track({type:0,doc:ne}),Ze=!0):q&&!ne&&(i.track({type:1,doc:q}),Ze=!0,(v||x)&&(m=!0)),Ze&&(ne?(u=u.add(ne),s=ye?s.add(P):s.delete(P)):(u=u.delete(P),s=s.delete(P)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const P="F"===this.query.limitType?u.last():u.first();u=u.delete(P.key),s=s.delete(P.key),i.track({type:1,doc:P})}return{ec:u,ic:i,zi:m,mutatedKeys:s}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const s=t.ic.xu();s.sort((x,P)=>function(L,q){const ne=ae=>{switch(ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ln()}};return ne(L)-ne(q)}(x.type,P.type)||this.tc(x.doc,P.doc)),this.oc(i);const u=e?this.uc():[],m=0===this.Zu.size&&this.current?1:0,v=m!==this.Xu;return this.Xu=m,0!==s.length||v?{snapshot:new Xv(this.query,t.ec,r,s,t.mutatedKeys,0===m,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new fS,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=ui(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new p(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new d(i))}),e}hc(t){this.Yu=t.ir,this.Zu=ui();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return Xv.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class b{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class I{constructor(t){this.key=t,this.fc=!1}}class O{constructor(t,e,i,r,s,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new Sf(m=>Lx(m),ug),this._c=new Map,this.mc=new Set,this.gc=new zr(qt.comparator),this.yc=new Map,this.Ic=new wb,this.Tc={},this.Ec=new Map,this.Ac=Bd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function k(n,t){return B.apply(this,arguments)}function B(){return B=(0,dt.Z)(function*(n,t){const e=BR(n);let i,r;const s=e.wc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const u=yield em(e.localStore,Ma(t)),m=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield Z(e,t,i,"current"===m,u.resumeToken),e.isPrimaryClient&&Wv(e.remoteStore,u)}return r}),B.apply(this,arguments)}function Z(n,t,e,i,r){return se.apply(this,arguments)}function se(){return se=(0,dt.Z)(function*(n,t,e,i,r){n.Rc=(L,q,ne)=>{return(ae=(0,dt.Z)(function*(ye,Ze,wt,Dt){let Pt=Ze.view.sc(wt);Pt.zi&&(Pt=yield $v(ye.localStore,Ze.query,!1).then(({documents:kn})=>Ze.view.sc(kn,Pt)));const Lt=Dt&&Dt.targetChanges.get(Ze.targetId),Pn=Ze.view.applyChanges(Pt,ye.isPrimaryClient,Lt);return SR(ye,Ze.targetId,Pn.cc),Pn.snapshot}),function(ye,Ze,wt,Dt){return ae.apply(this,arguments)})(n,L,q,ne);var ae};const s=yield $v(n.localStore,t,!0),u=new _(t,s.ir),m=u.sc(s.documents),v=Fv.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),x=u.applyChanges(m,n.isPrimaryClient,v);SR(n,e,x.cc);const P=new b(t,e,u);return n.wc.set(t,P),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),x.snapshot}),se.apply(this,arguments)}function Me(n,t){return Be.apply(this,arguments)}function Be(){return Be=(0,dt.Z)(function*(n,t){const e=Gt(n),i=e.wc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(s=>!ug(s,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Zu(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Sg(e.remoteStore,i.targetId),Fb(e,i.targetId)}).catch(Dh))):(Fb(e,i.targetId),yield Zu(e.localStore,i.targetId,!0))}),Be.apply(this,arguments)}function Tt(){return Tt=(0,dt.Z)(function*(n,t,e){const i=jR(n);try{const r=yield function(s,u){const m=Gt(s),v=ho.now(),x=u.reduce((q,ne)=>q.add(ne.key),ui());let P,L;return m.persistence.runTransaction("Locally write mutations","readwrite",q=>{let ne=el(),ae=ui();return m.Zi.getEntries(q,x).next(ye=>{ne=ye,ne.forEach((Ze,wt)=>{wt.isValidDocument()||(ae=ae.add(Ze))})}).next(()=>m.localDocuments.getOverlayedDocuments(q,ne)).next(ye=>{P=ye;const Ze=[];for(const wt of u){const Dt=pU(wt,P.get(wt.key).overlayedDocument);null!=Dt&&Ze.push(new Nh(wt.key,Dt,N1(Dt.value.mapValue),Or.exists(!0)))}return m.mutationQueue.addMutationBatch(q,v,Ze,u)}).next(ye=>{L=ye;const Ze=ye.applyToLocalDocumentSet(P,ae);return m.documentOverlayCache.saveOverlays(q,ye.batchId,Ze)})}).then(()=>({batchId:L.batchId,changes:Y1(P)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,u,m){let v=s.Tc[s.currentUser.toKey()];v||(v=new zr(Yn)),v=v.insert(u,m),s.Tc[s.currentUser.toKey()]=v}(i,r.batchId,e),yield om(i,r.changes),yield rm(i.remoteStore)}catch(r){const s=Jv(r,"Failed to persist write");e.reject(s)}}),Tt.apply(this,arguments)}function Zt(n,t){return vn.apply(this,arguments)}function vn(){return vn=(0,dt.Z)(function*(n,t){const e=Gt(n);try{const i=yield function KO(n,t){const e=Gt(n),i=t.snapshotVersion;let r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;const m=[];t.targetChanges.forEach((P,L)=>{const q=r.get(L);if(!q)return;m.push(e.Bs.removeMatchingKeys(s,P.removedDocuments,L).next(()=>e.Bs.addMatchingKeys(s,P.addedDocuments,L)));let ne=q.withSequenceNumber(s.currentSequenceNumber);var ae,ye,Ze;null!==t.targetMismatches.get(L)?ne=ne.withResumeToken(Ns.EMPTY_BYTE_STRING,In.min()).withLastLimboFreeSnapshotVersion(In.min()):P.resumeToken.approximateByteSize()>0&&(ne=ne.withResumeToken(P.resumeToken,i)),r=r.insert(L,ne),ye=ne,Ze=P,(0===(ae=q).resumeToken.approximateByteSize()||ye.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=3e8||Ze.addedDocuments.size+Ze.modifiedDocuments.size+Ze.removedDocuments.size>0)&&m.push(e.Bs.updateTargetData(s,ne))});let v=el(),x=ui();if(t.documentUpdates.forEach(P=>{t.resolvedLimboDocuments.has(P)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(s,P))}),m.push(QO(s,u,t.documentUpdates).next(P=>{v=P.nr,x=P.sr})),!i.isEqual(In.min())){const P=e.Bs.getLastRemoteSnapshotVersion(s).next(L=>e.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));m.push(P)}return Ye.waitFor(m).next(()=>u.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,v,x)).next(()=>v)}).then(s=>(e.Ji=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const u=e.yc.get(s);u&&(wn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.fc=!0:r.modifiedDocuments.size>0?wn(u.fc):r.removedDocuments.size>0&&(wn(u.fc),u.fc=!1))}),yield om(e,i,t)}catch(i){yield Dh(i)}}),vn.apply(this,arguments)}function yt(n,t,e){const i=Gt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.wc.forEach((s,u)=>{const m=u.view.Mu(t);m.snapshot&&r.push(m.snapshot)}),function(s,u){const m=Gt(s);m.onlineState=u;let v=!1;m.queries.forEach((x,P)=>{for(const L of P.listeners)L.Mu(u)&&(v=!0)}),v&&_S(m)}(i.eventManager,t),r.length&&i.dc.nu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Kn(n,t,e){return di.apply(this,arguments)}function di(){return di=(0,dt.Z)(function*(n,t,e){const i=Gt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.yc.get(t),s=r&&r.key;if(s){let u=new zr(qt.comparator);u=u.insert(s,ro.newNoDocument(s,In.min()));const m=ui().add(s),v=new Nv(In.min(),new Map,new zr(Yn),u,m);yield Zt(i,v),i.gc=i.gc.remove(s),i.yc.delete(t),PR(i)}else yield Zu(i.localStore,t,!1).then(()=>Fb(i,t,e)).catch(Dh)}),di.apply(this,arguments)}function mr(n,t){return Za.apply(this,arguments)}function Za(){return Za=(0,dt.Z)(function*(n,t){const e=Gt(n),i=t.batch.batchId;try{const r=yield function _E(n,t){const e=Gt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Zi.newChangeBuffer({trackRemovals:!0});return function(u,m,v,x){const P=v.batch,L=P.keys();let q=Ye.resolve();return L.forEach(ne=>{q=q.next(()=>x.getEntry(m,ne)).next(ae=>{const ye=v.docVersions.get(ne);wn(null!==ye),ae.version.compareTo(ye)<0&&(P.applyToRemoteDocument(ae,v),ae.isValidDocument()&&(ae.setReadTime(v.commitVersion),x.addEntry(ae)))})}),q.next(()=>u.mutationQueue.removeMutationBatch(m,P))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let m=ui();for(let v=0;v<u.mutationResults.length;++v)u.mutationResults[v].transformResults.length>0&&(m=m.add(u.batch.mutations[v].key));return m}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);OR(e,i,null),VE(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield om(e,r)}catch(r){yield Dh(r)}}),Za.apply(this,arguments)}function Lh(n,t,e){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,dt.Z)(function*(n,t,e){const i=Gt(n);try{const r=yield function(s,u){const m=Gt(s);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let x;return m.mutationQueue.lookupMutationBatch(v,u).next(P=>(wn(null!==P),x=P.keys(),m.mutationQueue.removeMutationBatch(v,P))).next(()=>m.mutationQueue.performConsistencyCheck(v)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(v,x,u)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,x)).next(()=>m.localDocuments.getDocuments(v,x))})}(i.localStore,t);OR(i,t,e),VE(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield om(i,r)}catch(r){yield Dh(r)}}),Bf.apply(this,arguments)}function UE(){return UE=(0,dt.Z)(function*(n,t){const e=Gt(n);im(e.remoteStore)||It("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const u=Gt(s);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>u.mutationQueue.getHighestUnacknowledgedBatchId(m))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ec.get(i)||[];r.push(t),e.Ec.set(i,r)}catch(i){const r=Jv(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),UE.apply(this,arguments)}function VE(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function OR(n,t,e){const i=Gt(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function Fb(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||OU(n,i)})}function OU(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(Sg(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),PR(n))}function SR(n,t,e){for(const i of e)i instanceof d?(n.Ic.addReference(i.key,t),kH(n,i)):i instanceof p?(It("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||OU(n,i.key)):ln()}function kH(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(It("SyncEngine","New document in limbo: "+e),n.mc.add(i),PR(n))}function PR(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new qt($i.fromString(t)),i=n.Ac.next();n.yc.set(i,new I(e)),n.gc=n.gc.insert(e,i),Wv(n.remoteStore,new Gu(Ma(Tf(e.path)),i,"TargetPurposeLimboResolution",vc.ct))}}function om(n,t,e){return DR.apply(this,arguments)}function DR(){return DR=(0,dt.Z)(function*(n,t,e){const i=Gt(n),r=[],s=[],u=[];var m;i.wc.isEmpty()||(i.wc.forEach((m,v)=>{u.push(i.Rc(v,t,e).then(x=>{if((x||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(v.targetId,x?.fromCache?"not-current":"current"),x){r.push(x);const P=Eb.Li(v.targetId,x);s.push(P)}}))}),yield Promise.all(u),i.dc.nu(r),yield(m=(0,dt.Z)(function*(v,x){const P=Gt(v);try{yield P.persistence.runTransaction("notifyLocalViewChanges","readwrite",L=>Ye.forEach(x,q=>Ye.forEach(q.Fi,ne=>P.persistence.referenceDelegate.addReference(L,q.targetId,ne)).next(()=>Ye.forEach(q.Bi,ne=>P.persistence.referenceDelegate.removeReference(L,q.targetId,ne)))))}catch(L){if(!kd(L))throw L;It("LocalStore","Failed to update sequence numbers: "+L)}for(const L of x){const q=L.targetId;if(!L.fromCache){const ne=P.Ji.get(q),ye=ne.withLastLimboFreeSnapshotVersion(ne.snapshotVersion);P.Ji=P.Ji.insert(q,ye)}}}),function(v,x){return m.apply(this,arguments)})(i.localStore,s))}),DR.apply(this,arguments)}function RH(n,t){return AR.apply(this,arguments)}function AR(){return AR=(0,dt.Z)(function*(n,t){const e=Gt(n);if(!e.currentUser.isEqual(t)){It("SyncEngine","User change. New user:",t.toKey());const i=yield gE(e.localStore,t);e.currentUser=t,(r=e).Ec.forEach(u=>{u.forEach(m=>{m.reject(new vt(tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield om(e,i.er)}var r}),AR.apply(this,arguments)}function NH(n,t){const e=Gt(n),i=e.yc.get(t);if(i&&i.fc)return ui().add(i.key);{let r=ui();const s=e._c.get(t);if(!s)return r;for(const u of s){const m=e.wc.get(u);r=r.unionWith(m.view.nc)}return r}}function FH(n,t){return kR.apply(this,arguments)}function kR(){return kR=(0,dt.Z)(function*(n,t){const e=Gt(n),i=yield $v(e.localStore,t.query,!0),r=t.view.hc(i);return e.isPrimaryClient&&SR(e,t.targetId,r.cc),r}),kR.apply(this,arguments)}function LH(n,t){return RR.apply(this,arguments)}function RR(){return RR=(0,dt.Z)(function*(n,t){const e=Gt(n);return XO(e.localStore,t).then(i=>om(e,i))}),RR.apply(this,arguments)}function UH(n,t,e,i){return NR.apply(this,arguments)}function NR(){return NR=(0,dt.Z)(function*(n,t,e,i){const r=Gt(n),s=yield function(u,m){const v=Gt(u),x=Gt(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",P=>x.Sn(P,m).next(L=>L?v.localDocuments.getDocuments(P,L):Ye.resolve(null)))}(r.localStore,t);var m;null!==s?("pending"===e?yield rm(r.remoteStore):"acknowledged"===e||"rejected"===e?(OR(r,t,i||null),VE(r,t),m=t,Gt(Gt(r.localStore).mutationQueue).Cn(m)):ln(),yield om(r,s)):It("SyncEngine","Cannot apply mutation batch with id: "+t)}),NR.apply(this,arguments)}function FR(){return FR=(0,dt.Z)(function*(n,t){const e=Gt(n);if(BR(e),jR(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield SU(e,i.toArray());e.vc=!0,yield dS(e.remoteStore,!0);for(const s of r)Wv(e.remoteStore,s)}else if(!1===t&&!1!==e.vc){const i=[];let r=Promise.resolve();e._c.forEach((s,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(Fb(e,u),Zu(e.localStore,u,!0))),Sg(e.remoteStore,u)}),yield r,yield SU(e,i),function(s){const u=Gt(s);u.yc.forEach((m,v)=>{Sg(u.remoteStore,v)}),u.Ic.Ts(),u.yc=new Map,u.gc=new zr(qt.comparator)}(e),e.vc=!1,yield dS(e.remoteStore,!1)}}),FR.apply(this,arguments)}function SU(n,t,e){return LR.apply(this,arguments)}function LR(){return LR=(0,dt.Z)(function*(n,t,e){const i=Gt(n),r=[],s=[];for(const u of t){let m;const v=i._c.get(u);if(v&&0!==v.length){m=yield em(i.localStore,Ma(v[0]));for(const x of v){const P=i.wc.get(x),L=yield FH(i,P);L.snapshot&&s.push(L.snapshot)}}else{const x=yield yE(i.localStore,u);m=yield em(i.localStore,x),yield Z(i,PU(x),u,!1,m.resumeToken)}r.push(m)}return i.dc.nu(s),r}),LR.apply(this,arguments)}function PU(n){return rb(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function BH(n){const t=Gt(n);return Gt(Gt(t.localStore).persistence).$i()}function jH(n,t,e,i){return UR.apply(this,arguments)}function UR(){return UR=(0,dt.Z)(function*(n,t,e,i){const r=Gt(n);if(r.vc)return void It("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const u=yield XO(r.localStore,$1(s[0])),m=Nv.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Ns.EMPTY_BYTE_STRING);yield om(r,u,m);break}case"rejected":yield Zu(r.localStore,t,!0),Fb(r,t,i);break;default:ln()}}),UR.apply(this,arguments)}function zH(n,t,e){return VR.apply(this,arguments)}function VR(){return VR=(0,dt.Z)(function*(n,t,e){const i=BR(n);if(i.vc){for(const r of t){if(i._c.has(r)){It("SyncEngine","Adding an already active target "+r);continue}const s=yield yE(i.localStore,r),u=yield em(i.localStore,s);yield Z(i,PU(s),u.targetId,!1,u.resumeToken),Wv(i.remoteStore,u)}for(const r of e)i._c.has(r)&&(yield Zu(i.localStore,r,!1).then(()=>{Sg(i.remoteStore,r),Fb(i,r)}).catch(Dh))}}),VR.apply(this,arguments)}function BR(n){const t=Gt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Zt.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=NH.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Kn.bind(null,t),t.dc.nu=IU.bind(null,t.eventManager),t.dc.Pc=TU.bind(null,t.eventManager),t}function jR(n){const t=Gt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mr.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Lh.bind(null,t),t}class BE{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,dt.Z)(function*(){e.serializer=nm(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return WO(this.persistence,new dR,t.initialUser,this.serializer)}createPersistence(t){return new jd(xg.zs,this.serializer)}createSharedClientState(t){return new mR}terminate(){var t=this;return(0,dt.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class zR extends BE{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,dt.Z)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield jR(i.Vc.syncEngine),yield rm(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return WO(this.persistence,new dR,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new yb(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new uU(e,this.persistence);return new ng(t.asyncQueue,i)}createPersistence(t){const e=mE(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ga.withCacheSize(this.cacheSizeBytes):Ga.DEFAULT;return new pE(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,CE(),Tg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new mR}}class DU extends zR{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,dt.Z)(function*(){yield e().call(i,t);const r=i.Vc.syncEngine;i.sharedClientState instanceof iS&&(i.sharedClientState.syncEngine={jr:UH.bind(null,r),zr:jH.bind(null,r),Wr:zH.bind(null,r),$i:BH.bind(null,r),Qr:LH.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,dt.Z)(function*(u){yield function VH(n,t){return FR.apply(this,arguments)}(i.Vc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return s.apply(this,arguments)}}())})()}createSharedClientState(t){const e=CE();if(!iS.D(e))throw new vt(tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=mE(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new iS(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Lb{initialize(t,e){var i=this;return(0,dt.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>yt(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=RH.bind(null,i.syncEngine),yield dS(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new MU}createDatastore(t){const e=nm(t.databaseInfo.databaseId),i=new tm(t.databaseInfo);return new wU(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=m=>yt(this.syncEngine,m,0),u=gR.D()?new gR:new bU,new yR(e,i,r,s,u);var e,i,r,s,u}createSyncEngine(t,e){return function(i,r,s,u,m,v,x){const P=new O(i,r,s,u,m,v);return x&&(P.vc=!0),P}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,dt.Z)(function*(e){const i=Gt(e);It("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Og(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function AU(n,t=10240){let e=0;return{read:()=>(0,dt.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,dt.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class yS{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):io("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class qH{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new _s,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,dt.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,dt.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,dt.Z)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),r=Number(i);isNaN(r)&&t.Mc(`length string (${i}) is not valid number`);const s=yield t.$c(r);return new IR(JSON.parse(s),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,dt.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,dt.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,dt.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class GH{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,dt.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new vt(tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,dt.Z)(function*(s,u){const m=Gt(s),v=Vd(m.serializer)+"/documents",x={documents:u.map(ne=>Lv(m.serializer,ne))},P=yield m.vo("BatchGetDocuments",v,x,u.length),L=new Map;P.forEach(ne=>{const ae=function mU(n,t){return"found"in t?function(e,i){wn(!!i.found);const r=qu(e,i.found.name),s=os(i.found.updateTime),u=i.found.createTime?os(i.found.createTime):In.min(),m=new Ea({mapValue:{fields:i.found.fields}});return ro.newFoundDocument(r,s,u,m)}(n,t):"missing"in t?function(e,i){wn(!!i.missing),wn(!!i.readTime);const r=qu(e,i.missing),s=os(i.readTime);return ro.newNoDocument(r,s)}(n,t):ln()}(m.serializer,ne);L.set(ae.key.toString(),ae)});const q=[];return u.forEach(ne=>{const ae=L.get(ne.toString());wn(!!ae),q.push(ae)}),q}),function(s,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new pg(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,dt.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=qt.fromPath(r);t.mutations.push(new lb(s,t.precondition(s)))}),yield(i=(0,dt.Z)(function*(r,s){const u=Gt(r),m=Vd(u.serializer)+"/documents",v={writes:s.map(x=>Zp(u.serializer,x))};yield u.Io("Commit",m,v)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ln();e=In.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new vt(tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(In.min())?Or.exists(!1):Or.updateTime(e):Or.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(In.min()))throw new vt(tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Or.updateTime(e)}return Or.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class ZH{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new xE(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,dt.Z)(function*(){const e=new GH(t.datastore),i=t.qc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Uc(s)}))}).catch(r=>{t.Uc(r)})}))}qc(t){try{const e=this.updateFunction(t);return!W0(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!kv(e)}return!1}}class WH{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ks.UNAUTHENTICATED,this.clientId=dx.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,dt.Z)(function*(m){It("FirestoreClient","Received user=",m.uid),yield s.authCredentialListener(m),s.user=m});return function(m){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(It("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,dt.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,dt.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Jv(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function bS(n,t){return HR.apply(this,arguments)}function HR(){return HR=(0,dt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),It("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,dt.Z)(function*(s){i.isEqual(s)||(yield gE(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),HR.apply(this,arguments)}function $R(n,t){return qR.apply(this,arguments)}function qR(){return qR=(0,dt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield GR(n);It("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>RE(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>RE(t.remoteStore,s)),n._onlineComponents=t}),qR.apply(this,arguments)}function kU(n){return"FirebaseError"===n.name?n.code===tt.FAILED_PRECONDITION||n.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function GR(n){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,dt.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){It("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bS(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!kU(e))throw e;cu("Error using user provided cache. Falling back to memory cache: "+e),yield bS(n,new BE)}}else It("FirestoreClient","Using default OfflineComponentProvider"),yield bS(n,new BE);return n._offlineComponents}),ZR.apply(this,arguments)}function wS(n){return WR.apply(this,arguments)}function WR(){return WR=(0,dt.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(It("FirestoreClient","Using user provided OnlineComponentProvider"),yield $R(n,n._uninitializedComponentsProvider._online)):(It("FirestoreClient","Using default OnlineComponentProvider"),yield $R(n,new Lb))),n._onlineComponents}),WR.apply(this,arguments)}function RU(n){return GR(n).then(t=>t.persistence)}function CS(n){return GR(n).then(t=>t.localStore)}function NU(n){return wS(n).then(t=>t.remoteStore)}function YR(n){return wS(n).then(t=>t.syncEngine)}function Ub(n){return KR.apply(this,arguments)}function KR(){return KR=(0,dt.Z)(function*(n){const t=yield wS(n),e=t.eventManager;return e.onListen=k.bind(null,t.syncEngine),e.onUnlisten=Me.bind(null,t.syncEngine),e}),KR.apply(this,arguments)}function LU(n,t,e={}){const i=new _s;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function(r,s,u,m,v){const x=new yS({next:L=>{s.enqueueAndForget(()=>FE(r,P));const q=L.docs.has(u);!q&&L.fromCache?v.reject(new vt(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&L.fromCache&&m&&"server"===m.source?v.reject(new vt(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(L)},error:L=>v.reject(L)}),P=new vS(Tf(u.path),x,{includeMetadataChanges:!0,Ku:!0});return pS(r,P)}(yield Ub(n),n.asyncQueue,t,e,i)})),i.promise}function UU(n,t,e={}){const i=new _s;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function(r,s,u,m,v){const x=new yS({next:L=>{s.enqueueAndForget(()=>FE(r,P)),L.fromCache&&"server"===m.source?v.reject(new vt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(L)},error:L=>v.reject(L)}),P=new vS(u,x,{includeMetadataChanges:!0,Ku:!0});return pS(r,P)}(yield Ub(n),n.asyncQueue,t,e,i)})),i.promise}function VU(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const BU=new Map;function QR(n,t,e){if(!e)throw new vt(tt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function jU(n,t,e,i){if(!0===t&&!0===i)throw new vt(tt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function zU(n){if(!qt.isDocumentKey(n))throw new vt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function HU(n){if(qt.isDocumentKey(n))throw new vt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ln()}function qi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new vt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=xS(n);throw new vt(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function $U(n,t){if(t<=0)throw new vt(tt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class qU{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new vt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new vt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}jU("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=VU(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new vt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new vt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new vt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jE{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new vt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qU(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new h1;switch(e.type){case"firstParty":return new H0(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new vt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=BU.get(t);e&&(It("ComponentProvider","Removing Datastore"),BU.delete(t),e.terminate())}(this),Promise.resolve()}}function GU(n,t,e,i={}){var r;const s=(n=qi(n,jE))._getSettings(),u=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==u&&cu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:u,ssl:!1})),i.mockUserToken){let m,v;if("string"==typeof i.mockUserToken)m=i.mockUserToken,v=ks.MOCK_USER;else{m=(0,ie.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new vt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new ks(x)}n._authCredentials=new pk(new cx(m,v))}}class ko{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ko(this.firestore,t,this._key)}}class bc{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new bc(this.firestore,t,this._query)}}class jf extends bc{constructor(t,e,i){super(t,e,Tf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ko(this.firestore,null,new qt(t))}withConverter(t){return new jf(this.firestore,t,this._path)}}function JR(n,t,...e){if(n=(0,ie.m9)(n),QR("collection","path",t),n instanceof jE){const i=$i.fromString(t,...e);return HU(i),new jf(n,null,i)}{if(!(n instanceof ko||n instanceof jf))throw new vt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child($i.fromString(t,...e));return HU(i),new jf(n.firestore,null,i)}}function zE(n,t,...e){if(n=(0,ie.m9)(n),1===arguments.length&&(t=dx.A()),QR("doc","path",t),n instanceof jE){const i=$i.fromString(t,...e);return zU(i),new ko(n,null,new qt(i))}{if(!(n instanceof ko||n instanceof jf))throw new vt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child($i.fromString(t,...e));return zU(i),new ko(n.firestore,n instanceof jf?n.converter:null,new qt(i))}}function ZU(n,t){return n=(0,ie.m9)(n),t=(0,ie.m9)(t),(n instanceof ko||n instanceof jf)&&(t instanceof ko||t instanceof jf)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function XR(n,t){return n=(0,ie.m9)(n),t=(0,ie.m9)(t),n instanceof bc&&t instanceof bc&&n.firestore===t.firestore&&ug(n._query,t._query)&&n.converter===t.converter}class r${constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new xE(this,"async_queue_retry"),this.Xc=()=>{const e=Tg();e&&It("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=Tg();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=Tg();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new _s;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,dt.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!kd(e))throw e;It("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,io("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=hS.createAndSchedule(this,t,e,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&ln()}verifyOperationInProgress(){}sa(){var t=this;return(0,dt.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function eN(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class o${constructor(){this._progressObserver={},this._taskCompletionResolver=new _s,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ro extends jE{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new r$,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||WU(this),this._firestoreClient.terminate()}}function a$(n,t){const e="object"==typeof n?n:(0,Ds.getApp)(),i="string"==typeof n?n:t||"(default)",r=(0,Ds._getProvider)(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(0,ie.P0)("firestore");s&&GU(r,...s)}return r}function Ls(n){return n._firestoreClient||WU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function WU(n){var t,e,i;const r=n._freezeSettings(),s=(m=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Ik(n._databaseId,m,n._persistenceKey,(x=r).host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,VU(x.experimentalLongPollingOptions),x.useFetchStreams));var m,x;n._firestoreClient=new WH(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=r.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function YU(n,t,e){const i=new _s;return n.asyncQueue.enqueue((0,dt.Z)(function*(){try{yield bS(n,e),yield $R(n,t),i.resolve()}catch(r){const s=r;if(!kU(s))throw s;cu("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function KU(n){if(n._initialized||n._terminated)throw new vt(tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class zf{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zf(Ns.fromBase64String(t))}catch(e){throw new vt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new zf(Ns.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class sm{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new vt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qo(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ey{constructor(t){this._methodName=t}}class ES{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new vt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new vt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Yn(this._lat,t._lat)||Yn(this._long,t._long)}}const _$=/^__.*__$/;class v${constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Nh(t,this.data,this.fieldMask,e,this.fieldTransforms):new fg(t,this.data,e,this.fieldTransforms)}}class QU{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Nh(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function JU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ln()}}class MS{constructor(t,e,i,r,s,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new MS(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.fa(t),r}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return OS(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(JU(this.ca)&&_$.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class y${constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||nm(t)}ya(t,e,i,r=!1){return new MS({ca:t,methodName:e,ga:i,path:qo.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ty(n){const t=n._freezeSettings(),e=nm(n._databaseId);return new y$(n._databaseId,!!t.ignoreUndefinedProperties,e)}function IS(n,t,e,i,r,s={}){const u=n.ya(s.merge||s.mergeFields?2:0,t,e,r);rN("Data must be an object, but it was:",u,i);const m=t3(i,u);let v,x;if(s.merge)v=new Xc(u.fieldMask),x=u.fieldTransforms;else if(s.mergeFields){const P=[];for(const L of s.mergeFields){const q=qE(t,L,e);if(!u.contains(q))throw new vt(tt.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);r3(P,q)||P.push(q)}v=new Xc(P),x=u.fieldTransforms.filter(L=>v.covers(L.field))}else v=null,x=u.fieldTransforms;return new v$(new Ea(m),v,x)}class $E extends ey{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof $E}}function XU(n,t,e){return new MS({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class tN extends ey{_toFieldTransform(t){return new Pv(t.path,new Hp)}isEqual(t){return t instanceof tN}}class b$ extends ey{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=XU(this,t,!0),i=this.pa.map(s=>ny(s,e)),r=new Df(i);return new Pv(t.path,r)}isEqual(t){return this===t}}class w$ extends ey{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=XU(this,t,!0),i=this.pa.map(s=>ny(s,e)),r=new $p(i);return new Pv(t.path,r)}isEqual(t){return this===t}}class C$ extends ey{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new Sv(t.serializer,tO(t.serializer,this.Ia));return new Pv(t.path,e)}isEqual(t){return this===t}}function nN(n,t,e,i){const r=n.ya(1,t,e);rN("Data must be an object, but it was:",r,i);const s=[],u=Ea.empty();uu(i,(v,x)=>{const P=TS(t,v,e);x=(0,ie.m9)(x);const L=r.da(P);if(x instanceof $E)s.push(P);else{const q=ny(x,L);null!=q&&(s.push(P),u.set(P,q))}});const m=new Xc(s);return new QU(u,m,r.fieldTransforms)}function iN(n,t,e,i,r,s){const u=n.ya(1,t,e),m=[qE(t,i,e)],v=[r];if(s.length%2!=0)throw new vt(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let q=0;q<s.length;q+=2)m.push(qE(t,s[q])),v.push(s[q+1]);const x=[],P=Ea.empty();for(let q=m.length-1;q>=0;--q)if(!r3(x,m[q])){const ne=m[q];let ae=v[q];ae=(0,ie.m9)(ae);const ye=u.da(ne);if(ae instanceof $E)x.push(ne);else{const Ze=ny(ae,ye);null!=Ze&&(x.push(ne),P.set(ne,Ze))}}const L=new Xc(x);return new QU(P,L,u.fieldTransforms)}function e3(n,t,e,i=!1){return ny(e,n.ya(i?4:3,t))}function ny(n,t){if(n3(n=(0,ie.m9)(n)))return rN("Unsupported field value:",t,n),t3(n,t);if(n instanceof ey)return function(e,i){if(!JU(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const u of e){let m=ny(u,i.wa(s));null==m&&(m={nullValue:"NULL_VALUE"}),r.push(m),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,ie.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return tO(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=ho.fromDate(e);return{timestampValue:Gp(i.serializer,r)}}if(e instanceof ho){const r=new ho(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Gp(i.serializer,r)}}if(e instanceof ES)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof zf)return{bytesValue:tE(i.serializer,e._byteString)};if(e instanceof ko){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:pb(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${xS(e)}`)}(n,t)}function t3(n,t){const e={};return og(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):uu(n,(i,r)=>{const s=ny(r,t.ha(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function n3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ho||n instanceof ES||n instanceof zf||n instanceof ko||n instanceof ey)}function rN(n,t,e){if(!n3(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=xS(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function qE(n,t,e){if((t=(0,ie.m9)(t))instanceof sm)return t._internalPath;if("string"==typeof t)return TS(n,t);throw OS("Field path arguments must be of type string or ",n,!1,void 0,e)}const x$=new RegExp("[~\\*/\\[\\]]");function TS(n,t,e){if(t.search(x$)>=0)throw OS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new sm(...t.split("."))._internalPath}catch{throw OS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function OS(n,t,e,i,r){const s=i&&!i.isEmpty(),u=void 0!==r;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(s||u)&&(v+=" (found",s&&(v+=` in field ${i}`),u&&(v+=` in document ${r}`),v+=")"),new vt(tt.INVALID_ARGUMENT,m+n+v)}function r3(n,t){return n.some(e=>e.isEqual(t))}class GE{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ko(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new E$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(SS("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class E$ extends GE{data(){return super.data()}}function SS(n,t){return"string"==typeof t?TS(n,t):t instanceof sm?t._internalPath:t._delegate._internalPath}function o3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new vt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oN{}class ZE extends oN{}function am(n,t,...e){let i=[];t instanceof oN&&i.push(t),i=i.concat(e),function(r){const s=r.filter(m=>m instanceof Vb).length,u=r.filter(m=>m instanceof WE).length;if(s>1||s>0&&u>0)throw new vt(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class WE extends ZE{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new WE(t,e,i)}_apply(t){const e=this._parse(t);return u3(t._query,e),new bc(t.firestore,t.converter,sb(t._query,e))}_parse(t){const e=ty(t.firestore);return function(r,s,u,m,v,x,P){let L;if(v.isKeyField()){if("array-contains"===x||"array-contains-any"===x)throw new vt(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if("in"===x||"not-in"===x){l3(P,x);const q=[];for(const ne of P)q.push(c3(m,r,ne));L={arrayValue:{values:q}}}else L=c3(m,r,P)}else"in"!==x&&"not-in"!==x&&"array-contains-any"!==x||l3(P,x),L=e3(u,"where",P,"in"===x||"not-in"===x);return Ni.create(v,x,L)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}function s3(n,t,e){const i=t,r=SS("where",n);return WE._create(r,i,e)}class Vb extends oN{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Vb(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:pr.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let s=i;const u=r.getFlattenedFilters();for(const m of u)u3(s,m),s=sb(s,m)}(t._query,e),new bc(t.firestore,t.converter,sb(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class sN extends ZE{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new sN(t,e)}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new vt(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new vt(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new cg(r,s);return function(m,v){if(null===ob(m)){const x=Iv(m);null!==x&&d3(0,x,v.field)}}(i,u),u}(t._query,this._field,this._direction);return new bc(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new If(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class PS extends ZE{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new PS(t,e,i)}_apply(t){return new bc(t.firestore,t.converter,Tv(t._query,this._limit,this._limitType))}}class DS extends ZE{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new DS(t,e,i)}_apply(t){const e=a3(t,this.type,this._docOrFields,this._inclusive);return new bc(t.firestore,t.converter,(r=e,new If((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class AS extends ZE{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new AS(t,e,i)}_apply(t){const e=a3(t,this.type,this._docOrFields,this._inclusive);return new bc(t.firestore,t.converter,(r=e,new If((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function a3(n,t,e,i){if(e[0]=(0,ie.m9)(e[0]),e[0]instanceof GE)return function(r,s,u,m,v){if(!m)throw new vt(tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const x=[];for(const P of Of(r))if(P.field.isKeyField())x.push($u(s,m.key));else{const L=m.data.field(P.field);if(wv(L))throw new vt(tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+P.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===L){const q=P.field.canonicalString();throw new vt(tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${q}' (used as the orderBy) does not exist.`)}x.push(L)}return new Fd(x,v)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=ty(n.firestore);return function(s,u,m,v,x,P){const L=s.explicitOrderBy;if(x.length>L.length)throw new vt(tt.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const q=[];for(let ne=0;ne<x.length;ne++){const ae=x[ne];if(L[ne].field.isKeyField()){if("string"!=typeof ae)throw new vt(tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof ae}`);if(!Fx(s)&&-1!==ae.indexOf("/"))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${ae}' contains a slash.`);const ye=s.path.child($i.fromString(ae));if(!qt.isDocumentKey(ye))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${ye}' is not because it contains an odd number of segments.`);const Ze=new qt(ye);q.push($u(u,Ze))}else{const ye=e3(m,v,ae);q.push(ye)}}return new Fd(q,P)}(n._query,n.firestore._databaseId,r,t,e,i)}}function c3(n,t,e){if("string"==typeof(e=(0,ie.m9)(e))){if(""===e)throw new vt(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fx(t)&&-1!==e.indexOf("/"))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child($i.fromString(e));if(!qt.isDocumentKey(i))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return $u(n,new qt(i))}if(e instanceof ko)return $u(n,e._key);throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xS(e)}.`)}function l3(n,t){if(!Array.isArray(n)||0===n.length)throw new vt(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function u3(n,t){if(t.isInequality()){const i=Iv(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=ob(n);null!==s&&d3(0,r,s)}const e=function(i,r){for(const s of i)for(const u of s.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new vt(tt.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function d3(n,t,e){if(!e.isEqual(t))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class aN{convertValue(t,e="none"){switch(Mf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return rs(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ef(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ln()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return uu(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new ES(rs(t.latitude),rs(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Bp(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Cv(t));default:return null}}convertTimestamp(t){const e=Vp(t);return new ho(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=$i.fromString(t);wn(Uv(i));const r=new kh(i.get(1),i.get(3)),s=new qt(i.popFirst(5));return r.isEqual(e)||io(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function kS(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class A$ extends aN{constructor(t){super(),this.firestore=t}convertBytes(t){return new zf(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ko(this.firestore,null,e)}}class iy{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class cm extends GE{constructor(t,e,i,r,s,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new YE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(SS("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class YE extends cm{data(t={}){return super.data(t)}}class Ag{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new iy(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new YE(this._firestore,this._userDataWriter,i.key,i,new iy(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new vt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new YE(i._firestore,i._userDataWriter,u.doc.key,u.doc,new iy(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const m=new YE(i._firestore,i._userDataWriter,u.doc.key,u.doc,new iy(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let v=-1,x=-1;return 0!==u.type&&(v=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),x=s.indexOf(u.doc.key)),{type:R$(u.type),doc:m,oldIndex:v,newIndex:x}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function R$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ln()}}function f3(n,t){return n instanceof cm&&t instanceof cm?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Ag&&t instanceof Ag&&n._firestore===t._firestore&&XR(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class kg extends aN{constructor(t){super(),this.firestore=t}convertBytes(t){return new zf(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ko(this.firestore,null,e)}}function cN(n,t,e){n=qi(n,ko);const i=qi(n.firestore,Ro),r=kS(n.converter,t,e);return Bb(i,[IS(ty(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Or.none())])}function lN(n,t,e,...i){n=qi(n,ko);const r=qi(n.firestore,Ro),s=ty(r);let u;return u="string"==typeof(t=(0,ie.m9)(t))||t instanceof sm?iN(s,"updateDoc",n._key,t,e,i):nN(s,"updateDoc",n._key,t),Bb(r,[u.toMutation(n._key,Or.exists(!0))])}function p3(n,t){const e=qi(n.firestore,Ro),i=zE(n),r=kS(n.converter,t);return Bb(e,[IS(ty(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Or.exists(!1))]).then(()=>i)}function uN(n,...t){var e,i,r;n=(0,ie.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||eN(t[u])||(s=t[u],u++);const m={includeMetadataChanges:s.includeMetadataChanges};if(eN(t[u])){const L=t[u];t[u]=null===(e=L.next)||void 0===e?void 0:e.bind(L),t[u+1]=null===(i=L.error)||void 0===i?void 0:i.bind(L),t[u+2]=null===(r=L.complete)||void 0===r?void 0:r.bind(L)}let v,x,P;if(n instanceof ko)x=qi(n.firestore,Ro),P=Tf(n._key.path),v={next:L=>{t[u]&&t[u](dN(x,n,L))},error:t[u+1],complete:t[u+2]};else{const L=qi(n,bc);x=qi(L.firestore,Ro),P=L._query;const q=new kg(x);v={next:ne=>{t[u]&&t[u](new Ag(x,q,L,ne))},error:t[u+1],complete:t[u+2]},o3(n._query)}return function(L,q,ne,ae){const ye=new yS(ae),Ze=new vS(q,ye,ne);return L.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return pS(yield Ub(L),Ze)})),()=>{ye.Dc(),L.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return FE(yield Ub(L),Ze)}))}}(Ls(x),P,m,v)}function Bb(n,t){return function(e,i){const r=new _s;return e.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function ft(n,t,e){return Tt.apply(this,arguments)}(yield YR(e),i,r)})),r.promise}(Ls(n),t)}function dN(n,t,e){const i=e.docs.get(t._key),r=new kg(n);return new cm(n,r,t._key,i,new iy(e.hasPendingWrites,e.fromCache),t.converter)}const Q$={maxAttempts:5};class m3{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ty(t)}set(t,e,i){this._verifyNotCommitted();const r=Rg(t,this._firestore),s=kS(r.converter,e,i),u=IS(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Or.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=Rg(t,this._firestore);let u;return u="string"==typeof(e=(0,ie.m9)(e))||e instanceof sm?iN(this._dataReader,"WriteBatch.update",s._key,e,i,r):nN(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(u.toMutation(s._key,Or.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Rg(t,this._firestore);return this._mutations=this._mutations.concat(new pg(e._key,Or.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vt(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rg(n,t){if((n=(0,ie.m9)(n)).firestore!==t)throw new vt(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class J$ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=ty(t)}get(t){const e=Rg(t,this._firestore),i=new A$(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ln();const s=r[0];if(s.isFoundDocument())return new GE(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new GE(this._firestore,i,e._key,null,e.converter);throw ln()})}set(t,e,i){const r=Rg(t,this._firestore),s=kS(r.converter,e,i),u=IS(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const s=Rg(t,this._firestore);let u;return u="string"==typeof(e=(0,ie.m9)(e))||e instanceof sm?iN(this._dataReader,"Transaction.update",s._key,e,i,r):nN(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,u),this}delete(t){const e=Rg(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Rg(t,this._firestore),i=new kg(this._firestore);return super.get(t).then(r=>new cm(this._firestore,i,e._key,r._document,new iy(!1,!1),e.converter))}}!function(n,t=!0){eg=Ds.SDK_VERSION,(0,Ds._registerComponent)(new ou.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),u=new Ro(new mk(e.getProvider("auth-internal")),new ux(e.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new vt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kh(m.options.projectId,v)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Ds.registerVersion)(sx,"3.13.0",n),(0,Ds.registerVersion)(sx,"3.13.0","esm2017")}();var gn=Q(7398),RS=function(){return RS=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},RS.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var oq={includeMetadataChanges:!1};function fN(n,t){return void 0===t&&(t=oq),new ar.y(function(e){return{unsubscribe:uN(n,t,{next:e.next.bind(e),error:e.error.bind(e),complete:e.complete.bind(e)})}})}function aq(n,t){return void 0===t&&(t={}),function sq(n){return fN(n,{includeMetadataChanges:!0})}(n).pipe((0,gn.U)(function(e){return _3(e,t)}))}function _3(n,t){var e;void 0===t&&(t={});var i=n.data(t);return n.exists()&&"object"==typeof i&&null!==i&&t.idField?RS(RS({},i),((e={})[t.idField]=n.id,e)):i}function fq(n,t){return void 0===t&&(t={}),function hq(n){return fN(n,{includeMetadataChanges:!0}).pipe((0,gn.U)(function(t){return t.docs}))}(n).pipe((0,gn.U)(function(e){return e.map(function(i){return _3(i,t)})}))}class zd{constructor(t){return t}}const w3="firestore",gN=new o.OlP("angularfire2.firestore-instances");function _q(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new zd(i)}}const vq={provide:class mq{constructor(){return(0,bn.vb)(w3)}},deps:[[new o.FiY,gN]]},yq={provide:zd,useFactory:function gq(n,t){const e=(0,bn.JM)(w3,n,t);return e&&new zd(e)},deps:[[new o.FiY,gN],Pm]};let C3=(()=>{class n{constructor(){(0,Id.KN)("angularfire",bn.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[yq,vq]}),n})();function bq(n,...t){return{ngModule:C3,providers:[{provide:gN,useFactory:_q(n),multi:!0,deps:[o.R0b,o.zs3,bn.HU,Fw,[new o.FiY,Td],[new o.FiY,wp],...t]}]}}const ys=(0,bn.u3)(fq,!0),wq=(0,bn.u3)(aq,!0),Cq=(0,bn.u3)(p3,!0),Hd=(0,bn.u3)(JR,!0),NS=(0,bn.u3)(zE,!0),xq=(0,bn.u3)(a$,!0),Wa=(0,bn.u3)(am,!0),x3=(0,bn.u3)(cN,!0),Eq=(0,bn.u3)(lN,!0),fo=(0,bn.u3)(s3,!0),E3="firebasestorage.googleapis.com",M3="storageBucket";class ss extends ie.ZR{constructor(t,e,i=0){super(_N(t),`Firebase Storage: ${e} (${_N(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ss.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return _N(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Go=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Go||{});function _N(n){return"storage/"+n}function vN(){return new ss(Go.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function yN(n){return new ss(Go.INVALID_ARGUMENT,n)}function S3(){return new ss(Go.APP_DELETED,"The Firebase app was deleted.")}function KE(n,t){return new ss(Go.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function QE(n){throw new ss(Go.INTERNAL_ERROR,"Internal error: "+n)}class Pl{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Pl.makeFromUrl(t,e)}catch{return new Pl(t,"")}if(""===i.path)return i;throw function Rq(n){return new ss(Go.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+r+"(/(.*))?$","i");function x(Lt){Lt.path_=decodeURIComponent(Lt.path)}const L=e.replace(/[.]/g,"\\."),Pt=[{regex:m,indices:{bucket:1,path:3},postModify:function s(Lt){"/"===Lt.path.charAt(Lt.path.length-1)&&(Lt.path_=Lt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${L}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:x},{regex:new RegExp(`^https?://${e===E3?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:x}];for(let Lt=0;Lt<Pt.length;Lt++){const Pn=Pt[Lt],kn=Pn.regex.exec(t);if(kn){let Wo=kn[Pn.indices.path];Wo||(Wo=""),i=new Pl(kn[Pn.indices.bucket],Wo),Pn.postModify(i);break}}if(null==i)throw function kq(n){return new ss(Go.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class Bq{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function FS(n){return"string"==typeof n||n instanceof String}function P3(n){return bN()&&n instanceof Blob}function bN(){return typeof Blob<"u"&&!(0,ie.UG)()}function wN(n,t,e,i){if(i<t)throw yN(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw yN(`Invalid value for '${n}'. Expected ${e} or less.`)}function lm(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function D3(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var jb=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(jb||{});class Gq{constructor(t,e,i,r,s,u,m,v,x,P,L,q=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=v,this.timeout_=x,this.progressCallback_=P,this.connectionFactory_=L,this.retry=q,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ne,ae)=>{this.resolve_=ne,this.reject_=ae,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,u=this.reject_,m=r.connection;if(r.wasSuccessCode)try{const v=this.callback_(m,m.getResponse());!function Hq(n){return void 0!==n}(v)?s():s(v)}catch(v){u(v)}else if(null!==m){const v=vN();v.serverResponse=m.getErrorText(),u(this.errorCallback_?this.errorCallback_(m,v):v)}else u(r.canceled?this.appDelete_?S3():function T3(){return new ss(Go.CANCELED,"User canceled the upload/download.")}():function I3(){return new ss(Go.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new LS(!1,null,!0)):this.backoffId_=function jq(n,t,e){let i=1,r=null,s=null,u=!1,m=0;function v(){return 2===m}let x=!1;function P(...Ze){x||(x=!0,t.apply(null,Ze))}function L(Ze){r=setTimeout(()=>{r=null,n(ne,v())},Ze)}function q(){s&&clearTimeout(s)}function ne(Ze,...wt){if(x)return void q();if(Ze)return q(),void P.call(null,Ze,...wt);if(v()||u)return q(),void P.call(null,Ze,...wt);let Pt;i<64&&(i*=2),1===m?(m=2,Pt=0):Pt=1e3*(i+Math.random()),L(Pt)}let ae=!1;function ye(Ze){ae||(ae=!0,q(),!x&&(null!==r?(Ze||(m=2),clearTimeout(r),L(0)):Ze||(m=1)))}return L(0),s=setTimeout(()=>{u=!0,ye(!0)},e),ye}((i,r)=>{if(r)return void i(!1,new LS(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const u=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(u),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(u),this.pendingConnection_=null;const m=s.getErrorCode()===jb.NO_ERROR,v=s.getStatus();if(!m||function A3(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||r||s}(v,this.additionalRetryCodes_)&&this.retry){const P=s.getErrorCode()===jb.ABORT;return void i(!1,new LS(!1,null,P))}const x=-1!==this.successCodes_.indexOf(v);i(!0,new LS(x,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function zq(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class LS{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function Xq(...n){const t=function Jq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(bN())return new Blob(n);throw new ss(Go.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Uh={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class CN{constructor(t,e){this.data=t,this.contentType=e||null}}function R3(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function N3(n,t){switch(n){case Uh.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw KE(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Uh.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw KE(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function tG(n){if(typeof atob>"u")throw function Uq(n){return new ss(Go.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:KE(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class F3{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw KE(Uh.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function oG(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class um{constructor(t,e){let i=0,r="";P3(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(P3(this.data_)){const r=function eG(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new um(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new um(i,!0)}}static getBlob(...t){if(bN()){const e=t.map(i=>i instanceof um?i.data_:i);return new um(Xq.apply(null,e))}{const e=t.map(u=>FS(u)?function k3(n,t){switch(n){case Uh.RAW:return new CN(R3(t));case Uh.BASE64:case Uh.BASE64URL:return new CN(N3(n,t));case Uh.DATA_URL:return new CN(function iG(n){const t=new F3(n);return t.base64?N3(Uh.BASE64,t.rest):function nG(n){let t;try{t=decodeURIComponent(n)}catch{throw KE(Uh.DATA_URL,"Malformed data URL.")}return R3(t)}(t.rest)}(t),function rG(n){return new F3(n).contentType}(t))}throw vN()}(Uh.RAW,u).data:u.data_);let i=0;e.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(u=>{for(let m=0;m<u.length;m++)r[s++]=u[m]}),new um(r,!0)}}uploadData(){return this.data_}}function xN(n){let t;try{t=JSON.parse(n)}catch{return null}return function qq(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function L3(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function cG(n,t){return t}class Dl{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||cG}}let US=null;function JE(){if(US)return US;const n=[];n.push(new Dl("bucket")),n.push(new Dl("generation")),n.push(new Dl("metageneration")),n.push(new Dl("name","fullPath",!0));const e=new Dl("name");e.xform=function t(s,u){return function lG(n){return!FS(n)||n.length<2?n:L3(n)}(u)},n.push(e);const r=new Dl("size");return r.xform=function i(s,u){return void 0!==u?Number(u):u},n.push(r),n.push(new Dl("timeCreated")),n.push(new Dl("updated")),n.push(new Dl("md5Hash",null,!0)),n.push(new Dl("cacheControl",null,!0)),n.push(new Dl("contentDisposition",null,!0)),n.push(new Dl("contentEncoding",null,!0)),n.push(new Dl("contentLanguage",null,!0)),n.push(new Dl("contentType",null,!0)),n.push(new Dl("metadata","customMetadata",!0)),US=n,US}function U3(n,t,e){const i=xN(t);return null===i?null:function dG(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const u=e[s];i[u.local]=u.xform(i,t[u.server])}return function uG(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new Pl(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}class Hf{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function $f(n){if(!n)throw vN()}function zb(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function Dq(){return new ss(Go.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Pq(){return new ss(Go.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function Sq(n){return new ss(Go.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function Aq(n){return new ss(Go.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function $3(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},v=function m(){let Pt="";for(let Lt=0;Lt<2;Lt++)Pt+=Math.random().toString().slice(2);return Pt}();u["Content-Type"]="multipart/related; boundary="+v;const x=function H3(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function wG(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}(t,i,r),P=function EN(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}(x,e),ne=um.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+P+"\r\n--"+v+"\r\nContent-Type: "+x.contentType+"\r\n\r\n",i,"\r\n--"+v+"--");if(null===ne)throw function O3(){return new ss(Go.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const ae={name:x.fullPath},ye=lm(s,n.host,n._protocol),wt=n.maxUploadRetryTime,Dt=new Hf(ye,"POST",function VS(n,t){return function e(i,r){const s=U3(n,r,t);return $f(null!==s),s}}(n,e),wt);return Dt.urlParams=ae,Dt.headers=u,Dt.body=ne.uploadData(),Dt.errorHandler=zb(t),Dt}let G3=null;class IG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=jb.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=jb.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=jb.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw QE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw QE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw QE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw QE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw QE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class TG extends IG{initXhr(){this.xhr_.responseType="text"}}function Vh(){return G3?G3():new TG}class ry{constructor(t,e){this._service=t,this._location=e instanceof Pl?e:Pl.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new ry(t,e)}get root(){const t=new Pl(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return L3(this._location.path)}get storage(){return this._service}get parent(){const t=function sG(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Pl(this._location.bucket,t);return new ry(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function Vq(n){return new ss(Go.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function BG(n){n._throwIfRoot("getDownloadURL");const t=function vG(n,t,e){const r=lm(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,m=new Hf(r,"GET",function gG(n,t){return function e(i,r){const s=U3(n,r,t);return $f(null!==s),function hG(n,t,e,i){const r=xN(t);if(null===r||!FS(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const u=encodeURIComponent;return s.split(",").map(x=>{const L=n.fullPath;return lm("/b/"+u(n.bucket)+"/o/"+u(L),e,i)+D3({alt:"media",token:x})})[0]}(s,r,n.host,n._protocol)}}(n,e),u);return m.errorHandler=function XE(n){const t=zb(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function Oq(n){return new ss(Go.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}(t),m}(n.storage,n._location,JE());return n.storage.makeRequestWithTokens(t,Vh).then(e=>{if(null===e)throw function Lq(){return new ss(Go.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function Q3(n,t){if(n instanceof ON){const e=n;if(null==e._bucket)throw function Nq(){return new ss(Go.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+M3+"' property when initializing the app?")}();const i=new ry(e,e._bucket);return null!=t?Q3(i,t):i}return void 0!==t?function K3(n,t){const e=function aG(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Pl(n._location.bucket,e);return new ry(n.storage,i)}(n,t):n}function J3(n,t){const e=t?.[M3];return null==e?null:Pl.makeFromBucketSpec(e,n)}class ON{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=E3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Pl.makeFromBucketSpec(r,this._host):J3(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Pl.makeFromBucketSpec(this._url,t):J3(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){wN("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){wN("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,dt.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,dt.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ry(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new Bq(S3());{const u=function Qq(n,t,e,i,r,s,u=!0){const m=D3(n.urlParams),v=n.url+m,x=Object.assign({},n.headers);return function Yq(n,t){t&&(n["X-Firebase-GMPID"]=t)}(x,t),function Zq(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(x,e),function Wq(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(x,s),function Kq(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(x,i),new Gq(v,n.method,x,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,u)}(t,this._appId,i,r,e,this._firebaseVersion,s);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(t,e){var i=this;return(0,dt.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const X3="@firebase/storage",tV="storage";function GG(n,t,e){return function Z3(n,t,e){n._throwIfRoot("uploadBytes");const i=$3(n.storage,n._location,JE(),new um(t,!0),e);return n.storage.makeRequestWithTokens(i,Vh).then(r=>({metadata:r,ref:n}))}(n=(0,ie.m9)(n),t,e)}function ZG(n){return BG(n=(0,ie.m9)(n))}function WG(n,t){return function $G(n,t){if(t&&function zG(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof ON)return function HG(n,t){return new ry(n,t)}(n,t);throw yN("To use ref(service, url), the first argument must be a Storage instance.")}return Q3(n,t)}(n=(0,ie.m9)(n),t)}function YG(n=(0,Ds.getApp)(),t){n=(0,ie.m9)(n);const i=(0,Ds._getProvider)(n,tV).getImmediate({identifier:t}),r=(0,ie.P0)("storage");return r&&function KG(n,t,e,i={}){!function qG(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,ie.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(i,...r),i}function QG(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new ON(e,i,r,t,Ds.SDK_VERSION)}!function JG(){(0,Ds._registerComponent)(new ou.wA(tV,QG,"PUBLIC").setMultipleInstances(!0)),(0,Ds.registerVersion)(X3,"0.11.2",""),(0,Ds.registerVersion)(X3,"0.11.2","esm2017")}();class jS{constructor(t){return t}}const nV="storage",SN=new o.OlP("angularfire2.storage-instances");function tZ(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new jS(i)}}const nZ={provide:class XG{constructor(){return(0,bn.vb)(nV)}},deps:[[new o.FiY,SN]]},iZ={provide:jS,useFactory:function eZ(n,t){const e=(0,bn.JM)(nV,n,t);return e&&new jS(e)},deps:[[new o.FiY,SN],Pm]};let rZ=(()=>{class n{constructor(){(0,Id.KN)("angularfire",bn.q4.full,"gcs")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[iZ,nZ]}),n})();function oZ(n,...t){return{ngModule:rZ,providers:[{provide:SN,useFactory:tZ(n),multi:!0,deps:[o.R0b,o.zs3,bn.HU,Fw,[new o.FiY,Td],[new o.FiY,wp],...t]}]}}const sZ=(0,bn.u3)(ZG,!0),aZ=(0,bn.u3)(YG,!0),cZ=(0,bn.u3)(WG,!0),lZ=(0,bn.u3)(GG,!0);var $d=Q(4674),Sr=Q(2459),_n=Q(2096),qd=Q(5619);const{isArray:dZ}=Array,{getPrototypeOf:hZ,prototype:fZ,keys:pZ}=Object;function iV(n){if(1===n.length){const t=n[0];if(dZ(t))return{args:t,keys:null};if(function mZ(n){return n&&"object"==typeof n&&hZ(n)===fZ}(t)){const e=pZ(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var eM=Q(2737);const{isArray:gZ}=Array;function PN(n){return(0,gn.U)(t=>function _Z(n,t){return gZ(t)?n(...t):n(t)}(n,t))}var $b=Q(9940);function rV(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var vZ=Q(7103);function zS(...n){const t=(0,$b.yG)(n),e=(0,$b.jO)(n),{args:i,keys:r}=iV(n);if(0===i.length)return(0,Sr.D)([],t);const s=new ar.y(function yZ(n,t,e=eM.y){return i=>{oV(t,()=>{const{length:r}=n,s=new Array(r);let u=r,m=r;for(let v=0;v<r;v++)oV(t,()=>{const x=(0,Sr.D)(n[v],t);let P=!1;x.subscribe((0,li.x)(i,L=>{s[v]=L,P||(P=!0,m--),m||i.next(e(s.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>rV(r,u):eM.y));return e?s.pipe(PN(e)):s}function oV(n,t,e){n?(0,vZ.f)(e,n,t):t()}const HS=(0,Q(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var tM=Q(7537);function nM(...n){return function wZ(){return(0,tM.J)(1)}()((0,Sr.D)(n,(0,$b.yG)(n)))}var DN=Q(8407);function qb(n,t){const e=(0,$d.m)(n)?n:()=>n,i=r=>r.error(e());return new ar.y(t?r=>t.schedule(i,0,r):i)}var qf=Q(6232),Wu=Q(7394);function AN(){return(0,Nr.e)((n,t)=>{let e=null;n._refCount++;const i=(0,li.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class sV extends ar.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Nr.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Wu.w0;const e=this.getSubject();t.add(this.source.subscribe((0,li.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Wu.w0.EMPTY)}return t}refCount(){return AN()(this)}}var as=Q(4664);function nl(n){return n<=0?()=>qf.E:(0,Nr.e)((t,e)=>{let i=0;t.subscribe((0,li.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Ng(...n){const t=(0,$b.yG)(n);return(0,Nr.e)((e,i)=>{(t?nM(n,e,t):nM(n,e)).subscribe(i)})}var Ta=Q(1631);function $S(n){return(0,Nr.e)((t,e)=>{let i=!1;t.subscribe((0,li.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function aV(n=CZ){return(0,Nr.e)((t,e)=>{let i=!1;t.subscribe((0,li.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function CZ(){return new HS}function Fg(n,t){const e=arguments.length>=2;return i=>i.pipe(n?cr((r,s)=>n(r,s,i)):eM.y,nl(1),e?$S(t):aV(()=>new HS))}function oy(n,t){return(0,$d.m)(t)?(0,Ta.z)(n,t,1):(0,Ta.z)(n,1)}function Lg(n){return(0,Nr.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,li.x)(e,void 0,void 0,u=>{s=(0,Po.Xf)(n(u,Lg(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function Gb(n,t){return(0,Nr.e)(function xZ(n,t,e,i,r){return(s,u)=>{let m=e,v=t,x=0;s.subscribe((0,li.x)(u,P=>{const L=x++;v=m?n(v,P,L):(m=!0,P),i&&u.next(v)},r&&(()=>{m&&u.next(v),u.complete()})))}}(n,t,arguments.length>=2,!0))}function kN(n){return n<=0?()=>qf.E:(0,Nr.e)((t,e)=>{let i=[];t.subscribe((0,li.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function cV(n){return(0,gn.U)(()=>n)}function qS(n){return(0,Nr.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var RN=Q(2420);function Gd(n){return(0,Nr.e)((t,e)=>{(0,Po.Xf)(n).subscribe((0,li.x)(e,()=>e.complete(),RN.Z)),!e.closed&&t.subscribe(e)})}const vi="primary",iM=Symbol("RouteTitle");class MZ{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Zb(n){return new MZ(n)}function IZ(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const u=i[s],m=n[s];if(u.startsWith(":"))r[u.substring(1)]=m;else if(u!==m.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Gf(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!lV(n[r],t[r]))return!1;return!0}function lV(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function uV(n){return n.length>0?n[n.length-1]:null}function Ug(n){return function uZ(n){return!!n&&(n instanceof ar.y||(0,$d.m)(n.lift)&&(0,$d.m)(n.subscribe))}(n)?n:(0,o.QGY)(n)?(0,Sr.D)(Promise.resolve(n)):(0,_n.of)(n)}const OZ={exact:function fV(n,t,e){if(!sy(n.segments,t.segments)||!GS(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!fV(n.children[i],t.children[i],e))return!1;return!0},subset:pV},dV={exact:function SZ(n,t){return Gf(n,t)},subset:function PZ(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>lV(n[e],t[e]))},ignored:()=>!0};function hV(n,t,e){return OZ[e.paths](n.root,t.root,e.matrixParams)&&dV[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function pV(n,t,e){return mV(n,t,t.segments,e)}function mV(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!sy(r,e)||t.hasChildren()||!GS(r,e,i))}if(n.segments.length===e.length){if(!sy(n.segments,e)||!GS(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!pV(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(sy(n.segments,r)&&GS(n.segments,r,i)&&n.children[vi])&&mV(n.children[vi],t,s,i)}}function GS(n,t,e){return t.every((i,r)=>dV[e](n[r].parameters,i.parameters))}class Wb{constructor(t=new Lr([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zb(this.queryParams)),this._queryParamMap}toString(){return kZ.serialize(this)}}class Lr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ZS(this)}}class rM{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Zb(this.parameters)),this._parameterMap}toString(){return vV(this)}}function sy(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let oM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return new NN},providedIn:"root"})}return n})();class NN{parse(t){const e=new $Z(t);return new Wb(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${sM(t.root,!0)}`,i=function FZ(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${WS(e)}=${WS(r)}`).join("&"):`${WS(e)}=${WS(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function RZ(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const kZ=new NN;function ZS(n){return n.segments.map(t=>vV(t)).join("/")}function sM(n,t){if(!n.hasChildren())return ZS(n);if(t){const e=n.children[vi]?sM(n.children[vi],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==vi&&i.push(`${r}:${sM(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function AZ(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===vi&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==vi&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===vi?[sM(n.children[vi],!1)]:[`${r}:${sM(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[vi]?`${ZS(n)}/${e[0]}`:`${ZS(n)}/(${e.join("//")})`}}function gV(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function WS(n){return gV(n).replace(/%3B/gi,";")}function FN(n){return gV(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function YS(n){return decodeURIComponent(n)}function _V(n){return YS(n.replace(/\+/g,"%20"))}function vV(n){return`${FN(n.path)}${function NZ(n){return Object.keys(n).map(t=>`;${FN(t)}=${FN(n[t])}`).join("")}(n.parameters)}`}const LZ=/^[^\/()?;#]+/;function LN(n){const t=n.match(LZ);return t?t[0]:""}const UZ=/^[^\/()?;=#]+/,BZ=/^[^=?&#]+/,zZ=/^[^&#]+/;class $Z{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lr([],{}):new Lr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[vi]=new Lr(t,e)),i}parseSegment(){const t=LN(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new o.vHH(4009,!1);return this.capture(t),new rM(YS(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function VZ(n){const t=n.match(UZ);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=LN(this.remaining);r&&(i=r,this.capture(i))}t[YS(e)]=YS(i)}parseQueryParam(t){const e=function jZ(n){const t=n.match(BZ);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function HZ(n){const t=n.match(zZ);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=_V(e),s=_V(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=LN(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new o.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=vi);const u=this.parseChildren();e[s]=1===Object.keys(u).length?u[vi]:new Lr([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new o.vHH(4011,!1)}}function yV(n){return n.segments.length>0?new Lr([],{[vi]:n}):n}function bV(n){const t={};for(const i of Object.keys(n.children)){const s=bV(n.children[i]);if(i===vi&&0===s.segments.length&&s.hasChildren())for(const[u,m]of Object.entries(s.children))t[u]=m;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function qZ(n){if(1===n.numberOfChildren&&n.children[vi]){const t=n.children[vi];return new Lr(n.segments.concat(t.segments),t.children)}return n}(new Lr(n.segments,t))}function ay(n){return n instanceof Wb}function wV(n){let t;const r=yV(function e(s){const u={};for(const v of s.children){const x=e(v);u[v.outlet]=x}const m=new Lr(s.url,u);return s===n&&(t=m),m}(n.root));return t??r}function CV(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return UN(r,r,r,e,i);const s=function ZZ(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new EV(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const m={};return Object.entries(s.outlets).forEach(([v,x])=>{m[v]="string"==typeof x?x.split("/"):x}),[...r,{outlets:m}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===u?(s.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?e=!0:".."===m?t++:""!=m&&r.push(m))}),r):[...r,s]},[]);return new EV(e,t,i)}(t);if(s.toRoot())return UN(r,r,new Lr([],{}),e,i);const u=function WZ(n,t,e){if(n.isAbsolute)return new QS(t,!0,0);if(!e)return new QS(t,!1,NaN);if(null===e.parent)return new QS(e,!0,0);const i=KS(n.commands[0])?0:1;return function YZ(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new o.vHH(4005,!1);r=i.segments.length}return new QS(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),m=u.processChildren?cM(u.segmentGroup,u.index,s.commands):MV(u.segmentGroup,u.index,s.commands);return UN(r,u.segmentGroup,m,e,i)}function KS(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function aM(n){return"object"==typeof n&&null!=n&&n.outlets}function UN(n,t,e,i,r){let u,s={};i&&Object.entries(i).forEach(([v,x])=>{s[v]=Array.isArray(x)?x.map(P=>`${P}`):`${x}`}),u=n===t?e:xV(n,t,e);const m=yV(bV(u));return new Wb(m,s,r)}function xV(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:xV(s,t,e)}),new Lr(n.segments,i)}class EV{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&KS(i[0]))throw new o.vHH(4003,!1);const r=i.find(aM);if(r&&r!==uV(i))throw new o.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class QS{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function MV(n,t,e){if(n||(n=new Lr([],{})),0===n.segments.length&&n.hasChildren())return cM(n,t,e);const i=function QZ(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const u=n.segments[r],m=e[i];if(aM(m))break;const v=`${m}`,x=i<e.length-1?e[i+1]:null;if(r>0&&void 0===v)break;if(v&&x&&"object"==typeof x&&void 0===x.outlets){if(!TV(v,x,u))return s;i+=2}else{if(!TV(v,{},u))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Lr(n.segments.slice(0,i.pathIndex),{});return s.children[vi]=new Lr(n.segments.slice(i.pathIndex),n.children),cM(s,0,r)}return i.match&&0===r.length?new Lr(n.segments,{}):i.match&&!n.hasChildren()?VN(n,t,e):i.match?cM(n,0,r):VN(n,t,e)}function cM(n,t,e){if(0===e.length)return new Lr(n.segments,{});{const i=function KZ(n){return aM(n[0])?n[0].outlets:{[vi]:n}}(e),r={};if(Object.keys(i).some(s=>s!==vi)&&n.children[vi]&&1===n.numberOfChildren&&0===n.children[vi].segments.length){const s=cM(n.children[vi],t,e);return new Lr(n.segments,s.children)}return Object.entries(i).forEach(([s,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(r[s]=MV(n.children[s],t,u))}),Object.entries(n.children).forEach(([s,u])=>{void 0===i[s]&&(r[s]=u)}),new Lr(n.segments,r)}}function VN(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(aM(s)){const v=JZ(s.outlets);return new Lr(i,v)}if(0===r&&KS(e[0])){i.push(new rM(n.segments[t].path,IV(e[0]))),r++;continue}const u=aM(s)?s.outlets[vi]:`${s}`,m=r<e.length-1?e[r+1]:null;u&&m&&KS(m)?(i.push(new rM(u,IV(m))),r+=2):(i.push(new rM(u,{})),r++)}return new Lr(i,{})}function JZ(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=VN(new Lr([],{}),0,i))}),t}function IV(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function TV(n,t,e){return n==e.path&&Gf(t,e.parameters)}const lM="imperative";class Zf{constructor(t,e){this.id=t,this.url=e}}class JS extends Zf{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vg extends Zf{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class uM extends Zf{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yb extends Zf{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class XS extends Zf{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class OV extends Zf{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XZ extends Zf{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eW extends Zf{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tW extends Zf{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nW extends Zf{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iW{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rW{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class oW{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sW{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aW{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cW{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SV{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class BN{}class jN{constructor(t){this.url=t}}class lW{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new dM,this.attachRef=null}}let dM=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new lW,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class PV{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=zN(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=zN(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=HN(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return HN(t,this._root).map(e=>e.value)}}function zN(n,t){if(n===t.value)return t;for(const e of t.children){const i=zN(n,e);if(i)return i}return null}function HN(n,t){if(n===t.value)return[t];for(const e of t.children){const i=HN(n,e);if(i.length)return i.unshift(t),i}return[]}class dm{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Kb(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class DV extends PV{constructor(t,e){super(t),this.snapshot=e,$N(this,t)}toString(){return this.snapshot.toString()}}function AV(n,t){const e=function uW(n,t){const u=new eP([],{},{},"",{},vi,t,null,{});return new RV("",new dm(u,[]))}(0,t),i=new qd.X([new rM("",{})]),r=new qd.X({}),s=new qd.X({}),u=new qd.X({}),m=new qd.X(""),v=new Qb(i,r,u,m,s,vi,t,e.root);return v.snapshot=e.root,new DV(new dm(v,[]),e)}class Qb{constructor(t,e,i,r,s,u,m,v){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=u,this.component=m,this._futureSnapshot=v,this.title=this.dataSubject?.pipe((0,gn.U)(x=>x[iM]))??(0,_n.of)(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gn.U)(t=>Zb(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gn.U)(t=>Zb(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kV(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function dW(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class eP{get title(){return this.data?.[iM]}constructor(t,e,i,r,s,u,m,v,x){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=m,this.routeConfig=v,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zb(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zb(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RV extends PV{constructor(t,e){super(e),this.url=t,$N(this,e)}toString(){return NV(this._root)}}function $N(n,t){t.value._routerState=n,t.children.forEach(e=>$N(n,e))}function NV(n){const t=n.children.length>0?` { ${n.children.map(NV).join(", ")} } `:"";return`${n.value}${t}`}function qN(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Gf(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Gf(t.params,e.params)||n.paramsSubject.next(e.params),function TZ(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Gf(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Gf(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function GN(n,t){const e=Gf(n.params,t.params)&&function DZ(n,t){return sy(n,t)&&n.every((e,i)=>Gf(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||GN(n.parent,t.parent))}let ZN=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=vi,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.parentContexts=(0,o.f3M)(dM),this.location=(0,o.f3M)(o.s_b),this.changeDetector=(0,o.f3M)(o.sBO),this.environmentInjector=(0,o.f3M)(o.lqb),this.inputBinder=(0,o.f3M)(tP,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new o.vHH(4013,!1);this._activatedRoute=e;const r=this.location,u=e.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,v=new hW(e,m,r.injector);this.activated=r.createComponent(u,{index:r.length,injector:v,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.TTD]})}return n})();class hW{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Qb?this.route:t===dM?this.childContexts:this.parent.get(t,e)}}const tP=new o.OlP("");let FV=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=zS([i.queryParams,i.params,i.data]).pipe((0,as.w)(([s,u,m],v)=>(m={...s,...u,...m},0===v?(0,_n.of)(m):Promise.resolve(m)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const u=(0,o.qFp)(i.component);if(u)for(const{templateName:m}of u.inputs)e.activatedComponentRef.setInput(m,s[m]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();function hM(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function pW(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return hM(n,i,r);return hM(n,i)})}(n,t,e);return new dm(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(m=>hM(n,m)),u}}const i=function mW(n){return new Qb(new qd.X(n.url),new qd.X(n.params),new qd.X(n.queryParams),new qd.X(n.fragment),new qd.X(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>hM(n,s));return new dm(i,r)}}const WN="ngNavigationCancelingError";function LV(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=ay(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=UV(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function UV(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[WN]=!0,i.cancellationCode=t,e&&(i.url=e),i}function VV(n){return n&&n[WN]}let BV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(i,r){1&i&&o._UZ(0,"router-outlet")},dependencies:[ZN],encapsulation:2})}return n})();function YN(n){const t=n.children&&n.children.map(YN),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==vi&&(e.component=BV),e}function Bh(n){return n.outlet||vi}function fM(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class xW{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),qN(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Kb(e);t.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,r[u],i),delete r[u]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Kb(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);if(i&&i.outlet){const u=i.outlet.detach(),m=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:m})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Kb(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=Kb(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new cW(s.value.snapshot))}),t.children.length&&this.forwardEvent(new sW(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(qN(r),r===s)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const m=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(m.contexts),u.attachRef=m.componentRef,u.route=m.route.value,u.outlet&&u.outlet.attach(m.componentRef,m.route.value),qN(m.route.value),this.activateChildRoutes(t,null,u.children)}else{const m=fM(r.snapshot);u.attachRef=null,u.route=r,u.injector=m,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class jV{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class nP{constructor(t,e){this.component=t,this.route=e}}function EW(n,t,e){const i=n._root;return pM(i,t?t._root:null,e,[i.value])}function Jb(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,o.Z0I)(n)?t.get(n):n:i}function pM(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Kb(t);return n.children.forEach(u=>{(function IW(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=t?t.value:null,m=e?e.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const v=function TW(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!sy(n.url,t.url);case"pathParamsOrQueryParamsChange":return!sy(n.url,t.url)||!Gf(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!GN(n,t)||!Gf(n.queryParams,t.queryParams);default:return!GN(n,t)}}(u,s,s.routeConfig.runGuardsAndResolvers);v?r.canActivateChecks.push(new jV(i)):(s.data=u.data,s._resolvedData=u._resolvedData),pM(n,t,s.component?m?m.children:null:e,i,r),v&&m&&m.outlet&&m.outlet.isActivated&&r.canDeactivateChecks.push(new nP(m.outlet.component,u))}else u&&mM(t,m,r),r.canActivateChecks.push(new jV(i)),pM(n,null,s.component?m?m.children:null:e,i,r)})(u,s[u.value.outlet],e,i.concat([u.value]),r),delete s[u.value.outlet]}),Object.entries(s).forEach(([u,m])=>mM(m,e.getContext(u),r)),r}function mM(n,t,e){const i=Kb(n),r=n.value;Object.entries(i).forEach(([s,u])=>{mM(u,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new nP(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function gM(n){return"function"==typeof n}function zV(n){return n instanceof HS||"EmptyError"===n?.name}const iP=Symbol("INITIAL_VALUE");function Xb(){return(0,as.w)(n=>zS(n.map(t=>t.pipe(nl(1),Ng(iP)))).pipe((0,gn.U)(t=>{for(const e of t)if(!0!==e){if(e===iP)return iP;if(!1===e||e instanceof Wb)return e}return!0}),cr(t=>t!==iP),nl(1)))}function HV(n){return(0,DN.z)((0,tr.b)(t=>{if(ay(t))throw LV(0,t)}),(0,gn.U)(t=>!0===t))}class rP{constructor(t){this.segmentGroup=t||null}}class $V{constructor(t){this.urlTree=t}}function ew(n){return qb(new rP(n))}function qV(n){return qb(new $V(n))}class ZW{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new o.vHH(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,_n.of)(i);if(r.numberOfChildren>1||!r.children[vi])return qb(new o.vHH(4e3,!1));r=r.children[vi]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Wb(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);i[r]=e[m]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let u={};return Object.entries(e.children).forEach(([m,v])=>{u[m]=this.createSegmentGroup(t,v,i,r)}),new Lr(s,u)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new o.vHH(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const KN={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function WW(n,t,e,i,r){const s=QN(n,t,e);return s.matched?(i=function _W(n,t){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function $W(n,t,e,i){const r=t.canMatch;if(!r||0===r.length)return(0,_n.of)(!0);const s=r.map(u=>{const m=Jb(u,n);return Ug(function kW(n){return n&&gM(n.canMatch)}(m)?m.canMatch(t,e):n.runInContext(()=>m(t,e)))});return(0,_n.of)(s).pipe(Xb(),HV())}(i,t,e).pipe((0,gn.U)(u=>!0===u?s:{...KN}))):(0,_n.of)(s)}function QN(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...KN}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||IZ)(e,n,t);if(!r)return{...KN};const s={};Object.entries(r.posParams??{}).forEach(([m,v])=>{s[m]=v.path});const u=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function GV(n,t,e,i){return e.length>0&&function QW(n,t,e){return e.some(i=>oP(n,t,i)&&Bh(i)!==vi)}(n,e,i)?{segmentGroup:new Lr(t,KW(i,new Lr(e,n.children))),slicedSegments:[]}:0===e.length&&function JW(n,t,e){return e.some(i=>oP(n,t,i))}(n,e,i)?{segmentGroup:new Lr(n.segments,YW(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Lr(n.segments,n.children),slicedSegments:e}}function YW(n,t,e,i,r){const s={};for(const u of i)if(oP(n,e,u)&&!r[Bh(u)]){const m=new Lr([],{});s[Bh(u)]=m}return{...r,...s}}function KW(n,t){const e={};e[vi]=t;for(const i of n)if(""===i.path&&Bh(i)!==vi){const r=new Lr([],{});e[Bh(i)]=r}return e}function oP(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class n9{constructor(t,e,i,r,s,u,m){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=u,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new ZW(this.urlSerializer,this.urlTree)}noMatchError(t){return new o.vHH(4002,!1)}recognize(){const t=GV(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,vi).pipe(Lg(e=>{if(e instanceof $V)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof rP?this.noMatchError(e):e}),(0,gn.U)(e=>{const i=new eP([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},vi,this.rootComponentType,null,{}),r=new dm(i,e),s=new RV("",r),u=function GZ(n,t,e=null,i=null){return CV(wV(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(s._root),{state:s,tree:u}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,vi).pipe(Lg(i=>{throw i instanceof rP?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=kV(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Sr.D)(r).pipe(oy(s=>{const u=i.children[s],m=function wW(n,t){const e=n.filter(i=>Bh(i)===t);return e.push(...n.filter(i=>Bh(i)!==t)),e}(e,s);return this.processSegmentGroup(t,m,u,s)}),Gb((s,u)=>(s.push(...u),s)),$S(null),function EZ(n,t){const e=arguments.length>=2;return i=>i.pipe(n?cr((r,s)=>n(r,s,i)):eM.y,kN(1),e?$S(t):aV(()=>new HS))}(),(0,Ta.z)(s=>{if(null===s)return ew(i);const u=ZV(s);return function i9(n){n.sort((t,e)=>t.value.outlet===vi?-1:e.value.outlet===vi?1:t.value.outlet.localeCompare(e.value.outlet))}(u),(0,_n.of)(u)}))}processSegment(t,e,i,r,s,u){return(0,Sr.D)(e).pipe(oy(m=>this.processSegmentAgainstRoute(m._injector??t,e,m,i,r,s,u).pipe(Lg(v=>{if(v instanceof rP)return(0,_n.of)(null);throw v}))),Fg(m=>!!m),Lg(m=>{if(zV(m))return function e9(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?(0,_n.of)([]):ew(i);throw m}))}processSegmentAgainstRoute(t,e,i,r,s,u,m){return function XW(n,t,e,i){return!!(Bh(n)===i||i!==vi&&oP(t,e,n))&&("**"===n.path||QN(t,n,e).matched)}(i,r,s,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,u,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,u):ew(r):ew(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?qV(s):this.applyRedirects.lineralizeSegments(i,s).pipe((0,Ta.z)(u=>{const m=new Lr(u,{});return this.processSegment(t,e,m,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u){const{matched:m,consumedSegments:v,remainingSegments:x,positionalParamSegments:P}=QN(e,r,s);if(!m)return ew(e);const L=this.applyRedirects.applyRedirectCommands(v,r.redirectTo,P);return r.redirectTo.startsWith("/")?qV(L):this.applyRedirects.lineralizeSegments(r,L).pipe((0,Ta.z)(q=>this.processSegment(t,i,e,q.concat(x),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,s,u){let m;if("**"===i.path){const v=r.length>0?uV(r).parameters:{},x=new eP(r,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,WV(i),Bh(i),i.component??i._loadedComponent??null,i,YV(i));m=(0,_n.of)({snapshot:x,consumedSegments:[],remainingSegments:[]}),e.children={}}else m=WW(e,i,r,t).pipe((0,gn.U)(({matched:v,consumedSegments:x,remainingSegments:P,parameters:L})=>v?{snapshot:new eP(x,L,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,WV(i),Bh(i),i.component??i._loadedComponent??null,i,YV(i)),consumedSegments:x,remainingSegments:P}:null));return m.pipe((0,as.w)(v=>null===v?ew(e):this.getChildConfig(t=i._injector??t,i,r).pipe((0,as.w)(({routes:x})=>{const P=i._loadedInjector??t,{snapshot:L,consumedSegments:q,remainingSegments:ne}=v,{segmentGroup:ae,slicedSegments:ye}=GV(e,q,ne,x);if(0===ye.length&&ae.hasChildren())return this.processChildren(P,x,ae).pipe((0,gn.U)(wt=>null===wt?null:[new dm(L,wt)]));if(0===x.length&&0===ye.length)return(0,_n.of)([new dm(L,[])]);const Ze=Bh(i)===s;return this.processSegment(P,x,ae,ye,Ze?vi:s,!0).pipe((0,gn.U)(wt=>[new dm(L,wt)]))}))))}getChildConfig(t,e,i){return e.children?(0,_n.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,_n.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function HW(n,t,e,i){const r=t.canLoad;if(void 0===r||0===r.length)return(0,_n.of)(!0);const s=r.map(u=>{const m=Jb(u,n);return Ug(function SW(n){return n&&gM(n.canLoad)}(m)?m.canLoad(t,e):n.runInContext(()=>m(t,e)))});return(0,_n.of)(s).pipe(Xb(),HV())}(t,e,i).pipe((0,Ta.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,tr.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function GW(n){return qb(UV(!1,3))}())):(0,_n.of)({routes:[],injector:t})}}function r9(n){const t=n.value.routeConfig;return t&&""===t.path}function ZV(n){const t=[],e=new Set;for(const i of n){if(!r9(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=ZV(i.children);t.push(new dm(i.value,r))}return t.filter(i=>!e.has(i))}function WV(n){return n.data||{}}function YV(n){return n.resolve||{}}function KV(n){return"string"==typeof n.title||null===n.title}function JN(n){return(0,as.w)(t=>{const e=n(t);return e?(0,Sr.D)(e).pipe((0,gn.U)(()=>t)):(0,_n.of)(t)})}const tw=new o.OlP("ROUTES");let XN=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.f3M)(o.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,_n.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Ug(e.loadComponent()).pipe((0,gn.U)(QV),(0,tr.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),qS(()=>{this.componentLoaders.delete(e)})),r=new sV(i,()=>new zn.x).pipe(AN());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,_n.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function d9(n,t,e,i){return Ug(n.loadChildren()).pipe((0,gn.U)(QV),(0,Ta.z)(r=>r instanceof o.YKP||Array.isArray(r)?(0,_n.of)(r):(0,Sr.D)(t.compileModuleAsync(r))),(0,gn.U)(r=>{i&&i(n);let s,u,m=!1;return Array.isArray(r)?(u=r,!0):(s=r.create(e).injector,u=s.get(tw,[],{optional:!0,self:!0}).flat()),{routes:u.map(YN),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(qS(()=>{this.childrenLoaders.delete(i)})),u=new sV(s,()=>new zn.x).pipe(AN());return this.childrenLoaders.set(i,u),u}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QV(n){return function h9(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let sP=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new zn.x,this.transitionAbortSubject=new zn.x,this.configLoader=(0,o.f3M)(XN),this.environmentInjector=(0,o.f3M)(o.lqb),this.urlSerializer=(0,o.f3M)(oM),this.rootContexts=(0,o.f3M)(dM),this.inputBindingEnabled=null!==(0,o.f3M)(tP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,_n.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new rW(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new iW(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new qd.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:lM,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(cr(s=>0!==s.id),(0,gn.U)(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),(0,as.w)(s=>{this.currentTransition=s;let u=!1,m=!1;return(0,_n.of)(s).pipe((0,tr.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.rawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,as.w)(v=>{const x=v.currentBrowserUrl.toString(),P=!e.navigated||v.extractedUrl.toString()!==x||x!==v.currentUrlTree.toString();if(!P&&"reload"!==(v.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const q="";return this.events.next(new Yb(v.id,this.urlSerializer.serialize(v.rawUrl),q,0)),v.resolve(null),qf.E}if(e.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return(0,_n.of)(v).pipe((0,as.w)(q=>{const ne=this.transitions?.getValue();return this.events.next(new JS(q.id,this.urlSerializer.serialize(q.extractedUrl),q.source,q.restoredState)),ne!==this.transitions?.getValue()?qf.E:Promise.resolve(q)}),function o9(n,t,e,i,r,s){return(0,Ta.z)(u=>function t9(n,t,e,i,r,s,u="emptyOnly"){return new n9(n,t,e,i,r,u,s).recognize()}(n,t,e,i,u.extractedUrl,r,s).pipe((0,gn.U)(({state:m,tree:v})=>({...u,targetSnapshot:m,urlAfterRedirects:v}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,tr.b)(q=>{s.targetSnapshot=q.targetSnapshot,s.urlAfterRedirects=q.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:q.urlAfterRedirects};const ne=new OV(q.id,this.urlSerializer.serialize(q.extractedUrl),this.urlSerializer.serialize(q.urlAfterRedirects),q.targetSnapshot);this.events.next(ne)}));if(P&&e.urlHandlingStrategy.shouldProcessUrl(v.currentRawUrl)){const{id:q,extractedUrl:ne,source:ae,restoredState:ye,extras:Ze}=v,wt=new JS(q,this.urlSerializer.serialize(ne),ae,ye);this.events.next(wt);const Dt=AV(0,this.rootComponentType).snapshot;return this.currentTransition=s={...v,targetSnapshot:Dt,urlAfterRedirects:ne,extras:{...Ze,skipLocationChange:!1,replaceUrl:!1}},(0,_n.of)(s)}{const q="";return this.events.next(new Yb(v.id,this.urlSerializer.serialize(v.extractedUrl),q,1)),v.resolve(null),qf.E}}),(0,tr.b)(v=>{const x=new XZ(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(x)}),(0,gn.U)(v=>(this.currentTransition=s={...v,guards:EW(v.targetSnapshot,v.currentSnapshot,this.rootContexts)},s)),function NW(n,t){return(0,Ta.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:u}}=e;return 0===u.length&&0===s.length?(0,_n.of)({...e,guardsResult:!0}):function FW(n,t,e,i){return(0,Sr.D)(n).pipe((0,Ta.z)(r=>function zW(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,_n.of)(!0);const u=s.map(m=>{const v=fM(t)??r,x=Jb(m,v);return Ug(function AW(n){return n&&gM(n.canDeactivate)}(x)?x.canDeactivate(n,t,e,i):v.runInContext(()=>x(n,t,e,i))).pipe(Fg())});return(0,_n.of)(u).pipe(Xb())}(r.component,r.route,e,t,i)),Fg(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Ta.z)(m=>m&&function OW(n){return"boolean"==typeof n}(m)?function LW(n,t,e,i){return(0,Sr.D)(t).pipe(oy(r=>nM(function VW(n,t){return null!==n&&t&&t(new oW(n)),(0,_n.of)(!0)}(r.route.parent,i),function UW(n,t){return null!==n&&t&&t(new aW(n)),(0,_n.of)(!0)}(r.route,i),function jW(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(u=>function MW(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>Hc(()=>{const m=u.guards.map(v=>{const x=fM(u.node)??e,P=Jb(v,x);return Ug(function DW(n){return n&&gM(n.canActivateChild)}(P)?P.canActivateChild(i,n):x.runInContext(()=>P(i,n))).pipe(Fg())});return(0,_n.of)(m).pipe(Xb())}));return(0,_n.of)(s).pipe(Xb())}(n,r.path,e),function BW(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,_n.of)(!0);const r=i.map(s=>Hc(()=>{const u=fM(t)??e,m=Jb(s,u);return Ug(function PW(n){return n&&gM(n.canActivate)}(m)?m.canActivate(t,n):u.runInContext(()=>m(t,n))).pipe(Fg())}));return(0,_n.of)(r).pipe(Xb())}(n,r.route,e))),Fg(r=>!0!==r,!0))}(i,s,n,t):(0,_n.of)(m)),(0,gn.U)(m=>({...e,guardsResult:m})))})}(this.environmentInjector,v=>this.events.next(v)),(0,tr.b)(v=>{if(s.guardsResult=v.guardsResult,ay(v.guardsResult))throw LV(0,v.guardsResult);const x=new eW(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.events.next(x)}),cr(v=>!!v.guardsResult||(this.cancelNavigationTransition(v,"",3),!1)),JN(v=>{if(v.guards.canActivateChecks.length)return(0,_n.of)(v).pipe((0,tr.b)(x=>{const P=new tW(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(P)}),(0,as.w)(x=>{let P=!1;return(0,_n.of)(x).pipe(function s9(n,t){return(0,Ta.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,_n.of)(e);let s=0;return(0,Sr.D)(r).pipe(oy(u=>function a9(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!KV(r)&&(s[iM]=r.title),function c9(n,t,e,i){const r=function l9(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,_n.of)({});const s={};return(0,Sr.D)(r).pipe((0,Ta.z)(u=>function u9(n,t,e,i){const r=fM(t)??i,s=Jb(n,r);return Ug(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[u],t,e,i).pipe(Fg(),(0,tr.b)(m=>{s[u]=m}))),kN(1),cV(s),Lg(u=>zV(u)?qf.E:qb(u)))}(s,n,t,i).pipe((0,gn.U)(u=>(n._resolvedData=u,n.data=kV(n,e).resolve,r&&KV(r)&&(n.data[iM]=r.title),null)))}(u.route,i,n,t)),(0,tr.b)(()=>s++),kN(1),(0,Ta.z)(u=>s===r.length?(0,_n.of)(e):qf.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,tr.b)({next:()=>P=!0,complete:()=>{P||this.cancelNavigationTransition(x,"",2)}}))}),(0,tr.b)(x=>{const P=new nW(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(P)}))}),JN(v=>{const x=P=>{const L=[];P.routeConfig?.loadComponent&&!P.routeConfig._loadedComponent&&L.push(this.configLoader.loadComponent(P.routeConfig).pipe((0,tr.b)(q=>{P.component=q}),(0,gn.U)(()=>{})));for(const q of P.children)L.push(...x(q));return L};return zS(x(v.targetSnapshot.root)).pipe($S(),nl(1))}),JN(()=>this.afterPreactivation()),(0,gn.U)(v=>{const x=function fW(n,t,e){const i=hM(n,t._root,e?e._root:void 0);return new DV(i,t)}(e.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return this.currentTransition=s={...v,targetRouterState:x},s}),(0,tr.b)(()=>{this.events.next(new BN)}),((n,t,e,i)=>(0,gn.U)(r=>(new xW(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,v=>this.events.next(v),this.inputBindingEnabled),nl(1),(0,tr.b)({next:v=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vg(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects))),e.titleStrategy?.updateTitle(v.targetRouterState.snapshot),v.resolve(!0)},complete:()=>{u=!0}}),Gd(this.transitionAbortSubject.pipe((0,tr.b)(v=>{throw v}))),qS(()=>{u||m||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Lg(v=>{if(m=!0,VV(v))this.events.next(new uM(s.id,this.urlSerializer.serialize(s.extractedUrl),v.message,v.cancellationCode)),function gW(n){return VV(n)&&ay(n.url)}(v)?this.events.next(new jN(v.url)):s.resolve(!1);else{this.events.next(new XS(s.id,this.urlSerializer.serialize(s.extractedUrl),v,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(v))}catch(x){s.reject(x)}}return qf.E}))}))}cancelNavigationTransition(e,i,r){const s=new uM(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function JV(n){return n!==lM}let XV=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===vi);return i}getResolvedTitleForRoute(e){return e.data[iM]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(f9)},providedIn:"root"})}return n})(),f9=(()=>{class n extends XV{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(pt))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),p9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(g9)},providedIn:"root"})}return n})();class m9{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let g9=(()=>{class n extends m9{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}();static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const aP=new o.OlP("",{providedIn:"root",factory:()=>({})});let _9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(v9)},providedIn:"root"})}return n})(),v9=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _M=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(_M||{});function eB(n,t){n.events.pipe(cr(e=>e instanceof Vg||e instanceof uM||e instanceof XS||e instanceof Yb),(0,gn.U)(e=>e instanceof Vg||e instanceof Yb?_M.COMPLETE:e instanceof uM&&(0===e.code||1===e.code)?_M.REDIRECTING:_M.FAILED),cr(e=>e!==_M.REDIRECTING),nl(1)).subscribe(()=>{t()})}function y9(n){throw n}function b9(n,t,e){return t.parse("/")}const w9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},C9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ya=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.f3M)(o.c2e),this.isNgZoneEnabled=!1,this._events=new zn.x,this.options=(0,o.f3M)(aP,{optional:!0})||{},this.pendingTasks=(0,o.f3M)(o.HDt),this.errorHandler=this.options.errorHandler||y9,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||b9,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.f3M)(_9),this.routeReuseStrategy=(0,o.f3M)(p9),this.titleStrategy=(0,o.f3M)(XV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,o.f3M)(tw,{optional:!0})?.flat()??[],this.navigationTransitions=(0,o.f3M)(sP),this.urlSerializer=(0,o.f3M)(oM),this.location=(0,o.f3M)(mt),this.componentInputBindingEnabled=!!(0,o.f3M)(tP,{optional:!0}),this.eventsSubscription=new Wu.w0,this.isNgZoneEnabled=(0,o.f3M)(o.R0b)instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Wb,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=AV(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(tB(i)&&this._events.next(i));if(i instanceof JS)JV(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Yb)this.rawUrlTree=r.rawUrl;else if(i instanceof OV){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof BN)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof uM)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof jN){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||JV(r.source)};this.scheduleNavigation(s,lM,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof XS&&this.restoreHistory(r,!0),i instanceof Vg&&(this.navigated=!0),tB(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),lM,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},u=r?.navigationId?r:null;if(r){const v={...r};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(s.state=v)}const m=this.parseUrl(e);this.scheduleNavigation(m,i,u,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(YN),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:u,queryParamsHandling:m,preserveFragment:v}=i,x=v?this.currentUrlTree.fragment:u;let L,P=null;switch(m){case"merge":P={...this.currentUrlTree.queryParams,...s};break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=s||null}null!==P&&(P=this.removeEmptyProps(P));try{L=wV(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),L=this.currentUrlTree.root}return CV(L,e,P,x??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=ay(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,lM,null,i)}navigate(e,i={skipLocationChange:!1}){return function x9(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new o.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...w9}:!1===i?{...C9}:i,ay(e))return hV(this.currentUrlTree,e,r);const s=this.parseUrl(e);return hV(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,u){if(this.disposed)return Promise.resolve(!1);let m,v,x;u?(m=u.resolve,v=u.reject,x=u.promise):x=new Promise((L,q)=>{m=L,v=q});const P=this.pendingTasks.add();return eB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(P))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:m,reject:v,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(L=>Promise.reject(L))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const u={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",u)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tB(n){return!(n instanceof BN||n instanceof jN)}let Yu=(()=>{class n{constructor(e,i,r,s,u,m){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=u,this.locationStrategy=m,this.href=null,this.commands=null,this.onChanges=new zn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const v=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===v||"area"===v,this.isAnchorElement?this.subscription=e.events.subscribe(x=>{x instanceof Vg&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,o.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Ya),o.Y36(Qb),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Ne))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&o.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&i&&o.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",o.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",o.VuI],replaceUrl:["replaceUrl","replaceUrl",o.VuI],routerLink:"routerLink"},standalone:!0,features:[o.Xq5,o.TTD]})}return n})(),nB=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,r,s,u){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=u,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new o.vpe,this.routerEventsSubscription=e.events.subscribe(m=>{m instanceof Vg&&this.update()})}ngAfterContentInit(){(0,_n.of)(this.links.changes,(0,_n.of)(null)).pipe((0,tM.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Sr.D)(e).pipe((0,tM.J)()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function E9(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Ya),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(Yu,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,s){if(1&i&&o.Suo(s,Yu,5),2&i){let u;o.iGM(u=o.CRH())&&(r.links=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[o.TTD]})}return n})();class iB{}let M9=(()=>{class n{constructor(e,i,r,s,u){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(cr(e=>e instanceof Vg),oy(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,o.MMx)(s.providers,e,`Route: ${s.path}`));const u=s._injector??e,m=s._loadedInjector??u;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(u,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(m,s.children??s._loadedRoutes))}return(0,Sr.D)(r).pipe((0,tM.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,_n.of)(null);const s=r.pipe((0,Ta.z)(u=>null===u?(0,_n.of)(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,Sr.D)([s,u]).pipe((0,tM.J)())}return s})}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Ya),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(iB),o.LFG(XN))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const eF=new o.OlP("");let rB=(()=>{class n{constructor(e,i,r,s,u={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof JS?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Vg?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Yb&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof SV&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new SV(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){o.$Z()};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();function hm(n,t){return{\u0275kind:n,\u0275providers:t}}function sB(){const n=(0,o.f3M)(o.zs3);return t=>{const e=n.get(o.z2F);if(t!==e.components[0])return;const i=n.get(Ya),r=n.get(aB);1===n.get(tF)&&i.initialNavigation(),n.get(cB,null,o.XFs.Optional)?.setUpPreloading(),n.get(eF,null,o.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const aB=new o.OlP("",{factory:()=>new zn.x}),tF=new o.OlP("",{providedIn:"root",factory:()=>1}),cB=new o.OlP("");function S9(n){return hm(0,[{provide:cB,useExisting:M9},{provide:iB,useExisting:n}])}const lB=new o.OlP("ROUTER_FORROOT_GUARD"),D9=[mt,{provide:oM,useClass:NN},Ya,dM,{provide:Qb,useFactory:function oB(n){return n.routerState.root},deps:[Ya]},XN,[]];function A9(){return new o.PXZ("Router",Ya)}let uB=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[D9,[],{provide:tw,multi:!0,useValue:e},{provide:lB,useFactory:F9,deps:[[Ya,new o.FiY,new o.tp0]]},{provide:aP,useValue:i||{}},i?.useHash?{provide:Ne,useClass:st}:{provide:Ne,useClass:lt},{provide:eF,useFactory:()=>{const n=(0,o.f3M)(Er),t=(0,o.f3M)(o.R0b),e=(0,o.f3M)(aP),i=(0,o.f3M)(sP),r=(0,o.f3M)(oM);return e.scrollOffset&&n.setOffset(e.scrollOffset),new rB(r,i,n,t,e)}},i?.preloadingStrategy?S9(i.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:A9},i?.initialNavigation?L9(i):[],i?.bindToComponentInputs?hm(8,[FV,{provide:tP,useExisting:FV}]).\u0275providers:[],[{provide:dB,useFactory:sB},{provide:o.tb,multi:!0,useExisting:dB}]]}}static forChild(e){return{ngModule:n,providers:[{provide:tw,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(lB,8))};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})();function F9(n){return"guarded"}function L9(n){return["disabled"===n.initialNavigation?hm(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const t=(0,o.f3M)(Ya);return()=>{t.setUpLocationChangeListener()}}},{provide:tF,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?hm(2,[{provide:tF,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:t=>{const e=t.get(ut,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(Ya),s=t.get(aB);eB(r,()=>{i(!0)}),t.get(sP).afterPreactivation=()=>(i(!0),s.closed?(0,_n.of)(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const dB=new o.OlP("");let V9=(()=>{class n{constructor(){this.loremIps="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. ",this.more="Tudjon meg t\xf6bbet!",this.ourSunglasses="Forgalmazott napszem\xfcvegek",this.ourFragrances="Forgalmazott parf\xfcm\xf6k",this.hawkers="Tekintse meg leg\xfajabb Hawkers napszem\xfcvegeket sz\xe9les k\xedn\xe1latunkban.",this.goToProducts="Tov\xe1bb a term\xe9kekhez!",this.labella="Minden f\xe9rfit mag\xe1hoz vonz, \xe9s t\xf6k\xe9letes p\xe1rt alkot a Jean Paul Gaultier Le Male Le Parfum f\xe9rfi illattal \u2013 ez a Jean Paul Gaultier La Belle Le Parfum n\u0151i illat, amelynek nagyon neh\xe9z ellen\xe1llni. \xdajabb term\xe9s Jean Paul Gaultier k\xe9pzeletbeli kertj\xe9b\u0151l, ahol minden b\u0171n megengedett.",this.lebeau="A f\xe9rfi Jean Paul Gaultier Le Beau \xfcvegcs\xe9j\xe9nek az alakja egy izmos f\xe9rfitorz\xf3, amelyet csak egy lev\xe9l takar. \xdagy n\xe9z ki, mintha egyenesen a Paradicsomb\xf3l l\xe9pett volna el\u0151. Azonban az \u0151 eset\xe9ben sz\xf3 sincs tiltott gy\xfcm\xf6lcsr\u0151l. Egy\xe9rtelm\u0171en k\xf3stol\xe1sra k\xe9sztet\u0151, friss, f\xfcgg\u0151s\xe9get kiv\xe1lt\xf3 illat.",this.readMore="Olvasson t\xf6bbet a m\xe1rk\xe1r\xf3l!"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const cP=typeof performance<"u"&&typeof performance.now<"u"&&"function"==typeof performance.mark&&"function"==typeof performance.measure&&("function"==typeof performance.clearMarks||"function"==typeof performance.clearMeasures),B9=typeof PerformanceObserver<"u"&&typeof PerformanceObserver.prototype<"u"&&"function"==typeof PerformanceObserver.prototype.constructor,nF="[object process]"===Object.prototype.toString.call(typeof process<"u"?process:0);let lP={},nw={};const iF=()=>cP?performance.now():Date.now(),hB=n=>{lP[n]=void 0,nw[n]&&(nw[n]=void 0),cP&&(nF||performance.clearMeasures(n),performance.clearMarks(n))},fB=n=>{if(cP){if(nF&&B9){const t=new PerformanceObserver(e=>{nw[n]=e.getEntries().find(i=>i.name===n),t.disconnect()});t.observe({entryTypes:["measure"]})}performance.mark(n)}lP[n]=iF()},pB=(n,t)=>{try{const e=lP[n];return cP?(t||performance.mark(`${n}-end`),performance.measure(n,n,t||`${n}-end`),nF?nw[n]?nw[n]:e?{duration:iF()-e,startTime:e,entryType:"measure",name:n}:{}:performance.getEntriesByName(n).pop()||{}):e?{duration:iF()-e,startTime:e,entryType:"measure",name:n}:{}}catch{return{}}finally{hB(n),hB(t||`${n}-end`)}};function j9(n,t){1&n&&o.Hsn(0,0,["*ngIf","appearance  === 'custom-content'"])}const z9=function(n,t,e,i,r){return{"custom-content":n,circle:t,progress:e,"progress-dark":i,pulse:r}};function H9(n,t){if(1&n&&(o.TgZ(0,"div",1),o.YNc(1,j9,1,0,"ng-content",2),o.qZA()),2&n){const e=o.oxw();o.Q6J("ngClass",o.qbA(5,z9,"custom-content"===e.appearance,"circle"===e.appearance,"progress"===e.animation,"progress-dark"===e.animation,"pulse"===e.animation))("ngStyle",e.theme),o.uIk("aria-label",e.ariaLabel)("aria-valuetext",e.loadingText),o.xp6(1),o.Q6J("ngIf","custom-content"===e.appearance)}}const $9=["*"],mB=new o.OlP("ngx-skeleton-loader.config");let fm=(()=>{class n{constructor(e){this.config=e;const{appearance:i="line",animation:r="progress",theme:s=null,loadingText:u="Loading...",count:m=1,ariaLabel:v="loading"}=e||{};this.appearance=i,this.animation=r,this.theme=s,this.loadingText=u,this.count=m,this.items=[],this.ariaLabel=v}ngOnInit(){fB("NgxSkeletonLoader:Rendered"),fB("NgxSkeletonLoader:Loaded"),this.validateInputValues()}validateInputValues(){/^\d+$/.test(`${this.count}`)||((0,o.X6Q)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'count' a numeric value. Forcing default to \"1\"."),this.count=1),"custom-content"===this.appearance&&(0,o.X6Q)()&&1!==this.count&&(console.error('`NgxSkeletonLoaderComponent` enforces elements with "custom-content" appearance as DOM nodes. Forcing "count" to "1".'),this.count=1),this.items.length=this.count;const e=["progress","progress-dark","pulse","false"];-1===e.indexOf(String(this.animation))&&((0,o.X6Q)()&&console.error(`\`NgxSkeletonLoaderComponent\` need to receive 'animation' as: ${e.join(", ")}. Forcing default to "progress".`),this.animation="progress"),-1===["circle","line","custom-content",""].indexOf(String(this.appearance))&&((0,o.X6Q)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'appearance' as: circle or line or custom-content or empty string. Forcing default to \"''\"."),this.appearance=""),this.config?.theme?.extendsFromRoot&&null!==this.theme&&(this.theme={...this.config.theme,...this.theme})}ngOnChanges(e){["count","animation","appearance"].find(i=>e[i]&&(e[i].isFirstChange()||e[i].previousValue===e[i].currentValue))||this.validateInputValues()}ngAfterViewInit(){pB("NgxSkeletonLoader:Rendered")}ngOnDestroy(){pB("NgxSkeletonLoader:Loaded")}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(mB,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ngx-skeleton-loader"]],inputs:{count:"count",loadingText:"loadingText",appearance:"appearance",animation:"animation",ariaLabel:"ariaLabel",theme:"theme"},features:[o.TTD],ngContentSelectors:$9,decls:1,vars:1,consts:[["class","skeleton-loader","aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","0",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],["aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","0",1,"skeleton-loader",3,"ngClass","ngStyle"],[4,"ngIf"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,H9,2,11,"div",0)),2&e&&o.Q6J("ngForOf",i.items)},dependencies:[vo,Ln,ci,Qo],styles:['.skeleton-loader[_ngcontent-%COMP%]{box-sizing:border-box;overflow:hidden;position:relative;background:rgb(239,241,246) no-repeat;border-radius:4px;width:100%;height:20px;display:inline-block;margin-bottom:10px;will-change:transform}.skeleton-loader[_ngcontent-%COMP%]:after, .skeleton-loader[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.circle[_ngcontent-%COMP%]{width:40px;height:40px;margin:5px;border-radius:50%}.skeleton-loader.progress[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%]{transform:translateZ(0)}.skeleton-loader.progress[_ngcontent-%COMP%]:after, .skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:after, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progress 2s ease-in-out infinite;background-size:200px 100%;position:absolute;z-index:1;top:0;left:0;width:200px;height:100%;content:""}.skeleton-loader.progress[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,rgba(255,255,255,0),rgba(255,255,255,.6),rgba(255,255,255,0))}.skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,transparent,rgba(0,0,0,.2),transparent)}.skeleton-loader.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;animation-delay:.5s}.skeleton-loader.custom-content[_ngcontent-%COMP%]{height:100%;background:none}@media (prefers-reduced-motion: reduce){.skeleton-loader.pulse[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%], .skeleton-loader.progress[_ngcontent-%COMP%]{animation:none}.skeleton-loader.progress[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%]{background-image:none}}@keyframes _ngcontent-%COMP%_progress{0%{transform:translate3d(-200px,0,0)}to{transform:translate3d(calc(200px + 100vw),0,0)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}'],changeDetection:0}),n})(),gB=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:mB,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Ii]}),n})();const q9=function(n){return{"image-active":n}};function G9(n,t){if(1&n&&o._UZ(0,"img",6),2&n){const e=t.$implicit,i=t.index,r=o.oxw(2);o.Q6J("src",e.imageSrc,o.LSH)("alt",e.imageAlt)("ngClass",o.VKq(3,q9,r.selectedIndex===i))}}const Z9=function(n){return{active:n}};function W9(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"span",9),o.NdJ("click",function(){const s=o.CHM(e).index,u=o.oxw(3);return o.KtG(u.selectImage(s))}),o.qZA()}if(2&n){const e=t.index,i=o.oxw(3);o.Q6J("ngClass",o.VKq(1,Z9,i.selectedIndex===e))}}function Y9(n,t){if(1&n&&(o.TgZ(0,"div",7),o.YNc(1,W9,1,3,"span",8),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",e.images)}}function K9(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",10)(1,"i",11),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.onPrevClick())}),o.qZA()()}}function Q9(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",12)(1,"i",13),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.onNextClick())}),o.qZA()()}}function J9(n,t){if(1&n&&(o.TgZ(0,"div",1),o.YNc(1,G9,1,5,"img",2),o.YNc(2,Y9,2,1,"div",3),o.YNc(3,K9,2,0,"div",4),o.YNc(4,Q9,2,0,"div",5),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.images),o.xp6(1),o.Q6J("ngIf",e.indicators),o.xp6(1),o.Q6J("ngIf",e.controls),o.xp6(1),o.Q6J("ngIf",e.controls)}}let X9=(()=>{class n{constructor(){this.images=[],this.indicators=!0,this.controls=!0,this.autoSlide=!1,this.slideInterval=3e3,this.contentLoaded=!1,this.selectedIndex=0}ngOnInit(){this.autoSlide&&this.autoSlideImages(),setTimeout(()=>{this.contentLoaded=!0},2e3)}autoSlideImages(){setInterval(()=>{this.onNextClick()},this.slideInterval)}selectImage(e){this.selectedIndex=e}onPrevClick(){0===this.selectedIndex?this.selectedIndex=this.images.length-1:this.selectedIndex--}onNextClick(){this.selectedIndex===this.images.length-1?this.selectedIndex=0:this.selectedIndex++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-carousel"]],inputs:{images:"images",indicators:"indicators",controls:"controls",autoSlide:"autoSlide",slideInterval:"slideInterval"},decls:1,vars:1,consts:[["class","carousel-container",4,"ngIf"],[1,"carousel-container"],["class","fade",3,"src","alt","ngClass",4,"ngFor","ngForOf"],["class","carousel-dot-container",4,"ngIf"],["class","btn-carousel btn-prev",4,"ngIf"],["class","btn-carousel btn-next",4,"ngIf"],[1,"fade",3,"src","alt","ngClass"],[1,"carousel-dot-container"],["class","dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dot",3,"ngClass","click"],[1,"btn-carousel","btn-prev"],[1,"fas","fa-arrow-circle-left","icon-carousel","icon-prev",3,"click"],[1,"btn-carousel","btn-next"],[1,"fas","fa-arrow-circle-right","icon-carousel","icon-next",3,"click"]],template:function(i,r){1&i&&o.YNc(0,J9,5,4,"div",0),2&i&&o.Q6J("ngIf",r.images&&r.images.length>0)},dependencies:[vo,Ln,ci],styles:[".carousel-container[_ngcontent-%COMP%]{position:relative;margin:auto;text-align:center;width:auto;max-width:1100px;border-radius:0}.carousel-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}.carousel-container[_ngcontent-%COMP%]   img.image-active[_ngcontent-%COMP%]{display:block;width:100%;height:100%}.carousel-dot-container[_ngcontent-%COMP%]{position:absolute;right:0;left:0;bottom:0;display:flex;justify-content:center;padding:0;margin-bottom:1rem}.dot[_ngcontent-%COMP%]{cursor:pointer;height:13px;width:13px;margin:0 5px;background-color:#fff;border-radius:50%;display:inline-block;transition:opacitiy .6s ease;opacity:.5}.active[_ngcontent-%COMP%], .dot[_ngcontent-%COMP%]:hover{opacity:1}.fade[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fade;animation-duration:.7s}@keyframes _ngcontent-%COMP%_fade{0%{opacity:.8}to{opacity:1}}.btn-carousel[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:0 0;cursor:pointer}.icon-carousel[_ngcontent-%COMP%]{opacity:.5;transition:all .15s ease}.icon-carousel[_ngcontent-%COMP%]:hover{color:#fff;opacity:.9}.icon-carousel[_ngcontent-%COMP%]:active{opacity:.5}.icon-prev[_ngcontent-%COMP%], .icon-next[_ngcontent-%COMP%]{font-size:35px}.btn-prev[_ngcontent-%COMP%]{left:0}.btn-next[_ngcontent-%COMP%]{right:0}"]})}return n})(),e8=(()=>{class n{constructor(){this.text=""}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-custom-button"]],inputs:{text:"text"},decls:2,vars:1,consts:[[1,"custom-button"]],template:function(i,r){1&i&&(o.TgZ(0,"button",0),o._uU(1),o.qZA()),2&i&&(o.xp6(1),o.Oqu(r.text))},styles:['.custom-button[_ngcontent-%COMP%]{margin-top:20px;width:auto;height:45px;font-size:20px;cursor:pointer;border:none;outline:none;background:transparent;color:#fff;font-weight:700;position:relative;transition:all .5s;z-index:1}.custom-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-10px;width:5px;height:100%;background-color:#fff;z-index:-1;transition:all .5s}.custom-button[_ngcontent-%COMP%]:hover:before{width:110%}.custom-button[_ngcontent-%COMP%]:hover{color:#000}.custom-button[_ngcontent-%COMP%]:active:before{background:#b9b9b9}@media screen and (max-width: 768px){.custom-button[_ngcontent-%COMP%]{height:35px;font-size:15px}}']})}return n})();const t8=function(){return{width:"100%",height:"500px"}};function n8(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",28),2&n&&o.Q6J("theme",o.DdM(1,t8))}const _B=function(){return{width:"100%",height:"20px",marginBottom:"10px"}};function i8(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",28),2&n&&o.Q6J("theme",o.DdM(1,_B))}const r8=function(){return{width:"50px",height:"50px",marginRight:"10px"}};function o8(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",29),2&n&&o.Q6J("theme",o.DdM(1,r8))}const s8=function(){return{width:"80%",height:"20px",marginBottom:"10px"}};function a8(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",28),2&n&&o.Q6J("theme",o.DdM(1,s8))}const c8=function(){return{width:"150px",height:"20px",marginBottom:"10px"}};function l8(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",28),2&n&&o.Q6J("theme",o.DdM(1,c8))}function u8(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",28),2&n&&o.Q6J("theme",o.DdM(1,_B))}function d8(n,t){1&n&&o._UZ(0,"img",30)}function h8(n,t){1&n&&o._UZ(0,"img",31)}function f8(n,t){1&n&&o._UZ(0,"img",32)}const uP=function(){return["/"]};let p8=(()=>{class n{constructor(e,i,r){this.textService=e,this.elementRef=i,this.renderer=r,this.contentLoaded=!1,this.screenWidth=0,this.images=[{imageSrc:"./assets/images/commercial/scandal_commercial_ps_copy.jpg",imageAlt:"scandal"},{imageSrc:"./assets/images/commercial/dior_commercial_ps_copy.jpg",imageAlt:"sauvage"}],this.mobileImages=[{imageSrc:"./assets/images/commercial/scandal_commercial_mobile_ps_copy.jpg"},{imageSrc:"./assets/images/commercial/dior_commercial_mobile_ps_copy.jpg"}],this.currentImages=this.images,this.updateImagesBasedOnScreenWidth()}ngOnInit(){setTimeout(()=>{this.contentLoaded=!0},1500)}checkScroll(){const e=this.elementRef.nativeElement.querySelector("#remove-brightness"),i=this.elementRef.nativeElement.querySelector("#first-text-animation"),r=this.elementRef.nativeElement.querySelector("#delayed-element");(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)+window.innerHeight>=e.offsetTop&&(this.renderer.addClass(e,"a-remove-brightness"),this.renderer.addClass(i,"a-first-text"),this.renderer.addClass(r,"a-delayed"))}onResize(e){this.updateImagesBasedOnScreenWidth()}updateImagesBasedOnScreenWidth(){this.screenWidth=window.innerWidth,this.currentImages=this.screenWidth<700?this.mobileImages:this.images}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(V9),o.Y36(o.SBq),o.Y36(o.Qsj))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-dashboard"]],hostBindings:function(i,r){1&i&&o.NdJ("scroll",function(u){return r.checkScroll(u)},!1,o.Jf7)("resize",function(u){return r.onResize(u)},!1,o.Jf7)},decls:42,vars:31,consts:[["appearance","line",3,"theme",4,"ngIf"],["appearance","circle",3,"theme",4,"ngIf"],[3,"images","autoSlide"],[1,"dashboard-container"],[1,"commercial-container"],[1,"brand-container"],[1,"brand-text"],[1,"brands"],["src","./assets/images/commercial/hawkers_logo.png",1,"hawkers",3,"routerLink"],[1,"commercial-first"],["id","first-text-animation",1,"first-text"],["id","delayed-element","routerLink","/products/"],["class","commercial-img","id","remove-brightness","src","./assets/images/commercial/mainpage_commercial1.jpg","alt","",4,"ngIf"],["class","commercial-img","id","remove-brightness","src","./assets/images/commercial/mainpage_commercial_mobile_copy.jpg",4,"ngIf"],["class","commercial-img","id","remove-brightness","src","./assets/images/commercial/mainpage_commercial_mobile_512.png","alt","",4,"ngIf"],[1,"fragrances-text"],["src","./assets/images/commercial/dior_logo.png",1,"dior",3,"routerLink"],["src","./assets/images/commercial/jpg_logo.png",1,"jpg",3,"routerLink"],["src","./assets/images/commercial/lancome_logo.png",1,"lancome",3,"routerLink"],[1,"commercial-second-container-1"],[1,"image-container-1"],["src","./assets/images/commercial/commercial_labella_copy_1.jpg","alt","",1,"commercial-second-img-1"],[1,"common-text-2-container"],[1,"second-text-1"],["routerLink","/brand-jeanpaulgaultier/",3,"text"],[1,"image-container-2"],["src","./assets/images/commercial/lebauraw.jpg",1,"commercial-second-img-2"],[1,"second-text-2"],["appearance","line",3,"theme"],["appearance","circle",3,"theme"],["id","remove-brightness","src","./assets/images/commercial/mainpage_commercial1.jpg","alt","",1,"commercial-img"],["id","remove-brightness","src","./assets/images/commercial/mainpage_commercial_mobile_copy.jpg",1,"commercial-img"],["id","remove-brightness","src","./assets/images/commercial/mainpage_commercial_mobile_512.png","alt","",1,"commercial-img"]],template:function(i,r){1&i&&(o.YNc(0,n8,1,2,"ngx-skeleton-loader",0),o.YNc(1,i8,1,2,"ngx-skeleton-loader",0),o.YNc(2,o8,1,2,"ngx-skeleton-loader",1),o.YNc(3,a8,1,2,"ngx-skeleton-loader",0),o.YNc(4,l8,1,2,"ngx-skeleton-loader",0),o.YNc(5,u8,1,2,"ngx-skeleton-loader",0),o._UZ(6,"app-carousel",2),o.TgZ(7,"div",3)(8,"div",4)(9,"div",5)(10,"div",6),o._uU(11),o.qZA(),o.TgZ(12,"div",7),o._UZ(13,"img",8),o.qZA()(),o.TgZ(14,"div",9)(15,"div",10),o._uU(16),o.TgZ(17,"button",11),o._uU(18),o.qZA()(),o.YNc(19,d8,1,0,"img",12),o.YNc(20,h8,1,0,"img",13),o.YNc(21,f8,1,0,"img",14),o.qZA(),o.TgZ(22,"div",5)(23,"div",15),o._uU(24),o.qZA(),o.TgZ(25,"div",7),o._UZ(26,"img",16)(27,"img",17)(28,"img",18),o.qZA()(),o.TgZ(29,"div",19)(30,"div",20),o._UZ(31,"img",21),o.TgZ(32,"div",22)(33,"div",23),o._uU(34),o._UZ(35,"app-custom-button",24),o.qZA()()(),o.TgZ(36,"div",25),o._UZ(37,"img",26),o.TgZ(38,"div",22)(39,"div",27),o._uU(40),o._UZ(41,"app-custom-button",24),o.qZA()()()()()()),2&i&&(o.Q6J("ngIf",!r.contentLoaded),o.xp6(1),o.Q6J("ngIf",!r.contentLoaded),o.xp6(1),o.Q6J("ngIf",!r.contentLoaded),o.xp6(1),o.Q6J("ngIf",!r.contentLoaded),o.xp6(1),o.Q6J("ngIf",!r.contentLoaded),o.xp6(1),o.Q6J("ngIf",!r.contentLoaded),o.xp6(1),o.Udp("display",r.contentLoaded?"block":"none"),o.Q6J("images",r.currentImages)("autoSlide",!0),o.xp6(1),o.Udp("display",r.contentLoaded?"block":"none"),o.xp6(4),o.hij(" ",r.textService.ourSunglasses," "),o.xp6(2),o.Q6J("routerLink",o.DdM(27,uP)),o.xp6(3),o.hij("",r.textService.hawkers," "),o.xp6(2),o.Oqu(r.textService.goToProducts),o.xp6(1),o.Q6J("ngIf",r.screenWidth>=768),o.xp6(1),o.Q6J("ngIf",r.screenWidth<768&&r.screenWidth>512),o.xp6(1),o.Q6J("ngIf",r.screenWidth<512),o.xp6(3),o.hij(" ",r.textService.ourFragrances," "),o.xp6(2),o.Q6J("routerLink",o.DdM(28,uP)),o.xp6(1),o.Q6J("routerLink",o.DdM(29,uP)),o.xp6(1),o.Q6J("routerLink",o.DdM(30,uP)),o.xp6(6),o.hij("",r.textService.labella," "),o.xp6(1),o.Q6J("text",r.textService.more),o.xp6(5),o.hij("",r.textService.lebeau," "),o.xp6(1),o.Q6J("text",r.textService.more))},dependencies:[ci,Yu,fm,X9,e8],styles:['.a-remove-brightness[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_removeBrightness 1s ease forwards}.a-delayed[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeIn 1s ease forwards;animation-delay:1.5s}.a-first-text[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeIn 1s ease forwards;animation-delay:1s;pointer-events:none}.a-second-text[_ngcontent-%COMP%], .a-third-text[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeIn 1s ease forwards;animation-delay:2s}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;pointer-events:none}to{pointer-events:auto;opacity:1}}@keyframes _ngcontent-%COMP%_removeBrightness{0%{filter:brightness(90%)}to{filter:brightness(10%)}}@keyframes _ngcontent-%COMP%_addBlur{0%{filter:blur(0px)}to{filter:blur(10px)}}.dashboard-container[_ngcontent-%COMP%]{background-color:#eae7e6}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;align-items:center}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]{background:#1C202B;color:#fff;border-radius:.625rem;margin:40px 0 20px;height:auto;font-size:20px;font-weight:700;padding:20px 40px;-webkit-user-select:none;user-select:none}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]{background-color:transparent;height:100px;margin-top:10px;width:auto;overflow:hidden;color:#fff;justify-content:space-between}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .dior[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .jpg[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .lancome[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .hawkers[_ngcontent-%COMP%]{transition:all .3s;cursor:pointer;height:100px;filter:brightness(150%)}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .dior[_ngcontent-%COMP%]:hover, .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .jpg[_ngcontent-%COMP%]:hover, .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .lancome[_ngcontent-%COMP%]:hover, .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .hawkers[_ngcontent-%COMP%]:hover{filter:brightness(250%)}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .fragrances-text[_ngcontent-%COMP%]{text-align:center;width:auto;margin:40px auto 10px;background:#1C202B;color:#fff;border-radius:.625rem;height:auto;font-size:20px;font-weight:700;padding:20px 40px;-webkit-user-select:none;user-select:none}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]   .first-text[_ngcontent-%COMP%]{position:absolute;z-index:2;color:#fff;top:50%;font-size:18px;margin:0 10px;text-align:center;justify-content:center;align-items:center}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]   .commercial-img[_ngcontent-%COMP%]{margin-top:10px;max-width:1300px;width:auto;overflow:hidden;filter:brightness(50%);transition:all .4s ease-in-out}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]   .commercial-img[_ngcontent-%COMP%]:hover{filter:brightness(30%);transition:all .4s ease-in-out}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;-webkit-user-select:none;user-select:none}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]{width:50%;position:relative}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transition:all .5s ease-out;transition-delay:.05s;opacity:0;width:100%;height:100%;padding:0}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]:hover, .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]:hover{opacity:1;background-color:#000000b2}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-2[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-2[_ngcontent-%COMP%]{z-index:100;color:#fff;font-size:14px;font-style:italic;margin:15px;position:absolute;top:35%;text-align:center;display:flex;flex-direction:column;opacity:1;filter:brightness(100%)}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-1[_ngcontent-%COMP%]   app-custom-button[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-2[_ngcontent-%COMP%]   app-custom-button[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-1[_ngcontent-%COMP%]   app-custom-button[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-2[_ngcontent-%COMP%]   app-custom-button[_ngcontent-%COMP%]{width:auto;margin:0 auto}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .commercial-second-img-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .commercial-second-img-2[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .commercial-second-img-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .commercial-second-img-2[_ngcontent-%COMP%]{width:100%;height:auto;max-height:100%}@media screen and (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;align-items:center}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]{font-size:15px}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]{height:auto}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .dior[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .jpg[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .lancome[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .hawkers[_ngcontent-%COMP%]{transition:all .3s;cursor:pointer;height:100px;flex:1}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]   .first-text[_ngcontent-%COMP%]{min-width:80%;font-size:18px;top:50%;-webkit-user-select:none;user-select:none}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]   .first-text[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:15px;padding:15px 30px;margin-top:50px;margin-left:30px}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]   .commercial-img[_ngcontent-%COMP%]{width:100%;margin-top:0;filter:brightness(50%)}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .fragrances-text[_ngcontent-%COMP%]{font-size:15px}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]{display:block}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]{width:200%}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-2[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-2[_ngcontent-%COMP%]{top:10%;font-size:12px;overflow:auto}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .commercial-second-img-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .commercial-second-img-2[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .commercial-second-img-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .commercial-second-img-2[_ngcontent-%COMP%]{width:200%;height:auto;max-height:auto;transition:all .4s ease-in-out}}button[_ngcontent-%COMP%]{margin-top:40px;z-index:2;color:#fff;display:block;width:-moz-fit-content;width:fit-content;height:auto;outline:none;border:none;background-color:inherit;font-size:20px;font-weight:700;padding:20px 40px;position:relative;cursor:pointer}button[_ngcontent-%COMP%]:before{content:"";display:block;width:100%;height:100%;z-index:3;position:absolute;top:0%;left:0%;transform:scaleX(.2) scaleY(.5) translate(250%,100%);border-top:solid 4px white;border-left:solid 8px white;transition:all .4s ease-in-out}button[_ngcontent-%COMP%]:after{content:"";display:block;width:100%;height:100%;z-index:3;position:absolute;top:0;left:0;transform:translate(-50%,-50%) scaleX(.2) scaleY(.5);border-bottom:solid 4px white;border-right:solid 8px white;transition:all .4s ease-in-out}button[_ngcontent-%COMP%]:hover:before{transform:translate(0) scaleX(1) scaleY(1);border-top:solid 4px white;border-left:solid 4px white}button[_ngcontent-%COMP%]:hover:after{transform:scaleX(1) scaleY(1) translate(0);border-bottom:solid 4px white;border-right:solid 4px white}']})}return n})();Q(4467);const vM=[{routerLink:"dashboard",icon:"fal fa-home",label:"F\u0151oldal"},{routerLink:"products",icon:"fal fa-duotone fa-glasses",label:"Napszem\xfcvegek"},{routerLink:"accessories",icon:"fal fa-gem",label:"Kieg\xe9sz\xedt\u0151k"},{routerLink:"fragrances",icon:" fa fa-spray-can-sparkles",label:"Parf\xfcm\xf6k"},{routerLink:"media",icon:"fal fa-camera",label:"Media"},{routerLink:"user",icon:"fal fa-user",label:"Profil"},{routerLink:"shopping-cart",icon:"fal fa-cart-shopping",label:"Kos\xe1r",badge:0}];let ta=(()=>{class n{constructor(e){this.fs=e,this.cartItems=[],this.currentProduct=[],this.placedOrder=!1}getCollectionData(e){let i=Hd(this.fs,e);return ys(i,{idField:"id"})}refreshData(e,i){e().subscribe(r=>{for(const s of r)i.some(u=>u.id===s.id)||i.push(s)})}getHawkers(){return this.getCollectionData("hawkers")}getJPG(){return this.getCollectionData("JPG")}getOrders(){return this.getCollectionData("*orders")}getUsers(){return this.getCollectionData("*users")}addToCartService(e){const i={selectedPrice:this.selectedSizePrice,selectedColor:this.selectedColor,selectedSize:this.selectedSize},r=this.cartItems.find(u=>u.product.productName===e.productName&&u.selectedPrice===i.selectedPrice&&u.color===i.selectedColor&&u.size===i.selectedSize);this.cartItems=this.getCartItems(),console.log("Cart items before modification:",this.cartItems),console.log("cartItem.product.productName: ",this.cartItems.find(u=>u.product.productName)),console.log("newItem.selectedPrice: ",i.selectedPrice),console.log("newItem.selectedColor: ",i.selectedColor),console.log("item.productName: ",e.productName),console.log("this.cartitems: ",this.cartItems),console.log("cartItem.product.productName \xe9rt\xe9ke: ",this.cartItems),r?r.quantity<5&&r.quantity++:(this.cartItems.push({product:e,quantity:1,selectedPrice:this.selectedSizePrice,size:this.selectedSize||null,color:this.selectedColor||null,selectedImage:this.currentImage||null}),console.log("this.selectedSizePrice: ",this.selectedSizePrice),console.log("this.selectedSize : ",this.selectedSize),console.log("selectedImage , currentImage : ",this.currentImage));const s=vM.find(u=>"shopping-cart"===u.routerLink);if(s){const u=this.cartItems.reduce((m,v)=>m+v.quantity,0);s.badge=u}console.log("Cart items after modification:",this.cartItems)}selectItem(e){this.selectedSize=e.size||null,this.selectedSizePrice=e.price,console.log("kiv\xe1lasztott \xe1r: ",e.price),console.log("kiv\xe1lasztott kiszerel\xe9s: ",e.size)}selectColor(e){this.selectedColor=e.color||null,this.currentImage=e.selectedImage||null,this.shippingImage=e.selectedImage||null,console.log("item.selectedimage",e.selectedImage),console.log("shipping image: ",this.shippingImage)}changeMainImage(e){this.shippingImage=e,console.log(" this shippingimage = imagePath value: ",this.shippingImage)}getCurrentProduct(e){return this.currentProduct.push([e]),this.currentProduct}getCartItems(){return this.cartItems}clearCart(){this.cartItems=[];const e=vM.find(i=>"shopping-cart"===i.routerLink);e&&(e.badge=0)}getSelectedPrice(){return console.log("valami",this.selectedSizePrice),this.selectedSizePrice}exit(){window.location.reload()}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(zd))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zd=(()=>{class n{constructor(e,i,r){this.rendererFactory=e,this.services=i,this.firestore=r,this.isAllChecked=!0,this.isDiorChecked=!1,this.isLancomeChecked=!1,this.isJPGChecked=!1,this.isWomanChecked=!1,this.isManChecked=!1,this.isModalOpen=!1,this.isFilterChecked=!1,this.fragrances$=ys(Hd(this.firestore,"fragrances")),this.manFragrances$=ys(Wa(Hd(this.firestore,"fragrances"),fo("gender","==","man"))),this.womanFragrances$=ys(Wa(Hd(this.firestore,"fragrances"),fo("gender","==","woman"))),this.diorQuery$=ys(Wa(Hd(this.firestore,"fragrances"),fo("brand","==","Dior"))),this.lancomeQuery$=ys(Wa(Hd(this.firestore,"fragrances"),fo("brand","==","Lancome"))),this.JPGQuery$=ys(Wa(Hd(this.firestore,"fragrances"),fo("brand","==","Jean Paul Gaultier"))),this.renderer=e.createRenderer(null,null)}filterCheck(){this.isFilterChecked=!this.isFilterChecked}onCheckboxChange(e){"isAllChecked"===e&&(this.isAllChecked=!0,this.isDiorChecked=!1,this.isLancomeChecked=!1,this.isJPGChecked=!1,this.isWomanChecked=!1,this.isManChecked=!1),("isDiorChecked"===e||"isLancomeChecked"===e||"isJPGChecked"===e||"isWomanChecked"===e||"isManChecked"===e)&&(this.isAllChecked=!(this.isDiorChecked||this.isLancomeChecked||this.isJPGChecked||this.isWomanChecked||this.isManChecked));const i=Hd(this.firestore,"fragrances");!0===this.isManChecked&&(this.diorQuery$=ys(Wa(i,fo("gender","==","man"),fo("brand","==","Dior"))),this.lancomeQuery$=ys(Wa(i,fo("gender","==","man"),fo("brand","==","Lancome"))),this.JPGQuery$=ys(Wa(i,fo("gender","==","man"),fo("brand","==","Jean Paul Gaultier"))),this.manFragrances$=ys(!0===this.isManChecked&&(this.isDiorChecked||this.isLancomeChecked||this.isJPGChecked)?Wa(i,fo("gender","==","man"),fo("brand","==","*")):Wa(i,fo("gender","==","man")))),!0===this.isWomanChecked&&(this.diorQuery$=ys(Wa(i,fo("gender","==","woman"),fo("brand","==","Dior"))),this.lancomeQuery$=ys(Wa(i,fo("gender","==","woman"),fo("brand","==","Lancome"))),this.JPGQuery$=ys(Wa(i,fo("gender","==","woman"),fo("brand","==","Jean Paul Gaultier"))),this.womanFragrances$=ys(!0===this.isWomanChecked&&(this.isDiorChecked||this.isLancomeChecked||this.isJPGChecked)?Wa(i,fo("gender","==","woman"),fo("brand","==","*")):Wa(i,fo("gender","==","woman")))),!1===this.isWomanChecked&&!1===this.isManChecked&&(this.diorQuery$=ys(Wa(i,fo("brand","==","Dior"))),this.lancomeQuery$=ys(Wa(i,fo("brand","==","Lancome"))),this.JPGQuery$=ys(Wa(i,fo("brand","==","Jean Paul Gaultier"))))}mouseOver(e){e.imagePath=e.modalImagePath[1]}mouseLeave(e){e.imagePath=e.modalImagePath[0]}openModal(e){this.selectedProduct=e,this.isModalOpen=!0,console.log("Kiv\xe1lasztott term\xe9k:",e),this.renderer.setStyle(document.body,"overflow","hidden"),e.type&&e.type.length>0&&this.services.selectItem(e.type[0]),e.colorType&&e.colorType.length>0&&this.services.selectColor(e.colorType[0])}closeModal(){this.renderer.removeStyle(document.body,"overflow"),this.isModalOpen=!1}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(o.FYo),o.LFG(ta),o.LFG(zd))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iw=(()=>{class n{constructor(e,i,r,s){this.rendererFactory=e,this.services=i,this.firestore=r,this.productService=s,this.screenWidthChanged=new o.vpe,this.closeModalEvent=new o.vpe,this.screenWidth=0,this.currentImage="",this.showDetailsBox=!1,this.renderer=e.createRenderer(null,null),this.updateScreenWidth(),window.addEventListener("resize",()=>this.updateScreenWidth())}updateScreenWidth(){this.screenWidth=window.innerWidth,this.screenWidthChanged.emit(this.screenWidth)}disableScroll(){this.renderer.setStyle(document.body,"overflow","hidden")}enableScroll(){this.renderer.removeStyle(document.body,"overflow")}showDetails(){this.showDetailsBox=!this.showDetailsBox}changeMainImage(e){this.currentImage=e,console.log("imagePath value: ",e)}closeModal(){this.closeModalEvent.emit(),this.services.selectedSize=null,this.services.selectedSizePrice=null,this.services.selectedColor=null,console.log("bez\xe1rt modal \xe9rt\xe9ke: ",this.services.selectedSize,this.services.selectedSizePrice,this.services.selectedColor),this.renderer.removeStyle(document.body,"overflow"),this.productService.isModalOpen=!1,this.showDetailsBox=!1,this.services.currentImage=""}addToCart(e){this.services.addToCartService(e),this.closeModal()}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(o.FYo),o.LFG(ta),o.LFG(zd),o.LFG(Zd))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function m8(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"img",19),o.NdJ("mouseover",function(){const s=o.CHM(e).$implicit,u=o.oxw();return o.KtG(u.modalService.changeMainImage(s))}),o.qZA()()}if(2&n){const e=t.$implicit;o.xp6(1),o.Q6J("src",e,o.LSH)}}function g8(n,t){1&n&&(o.TgZ(0,"i",20),o._uU(1,"Kattintson a r\xe9szletek\xe9rt!"),o.qZA())}function _8(n,t){if(1&n&&(o.TgZ(0,"div",21),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij(" ",e.product.description," ")}}function v8(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",22)(1,"div",23)(2,"p",24),o._uU(3),o.qZA(),o.TgZ(4,"p",24),o._uU(5),o.qZA(),o.TgZ(6,"p",11),o._uU(7),o.qZA(),o.TgZ(8,"button",25),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.modalService.showDetails())}),o._UZ(9,"i",17),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(3),o.hij("Keret: ",e.product.composition.frame,""),o.xp6(2),o.hij("Lencse: ",e.product.composition.lens," "),o.xp6(2),o.hij("Term\xe9kjellemz\u0151: ",e.product.description," ")}}const y8=function(){return{display:"block"}};let b8=(()=>{class n{constructor(e,i,r){this.productService=e,this.modalService=i,this.services=r}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Zd),o.Y36(iw),o.Y36(ta))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-modal-products"]],inputs:{product:"product"},decls:28,vars:11,consts:[[1,"modal-container"],[1,"modal-content"],[1,"left-section"],[1,"product-name"],[1,"product-price"],[1,"modal-image",3,"src"],[1,"modal-image-selection-container"],[4,"ngFor","ngForOf"],[1,"right-section"],[1,"composition-container"],[1,"composition-description"],[1,"comp-desc-p"],[1,"composition-description",3,"ngStyle","click"],["class","mobile-comp-desc-i",4,"ngIf"],["class","comp-desc-p-details",4,"ngIf"],[1,"cart-btn",3,"click"],[1,"close-btn",3,"click"],[1,"fal","fa-times","close-icon"],["class","mobile-comp-desc-details-container",4,"ngIf"],["alt","Image",1,"modal-image-selection",3,"src","mouseover"],[1,"mobile-comp-desc-i"],[1,"comp-desc-p-details"],[1,"mobile-comp-desc-details-container"],[1,"mobile-comp-desc-details"],[1,"mobile-comp-desc-p"],[1,"close-comp-desc-details-btn",3,"click"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o._uU(4),o.qZA(),o.TgZ(5,"div",4),o._uU(6),o.qZA(),o._UZ(7,"img",5),o.TgZ(8,"div",6),o.YNc(9,m8,2,1,"div",7),o.qZA()(),o.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"p",11),o._uU(14),o.qZA()(),o.TgZ(15,"div",10)(16,"p",11),o._uU(17),o.qZA()(),o.TgZ(18,"div",12),o.NdJ("click",function(){return r.modalService.showDetails()}),o.TgZ(19,"p",11),o._uU(20,"Term\xe9kjellemz\u0151: "),o.YNc(21,g8,2,0,"i",13),o.qZA(),o.YNc(22,_8,2,1,"div",14),o.qZA()(),o.TgZ(23,"div",15),o.NdJ("click",function(){return r.modalService.addToCart(r.product)}),o._uU(24," Hozz\xe1ad\xe1s a kos\xe1rhoz"),o.qZA()(),o.TgZ(25,"button",16),o.NdJ("click",function(){return r.modalService.closeModal()}),o._UZ(26,"i",17),o.qZA(),o.YNc(27,v8,10,3,"div",18),o.qZA()()),2&i&&(o.xp6(4),o.hij(" ",r.product.productName,""),o.xp6(2),o.hij("",r.product.price," Ft"),o.xp6(1),o.Q6J("src",r.modalService.currentImage||r.product.modalImagePath[0],o.LSH),o.xp6(2),o.Q6J("ngForOf",r.product.modalImagePath),o.xp6(5),o.hij("Keret: ",r.product.composition.frame," "),o.xp6(3),o.hij("Lencse: ",r.product.composition.lens," "),o.xp6(1),o.Q6J("ngStyle",o.DdM(10,y8)),o.xp6(3),o.Q6J("ngIf",r.modalService.screenWidth<=800),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>800),o.xp6(5),o.Q6J("ngIf",r.modalService.showDetailsBox&&r.modalService.screenWidth<=800))},dependencies:[Ln,ci,Qo],styles:['@charset "UTF-8";.modal-container[_ngcontent-%COMP%]{background-color:#00000080;display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:calc(100% - 5rem);margin-left:5rem;transition:all .5s ease;height:100%;z-index:1000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 10px #0003;width:900px;height:700px;position:relative;display:flex;flex-direction:column}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:66.6%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:24px;padding-bottom:10px;color:#333;border-bottom:1px solid #aeaeae}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:16px;color:#666}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:360px;max-height:360px;width:auto;height:auto;position:absolute;top:50%;left:33%;transform:translate(-50%,-50%);-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;position:absolute;bottom:0}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:70px;width:auto;height:auto;margin-left:15px;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{background-color:#1c202b;position:absolute;right:0;top:auto;bottom:0;height:100%;width:33.3%;padding:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:flex;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{position:absolute;background-color:#fff;right:10px;bottom:10px;font-size:10px;font-size:14px;padding:10px 22px;cursor:pointer;transition:ease .4s;-webkit-user-select:none;user-select:none;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:active{background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;top:50%;left:10px;-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]   .item-color-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;padding-left:5px;padding-right:5px;width:90px;height:40px;align-items:center;text-align:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]   .item-color-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]   .item-color-buttons[_ngcontent-%COMP%]:focus{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;top:65%;left:10px;-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;padding-left:5px;padding-right:5px;width:90px;height:40px;align-items:center;text-align:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:focus{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#ef2158}.mobile-comp-desc-details-container[_ngcontent-%COMP%]{position:fixed;width:95%;height:95%;z-index:2;border-radius:5px;background-color:#000c}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:90%;position:absolute;bottom:0;padding:15px;border-radius:5px}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:fixed;top:10%;right:0;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;overflow-x:visible}@media screen and (max-width: 550px){.modal-container[_ngcontent-%COMP%]{width:calc(100% + -0rem);margin-left:0rem}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:0;width:95%;height:95%;top:0}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:100%;z-index:1;position:absolute;height:65%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:18px;padding:10px 0 10px 5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{margin-left:8px;font-size:16px;display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;margin-left:8px;display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:60%;max-height:60%;position:absolute;width:auto;height:auto;overflow:hidden;top:50%;left:50%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]{left:0;width:100%;padding:0;box-sizing:border-box;overflow-x:auto}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:50px;margin-left:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{width:100%;padding:5px;border-radius:5px;overflow:hidden;height:35%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){display:flex;margin-top:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .comp-desc-p-details[_ngcontent-%COMP%]{display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{right:10px;bottom:10px;padding:10px 30px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{position:relative;top:10%;left:10px}}@media screen and (min-width: 550px) and (max-width: 700px){.modal-container[_ngcontent-%COMP%]{width:calc(100% + -0rem);margin-left:0rem}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:100%;margin:0 10px;height:700px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:18px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:16px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:300px;max-height:300px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:60px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:none;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){color:#fff;display:flex;margin-top:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .comp-desc-p-details[_ngcontent-%COMP%]{display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .mobile-comp-desc-p[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{position:absolute;background-color:#fff;right:5px;bottom:5px;font-size:12px;padding:5px 15px;cursor:pointer;transition:ease .4s;-webkit-user-select:none;user-select:none;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:active{background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;top:65%;left:10px;-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;padding-left:5px;padding-right:5px;width:90px;height:40px;align-items:center;text-align:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:focus{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;z-index:2;border-radius:5px;background-color:#000c}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]{background-color:#fff;width:60%;height:60%;position:relative;top:50%;left:50%;transform:translate(-50%,-50%);padding:15px;border-radius:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%], .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#ef2158}}@media screen and (min-width: 801px){.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{margin:0 10px}}']})}return n})();const w8=function(){return{width:"320px",height:"400px","border-radius":"15px",margin:"10px"}};function C8(n,t){1&n&&(o.ynx(0),o._UZ(1,"ngx-skeleton-loader",7),o.BQk()),2&n&&(o.xp6(1),o.Q6J("theme",o.DdM(1,w8)))}const x8=function(){return[1,2,3,4,5,6]};function E8(n,t){1&n&&(o.TgZ(0,"div",5),o.YNc(1,C8,2,2,"ng-container",6),o.qZA()),2&n&&(o.xp6(1),o.Q6J("ngForOf",o.DdM(1,x8)))}function M8(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",10),o.NdJ("mouseover",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.mouseOver(s))})("mouseleave",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.mouseLeave(s))})("click",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.openModal(s))}),o.TgZ(1,"div",11),o._uU(2),o.TgZ(3,"p",12),o._uU(4),o.qZA()(),o.TgZ(5,"div",13),o._UZ(6,"img",14),o.qZA(),o.TgZ(7,"div",15)(8,"div",16),o._uU(9),o.TgZ(10,"p",17),o._uU(11,"Ft"),o.qZA()()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e.brand," "),o.xp6(2),o.Oqu(e.brandName),o.xp6(2),o.Q6J("src",e.imagePath,o.LSH),o.xp6(3),o.hij(" ",e.price," ")}}function I8(n,t){if(1&n&&(o.TgZ(0,"div",8),o.YNc(1,M8,12,4,"div",9),o.ALo(2,"async"),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,e.task$))}}function T8(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-modal-products",18),o.NdJ("closeModalEvent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.productService.closeModal())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("product",e.productService.selectedProduct)}}let O8=(()=>{class n{constructor(e,i,r,s){this.services=e,this.firestore=i,this.modalService=r,this.productService=s,this.task$=ys(Hd(this.firestore,"hawkers")),this.contentLoaded=!1}ngOnInit(){this.task$.subscribe(e=>console.log("task$ observable:",e)),console.log(this.task$),setTimeout(()=>{this.contentLoaded=!0},1500)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ta),o.Y36(zd),o.Y36(iw),o.Y36(Zd))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-products"]],decls:6,vars:7,consts:[["class","skeleton",4,"ngIf"],[1,"img-brand-container"],["src","../../assets/images/commercial/hawkers_logo.png","alt","",1,"img-brand"],["class","product-card-container",4,"ngIf"],[3,"product","closeModalEvent",4,"ngIf"],[1,"skeleton"],[4,"ngFor","ngForOf"],["appearance","circle",3,"theme"],[1,"product-card-container"],["class","product-card",3,"mouseover","mouseleave","click",4,"ngFor","ngForOf"],[1,"product-card",3,"mouseover","mouseleave","click"],[1,"product-card-head"],[1,"brand-name"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"price-container"],[1,"product-card-price"],[1,"tol"],[3,"product","closeModalEvent"]],template:function(i,r){1&i&&(o.YNc(0,E8,2,2,"div",0),o.TgZ(1,"div",1),o._UZ(2,"img",2),o.qZA(),o.TgZ(3,"div"),o.YNc(4,I8,3,3,"div",3),o.qZA(),o.YNc(5,T8,1,1,"app-modal-products",4)),2&i&&(o.Q6J("ngIf",!r.contentLoaded),o.xp6(1),o.Udp("display",r.contentLoaded?"flex":"none"),o.xp6(2),o.Udp("display",r.contentLoaded?"flex":"none"),o.xp6(1),o.Q6J("ngIf",r.contentLoaded),o.xp6(1),o.Q6J("ngIf",r.productService.isModalOpen))},dependencies:[Ln,ci,fm,b8,Zi],styles:[".img-brand-container[_ngcontent-%COMP%]{width:100%;align-items:center;justify-content:center;display:flex;flex-direction:column}.img-brand-container[_ngcontent-%COMP%]   .img-brand[_ngcontent-%COMP%]{height:200px;width:auto;margin:0 auto;-webkit-user-select:none;user-select:none}",".product-card-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .12rem #000;min-width:320px;margin:10px;min-height:390px;overflow:hidden;position:relative}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:1px solid #1C202B;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #1C202B}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:240px;max-height:240px;width:auto;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#fff;bottom:0;width:100%}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}.skeleton[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;flex-direction:row}.skeleton[_ngcontent-%COMP%]   ngx-skeleton-loader[_ngcontent-%COMP%]{width:calc(25% - 20px);border-radius:.5rem;margin:1.25rem;min-width:320px;margin:10px;min-height:390px;position:relative}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})();function S8(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"img",22),o.NdJ("mouseover",function(){const s=o.CHM(e).$implicit,u=o.oxw();return o.KtG(u.services.changeMainImage(s))}),o.qZA()()}if(2&n){const e=t.$implicit;o.xp6(1),o.Q6J("src",e,o.LSH)}}function P8(n,t){1&n&&(o.TgZ(0,"i",23),o._uU(1,"Kattintson a r\xe9szletek\xe9rt!"),o.qZA())}function D8(n,t){if(1&n&&(o.TgZ(0,"div",24),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij(" ",e.product.description," ")}}function A8(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",25),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw();return o.KtG(u.services.selectItem(s))})("click",function(){const s=o.CHM(e).$implicit,u=o.oxw();return o.KtG(u.services.selectColor(s))}),o.TgZ(1,"div",26),o._uU(2),o.qZA()()}if(2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.ekj("selected",i.services.selectedColor===e),o.xp6(1),o.hij("",e.color," ")}}function k8(n,t){if(1&n&&(o.TgZ(0,"div",28),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit,i=o.oxw();o.ekj("selected",i.services.selectedSize===e),o.xp6(1),o.hij("",e.size," ")}}function R8(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",25),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw();return o.KtG(u.services.selectItem(s))}),o.YNc(1,k8,2,3,"div",27),o.qZA()}if(2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngIf",e.size)}}function N8(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",29)(1,"div",30)(2,"p",31),o._uU(3),o.qZA(),o.TgZ(4,"p",11),o._uU(5),o.qZA(),o.TgZ(6,"button",32),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.modalService.showDetails())}),o._UZ(7,"i",20),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(3),o.hij("Anyaga: ",e.product.composition.material,""),o.xp6(2),o.hij("Term\xe9kjellemz\u0151: ",e.product.description," ")}}const F8=function(){return{display:"block"}};let L8=(()=>{class n{constructor(e,i,r){this.productService=e,this.modalService=i,this.services=r}test(){console.log(this.product)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Zd),o.Y36(iw),o.Y36(ta))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-modal-accessories"]],inputs:{product:"product"},decls:29,vars:14,consts:[[1,"modal-container"],[1,"modal-content"],[1,"left-section"],[1,"product-name"],[1,"product-price"],[1,"modal-image",3,"src"],[1,"modal-image-selection-container"],[4,"ngFor","ngForOf"],[1,"right-section"],[1,"composition-container"],[1,"composition-description"],[1,"comp-desc-p"],[1,"composition-description",3,"ngStyle","click"],["class","mobile-comp-desc-i",4,"ngIf"],["class","comp-desc-p-details",4,"ngIf"],[1,"item-color-buttons-container"],[3,"click",4,"ngFor","ngForOf"],[1,"item-size-buttons-container"],[1,"cart-btn",3,"click"],[1,"close-btn",3,"click"],[1,"fal","fa-times","close-icon"],["class","mobile-comp-desc-details-container",4,"ngIf"],["alt","Image",1,"modal-image-selection",3,"src","mouseover"],[1,"mobile-comp-desc-i"],[1,"comp-desc-p-details"],[3,"click"],["tabindex","0",1,"item-color-buttons"],["class","item-size-buttons","tabindex","0",3,"selected",4,"ngIf"],["tabindex","0",1,"item-size-buttons"],[1,"mobile-comp-desc-details-container"],[1,"mobile-comp-desc-details"],[1,"mobile-comp-desc-p"],[1,"close-comp-desc-details-btn",3,"click"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o._uU(4),o.qZA(),o.TgZ(5,"div",4),o._uU(6),o.qZA(),o._UZ(7,"img",5),o.TgZ(8,"div",6),o.YNc(9,S8,2,1,"div",7),o.qZA()(),o.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"p",11),o._uU(14),o.qZA()(),o.TgZ(15,"div",12),o.NdJ("click",function(){return r.modalService.showDetails()}),o.TgZ(16,"p",11),o._uU(17,"Term\xe9kjellemz\u0151: "),o.YNc(18,P8,2,0,"i",13),o.qZA(),o.YNc(19,D8,2,1,"div",14),o.qZA()(),o.TgZ(20,"div",15),o.YNc(21,A8,3,3,"div",16),o.qZA(),o.TgZ(22,"div",17),o.YNc(23,R8,2,1,"div",16),o.qZA(),o.TgZ(24,"div",18),o.NdJ("click",function(){return r.modalService.addToCart(r.product)}),o._uU(25,"Hozz\xe1ad\xe1s a kos\xe1rhoz"),o.qZA()(),o.TgZ(26,"button",19),o.NdJ("click",function(){return r.modalService.closeModal()}),o._UZ(27,"i",20),o.qZA(),o.YNc(28,N8,8,2,"div",21),o.qZA()()),2&i&&(o.xp6(4),o.lnq(" ",r.product.productName," ",r.services.selectedColor," ",r.services.selectedSize," "),o.xp6(2),o.hij("",r.services.selectedSizePrice||r.product.price," Ft "),o.xp6(1),o.Q6J("src",r.services.shippingImage,o.LSH),o.xp6(2),o.Q6J("ngForOf",r.product.modalImagePath),o.xp6(5),o.hij("Anyaga: ",r.product.composition.material," "),o.xp6(1),o.Q6J("ngStyle",o.DdM(13,F8)),o.xp6(3),o.Q6J("ngIf",r.modalService.screenWidth<=800),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>800),o.xp6(2),o.Q6J("ngForOf",r.product.colorType),o.xp6(2),o.Q6J("ngForOf",r.product.type),o.xp6(5),o.Q6J("ngIf",r.modalService.showDetailsBox&&r.modalService.screenWidth<=800))},dependencies:[Ln,ci,Qo],styles:['@charset "UTF-8";.modal-container[_ngcontent-%COMP%]{background-color:#00000080;display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:calc(100% - 5rem);margin-left:5rem;transition:all .5s ease;height:100%;z-index:1000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 10px #0003;width:900px;height:700px;position:relative;display:flex;flex-direction:column}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:66.6%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:24px;padding-bottom:10px;color:#333;border-bottom:1px solid #aeaeae}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:16px;color:#666}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:360px;max-height:360px;width:auto;height:auto;position:absolute;top:50%;left:33%;transform:translate(-50%,-50%);-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;position:absolute;bottom:0}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:70px;width:auto;height:auto;margin-left:15px;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{background-color:#1c202b;position:absolute;right:0;top:auto;bottom:0;height:100%;width:33.3%;padding:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:flex;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{position:absolute;background-color:#fff;right:10px;bottom:10px;font-size:10px;font-size:14px;padding:10px 22px;cursor:pointer;transition:ease .4s;-webkit-user-select:none;user-select:none;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:active{background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;top:50%;left:10px;-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]   .item-color-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;padding-left:5px;padding-right:5px;width:90px;height:40px;align-items:center;text-align:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]   .item-color-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]   .item-color-buttons[_ngcontent-%COMP%]:focus{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;top:65%;left:10px;-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;padding-left:5px;padding-right:5px;width:90px;height:40px;align-items:center;text-align:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:focus{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#ef2158}.mobile-comp-desc-details-container[_ngcontent-%COMP%]{position:fixed;width:95%;height:95%;z-index:2;border-radius:5px;background-color:#000c}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:90%;position:absolute;bottom:0;padding:15px;border-radius:5px}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:fixed;top:10%;right:0;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;overflow-x:visible}@media screen and (max-width: 550px){.modal-container[_ngcontent-%COMP%]{width:calc(100% + -0rem);margin-left:0rem}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:0;width:95%;height:95%;top:0}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:100%;z-index:1;position:absolute;height:65%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:18px;padding:10px 0 10px 5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{margin-left:8px;font-size:16px;display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;margin-left:8px;display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:60%;max-height:60%;position:absolute;width:auto;height:auto;overflow:hidden;top:50%;left:50%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]{left:0;width:100%;padding:0;box-sizing:border-box;overflow-x:auto}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:50px;margin-left:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{width:100%;padding:5px;border-radius:5px;overflow:hidden;height:35%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){display:flex;margin-top:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .comp-desc-p-details[_ngcontent-%COMP%]{display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{right:10px;bottom:10px;padding:10px 30px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{position:relative;top:10%;left:10px}}@media screen and (min-width: 550px) and (max-width: 700px){.modal-container[_ngcontent-%COMP%]{width:calc(100% + -0rem);margin-left:0rem}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:100%;margin:0 10px;height:700px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:18px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:16px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:300px;max-height:300px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:60px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:none;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){color:#fff;display:flex;margin-top:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .comp-desc-p-details[_ngcontent-%COMP%]{display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .mobile-comp-desc-p[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{position:absolute;background-color:#fff;right:5px;bottom:5px;font-size:12px;padding:5px 15px;cursor:pointer;transition:ease .4s;-webkit-user-select:none;user-select:none;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:active{background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;top:65%;left:10px;-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;padding-left:5px;padding-right:5px;width:90px;height:40px;align-items:center;text-align:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:focus{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;z-index:2;border-radius:5px;background-color:#000c}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]{background-color:#fff;width:60%;height:60%;position:relative;top:50%;left:50%;transform:translate(-50%,-50%);padding:15px;border-radius:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%], .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#ef2158}}@media screen and (min-width: 801px){.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{margin:0 10px}}']})}return n})();const U8=function(){return{width:"320px",height:"50px","margin-top":"20px"}};function V8(n,t){1&n&&(o.TgZ(0,"div",0),o.ynx(1),o._UZ(2,"ngx-skeleton-loader",6),o.BQk(),o.qZA()),2&n&&(o.xp6(2),o.Q6J("theme",o.DdM(1,U8)))}const B8=function(){return{width:"320px",height:"350px","border-radius":"15px"}};function j8(n,t){1&n&&(o.ynx(0),o._UZ(1,"ngx-skeleton-loader",9),o.BQk()),2&n&&(o.xp6(1),o.Q6J("theme",o.DdM(1,B8)))}const z8=function(){return[1,2,3,4,5]};function H8(n,t){1&n&&(o.TgZ(0,"div",7),o.YNc(1,j8,2,2,"ng-container",8),o.qZA()),2&n&&(o.xp6(1),o.Q6J("ngForOf",o.DdM(1,z8)))}function $8(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",12),o.NdJ("mouseover",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.mouseOver(s))})("mouseleave",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.mouseLeave(s))})("click",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.openModal(s))}),o.TgZ(1,"div",13),o._uU(2),o.TgZ(3,"p",14),o._uU(4),o.qZA()(),o.TgZ(5,"div",15),o._UZ(6,"img",16),o.qZA(),o.TgZ(7,"div",17)(8,"div",18),o._uU(9),o.TgZ(10,"p",19),o._uU(11,"Ft-t\xf3l"),o.qZA()()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e.brand," "),o.xp6(2),o.Oqu(e.brandName),o.xp6(2),o.Q6J("src",e.imagePath,o.LSH),o.xp6(3),o.hij("",e.type[0].price," ")}}function q8(n,t){if(1&n&&(o.TgZ(0,"div",10),o.YNc(1,$8,12,4,"div",11),o.ALo(2,"async"),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,e.accessories$))}}function G8(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-modal-accessories",20),o.NdJ("closeModalEvent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.productService.closeModal())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("product",e.productService.selectedProduct)}}let Z8=(()=>{class n{constructor(e,i,r,s){this.productService=e,this.services=i,this.firestore=r,this.modalService=s,this.contentLoaded=!1,this.accessories$=ys(Hd(this.firestore,"accessories"))}ngOnInit(){setTimeout(()=>{this.contentLoaded=!0},1500)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Zd),o.Y36(ta),o.Y36(zd),o.Y36(iw))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-accessories"]],decls:7,vars:8,consts:[[1,"img-brand-container"],["src","./assets/images/commercial/police_logo.svg","alt","",1,"img-brand"],["class","img-brand-container",4,"ngIf"],["class","skeleton",4,"ngIf"],["class","product-card-container",4,"ngIf"],[3,"product","closeModalEvent",4,"ngIf"],["appearance","line",3,"theme"],[1,"skeleton"],[4,"ngFor","ngForOf"],["appearance","circle",3,"theme"],[1,"product-card-container"],["class","product-card",3,"mouseover","mouseleave","click",4,"ngFor","ngForOf"],[1,"product-card",3,"mouseover","mouseleave","click"],[1,"product-card-head"],[1,"brand-name"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"price-container"],[1,"product-card-price"],[1,"tol"],[3,"product","closeModalEvent"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0),o._UZ(1,"img",1),o.qZA(),o.YNc(2,V8,3,2,"div",2),o.YNc(3,H8,2,2,"div",3),o.TgZ(4,"div"),o.YNc(5,q8,3,3,"div",4),o.YNc(6,G8,1,1,"app-modal-accessories",5),o.qZA()),2&i&&(o.Udp("display",r.contentLoaded?"flex":"none"),o.xp6(2),o.Q6J("ngIf",!r.contentLoaded),o.xp6(1),o.Q6J("ngIf",!r.contentLoaded),o.xp6(1),o.Udp("display",r.contentLoaded?"flex":"none"),o.xp6(1),o.Q6J("ngIf",r.contentLoaded),o.xp6(1),o.Q6J("ngIf",r.productService.isModalOpen))},dependencies:[Ln,ci,fm,L8,Zi],styles:[".img-brand-container[_ngcontent-%COMP%]{width:100%;align-items:center;justify-content:center;position:relative;display:flex;flex-direction:column;padding-bottom:70px}.img-brand-container[_ngcontent-%COMP%]   .img-brand[_ngcontent-%COMP%]{height:30px;width:auto;margin:50px auto 0;position:absolute;-webkit-user-select:none;user-select:none}",".product-card-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .12rem #000;min-width:320px;margin:10px;min-height:390px;overflow:hidden;position:relative}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:1px solid #1C202B;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #1C202B}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:240px;max-height:240px;width:auto;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#fff;bottom:0;width:100%}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}.skeleton[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;flex-direction:row}.skeleton[_ngcontent-%COMP%]   ngx-skeleton-loader[_ngcontent-%COMP%]{width:calc(25% - 20px);border-radius:.5rem;margin:1.25rem;min-width:320px;margin:10px;min-height:390px;position:relative}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})(),W8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-media"]],decls:2,vars:0,template:function(i,r){1&i&&(o.TgZ(0,"h1"),o._uU(1,"K\xf6z\xf6ss\xe9gi oldal"),o.qZA())}})}return n})(),vB=(()=>{class n{constructor(e){this.services=e,this.navbarData=vM,this.insuranceIsChecked=!0,this.giftIsChecked=!1,this.shippingPrice=1390}getTotalPrice(){let e=0;for(const i of this.services.getCartItems())e+=i.selectedPrice*i.quantity;return e}calculateShippingPrice(){return this.shippingPrice=this.getTotalPrice()>=5e4?0:1390}calculateInsurance(){return this.insuranceIsChecked?500:0}calculateGiftFee(){return this.giftIsChecked?1590:0}calculateTotalPayment(){return this.calculateShippingPrice()+this.getTotalPrice()+this.calculateInsurance()+this.calculateGiftFee()}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(ta))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yB(...n){const t=(0,$b.jO)(n),{args:e,keys:i}=iV(n),r=new ar.y(s=>{const{length:u}=e;if(!u)return void s.complete();const m=new Array(u);let v=u,x=u;for(let P=0;P<u;P++){let L=!1;(0,Po.Xf)(e[P]).subscribe((0,li.x)(s,q=>{L||(L=!0,x--),m[P]=q},()=>v--,void 0,()=>{(!v||!L)&&(x||s.next(i?rV(i,m):m),s.complete())}))}});return t?r.pipe(PN(t)):r}let bB=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.Qsj),o.Y36(o.SBq))};static#t=this.\u0275dir=o.lG2({type:n})}return n})(),cy=(()=>{class n extends bB{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}();static#t=this.\u0275dir=o.lG2({type:n,features:[o.qOj]})}return n})();const Wd=new o.OlP("NgValueAccessor"),K8={provide:Wd,useExisting:(0,o.Gpc)(()=>ly),multi:!0},J8=new o.OlP("CompositionEventMode");let ly=(()=>{class n extends bB{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Q8(){const n=Y()?Y().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(J8,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&o.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[o._Bn([K8]),o.qOj]})}return n})();function Bg(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function CB(n){return null!=n&&"number"==typeof n.length}const Ka=new o.OlP("NgValidators"),jg=new o.OlP("NgAsyncValidators"),X8=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wc{static min(t){return function xB(n){return t=>{if(Bg(t.value)||Bg(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function EB(n){return t=>{if(Bg(t.value)||Bg(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return MB(t)}static requiredTrue(t){return function IB(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function TB(n){return Bg(n.value)||X8.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function OB(n){return t=>Bg(t.value)||!CB(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return SB(t)}static pattern(t){return function PB(n){if(!n)return dP;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Bg(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return FB(t)}static composeAsync(t){return LB(t)}}function MB(n){return Bg(n.value)?{required:!0}:null}function SB(n){return t=>CB(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function dP(n){return null}function DB(n){return null!=n}function AB(n){return(0,o.QGY)(n)?(0,Sr.D)(n):n}function kB(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function RB(n,t){return t.map(e=>e(n))}function NB(n){return n.map(t=>function e7(n){return!n.validate}(t)?t:e=>t.validate(e))}function FB(n){if(!n)return null;const t=n.filter(DB);return 0==t.length?null:function(e){return kB(RB(e,t))}}function rF(n){return null!=n?FB(NB(n)):null}function LB(n){if(!n)return null;const t=n.filter(DB);return 0==t.length?null:function(e){return yB(RB(e,t).map(AB)).pipe((0,gn.U)(kB))}}function oF(n){return null!=n?LB(NB(n)):null}function UB(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function VB(n){return n._rawValidators}function BB(n){return n._rawAsyncValidators}function sF(n){return n?Array.isArray(n)?n:[n]:[]}function hP(n,t){return Array.isArray(n)?n.includes(t):n===t}function jB(n,t){const e=sF(t);return sF(n).forEach(r=>{hP(e,r)||e.push(r)}),e}function zB(n,t){return sF(t).filter(e=>!hP(n,e))}class HB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=rF(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=oF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Al extends HB{get formDirective(){return null}get path(){return null}}class pm extends HB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $B{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let uy=(()=>{class n extends $B{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(pm,2))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&o.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[o.qOj]})}return n})(),yM=(()=>{class n extends $B{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Al,10))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&o.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[o.qOj]})}return n})();const bM="VALID",pP="INVALID",rw="PENDING",wM="DISABLED";function lF(n){return(mP(n)?n.validators:n)||null}function uF(n,t){return(mP(t)?t.asyncValidators:n)||null}function mP(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function GB(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new o.vHH(1e3,"");if(!i[e])throw new o.vHH(1001,"")}function ZB(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new o.vHH(1002,"")})}class gP{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===bM}get invalid(){return this.status===pP}get pending(){return this.status==rw}get disabled(){return this.status===wM}get enabled(){return this.status!==wM}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(jB(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(jB(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(zB(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(zB(t,this._rawAsyncValidators))}hasValidator(t){return hP(this._rawValidators,t)}hasAsyncValidator(t){return hP(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=rw,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=wM,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=bM,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bM||this.status===rw)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wM:bM}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=rw,this._hasOwnPendingAsyncValidator=!0;const e=AB(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?wM:this.errors?pP:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rw)?rw:this._anyControlsHaveStatus(pP)?pP:bM}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){mP(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function r7(n){return Array.isArray(n)?rF(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function o7(n){return Array.isArray(n)?oF(n):n||null}(this._rawAsyncValidators)}}class CM extends gP{constructor(t,e,i){super(lF(e),uF(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){ZB(this,0,t),Object.keys(t).forEach(i=>{GB(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class WB extends CM{}const dy=new o.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>xM}),xM="always";function _P(n,t){return[...t.path,n]}function EM(n,t,e=xM){dF(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function a7(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&YB(n,t)})}(n,t),function l7(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function c7(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&YB(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function s7(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function vP(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),bP(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function yP(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function dF(n,t){const e=VB(n);null!==t.validator?n.setValidators(UB(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=BB(n);null!==t.asyncValidator?n.setAsyncValidators(UB(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();yP(t._rawValidators,r),yP(t._rawAsyncValidators,r)}function bP(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=VB(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=BB(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return yP(t._rawValidators,i),yP(t._rawAsyncValidators,i),e}function YB(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function KB(n,t){dF(n,t)}function fF(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function QB(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function pF(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===ly?e=s:function h7(n){return Object.getPrototypeOf(n.constructor)===cy}(s)?i=s:r=s}),r||i||e||null}const p7={provide:Al,useExisting:(0,o.Gpc)(()=>wP)},MM=(()=>Promise.resolve())();let wP=(()=>{class n extends Al{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new CM({},rF(e),oF(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){MM.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),EM(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){MM.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){MM.then(()=>{const i=this._findContainer(e.path),r=new CM({});KB(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){MM.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){MM.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,QB(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Ka,10),o.Y36(jg,10),o.Y36(dy,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&o.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([p7]),o.qOj]})}return n})();function JB(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function XB(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const IM=class extends gP{constructor(t=null,e,i){super(lF(e),uF(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mP(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=XB(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){JB(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){JB(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){XB(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},_7={provide:pm,useExisting:(0,o.Gpc)(()=>CP)},nj=(()=>Promise.resolve())();let CP=(()=>{class n extends pm{constructor(e,i,r,s,u,m){super(),this._changeDetectorRef=u,this.callSetDisabledState=m,this.control=new IM,this._registered=!1,this.name="",this.update=new o.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=pF(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),fF(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){EM(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){nj.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,o.VuI)(i);nj.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?_P(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Al,9),o.Y36(Ka,10),o.Y36(jg,10),o.Y36(Wd,10),o.Y36(o.sBO,8),o.Y36(dy,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([_7]),o.qOj,o.TTD]})}return n})(),TM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const v7={provide:Wd,useExisting:(0,o.Gpc)(()=>OM),multi:!0};let OM=(()=>{class n extends cy{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&o.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[o._Bn([v7]),o.qOj]})}return n})(),ij=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})();const mF=new o.OlP("NgModelWithFormControlWarning"),x7={provide:Al,useExisting:(0,o.Gpc)(()=>zg)};let zg=(()=>{class n extends Al{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bP(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return EM(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){vP(e.control||null,e,!1),function f7(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,QB(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(vP(i||null,e),(n=>n instanceof IM)(r)&&(EM(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);KB(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function u7(n,t){return bP(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dF(this.form,this),this._oldForm&&bP(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Ka,10),o.Y36(jg,10),o.Y36(dy,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&o.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([x7]),o.qOj,o.TTD]})}return n})();const I7={provide:pm,useExisting:(0,o.Gpc)(()=>ow)};let ow=(()=>{class n extends pm{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,s,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.name=null,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=pF(0,s)}ngOnChanges(e){this._added||this._setUpControl(),fF(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return _P(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(o.Y36(Al,13),o.Y36(Ka,10),o.Y36(jg,10),o.Y36(Wd,10),o.Y36(mF,8))};static#n=this.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([I7]),o.qOj,o.TTD]})}return n})();let hy=(()=>{class n{constructor(){this._validator=dP}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):dP,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=o.lG2({type:n,features:[o.TTD]})}return n})();const N7={provide:Ka,useExisting:(0,o.Gpc)(()=>xP),multi:!0};let xP=(()=>{class n extends hy{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.VuI,this.createValidator=e=>MB}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&o.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[o._Bn([N7]),o.qOj]})}return n})();const V7={provide:Ka,useExisting:(0,o.Gpc)(()=>MP),multi:!0};let MP=(()=>{class n extends hy{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function uj(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>SB(e)}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&o.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[o._Bn([V7]),o.qOj]})}return n})(),_j=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[ij]})}return n})();class vj extends gP{constructor(t,e,i){super(lF(e),uF(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){ZB(this,0,t),t.forEach((i,r)=>{GB(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function yj(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let bF,bj=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return yj(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new CM(r,s)}record(e,i=null){const r=this._reduceControls(e);return new WB(r,i)}control(e,i,r){let s={};return this.useNonNullable?(yj(i)?s=i:(s.validators=i,s.asyncValidators=r),new IM(e,{...s,nonNullable:!0})):new IM(e,i,r)}array(e,i,r){const s=e.map(u=>this._createControl(u));return new vj(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof IM||e instanceof gP?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),IP=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(bj).nonNullable},providedIn:"root"})}return n})(),j7=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:dy,useValue:e.callSetDisabledState??xM}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[_j]})}return n})(),wj=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:mF,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:dy,useValue:e.callSetDisabledState??xM}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[_j]})}return n})();try{bF=typeof Intl<"u"&&Intl.v8BreakIterator}catch{bF=!1}let sw,Qa=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Ll(n){return n===la}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!bF)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(o.Lbi))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Cj=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function xj(){if(sw)return sw;if("object"!=typeof document||!document)return sw=new Set(Cj),sw;let n=document.createElement("input");return sw=new Set(Cj.filter(t=>(n.setAttribute("type",t),n.type===t))),sw}let SM,fy,wF;function aw(n){return function z7(){if(null==SM&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>SM=!0}))}finally{SM=SM||!1}return SM}()?n:!!n.capture}function H7(){if(null==fy){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return fy=!1,fy;if("scrollBehavior"in document.documentElement.style)fy=!0;else{const n=Element.prototype.scrollTo;fy=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return fy}function Hg(n){return n.composedPath?n.composedPath()[0]:n.target}function CF(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Ij(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var cw=Q(6321);function Tj(n,t=cw.z){return(0,Nr.e)((e,i)=>{let r=null,s=null,u=null;const m=()=>{if(r){r.unsubscribe(),r=null;const x=s;s=null,i.next(x)}};function v(){const x=u+n,P=t.now();if(P<x)return r=this.schedule(void 0,x-P),void i.add(r);m()}e.subscribe((0,li.x)(i,x=>{s=x,u=t.now(),r||(r=t.schedule(v,n),i.add(r))},()=>{m(),i.complete()},void 0,()=>{s=r=null}))})}function Oj(n){return cr((t,e)=>n<=e)}var MF=Q(3997);function na(n){return null!=n&&"false"!=`${n}`}function OP(n){return Array.isArray(n)?n:[n]}function ia(n){return null==n?"":"string"==typeof n?n:`${n}px`}function $g(n){return n instanceof o.SBq?n.nativeElement:n}let dY=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({providers:[dY]})}return n})();const Pj=new Set;let py,hY=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):pY}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function fY(n,t){if(!Pj.has(n))try{py||(py=document.createElement("style"),t&&(py.nonce=t),py.setAttribute("type","text/css"),document.head.appendChild(py)),py.sheet&&(py.sheet.insertRule(`@media ${n} {body{ }}`,0),Pj.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Qa),o.LFG(o.Ojb,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pY(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let mY=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new zn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Dj(OP(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=zS(Dj(OP(e)).map(u=>this._registerQuery(u).observable));return s=nM(s.pipe(nl(1)),s.pipe(Oj(1),Tj(0))),s.pipe((0,gn.U)(u=>{const m={matches:!1,breakpoints:{}};return u.forEach(({matches:v,query:x})=>{m.matches=m.matches||v,m.breakpoints[x]=v}),m}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new ar.y(u=>{const m=v=>this._zone.run(()=>u.next(v));return i.addListener(m),()=>{i.removeListener(m)}}).pipe(Ng(i),(0,gn.U)(({matches:u})=>({query:e,matches:u})),Gd(this._destroySubject)),mql:i};return this._queries.set(e,s),s}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(hY),o.LFG(o.R0b))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dj(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function SP(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const kj="cdk-describedby-message",PP="cdk-describedby-host";let IF=0,vY=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+IF++,this._document=e,this._id=(0,o.f3M)(o.AFp)+"-"+IF++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=TF(i,r);"string"!=typeof i?(Rj(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const s=TF(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const u=this._messageRegistry.get(s);u&&0===u.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${PP}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(PP);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");Rj(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(TF(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=SP(e,"aria-describedby").filter(r=>0!=r.indexOf(kj));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function gY(n,t,e){const i=SP(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(PP,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function _Y(n,t,e){const r=SP(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(PP)}_isElementDescribedByMessage(e,i){const r=SP(e,"aria-describedby"),s=this._messageRegistry.get(i),u=s&&s.messageElement.id;return!!u&&-1!=r.indexOf(u)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(ke),o.LFG(Qa))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function TF(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function Rj(n,t){n.id||(n.id=`${kj}-${t}-${IF++}`)}class yY{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new zn.x,this._typeaheadSubscription=Wu.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new zn.x,this.change=new zn.x,t instanceof o.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,tr.b)(e=>this._pressedLetters.push(e)),Tj(t),cr(()=>this._pressedLetters.length>0),(0,gn.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,u=i[s];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,u=this._getItemsArray().length;this._setActiveItemByIndex(s<u?s:u-1,-1);break}return;default:return void((r||Ij(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class bY extends yY{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let wY=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function xY(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function CY(n){try{return n.frameElement}catch{return null}}(function DY(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===Fj(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=Fj(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function SY(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function PY(n){return!function MY(n){return function TY(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function EY(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function IY(n){return function OY(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Nj(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Qa))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Nj(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Fj(n){if(!Nj(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function OF(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function SF(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const AY=new o.OlP("cdk-input-modality-detector-options"),kY={ignoreKeys:[18,17,224,91,16]},lw=aw({passive:!0,capture:!0});let RY=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new qd.X(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(m=>m===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Hg(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(OF(u)?"keyboard":"mouse"),this._mostRecentTarget=Hg(u))},this._onTouchstart=u=>{SF(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Hg(u))},this._options={...kY,...s},this.modalityDetected=this._modality.pipe(Oj(1)),this.modalityChanged=this.modalityDetected.pipe((0,MF.x)()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,lw),r.addEventListener("mousedown",this._onMousedown,lw),r.addEventListener("touchstart",this._onTouchstart,lw)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,lw),document.removeEventListener("mousedown",this._onMousedown,lw),document.removeEventListener("touchstart",this._onTouchstart,lw))}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Qa),o.LFG(o.R0b),o.LFG(ke),o.LFG(AY,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const FY=new o.OlP("cdk-focus-monitor-default-options"),DP=aw({passive:!0,capture:!0});let AP=(()=>{class n{constructor(e,i,r,s,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new zn.x,this._rootNodeFocusAndBlurListener=m=>{for(let x=Hg(m);x;x=x.parentElement)"focus"===m.type?this._onFocus(m,x):this._onBlur(m,x)},this._document=s,this._detectionMode=u?.detectionMode||0}monitor(e,i=!1){const r=$g(e);if(!this._platform.isBrowser||1!==r.nodeType)return(0,_n.of)();const s=function q7(n){if(function $7(){if(null==wF){const n=typeof document<"u"?document.head:null;wF=!(!n||!n.createShadowRoot&&!n.attachShadow)}return wF}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const m={checkChildren:i,subject:new zn.x,rootNode:s};return this._elementInfo.set(r,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(e){const i=$g(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=$g(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([m,v])=>this._originChanged(m,i,v)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Hg(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,DP),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,DP)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Gd(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,DP),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,DP),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let u=0;u<s.length;u++)if(s[u].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(o.R0b),o.LFG(Qa),o.LFG(RY),o.LFG(ke,8),o.LFG(FY,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Uj="cdk-high-contrast-black-on-white",Vj="cdk-high-contrast-white-on-black",PF="cdk-high-contrast-active";let Bj=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,o.f3M)(mY).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(PF,Uj,Vj),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(PF,Uj):2===i&&e.add(PF,Vj)}}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Qa),o.LFG(ke))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LY=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Bj))};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[Sj]})}return n})();const UY=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function VY(){return(0,o.f3M)(ke)}}),BY=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let DF=(()=>{class n{constructor(e){this.value="ltr",this.change=new o.vpe,e&&(this.value=function jY(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?BY.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(UY,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})();const HY=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function zY(){return!0}});let ra=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!CF()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Bj),o.LFG(HY,8),o.LFG(ke))};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[PM,PM]})}return n})();function DM(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=na(t)}constructor(...t){super(...t),this._disabled=!1}}}function AM(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function kP(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=na(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function Hj(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?function lY(n,t=0){return function uY(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function $Y(n){return class extends n{updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let GY=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class ZY{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const $j=aw({passive:!0,capture:!0});class WY{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Hg(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,i,r){const s=this._events.get(e);if(s){const u=s.get(i);u?u.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,$j)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const s=r.get(e);s&&(s.delete(i),0===s.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,$j)))}}const qj={enterDuration:225,exitDuration:150},Gj=aw({passive:!0,capture:!0}),Zj=["mousedown","touchstart"],Wj=["mouseup","mouseleave","touchend","touchcancel"];class RP{static#e=this._eventManager=new WY;constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=$g(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...qj,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function KY(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),m=t-r.left,v=e-r.top,x=s.enterDuration,P=document.createElement("div");P.classList.add("mat-ripple-element"),P.style.left=m-u+"px",P.style.top=v-u+"px",P.style.height=2*u+"px",P.style.width=2*u+"px",null!=i.color&&(P.style.backgroundColor=i.color),P.style.transitionDuration=`${x}ms`,this._containerElement.appendChild(P);const L=window.getComputedStyle(P),ne=L.transitionDuration,ae="none"===L.transitionProperty||"0s"===ne||"0s, 0s"===ne||0===r.width&&0===r.height,ye=new ZY(this,P,i,ae);P.style.transform="scale3d(1, 1, 1)",ye.state=0,i.persistent||(this._mostRecentTransientRipple=ye);let Ze=null;return!ae&&(x||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const wt=()=>this._finishRippleTransition(ye),Dt=()=>this._destroyRipple(ye);P.addEventListener("transitionend",wt),P.addEventListener("transitioncancel",Dt),Ze={onTransitionEnd:wt,onTransitionCancel:Dt}}),this._activeRipples.set(ye,Ze),(ae||!x)&&this._finishRippleTransition(ye),ye}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...qj,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=$g(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,Zj.forEach(i=>{RP._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Wj.forEach(e=>{this._triggerElement.addEventListener(e,this,Gj)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=OF(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!SF(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(Zj.forEach(e=>RP._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&Wj.forEach(e=>t.removeEventListener(e,this,Gj)))}}const Yj=new o.OlP("mat-ripple-global-options");let RM=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,s,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new RP(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Qa),o.Y36(Yj,8),o.Y36(o.QbO,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&o.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),NP=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[ra,ra]})}return n})();const Kj={capture:!0},Qj=["focus","click","mouseenter","touchstart"],AF="mat-ripple-loader-uninitialized",kF="mat-ripple-loader-class-name",Jj="mat-ripple-loader-centered",FP="mat-ripple-loader-disabled";let QY=(()=>{class n{constructor(){this._document=(0,o.f3M)(ke,{optional:!0}),this._animationMode=(0,o.f3M)(o.QbO,{optional:!0}),this._globalRippleOptions=(0,o.f3M)(Yj,{optional:!0}),this._platform=(0,o.f3M)(Qa),this._ngZone=(0,o.f3M)(o.R0b),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${AF}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of Qj)this._document?.addEventListener(e,this._onInteraction,Kj)})}ngOnDestroy(){for(const e of Qj)this._document?.removeEventListener(e,this._onInteraction,Kj)}configureRipple(e,i){e.setAttribute(AF,""),(i.className||!e.hasAttribute(kF))&&e.setAttribute(kF,i.className||""),i.centered&&e.setAttribute(Jj,""),i.disabled&&e.setAttribute(FP,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,i){const r=e.matRipple;r?r.disabled=i:i?e.setAttribute(FP,""):e.removeAttribute(FP)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(kF)),e.append(i);const r=new RM(new o.SBq(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,r.centered=e.hasAttribute(Jj),r.disabled=e.hasAttribute(FP),this.attachRipple(e,r),r}attachRipple(e,i){e.removeAttribute(AF),e.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const JY=["switch"];function XY(n,t){1&n&&(o.TgZ(0,"div",12),o.O4$(),o.TgZ(1,"svg",13),o._UZ(2,"path",14),o.qZA(),o.TgZ(3,"svg",15),o._UZ(4,"path",16),o.qZA()())}const eK=["*"],tK=new o.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),nK={provide:Wd,useExisting:(0,o.Gpc)(()=>ez),multi:!0};class Xj{constructor(t,e){this.source=t,this.checked=e}}let iK=0;const rK=Hj(AM(kP(DM(class{constructor(n){this._elementRef=n}}))));let oK=(()=>{class n extends rK{get required(){return this._required}set required(e){this._required=na(e)}get checked(){return this._checked}set checked(e){this._checked=na(e),this._changeDetectorRef.markForCheck()}get hideIcon(){return this._hideIcon}set hideIcon(e){this._hideIcon=na(e)}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,r,s,u,m,v){super(e),this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=u,this._onChange=x=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this._hideIcon=!1,this.change=new o.vpe,this.toggleChange=new o.vpe,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=u.color||"accent",this._noopAnimations="NoopAnimations"===m,this.id=this._uniqueId=`${v}${++iK}`,this._hideIcon=u.hideIcon??!1}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}static#e=this.\u0275fac=function(i){o.$Z()};static#t=this.\u0275dir=o.lG2({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked",hideIcon:"hideIcon"},outputs:{change:"change",toggleChange:"toggleChange"},features:[o.qOj]})}return n})(),ez=(()=>{class n extends oK{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(e,i,r,s,u,m){super(e,i,r,s,u,m,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new Xj(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(e){return new Xj(this,e)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(AP),o.Y36(o.sBO),o.$8M("tabindex"),o.Y36(tK),o.Y36(o.QbO,8))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(1&i&&o.Gf(JY,5),2&i){let s;o.iGM(s=o.CRH())&&(r._switchElement=s.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(i,r){2&i&&(o.Ikx("id",r.id),o.uIk("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),o.ekj("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[o._Bn([nK]),o.qOj],ngContentSelectors:eK,decls:13,vars:25,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],["class","mdc-switch__icons",4,"ngIf"],[1,"mdc-label",3,"for","click"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(1&i&&(o.F$t(),o.TgZ(0,"div",0)(1,"button",1,2),o.NdJ("click",function(){return r._handleClick()}),o._UZ(3,"div",3),o.TgZ(4,"div",4)(5,"div",5)(6,"div",6),o._UZ(7,"div",7),o.qZA(),o.TgZ(8,"div",8),o._UZ(9,"div",9),o.qZA(),o.YNc(10,XY,5,0,"div",10),o.qZA()()(),o.TgZ(11,"label",11),o.NdJ("click",function(u){return u.stopPropagation()}),o.Hsn(12),o.qZA()()),2&i){const s=o.MAs(2);o.ekj("mdc-form-field--align-end","before"==r.labelPosition),o.xp6(1),o.ekj("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),o.Q6J("tabIndex",r.tabIndex)("disabled",r.disabled),o.uIk("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),o.xp6(8),o.Q6J("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),o.xp6(1),o.Q6J("ngIf",!r.hideIcon),o.xp6(1),o.Q6J("for",r.buttonId),o.uIk("id",r._labelId)}},dependencies:[RM,ci],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mdc-switch{width:var(--mdc-switch-track-width);--mdc-switch-disabled-handle-opacity:0.38;--mdc-switch-disabled-selected-icon-opacity:0.38;--mdc-switch-disabled-track-opacity:0.12;--mdc-switch-disabled-unselected-icon-opacity:0.38;--mdc-switch-handle-height:20px;--mdc-switch-handle-shape:10px;--mdc-switch-handle-width:20px;--mdc-switch-selected-icon-size:18px;--mdc-switch-track-height:14px;--mdc-switch-track-shape:7px;--mdc-switch-track-width:36px;--mdc-switch-unselected-icon-size:18px;--mdc-switch-state-layer-size:40px;--mdc-switch-selected-focus-state-layer-opacity:0.12;--mdc-switch-selected-hover-state-layer-opacity:0.04;--mdc-switch-selected-pressed-state-layer-opacity:0.1;--mdc-switch-unselected-focus-state-layer-opacity:0.12;--mdc-switch-unselected-hover-state-layer-opacity:0.04;--mdc-switch-unselected-pressed-state-layer-opacity:0.1}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle .mdc-label{font-family:var(--mat-slide-toggle-label-text-font);font-size:var(--mat-slide-toggle-label-text-size);letter-spacing:var(--mat-slide-toggle-label-text-tracking);line-height:var(--mat-slide-toggle-label-text-line-height);font-weight:var(--mat-slide-toggle-label-text-weight)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}'],encapsulation:2,changeDetection:0})}return n})(),tz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})(),nz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[tz,ra,NP,Ii,tz,ra]})}return n})();const iz=function(){return{"max-width":"300px",height:"300px",width:"90vw","border-radius":"15px"}},rz=function(){return{width:"100%","min-width":"150px"}};function cK(n,t){1&n&&(o.TgZ(0,"div",3),o._UZ(1,"ngx-skeleton-loader",4)(2,"ngx-skeleton-loader",5),o.qZA()),2&n&&(o.xp6(1),o.Q6J("theme",o.DdM(2,iz)),o.xp6(1),o.Q6J("theme",o.DdM(3,rz)))}const lK=function(){return["/products"]};function uK(n,t){if(1&n&&(o.TgZ(0,"div",6),o._UZ(1,"img",7),o.TgZ(2,"div",8),o._uU(3,"A kosara \xfcres!"),o.TgZ(4,"p",9),o._uU(5,"Vissza a term\xe9kekhez!"),o.qZA()()()),2&n){const e=o.oxw();o.Udp("display",e.contentLoaded?"flex":"none"),o.xp6(4),o.Q6J("routerLink",o.DdM(3,lK))}}function dK(n,t){1&n&&(o.TgZ(0,"div",3),o._UZ(1,"ngx-skeleton-loader",4)(2,"ngx-skeleton-loader",5),o.qZA()),2&n&&(o.xp6(1),o.Q6J("theme",o.DdM(2,iz)),o.xp6(1),o.Q6J("theme",o.DdM(3,rz)))}const oz=function(n){return{"disabled-button":n}};function hK(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",26),o._UZ(1,"div",27)(2,"img",28),o.TgZ(3,"div",29),o._uU(4),o.qZA(),o.TgZ(5,"div",30),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.decreaseQuantity(s))}),o._UZ(6,"i",31),o.qZA(),o.TgZ(7,"div",32),o._uU(8),o.qZA(),o.TgZ(9,"div",33),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.increaseQuantity(s))}),o._UZ(10,"i",34),o.qZA(),o.TgZ(11,"div",35),o._uU(12),o.qZA(),o.TgZ(13,"button",36),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.removeFromCart(s))}),o._UZ(14,"i",37),o.qZA()()}if(2&n){const e=t.$implicit;o.xp6(2),o.Q6J("src",e.selectedImage||e.product.imagePath,o.LSH),o.xp6(2),o.lnq("",e.product.productName," ",e.size," ",e.color," "),o.xp6(1),o.Q6J("ngClass",o.VKq(8,oz,1===e.quantity)),o.xp6(3),o.Oqu(e.quantity),o.xp6(1),o.Q6J("ngClass",o.VKq(10,oz,5===e.quantity)),o.xp6(3),o.hij(" ",e.selectedPrice*e.quantity," ")}}const sz=function(n){return{active:n}},az=function(n){return{opacity:n}};function fK(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",10)(1,"div",11)(2,"div",12),o.YNc(3,hK,15,12,"div",13),o.qZA()(),o.TgZ(4,"div",14)(5,"div",15)(6,"mat-slide-toggle",16),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.shoppingService.insuranceIsChecked=r)}),o.qZA(),o.TgZ(7,"h3",17),o._uU(8,"500 Ft"),o.qZA(),o._uU(9," K\xfcldem\xe9ny biztos\xedt\xe1sa "),o.TgZ(10,"p",18),o._uU(11,"A k\xfcldem\xe9ny megs\xe9r\xfcl\xe9se vagy elveszt\xe9se eset\xe9n nem kell v\xe1rnia a helyzet t\xf6rv\xe9nyileg el\u0151\xedrt hat\xe1rid\u0151n bel\xfcli rendez\xe9s\xe9re. El\xe9g, ha bejelenti nek\xfcnk \xe9s dokument\xe1lja a k\xfcldem\xe9ny megs\xe9r\xfcl\xe9s\xe9t vagy elveszt\xe9s\xe9t, \xe9s mi postafordult\xe1val teljesen \xfaj \xe1rut k\xfcld\xfcnk \xf6nnek. "),o.qZA()(),o.TgZ(12,"div",19)(13,"mat-slide-toggle",16),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.shoppingService.giftIsChecked=r)}),o.qZA(),o.TgZ(14,"h3",17),o._uU(15,"1590 Ft"),o.qZA(),o._uU(16," Luxus csomagol\xe1s "),o.TgZ(17,"p",18),o._uU(18,"Sz\xedvesen luxus kivitel\u0171 aj\xe1nd\xe9kcsomagol\xe1sba csomagolunk \xf6nnek mindent. "),o.qZA()(),o.TgZ(19,"div",20),o._uU(20,"H\xe1zhoz sz\xe1ll\xedt\xe1s "),o.TgZ(21,"h3"),o._uU(22,"1390 Ft "),o.qZA()(),o.TgZ(23,"div",21),o._uU(24,"100% Kedvezm\xe9ny a kisz\xe1ll\xedt\xe1sra! "),o.TgZ(25,"p",22),o._uU(26,"50.000 Forint v\xe1s\xe1rl\xe1s eset\xe9n ingyenesen h\xe1zhoz sz\xe1ll\xedtjuk! "),o.qZA()(),o.TgZ(27,"div",23)(28,"div",24)(29,"h3"),o._uU(30,"\xd6sszesen fizetend\u0151: "),o.TgZ(31,"p"),o._uU(32),o.qZA()()()(),o.TgZ(33,"button",25),o._uU(34,"Tov\xe1bb a sz\xe1ll\xedt\xe1sra!"),o.qZA()()()}if(2&n){const e=o.oxw();o.Udp("display",e.contentLoaded?"grid":"none"),o.xp6(3),o.Q6J("ngForOf",e.services.getCartItems()),o.xp6(3),o.Q6J("ngModel",e.shoppingService.insuranceIsChecked),o.xp6(1),o.Q6J("ngClass",o.VKq(11,sz,e.shoppingService.insuranceIsChecked)),o.xp6(6),o.Q6J("ngModel",e.shoppingService.giftIsChecked),o.xp6(1),o.Q6J("ngClass",o.VKq(13,sz,e.shoppingService.giftIsChecked)),o.xp6(5),o.Q6J("ngStyle",o.VKq(15,az,e.getTotalPrice()<5e4?1:.5)),o.xp6(4),o.Q6J("ngStyle",o.VKq(17,az,e.getTotalPrice()>49999?1:.5)),o.xp6(9),o.hij("",e.calculateShippingPrice()+e.getTotalPrice()+(e.shoppingService.insuranceIsChecked?500:0)+(e.shoppingService.giftIsChecked?1590:0)," Ft"),o.xp6(1),o.Q6J("disabled",0===e.services.getCartItems().length)}}let pK=(()=>{class n{constructor(e,i){this.services=e,this.shoppingService=i,this.cartItems=[],this.selectedProducts=[],this.contentLoaded=!1,this.navbarData=vM,this.insuranceIsChecked=!0,this.giftIsChecked=!1,this.shippingPrice=1390,this.selectedProductPrice=this.services.selectedSizePrice}ngOnInit(){this.cartItems=this.services.getCartItems(),setTimeout(()=>{this.contentLoaded=!0},1e3)}getProductPrice(){return this.selectedProductPrice}addToCart(){const e=this.navbarData.find(i=>"shopping-cart"===i.routerLink);e&&(e.badge=(e.badge||0)+1)}isNumber(e){return!isNaN(e)}increaseQuantity(e){e.quantity++;const i=this.navbarData.find(r=>"shopping-cart"===r.routerLink);i&&(i.badge=(i.badge||0)+1)}decreaseQuantity(e){if(e.quantity>1){e.quantity--;const i=this.navbarData.find(r=>"shopping-cart"===r.routerLink);i&&(i.badge=(i.badge||0)-1)}}removeFromCart(e){const i=this.services.getCartItems().indexOf(e);if(-1!==i){const r=e.quantity;this.services.getCartItems().splice(i,1);const s=this.navbarData.find(u=>"shopping-cart"===u.routerLink);s&&(s.badge=Math.max((s.badge||0)-r,0))}}calculateShippingPrice(){return this.shippingPrice=this.getTotalPrice()>=5e4?0:1390}getTotalPrice(){let e=0;for(const i of this.services.getCartItems())e+=i.selectedPrice*i.quantity;return e}calculateTotalPayment(){return this.calculateShippingPrice()+this.getTotalPrice()+(this.insuranceIsChecked?500:0)+(this.giftIsChecked?1590:0)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ta),o.Y36(vB))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-shopping-cart"]],decls:4,vars:4,consts:[["class","ngx-container",4,"ngIf"],["class","empty-cart",3,"display",4,"ngIf"],["class","shopping-cart-component",3,"display",4,"ngIf"],[1,"ngx-container"],["appearance","circle",3,"theme"],["count","2","appearance","line",3,"theme"],[1,"empty-cart"],["src","./assets/images/empty-cart.png",1,"empty-cart-img"],[1,"empty-cart-desc"],[1,"empty-cart-button",3,"routerLink"],[1,"shopping-cart-component"],[1,"shopping-cart-card-container"],[1,"shopping-cart-card"],["class","cart-item",4,"ngFor","ngForOf"],[1,"checkout-container"],[1,"insurance"],[3,"ngModel","ngModelChange"],[3,"ngClass"],[1,"checkout-container-desc"],[1,"gift"],[1,"shipping",3,"ngStyle"],[1,"bonus",3,"ngStyle"],[1,"bonus-desc"],[1,"checkout-card"],[1,"total-price"],["routerLink","/shipping",1,"btn-hover","color-8",3,"disabled"],[1,"cart-item"],[1,"img-background"],[1,"product-image",3,"src"],[1,"shopping-cart-head"],[1,"decreaseQuantity",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-minus"],[1,"product-quantity"],[1,"increaseQuantity",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-plus"],[1,"shopping-cart-price"],[1,"removeFromCart",3,"click"],[1,"fal","fa-times","close-icon"]],template:function(i,r){1&i&&(o.YNc(0,cK,3,4,"div",0),o.YNc(1,uK,6,4,"div",1),o.YNc(2,dK,3,4,"div",0),o.YNc(3,fK,35,19,"div",2)),2&i&&(o.Q6J("ngIf",!r.contentLoaded&&0===r.services.getCartItems().length),o.xp6(1),o.Q6J("ngIf",0===r.services.getCartItems().length),o.xp6(1),o.Q6J("ngIf",!r.contentLoaded&&r.services.getCartItems().length>0),o.xp6(1),o.Q6J("ngIf",r.services.getCartItems().length>0))},dependencies:[vo,Ln,ci,Qo,Yu,ez,uy,CP,fm],styles:['.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:auto;position:relative;-webkit-user-select:none;user-select:none}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:10px;position:relative}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{color:#f0f8ff;font-size:15px;margin-bottom:5px;display:flex;flex:1}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{color:#f0f8ff;font-size:18px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{color:#f0f8ff;border-radius:10px;background-color:#1c202b;flex:1;display:flex;align-items:center;margin:10px 10px 5px;border-bottom:1px solid #ccc;position:relative;gap:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .img-background[_ngcontent-%COMP%]{width:120px;height:120px;background-color:#fff;position:absolute;overflow:hidden;z-index:2;border-radius:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{position:relative;z-index:3;width:120px;background-color:#fff;height:120px;border-radius:5px;margin-right:10px;overflow:hidden;border:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{font-size:15px;margin-right:30px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{font-size:18px;overflow:hidden;margin-left:50px;margin-right:15px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:15px;display:flex;align-items:center;margin-left:auto;color:#f0f8ff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;justify-content:center;align-items:center;font-size:20px;margin:0 5px;border-radius:50%;padding:10px;border:1px solid #a5beda;cursor:pointer;color:#f0f8ff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%]   .fa-minus[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]   .fa-minus[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{font-size:14px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]:hover{background-color:#ef2158}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;margin:0;gap:0px;width:auto}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:15px 10px 15px 0;margin-left:0}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{gap:2px;margin:10px 0 0}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{margin-right:5px;font-size:12px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:25px;height:25px;font-size:10px;padding:0;margin:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{margin-left:4px;font-size:13px;float:right}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;font-size:12px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .img-background[_ngcontent-%COMP%]{max-width:80px;max-height:80px;width:80px;height:80px;overflow:hidden}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{margin-right:0;max-width:80px;max-height:80px;width:auto;height:auto;max-height:100px;overflow:hidden}}.empty-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.empty-cart-img[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-22%);width:100%;max-width:600px;display:flex;overflow:hidden}.empty-cart-desc[_ngcontent-%COMP%]{text-align:center;position:absolute;width:300px;top:55%;left:50%;transform:translate(-50%,-10%);font-size:26px;font-weight:300;border-top:1px solid #ccc;padding-top:15px;transition:all .4s ease-in-out}.empty-cart-button[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer;transition:all .3s ease-in-out;font-weight:100}.empty-cart-button[_ngcontent-%COMP%]:after{background:none repeat scroll 0 0 transparent;bottom:0;content:"";display:block;height:1px;left:50%;position:absolute;background:#191818;transition:width .3s ease 0s,left .3s ease 0s;width:0}.empty-cart-button[_ngcontent-%COMP%]:hover:after{width:100%;left:0}@media screen and (max-width: 500px){.empty-cart-desc[_ngcontent-%COMP%]{top:41%;left:50%}.empty-cart-button[_ngcontent-%COMP%]{top:48%;left:50%;font-size:22px}}.bonus[_ngcontent-%COMP%]   .bonus-desc[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;font-size:13px;margin-top:15px;width:auto}.insurance[_ngcontent-%COMP%], .gift[_ngcontent-%COMP%], .bonus[_ngcontent-%COMP%], .shipping[_ngcontent-%COMP%]{font-size:15px;border-top:1px solid #ccc;margin-top:20px;padding-top:10px}.checkout-container-desc[_ngcontent-%COMP%]{font-size:13px;margin-top:15px;opacity:.5;width:100%}.shipping[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1}h3[_ngcontent-%COMP%]{float:right;opacity:.5;font-weight:800}h3.active[_ngcontent-%COMP%]{opacity:1}.disabled-button[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.checkout-container[_ngcontent-%COMP%]{background-color:#f4f7fa;padding:10px;border-radius:.625rem;height:100%;display:grid;position:relative;max-width:1000px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]{padding-top:20px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1;font-size:18px;font-weight:200}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:800;float:right;top:0;margin-left:40px}@media screen and (max-width: 750px){.checkout-container[_ngcontent-%COMP%]{padding:2px}.checkout-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:100%}.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:14px;margin-top:20px;padding-top:10px}}@media screen and (max-width: 750px) and (max-width: 340px){.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width: 750px){.checkout-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:-4px}.checkout-container[_ngcontent-%COMP%]   .btn-hover[_ngcontent-%COMP%]{float:right}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:100%;font-size:16px}}.btn-hover[_ngcontent-%COMP%]{width:200px;font-size:16px;font-weight:400;background-color:#1c202b;color:#fff;cursor:pointer;margin-left:auto;height:55px;text-align:center;border-radius:.625rem;transition:all .5s ease}.btn-hover[_ngcontent-%COMP%]:hover{color:#fff;background-color:#12151d}']})}return n})(),my=(()=>{class n{constructor(e){this.auth=e,this.localStorageKey="savedCredentials",this.currentUser$=GL(this.auth)}getSavedCredentials(){const e=localStorage.getItem(this.localStorageKey);return e?JSON.parse(e):null}saveCredentials(e,i){localStorage.setItem(this.localStorageKey,JSON.stringify({email:e,password:i}))}clearSavedCredentials(){localStorage.removeItem(this.localStorageKey)}login(e,i){return(0,Sr.D)(rU(this.auth,e,i))}logout(){return(0,Sr.D)(this.auth.signOut())}signUp(e,i){return(0,Sr.D)(wT(this.auth,e,i))}updateProfileData(e){return(0,_n.of)(this.auth.currentUser).pipe(oy(r=>{if(!r)throw new Error("Nincs hiteles\xedtve!");return Fm(r,e)}))}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(xp))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const mK=["input"],gK=["label"],_K=["*"],vK=new o.OlP("mat-checkbox-default-options",{providedIn:"root",factory:cz});function cz(){return{color:"accent",clickAction:"check-indeterminate"}}const yK={provide:Wd,useExisting:(0,o.Gpc)(()=>NM),multi:!0};class bK{}let wK=0;const lz=cz(),CK=Hj(AM(kP(DM(class{constructor(n){this._elementRef=n}}))));let xK=(()=>{class n extends CK{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=na(e)}constructor(e,i,r,s,u,m,v){super(i),this._changeDetectorRef=r,this._ngZone=s,this._animationMode=m,this._options=v,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new o.vpe,this.indeterminateChange=new o.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||lz,this.color=this.defaultColor=this._options.color||lz.color,this.tabIndex=parseInt(u)||0,this.id=this._uniqueId=`${e}${++wK}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const i=na(e);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=na(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=na(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_transitionCheckState(e){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==e&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}static#e=this.\u0275fac=function(i){o.$Z()};static#t=this.\u0275dir=o.lG2({type:n,viewQuery:function(i,r){if(1&i&&(o.Gf(mK,5),o.Gf(gK,5),o.Gf(RM,5)),2&i){let s;o.iGM(s=o.CRH())&&(r._inputElement=s.first),o.iGM(s=o.CRH())&&(r._labelElement=s.first),o.iGM(s=o.CRH())&&(r.ripple=s.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[o.qOj]})}return n})(),NM=(()=>{class n extends xK{constructor(e,i,r,s,u,m){super("mat-mdc-checkbox-",e,i,r,s,u,m),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){const i=new bK;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.R0b),o.$8M("tabindex"),o.Y36(o.QbO,8),o.Y36(vK,8))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&(o.Ikx("id",r.id),o.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),o.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[o._Bn([yK]),o.qOj],ngContentSelectors:_K,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(i,r){if(1&i&&(o.F$t(),o.TgZ(0,"div",0),o.NdJ("click",function(u){return r._preventBubblingFromLabel(u)}),o.TgZ(1,"div",1,2)(3,"div",3),o.NdJ("click",function(){return r._onTouchTargetClick()}),o.qZA(),o.TgZ(4,"input",4,5),o.NdJ("blur",function(){return r._onBlur()})("click",function(){return r._onInputClick()})("change",function(u){return r._onInteractionEvent(u)}),o.qZA(),o._UZ(6,"div",6),o.TgZ(7,"div",7),o.O4$(),o.TgZ(8,"svg",8),o._UZ(9,"path",9),o.qZA(),o.kcU(),o._UZ(10,"div",10),o.qZA(),o._UZ(11,"div",11),o.qZA(),o.TgZ(12,"label",12,13),o.Hsn(14),o.qZA()()),2&i){const s=o.MAs(2);o.ekj("mdc-form-field--align-end","before"==r.labelPosition),o.xp6(4),o.ekj("mdc-checkbox--selected",r.checked),o.Q6J("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.tabIndex),o.uIk("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("name",r.name)("value",r.value),o.xp6(7),o.Q6J("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),o.xp6(1),o.Q6J("for",r.inputId)}},dependencies:[RM],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),uz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})(),IK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[ra,NP,uz,ra,uz]})}return n})();const dz=function(n){return{error:n}};let hz=(()=>{class n{constructor(e,i,r,s){this.authService=e,this.toast=i,this.router=r,this.fb=s,this.loginForm=this.fb.group({email:["",wc.required],password:["",wc.required],rememberMe:[!1]}),this.emailInvalid=!1,this.passwordInvalid=!1,this.hide=!1}ngOnInit(){const e=this.authService.getSavedCredentials();e&&this.loginForm.patchValue({email:e.email,password:e.password,rememberMe:!0})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}submit(){const{email:e,password:i,rememberMe:r}=this.loginForm.value;this.emailInvalid=this.loginForm.get("email").invalid,this.passwordInvalid=this.loginForm.get("password").invalid,this.loginForm.valid&&e&&i&&this.authService.login(e,i).pipe(this.toast.observe({success:"Sikeres bejelentkez\xe9s",loading:"Bejelentkez\xe9s...",error:"Hib\xe1s E-mail vagy jelsz\xf3!"})).subscribe(()=>{r?this.authService.saveCredentials(e,i):this.authService.clearSavedCredentials(),this.router.navigate(["/user/profile"])})}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(my),o.Y36(Va),o.Y36(Ya),o.Y36(IP))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:35,vars:7,consts:[[1,"form-container"],[1,"title"],[1,"form",3,"formGroup","ngSubmit"],[1,"inputGroup",3,"ngClass"],["type","text","required","","formControlName","email"],["for","text"],["type","password","formControlName","password","required",""],[1,"checkbox"],["type","checkbox","formControlName","rememberMe"],[1,"form-btn"],[1,"sign-up-label"],["routerLink","/user/sign-up",1,"sign-up-link"],[1,"buttons-container"],[1,"apple-login-button"],["stroke","currentColor","fill","currentColor","stroke-width","0","viewBox","0 0 1024 1024","height","1em","width","1em","xmlns","http://www.w3.org/2000/svg",1,"apple-icon"],["d","M747.4 535.7c-.4-68.2 30.5-119.6 92.9-157.5-34.9-50-87.7-77.5-157.3-82.8-65.9-5.2-138 38.4-164.4 38.4-27.9 0-91.7-36.6-141.9-36.6C273.1 298.8 163 379.8 163 544.6c0 48.7 8.9 99 26.7 150.8 23.8 68.2 109.6 235.3 199.1 232.6 46.8-1.1 79.9-33.2 140.8-33.2 59.1 0 89.7 33.2 141.9 33.2 90.3-1.3 167.9-153.2 190.5-221.6-121.1-57.1-114.6-167.2-114.6-170.7zm-105.1-305c50.7-60.2 46.1-115 44.6-134.7-44.8 2.6-96.6 30.5-126.1 64.8-32.5 36.8-51.6 82.3-47.5 133.6 48.4 3.7 92.6-21.2 129-63.7z"],[1,"login-with-g-a"],[1,"google-login-button"],["stroke","currentColor","fill","currentColor","stroke-width","0","version","1.1","x","0px","y","0px","viewBox","0 0 48 48","height","1em","width","1em","xmlns","http://www.w3.org/2000/svg",1,"google-icon"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\n            c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\n            c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\n            C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\n            c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\n            c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"p",1),o._uU(2,"Jelentkezzen be!"),o.qZA(),o.TgZ(3,"form",2),o.NdJ("ngSubmit",function(){return r.submit()}),o.TgZ(4,"div",3),o._UZ(5,"input",4),o.TgZ(6,"label",5),o._uU(7,"E-mail c\xedm"),o.qZA()(),o.TgZ(8,"div",3),o._UZ(9,"input",6),o.TgZ(10,"label",5),o._uU(11,"Jelsz\xf3"),o.qZA()(),o.TgZ(12,"div",7)(13,"mat-checkbox",8),o._uU(14,"Em\xe9kezz r\xe1m"),o.qZA()(),o.TgZ(15,"button",9),o._uU(16,"Bejelentkez\xe9s"),o.qZA()(),o.TgZ(17,"p",10),o._uU(18," M\xe9g nincs fi\xf3kja?"),o.TgZ(19,"span",11),o._uU(20,"Regisztr\xe1ljon!"),o.qZA()(),o.TgZ(21,"div",12)(22,"div",13),o.O4$(),o.TgZ(23,"svg",14),o._UZ(24,"path",15),o.qZA(),o.kcU(),o.TgZ(25,"span",16),o._uU(26,"Bejelentkez\xe9s Apple fi\xf3kkal"),o.qZA()(),o.TgZ(27,"div",17),o.O4$(),o.TgZ(28,"svg",18),o._UZ(29,"path",19)(30,"path",20)(31,"path",21)(32,"path",22),o.qZA(),o.kcU(),o.TgZ(33,"span",16),o._uU(34,"Bejelentkez\xe9s Google fi\xf3kkal"),o.qZA()()()()),2&i&&(o.xp6(3),o.Q6J("formGroup",r.loginForm),o.xp6(1),o.Q6J("ngClass",o.VKq(3,dz,r.emailInvalid)),o.xp6(4),o.Q6J("ngClass",o.VKq(5,dz,r.passwordInvalid)))},dependencies:[vo,Yu,TM,ly,uy,yM,xP,zg,ow,NM],styles:[".mdc-text-field--filled[_ngcontent-%COMP%]:not(.mdc-text-field--disabled){background-color:#eceff1}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}mat-checkbox[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.text-center[_ngcontent-%COMP%]{text-align:center}.form-container[_ngcontent-%COMP%]{width:100%;max-width:500px;height:500px;background-color:#fff;box-shadow:#00000059 0 5px 15px;border-radius:10px;box-sizing:border-box;padding:20px 30px;position:relative}.title[_ngcontent-%COMP%]{text-align:center;margin:10px 0 30px;font-size:28px;font-weight:800;color:#061e29}.form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:18px;margin-bottom:15px}.page-link[_ngcontent-%COMP%]{text-decoration:underline;margin:0;text-align:end;color:#747474;text-decoration-color:#747474}.page-link-label[_ngcontent-%COMP%]{cursor:pointer;font-size:9px;font-weight:700}.page-link-label[_ngcontent-%COMP%]:hover{color:#000}.form-btn[_ngcontent-%COMP%]{padding:10px 15px;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;border-radius:20px;border:0!important;outline:0!important;background:#061e29;color:#fff;cursor:pointer;box-shadow:#0000003d 0 3px 8px}.form-btn[_ngcontent-%COMP%]:active{box-shadow:none}.sign-up-label[_ngcontent-%COMP%]{margin:0;font-size:10px;color:#747474;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}.sign-up-link[_ngcontent-%COMP%]{margin-left:1px;font-size:11px;text-decoration:underline;text-decoration-color:#061e29;color:#061e29;cursor:pointer;font-weight:800;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}.buttons-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:flex-start;margin-top:20px;gap:15px}.apple-login-button[_ngcontent-%COMP%], .google-login-button[_ngcontent-%COMP%]{border-radius:20px;box-sizing:border-box;padding:10px 15px;box-shadow:#00000029 0 10px 36px,#0000000f 0 0 0 1px;cursor:not-allowed;display:flex;justify-content:center;align-items:center;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;font-size:11px;gap:5px;-webkit-user-select:none;user-select:none;opacity:.3}.apple-login-button[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:2px solid #000}.google-login-button[_ngcontent-%COMP%]{border:2px solid #747474}.apple-icon[_ngcontent-%COMP%], .google-icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:1px}@media screen and (max-width: 550px){.form-container[_ngcontent-%COMP%]{max-width:550px;height:500px;padding:15px 7px;margin-top:35px}.form-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:10px 0 30px;font-size:22px}.form-container[_ngcontent-%COMP%]   .apple-login-button[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .google-login-button[_ngcontent-%COMP%]{font-size:10px}}@media screen and (min-width: 550px){.form-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}}.inputGroup[_ngcontent-%COMP%]{margin:1em 0 0;max-width:100%;position:relative}.inputGroup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:100%;padding:.8em;outline:none;border:2px solid rgb(200,200,200);background-color:transparent;border-radius:20px;width:100%}.inputGroup.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:red}.inputGroup.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:red}.inputGroup.error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid) ~ label[_ngcontent-%COMP%]{color:#646464}.inputGroup[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:100%;position:absolute;left:0;padding:.8em;margin-left:.5em;pointer-events:none;transition:all .3s ease;color:#646464}.inputGroup[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid) ~ label[_ngcontent-%COMP%]{transform:translateY(-50%) scale(.9);margin:0 0 0 1.3em;padding:.4em;background-color:#fff}.inputGroup[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid){border-color:#061e29}"]})}return n})(),FM=(()=>{class n{get currentUserProfile$(){return this.authService.currentUser$.pipe((0,as.w)(e=>{if(!e?.uid)return(0,_n.of)(null);const i=NS(this.firestore,"*users",e?.uid);return wq(i)}))}constructor(e,i){this.firestore=e,this.authService=i}addUser(e){const i=NS(this.firestore,"*users",e?.uid);return(0,Sr.D)(x3(i,e))}addGuest(e){const i=NS(this.firestore,"*guests",e?.uid);return(0,Sr.D)(x3(i,e))}updateUser(e){const i=NS(this.firestore,"*users",e?.uid);return(0,Sr.D)(Eq(i,{...e}))}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(zd),o.LFG(my))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var RF=Q(3020);class NF{}class mm{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof mm?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new mm;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof mm?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let u=this.headers.get(e);if(!u)return;u=u.filter(m=>-1===s.indexOf(m)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class TK{encodeKey(t){return fz(t)}encodeValue(t){return fz(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const SK=/%(\d[a-f0-9])/gi,PK={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fz(n){return encodeURIComponent(n).replace(SK,(t,e)=>PK[e]??t)}function LP(n){return`${n}`}class qg{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new TK,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function OK(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[u,m]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],v=e.get(u)||[];v.push(m),e.set(u,v)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(LP):[LP(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new qg({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(LP(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(LP(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class DK{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function pz(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function mz(n){return typeof Blob<"u"&&n instanceof Blob}function gz(n){return typeof FormData<"u"&&n instanceof FormData}class LM{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function AK(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new mm),this.context||(this.context=new DK),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const m=e.indexOf("?");this.urlWithParams=e+(-1===m?"?":m<e.length-1?"&":"")+u}}else this.params=new qg,this.urlWithParams=e}serializeBody(){return null===this.body?null:pz(this.body)||mz(this.body)||gz(this.body)||function kK(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gz(this.body)?null:mz(this.body)?this.body.type||null:pz(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,m=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let v=t.headers||this.headers,x=t.params||this.params;const P=t.context??this.context;return void 0!==t.setHeaders&&(v=Object.keys(t.setHeaders).reduce((L,q)=>L.set(q,t.setHeaders[q]),v)),t.setParams&&(x=Object.keys(t.setParams).reduce((L,q)=>L.set(q,t.setParams[q]),x)),new LM(e,i,s,{params:x,headers:v,context:P,reportProgress:m,responseType:r,withCredentials:u})}}var LF=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(LF||{});class RK{constructor(t,e=200,i="OK"){this.headers=t.headers||new mm,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class UM extends RK{constructor(t={}){super(t),this.type=LF.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new UM({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function UF(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let VF=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof LM)s=e;else{let v,x;v=r.headers instanceof mm?r.headers:new mm(r.headers),r.params&&(x=r.params instanceof qg?r.params:new qg({fromObject:r.params})),s=new LM(e,i,void 0!==r.body?r.body:null,{headers:v,context:r.context,params:x,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=(0,_n.of)(s).pipe(oy(v=>this.handler.handle(v)));if(e instanceof LM||"events"===r.observe)return u;const m=u.pipe(cr(v=>v instanceof UM));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return m.pipe((0,gn.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return m.pipe((0,gn.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return m.pipe((0,gn.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return m.pipe((0,gn.U)(v=>v.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new qg).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,UF(r,i))}post(e,i,r={}){return this.request("POST",e,UF(r,i))}put(e,i,r={}){return this.request("PUT",e,UF(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(NF))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const eQ=["*"];let BP;function VM(n){return function tQ(){if(void 0===BP&&(BP=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(BP=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return BP}()?.createHTML(n)||n}function Iz(n){return Error(`Unable to find icon with the name "${n}"`)}function Tz(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Oz(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class _y{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let jP=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new _y(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const u=this._sanitizer.sanitize(o.q3G.HTML,r);if(!u)throw Oz(r);const m=VM(u);return this._addSvgIconConfig(e,i,new _y("",m,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new _y(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw Oz(i);const u=VM(s);return this._addSvgIconSetConfig(e,new _y("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!i)throw Tz(e);const r=this._cachedIconsByUrl.get(i);return r?(0,_n.of)(zP(r)):this._loadSvgIconFromConfig(new _y(e,null)).pipe((0,tr.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,gn.U)(s=>zP(s)))}getNamedSvgIcon(e,i=""){const r=Sz(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):qb(Iz(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,_n.of)(zP(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,gn.U)(i=>zP(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?(0,_n.of)(r):yB(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Lg(m=>{const x=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,u.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(x)),(0,_n.of)(null)})))).pipe((0,gn.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw Iz(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(s),m=this._extractSvgIconFromSet(u,e,s.options);if(m)return m}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,tr.b)(i=>e.svgText=i),(0,gn.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,_n.of)(null):this._fetchIcon(e).pipe((0,tr.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const u=s.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const m=this._svgElementFromString(VM("<svg></svg>"));return m.appendChild(u),this._setSvgAttributes(m,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(VM("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:u,value:m}=r[s];"id"!==u&&i.setAttribute(u,m)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function nQ(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,i);if(!u)throw Tz(i);const m=this._inProgressUrlFetches.get(u);if(m)return m;const v=this._httpClient.get(u,{responseType:"text",withCredentials:s}).pipe((0,gn.U)(x=>VM(x)),qS(()=>this._inProgressUrlFetches.delete(u)),(0,RF.B)());return this._inProgressUrlFetches.set(u,v),v}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(Sz(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return rQ(s)?new _y(s.url,null,s.options):new _y(s,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(VF,8),o.LFG(Xr),o.LFG(ke,8),o.LFG(o.qLn))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zP(n){return n.cloneNode(!0)}function Sz(n,t){return n+":"+t}function rQ(n){return!(!n.url||!n.options)}const oQ=AM(class{constructor(n){this._elementRef=n}}),sQ=new o.OlP("MAT_ICON_DEFAULT_OPTIONS"),aQ=new o.OlP("mat-icon-location",{providedIn:"root",factory:function cQ(){const n=(0,o.f3M)(ke),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Pz=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],lQ=Pz.map(n=>`[${n}]`).join(", "),uQ=/^url\(['"]?#(.*?)['"]?\)$/;let jF=(()=>{class n extends oQ{get inline(){return this._inline}set inline(e){this._inline=na(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,s,u,m){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Wu.w0.EMPTY,m&&(m.color&&(this.color=this.defaultColor=m.color),m.fontSet&&(this.fontSet=m.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(u=>{s.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(lQ),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)Pz.forEach(u=>{const m=i[s],v=m.getAttribute(u),x=v?v.match(uQ):null;if(x){let P=r.get(m);P||(P=[],r.set(m,P)),P.push({name:u,value:x[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(nl(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(jP),o.$8M("aria-hidden"),o.Y36(aQ),o.Y36(o.qLn),o.Y36(sQ,8))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(o.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),o.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:eQ,decls:1,vars:0,template:function(i,r){1&i&&(o.F$t(),o.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),Dz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[ra,ra]})}return n})();const Az=aw({passive:!0});let dQ=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return qf.E;const i=$g(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new zn.x,u="cdk-text-field-autofilled",m=v=>{"cdk-text-field-autofill-start"!==v.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===v.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>s.next({target:v.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>s.next({target:v.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",m,Az),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",m,Az)}}),s}stopMonitoring(e){const i=$g(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Qa),o.LFG(o.R0b))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})();var Zg=Q(3019),fQ=Q(4552);class pQ extends zn.x{constructor(t=1/0,e=1/0,i=fQ.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:u}=this;e||(i.push(t),!r&&i.push(s.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let u=0;u<s.length&&!t.closed;u+=i?1:2)t.next(s[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const u=e.now();let m=0;for(let v=1;v<i.length&&i[v]<=u;v+=2)m=v;m&&i.splice(0,m+1)}}}function zF(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,RF.B)({connector:()=>new pQ(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}class mQ{constructor(t){this._box=t,this._destroyed=new zn.x,this._resizeSubject=new zn.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new ar.y(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(cr(e=>e.some(i=>i.target===t)),zF({bufferSize:1,refCount:!0}),Gd(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let gQ=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,o.f3M)(o.R0b)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new mQ(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const _Q=["notch"],vQ=["matFormFieldNotchedOutline",""],yQ=["*"],bQ=["textField"],wQ=["iconPrefixContainer"],CQ=["textPrefixContainer"];function xQ(n,t){1&n&&o._UZ(0,"span",19)}function EQ(n,t){if(1&n&&(o.TgZ(0,"label",17),o.Hsn(1,1),o.YNc(2,xQ,1,0,"span",18),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),o.uIk("for",e._control.id),o.xp6(2),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function MQ(n,t){if(1&n&&o.YNc(0,EQ,3,5,"label",16),2&n){const e=o.oxw();o.Q6J("ngIf",e._hasFloatingLabel())}}function IQ(n,t){1&n&&o._UZ(0,"div",20)}function TQ(n,t){}function OQ(n,t){if(1&n&&o.YNc(0,TQ,0,0,"ng-template",22),2&n){o.oxw(2);const e=o.MAs(1);o.Q6J("ngTemplateOutlet",e)}}function SQ(n,t){if(1&n&&(o.TgZ(0,"div",21),o.YNc(1,OQ,1,1,"ng-template",9),o.qZA()),2&n){const e=o.oxw();o.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),o.xp6(1),o.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function PQ(n,t){1&n&&(o.TgZ(0,"div",23,24),o.Hsn(2,2),o.qZA())}function DQ(n,t){1&n&&(o.TgZ(0,"div",25,26),o.Hsn(2,3),o.qZA())}function AQ(n,t){}function kQ(n,t){if(1&n&&o.YNc(0,AQ,0,0,"ng-template",22),2&n){o.oxw();const e=o.MAs(1);o.Q6J("ngTemplateOutlet",e)}}function RQ(n,t){1&n&&(o.TgZ(0,"div",27),o.Hsn(1,4),o.qZA())}function NQ(n,t){1&n&&(o.TgZ(0,"div",28),o.Hsn(1,5),o.qZA())}function FQ(n,t){1&n&&o._UZ(0,"div",29)}function LQ(n,t){if(1&n&&(o.TgZ(0,"div",30),o.Hsn(1,6),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function UQ(n,t){if(1&n&&(o.TgZ(0,"mat-hint",34),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function VQ(n,t){if(1&n&&(o.TgZ(0,"div",31),o.YNc(1,UQ,2,2,"mat-hint",32),o.Hsn(2,7),o._UZ(3,"div",33),o.Hsn(4,8),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const BQ=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],jQ=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let BM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]})}return n})(),zQ=0;const kz=new o.OlP("MatError");let Rz=(()=>{class n{constructor(e,i){this.id="mat-mdc-error-"+zQ++,e||i.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(i){return new(i||n)(o.$8M("aria-live"),o.Y36(o.SBq))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){2&i&&o.Ikx("id",r.id)},inputs:{id:"id"},features:[o._Bn([{provide:kz,useExisting:n}])]})}return n})(),HQ=0,Nz=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+HQ++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(o.Ikx("id",r.id),o.uIk("align",null),o.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const $Q=new o.OlP("MatPrefix"),Fz=new o.OlP("MatSuffix");let qQ=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[o._Bn([{provide:Fz,useExisting:n}])]})}return n})();const Lz=new o.OlP("FloatingLabelParent");let Uz=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,o.f3M)(gQ),this._ngZone=(0,o.f3M)(o.R0b),this._parent=(0,o.f3M)(Lz),this._resizeSubscription=new Wu.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function GQ(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&o.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const Vz="mdc-line-ripple--active",HP="mdc-line-ripple--deactivating";let Bz=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,u=s.contains(HP);"opacity"===r.propertyName&&u&&s.remove(Vz,HP)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(HP),e.add(Vz)}deactivate(){this._elementRef.nativeElement.classList.add(HP)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(o.R0b))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),jz=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(o.R0b))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&o.Gf(_Q,5),2&i){let s;o.iGM(s=o.CRH())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&o.ekj("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:vQ,ngContentSelectors:yQ,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(o.F$t(),o._UZ(0,"div",0),o.TgZ(1,"div",1,2),o.Hsn(3),o.qZA(),o._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const ZQ={transitionMessages:Gc("transitionMessages",[gd("enter",Oi({opacity:1,transform:"translateY(0%)"})),ps("void => enter",[Oi({opacity:0,transform:"translateY(-5px)"}),Ri("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let zz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=o.lG2({type:n})}return n})();const Hz=new o.OlP("MatFormField"),WQ=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let $z=0,HF=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=na(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,s,u,m,v,x){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=u,this._defaults=m,this._animationMode=v,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+$z++,this._hintLabelId="mat-mdc-hint-"+$z++,this._subscriptAnimationState="",this._destroyed=new zn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,m&&(m.appearance&&(this.appearance=m.appearance),this._hideRequiredMarker=!!m?.hideRequiredMarker,m.color&&(this.color=m.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Gd(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Zg.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Gd(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Gd(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,u=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+u}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(DF),o.Y36(Qa),o.Y36(WQ,8),o.Y36(o.QbO,8),o.Y36(ke))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(1&i&&(o.Suo(s,BM,5),o.Suo(s,BM,7),o.Suo(s,zz,5),o.Suo(s,$Q,5),o.Suo(s,Fz,5),o.Suo(s,kz,5),o.Suo(s,Nz,5)),2&i){let u;o.iGM(u=o.CRH())&&(r._labelChildNonStatic=u.first),o.iGM(u=o.CRH())&&(r._labelChildStatic=u.first),o.iGM(u=o.CRH())&&(r._formFieldControl=u.first),o.iGM(u=o.CRH())&&(r._prefixChildren=u),o.iGM(u=o.CRH())&&(r._suffixChildren=u),o.iGM(u=o.CRH())&&(r._errorChildren=u),o.iGM(u=o.CRH())&&(r._hintChildren=u)}},viewQuery:function(i,r){if(1&i&&(o.Gf(bQ,5),o.Gf(wQ,5),o.Gf(CQ,5),o.Gf(Uz,5),o.Gf(jz,5),o.Gf(Bz,5)),2&i){let s;o.iGM(s=o.CRH())&&(r._textField=s.first),o.iGM(s=o.CRH())&&(r._iconPrefixContainer=s.first),o.iGM(s=o.CRH())&&(r._textPrefixContainer=s.first),o.iGM(s=o.CRH())&&(r._floatingLabel=s.first),o.iGM(s=o.CRH())&&(r._notchedOutline=s.first),o.iGM(s=o.CRH())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&o.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:Hz,useExisting:n},{provide:Lz,useExisting:n}])],ngContentSelectors:jQ,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(o.F$t(BQ),o.YNc(0,MQ,1,1,"ng-template",null,0,o.W1O),o.TgZ(2,"div",1,2),o.NdJ("click",function(u){return r._control.onContainerClick(u)}),o.YNc(4,IQ,1,0,"div",3),o.TgZ(5,"div",4),o.YNc(6,SQ,2,2,"div",5),o.YNc(7,PQ,3,0,"div",6),o.YNc(8,DQ,3,0,"div",7),o.TgZ(9,"div",8),o.YNc(10,kQ,1,1,"ng-template",9),o.Hsn(11),o.qZA(),o.YNc(12,RQ,2,0,"div",10),o.YNc(13,NQ,2,0,"div",11),o.qZA(),o.YNc(14,FQ,1,0,"div",12),o.qZA(),o.TgZ(15,"div",13),o.YNc(16,LQ,2,1,"div",14),o.YNc(17,VQ,5,2,"div",15),o.qZA()),2&i&&(o.xp6(2),o.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),o.xp6(2),o.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),o.xp6(2),o.Q6J("ngIf",r._hasOutline()),o.xp6(1),o.Q6J("ngIf",r._hasIconPrefix),o.xp6(1),o.Q6J("ngIf",r._hasTextPrefix),o.xp6(2),o.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),o.xp6(2),o.Q6J("ngIf",r._hasTextSuffix),o.xp6(1),o.Q6J("ngIf",r._hasIconSuffix),o.xp6(1),o.Q6J("ngIf",!r._hasOutline()),o.xp6(1),o.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),o.Q6J("ngSwitch",r._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},dependencies:[ci,sa,Us,nc,Nz,Uz,jz,Bz],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[ZQ.transitionMessages]},changeDetection:0})}return n})(),jM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[ra,Ii,Sj,ra]})}return n})();const QQ=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),JQ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let XQ=0;const eJ=$Y(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new zn.x}});let $F=(()=>{class n extends eJ{get disabled(){return this._disabled}set disabled(e){this._disabled=na(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(wc.required)??!1}set required(e){this._required=na(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&xj().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=na(e)}constructor(e,i,r,s,u,m,v,x,P,L){super(m,s,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=x,this._formField=L,this._uid="mat-input-"+XQ++,this.focused=!1,this.stateChanges=new zn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ae=>xj().has(ae)),this._iOSKeyupListener=ae=>{const ye=ae.target;!ye.value&&0===ye.selectionStart&&0===ye.selectionEnd&&(ye.setSelectionRange(1,1),ye.setSelectionRange(0,0))};const q=this._elementRef.nativeElement,ne=q.nodeName.toLowerCase();this._inputValueAccessor=v||q,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&P.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===ne,this._isTextarea="textarea"===ne,this._isInFormField=!!L,this._isNativeSelect&&(this.controlType=q.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){JQ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(Qa),o.Y36(pm,10),o.Y36(wP,8),o.Y36(zg,8),o.Y36(GY),o.Y36(QQ,10),o.Y36(dQ),o.Y36(o.R0b),o.Y36(Hz,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&o.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(o.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),o.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),o.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:zz,useExisting:n}]),o.qOj,o.TTD]})}return n})(),Zz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[ra,jM,jM,hQ,ra]})}return n})();function tJ(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adja meg a vezet\xe9knev\xe9t! "),o.qZA())}function nJ(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adja meg a Keresztnev\xe9t! "),o.qZA())}function iJ(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," K\xe9rem, val\xf3di E-mail c\xedmet haszn\xe1ljon! "),o.qZA())}function rJ(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adja meg az E-mail c\xedm\xe9t! "),o.qZA())}function oJ(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adja meg a telefonsz\xe1m\xe1t! "),o.qZA())}function sJ(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adja meg a Sz\xe1ll\xedt\xe1si c\xedm\xe9t! "),o.qZA())}function aJ(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adjon meg egy er\u0151s jelsz\xf3t! "),o.qZA())}function cJ(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adja meg m\xe9gegyszer! "),o.qZA())}function lJ(n,t){1&n&&(o.TgZ(0,"mat-error",20),o._uU(1," A jelsz\xf3nak egyeznie kell! "),o.qZA())}let dJ=(()=>{class n{constructor(e,i,r,s,u){this.authService=e,this.fb=i,this.router=r,this.toast=s,this.usersService=u,this.signUpForm=this.fb.group({firstName:["",wc.required],lastName:["",wc.required],email:["",[wc.required,wc.email]],phone:["",wc.required],address:["",wc.required],password:["",wc.required],confirmPassword:["",wc.required]},{validators:n=>{const t=n.get("password")?.value,e=n.get("confirmPassword")?.value;return t&&e&&t!==e?{passwordsDontMatch:!0}:null}}),this.hide=!0,this.termsChecked=!1}termsCheck(e){e.stopPropagation(),e.target!==e.currentTarget&&(this.termsChecked=!this.termsChecked)}ngOnInit(){}get email(){return this.signUpForm.get("email")}get password(){return this.signUpForm.get("password")}get confirmPassword(){return this.signUpForm.get("confirmPassword")}get address(){return this.signUpForm.get("address")}get firstName(){return this.signUpForm.get("firstName")}get lastName(){return this.signUpForm.get("lastName")}get phone(){return this.signUpForm.get("phone")}submit(){const{lastName:e,firstName:i,address:r,phone:s,email:u,password:m}=this.signUpForm.value;!this.signUpForm.valid||!i||!i||!m||!u||!r||!s||0==this.termsChecked||this.authService.signUp(u,m).pipe((0,as.w)(({user:{uid:v}})=>this.usersService.addUser({uid:v,email:u,lastName:e,firstName:i,address:r,phone:s,displayName:e})),this.toast.observe({success:"Sikeres regisztr\xe1ci\xf3!",loading:"Bejelentkez\xe9s",error:({message:v})=>`${v}`})).subscribe(()=>{this.router.navigate(["/user"])})}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(my),o.Y36(IP),o.Y36(Ya),o.Y36(Va),o.Y36(FM))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-sign-up"]],decls:58,vars:16,consts:[[1,"form-container"],[1,"title"],[1,"reg-form",3,"formGroup","ngSubmit"],[1,"row"],["matInput","","formControlName","lastName"],[4,"ngIf"],["matInput","","formControlName","firstName"],["matInput","","formControlName","email"],["type","number","matInput","","formControlName","phone"],["matInput","","formControlName","address"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",1,"pw-hide",3,"click"],["matInput","","formControlName","confirmPassword",3,"type"],["class","pw-must-match",4,"ngIf"],[3,"click"],["routerLink","/user/login",1,"terms"],[1,"login-container"],["routerLink","/user/login/",1,"login"],[1,"center","margin-top"],["type","submit",1,"form-btn",3,"disabled"],[1,"pw-must-match"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"p",1),o._uU(2,"Hozza l\xe9tre fi\xf3kj\xe1t!"),o.qZA(),o.TgZ(3,"form",2),o.NdJ("ngSubmit",function(){return r.submit()}),o.TgZ(4,"div",3)(5,"mat-form-field")(6,"mat-label"),o._uU(7,"Vezet\xe9kn\xe9v"),o.qZA(),o._UZ(8,"input",4),o.YNc(9,tJ,2,0,"mat-error",5),o.qZA(),o.TgZ(10,"mat-form-field")(11,"mat-label"),o._uU(12,"Keresztn\xe9v"),o.qZA(),o._UZ(13,"input",6),o.YNc(14,nJ,2,0,"mat-error",5),o.qZA()(),o.TgZ(15,"div",3)(16,"mat-form-field")(17,"mat-label"),o._uU(18,"E-mail c\xedm"),o.qZA(),o._UZ(19,"input",7),o.YNc(20,iJ,2,0,"mat-error",5),o.YNc(21,rJ,2,0,"mat-error",5),o.qZA(),o.TgZ(22,"mat-form-field")(23,"mat-label"),o._uU(24,"Telefonsz\xe1m"),o.qZA(),o._UZ(25,"input",8),o.YNc(26,oJ,2,0,"mat-error",5),o.qZA()(),o.TgZ(27,"mat-form-field")(28,"mat-label"),o._uU(29,"Sz\xe1ll\xedt\xe1si c\xedm"),o.qZA(),o._UZ(30,"input",9),o.YNc(31,sJ,2,0,"mat-error",5),o.qZA(),o.TgZ(32,"mat-form-field")(33,"mat-label"),o._uU(34,"Jelsz\xf3 "),o.qZA(),o._UZ(35,"input",10),o.TgZ(36,"div",11),o.NdJ("click",function(){return r.hide=!r.hide}),o.TgZ(37,"mat-icon"),o._uU(38),o.qZA()(),o.YNc(39,aJ,2,0,"mat-error",5),o.qZA(),o.TgZ(40,"mat-form-field")(41,"mat-label"),o._uU(42,"Jelsz\xf3 \xfajra"),o.qZA(),o._UZ(43,"input",12),o.YNc(44,cJ,2,0,"mat-error",5),o.qZA(),o.YNc(45,lJ,2,0,"mat-error",13),o.TgZ(46,"mat-checkbox",14),o.NdJ("click",function(u){return r.termsCheck(u)}),o._uU(47,"Elfogadom az "),o.TgZ(48,"div",15),o._uU(49,"\xc1SZF "),o.qZA(),o._uU(50,"-et "),o.qZA(),o.TgZ(51,"div",16),o._uU(52,"M\xe1r rendelkezik fi\xf3kkal? "),o.TgZ(53,"div",17),o._uU(54,"Jelentkezzen be! "),o.qZA()(),o.TgZ(55,"div",18)(56,"button",19),o._uU(57,"Regisztr\xe1ci\xf3!"),o.qZA()()()()),2&i&&(o.xp6(3),o.Q6J("formGroup",r.signUpForm),o.xp6(6),o.Q6J("ngIf",null==r.lastName||null==r.lastName.errors?null:r.lastName.errors.required),o.xp6(5),o.Q6J("ngIf",null==r.firstName||null==r.firstName.errors?null:r.firstName.errors.required),o.xp6(6),o.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.email),o.xp6(1),o.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),o.xp6(5),o.Q6J("ngIf",null==r.phone||null==r.phone.errors?null:r.phone.errors.required),o.xp6(5),o.Q6J("ngIf",null==r.address||null==r.address.errors?null:r.address.errors.required),o.xp6(4),o.Q6J("type",r.hide?"password":"text"),o.xp6(1),o.uIk("aria-label","Hide password")("aria-pressed",r.hide),o.xp6(2),o.hij(" ",r.hide?"visibility_off":"visibility"," "),o.xp6(1),o.Q6J("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required),o.xp6(4),o.Q6J("type",r.hide?"password":"text"),o.xp6(1),o.Q6J("ngIf",null==r.confirmPassword||null==r.confirmPassword.errors?null:r.confirmPassword.errors.required),o.xp6(1),o.Q6J("ngIf",null==r.signUpForm.errors?null:r.signUpForm.errors.passwordsDontMatch),o.xp6(11),o.Q6J("disabled",0==r.termsChecked))},dependencies:[ci,Yu,jF,TM,ly,OM,uy,yM,zg,ow,$F,HF,BM,Rz,qQ,NM],styles:[".mdc-text-field--filled[_ngcontent-%COMP%]:not(.mdc-text-field--disabled){background-color:#eceff1}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}mat-checkbox[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.text-center[_ngcontent-%COMP%]{text-align:center}.form-container[_ngcontent-%COMP%]{width:100%;max-width:500px;height:500px;background-color:#fff;box-shadow:#00000059 0 5px 15px;border-radius:10px;box-sizing:border-box;padding:20px 30px;position:relative}.title[_ngcontent-%COMP%]{text-align:center;margin:10px 0 30px;font-size:28px;font-weight:800;color:#061e29}.form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:18px;margin-bottom:15px}.page-link[_ngcontent-%COMP%]{text-decoration:underline;margin:0;text-align:end;color:#747474;text-decoration-color:#747474}.page-link-label[_ngcontent-%COMP%]{cursor:pointer;font-size:9px;font-weight:700}.page-link-label[_ngcontent-%COMP%]:hover{color:#000}.form-btn[_ngcontent-%COMP%]{padding:10px 15px;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;border-radius:20px;border:0!important;outline:0!important;background:#061e29;color:#fff;cursor:pointer;box-shadow:#0000003d 0 3px 8px}.form-btn[_ngcontent-%COMP%]:active{box-shadow:none}.sign-up-label[_ngcontent-%COMP%]{margin:0;font-size:10px;color:#747474;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}.sign-up-link[_ngcontent-%COMP%]{margin-left:1px;font-size:11px;text-decoration:underline;text-decoration-color:#061e29;color:#061e29;cursor:pointer;font-weight:800;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}.buttons-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:flex-start;margin-top:20px;gap:15px}.apple-login-button[_ngcontent-%COMP%], .google-login-button[_ngcontent-%COMP%]{border-radius:20px;box-sizing:border-box;padding:10px 15px;box-shadow:#00000029 0 10px 36px,#0000000f 0 0 0 1px;cursor:not-allowed;display:flex;justify-content:center;align-items:center;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;font-size:11px;gap:5px;-webkit-user-select:none;user-select:none;opacity:.3}.apple-login-button[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:2px solid #000}.google-login-button[_ngcontent-%COMP%]{border:2px solid #747474}.apple-icon[_ngcontent-%COMP%], .google-icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:1px}@media screen and (max-width: 550px){.form-container[_ngcontent-%COMP%]{max-width:550px;height:500px;padding:15px 7px;margin-top:35px}.form-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:10px 0 30px;font-size:22px}.form-container[_ngcontent-%COMP%]   .apple-login-button[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .google-login-button[_ngcontent-%COMP%]{font-size:10px}}@media screen and (min-width: 550px){.form-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}}.inputGroup[_ngcontent-%COMP%]{margin:1em 0 0;max-width:100%;position:relative}.inputGroup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:100%;padding:.8em;outline:none;border:2px solid rgb(200,200,200);background-color:transparent;border-radius:20px;width:100%}.inputGroup.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:red}.inputGroup.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:red}.inputGroup.error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid) ~ label[_ngcontent-%COMP%]{color:#646464}.inputGroup[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:100%;position:absolute;left:0;padding:.8em;margin-left:.5em;pointer-events:none;transition:all .3s ease;color:#646464}.inputGroup[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid) ~ label[_ngcontent-%COMP%]{transform:translateY(-50%) scale(.9);margin:0 0 0 1.3em;padding:.4em;background-color:#fff}.inputGroup[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid){border-color:#061e29}",".form-container[_ngcontent-%COMP%]{height:auto;width:100%;max-width:700px;position:relative}mat-checkbox[_ngcontent-%COMP%]{margin-top:0;white-space:nowrap;position:relative}mat-checkbox[_ngcontent-%COMP%]   .terms[_ngcontent-%COMP%]{display:inline-block;color:#1c202b;text-decoration:underline;cursor:pointer}.pw-must-match[_ngcontent-%COMP%]{position:absolute;font-size:12px;margin-left:14px;bottom:33%}.reg-form[_ngcontent-%COMP%]{height:auto;width:100%;display:flex;flex-direction:column}mat-form-field[_ngcontent-%COMP%]{color:#1c202b}mat-form-field[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:#1c202b;font-size:15px}mat-form-field[_ngcontent-%COMP%]   .pw-hide[_ngcontent-%COMP%]{cursor:pointer}.form-btn[_ngcontent-%COMP%]{width:60%;transition:.3s ease-in-out}.login-container[_ngcontent-%COMP%]{display:flex;font-size:10px;color:#747474;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}.login-container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{margin-left:5px;font-size:11px;text-decoration:underline;text-decoration-color:#1c202b;color:#1c202b;cursor:pointer;font-weight:800;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}.form-btn[_ngcontent-%COMP%]:disabled{padding:10px 15px;border-radius:20px;border:0!important;outline:0!important;background:#989898;color:#fff;cursor:pointer;box-shadow:#0000 0 0;transition:.3s ease-in-out}@media screen and (max-width: 650px){.form-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:block}.form-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:10px 0 20px;font-size:24px}.form-container[_ngcontent-%COMP%]   .pw-must-match[_ngcontent-%COMP%]{position:absolute;font-size:12px;margin-left:14px;bottom:28%}.form-container[_ngcontent-%COMP%]   .form-btn[_ngcontent-%COMP%]{margin-top:10px;top:100%}.form-container[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin-top:10px;white-space:wrap;position:relative}.form-container[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]   .terms[_ngcontent-%COMP%]{display:inline-block;color:#1c202b;text-decoration:underline;cursor:pointer}}"]})}return n})();const hJ=function(){return["/dashboard"]};let fJ=(()=>{class n{constructor(e,i){this.router=e,this.service=i}ngOnInit(){this.service.placedOrder||this.router.navigate(["/dashboard"]),setTimeout(()=>{this.router.navigate(["/dashboard"]),this.service.placedOrder=!1},7e3)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Ya),o.Y36(ta))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-landing"]],decls:6,vars:2,consts:[[1,"empty-cart"],["src","../../../assets/images/green-checkmark.png",1,"empty-cart-img"],[1,"empty-cart-desc"],[1,"empty-cart-button",3,"routerLink"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0),o._UZ(1,"img",1),o.TgZ(2,"div",2),o._uU(3,"K\xf6sz\xf6nj\xfck a v\xe1s\xe1rl\xe1st!"),o.TgZ(4,"p",3),o._uU(5," Hamarosan \xe1tir\xe1ny\xedtjuk a f\u0151oldalra!"),o.qZA()()()),2&i&&(o.xp6(4),o.Q6J("routerLink",o.DdM(1,hJ)))},dependencies:[Yu],styles:['.empty-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.empty-cart-img[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:90px;display:flex;overflow:hidden}.empty-cart-desc[_ngcontent-%COMP%]{text-align:center;width:400px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:22px;font-weight:300;border-top:1px solid #ccc;padding-top:15px;transition:all .4s ease-in-out}.empty-cart-button[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer;transition:all .3s ease-in-out;font-weight:100}.empty-cart-button[_ngcontent-%COMP%]:after{background:none repeat scroll 0 0 transparent;bottom:0;content:"";display:block;height:1px;left:50%;position:absolute;background:#191818;transition:width .3s ease 0s,left .3s ease 0s;width:0}.empty-cart-button[_ngcontent-%COMP%]:hover:after{width:100%;left:0}']})}return n})();const pJ=["mat-button",""],mJ=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],gJ=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],_J=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],vJ=AM(DM(kP(class{constructor(n){this._elementRef=n}})));let yJ=(()=>{class n extends vJ{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=na(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=na(e),this._updateRippleDisabled()}constructor(e,i,r,s){super(e),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,o.f3M)(AP),this._rippleLoader=(0,o.f3M)(QY),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const u=e.nativeElement.classList;for(const m of _J)this._hasHostAttributes(m.selector)&&m.mdcClasses.forEach(v=>{u.add(v)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){o.$Z()};static#t=this.\u0275dir=o.lG2({type:n,features:[o.qOj]})}return n})(),wJ=(()=>{class n extends yJ{constructor(e,i,r,s){super(e,i,r,s)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(Qa),o.Y36(o.R0b),o.Y36(o.QbO,8))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(o.uIk("disabled",r.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:pJ,ngContentSelectors:gJ,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(o.F$t(mJ),o._UZ(0,"span",0),o.Hsn(1),o.TgZ(2,"span",1),o.Hsn(3,1),o.qZA(),o.Hsn(4,2),o._UZ(5,"span",2)(6,"span",3)),2&i&&o.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),Wz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[ra,NP,ra]})}return n})();const xJ=["*",[["mat-toolbar-row"]]],EJ=["*","mat-toolbar-row"],MJ=AM(class{constructor(n){this._elementRef=n}});let IJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),TJ=(()=>{class n extends MJ{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(Qa),o.Y36(ke))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,s){if(1&i&&o.Suo(s,IJ,5),2&i){let u;o.iGM(u=o.CRH())&&(r._toolbarRows=u)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&o.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:EJ,decls:2,vars:0,template:function(i,r){1&i&&(o.F$t(xJ),o.Hsn(0),o.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),Yz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[ra,ra]})}return n})();var Kz=Q(1954);let qF,OJ=1;const $P={};function Qz(n){return n in $P&&(delete $P[n],!0)}const SJ={setImmediate(n){const t=OJ++;return $P[t]=!0,qF||(qF=Promise.resolve()),qF.then(()=>Qz(t)&&n()),t},clearImmediate(n){Qz(n)}},{setImmediate:PJ,clearImmediate:DJ}=SJ,qP={setImmediate(...n){const{delegate:t}=qP;return(t?.setImmediate||PJ)(...n)},clearImmediate(n){const{delegate:t}=qP;return(t?.clearImmediate||DJ)(n)},delegate:void 0};var Jz=Q(2631);const GF=new class kJ extends Jz.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class AJ extends Kz.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=qP.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(qP.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function Xz(n,t){return t?e=>nM(t.pipe(nl(1),function RJ(){return(0,Nr.e)((n,t)=>{n.subscribe((0,li.x)(t,RN.Z))})}()),e.pipe(Xz(n))):(0,Ta.z)((e,i)=>(0,Po.Xf)(n(e,i)).pipe(nl(1),cV(e)))}var NJ=Q(671);function e5(n=0,t,e=cw.P){let i=-1;return null!=t&&((0,NJ.K)(t)?e=t:i=t),new ar.y(r=>{let s=function FJ(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function t5(n,t=cw.z){const e=e5(n,t);return Xz(()=>e)}class ZF{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class LJ extends ZF{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class n5 extends ZF{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class UJ extends ZF{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class VJ{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof LJ?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof n5?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof UJ?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class BJ extends VJ{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const m=u.element,v=this._document.createComment("dom-portal");m.parentNode.insertBefore(v,m),this.outletElement.appendChild(m),this._attachedPortal=u,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(m,v)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let jJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})();var zJ=Q(4266);const HJ=["addListener","removeListener"],$J=["addEventListener","removeEventListener"],qJ=["on","off"];function WF(n,t,e,i){if((0,$d.m)(e)&&(i=e,e=void 0),i)return WF(n,t,e).pipe(PN(i));const[r,s]=function WJ(n){return(0,$d.m)(n.addEventListener)&&(0,$d.m)(n.removeEventListener)}(n)?$J.map(u=>m=>n[u](t,m,e)):function GJ(n){return(0,$d.m)(n.addListener)&&(0,$d.m)(n.removeListener)}(n)?HJ.map(r5(n,t)):function ZJ(n){return(0,$d.m)(n.on)&&(0,$d.m)(n.off)}(n)?qJ.map(r5(n,t)):[];if(!r&&(0,zJ.z)(n))return(0,Ta.z)(u=>WF(u,t,e))((0,Po.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ar.y(u=>{const m=(...v)=>u.next(1<v.length?v:v[0]);return r(m),()=>s(m)})}function r5(n,t){return e=>i=>n[e](t,i)}const zM={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=zM;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Wu.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=zM;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=zM;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class KJ extends Jz.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class YJ extends Kz.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=zM.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(zM.cancelAnimationFrame(e),t._scheduled=void 0)}});function o5(n,t=cw.z){return function JJ(n){return(0,Nr.e)((t,e)=>{let i=!1,r=null,s=null,u=!1;const m=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const x=r;r=null,e.next(x)}u&&e.complete()},v=()=>{s=null,u&&e.complete()};t.subscribe((0,li.x)(e,x=>{i=!0,r=x,s||(0,Po.Xf)(n(x)).subscribe(s=(0,li.x)(e,m,v))},()=>{u=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>e5(n,t))}let eX=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new zn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ar.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(o5(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,_n.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(cr(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=$g(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>WF(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(o.R0b),o.LFG(Qa),o.LFG(ke,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),s5=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new zn.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(o5(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Qa),o.LFG(o.R0b),o.LFG(ke,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({})}return n})(),a5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[PM,YF,PM,YF]})}return n})();const c5=H7();class nX{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ia(-this._previousScrollPosition.left),t.style.top=ia(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),c5&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),c5&&(i.scrollBehavior=s,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class iX{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(cr(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class l5{enable(){}disable(){}attach(){}}function KF(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function u5(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class rX{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();KF(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let oX=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new l5,this.close=u=>new iX(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new nX(this._viewportRuler,this._document),this.reposition=u=>new rX(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=s}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(eX),o.LFG(s5),o.LFG(o.R0b),o.LFG(ke))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class d5{constructor(t){if(this.scrollStrategy=new l5,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class sX{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let h5=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(ke))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aX=(()=>{class n extends h5{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let u=s.length-1;u>-1;u--)if(s[u]._keydownEvents.observers.length>0){const m=s[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>m.next(r)):m.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(ke),o.LFG(o.R0b,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cX=(()=>{class n extends h5{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Hg(s)},this._clickListener=s=>{const u=Hg(s),m="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const v=this._attachedOverlays.slice();for(let x=v.length-1;x>-1;x--){const P=v[x];if(P._outsidePointerEvents.observers.length<1||!P.hasAttached())continue;if(P.overlayElement.contains(u)||P.overlayElement.contains(m))break;const L=P._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>L.next(s)):L.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(ke),o.LFG(Qa),o.LFG(o.R0b,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),f5=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||CF()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),CF()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(ke),o.LFG(Qa))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class lX{constructor(t,e,i,r,s,u,m,v,x,P=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=u,this._document=m,this._location=v,this._outsideClickDispatcher=x,this._animationsDisabled=P,this._backdropElement=null,this._backdropClick=new zn.x,this._attachments=new zn.x,this._detachments=new zn.x,this._locationChanges=Wu.w0.EMPTY,this._backdropClickHandler=L=>this._backdropClick.next(L),this._backdropTransitionendHandler=L=>{this._disposeBackdrop(L.target)},this._keydownEvents=new zn.x,this._outsidePointerEvents=new zn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(nl(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ia(this._config.width),t.height=ia(this._config.height),t.minWidth=ia(this._config.minWidth),t.minHeight=ia(this._config.minHeight),t.maxWidth=ia(this._config.maxWidth),t.maxHeight=ia(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=OP(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Gd((0,Zg.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const p5="cdk-overlay-connected-position-bounding-box",uX=/([A-Za-z%]+)$/;class dX{get positions(){return this._preferredPositions}constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new zn.x,this._resizeSubscription=Wu.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(p5),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let u;for(let m of this._preferredPositions){let v=this._getOriginPoint(t,r,m),x=this._getOverlayPoint(v,e,m),P=this._getOverlayFit(x,e,i,m);if(P.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,v);this._canFitWithFlexibleDimensions(P,x,i)?s.push({position:m,origin:v,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(v,m)}):(!u||u.overlayFit.visibleArea<P.visibleArea)&&(u={overlayFit:P,overlayPoint:x,originPoint:v,position:m,overlayRect:e})}if(s.length){let m=null,v=-1;for(const x of s){const P=x.boundingBoxRect.width*x.boundingBoxRect.height*(x.position.weight||1);P>v&&(v=P,m=x)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&vy(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(p5),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,m=this._isRtl()?t.left:t.right;r="start"==i.originX?u:m}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=g5(e);let{x:u,y:m}=t,v=this._getOffset(r,"x"),x=this._getOffset(r,"y");v&&(u+=v),x&&(m+=x);let q=0-m,ne=m+s.height-i.height,ae=this._subtractOverflows(s.width,0-u,u+s.width-i.width),ye=this._subtractOverflows(s.height,q,ne),Ze=ae*ye;return{visibleArea:Ze,isCompletelyWithinViewport:s.width*s.height===Ze,fitsInViewportVertically:ye===s.height,fitsInViewportHorizontally:ae==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,u=m5(this._overlayRef.getConfig().minHeight),m=m5(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=u&&u<=r)&&(t.fitsInViewportHorizontally||null!=m&&m<=s)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=g5(e),s=this._viewportRect,u=Math.max(t.x+r.width-s.width,0),m=Math.max(t.y+r.height-s.height,0),v=Math.max(s.top-i.top-t.y,0),x=Math.max(s.left-i.left-t.x,0);let P=0,L=0;return P=r.width<=s.width?x||-u:t.x<this._viewportMargin?s.left-i.left-t.x:0,L=r.height<=s.height?v||-m:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:P,y:L},{x:t.x+P,y:t.y+L}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new sX(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,u,m,P,L,q;if("top"===e.overlayY)u=t.y,s=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)m=i.height-t.y+2*this._viewportMargin,s=i.height-m+this._viewportMargin;else{const ne=Math.min(i.bottom-t.y+i.top,t.y),ae=this._lastBoundingBoxSize.height;s=2*ne,u=t.y-ne,s>ae&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-ae/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)q=i.width-t.x+this._viewportMargin,P=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)L=t.x,P=i.right-t.x;else{const ne=Math.min(i.right-t.x+i.left,t.x),ae=this._lastBoundingBoxSize.width;P=2*ne,L=t.x-ne,P>ae&&!this._isInitialRender&&!this._growAfterOpen&&(L=t.x-ae/2)}return{top:u,left:L,bottom:m,right:q,width:P,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=ia(i.height),r.top=ia(i.top),r.bottom=ia(i.bottom),r.width=ia(i.width),r.left=ia(i.left),r.right=ia(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=ia(s)),u&&(r.maxWidth=ia(u))}this._lastBoundingBoxSize=i,vy(this._boundingBox.style,r)}_resetBoundingBoxStyles(){vy(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){vy(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const P=this._viewportRuler.getViewportScrollPosition();vy(i,this._getExactOverlayY(e,t,P)),vy(i,this._getExactOverlayX(e,t,P))}else i.position="static";let m="",v=this._getOffset(e,"x"),x=this._getOffset(e,"y");v&&(m+=`translateX(${v}px) `),x&&(m+=`translateY(${x}px)`),i.transform=m.trim(),u.maxHeight&&(r?i.maxHeight=ia(u.maxHeight):s&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=ia(u.maxWidth):s&&(i.maxWidth="")),vy(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=ia(s.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=ia(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:u5(t,i),isOriginOutsideView:KF(t,i),isOverlayClipped:u5(e,i),isOverlayOutsideView:KF(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&OP(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function vy(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function m5(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(uX);return e&&"px"!==e?null:parseFloat(t)}return n||null}function g5(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const _5="cdk-global-overlay-wrapper";class hX{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(_5),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:u,maxHeight:m}=i,v=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),x=!("100%"!==s&&"100vh"!==s||m&&"100%"!==m&&"100vh"!==m),P=this._xPosition,L=this._xOffset,q="rtl"===this._overlayRef.getConfig().direction;let ne="",ae="",ye="";v?ye="flex-start":"center"===P?(ye="center",q?ae=L:ne=L):q?"left"===P||"end"===P?(ye="flex-end",ne=L):("right"===P||"start"===P)&&(ye="flex-start",ae=L):"left"===P||"start"===P?(ye="flex-start",ne=L):("right"===P||"end"===P)&&(ye="flex-end",ae=L),t.position=this._cssPosition,t.marginLeft=v?"0":ne,t.marginTop=x?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=v?"0":ae,e.justifyContent=ye,e.alignItems=x?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(_5),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let fX=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new hX}flexibleConnectedTo(e){return new dX(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(s5),o.LFG(ke),o.LFG(Qa),o.LFG(f5))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pX=0,GP=(()=>{class n{constructor(e,i,r,s,u,m,v,x,P,L,q,ne){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=u,this._injector=m,this._ngZone=v,this._document=x,this._directionality=P,this._location=L,this._outsideClickDispatcher=q,this._animationsModuleType=ne}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),u=new d5(e);return u.direction=u.direction||this._directionality.value,new lX(s,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+pX++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new BJ(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(oX),o.LFG(f5),o.LFG(o._Vd),o.LFG(fX),o.LFG(aX),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(ke),o.LFG(DF),o.LFG(mt),o.LFG(cX),o.LFG(o.QbO,8))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const _X={provide:new o.OlP("cdk-connected-overlay-scroll-strategy"),deps:[GP],useFactory:function gX(n){return()=>n.scrollStrategies.reposition()}};let vX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({providers:[GP,_X],imports:[PM,jJ,a5,a5]})}return n})();const yX=["mat-menu-item",""];function bX(n,t){1&n&&(o.O4$(),o.TgZ(0,"svg",3),o._UZ(1,"polygon",4),o.qZA())}const wX=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],CX=["mat-icon, [matMenuItemIcon]","*"];function xX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",0),o.NdJ("keydown",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._handleKeydown(r))})("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._onAnimationDone(r))}),o.TgZ(1,"div",1),o.Hsn(2),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),o.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const EX=["*"],QF=new o.OlP("MAT_MENU_PANEL"),MX=kP(DM(class{}));let ZP=(()=>{class n extends MX{constructor(e,i,r,s,u){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new zn.x,this._focused=new zn.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(ke),o.Y36(AP),o.Y36(QF,8),o.Y36(o.sBO))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(i,r){1&i&&o.NdJ("click",function(u){return r._checkDisabled(u)})("mouseenter",function(){return r._handleMouseEnter()}),2&i&&(o.uIk("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),o.ekj("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[o.qOj],attrs:yX,ngContentSelectors:CX,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){1&i&&(o.F$t(wX),o.Hsn(0),o.TgZ(1,"span",0),o.Hsn(2,1),o.qZA(),o._UZ(3,"div",1),o.YNc(4,bX,2,0,"svg",2)),2&i&&(o.xp6(3),o.Q6J("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),o.xp6(1),o.Q6J("ngIf",r._triggersSubmenu))},dependencies:[ci,RM],encapsulation:2,changeDetection:0})}return n})();const IX=new o.OlP("MatMenuContent"),WP={transformMenu:Gc("transformMenu",[gd("void",Oi({opacity:0,transform:"scale(0.8)"})),ps("void => enter",Ri("120ms cubic-bezier(0, 0, 0.2, 1)",Oi({opacity:1,transform:"scale(1)"}))),ps("* => void",Ri("100ms 25ms linear",Oi({opacity:0})))]),fadeInItems:Gc("fadeInItems",[gd("showing",Oi({opacity:1})),ps("void => *",[Oi({opacity:0}),Ri("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let TX=0;const v5=new o.OlP("mat-menu-default-options",{providedIn:"root",factory:function OX(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let HM=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=na(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=na(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,i,r,s){this._elementRef=e,this._ngZone=i,this._changeDetectorRef=s,this._directDescendantItems=new o.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new zn.x,this.closed=new o.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+TX++,this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this._overlapTrigger=r.overlapTrigger,this._hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new bY(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ng(this._directDescendantItems),(0,as.w)(e=>(0,Zg.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Ng(this._directDescendantItems),(0,as.w)(i=>(0,Zg.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Ij(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(nl(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Ng(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(v5),o.Y36(o.sBO))};static#t=this.\u0275dir=o.lG2({type:n,contentQueries:function(i,r,s){if(1&i&&(o.Suo(s,IX,5),o.Suo(s,ZP,5),o.Suo(s,ZP,4)),2&i){let u;o.iGM(u=o.CRH())&&(r.lazyContent=u.first),o.iGM(u=o.CRH())&&(r._allItems=u),o.iGM(u=o.CRH())&&(r.items=u)}},viewQuery:function(i,r){if(1&i&&o.Gf(o.Rgc,5),2&i){let s;o.iGM(s=o.CRH())&&(r.templateRef=s.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}})}return n})(),SX=(()=>{class n extends HM{constructor(e,i,r,s){super(e,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(v5),o.Y36(o.sBO))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(i,r){2&i&&o.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[o._Bn([{provide:QF,useExisting:n}]),o.qOj],ngContentSelectors:EX,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(i,r){1&i&&(o.F$t(),o.YNc(0,xX,3,6,"ng-template"))},dependencies:[vo],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{--mat-menu-container-shape:4px;min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[WP.transformMenu,WP.fadeInItems]},changeDetection:0})}return n})();const y5=new o.OlP("mat-menu-scroll-strategy"),DX={provide:y5,deps:[GP],useFactory:function PX(n){return()=>n.scrollStrategies.reposition()}},b5=aw({passive:!0});let AX=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,i,r,s,u,m,v,x,P){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=m,this._dir=v,this._focusMonitor=x,this._ngZone=P,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Wu.w0.EMPTY,this._hoverSubscription=Wu.w0.EMPTY,this._menuCloseSubscription=Wu.w0.EMPTY,this._changeDetectorRef=(0,o.f3M)(o.sBO),this._handleTouchStart=L=>{SF(L)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new o.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new o.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=u instanceof HM?u:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,b5)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,b5),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),s=r.positionStrategy;this._setPosition(e,s),r.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof HM&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Gd(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof HM?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(cr(r=>"void"===r.toState),nl(1),Gd(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new d5({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",u="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(s,u)):e.setPositionClasses(s,u)})}_setPosition(e,i){let[r,s]="before"===e.xPosition?["end","start"]:["start","end"],[u,m]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[v,x]=[u,m],[P,L]=[r,s],q=0;if(this.triggersSubmenu()){if(L=r="before"===e.xPosition?"start":"end",s=P="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const ne=this._parentMaterialMenu.items.first;this._parentInnerPadding=ne?ne._getHostElement().offsetTop:0}q="bottom"===u?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(v="top"===u?"bottom":"top",x="top"===m?"bottom":"top");i.withPositions([{originX:r,originY:v,overlayX:P,overlayY:u,offsetY:q},{originX:s,originY:v,overlayX:L,overlayY:u,offsetY:q},{originX:r,originY:x,overlayX:P,overlayY:m,offsetY:-q},{originX:s,originY:x,overlayX:L,overlayY:m,offsetY:-q}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,_n.of)(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(cr(u=>u!==this._menuItemInstance),cr(()=>this._menuOpen)):(0,_n.of)();return(0,Zg.T)(e,r,s,i)}_handleMousedown(e){OF(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(cr(e=>e===this._menuItemInstance&&!e.disabled),t5(0,GF)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof HM&&this.menu._isAnimating?this.menu._animationDone.pipe(nl(1),t5(0,GF),Gd(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new n5(e.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(GP),o.Y36(o.SBq),o.Y36(o.s_b),o.Y36(y5),o.Y36(QF,8),o.Y36(ZP,10),o.Y36(DF,8),o.Y36(AP),o.Y36(o.R0b))};static#t=this.\u0275dir=o.lG2({type:n,hostVars:3,hostBindings:function(i,r){1&i&&o.NdJ("click",function(u){return r._handleClick(u)})("mousedown",function(u){return r._handleMousedown(u)})("keydown",function(u){return r._handleKeydown(u)}),2&i&&o.uIk("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}})}return n})(),kX=(()=>{class n extends AX{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=o.n5z(n)))(r||n)}}();static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[o.qOj]})}return n})(),w5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({providers:[DX],imports:[Ii,NP,ra,vX,YF,ra]})}return n})();function RX(n,t){if(1&n&&(o.TgZ(0,"h1",7),o._uU(1),o.qZA()),2&n){const e=t.ngIf;o.xp6(1),o.hij(" \xdcdv\xf6z\xf6lj\xfck, ",e.displayName,"!")}}function NX(n,t){if(1&n&&(o.ynx(0),o.TgZ(1,"button",8),o._UZ(2,"img",9),o.TgZ(3,"mat-icon"),o._uU(4,"expand_more"),o.qZA()(),o.BQk()),2&n){o.oxw();const e=o.MAs(6);o.xp6(1),o.Q6J("matMenuTriggerFor",e)}}let C5=(()=>{class n{constructor(e,i,r,s){this.authService=e,this.router=i,this.usersService=r,this.services=s,this.user$=this.usersService.currentUserProfile$,this.items=[],this.users=[],this.userOrders=[]}ngOnInit(){}logout(){this.authService.logout().subscribe(()=>{this.router.navigate(["/user"])})}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(my),o.Y36(Ya),o.Y36(FM),o.Y36(ta))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-user-header"]],decls:13,vars:6,consts:[["color","primary"],["class","log-in-a",4,"ngIf"],[4,"ngIf"],["userMenu","matMenu"],["mat-menu-item","","routerLink","/user/orders"],["mat-menu-item","","routerLink","/user/profile"],["mat-menu-item","",3,"click"],[1,"log-in-a"],["mat-button","",3,"matMenuTriggerFor"],["width","30","height","30","src","assets/image-placeholder.png",1,"profile-image-toolbar"]],template:function(i,r){1&i&&(o.TgZ(0,"mat-toolbar",0),o.YNc(1,RX,2,1,"h1",1),o.ALo(2,"async"),o.YNc(3,NX,5,1,"ng-container",2),o.ALo(4,"async"),o.qZA(),o.TgZ(5,"mat-menu",null,3)(7,"button",4),o._uU(8,"Rendel\xe9sek"),o.qZA(),o.TgZ(9,"button",5),o._uU(10,"Profil"),o.qZA(),o.TgZ(11,"button",6),o.NdJ("click",function(){return r.logout()}),o._uU(12,"Kijelentkez\xe9s"),o.qZA()()),2&i&&(o.xp6(1),o.Q6J("ngIf",o.lcZ(2,2,r.user$)),o.xp6(2),o.Q6J("ngIf",o.lcZ(4,4,r.user$)))},dependencies:[ci,Yu,wJ,jF,TJ,SX,ZP,kX,Zi],styles:["mat-toolbar[_ngcontent-%COMP%]{justify-content:space-between;margin:0;background-color:#1c202b;border-radius:0;box-shadow:0 6px 20px #00000063}.conent[_ngcontent-%COMP%]{padding:32px}.profile-image-toolbar[_ngcontent-%COMP%]{border-radius:100%;margin-right:8px;margin-top:10px}.Btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;width:45px;height:45px;border:none;border-radius:50%;cursor:pointer;position:absolute;right:20px;overflow:hidden;transition-duration:.3s;box-shadow:2px 2px 10px #0003;background-color:#fff}.sign[_ngcontent-%COMP%]{width:100%;transition-duration:.3s;display:flex;align-items:center;justify-content:center}.sign[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:17px}.sign[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#1c202b}.text[_ngcontent-%COMP%]{position:absolute;right:0%;width:0%;opacity:0;color:#1c202b;font-size:1.2em;font-weight:600;transition-duration:.3s}.Btn[_ngcontent-%COMP%]:hover{width:185px;border-radius:40px;transition-duration:.3s}.Btn[_ngcontent-%COMP%]:hover   .sign[_ngcontent-%COMP%]{width:30%;transition-duration:.3s;padding-left:20px}.Btn[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{opacity:1;width:70%;transition-duration:.3s;padding-right:10px}.Btn[_ngcontent-%COMP%]:active{transform:translate(2px,2px)}"]})}return n})();const FX=function(){return{width:"100%",height:"50px"}};function LX(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",4),2&n&&o.Q6J("theme",o.DdM(1,FX))}const UX=function(){return{width:"100%",height:"200px",marginBottom:"10px"}};function VX(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",5),2&n&&o.Q6J("theme",o.DdM(1,UX))}function BX(n,t){1&n&&(o.TgZ(0,"div",11),o._uU(1,"Kor\xe1bbi rendel\xe9sek"),o.qZA())}function jX(n,t){if(1&n&&o._UZ(0,"img",22),2&n){const e=o.oxw().$implicit;o.Q6J("src",e.product.imagePath,o.LSH)}}function zX(n,t){if(1&n&&(o.TgZ(0,"div",20)(1,"div",21),o._UZ(2,"img",22),o.YNc(3,jX,1,1,"img",23),o.qZA(),o.TgZ(4,"div",24),o._uU(5),o.qZA(),o.TgZ(6,"div",25),o._uU(7),o.qZA(),o.TgZ(8,"div",26),o._uU(9),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.Q6J("src",e.selectedImage,o.LSH),o.xp6(1),o.Q6J("ngIf",null===e.selectedImage),o.xp6(2),o.lnq("",e.product.productName," ",e.size," ",e.color,""),o.xp6(2),o.hij("",e.quantity," db"),o.xp6(2),o.hij("",e.selectedPrice," Ft/db")}}function HX(n,t){if(1&n&&(o.TgZ(0,"div",12),o.YNc(1,zX,10,7,"div",13),o.TgZ(2,"div",14)(3,"p",15),o._uU(4),o.qZA(),o.TgZ(5,"p",16),o._uU(6),o.qZA(),o.TgZ(7,"p",17),o._uU(8),o.qZA(),o.TgZ(9,"p",17),o._uU(10),o.qZA(),o.TgZ(11,"p",18),o._uU(12),o.ALo(13,"date"),o.qZA(),o.TgZ(14,"p",19),o._uU(15),o.qZA()()()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngForOf",e.items),o.xp6(3),o.hij("Aj\xe1nd\xe9kcsomagol\xe1s: ",e.gift?"Igen, +1590 Ft":"Nem",""),o.xp6(2),o.hij("K\xfcldem\xe9ny biztos\xedt\xe1sa: ",e.insurance?"Igen, +500 Ft":"Nem",""),o.xp6(2),o.hij("Sz\xe1ll\xedt\xe1s d\xedja: ",e.shippingPrice," Ft"),o.xp6(2),o.hij("Rendel\xe9si azonos\xedt\xf3 ",e.id," "),o.xp6(2),o.hij("Rendel\xe9s d\xe1tuma: ",o.xi3(13,7,e.orderDate.toDate(),"yyyy-MM-dd"),""),o.xp6(3),o.hij("\xd6sszesen: ",e.price," Ft")}}const $X=function(){return["/products"]};function qX(n,t){1&n&&(o.TgZ(0,"div",11)(1,"div",27),o._UZ(2,"img",28),o.TgZ(3,"div",29),o._uU(4,"A rendel\xe9si el\u0151zm\xe9nye \xfcres!"),o.TgZ(5,"p",30),o._uU(6,"V\xe1logasson a term\xe9kek k\xf6z\xf6tt!"),o.qZA()()()()),2&n&&(o.xp6(5),o.Q6J("routerLink",o.DdM(1,$X)))}function GX(n,t){if(1&n&&(o.TgZ(0,"div",6)(1,"div",7),o.YNc(2,BX,2,0,"div",8),o.qZA(),o.TgZ(3,"div",9),o.YNc(4,HX,16,10,"div",10),o.qZA(),o.YNc(5,qX,7,2,"div",8),o.qZA()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("ngIf",e.userOrders.length>0),o.xp6(2),o.Q6J("ngForOf",e.userOrders),o.xp6(1),o.Q6J("ngIf",e.userOrders.length<=0)}}let ZX=(()=>{class n{constructor(e,i,r,s){this.fs=e,this.authService=i,this.usersService=r,this.services=s,this.user$=this.authService.currentUser$,this.items=[],this.users=[],this.userOrders=[],this.contentLoaded=!1}ngOnInit(){this.services.refreshData(()=>this.services.getOrders(),this.items),this.services.refreshData(()=>this.services.getUsers(),this.users),this.getUser(),setTimeout(()=>{this.contentLoaded=!0},1500)}getUser(){this.usersService.currentUserProfile$.subscribe(e=>{e&&e.email&&(this.userEmail=e.email,this.userOrders=this.findUserOrders(e.email))})}findUserOrders(e){return this.items.filter(i=>i.email===e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(zd),o.Y36(my),o.Y36(FM),o.Y36(ta))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-orders"]],decls:6,vars:7,consts:[["appearance","line",3,"theme",4,"ngIf"],["appearance","line","count","3",3,"theme",4,"ngIf"],[1,"contentloaded"],["class","orders-container",4,"ngIf"],["appearance","line",3,"theme"],["appearance","line","count","3",3,"theme"],[1,"orders-container"],[1,"orders-head-container"],["class","orders-head",4,"ngIf"],[1,"order-table"],["class","order-row",4,"ngFor","ngForOf"],[1,"orders-head"],[1,"order-row"],["class","item-container",4,"ngFor","ngForOf"],[1,"order-data"],[1,"gift"],[1,"insurance"],[1,"shipping-price"],[1,"order-date"],[1,"total-price"],[1,"item-container"],[1,"product-image"],[3,"src"],[3,"src",4,"ngIf"],[1,"description"],[1,"quantity"],[1,"product-price"],[1,"empty-cart"],["src","../../../assets/images/empty-order.png",1,"empty-cart-img"],[1,"empty-cart-desc"],[1,"empty-cart-button",3,"routerLink"]],template:function(i,r){1&i&&(o.YNc(0,LX,1,2,"ngx-skeleton-loader",0),o.YNc(1,VX,1,2,"ngx-skeleton-loader",1),o.TgZ(2,"div",2),o._UZ(3,"app-user-header"),o.YNc(4,GX,6,3,"div",3),o.ALo(5,"async"),o.qZA()),2&i&&(o.Q6J("ngIf",!r.contentLoaded),o.xp6(1),o.Q6J("ngIf",!r.contentLoaded),o.xp6(1),o.Udp("display",r.contentLoaded?"block":"none"),o.xp6(2),o.Q6J("ngIf",o.lcZ(5,5,r.user$)))},dependencies:[Ln,ci,Yu,fm,C5,Zi,Sa],styles:['.order-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-weight:100}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]{background-color:#fff;margin:20px 0 50px;box-shadow:0 6px 20px #00000030;border-radius:1rem;overflow:hidden;border:transparent}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .order-data[_ngcontent-%COMP%]{padding:10px 10px 40px}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .order-data[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]{width:300px;padding-top:10px;text-align:center;border-top:1px solid #edf1f7;float:right;font-size:16px}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #edf1f7}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1;text-align:center}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{background-color:#fff;max-width:120px;max-height:120px;align-items:center;justify-content:center}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:120px;max-height:120px;float:left}.orders-head-container[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;align-items:center}.orders-head-container[_ngcontent-%COMP%]   .orders-head[_ngcontent-%COMP%]{background:#1C202B;color:#fff;border-radius:.625rem;margin:40px 0 20px;height:auto;font-size:20px;font-weight:700;padding:20px 40px;-webkit-user-select:none;user-select:none}.empty-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.empty-cart-img[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:100%;max-width:600px;display:flex;overflow:hidden}.empty-cart-desc[_ngcontent-%COMP%]{text-align:center;width:400px;position:absolute;top:90%;left:50%;transform:translate(-50%,-50%);font-size:22px;font-weight:300;border-top:1px solid #ccc;padding-top:15px;transition:all .4s ease-in-out}.empty-cart-button[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer;transition:all .3s ease-in-out;font-weight:100}.empty-cart-button[_ngcontent-%COMP%]:after{background:none repeat scroll 0 0 transparent;bottom:0;content:"";display:block;height:1px;left:50%;position:absolute;background:#191818;transition:width .3s ease 0s,left .3s ease 0s;width:0}.empty-cart-button[_ngcontent-%COMP%]:hover:after{width:100%;left:0}']})}return n})();const JF=(0,gn.U)(n=>!!n);let WX=(()=>{class n{constructor(e,i){this.router=e,this.auth=i,this.canActivate=(r,s)=>{const u=r.data.authGuardPipe||(()=>JF);return Xs(this.auth).pipe(nl(1),u(r,s),(0,gn.U)(m=>"boolean"==typeof m?m:Array.isArray(m)?this.router.createUrlTree(m):this.router.parseUrl(m)))}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ya),o.LFG(xp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const $M=n=>({canActivate:[WX],data:{authGuardPipe:n}}),x5=n=>(0,DN.z)(JF,(0,gn.U)(t=>t&&n||!0));var QX=Q(7582);const JX=o.GuJ,eee=Symbol("__destroy"),E5=Symbol("__decoratorApplied");function M5(n){return"string"==typeof n?Symbol(`__destroy__${n}`):eee}function I5(n,t){n[t]||(n[t]=new zn.x)}function T5(n,t){n[t]&&(n[t].next(),n[t].complete(),n[t]=null)}function O5(n){n instanceof Wu.w0&&n.unsubscribe()}function S5(n,t){return function(){if(n&&n.call(this),T5(this,M5()),t.arrayName&&function nee(n){Array.isArray(n)&&n.forEach(O5)}(this[t.arrayName]),t.checkProperties)for(const e in this)t.blackList?.includes(e)||O5(this[e])}}Symbol("CheckerHasBeenSet");function uee(n,t){return e=>{const i=M5(t);"string"==typeof t?function lee(n,t,e){const i=n[t];I5(n,e),n[t]=function(){i.apply(this,arguments),T5(this,e),n[t]=i}}(n,t,i):I5(n,i);const r=n[i];return e.pipe(Gd(r))}}let hee=(()=>{class n{constructor(e){this.storage=e}uploadImage(e,i){const r=cZ(this.storage,i);return(0,Sr.D)(lZ(r,e)).pipe((0,as.w)(u=>sZ(u.ref)))}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(jS))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const fee=function(){return{width:"100%",height:"50px"}};function pee(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",4),2&n&&o.Q6J("theme",o.DdM(1,fee))}const mee=function(){return{"max-width":"500px",height:"500px",width:"90vw","border-radius":"15px"}};function gee(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",5),2&n&&o.Q6J("theme",o.DdM(1,mee))}function _ee(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",6)(1,"h1"),o._uU(2,"Profil"),o.qZA(),o.TgZ(3,"form",7),o.NdJ("ngSubmit",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.saveProfile())}),o.TgZ(4,"div",8)(5,"mat-form-field")(6,"mat-label"),o._uU(7,"Vezet\xe9kn\xe9v"),o.qZA(),o._UZ(8,"input",9),o.qZA(),o.TgZ(9,"mat-form-field")(10,"mat-label"),o._uU(11,"Keresztn\xe9v"),o.qZA(),o._UZ(12,"input",10),o.qZA()(),o.TgZ(13,"div",8)(14,"mat-form-field")(15,"mat-label"),o._uU(16,"Profiln\xe9v"),o.qZA(),o._UZ(17,"input",11),o.qZA(),o.TgZ(18,"mat-form-field")(19,"mat-label"),o._uU(20,"Telefonsz\xe1m"),o.qZA(),o._UZ(21,"input",12),o.qZA()(),o.TgZ(22,"mat-form-field")(23,"mat-label"),o._uU(24,"Sz\xe1ll\xedt\xe1si c\xedm"),o.qZA(),o._UZ(25,"input",13),o.qZA(),o.TgZ(26,"button",14),o._uU(27," Ment\xe9s "),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(3),o.Q6J("formGroup",e.profileForm)}}let e2=class OL{constructor(t,e,i,r,s){this.authService=t,this.imageUploadService=e,this.toast=i,this.usersService=r,this.fb=s,this.user$=this.usersService.currentUserProfile$,this.contentLoaded=!1,this.profileForm=this.fb.group({uid:[""],displayName:[""],firstName:[""],lastName:[""],phone:[""],address:[""]})}ngOnInit(){this.usersService.currentUserProfile$.pipe(uee(this),(0,tr.b)(console.log)).subscribe(t=>{this.profileForm.patchValue({...t})}),setTimeout(()=>{this.contentLoaded=!0},1e3)}saveProfile(){const{uid:t,...e}=this.profileForm.value;t&&this.usersService.updateUser({uid:t,...e}).pipe(this.toast.observe({loading:"Profil ment\xe9se...",success:"Sikeres ment\xe9s!",error:"Hiba t\xf6rt\xe9nt a profil ment\xe9se sor\xe1n!"})).subscribe()}static#e=this.\u0275fac=function(e){return new(e||OL)(o.Y36(my),o.Y36(hee),o.Y36(Va),o.Y36(FM),o.Y36(IP))};static#t=this.\u0275cmp=o.Xpm({type:OL,selectors:[["app-profile"]],decls:6,vars:7,consts:[["appearance","line",3,"theme",4,"ngIf"],["class","mid screen-width","appearance","circle",3,"theme",4,"ngIf"],[1,"contentloaded"],["class","form-container mat-elevation-z5 text-center",4,"ngIf"],["appearance","line",3,"theme"],["appearance","circle",1,"mid","screen-width",3,"theme"],[1,"form-container","mat-elevation-z5","text-center"],[1,"margin-top",3,"formGroup","ngSubmit"],[1,"row"],["type","text","matInput","","formControlName","firstName","maxlength","12"],["type","text","matInput","","formControlName","lastName","maxlength","12"],["type","text","matInput","","formControlName","displayName","maxlength","10"],["type","number","matInput","","formControlName","phone"],["type","text","matInput","","formControlName","address"],["type","submit",1,"save-button","margin-top"]],template:function(e,i){1&e&&(o.YNc(0,pee,1,2,"ngx-skeleton-loader",0),o.YNc(1,gee,1,2,"ngx-skeleton-loader",1),o.TgZ(2,"div",2),o._UZ(3,"app-user-header"),o.YNc(4,_ee,28,1,"div",3),o.ALo(5,"async"),o.qZA()),2&e&&(o.Q6J("ngIf",!i.contentLoaded),o.xp6(1),o.Q6J("ngIf",!i.contentLoaded),o.xp6(1),o.Udp("display",i.contentLoaded?"block":"none"),o.xp6(2),o.Q6J("ngIf",o.lcZ(5,5,i.user$)))},dependencies:[ci,TM,ly,OM,uy,yM,MP,zg,ow,$F,HF,BM,fm,C5,Zi],styles:[".profile-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{border-radius:100%;object-fit:cover;object-position:center;box-shadow:0 .25rem .5rem #000}.form-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:.625rem;width:650px;padding:30px;background-color:#fff}@media screen and (max-width: 700px){.form-container[_ngcontent-%COMP%]{position:relative;top:auto;left:auto;transform:none;width:auto;padding:10px}.form-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:block}}.profile-image[_ngcontent-%COMP%]{position:relative}.profile-image[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:35%}.form-container[_ngcontent-%COMP%]{max-width:600px;margin-top:25px}.row[_ngcontent-%COMP%]{display:flex;gap:16px}.save-button[_ngcontent-%COMP%]{padding:10px 15px;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;border-radius:.625rem;border:0!important;outline:0!important;background:#1C202B;color:#fff;cursor:pointer;box-shadow:#0000003d 0 3px 8px;transition:.2s ease-in-out}.save-button[_ngcontent-%COMP%]:hover{background:#1C202B}.test[_ngcontent-%COMP%]{background:yellow}"]})};function t2(){return(0,Nr.e)((n,t)=>{let e,i=!1;n.subscribe((0,li.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}e2=(0,QX.gn)([function oee(n={}){return t=>{!function XX(n){return!!n[JX]}(t)?function iee(n,t){n.prototype.ngOnDestroy=S5(n.prototype.ngOnDestroy,t)}(t,n):function ree(n,t){const e=n.\u0275pipe;e.onDestroy=S5(e.onDestroy,t)}(t,n),function tee(n){n.prototype[E5]=!0}(t)}}()],e2);var kl=Q(6304),k5=(Q(8661),Q(3106));function n2(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new vt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function R5(){if(typeof Uint8Array>"u")throw new vt("unimplemented","Uint8Arrays are not available in this environment.")}function N5(){if(!function Mk(){return typeof atob<"u"}())throw new vt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class qM{constructor(t){this._delegate=t}static fromBase64String(t){return N5(),new qM(zf.fromBase64String(t))}static fromUint8Array(t){return R5(),new qM(zf.fromUint8Array(t))}toBase64(){return N5(),this._delegate.toBase64()}toUint8Array(){return R5(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function r2(n){return function bee(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class wee{enableIndexedDbPersistence(t,e){return function c$(n,t){KU(n=qi(n,Ro));const e=Ls(n);if(e._uninitializedComponentsProvider)throw new vt(tt.FAILED_PRECONDITION,"SDK cache is already specified.");cu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Lb;return YU(e,r,new zR(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function l$(n){KU(n=qi(n,Ro));const t=Ls(n);if(t._uninitializedComponentsProvider)throw new vt(tt.FAILED_PRECONDITION,"SDK cache is already specified.");cu("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new Lb;return YU(t,i,new DU(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function u$(n){if(n._initialized&&!n._terminated)throw new vt(tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new _s;return n._queue.enqueueAndForgetEvenWhileRestricted((0,dt.Z)(function*(){try{yield(e=(0,dt.Z)(function*(i){if(!lu.D())return Promise.resolve();const r=i+"main";yield lu.delete(r)}),function(i){return e.apply(this,arguments)})(mE(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class F5{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof kh||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&cu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){GU(this._delegate,t,e,i)}enableNetwork(){return function h$(n){return function YH(n){return n.asyncQueue.enqueue((0,dt.Z)(function*(){const t=yield RU(n),e=yield NU(n);return t.setNetworkEnabled(!0),function(i){const r=Gt(i);return r.vu.delete(0),Zv(r)}(e)}))}(Ls(n=qi(n,Ro)))}(this._delegate)}disableNetwork(){return function f$(n){return function KH(n){return n.asyncQueue.enqueue((0,dt.Z)(function*(){const t=yield RU(n),e=yield NU(n);return t.setNetworkEnabled(!1),(i=(0,dt.Z)(function*(r){const s=Gt(r);s.vu.add(0),yield Og(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Ls(n=qi(n,Ro)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,jU("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function d$(n){return function(t){const e=new _s;return t.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function LE(n,t){return UE.apply(this,arguments)}(yield YR(t),e)})),e.promise}(Ls(n=qi(n,Ro)))}(this._delegate)}onSnapshotsInSync(t){return function z$(n,t){return function XH(n,t){const e=new yS(t);return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return i=yield Ub(n),r=e,Gt(i).ku.add(r),void r.next();var i,r})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return i=yield Ub(n),r=e,void Gt(i).ku.delete(r);var i,r}))}}(Ls(n=qi(n,Ro)),eN(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new vt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new uw(this,JR(this._delegate,t))}catch(e){throw Rl(e,"collection()","Firestore.collection()")}}doc(t){try{return new Yd(this,zE(this._delegate,t))}catch(e){throw Rl(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Nl(this,function i$(n,t){if(n=qi(n,jE),QR("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new vt(tt.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new bc(n,null,(e=t,new If($i.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Rl(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function X$(n,t,e){n=qi(n,Ro);const i=Object.assign(Object.assign({},Q$),e);return function(r){if(r.maxAttempts<1)throw new vt(tt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,u){const m=new _s;return r.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){const v=yield function FU(n){return wS(n).then(t=>t.datastore)}(r);new ZH(r.asyncQueue,v,u,s,m).run()})),m.promise}(Ls(n),r=>t(new J$(n,r)),i)}(this._delegate,e=>t(new L5(this,e)))}batch(){return Ls(this._delegate),new U5(new m3(this._delegate,t=>Bb(this._delegate,t)))}loadBundle(t){return function p$(n,t){const e=Ls(n=qi(n,Ro)),i=new o$;return function e$(n,t,e,i){const r=function(s,u){let m;return m="string"==typeof s?Yx().encode(s):s,v=function(v,x){if(v instanceof Uint8Array)return AU(v,x);if(v instanceof ArrayBuffer)return AU(new Uint8Array(v),x);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new qH(v,u);var v}(e,nm(t));n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){!function HH(n,t,e){const i=Gt(n);var r;(r=(0,dt.Z)(function*(s,u,m){try{const v=yield u.getMetadata();if(yield function(q,ne){const ae=Gt(q),ye=os(ne.createTime);return ae.persistence.runTransaction("hasNewerBundle","readonly",Ze=>ae.qs.getBundleMetadata(Ze,ne.id)).then(Ze=>!!Ze&&Ze.createTime.compareTo(ye)>=0)}(s.localStore,v))return yield u.close(),m._completeWith({taskState:"Success",documentsLoaded:(q=v).totalDocuments,bytesLoaded:q.totalBytes,totalDocuments:q.totalDocuments,totalBytes:q.totalBytes}),Promise.resolve(new Set);m._updateProgress(c(v));const x=new a(v,s.localStore,u.serializer);let P=yield u.bc();for(;P;){const q=yield x.zu(P);q&&m._updateProgress(q),P=yield u.bc()}const L=yield x.complete();return yield om(s,L.Ju,void 0),yield function(q,ne){const ae=Gt(q);return ae.persistence.runTransaction("Save bundle","readwrite",ye=>ae.qs.saveBundleMetadata(ye,ne))}(s.localStore,v),m._completeWith(L.progress),Promise.resolve(L.Hu)}catch(v){return cu("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v),Promise.resolve(new Set)}var q}),function(s,u,m){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield YR(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function m$(n,t){return function t$(n,t){return n.asyncQueue.enqueue((0,dt.Z)(function*(){return function(e,i){const r=Gt(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield CS(n),t)}))}(Ls(n=qi(n,Ro)),t).then(e=>e?new bc(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Nl(this,e):null)}}class YP extends aN{constructor(t){super(),this.firestore=t}convertBytes(t){return new qM(new zf(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Yd.forKey(e,this.firestore,null)}}class L5{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new YP(t)}get(t){const e=by(t);return this._delegate.get(e).then(i=>new GM(this._firestore,new cm(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=by(t);return i?(n2("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=by(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=by(t);return this._delegate.delete(e),this}}class U5{constructor(t){this._delegate=t}set(t,e,i){const r=by(t);return i?(n2("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=by(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=by(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class yy{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new YE(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ZM(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=yy.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new yy(t,new YP(t),e),r.set(e,s)),s}}yy.INSTANCES=new WeakMap;class Yd{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new YP(t)}static forPath(t,e,i){if(t.length%2!=0)throw new vt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Yd(e,new ko(e._delegate,i,new qt(t)))}static forKey(t,e,i){return new Yd(e,new ko(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new uw(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new uw(this.firestore,JR(this._delegate,t))}catch(e){throw Rl(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,ie.m9)(t))instanceof ko&&ZU(this._delegate,t)}set(t,e){e=n2("DocumentReference.set",e);try{return e?cN(this._delegate,t,e):cN(this._delegate,t)}catch(i){throw Rl(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?lN(this._delegate,t):lN(this._delegate,t,e,...i)}catch(r){throw Rl(r,"updateDoc()","DocumentReference.update()")}}delete(){return function j$(n){return Bb(qi(n.firestore,Ro),[new pg(n._key,Or.none())])}(this._delegate)}onSnapshot(...t){const e=V5(t),i=B5(t,r=>new GM(this.firestore,new cm(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return uN(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function F$(n){n=qi(n,ko);const t=qi(n.firestore,Ro),e=Ls(t),i=new kg(t);return function QH(n,t){const e=new _s;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return(i=(0,dt.Z)(function*(r,s,u){try{const m=yield function(v,x){const P=Gt(v);return P.persistence.runTransaction("read document","readonly",L=>P.localDocuments.getDocument(L,x))}(r,s);m.isFoundDocument()?u.resolve(m):m.isNoDocument()?u.resolve(null):u.reject(new vt(tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=Jv(m,`Failed to get document '${s} from cache`);u.reject(v)}}),function(r,s,u){return i.apply(this,arguments)})(yield CS(n),t,e);var i})),e.promise}(e,n._key).then(r=>new cm(t,i,n._key,r,new iy(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function L$(n){n=qi(n,ko);const t=qi(n.firestore,Ro);return LU(Ls(t),n._key,{source:"server"}).then(e=>dN(t,n,e))}(this._delegate):function N$(n){n=qi(n,ko);const t=qi(n.firestore,Ro);return LU(Ls(t),n._key).then(e=>dN(t,n,e))}(this._delegate),e.then(i=>new GM(this.firestore,new cm(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Yd(this.firestore,this._delegate.withConverter(t?yy.getInstance(this.firestore,t):null))}}function Rl(n,t,e){return n.message=n.message.replace(t,e),n}function V5(n){for(const t of n)if("object"==typeof t&&!r2(t))return t;return{}}function B5(n,t){var e,i;let r;return r=r2(n[0])?n[0]:r2(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class GM{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Yd(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return f3(this._delegate,t._delegate)}}class ZM extends GM{data(t){const e=this._delegate.data(t);return function d1(n,t){n||ln()}(void 0!==e),e}}class Nl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new YP(t)}where(t,e,i){try{return new Nl(this.firestore,am(this._delegate,s3(t,e,i)))}catch(r){throw Rl(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Nl(this.firestore,am(this._delegate,function M$(n,t="asc"){const e=t,i=SS("orderBy",n);return sN._create(i,e)}(t,e)))}catch(i){throw Rl(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Nl(this.firestore,am(this._delegate,function I$(n){return $U("limit",n),PS._create("limit",n,"F")}(t)))}catch(e){throw Rl(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Nl(this.firestore,am(this._delegate,function T$(n){return $U("limitToLast",n),PS._create("limitToLast",n,"L")}(t)))}catch(e){throw Rl(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Nl(this.firestore,am(this._delegate,function O$(...n){return DS._create("startAt",n,!0)}(...t)))}catch(e){throw Rl(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Nl(this.firestore,am(this._delegate,function S$(...n){return DS._create("startAfter",n,!1)}(...t)))}catch(e){throw Rl(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Nl(this.firestore,am(this._delegate,function P$(...n){return AS._create("endBefore",n,!1)}(...t)))}catch(e){throw Rl(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Nl(this.firestore,am(this._delegate,function D$(...n){return AS._create("endAt",n,!0)}(...t)))}catch(e){throw Rl(e,"endAt()","Query.endAt()")}}isEqual(t){return XR(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function V$(n){n=qi(n,bc);const t=qi(n.firestore,Ro),e=Ls(t),i=new kg(t);return function JH(n,t){const e=new _s;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return(i=(0,dt.Z)(function*(r,s,u){try{const m=yield $v(r,s,!0),v=new _(s,m.ir),x=v.sc(m.documents),P=v.applyChanges(x,!1);u.resolve(P.snapshot)}catch(m){const v=Jv(m,`Failed to execute query '${s} against cache`);u.reject(v)}}),function(r,s,u){return i.apply(this,arguments)})(yield CS(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Ag(t,i,n,r))}(this._delegate):"server"===t?.source?function B$(n){n=qi(n,bc);const t=qi(n.firestore,Ro),e=Ls(t),i=new kg(t);return UU(e,n._query,{source:"server"}).then(r=>new Ag(t,i,n,r))}(this._delegate):function U$(n){n=qi(n,bc);const t=qi(n.firestore,Ro),e=Ls(t),i=new kg(t);return o3(n._query),UU(e,n._query).then(r=>new Ag(t,i,n,r))}(this._delegate),e.then(i=>new o2(this.firestore,new Ag(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=V5(t),i=B5(t,r=>new o2(this.firestore,new Ag(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return uN(this._delegate,e,i)}withConverter(t){return new Nl(this.firestore,this._delegate.withConverter(t?yy.getInstance(this.firestore,t):null))}}class xee{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new ZM(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class o2{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Nl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new ZM(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new xee(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new ZM(this._firestore,i))})}isEqual(t){return f3(this._delegate,t._delegate)}}class uw extends Nl{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Yd(this.firestore,t):null}doc(t){try{return new Yd(this.firestore,void 0===t?zE(this._delegate):zE(this._delegate,t))}catch(e){throw Rl(e,"doc()","CollectionReference.doc()")}}add(t){return p3(this._delegate,t).then(e=>new Yd(this.firestore,e))}isEqual(t){return ZU(this._delegate,t._delegate)}withConverter(t){return new uw(this.firestore,this._delegate.withConverter(t?yy.getInstance(this.firestore,t):null))}}function by(n){return qi(n,ko)}class s2{constructor(...t){this._delegate=new sm(...t)}static documentId(){return new s2(qo.keyField().canonicalString())}isEqual(t){return(t=(0,ie.m9)(t))instanceof sm&&this._delegate._internalPath.isEqual(t._internalPath)}}class wy{constructor(t){this._delegate=t}static serverTimestamp(){const t=function tq(){return new tN("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new wy(t)}static delete(){const t=function eq(){return new $E("deleteField")}();return t._methodName="FieldValue.delete",new wy(t)}static arrayUnion(...t){const e=function nq(...n){return new b$("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new wy(e)}static arrayRemove(...t){const e=function iq(...n){return new w$("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new wy(e)}static increment(t){const e=function rq(n){return new C$("increment",n)}(t);return e._methodName="FieldValue.increment",new wy(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Eee={Firestore:F5,GeoPoint:ES,Timestamp:ho,Blob:qM,Transaction:L5,WriteBatch:U5,DocumentReference:Yd,DocumentSnapshot:GM,Query:Nl,QueryDocumentSnapshot:ZM,QuerySnapshot:o2,CollectionReference:uw,FieldPath:s2,FieldValue:wy,setLogLevel:function Cee(n){!function fk(n){xf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Iee(n){(function Mee(n,t){n.INTERNAL.registerComponent(new ou.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},Eee)))})(n,(t,e)=>new F5(t,e,new wee)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(k5.Z);var KP=Q(3093);function j5(n,t){return(0,$d.m)(t)?(0,as.w)(()=>n,t):(0,as.w)(()=>n)}var a2=Q(5137),z5=Q(120);const c2=new o.OlP("angularfire2.auth.use-emulator"),l2=new o.OlP("angularfire2.auth.settings"),u2=new o.OlP("angularfire2.auth.tenant-id"),d2=new o.OlP("angularfire2.auth.langugage-code"),h2=new o.OlP("angularfire2.auth.use-device-language"),f2=new o.OlP("angularfire.auth.persistence"),p2=(n,t,e,i,r,s,u,m)=>(0,kl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=t.runOutsideAngular(()=>n.auth());if(e&&v.useEmulator(...e),i&&(v.tenantId=i),v.languageCode=r,s&&v.useDeviceLanguage(),u)for(const[x,P]of Object.entries(u))v.settings[x]=P;return m&&v.setPersistence(m),v},[e,i,r,s,u,m]);let m2=(()=>{class n{constructor(e,i,r,s,u,m,v,x,P,L,q,ne){const ae=new zn.x,ye=(0,_n.of)(void 0).pipe((0,KP.Q)(u.outsideAngular),(0,as.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(Q.bind(Q,8661)))),(0,gn.U)(()=>(0,kl.on)(e,s,i)),(0,gn.U)(Ze=>p2(Ze,s,m,x,P,L,v,q)),zF({bufferSize:1,refCount:!1}));if(Cr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,_n.of)(null);else{ye.pipe(Fg()).subscribe();const wt=ye.pipe((0,as.w)(Lt=>Lt.getRedirectResult().then(Pn=>Pn,()=>null)),bn.iC,zF({bufferSize:1,refCount:!1})),Dt=ye.pipe((0,as.w)(Lt=>new ar.y(Pn=>({unsubscribe:s.runOutsideAngular(()=>Lt.onAuthStateChanged(kn=>Pn.next(kn),kn=>Pn.error(kn),()=>Pn.complete()))})))),Pt=ye.pipe((0,as.w)(Lt=>new ar.y(Pn=>({unsubscribe:s.runOutsideAngular(()=>Lt.onIdTokenChanged(kn=>Pn.next(kn),kn=>Pn.error(kn),()=>Pn.complete()))}))));this.authState=wt.pipe(j5(Dt),(0,a2.R)(u.outsideAngular),(0,KP.Q)(u.insideAngular)),this.user=wt.pipe(j5(Pt),(0,a2.R)(u.outsideAngular),(0,KP.Q)(u.insideAngular)),this.idToken=this.user.pipe((0,as.w)(Lt=>Lt?(0,Sr.D)(Lt.getIdToken()):(0,_n.of)(null))),this.idTokenResult=this.user.pipe((0,as.w)(Lt=>Lt?(0,Sr.D)(Lt.getIdTokenResult()):(0,_n.of)(null))),this.credential=(0,Zg.T)(wt,ae,this.authState.pipe(cr(Lt=>!Lt))).pipe((0,gn.U)(Lt=>Lt?.user?Lt:null),(0,a2.R)(u.outsideAngular),(0,KP.Q)(u.insideAngular))}return(0,kl.pX)(this,ye,s,{spy:{apply:(Ze,wt,Dt)=>{(Ze.startsWith("signIn")||Ze.startsWith("createUser"))&&Dt.then(Pt=>ae.next(Pt))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(kl.Dh),o.LFG(kl.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(bn.HU),o.LFG(c2,8),o.LFG(l2,8),o.LFG(u2,8),o.LFG(d2,8),o.LFG(h2,8),o.LFG(f2,8),o.LFG(wp,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function H5(n,t){return function Oee(n,t=cw.z){return new ar.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function g2(n,t){return H5(n,t).pipe((0,gn.U)(e=>({payload:e,type:"query"})))}function QP(n,t){return g2(n,t).pipe(Ng(void 0),t2(),(0,gn.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,m)=>{const v=r.find(P=>P.doc.ref.isEqual(u.ref)),x=e?.payload.docs.find(P=>P.ref.isEqual(u.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(u.metadata)||!v&&x&&JSON.stringify(x.metadata)===JSON.stringify(u.metadata)||s.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:u}})}),s}))}function $5(n,t,e){return QP(n,e).pipe(Gb((i,r)=>function Pee(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function Dee(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return _2(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return _2(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return _2(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),(0,MF.x)(),(0,gn.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function _2(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function q5(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class G5{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=QP(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,gn.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Ng(void 0),t2(),cr(([i,r])=>r.length>0||!i),(0,gn.U)(([i,r])=>r),bn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Gb((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=q5(t);return $5(this.query,e,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(t={}){return g2(this.query,this.afs.schedulers.outsideAngular).pipe((0,gn.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),bn.iC)}get(t){return(0,Sr.D)(this.query.get(t)).pipe(bn.iC)}add(t){return this.ref.add(t)}doc(t){return new Z5(this.ref.doc(t),this.afs)}}class Z5{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=K5(i,e);return new G5(r,s,this.afs)}snapshotChanges(){return function See(n,t){return H5(n,t).pipe(Ng(void 0),t2(),(0,gn.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,gn.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Sr.D)(this.ref.get(t)).pipe(bn.iC)}}class Aee{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?QP(this.query,this.afs.schedulers.outsideAngular).pipe((0,gn.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),cr(e=>e.length>0),bn.iC):QP(this.query,this.afs.schedulers.outsideAngular).pipe(bn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Gb((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=q5(t);return $5(this.query,e,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(t={}){return g2(this.query,this.afs.schedulers.outsideAngular).pipe((0,gn.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),bn.iC)}get(t){return(0,Sr.D)(this.query.get(t)).pipe(bn.iC)}}const W5=new o.OlP("angularfire2.enableFirestorePersistence"),Y5=new o.OlP("angularfire2.firestore.persistenceSettings"),kee=new o.OlP("angularfire2.firestore.settings"),Ree=new o.OlP("angularfire2.firestore.use-emulator");function K5(n,t=(e=>e)){return{query:t(n),ref:n}}let v2=(()=>{class n{constructor(e,i,r,s,u,m,v,x,P,L,q,ne,ae,ye,Ze,wt,Dt){this.schedulers=v;const Pt=(0,kl.on)(e,m,i),Lt=P;L&&p2(Pt,m,q,ae,ye,Ze,ne,wt),[this.firestore,this.persistenceEnabled$]=(0,kl.cc)(`${Pt.name}.firestore`,"AngularFirestore",Pt.name,()=>{const Pn=m.runOutsideAngular(()=>Pt.firestore());if(s&&Pn.settings(s),Lt&&Pn.useEmulator(...Lt),r&&!Cr(u)){const kn=()=>{try{return(0,Sr.D)(Pn.enablePersistence(x||void 0).then(()=>!0,()=>!1))}catch(ji){return typeof console<"u"&&console.warn(ji),(0,_n.of)(!1)}};return[Pn,m.runOutsideAngular(kn)]}return[Pn,(0,_n.of)(!1)]},[s,Lt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:u}=K5(r,i),m=this.schedulers.ngZone.run(()=>s);return new G5(m,u,this)}collectionGroup(e,i){const r=i||(u=>u),s=this.firestore.collectionGroup(e);return new Aee(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new Z5(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(kl.Dh),o.LFG(kl.xv,8),o.LFG(W5,8),o.LFG(kee,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(bn.HU),o.LFG(Y5,8),o.LFG(Ree,8),o.LFG(m2,8),o.LFG(c2,8),o.LFG(l2,8),o.LFG(u2,8),o.LFG(d2,8),o.LFG(h2,8),o.LFG(f2,8),o.LFG(wp,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Nee=(()=>{class n{constructor(){z5.Z.registerVersion("angularfire",bn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:W5,useValue:!0},{provide:Y5,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[v2]}),n})();const Fee=function(){return{"max-width":"550px",height:"550px",width:"90vw","border-radius":"15px"}};function Lee(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",2),2&n&&o.Q6J("theme",o.DdM(1,Fee))}function Uee(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adja meg a vezet\xe9knev\xe9t! "),o.qZA())}function Vee(n,t){if(1&n&&(o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2,"Vezet\xe9kn\xe9v"),o.qZA(),o._UZ(3,"input",17),o.YNc(4,Uee,2,0,"mat-error",10),o.qZA()),2&n){const e=o.oxw(3);o.xp6(4),o.Q6J("ngIf",null==e.lastName||null==e.lastName.errors?null:e.lastName.errors.required)}}function Bee(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adja meg a Keresztnev\xe9t! "),o.qZA())}function jee(n,t){if(1&n&&(o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2,"Keresztn\xe9v"),o.qZA(),o._UZ(3,"input",18),o.YNc(4,Bee,2,0,"mat-error",10),o.qZA()),2&n){const e=o.oxw(3);o.xp6(4),o.Q6J("ngIf",null==e.firstName||null==e.firstName.errors?null:e.firstName.errors.required)}}function zee(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," K\xe9rem, val\xf3di E-mail c\xedmet haszn\xe1ljon! "),o.qZA())}function Hee(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adja meg az E-mail c\xedm\xe9t! "),o.qZA())}function $ee(n,t){if(1&n&&(o.TgZ(0,"mat-form-field")(1,"mat-label"),o._uU(2,"E-mail c\xedm"),o.qZA(),o._UZ(3,"input",19),o.YNc(4,zee,2,0,"mat-error",10),o.YNc(5,Hee,2,0,"mat-error",10),o.qZA()),2&n){const e=o.oxw(3);o.xp6(4),o.Q6J("ngIf",null==e.email||null==e.email.errors?null:e.email.errors.email),o.xp6(1),o.Q6J("ngIf",null==e.email||null==e.email.errors?null:e.email.errors.required)}}function qee(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adja meg a telefonsz\xe1m\xe1t! "),o.qZA())}function Gee(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Adja meg a Sz\xe1ll\xedt\xe1si c\xedm\xe9t! "),o.qZA())}function Zee(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-checkbox",20),o.NdJ("click",function(r){o.CHM(e);const s=o.oxw(3);return o.KtG(s.termsCheck(r))}),o._uU(1,"Elfogadom az "),o.TgZ(2,"div",21),o._uU(3,"\xc1SZF "),o.qZA(),o._uU(4,"-et "),o.qZA()}}function Wee(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",5)(1,"p",6),o._uU(2,"K\xe9rem, adja meg a sz\xe1ll\xedt\xe1si adatait!"),o.qZA(),o.TgZ(3,"form",7,8),o.NdJ("ngSubmit",function(){o.CHM(e);const r=o.MAs(4),s=o.oxw(2);return o.KtG(s.rendelesFormSubmit(r.value))}),o.TgZ(5,"div",9),o.YNc(6,Vee,5,1,"mat-form-field",10),o.ALo(7,"async"),o.YNc(8,jee,5,1,"mat-form-field",10),o.ALo(9,"async"),o.qZA(),o.YNc(10,$ee,6,2,"mat-form-field",10),o.ALo(11,"async"),o.TgZ(12,"mat-form-field")(13,"mat-label"),o._uU(14,"Telefonsz\xe1m"),o.qZA(),o._UZ(15,"input",11),o.YNc(16,qee,2,0,"mat-error",10),o.qZA(),o.TgZ(17,"mat-form-field")(18,"mat-label"),o._uU(19,"Szall\xedt\xe1si c\xedm"),o.qZA(),o._UZ(20,"input",12),o.YNc(21,Gee,2,0,"mat-error",10),o.qZA(),o.YNc(22,Zee,5,0,"mat-checkbox",13),o.ALo(23,"async"),o.TgZ(24,"div",14)(25,"p",15),o._uU(26),o.qZA(),o.TgZ(27,"button",16),o.ALo(28,"async"),o._uU(29,"Rendel\xe9s meger\u0151s\xedt\xe9se"),o.qZA()()()()}if(2&n){const e=o.oxw(2);o.Udp("display",e.contentLoaded?"block":"none"),o.xp6(3),o.Q6J("formGroup",e.shippingForm),o.xp6(3),o.Q6J("ngIf",!o.lcZ(7,11,e.user$)),o.xp6(2),o.Q6J("ngIf",!o.lcZ(9,13,e.user$)),o.xp6(2),o.Q6J("ngIf",!o.lcZ(11,15,e.user$)),o.xp6(6),o.Q6J("ngIf",null==e.phone||null==e.phone.errors?null:e.phone.errors.required),o.xp6(5),o.Q6J("ngIf",null==e.address||null==e.address.errors?null:e.address.errors.required),o.xp6(1),o.Q6J("ngIf",!o.lcZ(23,17,e.user$)),o.xp6(4),o.hij("V\xe9g\xf6sszeg: ",e.price," Ft"),o.xp6(1),o.Q6J("disabled",0==e.termsChecked&&!o.lcZ(28,19,e.user$))}}function Yee(n,t){if(1&n&&(o.TgZ(0,"div",3),o.YNc(1,Wee,30,21,"div",4),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.contentLoaded)}}let Kee=(()=>{class n{get email(){return this.shippingForm.get("email")}get address(){return this.shippingForm.get("address")}get firstName(){return this.shippingForm.get("firstName")}get lastName(){return this.shippingForm.get("lastName")}get phone(){return this.shippingForm.get("phone")}constructor(e,i,r,s,u,m,v,x,P,L){this.fb=e,this.services=i,this.authService=r,this.shoppingService=s,this.usersService=u,this.toast=m,this.router=v,this.firestore=x,this.formbuilder=P,this.afs=L,this.shippingForm=this.fb.group({firstName:["",wc.required],lastName:["",wc.required],email:["",[wc.required,wc.email]],phone:["",wc.required],address:["",wc.required]}),this.contentLoaded=!1,this.termsChecked=!1,this.orderId="",this.user$=this.usersService.currentUserProfile$,this.price=this.shoppingService.calculateTotalPayment(),this.items=this.services.getCartItems(),this.gift=this.shoppingService.giftIsChecked,this.insurance=this.shoppingService.insuranceIsChecked,this.shippingPrice=this.shoppingService.shippingPrice,this.orderDate=new Date}termsCheck(e){e.stopPropagation(),e.target!==e.currentTarget&&(this.termsChecked=!this.termsChecked)}ngOnInit(){0===this.services.getCartItems().length&&this.router.navigateByUrl("/shopping-cart"),setTimeout(()=>{this.contentLoaded=!0},1e3),this.user$.subscribe(e=>{e&&this.shippingForm.patchValue({firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,address:e.address})})}rendelesFormSubmit(e){var i=this;return(0,dt.Z)(function*(){const{firstName:r,lastName:s,email:u,phone:m,address:v}=i.shippingForm.value;if(i.shippingForm.valid&&r&&s&&u&&m&&v)try{const x=yield i.user$.pipe(nl(1)).toPromise();let P;P=Hd(i.firestore,x?"*orders":"*guest"),e.items=i.items,e.gift=i.gift,e.insurance=i.insurance,e.shippingPrice=i.shippingPrice,e.price=i.price,e.orderDate=i.orderDate,i.services.placedOrder=!0,i.router.navigate(["/landing"]),yield Cq(P,e),console.log("Rendel\xe9s elk\xfcldve a Firestore-ba"),i.shippingForm.reset(),i.services.clearCart()}catch(x){console.error("Hiba t\xf6rt\xe9nt a rendel\xe9s elk\xfcld\xe9se sor\xe1n: ",x)}})()}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(IP),o.Y36(ta),o.Y36(my),o.Y36(vB),o.Y36(FM),o.Y36(Va),o.Y36(Ya),o.Y36(zd),o.Y36(bj),o.Y36(v2))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-shipping"]],decls:2,vars:2,consts:[["class","mid screen-width","appearance","circle",3,"theme",4,"ngIf"],["class","shopping-cart-component",4,"ngIf"],["appearance","circle",1,"mid","screen-width",3,"theme"],[1,"shopping-cart-component"],["class","shipping-container mat-elevation-z5",3,"display",4,"ngIf"],[1,"shipping-container","mat-elevation-z5"],[1,"title"],[3,"formGroup","ngSubmit"],["rendelesForm","ngForm"],[1,"row"],[4,"ngIf"],["type","number","matInput","","formControlName","phone"],["type","text","matInput","","formControlName","address","maxlength","50"],[3,"click",4,"ngIf"],[1,"button-container"],[1,"price"],["type","submit",1,"order-btn",3,"disabled"],["type","text","matInput","","formControlName","lastName","maxlength","12"],["type","text","matInput","","formControlName","firstName","maxlength","12"],["type","email","matInput","","formControlName","email"],[3,"click"],["routerLink","/user/login",1,"terms"]],template:function(i,r){1&i&&(o.YNc(0,Lee,1,2,"ngx-skeleton-loader",0),o.YNc(1,Yee,2,1,"div",1)),2&i&&(o.Q6J("ngIf",!r.contentLoaded),o.xp6(1),o.Q6J("ngIf",r.services.getCartItems().length>0))},dependencies:[ci,Yu,TM,ly,OM,uy,yM,MP,zg,ow,$F,HF,BM,Rz,NM,fm,Zi],styles:[".shipping-container[_ngcontent-%COMP%]{display:block;max-width:600px;margin:25px auto auto;background:white;padding:48px;border-radius:16px}.shipping-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;margin:10px 0 30px;font-size:22px;font-weight:800;color:#061e29}.shipping-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin-top:8px}mat-checkbox[_ngcontent-%COMP%]{margin-top:0;white-space:nowrap;position:relative}mat-checkbox[_ngcontent-%COMP%]   .terms[_ngcontent-%COMP%]{display:inline-block;color:#1c202b;text-decoration:underline;cursor:pointer}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.text-center[_ngcontent-%COMP%]{text-align:center}.button-container[_ngcontent-%COMP%]{margin-top:25px}.button-container[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:18px;font-weight:100;margin:20px 0;border-bottom:1px solid #1C202B;padding:0 0 15px}.button-container[_ngcontent-%COMP%]   .order-btn[_ngcontent-%COMP%]{margin:25px 0 0;padding:15px 30px;border-radius:5px;font-size:15px;background-color:#1c202b;cursor:pointer;border:none;color:#fff;transition:.5s ease-in-out}.button-container[_ngcontent-%COMP%]   .order-btn[_ngcontent-%COMP%]:disabled{background-color:gray;cursor:not-allowed}.button-container[_ngcontent-%COMP%]   .order-btn[_ngcontent-%COMP%]:hover{color:#eceff1}@media screen and (max-width: 550px){.shipping-container[_ngcontent-%COMP%]{padding:5px}}",'.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:auto;position:relative;-webkit-user-select:none;user-select:none}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:10px;position:relative}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{color:#f0f8ff;font-size:15px;margin-bottom:5px;display:flex;flex:1}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{color:#f0f8ff;font-size:18px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{color:#f0f8ff;border-radius:10px;background-color:#1c202b;flex:1;display:flex;align-items:center;margin:10px 10px 5px;border-bottom:1px solid #ccc;position:relative;gap:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .img-background[_ngcontent-%COMP%]{width:120px;height:120px;background-color:#fff;position:absolute;overflow:hidden;z-index:2;border-radius:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{position:relative;z-index:3;width:120px;background-color:#fff;height:120px;border-radius:5px;margin-right:10px;overflow:hidden;border:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{font-size:15px;margin-right:30px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{font-size:18px;overflow:hidden;margin-left:50px;margin-right:15px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:15px;display:flex;align-items:center;margin-left:auto;color:#f0f8ff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;justify-content:center;align-items:center;font-size:20px;margin:0 5px;border-radius:50%;padding:10px;border:1px solid #a5beda;cursor:pointer;color:#f0f8ff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%]   .fa-minus[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]   .fa-minus[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{font-size:14px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]:hover{background-color:#ef2158}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;margin:0;gap:0px;width:auto}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:15px 10px 15px 0;margin-left:0}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{gap:2px;margin:10px 0 0}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{margin-right:5px;font-size:12px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:25px;height:25px;font-size:10px;padding:0;margin:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{margin-left:4px;font-size:13px;float:right}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;font-size:12px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .img-background[_ngcontent-%COMP%]{max-width:80px;max-height:80px;width:80px;height:80px;overflow:hidden}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{margin-right:0;max-width:80px;max-height:80px;width:auto;height:auto;max-height:100px;overflow:hidden}}.empty-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.empty-cart-img[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-22%);width:100%;max-width:600px;display:flex;overflow:hidden}.empty-cart-desc[_ngcontent-%COMP%]{text-align:center;position:absolute;width:300px;top:55%;left:50%;transform:translate(-50%,-10%);font-size:26px;font-weight:300;border-top:1px solid #ccc;padding-top:15px;transition:all .4s ease-in-out}.empty-cart-button[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer;transition:all .3s ease-in-out;font-weight:100}.empty-cart-button[_ngcontent-%COMP%]:after{background:none repeat scroll 0 0 transparent;bottom:0;content:"";display:block;height:1px;left:50%;position:absolute;background:#191818;transition:width .3s ease 0s,left .3s ease 0s;width:0}.empty-cart-button[_ngcontent-%COMP%]:hover:after{width:100%;left:0}@media screen and (max-width: 500px){.empty-cart-desc[_ngcontent-%COMP%]{top:41%;left:50%}.empty-cart-button[_ngcontent-%COMP%]{top:48%;left:50%;font-size:22px}}.bonus[_ngcontent-%COMP%]   .bonus-desc[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;font-size:13px;margin-top:15px;width:auto}.insurance[_ngcontent-%COMP%], .gift[_ngcontent-%COMP%], .bonus[_ngcontent-%COMP%], .shipping[_ngcontent-%COMP%]{font-size:15px;border-top:1px solid #ccc;margin-top:20px;padding-top:10px}.checkout-container-desc[_ngcontent-%COMP%]{font-size:13px;margin-top:15px;opacity:.5;width:100%}.shipping[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1}h3[_ngcontent-%COMP%]{float:right;opacity:.5;font-weight:800}h3.active[_ngcontent-%COMP%]{opacity:1}.disabled-button[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.checkout-container[_ngcontent-%COMP%]{background-color:#f4f7fa;padding:10px;border-radius:.625rem;height:100%;display:grid;position:relative;max-width:1000px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]{padding-top:20px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1;font-size:18px;font-weight:200}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:800;float:right;top:0;margin-left:40px}@media screen and (max-width: 750px){.checkout-container[_ngcontent-%COMP%]{padding:2px}.checkout-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:100%}.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:14px;margin-top:20px;padding-top:10px}}@media screen and (max-width: 750px) and (max-width: 340px){.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width: 750px){.checkout-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:-4px}.checkout-container[_ngcontent-%COMP%]   .btn-hover[_ngcontent-%COMP%]{float:right}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:100%;font-size:16px}}.btn-hover[_ngcontent-%COMP%]{width:200px;font-size:16px;font-weight:400;background-color:#1c202b;color:#fff;cursor:pointer;margin-left:auto;height:55px;text-align:center;border-radius:.625rem;transition:all .5s ease}.btn-hover[_ngcontent-%COMP%]:hover{color:#fff;background-color:#12151d}']})}return n})();const Qee=[Gc("slideInOut",[gd("in",Oi({"max-height":"500px",opacity:"1",visibility:"visible"})),gd("out",Oi({"max-height":"0px",opacity:"0",visibility:"hidden"})),ps("in => out",[mc([Ri("100ms ease-in-out",Oi({opacity:"0"})),Ri("200ms ease-in-out",Oi({"max-height":"0px"})),Ri("300ms ease-in-out",Oi({visibility:"hidden"}))])]),ps("out => in",[mc([Ri("300ms ease-in-out",Oi({visibility:"visible"})),Ri("300ms ease-in-out",Oi({"max-height":"500px"})),Ri("400ms ease-in-out",Oi({opacity:"1"}))])])])];function Jee(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"img",22),o.NdJ("mouseover",function(){const s=o.CHM(e).$implicit,u=o.oxw();return o.KtG(u.modalService.changeMainImage(s))}),o.qZA()()}if(2&n){const e=t.$implicit;o.xp6(1),o.Q6J("src",e,o.LSH)}}function Xee(n,t){1&n&&(o.TgZ(0,"i",23),o._uU(1,"Kattintson a r\xe9szletek\xe9rt!"),o.qZA())}function ete(n,t){if(1&n&&(o.TgZ(0,"div",24),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij(" ",e.product.composition.compDescription," ")}}function tte(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",25),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw();return o.KtG(u.services.selectItem(s))}),o.TgZ(1,"div",26),o._uU(2),o.qZA()()}if(2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.ekj("selected",i.services.selectedSize===e),o.xp6(1),o.AsE("",e.size," ",e.price," Ft")}}function nte(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",27)(1,"div",28)(2,"p",29),o._uU(3),o.qZA(),o.TgZ(4,"p",29),o._uU(5),o.qZA(),o.TgZ(6,"p",29),o._uU(7),o.qZA(),o.TgZ(8,"p",29),o._uU(9),o.qZA(),o.TgZ(10,"p",29),o._uU(11),o.qZA(),o.TgZ(12,"p",12),o._uU(13,"Term\xe9kjellemz\u0151: "),o.qZA(),o._uU(14),o.TgZ(15,"button",30),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.modalService.showDetails())}),o._UZ(16,"i",20),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(3),o.hij("",e.product.scent," "),o.xp6(2),o.hij("Fejillat: ",e.product.composition.head," "),o.xp6(2),o.hij("Sz\xedvillat: ",e.product.composition.hearth," "),o.xp6(2),o.hij("Alapillat: ",e.product.composition.base," "),o.xp6(2),o.hij("Illat: ",e.product.composition.scentType," "),o.xp6(3),o.hij(" ",e.product.composition.compDescription," ")}}let ite=(()=>{class n{constructor(e,i,r){this.productService=e,this.modalService=i,this.services=r}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Zd),o.Y36(iw),o.Y36(ta))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-modal"]],inputs:{product:"product"},decls:42,vars:14,consts:[[1,"modal-container"],[1,"modal-content"],[1,"left-section"],[1,"product-name"],[1,"product-description"],[1,"product-price"],[1,"modal-image",3,"src"],[1,"modal-image-selection-container"],[4,"ngFor","ngForOf"],[1,"right-section"],[1,"composition-container"],[1,"composition-description"],[1,"comp-desc-p"],[1,"composition-description",3,"click"],["class","mobile-comp-desc-i",4,"ngIf"],["class","comp-desc-p-details",4,"ngIf"],[1,"item-size-buttons-container"],[3,"click",4,"ngFor","ngForOf"],[1,"cart-btn",3,"click"],[1,"close-btn",3,"click"],[1,"fal","fa-times","close-icon"],["class","mobile-comp-desc-details-container",4,"ngIf"],["alt","Image",1,"modal-image-selection",3,"src","mouseover"],[1,"mobile-comp-desc-i"],[1,"comp-desc-p-details"],[3,"click"],["tabindex","0",1,"item-size-buttons"],[1,"mobile-comp-desc-details-container"],[1,"mobile-comp-desc-details"],[1,"mobile-comp-desc-p"],[1,"close-comp-desc-details-btn",3,"click"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o._uU(4),o.qZA(),o.TgZ(5,"div",4),o._uU(6),o.qZA(),o.TgZ(7,"div",5),o._uU(8),o.qZA(),o._UZ(9,"img",6),o.TgZ(10,"div",7),o.YNc(11,Jee,2,1,"div",8),o.qZA()(),o.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"p",12),o._uU(16,"Fejillat: "),o.qZA(),o._uU(17),o.qZA(),o.TgZ(18,"div",11)(19,"p",12),o._uU(20,"Sz\xedvillat: "),o.qZA(),o._uU(21),o.qZA(),o.TgZ(22,"div",11)(23,"p",12),o._uU(24,"Alapillat: "),o.qZA(),o._uU(25),o.qZA(),o.TgZ(26,"div",11)(27,"p",12),o._uU(28,"Illat: "),o.qZA(),o._uU(29),o.qZA(),o.TgZ(30,"div",13),o.NdJ("click",function(){return r.modalService.showDetails()}),o.TgZ(31,"p",12),o._uU(32,"Term\xe9kjellemz\u0151: "),o.YNc(33,Xee,2,0,"i",14),o.qZA(),o.YNc(34,ete,2,1,"div",15),o.qZA()(),o.TgZ(35,"div",16),o.YNc(36,tte,3,4,"div",17),o.qZA(),o.TgZ(37,"div",18),o.NdJ("click",function(){return r.modalService.addToCart(r.product)}),o._uU(38,"Hozz\xe1ad\xe1s a kos\xe1rhoz"),o.qZA()(),o.TgZ(39,"button",19),o.NdJ("click",function(){return r.modalService.closeModal()}),o._UZ(40,"i",20),o.qZA(),o.YNc(41,nte,17,6,"div",21),o.qZA()()),2&i&&(o.xp6(4),o.AsE(" ",r.product.productName," ",r.services.selectedSize,""),o.xp6(2),o.hij("",r.product.scent," "),o.xp6(2),o.hij("",r.services.selectedSizePrice," Ft"),o.xp6(1),o.Q6J("src",r.modalService.currentImage||r.product.modalImagePath[0],o.LSH),o.xp6(2),o.Q6J("ngForOf",r.product.modalImagePath),o.xp6(6),o.hij("",r.product.composition.head," "),o.xp6(4),o.hij("",r.product.composition.hearth," "),o.xp6(4),o.hij("",r.product.composition.base," "),o.xp6(4),o.hij("",r.product.composition.scentType," "),o.xp6(4),o.Q6J("ngIf",r.modalService.screenWidth<=800),o.xp6(1),o.Q6J("ngIf",r.modalService.screenWidth>800),o.xp6(2),o.Q6J("ngForOf",r.product.type),o.xp6(5),o.Q6J("ngIf",r.modalService.showDetailsBox&&r.modalService.screenWidth<=800))},dependencies:[Ln,ci],styles:['@charset "UTF-8";.modal-container[_ngcontent-%COMP%]{background-color:#00000080;display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:calc(100% - 5rem);margin-left:5rem;transition:all .5s ease;height:100%;z-index:1000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 10px #0003;width:900px;height:700px;position:relative;display:flex;flex-direction:column}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:66.6%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:24px;padding-bottom:10px;color:#333;border-bottom:1px solid #aeaeae}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:16px;color:#666}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:360px;max-height:360px;width:auto;height:auto;position:absolute;top:50%;left:33%;transform:translate(-50%,-50%);-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;position:absolute;bottom:0}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:70px;width:auto;height:auto;margin-left:15px;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{background-color:#1c202b;position:absolute;right:0;top:auto;bottom:0;height:100%;width:33.3%;padding:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:flex;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{position:absolute;background-color:#fff;right:10px;bottom:10px;font-size:10px;font-size:14px;padding:10px 22px;cursor:pointer;transition:ease .4s;-webkit-user-select:none;user-select:none;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:active{background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;top:50%;left:10px;-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]   .item-color-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;padding-left:5px;padding-right:5px;width:90px;height:40px;align-items:center;text-align:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]   .item-color-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-color-buttons-container[_ngcontent-%COMP%]   .item-color-buttons[_ngcontent-%COMP%]:focus{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;top:65%;left:10px;-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;padding-left:5px;padding-right:5px;width:90px;height:40px;align-items:center;text-align:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:focus{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#ef2158}.mobile-comp-desc-details-container[_ngcontent-%COMP%]{position:fixed;width:95%;height:95%;z-index:2;border-radius:5px;background-color:#000c}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:90%;position:absolute;bottom:0;padding:15px;border-radius:5px}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:fixed;top:10%;right:0;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;overflow-x:visible}@media screen and (max-width: 550px){.modal-container[_ngcontent-%COMP%]{width:calc(100% + -0rem);margin-left:0rem}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:0;width:95%;height:95%;top:0}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:100%;z-index:1;position:absolute;height:65%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:18px;padding:10px 0 10px 5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{margin-left:8px;font-size:16px;display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;margin-left:8px;display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:60%;max-height:60%;position:absolute;width:auto;height:auto;overflow:hidden;top:50%;left:50%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]{left:0;width:100%;padding:0;box-sizing:border-box;overflow-x:auto}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:50px;margin-left:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{width:100%;padding:5px;border-radius:5px;overflow:hidden;height:35%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){display:flex;margin-top:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .comp-desc-p-details[_ngcontent-%COMP%]{display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{right:10px;bottom:10px;padding:10px 30px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{position:relative;top:10%;left:10px}}@media screen and (min-width: 550px) and (max-width: 700px){.modal-container[_ngcontent-%COMP%]{width:calc(100% + -0rem);margin-left:0rem}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:100%;margin:0 10px;height:700px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:18px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:16px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:300px;max-height:300px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:60px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:none;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){color:#fff;display:flex;margin-top:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .comp-desc-p-details[_ngcontent-%COMP%]{display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .mobile-comp-desc-p[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{position:absolute;background-color:#fff;right:5px;bottom:5px;font-size:12px;padding:5px 15px;cursor:pointer;transition:ease .4s;-webkit-user-select:none;user-select:none;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:active{background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;top:65%;left:10px;-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;padding-left:5px;padding-right:5px;width:90px;height:40px;align-items:center;text-align:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:focus{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;z-index:2;border-radius:5px;background-color:#000c}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]{background-color:#fff;width:60%;height:60%;position:relative;top:50%;left:50%;transform:translate(-50%,-50%);padding:15px;border-radius:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%], .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#ef2158}}@media screen and (min-width: 801px){.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{margin:0 10px}}']})}return n})();function rte(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.openModal(s))})("mouseover",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.mouseOver(s))})("mouseleave",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.mouseLeave(s))}),o.TgZ(1,"div",4),o._uU(2),o.TgZ(3,"p",5),o._uU(4),o.qZA(),o.TgZ(5,"p",6),o._uU(6),o.qZA()(),o.TgZ(7,"div",7),o._UZ(8,"img",8),o.qZA(),o.TgZ(9,"div",9),o._uU(10),o.TgZ(11,"p",10),o._uU(12,"Ft-t\xf3l"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e.brand," "),o.xp6(2),o.Oqu(e.brandName),o.xp6(2),o.Oqu(e.scent),o.xp6(2),o.Q6J("src",e.imagePath,o.LSH),o.xp6(2),o.hij("",e.type[0].price," ")}}function ote(n,t){if(1&n&&(o.TgZ(0,"div",1),o.YNc(1,rte,13,5,"div",2),o.ALo(2,"async"),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,e.productService.diorQuery$))}}let Q5=(()=>{class n{constructor(e,i){this.services=e,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ta),o.Y36(Zd))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-dior-fragrances"]],decls:1,vars:1,consts:[["class","product-card-container",4,"ngIf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&o.YNc(0,ote,3,3,"div",0),2&i&&o.Q6J("ngIf",!0===r.productService.isDiorChecked)},dependencies:[Ln,ci,Zi],styles:[".product-card-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .12rem #000;min-width:320px;margin:10px;min-height:390px;overflow:hidden;position:relative}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:1px solid #1C202B;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #1C202B}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:240px;max-height:240px;width:auto;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#fff;bottom:0;width:100%}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}.skeleton[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;flex-direction:row}.skeleton[_ngcontent-%COMP%]   ngx-skeleton-loader[_ngcontent-%COMP%]{width:calc(25% - 20px);border-radius:.5rem;margin:1.25rem;min-width:320px;margin:10px;min-height:390px;position:relative}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})();function ste(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.openModal(s))})("mouseover",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.mouseOver(s))})("mouseleave",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.mouseLeave(s))}),o.TgZ(1,"div",4),o._uU(2),o.TgZ(3,"p",5),o._uU(4),o.qZA(),o.TgZ(5,"p",6),o._uU(6),o.qZA()(),o.TgZ(7,"div",7),o._UZ(8,"img",8),o.qZA(),o.TgZ(9,"div",9),o._uU(10),o.TgZ(11,"p",10),o._uU(12,"Ft-t\xf3l"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e.brand," "),o.xp6(2),o.Oqu(e.brandName),o.xp6(2),o.Oqu(e.scent),o.xp6(2),o.Q6J("src",e.imagePath,o.LSH),o.xp6(2),o.hij("",e.type[0].price," ")}}function ate(n,t){if(1&n&&(o.TgZ(0,"div",1),o.YNc(1,ste,13,5,"div",2),o.ALo(2,"async"),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,e.productService.JPGQuery$))}}let cte=(()=>{class n{constructor(e,i){this.services=e,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ta),o.Y36(Zd))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-jpg-fragrances"]],decls:1,vars:1,consts:[["class","product-card-container",4,"ngIf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&o.YNc(0,ate,3,3,"div",0),2&i&&o.Q6J("ngIf",!0===r.productService.isJPGChecked)},dependencies:[Ln,ci,Zi],styles:[".product-card-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .12rem #000;min-width:320px;margin:10px;min-height:390px;overflow:hidden;position:relative}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:1px solid #1C202B;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #1C202B}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:240px;max-height:240px;width:auto;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#fff;bottom:0;width:100%}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}.skeleton[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;flex-direction:row}.skeleton[_ngcontent-%COMP%]   ngx-skeleton-loader[_ngcontent-%COMP%]{width:calc(25% - 20px);border-radius:.5rem;margin:1.25rem;min-width:320px;margin:10px;min-height:390px;position:relative}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})();function lte(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.openModal(s))})("mouseover",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.mouseOver(s))})("mouseleave",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.mouseLeave(s))}),o.TgZ(1,"div",4),o._uU(2),o.TgZ(3,"p",5),o._uU(4),o.qZA(),o.TgZ(5,"p",6),o._uU(6),o.qZA()(),o.TgZ(7,"div",7),o._UZ(8,"img",8),o.qZA(),o.TgZ(9,"div",9),o._uU(10),o.TgZ(11,"p",10),o._uU(12,"Ft-t\xf3l"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e.brand," "),o.xp6(2),o.Oqu(e.brandName),o.xp6(2),o.Oqu(e.scent),o.xp6(2),o.Q6J("src",e.imagePath,o.LSH),o.xp6(2),o.hij("",e.type[0].price," ")}}function ute(n,t){if(1&n&&(o.TgZ(0,"div",1),o.YNc(1,lte,13,5,"div",2),o.ALo(2,"async"),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,e.productService.lancomeQuery$))}}let dte=(()=>{class n{constructor(e,i){this.services=e,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ta),o.Y36(Zd))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-lancome-fragrances"]],decls:1,vars:1,consts:[["class","product-card-container",4,"ngIf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&o.YNc(0,ute,3,3,"div",0),2&i&&o.Q6J("ngIf",!0===r.productService.isLancomeChecked)},dependencies:[Ln,ci,Zi],styles:[".product-card-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .12rem #000;min-width:320px;margin:10px;min-height:390px;overflow:hidden;position:relative}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:1px solid #1C202B;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #1C202B}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:240px;max-height:240px;width:auto;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#fff;bottom:0;width:100%}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}.skeleton[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;flex-direction:row}.skeleton[_ngcontent-%COMP%]   ngx-skeleton-loader[_ngcontent-%COMP%]{width:calc(25% - 20px);border-radius:.5rem;margin:1.25rem;min-width:320px;margin:10px;min-height:390px;position:relative}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})();function hte(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.openModal(s))})("mouseover",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.mouseOver(s))})("mouseleave",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.mouseLeave(s))}),o.TgZ(1,"div",4),o._uU(2),o.TgZ(3,"p",5),o._uU(4),o.qZA(),o.TgZ(5,"p",6),o._uU(6),o.qZA()(),o.TgZ(7,"div",7),o._UZ(8,"img",8),o.qZA(),o.TgZ(9,"div",9),o._uU(10),o.TgZ(11,"p",10),o._uU(12,"Ft-t\xf3l"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e.brand," "),o.xp6(2),o.Oqu(e.brandName),o.xp6(2),o.Oqu(e.scent),o.xp6(2),o.Q6J("src",e.imagePath,o.LSH),o.xp6(2),o.hij("",e.type[0].price," ")}}function fte(n,t){if(1&n&&(o.TgZ(0,"div",1),o.YNc(1,hte,13,5,"div",2),o.ALo(2,"async"),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,e.productService.womanFragrances$))}}let pte=(()=>{class n{constructor(e,i){this.services=e,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ta),o.Y36(Zd))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-woman-fragrances"]],decls:1,vars:1,consts:[["class","product-card-container",4,"ngIf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&o.YNc(0,fte,3,3,"div",0),2&i&&o.Q6J("ngIf",!0===r.productService.isWomanChecked)},dependencies:[Ln,ci,Zi],styles:[".product-card-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .12rem #000;min-width:320px;margin:10px;min-height:390px;overflow:hidden;position:relative}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:1px solid #1C202B;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #1C202B}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:240px;max-height:240px;width:auto;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#fff;bottom:0;width:100%}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}.skeleton[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;flex-direction:row}.skeleton[_ngcontent-%COMP%]   ngx-skeleton-loader[_ngcontent-%COMP%]{width:calc(25% - 20px);border-radius:.5rem;margin:1.25rem;min-width:320px;margin:10px;min-height:390px;position:relative}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})();function mte(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.openModal(s))})("mouseover",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.mouseOver(s))})("mouseleave",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.mouseLeave(s))}),o.TgZ(1,"div",4),o._uU(2),o.TgZ(3,"p",5),o._uU(4),o.qZA(),o.TgZ(5,"p",6),o._uU(6),o.qZA()(),o.TgZ(7,"div",7),o._UZ(8,"img",8),o.qZA(),o.TgZ(9,"div",9),o._uU(10),o.TgZ(11,"p",10),o._uU(12,"Ft-t\xf3l"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e.brand," "),o.xp6(2),o.Oqu(e.brandName),o.xp6(2),o.Oqu(e.scent),o.xp6(2),o.Q6J("src",e.imagePath,o.LSH),o.xp6(2),o.hij("",e.type[0].price," ")}}function gte(n,t){if(1&n&&(o.TgZ(0,"div",1),o.YNc(1,mte,13,5,"div",2),o.ALo(2,"async"),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,e.productService.manFragrances$))}}let _te=(()=>{class n{constructor(e,i){this.services=e,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ta),o.Y36(Zd))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-man-fragrances"]],decls:1,vars:1,consts:[["class","product-card-container",4,"ngIf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&o.YNc(0,gte,3,3,"div",0),2&i&&o.Q6J("ngIf",!0===r.productService.isManChecked)},dependencies:[Ln,ci,Zi],styles:[".product-card-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .12rem #000;min-width:320px;margin:10px;min-height:390px;overflow:hidden;position:relative}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:1px solid #1C202B;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #1C202B}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:240px;max-height:240px;width:auto;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#fff;bottom:0;width:100%}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}.skeleton[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;flex-direction:row}.skeleton[_ngcontent-%COMP%]   ngx-skeleton-loader[_ngcontent-%COMP%]{width:calc(25% - 20px);border-radius:.5rem;margin:1.25rem;min-width:320px;margin:10px;min-height:390px;position:relative}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})(),vte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-settings-button"]],decls:4,vars:0,consts:[[1,"setting-btn"],[1,"bar","bar1"],[1,"bar","bar2"]],template:function(i,r){1&i&&(o.TgZ(0,"button",0),o._UZ(1,"span",1)(2,"span",2)(3,"span",1),o.qZA())},styles:['.setting-btn[_ngcontent-%COMP%]{width:45px;height:45px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:6px;background-color:#1c202b;border-radius:10px;cursor:pointer;border:none;margin-left:10px}.bar[_ngcontent-%COMP%]{width:50%;height:2px;background-color:#e5e5e5;display:flex;align-items:center;justify-content:center;position:relative;border-radius:2px}.bar[_ngcontent-%COMP%]:before{content:"";width:2px;height:2px;background-color:#1c202b;position:absolute;border-radius:50%;border:2px solid white;transition:all .3s}.bar1[_ngcontent-%COMP%]:before{transform:translate(-4px)}.bar2[_ngcontent-%COMP%]:before{transform:translate(4px)}.setting-btn[_ngcontent-%COMP%]:hover   .bar1[_ngcontent-%COMP%]:before{transform:translate(4px)}.setting-btn[_ngcontent-%COMP%]:hover   .bar2[_ngcontent-%COMP%]:before{transform:translate(-4px)}']})}return n})();const yte=function(){return{width:"100%",height:"100px","border-radius":"15px"}};function bte(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",12),2&n&&o.Q6J("theme",o.DdM(1,yte))}const wte=function(){return["/brand-jeanpaulgaultier"]},Cte=function(){return["/brand-dior"]},xte=function(){return["/brand-lancome"]};function Ete(n,t){if(1&n&&(o.TgZ(0,"div",13)(1,"div",14),o._UZ(2,"img",15)(3,"img",15)(4,"img",15),o.qZA()()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("routerLink",o.DdM(6,wte))("src",e.jeanPaulBrandImg,o.LSH),o.xp6(1),o.Q6J("routerLink",o.DdM(7,Cte))("src",e.diorBrandImg,o.LSH),o.xp6(1),o.Q6J("routerLink",o.DdM(8,xte))("src",e.lancomeBrandImg,o.LSH)}}const Mte=function(){return{width:"80px",height:"80px"}};function Ite(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",16),2&n&&o.Q6J("theme",o.DdM(1,Mte))}function Tte(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-settings-button",17),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.toggleShowDiv("divA"))}),o.qZA()}}const Ote=function(){return{width:"320px",height:"350px","border-radius":"15px",margin:"10px"}};function Ste(n,t){1&n&&(o.ynx(0),o._UZ(1,"ngx-skeleton-loader",16),o.BQk()),2&n&&(o.xp6(1),o.Q6J("theme",o.DdM(1,Ote)))}const Pte=function(){return[1,2,3]};function Dte(n,t){1&n&&(o.TgZ(0,"div",18),o.YNc(1,Ste,2,2,"ng-container",19),o.qZA()),2&n&&(o.xp6(1),o.Q6J("ngForOf",o.DdM(1,Pte)))}function Ate(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",22),o.NdJ("click",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.openModal(s))})("mouseover",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.mouseOver(s))})("mouseleave",function(){const s=o.CHM(e).$implicit,u=o.oxw(2);return o.KtG(u.productService.mouseLeave(s))}),o.TgZ(1,"div",23),o._uU(2),o.TgZ(3,"p",24),o._uU(4),o.qZA(),o.TgZ(5,"p",25),o._uU(6),o.qZA()(),o.TgZ(7,"div",26),o._UZ(8,"img",27),o.qZA(),o.TgZ(9,"div",28),o._uU(10),o.TgZ(11,"p",29),o._uU(12,"Ft-t\xf3l"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.hij(" ",e.brand," "),o.xp6(2),o.Oqu(e.brandName),o.xp6(2),o.Oqu(e.scent),o.xp6(2),o.Q6J("src",e.imagePath,o.LSH),o.xp6(2),o.hij("",e.type[0].price," ")}}function kte(n,t){if(1&n&&(o.TgZ(0,"div",20),o.YNc(1,Ate,13,5,"div",21),o.ALo(2,"async"),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,e.productService.fragrances$))}}function Rte(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-modal",30),o.NdJ("closeModalEvent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.productService.closeModal())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("product",e.productService.selectedProduct)}}let Nte=(()=>{class n{constructor(e,i,r,s){this.services=e,this.firestore=i,this.productService=r,this.renderer=s,this.contentLoaded=!1,this.jeanPaulBrandImg="./assets/images/fragrances/logo/jeanpaul_logo.jpg",this.diorBrandImg="./assets/images/fragrances/logo/dior_logo.jpg",this.lancomeBrandImg="./assets/images/fragrances/logo/lancome_logo.jpg",this.animationState="out"}ngOnInit(){setTimeout(()=>{this.contentLoaded=!0},1500)}toggleShowDiv(e){"divA"===e&&(console.log(this.animationState),this.animationState="out"===this.animationState?"in":"out",console.log(this.animationState))}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ta),o.Y36(zd),o.Y36(Zd),o.Y36(o.Qsj))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-fragrances"]],decls:26,vars:19,consts:[["appearance","line",3,"theme",4,"ngIf"],["class","brands-container",4,"ngIf"],["appearance","circle",3,"theme",4,"ngIf"],[3,"click",4,"ngIf"],[1,"divA"],[1,"checkbox-all",3,"ngModel","disabled","ngModelChange","change"],[1,"checkbox-w",3,"ngModel","disabled","ngModelChange","change"],[1,"checkbox-m",3,"ngModel","disabled","ngModelChange","change"],[1,"checkbox-b",3,"ngModel","ngModelChange","change"],["class","skeleton",4,"ngIf"],["class","product-card-container",4,"ngIf"],[3,"product","closeModalEvent",4,"ngIf"],["appearance","line",3,"theme"],[1,"brands-container"],[1,"brands"],[1,"brand-img",3,"routerLink","src"],["appearance","circle",3,"theme"],[3,"click"],[1,"skeleton"],[4,"ngFor","ngForOf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"],[3,"product","closeModalEvent"]],template:function(i,r){1&i&&(o.YNc(0,bte,1,2,"ngx-skeleton-loader",0),o.YNc(1,Ete,5,9,"div",1),o.YNc(2,Ite,1,2,"ngx-skeleton-loader",2),o.YNc(3,Tte,1,0,"app-settings-button",3),o.TgZ(4,"div",4)(5,"mat-checkbox",5),o.NdJ("ngModelChange",function(u){return r.productService.isAllChecked=u})("change",function(){return r.productService.onCheckboxChange("isAllChecked")}),o._uU(6,"Mindet mutat"),o.qZA(),o.TgZ(7,"mat-checkbox",6),o.NdJ("ngModelChange",function(u){return r.productService.isWomanChecked=u})("change",function(){return r.productService.onCheckboxChange("isWomanChecked")}),o._uU(8,"N\u0151i"),o.qZA(),o.TgZ(9,"mat-checkbox",7),o.NdJ("ngModelChange",function(u){return r.productService.isManChecked=u})("change",function(){return r.productService.onCheckboxChange("isManChecked")}),o._uU(10,"F\xe9rfi"),o.qZA(),o.TgZ(11,"mat-checkbox",8),o.NdJ("ngModelChange",function(u){return r.productService.isDiorChecked=u})("change",function(){return r.productService.onCheckboxChange("isDiorChecked")}),o._uU(12,"Dior"),o.qZA(),o.TgZ(13,"mat-checkbox",8),o.NdJ("ngModelChange",function(u){return r.productService.isLancomeChecked=u})("change",function(){return r.productService.onCheckboxChange("isLancomeChecked")}),o._uU(14,"Lancome"),o.qZA(),o.TgZ(15,"mat-checkbox",8),o.NdJ("ngModelChange",function(u){return r.productService.isJPGChecked=u})("change",function(){return r.productService.onCheckboxChange("isJPGChecked")}),o._uU(16,"Jean Paul Gaultier"),o.qZA()(),o.YNc(17,Dte,2,2,"div",9),o.TgZ(18,"div"),o.YNc(19,kte,3,3,"div",10),o.qZA(),o._UZ(20,"app-man-fragrances")(21,"app-woman-fragrances")(22,"app-dior-fragrances")(23,"app-jpg-fragrances")(24,"app-lancome-fragrances"),o.YNc(25,Rte,1,1,"app-modal",11)),2&i&&(o.Q6J("ngIf",!r.contentLoaded),o.xp6(1),o.Q6J("ngIf",r.contentLoaded),o.xp6(1),o.Q6J("ngIf",!r.contentLoaded),o.xp6(1),o.Q6J("ngIf",r.contentLoaded),o.xp6(1),o.Q6J("@slideInOut",r.animationState),o.xp6(1),o.Q6J("ngModel",r.productService.isAllChecked)("disabled",!0===r.productService.isAllChecked),o.xp6(2),o.Q6J("ngModel",r.productService.isWomanChecked)("disabled",!0===r.productService.isManChecked),o.xp6(2),o.Q6J("ngModel",r.productService.isManChecked)("disabled",!0===r.productService.isWomanChecked),o.xp6(2),o.Q6J("ngModel",r.productService.isDiorChecked),o.xp6(2),o.Q6J("ngModel",r.productService.isLancomeChecked),o.xp6(2),o.Q6J("ngModel",r.productService.isJPGChecked),o.xp6(2),o.Q6J("ngIf",!r.contentLoaded),o.xp6(1),o.Udp("display",r.contentLoaded?"flex":"none"),o.xp6(1),o.Q6J("ngIf",!0===r.productService.isAllChecked),o.xp6(6),o.Q6J("ngIf",r.productService.isModalOpen))},dependencies:[Ln,ci,Yu,uy,NM,CP,fm,ite,Q5,cte,dte,pte,_te,vte,Zi],styles:[".brands-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:15px;display:flex;margin-bottom:50px;align-items:center;justify-content:center}.brands-container[_ngcontent-%COMP%]   .brand-img[_ngcontent-%COMP%]{max-width:150px;max-height:150px;width:auto;height:auto;aspect-ratio:3/2;object-fit:contain;cursor:pointer}.divA[_ngcontent-%COMP%]{display:flex;color:#333;flex-direction:column;border-radius:5px;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000}",".product-card-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .12rem #000;min-width:320px;margin:10px;min-height:390px;overflow:hidden;position:relative}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:1px solid #1C202B;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #1C202B}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:240px;max-height:240px;width:auto;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#1c202b;position:absolute;color:#fff;bottom:0;width:100%}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{color:#fff;font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}.skeleton[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;display:flex;flex-direction:row}.skeleton[_ngcontent-%COMP%]   ngx-skeleton-loader[_ngcontent-%COMP%]{width:calc(25% - 20px);border-radius:.5rem;margin:1.25rem;min-width:320px;margin:10px;min-height:390px;position:relative}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"],data:{animation:[Qee]}})}return n})(),Fte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-jean-paul-gaultier"]],decls:2,vars:0,template:function(i,r){1&i&&(o.TgZ(0,"p"),o._uU(1,"jean-paul-gaultier works!"),o.qZA())}})}return n})(),Lte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-dior"]],decls:2,vars:0,template:function(i,r){1&i&&(o.TgZ(0,"h1"),o._uU(1,"brands dior works"),o.qZA())}})}return n})();const Ute=function(){return{"max-width":"500px",height:"500px",width:"90vw","border-radius":"15px"}};function Vte(n,t){1&n&&o._UZ(0,"ngx-skeleton-loader",2),2&n&&o.Q6J("theme",o.DdM(1,Ute))}function Bte(n,t){if(1&n&&(o.TgZ(0,"div",3),o._UZ(1,"app-login"),o.qZA()),2&n){const e=o.oxw();o.Udp("display",e.contentLoaded?"block":"none")}}let jte=(()=>{class n{constructor(){this.contentLoaded=!1}ngOnInit(){setTimeout(()=>{this.contentLoaded=!0},1500)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-user"]],decls:2,vars:2,consts:[["class","mid screen-width","appearance","circle",3,"theme",4,"ngIf"],["class","app-login-container",3,"display",4,"ngIf"],["appearance","circle",1,"mid","screen-width",3,"theme"],[1,"app-login-container"]],template:function(i,r){1&i&&(o.YNc(0,Vte,1,2,"ngx-skeleton-loader",0),o.YNc(1,Bte,2,2,"div",1)),2&i&&(o.Q6J("ngIf",!r.contentLoaded),o.xp6(1),o.Q6J("ngIf",r.contentLoaded))},dependencies:[ci,fm,hz]})}return n})(),zte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-lancome"]],decls:2,vars:0,template:function(i,r){1&i&&(o.TgZ(0,"p"),o._uU(1,"lancome works!"),o.qZA())}})}return n})(),Hte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-hawkers"]],decls:2,vars:0,template:function(i,r){1&i&&(o.TgZ(0,"p"),o._uU(1,"hawkers works!"),o.qZA())}})}return n})();const J5=()=>(n=>(0,DN.z)(JF,(0,gn.U)(t=>t||n)))(["login"]),X5=()=>x5(["user"]),$te=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:p8},{path:"products",component:O8},{path:"accessories",component:Z8},{path:"fragrances",component:Nte},{path:"shopping-cart",component:pK},{path:"shipping",component:Kee},{path:"dior",component:Q5},{path:"landing",component:fJ},{path:"user",component:jte,...$M(()=>x5(["user/profile"]))},{path:"user/login",component:hz,...$M(X5)},{path:"user/sign-up",component:dJ,...$M(X5)},{path:"user/orders",component:ZX,...$M(J5)},{path:"user/profile",component:e2,...$M(J5)},{path:"media",component:W8},{path:"brand-dior",component:Lte},{path:"brand-lancome",component:zte},{path:"brand-jeanpaulgaultier",component:Fte},{path:"brand-hawkers",component:Hte}];let qte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[uB.forRoot($te,{useHash:!0}),uB]})}return n})(),Gte=(()=>{class n{constructor(){this.collapsed=!1,this.screenWidth=0,this.closed=!1}getBodyClass(){let e="";return this.collapsed&&this.screenWidth>1080&&(e="body-trimmed"),this.closed&&this.screenWidth<=1080&&this.screenWidth>0&&(e="body-md-screen",e="body-mobile-closed"),e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-body"]],inputs:{collapsed:"collapsed",screenWidth:"screenWidth",closed:"closed"},decls:2,vars:1,consts:[[1,"body",3,"ngClass"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0),o._UZ(1,"router-outlet"),o.qZA()),2&i&&o.Q6J("ngClass",r.getBodyClass())},dependencies:[vo,ZN],styles:[".body[_ngcontent-%COMP%]{width:calc(100% - 5rem);height:100%;margin-left:5rem;z-index:0;position:relative;top:0;transition:all .5s ease;background-attachment:fixed}@media screen and (max-width: 700px){.body[_ngcontent-%COMP%]{margin-left:0rem}}.body-trimmed[_ngcontent-%COMP%]{width:calc(100% - 16.5625rem);margin-left:16.5625rem}.body-md-screen[_ngcontent-%COMP%]{width:calc(100% - 5rem);margin-left:5rem}.body-mobile-closed[_ngcontent-%COMP%]{width:100%;margin-left:0rem}@media screen and (min-width: 1080px){.body[_ngcontent-%COMP%]{padding:1rem 1rem .25rem}}"]})}return n})(),Zte=0;const Wte=DM(class{}),e4="mat-badge-content";let Yte=(()=>{class n extends Wte{get color(){return this._color}set color(e){this._setColor(e),this._color=e}get overlap(){return this._overlap}set overlap(e){this._overlap=na(e)}get content(){return this._content}set content(e){this._updateRenderedContent(e)}get description(){return this._description}set description(e){this._updateDescription(e)}get hidden(){return this._hidden}set hidden(e){this._hidden=na(e)}constructor(e,i,r,s,u){super(),this._ngZone=e,this._elementRef=i,this._ariaDescriber=r,this._renderer=s,this._animationMode=u,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=Zte++,this._isInitialized=!1,this._interactivityChecker=(0,o.f3M)(wY),this._document=(0,o.f3M)(ke)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){const e=this._renderer.createElement("span"),i="mat-badge-active";return e.setAttribute("id",`mat-badge-content-${this._id}`),e.setAttribute("aria-hidden","true"),e.classList.add(e4),"NoopAnimations"===this._animationMode&&e.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(e),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.classList.add(i)})}):e.classList.add(i),e}_updateRenderedContent(e){const i=`${e??""}`.trim();this._isInitialized&&i&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=i),this._content=i}_updateDescription(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!e||this._isHostInteractive())&&this._removeInlineDescription(),this._description=e,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,e):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(e){const i=this._elementRef.nativeElement.classList;i.remove(`mat-badge-${this._color}`),e&&i.add(`mat-badge-${e}`)}_clearExistingBadges(){const e=this._elementRef.nativeElement.querySelectorAll(`:scope > .${e4}`);for(const i of Array.from(e))i!==this._badgeElement&&i.remove()}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(vY),o.Y36(o.Qsj),o.Y36(o.QbO,8))};static#t=this.\u0275dir=o.lG2({type:n,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(i,r){2&i&&o.ekj("mat-badge-overlap",r.overlap)("mat-badge-above",r.isAbove())("mat-badge-below",!r.isAbove())("mat-badge-before",!r.isAfter())("mat-badge-after",r.isAfter())("mat-badge-small","small"===r.size)("mat-badge-medium","medium"===r.size)("mat-badge-large","large"===r.size)("mat-badge-hidden",r.hidden||!r.content)("mat-badge-disabled",r.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],position:["matBadgePosition","position"],content:["matBadge","content"],description:["matBadgeDescription","description"],size:["matBadgeSize","size"],hidden:["matBadgeHidden","hidden"]},features:[o.qOj]})}return n})(),t4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[LY,ra,ra]})}return n})();function Kte(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.toggleOpen())}),o._UZ(1,"i",10),o.qZA()}2&n&&o.Q6J("@fadeInOut",void 0)}function Qte(n,t){1&n&&(o.TgZ(0,"div",11),o._uU(1,"Logo"),o.qZA()),2&n&&o.Q6J("@fadeInOut",void 0)}function Jte(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",12),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.toggleOpen())}),o._UZ(1,"i",13),o.qZA()}2&n&&o.Q6J("@rotate",void 0)("@fadeInOut",void 0)}function Xte(n,t){if(1&n&&(o.TgZ(0,"div",5),o.YNc(1,Kte,2,1,"button",6),o.YNc(2,Qte,2,1,"div",7),o.YNc(3,Jte,2,2,"button",8),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",!e.closed||e.opened),o.xp6(1),o.Q6J("ngIf",e.opened),o.xp6(1),o.Q6J("ngIf",e.opened)}}function ene(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.toggleCollapse())}),o._UZ(1,"i",10),o.qZA()}2&n&&o.Q6J("@fadeInOut",void 0)}function tne(n,t){1&n&&(o.TgZ(0,"div",11),o._uU(1,"Logo"),o.qZA()),2&n&&o.Q6J("@fadeInOut",void 0)}function nne(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",12),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.toggleCollapse())}),o._UZ(1,"i",13),o.qZA()}2&n&&o.Q6J("@rotate",void 0)("@fadeInOut",void 0)}function ine(n,t){if(1&n&&(o.TgZ(0,"div",5),o.YNc(1,ene,2,1,"button",6),o.YNc(2,tne,2,1,"div",7),o.YNc(3,nne,2,2,"button",8),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",!e.closed||e.collapsed),o.xp6(1),o.Q6J("ngIf",e.collapsed),o.xp6(1),o.Q6J("ngIf",e.collapsed)}}function rne(n,t){if(1&n&&o._UZ(0,"i",20),2&n){const e=o.oxw(2).$implicit;o.Tol(e.icon),o.Q6J("@fadeInOut",void 0)}}function one(n,t){if(1&n&&(o.TgZ(0,"span",21),o._uU(1),o.qZA()),2&n){const e=o.oxw(2).$implicit;o.Q6J("@fadeInOut",void 0),o.xp6(1),o.hij(" ",e.label," ")}}function sne(n,t){if(1&n&&o._UZ(0,"mat-icon",22),2&n){const e=o.oxw(2).$implicit;o.s9C("matBadge",e.badge),o.Q6J("@fadeInOut",void 0)("matBadgeHidden",!e.badge)}}const ane=function(n){return[n]},cne=function(){return{exact:!0}};function lne(n,t){if(1&n&&(o.TgZ(0,"a",16),o.YNc(1,rne,1,3,"i",17),o.YNc(2,one,2,2,"span",18),o.YNc(3,sne,1,3,"mat-icon",19),o.qZA()),2&n){const e=o.oxw().$implicit,i=o.oxw();o.Q6J("routerLink",o.VKq(6,ane,e.routerLink))("@fadeInOut",void 0)("routerLinkActiveOptions",o.DdM(8,cne)),o.xp6(1),o.Q6J("ngIf",!i.closed||i.opened),o.xp6(1),o.Q6J("ngIf",i.collapsed||i.opened),o.xp6(1),o.Q6J("ngIf",!i.closed||i.opened)}}function une(n,t){if(1&n&&(o.TgZ(0,"li",14),o.YNc(1,lne,4,9,"a",15),o.qZA()),2&n){const e=o.oxw();o.Q6J("@fadeInOut",void 0),o.xp6(1),o.Q6J("ngIf",!e.closed||e.opened)}}function dne(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"i",23),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.modalService.closeModal())})("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.toggleOpen())}),o.qZA()}2&n&&o.Q6J("@fadeInOut",void 0)}const hne=function(n,t,e){return{"sidenav-collapsed":n,"sidenav-closed-mobile":t,"sidenav-opened-mobile":e}};let fne=(()=>{class n{constructor(e,i){this.modalService=e,this.elementRef=i,this.onToggleSideNav=new o.vpe,this.collapsed=!1,this.closed=!1,this.opened=!1,this.screenwidth=0,this.navData=vM}clickOutside(e){this.elementRef.nativeElement.contains(e.target)||(this.opened=!1,this.collapsed=!1,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth}))}onResize(e){this.screenwidth=window.innerWidth,this.screenwidth<=700&&(this.collapsed=!1,this.closed=!0,this.opened=!1,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth})),this.screenwidth>700&&(this.collapsed=!1,this.closed=!1,this.opened=!1,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth}))}ngOnInit(){this.screenwidth=window.innerWidth,window.innerWidth<=700&&(this.closed=!0,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth}))}toggleCollapse(){this.collapsed=!this.collapsed,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth}),!1===this.collapsed&&(this.closed=!1),console.log("toggle collapsed?: ",this.collapsed)}closeSidenav(){this.collapsed=!1,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth}),this.closed=!1,console.log("close sidenav collapsed?: ",this.collapsed)}toggleClose(){this.closed=!this.closed,this.onToggleSideNav.emit({collapsed:this.collapsed,closed:this.closed,screenwidth:this.screenwidth}),console.log("toggleClose?: ",this.closed)}toggleOpen(){this.opened=!this.opened,this.onToggleSideNav.emit({collapsed:this.collapsed,closed:this.closed,screenwidth:this.screenwidth})}toggleByWidth(){return this.screenwidth<700?this.toggleOpen():this.toggleCollapse()}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(iw),o.Y36(o.SBq))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-sidenav"]],hostBindings:function(i,r){1&i&&o.NdJ("click",function(u){return r.clickOutside(u)},!1,o.evT)("resize",function(u){return r.onResize(u)},!1,o.Jf7)},outputs:{onToggleSideNav:"onToggleSideNav"},decls:6,vars:9,consts:[[1,"sidenav",3,"ngClass","click"],["class","logo-container",4,"ngIf"],[1,"sidenav-nav"],["class","sidenav-nav-item",4,"ngFor","ngForOf"],["class","sidenav-link-open fa fa-angle-double-right",3,"click",4,"ngIf"],[1,"logo-container"],["class","logo",3,"click",4,"ngIf"],["class","logo-text",4,"ngIf"],["class","btn-close",3,"click",4,"ngIf"],[1,"logo",3,"click"],["aria-hidden","true",1,"fa","fa-bars"],[1,"logo-text"],[1,"btn-close",3,"click"],[1,"fal","fa-times","close-icon"],[1,"sidenav-nav-item"],["href","","class","sidenav-nav-link","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions",4,"ngIf"],["href","","routerLinkActive","active",1,"sidenav-nav-link",3,"routerLink","routerLinkActiveOptions"],["class","sidenav-link-icon",3,"class",4,"ngIf"],["class","sidenav-link-text",4,"ngIf"],["class","cart-badge","matBadgeColor","warn","matBadgeOverlap","false",3,"matBadge","matBadgeHidden",4,"ngIf"],[1,"sidenav-link-icon"],[1,"sidenav-link-text"],["matBadgeColor","warn","matBadgeOverlap","false",1,"cart-badge",3,"matBadge","matBadgeHidden"],[1,"sidenav-link-open","fa","fa-angle-double-right",3,"click"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0),o.NdJ("click",function(){return r.modalService.closeModal()}),o.YNc(1,Xte,4,3,"div",1),o.YNc(2,ine,4,3,"div",1),o.TgZ(3,"ul",2),o.YNc(4,une,2,2,"li",3),o.qZA()(),o.YNc(5,dne,1,1,"i",4)),2&i&&(o.Q6J("ngClass",o.kEZ(5,hne,r.collapsed,r.closed,r.opened)),o.xp6(1),o.Q6J("ngIf",r.screenwidth<=700),o.xp6(1),o.Q6J("ngIf",r.screenwidth>700),o.xp6(2),o.Q6J("ngForOf",r.navData),o.xp6(1),o.Q6J("ngIf",(r.closed||r.opened)&&r.screenwidth<700))},dependencies:[vo,Ln,ci,Yu,nB,Yte,jF],styles:[".sidenav[_ngcontent-%COMP%]{background:#1C202B;-webkit-user-select:none;user-select:none;transition:all .5s ease;position:fixed;z-index:100;top:0;width:5rem;height:100vh}@media screen and (max-width: 700px){.sidenav[_ngcontent-%COMP%]{width:0rem}}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.938rem .938rem 0;width:100%}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{background:#fff;text-align:center;width:3rem;min-width:3rem;border-radius:.313rem;padding:.313rem;font-size:24px;font-weight:900;cursor:pointer;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .fa-bars[_ngcontent-%COMP%]{color:#000}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{margin-left:1.5rem;font-size:24px;font-weight:700;color:#fff}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{margin-left:auto;cursor:pointer;width:2rem;height:2rem;border-radius:50%;background-color:transparent;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#fff;font-size:24px}.sidenav-closed-mobile[_ngcontent-%COMP%]{width:0rem;transition:.5s ease}.sidenav-closed-mobile[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex}.sidenav-closed-mobile[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%], .sidenav-closed-mobile[_ngcontent-%COMP%]   .sidenav-nav[_ngcontent-%COMP%]{display:none}.sidenav-opened-mobile[_ngcontent-%COMP%]{width:16.5625rem;transition:.5s ease}.sidenav-opened-mobile[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex}.sidenav-opened-mobile[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:block}.sidenav-opened-mobile[_ngcontent-%COMP%]   .sidenav-nav[_ngcontent-%COMP%]{display:flex}.sidenav-collapsed[_ngcontent-%COMP%]{width:16.55625rem}.sidenav-nav[_ngcontent-%COMP%]{list-style:none;padding:.938rem;margin:0;display:flex;flex-direction:column;align-items:center;height:calc(100% - 3.65rem);cursor:pointer}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]{width:100%;margin-bottom:.625rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem;color:#f3f3f3;text-decoration:none;border-radius:.625rem;transition:all .3s ease}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%]{font-size:22px;width:2rem;min-width:2rem;margin:0 .5rem;text-align:center}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .cart-badge[_ngcontent-%COMP%]{position:fixed}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{margin-left:1.5rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]:hover   .sidenav-nav-link[_ngcontent-%COMP%]{background-color:#fff;color:#000}.active[_ngcontent-%COMP%]{background-color:#fff}.active[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{color:#000}.sidenav-link-close-container[_ngcontent-%COMP%]   .sidenav-link-close[_ngcontent-%COMP%]{color:#f3f3f3;font-size:25px;margin-top:20px;z-index:5}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.sidenav-link-open[_ngcontent-%COMP%]{cursor:pointer;border:1px solid #fff;position:fixed;color:#e9e9e9;font-size:25px;bottom:5px;left:5px;z-index:5;background-color:#1c202b;padding:10px;border-radius:50%}"],data:{animation:[Gc("fadeInOut",[ps(":enter",[Oi({opacity:0}),Ri("90ms 300ms",Oi({opacity:1}))]),ps(":leave",[Oi({opacity:1}),Ri("0ms",Oi({opacity:0}))])]),Gc("rotate",[ps(":enter",[Ri("430ms",sp([Oi({transform:"rotate(0deg)",offset:"0"}),Oi({transform:"rotate(0.5turn)",offset:"1"})]))])])]}})}return n})(),pne=(()=>{class n{constructor(){this.title="webshop",this.isSideNavCollapsed=!1,this.isSideNavMobileClosed=!1,this.isWholeToggled=!1,this.screenWidth=0}onToggleSideNav(e){this.screenWidth=e.screenwidth,this.isSideNavCollapsed=e.collapsed,this.isSideNavMobileClosed=e.closed}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:3,consts:[[3,"onToggleSideNav"],[3,"collapsed","closed","screenWidth"]],template:function(i,r){1&i&&(o.TgZ(0,"app-sidenav",0),o.NdJ("onToggleSideNav",function(u){return r.onToggleSideNav(u)}),o.qZA(),o._UZ(1,"app-body",1)),2&i&&(o.xp6(1),o.Q6J("collapsed",r.isSideNavCollapsed)("closed",r.isSideNavMobileClosed)("screenWidth",r.screenWidth))},dependencies:[Gte,fne]})}return n})(),mne=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[Ii,nz,Wz,t4,Dz,wj,Yz,Zz,jM,w5,Wz,nz,t4,Dz,wj,Yz,Zz,jM,w5,IK]})}return n})(),gne=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[Ii,gB]})}return n})();const n4="@firebase/database";let y2="";function r4(n){y2=n}class yne{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,ie.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,ie.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class bne{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,ie.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const o4=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new yne(t)}}catch{}return new bne},Cy=o4("localStorage"),b2=o4("sessionStorage"),dw=new Ru.Yd("@firebase/database"),s4=function(){let n=1;return function(){return n++}}(),a4=function(n){const t=(0,ie.dS)(n),e=new ie.gQ;e.update(t);const i=e.digest();return ie.US.encodeByteArray(i)},WM=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=WM.apply(null,i):t+="object"==typeof i?(0,ie.Wl)(i):i,t+=" "}return t};let xy=null,c4=!0;const l4=function(n,t){(0,ie.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(dw.logLevel=Ru.in.VERBOSE,xy=dw.log.bind(dw),t&&b2.set("logging_enabled",!0)):"function"==typeof n?xy=n:(xy=null,b2.remove("logging_enabled"))},Ja=function(...n){if(!0===c4&&(c4=!1,null===xy&&!0===b2.get("logging_enabled")&&l4(!0)),xy){const t=WM.apply(null,n);xy(t)}},YM=function(n){return function(...t){Ja(n,...t)}},w2=function(...n){const t="FIREBASE INTERNAL ERROR: "+WM(...n);dw.error(t)},Wf=function(...n){const t=`FIREBASE FATAL ERROR: ${WM(...n)}`;throw dw.error(t),new Error(t)},il=function(...n){const t="FIREBASE WARNING: "+WM(...n);dw.warn(t)},JP=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Wg="[MIN_NAME]",gm="[MAX_NAME]",Ey=function(n,t){if(n===t)return 0;if(n===Wg||t===gm)return-1;if(t===Wg||n===gm)return 1;{const e=h4(n),i=h4(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},xne=function(n,t){return n===t?0:n<t?-1:1},KM=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,ie.Wl)(t))},C2=function(n){if("object"!=typeof n||null===n)return(0,ie.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,ie.Wl)(t[i]),e+=":",e+=C2(n[t[i]]);return e+="}",e},u4=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Xa(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const d4=function(n){(0,ie.hu)(!JP(n),"Invalid JSON number");const i=1023;let r,s,u,m,v;0===n?(s=0,u=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(m=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=m+i,u=Math.round(n*Math.pow(2,52-m)-Math.pow(2,52))):(s=0,u=Math.round(n/Math.pow(2,-1074))));const x=[];for(v=52;v;v-=1)x.push(u%2?1:0),u=Math.floor(u/2);for(v=11;v;v-=1)x.push(s%2?1:0),s=Math.floor(s/2);x.push(r?1:0),x.reverse();const P=x.join("");let L="";for(v=0;v<64;v+=8){let q=parseInt(P.substr(v,8),2).toString(16);1===q.length&&(q="0"+q),L+=q}return L.toLowerCase()},Tne=new RegExp("^-?(0*)\\d{1,10}$"),h4=function(n){if(Tne.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},hw=function(n){try{n()}catch(t){setTimeout(()=>{throw il("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},QM=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class Dne{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){il(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Ane{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Ja("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',il(t)}}let JM=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const _4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,b4="websocket",w4="long_polling";class E2{constructor(t,e,i,r,s=!1,u="",m=!1,v=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=u,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=v,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Cy.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Cy.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function C4(n,t,e){let i;if((0,ie.hu)("string"==typeof t,"typeof type must == string"),(0,ie.hu)("object"==typeof e,"typeof params must == object"),t===b4)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==w4)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function kne(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Xa(e,(s,u)=>{r.push(s+"="+u)}),i+r.join("&")}class Rne{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,ie.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,ie.p$)(this.counters_)}}const M2={},I2={};function T2(n){const t=n.toString();return M2[t]||(M2[t]=new Rne),M2[t]}class Fne{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&hw(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Yg{constructor(t,e,i,r,s,u,m){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=u,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=YM(t),this.stats_=T2(e),this.urlFn=v=>(this.appCheckToken&&(v.ac=this.appCheckToken),C4(e,w4,v))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Fne(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,ie.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new O2((...s)=>{const[u,m,v,x,P]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=m,this.password=v;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[u,m]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(u,m)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&_4.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yg.forceAllow_=!0}static forceDisallow(){Yg.forceDisallow_=!0}static isAvailable(){return!((0,ie.Yr)()||!Yg.forceAllow_&&(Yg.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,ie.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,ie.h$)(e),r=u4(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,ie.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,ie.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class O2{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ie.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=s4(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=O2.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(m){Ja("frame writing exception"),m.stack&&Ja(m.stack),Ja(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Ja("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const u=this.pendingSegs.shift();i=i+"&seg"+r+"="+u.seg+"&ts"+r+"="+u.ts+"&d"+r+"="+u.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,ie.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Ja("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let eD=null;typeof MozWebSocket<"u"?eD=MozWebSocket:typeof WebSocket<"u"&&(eD=WebSocket);let fw=(()=>{class n{constructor(e,i,r,s,u,m,v){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=YM(this.connId),this.stats_=T2(i),this.connURL=n.connectionURL_(i,m,v,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,u){const m={v:"5"};return!(0,ie.Yr)()&&typeof location<"u"&&location.hostname&&_4.test(location.hostname)&&(m.r="f"),i&&(m.s=i),r&&(m.ls=r),s&&(m.ac=s),u&&(m.p=u),C4(e,b4,m)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Cy.set("previous_websocket_failure",!0);try{let r;if((0,ie.Yr)()){r={headers:{"User-Agent":`Firebase/5/${y2}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,m=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;m&&(r.proxy={origin:m})}this.mySock=new eD(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==eD&&!n.forceDisallow_}static previouslyFailed(){return Cy.isInMemoryStorage||!0===Cy.get("previous_websocket_failure")}markConnectionHealthy(){Cy.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,ie.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,ie.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,ie.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=u4(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),S4=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Yg,fw]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=fw&&fw.isAvailable();let r=i&&!fw.previouslyFailed();if(e.webSocketOnly&&(i||il("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[fw];else{const s=this.transports_=[];for(const u of n.ALL_TRANSPORTS)u&&u.isAvailable()&&s.push(u);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class F4{constructor(t,e,i,r,s,u,m,v,x,P){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=u,this.onReady_=m,this.onDisconnect_=v,this.onKill_=x,this.lastSessionId=P,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=YM("c:"+this.id+":"),this.transportManager_=new S4(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=QM(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=KM("t",t),i=KM("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=KM("t",t),i=KM("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=KM("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?w2("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):w2("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&il("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),QM(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):QM(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Cy.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class L4{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class U4{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,ie.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,ie.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class tD extends U4{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ie.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new tD}getInitialEvent(t){return(0,ie.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Pr{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function lr(){return new Pr("")}function Si(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Kg(n){return n.pieces_.length-n.pieceNum_}function oo(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Pr(n.pieces_,t)}function P2(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function XM(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function j4(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Pr(t,0)}function Zo(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Pr)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Pr(e,0)}function Pi(n){return n.pieceNum_>=n.pieces_.length}function Fl(n,t){const e=Si(n),i=Si(t);if(null===e)return t;if(e===i)return Fl(oo(n),oo(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function rie(n,t){const e=XM(n,0),i=XM(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=Ey(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function D2(n,t){if(Kg(n)!==Kg(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Kd(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Kg(n)>Kg(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class oie{constructor(t,e){this.errorPrefix_=e,this.parts_=XM(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,ie.ug)(this.parts_[i]);z4(this)}}function z4(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+My(n))}function My(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class A2 extends U4{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new A2}getInitialEvent(t){return(0,ie.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const eI=1e3;let iD,Iy=(()=>{class n extends L4{constructor(e,i,r,s,u,m,v,x){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=u,this.authTokenProvider_=m,this.appCheckTokenProvider_=v,this.authOverride_=x,this.id=n.nextPersistentConnectionId_++,this.log_=YM("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=eI,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,x&&!(0,ie.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");A2.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&tD.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,u={r:s,a:e,b:i};this.log_((0,ie.Wl)(u)),(0,ie.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new ie.BH,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:m=>{const v=m.d;"ok"===m.s?i.resolve(v):i.reject(v)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const u=e._queryIdentifier,m=e._path.toString();this.log_("Listen called for "+m+" "+u),this.listens.has(m)||this.listens.set(m,new Map),(0,ie.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ie.hu)(!this.listens.get(m).has(u),"listen() called twice for same path/queryId.");const v={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(m).set(u,v),this.connected_&&this.sendListen_(v)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const u={p:r};e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest("q",u,v=>{const x=v.d,P=v.s;n.warnOnListenWarnings_(x,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",v),"ok"!==P&&this.removeListen_(r,s),e.onComplete&&e.onComplete(P,x))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,ie.r3)(e,"w")){const r=(0,ie.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();il(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,ie.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,ie.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const u=s.s,m=s.d||"error";this.authToken_===e&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,ie.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const u={p:e};s&&(u.q=r,u.t=s),this.sendRequest("n",u)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const u={p:i,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,m=>{s&&setTimeout(()=>{s(m.s,m.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,u){this.initConnection_();const m={p:i,d:r};void 0!==u&&(m.h=u),this.outstandingPuts_.push({action:e,request:m,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,ie.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):w2("Unrecognized action received from server: "+(0,ie.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,ie.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=eI,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=eI,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=eI),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,dt.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),u=e.id+":"+n.nextConnectionId_++,m=e.lastSessionId;let v=!1,x=null;const P=function(){x?x.close():(v=!0,s())};e.realtime_={close:P,sendRequest:function(ne){(0,ie.hu)(x,"sendRequest call when we're not connected not allowed."),x.sendRequest(ne)}};const q=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[ne,ae]=yield Promise.all([e.authTokenProvider_.getToken(q),e.appCheckTokenProvider_.getToken(q)]);v?Ja("getToken() completed but was canceled"):(Ja("getToken() completed. Creating connection."),e.authToken_=ne&&ne.accessToken,e.appCheckToken_=ae&&ae.token,x=new F4(u,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,ye=>{il(ye+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},m))}catch(ne){e.log_("Failed to get token: "+ne),v||(e.repoInfo_.nodeAdmin&&il(ne),P())}}})()}interrupt(e){Ja("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ja("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,ie.xb)(this.interruptReasons_)&&(this.reconnectDelay_=eI,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(u=>C2(u)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new Pr(e).toString();let s;if(this.listens.has(r)){const u=this.listens.get(r);s=u.get(i),u.delete(i),0===u.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){Ja("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Ja("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,ie.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+y2.replace(/\./g,"-")]=1,(0,ie.uI)()?e["framework.cordova"]=1:(0,ie.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=tD.getInstance().currentlyOnline();return(0,ie.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Fi{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Fi(t,e)}}class nD{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Fi(Wg,t),r=new Fi(Wg,e);return 0!==this.compare(i,r)}minPost(){return Fi.MIN}}class q4 extends nD{static get __EMPTY_NODE(){return iD}static set __EMPTY_NODE(t){iD=t}compare(t,e){return Ey(t.name,e.name)}isDefinedOn(t){throw(0,ie.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Fi.MIN}maxPost(){return new Fi(gm,iD)}makePost(t,e){return(0,ie.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Fi(t,iD)}toString(){return".key"}}const Yf=new q4;class rD{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let u=1;for(;!t.isEmpty();)if(u=e?i(t.key,e):1,r&&(u*=-1),u<0)t=this.isReverse_?t.left:t.right;else{if(0===u){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let R2,jh=(()=>{class n{constructor(e,i,r,s,u){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??pu.EMPTY_NODE,this.right=u??pu.EMPTY_NODE}copy(e,i,r,s,u){return new n(e??this.key,i??this.value,r??this.color,s??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===u?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return pu.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return pu.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class pu{constructor(t,e=pu.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new pu(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,jh.BLACK,null,null))}remove(t){return new pu(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,jh.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new rD(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new rD(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new rD(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new rD(this.root_,null,this.comparator_,!0,t)}}function fie(n,t){return Ey(n.name,t.name)}function k2(n,t){return Ey(n,t)}pu.EMPTY_NODE=new class hie{copy(t,e,i,r,s){return this}insert(t,e,i){return new jh(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const G4=function(n){return"number"==typeof n?"number:"+d4(n):"string:"+n},Z4=function(n){if(n.isLeafNode()){const t=n.val();(0,ie.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,ie.r3)(t,".sv"),"Priority must be a string or number.")}else(0,ie.hu)(n===R2||n.isEmpty(),"priority of unexpected type.");(0,ie.hu)(n===R2||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let W4,Y4,K4,pw=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,ie.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Z4(this.priorityNode_)}static set __childrenNodeConstructor(e){W4=e}static get __childrenNodeConstructor(){return W4}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Pi(e)?this:".priority"===Si(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Si(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,ie.hu)(".priority"!==r||1===Kg(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(oo(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+G4(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?d4(this.value_):this.value_,this.lazyHash_=a4(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,ie.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),u=n.VALUE_TYPE_ORDER.indexOf(r);return(0,ie.hu)(s>=0,"Unknown leaf type: "+i),(0,ie.hu)(u>=0,"Unknown leaf type: "+r),s===u?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-s}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const po=new class _ie extends nD{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?Ey(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Fi.MIN}maxPost(){return new Fi(gm,new pw("[PRIORITY-POST]",K4))}makePost(t,e){const i=Y4(t);return new Fi(e,new pw("[PRIORITY-POST]",i))}toString(){return".priority"}},vie=Math.log(2);class yie{constructor(t){this.count=parseInt(Math.log(t+1)/vie,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const oD=function(n,t,e,i){n.sort(t);const r=function(v,x){const P=x-v;let L,q;if(0===P)return null;if(1===P)return L=n[v],q=e?e(L):L,new jh(q,L.node,jh.BLACK,null,null);{const ne=parseInt(P/2,10)+v,ae=r(v,ne),ye=r(ne+1,x);return L=n[ne],q=e?e(L):L,new jh(q,L.node,jh.BLACK,ae,ye)}},m=function(v){let x=null,P=null,L=n.length;const q=function(ae,ye){const Ze=L-ae,wt=L;L-=ae;const Dt=r(Ze+1,wt),Pt=n[Ze],Lt=e?e(Pt):Pt;ne(new jh(Lt,Pt.node,ye,null,Dt))},ne=function(ae){x?(x.left=ae,x=ae):(P=ae,x=ae)};for(let ae=0;ae<v.count;++ae){const ye=v.nextBitIsOne(),Ze=Math.pow(2,v.count-(ae+1));ye?q(Ze,jh.BLACK):(q(Ze,jh.BLACK),q(Ze,jh.RED))}return P}(new yie(n.length));return new pu(i||t,m)};let N2;const mw={};class _m{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,ie.hu)(mw&&po,"ChildrenNode.ts has not been loaded"),N2=N2||new _m({".priority":mw},{".priority":po}),N2}get(t){const e=(0,ie.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof pu?e:null}hasIndex(t){return(0,ie.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,ie.hu)(t!==Yf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(Fi.Wrap);let m,u=s.getNext();for(;u;)r=r||t.isDefinedOn(u.node),i.push(u),u=s.getNext();m=r?oD(i,t.getCompare()):mw;const v=t.toString(),x=Object.assign({},this.indexSet_);x[v]=t;const P=Object.assign({},this.indexes_);return P[v]=m,new _m(P,x)}addToIndexes(t,e){const i=(0,ie.UI)(this.indexes_,(r,s)=>{const u=(0,ie.DV)(this.indexSet_,s);if((0,ie.hu)(u,"Missing index implementation for "+s),r===mw){if(u.isDefinedOn(t.node)){const m=[],v=e.getIterator(Fi.Wrap);let x=v.getNext();for(;x;)x.name!==t.name&&m.push(x),x=v.getNext();return m.push(t),oD(m,u.getCompare())}return mw}{const m=e.get(t.name);let v=r;return m&&(v=v.remove(new Fi(t.name,m))),v.insert(t,t.node)}});return new _m(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,ie.UI)(this.indexes_,r=>{if(r===mw)return r;{const s=e.get(t.name);return s?r.remove(new Fi(t.name,s)):r}});return new _m(i,this.indexSet_)}}let tI,fi=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Z4(this.priorityNode_),this.children_.isEmpty()&&(0,ie.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return tI||(tI=new n(new pu(k2),null,_m.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||tI}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?tI:i}}getChild(e){const i=Si(e);return null===i?this:this.getImmediateChild(i).getChild(oo(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,ie.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new Fi(e,i);let s,u;i.isEmpty()?(s=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(r,this.children_));const m=s.isEmpty()?tI:this.priorityNode_;return new n(s,m,u)}}updateChild(e,i){const r=Si(e);if(null===r)return i;{(0,ie.hu)(".priority"!==Si(e)||1===Kg(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(oo(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,u=!0;if(this.forEachChild(po,(m,v)=>{i[m]=v.val(e),r++,u&&n.INTEGER_REGEXP_.test(m)?s=Math.max(s,Number(m)):u=!1}),!e&&u&&s<2*r){const m=[];for(const v in i)m[v]=i[v];return m}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+G4(this.getPriority().val())+":"),this.forEachChild(po,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":a4(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const u=s.getPredecessorKey(new Fi(e,i));return u?u.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Fi(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Fi(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Fi.Wrap);let u=s.peek();for(;null!=u&&i.compare(u,e)<0;)s.getNext(),u=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Fi.Wrap);let u=s.peek();for(;null!=u&&i.compare(u,e)>0;)s.getNext(),u=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===nI?-1:0}withIndex(e){if(e===Yf||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Yf||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(po),s=i.getIterator(po);let u=r.getNext(),m=s.getNext();for(;u&&m;){if(u.name!==m.name||!u.node.equals(m.node))return!1;u=r.getNext(),m=s.getNext()}return null===u&&null===m}return!1}return!1}}resolveIndex_(e){return e===Yf?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const nI=new class bie extends fi{constructor(){super(new pu(k2),fi.EMPTY_NODE,_m.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return fi.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Fi,{MIN:{value:new Fi(Wg,fi.EMPTY_NODE)},MAX:{value:new Fi(gm,nI)}}),q4.__EMPTY_NODE=fi.EMPTY_NODE,pw.__childrenNodeConstructor=fi,function pie(n){R2=n}(nI),function gie(n){K4=n}(nI);const wie=!0;function cs(n,t=null){if(null===n)return fi.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,ie.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new pw(n,cs(t));if(n instanceof Array||!wie){let e=fi.EMPTY_NODE;return Xa(n,(i,r)=>{if((0,ie.r3)(n,i)&&"."!==i.substring(0,1)){const s=cs(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(cs(t))}{const e=[];let i=!1;if(Xa(n,(u,m)=>{if("."!==u.substring(0,1)){const v=cs(m);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),e.push(new Fi(u,v)))}}),0===e.length)return fi.EMPTY_NODE;const s=oD(e,fie,u=>u.name,k2);if(i){const u=oD(e,po.getCompare());return new fi(s,cs(t),new _m({".priority":u},{".priority":po}))}return new fi(s,cs(t),_m.Default)}}!function mie(n){Y4=n}(cs);class F2 extends nD{constructor(t){super(),this.indexPath_=t,(0,ie.hu)(!Pi(t)&&".priority"!==Si(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?Ey(t.name,e.name):s}makePost(t,e){const i=cs(t),r=fi.EMPTY_NODE.updateChild(this.indexPath_,i);return new Fi(e,r)}maxPost(){const t=fi.EMPTY_NODE.updateChild(this.indexPath_,nI);return new Fi(gm,t)}toString(){return XM(this.indexPath_,0).join("/")}}const L2=new class Cie extends nD{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Ey(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Fi.MIN}maxPost(){return Fi.MAX}makePost(t,e){const i=cs(t);return new Fi(e,i)}toString(){return".value"}};function Q4(n){return{type:"value",snapshotNode:n}}function gw(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function iI(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function rI(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class U2{constructor(t){this.index_=t}updateChild(t,e,i,r,s,u){(0,ie.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(e);return m.getChild(r).equals(i.getChild(r))&&m.isEmpty()===i.isEmpty()||(null!=u&&(i.isEmpty()?t.hasChild(e)?u.trackChildChange(iI(e,m)):(0,ie.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?u.trackChildChange(gw(e,i)):u.trackChildChange(rI(e,i,m))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(po,(r,s)=>{e.hasChild(r)||i.trackChildChange(iI(r,s))}),e.isLeafNode()||e.forEachChild(po,(r,s)=>{if(t.hasChild(r)){const u=t.getImmediateChild(r);u.equals(s)||i.trackChildChange(rI(r,s,u))}else i.trackChildChange(gw(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?fi.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class oI{constructor(t){this.indexedFilter_=new U2(t.getIndex()),this.index_=t.getIndex(),this.startPost_=oI.getStartPost_(t),this.endPost_=oI.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,s,u){return this.matches(new Fi(e,i))||(i=fi.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,u)}updateFullNode(t,e,i){e.isLeafNode()&&(e=fi.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(fi.EMPTY_NODE);const s=this;return e.forEachChild(po,(u,m)=>{s.matches(new Fi(u,m))||(r=r.updateImmediateChild(u,fi.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Eie{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new oI(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,s,u){return this.rangedFilter_.matches(new Fi(e,i))||(i=fi.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,u):this.fullLimitUpdateChild_(t,e,i,s,u)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=fi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=fi.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;s.hasNext()&&u<this.limit_;){const m=s.getNext();if(this.withinDirectionalStart(m)){if(!this.withinDirectionalEnd(m))break;r=r.updateImmediateChild(m.name,m.node),u++}}}else{let s;r=e.withIndex(this.index_),r=r.updatePriority(fi.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let u=0;for(;s.hasNext();){const m=s.getNext();u<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?u++:r=r.updateImmediateChild(m.name,fi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let u;if(this.reverse_){const L=this.index_.getCompare();u=(q,ne)=>L(ne,q)}else u=this.index_.getCompare();const m=t;(0,ie.hu)(m.numChildren()===this.limit_,"");const v=new Fi(e,i),x=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),P=this.rangedFilter_.matches(v);if(m.hasChild(e)){const L=m.getImmediateChild(e);let q=r.getChildAfterChild(this.index_,x,this.reverse_);for(;null!=q&&(q.name===e||m.hasChild(q.name));)q=r.getChildAfterChild(this.index_,q,this.reverse_);const ne=null==q?1:u(q,v);if(P&&!i.isEmpty()&&ne>=0)return s?.trackChildChange(rI(e,i,L)),m.updateImmediateChild(e,i);{s?.trackChildChange(iI(e,L));const ye=m.updateImmediateChild(e,fi.EMPTY_NODE);return null!=q&&this.rangedFilter_.matches(q)?(s?.trackChildChange(gw(q.name,q.node)),ye.updateImmediateChild(q.name,q.node)):ye}}return i.isEmpty()?t:P&&u(x,v)>=0?(null!=s&&(s.trackChildChange(iI(x.name,x.node)),s.trackChildChange(gw(e,i))),m.updateImmediateChild(e,i).updateImmediateChild(x.name,fi.EMPTY_NODE)):t}}class sD{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=po}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ie.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ie.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wg}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ie.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ie.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gm}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ie.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===po}copy(){const t=new sD;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function V2(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function B2(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function aD(n,t){const e=n.copy();return e.index_=t,e}function J4(n){const t={};if(n.isDefault())return t;let e;if(n.index_===po?e="$priority":n.index_===L2?e="$value":n.index_===Yf?e="$key":((0,ie.hu)(n.index_ instanceof F2,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,ie.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,ie.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,ie.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,ie.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,ie.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function X4(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==po&&(t.i=n.index_.toString()),t}class cD extends L4{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=YM("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,ie.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const u=cD.getListenId_(t,i),m={};this.listens_[u]=m;const v=J4(t._queryParams);this.restRequest_(s+".json",v,(x,P)=>{let L=P;if(404===x&&(L=null,x=null),null===x&&this.onDataUpdate_(s,L,!1,i),(0,ie.DV)(this.listens_,u)===m){let q;q=x?401===x?"permission_denied":"rest_error:"+x:"ok",r(q,null)}})}unlisten(t,e){const i=cD.getListenId_(t,e);delete this.listens_[i]}get(t){const e=J4(t._queryParams),i=t._path.toString(),r=new ie.BH;return this.restRequest_(i+".json",e,(s,u)=>{let m=u;404===s&&(m=null,s=null),null===s?(this.onDataUpdate_(i,m,!1,null),r.resolve(m)):r.reject(new Error(m))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,ie.xO)(e);this.log_("Sending REST request for "+u);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(i&&4===m.readyState){this.log_("REST Response for "+u+" received. status:",m.status,"response:",m.responseText);let v=null;if(m.status>=200&&m.status<300){try{v=(0,ie.cI)(m.responseText)}catch{il("Failed to parse JSON response for "+u+": "+m.responseText)}i(null,v)}else 401!==m.status&&404!==m.status&&il("Got unsuccessful REST response for "+u+" Status: "+m.status),i(m.status);i=null}},m.open("GET",u,!0),m.send()})}}class Pie{constructor(){this.rootNode_=fi.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function lD(){return{value:null,children:new Map}}function _w(n,t,e){if(Pi(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Si(t);n.children.has(i)||n.children.set(i,lD()),_w(n.children.get(i),t=oo(t),e)}}function j2(n,t){if(Pi(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(po,(i,r)=>{_w(n,new Pr(i),r)}),j2(n,t)}}if(n.children.size>0){const e=Si(t);return t=oo(t),n.children.has(e)&&j2(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function z2(n,t,e){null!==n.value?e(t,n.value):function Die(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{z2(r,new Pr(t.toString()+"/"+i),e)})}class Aie{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Xa(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class Nie{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Aie(t);const i=1e4+2e4*Math.random();QM(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Xa(t,(r,s)=>{s>0&&(0,ie.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),QM(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Kf=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Kf||{});function q2(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class uD{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Kf.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Pi(this.path)){if(null!=this.affectedTree.value)return(0,ie.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Pr(t));return new uD(lr(),e,this.revert)}}return(0,ie.hu)(Si(this.path)===t,"operationForChild called for unrelated child."),new uD(oo(this.path),this.affectedTree,this.revert)}}class sI{constructor(t,e){this.source=t,this.path=e,this.type=Kf.LISTEN_COMPLETE}operationForChild(t){return Pi(this.path)?new sI(this.source,lr()):new sI(this.source,oo(this.path))}}class Ty{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Kf.OVERWRITE}operationForChild(t){return Pi(this.path)?new Ty(this.source,lr(),this.snap.getImmediateChild(t)):new Ty(this.source,oo(this.path),this.snap)}}class vw{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Kf.MERGE}operationForChild(t){if(Pi(this.path)){const e=this.children.subtree(new Pr(t));return e.isEmpty()?null:e.value?new Ty(this.source,lr(),e.value):new vw(this.source,lr(),e)}return(0,ie.hu)(Si(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new vw(this.source,oo(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Qg{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Pi(t))return this.isFullyInitialized()&&!this.filtered_;const e=Si(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Fie{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function aI(n,t,e,i,r,s){const u=i.filter(m=>m.type===e);u.sort((m,v)=>function Vie(n,t,e){if(null==t.childName||null==e.childName)throw(0,ie.g5)("Should only compare child_ events.");const i=new Fi(t.childName,t.snapshotNode),r=new Fi(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,m,v)),u.forEach(m=>{const v=function Uie(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,m,s);r.forEach(x=>{x.respondsTo(m.type)&&t.push(x.createEvent(v,n.query_))})})}function dD(n,t){return{eventCache:n,serverCache:t}}function cI(n,t,e,i){return dD(new Qg(t,e,i),n.serverCache)}function t6(n,t,e,i){return dD(n.eventCache,new Qg(t,e,i))}function hD(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Oy(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let G2;class mo{constructor(t,e=(()=>(G2||(G2=new pu(xne)),G2))()){this.value=t,this.children=e}static fromObject(t){let e=new mo(null);return Xa(t,(i,r)=>{e=e.set(new Pr(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:lr(),value:this.value};if(Pi(t))return null;{const i=Si(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(oo(t),e);return null!=s?{path:Zo(new Pr(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Pi(t))return this;{const e=Si(t),i=this.children.get(e);return null!==i?i.subtree(oo(t)):new mo(null)}}set(t,e){if(Pi(t))return new mo(e,this.children);{const i=Si(t),s=(this.children.get(i)||new mo(null)).set(oo(t),e),u=this.children.insert(i,s);return new mo(this.value,u)}}remove(t){if(Pi(t))return this.children.isEmpty()?new mo(null):new mo(null,this.children);{const e=Si(t),i=this.children.get(e);if(i){const r=i.remove(oo(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new mo(null):new mo(this.value,s)}return this}}get(t){if(Pi(t))return this.value;{const e=Si(t),i=this.children.get(e);return i?i.get(oo(t)):null}}setTree(t,e){if(Pi(t))return e;{const i=Si(t),s=(this.children.get(i)||new mo(null)).setTree(oo(t),e);let u;return u=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new mo(this.value,u)}}fold(t){return this.fold_(lr(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Zo(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,lr(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Pi(t))return null;{const s=Si(t),u=this.children.get(s);return u?u.findOnPath_(oo(t),Zo(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,lr(),e)}foreachOnPath_(t,e,i){if(Pi(t))return this;{this.value&&i(e,this.value);const r=Si(t),s=this.children.get(r);return s?s.foreachOnPath_(oo(t),Zo(e,r),i):new mo(null)}}foreach(t){this.foreach_(lr(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Zo(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class zh{constructor(t){this.writeTree_=t}static empty(){return new zh(new mo(null))}}function lI(n,t,e){if(Pi(t))return new zh(new mo(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const u=Fl(r,t);return s=s.updateChild(u,e),new zh(n.writeTree_.set(r,s))}{const r=new mo(e),s=n.writeTree_.setTree(t,r);return new zh(s)}}}function Z2(n,t,e){let i=n;return Xa(e,(r,s)=>{i=lI(i,Zo(t,r),s)}),i}function n6(n,t){if(Pi(t))return zh.empty();{const e=n.writeTree_.setTree(t,new mo(null));return new zh(e)}}function W2(n,t){return null!=Sy(n,t)}function Sy(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Fl(e.path,t)):null}function i6(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(po,(i,r)=>{t.push(new Fi(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new Fi(i,r.value))}),t}function Jg(n,t){if(Pi(t))return n;{const e=Sy(n,t);return new zh(null!=e?new mo(e):n.writeTree_.subtree(t))}}function Y2(n){return n.writeTree_.isEmpty()}function yw(n,t){return r6(lr(),n.writeTree_,t)}function r6(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,ie.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=r6(Zo(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Zo(n,".priority"),i)),e}}function fD(n,t){return l6(t,n)}function qie(n,t){if(n.snap)return Kd(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Kd(Zo(n.path,e),t))return!0;return!1}function Zie(n){return n.visible}function o6(n,t,e){let i=zh.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const u=s.path;let m;if(s.snap)Kd(e,u)?(m=Fl(e,u),i=lI(i,m,s.snap)):Kd(u,e)&&(m=Fl(u,e),i=lI(i,lr(),s.snap.getChild(m)));else{if(!s.children)throw(0,ie.g5)("WriteRecord should have .snap or .children");if(Kd(e,u))m=Fl(e,u),i=Z2(i,m,s.children);else if(Kd(u,e))if(m=Fl(u,e),Pi(m))i=Z2(i,lr(),s.children);else{const v=(0,ie.DV)(s.children,Si(m));if(v){const x=v.getChild(oo(m));i=lI(i,lr(),x)}}}}}return i}function s6(n,t,e,i,r){if(i||r){const s=Jg(n.visibleWrites,t);return!r&&Y2(s)?e:r||null!=e||W2(s,lr())?yw(o6(n.allWrites,function(x){return(x.visible||r)&&(!i||!~i.indexOf(x.writeId))&&(Kd(x.path,t)||Kd(t,x.path))},t),e||fi.EMPTY_NODE):null}{const s=Sy(n.visibleWrites,t);if(null!=s)return s;{const u=Jg(n.visibleWrites,t);return Y2(u)?e:null!=e||W2(u,lr())?yw(u,e||fi.EMPTY_NODE):null}}}function pD(n,t,e,i){return s6(n.writeTree,n.treePath,t,e,i)}function K2(n,t){return function Wie(n,t,e){let i=fi.EMPTY_NODE;const r=Sy(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(po,(s,u)=>{i=i.updateImmediateChild(s,u)}),i;if(e){const s=Jg(n.visibleWrites,t);return e.forEachChild(po,(u,m)=>{const v=yw(Jg(s,new Pr(u)),m);i=i.updateImmediateChild(u,v)}),i6(s).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}return i6(Jg(n.visibleWrites,t)).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}(n.writeTree,n.treePath,t)}function a6(n,t,e,i){return function Yie(n,t,e,i,r){(0,ie.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Zo(t,e);if(W2(n.visibleWrites,s))return null;{const u=Jg(n.visibleWrites,s);return Y2(u)?r.getChild(e):yw(u,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function mD(n,t){return function Qie(n,t){return Sy(n.visibleWrites,t)}(n.writeTree,Zo(n.treePath,t))}function Q2(n,t,e){return function Kie(n,t,e,i){const r=Zo(t,e),s=Sy(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?yw(Jg(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function c6(n,t){return l6(Zo(n.treePath,t),n.writeTree)}function l6(n,t){return{treePath:n,writeTree:t}}class tre{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,ie.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,ie.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,rI(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,iI(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,gw(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,ie.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,rI(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const u6=new class nre{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class J2{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Qg(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Q2(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Oy(this.viewCache_),s=function ere(n,t,e,i,r,s){return function Jie(n,t,e,i,r,s,u){let m;const v=Jg(n.visibleWrites,t),x=Sy(v,lr());if(null!=x)m=x;else{if(null==e)return[];m=yw(v,e)}if(m=m.withIndex(u),m.isEmpty()||m.isLeafNode())return[];{const P=[],L=u.getCompare(),q=s?m.getReverseIteratorFrom(i,u):m.getIteratorFrom(i,u);let ne=q.getNext();for(;ne&&P.length<r;)0!==L(ne,i)&&P.push(ne),ne=q.getNext();return P}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function d6(n,t,e,i,r,s){const u=t.eventCache;if(null!=mD(i,e))return t;{let m,v;if(Pi(e))if((0,ie.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const x=Oy(t),L=K2(i,x instanceof fi?x:fi.EMPTY_NODE);m=n.filter.updateFullNode(t.eventCache.getNode(),L,s)}else{const x=pD(i,Oy(t));m=n.filter.updateFullNode(t.eventCache.getNode(),x,s)}else{const x=Si(e);if(".priority"===x){(0,ie.hu)(1===Kg(e),"Can't have a priority with additional path components");const P=u.getNode();v=t.serverCache.getNode();const L=a6(i,e,P,v);m=null!=L?n.filter.updatePriority(P,L):u.getNode()}else{const P=oo(e);let L;if(u.isCompleteForChild(x)){v=t.serverCache.getNode();const q=a6(i,e,u.getNode(),v);L=null!=q?u.getNode().getImmediateChild(x).updateChild(P,q):u.getNode().getImmediateChild(x)}else L=Q2(i,x,t.serverCache);m=null!=L?n.filter.updateChild(u.getNode(),x,L,P,r,s):u.getNode()}}return cI(t,m,u.isFullyInitialized()||Pi(e),n.filter.filtersNodes())}}function gD(n,t,e,i,r,s,u,m){const v=t.serverCache;let x;const P=u?n.filter:n.filter.getIndexedFilter();if(Pi(e))x=P.updateFullNode(v.getNode(),i,null);else if(P.filtersNodes()&&!v.isFiltered()){const ne=v.getNode().updateChild(e,i);x=P.updateFullNode(v.getNode(),ne,null)}else{const ne=Si(e);if(!v.isCompleteForPath(e)&&Kg(e)>1)return t;const ae=oo(e),Ze=v.getNode().getImmediateChild(ne).updateChild(ae,i);x=".priority"===ne?P.updatePriority(v.getNode(),Ze):P.updateChild(v.getNode(),ne,Ze,ae,u6,null)}const L=t6(t,x,v.isFullyInitialized()||Pi(e),P.filtersNodes());return d6(n,L,e,r,new J2(r,L,s),m)}function X2(n,t,e,i,r,s,u){const m=t.eventCache;let v,x;const P=new J2(r,t,s);if(Pi(e))x=n.filter.updateFullNode(t.eventCache.getNode(),i,u),v=cI(t,x,!0,n.filter.filtersNodes());else{const L=Si(e);if(".priority"===L)x=n.filter.updatePriority(t.eventCache.getNode(),i),v=cI(t,x,m.isFullyInitialized(),m.isFiltered());else{const q=oo(e),ne=m.getNode().getImmediateChild(L);let ae;if(Pi(q))ae=i;else{const ye=P.getCompleteChild(L);ae=null!=ye?".priority"===P2(q)&&ye.getChild(j4(q)).isEmpty()?ye:ye.updateChild(q,i):fi.EMPTY_NODE}v=ne.equals(ae)?t:cI(t,n.filter.updateChild(m.getNode(),L,ae,q,P,u),m.isFullyInitialized(),n.filter.filtersNodes())}}return v}function h6(n,t){return n.eventCache.isCompleteForChild(t)}function f6(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function eL(n,t,e,i,r,s,u,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let x,v=t;x=Pi(e)?i:new mo(null).setTree(e,i);const P=t.serverCache.getNode();return x.children.inorderTraversal((L,q)=>{if(P.hasChild(L)){const ae=f6(0,t.serverCache.getNode().getImmediateChild(L),q);v=gD(n,v,new Pr(L),ae,r,s,u,m)}}),x.children.inorderTraversal((L,q)=>{const ne=!t.serverCache.isCompleteForChild(L)&&null===q.value;if(!P.hasChild(L)&&!ne){const ye=f6(0,t.serverCache.getNode().getImmediateChild(L),q);v=gD(n,v,new Pr(L),ye,r,s,u,m)}}),v}class dre{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new U2(i.getIndex()),s=function Mie(n){return n.loadsAllData()?new U2(n.getIndex()):n.hasLimit()?new Eie(n):new oI(n)}(i);this.processor_=function ire(n){return{filter:n}}(s);const u=e.serverCache,m=e.eventCache,v=r.updateFullNode(fi.EMPTY_NODE,u.getNode(),null),x=s.updateFullNode(fi.EMPTY_NODE,m.getNode(),null),P=new Qg(v,u.isFullyInitialized(),r.filtersNodes()),L=new Qg(x,m.isFullyInitialized(),s.filtersNodes());this.viewCache_=dD(L,P),this.eventGenerator_=new Fie(this.query_)}get query(){return this.query_}}function pre(n,t){const e=Oy(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Pi(t)&&!e.getImmediateChild(Si(t)).isEmpty())?e.getChild(t):null}function p6(n){return 0===n.eventRegistrations_.length}function m6(n,t,e){const i=[];if(e){(0,ie.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const u=s.createCancelEvent(e,r);u&&i.push(u)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const u=n.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(u)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function g6(n,t,e,i){t.type===Kf.MERGE&&null!==t.source.queryId&&((0,ie.hu)(Oy(n.viewCache_),"We should always have a full cache before handling merges"),(0,ie.hu)(hD(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function ore(n,t,e,i,r){const s=new tre;let u,m;if(e.type===Kf.OVERWRITE){const x=e;x.source.fromUser?u=X2(n,t,x.path,x.snap,i,r,s):((0,ie.hu)(x.source.fromServer,"Unknown source."),m=x.source.tagged||t.serverCache.isFiltered()&&!Pi(x.path),u=gD(n,t,x.path,x.snap,i,r,m,s))}else if(e.type===Kf.MERGE){const x=e;x.source.fromUser?u=function are(n,t,e,i,r,s,u){let m=t;return i.foreach((v,x)=>{const P=Zo(e,v);h6(t,Si(P))&&(m=X2(n,m,P,x,r,s,u))}),i.foreach((v,x)=>{const P=Zo(e,v);h6(t,Si(P))||(m=X2(n,m,P,x,r,s,u))}),m}(n,t,x.path,x.children,i,r,s):((0,ie.hu)(x.source.fromServer,"Unknown source."),m=x.source.tagged||t.serverCache.isFiltered(),u=eL(n,t,x.path,x.children,i,r,m,s))}else if(e.type===Kf.ACK_USER_WRITE){const x=e;u=x.revert?function ure(n,t,e,i,r,s){let u;if(null!=mD(i,e))return t;{const m=new J2(i,t,r),v=t.eventCache.getNode();let x;if(Pi(e)||".priority"===Si(e)){let P;if(t.serverCache.isFullyInitialized())P=pD(i,Oy(t));else{const L=t.serverCache.getNode();(0,ie.hu)(L instanceof fi,"serverChildren would be complete if leaf node"),P=K2(i,L)}x=n.filter.updateFullNode(v,P,s)}else{const P=Si(e);let L=Q2(i,P,t.serverCache);null==L&&t.serverCache.isCompleteForChild(P)&&(L=v.getImmediateChild(P)),x=null!=L?n.filter.updateChild(v,P,L,oo(e),m,s):t.eventCache.getNode().hasChild(P)?n.filter.updateChild(v,P,fi.EMPTY_NODE,oo(e),m,s):v,x.isEmpty()&&t.serverCache.isFullyInitialized()&&(u=pD(i,Oy(t)),u.isLeafNode()&&(x=n.filter.updateFullNode(x,u,s)))}return u=t.serverCache.isFullyInitialized()||null!=mD(i,lr()),cI(t,x,u,n.filter.filtersNodes())}}(n,t,x.path,i,r,s):function cre(n,t,e,i,r,s,u){if(null!=mD(r,e))return t;const m=t.serverCache.isFiltered(),v=t.serverCache;if(null!=i.value){if(Pi(e)&&v.isFullyInitialized()||v.isCompleteForPath(e))return gD(n,t,e,v.getNode().getChild(e),r,s,m,u);if(Pi(e)){let x=new mo(null);return v.getNode().forEachChild(Yf,(P,L)=>{x=x.set(new Pr(P),L)}),eL(n,t,e,x,r,s,m,u)}return t}{let x=new mo(null);return i.foreach((P,L)=>{const q=Zo(e,P);v.isCompleteForPath(q)&&(x=x.set(P,v.getNode().getChild(q)))}),eL(n,t,e,x,r,s,m,u)}}(n,t,x.path,x.affectedTree,i,r,s)}else{if(e.type!==Kf.LISTEN_COMPLETE)throw(0,ie.g5)("Unknown operation type: "+e.type);u=function lre(n,t,e,i,r){const s=t.serverCache;return d6(n,t6(t,s.getNode(),s.isFullyInitialized()||Pi(e),s.isFiltered()),e,i,u6,r)}(n,t,e.path,i,s)}const v=s.getChanges();return function sre(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=hD(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(Q4(hD(t)))}}(t,u,v),{viewCache:u,changes:v}}(n.processor_,r,t,e,i);return function rre(n,t){(0,ie.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,ie.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,ie.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,_6(n,s.changes,s.viewCache.eventCache.getNode(),null)}function _6(n,t,e,i){return function Lie(n,t,e,i){const r=[],s=[];return t.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&s.push(function xie(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(u.childName,u.snapshotNode))}),aI(n,r,"child_removed",t,i,e),aI(n,r,"child_added",t,i,e),aI(n,r,"child_moved",s,i,e),aI(n,r,"child_changed",t,i,e),aI(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let _D,yD;class v6{constructor(){this.views=new Map}}function tL(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,ie.hu)(null!=s,"SyncTree gave us an op for an invalid query."),g6(s,t,e,i)}{let s=[];for(const u of n.views.values())s=s.concat(g6(u,t,e,i));return s}}function y6(n,t,e,i,r){const u=n.views.get(t._queryIdentifier);if(!u){let m=pD(e,r?i:null),v=!1;m?v=!0:i instanceof fi?(m=K2(e,i),v=!1):(m=fi.EMPTY_NODE,v=!1);const x=dD(new Qg(m,v,!1),new Qg(i,r,!1));return new dre(t,x)}return u}function b6(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Xg(n,t){let e=null;for(const i of n.views.values())e=e||pre(i,t);return e}function w6(n,t){return t._queryParams.loadsAllData()?vD(n):n.views.get(t._queryIdentifier)}function C6(n,t){return null!=w6(n,t)}function e_(n){return null!=vD(n)}function vD(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Ere=1;class x6{constructor(t){this.listenProvider_=t,this.syncPointTree_=new mo(null),this.pendingWriteTree_=function Xie(){return{visibleWrites:zh.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nL(n,t,e,i,r){return function jie(n,t,e,i,r){(0,ie.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=lI(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?bw(n,new Ty({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function t_(n,t,e=!1){const i=function Hie(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function $ie(n,t){const e=n.allWrites.findIndex(m=>m.writeId===t);(0,ie.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,u=n.allWrites.length-1;for(;r&&u>=0;){const m=n.allWrites[u];m.visible&&(u>=e&&qie(m,i.path)?r=!1:Kd(i.path,m.path)&&(s=!0)),u--}return!!r&&(s?(function Gie(n){n.visibleWrites=o6(n.allWrites,Zie,lr()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=n6(n.visibleWrites,i.path):Xa(i.children,v=>{n.visibleWrites=n6(n.visibleWrites,Zo(i.path,v))}),!0))}(n.pendingWriteTree_,t)){let s=new mo(null);return null!=i.snap?s=s.set(lr(),!0):Xa(i.children,u=>{s=s.set(new Pr(u),!0)}),bw(n,new uD(i.path,s,e))}return[]}function uI(n,t,e){return bw(n,new Ty({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function bD(n,t,e,i,r=!1){const s=t._path,u=n.syncPointTree_.get(s);let m=[];if(u&&("default"===t._queryIdentifier||C6(u,t))){const v=function wre(n,t,e,i){const r=t._queryIdentifier,s=[];let u=[];const m=e_(n);if("default"===r)for(const[v,x]of n.views.entries())u=u.concat(m6(x,e,i)),p6(x)&&(n.views.delete(v),x.query._queryParams.loadsAllData()||s.push(x.query));else{const v=n.views.get(r);v&&(u=u.concat(m6(v,e,i)),p6(v)&&(n.views.delete(r),v.query._queryParams.loadsAllData()||s.push(v.query)))}return m&&!e_(n)&&s.push(new(function vre(){return(0,ie.hu)(_D,"Reference.ts has not been loaded"),_D}())(t._repo,t._path)),{removed:s,events:u}}(u,t,e,i);(function yre(n){return 0===n.views.size})(u)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const x=v.removed;if(m=v.events,!r){const P=-1!==x.findIndex(q=>q._queryParams.loadsAllData()),L=n.syncPointTree_.findOnPath(s,(q,ne)=>e_(ne));if(P&&!L){const q=n.syncPointTree_.subtree(s);if(!q.isEmpty()){const ne=function Dre(n){return n.fold((t,e,i)=>{if(e&&e_(e))return[vD(e)];{let r=[];return e&&(r=b6(e)),Xa(i,(s,u)=>{r=r.concat(u)}),r}})}(q);for(let ae=0;ae<ne.length;++ae){const ye=ne[ae],Ze=ye.query,wt=T6(n,ye);n.listenProvider_.startListening(hI(Ze),dI(n,Ze),wt.hashFn,wt.onComplete)}}}!L&&x.length>0&&!i&&(P?n.listenProvider_.stopListening(hI(t),null):x.forEach(q=>{const ne=n.queryToTagMap.get(CD(q));n.listenProvider_.stopListening(hI(q),ne)}))}!function Are(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=CD(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,x)}return m}function E6(n,t,e,i){const r=rL(n,i);if(null!=r){const s=oL(r),u=s.path,m=s.queryId,v=Fl(u,t);return sL(n,u,new Ty(q2(m),v,e))}return[]}function iL(n,t,e,i=!1){const r=t._path;let s=null,u=!1;n.syncPointTree_.foreachOnPath(r,(q,ne)=>{const ae=Fl(q,r);s=s||Xg(ne,ae),u=u||e_(ne)});let v,m=n.syncPointTree_.get(r);m?(u=u||e_(m),s=s||Xg(m,lr())):(m=new v6,n.syncPointTree_=n.syncPointTree_.set(r,m)),null!=s?v=!0:(v=!1,s=fi.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((ne,ae)=>{const ye=Xg(ae,lr());ye&&(s=s.updateImmediateChild(ne,ye))}));const x=C6(m,t);if(!x&&!t._queryParams.loadsAllData()){const q=CD(t);(0,ie.hu)(!n.queryToTagMap.has(q),"View does not exist, but we have a tag");const ne=function kre(){return Ere++}();n.queryToTagMap.set(q,ne),n.tagToQueryMap.set(ne,q)}let L=function bre(n,t,e,i,r,s){const u=y6(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,u),function mre(n,t){n.eventRegistrations_.push(t)}(u,e),function gre(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(po,(s,u)=>{i.push(gw(s,u))}),e.isFullyInitialized()&&i.push(Q4(e.getNode())),_6(n,i,e.getNode(),t)}(u,e)}(m,t,e,fD(n.pendingWriteTree_,r),s,v);if(!x&&!u&&!i){const q=w6(m,t);L=L.concat(function Rre(n,t,e){const i=t._path,r=dI(n,t),s=T6(n,e),u=n.listenProvider_.startListening(hI(t),r,s.hashFn,s.onComplete),m=n.syncPointTree_.subtree(i);if(r)(0,ie.hu)(!e_(m.value),"If we're adding a query, it shouldn't be shadowed");else{const v=m.fold((x,P,L)=>{if(!Pi(x)&&P&&e_(P))return[vD(P).query];{let q=[];return P&&(q=q.concat(b6(P).map(ne=>ne.query))),Xa(L,(ne,ae)=>{q=q.concat(ae)}),q}});for(let x=0;x<v.length;++x){const P=v[x];n.listenProvider_.stopListening(hI(P),dI(n,P))}}return u}(n,t,q))}return L}function wD(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(u,m)=>{const x=Xg(m,Fl(u,t));if(x)return x});return s6(r,t,s,e,!0)}function bw(n,t){return M6(t,n.syncPointTree_,null,fD(n.pendingWriteTree_,lr()))}function M6(n,t,e,i){if(Pi(n.path))return I6(n,t,e,i);{const r=t.get(lr());null==e&&null!=r&&(e=Xg(r,lr()));let s=[];const u=Si(n.path),m=n.operationForChild(u),v=t.children.get(u);if(v&&m){const x=e?e.getImmediateChild(u):null,P=c6(i,u);s=s.concat(M6(m,v,x,P))}return r&&(s=s.concat(tL(r,n,i,e))),s}}function I6(n,t,e,i){const r=t.get(lr());null==e&&null!=r&&(e=Xg(r,lr()));let s=[];return t.children.inorderTraversal((u,m)=>{const v=e?e.getImmediateChild(u):null,x=c6(i,u),P=n.operationForChild(u);P&&(s=s.concat(I6(P,m,v,x)))}),r&&(s=s.concat(tL(r,n,i,e))),s}function T6(n,t){const e=t.query,i=dI(n,e);return{hashFn:()=>(function hre(n){return n.viewCache_.serverCache.getNode()}(t)||fi.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Ore(n,t,e){const i=rL(n,e);if(i){const r=oL(i),s=r.path,u=r.queryId,m=Fl(s,t);return sL(n,s,new sI(q2(u),m))}return[]}(n,e._path,i):function Tre(n,t){return bw(n,new sI({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function Ine(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return bD(n,e,null,s)}}}}function dI(n,t){const e=CD(t);return n.queryToTagMap.get(e)}function CD(n){return n._path.toString()+"$"+n._queryIdentifier}function rL(n,t){return n.tagToQueryMap.get(t)}function oL(n){const t=n.indexOf("$");return(0,ie.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Pr(n.substr(0,t))}}function sL(n,t,e){const i=n.syncPointTree_.get(t);return(0,ie.hu)(i,"Missing sync point for query tag that we're tracking"),tL(i,e,fD(n.pendingWriteTree_,t),null)}function hI(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function xre(){return(0,ie.hu)(yD,"Reference.ts has not been loaded"),yD}())(n._repo,n._path):n}class aL{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new aL(e)}node(){return this.node_}}class cL{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Zo(this.path_,t);return new cL(this.syncTree_,e)}node(){return wD(this.syncTree_,this.path_)}}const Nre=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},O6=function(n,t,e){return n&&"object"==typeof n?((0,ie.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Fre(n[".sv"],t,e):"object"==typeof n[".sv"]?Lre(n[".sv"],t):void(0,ie.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Fre=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,ie.hu)(!1,"Unexpected server value: "+n)},Lre=function(n,t,e){n.hasOwnProperty("increment")||(0,ie.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,ie.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,ie.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const u=r.getValue();return"number"!=typeof u?i:u+i},S6=function(n,t,e,i){return uL(t,new cL(e,n),i)},lL=function(n,t,e){return uL(n,new aL(t),e)};function uL(n,t,e){const i=n.getPriority().val(),r=O6(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const u=n,m=O6(u.getValue(),t,e);return m!==u.getValue()||r!==u.getPriority().val()?new pw(m,cs(r)):n}{const u=n;return s=u,r!==u.getPriority().val()&&(s=s.updatePriority(new pw(r))),u.forEachChild(po,(m,v)=>{const x=uL(v,t.getImmediateChild(m),e);x!==v&&(s=s.updateImmediateChild(m,x))}),s}}class dL{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function xD(n,t){let e=t instanceof Pr?t:new Pr(t),i=n,r=Si(e);for(;null!==r;){const s=(0,ie.DV)(i.node.children,r)||{children:{},childCount:0};i=new dL(r,i,s),e=oo(e),r=Si(e)}return i}function Py(n){return n.node.value}function hL(n,t){n.node.value=t,fL(n)}function P6(n){return n.node.childCount>0}function ED(n,t){Xa(n.node.children,(e,i)=>{t(new dL(e,n,i))})}function D6(n,t,e,i){e&&!i&&t(n),ED(n,r=>{D6(r,t,!0,i)}),e&&i&&t(n)}function fI(n){return new Pr(null===n.parent?n.name:fI(n.parent)+"/"+n.name)}function fL(n){null!==n.parent&&function Bre(n,t,e){const i=function Ure(n){return void 0===Py(n)&&!P6(n)}(e),r=(0,ie.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,fL(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,fL(n))}(n.parent,n.name,n)}const jre=/[\[\].#$\/\u0000-\u001F\u007F]/,zre=/[\[\].#$\u0000-\u001F\u007F]/,pL=10485760,MD=function(n){return"string"==typeof n&&0!==n.length&&!jre.test(n)},A6=function(n){return"string"==typeof n&&0!==n.length&&!zre.test(n)},pI=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!JP(n)||n&&"object"==typeof n&&(0,ie.r3)(n,".sv")},Qf=function(n,t,e,i){i&&void 0===t||mI((0,ie.gK)(n,"value"),t,e)},mI=function(n,t,e){const i=e instanceof Pr?new oie(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+My(i));if("function"==typeof t)throw new Error(n+"contains a function "+My(i)+" with contents = "+t.toString());if(JP(t))throw new Error(n+"contains "+t.toString()+" "+My(i));if("string"==typeof t&&t.length>pL/3&&(0,ie.ug)(t)>pL)throw new Error(n+"contains a string greater than "+pL+" utf8 bytes "+My(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(Xa(t,(u,m)=>{if(".value"===u)r=!0;else if(".priority"!==u&&".sv"!==u&&(s=!0,!MD(u)))throw new Error(n+" contains an invalid key ("+u+") "+My(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function sie(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,ie.ug)(t),z4(n)})(i,u),mI(n,m,i),function aie(n){const t=n.parts_.pop();n.byteLength_-=(0,ie.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+My(i)+" in addition to actual children.")}},k6=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,ie.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];Xa(t,(u,m)=>{const v=new Pr(u);if(mI(r,m,Zo(e,v)),".priority"===P2(v)&&!pI(m))throw new Error(r+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(v)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=XM(i);for(let u=0;u<s.length;u++)if((".priority"!==s[u]||u!==s.length-1)&&!MD(s[u]))throw new Error(n+"contains an invalid key ("+s[u]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(rie);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Kd(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},mL=function(n,t,e){if(!e||void 0!==t){if(JP(t))throw new Error((0,ie.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!pI(t))throw new Error((0,ie.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},gI=function(n,t,e,i){if(!(i&&void 0===e||MD(e)))throw new Error((0,ie.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},_I=function(n,t,e,i){if(!(i&&void 0===e||A6(e)))throw new Error((0,ie.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},qre=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),_I(n,t,e,i)},Qd=function(n,t){if(".info"===Si(t))throw new Error(n+" failed = Can't modify data under /.info/")},R6=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!MD(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),A6(n)}(e))throw new Error((0,ie.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Gre{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ID(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!D2(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function N6(n,t,e){ID(n,e),F6(n,i=>D2(i,t))}function Ku(n,t,e){ID(n,e),F6(n,i=>Kd(i,t)||Kd(t,i))}function F6(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(Zre(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Zre(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();xy&&Ja("event: "+e.toString()),hw(i)}}}const L6="repo_interrupt",Wre=25;class Yre{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Gre,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lD(),this.transactionQueueTree_=new dL,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function U6(n){const e=n.infoData_.getNode(new Pr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function vI(n){return Nre({timestamp:U6(n)})}function V6(n,t,e,i,r){n.dataUpdateCount++;const s=new Pr(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let u=[];if(r)if(i){const v=(0,ie.UI)(e,x=>cs(x));u=function Sre(n,t,e,i){const r=rL(n,i);if(r){const s=oL(r),u=s.path,m=s.queryId,v=Fl(u,t),x=mo.fromObject(e);return sL(n,u,new vw(q2(m),v,x))}return[]}(n.serverSyncTree_,s,v,r)}else{const v=cs(e);u=E6(n.serverSyncTree_,s,v,r)}else if(i){const v=(0,ie.UI)(e,x=>cs(x));u=function Ire(n,t,e){const i=mo.fromObject(e);return bw(n,new vw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,v)}else{const v=cs(e);u=uI(n.serverSyncTree_,s,v)}let m=s;u.length>0&&(m=Cw(n,s)),Ku(n.eventQueue_,m,u)}function B6(n,t){gL(n,"connected",t),!1===t&&function eoe(n){ww(n,"onDisconnectEvents");const t=vI(n),e=lD();z2(n.onDisconnect_,lr(),(r,s)=>{const u=S6(r,s,n.serverSyncTree_,t);_w(e,r,u)});let i=[];z2(e,lr(),(r,s)=>{i=i.concat(uI(n.serverSyncTree_,r,s));const u=bL(n,r);Cw(n,u)}),n.onDisconnect_=lD(),Ku(n.eventQueue_,lr(),i)}(n)}function gL(n,t,e){const i=new Pr("/.info/"+t),r=cs(e);n.infoData_.updateSnapshot(i,r);const s=uI(n.infoSyncTree_,i,r);Ku(n.eventQueue_,i,s)}function TD(n){return n.nextWriteId_++}function _L(n,t,e,i,r){ww(n,"set",{path:t.toString(),value:e,priority:i});const s=vI(n),u=cs(e,i),m=wD(n.serverSyncTree_,t),v=lL(u,m,s),x=TD(n),P=nL(n.serverSyncTree_,t,v,x,!0);ID(n.eventQueue_,P),n.server_.put(t.toString(),u.val(!0),(q,ne)=>{const ae="ok"===q;ae||il("set at "+t+" failed: "+q);const ye=t_(n.serverSyncTree_,x,!ae);Ku(n.eventQueue_,t,ye),n_(0,r,q,ne)});const L=bL(n,t);Cw(n,L),Ku(n.eventQueue_,L,[])}function toe(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&j2(n.onDisconnect_,t),n_(0,e,i,r)})}function j6(n,t,e,i){const r=cs(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,u)=>{"ok"===s&&_w(n.onDisconnect_,t,r),n_(0,i,s,u)})}function vL(n,t,e){let i;i=".info"===Si(t._path)?bD(n.infoSyncTree_,t,e):bD(n.serverSyncTree_,t,e),N6(n.eventQueue_,t._path,i)}function z6(n){n.persistentConnection_&&n.persistentConnection_.interrupt(L6)}function ww(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Ja(e,...t)}function n_(n,t,e,i){t&&hw(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const u=new Error(s);u.code=r,t(u)}})}function yL(n,t,e){return wD(n.serverSyncTree_,t,e)||fi.EMPTY_NODE}function OD(n,t=n.transactionQueueTree_){if(t||SD(n,t),Py(t)){const e=$6(n,t);(0,ie.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function aoe(n,t,e){const i=e.map(x=>x.currentWriteId),r=yL(n,t,i);let s=r;const u=r.hash();for(let x=0;x<e.length;x++){const P=e[x];(0,ie.hu)(0===P.status,"tryToSendTransactionQueue_: items in queue should all be run."),P.status=1,P.retryCount++;const L=Fl(t,P.path);s=s.updateChild(L,P.currentOutputSnapshotRaw)}const m=s.val(!0),v=t;n.server_.put(v.toString(),m,x=>{ww(n,"transaction put response",{path:v.toString(),status:x});let P=[];if("ok"===x){const L=[];for(let q=0;q<e.length;q++)e[q].status=2,P=P.concat(t_(n.serverSyncTree_,e[q].currentWriteId)),e[q].onComplete&&L.push(()=>e[q].onComplete(null,!0,e[q].currentOutputSnapshotResolved)),e[q].unwatcher();SD(n,xD(n.transactionQueueTree_,t)),OD(n,n.transactionQueueTree_),Ku(n.eventQueue_,t,P);for(let q=0;q<L.length;q++)hw(L[q])}else{if("datastale"===x)for(let L=0;L<e.length;L++)e[L].status=3===e[L].status?4:0;else{il("transaction at "+v.toString()+" failed: "+x);for(let L=0;L<e.length;L++)e[L].status=4,e[L].abortReason=x}Cw(n,t)}},u)}(n,fI(t),e)}else P6(t)&&ED(t,e=>{OD(n,e)})}function Cw(n,t){const e=H6(n,t),i=fI(e);return function coe(n,t,e){if(0===t.length)return;const i=[];let r=[];const u=t.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const v=t[m],x=Fl(e,v.path);let L,P=!1;if((0,ie.hu)(null!==x,"rerunTransactionsUnderNode_: relativePath should not be null."),4===v.status)P=!0,L=v.abortReason,r=r.concat(t_(n.serverSyncTree_,v.currentWriteId,!0));else if(0===v.status)if(v.retryCount>=Wre)P=!0,L="maxretry",r=r.concat(t_(n.serverSyncTree_,v.currentWriteId,!0));else{const q=yL(n,v.path,u);v.currentInputSnapshot=q;const ne=t[m].update(q.val());if(void 0!==ne){mI("transaction failed: Data returned ",ne,v.path);let ae=cs(ne);"object"==typeof ne&&null!=ne&&(0,ie.r3)(ne,".priority")||(ae=ae.updatePriority(q.getPriority()));const Ze=v.currentWriteId,wt=vI(n),Dt=lL(ae,q,wt);v.currentOutputSnapshotRaw=ae,v.currentOutputSnapshotResolved=Dt,v.currentWriteId=TD(n),u.splice(u.indexOf(Ze),1),r=r.concat(nL(n.serverSyncTree_,v.path,Dt,v.currentWriteId,v.applyLocally)),r=r.concat(t_(n.serverSyncTree_,Ze,!0))}else P=!0,L="nodata",r=r.concat(t_(n.serverSyncTree_,v.currentWriteId,!0))}Ku(n.eventQueue_,e,r),r=[],P&&(t[m].status=2,setTimeout(t[m].unwatcher,Math.floor(0)),t[m].onComplete&&i.push("nodata"===L?()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot):()=>t[m].onComplete(new Error(L),!1,null)))}SD(n,n.transactionQueueTree_);for(let m=0;m<i.length;m++)hw(i[m]);OD(n,n.transactionQueueTree_)}(n,$6(n,e),i),i}function H6(n,t){let e,i=n.transactionQueueTree_;for(e=Si(t);null!==e&&void 0===Py(i);)i=xD(i,e),e=Si(t=oo(t));return i}function $6(n,t){const e=[];return q6(n,t,e),e.sort((i,r)=>i.order-r.order),e}function q6(n,t,e){const i=Py(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);ED(t,r=>{q6(n,r,e)})}function SD(n,t){const e=Py(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,hL(t,e.length>0?e:void 0)}ED(t,i=>{SD(n,i)})}function bL(n,t){const e=fI(H6(n,t)),i=xD(n.transactionQueueTree_,t);return function Vre(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{wL(n,r)}),wL(n,i),D6(i,r=>{wL(n,r)}),e}function wL(n,t){const e=Py(t);if(e){const i=[];let r=[],s=-1;for(let u=0;u<e.length;u++)3===e[u].status||(1===e[u].status?((0,ie.hu)(s===u-1,"All SENT items should be at beginning of queue."),s=u,e[u].status=3,e[u].abortReason="set"):((0,ie.hu)(0===e[u].status,"Unexpected transaction status in abort"),e[u].unwatcher(),r=r.concat(t_(n.serverSyncTree_,e[u].currentWriteId,!0)),e[u].onComplete&&i.push(e[u].onComplete.bind(null,new Error("set"),!1,null))));-1===s?hL(t,void 0):e.length=s+1,Ku(n.eventQueue_,fI(t),r);for(let u=0;u<i.length;u++)hw(i[u])}}const CL=function(n,t){const e=doe(n),i=e.namespace;return"firebase.com"===e.domain&&Wf(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Wf("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&il("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new E2(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Pr(e.pathString)}},doe=function(n){let t="",e="",i="",r="",s="",u=!0,m="https",v=443;if("string"==typeof n){let x=n.indexOf("//");x>=0&&(m=n.substring(0,x-1),n=n.substring(x+2));let P=n.indexOf("/");-1===P&&(P=n.length);let L=n.indexOf("?");-1===L&&(L=n.length),t=n.substring(0,Math.min(P,L)),P<L&&(r=function loe(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(P,L)));const q=function uoe(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):il(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,L)));x=t.indexOf(":"),x>=0?(u="https"===m||"wss"===m,v=parseInt(t.substring(x+1),10)):x=t.length;const ne=t.slice(0,x);if("localhost"===ne.toLowerCase())e="localhost";else if(ne.split(".").length<=2)e=ne;else{const ae=t.indexOf(".");i=t.substring(0,ae).toLowerCase(),e=t.substring(ae+1),s=i}"ns"in q&&(s=q.ns)}return{host:t,port:v,domain:e,subdomain:i,secure:u,scheme:m,pathString:r,namespace:s}},G6="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",hoe=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=G6.charAt(e%64),e=Math.floor(e/64);(0,ie.hu)(0===e,"Cannot push at time == 0");let u=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)u+=G6.charAt(t[r]);return(0,ie.hu)(20===u.length,"nextPushId: Length should be 20."),u}}();class Z6{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ie.Wl)(this.snapshot.exportVal())}}class W6{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class xL{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,ie.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Y6{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new ie.BH;return toe(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Qd("OnDisconnect.remove",this._path);const t=new ie.BH;return j6(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Qd("OnDisconnect.set",this._path),Qf("OnDisconnect.set",t,this._path,!1);const e=new ie.BH;return j6(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Qd("OnDisconnect.setWithPriority",this._path),Qf("OnDisconnect.setWithPriority",t,this._path,!1),mL("OnDisconnect.setWithPriority",e,!1);const i=new ie.BH;return function noe(n,t,e,i,r){const s=cs(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(u,m)=>{"ok"===u&&_w(n.onDisconnect_,t,s),n_(0,r,u,m)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Qd("OnDisconnect.update",this._path),k6("OnDisconnect.update",t,this._path,!1);const e=new ie.BH;return function ioe(n,t,e,i){if((0,ie.xb)(e))return Ja("onDisconnect().update() called with empty data.  Don't do anything."),void n_(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&Xa(e,(u,m)=>{const v=cs(m);_w(n.onDisconnect_,Zo(t,u),v)}),n_(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class mu{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Pi(this._path)?null:P2(this._path)}get ref(){return new Jd(this._repo,this._path)}get _queryIdentifier(){const t=X4(this._queryParams),e=C2(t);return"{}"===e?"default":e}get _queryObject(){return X4(this._queryParams)}isEqual(t){if(!((t=(0,ie.m9)(t))instanceof mu))return!1;const e=this._repo===t._repo,i=D2(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function iie(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function PD(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function i_(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Yf){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Wg)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==gm)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===po){if(null!=t&&!pI(t)||null!=e&&!pI(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ie.hu)(n.getIndex()instanceof F2||n.getIndex()===L2,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function DD(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Jd extends mu{constructor(t,e){super(t,e,new sD,!1)}get parent(){const t=j4(this._path);return null===t?null:new Jd(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Dy{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Pr(t),i=Ay(this.ref,t);return new Dy(this._node.getChild(e),i,po)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Dy(r,Ay(this.ref,i),po)))}hasChild(t){const e=new Pr(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function K6(n,t){return(n=(0,ie.m9)(n))._checkNotDeleted("ref"),void 0!==t?Ay(n._root,t):n._root}function Q6(n,t){(n=(0,ie.m9)(n))._checkNotDeleted("refFromURL");const e=CL(t,n._repo.repoInfo_.nodeAdmin);R6("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Wf("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),K6(n,e.path.toString())}function Ay(n,t){return null===Si((n=(0,ie.m9)(n))._path)?qre("child","path",t,!1):_I("child","path",t,!1),new Jd(n._repo,Zo(n._path,t))}function EL(n,t){n=(0,ie.m9)(n),Qd("set",n._path),Qf("set",t,n._path,!1);const e=new ie.BH;return _L(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function _oe(n,t){k6("update",t,n._path,!1);const e=new ie.BH;return function Xre(n,t,e,i){ww(n,"update",{path:t.toString(),value:e});let r=!0;const s=vI(n),u={};if(Xa(e,(m,v)=>{r=!1,u[m]=S6(Zo(t,m),cs(v),n.serverSyncTree_,s)}),r)Ja("update() called with empty data.  Don't do anything."),n_(0,i,"ok",void 0);else{const m=TD(n),v=function Mre(n,t,e,i){!function zie(n,t,e,i){(0,ie.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=Z2(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=mo.fromObject(e);return bw(n,new vw({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,u,m);ID(n.eventQueue_,v),n.server_.merge(t.toString(),e,(x,P)=>{const L="ok"===x;L||il("update at "+t+" failed: "+x);const q=t_(n.serverSyncTree_,m,!L),ne=q.length>0?Cw(n,t):t;Ku(n.eventQueue_,ne,q),n_(0,i,x,P)}),Xa(e,x=>{const P=bL(n,Zo(t,x));Cw(n,P)}),Ku(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function voe(n){n=(0,ie.m9)(n);const t=new xL(()=>{}),e=new yI(t);return function Jre(n,t,e){const i=function Pre(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(x,P)=>{const L=Fl(x,e);i=i||Xg(P,L)});let r=n.syncPointTree_.get(e);r?i=i||Xg(r,lr()):(r=new v6,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,u=s?new Qg(i,!0,!1):null;return function fre(n){return hD(n.viewCache_)}(y6(r,t,fD(n.pendingWriteTree_,t._path),s?u.getNode():fi.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=cs(r).withIndex(t._queryParams.getIndex());let u;if(iL(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())u=uI(n.serverSyncTree_,t._path,s);else{const m=dI(n.serverSyncTree_,t);u=E6(n.serverSyncTree_,t._path,s,m)}return Ku(n.eventQueue_,t._path,u),bD(n.serverSyncTree_,t,e,null,!0),s},r=>(ww(n,"get for query "+(0,ie.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new Dy(i,new Jd(n._repo,n._path),n._queryParams.getIndex()))}class yI{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new Z6("value",this,new Dy(t.snapshotNode,new Jd(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new W6(this,t,e):null}matches(t){return t instanceof yI&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class AD{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new W6(this,t,e):null}createEvent(t,e){(0,ie.hu)(null!=t.childName,"Child events should have a childName.");const i=Ay(new Jd(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Z6(t.type,this,new Dy(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof AD&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function bI(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const v=e,x=(P,L)=>{vL(n._repo,n,m),v(P,L)};x.userCallback=e.userCallback,x.context=e.context,e=x}const u=new xL(e,s||void 0),m="value"===t?new yI(u):new AD(t,u);return function roe(n,t,e){let i;i=".info"===Si(t._path)?iL(n.infoSyncTree_,t,e):iL(n.serverSyncTree_,t,e),N6(n.eventQueue_,t._path,i)}(n._repo,n,m),()=>vL(n._repo,n,m)}function ML(n,t,e,i){return bI(n,"value",t,e,i)}function J6(n,t,e,i){return bI(n,"child_added",t,e,i)}function X6(n,t,e,i){return bI(n,"child_changed",t,e,i)}function eH(n,t,e,i){return bI(n,"child_moved",t,e,i)}function tH(n,t,e,i){return bI(n,"child_removed",t,e,i)}function nH(n,t,e){let i=null;const r=e?new xL(e):null;"value"===t?i=new yI(r):t&&(i=new AD(t,r)),vL(n._repo,n,i)}class Hh{}class iH extends Hh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qf("endAt",this._value,t._path,!0);const e=B2(t._queryParams,this._value,this._key);if(DD(e),i_(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mu(t._repo,t._path,e,t._orderByCalled)}}class boe extends Hh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qf("endBefore",this._value,t._path,!1);const e=function Sie(n,t,e){let i;return i=B2(n,t,n.index_===Yf||e?e:Wg),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(DD(e),i_(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mu(t._repo,t._path,e,t._orderByCalled)}}class rH extends Hh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qf("startAt",this._value,t._path,!0);const e=V2(t._queryParams,this._value,this._key);if(DD(e),i_(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new mu(t._repo,t._path,e,t._orderByCalled)}}class xoe extends Hh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qf("startAfter",this._value,t._path,!1);const e=function Oie(n,t,e){let i;return i=V2(n,t,n.index_===Yf||e?e:gm),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(DD(e),i_(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new mu(t._repo,t._path,e,t._orderByCalled)}}class Moe extends Hh{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new mu(t._repo,t._path,function Iie(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Toe extends Hh{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new mu(t._repo,t._path,function Tie(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Soe extends Hh{constructor(t){super(),this._path=t}_apply(t){PD(t,"orderByChild");const e=new Pr(this._path);if(Pi(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new F2(e),r=aD(t._queryParams,i);return i_(r),new mu(t._repo,t._path,r,!0)}}class Doe extends Hh{_apply(t){PD(t,"orderByKey");const e=aD(t._queryParams,Yf);return i_(e),new mu(t._repo,t._path,e,!0)}}class koe extends Hh{_apply(t){PD(t,"orderByPriority");const e=aD(t._queryParams,po);return i_(e),new mu(t._repo,t._path,e,!0)}}class Noe extends Hh{_apply(t){PD(t,"orderByValue");const e=aD(t._queryParams,L2);return i_(e),new mu(t._repo,t._path,e,!0)}}class Loe extends Hh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Qf("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new iH(this._value,this._key)._apply(new rH(this._value,this._key)._apply(t))}}function $h(n,...t){let e=(0,ie.m9)(n);for(const i of t)e=i._apply(e);return e}(function _re(n){(0,ie.hu)(!_D,"__referenceConstructor has already been defined"),_D=n})(Jd),function Cre(n){(0,ie.hu)(!yD,"__referenceConstructor has already been defined"),yD=n}(Jd);const IL={};function sH(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Wf("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ja("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let v,x,u=CL(s,r),m=u.repoInfo;typeof process<"u"&&process.env&&(x=process.env.FIREBASE_DATABASE_EMULATOR_HOST),x?(v=!0,s=`http://${x}?ns=${m.namespace}`,u=CL(s,r),m=u.repoInfo):v=!u.repoInfo.secure;const P=r&&v?new JM(JM.OWNER):new Ane(n.name,n.options,t);R6("Invalid Firebase Database URL",u),Pi(u.path)||Wf("Database URL must point to the root of a Firebase Database (not including a child path).");const L=function zoe(n,t,e,i){let r=IL[t.name];r||(r={},IL[t.name]=r);let s=r[n.toURLString()];return s&&Wf("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Yre(n,false,e,i),r[n.toURLString()]=s,s}(m,n,P,new Dne(n.name,e));return new $oe(L,n)}class $oe{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Kre(n,t,e){if(n.stats_=T2(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new cD(n.repoInfo_,(i,r,s,u)=>{V6(n,i,r,s,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>B6(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ie.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Iy(n.repoInfo_,t,(i,r,s,u)=>{V6(n,i,r,s,u)},i=>{B6(n,i)},i=>{!function Qre(n,t){Xa(t,(e,i)=>{gL(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Nne(n,t){const e=n.toString();return I2[e]||(I2[e]=t()),I2[e]}(n.repoInfo_,()=>new Nie(n.stats_,n.server_)),n.infoData_=new Pie,n.infoSyncTree_=new x6({startListening:(i,r,s,u)=>{let m=[];const v=n.infoData_.getNode(i._path);return v.isEmpty()||(m=uI(n.infoSyncTree_,i._path,v),setTimeout(()=>{u("ok")},0)),m},stopListening:()=>{}}),gL(n,"connected",!1),n.serverSyncTree_=new x6({startListening:(i,r,s,u)=>(n.server_.listen(i,s,r,(m,v)=>{const x=u(m,v);Ku(n.eventQueue_,i._path,x)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Jd(this._repo,lr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function joe(n,t){const e=IL[t];(!e||e[n.key]!==n)&&Wf(`Database ${t}(${n.repoInfo_}) has already been deleted.`),z6(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Wf("Cannot call "+t+" on a deleted database.")}}function aH(){S4.IS_TRANSPORT_INITIALIZED&&il("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function qoe(){aH(),Yg.forceDisallow()}function Goe(){aH(),fw.forceDisallow(),Yg.forceAllow()}function Yoe(n,t){l4(n,t)}const Qoe={".sv":"timestamp"};class ese{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Iy.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Iy.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Koe(n){r4(Ds.SDK_VERSION),(0,Ds._registerComponent)(new ou.wA("database",(t,{instanceIdentifier:e})=>sH(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Ds.registerVersion)(n4,"0.14.4",n),(0,Ds.registerVersion)(n4,"0.14.4","esm2017")}();const rse=new Ru.Yd("@firebase/database-compat"),lH=function(n){rse.warn("FIREBASE WARNING: "+n)};class ase{constructor(t){this._delegate=t}cancel(t){(0,ie.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ie.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,ie.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ie.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,ie.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ie.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,ie.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ie.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,ie.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,lH("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ie.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class cse{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,ie.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class r_{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,ie.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ie.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ie.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ie.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,ie.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),_I("DataSnapshot.child","path",t,!1),new r_(this._database,this._delegate.child(t))}hasChild(t){return(0,ie.Dv)("DataSnapshot.hasChild",1,1,arguments.length),_I("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,ie.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,ie.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ie.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new r_(this._database,e)))}hasChildren(){return(0,ie.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ie.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ie.Dv)("DataSnapshot.ref",0,0,arguments.length),new Qu(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Cc{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,ie.Dv)("Query.on",2,4,arguments.length),(0,ie.Wj)("Query.on","callback",e,!1);const u=Cc.getCancelAndContextArgs_("Query.on",i,r),m=(x,P)=>{e.call(u.context,new r_(this.database,x),P)};m.userCallback=e,m.context=u.context;const v=null===(s=u.cancel)||void 0===s?void 0:s.bind(u.context);switch(t){case"value":return ML(this._delegate,m,v),e;case"child_added":return J6(this._delegate,m,v),e;case"child_removed":return tH(this._delegate,m,v),e;case"child_changed":return X6(this._delegate,m,v),e;case"child_moved":return eH(this._delegate,m,v),e;default:throw new Error((0,ie.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,ie.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ie.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,ie.Wj)("Query.off","callback",e,!0),(0,ie.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,nH(this._delegate,t,r)}else nH(this._delegate,t)}get(){return voe(this._delegate).then(t=>new r_(this.database,t))}once(t,e,i,r){(0,ie.Dv)("Query.once",1,4,arguments.length),(0,ie.Wj)("Query.once","callback",e,!0);const s=Cc.getCancelAndContextArgs_("Query.once",i,r),u=new ie.BH,m=(x,P)=>{const L=new r_(this.database,x);e&&e.call(s.context,L,P),u.resolve(L)};m.userCallback=e,m.context=s.context;const v=x=>{s.cancel&&s.cancel.call(s.context,x),u.reject(x)};switch(t){case"value":ML(this._delegate,m,v,{onlyOnce:!0});break;case"child_added":J6(this._delegate,m,v,{onlyOnce:!0});break;case"child_removed":tH(this._delegate,m,v,{onlyOnce:!0});break;case"child_changed":X6(this._delegate,m,v,{onlyOnce:!0});break;case"child_moved":eH(this._delegate,m,v,{onlyOnce:!0});break;default:throw new Error((0,ie.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}limitToFirst(t){return(0,ie.Dv)("Query.limitToFirst",1,1,arguments.length),new Cc(this.database,$h(this._delegate,function Ioe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Moe(n)}(t)))}limitToLast(t){return(0,ie.Dv)("Query.limitToLast",1,1,arguments.length),new Cc(this.database,$h(this._delegate,function Ooe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Toe(n)}(t)))}orderByChild(t){return(0,ie.Dv)("Query.orderByChild",1,1,arguments.length),new Cc(this.database,$h(this._delegate,function Poe(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return _I("orderByChild","path",n,!1),new Soe(n)}(t)))}orderByKey(){return(0,ie.Dv)("Query.orderByKey",0,0,arguments.length),new Cc(this.database,$h(this._delegate,function Aoe(){return new Doe}()))}orderByPriority(){return(0,ie.Dv)("Query.orderByPriority",0,0,arguments.length),new Cc(this.database,$h(this._delegate,function Roe(){return new koe}()))}orderByValue(){return(0,ie.Dv)("Query.orderByValue",0,0,arguments.length),new Cc(this.database,$h(this._delegate,function Foe(){return new Noe}()))}startAt(t=null,e){return(0,ie.Dv)("Query.startAt",0,2,arguments.length),new Cc(this.database,$h(this._delegate,function Coe(n=null,t){return gI("startAt","key",t,!0),new rH(n,t)}(t,e)))}startAfter(t=null,e){return(0,ie.Dv)("Query.startAfter",0,2,arguments.length),new Cc(this.database,$h(this._delegate,function Eoe(n,t){return gI("startAfter","key",t,!0),new xoe(n,t)}(t,e)))}endAt(t=null,e){return(0,ie.Dv)("Query.endAt",0,2,arguments.length),new Cc(this.database,$h(this._delegate,function yoe(n,t){return gI("endAt","key",t,!0),new iH(n,t)}(t,e)))}endBefore(t=null,e){return(0,ie.Dv)("Query.endBefore",0,2,arguments.length),new Cc(this.database,$h(this._delegate,function woe(n,t){return gI("endBefore","key",t,!0),new boe(n,t)}(t,e)))}equalTo(t,e){return(0,ie.Dv)("Query.equalTo",1,2,arguments.length),new Cc(this.database,$h(this._delegate,function Uoe(n,t){return gI("equalTo","key",t,!0),new Loe(n,t)}(t,e)))}toString(){return(0,ie.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ie.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,ie.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Cc))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,ie.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,ie.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,ie.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Qu(this.database,new Jd(this._delegate._repo,this._delegate._path))}}class Qu extends Cc{constructor(t,e){super(t,new mu(e._repo,e._path,new sD,!1)),this.database=t,this._delegate=e}getKey(){return(0,ie.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,ie.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Qu(this.database,Ay(this._delegate,t))}getParent(){(0,ie.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Qu(this.database,t):null}getRoot(){return(0,ie.Dv)("Reference.root",0,0,arguments.length),new Qu(this.database,this._delegate.root)}set(t,e){(0,ie.Dv)("Reference.set",1,2,arguments.length),(0,ie.Wj)("Reference.set","onComplete",e,!0);const i=EL(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,ie.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,lH("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Qd("Reference.update",this._delegate._path),(0,ie.Wj)("Reference.update","onComplete",e,!0);const i=_oe(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,ie.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ie.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function goe(n,t,e){if(Qd("setWithPriority",n._path),Qf("setWithPriority",t,n._path,!1),mL("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new ie.BH;return _L(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,ie.Dv)("Reference.remove",0,1,arguments.length),(0,ie.Wj)("Reference.remove","onComplete",t,!0);const e=function poe(n){return Qd("remove",n._path),EL(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,ie.Dv)("Reference.transaction",1,3,arguments.length),(0,ie.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,ie.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,ie.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function tse(n,t,e){var i;if(n=(0,ie.m9)(n),Qd("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,s=new ie.BH,m=ML(n,()=>{});return function soe(n,t,e,i,r,s){ww(n,"transaction on "+t);const u={path:t,update:e,onComplete:i,status:null,order:s4(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=yL(n,t,void 0);u.currentInputSnapshot=m;const v=u.update(m.val());if(void 0===v)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{mI("transaction failed: Data returned ",v,u.path),u.status=0;const x=xD(n.transactionQueueTree_,t),P=Py(x)||[];let L;P.push(u),hL(x,P),"object"==typeof v&&null!==v&&(0,ie.r3)(v,".priority")?(L=(0,ie.DV)(v,".priority"),(0,ie.hu)(pI(L),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):L=(wD(n.serverSyncTree_,t)||fi.EMPTY_NODE).getPriority().val();const q=vI(n),ne=cs(v,L),ae=lL(ne,m,q);u.currentOutputSnapshotRaw=ne,u.currentOutputSnapshotResolved=ae,u.currentWriteId=TD(n);const ye=nL(n.serverSyncTree_,t,ae,u.currentWriteId,u.applyLocally);Ku(n.eventQueue_,t,ye),OD(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(v,x,P)=>{let L=null;v?s.reject(v):(L=new Dy(P,new Jd(n._repo,n._path),po),s.resolve(new ese(x,L)))},m,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new cse(s.committed,new r_(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,ie.Dv)("Reference.setPriority",1,2,arguments.length),(0,ie.Wj)("Reference.setPriority","onComplete",e,!0);const i=function moe(n,t){n=(0,ie.m9)(n),Qd("setPriority",n._path),mL("setPriority",t,!1);const e=new ie.BH;return _L(n._repo,Zo(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,ie.Dv)("Reference.push",0,2,arguments.length),(0,ie.Wj)("Reference.push","onComplete",e,!0);const i=function foe(n,t){n=(0,ie.m9)(n),Qd("push",n._path),Qf("push",t,n._path,!0);const e=U6(n._repo),i=hoe(e),r=Ay(n,i),s=Ay(n,i);let u;return u=null!=t?EL(s,t).then(()=>s):Promise.resolve(s),r.then=u.then.bind(u),r.catch=u.then.bind(u,void 0),r}(this._delegate,t),r=i.then(u=>new Qu(this.database,u));e&&r.then(()=>e(null),u=>e(u));const s=new Qu(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Qd("Reference.onDisconnect",this._delegate._path),new ase(new Y6(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class wI{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:qoe,forceLongPolling:Goe}}useEmulator(t,e,i={}){!function cH(n,t,e,i={}){(n=(0,ie.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Wf("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Wf('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new JM(JM.OWNER);else if(i.mockUserToken){const u="string"==typeof i.mockUserToken?i.mockUserToken:(0,ie.Sg)(i.mockUserToken,n.app.options.projectId);s=new JM(u)}!function Boe(n,t,e,i){n.repoInfo_=new E2(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,ie.Dv)("database.ref",0,1,arguments.length),t instanceof Qu){const e=Q6(this._delegate,t.toString());return new Qu(this,e)}{const e=K6(this._delegate,t);return new Qu(this,e)}}refFromURL(t){(0,ie.Dv)("database.refFromURL",1,1,arguments.length);const i=Q6(this._delegate,t);return new Qu(this,i)}goOffline(){return(0,ie.Dv)("database.goOffline",0,0,arguments.length),function Zoe(n){(n=(0,ie.m9)(n))._checkNotDeleted("goOffline"),z6(n._repo)}(this._delegate)}goOnline(){return(0,ie.Dv)("database.goOnline",0,0,arguments.length),function Woe(n){(n=(0,ie.m9)(n))._checkNotDeleted("goOnline"),function ooe(n){n.persistentConnection_&&n.persistentConnection_.resume(L6)}(n._repo)}(this._delegate)}}wI.ServerValue={TIMESTAMP:function Joe(){return Qoe}(),increment:n=>function Xoe(n){return{".sv":{increment:n}}}(n)};var use=Object.freeze({__proto__:null,initStandalone:function lse({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){r4(e);const u=new ou.zt("auth-internal",new ou.H0("database-standalone"));return u.setComponent(new ou.wA("auth-internal",()=>i,"PRIVATE")),{instance:new wI(sH(n,u,void 0,t,s),n),namespace:r}}});const dse=wI.ServerValue;function uH(n){return null==n}function dH(n){return"function"==typeof n.set}function hH(n,t){return dH(t)?t:n.ref(t)}function fH(n,t){if(function fse(n){return"string"==typeof n}(n))return t.stringCase();if(dH(n))return t.firebaseCase();if(function pse(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function CI(n,t,e="on",i=cw.z){return new ar.y(r=>{let s=null;return s=n[e](t,(u,m)=>{i.schedule(()=>{r.next({snapshot:u,prevKey:m})}),"once"===e&&i.schedule(()=>r.complete())},u=>{i.schedule(()=>r.error(u))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,gn.U)(r=>{const{snapshot:s,prevKey:u}=r;let m=null;return s.exists()&&(m=s.key),{type:t,payload:s,prevKey:u,key:m}}),(0,RF.B)())}function pH(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function _se(n,t){const{payload:e,prevKey:i,key:r}=t,s=pH(n,r),u=function gse(n,t){if(uH(t))return 0;{const e=pH(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let m=null;t.payload.forEach(v=>{const x={payload:v,type:"value",prevKey:m,key:v.key};return m=v.key,n=[...n,x],!1})}return n;case"child_added":if(s>-1){const m=n[s-1];(m&&m.key||null)!==i&&(n=n.filter(v=>v.payload.key!==e.key)).splice(u,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(u,0,t)}return n;case"child_removed":return n.filter(m=>m.payload.key!==e.key);case"child_changed":return n.map(m=>m.payload.key===r?t:m);case"child_moved":if(s>-1){const m=n.splice(s,1)[0];return(n=n.slice()).splice(u,0,m),n}return n;default:return n}}function mH(n){return(uH(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function gH(n,t,e){return function mse(n,t,e){return CI(n,"value","once",e).pipe((0,as.w)(i=>{const r=[(0,_n.of)(i)];return t.forEach(s=>r.push(CI(n,s,"on",e))),(0,Zg.T)(...r).pipe(Gb(_se,[]))}),(0,MF.x)())}(n,t=mH(t),e)}function _H(n,t,e){const i=(t=mH(t)).map(r=>CI(n,r,"on",e));return(0,Zg.T)(...i)}function vH(n,t){return function(i,r){return fH(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function wse(n){return function(e){return e?fH(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function yH(n,t){return function(){return CI(n,"value","on",t)}}!function hse(n){n.INTERNAL.registerComponent(new ou.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new wI(r,i)},"PUBLIC").setServiceProps({Reference:Qu,Query:Cc,Database:wI,DataSnapshot:r_,enableLogging:Yoe,INTERNAL:use,ServerValue:dse}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(k5.Z);const Ese=new o.OlP("angularfire2.realtimeDatabaseURL"),Mse=new o.OlP("angularfire2.database.use-emulator");let Ise=(()=>{class n{constructor(e,i,r,s,u,m,v,x,P,L,q,ne,ae,ye,Ze){this.schedulers=m;const wt=v,Dt=(0,kl.on)(e,u,i);x&&p2(Dt,u,P,q,ne,ae,L,ye),this.database=(0,kl.cc)(`${Dt.name}.database.${r}`,"AngularFireDatabase",Dt.name,()=>{const Pt=u.runOutsideAngular(()=>Dt.database(r||void 0));return wt&&Pt.useEmulator(...wt),Pt},[wt])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>hH(this.database,e));let s=r;return i&&(s=i(r)),function Cse(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:vH(i,"update"),set:vH(i,"set"),push:r=>i.push(r),remove:wse(i),snapshotChanges:r=>gH(n,r,e).pipe(bn.iC),stateChanges:r=>_H(n,r,e).pipe(bn.iC),auditTrail:r=>function vse(n,t,e){return function bse(n,t,e){return function yse(n,t){return CI(n,"value","on",t).pipe((0,gn.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function _ne(...n){const t=(0,$b.jO)(n);return(0,Nr.e)((e,i)=>{const r=n.length,s=new Array(r);let u=n.map(()=>!1),m=!1;for(let v=0;v<r;v++)(0,Po.Xf)(n[v]).subscribe((0,li.x)(i,x=>{s[v]=x,!m&&!u[v]&&(u[v]=!0,(m=u.every(eM.y))&&(u=null))},RN.Z));e.subscribe((0,li.x)(i,v=>{if(m){const x=[v,...s];i.next(t?t(...x):x)}}))})}(t),(0,gn.U)(([r,s])=>{const u=r.lastKeyToLoad,m=s.map(v=>v.key);return{actions:s,lastKeyToLoad:u,loadedKeys:m}}),function vne(n){return(0,Nr.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,li.x)(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,gn.U)(r=>r.actions))}(n,_H(n,t).pipe(Gb((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(bn.iC),valueChanges:(r,s)=>gH(n,r,e).pipe((0,gn.U)(m=>m.map(v=>s&&s.idField?Object.assign(Object.assign({},v.payload.val()),{[s.idField]:v.key}):v.payload.val())),bn.iC)}}(s,this)}object(e){return function xse(n,t){return{query:n,snapshotChanges:()=>yH(n,t.schedulers.outsideAngular)().pipe(bn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>yH(n,t.schedulers.outsideAngular)().pipe(bn.iC,(0,gn.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>hH(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(kl.Dh),o.LFG(kl.xv,8),o.LFG(Ese,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(bn.HU),o.LFG(Mse,8),o.LFG(m2,8),o.LFG(c2,8),o.LFG(l2,8),o.LFG(u2,8),o.LFG(d2,8),o.LFG(h2,8),o.LFG(f2,8),o.LFG(wp,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),bH=(()=>{class n{constructor(){z5.Z.registerVersion("angularfire",bn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Ise]}),n})();const wH={apiKey:"AIzaSyBUhtsLE6mKhnLFA4hrTdgtPRvT9DFPews",authDomain:"pelda-4422f.firebaseapp.com",projectId:"pelda-4422f",storageBucket:"pelda-4422f.appspot.com",messagingSenderId:"999999888137",appId:"1:999999888137:web:c55fe757b0ce70c8fcd1d8",useEmulator:!0,experimentalForceLongPolling:!0};let Tse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n,bootstrap:[pne]});static#n=this.\u0275inj=o.cJS({providers:[ta,v2],imports:[nA(()=>YI(wH)),bq(()=>xq()),oZ(()=>aZ()),fh.forRoot(),zc,Eh,qte,mne,j7,jM,C3,gB,Ii,gne,bH,Nee,kl.hO.initializeApp(wH),bH,wA(()=>MA())]})}return n})();Br().bootstrapModule(Tse).catch(n=>console.error(n))},3219:(en,Se,Q)=>{Object.defineProperty(Se,"__esModule",{value:!0});var ce,xe,o=Q(8005),U=Q(3661),Y=Q(6553),pe=Q(8836),ke=((ce={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ce["bad-app-name"]="Illegal App name: '{$appName}",ce["duplicate-app"]="Firebase App named '{$appName}' already exists",ce["app-deleted"]="Firebase App named '{$appName}' already deleted",ce["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ce["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ce),De=new U.ErrorFactory("app","Firebase",ke),ut="@firebase/app",nt="[DEFAULT]",$e=((xe={})[ut]="fire-core",xe["@firebase/analytics"]="fire-analytics",xe["@firebase/auth"]="fire-auth",xe["@firebase/database"]="fire-rtdb",xe["@firebase/functions"]="fire-fn",xe["@firebase/installations"]="fire-iid",xe["@firebase/messaging"]="fire-fcm",xe["@firebase/performance"]="fire-perf",xe["@firebase/remote-config"]="fire-rc",xe["@firebase/storage"]="fire-gcs",xe["@firebase/firestore"]="fire-fst",xe["fire-js"]="fire-js",xe["firebase-wrapper"]="fire-js-all",xe),it=new pe.Logger("@firebase/app"),he=function(){function Te(Ce,He,je){var ct,gt,St=this;this.firebase_=je,this.isDeleted_=!1,this.name_=He.name,this.automaticDataCollectionEnabled_=He.automaticDataCollectionEnabled||!1,this.options_=U.deepCopy(Ce),this.container=new Y.ComponentContainer(He.name),this._addComponent(new Y.Component("app",function(){return St},"PUBLIC"));try{for(var bt=o.__values(this.firebase_.INTERNAL.components.values()),Tn=bt.next();!Tn.done;Tn=bt.next())this._addComponent(Tn.value)}catch(Nn){ct={error:Nn}}finally{try{Tn&&!Tn.done&&(gt=bt.return)&&gt.call(bt)}finally{if(ct)throw ct.error}}}return Object.defineProperty(Te.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Ce){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Ce},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Te.prototype.delete=function(){var Ce=this;return new Promise(function(He){Ce.checkDestroyed_(),He()}).then(function(){return Ce.firebase_.INTERNAL.removeApp(Ce.name_),Promise.all(Ce.container.getProviders().map(function(He){return He.delete()}))}).then(function(){Ce.isDeleted_=!0})},Te.prototype._getService=function(Ce,He){return void 0===He&&(He=nt),this.checkDestroyed_(),this.container.getProvider(Ce).getImmediate({identifier:He})},Te.prototype._removeServiceInstance=function(Ce,He){void 0===He&&(He=nt),this.container.getProvider(Ce).clearInstance(He)},Te.prototype._addComponent=function(Ce){try{this.container.addComponent(Ce)}catch(He){it.debug("Component "+Ce.name+" failed to register with FirebaseApp "+this.name,He)}},Te.prototype._addOrOverwriteComponent=function(Ce){this.container.addOrOverwriteComponent(Ce)},Te.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw De.create("app-deleted",{appName:this.name_})},Te}();he.prototype.name&&he.prototype.options||he.prototype.delete||console.log("dc");var Ct=function Le(){var Te=function Ge(Te){var Ce={},He=new Map,je={__esModule:!0,initializeApp:function St(tn,On){void 0===On&&(On={}),("object"!=typeof On||null===On)&&(On={name:On});var cn=On;void 0===cn.name&&(cn.name=nt);var Fn=cn.name;if("string"!=typeof Fn||!Fn)throw De.create("bad-app-name",{appName:String(Fn)});if(U.contains(Ce,Fn))throw De.create("duplicate-app",{appName:Fn});var Vn=new Te(tn,cn,je);return Ce[Fn]=Vn,Vn},app:gt,registerVersion:function dn(tn,On,Ut){var cn,Fn=null!==(cn=$e[tn])&&void 0!==cn?cn:tn;Ut&&(Fn+="-"+Ut);var Vn=Fn.match(/\s|\//),Ci=On.match(/\s|\//);if(Vn||Ci){var Di=['Unable to register library "'+Fn+'" with version "'+On+'":'];return Vn&&Di.push('library name "'+Fn+'" contains illegal characters (whitespace or "/")'),Vn&&Ci&&Di.push("and"),Ci&&Di.push('version name "'+On+'" contains illegal characters (whitespace or "/")'),void it.warn(Di.join(" "))}Tn(new Y.Component(Fn+"-version",function(){return{library:Fn,version:On}},"VERSION"))},setLogLevel:pe.setLogLevel,onLog:function Nn(tn,On){if(null!==tn&&"function"!=typeof tn)throw De.create("invalid-log-argument",{appName:name});pe.setUserLogHandler(tn,On)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:Tn,removeApp:function ct(tn){delete Ce[tn]},components:He,useAsService:function fn(tn,On){return"serverAuth"===On?null:On}}};function gt(tn){if(!U.contains(Ce,tn=tn||nt))throw De.create("no-app",{appName:tn});return Ce[tn]}function Tn(tn){var On,Ut,cn=tn.name;if(He.has(cn))return it.debug("There were multiple attempts to register component "+cn+"."),"PUBLIC"===tn.type?je[cn]:null;if(He.set(cn,tn),"PUBLIC"===tn.type){var Fn=function(ni){if(void 0===ni&&(ni=gt()),"function"!=typeof ni[cn])throw De.create("invalid-app-argument",{appName:cn});return ni[cn]()};void 0!==tn.serviceProps&&U.deepExtend(Fn,tn.serviceProps),je[cn]=Fn,Te.prototype[cn]=function(){for(var ni=[],zi=0;zi<arguments.length;zi++)ni[zi]=arguments[zi];return this._getService.bind(this,cn).apply(this,tn.multipleInstances?ni:[])}}try{for(var Vn=o.__values(Object.keys(Ce)),Ci=Vn.next();!Ci.done;Ci=Vn.next())Ce[Ci.value]._addComponent(tn)}catch(ni){On={error:ni}}finally{try{Ci&&!Ci.done&&(Ut=Vn.return)&&Ut.call(Vn)}finally{if(On)throw On.error}}return"PUBLIC"===tn.type?je[cn]:null}return je.default=je,Object.defineProperty(je,"apps",{get:function bt(){return Object.keys(Ce).map(function(tn){return Ce[tn]})}}),gt.App=Te,je}(he);return Te.INTERNAL=o.__assign(o.__assign({},Te.INTERNAL),{createFirebaseNamespace:Le,extendNamespace:function Ce(He){U.deepExtend(Te,He)},createSubscribe:U.createSubscribe,ErrorFactory:U.ErrorFactory,deepExtend:U.deepExtend}),Te}(),ot=function(){function Te(Ce){this.container=Ce}return Te.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(He){if(function Yt(Te){var Ce=Te.getComponent();return"VERSION"===Ce?.type}(He)){var je=He.getImmediate();return je.library+"/"+je.version}return null}).filter(function(He){return He}).join(" ")},Te}();if(U.isBrowser()&&void 0!==self.firebase){it.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var un=self.firebase.SDK_VERSION;un&&un.indexOf("LITE")>=0&&it.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var rn=Ct.initializeApp;Ct.initializeApp=function(){for(var Te=[],Ce=0;Ce<arguments.length;Ce++)Te[Ce]=arguments[Ce];return U.isNode()&&it.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),rn.apply(void 0,Te)};var pi=Ct;(function nn(Te,Ce){Te.INTERNAL.registerComponent(new Y.Component("platform-logger",function(He){return new ot(He)},"PRIVATE")),Te.registerVersion(ut,"0.6.11",Ce),Te.registerVersion("fire-js","")})(pi),Se.default=pi,Se.firebase=pi},6553:(en,Se,Q)=>{Object.defineProperty(Se,"__esModule",{value:!0});var o=Q(8005),U=Q(3661),Y=function(){function Ve(z,G,de){this.name=z,this.instanceFactory=G,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return Ve.prototype.setInstantiationMode=function(z){return this.instantiationMode=z,this},Ve.prototype.setMultipleInstances=function(z){return this.multipleInstances=z,this},Ve.prototype.setServiceProps=function(z){return this.serviceProps=z,this},Ve}(),pe="[DEFAULT]",ce=function(){function Ve(z,G){this.name=z,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return Ve.prototype.get=function(z){void 0===z&&(z=pe);var G=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(G)){var de=new U.Deferred;this.instancesDeferred.set(G,de);try{var Ne=this.getOrInitializeService(G);Ne&&de.resolve(Ne)}catch{}}return this.instancesDeferred.get(G).promise},Ve.prototype.getImmediate=function(z){var G=o.__assign({identifier:pe,optional:!1},z),Ne=G.optional,me=this.normalizeInstanceIdentifier(G.identifier);try{var lt=this.getOrInitializeService(me);if(!lt){if(Ne)return null;throw Error("Service "+this.name+" is not available")}return lt}catch(st){if(Ne)return null;throw st}},Ve.prototype.getComponent=function(){return this.component},Ve.prototype.setComponent=function(z){var G,de;if(z.name!==this.name)throw Error("Mismatching Component "+z.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=z,function De(Ve){return"EAGER"===Ve.instantiationMode}(z))try{this.getOrInitializeService(pe)}catch{}try{for(var Ne=o.__values(this.instancesDeferred.entries()),me=Ne.next();!me.done;me=Ne.next()){var lt=o.__read(me.value,2),mt=lt[1],Re=this.normalizeInstanceIdentifier(lt[0]);try{var at=this.getOrInitializeService(Re);mt.resolve(at)}catch{}}}catch(We){G={error:We}}finally{try{me&&!me.done&&(de=Ne.return)&&de.call(Ne)}finally{if(G)throw G.error}}},Ve.prototype.clearInstance=function(z){void 0===z&&(z=pe),this.instancesDeferred.delete(z),this.instances.delete(z)},Ve.prototype.delete=function(){return o.__awaiter(this,void 0,void 0,function(){var z;return o.__generator(this,function(G){switch(G.label){case 0:return z=Array.from(this.instances.values()),[4,Promise.all(o.__spread(z.filter(function(de){return"INTERNAL"in de}).map(function(de){return de.INTERNAL.delete()}),z.filter(function(de){return"_delete"in de}).map(function(de){return de._delete()})))];case 1:return G.sent(),[2]}})})},Ve.prototype.isComponentSet=function(){return null!=this.component},Ve.prototype.getOrInitializeService=function(z){var G=this.instances.get(z);return!G&&this.component&&(G=this.component.instanceFactory(this.container,function ke(Ve){return Ve===pe?void 0:Ve}(z)),this.instances.set(z,G)),G||null},Ve.prototype.normalizeInstanceIdentifier=function(z){return this.component?this.component.multipleInstances?z:pe:z},Ve}(),ut=function(){function Ve(z){this.name=z,this.providers=new Map}return Ve.prototype.addComponent=function(z){var G=this.getProvider(z.name);if(G.isComponentSet())throw new Error("Component "+z.name+" has already been registered with "+this.name);G.setComponent(z)},Ve.prototype.addOrOverwriteComponent=function(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)},Ve.prototype.getProvider=function(z){if(this.providers.has(z))return this.providers.get(z);var G=new ce(z,this);return this.providers.set(z,G),G},Ve.prototype.getProviders=function(){return Array.from(this.providers.values())},Ve}();Se.Component=Y,Se.ComponentContainer=ut,Se.Provider=ce},4467:(en,Se,Q)=>{var U=Q(8005),Y=Q(3219),pe=Q(8836),ce=Q(3661),ke=Q(8602),De=Q(6553),Ve=function ut(f){return f&&"object"==typeof f&&"default"in f?f:{default:f}}(Y),z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=function(f){function l(h,g){var y=this;return(y=f.call(this,g)||this).code=h,y.message=g,y.name="FirebaseError",y.toString=function(){return y.name+": [code="+y.code+"]: "+y.message},y}return U.__extends(l,f),l}(Error),de=new pe.Logger("@firebase/firestore");function Ne(){return de.logLevel}function me(f){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];if(de.logLevel<=pe.LogLevel.DEBUG){var g=l.map(mt);de.debug.apply(de,U.__spreadArrays(["Firestore (7.24.0): "+f],g))}}function lt(f){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];if(de.logLevel<=pe.LogLevel.ERROR){var g=l.map(mt);de.error.apply(de,U.__spreadArrays(["Firestore (7.24.0): "+f],g))}}function st(f){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];if(de.logLevel<=pe.LogLevel.WARN){var g=l.map(mt);de.warn.apply(de,U.__spreadArrays(["Firestore (7.24.0): "+f],g))}}function mt(f){if("string"==typeof f)return f;try{return JSON.stringify(f)}catch{return f}}function Re(f){void 0===f&&(f="Unexpected state");var l="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+f;throw lt(l),new Error(l)}function at(f,l){f||Re()}function We(f,l){return f}function xe(f){var l=0;for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&l++;return l}function nt(f,l){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&l(h,f[h])}function $e(f){for(var l in f)if(Object.prototype.hasOwnProperty.call(f,l))return!1;return!0}var it=function(){function f(l,h,g){void 0===h?h=0:h>l.length&&Re(),void 0===g?g=l.length-h:g>l.length-h&&Re(),this.segments=l,this.offset=h,this.t=g}return Object.defineProperty(f.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){return 0===f.i(this,l)},f.prototype.child=function(l){var h=this.segments.slice(this.offset,this.limit());return l instanceof f?l.forEach(function(g){h.push(g)}):h.push(l),this.o(h)},f.prototype.limit=function(){return this.offset+this.length},f.prototype.u=function(l){return this.o(this.segments,this.offset+(l=void 0===l?1:l),this.length-l)},f.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},f.prototype.l=function(){return this.segments[this.offset]},f.prototype._=function(){return this.get(this.length-1)},f.prototype.get=function(l){return this.segments[this.offset+l]},f.prototype.m=function(){return 0===this.length},f.prototype.T=function(l){if(l.length<this.length)return!1;for(var h=0;h<this.length;h++)if(this.get(h)!==l.get(h))return!1;return!0},f.prototype.I=function(l){if(this.length+1!==l.length)return!1;for(var h=0;h<this.length;h++)if(this.get(h)!==l.get(h))return!1;return!0},f.prototype.forEach=function(l){for(var h=this.offset,g=this.limit();h<g;h++)l(this.segments[h])},f.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},f.i=function(l,h){for(var g=Math.min(l.length,h.length),y=0;y<g;y++){var E=l.get(y),T=h.get(y);if(E<T)return-1;if(E>T)return 1}return l.length<h.length?-1:l.length>h.length?1:0},f}(),he=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.o=function(h,g,y){return new l(h,g,y)},l.prototype.R=function(){return this.A().join("/")},l.prototype.toString=function(){return this.R()},l.g=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];for(var y=[],E=0,T=h;E<T.length;E++){var R=T[E];if(R.indexOf("//")>=0)throw new G(z.INVALID_ARGUMENT,"Invalid segment ("+R+"). Paths must not contain // in them.");y.push.apply(y,R.split("/").filter(function(V){return V.length>0}))}return new l(y)},l.P=function(){return new l([])},l}(it),ue=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ge=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.o=function(h,g,y){return new l(h,g,y)},l.V=function(h){return ue.test(h)},l.prototype.R=function(){return this.A().map(function(h){return h=h.replace("\\","\\\\").replace("`","\\`"),l.V(h)||(h="`"+h+"`"),h}).join(".")},l.prototype.toString=function(){return this.R()},l.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},l.v=function(){return new l(["__name__"])},l.S=function(h){for(var g=[],y="",E=0,T=function(){if(0===y.length)throw new G(z.INVALID_ARGUMENT,"Invalid field path ("+h+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");g.push(y),y=""},R=!1;E<h.length;){var V=h[E];if("\\"===V){if(E+1===h.length)throw new G(z.INVALID_ARGUMENT,"Path has trailing escape character: "+h);var W=h[E+1];if("\\"!==W&&"."!==W&&"`"!==W)throw new G(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+h);y+=W,E+=2}else"`"===V?(R=!R,E++):"."!==V||R?(y+=V,E++):(T(),E++)}if(T(),R)throw new G(z.INVALID_ARGUMENT,"Unterminated ` in path: "+h);return new l(g)},l.P=function(){return new l([])},l}(it),Le=function(){function f(l){this.path=l}return f.D=function(l){return new f(he.g(l))},f.C=function(l){return new f(he.g(l).u(5))},f.prototype.N=function(l){return this.path.length>=2&&this.path.get(this.path.length-2)===l},f.prototype.isEqual=function(l){return null!==l&&0===he.i(this.path,l.path)},f.prototype.toString=function(){return this.path.toString()},f.i=function(l,h){return he.i(l.path,h.path)},f.F=function(l){return l.length%2==0},f.$=function(l){return new f(new he(l.slice()))},f}();function Ct(f,l){if(0!==l.length)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() does not support arguments, but was called with "+fn(l.length,"argument")+".")}function ot(f,l,h){if(l.length!==h)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires "+fn(h,"argument")+", but was called with "+fn(l.length,"argument")+".")}function Yt(f,l,h){if(l.length<h)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires at least "+fn(h,"argument")+", but was called with "+fn(l.length,"argument")+".")}function nn(f,l,h,g){if(l.length<h||l.length>g)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires between "+h+" and "+g+" arguments, but was called with "+fn(l.length,"argument")+".")}function un(f,l,h,g){je(f,l,Nn(h)+" argument",g)}function rn(f,l,h,g){void 0!==g&&un(f,l,h,g)}function pi(f,l,h,g){je(f,l,h+" option",g)}function Te(f,l,h,g){void 0!==g&&pi(f,l,h,g)}function Ce(f,l,h,g,y){void 0!==g&&function(E,T,R,V,W){for(var re=[],ge=0,_e=W;ge<_e.length;ge++){var Ae=_e[ge];if(Ae===V)return;re.push(gt(Ae))}var et=gt(V);throw new G(z.INVALID_ARGUMENT,"Invalid value "+et+" provided to function "+E+'() for option "'+R+'". Acceptable values: '+re.join(", "))}(f,0,h,g,y)}function He(f,l,h,g){if(!l.some(function(y){return y===g}))throw new G(z.INVALID_ARGUMENT,"Invalid value "+gt(g)+" provided to function "+f+"() for its "+Nn(h)+" argument. Acceptable values: "+l.join(", "));return g}function je(f,l,h,g){if(!("object"===l?ct(g):"non-empty string"===l?"string"==typeof g&&""!==g:typeof g===l)){var y=gt(g);throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires its "+h+" to be of type "+l+", but it was: "+y)}}function ct(f){return"object"==typeof f&&null!==f&&(Object.getPrototypeOf(f)===Object.prototype||null===Object.getPrototypeOf(f))}function gt(f){if(void 0===f)return"undefined";if(null===f)return"null";if("string"==typeof f)return f.length>20&&(f=f.substring(0,20)+"..."),JSON.stringify(f);if("number"==typeof f||"boolean"==typeof f)return""+f;if("object"==typeof f){if(f instanceof Array)return"an array";var l=function(h){if(h.constructor){var g=/function\s+([^\s(]+)\s*\(/.exec(h.constructor.toString());if(g&&g.length>1)return g[1]}return null}(f);return l?"a custom "+l+" object":"an object"}return"function"==typeof f?"a function":Re()}function St(f,l,h){if(void 0===h)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires a valid "+Nn(l)+" argument, but it was undefined.")}function bt(f,l,h){nt(l,function(g,y){if(h.indexOf(g)<0)throw new G(z.INVALID_ARGUMENT,"Unknown option '"+g+"' passed to function "+f+"(). Available options: "+h.join(", "))})}function Tn(f,l,h,g){var y=gt(g);return new G(z.INVALID_ARGUMENT,"Function "+f+"() requires its "+Nn(h)+" argument to be a "+l+", but it was: "+y)}function dn(f,l,h){if(h<=0)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires its "+Nn(l)+" argument to be a positive number, but it was: "+h+".")}function Nn(f){switch(f){case 1:return"first";case 2:return"second";case 3:return"third";default:return f+"th"}}function fn(f,l){return f+" "+l+(1===f?"":"s")}function tn(f){var l=typeof self<"u"&&(self.crypto||self.msCrypto),h=new Uint8Array(f);if(l&&"function"==typeof l.getRandomValues)l.getRandomValues(h);else for(var g=0;g<f;g++)h[g]=Math.floor(256*Math.random());return h}var On=function(){function f(){}return f.k=function(){for(var h=62*Math.floor(256/62),g="";g.length<20;)for(var y=tn(40),E=0;E<y.length;++E)g.length<20&&y[E]<h&&(g+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(y[E]%62));return g},f}();function Ut(f,l){return f<l?-1:f>l?1:0}function cn(f,l,h){return f.length===l.length&&f.every(function(g,y){return h(g,l[y])})}function Fn(f){return f+"\0"}var Vn=function(){function f(l){this.M=l}return f.fromBase64String=function(l){return new f(atob(l))},f.fromUint8Array=function(l){return new f(function(h){for(var g="",y=0;y<h.length;++y)g+=String.fromCharCode(h[y]);return g}(l))},f.prototype.toBase64=function(){return btoa(this.M)},f.prototype.toUint8Array=function(){return function(l){for(var h=new Uint8Array(l.length),g=0;g<l.length;g++)h[g]=l.charCodeAt(g);return h}(this.M)},f.prototype.O=function(){return 2*this.M.length},f.prototype.L=function(l){return Ut(this.M,l.M)},f.prototype.isEqual=function(l){return this.M===l.M},f}();Vn.B=new Vn("");var Ci=function(){function f(l){this.q=l}return f.fromBase64String=function(l){try{return new f(Vn.fromBase64String(l))}catch(h){throw new G(z.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+h)}},f.fromUint8Array=function(l){return new f(Vn.fromUint8Array(l))},f.prototype.toBase64=function(){return this.q.toBase64()},f.prototype.toUint8Array=function(){return this.q.toUint8Array()},f.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},f.prototype.isEqual=function(l){return this.q.isEqual(l.q)},f}();function Di(){if(typeof Uint8Array>"u")throw new G(z.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ni(){if(typeof atob>"u")throw new G(z.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var zi=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.fromBase64String=function(h){ot("Blob.fromBase64String",arguments,1),un("Blob.fromBase64String","string",1,h),ni();try{return new l(Vn.fromBase64String(h))}catch(g){throw new G(z.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+g)}},l.fromUint8Array=function(h){if(ot("Blob.fromUint8Array",arguments,1),Di(),!(h instanceof Uint8Array))throw Tn("Blob.fromUint8Array","Uint8Array",1,h);return new l(Vn.fromUint8Array(h))},l.prototype.toBase64=function(){return ot("Blob.toBase64",arguments,0),ni(),f.prototype.toBase64.call(this)},l.prototype.toUint8Array=function(){return ot("Blob.toUint8Array",arguments,0),Di(),f.prototype.toUint8Array.call(this)},l.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},l}(Ci),No=function(f,l,h,g,y,E){this.U=f,this.persistenceKey=l,this.host=h,this.ssl=g,this.forceLongPolling=y,this.W=E},sn=function(){function f(l,h){this.projectId=l,this.database=h||"(default)"}return Object.defineProperty(f.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){return l instanceof f&&l.projectId===this.projectId&&l.database===this.database},f.prototype.L=function(l){return Ut(this.projectId,l.projectId)||Ut(this.database,l.database)},f}(),Kt=function(){function f(l,h){this.K=l,this.G=h,this.H={}}return f.prototype.get=function(l){var h=this.K(l),g=this.H[h];if(void 0!==g)for(var y=0,E=g;y<E.length;y++){var T=E[y],V=T[1];if(this.G(T[0],l))return V}},f.prototype.has=function(l){return void 0!==this.get(l)},f.prototype.set=function(l,h){var g=this.K(l),y=this.H[g];if(void 0!==y){for(var E=0;E<y.length;E++)if(this.G(y[E][0],l))return void(y[E]=[l,h]);y.push([l,h])}else this.H[g]=[[l,h]]},f.prototype.delete=function(l){var h=this.K(l),g=this.H[h];if(void 0===g)return!1;for(var y=0;y<g.length;y++)if(this.G(g[y][0],l))return 1===g.length?delete this.H[h]:g.splice(y,1),!0;return!1},f.prototype.forEach=function(l){nt(this.H,function(h,g){for(var y=0,E=g;y<E.length;y++){var T=E[y];l(T[0],T[1])}})},f.prototype.m=function(){return $e(this.H)},f}(),Qt=function(){function f(l,h){if(this.seconds=l,this.nanoseconds=h,h<0)throw new G(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+h);if(h>=1e9)throw new G(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+h);if(l<-62135596800)throw new G(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+l);if(l>=253402300800)throw new G(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+l)}return f.now=function(){return f.fromMillis(Date.now())},f.fromDate=function(l){return f.fromMillis(l.getTime())},f.fromMillis=function(l){var h=Math.floor(l/1e3);return new f(h,1e6*(l-1e3*h))},f.prototype.toDate=function(){return new Date(this.toMillis())},f.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},f.prototype.Y=function(l){return this.seconds===l.seconds?Ut(this.nanoseconds,l.nanoseconds):Ut(this.seconds,l.seconds)},f.prototype.isEqual=function(l){return l.seconds===this.seconds&&l.nanoseconds===this.nanoseconds},f.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},f.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},f.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},f}(),zt=function(){function f(l){this.timestamp=l}return f.J=function(l){return new f(l)},f.min=function(){return new f(new Qt(0,0))},f.prototype.L=function(l){return this.timestamp.Y(l.timestamp)},f.prototype.isEqual=function(l){return this.timestamp.isEqual(l.timestamp)},f.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},f.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},f.prototype.Z=function(){return this.timestamp},f}();function Ie(f){return null==f}function we(f){return 0===f&&1/f==-1/0}function Ee(f){return"number"==typeof f&&Number.isInteger(f)&&!we(f)&&f<=Number.MAX_SAFE_INTEGER&&f>=Number.MIN_SAFE_INTEGER}var qe=function(f,l,h,g,y,E,T){void 0===l&&(l=null),void 0===h&&(h=[]),void 0===g&&(g=[]),void 0===y&&(y=null),void 0===E&&(E=null),void 0===T&&(T=null),this.path=f,this.collectionGroup=l,this.orderBy=h,this.filters=g,this.limit=y,this.startAt=E,this.endAt=T,this.tt=null};function Fe(f,l,h,g,y,E,T){return void 0===l&&(l=null),void 0===h&&(h=[]),void 0===g&&(g=[]),void 0===y&&(y=null),void 0===E&&(E=null),void 0===T&&(T=null),new qe(f,l,h,g,y,E,T)}function xt(f){var l=We(f);if(null===l.tt){var h=l.path.R();null!==l.collectionGroup&&(h+="|cg:"+l.collectionGroup),h+="|f:",h+=l.filters.map(function(g){return(y=g).field.R()+y.op.toString()+us(y.value);var y}).join(","),h+="|ob:",h+=l.orderBy.map(function(g){return(y=g).field.R()+y.dir;var y}).join(","),Ie(l.limit)||(h+="|l:",h+=l.limit),l.startAt&&(h+="|lb:",h+=cc(l.startAt)),l.endAt&&(h+="|ub:",h+=cc(l.endAt)),l.tt=h}return l.tt}function mn(f,l){if(f.limit!==l.limit||f.orderBy.length!==l.orderBy.length)return!1;for(var h=0;h<f.orderBy.length;h++)if(!bi(f.orderBy[h],l.orderBy[h]))return!1;if(f.filters.length!==l.filters.length)return!1;for(var g=0;g<f.filters.length;g++)if((y=f.filters[g]).op!==(E=l.filters[g]).op||!y.field.isEqual(E.field)||!Ur(y.value,E.value))return!1;var y,E;return f.collectionGroup===l.collectionGroup&&!!f.path.isEqual(l.path)&&!!zs(f.startAt,l.startAt)&&zs(f.endAt,l.endAt)}function jt(f){return Le.F(f.path)&&null===f.collectionGroup&&0===f.filters.length}var Xt,Ht,xi=function(){function f(l,h,g,y,E,T,R){void 0===E&&(E=zt.min()),void 0===T&&(T=zt.min()),void 0===R&&(R=Vn.B),this.target=l,this.targetId=h,this.et=g,this.sequenceNumber=y,this.nt=E,this.lastLimboFreeSnapshotVersion=T,this.resumeToken=R}return f.prototype.st=function(l){return new f(this.target,this.targetId,this.et,l,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},f.prototype.it=function(l,h){return new f(this.target,this.targetId,this.et,this.sequenceNumber,h,this.lastLimboFreeSnapshotVersion,l)},f.prototype.rt=function(l){return new f(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,l,this.resumeToken)},f}(),yi=function(f){this.count=f};function Hn(f){switch(f){case z.OK:return Re();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return Re()}}function Li(f){if(void 0===f)return lt("GRPC error has no .code"),z.UNKNOWN;switch(f){case Xt.OK:return z.OK;case Xt.CANCELLED:return z.CANCELLED;case Xt.UNKNOWN:return z.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return z.INTERNAL;case Xt.UNAVAILABLE:return z.UNAVAILABLE;case Xt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Xt.NOT_FOUND:return z.NOT_FOUND;case Xt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Xt.ABORTED:return z.ABORTED;case Xt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Xt.DATA_LOSS:return z.DATA_LOSS;default:return Re()}}(Ht=Xt||(Xt={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";var $n=function(){function f(l,h){this.i=l,this.root=h||mi.EMPTY}return f.prototype.ot=function(l,h){return new f(this.i,this.root.ot(l,h,this.i).copy(null,null,mi.at,null,null))},f.prototype.remove=function(l){return new f(this.i,this.root.remove(l,this.i).copy(null,null,mi.at,null,null))},f.prototype.get=function(l){for(var h=this.root;!h.m();){var g=this.i(l,h.key);if(0===g)return h.value;g<0?h=h.left:g>0&&(h=h.right)}return null},f.prototype.indexOf=function(l){for(var h=0,g=this.root;!g.m();){var y=this.i(l,g.key);if(0===y)return h+g.left.size;y<0?g=g.left:(h+=g.left.size+1,g=g.right)}return-1},f.prototype.m=function(){return this.root.m()},Object.defineProperty(f.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),f.prototype.ct=function(){return this.root.ct()},f.prototype.ut=function(){return this.root.ut()},f.prototype.ht=function(l){return this.root.ht(l)},f.prototype.forEach=function(l){this.ht(function(h,g){return l(h,g),!1})},f.prototype.toString=function(){var l=[];return this.ht(function(h,g){return l.push(h+":"+g),!1}),"{"+l.join(", ")+"}"},f.prototype.lt=function(l){return this.root.lt(l)},f.prototype._t=function(){return new gr(this.root,null,this.i,!1)},f.prototype.ft=function(l){return new gr(this.root,l,this.i,!1)},f.prototype.dt=function(){return new gr(this.root,null,this.i,!0)},f.prototype.wt=function(l){return new gr(this.root,l,this.i,!0)},f}(),gr=function(){function f(l,h,g,y){this.Tt=y,this.Et=[];for(var E=1;!l.m();)if(E=h?g(l.key,h):1,y&&(E*=-1),E<0)l=this.Tt?l.left:l.right;else{if(0===E){this.Et.push(l);break}this.Et.push(l),l=this.Tt?l.right:l.left}}return f.prototype.It=function(){var l=this.Et.pop(),h={key:l.key,value:l.value};if(this.Tt)for(l=l.left;!l.m();)this.Et.push(l),l=l.right;else for(l=l.right;!l.m();)this.Et.push(l),l=l.left;return h},f.prototype.At=function(){return this.Et.length>0},f.prototype.Rt=function(){if(0===this.Et.length)return null;var l=this.Et[this.Et.length-1];return{key:l.key,value:l.value}},f}(),mi=function(){function f(l,h,g,y,E){this.key=l,this.value=h,this.color=g??f.RED,this.left=y??f.EMPTY,this.right=E??f.EMPTY,this.size=this.left.size+1+this.right.size}return f.prototype.copy=function(l,h,g,y,E){return new f(l??this.key,h??this.value,g??this.color,y??this.left,E??this.right)},f.prototype.m=function(){return!1},f.prototype.ht=function(l){return this.left.ht(l)||l(this.key,this.value)||this.right.ht(l)},f.prototype.lt=function(l){return this.right.lt(l)||l(this.key,this.value)||this.left.lt(l)},f.prototype.min=function(){return this.left.m()?this:this.left.min()},f.prototype.ct=function(){return this.min().key},f.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},f.prototype.ot=function(l,h,g){var y=this,E=g(l,y.key);return(y=E<0?y.copy(null,null,null,y.left.ot(l,h,g),null):0===E?y.copy(null,h,null,null,null):y.copy(null,null,null,null,y.right.ot(l,h,g))).gt()},f.prototype.Pt=function(){if(this.left.m())return f.EMPTY;var l=this;return l.left.yt()||l.left.left.yt()||(l=l.Vt()),(l=l.copy(null,null,null,l.left.Pt(),null)).gt()},f.prototype.remove=function(l,h){var g,y=this;if(h(l,y.key)<0)y.left.m()||y.left.yt()||y.left.left.yt()||(y=y.Vt()),y=y.copy(null,null,null,y.left.remove(l,h),null);else{if(y.left.yt()&&(y=y.bt()),y.right.m()||y.right.yt()||y.right.left.yt()||(y=y.vt()),0===h(l,y.key)){if(y.right.m())return f.EMPTY;g=y.right.min(),y=y.copy(g.key,g.value,null,null,y.right.Pt())}y=y.copy(null,null,null,null,y.right.remove(l,h))}return y.gt()},f.prototype.yt=function(){return this.color},f.prototype.gt=function(){var l=this;return l.right.yt()&&!l.left.yt()&&(l=l.St()),l.left.yt()&&l.left.left.yt()&&(l=l.bt()),l.left.yt()&&l.right.yt()&&(l=l.Dt()),l},f.prototype.Vt=function(){var l=this.Dt();return l.right.left.yt()&&(l=(l=(l=l.copy(null,null,null,null,l.right.bt())).St()).Dt()),l},f.prototype.vt=function(){var l=this.Dt();return l.left.left.yt()&&(l=(l=l.bt()).Dt()),l},f.prototype.St=function(){var l=this.copy(null,null,f.RED,null,this.right.left);return this.right.copy(null,null,this.color,l,null)},f.prototype.bt=function(){var l=this.copy(null,null,f.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,l)},f.prototype.Dt=function(){var l=this.left.copy(null,null,!this.left.color,null,null),h=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,l,h)},f.prototype.Ct=function(){var l=this.Nt();return Math.pow(2,l)<=this.size+1},f.prototype.Nt=function(){if(this.yt()&&this.left.yt()||this.right.yt())throw Re();var l=this.left.Nt();if(l!==this.right.Nt())throw Re();return l+(this.yt()?0:1)},f}();mi.EMPTY=null,mi.RED=!0,mi.at=!1,mi.EMPTY=new(function(){function f(){this.size=0}return Object.defineProperty(f.prototype,"key",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"value",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"color",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"left",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"right",{get:function(){throw Re()},enumerable:!1,configurable:!0}),f.prototype.copy=function(l,h,g,y,E){return this},f.prototype.ot=function(l,h,g){return new mi(l,h)},f.prototype.remove=function(l,h){return this},f.prototype.m=function(){return!0},f.prototype.ht=function(l){return!1},f.prototype.lt=function(l){return!1},f.prototype.ct=function(){return null},f.prototype.ut=function(){return null},f.prototype.yt=function(){return!1},f.prototype.Ct=function(){return!0},f.prototype.Nt=function(){return 0},f}());var Ei=function(){function f(l){this.i=l,this.data=new $n(this.i)}return f.prototype.has=function(l){return null!==this.data.get(l)},f.prototype.first=function(){return this.data.ct()},f.prototype.last=function(){return this.data.ut()},Object.defineProperty(f.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),f.prototype.indexOf=function(l){return this.data.indexOf(l)},f.prototype.forEach=function(l){this.data.ht(function(h,g){return l(h),!1})},f.prototype.Ft=function(l,h){for(var g=this.data.ft(l[0]);g.At();){var y=g.It();if(this.i(y.key,l[1])>=0)return;h(y.key)}},f.prototype.xt=function(l,h){var g;for(g=void 0!==h?this.data.ft(h):this.data._t();g.At();)if(!l(g.It().key))return},f.prototype.$t=function(l){var h=this.data.ft(l);return h.At()?h.It().key:null},f.prototype._t=function(){return new _r(this.data._t())},f.prototype.ft=function(l){return new _r(this.data.ft(l))},f.prototype.add=function(l){return this.copy(this.data.remove(l).ot(l,!0))},f.prototype.delete=function(l){return this.has(l)?this.copy(this.data.remove(l)):this},f.prototype.m=function(){return this.data.m()},f.prototype.kt=function(l){var h=this;return h.size<l.size&&(h=l,l=this),l.forEach(function(g){h=h.add(g)}),h},f.prototype.isEqual=function(l){if(!(l instanceof f)||this.size!==l.size)return!1;for(var h=this.data._t(),g=l.data._t();h.At();){var y=h.It().key,E=g.It().key;if(0!==this.i(y,E))return!1}return!0},f.prototype.A=function(){var l=[];return this.forEach(function(h){l.push(h)}),l},f.prototype.toString=function(){var l=[];return this.forEach(function(h){return l.push(h)}),"SortedSet("+l.toString()+")"},f.prototype.copy=function(l){var h=new f(this.i);return h.data=l,h},f}(),_r=function(){function f(l){this.Mt=l}return f.prototype.It=function(){return this.Mt.It().key},f.prototype.At=function(){return this.Mt.At()},f}(),go=new $n(Le.i);function fe(){return go}function le(){return fe()}var X=new $n(Le.i);function te(){return X}var K=new $n(Le.i),Pe=new Ei(Le.i);function Qe(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];for(var h=Pe,g=0,y=f;g<y.length;g++)h=h.add(y[g]);return h}var Ot=new Ei(Ut);function yn(){return Ot}var Vt=function(){function f(l){this.i=l?function(h,g){return l(h,g)||Le.i(h.key,g.key)}:function(h,g){return Le.i(h.key,g.key)},this.Ot=te(),this.Lt=new $n(this.i)}return f.Bt=function(l){return new f(l.i)},f.prototype.has=function(l){return null!=this.Ot.get(l)},f.prototype.get=function(l){return this.Ot.get(l)},f.prototype.first=function(){return this.Lt.ct()},f.prototype.last=function(){return this.Lt.ut()},f.prototype.m=function(){return this.Lt.m()},f.prototype.indexOf=function(l){var h=this.Ot.get(l);return h?this.Lt.indexOf(h):-1},Object.defineProperty(f.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),f.prototype.forEach=function(l){this.Lt.ht(function(h,g){return l(h),!1})},f.prototype.add=function(l){var h=this.delete(l.key);return h.copy(h.Ot.ot(l.key,l),h.Lt.ot(l,null))},f.prototype.delete=function(l){var h=this.get(l);return h?this.copy(this.Ot.remove(l),this.Lt.remove(h)):this},f.prototype.isEqual=function(l){if(!(l instanceof f)||this.size!==l.size)return!1;for(var h=this.Lt._t(),g=l.Lt._t();h.At();){var y=h.It().key,E=g.It().key;if(!y.isEqual(E))return!1}return!0},f.prototype.toString=function(){var l=[];return this.forEach(function(h){l.push(h.toString())}),0===l.length?"DocumentSet ()":"DocumentSet (\n  "+l.join("  \n")+"\n)"},f.prototype.copy=function(l,h){var g=new f;return g.i=this.i,g.Ot=l,g.Lt=h,g},f}(),Xn=function(){function f(){this.qt=new $n(Le.i)}return f.prototype.track=function(l){var h=l.doc.key,g=this.qt.get(h);g?0!==l.type&&3===g.type?this.qt=this.qt.ot(h,l):3===l.type&&1!==g.type?this.qt=this.qt.ot(h,{type:g.type,doc:l.doc}):2===l.type&&2===g.type?this.qt=this.qt.ot(h,{type:2,doc:l.doc}):2===l.type&&0===g.type?this.qt=this.qt.ot(h,{type:0,doc:l.doc}):1===l.type&&0===g.type?this.qt=this.qt.remove(h):1===l.type&&2===g.type?this.qt=this.qt.ot(h,{type:1,doc:g.doc}):0===l.type&&1===g.type?this.qt=this.qt.ot(h,{type:2,doc:l.doc}):Re():this.qt=this.qt.ot(h,l)},f.prototype.Ut=function(){var l=[];return this.qt.ht(function(h,g){l.push(g)}),l},f}(),xn=function(){function f(l,h,g,y,E,T,R,V){this.query=l,this.docs=h,this.Qt=g,this.docChanges=y,this.Wt=E,this.fromCache=T,this.jt=R,this.Kt=V}return f.Gt=function(l,h,g,y){var E=[];return h.forEach(function(T){E.push({type:0,doc:T})}),new f(l,h,Vt.Bt(h),E,g,y,!0,!1)},Object.defineProperty(f.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){if(!(this.fromCache===l.fromCache&&this.jt===l.jt&&this.Wt.isEqual(l.Wt)&&ac(this.query,l.query)&&this.docs.isEqual(l.docs)&&this.Qt.isEqual(l.Qt)))return!1;var h=this.docChanges,g=l.docChanges;if(h.length!==g.length)return!1;for(var y=0;y<h.length;y++)if(h[y].type!==g[y].type||!h[y].doc.isEqual(g[y].doc))return!1;return!0},f}(),ai=function(){function f(l,h,g,y,E){this.nt=l,this.zt=h,this.Ht=g,this.Yt=y,this.Jt=E}return f.Xt=function(l,h){var g=new Map;return g.set(l,Rn.Zt(l,h)),new f(zt.min(),g,yn(),fe(),Qe())},f}(),Rn=function(){function f(l,h,g,y,E){this.resumeToken=l,this.te=h,this.ee=g,this.ne=y,this.se=E}return f.Zt=function(l,h){return new f(Vn.B,h,Qe(),Qe(),Qe())},f}(),vr=function(f,l,h,g){this.ie=f,this.removedTargetIds=l,this.key=h,this.re=g},Yo=function(f,l){this.targetId=f,this.oe=l},Je=function(f,l,h,g){void 0===h&&(h=Vn.B),void 0===g&&(g=null),this.state=f,this.targetIds=l,this.resumeToken=h,this.cause=g},ze=function(){function f(){this.ae=0,this.ce=kt(),this.ue=Vn.B,this.he=!1,this.le=!0}return Object.defineProperty(f.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),f.prototype.de=function(l){l.O()>0&&(this.le=!0,this.ue=l)},f.prototype.we=function(){var l=Qe(),h=Qe(),g=Qe();return this.ce.forEach(function(y,E){switch(E){case 0:l=l.add(y);break;case 2:h=h.add(y);break;case 1:g=g.add(y);break;default:Re()}}),new Rn(this.ue,this.he,l,h,g)},f.prototype.me=function(){this.le=!1,this.ce=kt()},f.prototype.Te=function(l,h){this.le=!0,this.ce=this.ce.ot(l,h)},f.prototype.Ee=function(l){this.le=!0,this.ce=this.ce.remove(l)},f.prototype.Ie=function(){this.ae+=1},f.prototype.Ae=function(){this.ae-=1},f.prototype.Re=function(){this.le=!0,this.he=!0},f}(),_t=function(){function f(l){this.ge=l,this.Pe=new Map,this.ye=fe(),this.Ve=Wt(),this.pe=new Ei(Ut)}return f.prototype.be=function(l){for(var h=0,g=l.ie;h<g.length;h++){var y=g[h];l.re instanceof oi?this.ve(y,l.re):l.re instanceof kr&&this.Se(y,l.key,l.re)}for(var E=0,T=l.removedTargetIds;E<T.length;E++)this.Se(T[E],l.key,l.re)},f.prototype.De=function(l){var h=this;this.Ce(l,function(g){var y=h.Ne(g);switch(l.state){case 0:h.Fe(g)&&y.de(l.resumeToken);break;case 1:y.Ae(),y._e||y.me(),y.de(l.resumeToken);break;case 2:y.Ae(),y._e||h.removeTarget(g);break;case 3:h.Fe(g)&&(y.Re(),y.de(l.resumeToken));break;case 4:h.Fe(g)&&(h.xe(g),y.de(l.resumeToken));break;default:Re()}})},f.prototype.Ce=function(l,h){var g=this;l.targetIds.length>0?l.targetIds.forEach(h):this.Pe.forEach(function(y,E){g.Fe(E)&&h(E)})},f.prototype.$e=function(l){var h=l.targetId,g=l.oe.count,y=this.ke(h);if(y){var E=y.target;if(jt(E))if(0===g){var T=new Le(E.path);this.Se(h,T,new kr(T,zt.min()))}else at(1===g);else this.Me(h)!==g&&(this.xe(h),this.pe=this.pe.add(h))}},f.prototype.Oe=function(l){var h=this,g=new Map;this.Pe.forEach(function(T,R){var V=h.ke(R);if(V){if(T.te&&jt(V.target)){var W=new Le(V.target.path);null!==h.ye.get(W)||h.Le(R,W)||h.Se(R,W,new kr(W,l))}T.fe&&(g.set(R,T.we()),T.me())}});var y=Qe();this.Ve.forEach(function(T,R){var V=!0;R.xt(function(W){var re=h.ke(W);return!re||2===re.et||(V=!1,!1)}),V&&(y=y.add(T))});var E=new ai(l,g,this.pe,this.ye,y);return this.ye=fe(),this.Ve=Wt(),this.pe=new Ei(Ut),E},f.prototype.ve=function(l,h){if(this.Fe(l)){var g=this.Le(l,h.key)?2:0;this.Ne(l).Te(h.key,g),this.ye=this.ye.ot(h.key,h),this.Ve=this.Ve.ot(h.key,this.Be(h.key).add(l))}},f.prototype.Se=function(l,h,g){if(this.Fe(l)){var y=this.Ne(l);this.Le(l,h)?y.Te(h,1):y.Ee(h),this.Ve=this.Ve.ot(h,this.Be(h).delete(l)),g&&(this.ye=this.ye.ot(h,g))}},f.prototype.removeTarget=function(l){this.Pe.delete(l)},f.prototype.Me=function(l){var h=this.Ne(l).we();return this.ge.qe(l).size+h.ee.size-h.se.size},f.prototype.Ie=function(l){this.Ne(l).Ie()},f.prototype.Ne=function(l){var h=this.Pe.get(l);return h||(h=new ze,this.Pe.set(l,h)),h},f.prototype.Be=function(l){var h=this.Ve.get(l);return h||(h=new Ei(Ut),this.Ve=this.Ve.ot(l,h)),h},f.prototype.Fe=function(l){var h=null!==this.ke(l);return h||me("WatchChangeAggregator","Detected inactive target",l),h},f.prototype.ke=function(l){var h=this.Pe.get(l);return h&&h._e?null:this.ge.Ue(l)},f.prototype.xe=function(l){var h=this;this.Pe.set(l,new ze),this.ge.qe(l).forEach(function(g){h.Se(l,g,null)})},f.prototype.Le=function(l,h){return this.ge.qe(l).has(h)},f}();function Wt(){return new $n(Le.i)}function kt(){return new $n(Le.i)}function Dn(f){var l,h;return"server_timestamp"===(null===(h=((null===(l=f?.mapValue)||void 0===l?void 0:l.fields)||{}).__type__)||void 0===h?void 0:h.stringValue)}function ri(f){var l=f.mapValue.fields.__previous_value__;return Dn(l)?ri(l):l}function Gi(f){var l=Ko(f.mapValue.fields.__local_write_time__.timestampValue);return new Qt(l.seconds,l.nanos)}var Yi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(f){return"nullValue"in f?0:"booleanValue"in f?1:"integerValue"in f||"doubleValue"in f?2:"timestampValue"in f?3:"stringValue"in f?5:"bytesValue"in f?6:"referenceValue"in f?7:"geoPointValue"in f?8:"arrayValue"in f?9:"mapValue"in f?Dn(f)?4:10:Re()}function Ur(f,l){var y,h=er(f);if(h!==er(l))return!1;switch(h){case 0:return!0;case 1:return f.booleanValue===l.booleanValue;case 4:return Gi(f).isEqual(Gi(l));case 3:return function(g,y){if("string"==typeof g.timestampValue&&"string"==typeof y.timestampValue&&g.timestampValue.length===y.timestampValue.length)return g.timestampValue===y.timestampValue;var E=Ko(g.timestampValue),T=Ko(y.timestampValue);return E.seconds===T.seconds&&E.nanos===T.nanos}(f,l);case 5:return f.stringValue===l.stringValue;case 6:return y=l,Ai(f.bytesValue).isEqual(Ai(y.bytesValue));case 7:return f.referenceValue===l.referenceValue;case 8:return function(g,y){return Ln(g.geoPointValue.latitude)===Ln(y.geoPointValue.latitude)&&Ln(g.geoPointValue.longitude)===Ln(y.geoPointValue.longitude)}(f,l);case 2:return function(g,y){if("integerValue"in g&&"integerValue"in y)return Ln(g.integerValue)===Ln(y.integerValue);if("doubleValue"in g&&"doubleValue"in y){var E=Ln(g.doubleValue),T=Ln(y.doubleValue);return E===T?we(E)===we(T):isNaN(E)&&isNaN(T)}return!1}(f,l);case 9:return cn(f.arrayValue.values||[],l.arrayValue.values||[],Ur);case 10:return function(g,y){var E=g.mapValue.fields||{},T=y.mapValue.fields||{};if(xe(E)!==xe(T))return!1;for(var R in E)if(E.hasOwnProperty(R)&&(void 0===T[R]||!Ur(E[R],T[R])))return!1;return!0}(f,l);default:return Re()}}function _o(f,l){return void 0!==(f.values||[]).find(function(h){return Ur(h,l)})}function Oa(f,l){var y,E,T,R,h=er(f),g=er(l);if(h!==g)return Ut(h,g);switch(h){case 0:return 0;case 1:return Ut(f.booleanValue,l.booleanValue);case 2:return E=l,(T=Ln((y=f).integerValue||y.doubleValue))<(R=Ln(E.integerValue||E.doubleValue))?-1:T>R?1:T===R?0:isNaN(T)?isNaN(R)?0:-1:1;case 3:return vo(f.timestampValue,l.timestampValue);case 4:return vo(Gi(f),Gi(l));case 5:return Ut(f.stringValue,l.stringValue);case 6:return function(y,E){var T=Ai(y),R=Ai(E);return T.L(R)}(f.bytesValue,l.bytesValue);case 7:return function(y,E){for(var T=y.split("/"),R=E.split("/"),V=0;V<T.length&&V<R.length;V++){var W=Ut(T[V],R[V]);if(0!==W)return W}return Ut(T.length,R.length)}(f.referenceValue,l.referenceValue);case 8:return function(y,E){var T=Ut(Ln(y.latitude),Ln(E.latitude));return 0!==T?T:Ut(Ln(y.longitude),Ln(E.longitude))}(f.geoPointValue,l.geoPointValue);case 9:return function(y,E){for(var T=y.values||[],R=E.values||[],V=0;V<T.length&&V<R.length;++V){var W=Oa(T[V],R[V]);if(W)return W}return Ut(T.length,R.length)}(f.arrayValue,l.arrayValue);case 10:return function(y,E){var T=y.fields||{},R=Object.keys(T),V=E.fields||{},W=Object.keys(V);R.sort(),W.sort();for(var re=0;re<R.length&&re<W.length;++re){var ge=Ut(R[re],W[re]);if(0!==ge)return ge;var _e=Oa(T[R[re]],V[W[re]]);if(0!==_e)return _e}return Ut(R.length,W.length)}(f.mapValue,l.mapValue);default:throw Re()}}function vo(f,l){if("string"==typeof f&&"string"==typeof l&&f.length===l.length)return Ut(f,l);var h=Ko(f),g=Ko(l),y=Ut(h.seconds,g.seconds);return 0!==y?y:Ut(h.nanos,g.nanos)}function us(f){return bs(f)}function bs(f){return"nullValue"in f?"null":"booleanValue"in f?""+f.booleanValue:"integerValue"in f?""+f.integerValue:"doubleValue"in f?""+f.doubleValue:"timestampValue"in f?"time("+(y=Ko(f.timestampValue)).seconds+","+y.nanos+")":"stringValue"in f?f.stringValue:"bytesValue"in f?Ai(f.bytesValue).toBase64():"referenceValue"in f?Le.C(f.referenceValue).toString():"geoPointValue"in f?"geo("+(l=f.geoPointValue).latitude+","+l.longitude+")":"arrayValue"in f?function(g){for(var y="[",E=!0,T=0,R=g.values||[];T<R.length;T++)E?E=!1:y+=",",y+=bs(R[T]);return y+"]"}(f.arrayValue):"mapValue"in f?function(g){for(var y="{",E=!0,T=0,R=Object.keys(g.fields||{}).sort();T<R.length;T++){var V=R[T];E?E=!1:y+=",",y+=V+":"+bs(g.fields[V])}return y+"}"}(f.mapValue):Re();var y,l}function Ko(f){if(at(!!f),"string"==typeof f){var l=0,h=Yi.exec(f);if(at(!!h),h[1]){var g=h[1];g=(g+"000000000").substr(0,9),l=Number(g)}var y=new Date(f);return{seconds:Math.floor(y.getTime()/1e3),nanos:l}}return{seconds:Ln(f.seconds),nanos:Ln(f.nanos)}}function Ln(f){return"number"==typeof f?f:"string"==typeof f?Number(f):0}function Ai(f){return"string"==typeof f?Vn.fromBase64String(f):Vn.fromUint8Array(f)}function yo(f,l){return{referenceValue:"projects/"+f.projectId+"/databases/"+f.database+"/documents/"+l.path.R()}}function ci(f){return!!f&&"integerValue"in f}function xc(f){return!!f&&"arrayValue"in f}function tc(f){return!!f&&"nullValue"in f}function $r(f){return!!f&&"doubleValue"in f&&isNaN(Number(f.doubleValue))}function Us(f){return!!f&&"mapValue"in f}var nc={asc:"ASCENDING",desc:"DESCENDING"},Xu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oa=function(f,l){this.U=f,this.Qe=l};function Ec(f){return{integerValue:""+f}}function Mc(f,l){if(f.Qe){if(isNaN(l))return{doubleValue:"NaN"};if(l===1/0)return{doubleValue:"Infinity"};if(l===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:we(l)?"-0":l}}function Qo(f,l){return Ee(l)?Ec(l):Mc(f,l)}function sa(f,l){return f.Qe?new Date(1e3*l.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+l.nanoseconds).slice(-9)+"Z":{seconds:""+l.seconds,nanos:l.nanoseconds}}function sl(f,l){return f.Qe?l.toBase64():l.toUint8Array()}function Fo(f,l){return sa(f,l.Z())}function bo(f){return at(!!f),zt.J((h=Ko(f),new Qt(h.seconds,h.nanos)));var h}function yr(f,l){return(h=f,new he(["projects",h.projectId,"databases",h.database])).child("documents").child(l).R();var h}function ic(f){var l=he.g(f);return at(qn(l)),l}function aa(f,l){return yr(f.U,l.path)}function Zi(f,l){var h=ic(l);return at(h.get(1)===f.U.projectId),at(!h.get(3)&&!f.U.database||h.get(3)===f.U.database),new Le(rc(h))}function Ic(f,l){return yr(f.U,l)}function ca(f){var l=ic(f);return 4===l.length?he.P():rc(l)}function ws(f){return new he(["projects",f.U.projectId,"databases",f.U.database]).R()}function rc(f){return at(f.length>4&&"documents"===f.get(4)),f.u(5)}function jn(f,l,h){return{name:aa(f,l),fields:h.proto.mapValue.fields}}function Ui(f,l){var h,y;if(l instanceof rr)h={update:jn(f,l.key,l.value)};else if(l instanceof Ir)h={delete:aa(f,l.key)};else if(l instanceof Zr)h={update:jn(f,l.key,l.data),updateMask:Bs(l.We)};else if(l instanceof Hi)h={transform:{document:aa(f,l.key),fieldTransforms:l.fieldTransforms.map(function(g){return function(y,E){var T=E.transform;if(T instanceof on)return{fieldPath:E.field.R(),setToServerValue:"REQUEST_TIME"};if(T instanceof qr)return{fieldPath:E.field.R(),appendMissingElements:{values:T.elements}};if(T instanceof Cr)return{fieldPath:E.field.R(),removeAllFromArray:{values:T.elements}};if(T instanceof Cs)return{fieldPath:E.field.R(),increment:T.je};throw Re()}(0,g)})}};else{if(!(l instanceof cl))return Re();h={verify:aa(f,l.key)}}return l.Ge.Ke||(h.currentDocument=void 0!==(y=l.Ge).updateTime?{updateTime:Fo(f,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:Re()),h}function br(f,l){var re,h=l.currentDocument?void 0!==(re=l.currentDocument).updateTime?Vi.updateTime(bo(re.updateTime)):void 0!==re.exists?Vi.exists(re.exists):Vi.ze():Vi.ze();if(l.update){var g=Zi(f,l.update.name),y=new Ar({mapValue:{fields:l.update.fields}});if(l.updateMask){var E=function(re){return new Mr((re.fieldPaths||[]).map(function(_e){return Ge.S(_e)}))}(l.updateMask);return new Zr(g,y,E,h)}return new rr(g,y,h)}if(l.delete){var T=Zi(f,l.delete);return new Ir(T,h)}if(l.transform){var R=Zi(f,l.transform.document),V=l.transform.fieldTransforms.map(function(re){return function(ge,_e){var Ae=null;"setToServerValue"in _e?(at("REQUEST_TIME"===_e.setToServerValue),Ae=new on):"appendMissingElements"in _e?Ae=new qr(_e.appendMissingElements.values||[]):"removeAllFromArray"in _e?Ae=new Cr(_e.removeAllFromArray.values||[]):"increment"in _e?Ae=new Cs(ge,_e.increment):Re();var an=Ge.S(_e.fieldPath);return new ua(an,Ae)}(f,re)});return at(!0===h.exists),new Hi(R,V)}if(l.verify){var W=Zi(f,l.verify);return new cl(W,h)}return Re()}function Sa(f,l){return{documents:[Ic(f,l.path)]}}function wr(f,l){var h={structuredQuery:{}},g=l.path;null!==l.collectionGroup?(h.parent=Ic(f,g),h.structuredQuery.from=[{collectionId:l.collectionGroup,allDescendants:!0}]):(h.parent=Ic(f,g.h()),h.structuredQuery.from=[{collectionId:g._()}]);var y=function(R){if(0!==R.length){var V=R.map(function(W){return function(re){if("=="===re.op){if($r(re.value))return{unaryFilter:{field:Et(re.field),op:"IS_NAN"}};if(tc(re.value))return{unaryFilter:{field:Et(re.field),op:"IS_NULL"}}}else if("!="===re.op){if($r(re.value))return{unaryFilter:{field:Et(re.field),op:"IS_NOT_NAN"}};if(tc(re.value))return{unaryFilter:{field:Et(re.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Et(re.field),op:ki(re.op),value:re.value}}}(W)});return 1===V.length?V[0]:{compositeFilter:{op:"AND",filters:V}}}}(l.filters);y&&(h.structuredQuery.where=y);var E=function(R){if(0!==R.length)return R.map(function(V){return{field:Et((W=V).field),direction:Sc(W.dir)};var W})}(l.orderBy);E&&(h.structuredQuery.orderBy=E);var V,T=(V=l.limit,f.Qe||Ie(V)?V:{value:V});return null!==T&&(h.structuredQuery.limit=T),l.startAt&&(h.structuredQuery.startAt=Lo(l.startAt)),l.endAt&&(h.structuredQuery.endAt=Lo(l.endAt)),h}function Tc(f){var l=ca(f.parent),h=f.structuredQuery,g=h.from?h.from.length:0,y=null;if(g>0){at(1===g);var E=h.from[0];E.allDescendants?y=E.collectionId:l=l.child(E.collectionId)}var T=[];h.where&&(T=Oc(h.where));var R=[];h.orderBy&&(R=h.orderBy.map(function(ge){return new ma(En((_e=ge).field),function(Ae){switch(Ae){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_e.direction));var _e}));var ge,_e,V=null;h.limit&&(V=Ie(_e="object"==typeof(ge=h.limit)?ge.value:ge)?null:_e);var W=null;h.startAt&&(W=Vs(h.startAt));var re=null;return h.endAt&&(re=Vs(h.endAt)),Bo(Dc(l,y,R,T,V,"F",W,re))}function Oc(f){return f?void 0!==f.unaryFilter?[so(f)]:void 0!==f.fieldFilter?[Mi(f)]:void 0!==f.compositeFilter?f.compositeFilter.filters.map(function(l){return Oc(l)}).reduce(function(l,h){return l.concat(h)}):Re():[]}function Lo(f){return{before:f.before,values:f.position}}function Vs(f){return new Co(f.values||[],!!f.before)}function Sc(f){return nc[f]}function ki(f){return Xu[f]}function Et(f){return{fieldPath:f.R()}}function En(f){return Ge.S(f.fieldPath)}function Mi(f){return Rr.create(En(f.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(f.fieldFilter.op),f.fieldFilter.value)}function so(f){switch(f.unaryFilter.op){case"IS_NAN":var l=En(f.unaryFilter.field);return Rr.create(l,"==",{doubleValue:NaN});case"IS_NULL":var h=En(f.unaryFilter.field);return Rr.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var g=En(f.unaryFilter.field);return Rr.create(g,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var y=En(f.unaryFilter.field);return Rr.create(y,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}function Bs(f){var l=[];return f.fields.forEach(function(h){return l.push(h.R())}),{fieldPaths:l}}function qn(f){return f.length>=4&&"projects"===f.get(0)&&"databases"===f.get(2)}var Jo=function(){this.He=void 0};function Ii(f,l,h){return f instanceof on?(E={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(g=h).seconds,nanos:g.nanoseconds}}}},(y=l)&&(E.fields.__previous_value__=y),{mapValue:E}):f instanceof qr?Ll(f,l):f instanceof Cr?xr(f,l):function(g,y){var E=Xo(g,y),T=Uo(E)+Uo(g.je);return ci(E)&&ci(g.je)?Ec(T):Mc(g.serializer,T)}(f,l);var g,y,E}function la(f,l,h){return f instanceof qr?Ll(f,l):f instanceof Cr?xr(f,l):h}function Xo(f,l){return f instanceof Cs?ci(h=l)||(g=h)&&"doubleValue"in g?l:{integerValue:0}:null;var g,h}var on=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l}(Jo),qr=function(f){function l(h){var g=this;return(g=f.call(this)||this).elements=h,g}return U.__extends(l,f),l}(Jo);function Ll(f,l){for(var h=Er(l),g=function(T){h.some(function(R){return Ur(R,T)})||h.push(T)},y=0,E=f.elements;y<E.length;y++)g(E[y]);return{arrayValue:{values:h}}}var Cr=function(f){function l(h){var g=this;return(g=f.call(this)||this).elements=h,g}return U.__extends(l,f),l}(Jo);function xr(f,l){for(var h=Er(l),g=function(T){h=h.filter(function(R){return!Ur(R,T)})},y=0,E=f.elements;y<E.length;y++)g(E[y]);return{arrayValue:{values:h}}}var Cs=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).serializer=h,y.je=g,y}return U.__extends(l,f),l}(Jo);function Uo(f){return Ln(f.integerValue||f.doubleValue)}function Er(f){return xc(f)&&f.arrayValue.values?f.arrayValue.values.slice():[]}var Mr=function(){function f(l){this.fields=l,l.sort(Ge.i)}return f.prototype.Ye=function(l){for(var h=0,g=this.fields;h<g.length;h++)if(g[h].T(l))return!0;return!1},f.prototype.isEqual=function(l){return cn(this.fields,l.fields,function(h,g){return h.isEqual(g)})},f}(),ua=function(f,l){this.field=f,this.transform=l},Pa=function(f,l){this.version=f,this.transformResults=l},Vi=function(){function f(l,h){this.updateTime=l,this.exists=h}return f.ze=function(){return new f},f.exists=function(l){return new f(void 0,l)},f.updateTime=function(l){return new f(l)},Object.defineProperty(f.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){return this.exists===l.exists&&(this.updateTime?!!l.updateTime&&this.updateTime.isEqual(l.updateTime):!l.updateTime)},f}();function Vo(f,l){return void 0!==f.updateTime?l instanceof oi&&l.version.isEqual(f.updateTime):void 0===f.exists||f.exists===l instanceof oi}var Gr=function(){};function ei(f,l,h){return f instanceof rr?new oi((g=f).key,h.version,g.value,{hasCommittedMutations:!0}):f instanceof Zr?function(g,y,E){if(!Vo(g.Ge,y))return new Ul(g.key,E.version);var T=da(g,y);return new oi(g.key,E.version,T,{hasCommittedMutations:!0})}(f,l,h):f instanceof Hi?function(g,y,E){if(at(null!=E.transformResults),!Vo(g.Ge,y))return new Ul(g.key,E.version);var T=al(0,y),R=function(re,ge,_e){var Ae=[];at(re.length===_e.length);for(var et=0;et<_e.length;et++){var ht=re[et],an=ht.transform,Jt=null;ge instanceof oi&&(Jt=ge.field(ht.field)),Ae.push(la(an,Jt,_e[et]))}return Ae}(g.fieldTransforms,y,E.transformResults),V=E.version,W=Wr(g,T.data(),R);return new oi(g.key,V,W,{hasCommittedMutations:!0})}(f,l,h):function(g,y,E){return new kr(g.key,E.version,{hasCommittedMutations:!0})}(f,0,h);var g}function Pc(f,l,h,g){return f instanceof rr?function(y,E){if(!Vo(y.Ge,E))return E;var T=Dr(E);return new oi(y.key,T,y.value,{Je:!0})}(f,l):f instanceof Zr?function(y,E){if(!Vo(y.Ge,E))return E;var T=Dr(E),R=da(y,E);return new oi(y.key,T,R,{Je:!0})}(f,l):f instanceof Hi?function(y,E,T,R){if(!Vo(y.Ge,E))return E;var V=al(0,E),W=function(ge,_e,Ae,et){for(var ht=[],an=0,Jt=ge;an<Jt.length;an++){var An=Jt[an],Jn=An.transform,_i=null;Ae instanceof oi&&(_i=Ae.field(An.field)),null===_i&&et instanceof oi&&(_i=et.field(An.field)),ht.push(Ii(Jn,_i,_e))}return ht}(y.fieldTransforms,T,E,R),re=Wr(y,V.data(),W);return new oi(y.key,V.version,re,{Je:!0})}(f,l,g,h):Vo((y=f).Ge,E=l)?new kr(y.key,zt.min()):E;var y,E}function gu(f,l){return f instanceof Hi?function(h,g){for(var y=null,E=0,T=h.fieldTransforms;E<T.length;E++){var R=T[E],V=g instanceof oi?g.field(R.field):void 0,W=Xo(R.transform,V||null);null!=W&&(y=null==y?(new Yr).set(R.field,W):y.set(R.field,W))}return y?y.Xe():null}(f,l):null}function Da(f,l){return f.type===l.type&&!!f.key.isEqual(l.key)&&!!f.Ge.isEqual(l.Ge)&&(0===f.type?f.value.isEqual(l.value):1===f.type?f.data.isEqual(l.data)&&f.We.isEqual(l.We):2!==f.type||cn(f.fieldTransforms,f.fieldTransforms,function(h,g){return(y=h).field.isEqual((E=g).field)&&(R=E.transform,(T=y.transform)instanceof qr&&R instanceof qr||T instanceof Cr&&R instanceof Cr?cn(T.elements,R.elements,Ur):T instanceof Cs&&R instanceof Cs?Ur(T.je,R.je):T instanceof on&&R instanceof on);var y,E,T,R}))}function Dr(f){return f instanceof oi?f.version:zt.min()}var rr=function(f){function l(h,g,y){var E=this;return(E=f.call(this)||this).key=h,E.value=g,E.Ge=y,E.type=0,E}return U.__extends(l,f),l}(Gr),Zr=function(f){function l(h,g,y,E){var T=this;return(T=f.call(this)||this).key=h,T.data=g,T.We=y,T.Ge=E,T.type=1,T}return U.__extends(l,f),l}(Gr);function da(f,l){return h=f,g=l instanceof oi?l.data():Ar.empty(),y=new Yr(g),h.We.fields.forEach(function(E){if(!E.m()){var T=h.data.field(E);null!==T?y.set(E,T):y.delete(E)}}),y.Xe();var h,g,y}var Hi=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).key=h,y.fieldTransforms=g,y.type=2,y.Ge=Vi.exists(!0),y}return U.__extends(l,f),l}(Gr);function al(f,l){return l}function Wr(f,l,h){for(var g=new Yr(l),y=0;y<f.fieldTransforms.length;y++)g.set(f.fieldTransforms[y].field,h[y]);return g.Xe()}var Ir=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).key=h,y.Ge=g,y.type=3,y}return U.__extends(l,f),l}(Gr),cl=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).key=h,y.Ge=g,y.type=4,y}return U.__extends(l,f),l}(Gr),Ar=function(){function f(l){this.proto=l}return f.empty=function(){return new f({mapValue:{}})},f.prototype.field=function(l){if(l.m())return this.proto;for(var h=this.proto,g=0;g<l.length-1;++g)if(!h.mapValue.fields||!Us(h=h.mapValue.fields[l.get(g)]))return null;return(h=(h.mapValue.fields||{})[l._()])||null},f.prototype.isEqual=function(l){return Ur(this.proto,l.proto)},f}(),Yr=function(){function f(l){void 0===l&&(l=Ar.empty()),this.Ze=l,this.tn=new Map}return f.prototype.set=function(l,h){return this.en(l,h),this},f.prototype.delete=function(l){return this.en(l,null),this},f.prototype.en=function(l,h){for(var g=this.tn,y=0;y<l.length-1;++y){var E=l.get(y),T=g.get(E);T instanceof Map?g=T:T&&10===er(T)?(T=new Map(Object.entries(T.mapValue.fields||{})),g.set(E,T),g=T):(g.set(E,T=new Map),g=T)}g.set(l._(),h)},f.prototype.Xe=function(){var l=this.nn(Ge.P(),this.tn);return null!=l?new Ar(l):this.Ze},f.prototype.nn=function(l,h){var g=this,y=!1,E=this.Ze.field(l),T=Us(E)?Object.assign({},E.mapValue.fields):{};return h.forEach(function(R,V){if(R instanceof Map){var W=g.nn(l.child(V),R);null!=W&&(T[V]=W,y=!0)}else null!==R?(T[V]=R,y=!0):T.hasOwnProperty(V)&&(delete T[V],y=!0)}),y?{mapValue:{fields:T}}:null},f}();function hi(f){var l=[];return nt(f.fields||{},function(h,g){var y=new Ge([h]);if(Us(g)){var E=hi(g.mapValue).fields;if(0===E.length)l.push(y);else for(var T=0,R=E;T<R.length;T++)l.push(y.child(R[T]))}else l.push(y)}),new Mr(l)}var ha=function(f,l){this.key=f,this.version=l},oi=function(f){function l(h,g,y,E){var T=this;return(T=f.call(this,h,g)||this).sn=y,T.Je=!!E.Je,T.hasCommittedMutations=!!E.hasCommittedMutations,T}return U.__extends(l,f),l.prototype.field=function(h){return this.sn.field(h)},l.prototype.data=function(){return this.sn},l.prototype.rn=function(){return this.sn.proto},l.prototype.isEqual=function(h){return h instanceof l&&this.key.isEqual(h.key)&&this.version.isEqual(h.version)&&this.Je===h.Je&&this.hasCommittedMutations===h.hasCommittedMutations&&this.sn.isEqual(h.sn)},l.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(l.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),l}(ha),kr=function(f){function l(h,g,y){var E=this;return(E=f.call(this,h,g)||this).hasCommittedMutations=!(!y||!y.hasCommittedMutations),E}return U.__extends(l,f),l.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(l.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(h){return h instanceof l&&h.hasCommittedMutations===this.hasCommittedMutations&&h.version.isEqual(this.version)&&h.key.isEqual(this.key)},l}(ha),Ul=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(l.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(h){return h instanceof l&&h.version.isEqual(this.version)&&h.key.isEqual(this.key)},l}(ha),xs=function(f,l,h,g,y,E,T,R){void 0===l&&(l=null),void 0===h&&(h=[]),void 0===g&&(g=[]),void 0===y&&(y=null),void 0===E&&(E="F"),void 0===T&&(T=null),void 0===R&&(R=null),this.path=f,this.collectionGroup=l,this.on=h,this.filters=g,this.limit=y,this.an=E,this.startAt=T,this.endAt=R,this.cn=null,this.un=null};function Dc(f,l,h,g,y,E,T,R){return new xs(f,l,h,g,y,E,T,R)}function Aa(f){return new xs(f)}function Ac(f){return!Ie(f.limit)&&"F"===f.an}function oc(f){return!Ie(f.limit)&&"L"===f.an}function Vl(f){return f.on.length>0?f.on[0].field:null}function gi(f){for(var l=0,h=f.filters;l<h.length;l++){var g=h[l];if(g.hn())return g.field}return null}function _u(f){return null!==f.collectionGroup}function kc(f){var l=We(f);if(null===l.cn){l.cn=[];var h=gi(l),g=Vl(l);if(null!==h&&null===g)h.p()||l.cn.push(new ma(h)),l.cn.push(new ma(Ge.v(),"asc"));else{for(var y=!1,E=0,T=l.on;E<T.length;E++){var R=T[E];l.cn.push(R),R.field.p()&&(y=!0)}if(!y){var V=l.on.length>0?l.on[l.on.length-1].dir:"asc";l.cn.push(new ma(Ge.v(),V))}}}return l.cn}function Bo(f){var l=We(f);if(!l.un)if("F"===l.an)l.un=Fe(l.path,l.collectionGroup,kc(l),l.filters,l.limit,l.startAt,l.endAt);else{for(var h=[],g=0,y=kc(l);g<y.length;g++){var E=y[g];h.push(new ma(E.field,"desc"===E.dir?"asc":"desc"))}var R=l.endAt?new Co(l.endAt.position,!l.endAt.before):null,V=l.startAt?new Co(l.startAt.position,!l.startAt.before):null;l.un=Fe(l.path,l.collectionGroup,h,l.filters,l.limit,R,V)}return l.un}function eh(f,l,h){return new xs(f.path,f.collectionGroup,f.on.slice(),f.filters.slice(),l,h,f.startAt,f.endAt)}function sc(f,l){return new xs(f.path,f.collectionGroup,f.on.slice(),f.filters.slice(),f.limit,f.an,l,f.endAt)}function wo(f,l){return new xs(f.path,f.collectionGroup,f.on.slice(),f.filters.slice(),f.limit,f.an,f.startAt,l)}function ac(f,l){return mn(Bo(f),Bo(l))&&f.an===l.an}function fa(f){return xt(Bo(f))+"|lt:"+f.an}function Es(f){return"Query(target="+(h=(l=Bo(f)).path.R(),null!==l.collectionGroup&&(h+=" collectionGroup="+l.collectionGroup),l.filters.length>0&&(h+=", filters: ["+l.filters.map(function(g){return(y=g).field.R()+" "+y.op+" "+us(y.value);var y}).join(", ")+"]"),Ie(l.limit)||(h+=", limit: "+l.limit),l.orderBy.length>0&&(h+=", orderBy: ["+l.orderBy.map(function(g){return(y=g).field.R()+" ("+y.dir+")";var y}).join(", ")+"]"),l.startAt&&(h+=", startAt: "+cc(l.startAt)),l.endAt&&(h+=", endAt: "+cc(l.endAt)),"Target("+h+"); limitType=")+f.an+")";var l,h}function Bl(f,l){return y=(g=l).key.path,(null!==(h=f).collectionGroup?g.key.N(h.collectionGroup)&&h.path.T(y):Le.F(h.path)?h.path.isEqual(y):h.path.I(y))&&function(h,g){for(var y=0,E=h.on;y<E.length;y++){var T=E[y];if(!T.field.p()&&null===g.field(T.field))return!1}return!0}(f,l)&&function(h,g){for(var y=0,E=h.filters;y<E.length;y++)if(!E[y].matches(g))return!1;return!0}(f,l)&&function(h,g){return!(h.startAt&&!jl(h.startAt,kc(h),g)||h.endAt&&jl(h.endAt,kc(h),g))}(f,l);var h,g,y}function vu(f){return function(l,h){for(var g=!1,y=0,E=kc(f);y<E.length;y++){var T=E[y],R=ll(T,l,h);if(0!==R)return R;g=g||T.field.p()}return 0}}var Rr=function(f){function l(h,g,y){var E=this;return(E=f.call(this)||this).field=h,E.op=g,E.value=y,E}return U.__extends(l,f),l.create=function(h,g,y){if(h.p())return"in"===g||"not-in"===g?this.ln(h,g,y):new js(h,g,y);if(tc(y)){if("=="!==g&&"!="!==g)throw new G(z.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new l(h,g,y)}if($r(y)){if("=="!==g&&"!="!==g)throw new G(z.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new l(h,g,y)}return"array-contains"===g?new ur(h,y):"in"===g?new ka(h,y):"not-in"===g?new Kr(h,y):"array-contains-any"===g?new Nc(h,y):new l(h,g,y)},l.ln=function(h,g,y){return"in"===g?new pa(h,y):new Rc(h,y)},l.prototype.matches=function(h){var g=h.field(this.field);return"!="===this.op?null!==g&&this._n(Oa(g,this.value)):null!==g&&er(this.value)===er(g)&&this._n(Oa(g,this.value))},l.prototype._n=function(h){switch(this.op){case"<":return h<0;case"<=":return h<=0;case"==":return 0===h;case"!=":return 0!==h;case">":return h>0;case">=":return h>=0;default:return Re()}},l.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},l}(function(){}),js=function(f){function l(h,g,y){var E=this;return(E=f.call(this,h,g,y)||this).key=Le.C(y.referenceValue),E}return U.__extends(l,f),l.prototype.matches=function(h){var g=Le.i(h.key,this.key);return this._n(g)},l}(Rr),pa=function(f){function l(h,g){var y=this;return(y=f.call(this,h,"in",g)||this).keys=jo(0,g),y}return U.__extends(l,f),l.prototype.matches=function(h){return this.keys.some(function(g){return g.isEqual(h.key)})},l}(Rr),Rc=function(f){function l(h,g){var y=this;return(y=f.call(this,h,"not-in",g)||this).keys=jo(0,g),y}return U.__extends(l,f),l.prototype.matches=function(h){return!this.keys.some(function(g){return g.isEqual(h.key)})},l}(Rr);function jo(f,l){var h;return((null===(h=l.arrayValue)||void 0===h?void 0:h.values)||[]).map(function(g){return Le.C(g.referenceValue)})}var ur=function(f){function l(h,g){return f.call(this,h,"array-contains",g)||this}return U.__extends(l,f),l.prototype.matches=function(h){var g=h.field(this.field);return xc(g)&&_o(g.arrayValue,this.value)},l}(Rr),ka=function(f){function l(h,g){return f.call(this,h,"in",g)||this}return U.__extends(l,f),l.prototype.matches=function(h){var g=h.field(this.field);return null!==g&&_o(this.value.arrayValue,g)},l}(Rr),Kr=function(f){function l(h,g){return f.call(this,h,"not-in",g)||this}return U.__extends(l,f),l.prototype.matches=function(h){if(_o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var g=h.field(this.field);return null!==g&&!_o(this.value.arrayValue,g)},l}(Rr),Nc=function(f){function l(h,g){return f.call(this,h,"array-contains-any",g)||this}return U.__extends(l,f),l.prototype.matches=function(h){var g=this,y=h.field(this.field);return!(!xc(y)||!y.arrayValue.values)&&y.arrayValue.values.some(function(E){return _o(g.value.arrayValue,E)})},l}(Rr),Co=function(f,l){this.position=f,this.before=l};function cc(f){return(f.before?"b":"a")+":"+f.position.map(function(l){return us(l)}).join(",")}function jl(f,l,h){for(var g=0,y=0;y<f.position.length;y++){var E=l[y],T=f.position[y];if(g=E.field.p()?Le.i(Le.C(T.referenceValue),h.key):Oa(T,h.field(E.field)),"desc"===E.dir&&(g*=-1),0!==g)break}return f.before?g<=0:g<0}function zs(f,l){if(null===f)return null===l;if(null===l||f.before!==l.before||f.position.length!==l.position.length)return!1;for(var h=0;h<f.position.length;h++)if(!Ur(f.position[h],l.position[h]))return!1;return!0}var ma=function(f,l){void 0===l&&(l="asc"),this.field=f,this.dir=l};function ll(f,l,h){var y,T,R,V,g=f.field.p()?Le.i(l.key,h.key):(T=h,R=l.field(y=f.field),V=T.field(y),null!==R&&null!==V?Oa(R,V):Re());switch(f.dir){case"asc":return g;case"desc":return-1*g;default:return Re()}}function bi(f,l){return f.dir===l.dir&&f.field.isEqual(l.field)}var zo=function(){var f=this;this.promise=new Promise(function(l,h){f.resolve=l,f.reject=h})},Ra=function(){function f(l,h,g,y,E){void 0===g&&(g=1e3),void 0===y&&(y=1.5),void 0===E&&(E=6e4),this.fn=l,this.dn=h,this.wn=g,this.mn=y,this.Tn=E,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return f.prototype.reset=function(){this.En=0},f.prototype.Rn=function(){this.En=this.Tn},f.prototype.gn=function(l){var h=this;this.cancel();var g=Math.floor(this.En+this.Pn()),y=Math.max(0,Date.now()-this.An),E=Math.max(0,g-y);E>0&&me("ExponentialBackoff","Backing off for "+E+" ms (base delay: "+this.En+" ms, delay with jitter: "+g+" ms, last attempt: "+y+" ms ago)"),this.In=this.fn.yn(this.dn,E,function(){return h.An=Date.now(),l()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},f.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},f.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},f.prototype.Pn=function(){return(Math.random()-.5)*this.En},f}(),Mt=function(){function f(l){var h=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,l(function(g){h.Sn=!0,h.result=g,h.bn&&h.bn(g)},function(g){h.Sn=!0,h.error=g,h.vn&&h.vn(g)})}return f.prototype.catch=function(l){return this.next(void 0,l)},f.prototype.next=function(l,h){var g=this;return this.Dn&&Re(),this.Dn=!0,this.Sn?this.error?this.Cn(h,this.error):this.Nn(l,this.result):new f(function(y,E){g.bn=function(T){g.Nn(l,T).next(y,E)},g.vn=function(T){g.Cn(h,T).next(y,E)}})},f.prototype.Fn=function(){var l=this;return new Promise(function(h,g){l.next(h,g)})},f.prototype.xn=function(l){try{var h=l();return h instanceof f?h:f.resolve(h)}catch(g){return f.reject(g)}},f.prototype.Nn=function(l,h){return l?this.xn(function(){return l(h)}):f.resolve(h)},f.prototype.Cn=function(l,h){return l?this.xn(function(){return l(h)}):f.reject(h)},f.resolve=function(l){return new f(function(h,g){h(l)})},f.reject=function(l){return new f(function(h,g){g(l)})},f.$n=function(l){return new f(function(h,g){var y=0,E=0,T=!1;l.forEach(function(R){++y,R.next(function(){++E,T&&E===y&&h()},function(V){return g(V)})}),T=!0,E===y&&h()})},f.kn=function(l){for(var h=f.resolve(!1),g=function(T){h=h.next(function(R){return R?f.resolve(R):T()})},y=0,E=l;y<E.length;y++)g(E[y]);return h},f.forEach=function(l,h){var g=this,y=[];return l.forEach(function(E,T){y.push(h.call(g,E,T))}),this.$n(y)},f}(),es=function(){function f(l,h,g){this.name=l,this.version=h,this.Mn=g,12.2===f.On(ce.getUA())&&lt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return f.delete=function(l){return me("SimpleDb","Removing database:",l),Na(window.indexedDB.deleteDatabase(l)).Fn()},f.Ln=function(){if(typeof indexedDB>"u")return!1;if(f.Bn())return!0;var l=ce.getUA(),h=f.On(l),g=0<h&&h<10,y=f.qn(l),E=0<y&&y<4.5;return!(l.indexOf("MSIE ")>0||l.indexOf("Trident/")>0||l.indexOf("Edge/")>0||g||E)},f.Bn=function(){var l;return typeof process<"u"&&"YES"===(null===(l=process.env)||void 0===l?void 0:l.Un)},f.Qn=function(l,h){return l.store(h)},f.On=function(l){var h=l.match(/i(?:phone|pad|pod) os ([\d_]+)/i),g=h?h[1].split("_").slice(0,2).join("."):"-1";return Number(g)},f.qn=function(l){var h=l.match(/Android ([\d.]+)/i),g=h?h[1].split(".").slice(0,2).join("."):"-1";return Number(g)},f.prototype.Wn=function(l){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.db?[3,2]:(me("SimpleDb","Opening database:",this.name),h=this,[4,new Promise(function(E,T){var R=indexedDB.open(g.name,g.version);R.onsuccess=function(V){E(V.target.result)},R.onblocked=function(){T(new xo(l,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},R.onerror=function(V){var W=V.target.error;T("VersionError"===W.name?new G(z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new xo(l,W))},R.onupgradeneeded=function(V){me("SimpleDb",'Database "'+g.name+'" requires upgrade from version:',V.oldVersion),g.Mn.createOrUpgrade(V.target.result,R.transaction,V.oldVersion,g.version).next(function(){me("SimpleDb","Database upgrade to version "+g.version+" complete")})}})]);case 1:h.db=y.sent(),y.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(E){return g.jn(E)}),this.db)]}})})},f.prototype.Kn=function(l){this.jn=l,this.db&&(this.db.onversionchange=function(h){return l(h)})},f.prototype.runTransaction=function(l,h,g,y){return U.__awaiter(this,void 0,void 0,function(){var E,T,R,V,W;return U.__generator(this,function(re){switch(re.label){case 0:E="readonly"===h,T=0,R=function(){var ge,_e,Ae,et,ht;return U.__generator(this,function(an){switch(an.label){case 0:++T,an.label=1;case 1:return an.trys.push([1,4,,5]),[4,V.Wn(l)];case 2:return V.db=an.sent(),ge=Lc.open(V.db,l,E?"readonly":"readwrite",g),_e=y(ge).catch(function(Jt){return ge.abort(Jt),Mt.reject(Jt)}).Fn(),Ae={},_e.catch(function(){}),[4,ge.Gn];case 3:return[2,(Ae.value=(an.sent(),_e),Ae)];case 4:return me("SimpleDb","Transaction failed with error:",(et=an.sent()).message,"Retrying:",ht="FirebaseError"!==et.name&&T<3),V.close(),ht?[3,5]:[2,{value:Promise.reject(et)}];case 5:return[2]}})},V=this,re.label=1;case 1:return[5,R()];case 2:if("object"==typeof(W=re.sent()))return[2,W.value];re.label=3;case 3:return[3,1];case 4:return[2]}})})},f.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},f}(),Fc=function(){function f(l){this.zn=l,this.Hn=!1,this.Yn=null}return Object.defineProperty(f.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cursor",{set:function(l){this.zn=l},enumerable:!1,configurable:!0}),f.prototype.done=function(){this.Hn=!0},f.prototype.Xn=function(l){this.Yn=l},f.prototype.delete=function(){return Na(this.zn.delete())},f}(),xo=function(f){function l(h,g){var y=this;return(y=f.call(this,z.UNAVAILABLE,"IndexedDB transaction '"+h+"' failed: "+g)||this).name="IndexedDbTransactionError",y}return U.__extends(l,f),l}(G);function Hs(f){return"IndexedDbTransactionError"===f.name}var Lc=function(){function f(l,h){var g=this;this.action=l,this.transaction=h,this.aborted=!1,this.Zn=new zo,this.transaction.oncomplete=function(){g.Zn.resolve()},this.transaction.onabort=function(){h.error?g.Zn.reject(new xo(l,h.error)):g.Zn.resolve()},this.transaction.onerror=function(y){var E=N(y.target.error);g.Zn.reject(new xo(l,E))}}return f.open=function(l,h,g,y){try{return new f(h,l.transaction(y,g))}catch(E){throw new xo(h,E)}},Object.defineProperty(f.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),f.prototype.abort=function(l){l&&this.Zn.reject(l),this.aborted||(me("SimpleDb","Aborting transaction:",l?l.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},f.prototype.store=function(l){var h=this.transaction.objectStore(l);return new ed(h)},f}(),ed=function(){function f(l){this.store=l}return f.prototype.put=function(l,h){var g;return void 0!==h?(me("SimpleDb","PUT",this.store.name,l,h),g=this.store.put(h,l)):(me("SimpleDb","PUT",this.store.name,"<auto-key>",l),g=this.store.put(l)),Na(g)},f.prototype.add=function(l){return me("SimpleDb","ADD",this.store.name,l,l),Na(this.store.add(l))},f.prototype.get=function(l){var h=this;return Na(this.store.get(l)).next(function(g){return void 0===g&&(g=null),me("SimpleDb","GET",h.store.name,l,g),g})},f.prototype.delete=function(l){return me("SimpleDb","DELETE",this.store.name,l),Na(this.store.delete(l))},f.prototype.count=function(){return me("SimpleDb","COUNT",this.store.name),Na(this.store.count())},f.prototype.ts=function(l,h){var g=this.cursor(this.options(l,h)),y=[];return this.es(g,function(E,T){y.push(T)}).next(function(){return y})},f.prototype.ns=function(l,h){me("SimpleDb","DELETE ALL",this.store.name);var g=this.options(l,h);g.ss=!1;var y=this.cursor(g);return this.es(y,function(E,T,R){return R.delete()})},f.prototype.rs=function(l,h){var g;h?g=l:(g={},h=l);var y=this.cursor(g);return this.es(y,h)},f.prototype.os=function(l){var h=this.cursor({});return new Mt(function(g,y){h.onerror=function(E){var T=N(E.target.error);y(T)},h.onsuccess=function(E){var T=E.target.result;T?l(T.primaryKey,T.value).next(function(R){R?T.continue():g()}):g()}})},f.prototype.es=function(l,h){var g=[];return new Mt(function(y,E){l.onerror=function(T){E(T.target.error)},l.onsuccess=function(T){var R=T.target.result;if(R){var V=new Fc(R),W=h(R.primaryKey,R.value,V);if(W instanceof Mt){var re=W.catch(function(ge){return V.done(),Mt.reject(ge)});g.push(re)}V.Sn?y():null===V.Jn?R.continue():R.continue(V.Jn)}else y()}}).next(function(){return Mt.$n(g)})},f.prototype.options=function(l,h){var g=void 0;return void 0!==l&&("string"==typeof l?g=l:h=l),{index:g,range:h}},f.prototype.cursor=function(l){var h="next";if(l.reverse&&(h="prev"),l.index){var g=this.store.index(l.index);return l.ss?g.openKeyCursor(l.range,h):g.openCursor(l.range,h)}return this.store.openCursor(l.range,h)},f}();function Na(f){return new Mt(function(l,h){f.onsuccess=function(g){l(g.target.result)},f.onerror=function(g){var y=N(g.target.error);h(y)}})}var C=!1;function N(f){var l=es.On(ce.getUA());if(l>=12.2&&l<13){var h="An internal error was encountered in the Indexed Database server";if(f.message.indexOf(h)>=0){var g=new G("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+h+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return C||(C=!0,setTimeout(function(){throw g},0)),g}}return f}function j(){return typeof window<"u"?window:null}function ee(){return typeof document<"u"?document:null}var ve=function(){function f(l,h,g,y,E){this.cs=l,this.dn=h,this.us=g,this.op=y,this.hs=E,this.ls=new zo,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(T){})}return f._s=function(l,h,g,y,E){var T=new f(l,h,Date.now()+g,y,E);return T.start(g),T},f.prototype.start=function(l){var h=this;this.fs=setTimeout(function(){return h.ds()},l)},f.prototype.pn=function(){return this.ds()},f.prototype.cancel=function(l){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new G(z.CANCELLED,"Operation cancelled"+(l?": "+l:""))))},f.prototype.ds=function(){var l=this;this.cs.ws(function(){return null!==l.fs?(l.clearTimeout(),l.op().then(function(h){return l.ls.resolve(h)})):Promise.resolve()})},f.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},f}(),Ke=function(){function f(){var l=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new Ra(this,"async_queue_retry"),this.Vs=function(){var g=ee();g&&me("AsyncQueue","Visibility state changed to  ",g.visibilityState),l.ys.Vn()};var h=ee();h&&"function"==typeof h.addEventListener&&h.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(f.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),f.prototype.ws=function(l){this.enqueue(l)},f.prototype.bs=function(l){this.vs(),this.Ss(l)},f.prototype.Ds=function(){if(!this.Is){this.Is=!0;var l=ee();l&&"function"==typeof l.removeEventListener&&l.removeEventListener("visibilitychange",this.Vs)}},f.prototype.enqueue=function(l){return this.vs(),this.Is?new Promise(function(h){}):this.Ss(l)},f.prototype.Cs=function(l){var h=this;this.ws(function(){return h.Es.push(l),h.Ns()})},f.prototype.Ns=function(){return U.__awaiter(this,void 0,void 0,function(){var l,h=this;return U.__generator(this,function(g){switch(g.label){case 0:if(0===this.Es.length)return[3,5];g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return g.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!Hs(l=g.sent()))throw l;return me("AsyncQueue","Operation failed with retryable error: "+l),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return h.Ns()}),g.label=5;case 5:return[2]}})})},f.prototype.Ss=function(l){var h=this,g=this.Ts.then(function(){return h.gs=!0,l().catch(function(y){throw h.Rs=y,h.gs=!1,lt("INTERNAL UNHANDLED ERROR: ",(T=(E=y).message||"",E.stack&&(T=E.stack.includes(E.message)?E.stack:E.message+"\n"+E.stack),T)),y;var E,T}).then(function(y){return h.gs=!1,y})});return this.Ts=g,g},f.prototype.yn=function(l,h,g){var y=this;this.vs(),this.Ps.indexOf(l)>-1&&(h=0);var E=ve._s(this,l,h,g,function(T){return y.Fs(T)});return this.As.push(E),E},f.prototype.vs=function(){this.Rs&&Re()},f.prototype.xs=function(){},f.prototype.$s=function(){return U.__awaiter(this,void 0,void 0,function(){var l;return U.__generator(this,function(h){switch(h.label){case 0:return[4,l=this.Ts];case 1:h.sent(),h.label=2;case 2:if(l!==this.Ts)return[3,0];h.label=3;case 3:return[2]}})})},f.prototype.ks=function(l){for(var h=0,g=this.As;h<g.length;h++)if(g[h].dn===l)return!0;return!1},f.prototype.Ms=function(l){var h=this;return this.$s().then(function(){h.As.sort(function(T,R){return T.us-R.us});for(var g=0,y=h.As;g<y.length;g++){var E=y[g];if(E.pn(),"all"!==l&&E.dn===l)break}return h.$s()})},f.prototype.Os=function(l){this.Ps.push(l)},f.prototype.Fs=function(l){var h=this.As.indexOf(l);this.As.splice(h,1)},f}();function Rt(f,l){if(lt("AsyncQueue",l+": "+f),Hs(f))return new G(z.UNAVAILABLE,l+": "+f);throw f}var Gn=function(){this.Ls=void 0,this.listeners=[]},ti=function(){this.Bs=new Kt(function(f){return fa(f)},ac),this.onlineState="Unknown",this.qs=new Set};function dr(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y,E,T,R,V;return U.__generator(this,function(W){switch(W.label){case 0:if(h=We(f),y=!1,(E=h.Bs.get(g=l.query))||(y=!0,E=new Gn),!y)return[3,4];W.label=1;case 1:return W.trys.push([1,3,,4]),T=E,[4,h.Us(g)];case 2:return T.Ls=W.sent(),[3,4];case 3:return R=W.sent(),V=Rt(R,"Initialization of query '"+Es(l.query)+"' failed"),[2,void l.onError(V)];case 4:return h.Bs.set(g,E),E.listeners.push(l),l.Qs(h.onlineState),E.Ls&&l.Ws(E.Ls)&&$s(h),[2]}})})}function Eo(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y,E,T;return U.__generator(this,function(R){return h=We(f),y=!1,(E=h.Bs.get(g=l.query))&&(T=E.listeners.indexOf(l))>=0&&(E.listeners.splice(T,1),y=0===E.listeners.length),y?[2,(h.Bs.delete(g),h.js(g))]:[2]})})}function ts(f,l){for(var h=We(f),g=!1,y=0,E=l;y<E.length;y++){var T=E[y],V=h.Bs.get(T.query);if(V){for(var W=0,re=V.listeners;W<re.length;W++)re[W].Ws(T)&&(g=!0);V.Ls=T}}g&&$s(h)}function Uc(f,l,h){var g=We(f),y=g.Bs.get(l);if(y)for(var E=0,T=y.listeners;E<T.length;E++)T[E].onError(h);g.Bs.delete(l)}function $s(f){f.qs.forEach(function(l){l.next()})}var ul=function(){function f(l,h,g){this.query=l,this.Ks=h,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=g||{}}return f.prototype.Ws=function(l){if(!this.options.includeMetadataChanges){for(var h=[],g=0,y=l.docChanges;g<y.length;g++){var E=y[g];3!==E.type&&h.push(E)}l=new xn(l.query,l.docs,l.Qt,h,l.Wt,l.fromCache,l.jt,!0)}var T=!1;return this.Gs?this.Hs(l)&&(this.Ks.next(l),T=!0):this.Ys(l,this.onlineState)&&(this.Js(l),T=!0),this.zs=l,T},f.prototype.onError=function(l){this.Ks.error(l)},f.prototype.Qs=function(l){this.onlineState=l;var h=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,l)&&(this.Js(this.zs),h=!0),h},f.prototype.Ys=function(l,h){return!l.fromCache||!(this.options.Xs&&"Offline"!==h||l.docs.m()&&"Offline"!==h)},f.prototype.Hs=function(l){return l.docChanges.length>0||!!(l.jt||this.zs&&this.zs.hasPendingWrites!==l.hasPendingWrites)&&!0===this.options.includeMetadataChanges},f.prototype.Js=function(l){l=xn.Gt(l.query,l.docs,l.Wt,l.fromCache),this.Gs=!0,this.Ks.next(l)},f}(),Mo=function(){function f(l){this.uid=l}return f.prototype.Zs=function(){return null!=this.uid},f.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},f.prototype.isEqual=function(l){return l.uid===this.uid},f}();Mo.UNAUTHENTICATED=new Mo(null),Mo.ei=new Mo("google-credentials-uid"),Mo.ni=new Mo("first-party-uid");var Io=function(){function f(l,h){var g=this;this.previousValue=l,h&&(h.si=function(y){return g.ii(y)},this.ri=function(y){return h.oi(y)})}return f.prototype.ii=function(l){return this.previousValue=Math.max(l,this.previousValue),this.previousValue},f.prototype.next=function(){var l=++this.previousValue;return this.ri&&this.ri(l),l},f}();function td(f,l){return"firestore_clients_"+f+"_"+l}function qh(f,l,h){var g="firestore_mutations_"+f+"_"+h;return l.Zs()&&(g+="_"+l.uid),g}function yu(f,l){return"firestore_targets_"+f+"_"+l}Io.ai=-1;var Gh=function(){function f(l,h,g,y){this.user=l,this.batchId=h,this.state=g,this.error=y}return f.ci=function(l,h,g){var y=JSON.parse(g),E="object"==typeof y&&-1!==["pending","acknowledged","rejected"].indexOf(y.state)&&(void 0===y.error||"object"==typeof y.error),T=void 0;return E&&y.error&&(E="string"==typeof y.error.message&&"string"==typeof y.error.code)&&(T=new G(y.error.code,y.error.message)),E?new f(l,h,y.state,T):(lt("SharedClientState","Failed to parse mutation state for ID '"+h+"': "+g),null)},f.prototype.ui=function(){var l={state:this.state,updateTimeMs:Date.now()};return this.error&&(l.error={code:this.error.code,message:this.error.message}),JSON.stringify(l)},f}(),zl=function(){function f(l,h,g){this.targetId=l,this.state=h,this.error=g}return f.ci=function(l,h){var g=JSON.parse(h),y="object"==typeof g&&-1!==["not-current","current","rejected"].indexOf(g.state)&&(void 0===g.error||"object"==typeof g.error),E=void 0;return y&&g.error&&(y="string"==typeof g.error.message&&"string"==typeof g.error.code)&&(E=new G(g.error.code,g.error.message)),y?new f(l,g.state,E):(lt("SharedClientState","Failed to parse target state for ID '"+l+"': "+h),null)},f.prototype.ui=function(){var l={state:this.state,updateTimeMs:Date.now()};return this.error&&(l.error={code:this.error.code,message:this.error.message}),JSON.stringify(l)},f}(),Hl=function(){function f(l,h){this.clientId=l,this.activeTargetIds=h}return f.ci=function(l,h){for(var g=JSON.parse(h),y="object"==typeof g&&g.activeTargetIds instanceof Array,E=yn(),T=0;y&&T<g.activeTargetIds.length;++T)y=Ee(g.activeTargetIds[T]),E=E.add(g.activeTargetIds[T]);return y?new f(l,E):(lt("SharedClientState","Failed to parse client data for instance '"+l+"': "+h),null)},f}(),nd=function(){function f(l,h){this.clientId=l,this.onlineState=h}return f.ci=function(l){var h=JSON.parse(l);return"object"==typeof h&&-1!==["Unknown","Online","Offline"].indexOf(h.onlineState)&&"string"==typeof h.clientId?new f(h.clientId,h.onlineState):(lt("SharedClientState","Failed to parse online state: "+l),null)},f}(),Ms=function(){function f(){this.activeTargetIds=yn()}return f.prototype.hi=function(l){this.activeTargetIds=this.activeTargetIds.add(l)},f.prototype.li=function(l){this.activeTargetIds=this.activeTargetIds.delete(l)},f.prototype.ui=function(){var l={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(l)},f}(),Vc=function(){function f(l,h,g,y,E){this.window=l,this.fn=h,this.persistenceKey=g,this._i=y,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new $n(Ut),this.Ei=!1,this.Ii=[];var T=g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=E,this.Ai=td(this.persistenceKey,this._i),this.Ri="firestore_sequence_number_"+this.persistenceKey,this.Ti=this.Ti.ot(this._i,new Ms),this.gi=new RegExp("^firestore_clients_"+T+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+T+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+T+"_(\\d+)$"),this.Vi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.wi)}return f.Ln=function(l){return!(!l||!l.localStorage)},f.prototype.start=function(){return U.__awaiter(this,void 0,void 0,function(){var l,h,g,y,E,T,R,V,W,re,_e=this;return U.__generator(this,function(Ae){switch(Ae.label){case 0:return[4,this.fi.pi()];case 1:for(l=Ae.sent(),h=0,g=l;h<g.length;h++)(y=g[h])!==this._i&&(E=this.getItem(td(this.persistenceKey,y)))&&(T=Hl.ci(y,E))&&(this.Ti=this.Ti.ot(T.clientId,T));for(this.bi(),(R=this.storage.getItem(this.Vi))&&(V=this.vi(R))&&this.Si(V),W=0,re=this.Ii;W<re.length;W++)this.mi(re[W]);return this.Ii=[],this.window.addEventListener("unload",function(){return _e.Di()}),this.Ei=!0,[2]}})})},f.prototype.oi=function(l){this.setItem(this.Ri,JSON.stringify(l))},f.prototype.Ci=function(){return this.Ni(this.Ti)},f.prototype.Fi=function(l){var h=!1;return this.Ti.forEach(function(g,y){y.activeTargetIds.has(l)&&(h=!0)}),h},f.prototype.xi=function(l){this.$i(l,"pending")},f.prototype.ki=function(l,h,g){this.$i(l,h,g),this.Mi(l)},f.prototype.Oi=function(l){var h="not-current";if(this.Fi(l)){var g=this.storage.getItem(yu(this.persistenceKey,l));if(g){var y=zl.ci(l,g);y&&(h=y.state)}}return this.Li.hi(l),this.bi(),h},f.prototype.Bi=function(l){this.Li.li(l),this.bi()},f.prototype.qi=function(l){return this.Li.activeTargetIds.has(l)},f.prototype.Ui=function(l){this.removeItem(yu(this.persistenceKey,l))},f.prototype.Qi=function(l,h,g){this.Wi(l,h,g)},f.prototype.ji=function(l,h,g){var y=this;h.forEach(function(E){y.Mi(E)}),this.currentUser=l,g.forEach(function(E){y.xi(E)})},f.prototype.Ki=function(l){this.Gi(l)},f.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},f.prototype.getItem=function(l){var h=this.storage.getItem(l);return me("SharedClientState","READ",l,h),h},f.prototype.setItem=function(l,h){me("SharedClientState","SET",l,h),this.storage.setItem(l,h)},f.prototype.removeItem=function(l){me("SharedClientState","REMOVE",l),this.storage.removeItem(l)},f.prototype.mi=function(l){var h=this,g=l;if(g.storageArea===this.storage){if(me("SharedClientState","EVENT",g.key,g.newValue),g.key===this.Ai)return void lt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return U.__awaiter(h,void 0,void 0,function(){var y,E,T,R,V,W;return U.__generator(this,function(re){if(this.Ei){if(null!==g.key)if(this.gi.test(g.key)){if(null==g.newValue)return y=this.zi(g.key),[2,this.Hi(y,null)];if(E=this.Yi(g.key,g.newValue))return[2,this.Hi(E.clientId,E)]}else if(this.Pi.test(g.key)){if(null!==g.newValue&&(T=this.Ji(g.key,g.newValue)))return[2,this.Xi(T)]}else if(this.yi.test(g.key)){if(null!==g.newValue&&(R=this.Zi(g.key,g.newValue)))return[2,this.tr(R)]}else if(g.key===this.Vi){if(null!==g.newValue&&(V=this.vi(g.newValue)))return[2,this.Si(V)]}else g.key===this.Ri&&(W=function(ge){var _e=Io.ai;if(null!=ge)try{var Ae=JSON.parse(ge);at("number"==typeof Ae),_e=Ae}catch(et){lt("SharedClientState","Failed to read sequence number from WebStorage",et)}return _e}(g.newValue))!==Io.ai&&this.si(W)}else this.Ii.push(g);return[2]})})})}},Object.defineProperty(f.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),f.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},f.prototype.$i=function(l,h,g){var y=new Gh(this.currentUser,l,h,g),E=qh(this.persistenceKey,this.currentUser,l);this.setItem(E,y.ui())},f.prototype.Mi=function(l){var h=qh(this.persistenceKey,this.currentUser,l);this.removeItem(h)},f.prototype.Gi=function(l){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:l}))},f.prototype.Wi=function(l,h,g){var y=yu(this.persistenceKey,l),E=new zl(l,h,g);this.setItem(y,E.ui())},f.prototype.zi=function(l){var h=this.gi.exec(l);return h?h[1]:null},f.prototype.Yi=function(l,h){var g=this.zi(l);return Hl.ci(g,h)},f.prototype.Ji=function(l,h){var g=this.Pi.exec(l),y=Number(g[1]);return Gh.ci(new Mo(void 0!==g[2]?g[2]:null),y,h)},f.prototype.Zi=function(l,h){var g=this.yi.exec(l),y=Number(g[1]);return zl.ci(y,h)},f.prototype.vi=function(l){return nd.ci(l)},f.prototype.Xi=function(l){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){return l.user.uid===this.currentUser.uid?[2,this.fi.er(l.batchId,l.state,l.error)]:(me("SharedClientState","Ignoring mutation for non-active user "+l.user.uid),[2])})})},f.prototype.tr=function(l){return this.fi.nr(l.targetId,l.state,l.error)},f.prototype.Hi=function(l,h){var g=this,y=h?this.Ti.ot(l,h):this.Ti.remove(l),E=this.Ni(this.Ti),T=this.Ni(y),R=[],V=[];return T.forEach(function(W){E.has(W)||R.push(W)}),E.forEach(function(W){T.has(W)||V.push(W)}),this.fi.sr(R,V).then(function(){g.Ti=y})},f.prototype.Si=function(l){this.Ti.get(l.clientId)&&this.di(l.onlineState)},f.prototype.Ni=function(l){var h=yn();return l.forEach(function(g,y){h=h.kt(y.activeTargetIds)}),h},f}(),dl=function(){function f(){this.ir=new Ms,this.rr={},this.di=null,this.si=null}return f.prototype.xi=function(l){},f.prototype.ki=function(l,h,g){},f.prototype.Oi=function(l){return this.ir.hi(l),this.rr[l]||"not-current"},f.prototype.Qi=function(l,h,g){this.rr[l]=h},f.prototype.Bi=function(l){this.ir.li(l)},f.prototype.qi=function(l){return this.ir.activeTargetIds.has(l)},f.prototype.Ui=function(l){delete this.rr[l]},f.prototype.Ci=function(){return this.ir.activeTargetIds},f.prototype.Fi=function(l){return this.ir.activeTargetIds.has(l)},f.prototype.start=function(){return this.ir=new Ms,Promise.resolve()},f.prototype.ji=function(l,h,g){},f.prototype.Ki=function(l){},f.prototype.Di=function(){},f.prototype.oi=function(l){},f}(),id=function(){function f(l,h,g,y){this.batchId=l,this.ar=h,this.baseMutations=g,this.mutations=y}return f.prototype.cr=function(l,h,g){for(var y=g.ur,E=0;E<this.mutations.length;E++){var T=this.mutations[E];T.key.isEqual(l)&&(h=ei(T,h,y[E]))}return h},f.prototype.hr=function(l,h){for(var g=0,y=this.baseMutations;g<y.length;g++){var E=y[g];E.key.isEqual(l)&&(h=Pc(E,h,h,this.ar))}for(var T=h,R=0,V=this.mutations;R<V.length;R++){var W=V[R];W.key.isEqual(l)&&(h=Pc(W,h,T,this.ar))}return h},f.prototype.lr=function(l){var h=this,g=l;return this.mutations.forEach(function(y){var E=h.hr(y.key,l.get(y.key));E&&(g=g.ot(y.key,E))}),g},f.prototype.keys=function(){return this.mutations.reduce(function(l,h){return l.add(h.key)},Qe())},f.prototype.isEqual=function(l){return this.batchId===l.batchId&&cn(this.mutations,l.mutations,function(h,g){return Da(h,g)})&&cn(this.baseMutations,l.baseMutations,function(h,g){return Da(h,g)})},f}(),bu=function(){function f(l,h,g,y){this.batch=l,this._r=h,this.ur=g,this.dr=y}return f.from=function(l,h,g){at(l.mutations.length===g.length);for(var y=K,E=l.mutations,T=0;T<E.length;T++)y=y.ot(E[T].key,g[T].version);return new f(l,h,g,y)},f}(),Xf=function(){function f(){this.wr=new Kt(function(l){return l.toString()},function(l,h){return l.isEqual(h)}),this.mr=!1}return Object.defineProperty(f.prototype,"readTime",{get:function(){return this.Tr},set:function(l){this.Tr=l},enumerable:!1,configurable:!0}),f.prototype.Er=function(l,h){this.Ir(),this.readTime=h,this.wr.set(l.key,l)},f.prototype.Ar=function(l,h){this.Ir(),h&&(this.readTime=h),this.wr.set(l,null)},f.prototype.Rr=function(l,h){this.Ir();var g=this.wr.get(h);return void 0!==g?Mt.resolve(g):this.gr(l,h)},f.prototype.getEntries=function(l,h){return this.Pr(l,h)},f.prototype.apply=function(l){return this.Ir(),this.mr=!0,this.yr(l)},f.prototype.Ir=function(){},f}(),Is="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",th=function(){function f(){this.Vr=[]}return f.prototype.pr=function(l){this.Vr.push(l)},f.prototype.br=function(){this.Vr.forEach(function(l){return l()})},f}(),wu=function(){function f(l,h,g){this.vr=l,this.Sr=h,this.Dr=g}return f.prototype.Cr=function(l,h){var g=this;return this.Sr.Nr(l,h).next(function(y){return g.Fr(l,h,y)})},f.prototype.Fr=function(l,h,g){return this.vr.Rr(l,h).next(function(y){for(var E=0,T=g;E<T.length;E++)y=T[E].hr(h,y);return y})},f.prototype.$r=function(l,h,g){var y=le();return h.forEach(function(E,T){for(var R=0,V=g;R<V.length;R++)T=V[R].hr(E,T);y=y.ot(E,T)}),y},f.prototype.kr=function(l,h){var g=this;return this.vr.getEntries(l,h).next(function(y){return g.Mr(l,y)})},f.prototype.Mr=function(l,h){var g=this;return this.Sr.Or(l,h).next(function(y){var E=g.$r(l,h,y),T=fe();return E.forEach(function(R,V){V||(V=new kr(R,zt.min())),T=T.ot(R,V)}),T})},f.prototype.Lr=function(l,h,g){return Le.F((y=h).path)&&null===y.collectionGroup&&0===y.filters.length?this.Br(l,h.path):_u(h)?this.qr(l,h,g):this.Ur(l,h,g);var y},f.prototype.Br=function(l,h){return this.Cr(l,new Le(h)).next(function(g){var y=te();return g instanceof oi&&(y=y.ot(g.key,g)),y})},f.prototype.qr=function(l,h,g){var y=this,E=h.collectionGroup,T=te();return this.Dr.Qr(l,E).next(function(R){return Mt.forEach(R,function(V){var re,ge,W=(re=h,ge=V.child(E),new xs(ge,null,re.on.slice(),re.filters.slice(),re.limit,re.an,re.startAt,re.endAt));return y.Ur(l,W,g).next(function(re){re.forEach(function(ge,_e){T=T.ot(ge,_e)})})}).next(function(){return T})})},f.prototype.Ur=function(l,h,g){var y,E,T=this;return this.vr.Lr(l,h,g).next(function(R){return y=R,T.Sr.Wr(l,h)}).next(function(R){return T.jr(l,E=R,y).next(function(V){y=V;for(var W=0,re=E;W<re.length;W++)for(var ge=re[W],_e=0,Ae=ge.mutations;_e<Ae.length;_e++){var et=Ae[_e],ht=et.key,an=y.get(ht),Jt=Pc(et,an,an,ge.ar);y=Jt instanceof oi?y.ot(ht,Jt):y.remove(ht)}})}).next(function(){return y.forEach(function(R,V){Bl(h,V)||(y=y.remove(R))}),y})},f.prototype.jr=function(l,h,g){for(var y=Qe(),E=0,T=h;E<T.length;E++)for(var R=0,V=T[E].mutations;R<V.length;R++){var W=V[R];W instanceof Zr&&null===g.get(W.key)&&(y=y.add(W.key))}var re=g;return this.vr.getEntries(l,y).next(function(ge){return ge.forEach(function(_e,Ae){null!==Ae&&Ae instanceof oi&&(re=re.ot(_e,Ae))}),re})},f}(),Ti=function(){function f(l,h,g,y){this.targetId=l,this.fromCache=h,this.Kr=g,this.Gr=y}return f.zr=function(l,h){for(var g=Qe(),y=Qe(),E=0,T=h.docChanges;E<T.length;E++){var R=T[E];switch(R.type){case 0:g=g.add(R.doc.key);break;case 1:y=y.add(R.doc.key)}}return new f(l,h.fromCache,g,y)},f}();function hl(f,l){var g=f[1],E=l[1],T=Ut(f[0],l[0]);return 0===T?Ut(g,E):T}var Fa=function(){function f(l){this.Hr=l,this.buffer=new Ei(hl),this.Yr=0}return f.prototype.Jr=function(){return++this.Yr},f.prototype.Xr=function(l){var h=[l,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(h);else{var g=this.buffer.last();hl(h,g)<0&&(this.buffer=this.buffer.delete(g).add(h))}},Object.defineProperty(f.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),f}(),Ho={Zr:!1,eo:0,no:0,so:0},Qr=function(){function f(l,h,g){this.io=l,this.ro=h,this.oo=g}return f.ao=function(l){return new f(l,f.co,f.uo)},f}();Qr.ho=-1,Qr.lo=1048576,Qr._o=41943040,Qr.co=10,Qr.uo=1e3,Qr.fo=new Qr(Qr._o,Qr.co,Qr.uo),Qr.do=new Qr(Qr.ho,0,0);var nh=function(){function f(l,h){this.wo=l,this.cs=h,this.mo=!1,this.To=null}return f.prototype.start=function(l){this.wo.params.io!==Qr.ho&&this.Eo(l)},f.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(f.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),f.prototype.Eo=function(l){var h=this,g=this.mo?3e5:6e4;me("LruGarbageCollector","Garbage collection scheduled in "+g+"ms"),this.To=this.cs.yn("lru_garbage_collection",g,function(){return U.__awaiter(h,void 0,void 0,function(){var y;return U.__generator(this,function(E){switch(E.label){case 0:this.To=null,this.mo=!0,E.label=1;case 1:return E.trys.push([1,3,,7]),[4,l.Io(this.wo)];case 2:return E.sent(),[3,7];case 3:return Hs(y=E.sent())?(me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",y),[3,6]):[3,4];case 4:return[4,li(y)];case 5:E.sent(),E.label=6;case 6:return[3,7];case 7:return[4,this.Eo(l)];case 8:return E.sent(),[2]}})})})},f}(),fl=function(){function f(l,h){this.Ao=l,this.params=h}return f.prototype.Ro=function(l,h){return this.Ao.Po(l).next(function(g){return Math.floor(h/100*g)})},f.prototype.yo=function(l,h){var g=this;if(0===h)return Mt.resolve(Io.ai);var y=new Fa(h);return this.Ao.Ce(l,function(E){return y.Xr(E.sequenceNumber)}).next(function(){return g.Ao.Vo(l,function(E){return y.Xr(E)})}).next(function(){return y.maxValue})},f.prototype.po=function(l,h,g){return this.Ao.po(l,h,g)},f.prototype.bo=function(l,h){return this.Ao.bo(l,h)},f.prototype.vo=function(l,h){var g=this;return this.params.io===Qr.ho?(me("LruGarbageCollector","Garbage collection skipped; disabled"),Mt.resolve(Ho)):this.So(l).next(function(y){return y<g.params.io?(me("LruGarbageCollector","Garbage collection skipped; Cache size "+y+" is lower than threshold "+g.params.io),Ho):g.Do(l,h)})},f.prototype.So=function(l){return this.Ao.So(l)},f.prototype.Do=function(l,h){var g,y,E,T,R,V,W,re=this,ge=Date.now();return this.Ro(l,this.params.ro).next(function(_e){return _e>re.params.oo?(me("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+re.params.oo+" from "+_e),y=re.params.oo):y=_e,T=Date.now(),re.yo(l,y)}).next(function(_e){return g=_e,R=Date.now(),re.po(l,g,h)}).next(function(_e){return E=_e,V=Date.now(),re.bo(l,g)}).next(function(_e){return W=Date.now(),Ne()<=pe.LogLevel.DEBUG&&me("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(T-ge)+"ms\n\tDetermined least recently used "+y+" in "+(R-T)+"ms\n\tRemoved "+E+" targets in "+(V-R)+"ms\n\tRemoved "+_e+" documents in "+(W-V)+"ms\nTotal Duration: "+(W-ge)+"ms"),Mt.resolve({Zr:!0,eo:y,no:E,so:_e})})},f}();function Ki(f){for(var l="",h=0;h<f.length;h++)l.length>0&&(l=rh(l)),l=ih(f.get(h),l);return rh(l)}function ih(f,l){for(var h=l,g=f.length,y=0;y<g;y++){var E=f.charAt(y);switch(E){case"\0":h+="\x01\x10";break;case"\x01":h+="\x01\x11";break;default:h+=E}}return h}function rh(f){return f+"\x01\x01"}function qs(f){var l=f.length;if(at(l>=2),2===l)return at("\x01"===f.charAt(0)&&"\x01"===f.charAt(1)),he.P();for(var h=l-2,g=[],y="",E=0;E<l;){var T=f.indexOf("\x01",E);switch((T<0||T>h)&&Re(),f.charAt(T+1)){case"\x01":var R=f.substring(E,T),V=void 0;0===y.length?V=R:(V=y+=R,y=""),g.push(V);break;case"\x10":y+=f.substring(E,T),y+="\0";break;case"\x11":y+=f.substring(E,T+1);break;default:Re()}E=T+2}return new he(g)}var pl=function(f){this.Co=f};function oh(f,l){if(l.document)return V=!!l.hasCommittedMutations,W=Zi(f.Co,(R=l.document).name),re=bo(R.updateTime),ge=new Ar({mapValue:{fields:R.fields}}),new oi(W,re,ge,{hasCommittedMutations:!!V});var R,V,W,re,ge;if(l.noDocument){var h=Le.$(l.noDocument.path),g=Cu(l.noDocument.readTime);return new kr(h,g,{hasCommittedMutations:!!l.hasCommittedMutations})}if(l.unknownDocument){var y=Le.$(l.unknownDocument.path),E=Cu(l.unknownDocument.version);return new Ul(y,E)}return Re()}function Bc(f,l,h){var _e,Ae,g=Zh(h),y=l.key.path.h().A();if(l instanceof oi){var E={name:aa(_e=f.Co,(Ae=l).key),fields:Ae.rn().mapValue.fields,updateTime:sa(_e,Ae.version.Z())};return new or(null,null,E,l.hasCommittedMutations,g,y)}if(l instanceof kr){var R=l.key.path.A(),V=lc(l.version),W=l.hasCommittedMutations;return new or(null,new np(R,V),null,W,g,y)}if(l instanceof Ul){var re=l.key.path.A(),ge=lc(l.version);return new or(new s_(re,ge),null,null,!0,g,y)}return Re()}function Zh(f){var l=f.Z();return[l.seconds,l.nanoseconds]}function Vr(f){var l=new Qt(f[0],f[1]);return zt.J(l)}function lc(f){var l=f.Z();return new od(l.seconds,l.nanoseconds)}function Cu(f){var l=new Qt(f.seconds,f.nanoseconds);return zt.J(l)}function Mn(f,l){var h=(l.baseMutations||[]).map(function(E){return br(f.Co,E)}),g=l.mutations.map(function(E){return br(f.Co,E)}),y=Qt.fromMillis(l.localWriteTimeMs);return new id(l.batchId,y,h,g)}function jc(f){var l,h,g=Cu(f.readTime),y=void 0!==f.lastLimboFreeSnapshotVersion?Cu(f.lastLimboFreeSnapshotVersion):zt.min();return void 0!==f.query.documents?(at(1===(h=f.query).documents.length),l=Bo(Aa(ca(h.documents[0])))):l=Tc(f.query),new xi(l,f.targetId,0,f.lastListenSequenceNumber,g,y,Vn.fromBase64String(f.resumeToken))}function ep(f,l){var h,g=lc(l.nt),y=lc(l.lastLimboFreeSnapshotVersion);h=jt(l.target)?Sa(f.Co,l.target):wr(f.Co,l.target);var E=l.resumeToken.toBase64();return new hr(l.targetId,xt(l.target),g,E,l.sequenceNumber,y,h)}var rd=function(){function f(l,h,g,y){this.userId=l,this.serializer=h,this.Dr=g,this.No=y,this.Fo={}}return f.xo=function(l,h,g,y){return at(""!==l.uid),new f(l.Zs()?l.uid:"",h,g,y)},f.prototype.$o=function(l){var h=!0,g=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wi(l).rs({index:Qi.userMutationsIndex,range:g},function(y,E,T){h=!1,T.done()}).next(function(){return h})},f.prototype.ko=function(l,h,g,y){var E=this,T=Ts(l),R=Wi(l);return R.add({}).next(function(V){at("number"==typeof V);for(var W=new id(V,h,g,y),re=function(Jt,An,Jn){var _i=Jn.baseMutations.map(function(fr){return Ui(Jt.Co,fr)}),wi=Jn.mutations.map(function(fr){return Ui(Jt.Co,fr)});return new Qi(An,Jn.batchId,Jn.ar.toMillis(),_i,wi)}(E.serializer,E.userId,W),ge=[],_e=new Ei(function(Jt,An){return Ut(Jt.R(),An.R())}),Ae=0,et=y;Ae<et.length;Ae++){var ht=et[Ae],an=ao.key(E.userId,ht.key.path,V);_e=_e.add(ht.key.path.h()),ge.push(R.put(re)),ge.push(T.put(an,ao.PLACEHOLDER))}return _e.forEach(function(Jt){ge.push(E.Dr.Mo(l,Jt))}),l.pr(function(){E.Fo[V]=W.keys()}),Mt.$n(ge).next(function(){return W})})},f.prototype.Oo=function(l,h){var g=this;return Wi(l).get(h).next(function(y){return y?(at(y.userId===g.userId),Mn(g.serializer,y)):null})},f.prototype.Lo=function(l,h){var g=this;return this.Fo[h]?Mt.resolve(this.Fo[h]):this.Oo(l,h).next(function(y){if(y){var E=y.keys();return g.Fo[h]=E,E}return null})},f.prototype.Bo=function(l,h){var g=this,y=h+1,E=IDBKeyRange.lowerBound([this.userId,y]),T=null;return Wi(l).rs({index:Qi.userMutationsIndex,range:E},function(R,V,W){V.userId===g.userId&&(at(V.batchId>=y),T=Mn(g.serializer,V)),W.done()}).next(function(){return T})},f.prototype.qo=function(l){var h=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),g=-1;return Wi(l).rs({index:Qi.userMutationsIndex,range:h,reverse:!0},function(y,E,T){g=E.batchId,T.done()}).next(function(){return g})},f.prototype.Uo=function(l){var h=this,g=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wi(l).ts(Qi.userMutationsIndex,g).next(function(y){return y.map(function(E){return Mn(h.serializer,E)})})},f.prototype.Nr=function(l,h){var g=this,y=ao.prefixForPath(this.userId,h.path),E=IDBKeyRange.lowerBound(y),T=[];return Ts(l).rs({range:E},function(R,V,W){var re=R[0],_e=R[2],Ae=qs(R[1]);if(re===g.userId&&h.path.isEqual(Ae))return Wi(l).get(_e).next(function(et){if(!et)throw Re();at(et.userId===g.userId),T.push(Mn(g.serializer,et))});W.done()}).next(function(){return T})},f.prototype.Or=function(l,h){var g=this,y=new Ei(Ut),E=[];return h.forEach(function(T){var R=ao.prefixForPath(g.userId,T.path),V=IDBKeyRange.lowerBound(R),W=Ts(l).rs({range:V},function(re,ge,_e){var Ae=re[0],ht=re[2],an=qs(re[1]);Ae===g.userId&&T.path.isEqual(an)?y=y.add(ht):_e.done()});E.push(W)}),Mt.$n(E).next(function(){return g.Qo(l,y)})},f.prototype.Wr=function(l,h){var g=this,y=h.path,E=y.length+1,T=ao.prefixForPath(this.userId,y),R=IDBKeyRange.lowerBound(T),V=new Ei(Ut);return Ts(l).rs({range:R},function(W,re,ge){var _e=W[0],et=W[2],ht=qs(W[1]);_e===g.userId&&y.T(ht)?ht.length===E&&(V=V.add(et)):ge.done()}).next(function(){return g.Qo(l,V)})},f.prototype.Qo=function(l,h){var g=this,y=[],E=[];return h.forEach(function(T){E.push(Wi(l).get(T).next(function(R){if(null===R)throw Re();at(R.userId===g.userId),y.push(Mn(g.serializer,R))}))}),Mt.$n(E).next(function(){return y})},f.prototype.Wo=function(l,h){var g=this;return Wh(l.jo,this.userId,h).next(function(y){return l.pr(function(){g.Ko(h.batchId)}),Mt.forEach(y,function(E){return g.No.Go(l,E)})})},f.prototype.Ko=function(l){delete this.Fo[l]},f.prototype.zo=function(l){var h=this;return this.$o(l).next(function(g){if(!g)return Mt.resolve();var y=IDBKeyRange.lowerBound(ao.prefixForUser(h.userId)),E=[];return Ts(l).rs({range:y},function(T,R,V){if(T[0]===h.userId){var W=qs(T[1]);E.push(W)}else V.done()}).next(function(){at(0===E.length)})})},f.prototype.Ho=function(l,h){return Br(l,this.userId,h)},f.prototype.Yo=function(l){var h=this;return zc(l).get(this.userId).next(function(g){return g||new So(h.userId,-1,"")})},f}();function Br(f,l,h){var g=ao.prefixForPath(l,h.path),y=g[1],E=IDBKeyRange.lowerBound(g),T=!1;return Ts(f).rs({range:E,ss:!0},function(R,V,W){R[0]===l&&R[1]===y&&(T=!0),W.done()}).next(function(){return T})}function Wh(f,l,h){var g=f.store(Qi.store),y=f.store(ao.store),E=[],T=IDBKeyRange.only(h.batchId),R=0,V=g.rs({range:T},function(et,ht,an){return R++,an.delete()});E.push(V.next(function(){at(1===R)}));for(var W=[],re=0,ge=h.mutations;re<ge.length;re++){var _e=ge[re],Ae=ao.key(l,_e.key.path,h.batchId);E.push(y.delete(Ae)),W.push(_e.key)}return Mt.$n(E).next(function(){return W})}function Wi(f){return ds.Qn(f,Qi.store)}function Ts(f){return ds.Qn(f,ao.store)}function zc(f){return ds.Qn(f,So.store)}var sh=function(){function f(l,h){this.serializer=l,this.Dr=h}return f.prototype.Er=function(l,h,g){return uc(l).put(pt(h),g)},f.prototype.Ar=function(l,h){var g=uc(l),y=pt(h);return g.delete(y)},f.prototype.updateMetadata=function(l,h){var g=this;return this.getMetadata(l).next(function(y){return y.byteSize+=h,g.Jo(l,y)})},f.prototype.Rr=function(l,h){var g=this;return uc(l).get(pt(h)).next(function(y){return g.Xo(y)})},f.prototype.Zo=function(l,h){var g=this;return uc(l).get(pt(h)).next(function(y){var E=g.Xo(y);return E?{ta:E,size:ii(y)}:null})},f.prototype.getEntries=function(l,h){var g=this,y=le();return this.ea(l,h,function(E,T){var R=g.Xo(T);y=y.ot(E,R)}).next(function(){return y})},f.prototype.na=function(l,h){var g=this,y=le(),E=new $n(Le.i);return this.ea(l,h,function(T,R){var V=g.Xo(R);V?(y=y.ot(T,V),E=E.ot(T,ii(R))):(y=y.ot(T,null),E=E.ot(T,0))}).next(function(){return{sa:y,ia:E}})},f.prototype.ea=function(l,h,g){if(h.m())return Mt.resolve();var y=IDBKeyRange.bound(h.first().path.A(),h.last().path.A()),E=h._t(),T=E.It();return uc(l).rs({range:y},function(R,V,W){for(var re=Le.$(R);T&&Le.i(T,re)<0;)g(T,null),T=E.It();T&&T.isEqual(re)&&(g(T,V),T=E.At()?E.It():null),T?W.Xn(T.path.A()):W.done()}).next(function(){for(;T;)g(T,null),T=E.At()?E.It():null})},f.prototype.Lr=function(l,h,g){var y=this,E=te(),T=h.path.length+1,R={};if(g.isEqual(zt.min())){var V=h.path.A();R.range=IDBKeyRange.lowerBound(V)}else{var W=h.path.A(),re=Zh(g);R.range=IDBKeyRange.lowerBound([W,re],!0),R.index=or.collectionReadTimeIndex}return uc(l).rs(R,function(ge,_e,Ae){if(ge.length===T){var et=oh(y.serializer,_e);h.path.T(et.key.path)?et instanceof oi&&Bl(h,et)&&(E=E.ot(et.key,et)):Ae.done()}}).next(function(){return E})},f.prototype.ra=function(l){return new tp(this,!!l&&l.oa)},f.prototype.aa=function(l){return this.getMetadata(l).next(function(h){return h.byteSize})},f.prototype.getMetadata=function(l){return ah(l).get(Ji.key).next(function(h){return at(!!h),h})},f.prototype.Jo=function(l,h){return ah(l).put(Ji.key,h)},f.prototype.Xo=function(l){if(l){var h=oh(this.serializer,l);return h instanceof kr&&h.version.isEqual(zt.min())?null:h}return null},f}(),tp=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).ca=h,y.oa=g,y.ua=new Kt(function(E){return E.toString()},function(E,T){return E.isEqual(T)}),y}return U.__extends(l,f),l.prototype.yr=function(h){var g=this,y=[],E=0,T=new Ei(function(R,V){return Ut(R.R(),V.R())});return this.wr.forEach(function(R,V){var W=g.ua.get(R);if(V){var re=Bc(g.ca.serializer,V,g.readTime);T=T.add(R.path.h());var ge=ii(re);E+=ge-W,y.push(g.ca.Er(h,R,re))}else if(E-=W,g.oa){var _e=Bc(g.ca.serializer,new kr(R,zt.min()),g.readTime);y.push(g.ca.Er(h,R,_e))}else y.push(g.ca.Ar(h,R))}),T.forEach(function(R){y.push(g.ca.Dr.Mo(h,R))}),y.push(this.ca.updateMetadata(h,E)),Mt.$n(y)},l.prototype.gr=function(h,g){var y=this;return this.ca.Zo(h,g).next(function(E){return null===E?(y.ua.set(g,0),null):(y.ua.set(g,E.size),E.ta)})},l.prototype.Pr=function(h,g){var y=this;return this.ca.na(h,g).next(function(E){var T=E.sa;return E.ia.forEach(function(R,V){y.ua.set(R,V)}),T})},l}(Xf);function ah(f){return ds.Qn(f,Ji.store)}function uc(f){return ds.Qn(f,or.store)}function pt(f){return f.path.A()}function ii(f){var l;if(f.document)l=f.document;else if(f.unknownDocument)l=f.unknownDocument;else{if(!f.noDocument)throw Re();l=f.noDocument}return JSON.stringify(l).length}var Os=function(){function f(){this.ha=new xu}return f.prototype.Mo=function(l,h){return this.ha.add(h),Mt.resolve()},f.prototype.Qr=function(l,h){return Mt.resolve(this.ha.getEntries(h))},f}(),xu=function(){function f(){this.index={}}return f.prototype.add=function(l){var h=l._(),g=l.h(),y=this.index[h]||new Ei(he.i),E=!y.has(g);return this.index[h]=y.add(g),E},f.prototype.has=function(l){var h=l._(),g=l.h(),y=this.index[h];return y&&y.has(g)},f.prototype.getEntries=function(l){return(this.index[l]||new Ei(he.i)).A()},f}(),To=function(){function f(l){this.serializer=l}return f.prototype.createOrUpgrade=function(l,h,g,y){var E=this;at(g<y&&g>=0&&y<=10);var V,T=new Lc("createOrUpgrade",h);g<1&&y>=1&&(l.createObjectStore(Oo.store),(V=l).createObjectStore(So.store,{keyPath:So.keyPath}),V.createObjectStore(Qi.store,{keyPath:Qi.keyPath,autoIncrement:!0}).createIndex(Qi.userMutationsIndex,Qi.userMutationsKeyPath,{unique:!0}),V.createObjectStore(ao.store),Yh(l),function(V){V.createObjectStore(or.store)}(l));var R=Mt.resolve();return g<3&&y>=3&&(0!==g&&(function(V){V.deleteObjectStore(co.store),V.deleteObjectStore(hr.store),V.deleteObjectStore(Jr.store)}(l),Yh(l)),R=R.next(function(){return function(V){var W=V.store(Jr.store),re=new Jr(0,0,zt.min().Z(),0);return W.put(Jr.key,re)}(T)})),g<4&&y>=4&&(0!==g&&(R=R.next(function(){return function(V,W){return W.store(Qi.store).ts().next(function(re){V.deleteObjectStore(Qi.store),V.createObjectStore(Qi.store,{keyPath:Qi.keyPath,autoIncrement:!0}).createIndex(Qi.userMutationsIndex,Qi.userMutationsKeyPath,{unique:!0});var ge=W.store(Qi.store),_e=re.map(function(Ae){return ge.put(Ae)});return Mt.$n(_e)})}(l,T)})),R=R.next(function(){!function(V){V.createObjectStore(ga.store,{keyPath:ga.keyPath})}(l)})),g<5&&y>=5&&(R=R.next(function(){return E.removeAcknowledgedMutations(T)})),g<6&&y>=6&&(R=R.next(function(){return function(V){V.createObjectStore(Ji.store)}(l),E.addDocumentGlobal(T)})),g<7&&y>=7&&(R=R.next(function(){return E.ensureSequenceNumbers(T)})),g<8&&y>=8&&(R=R.next(function(){return E.createCollectionParentIndex(l,T)})),g<9&&y>=9&&(R=R.next(function(){(function(V){V.objectStoreNames.contains("remoteDocumentChanges")&&V.deleteObjectStore("remoteDocumentChanges")})(l),function(V){var W=V.objectStore(or.store);W.createIndex(or.readTimeIndex,or.readTimeIndexPath,{unique:!1}),W.createIndex(or.collectionReadTimeIndex,or.collectionReadTimeIndexPath,{unique:!1})}(h)})),g<10&&y>=10&&(R=R.next(function(){return E.rewriteCanonicalIds(T)})),R},f.prototype.addDocumentGlobal=function(l){var h=0;return l.store(or.store).rs(function(g,y){h+=ii(y)}).next(function(){var g=new Ji(h);return l.store(Ji.store).put(Ji.key,g)})},f.prototype.removeAcknowledgedMutations=function(l){var h=this,g=l.store(So.store),y=l.store(Qi.store);return g.ts().next(function(E){return Mt.forEach(E,function(T){var R=IDBKeyRange.bound([T.userId,-1],[T.userId,T.lastAcknowledgedBatchId]);return y.ts(Qi.userMutationsIndex,R).next(function(V){return Mt.forEach(V,function(W){at(W.userId===T.userId);var re=Mn(h.serializer,W);return Wh(l,T.userId,re).next(function(){})})})})})},f.prototype.ensureSequenceNumbers=function(l){var h=l.store(co.store),g=l.store(or.store);return l.store(Jr.store).get(Jr.key).next(function(y){var E=[];return g.rs(function(T,R){var V=new he(T),W=[0,Ki(V)];E.push(h.get(W).next(function(re){return re?Mt.resolve():h.put(new co(0,Ki(V),y.highestListenSequenceNumber))}))}).next(function(){return Mt.$n(E)})})},f.prototype.createCollectionParentIndex=function(l,h){l.createObjectStore(Xr.store,{keyPath:Xr.keyPath});var g=h.store(Xr.store),y=new xu,E=function(T){if(y.add(T)){var R=T._(),V=T.h();return g.put({collectionId:R,parent:Ki(V)})}};return h.store(or.store).rs({ss:!0},function(T,R){var V=new he(T);return E(V.h())}).next(function(){return h.store(ao.store).rs({ss:!0},function(T,R){var W=qs(T[1]);return E(W.h())})})},f.prototype.rewriteCanonicalIds=function(l){var h=this,g=l.store(hr.store);return g.rs(function(y,E){var T=jc(E),R=ep(h.serializer,T);return g.put(R)})},f}(),od=function(f,l){this.seconds=f,this.nanoseconds=l},Oo=function(f,l,h){this.ownerId=f,this.allowTabSynchronization=l,this.leaseTimestampMs=h};Oo.store="owner",Oo.key="owner";var So=function(f,l,h){this.userId=f,this.lastAcknowledgedBatchId=l,this.lastStreamToken=h};So.store="mutationQueues",So.keyPath="userId";var Qi=function(f,l,h,g,y){this.userId=f,this.batchId=l,this.localWriteTimeMs=h,this.baseMutations=g,this.mutations=y};Qi.store="mutations",Qi.keyPath="batchId",Qi.userMutationsIndex="userMutationsIndex",Qi.userMutationsKeyPath=["userId","batchId"];var ao=function(){function f(){}return f.prefixForUser=function(l){return[l]},f.prefixForPath=function(l,h){return[l,Ki(h)]},f.key=function(l,h,g){return[l,Ki(h),g]},f}();ao.store="documentMutations",ao.PLACEHOLDER=new ao;var np=function(f,l){this.path=f,this.readTime=l},s_=function(f,l){this.path=f,this.version=l},or=function(f,l,h,g,y,E){this.unknownDocument=f,this.noDocument=l,this.document=h,this.hasCommittedMutations=g,this.readTime=y,this.parentPath=E};or.store="remoteDocuments",or.readTimeIndex="readTimeIndex",or.readTimeIndexPath="readTime",or.collectionReadTimeIndex="collectionReadTimeIndex",or.collectionReadTimeIndexPath=["parentPath","readTime"];var Ji=function(f){this.byteSize=f};Ji.store="remoteDocumentGlobal",Ji.key="remoteDocumentGlobalKey";var hr=function(f,l,h,g,y,E,T){this.targetId=f,this.canonicalId=l,this.readTime=h,this.resumeToken=g,this.lastListenSequenceNumber=y,this.lastLimboFreeSnapshotVersion=E,this.query=T};hr.store="targets",hr.keyPath="targetId",hr.queryTargetsIndexName="queryTargetsIndex",hr.queryTargetsKeyPath=["canonicalId","targetId"];var co=function(f,l,h){this.targetId=f,this.path=l,this.sequenceNumber=h};co.store="targetDocuments",co.keyPath=["targetId","path"],co.documentTargetsIndex="documentTargetsIndex",co.documentTargetsKeyPath=["path","targetId"];var Jr=function(f,l,h,g){this.highestTargetId=f,this.highestListenSequenceNumber=l,this.lastRemoteSnapshotVersion=h,this.targetCount=g};Jr.key="targetGlobalKey",Jr.store="targetGlobal";var Xr=function(f,l){this.collectionId=f,this.parent=l};function Yh(f){f.createObjectStore(co.store,{keyPath:co.keyPath}).createIndex(co.documentTargetsIndex,co.documentTargetsKeyPath,{unique:!0}),f.createObjectStore(hr.store,{keyPath:hr.keyPath}).createIndex(hr.queryTargetsIndexName,hr.queryTargetsKeyPath,{unique:!0}),f.createObjectStore(Jr.store)}Xr.store="collectionParents",Xr.keyPath=["collectionId","parent"];var ga=function(f,l,h,g){this.clientId=f,this.updateTimeMs=l,this.networkEnabled=h,this.inForeground=g};ga.store="clientMetadata",ga.keyPath="clientId";var sd=U.__spreadArrays(U.__spreadArrays(U.__spreadArrays([So.store,Qi.store,ao.store,or.store,hr.store,Oo.store,Jr.store,co.store],[ga.store]),[Ji.store]),[Xr.store]),ym=function(){function f(){this.la=new xu}return f.prototype.Mo=function(l,h){var g=this;if(!this.la.has(h)){var y=h._(),E=h.h();l.pr(function(){g.la.add(h)});var T={collectionId:y,parent:Ki(E)};return Eu(l).put(T)}return Mt.resolve()},f.prototype.Qr=function(l,h){var g=[],y=IDBKeyRange.bound([h,""],[Fn(h),""],!1,!0);return Eu(l).ts(y).next(function(E){for(var T=0,R=E;T<R.length;T++){var V=R[T];if(V.collectionId!==h)break;g.push(qs(V.parent))}return g})},f}();function Eu(f){return ds.Qn(f,Xr.store)}var $l=function(){function f(l){this._a=l}return f.prototype.next=function(){return this._a+=2,this._a},f.fa=function(){return new f(0)},f.da=function(){return new f(-1)},f}(),ch=function(){function f(l,h){this.No=l,this.serializer=h}return f.prototype.wa=function(l){var h=this;return this.ma(l).next(function(g){var y=new $l(g.highestTargetId);return g.highestTargetId=y.next(),h.Ta(l,g).next(function(){return g.highestTargetId})})},f.prototype.Ea=function(l){return this.ma(l).next(function(h){return zt.J(new Qt(h.lastRemoteSnapshotVersion.seconds,h.lastRemoteSnapshotVersion.nanoseconds))})},f.prototype.Ia=function(l){return this.ma(l).next(function(h){return h.highestListenSequenceNumber})},f.prototype.Aa=function(l,h,g){var y=this;return this.ma(l).next(function(E){return E.highestListenSequenceNumber=h,g&&(E.lastRemoteSnapshotVersion=g.Z()),h>E.highestListenSequenceNumber&&(E.highestListenSequenceNumber=h),y.Ta(l,E)})},f.prototype.Ra=function(l,h){var g=this;return this.ga(l,h).next(function(){return g.ma(l).next(function(y){return y.targetCount+=1,g.Pa(h,y),g.Ta(l,y)})})},f.prototype.ya=function(l,h){return this.ga(l,h)},f.prototype.Va=function(l,h){var g=this;return this.pa(l,h.targetId).next(function(){return ml(l).delete(h.targetId)}).next(function(){return g.ma(l)}).next(function(y){return at(y.targetCount>0),y.targetCount-=1,g.Ta(l,y)})},f.prototype.po=function(l,h,g){var y=this,E=0,T=[];return ml(l).rs(function(R,V){var W=jc(V);W.sequenceNumber<=h&&null===g.get(W.targetId)&&(E++,T.push(y.Va(l,W)))}).next(function(){return Mt.$n(T)}).next(function(){return E})},f.prototype.Ce=function(l,h){return ml(l).rs(function(g,y){var E=jc(y);h(E)})},f.prototype.ma=function(l){return lh(l).get(Jr.key).next(function(h){return at(null!==h),h})},f.prototype.Ta=function(l,h){return lh(l).put(Jr.key,h)},f.prototype.ga=function(l,h){return ml(l).put(ep(this.serializer,h))},f.prototype.Pa=function(l,h){var g=!1;return l.targetId>h.highestTargetId&&(h.highestTargetId=l.targetId,g=!0),l.sequenceNumber>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=l.sequenceNumber,g=!0),g},f.prototype.ba=function(l){return this.ma(l).next(function(h){return h.targetCount})},f.prototype.va=function(l,h){var g=xt(h),y=IDBKeyRange.bound([g,Number.NEGATIVE_INFINITY],[g,Number.POSITIVE_INFINITY]),E=null;return ml(l).rs({range:y,index:hr.queryTargetsIndexName},function(T,R,V){var W=jc(R);mn(h,W.target)&&(E=W,V.done())}).next(function(){return E})},f.prototype.Sa=function(l,h,g){var y=this,E=[],T=La(l);return h.forEach(function(R){var V=Ki(R.path);E.push(T.put(new co(g,V))),E.push(y.No.Da(l,g,R))}),Mt.$n(E)},f.prototype.Ca=function(l,h,g){var y=this,E=La(l);return Mt.forEach(h,function(T){var R=Ki(T.path);return Mt.$n([E.delete([g,R]),y.No.Na(l,g,T)])})},f.prototype.pa=function(l,h){var g=La(l),y=IDBKeyRange.bound([h],[h+1],!1,!0);return g.delete(y)},f.prototype.Fa=function(l,h){var g=IDBKeyRange.bound([h],[h+1],!1,!0),y=La(l),E=Qe();return y.rs({range:g,ss:!0},function(T,R,V){var W=qs(T[1]),re=new Le(W);E=E.add(re)}).next(function(){return E})},f.prototype.Ho=function(l,h){var g=Ki(h.path),y=IDBKeyRange.bound([g],[Fn(g)],!1,!0),E=0;return La(l).rs({index:co.documentTargetsIndex,ss:!0,range:y},function(T,R,V){0!==T[0]&&(E++,V.done())}).next(function(){return E>0})},f.prototype.Ue=function(l,h){return ml(l).get(h).next(function(g){return g?jc(g):null})},f}();function ml(f){return ds.Qn(f,hr.store)}function lh(f){return ds.Qn(f,Jr.store)}function La(f){return ds.Qn(f,co.store)}var ql="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Mu=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).jo=h,y.xa=g,y}return U.__extends(l,f),l}(th),ds=function(){function f(l,h,g,y,E,T,R,V,W,re){if(this.allowTabSynchronization=l,this.persistenceKey=h,this.clientId=g,this.fn=E,this.window=T,this.document=R,this.$a=W,this.ka=re,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(ge){return Promise.resolve()},!f.Ln())throw new G(z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new hc(this,y),this.Wa=h+"main",this.serializer=new pl(V),this.ja=new es(this.Wa,10,new To(this.serializer)),this.Ka=new ch(this.No,this.serializer),this.Dr=new ym,this.vr=new sh(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===re&&lt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return f.Qn=function(l,h){if(l instanceof Mu)return es.Qn(l.jo,h);throw Re()},f.prototype.start=function(){var l=this;return this.za().then(function(){if(!l.isPrimary&&!l.allowTabSynchronization)throw new G(z.FAILED_PRECONDITION,ql);return l.Ha(),l.Ya(),l.Ja(),l.runTransaction("getHighestListenSequenceNumber","readonly",function(h){return l.Ka.Ia(h)})}).then(function(h){l.Ma=new Io(h,l.$a)}).then(function(){l.Oa=!0}).catch(function(h){return l.ja&&l.ja.close(),Promise.reject(h)})},f.prototype.Xa=function(l){var h=this;return this.Qa=function(g){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){return this.Ei?[2,l(g)]:[2]})})},l(this.isPrimary)},f.prototype.Za=function(l){var h=this;this.ja.Kn(function(g){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){switch(y.label){case 0:return null===g.newVersion?[4,l()]:[3,2];case 1:y.sent(),y.label=2;case 2:return[2]}})})})},f.prototype.tc=function(l){var h=this;this.networkEnabled!==l&&(this.networkEnabled=l,this.fn.ws(function(){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:g.sent(),g.label=2;case 2:return[2]}})})}))},f.prototype.za=function(){var l=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(h){return dc(h).put(new ga(l.clientId,Date.now(),l.networkEnabled,l.inForeground)).next(function(){if(l.isPrimary)return l.ec(h).next(function(g){g||(l.isPrimary=!1,l.fn.Cs(function(){return l.Qa(!1)}))})}).next(function(){return l.nc(h)}).next(function(g){return l.isPrimary&&!g?l.sc(h).next(function(){return!1}):!!g&&l.ic(h).next(function(){return!0})})}).catch(function(h){if(Hs(h))return me("IndexedDbPersistence","Failed to extend owner lease: ",h),l.isPrimary;if(!l.allowTabSynchronization)throw h;return me("IndexedDbPersistence","Releasing owner lease after error during lease refresh",h),!1}).then(function(h){l.isPrimary!==h&&l.fn.Cs(function(){return l.Qa(h)}),l.isPrimary=h})},f.prototype.ec=function(l){var h=this;return gl(l).get(Oo.key).next(function(g){return Mt.resolve(h.rc(g))})},f.prototype.oc=function(l){return dc(l).delete(this.clientId)},f.prototype.ac=function(){return U.__awaiter(this,void 0,void 0,function(){var l,h,g,E=this;return U.__generator(this,function(T){switch(T.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(R){var V=f.Qn(R,ga.store);return V.ts().next(function(W){var re=E.uc(W,18e5),ge=W.filter(function(_e){return-1===re.indexOf(_e)});return Mt.forEach(ge,function(_e){return V.delete(_e.clientId)}).next(function(){return ge})})}).catch(function(){return[]})]);case 1:if(l=T.sent(),this.Ga)for(h=0,g=l;h<g.length;h++)this.Ga.removeItem(this.hc(g[h].clientId));T.label=2;case 2:return[2]}})})},f.prototype.Ja=function(){var l=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return l.za().then(function(){return l.ac()}).then(function(){return l.Ja()})})},f.prototype.rc=function(l){return!!l&&l.ownerId===this.clientId},f.prototype.nc=function(l){var h=this;return this.ka?Mt.resolve(!0):gl(l).get(Oo.key).next(function(g){if(null!==g&&h.cc(g.leaseTimestampMs,5e3)&&!h.lc(g.ownerId)){if(h.rc(g)&&h.networkEnabled)return!0;if(!h.rc(g)){if(!g.allowTabSynchronization)throw new G(z.FAILED_PRECONDITION,ql);return!1}}return!(!h.networkEnabled||!h.inForeground)||dc(l).ts().next(function(y){return void 0===h.uc(y,5e3).find(function(E){return!(h.clientId===E.clientId||!(!h.networkEnabled&&E.networkEnabled||!h.inForeground&&E.inForeground&&h.networkEnabled===E.networkEnabled))})})}).next(function(g){return h.isPrimary!==g&&me("IndexedDbPersistence","Client "+(g?"is":"is not")+" eligible for a primary lease."),g})},f.prototype.Di=function(){return U.__awaiter(this,void 0,void 0,function(){var l=this;return U.__generator(this,function(h){switch(h.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[Oo.store,ga.store],function(g){var y=new Mu(g,Io.ai);return l.sc(y).next(function(){return l.oc(y)})})];case 1:return h.sent(),this.ja.close(),this.wc(),[2]}})})},f.prototype.uc=function(l,h){var g=this;return l.filter(function(y){return g.cc(y.updateTimeMs,h)&&!g.lc(y.clientId)})},f.prototype.pi=function(){var l=this;return this.runTransaction("getActiveClients","readonly",function(h){return dc(h).ts().next(function(g){return l.uc(g,18e5).map(function(y){return y.clientId})})})},Object.defineProperty(f.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),f.prototype.mc=function(l){return rd.xo(l,this.serializer,this.Dr,this.No)},f.prototype.Tc=function(){return this.Ka},f.prototype.Ec=function(){return this.vr},f.prototype.Ic=function(){return this.Dr},f.prototype.runTransaction=function(l,h,g){var E,y=this;return me("IndexedDbPersistence","Starting transaction:",l),this.ja.runTransaction(l,"readonly"===h?"readonly":"readwrite",sd,function(R){return E=new Mu(R,y.Ma?y.Ma.next():Io.ai),"readwrite-primary"===h?y.ec(E).next(function(V){return!!V||y.nc(E)}).next(function(V){if(!V)throw lt("Failed to obtain primary lease for action '"+l+"'."),y.isPrimary=!1,y.fn.Cs(function(){return y.Qa(!1)}),new G(z.FAILED_PRECONDITION,Is);return g(E)}).next(function(V){return y.ic(E).next(function(){return V})}):y.Ac(E).next(function(){return g(E)})}).then(function(R){return E.br(),R})},f.prototype.Ac=function(l){var h=this;return gl(l).get(Oo.key).next(function(g){if(null!==g&&h.cc(g.leaseTimestampMs,5e3)&&!h.lc(g.ownerId)&&!h.rc(g)&&!(h.ka||h.allowTabSynchronization&&g.allowTabSynchronization))throw new G(z.FAILED_PRECONDITION,ql)})},f.prototype.ic=function(l){var h=new Oo(this.clientId,this.allowTabSynchronization,Date.now());return gl(l).put(Oo.key,h)},f.Ln=function(){return es.Ln()},f.prototype.sc=function(l){var h=this,g=gl(l);return g.get(Oo.key).next(function(y){return h.rc(y)?(me("IndexedDbPersistence","Releasing primary lease."),g.delete(Oo.key)):Mt.resolve()})},f.prototype.cc=function(l,h){var g=Date.now();return!(l<g-h||l>g&&(lt("Detected an update time that is in the future: "+l+" > "+g),1))},f.prototype.Ha=function(){var l=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){l.fn.ws(function(){return l.inForeground="visible"===l.document.visibilityState,l.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},f.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},f.prototype.Ya=function(){var l,h=this;"function"==typeof(null===(l=this.window)||void 0===l?void 0:l.addEventListener)&&(this.La=function(){h._c(),h.fn.ws(function(){return h.Di()})},this.window.addEventListener("unload",this.La))},f.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},f.prototype.lc=function(l){var h;try{var g=null!==(null===(h=this.Ga)||void 0===h?void 0:h.getItem(this.hc(l)));return me("IndexedDbPersistence","Client '"+l+"' "+(g?"is":"is not")+" zombied in LocalStorage"),g}catch(y){return lt("IndexedDbPersistence","Failed to get zombied client id.",y),!1}},f.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(l){lt("Failed to set zombie client id.",l)}},f.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch{}},f.prototype.hc=function(l){return"firestore_zombie_"+this.persistenceKey+"_"+l},f}();function gl(f){return ds.Qn(f,Oo.store)}function dc(f){return ds.Qn(f,ga.store)}var hc=function(){function f(l,h){this.db=l,this.wo=new fl(this,h)}return f.prototype.Po=function(l){var h=this.Rc(l);return this.db.Tc().ba(l).next(function(g){return h.next(function(y){return g+y})})},f.prototype.Rc=function(l){var h=0;return this.Vo(l,function(g){h++}).next(function(){return h})},f.prototype.Ce=function(l,h){return this.db.Tc().Ce(l,h)},f.prototype.Vo=function(l,h){return this.gc(l,function(g,y){return h(y)})},f.prototype.Da=function(l,h,g){return fc(l,g)},f.prototype.Na=function(l,h,g){return fc(l,g)},f.prototype.po=function(l,h,g){return this.db.Tc().po(l,h,g)},f.prototype.Go=function(l,h){return fc(l,h)},f.prototype.Pc=function(l,h){return y=h,E=!1,zc(g=l).os(function(T){return Br(g,T,y).next(function(R){return R&&(E=!0),Mt.resolve(!R)})}).next(function(){return E});var g,y,E},f.prototype.bo=function(l,h){var g=this,y=this.db.Ec().ra(),E=[],T=0;return this.gc(l,function(R,V){if(V<=h){var W=g.Pc(l,R).next(function(re){if(!re)return T++,y.Rr(l,R).next(function(){return y.Ar(R),La(l).delete([0,Ki(R.path)])})});E.push(W)}}).next(function(){return Mt.$n(E)}).next(function(){return y.apply(l)}).next(function(){return T})},f.prototype.removeTarget=function(l,h){var g=h.st(l.xa);return this.db.Tc().ya(l,g)},f.prototype.yc=function(l,h){return fc(l,h)},f.prototype.gc=function(l,h){var g,y=La(l),E=Io.ai;return y.rs({index:co.documentTargetsIndex},function(T,R){var W=R.path,re=R.sequenceNumber;0===T[0]?(E!==Io.ai&&h(new Le(qs(g)),E),E=re,g=W):E=Io.ai}).next(function(){E!==Io.ai&&h(new Le(qs(g)),E)})},f.prototype.So=function(l){return this.db.Ec().aa(l)},f}();function fc(f,l){return La(f).put((g=f.xa,new co(0,Ki(l.path),g)));var g}function Gl(f,l){var h=f.projectId;return f.j||(h+="."+f.database),"firestore/"+l+"/"+h+"/"}var ns=function(){function f(l,h,g){this.persistence=l,this.Vc=h,this.bc=new $n(Ut),this.vc=new Kt(function(y){return xt(y)},mn),this.Sc=zt.min(),this.Sr=l.mc(g),this.Dc=l.Ec(),this.Ka=l.Tc(),this.Cc=new wu(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return f.prototype.Io=function(l){var h=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(g){return l.vo(g,h.bc)})},f}();function _a(f,l){var h=We(f);return h.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(g){var T,R,V,W,re,ge,_e,y=l.batch.keys(),E=h.Dc.ra({oa:!0});return(T=h,R=g,V=l,W=E,re=V.batch,ge=re.keys(),_e=Mt.resolve(),ge.forEach(function(Ae){_e=_e.next(function(){return W.Rr(R,Ae)}).next(function(et){var ht=et,an=V.dr.get(Ae);at(null!==an),(!ht||ht.version.L(an)<0)&&(ht=re.cr(Ae,ht,V))&&W.Er(ht,V._r)})}),_e.next(function(){return T.Sr.Wo(R,re)})).next(function(){return E.apply(g)}).next(function(){return h.Sr.zo(g)}).next(function(){return h.Cc.kr(g,y)})})}function sr(f){var l=We(f);return l.persistence.runTransaction("Get last remote snapshot version","readonly",function(h){return l.Ka.Ea(h)})}function va(f,l){var h=We(f),g=l.nt,y=h.bc;return h.persistence.runTransaction("Apply remote event","readwrite-primary",function(E){var T=h.Dc.ra({oa:!0});y=h.bc;var R=[];l.zt.forEach(function(ge,_e){var an,Jt,An,Ae=y.get(_e);if(Ae){R.push(h.Ka.Ca(E,ge.se,_e).next(function(){return h.Ka.Sa(E,ge.ee,_e)}));var et=ge.resumeToken;if(et.O()>0){var ht=Ae.it(et,g).st(E.xa);y=y.ot(_e,ht),an=Ae,An=ge,at((Jt=ht).resumeToken.O()>0),(0===an.resumeToken.O()||Jt.nt.X()-an.nt.X()>=3e8||An.ee.size+An.ne.size+An.se.size>0)&&R.push(h.Ka.ya(E,ht))}}});var V=fe(),W=Qe();if(l.Yt.forEach(function(ge,_e){W=W.add(ge)}),R.push(T.getEntries(E,W).next(function(ge){l.Yt.forEach(function(_e,Ae){var et=ge.get(_e);Ae instanceof kr&&Ae.version.isEqual(zt.min())?(T.Ar(_e,g),V=V.ot(_e,Ae)):null==et||Ae.version.L(et.version)>0||0===Ae.version.L(et.version)&&et.hasPendingWrites?(T.Er(Ae,g),V=V.ot(_e,Ae)):me("LocalStore","Ignoring outdated watch update for ",_e,". Current version:",et.version," Watch version:",Ae.version),l.Jt.has(_e)&&R.push(h.persistence.No.yc(E,_e))})})),!g.isEqual(zt.min())){var re=h.Ka.Ea(E).next(function(ge){return h.Ka.Aa(E,E.xa,g)});R.push(re)}return Mt.$n(R).next(function(){return T.apply(E)}).next(function(){return h.Cc.Mr(E,V)})}).then(function(E){return h.bc=y,E})}function uh(f,l){var h=We(f);return h.persistence.runTransaction("Get next mutation batch","readonly",function(g){return void 0===l&&(l=-1),h.Sr.Bo(g,l)})}function hs(f,l){var h=We(f);return h.persistence.runTransaction("Allocate target","readwrite",function(g){var y;return h.Ka.va(g,l).next(function(E){return E?Mt.resolve(y=E):h.Ka.wa(g).next(function(T){return y=new xi(l,T,0,g.xa),h.Ka.Ra(g,y).next(function(){return y})})})}).then(function(g){var y=h.bc.get(g.targetId);return(null===y||g.nt.L(y.nt)>0)&&(h.bc=h.bc.ot(g.targetId,g),h.vc.set(l,g.targetId)),g})}function zn(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E,T;return U.__generator(this,function(R){switch(R.label){case 0:g=We(f),y=g.bc.get(l),E=h?"readwrite":"readwrite-primary",R.label=1;case 1:return R.trys.push([1,4,,5]),h?[3,3]:[4,g.persistence.runTransaction("Release target",E,function(V){return g.persistence.No.removeTarget(V,y)})];case 2:R.sent(),R.label=3;case 3:return[3,5];case 4:if(!Hs(T=R.sent()))throw T;return me("LocalStore","Failed to update sequence numbers for target "+l+": "+T),[3,5];case 5:return g.bc=g.bc.remove(l),g.vc.delete(y.target),[2]}})})}function ar(f,l,h){var g=We(f),y=zt.min(),E=Qe();return g.persistence.runTransaction("Execute query","readonly",function(T){return(R=g,V=T,W=Bo(l),re=We(R),ge=re.vc.get(W),void 0!==ge?Mt.resolve(re.bc.get(ge)):re.Ka.va(V,W)).next(function(R){if(R)return y=R.lastLimboFreeSnapshotVersion,g.Ka.Fa(T,R.targetId).next(function(V){E=V})}).next(function(){return g.Vc.Lr(T,l,h?y:zt.min(),h?E:Qe())}).next(function(R){return{documents:R,Fc:E}});var R,V,W,re,ge})}function Po(f,l){var h=We(f),g=We(h.Ka),y=h.bc.get(l);return y?Promise.resolve(y.target):h.persistence.runTransaction("Get target data","readonly",function(E){return g.Ue(E,l).next(function(T){return T?T.target:null})})}function Zl(f){var l=We(f);return l.persistence.runTransaction("Get new document changes","readonly",function(h){return y=h,E=l.Sc,T=We(l.Dc),R=fe(),V=Zh(E),W=uc(y),re=IDBKeyRange.lowerBound(V,!0),W.rs({index:or.readTimeIndex,range:re},function(ge,_e){var Ae=oh(T.serializer,_e);R=R.ot(Ae.key,Ae),V=_e.readTime}).next(function(){return{xc:R,readTime:Vr(V)}});var y,E,T,R,V,W,re}).then(function(h){var g=h.xc;return l.Sc=h.readTime,g})}function pc(f){return U.__awaiter(this,void 0,void 0,function(){var l;return U.__generator(this,function(h){return[2,(l=We(f)).persistence.runTransaction("Synchronize last document change read time","readonly",function(g){return E=uc(g),T=zt.min(),E.rs({index:or.readTimeIndex,reverse:!0},function(R,V,W){V.readTime&&(T=Vr(V.readTime)),W.done()}).next(function(){return T});var E,T}).then(function(g){l.Sc=g})]})})}function li(f){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){if(f.code!==z.FAILED_PRECONDITION||f.message!==Is)throw f;return me("LocalStore","Unexpectedly lost primary lease"),[2]})})}var Ua=function(){function f(){this.$c=new Ei(jr.kc),this.Mc=new Ei(jr.Oc)}return f.prototype.m=function(){return this.$c.m()},f.prototype.Da=function(l,h){var g=new jr(l,h);this.$c=this.$c.add(g),this.Mc=this.Mc.add(g)},f.prototype.Lc=function(l,h){var g=this;l.forEach(function(y){return g.Da(y,h)})},f.prototype.Na=function(l,h){this.Bc(new jr(l,h))},f.prototype.qc=function(l,h){var g=this;l.forEach(function(y){return g.Na(y,h)})},f.prototype.Uc=function(l){var h=this,g=new Le(new he([])),y=new jr(g,l),E=new jr(g,l+1),T=[];return this.Mc.Ft([y,E],function(R){h.Bc(R),T.push(R.key)}),T},f.prototype.Qc=function(){var l=this;this.$c.forEach(function(h){return l.Bc(h)})},f.prototype.Bc=function(l){this.$c=this.$c.delete(l),this.Mc=this.Mc.delete(l)},f.prototype.Wc=function(l){var h=new Le(new he([])),g=new jr(h,l),y=new jr(h,l+1),E=Qe();return this.Mc.Ft([g,y],function(T){E=E.add(T.key)}),E},f.prototype.Ho=function(l){var h=new jr(l,0),g=this.$c.$t(h);return null!==g&&l.isEqual(g.key)},f}(),jr=function(){function f(l,h){this.key=l,this.jc=h}return f.kc=function(l,h){return Le.i(l.key,h.key)||Ut(l.jc,h.jc)},f.Oc=function(l,h){return Ut(l.jc,h.jc)||Le.i(l.key,h.key)},f}(),Hc=function(f,l){this.user=l,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+f},Nr=function(){function f(){this.Gc=null}return f.prototype.getToken=function(){return Promise.resolve(null)},f.prototype.zc=function(){},f.prototype.Hc=function(l){this.Gc=l,l(Mo.UNAUTHENTICATED)},f.prototype.Yc=function(){this.Gc=null},f}(),cr=function(){function f(l){var h=this;this.Jc=null,this.currentUser=Mo.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){h.Zc++,h.currentUser=h.tu(),h.Xc=!0,h.Gc&&h.Gc(h.currentUser)},this.Zc=0,this.auth=l.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),l.get().then(function(g){h.auth=g,h.Jc&&h.auth.addAuthTokenListener(h.Jc)},function(){}))}return f.prototype.getToken=function(){var l=this,h=this.Zc,g=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(g).then(function(y){return l.Zc!==h?(me("FirebaseCredentialsProvider","getToken aborted due to token change."),l.getToken()):y?(at("string"==typeof y.accessToken),new Hc(y.accessToken,l.currentUser)):null}):Promise.resolve(null)},f.prototype.zc=function(){this.forceRefresh=!0},f.prototype.Hc=function(l){this.Gc=l,this.Xc&&l(this.currentUser)},f.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},f.prototype.tu=function(){var l=this.auth&&this.auth.getUid();return at(null===l||"string"==typeof l),new Mo(l)},f}(),tr=function(){function f(l,h){this.eu=l,this.nu=h,this.type="FirstParty",this.user=Mo.ni}return Object.defineProperty(f.prototype,"Kc",{get:function(){var l={"X-Goog-AuthUser":this.nu},h=this.eu.auth.getAuthHeaderValueForFirstParty([]);return h&&(l.Authorization=h),l},enumerable:!1,configurable:!0}),f}(),ip=function(){function f(l,h){this.eu=l,this.nu=h}return f.prototype.getToken=function(){return Promise.resolve(new tr(this.eu,this.nu))},f.prototype.Hc=function(l){l(Mo.ni)},f.prototype.Yc=function(){},f.prototype.zc=function(){},f}(),Ss=function(){function f(l,h,g,y,E,T){this.fn=l,this.su=g,this.iu=y,this.ru=E,this.listener=T,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new Ra(l,h)}return f.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},f.prototype.uu=function(){return 2===this.state},f.prototype.start=function(){3!==this.state?this.auth():this.hu()},f.prototype.stop=function(){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){switch(l.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},f.prototype.lu=function(){this.state=0,this.ys.reset()},f.prototype._u=function(){var l=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,function(){return l.fu()}))},f.prototype.du=function(l){this.wu(),this.stream.send(l)},f.prototype.fu=function(){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){return this.uu()?[2,this.close(0)]:[2]})})},f.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},f.prototype.close=function(l,h){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==l?this.ys.reset():h&&h.code===z.RESOURCE_EXHAUSTED?(lt(h.toString()),lt("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):h&&h.code===z.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=l,[4,this.listener.Tu(h)];case 1:return g.sent(),[2]}})})},f.prototype.mu=function(){},f.prototype.auth=function(){var l=this;this.state=1;var h=this.Eu(this.ou),g=this.ou;this.ru.getToken().then(function(y){l.ou===g&&l.Iu(y)},function(y){h(function(){var E=new G(z.UNKNOWN,"Fetching auth token failed: "+y.message);return l.Au(E)})})},f.prototype.Iu=function(l){var h=this,g=this.Eu(this.ou);this.stream=this.Ru(l),this.stream.gu(function(){g(function(){return h.state=2,h.listener.gu()})}),this.stream.Tu(function(y){g(function(){return h.Au(y)})}),this.stream.onMessage(function(y){g(function(){return h.onMessage(y)})})},f.prototype.hu=function(){var l=this;this.state=4,this.ys.gn(function(){return U.__awaiter(l,void 0,void 0,function(){return U.__generator(this,function(h){return this.state=0,this.start(),[2]})})})},f.prototype.Au=function(l){return me("PersistentStream","close with error: "+l),this.stream=null,this.close(3,l)},f.prototype.Eu=function(l){var h=this;return function(g){h.fn.ws(function(){return h.ou===l?g():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},f}(),ad=function(f){function l(h,g,y,E,T){var R=this;return(R=f.call(this,h,"listen_stream_connection_backoff","listen_stream_idle",g,y,T)||this).serializer=E,R}return U.__extends(l,f),l.prototype.Ru=function(h){return this.iu.Pu("Listen",h)},l.prototype.onMessage=function(h){this.ys.reset();var g=function(E,T){var R,Qs;if("targetChange"in T){var V="NO_CHANGE"===(Qs=T.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Qs?1:"REMOVE"===Qs?2:"CURRENT"===Qs?3:"RESET"===Qs?4:Re(),W=T.targetChange.targetIds||[],re=function(Qs,_c){return Qs.Qe?(at(void 0===_c||"string"==typeof _c),Vn.fromBase64String(_c||"")):(at(void 0===_c||_c instanceof Uint8Array),Vn.fromUint8Array(_c||new Uint8Array))}(E,T.targetChange.resumeToken),ge=T.targetChange.cause,_e=ge&&function(Qs){var _c=void 0===Qs.code?z.UNKNOWN:Li(Qs.code);return new G(_c,Qs.message||"")}(ge);R=new Je(V,W,re,_e||null)}else if("documentChange"in T){var Ae=T.documentChange,et=Zi(E,Ae.document.name),ht=bo(Ae.document.updateTime),an=new Ar({mapValue:{fields:Ae.document.fields}}),Jt=new oi(et,ht,an,{});R=new vr(Ae.targetIds||[],Ae.removedTargetIds||[],Jt.key,Jt)}else if("documentDelete"in T){var _i=T.documentDelete,wi=Zi(E,_i.document),fr=_i.readTime?bo(_i.readTime):zt.min(),Ks=new kr(wi,fr);R=new vr([],_i.removedTargetIds||[],Ks.key,Ks)}else if("documentRemove"in T){var uf=T.documentRemove,dp=Zi(E,uf.document);R=new vr([],uf.removedTargetIds||[],dp,null)}else{if(!("filter"in T))return Re();var wh=T.filter,Ed=new yi(wh.count||0);R=new Yo(wh.targetId,Ed)}return R}(this.serializer,h),y=function(E){if(!("targetChange"in E))return zt.min();var T=E.targetChange;return T.targetIds&&T.targetIds.length?zt.min():T.readTime?bo(T.readTime):zt.min()}(h);return this.listener.yu(g,y)},l.prototype.Vu=function(h){var E,T,R,V,g={};g.database=ws(this.serializer),g.addTarget=(E=this.serializer,(R=jt(V=(T=h).target)?{documents:Sa(E,V)}:{query:wr(E,V)}).targetId=T.targetId,T.resumeToken.O()>0&&(R.resumeToken=sl(E,T.resumeToken)),R);var y=function(E,T){var R=function(V,W){switch(W){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Re()}}(0,T.et);return null==R?null:{"goog-listen-tags":R}}(0,h);y&&(g.labels=y),this.du(g)},l.prototype.pu=function(h){var g={};g.database=ws(this.serializer),g.removeTarget=h,this.du(g)},l}(Ss),bm=function(f){function l(h,g,y,E,T){var R=this;return(R=f.call(this,h,"write_stream_connection_backoff","write_stream_idle",g,y,T)||this).serializer=E,R.bu=!1,R}return U.__extends(l,f),Object.defineProperty(l.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),l.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,f.prototype.start.call(this)},l.prototype.mu=function(){this.bu&&this.Su([])},l.prototype.Ru=function(h){return this.iu.Pu("Write",h)},l.prototype.onMessage=function(h){if(at(!!h.streamToken),this.lastStreamToken=h.streamToken,this.bu){this.ys.reset();var g=(T=h.commitTime,(E=h.writeResults)&&E.length>0?(at(void 0!==T),E.map(function(R){return function(V,W){var re=bo(V.updateTime?V.updateTime:W);re.isEqual(zt.min())&&(re=bo(W));var ge=null;return V.transformResults&&V.transformResults.length>0&&(ge=V.transformResults),new Pa(re,ge)}(R,T)})):[]),y=bo(h.commitTime);return this.listener.Du(y,g)}var E,T;return at(!h.writeResults||0===h.writeResults.length),this.bu=!0,this.listener.Cu()},l.prototype.Nu=function(){var h={};h.database=ws(this.serializer),this.du(h)},l.prototype.Su=function(h){var g=this,y={streamToken:this.lastStreamToken,writes:h.map(function(E){return Ui(g.serializer,E)})};this.du(y)},l}(Ss),cd=function(f){function l(h,g,y){var E=this;return(E=f.call(this)||this).credentials=h,E.iu=g,E.serializer=y,E.Fu=!1,E}return U.__extends(l,f),l.prototype.xu=function(){if(this.Fu)throw new G(z.FAILED_PRECONDITION,"The client has already been terminated.")},l.prototype.$u=function(h,g,y){var E=this;return this.xu(),this.credentials.getToken().then(function(T){return E.iu.$u(h,g,y,T)}).catch(function(T){throw T.code===z.UNAUTHENTICATED&&E.credentials.zc(),T})},l.prototype.ku=function(h,g,y){var E=this;return this.xu(),this.credentials.getToken().then(function(T){return E.iu.ku(h,g,y,T)}).catch(function(T){throw T.code===z.UNAUTHENTICATED&&E.credentials.zc(),T})},l.prototype.terminate=function(){this.Fu=!1},l}(function(){}),ld=function(){function f(l,h){this.cs=l,this.di=h,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return f.prototype.Bu=function(){var l=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return l.Ou=null,l.Uu("Backend didn't respond within 10 seconds."),l.qu("Offline"),Promise.resolve()}))},f.prototype.Qu=function(l){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+l.toString()),this.qu("Offline")))},f.prototype.set=function(l){this.Wu(),this.Mu=0,"Online"===l&&(this.Lu=!1),this.qu(l)},f.prototype.qu=function(l){l!==this.state&&(this.state=l,this.di(l))},f.prototype.Uu=function(l){var h="Could not reach Cloud Firestore backend. "+l+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(lt(h),this.Lu=!1):me("OnlineStateTracker",h)},f.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},f}(),rp=function(f,l,h,g,y){var E=this;this.ju=f,this.Ku=l,this.cs=h,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=y,this.Xu.Zu(function(T){h.ws(function(){return U.__awaiter(E,void 0,void 0,function(){return U.__generator(this,function(R){switch(R.label){case 0:return fs(this)?(me("RemoteStore","Restarting streams for network reachability change."),[4,function(V){return U.__awaiter(this,void 0,void 0,function(){var W;return U.__generator(this,function(re){switch(re.label){case 0:return(W=We(V)).Yu.add(4),[4,Wl(W)];case 1:return re.sent(),W.th.set("Unknown"),W.Yu.delete(4),[4,ud(W)];case 2:return re.sent(),[2]}})})}(this)]):[3,2];case 1:R.sent(),R.label=2;case 2:return[2]}})})})}),this.th=new ld(h,g)};function ud(f){return U.__awaiter(this,void 0,void 0,function(){var l,h;return U.__generator(this,function(g){switch(g.label){case 0:if(!fs(f))return[3,4];l=0,h=f.Ju,g.label=1;case 1:return l<h.length?[4,(0,h[l])(!0)]:[3,4];case 2:g.sent(),g.label=3;case 3:return l++,[3,1];case 4:return[2]}})})}function Wl(f){return U.__awaiter(this,void 0,void 0,function(){var l,h;return U.__generator(this,function(g){switch(g.label){case 0:l=0,h=f.Ju,g.label=1;case 1:return l<h.length?[4,(0,h[l])(!1)]:[3,4];case 2:g.sent(),g.label=3;case 3:return l++,[3,1];case 4:return[2]}})})}function Kh(f){return U.__awaiter(this,void 0,void 0,function(){var l;return U.__generator(this,function(h){switch(h.label){case 0:return l=We(f),me("RemoteStore","RemoteStore shutting down."),l.Yu.add(5),[4,Wl(l)];case 1:return h.sent(),l.Xu.Di(),l.th.set("Unknown"),[2]}})})}function dh(f,l){var h=We(f);h.Hu.has(l.targetId)||(h.Hu.set(l.targetId,l),Iu(h)?_l(h):Zs(h).uu()&&qc(h,l))}function $c(f,l){var h=We(f),g=Zs(h);h.Hu.delete(l),g.uu()&&dd(h,l),0===h.Hu.size&&(g.uu()?g._u():fs(h)&&h.th.set("Unknown"))}function qc(f,l){f.eh.Ie(l.targetId),Zs(f).Vu(l)}function dd(f,l){f.eh.Ie(l),Zs(f).pu(l)}function _l(f){f.eh=new _t({qe:function(l){return f.Gu.qe(l)},Ue:function(l){return f.Hu.get(l)||null}}),Zs(f).start(),f.th.Bu()}function Iu(f){return fs(f)&&!Zs(f).cu()&&f.Hu.size>0}function fs(f){return 0===We(f).Yu.size}function Qh(f){f.eh=void 0}function Jh(f){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){return f.Hu.forEach(function(h,g){qc(f,h)}),[2]})})}function hh(f,l){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){return Qh(f),Iu(f)?(f.th.Qu(l),_l(f)):f.th.set("Unknown"),[2]})})}function Xh(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E;return U.__generator(this,function(T){switch(T.label){case 0:if(f.th.set("Online"),!(l instanceof Je&&2===l.state&&l.cause))return[3,6];T.label=1;case 1:return T.trys.push([1,3,,5]),[4,function(R,V){return U.__awaiter(this,void 0,void 0,function(){var W,re,ge,_e;return U.__generator(this,function(Ae){switch(Ae.label){case 0:W=V.cause,re=0,ge=V.targetIds,Ae.label=1;case 1:return re<ge.length?R.Hu.has(_e=ge[re])?[4,R.Gu.nh(_e,W)]:[3,3]:[3,5];case 2:Ae.sent(),R.Hu.delete(_e),R.eh.removeTarget(_e),Ae.label=3;case 3:Ae.label=4;case 4:return re++,[3,1];case 5:return[2]}})})}(f,l)];case 2:return T.sent(),[3,5];case 3:return g=T.sent(),me("RemoteStore","Failed to remove targets %s: %s ",l.targetIds.join(","),g),[4,$o(f,g)];case 4:return T.sent(),[3,5];case 5:return[3,13];case 6:if(l instanceof vr?f.eh.be(l):l instanceof Yo?f.eh.$e(l):f.eh.De(l),h.isEqual(zt.min()))return[3,13];T.label=7;case 7:return T.trys.push([7,11,,13]),[4,sr(f.ju)];case 8:return y=T.sent(),h.L(y)>=0?[4,(R=f,V=h,W=R.eh.Oe(V),W.zt.forEach(function(re,ge){if(re.resumeToken.O()>0){var _e=R.Hu.get(ge);_e&&R.Hu.set(ge,_e.it(re.resumeToken,V))}}),W.Ht.forEach(function(re){var ge=R.Hu.get(re);if(ge){R.Hu.set(re,ge.it(Vn.B,ge.nt)),dd(R,re);var _e=new xi(ge.target,re,1,ge.sequenceNumber);qc(R,_e)}}),R.Gu.sh(W))]:[3,10];case 9:T.sent(),T.label=10;case 10:return[3,13];case 11:return me("RemoteStore","Failed to raise snapshot:",E=T.sent()),[4,$o(f,E)];case 12:return T.sent(),[3,13];case 13:return[2]}var R,V,W})})}function $o(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g=this;return U.__generator(this,function(y){switch(y.label){case 0:if(!Hs(l))throw l;return f.Yu.add(1),[4,Wl(f)];case 1:return y.sent(),f.th.set("Offline"),h||(h=function(){return sr(f.ju)}),f.cs.Cs(function(){return U.__awaiter(g,void 0,void 0,function(){return U.__generator(this,function(E){switch(E.label){case 0:return me("RemoteStore","Retrying IndexedDB access"),[4,h()];case 1:return E.sent(),f.Yu.delete(1),[4,ud(f)];case 2:return E.sent(),[2]}})})}),[2]}})})}function hd(f,l){return l().catch(function(h){return $o(f,h,l)})}function Gs(f){return U.__awaiter(this,void 0,void 0,function(){var l,h,g,y,E;return U.__generator(this,function(T){switch(T.label){case 0:l=We(f),h=Ps(l),g=l.zu.length>0?l.zu[l.zu.length-1].batchId:-1,T.label=1;case 1:if(!(fs(R=l)&&R.zu.length<10))return[3,7];T.label=2;case 2:return T.trys.push([2,4,,6]),[4,uh(l.ju,g)];case 3:return null===(y=T.sent())?(0===l.zu.length&&h._u(),[3,7]):(g=y.batchId,function(R,V){R.zu.push(V);var W=Ps(R);W.uu()&&W.vu&&W.Su(V.mutations)}(l,y),[3,6]);case 4:return E=T.sent(),[4,$o(l,E)];case 5:return T.sent(),[3,6];case 6:return[3,1];case 7:return Yl(l)&&Tu(l),[2]}var R})})}function Yl(f){return fs(f)&&!Ps(f).cu()&&f.zu.length>0}function Tu(f){Ps(f).start()}function Kl(f){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){return Ps(f).Nu(),[2]})})}function Ql(f){return U.__awaiter(this,void 0,void 0,function(){var l,h,g;return U.__generator(this,function(E){for(l=Ps(f),h=0,g=f.zu;h<g.length;h++)l.Su(g[h].mutations);return[2]})})}function fd(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y;return U.__generator(this,function(E){switch(E.label){case 0:return g=f.zu.shift(),y=bu.from(g,l,h),[4,hd(f,function(){return f.Gu.ih(y)})];case 1:return E.sent(),[4,Gs(f)];case 2:return E.sent(),[2]}})})}function Jl(f,l){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){switch(h.label){case 0:return l&&Ps(f).vu?[4,function(g,y){return U.__awaiter(this,void 0,void 0,function(){var E,T;return U.__generator(this,function(R){switch(R.label){case 0:return Hn(T=y.code)&&T!==z.ABORTED?(E=g.zu.shift(),Ps(g).lu(),[4,hd(g,function(){return g.Gu.rh(E.batchId,y)})]):[3,3];case 1:return R.sent(),[4,Gs(g)];case 2:R.sent(),R.label=3;case 3:return[2]}})})}(f,l)]:[3,2];case 1:h.sent(),h.label=2;case 2:return Yl(f)&&Tu(f),[2]}})})}function Xl(f,l){return U.__awaiter(this,void 0,void 0,function(){var h;return U.__generator(this,function(y){switch(y.label){case 0:return h=We(f),l?(h.Yu.delete(2),[4,ud(h)]):[3,2];case 1:return y.sent(),[3,5];case 2:return l?[3,4]:(h.Yu.add(2),[4,Wl(h)]);case 3:y.sent(),h.th.set("Unknown"),y.label=4;case 4:y.label=5;case 5:return[2]}})})}function Zs(f){var h,g,y,E,l=this;return f.oh||(f.oh=(h=f.Ku,g=f.cs,y={gu:Jh.bind(null,f),Tu:hh.bind(null,f),yu:Xh.bind(null,f)},(E=We(h)).xu(),new ad(g,E.iu,E.credentials,E.serializer,y)),f.Ju.push(function(h){return U.__awaiter(l,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return h?(f.oh.lu(),Iu(f)?_l(f):f.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,f.oh.stop()];case 2:g.sent(),Qh(f),g.label=3;case 3:return[2]}})})})),f.oh}function Ps(f){var h,g,y,E,l=this;return f.ah||(f.ah=(h=f.Ku,g=f.cs,y={gu:Kl.bind(null,f),Tu:Jl.bind(null,f),Cu:Ql.bind(null,f),Du:fd.bind(null,f)},(E=We(h)).xu(),new bm(g,E.iu,E.credentials,E.serializer,y)),f.Ju.push(function(h){return U.__awaiter(l,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return h?(f.ah.lu(),[4,Gs(f)]):[3,2];case 1:return g.sent(),[3,4];case 2:return[4,f.ah.stop()];case 3:g.sent(),f.zu.length>0&&(me("RemoteStore","Stopping write stream with "+f.zu.length+" pending writes"),f.zu=[]),g.label=4;case 4:return[2]}})})})),f.ah}var op=function(f){this.key=f},pd=function(f){this.key=f},Va=function(){function f(l,h){this.query=l,this.uh=h,this.hh=null,this.te=!1,this.lh=Qe(),this.Wt=Qe(),this._h=vu(l),this.fh=new Vt(this._h)}return Object.defineProperty(f.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),f.prototype.wh=function(l,h){var g=this,y=h?h.mh:new Xn,E=h?h.fh:this.fh,T=h?h.Wt:this.Wt,R=E,V=!1,W=Ac(this.query)&&E.size===this.query.limit?E.last():null,re=oc(this.query)&&E.size===this.query.limit?E.first():null;if(l.ht(function(_e,Ae){var et=E.get(_e),ht=Ae instanceof oi?Ae:null;ht&&(ht=Bl(g.query,ht)?ht:null);var an=!!et&&g.Wt.has(et.key),Jt=!!ht&&(ht.Je||g.Wt.has(ht.key)&&ht.hasCommittedMutations),An=!1;et&&ht?et.data().isEqual(ht.data())?an!==Jt&&(y.track({type:3,doc:ht}),An=!0):g.Th(et,ht)||(y.track({type:2,doc:ht}),An=!0,(W&&g._h(ht,W)>0||re&&g._h(ht,re)<0)&&(V=!0)):!et&&ht?(y.track({type:0,doc:ht}),An=!0):et&&!ht&&(y.track({type:1,doc:et}),An=!0,(W||re)&&(V=!0)),An&&(ht?(R=R.add(ht),T=Jt?T.add(_e):T.delete(_e)):(R=R.delete(_e),T=T.delete(_e)))}),Ac(this.query)||oc(this.query))for(;R.size>this.query.limit;){var ge=Ac(this.query)?R.last():R.first();R=R.delete(ge.key),T=T.delete(ge.key),y.track({type:1,doc:ge})}return{fh:R,mh:y,Eh:V,Wt:T}},f.prototype.Th=function(l,h){return l.Je&&h.hasCommittedMutations&&!h.Je},f.prototype.yr=function(l,h,g){var y=this,E=this.fh;this.fh=l.fh,this.Wt=l.Wt;var T=l.mh.Ut();T.sort(function(re,ge){return Ae=ge.type,(et=function(ht){switch(ht){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}})(re.type)-et(Ae)||y._h(re.doc,ge.doc);var Ae,et}),this.Ih(g);var R=h?this.Ah():[],V=0===this.lh.size&&this.te?1:0,W=V!==this.hh;return this.hh=V,0!==T.length||W?{snapshot:new xn(this.query,l.fh,E,T,l.Wt,0===V,W,!1),Rh:R}:{Rh:R}},f.prototype.Qs=function(l){return this.te&&"Offline"===l?(this.te=!1,this.yr({fh:this.fh,mh:new Xn,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},f.prototype.gh=function(l){return!this.uh.has(l)&&!!this.fh.has(l)&&!this.fh.get(l).Je},f.prototype.Ih=function(l){var h=this;l&&(l.ee.forEach(function(g){return h.uh=h.uh.add(g)}),l.ne.forEach(function(g){}),l.se.forEach(function(g){return h.uh=h.uh.delete(g)}),this.te=l.te)},f.prototype.Ah=function(){var l=this;if(!this.te)return[];var h=this.lh;this.lh=Qe(),this.fh.forEach(function(y){l.gh(y.key)&&(l.lh=l.lh.add(y.key))});var g=[];return h.forEach(function(y){l.lh.has(y)||g.push(new pd(y))}),this.lh.forEach(function(y){h.has(y)||g.push(new op(y))}),g},f.prototype.Ph=function(l){this.uh=l.Fc,this.lh=Qe();var h=this.wh(l.documents);return this.yr(h,!0)},f.prototype.yh=function(){return xn.Gt(this.query,this.fh,this.Wt,0===this.hh)},f}(),fh=function(f,l,h){this.query=f,this.targetId=l,this.view=h},ph=function(f){this.key=f,this.Vh=!1},vl=function(){function f(l,h,g,y,E,T){this.ju=l,this.ph=h,this.bh=g,this.Sh=y,this.currentUser=E,this.Dh=T,this.Ch={},this.Nh=new Kt(function(R){return fa(R)},ac),this.Fh=new Map,this.xh=[],this.$h=new $n(Le.i),this.kh=new Map,this.Mh=new Ua,this.Oh={},this.Lh=new Map,this.Bh=$l.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(f.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),f}();function is(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,y,E,T,R;return U.__generator(this,function(V){switch(V.label){case 0:return h=Xi(f),(E=h.Nh.get(l))?(h.Sh.Oi(E.targetId),y=E.view.yh(),[3,4]):[3,1];case 1:return[4,hs(h.ju,Bo(l))];case 2:return T=V.sent(),R=h.Sh.Oi(T.targetId),[4,Gc(h,l,T.targetId,"current"===R)];case 3:y=V.sent(),h.Uh&&dh(h.ph,T),V.label=4;case 4:return[2,y]}})})}function Gc(f,l,h,g){return U.__awaiter(this,void 0,void 0,function(){var y,E,T,R,V,W;return U.__generator(this,function(re){switch(re.label){case 0:return f.Qh=function(ge,_e,Ae){return function(et,ht,an,Jt){return U.__awaiter(this,void 0,void 0,function(){var An,Jn,_i;return U.__generator(this,function(wi){switch(wi.label){case 0:return(An=ht.view.wh(an)).Eh?[4,ar(et.ju,ht.query,!1).then(function(fr){return ht.view.wh(fr.documents,An)})]:[3,2];case 1:An=wi.sent(),wi.label=2;case 2:return Jn=Jt&&Jt.zt.get(ht.targetId),_i=ht.view.yr(An,et.Uh,Jn),[2,(D(et,ht.targetId,_i.Rh),_i.snapshot)]}})})}(f,ge,_e,Ae)},[4,ar(f.ju,l,!0)];case 1:return y=re.sent(),E=new Va(l,y.Fc),T=E.wh(y.documents),R=Rn.Zt(h,g&&"Offline"!==f.onlineState),V=E.yr(T,f.Uh,R),D(f,h,V.Rh),W=new fh(l,h,E),[2,(f.Nh.set(l,W),f.Fh.has(h)?f.Fh.get(h).push(l):f.Fh.set(h,[l]),V.snapshot)]}})})}function Ri(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y;return U.__generator(this,function(E){switch(E.label){case 0:return h=We(f),g=h.Nh.get(l),(y=h.Fh.get(g.targetId)).length>1?[2,(h.Fh.set(g.targetId,y.filter(function(T){return!ac(T,l)})),void h.Nh.delete(l))]:h.Uh?(h.Sh.Bi(g.targetId),h.Sh.Fi(g.targetId)?[3,2]:[4,zn(h.ju,g.targetId,!1).then(function(){h.Sh.Ui(g.targetId),$c(h.ph,g.targetId),Ba(h,g.targetId)}).catch(li)]):[3,3];case 1:E.sent(),E.label=2;case 2:return[3,5];case 3:return Ba(h,g.targetId),[4,zn(h.ju,g.targetId,!0)];case 4:E.sent(),E.label=5;case 5:return[2]}})})}function mc(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g;return U.__generator(this,function(y){switch(y.label){case 0:h=We(f),y.label=1;case 1:return y.trys.push([1,4,,6]),[4,va(h.ju,l)];case 2:return g=y.sent(),l.zt.forEach(function(E,T){var R=h.kh.get(T);R&&(at(E.ee.size+E.ne.size+E.se.size<=1),E.ee.size>0?R.Vh=!0:E.ne.size>0?at(R.Vh):E.se.size>0&&(at(R.Vh),R.Vh=!1))}),[4,oe(h,g,l)];case 3:return y.sent(),[3,6];case 4:return[4,li(y.sent())];case 5:return y.sent(),[3,6];case 6:return[2]}})})}function md(f,l,h){var g=We(f);if(g.Uh&&0===h||!g.Uh&&1===h){var y=[];g.Nh.forEach(function(E,T){var R=T.view.Qs(l);R.snapshot&&y.push(R.snapshot)}),function(E,T){var R=We(E);R.onlineState=T;var V=!1;R.Bs.forEach(function(W,re){for(var ge=0,_e=re.listeners;ge<_e.length;ge++)_e[ge].Qs(T)&&(V=!0)}),V&&$s(R)}(g.bh,l),y.length&&g.Ch.yu(y),g.onlineState=l,g.Uh&&g.Sh.Ki(l)}}function Oi(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E,T,R,V;return U.__generator(this,function(W){switch(W.label){case 0:return(g=We(f)).Sh.Qi(l,"rejected",h),y=g.kh.get(l),(E=y&&y.key)?(T=(T=new $n(Le.i)).ot(E,new kr(E,zt.min())),R=Qe().add(E),V=new ai(zt.min(),new Map,new Ei(Ut),T,R),[4,mc(g,V)]):[3,2];case 1:return W.sent(),g.$h=g.$h.remove(E),g.kh.delete(l),H(g),[3,4];case 2:return[4,zn(g.ju,l,!1).then(function(){return Ba(g,l,h)}).catch(li)];case 3:W.sent(),W.label=4;case 4:return[2]}})})}function gd(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y;return U.__generator(this,function(E){switch(E.label){case 0:h=We(f),g=l.batch.batchId,E.label=1;case 1:return E.trys.push([1,4,,6]),[4,_a(h.ju,l)];case 2:return y=E.sent(),yl(h,g,null),ps(h,g),h.Sh.ki(g,"acknowledged"),[4,oe(h,y)];case 3:return E.sent(),[3,6];case 4:return[4,li(E.sent())];case 5:return E.sent(),[3,6];case 6:return[2]}})})}function sp(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y;return U.__generator(this,function(E){switch(E.label){case 0:g=We(f),E.label=1;case 1:return E.trys.push([1,4,,6]),[4,(T=g.ju,R=l,V=We(T),V.persistence.runTransaction("Reject batch","readwrite-primary",function(W){var re;return V.Sr.Oo(W,R).next(function(ge){return at(null!==ge),re=ge.keys(),V.Sr.Wo(W,ge)}).next(function(){return V.Sr.zo(W)}).next(function(){return V.Cc.kr(W,re)})}))];case 2:return y=E.sent(),yl(g,l,h),ps(g,l),g.Sh.ki(l,"rejected",h),[4,oe(g,y)];case 3:return E.sent(),[3,6];case 4:return[4,li(E.sent())];case 5:return E.sent(),[3,6];case 6:return[2]}var T,R,V})})}function ps(f,l){(f.Lh.get(l)||[]).forEach(function(h){h.resolve()}),f.Lh.delete(l)}function yl(f,l,h){var g=We(f),y=g.Oh[g.currentUser.ti()];if(y){var E=y.get(l);E&&(h?E.reject(h):E.resolve(),y=y.remove(l)),g.Oh[g.currentUser.ti()]=y}}function Ba(f,l,h){void 0===h&&(h=null),f.Sh.Bi(l);for(var g=0,y=f.Fh.get(l);g<y.length;g++){var E=y[g];f.Nh.delete(E),h&&f.Ch.Wh(E,h)}f.Fh.delete(l),f.Uh&&f.Mh.Uc(l).forEach(function(T){f.Mh.Ho(T)||Zc(f,T)})}function Zc(f,l){var h=f.$h.get(l);null!==h&&($c(f.ph,h),f.$h=f.$h.remove(l),f.kh.delete(h),H(f))}function D(f,l,h){for(var g=0,y=h;g<y.length;g++){var E=y[g];E instanceof op?(f.Mh.Da(E.key,l),F(f,E)):E instanceof pd?(me("SyncEngine","Document no longer in limbo: "+E.key),f.Mh.Na(E.key,l),f.Mh.Ho(E.key)||Zc(f,E.key)):Re()}}function F(f,l){var h=l.key;f.$h.get(h)||(me("SyncEngine","New document in limbo: "+h),f.xh.push(h),H(f))}function H(f){for(;f.xh.length>0&&f.$h.size<f.Dh;){var l=f.xh.shift(),h=f.Bh.next();f.kh.set(h,new ph(l)),f.$h=f.$h.ot(l,h),dh(f.ph,new xi(Bo(Aa(l.path)),h,2,Io.ai))}}function oe(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E,T;return U.__generator(this,function(R){switch(R.label){case 0:return g=We(f),y=[],E=[],T=[],g.Nh.m()?[3,3]:(g.Nh.forEach(function(V,W){T.push(g.Qh(W,l,h).then(function(re){if(re){g.Uh&&g.Sh.Qi(W.targetId,re.fromCache?"not-current":"current"),y.push(re);var ge=Ti.zr(W.targetId,re);E.push(ge)}}))}),[4,Promise.all(T)]);case 1:return R.sent(),g.Ch.yu(y),[4,function(V,W){return U.__awaiter(this,void 0,void 0,function(){var re,ge,_e,Ae,et,ht,an,An;return U.__generator(this,function(Jn){switch(Jn.label){case 0:re=We(V),Jn.label=1;case 1:return Jn.trys.push([1,3,,4]),[4,re.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(_i){return Mt.forEach(W,function(wi){return Mt.forEach(wi.Kr,function(fr){return re.persistence.No.Da(_i,wi.targetId,fr)}).next(function(){return Mt.forEach(wi.Gr,function(fr){return re.persistence.No.Na(_i,wi.targetId,fr)})})})})];case 2:return Jn.sent(),[3,4];case 3:if(!Hs(ge=Jn.sent()))throw ge;return me("LocalStore","Failed to update sequence numbers: "+ge),[3,4];case 4:for(_e=0,Ae=W;_e<Ae.length;_e++)ht=(et=Ae[_e]).targetId,et.fromCache||(an=re.bc.get(ht),An=an.rt(an.nt),re.bc=re.bc.ot(ht,An));return[2]}})})}(g.ju,E)];case 2:R.sent(),R.label=3;case 3:return[2]}})})}function be(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g;return U.__generator(this,function(y){switch(y.label){case 0:return(h=We(f)).currentUser.isEqual(l)?[3,3]:(me("SyncEngine","User change. New user:",l.ti()),[4,function(E,T){return U.__awaiter(this,void 0,void 0,function(){var R,V,W,re;return U.__generator(this,function(ge){switch(ge.label){case 0:return R=We(E),V=R.Sr,W=R.Cc,[4,R.persistence.runTransaction("Handle user change","readonly",function(_e){var Ae;return R.Sr.Uo(_e).next(function(et){return Ae=et,V=R.persistence.mc(T),W=new wu(R.Dc,V,R.persistence.Ic()),V.Uo(_e)}).next(function(et){for(var ht=[],an=[],Jt=Qe(),An=0,Jn=Ae;An<Jn.length;An++){var _i=Jn[An];ht.push(_i.batchId);for(var wi=0,fr=_i.mutations;wi<fr.length;wi++)Jt=Jt.add(fr[wi].key)}for(var Yc=0,uf=et;Yc<uf.length;Yc++){var dp=uf[Yc];an.push(dp.batchId);for(var df=0,wh=dp.mutations;df<wh.length;df++)Jt=Jt.add(wh[df].key)}return W.kr(_e,Jt).next(function(Ed){return{jh:Ed,Kh:ht,Gh:an}})})})];case 1:return re=ge.sent(),[2,(R.Sr=V,R.Cc=W,R.Vc.Nc(R.Cc),re)]}})})}(h.ju,l)]);case 1:return g=y.sent(),h.currentUser=l,(E=h).Lh.forEach(function(R){R.forEach(function(V){V.reject(new G(z.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),E.Lh.clear(),h.Sh.ji(l,g.Kh,g.Gh),[4,oe(h,g.jh)];case 2:y.sent(),y.label=3;case 3:return[2]}var E})})}function Ue(f,l){var h=We(f),g=h.kh.get(l);if(g&&g.Vh)return Qe().add(g.key);var y=Qe(),E=h.Fh.get(l);if(!E)return y;for(var T=0,R=E;T<R.length;T++){var W=h.Nh.get(R[T]);y=y.kt(W.view.dh)}return y}function rt(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y;return U.__generator(this,function(E){switch(E.label){case 0:return[4,ar((h=We(f)).ju,l.query,!0)];case 1:return g=E.sent(),y=l.view.Ph(g),[2,(h.Uh&&D(h,l.targetId,y.Rh),y)]}})})}function Bt(f,l,h,g){return U.__awaiter(this,void 0,void 0,function(){var y,E;return U.__generator(this,function(T){switch(T.label){case 0:return[4,(R=(y=We(f)).ju,V=l,W=We(R),re=We(W.Sr),W.persistence.runTransaction("Lookup mutation documents","readonly",function(ge){return re.Lo(ge,V).next(function(_e){return _e?W.Cc.kr(ge,_e):Mt.resolve(null)})}))];case 1:return null===(E=T.sent())?[3,6]:"pending"!==h?[3,3]:[4,Gs(y.ph)];case 2:return T.sent(),[3,4];case 3:"acknowledged"===h||"rejected"===h?(yl(y,l,g||null),ps(y,l),function(R,V){We(We(R).Sr).Ko(V)}(y.ju,l)):Re(),T.label=4;case 4:return[4,oe(y,E)];case 5:return T.sent(),[3,7];case 6:me("SyncEngine","Cannot apply mutation batch with id: "+l),T.label=7;case 7:return[2]}var R,V,W,re})})}function Ft(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y,E,T,V,W;return U.__generator(this,function(re){switch(re.label){case 0:return Xi(h=We(f)),Ou(h),!0!==l||!0===h.qh?[3,3]:(g=h.Sh.Ci(),[4,hn(h,g.A())]);case 1:return y=re.sent(),h.qh=!0,[4,Xl(h.ph,!0)];case 2:for(re.sent(),E=0,T=y;E<T.length;E++)dh(h.ph,T[E]);return[3,7];case 3:return!1!==l||!1===h.qh?[3,7]:(V=[],W=Promise.resolve(),h.Fh.forEach(function(ge,_e){h.Sh.qi(_e)?V.push(_e):W=W.then(function(){return Ba(h,_e),zn(h.ju,_e,!0)}),$c(h.ph,_e)}),[4,W]);case 4:return re.sent(),[4,hn(h,V)];case 5:return re.sent(),(_e=We(h)).kh.forEach(function(Ae,et){$c(_e.ph,et)}),_e.Mh.Qc(),_e.kh=new Map,_e.$h=new $n(Le.i),h.qh=!1,[4,Xl(h.ph,!1)];case 6:re.sent(),re.label=7;case 7:return[2]}var _e})})}function hn(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E,T,R,V,W,re,ge,_e,et,ht,an;return U.__generator(this,function(Jt){switch(Jt.label){case 0:g=We(f),y=[],E=[],T=0,R=l,Jt.label=1;case 1:return T<R.length?(W=void 0,(re=g.Fh.get(V=R[T]))&&0!==re.length?[4,hs(g.ju,Bo(re[0]))]:[3,7]):[3,13];case 2:W=Jt.sent(),ge=0,_e=re,Jt.label=3;case 3:return ge<_e.length?(et=g.Nh.get(_e[ge]),[4,rt(g,et)]):[3,6];case 4:(ht=Jt.sent()).snapshot&&E.push(ht.snapshot),Jt.label=5;case 5:return ge++,[3,3];case 6:return[3,11];case 7:return[4,Po(g.ju,V)];case 8:return an=Jt.sent(),[4,hs(g.ju,an)];case 9:return W=Jt.sent(),[4,Gc(g,Un(an),V,!1)];case 10:Jt.sent(),Jt.label=11;case 11:y.push(W),Jt.label=12;case 12:return T++,[3,1];case 13:return[2,(g.Ch.yu(E),y)]}})})}function Un(f){return Dc(f.path,f.collectionGroup,f.orderBy,f.filters,f.limit,"F",f.startAt,f.endAt)}function Sn(f){var l=We(f);return We(We(l.ju).persistence).pi()}function ms(f,l,h,g){return U.__awaiter(this,void 0,void 0,function(){var y,E,T;return U.__generator(this,function(R){switch(R.label){case 0:return(y=We(f)).qh?(me("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!y.Fh.has(l))return[3,8];switch(h){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Zl(y.ju)];case 3:return E=R.sent(),T=ai.Xt(l,"current"===h),[4,oe(y,E,T)];case 4:return R.sent(),[3,8];case 5:return[4,zn(y.ju,l,!0)];case 6:return R.sent(),Ba(y,l,g),[3,8];case 7:Re(),R.label=8;case 8:return[2]}})})}function Do(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E,T,R,V,W,re,ge;return U.__generator(this,function(Ae){switch(Ae.label){case 0:if(!(g=Xi(f)).qh)return[3,10];y=0,E=l,Ae.label=1;case 1:return y<E.length?g.Fh.has(T=E[y])?(me("SyncEngine","Adding an already active target "+T),[3,5]):[4,Po(g.ju,T)]:[3,6];case 2:return R=Ae.sent(),[4,hs(g.ju,R)];case 3:return V=Ae.sent(),[4,Gc(g,Un(R),V.targetId,!1)];case 4:Ae.sent(),dh(g.ph,V),Ae.label=5;case 5:return y++,[3,1];case 6:W=function(et){return U.__generator(this,function(ht){switch(ht.label){case 0:return g.Fh.has(et)?[4,zn(g.ju,et,!1).then(function(){$c(g.ph,et),Ba(g,et)}).catch(li)]:[3,2];case 1:ht.sent(),ht.label=2;case 2:return[2]}})},re=0,ge=h,Ae.label=7;case 7:return re<ge.length?[5,W(ge[re])]:[3,10];case 8:Ae.sent(),Ae.label=9;case 9:return re++,[3,7];case 10:return[2]}})})}function Xi(f){var l=We(f);return l.ph.Gu.sh=mc.bind(null,l),l.ph.Gu.qe=Ue.bind(null,l),l.ph.Gu.nh=Oi.bind(null,l),l.Ch.yu=ts.bind(null,l.bh),l.Ch.Wh=Uc.bind(null,l.bh),l}function Ou(f){var l=We(f);return l.ph.Gu.ih=gd.bind(null,l),l.ph.Gu.rh=sp.bind(null,l),l}var ja=function(){function f(){}return f.prototype.Nc=function(l){this.zh=l},f.prototype.Lr=function(l,h,g,y){var T,E=this;return 0===(T=h).filters.length&&null===T.limit&&null==T.startAt&&null==T.endAt&&(0===T.on.length||1===T.on.length&&T.on[0].field.p())||g.isEqual(zt.min())?this.Hh(l,h):this.zh.kr(l,y).next(function(T){var R=E.Yh(h,T);return(Ac(h)||oc(h))&&E.Eh(h.an,R,y,g)?E.Hh(l,h):(Ne()<=pe.LogLevel.DEBUG&&me("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",g.toString(),Es(h)),E.zh.Lr(l,h,g).next(function(V){return R.forEach(function(W){V=V.ot(W.key,W)}),V}))})},f.prototype.Yh=function(l,h){var g=new Ei(vu(l));return h.forEach(function(y,E){E instanceof oi&&Bl(l,E)&&(g=g.add(E))}),g},f.prototype.Eh=function(l,h,g,y){if(g.size!==h.size)return!0;var E="F"===l?h.last():h.first();return!!E&&(E.hasPendingWrites||E.version.L(y)>0)},f.prototype.Hh=function(l,h){return Ne()<=pe.LogLevel.DEBUG&&me("IndexFreeQueryEngine","Using full collection scan to execute query:",Es(h)),this.zh.Lr(l,h,zt.min())},f}(),za=function(){function f(l,h){this.Dr=l,this.No=h,this.Sr=[],this.Jh=1,this.Xh=new Ei(jr.kc)}return f.prototype.$o=function(l){return Mt.resolve(0===this.Sr.length)},f.prototype.ko=function(l,h,g,y){var E=this.Jh;this.Jh++;var T=new id(E,h,g,y);this.Sr.push(T);for(var R=0,V=y;R<V.length;R++){var W=V[R];this.Xh=this.Xh.add(new jr(W.key,E)),this.Dr.Mo(l,W.key.path.h())}return Mt.resolve(T)},f.prototype.Oo=function(l,h){return Mt.resolve(this.Zh(h))},f.prototype.Bo=function(l,h){var y=this.tl(h+1),E=y<0?0:y;return Mt.resolve(this.Sr.length>E?this.Sr[E]:null)},f.prototype.qo=function(){return Mt.resolve(0===this.Sr.length?-1:this.Jh-1)},f.prototype.Uo=function(l){return Mt.resolve(this.Sr.slice())},f.prototype.Nr=function(l,h){var g=this,y=new jr(h,0),E=new jr(h,Number.POSITIVE_INFINITY),T=[];return this.Xh.Ft([y,E],function(R){var V=g.Zh(R.jc);T.push(V)}),Mt.resolve(T)},f.prototype.Or=function(l,h){var g=this,y=new Ei(Ut);return h.forEach(function(E){var T=new jr(E,0),R=new jr(E,Number.POSITIVE_INFINITY);g.Xh.Ft([T,R],function(V){y=y.add(V.jc)})}),Mt.resolve(this.el(y))},f.prototype.Wr=function(l,h){var g=h.path,y=g.length+1,E=g;Le.F(E)||(E=E.child(""));var T=new jr(new Le(E),0),R=new Ei(Ut);return this.Xh.xt(function(V){var W=V.key.path;return!!g.T(W)&&(W.length===y&&(R=R.add(V.jc)),!0)},T),Mt.resolve(this.el(R))},f.prototype.el=function(l){var h=this,g=[];return l.forEach(function(y){var E=h.Zh(y);null!==E&&g.push(E)}),g},f.prototype.Wo=function(l,h){var g=this;at(0===this.nl(h.batchId,"removed")),this.Sr.shift();var y=this.Xh;return Mt.forEach(h.mutations,function(E){var T=new jr(E.key,h.batchId);return y=y.delete(T),g.No.Go(l,E.key)}).next(function(){g.Xh=y})},f.prototype.Ko=function(l){},f.prototype.Ho=function(l,h){var g=new jr(h,0),y=this.Xh.$t(g);return Mt.resolve(h.isEqual(y&&y.key))},f.prototype.zo=function(l){return Mt.resolve()},f.prototype.nl=function(l,h){return this.tl(l)},f.prototype.tl=function(l){return 0===this.Sr.length?0:l-this.Sr[0].batchId},f.prototype.Zh=function(l){var h=this.tl(l);return h<0||h>=this.Sr.length?null:this.Sr[h]},f}(),Fr=function(){function f(l,h){this.Dr=l,this.sl=h,this.docs=new $n(Le.i),this.size=0}return f.prototype.Er=function(l,h,g){var y=h.key,E=this.docs.get(y),T=E?E.size:0,R=this.sl(h);return this.docs=this.docs.ot(y,{ta:h,size:R,readTime:g}),this.size+=R-T,this.Dr.Mo(l,y.path.h())},f.prototype.Ar=function(l){var h=this.docs.get(l);h&&(this.docs=this.docs.remove(l),this.size-=h.size)},f.prototype.Rr=function(l,h){var g=this.docs.get(h);return Mt.resolve(g?g.ta:null)},f.prototype.getEntries=function(l,h){var g=this,y=le();return h.forEach(function(E){var T=g.docs.get(E);y=y.ot(E,T?T.ta:null)}),Mt.resolve(y)},f.prototype.Lr=function(l,h,g){for(var y=te(),E=new Le(h.path.child("")),T=this.docs.ft(E);T.At();){var R=T.It(),W=R.value,re=W.ta,ge=W.readTime;if(!h.path.T(R.key.path))break;ge.L(g)<=0||re instanceof oi&&Bl(h,re)&&(y=y.ot(re.key,re))}return Mt.resolve(y)},f.prototype.il=function(l,h){return Mt.forEach(this.docs,function(g){return h(g)})},f.prototype.ra=function(l){return new bl(this)},f.prototype.aa=function(l){return Mt.resolve(this.size)},f}(),bl=function(f){function l(h){var g=this;return(g=f.call(this)||this).ca=h,g}return U.__extends(l,f),l.prototype.yr=function(h){var g=this,y=[];return this.wr.forEach(function(E,T){T?y.push(g.ca.Er(h,T,g.readTime)):g.ca.Ar(E)}),Mt.$n(y)},l.prototype.gr=function(h,g){return this.ca.Rr(h,g)},l.prototype.Pr=function(h,g){return this.ca.getEntries(h,g)},l}(Xf),a_=function(){function f(l){this.persistence=l,this.rl=new Kt(function(h){return xt(h)},mn),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.ol=0,this.al=new Ua,this.targetCount=0,this.cl=$l.fa()}return f.prototype.Ce=function(l,h){return this.rl.forEach(function(g,y){return h(y)}),Mt.resolve()},f.prototype.Ea=function(l){return Mt.resolve(this.lastRemoteSnapshotVersion)},f.prototype.Ia=function(l){return Mt.resolve(this.ol)},f.prototype.wa=function(l){return this.highestTargetId=this.cl.next(),Mt.resolve(this.highestTargetId)},f.prototype.Aa=function(l,h,g){return g&&(this.lastRemoteSnapshotVersion=g),h>this.ol&&(this.ol=h),Mt.resolve()},f.prototype.ga=function(l){this.rl.set(l.target,l);var h=l.targetId;h>this.highestTargetId&&(this.cl=new $l(h),this.highestTargetId=h),l.sequenceNumber>this.ol&&(this.ol=l.sequenceNumber)},f.prototype.Ra=function(l,h){return this.ga(h),this.targetCount+=1,Mt.resolve()},f.prototype.ya=function(l,h){return this.ga(h),Mt.resolve()},f.prototype.Va=function(l,h){return this.rl.delete(h.target),this.al.Uc(h.targetId),this.targetCount-=1,Mt.resolve()},f.prototype.po=function(l,h,g){var y=this,E=0,T=[];return this.rl.forEach(function(R,V){V.sequenceNumber<=h&&null===g.get(V.targetId)&&(y.rl.delete(R),T.push(y.pa(l,V.targetId)),E++)}),Mt.$n(T).next(function(){return E})},f.prototype.ba=function(l){return Mt.resolve(this.targetCount)},f.prototype.va=function(l,h){var g=this.rl.get(h)||null;return Mt.resolve(g)},f.prototype.Sa=function(l,h,g){return this.al.Lc(h,g),Mt.resolve()},f.prototype.Ca=function(l,h,g){this.al.qc(h,g);var y=this.persistence.No,E=[];return y&&h.forEach(function(T){E.push(y.Go(l,T))}),Mt.$n(E)},f.prototype.pa=function(l,h){return this.al.Uc(h),Mt.resolve()},f.prototype.Fa=function(l,h){var g=this.al.Wc(h);return Mt.resolve(g)},f.prototype.Ho=function(l,h){return Mt.resolve(this.al.Ho(h))},f}(),_d=function(){function f(l){var h=this;this.ul={},this.Ma=new Io(0),this.Oa=!1,this.Oa=!0,this.No=l(this),this.Ka=new a_(this),this.Dr=new Os,this.vr=new Fr(this.Dr,function(E){return h.No.hl(E)})}return f.prototype.start=function(){return Promise.resolve()},f.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(f.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),f.prototype.Za=function(){},f.prototype.tc=function(){},f.prototype.Ic=function(){return this.Dr},f.prototype.mc=function(l){var h=this.ul[l.ti()];return h||(h=new za(this.Dr,this.No),this.ul[l.ti()]=h),h},f.prototype.Tc=function(){return this.Ka},f.prototype.Ec=function(){return this.vr},f.prototype.runTransaction=function(l,h,g){var y=this;me("MemoryPersistence","Starting transaction:",l);var E=new vd(this.Ma.next());return this.No.ll(),g(E).next(function(T){return y.No._l(E).next(function(){return T})}).Fn().then(function(T){return E.br(),T})},f.prototype.fl=function(l,h){return Mt.kn(Object.values(this.ul).map(function(g){return function(){return g.Ho(l,h)}}))},f}(),vd=function(f){function l(h){var g=this;return(g=f.call(this)||this).xa=h,g}return U.__extends(l,f),l}(th),ef=function(){function f(l){this.persistence=l,this.dl=new Ua,this.wl=null}return f.ml=function(l){return new f(l)},Object.defineProperty(f.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw Re()},enumerable:!1,configurable:!0}),f.prototype.Da=function(l,h,g){return this.dl.Da(g,h),this.Tl.delete(g.toString()),Mt.resolve()},f.prototype.Na=function(l,h,g){return this.dl.Na(g,h),this.Tl.add(g.toString()),Mt.resolve()},f.prototype.Go=function(l,h){return this.Tl.add(h.toString()),Mt.resolve()},f.prototype.removeTarget=function(l,h){var g=this;this.dl.Uc(h.targetId).forEach(function(E){return g.Tl.add(E.toString())});var y=this.persistence.Tc();return y.Fa(l,h.targetId).next(function(E){E.forEach(function(T){return g.Tl.add(T.toString())})}).next(function(){return y.Va(l,h)})},f.prototype.ll=function(){this.wl=new Set},f.prototype._l=function(l){var h=this,g=this.persistence.Ec().ra();return Mt.forEach(this.Tl,function(y){var E=Le.D(y);return h.El(l,E).next(function(T){T||g.Ar(E)})}).next(function(){return h.wl=null,g.apply(l)})},f.prototype.yc=function(l,h){var g=this;return this.El(l,h).next(function(y){y?g.Tl.delete(h.toString()):g.Tl.add(h.toString())})},f.prototype.hl=function(l){return 0},f.prototype.El=function(l,h){var g=this;return Mt.kn([function(){return Mt.resolve(g.dl.Ho(h))},function(){return g.persistence.Tc().Ho(l,h)},function(){return g.persistence.fl(l,h)}])},f}(),c_=function(){function f(l){this.Il=l.Il,this.Al=l.Al}return f.prototype.gu=function(l){this.Rl=l},f.prototype.Tu=function(l){this.gl=l},f.prototype.onMessage=function(l){this.Pl=l},f.prototype.close=function(){this.Al()},f.prototype.send=function(l){this.Il(l)},f.prototype.yl=function(){this.Rl()},f.prototype.Vl=function(l){this.gl(l)},f.prototype.pl=function(l){this.Pl(l)},f}(),wm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ny=function(f){function l(h){var g=this;return(g=f.call(this,h)||this).forceLongPolling=h.forceLongPolling,g.W=h.W,g}return U.__extends(l,f),l.prototype.Nl=function(h,g,y,E){return new Promise(function(T,R){var V=new ke.XhrIo;V.listenOnce(ke.EventType.COMPLETE,function(){try{switch(V.getLastErrorCode()){case ke.ErrorCode.NO_ERROR:var re=V.getResponseJson();me("Connection","XHR received:",JSON.stringify(re)),T(re);break;case ke.ErrorCode.TIMEOUT:me("Connection",'RPC "'+h+'" timed out'),R(new G(z.DEADLINE_EXCEEDED,"Request time out"));break;case ke.ErrorCode.HTTP_ERROR:var ge=V.getStatus();if(me("Connection",'RPC "'+h+'" failed with status:',ge,"response text:",V.getResponseText()),ge>0){var _e=V.getResponseJson().error;if(_e&&_e.status&&_e.message){var Ae=(ht=_e.status.toLowerCase().replace("_","-"),Object.values(z).indexOf(ht)>=0?ht:z.UNKNOWN);R(new G(Ae,_e.message))}else R(new G(z.UNKNOWN,"Server responded with status "+V.getStatus()))}else R(new G(z.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{me("Connection",'RPC "'+h+'" completed.')}var ht});var W=JSON.stringify(E);V.send(g,"POST",W,y,15)})},l.prototype.Pu=function(h,g){var y=[this.vl,"/","google.firestore.v1.Firestore","/",h,"/channel"],E=ke.createWebChannelTransport(),T={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(T.initMessageHeaders,g),ce.isMobileCordova()||ce.isReactNative()||ce.isElectron()||ce.isIE()||ce.isUWP()||ce.isBrowserExtension()||(T.httpHeadersOverwriteParam="$httpHeaders");var R=y.join("");me("Connection","Creating WebChannel: "+R,T);var V=E.createWebChannel(R,T),W=!1,re=!1,ge=new c_({Il:function(Ae){re?me("Connection","Not sending because WebChannel is closed:",Ae):(W||(me("Connection","Opening WebChannel transport."),V.open(),W=!0),me("Connection","WebChannel sending:",Ae),V.send(Ae))},Al:function(){return V.close()}}),_e=function(Ae,et){V.listen(Ae,function(ht){try{et(ht)}catch(an){setTimeout(function(){throw an},0)}})};return _e(ke.WebChannel.EventType.OPEN,function(){re||me("Connection","WebChannel transport opened.")}),_e(ke.WebChannel.EventType.CLOSE,function(){re||(re=!0,me("Connection","WebChannel transport closed"),ge.Vl())}),_e(ke.WebChannel.EventType.ERROR,function(Ae){re||(re=!0,st("Connection","WebChannel transport errored:",Ae),ge.Vl(new G(z.UNAVAILABLE,"The operation could not be completed")))}),_e(ke.WebChannel.EventType.MESSAGE,function(Ae){var et;if(!re){var ht=Ae.data[0];at(!!ht);var Jt=ht.error||(null===(et=ht[0])||void 0===et?void 0:et.error);if(Jt){me("Connection","WebChannel received error:",Jt);var An=Jt.status,Jn=function(wi){var fr=Xt[wi];if(void 0!==fr)return Li(fr)}(An),_i=Jt.message;void 0===Jn&&(Jn=z.INTERNAL,_i="Unknown error status: "+An+" with message "+Jt.message),re=!0,ge.Vl(new G(Jn,_i)),V.close()}else me("Connection","WebChannel received:",ht),ge.pl(ht)}}),setTimeout(function(){ge.yl()},0),ge},l}(function(){function f(l){this.bl=l,this.U=l.U,this.vl=(l.ssl?"https":"http")+"://"+l.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return f.prototype.$u=function(l,h,g,y){var E=this.Dl(l,h);me("RestConnection","Sending: ",E,g);var T={};return this.Cl(T,y),this.Nl(l,E,T,g).then(function(R){return me("RestConnection","Received: ",R),R},function(R){throw st("RestConnection",l+" failed with error: ",R,"url: ",E,"request:",g),R})},f.prototype.ku=function(l,h,g,y){return this.$u(l,h,g,y)},f.prototype.Cl=function(l,h){if(l["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",l["Content-Type"]="text/plain",h)for(var g in h.Kc)h.Kc.hasOwnProperty(g)&&(l[g]=h.Kc[g])},f.prototype.Dl=function(l,h){return this.vl+"/v1/"+h+":"+wm[l]},f}()),Ws=function(){function f(){var l=this;this.Fl=function(){return l.xl()},this.$l=function(){return l.kl()},this.Ml=[],this.Ol()}return f.prototype.Zu=function(l){this.Ml.push(l)},f.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},f.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},f.prototype.xl=function(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var l=0,h=this.Ml;l<h.length;l++)(0,h[l])(0)},f.prototype.kl=function(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var l=0,h=this.Ml;l<h.length;l++)(0,h[l])(1)},f.Ln=function(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},f}(),ap=function(){function f(){}return f.prototype.Zu=function(l){},f.prototype.Di=function(){},f}();function eu(f){return new oa(f,!0)}var l_="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",yd=function(){function f(){}return f.prototype.initialize=function(l){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){switch(h.label){case 0:return this.Sh=this.Ll(l),this.persistence=this.Bl(l),[4,this.persistence.start()];case 1:return h.sent(),this.ql=this.Ul(l),this.ju=this.Ql(l),[2]}})})},f.prototype.Ul=function(l){return null},f.prototype.Ql=function(l){return h=this.persistence,g=new ja,new ns(h,g,l.Wl);var h,g},f.prototype.Bl=function(l){if(l.persistenceSettings.jl)throw new G(z.FAILED_PRECONDITION,l_);return new _d(ef.ml)},f.prototype.Ll=function(l){return new dl},f.prototype.terminate=function(){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){switch(l.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return l.sent(),[4,this.persistence.Di()];case 2:return l.sent(),[2]}})})},f.prototype.clearPersistence=function(l,h){throw new G(z.FAILED_PRECONDITION,l_)},f}(),u_=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.initialize=function(h){return U.__awaiter(this,void 0,void 0,function(){var g,y=this;return U.__generator(this,function(E){switch(E.label){case 0:return[4,f.prototype.initialize.call(this,h)];case 1:return E.sent(),g=this.Kl.fi,this.Sh instanceof Vc?(this.Sh.fi={er:Bt.bind(null,g),nr:ms.bind(null,g),sr:Do.bind(null,g),pi:Sn.bind(null,g)},[4,this.Sh.start()]):[3,3];case 2:E.sent(),E.label=3;case 3:return[4,this.persistence.Xa(function(T){return U.__awaiter(y,void 0,void 0,function(){return U.__generator(this,function(R){switch(R.label){case 0:return[4,Ft(this.Kl.fi,T)];case 1:return R.sent(),this.ql&&(T&&!this.ql.Ei?this.ql.start(this.ju):T||this.ql.stop()),[2]}})})})];case 4:return E.sent(),[2]}})})},l.prototype.Ll=function(h){if(h.persistenceSettings.jl&&h.persistenceSettings.synchronizeTabs){var g=j();if(!Vc.Ln(g))throw new G(z.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var y=Gl(h.bl.U,h.bl.persistenceKey);return new Vc(g,h.cs,y,h.clientId,h.Wl)}return new dl},l}(function(f){function l(h){var g=this;return(g=f.call(this)||this).Kl=h,g}return U.__extends(l,f),l.prototype.initialize=function(h){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return[4,f.prototype.initialize.call(this,h)];case 1:return g.sent(),[4,pc(this.ju)];case 2:return g.sent(),[4,this.Kl.initialize(this,h)];case 3:return g.sent(),[4,Ou(this.Kl.fi)];case 4:return g.sent(),[4,Gs(this.Kl.ph)];case 5:return g.sent(),[2]}})})},l.prototype.Ul=function(h){return new nh(this.persistence.No.wo,h.cs)},l.prototype.Bl=function(h){var g=Gl(h.bl.U,h.bl.persistenceKey),y=eu(h.bl.U);return new ds(h.persistenceSettings.synchronizeTabs,g,h.clientId,Qr.ao(h.persistenceSettings.cacheSizeBytes),h.cs,j(),ee(),y,this.Sh,h.persistenceSettings.ka)},l.prototype.Ll=function(h){return new dl},l.prototype.clearPersistence=function(h,g){return function(y){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(T){switch(T.label){case 0:return es.Ln()?[4,es.delete(y+"main")]:[2,Promise.resolve()];case 1:return T.sent(),[2]}})})}(Gl(h,g))},l}(yd)),tf=function(){function f(){}return f.prototype.initialize=function(l,h){return U.__awaiter(this,void 0,void 0,function(){var g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.ju?[3,2]:(this.ju=l.ju,this.Sh=l.Sh,this.Ku=this.Gl(h),this.ph=this.zl(h),this.bh=this.Hl(h),this.fi=this.Yl(h),this.Sh.di=function(E){return md(g.fi,E,1)},this.ph.Gu.Jl=be.bind(null,this.fi),[4,Xl(this.ph,this.fi.Uh)]);case 1:y.sent(),y.label=2;case 2:return[2]}})})},f.prototype.Hl=function(l){return new ti},f.prototype.Gl=function(l){var g=eu(l.bl.U),y=new Ny(l.bl);return new cd(l.credentials,y,g)},f.prototype.zl=function(l){var h,g,y,E,T,R=this;return h=this.ju,g=this.Ku,y=l.cs,E=function(V){return md(R.fi,V,0)},T=Ws.Ln()?new Ws:new ap,new rp(h,g,y,E,T)},f.prototype.Yl=function(l){return V=!l.persistenceSettings.jl||!l.persistenceSettings.synchronizeTabs,W=new vl(this.ju,this.ph,this.bh,this.Sh,l.Wl,l.Dh),V&&(W.qh=!0),W;var V,W},f.prototype.terminate=function(){return Kh(this.ph)},f}(),S=function(){function f(l){this.observer=l,this.muted=!1}return f.prototype.next=function(l){this.observer.next&&this.Xl(this.observer.next,l)},f.prototype.error=function(l){this.observer.error?this.Xl(this.observer.error,l):console.error("Uncaught Error in snapshot listener:",l)},f.prototype.Zl=function(){this.muted=!0},f.prototype.Xl=function(l,h){var g=this;this.muted||setTimeout(function(){g.muted||l(h)},0)},f}(),w=function(f){!function(h,g,y,E){if(!(g instanceof Array)||g.length<1)throw new G(z.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+fn(1,"element")+".")}(0,f);for(var l=0;l<f.length;++l)if(un("FieldPath","string",l,f[l]),0===f[l].length)throw new G(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new Ge(f)},M=function(f){function l(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];return f.call(this,h)||this}return U.__extends(l,f),l.documentId=function(){return new l(Ge.v().R())},l.prototype.isEqual=function(h){if(!(h instanceof l))throw Tn("isEqual","FieldPath",1,h);return this.t_.isEqual(h.t_)},l}(w),A=new RegExp("[~\\*/\\[\\]]"),$=function(f){this.e_=f},J=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.n_=function(h){if(2!==h.s_)throw h.i_(1===h.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return h.We.push(h.path),null},l.prototype.isEqual=function(h){return h instanceof l},l}($);function Oe(f,l,h){return new Su({s_:3,r_:l.settings.r_,methodName:f.e_,o_:h},l.U,l.serializer,l.ignoreUndefinedProperties)}var Xe=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.n_=function(h){return new ua(h.path,new on)},l.prototype.isEqual=function(h){return h instanceof l},l}($),At=function(f){function l(h,g){var y=this;return(y=f.call(this,h)||this).a_=g,y}return U.__extends(l,f),l.prototype.n_=function(h){var g=Oe(this,h,!0),y=this.a_.map(function(T){return tu(T,g)}),E=new qr(y);return new ua(h.path,E)},l.prototype.isEqual=function(h){return this===h},l}($),Nt=function(f){function l(h,g){var y=this;return(y=f.call(this,h)||this).a_=g,y}return U.__extends(l,f),l.prototype.n_=function(h){var g=Oe(this,h,!0),y=this.a_.map(function(T){return tu(T,g)}),E=new Cr(y);return new ua(h.path,E)},l.prototype.isEqual=function(h){return this===h},l}($),pn=function(f){function l(h,g){var y=this;return(y=f.call(this,h)||this).c_=g,y}return U.__extends(l,f),l.prototype.n_=function(h){var g=new Cs(h.serializer,Qo(h.serializer,this.c_));return new ua(h.path,g)},l.prototype.isEqual=function(h){return this===h},l}($),Zn=function(){function f(l,h){if(ot("GeoPoint",arguments,2),un("GeoPoint","number",1,l),un("GeoPoint","number",2,h),!isFinite(l)||l<-90||l>90)throw new G(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+l);if(!isFinite(h)||h<-180||h>180)throw new G(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+h);this.u_=l,this.h_=h}return Object.defineProperty(f.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){return this.u_===l.u_&&this.h_===l.h_},f.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},f.prototype.Y=function(l){return Ut(this.u_,l.u_)||Ut(this.h_,l.h_)},f}(),eo=function(f){this.l_=f},ya=/^__.*__$/,to=function(f,l,h){this.__=f,this.f_=l,this.d_=h},cp=function(){function f(l,h,g){this.data=l,this.We=h,this.fieldTransforms=g}return f.prototype.w_=function(l,h){var g=[];return g.push(null!==this.We?new Zr(l,this.data,this.We,h):new rr(l,this.data,h)),this.fieldTransforms.length>0&&g.push(new Hi(l,this.fieldTransforms)),g},f}(),nf=function(){function f(l,h,g){this.data=l,this.We=h,this.fieldTransforms=g}return f.prototype.w_=function(l,h){var g=[new Zr(l,this.data,this.We,h)];return this.fieldTransforms.length>0&&g.push(new Hi(l,this.fieldTransforms)),g},f}();function Wc(f){switch(f){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}var Su=function(){function f(l,h,g,y,E,T){this.settings=l,this.U=h,this.serializer=g,this.ignoreUndefinedProperties=y,void 0===E&&this.m_(),this.fieldTransforms=E||[],this.We=T||[]}return Object.defineProperty(f.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),f.prototype.T_=function(l){return new f(Object.assign(Object.assign({},this.settings),l),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},f.prototype.E_=function(l){var h,g=null===(h=this.path)||void 0===h?void 0:h.child(l),y=this.T_({path:g,o_:!1});return y.I_(l),y},f.prototype.A_=function(l){var h,g=null===(h=this.path)||void 0===h?void 0:h.child(l),y=this.T_({path:g,o_:!1});return y.m_(),y},f.prototype.R_=function(l){return this.T_({path:void 0,o_:!0})},f.prototype.i_=function(l){return lp(l,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},f.prototype.contains=function(l){return void 0!==this.We.find(function(h){return l.T(h)})||void 0!==this.fieldTransforms.find(function(h){return l.T(h.field)})},f.prototype.m_=function(){if(this.path)for(var l=0;l<this.path.length;l++)this.I_(this.path.get(l))},f.prototype.I_=function(l){if(0===l.length)throw this.i_("Document fields must not be empty");if(Wc(this.s_)&&ya.test(l))throw this.i_('Document fields cannot begin and end with "__"')},f}(),wl=function(){function f(l,h,g){this.U=l,this.ignoreUndefinedProperties=h,this.serializer=g||eu(l)}return f.prototype.P_=function(l,h,g,y){return void 0===y&&(y=!1),new Su({s_:l,methodName:h,r_:g,path:Ge.P(),o_:!1,g_:y},this.U,this.serializer,this.ignoreUndefinedProperties)},f}();function rf(f,l,h,g,y,E){void 0===E&&(E={});var T=f.P_(E.merge||E.mergeFields?2:0,l,h,y);_h("Data must be an object, but it was:",T,g);var R,V,W=gh(g,T);if(E.merge)R=new Mr(T.We),V=T.fieldTransforms;else if(E.mergeFields){for(var re=[],ge=0,_e=E.mergeFields;ge<_e.length;ge++){var Ae=_e[ge],et=void 0;if(Ae instanceof w)et=Ae.t_;else{if("string"!=typeof Ae)throw Re();et=h_(l,Ae,h)}if(!T.contains(et))throw new G(z.INVALID_ARGUMENT,"Field '"+et+"' is specified in your field mask but missing from your input data.");xw(re,et)||re.push(et)}R=new Mr(re),V=T.fieldTransforms.filter(function(ht){return R.Ye(ht.field)})}else R=null,V=T.fieldTransforms;return new cp(new Ar(W),R,V)}function mh(f,l,h,g){var y=f.P_(1,l,h);_h("Data must be an object, but it was:",y,g);var E=[],T=new Yr;nt(g,function(V,W){var re=h_(l,V,h),ge=y.A_(re);if(W instanceof J||W instanceof eo&&W.l_ instanceof J)E.push(re);else{var _e=tu(W,ge);null!=_e&&(E.push(re),T.set(re,_e))}});var R=new Mr(E);return new nf(T.Xe(),R,y.fieldTransforms)}function sf(f,l,h,g,y,E){var T=f.P_(1,l,h),R=[bd(l,g,h)],V=[y];if(E.length%2!=0)throw new G(z.INVALID_ARGUMENT,"Function "+l+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var W=0;W<E.length;W+=2)R.push(bd(l,E[W])),V.push(E[W+1]);for(var re=[],ge=new Yr,_e=R.length-1;_e>=0;--_e)if(!xw(re,R[_e])){var Ae=R[_e],et=V[_e],ht=T.A_(Ae);if(et instanceof J||et instanceof eo&&et.l_ instanceof J)re.push(Ae);else{var an=tu(et,ht);null!=an&&(re.push(Ae),ge.set(Ae,an))}}var Jt=new Mr(re);return new nf(ge.Xe(),Jt,T.fieldTransforms)}function Cm(f,l,h,g){return void 0===g&&(g=!1),tu(h,f.P_(g?4:3,l))}function tu(f,l){if(f instanceof eo&&(f=f.l_),d_(f))return _h("Unsupported field value:",l,f),gh(f,l);if(f instanceof $)return function(h,g){if(!Wc(g.s_))throw g.i_(h.e_+"() can only be used with update() and set()");if(!g.path)throw g.i_(h.e_+"() is not currently supported inside arrays");var y=h.n_(g);y&&g.fieldTransforms.push(y)}(f,l),null;if(l.path&&l.We.push(l.path),f instanceof Array){if(l.settings.o_&&4!==l.s_)throw l.i_("Nested arrays are not supported");return function(h,g){for(var y=[],E=0,T=0,R=h;T<R.length;T++){var V=tu(R[T],g.R_(E));null==V&&(V={nullValue:"NULL_VALUE"}),y.push(V),E++}return{arrayValue:{values:y}}}(f,l)}return function(h,g){if(null===h)return{nullValue:"NULL_VALUE"};if("number"==typeof h)return Qo(g.serializer,h);if("boolean"==typeof h)return{booleanValue:h};if("string"==typeof h)return{stringValue:h};if(h instanceof Date){var y=Qt.fromDate(h);return{timestampValue:sa(g.serializer,y)}}if(h instanceof Qt){var E=new Qt(h.seconds,1e3*Math.floor(h.nanoseconds/1e3));return{timestampValue:sa(g.serializer,E)}}if(h instanceof Zn)return{geoPointValue:{latitude:h.latitude,longitude:h.longitude}};if(h instanceof Ci)return{bytesValue:sl(g.serializer,h.q)};if(h instanceof to){var T=g.U,R=h.__;if(!R.isEqual(T))throw g.i_("Document reference is for database "+R.projectId+"/"+R.database+" but should be for database "+T.projectId+"/"+T.database);return{referenceValue:yr(h.__||g.U,h.f_.path)}}if(void 0===h&&g.ignoreUndefinedProperties)return null;throw g.i_("Unsupported field value: "+gt(h))}(f,l)}function gh(f,l){var h={};return $e(f)?l.path&&l.path.length>0&&l.We.push(l.path):nt(f,function(g,y){var E=tu(y,l.E_(g));null!=E&&(h[g]=E)}),{mapValue:{fields:h}}}function d_(f){return!("object"!=typeof f||null===f||f instanceof Array||f instanceof Date||f instanceof Qt||f instanceof Zn||f instanceof Ci||f instanceof to||f instanceof $)}function _h(f,l,h){if(!d_(h)||!ct(h)){var g=gt(h);throw l.i_("an object"===g?f+" a custom object":f+" "+g)}}function bd(f,l,h){if(l instanceof w)return l.t_;if("string"==typeof l)return h_(f,l);throw lp("Field path arguments must be of type string or FieldPath.",f,!1,void 0,h)}function h_(f,l,h){try{return function(y){if(y.search(A)>=0)throw new G(z.INVALID_ARGUMENT,"Invalid field path ("+y+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(M.bind.apply(M,U.__spreadArrays([void 0],y.split("."))))}catch{throw new G(z.INVALID_ARGUMENT,"Invalid field path ("+y+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(l).t_}catch(y){throw lp((g=y)instanceof Error?g.message:g.toString(),f,!1,void 0,h)}var g}function lp(f,l,h,g,y){var E=g&&!g.m(),T=void 0!==y,R="Function "+l+"() called with invalid data";h&&(R+=" (via `toFirestore()`)");var V="";return(E||T)&&(V+=" (found",E&&(V+=" in field "+g),T&&(V+=" in document "+y),V+=")"),new G(z.INVALID_ARGUMENT,(R+=". ")+f+V)}function xw(f,l){return f.some(function(h){return h.isEqual(l)})}var xm=function(){function f(l){this.Ku=l,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return f.prototype.v_=function(l){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:if(this.S_(),this.mutations.length>0)throw new G(z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(E,T){return U.__awaiter(this,void 0,void 0,function(){var R,V,W,re,ge,_e;return U.__generator(this,function(Ae){switch(Ae.label){case 0:return R=We(E),V=ws(R.serializer)+"/documents",W={documents:T.map(function(et){return aa(R.serializer,et)})},[4,R.ku("BatchGetDocuments",V,W)];case 1:return re=Ae.sent(),ge=new Map,re.forEach(function(et){var an,Jt,ht=(an=R.serializer,"found"in(Jt=et)?function(An,Jn){at(!!Jn.found);var _i=Zi(An,Jn.found.name),wi=bo(Jn.found.updateTime),fr=new Ar({mapValue:{fields:Jn.found.fields}});return new oi(_i,wi,fr,{})}(an,Jt):"missing"in Jt?function(An,Jn){at(!!Jn.missing),at(!!Jn.readTime);var _i=Zi(An,Jn.missing),wi=bo(Jn.readTime);return new kr(_i,wi)}(an,Jt):Re());ge.set(ht.key.toString(),ht)}),_e=[],[2,(T.forEach(function(et){var ht=ge.get(et.toString());at(!!ht),_e.push(ht)}),_e)]}})})}(this.Ku,l)];case 1:return[2,((h=y.sent()).forEach(function(E){E instanceof kr||E instanceof oi?g.D_(E):Re()}),h)]}})})},f.prototype.set=function(l,h){this.write(h.w_(l,this.Ge(l))),this.b_.add(l.toString())},f.prototype.update=function(l,h){try{this.write(h.w_(l,this.C_(l)))}catch(g){this.p_=g}this.b_.add(l.toString())},f.prototype.delete=function(l){this.write([new Ir(l,this.Ge(l))]),this.b_.add(l.toString())},f.prototype.commit=function(){return U.__awaiter(this,void 0,void 0,function(){var l,h=this;return U.__generator(this,function(g){switch(g.label){case 0:if(this.S_(),this.p_)throw this.p_;return l=this.y_,this.mutations.forEach(function(y){l.delete(y.key.toString())}),l.forEach(function(y,E){var T=Le.D(E);h.mutations.push(new cl(T,h.Ge(T)))}),[4,function(y,E){return U.__awaiter(this,void 0,void 0,function(){var T,R,V;return U.__generator(this,function(W){switch(W.label){case 0:return T=We(y),R=ws(T.serializer)+"/documents",V={writes:E.map(function(re){return Ui(T.serializer,re)})},[4,T.$u("Commit",R,V)];case 1:return W.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return g.sent(),this.V_=!0,[2]}})})},f.prototype.D_=function(l){var h;if(l instanceof oi)h=l.version;else{if(!(l instanceof kr))throw Re();h=zt.min()}var g=this.y_.get(l.key.toString());if(g){if(!h.isEqual(g))throw new G(z.ABORTED,"Document version changed between two reads.")}else this.y_.set(l.key.toString(),h)},f.prototype.Ge=function(l){var h=this.y_.get(l.toString());return!this.b_.has(l.toString())&&h?Vi.updateTime(h):Vi.ze()},f.prototype.C_=function(l){var h=this.y_.get(l.toString());if(!this.b_.has(l.toString())&&h){if(h.isEqual(zt.min()))throw new G(z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vi.updateTime(h)}return Vi.exists(!0)},f.prototype.write=function(l){this.S_(),this.mutations=this.mutations.concat(l)},f.prototype.S_=function(){},f}(),f_=function(){function f(l,h,g,y){this.cs=l,this.Ku=h,this.updateFunction=g,this.ls=y,this.N_=5,this.ys=new Ra(this.cs,"transaction_retry")}return f.prototype.run=function(){this.F_()},f.prototype.F_=function(){var l=this;this.ys.gn(function(){return U.__awaiter(l,void 0,void 0,function(){var h,g,y=this;return U.__generator(this,function(E){return h=new xm(this.Ku),(g=this.x_(h))&&g.then(function(T){y.cs.ws(function(){return h.commit().then(function(){y.ls.resolve(T)}).catch(function(R){y.k_(R)})})}).catch(function(T){y.k_(T)}),[2]})})})},f.prototype.x_=function(l){try{var h=this.updateFunction(l);return!Ie(h)&&h.catch&&h.then?h:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(g){return this.ls.reject(g),null}},f.prototype.k_=function(l){var h=this;this.N_>0&&this.M_(l)?(this.N_-=1,this.cs.ws(function(){return h.F_(),Promise.resolve()})):this.ls.reject(l)},f.prototype.M_=function(l){if("FirebaseError"===l.name){var h=l.code;return"aborted"===h||"failed-precondition"===h||!Hn(h)}return!1},f}(),Em=function(){function f(l,h){this.credentials=l,this.cs=h,this.clientId=On.k(),this.O_=new zo}return f.prototype.start=function(l,h,g,y){var E=this;this.L_(),this.bl=l;var T=new zo,R=!1;return this.credentials.Hc(function(V){if(!R)return R=!0,me("FirestoreClient","Initializing. user=",V.uid),E.B_(h,g,y,V,T).then(E.O_.resolve,E.O_.reject);E.cs.Cs(function(){return function(W,re){return U.__awaiter(this,void 0,void 0,function(){var ge,_e;return U.__generator(this,function(Ae){switch(Ae.label){case 0:return(ge=We(W)).cs.xs(),me("RemoteStore","RemoteStore received new credentials"),_e=fs(ge),ge.Yu.add(3),[4,Wl(ge)];case 1:return Ae.sent(),_e&&ge.th.set("Unknown"),[4,ge.Gu.Jl(re)];case 2:return Ae.sent(),ge.Yu.delete(3),[4,ud(ge)];case 3:return Ae.sent(),[2]}})})}(E.ph,V)})}),this.cs.ws(function(){return E.O_.promise}),T.promise},f.prototype.enableNetwork=function(){var l=this;return this.L_(),this.cs.enqueue(function(){return l.persistence.tc(!0),(g=We(l.ph)).Yu.delete(0),ud(g);var g})},f.prototype.B_=function(l,h,g,y,E){return U.__awaiter(this,void 0,void 0,function(){var T,R,V=this;return U.__generator(this,function(W){switch(W.label){case 0:return W.trys.push([0,3,,4]),[4,l.initialize(T={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:y,Dh:100,persistenceSettings:g})];case 1:return W.sent(),[4,h.initialize(l,T)];case 2:return W.sent(),this.persistence=l.persistence,this.Sh=l.Sh,this.ju=l.ju,this.ql=l.ql,this.Ku=h.Ku,this.ph=h.ph,this.fi=h.fi,this.q_=h.bh,this.q_.Us=is.bind(null,this.fi),this.q_.js=Ri.bind(null,this.fi),this.persistence.Za(function(){return U.__awaiter(V,void 0,void 0,function(){return U.__generator(this,function(re){switch(re.label){case 0:return[4,this.terminate()];case 1:return re.sent(),[2]}})})}),E.resolve(),[3,4];case 3:if(R=W.sent(),E.reject(R),!this.U_(R))throw R;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+R),this.B_(new yd,new tf,{jl:!1},y,E))];case 4:return[2]}})})},f.prototype.U_=function(l){return"FirebaseError"===l.name?l.code===z.FAILED_PRECONDITION||l.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code},f.prototype.L_=function(){if(this.cs.ps)throw new G(z.FAILED_PRECONDITION,"The client has already been terminated.")},f.prototype.disableNetwork=function(){var l=this;return this.L_(),this.cs.enqueue(function(){return l.persistence.tc(!1),function(h){return U.__awaiter(this,void 0,void 0,function(){var g;return U.__generator(this,function(y){switch(y.label){case 0:return(g=We(h)).Yu.add(0),[4,Wl(g)];case 1:return y.sent(),g.th.set("Offline"),[2]}})})}(l.ph)})},f.prototype.terminate=function(){var l=this;this.cs.Ds();var h=new zo;return this.cs.bs(function(){return U.__awaiter(l,void 0,void 0,function(){var g,y;return U.__generator(this,function(E){switch(E.label){case 0:return E.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Kh(this.ph)];case 1:return E.sent(),[4,this.Sh.Di()];case 2:return E.sent(),[4,this.persistence.Di()];case 3:return E.sent(),this.credentials.Yc(),h.resolve(),[3,5];case 4:return g=E.sent(),y=Rt(g,"Failed to shutdown persistence"),h.reject(y),[3,5];case 5:return[2]}})})}),h.promise},f.prototype.waitForPendingWrites=function(){var l=this;this.L_();var h=new zo;return this.cs.ws(function(){return function(g,y){return U.__awaiter(this,void 0,void 0,function(){var E,T,R,V,W;return U.__generator(this,function(re){switch(re.label){case 0:fs((E=We(g)).ph)||me("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),re.label=1;case 1:return re.trys.push([1,3,,4]),[4,(ge=E.ju,_e=We(ge),_e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(Ae){return _e.Sr.qo(Ae)}))];case 2:return-1===(T=re.sent())?[2,void y.resolve()]:((R=E.Lh.get(T)||[]).push(y),E.Lh.set(T,R),[3,4]);case 3:return V=re.sent(),W=Rt(V,"Initialization of waitForPendingWrites() operation failed"),y.reject(W),[3,4];case 4:return[2]}var ge,_e})})}(l.fi,h)}),h.promise},f.prototype.listen=function(l,h,g){var y=this;this.L_();var E=new S(g),T=new ul(l,E,h);return this.cs.ws(function(){return dr(y.q_,T)}),function(){E.Zl(),y.cs.ws(function(){return Eo(y.q_,T)})}},f.prototype.Q_=function(l){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return y.sent(),h=new zo,[2,(this.cs.ws(function(){return function(E,T,R){return U.__awaiter(this,void 0,void 0,function(){var V,W,re;return U.__generator(this,function(ge){switch(ge.label){case 0:return ge.trys.push([0,2,,3]),[4,(_e=E,Ae=T,et=We(_e),et.persistence.runTransaction("read document","readonly",function(ht){return et.Cc.Cr(ht,Ae)}))];case 1:return(V=ge.sent())instanceof oi?R.resolve(V):V instanceof kr?R.resolve(null):R.reject(new G(z.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return W=ge.sent(),re=Rt(W,"Failed to get document '"+T+" from cache"),R.reject(re),[3,3];case 3:return[2]}var _e,Ae,et})})}(g.ju,l,h)}),h.promise)]}})})},f.prototype.W_=function(l,h){return void 0===h&&(h={}),U.__awaiter(this,void 0,void 0,function(){var g,y=this;return U.__generator(this,function(E){switch(E.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return E.sent(),g=new zo,[2,(this.cs.ws(function(){return T=y.q_,R=y.cs,V=l,W=h,re=g,ge=new S({next:function(Ae){R.ws(function(){return Eo(T,_e)});var et=Ae.docs.has(V);!et&&Ae.fromCache?re.reject(new G(z.UNAVAILABLE,"Failed to get document because the client is offline.")):et&&Ae.fromCache&&W&&"server"===W.source?re.reject(new G(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):re.resolve(Ae)},error:function(Ae){return re.reject(Ae)}}),_e=new ul(Aa(V.path),ge,{includeMetadataChanges:!0,Xs:!0}),dr(T,_e);var T,R,V,W,re,ge,_e}),g.promise)]}})})},f.prototype.j_=function(l){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return y.sent(),h=new zo,[2,(this.cs.ws(function(){return function(E,T,R){return U.__awaiter(this,void 0,void 0,function(){var V,W,re,ge,_e,Ae;return U.__generator(this,function(et){switch(et.label){case 0:return et.trys.push([0,2,,3]),[4,ar(E,T,!0)];case 1:return V=et.sent(),W=new Va(T,V.Fc),re=W.wh(V.documents),ge=W.yr(re,!1),R.resolve(ge.snapshot),[3,3];case 2:return _e=et.sent(),Ae=Rt(_e,"Failed to execute query '"+T+" against cache"),R.reject(Ae),[3,3];case 3:return[2]}})})}(g.ju,l,h)}),h.promise)]}})})},f.prototype.K_=function(l,h){return void 0===h&&(h={}),U.__awaiter(this,void 0,void 0,function(){var g,y=this;return U.__generator(this,function(E){switch(E.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return E.sent(),g=new zo,[2,(this.cs.ws(function(){return T=y.q_,R=y.cs,V=l,W=h,re=g,ge=new S({next:function(Ae){R.ws(function(){return Eo(T,_e)}),Ae.fromCache&&"server"===W.source?re.reject(new G(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):re.resolve(Ae)},error:function(Ae){return re.reject(Ae)}}),_e=new ul(V,ge,{includeMetadataChanges:!0,Xs:!0}),dr(T,_e);var T,R,V,W,re,ge,_e}),g.promise)]}})})},f.prototype.write=function(l){var h=this;this.L_();var g=new zo;return this.cs.ws(function(){return function(y,E,T){return U.__awaiter(this,void 0,void 0,function(){var R,V,W,re;return U.__generator(this,function(ge){switch(ge.label){case 0:R=Ou(y),ge.label=1;case 1:return ge.trys.push([1,5,,6]),[4,(_e=R.ju,Ae=E,ht=We(_e),an=Qt.now(),Jt=Ae.reduce(function(An,Jn){return An.add(Jn.key)},Qe()),ht.persistence.runTransaction("Locally write mutations","readwrite",function(An){return ht.Cc.kr(An,Jt).next(function(Jn){et=Jn;for(var _i=[],wi=0,fr=Ae;wi<fr.length;wi++){var Ks=fr[wi],Yc=gu(Ks,et.get(Ks.key));null!=Yc&&_i.push(new Zr(Ks.key,Yc,hi(Yc.proto.mapValue),Vi.exists(!0)))}return ht.Sr.ko(An,an,_i,Ae)})}).then(function(An){var Jn=An.lr(et);return{batchId:An.batchId,wr:Jn}}))];case 2:return V=ge.sent(),R.Sh.xi(V.batchId),function(_e,Ae,et){var ht=_e.Oh[_e.currentUser.ti()];ht||(ht=new $n(Ut)),ht=ht.ot(Ae,et),_e.Oh[_e.currentUser.ti()]=ht}(R,V.batchId,T),[4,oe(R,V.wr)];case 3:return ge.sent(),[4,Gs(R.ph)];case 4:return ge.sent(),[3,6];case 5:return W=ge.sent(),re=Rt(W,"Failed to persist write"),T.reject(re),[3,6];case 6:return[2]}var _e,Ae,et,ht,an,Jt})})}(h.fi,l,g)}),g.promise},f.prototype.U=function(){return this.bl.U},f.prototype.G_=function(l){var h=this;this.L_();var g=new S(l);return this.cs.ws(function(){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){return[2,(E=this.q_,T=g,We(E).qs.add(T),void T.next())];var E,T})})}),function(){g.Zl(),h.cs.ws(function(){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){return[2,(E=this.q_,T=g,void We(E).qs.delete(T))];var E,T})})})}},Object.defineProperty(f.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),f.prototype.transaction=function(l){var h=this;this.L_();var g=new zo;return this.cs.ws(function(){return new f_(h.cs,h.Ku,l,g).run(),Promise.resolve()}),g.promise},f}();function wd(f){return function(l,h){if("object"!=typeof l||null===l)return!1;for(var g=l,y=0,E=["next","error","complete"];y<E.length;y++){var T=E[y];if(T in g&&"function"==typeof g[T])return!0}return!1}(f)}var up=function(){function f(l,h,g,y,E){this.U=l,this.timestampsInSnapshots=h,this.H_=g,this.Y_=y,this.J_=E}return f.prototype.X_=function(l){switch(er(l)){case 0:return null;case 1:return l.booleanValue;case 2:return Ln(l.integerValue||l.doubleValue);case 3:return this.Z_(l.timestampValue);case 4:return this.tf(l);case 5:return l.stringValue;case 6:return this.J_(Ai(l.bytesValue));case 7:return this.ef(l.referenceValue);case 8:return this.nf(l.geoPointValue);case 9:return this.sf(l.arrayValue);case 10:return this.if(l.mapValue);default:throw Re()}},f.prototype.if=function(l){var h=this,g={};return nt(l.fields||{},function(y,E){g[y]=h.X_(E)}),g},f.prototype.nf=function(l){return new Zn(Ln(l.latitude),Ln(l.longitude))},f.prototype.sf=function(l){var h=this;return(l.values||[]).map(function(g){return h.X_(g)})},f.prototype.tf=function(l){switch(this.H_){case"previous":var h=ri(l);return null==h?null:this.X_(h);case"estimate":return this.Z_(Gi(l));default:return null}},f.prototype.Z_=function(l){var h=Ko(l),g=new Qt(h.seconds,h.nanos);return this.timestampsInSnapshots?g:g.toDate()},f.prototype.ef=function(l){var h=he.g(l);at(qn(h));var g=new sn(h.get(1),h.get(3)),y=new Le(h.u(5));return g.isEqual(this.U)||lt("Document "+y+" contains a document reference within a different database ("+g.projectId+"/"+g.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(y)},f}(),p_=Qr.ho,Pu=function(){function f(l){var h,g,y,E,T;if(void 0===l.host){if(void 0!==l.ssl)throw new G(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else pi("settings","non-empty string","host",l.host),this.host=l.host,Te("settings","boolean","ssl",l.ssl),this.ssl=null===(h=l.ssl)||void 0===h||h;if(bt("settings",l,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),Te("settings","object","credentials",l.credentials),this.credentials=l.credentials,Te("settings","boolean","timestampsInSnapshots",l.timestampsInSnapshots),Te("settings","boolean","ignoreUndefinedProperties",l.ignoreUndefinedProperties),!0===l.timestampsInSnapshots?lt("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===l.timestampsInSnapshots&&lt("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(g=l.timestampsInSnapshots)||void 0===g||g,this.ignoreUndefinedProperties=null!==(y=l.ignoreUndefinedProperties)&&void 0!==y&&y,Te("settings","number","cacheSizeBytes",l.cacheSizeBytes),void 0===l.cacheSizeBytes)this.cacheSizeBytes=Qr._o;else{if(l.cacheSizeBytes!==p_&&l.cacheSizeBytes<Qr.lo)throw new G(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Qr.lo);this.cacheSizeBytes=l.cacheSizeBytes}Te("settings","boolean","experimentalForceLongPolling",l.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(E=l.experimentalForceLongPolling)&&void 0!==E&&E,Te("settings","boolean","experimentalAutoDetectLongPolling",l.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(T=l.experimentalAutoDetectLongPolling)&&void 0!==T&&T,function(R,V,W,re){if(!0===V&&!0===re)throw new G(z.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,l.experimentalForceLongPolling,0,l.experimentalAutoDetectLongPolling)}return f.prototype.isEqual=function(l){return this.host===l.host&&this.ssl===l.ssl&&this.timestampsInSnapshots===l.timestampsInSnapshots&&this.credentials===l.credentials&&this.cacheSizeBytes===l.cacheSizeBytes&&this.experimentalForceLongPolling===l.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===l.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===l.ignoreUndefinedProperties},f}(),vh=function(){function f(l,h,g,y){var E=this;if(void 0===g&&(g=new yd),void 0===y&&(y=new tf),this.rf=g,this.af=y,this.cf=null,this.uf=new Ke,this.INTERNAL={delete:function(){return U.__awaiter(E,void 0,void 0,function(){return U.__generator(this,function(V){switch(V.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return V.sent(),[2]}})})}},"object"==typeof l.options){var T=l;this.cf=T,this.__=f._f(T),this.ff=T.name,this.df=new cr(h)}else{var R=l;if(!R.projectId)throw new G(z.INVALID_ARGUMENT,"Must provide projectId");this.__=new sn(R.projectId,R.database),this.ff="[DEFAULT]",this.df=new Nr}this.wf=new Pu({})}return Object.defineProperty(f.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new wl(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),f.prototype.settings=function(l){ot("Firestore.settings",arguments,1),un("Firestore.settings","object",1,l),l.merge&&delete(l=Object.assign(Object.assign({},this.wf),l)).merge;var h=new Pu(l);if(this.lf&&!this.wf.isEqual(h))throw new G(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=h,void 0!==h.credentials&&(this.df=function(g){if(!g)return new Nr;switch(g.type){case"gapi":var y=g.client;return at(!("object"!=typeof y||null===y||!y.auth||!y.auth.getAuthHeaderValueForFirstParty)),new ip(y,g.sessionIndex||"0");case"provider":return g.client;default:throw new G(z.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(h.credentials))},f.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},f.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},f.prototype.enablePersistence=function(l){var h,g;if(this.lf)throw new G(z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var y=!1,E=!1;if(l&&(void 0!==l.experimentalTabSynchronization&&lt("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),y=null!==(g=null!==(h=l.synchronizeTabs)&&void 0!==h?h:l.experimentalTabSynchronization)&&void 0!==g&&g,E=!!l.experimentalForceOwningTab&&l.experimentalForceOwningTab,y&&E))throw new G(z.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:y,ka:E})},f.prototype.clearPersistence=function(){return U.__awaiter(this,void 0,void 0,function(){var l,h=this;return U.__generator(this,function(g){if(void 0!==this.lf&&!this.lf.z_)throw new G(z.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return l=new zo,[2,(this.uf.bs(function(){return U.__awaiter(h,void 0,void 0,function(){var y;return U.__generator(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return E.sent(),l.resolve(),[3,3];case 2:return y=E.sent(),l.reject(y),[3,3];case 3:return[2]}})})}),l.promise)]})})},f.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(f.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),f.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},f.prototype.onSnapshotsInSync=function(l){return this.hf(),wd(l)?this.lf.G_(l):(un("Firestore.onSnapshotsInSync","function",1,l),this.lf.G_({next:l}))},f.prototype.hf=function(){return this.lf||this.Ef(new yd,new tf,{jl:!1}),this.lf},f.prototype.Af=function(){return new No(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},f.prototype.Ef=function(l,h,g){var y=this.Af();return this.lf=new Em(this.df,this.uf),this.lf.start(y,l,h,g)},f._f=function(l){if(!Object.prototype.hasOwnProperty.call(l.options,"projectId"))throw new G(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var g=l.options.projectId;if(!g||"string"!=typeof g)throw new G(z.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new sn(g)},Object.defineProperty(f.prototype,"app",{get:function(){if(!this.cf)throw new G(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),f.prototype.collection=function(l){return ot("Firestore.collection",arguments,1),un("Firestore.collection","non-empty string",1,l),this.hf(),new nu(he.g(l),this,null)},f.prototype.doc=function(l){return ot("Firestore.doc",arguments,1),un("Firestore.doc","non-empty string",1,l),this.hf(),Cl.Rf(he.g(l),this,null)},f.prototype.collectionGroup=function(l){if(ot("Firestore.collectionGroup",arguments,1),un("Firestore.collectionGroup","non-empty string",1,l),l.indexOf("/")>=0)throw new G(z.INVALID_ARGUMENT,"Invalid collection ID '"+l+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new cf((h=l,new xs(he.P(),h)),this,null);var h},f.prototype.runTransaction=function(l){var h=this;return ot("Firestore.runTransaction",arguments,1),un("Firestore.runTransaction","function",1,l),this.hf().transaction(function(g){return l(new Mm(h,g))})},f.prototype.batch=function(){return this.hf(),new Ew(this)},Object.defineProperty(f,"logLevel",{get:function(){switch(Ne()){case pe.LogLevel.DEBUG:return"debug";case pe.LogLevel.ERROR:return"error";case pe.LogLevel.SILENT:return"silent";case pe.LogLevel.WARN:return"warn";case pe.LogLevel.INFO:return"info";case pe.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),f.setLogLevel=function(l){ot("Firestore.setLogLevel",arguments,1),He("setLogLevel",["debug","error","silent","warn","info","verbose"],1,l),de.setLogLevel(l)},f.prototype.gf=function(){return this.wf.timestampsInSnapshots},f.prototype.Pf=function(){return this.wf},f}(),Mm=function(){function f(l,h){this.yf=l,this.Vf=h}return f.prototype.get=function(l){var h=this;ot("Transaction.get",arguments,1);var g=ku("Transaction.get",l,this.yf);return this.Vf.v_([g.f_]).then(function(y){if(!y||1!==y.length)return Re();var E=y[0];if(E instanceof kr)return new af(h.yf,g.f_,null,!1,!1,g.d_);if(E instanceof oi)return new af(h.yf,g.f_,E,!1,!1,g.d_);throw Re()})},f.prototype.set=function(l,h,g){nn("Transaction.set",arguments,2,3);var y=ku("Transaction.set",l,this.yf);g=lf("Transaction.set",g);var E=Ys(y.d_,h,g),T=rf(this.yf.mf,"Transaction.set",y.f_,E,null!==y.d_,g);return this.Vf.set(y.f_,T),this},f.prototype.update=function(l,h,g){for(var y,E,T=[],R=3;R<arguments.length;R++)T[R-3]=arguments[R];return"string"==typeof h||h instanceof M?(Yt("Transaction.update",arguments,3),y=ku("Transaction.update",l,this.yf),E=sf(this.yf.mf,"Transaction.update",y.f_,h,g,T)):(ot("Transaction.update",arguments,2),y=ku("Transaction.update",l,this.yf),E=mh(this.yf.mf,"Transaction.update",y.f_,h)),this.Vf.update(y.f_,E),this},f.prototype.delete=function(l){ot("Transaction.delete",arguments,1);var h=ku("Transaction.delete",l,this.yf);return this.Vf.delete(h.f_),this},f}(),Ew=function(){function f(l){this.yf=l,this.pf=[],this.bf=!1}return f.prototype.set=function(l,h,g){nn("WriteBatch.set",arguments,2,3),this.vf();var y=ku("WriteBatch.set",l,this.yf);g=lf("WriteBatch.set",g);var E=Ys(y.d_,h,g),T=rf(this.yf.mf,"WriteBatch.set",y.f_,E,null!==y.d_,g);return this.pf=this.pf.concat(T.w_(y.f_,Vi.ze())),this},f.prototype.update=function(l,h,g){for(var y,E,T=[],R=3;R<arguments.length;R++)T[R-3]=arguments[R];return this.vf(),"string"==typeof h||h instanceof M?(Yt("WriteBatch.update",arguments,3),y=ku("WriteBatch.update",l,this.yf),E=sf(this.yf.mf,"WriteBatch.update",y.f_,h,g,T)):(ot("WriteBatch.update",arguments,2),y=ku("WriteBatch.update",l,this.yf),E=mh(this.yf.mf,"WriteBatch.update",y.f_,h)),this.pf=this.pf.concat(E.w_(y.f_,Vi.exists(!0))),this},f.prototype.delete=function(l){ot("WriteBatch.delete",arguments,1),this.vf();var h=ku("WriteBatch.delete",l,this.yf);return this.pf=this.pf.concat(new Ir(h.f_,Vi.ze())),this},f.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},f.prototype.vf=function(){if(this.bf)throw new G(z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},f}(),Cl=function(f){function l(h,g,y){var E=this;return(E=f.call(this,g.__,h,y)||this).f_=h,E.firestore=g,E.d_=y,E.lf=E.firestore.hf(),E}return U.__extends(l,f),l.Rf=function(h,g,y){if(h.length%2!=0)throw new G(z.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+h.R()+" has "+h.length);return new l(new Le(h),g,y)},Object.defineProperty(l.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"parent",{get:function(){return new nu(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),l.prototype.collection=function(h){if(ot("DocumentReference.collection",arguments,1),un("DocumentReference.collection","non-empty string",1,h),!h)throw new G(z.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var g=he.g(h);return new nu(this.f_.path.child(g),this.firestore,null)},l.prototype.isEqual=function(h){if(!(h instanceof l))throw Tn("isEqual","DocumentReference",1,h);return this.firestore===h.firestore&&this.f_.isEqual(h.f_)&&this.d_===h.d_},l.prototype.set=function(h,g){nn("DocumentReference.set",arguments,1,2),g=lf("DocumentReference.set",g);var y=Ys(this.d_,h,g),E=rf(this.firestore.mf,"DocumentReference.set",this.f_,y,null!==this.d_,g);return this.lf.write(E.w_(this.f_,Vi.ze()))},l.prototype.update=function(h,g){for(var y,E=[],T=2;T<arguments.length;T++)E[T-2]=arguments[T];return"string"==typeof h||h instanceof M?(Yt("DocumentReference.update",arguments,2),y=sf(this.firestore.mf,"DocumentReference.update",this.f_,h,g,E)):(ot("DocumentReference.update",arguments,1),y=mh(this.firestore.mf,"DocumentReference.update",this.f_,h)),this.lf.write(y.w_(this.f_,Vi.exists(!0)))},l.prototype.delete=function(){return ot("DocumentReference.delete",arguments,0),this.lf.write([new Ir(this.f_,Vi.ze())])},l.prototype.onSnapshot=function(){for(var h,g,y,E=this,T=[],R=0;R<arguments.length;R++)T[R]=arguments[R];nn("DocumentReference.onSnapshot",arguments,1,4);var V={includeMetadataChanges:!1},W=0;"object"!=typeof T[W]||wd(T[W])||(bt("DocumentReference.onSnapshot",V=T[W],["includeMetadataChanges"]),Te("DocumentReference.onSnapshot","boolean","includeMetadataChanges",V.includeMetadataChanges),W++);var re={includeMetadataChanges:V.includeMetadataChanges};if(wd(T[W])){var ge=T[W];T[W]=null===(h=ge.next)||void 0===h?void 0:h.bind(ge),T[W+1]=null===(g=ge.error)||void 0===g?void 0:g.bind(ge),T[W+2]=null===(y=ge.complete)||void 0===y?void 0:y.bind(ge)}else un("DocumentReference.onSnapshot","function",W,T[W]),rn("DocumentReference.onSnapshot","function",W+1,T[W+1]),rn("DocumentReference.onSnapshot","function",W+2,T[W+2]);var _e={next:function(Ae){T[W]&&T[W](E.Sf(Ae))},error:T[W+1],complete:T[W+2]};return this.lf.listen(Aa(this.f_.path),re,_e)},l.prototype.get=function(h){var g=this;nn("DocumentReference.get",arguments,0,1),Mw("DocumentReference.get",h);var y=this.firestore.hf();return h&&"cache"===h.source?y.Q_(this.f_).then(function(E){return new af(g.firestore,g.f_,E,!0,E instanceof oi&&E.Je,g.d_)}):y.W_(this.f_,h).then(function(E){return g.Sf(E)})},l.prototype.withConverter=function(h){return new l(this.f_,this.firestore,h)},l.prototype.Sf=function(h){var g=h.docs.get(this.f_);return new af(this.firestore,this.f_,g,h.fromCache,h.hasPendingWrites,this.d_)},l}(to),Fy=function(){function f(l,h){this.hasPendingWrites=l,this.fromCache=h}return f.prototype.isEqual=function(l){return this.hasPendingWrites===l.hasPendingWrites&&this.fromCache===l.fromCache},f}(),af=function(){function f(l,h,g,y,E,T){this.yf=l,this.f_=h,this.Df=g,this.Cf=y,this.Nf=E,this.d_=T}return f.prototype.data=function(l){var h=this;if(nn("DocumentSnapshot.data",arguments,0,1),l=bh("DocumentSnapshot.data",l),this.Df){if(this.d_){var g=new Im(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(g,l)}return new up(this.yf.__,this.yf.gf(),l.serverTimestamps||"none",function(y){return new Cl(y,h.yf,null)},function(y){return new zi(y)}).X_(this.Df.rn())}},f.prototype.get=function(l,h){var g=this;if(nn("DocumentSnapshot.get",arguments,1,2),h=bh("DocumentSnapshot.get",h),this.Df){var y=this.Df.data().field(bd("DocumentSnapshot.get",l,this.f_));if(null!==y)return new up(this.yf.__,this.yf.gf(),h.serverTimestamps||"none",function(E){return new Cl(E,g.yf,g.d_)},function(E){return new zi(E)}).X_(y)}},Object.defineProperty(f.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ref",{get:function(){return new Cl(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"metadata",{get:function(){return new Fy(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){if(!(l instanceof f))throw Tn("isEqual","DocumentSnapshot",1,l);return this.yf===l.yf&&this.Cf===l.Cf&&this.f_.isEqual(l.f_)&&(null===this.Df?null===l.Df:this.Df.isEqual(l.Df))&&this.d_===l.d_},f}(),Im=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.data=function(h){return f.prototype.data.call(this,h)},l}(af);function Du(f,l,h){if("string"==typeof h){if(""===h)throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!_u(l)&&-1!==h.indexOf("/"))throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+h+"' contains a '/' character.");var g=l.path.child(he.g(h));if(!Le.F(g))throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+g+"' is not because it has an odd number of segments ("+g.length+").");return yo(f,new Le(g))}if(h instanceof to)return yo(f,h.f_);throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+gt(h)+".")}function yh(f,l){if(!Array.isArray(f)||0===f.length)throw new G(z.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+l.toString()+"' filters.");if(f.length>10)throw new G(z.INVALID_ARGUMENT,"Invalid Query. '"+l.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===l||"array-contains-any"===l){if(f.indexOf(null)>=0)throw new G(z.INVALID_ARGUMENT,"Invalid Query. '"+l.toString()+"' filters cannot contain 'null' in the value array.");if(f.filter(function(h){return Number.isNaN(h)}).length>0)throw new G(z.INVALID_ARGUMENT,"Invalid Query. '"+l.toString()+"' filters cannot contain 'NaN' in the value array.")}}function m_(f,l,h){if(!h.isEqual(l))throw new G(z.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+l.toString()+"' and so you must also use '"+l.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+h.toString()+"' instead.")}function Au(f){if(oc(f)&&0===f.on.length)throw new G(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cf=function(){function f(l,h,g){this.Ff=l,this.firestore=h,this.d_=g}return f.prototype.where=function(l,h,g){ot("Query.where",arguments,3),St("Query.where",3,g);var R,W,y=He("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,h),E=bd("Query.where",l),T=function xl(f,l,h,g,y,E,T){var R;if(y.p()){if("array-contains"===E||"array-contains-any"===E)throw new G(z.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+E+"' queries on FieldPath.documentId().");if("in"===E||"not-in"===E){yh(T,E);for(var V=[],W=0,re=T;W<re.length;W++)V.push(Du(g,f,re[W]));R={arrayValue:{values:V}}}else R=Du(g,f,T)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||yh(T,E),R=Cm(h,l,T,"in"===E||"not-in"===E);var _e=Rr.create(y,E,R);return function(Ae,et){if(et.hn()){var ht=gi(Ae);if(null!==ht&&!ht.isEqual(et.field))throw new G(z.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+ht.toString()+"' and '"+et.field.toString()+"'");var an=Vl(Ae);null!==an&&m_(0,et.field,an)}var Jt=function(An,Jn){for(var _i=0,wi=An.filters;_i<wi.length;_i++){var fr=wi[_i];if(Jn.indexOf(fr.op)>=0)return fr.op}return null}(Ae,function(An){switch(An){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(et.op));if(null!==Jt)throw new G(z.INVALID_ARGUMENT,Jt===et.op?"Invalid query. You cannot use more than one '"+et.op.toString()+"' filter.":"Invalid query. You cannot use '"+et.op.toString()+"' filters with '"+Jt.toString()+"' filters.")}(f,_e),_e}(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,E,y,g);return new f((W=(R=this.Ff).filters.concat([T]),new xs(R.path,R.collectionGroup,R.on.slice(),W,R.limit,R.an,R.startAt,R.endAt)),this.firestore,this.d_)},f.prototype.orderBy=function(l,h){var g;if(nn("Query.orderBy",arguments,1,2),rn("Query.orderBy","non-empty string",2,h),void 0===h||"asc"===h)g="asc";else{if("desc"!==h)throw new G(z.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+h+"', expected 'asc' or 'desc'.");g="desc"}var T,V,y=bd("Query.orderBy",l),E=function gc(f,l,h){if(null!==f.startAt)throw new G(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==f.endAt)throw new G(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var g=new ma(l,h);return function(y,E){if(null===Vl(y)){var T=gi(y);null!==T&&m_(0,T,E.field)}}(f,g),g}(this.Ff,y,g);return new f((V=(T=this.Ff).on.concat([E]),new xs(T.path,T.collectionGroup,V,T.filters.slice(),T.limit,T.an,T.startAt,T.endAt)),this.firestore,this.d_)},f.prototype.limit=function(l){return ot("Query.limit",arguments,1),un("Query.limit","number",1,l),dn("Query.limit",1,l),new f(eh(this.Ff,l,"F"),this.firestore,this.d_)},f.prototype.limitToLast=function(l){return ot("Query.limitToLast",arguments,1),un("Query.limitToLast","number",1,l),dn("Query.limitToLast",1,l),new f(eh(this.Ff,l,"L"),this.firestore,this.d_)},f.prototype.startAt=function(l){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Yt("Query.startAt",arguments,1);var y=this.xf("Query.startAt",l,h,!0);return new f(sc(this.Ff,y),this.firestore,this.d_)},f.prototype.startAfter=function(l){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Yt("Query.startAfter",arguments,1);var y=this.xf("Query.startAfter",l,h,!1);return new f(sc(this.Ff,y),this.firestore,this.d_)},f.prototype.endBefore=function(l){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Yt("Query.endBefore",arguments,1);var y=this.xf("Query.endBefore",l,h,!0);return new f(wo(this.Ff,y),this.firestore,this.d_)},f.prototype.endAt=function(l){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Yt("Query.endAt",arguments,1);var y=this.xf("Query.endAt",l,h,!1);return new f(wo(this.Ff,y),this.firestore,this.d_)},f.prototype.isEqual=function(l){if(!(l instanceof f))throw Tn("isEqual","Query",1,l);return this.firestore===l.firestore&&ac(this.Ff,l.Ff)&&this.d_===l.d_},f.prototype.withConverter=function(l){return new f(this.Ff,this.firestore,l)},f.prototype.xf=function(l,h,g,y){if(St(l,1,h),h instanceof af)return ot(l,U.__spreadArrays([h],g),1),function(T,R,V,W,re){if(!W)throw new G(z.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+V+"().");for(var ge=[],_e=0,Ae=kc(T);_e<Ae.length;_e++){var et=Ae[_e];if(et.field.p())ge.push(yo(R,W.key));else{var ht=W.field(et.field);if(Dn(ht))throw new G(z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+et.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ht){var an=et.field.R();throw new G(z.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+an+"' (used as the orderBy) does not exist.")}ge.push(ht)}}return new Co(ge,re)}(this.Ff,this.firestore.__,l,h.Df,y);var E=[h].concat(g);return function(T,R,V,W,re,ge){var _e=T.on;if(re.length>_e.length)throw new G(z.INVALID_ARGUMENT,"Too many arguments provided to "+W+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var Ae=[],et=0;et<re.length;et++){var ht=re[et];if(_e[et].field.p()){if("string"!=typeof ht)throw new G(z.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+W+"(), but got a "+typeof ht);if(!_u(T)&&-1!==ht.indexOf("/"))throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+W+"() must be a plain document ID, but '"+ht+"' contains a slash.");var an=T.path.child(he.g(ht));if(!Le.F(an))throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+W+"() must result in a valid document path, but '"+an+"' is not because it contains an odd number of segments.");var Jt=new Le(an);Ae.push(yo(R,Jt))}else{var An=Cm(V,W,ht);Ae.push(An)}}return new Co(Ae,ge)}(this.Ff,this.firestore.__,this.firestore.mf,l,E,y)},f.prototype.onSnapshot=function(){for(var l,h,g,y=this,E=[],T=0;T<arguments.length;T++)E[T]=arguments[T];nn("Query.onSnapshot",arguments,1,4);var R={},V=0;if("object"!=typeof E[V]||wd(E[V])||(bt("Query.onSnapshot",R=E[V],["includeMetadataChanges"]),Te("Query.onSnapshot","boolean","includeMetadataChanges",R.includeMetadataChanges),V++),wd(E[V])){var W=E[V];E[V]=null===(l=W.next)||void 0===l?void 0:l.bind(W),E[V+1]=null===(h=W.error)||void 0===h?void 0:h.bind(W),E[V+2]=null===(g=W.complete)||void 0===g?void 0:g.bind(W)}else un("Query.onSnapshot","function",V,E[V]),rn("Query.onSnapshot","function",V+1,E[V+1]),rn("Query.onSnapshot","function",V+2,E[V+2]);var re={next:function(ge){E[V]&&E[V](new Cd(y.firestore,y.Ff,ge,y.d_))},error:E[V+1],complete:E[V+2]};return Au(this.Ff),this.firestore.hf().listen(this.Ff,R,re)},f.prototype.get=function(l){var h=this;nn("Query.get",arguments,0,1),Mw("Query.get",l),Au(this.Ff);var g=this.firestore.hf();return(l&&"cache"===l.source?g.j_(this.Ff):g.K_(this.Ff,l)).then(function(y){return new Cd(h.firestore,h.Ff,y,h.d_)})},f}(),Cd=function(){function f(l,h,g,y){this.yf=l,this.$f=h,this.kf=g,this.d_=y,this.Mf=null,this.Of=null,this.metadata=new Fy(g.hasPendingWrites,g.fromCache)}return Object.defineProperty(f.prototype,"docs",{get:function(){var l=[];return this.forEach(function(h){return l.push(h)}),l},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),f.prototype.forEach=function(l,h){var g=this;nn("QuerySnapshot.forEach",arguments,1,2),un("QuerySnapshot.forEach","function",1,l),this.kf.docs.forEach(function(y){l.call(h,g.Lf(y,g.metadata.fromCache,g.kf.Wt.has(y.key)))})},Object.defineProperty(f.prototype,"query",{get:function(){return new cf(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),f.prototype.docChanges=function(l){l&&(bt("QuerySnapshot.docChanges",l,["includeMetadataChanges"]),Te("QuerySnapshot.docChanges","boolean","includeMetadataChanges",l.includeMetadataChanges));var h=!(!l||!l.includeMetadataChanges);if(h&&this.kf.Kt)throw new G(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===h||(this.Mf=function(g,y,E){if(g.Qt.m()){var T=0;return g.docChanges.map(function(V){return{type:"added",doc:E(V.doc,g.fromCache,g.Wt.has(V.doc.key)),oldIndex:-1,newIndex:T++}})}var R=g.Qt;return g.docChanges.filter(function(V){return y||3!==V.type}).map(function(V){var W=E(V.doc,g.fromCache,g.Wt.has(V.doc.key)),re=-1,ge=-1;return 0!==V.type&&(re=R.indexOf(V.doc.key),R=R.delete(V.doc.key)),1!==V.type&&(ge=(R=R.add(V.doc)).indexOf(V.doc.key)),{type:Iw(V.type),doc:W,oldIndex:re,newIndex:ge}})}(this.kf,h,this.Lf.bind(this)),this.Of=h),this.Mf},f.prototype.isEqual=function(l){if(!(l instanceof f))throw Tn("isEqual","QuerySnapshot",1,l);return this.yf===l.yf&&ac(this.$f,l.$f)&&this.kf.isEqual(l.kf)&&this.d_===l.d_},f.prototype.Lf=function(l,h,g){return new Im(this.yf,l.key,l,h,g,this.d_)},f}(),nu=function(f){function l(h,g,y){var E=this;if((E=f.call(this,Aa(h),g,y)||this).Bf=h,h.length%2!=1)throw new G(z.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+h.R()+" has "+h.length);return E}return U.__extends(l,f),Object.defineProperty(l.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"parent",{get:function(){var h=this.Ff.path.h();return h.m()?null:new Cl(new Le(h),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),l.prototype.doc=function(h){nn("CollectionReference.doc",arguments,0,1),0===arguments.length&&(h=On.k()),un("CollectionReference.doc","non-empty string",1,h);var g=he.g(h);return Cl.Rf(this.Ff.path.child(g),this.firestore,this.d_)},l.prototype.add=function(h){ot("CollectionReference.add",arguments,1);var g=this.d_?this.d_.toFirestore(h):h;un("CollectionReference.add","object",1,g);var y=this.doc();return new Cl(y.f_,this.firestore,null).set(g).then(function(){return y})},l.prototype.withConverter=function(h){return new l(this.Bf,this.firestore,h)},l}(cf);function lf(f,l){if(void 0===l)return{merge:!1};if(bt(f,l,["merge","mergeFields"]),Te(f,"boolean","merge",l.merge),void 0!==(E=l.mergeFields)&&function(R,V,W,re,ge){if(!(re instanceof Array))throw new G(z.INVALID_ARGUMENT,"Function "+R+"() requires its "+V+" option to be an array, but it was: "+gt(re));for(var _e=0;_e<re.length;++_e)if(!ge(re[_e]))throw new G(z.INVALID_ARGUMENT,"Function "+R+"() requires all "+V+" elements to be a string or a FieldPath, but the value at index "+_e+" was: "+gt(re[_e]))}(f,"mergeFields",0,E,function(h){return"string"==typeof h||h instanceof M}),void 0!==l.mergeFields&&void 0!==l.merge)throw new G(z.INVALID_ARGUMENT,"Invalid options passed to function "+f+'(): You cannot specify both "merge" and "mergeFields".');var E;return l}function bh(f,l){return void 0===l?{}:(bt(f,l,["serverTimestamps"]),Ce(f,0,"serverTimestamps",l.serverTimestamps,["estimate","previous","none"]),l)}function Mw(f,l){rn(f,"object",1,l),l&&(bt(f,l,["source"]),Ce(f,0,"source",l.source,["default","server","cache"]))}function ku(f,l,h){if(l instanceof to){if(l.firestore!==h)throw new G(z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}throw Tn(f,"DocumentReference",1,l)}function Iw(f){switch(f){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}function Ys(f,l,h){return f?h&&(h.merge||h.mergeFields)?f.toFirestore(l,h):f.toFirestore(l):l}var Tm=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.serverTimestamp=function(){Ct("FieldValue.serverTimestamp",arguments);var h=new Xe("serverTimestamp");return h.e_="FieldValue.serverTimestamp",new l(h)},l.delete=function(){Ct("FieldValue.delete",arguments);var h=new J("deleteField");return h.e_="FieldValue.delete",new l(h)},l.arrayUnion=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];Yt("FieldValue.arrayUnion",arguments,1);var y=function(){for(var E=[],T=0;T<arguments.length;T++)E[T]=arguments[T];return Yt("arrayUnion()",arguments,1),new At("arrayUnion",E)}.apply(void 0,h);return y.e_="FieldValue.arrayUnion",new l(y)},l.arrayRemove=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];Yt("FieldValue.arrayRemove",arguments,1);var y=function(){for(var E=[],T=0;T<arguments.length;T++)E[T]=arguments[T];return Yt("arrayRemove()",arguments,1),new Nt("arrayRemove",E)}.apply(void 0,h);return y.e_="FieldValue.arrayRemove",new l(y)},l.increment=function(h){un("FieldValue.increment","number",1,h),ot("FieldValue.increment",arguments,1);var g=new pn("increment",h);return g.e_="FieldValue.increment",new l(g)},l.prototype.isEqual=function(h){return this.l_.isEqual(h.l_)},l}(eo),EI={Firestore:vh,GeoPoint:Zn,Timestamp:Qt,Blob:zi,Transaction:Mm,WriteBatch:Ew,DocumentReference:Cl,DocumentSnapshot:af,Query:cf,QueryDocumentSnapshot:Im,QuerySnapshot:Cd,CollectionReference:nu,FieldPath:M,FieldValue:Tm,setLogLevel:vh.setLogLevel,CACHE_SIZE_UNLIMITED:p_};!function Tw(f){f.INTERNAL.registerComponent(new De.Component("firestore",function(g){return y=g.getProvider("app").getImmediate(),E=g.getProvider("auth-internal"),T=new tf,R=new u_(T),new vh(y,E,R,T);var y,E,T,R},"PUBLIC").setServiceProps(Object.assign({},EI))),f.registerVersion("@firebase/firestore","1.18.0")}(Ve.default)},8836:(en,Se,Q)=>{function o(){for(var de=0,Ne=0,me=arguments.length;Ne<me;Ne++)de+=arguments[Ne].length;var lt=Array(de),st=0;for(Ne=0;Ne<me;Ne++)for(var mt=arguments[Ne],Re=0,at=mt.length;Re<at;Re++,st++)lt[st]=mt[Re];return lt}Q.r(Se),Q.d(Se,{LogLevel:()=>pe,Logger:()=>Ve,setLogLevel:()=>z,setUserLogHandler:()=>G});var U,Y=[],pe=function(de){return de[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",de}(pe||{}),ce={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},ke=pe.INFO,De=((U={})[pe.DEBUG]="log",U[pe.VERBOSE]="log",U[pe.INFO]="info",U[pe.WARN]="warn",U[pe.ERROR]="error",U),ut=function(de,Ne){for(var me=[],lt=2;lt<arguments.length;lt++)me[lt-2]=arguments[lt];if(!(Ne<de.logLevel)){var st=(new Date).toISOString(),mt=De[Ne];if(!mt)throw new Error("Attempted to log a message with an invalid logType (value: "+Ne+")");console[mt].apply(console,o(["["+st+"]  "+de.name+":"],me))}},Ve=function(){function de(Ne){this.name=Ne,this._logLevel=ke,this._logHandler=ut,this._userLogHandler=null,Y.push(this)}return Object.defineProperty(de.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Ne){if(!(Ne in pe))throw new TypeError('Invalid value "'+Ne+'" assigned to `logLevel`');this._logLevel=Ne},enumerable:!1,configurable:!0}),de.prototype.setLogLevel=function(Ne){this._logLevel="string"==typeof Ne?ce[Ne]:Ne},Object.defineProperty(de.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Ne){if("function"!=typeof Ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ne},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Ne){this._userLogHandler=Ne},enumerable:!1,configurable:!0}),de.prototype.debug=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,o([this,pe.DEBUG],Ne)),this._logHandler.apply(this,o([this,pe.DEBUG],Ne))},de.prototype.log=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,o([this,pe.VERBOSE],Ne)),this._logHandler.apply(this,o([this,pe.VERBOSE],Ne))},de.prototype.info=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,o([this,pe.INFO],Ne)),this._logHandler.apply(this,o([this,pe.INFO],Ne))},de.prototype.warn=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,o([this,pe.WARN],Ne)),this._logHandler.apply(this,o([this,pe.WARN],Ne))},de.prototype.error=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,o([this,pe.ERROR],Ne)),this._logHandler.apply(this,o([this,pe.ERROR],Ne))},de}();function z(de){Y.forEach(function(Ne){Ne.setLogLevel(de)})}function G(de,Ne){for(var me=function(Re){var at=null;Ne&&Ne.level&&(at=ce[Ne.level]),Re.userLogHandler=null===de?null:function(We,xe){for(var nt=[],$e=2;$e<arguments.length;$e++)nt[$e-2]=arguments[$e];var it=nt.map(function(he){if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch{return null}}).filter(function(he){return he}).join(" ");xe>=(at??We.logLevel)&&de({level:pe[xe].toLowerCase(),message:it,args:nt,type:We.name})}},lt=0,st=Y;lt<st.length;lt++)me(st[lt])}},3661:(en,Se,Q)=>{Object.defineProperty(Se,"__esModule",{value:!0});var o=Q(8005),U={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Y=function(Ie,we){if(!Ie)throw pe(we)},pe=function(Ie){return new Error("Firebase Database ("+U.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Ie)},ce=function(Ie){for(var we=[],Ee=0,qe=0;qe<Ie.length;qe++){var Fe=Ie.charCodeAt(qe);Fe<128?we[Ee++]=Fe:Fe<2048?(we[Ee++]=Fe>>6|192,we[Ee++]=63&Fe|128):55296==(64512&Fe)&&qe+1<Ie.length&&56320==(64512&Ie.charCodeAt(qe+1))?(Fe=65536+((1023&Fe)<<10)+(1023&Ie.charCodeAt(++qe)),we[Ee++]=Fe>>18|240,we[Ee++]=Fe>>12&63|128,we[Ee++]=Fe>>6&63|128,we[Ee++]=63&Fe|128):(we[Ee++]=Fe>>12|224,we[Ee++]=Fe>>6&63|128,we[Ee++]=63&Fe|128)}return we},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Ie,we){if(!Array.isArray(Ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Ee=we?this.byteToCharMapWebSafe_:this.byteToCharMap_,qe=[],Fe=0;Fe<Ie.length;Fe+=3){var xt=Ie[Fe],mn=Fe+1<Ie.length,jt=mn?Ie[Fe+1]:0,Xt=Fe+2<Ie.length,Ht=Xt?Ie[Fe+2]:0,Hn=(15&jt)<<2|Ht>>6,Li=63&Ht;Xt||(Li=64,mn||(Hn=64)),qe.push(Ee[xt>>2],Ee[(3&xt)<<4|jt>>4],Ee[Hn],Ee[Li])}return qe.join("")},encodeString:function(Ie,we){return this.HAS_NATIVE_SUPPORT&&!we?btoa(Ie):this.encodeByteArray(ce(Ie),we)},decodeString:function(Ie,we){return this.HAS_NATIVE_SUPPORT&&!we?atob(Ie):function(Ie){for(var we=[],Ee=0,qe=0;Ee<Ie.length;){var Fe=Ie[Ee++];if(Fe<128)we[qe++]=String.fromCharCode(Fe);else if(Fe>191&&Fe<224){var xt=Ie[Ee++];we[qe++]=String.fromCharCode((31&Fe)<<6|63&xt)}else if(Fe>239&&Fe<365){var Xt=((7&Fe)<<18|(63&(xt=Ie[Ee++]))<<12|(63&(mn=Ie[Ee++]))<<6|63&Ie[Ee++])-65536;we[qe++]=String.fromCharCode(55296+(Xt>>10)),we[qe++]=String.fromCharCode(56320+(1023&Xt))}else{xt=Ie[Ee++];var mn=Ie[Ee++];we[qe++]=String.fromCharCode((15&Fe)<<12|(63&xt)<<6|63&mn)}}return we.join("")}(this.decodeStringToByteArray(Ie,we))},decodeStringToByteArray:function(Ie,we){this.init_();for(var Ee=we?this.charToByteMapWebSafe_:this.charToByteMap_,qe=[],Fe=0;Fe<Ie.length;){var xt=Ee[Ie.charAt(Fe++)],jt=Fe<Ie.length?Ee[Ie.charAt(Fe)]:0,Ht=++Fe<Ie.length?Ee[Ie.charAt(Fe)]:64,yi=++Fe<Ie.length?Ee[Ie.charAt(Fe)]:64;if(++Fe,null==xt||null==jt||null==Ht||null==yi)throw Error();qe.push(xt<<2|jt>>4),64!==Ht&&(qe.push(jt<<4&240|Ht>>2),64!==yi&&qe.push(Ht<<6&192|yi))}return qe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Ie=0;Ie<this.ENCODED_VALS.length;Ie++)this.byteToCharMap_[Ie]=this.ENCODED_VALS.charAt(Ie),this.charToByteMap_[this.byteToCharMap_[Ie]]=Ie,this.byteToCharMapWebSafe_[Ie]=this.ENCODED_VALS_WEBSAFE.charAt(Ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ie]]=Ie,Ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ie)]=Ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ie)]=Ie)}}},Ve=function(Ie){try{return De.decodeString(Ie,!0)}catch(we){console.error("base64Decode failed: ",we)}return null};function G(Ie,we){if(!(we instanceof Object))return we;switch(we.constructor){case Date:return new Date(we.getTime());case Object:void 0===Ie&&(Ie={});break;case Array:Ie=[];break;default:return we}for(var qe in we)we.hasOwnProperty(qe)&&(Ie[qe]=G(Ie[qe],we[qe]));return Ie}var de=function(){function Ie(){var we=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Ee,qe){we.resolve=Ee,we.reject=qe})}return Ie.prototype.wrapCallback=function(we){var Ee=this;return function(qe,Fe){qe?Ee.reject(qe):Ee.resolve(Fe),"function"==typeof we&&(Ee.promise.catch(function(){}),1===we.length?we(qe):we(qe,Fe))}},Ie}();function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}var Le=function(Ie){function we(Ee,qe){var Fe=Ie.call(this,qe)||this;return Fe.code=Ee,Fe.name="FirebaseError",Object.setPrototypeOf(Fe,we.prototype),Error.captureStackTrace&&Error.captureStackTrace(Fe,Ct.prototype.create),Fe}return o.__extends(we,Ie),we}(Error),Ct=function(){function Ie(we,Ee,qe){this.service=we,this.serviceName=Ee,this.errors=qe}return Ie.prototype.create=function(we){for(var Ee=[],qe=1;qe<arguments.length;qe++)Ee[qe-1]=arguments[qe];for(var Fe=Ee[0]||{},xt=this.service+"/"+we,mn=this.errors[we],jt=mn?function ot(Ie,we){return Ie.replace(Yt,function(Ee,qe){var Fe=we[qe];return null!=Fe?String(Fe):"<"+qe+"?>"})}(mn,Fe):"Error",Ht=new Le(xt,this.serviceName+": "+jt+" ("+xt+")."),xi=0,yi=Object.keys(Fe);xi<yi.length;xi++){var Hn=yi[xi];"_"!==Hn.slice(-1)&&(Hn in Ht&&console.warn('Overwriting FirebaseError base field "'+Hn+'" can cause unexpected behavior.'),Ht[Hn]=Fe[Hn])}return Ht},Ie}(),Yt=/\{\$([^}]+)}/g;function nn(Ie){return JSON.parse(Ie)}var rn=function(Ie){var we={},Ee={},qe={},Fe="";try{var xt=Ie.split(".");we=nn(Ve(xt[0])||""),Ee=nn(Ve(xt[1])||""),Fe=xt[2],qe=Ee.d||{},delete Ee.d}catch{}return{header:we,claims:Ee,data:qe,signature:Fe}},dn=function(){function Ie(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var we=1;we<this.blockSize;++we)this.pad_[we]=0;this.reset()}return Ie.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Ie.prototype.compress_=function(we,Ee){Ee||(Ee=0);var qe=this.W_;if("string"==typeof we)for(var Fe=0;Fe<16;Fe++)qe[Fe]=we.charCodeAt(Ee)<<24|we.charCodeAt(Ee+1)<<16|we.charCodeAt(Ee+2)<<8|we.charCodeAt(Ee+3),Ee+=4;else for(Fe=0;Fe<16;Fe++)qe[Fe]=we[Ee]<<24|we[Ee+1]<<16|we[Ee+2]<<8|we[Ee+3],Ee+=4;for(Fe=16;Fe<80;Fe++)qe[Fe]=4294967295&((xt=qe[Fe-3]^qe[Fe-8]^qe[Fe-14]^qe[Fe-16])<<1|xt>>>31);var yi,Hn,mn=this.chain_[0],jt=this.chain_[1],Xt=this.chain_[2],Ht=this.chain_[3],xi=this.chain_[4];for(Fe=0;Fe<80;Fe++){Fe<40?Fe<20?(yi=Ht^jt&(Xt^Ht),Hn=1518500249):(yi=jt^Xt^Ht,Hn=1859775393):Fe<60?(yi=jt&Xt|Ht&(jt|Xt),Hn=2400959708):(yi=jt^Xt^Ht,Hn=3395469782);var xt=(mn<<5|mn>>>27)+yi+xi+Hn+qe[Fe]&4294967295;xi=Ht,Ht=Xt,Xt=4294967295&(jt<<30|jt>>>2),jt=mn,mn=xt}this.chain_[0]=this.chain_[0]+mn&4294967295,this.chain_[1]=this.chain_[1]+jt&4294967295,this.chain_[2]=this.chain_[2]+Xt&4294967295,this.chain_[3]=this.chain_[3]+Ht&4294967295,this.chain_[4]=this.chain_[4]+xi&4294967295},Ie.prototype.update=function(we,Ee){if(null!=we){void 0===Ee&&(Ee=we.length);for(var qe=Ee-this.blockSize,Fe=0,xt=this.buf_,mn=this.inbuf_;Fe<Ee;){if(0===mn)for(;Fe<=qe;)this.compress_(we,Fe),Fe+=this.blockSize;if("string"==typeof we){for(;Fe<Ee;)if(xt[mn]=we.charCodeAt(Fe),++Fe,++mn===this.blockSize){this.compress_(xt),mn=0;break}}else for(;Fe<Ee;)if(xt[mn]=we[Fe],++Fe,++mn===this.blockSize){this.compress_(xt),mn=0;break}}this.inbuf_=mn,this.total_+=Ee}},Ie.prototype.digest=function(){var we=[],Ee=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var qe=this.blockSize-1;qe>=56;qe--)this.buf_[qe]=255&Ee,Ee/=256;this.compress_(this.buf_);var Fe=0;for(qe=0;qe<5;qe++)for(var xt=24;xt>=0;xt-=8)we[Fe]=this.chain_[qe]>>xt&255,++Fe;return we},Ie}(),fn=function(){function Ie(we,Ee){var qe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ee,this.task.then(function(){we(qe)}).catch(function(Fe){qe.error(Fe)})}return Ie.prototype.next=function(we){this.forEachObserver(function(Ee){Ee.next(we)})},Ie.prototype.error=function(we){this.forEachObserver(function(Ee){Ee.error(we)}),this.close(we)},Ie.prototype.complete=function(){this.forEachObserver(function(we){we.complete()}),this.close()},Ie.prototype.subscribe=function(we,Ee,qe){var xt,Fe=this;if(void 0===we&&void 0===Ee&&void 0===qe)throw new Error("Missing Observer.");xt=function On(Ie,we){if("object"!=typeof Ie||null===Ie)return!1;for(var Ee=0,qe=we;Ee<qe.length;Ee++){var Fe=qe[Ee];if(Fe in Ie&&"function"==typeof Ie[Fe])return!0}return!1}(we,["next","error","complete"])?we:{next:we,error:Ee,complete:qe},void 0===xt.next&&(xt.next=Ut),void 0===xt.error&&(xt.error=Ut),void 0===xt.complete&&(xt.complete=Ut);var mn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Fe.finalError?xt.error(Fe.finalError):xt.complete()}catch{}}),this.observers.push(xt),mn},Ie.prototype.unsubscribeOne=function(we){void 0===this.observers||void 0===this.observers[we]||(delete this.observers[we],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Ie.prototype.forEachObserver=function(we){if(!this.finalized)for(var Ee=0;Ee<this.observers.length;Ee++)this.sendOne(Ee,we)},Ie.prototype.sendOne=function(we,Ee){var qe=this;this.task.then(function(){if(void 0!==qe.observers&&void 0!==qe.observers[we])try{Ee(qe.observers[we])}catch(Fe){typeof console<"u"&&console.error&&console.error(Fe)}})},Ie.prototype.close=function(we){var Ee=this;this.finalized||(this.finalized=!0,void 0!==we&&(this.finalError=we),this.task.then(function(){Ee.observers=void 0,Ee.onNoObservers=void 0}))},Ie}();function Ut(){}function Fn(Ie,we,Ee){var qe="";switch(we){case 1:qe=Ee?"first":"First";break;case 2:qe=Ee?"second":"Second";break;case 3:qe=Ee?"third":"Third";break;case 4:qe=Ee?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return Ie+" failed: "+(qe+" argument ")}Se.CONSTANTS=U,Se.Deferred=de,Se.ErrorFactory=Ct,Se.FirebaseError=Le,Se.MAX_VALUE_MILLIS=144e5,Se.RANDOM_FACTOR=.5,Se.Sha1=dn,Se.areCookiesEnabled=function ue(){return!(!navigator||!navigator.cookieEnabled)},Se.assert=Y,Se.assertionError=pe,Se.async=function tn(Ie,we){return function(){for(var Ee=[],qe=0;qe<arguments.length;qe++)Ee[qe]=arguments[qe];Promise.resolve(!0).then(function(){Ie.apply(void 0,Ee)}).catch(function(Fe){we&&we(Fe)})}},Se.base64=De,Se.base64Decode=Ve,Se.base64Encode=function(Ie){var we=ce(Ie);return De.encodeByteArray(we,!0)},Se.calculateBackoffMillis=function zt(Ie,we,Ee){void 0===we&&(we=1e3),void 0===Ee&&(Ee=2);var qe=we*Math.pow(Ee,Ie),Fe=Math.round(.5*qe*(Math.random()-.5)*2);return Math.min(144e5,qe+Fe)},Se.contains=function je(Ie,we){return Object.prototype.hasOwnProperty.call(Ie,we)},Se.createSubscribe=function Nn(Ie,we){var Ee=new fn(Ie,we);return Ee.subscribe.bind(Ee)},Se.decode=rn,Se.deepCopy=function z(Ie){return G(void 0,Ie)},Se.deepExtend=G,Se.errorPrefix=Fn,Se.getUA=Ne,Se.isAdmin=function(Ie){var we=rn(Ie).claims;return"object"==typeof we&&!0===we.admin},Se.isBrowser=function st(){return"object"==typeof self&&self.self===self},Se.isBrowserExtension=function mt(){var Ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ie&&void 0!==Ie.id},Se.isElectron=function at(){return Ne().indexOf("Electron/")>=0},Se.isEmpty=function gt(Ie){for(var we in Ie)if(Object.prototype.hasOwnProperty.call(Ie,we))return!1;return!0},Se.isIE=function We(){var Ie=Ne();return Ie.indexOf("MSIE ")>=0||Ie.indexOf("Trident/")>=0},Se.isIndexedDBAvailable=function it(){return"indexedDB"in self&&null!=indexedDB},Se.isMobileCordova=function me(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())},Se.isNode=lt,Se.isNodeSdk=function nt(){return!0===U.NODE_CLIENT||!0===U.NODE_ADMIN},Se.isReactNative=function Re(){return"object"==typeof navigator&&"ReactNative"===navigator.product},Se.isSafari=function $e(){return!lt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},Se.isUWP=function xe(){return Ne().indexOf("MSAppHost/")>=0},Se.isValidFormat=function(Ie){var Ee=rn(Ie).claims;return!!Ee&&"object"==typeof Ee&&Ee.hasOwnProperty("iat")},Se.isValidTimestamp=function(Ie){var we=rn(Ie).claims,Ee=Math.floor((new Date).getTime()/1e3),qe=0,Fe=0;return"object"==typeof we&&(we.hasOwnProperty("nbf")?qe=we.nbf:we.hasOwnProperty("iat")&&(qe=we.iat),Fe=we.hasOwnProperty("exp")?we.exp:qe+86400),!!Ee&&!!qe&&!!Fe&&Ee>=qe&&Ee<=Fe},Se.issuedAtTime=function(Ie){var we=rn(Ie).claims;return"object"==typeof we&&we.hasOwnProperty("iat")?we.iat:null},Se.jsonEval=nn,Se.map=function St(Ie,we,Ee){var qe={};for(var Fe in Ie)Object.prototype.hasOwnProperty.call(Ie,Fe)&&(qe[Fe]=we.call(Ee,Ie[Fe],Fe,Ie));return qe},Se.querystring=function bt(Ie){for(var we=[],Ee=function(Xt,Ht){Array.isArray(Ht)?Ht.forEach(function(xi){we.push(encodeURIComponent(Xt)+"="+encodeURIComponent(xi))}):we.push(encodeURIComponent(Xt)+"="+encodeURIComponent(Ht))},qe=0,Fe=Object.entries(Ie);qe<Fe.length;qe++){var xt=Fe[qe];Ee(xt[0],xt[1])}return we.length?"&"+we.join("&"):""},Se.querystringDecode=function Tn(Ie){var we={};return Ie.replace(/^\?/,"").split("&").forEach(function(qe){if(qe){var Fe=qe.split("=");we[Fe[0]]=Fe[1]}}),we},Se.safeGet=function ct(Ie,we){if(Object.prototype.hasOwnProperty.call(Ie,we))return Ie[we]},Se.stringLength=function(Ie){for(var we=0,Ee=0;Ee<Ie.length;Ee++){var qe=Ie.charCodeAt(Ee);qe<128?we++:qe<2048?we+=2:qe>=55296&&qe<=56319?(we+=4,Ee++):we+=3}return we},Se.stringToByteArray=function(Ie){for(var we=[],Ee=0,qe=0;qe<Ie.length;qe++){var Fe=Ie.charCodeAt(qe);if(Fe>=55296&&Fe<=56319){var xt=Fe-55296;qe++,Y(qe<Ie.length,"Surrogate pair missing trail surrogate."),Fe=65536+(xt<<10)+(Ie.charCodeAt(qe)-56320)}Fe<128?we[Ee++]=Fe:Fe<2048?(we[Ee++]=Fe>>6|192,we[Ee++]=63&Fe|128):Fe<65536?(we[Ee++]=Fe>>12|224,we[Ee++]=Fe>>6&63|128,we[Ee++]=63&Fe|128):(we[Ee++]=Fe>>18|240,we[Ee++]=Fe>>12&63|128,we[Ee++]=Fe>>6&63|128,we[Ee++]=63&Fe|128)}return we},Se.stringify=function un(Ie){return JSON.stringify(Ie)},Se.validateArgCount=function(Ie,we,Ee,qe){var Fe;if(qe<we?Fe="at least "+we:qe>Ee&&(Fe=0===Ee?"none":"no more than "+Ee),Fe)throw new Error(Ie+" failed: Was called with "+qe+(1===qe?" argument.":" arguments.")+" Expects "+Fe+".")},Se.validateCallback=function Ci(Ie,we,Ee,qe){if((!qe||Ee)&&"function"!=typeof Ee)throw new Error(Fn(Ie,we,qe)+"must be a valid function.")},Se.validateContextObject=function Di(Ie,we,Ee,qe){if((!qe||Ee)&&("object"!=typeof Ee||null===Ee))throw new Error(Fn(Ie,we,qe)+"must be a valid context object.")},Se.validateIndexedDBOpenable=function he(){return new Promise(function(Ie,we){try{var Ee=!0,qe="validate-browser-context-for-indexeddb-analytics-module",Fe=window.indexedDB.open(qe);Fe.onsuccess=function(){Fe.result.close(),Ee||window.indexedDB.deleteDatabase(qe),Ie(!0)},Fe.onupgradeneeded=function(){Ee=!1},Fe.onerror=function(){var xt;we((null===(xt=Fe.error)||void 0===xt?void 0:xt.message)||"")}}catch(xt){we(xt)}})},Se.validateNamespace=function Vn(Ie,we,Ee,qe){if((!qe||Ee)&&"string"!=typeof Ee)throw new Error(Fn(Ie,we,qe)+"must be a valid firebase namespace.")}},8602:(en,Se,Q)=>{Q.r(Se),Q.d(Se,{ErrorCode:()=>Fc,EventType:()=>xo,WebChannel:()=>Hs,XhrIo:()=>Lc,createWebChannelTransport:()=>es,default:()=>Na});var o=function(C,N){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,ee){j.__proto__=ee}||function(j,ee){for(var ve in ee)Object.prototype.hasOwnProperty.call(ee,ve)&&(j[ve]=ee[ve])})(C,N)};function Y(C){var N="function"==typeof Symbol&&Symbol.iterator,j=N&&C[N],ee=0;if(j)return j.call(C);if(C&&"number"==typeof C.length)return{next:function(){return C&&ee>=C.length&&(C=void 0),{value:C&&C[ee++],done:!C}}};throw new TypeError(N?"Object is not iterable.":"Symbol.iterator is not defined.")}var ce,pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ke=ke||{},De=pe||self;function ut(){}function Ve(C){var N=typeof C;return"object"!=N?N:C?Array.isArray(C)?"array":N:"null"}function z(C){var N=Ve(C);return"array"==N||"object"==N&&"number"==typeof C.length}function G(C){var N=typeof C;return"object"==N&&null!=C||"function"==N}var Ne="closure_uid_"+(1e9*Math.random()>>>0),me=0;function lt(C,N,j){return C.call.apply(C.bind,arguments)}function st(C,N,j){if(!C)throw Error();if(2<arguments.length){var ee=Array.prototype.slice.call(arguments,2);return function(){var ve=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ve,ee),C.apply(N,ve)}}return function(){return C.apply(N,arguments)}}function mt(C,N,j){return(mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lt:st).apply(null,arguments)}function Re(C,N){var j=Array.prototype.slice.call(arguments,1);return function(){var ee=j.slice();return ee.push.apply(ee,arguments),C.apply(this,ee)}}var at=Date.now;function We(C,N){function j(){}j.prototype=N.prototype,C.S=N.prototype,C.prototype=new j,C.prototype.constructor=C}function xe(){this.j=this.j,this.i=this.i}xe.prototype.j=!1,xe.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function de(C){Object.prototype.hasOwnProperty.call(C,Ne)&&C[Ne]||(C[Ne]=++me)}(this)},xe.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var $e=Array.prototype.indexOf?function(C,N){return Array.prototype.indexOf.call(C,N,void 0)}:function(C,N){if("string"==typeof C)return"string"!=typeof N||1!=N.length?-1:C.indexOf(N,0);for(var j=0;j<C.length;j++)if(j in C&&C[j]===N)return j;return-1},it=Array.prototype.forEach?function(C,N,j){Array.prototype.forEach.call(C,N,j)}:function(C,N,j){for(var ee=C.length,ve="string"==typeof C?C.split(""):C,Ke=0;Ke<ee;Ke++)Ke in ve&&N.call(j,ve[Ke],Ke,C)};function ue(C){return Array.prototype.concat.apply([],arguments)}function Ge(C){var N=C.length;if(0<N){for(var j=Array(N),ee=0;ee<N;ee++)j[ee]=C[ee];return j}return[]}function Le(C){return/^[\s\xa0]*$/.test(C)}var nn,Ct=String.prototype.trim?function(C){return C.trim()}:function(C){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(C)[1]};function ot(C,N){return-1!=C.indexOf(N)}function Yt(C,N){return C<N?-1:C>N?1:0}e:{var un=De.navigator;if(un){var rn=un.userAgent;if(rn){nn=rn;break e}}nn=""}function pi(C,N,j){for(var ee in C)N.call(j,C[ee],ee,C)}function Te(C){var N={};for(var j in C)N[j]=C[j];return N}var Ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function He(C,N){for(var j,ee,ve=1;ve<arguments.length;ve++){for(j in ee=arguments[ve])C[j]=ee[j];for(var Ke=0;Ke<Ce.length;Ke++)j=Ce[Ke],Object.prototype.hasOwnProperty.call(ee,j)&&(C[j]=ee[j])}}function je(C){return je[" "](C),C}je[" "]=ut;var tn,C,gt=ot(nn,"Opera"),St=ot(nn,"Trident")||ot(nn,"MSIE"),bt=ot(nn,"Edge"),Tn=bt||St,dn=ot(nn,"Gecko")&&!(ot(nn.toLowerCase(),"webkit")&&!ot(nn,"Edge"))&&!(ot(nn,"Trident")||ot(nn,"MSIE"))&&!ot(nn,"Edge"),Nn=ot(nn.toLowerCase(),"webkit")&&!ot(nn,"Edge");function fn(){var C=De.document;return C?C.documentMode:void 0}e:{var On="",Ut=(C=nn,dn?/rv:([^\);]+)(\)|;)/.exec(C):bt?/Edge\/([\d\.]+)/.exec(C):St?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(C):Nn?/WebKit\/(\S+)/.exec(C):gt?/(?:Version)[ \/]?(\S+)/.exec(C):void 0);if(Ut&&(On=Ut?Ut[1]:""),St){var cn=fn();if(null!=cn&&cn>parseFloat(On)){tn=String(cn);break e}}tn=On}var Fn={};function Vn(C){return function ct(C,N){var j=Fn;return Object.prototype.hasOwnProperty.call(j,C)?j[C]:j[C]=N(C)}(C,function(){for(var N=0,j=Ct(String(tn)).split("."),ee=Ct(String(C)).split("."),ve=Math.max(j.length,ee.length),Ke=0;0==N&&Ke<ve;Ke++){var Rt=j[Ke]||"",Gn=ee[Ke]||"";do{if(Rt=/(\d*)(\D*)(.*)/.exec(Rt)||["","","",""],Gn=/(\d*)(\D*)(.*)/.exec(Gn)||["","","",""],0==Rt[0].length&&0==Gn[0].length)break;N=Yt(0==Rt[1].length?0:parseInt(Rt[1],10),0==Gn[1].length?0:parseInt(Gn[1],10))||Yt(0==Rt[2].length,0==Gn[2].length)||Yt(Rt[2],Gn[2]),Rt=Rt[3],Gn=Gn[3]}while(0==N)}return 0<=N})}var ni=De.document&&St&&(fn()||parseInt(tn,10))||void 0,zi=!St||9<=Number(ni),No=St&&!Vn("9"),sn=function(){if(!De.addEventListener||!Object.defineProperty)return!1;var C=!1,N=Object.defineProperty({},"passive",{get:function(){C=!0}});try{De.addEventListener("test",ut,N),De.removeEventListener("test",ut,N)}catch{}return C}();function Kt(C,N){this.type=C,this.a=this.target=N,this.defaultPrevented=!1}function Qt(C,N){if(Kt.call(this,C?C.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,C){var j=this.type=C.type,ee=C.changedTouches&&C.changedTouches.length?C.changedTouches[0]:null;if(this.target=C.target||C.srcElement,this.a=N,N=C.relatedTarget){if(dn){e:{try{je(N.nodeName);var ve=!0;break e}catch{}ve=!1}ve||(N=null)}}else"mouseover"==j?N=C.fromElement:"mouseout"==j&&(N=C.toElement);this.relatedTarget=N,ee?(this.clientX=void 0!==ee.clientX?ee.clientX:ee.pageX,this.clientY=void 0!==ee.clientY?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=void 0!==C.clientX?C.clientX:C.pageX,this.clientY=void 0!==C.clientY?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0),this.button=C.button,this.key=C.key||"",this.ctrlKey=C.ctrlKey,this.altKey=C.altKey,this.shiftKey=C.shiftKey,this.metaKey=C.metaKey,this.pointerId=C.pointerId||0,this.pointerType="string"==typeof C.pointerType?C.pointerType:zt[C.pointerType]||"",this.c=C,C.defaultPrevented&&this.b()}}Kt.prototype.b=function(){this.defaultPrevented=!0},We(Qt,Kt);var zt={2:"touch",3:"pen",4:"mouse"};Qt.prototype.b=function(){Qt.S.b.call(this);var C=this.c;if(C.preventDefault)C.preventDefault();else if(C.returnValue=!1,No)try{(C.ctrlKey||112<=C.keyCode&&123>=C.keyCode)&&(C.keyCode=-1)}catch{}};var Ie="closure_listenable_"+(1e6*Math.random()|0),we=0;function Ee(C,N,j,ee,ve){this.listener=C,this.proxy=null,this.src=N,this.type=j,this.capture=!!ee,this.ca=ve,this.key=++we,this.Y=this.Z=!1}function qe(C){C.Y=!0,C.listener=null,C.proxy=null,C.src=null,C.ca=null}function Fe(C){this.src=C,this.a={},this.b=0}function xt(C,N){var j=N.type;if(j in C.a){var Ke,ee=C.a[j],ve=$e(ee,N);(Ke=0<=ve)&&Array.prototype.splice.call(ee,ve,1),Ke&&(qe(N),0==C.a[j].length&&(delete C.a[j],C.b--))}}function mn(C,N,j,ee){for(var ve=0;ve<C.length;++ve){var Ke=C[ve];if(!Ke.Y&&Ke.listener==N&&Ke.capture==!!j&&Ke.ca==ee)return ve}return-1}Fe.prototype.add=function(C,N,j,ee,ve){var Ke=C.toString();(C=this.a[Ke])||(C=this.a[Ke]=[],this.b++);var Rt=mn(C,N,ee,ve);return-1<Rt?(N=C[Rt],j||(N.Z=!1)):((N=new Ee(N,this.src,Ke,!!ee,ve)).Z=j,C.push(N)),N};var jt="closure_lm_"+(1e6*Math.random()|0),Xt={};function Ht(C,N,j,ee,ve){if(ee&&ee.once)return Hn(C,N,j,ee,ve);if(Array.isArray(N)){for(var Ke=0;Ke<N.length;Ke++)Ht(C,N[Ke],j,ee,ve);return null}return j=fe(j),C&&C[Ie]?C.va(N,j,G(ee)?!!ee.capture:!!ee,ve):xi(C,N,j,!1,ee,ve)}function xi(C,N,j,ee,ve,Ke){if(!N)throw Error("Invalid event type");var Rt=G(ve)?!!ve.capture:!!ve;if(Rt&&!zi)return null;var Gn=_r(C);if(Gn||(C[jt]=Gn=new Fe(C)),(j=Gn.add(N,j,ee,Rt,Ke)).proxy)return j;if(ee=function yi(){var C=Ei,N=zi?function(j){return C.call(N.src,N.listener,j)}:function(j){if(!(j=C.call(N.src,N.listener,j)))return j};return N}(),j.proxy=ee,ee.src=C,ee.listener=j,C.addEventListener)sn||(ve=Rt),void 0===ve&&(ve=!1),C.addEventListener(N.toString(),ee,ve);else if(C.attachEvent)C.attachEvent(gr(N.toString()),ee);else{if(!C.addListener||!C.removeListener)throw Error("addEventListener and attachEvent are unavailable.");C.addListener(ee)}return j}function Hn(C,N,j,ee,ve){if(Array.isArray(N)){for(var Ke=0;Ke<N.length;Ke++)Hn(C,N[Ke],j,ee,ve);return null}return j=fe(j),C&&C[Ie]?C.wa(N,j,G(ee)?!!ee.capture:!!ee,ve):xi(C,N,j,!0,ee,ve)}function Li(C,N,j,ee,ve){if(Array.isArray(N))for(var Ke=0;Ke<N.length;Ke++)Li(C,N[Ke],j,ee,ve);else ee=G(ee)?!!ee.capture:!!ee,j=fe(j),C&&C[Ie]?(C=C.c,(N=String(N).toString())in C.a&&-1<(j=mn(Ke=C.a[N],j,ee,ve))&&(qe(Ke[j]),Array.prototype.splice.call(Ke,j,1),0==Ke.length&&(delete C.a[N],C.b--))):C&&(C=_r(C))&&(N=C.a[N.toString()],C=-1,N&&(C=mn(N,j,ee,ve)),(j=-1<C?N[C]:null)&&$n(j))}function $n(C){if("number"!=typeof C&&C&&!C.Y){var N=C.src;if(N&&N[Ie])xt(N.c,C);else{var j=C.type,ee=C.proxy;N.removeEventListener?N.removeEventListener(j,ee,C.capture):N.detachEvent?N.detachEvent(gr(j),ee):N.addListener&&N.removeListener&&N.removeListener(ee),(j=_r(N))?(xt(j,C),0==j.b&&(j.src=null,N[jt]=null)):qe(C)}}}function gr(C){return C in Xt?Xt[C]:Xt[C]="on"+C}function mi(C,N){var j=C.listener,ee=C.ca||C.src;return C.Z&&$n(C),j.call(ee,N)}function Ei(C,N){if(C.Y)return!0;if(!zi){if(!N)e:{N=["window","event"];for(var j=De,ee=0;ee<N.length;ee++)if(null==(j=j[N[ee]])){N=null;break e}N=j}return mi(C,N=new Qt(N,this))}return mi(C,new Qt(N,this))}function _r(C){return(C=C[jt])instanceof Fe?C:null}var go="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(C){return"function"==Ve(C)?C:(C[go]||(C[go]=function(N){return C.handleEvent(N)}),C[go])}function le(){xe.call(this),this.c=new Fe(this),this.J=this,this.C=null}function X(C,N,j,ee){if(!(N=C.c.a[String(N)]))return!0;N=N.concat();for(var ve=!0,Ke=0;Ke<N.length;++Ke){var Rt=N[Ke];if(Rt&&!Rt.Y&&Rt.capture==j){var Gn=Rt.listener,ti=Rt.ca||Rt.src;Rt.Z&&xt(C.c,Rt),ve=!1!==Gn.call(ti,ee)&&ve}}return ve&&!ee.defaultPrevented}We(le,xe),le.prototype[Ie]=!0,(ce=le.prototype).addEventListener=function(C,N,j,ee){Ht(this,C,N,j,ee)},ce.removeEventListener=function(C,N,j,ee){Li(this,C,N,j,ee)},ce.dispatchEvent=function(C){var N,j=this.C;if(j)for(N=[];j;j=j.C)N.push(j);j=this.J;var ee=C.type||C;if("string"==typeof C)C=new Kt(C,j);else if(C instanceof Kt)C.target=C.target||j;else{var ve=C;He(C=new Kt(ee,j),ve)}if(ve=!0,N)for(var Ke=N.length-1;0<=Ke;Ke--){var Rt=C.a=N[Ke];ve=X(Rt,ee,!0,C)&&ve}if(ve=X(Rt=C.a=j,ee,!0,C)&&ve,ve=X(Rt,ee,!1,C)&&ve,N)for(Ke=0;Ke<N.length;Ke++)ve=X(Rt=C.a=N[Ke],ee,!1,C)&&ve;return ve},ce.G=function(){if(le.S.G.call(this),this.c){var N,C=this.c;for(N in C.a){for(var j=C.a[N],ee=0;ee<j.length;ee++)qe(j[ee]);delete C.a[N],C.b--}}this.C=null},ce.va=function(C,N,j,ee){return this.c.add(String(C),N,!1,j,ee)},ce.wa=function(C,N,j,ee){return this.c.add(String(C),N,!0,j,ee)};var te=De.JSON.stringify;function K(){this.b=this.a=null}var Xn,Pe=new(function(){function C(N,j,ee){this.f=ee,this.c=N,this.g=j,this.b=0,this.a=null}return C.prototype.get=function(){var N;return 0<this.b?(this.b--,this.a=(N=this.a).next,N.next=null):N=this.c(),N},C}())(function(){return new Ot},function(C){C.reset()},100);function Qe(){var C=Rn,N=null;return C.a&&(N=C.a,C.a=C.a.next,C.a||(C.b=null),N.next=null),N}function Ot(){this.next=this.b=this.a=null}function yn(C){De.setTimeout(function(){throw C},0)}function Vt(C,N){Xn||function xn(){var C=De.Promise.resolve(void 0);Xn=function(){C.then(vr)}}(),ai||(Xn(),ai=!0),Rn.add(C,N)}K.prototype.add=function(C,N){var j=Pe.get();j.set(C,N),this.b?this.b.next=j:this.a=j,this.b=j},Ot.prototype.set=function(C,N){this.a=C,this.b=N,this.next=null},Ot.prototype.reset=function(){this.next=this.b=this.a=null};var ai=!1,Rn=new K;function vr(){for(var C;C=Qe();){try{C.a.call(C.b)}catch(j){yn(j)}var N=Pe;N.g(C),N.b<N.f&&(N.b++,C.next=N.a,N.a=C)}ai=!1}function Yo(C,N){le.call(this),this.b=C||1,this.a=N||De,this.f=mt(this.Ya,this),this.g=at()}function Je(C){C.aa=!1,C.M&&(C.a.clearTimeout(C.M),C.M=null)}function ze(C,N,j){if("function"==Ve(C))j&&(C=mt(C,j));else{if(!C||"function"!=typeof C.handleEvent)throw Error("Invalid listener argument");C=mt(C.handleEvent,C)}return 2147483647<Number(N)?-1:De.setTimeout(C,N||0)}function _t(C){C.a=ze(function(){C.a=null,C.c&&(C.c=!1,_t(C))},C.h);var N=C.b;C.b=null,C.g.apply(null,N)}We(Yo,le),(ce=Yo.prototype).aa=!1,ce.M=null,ce.Ya=function(){if(this.aa){var C=at()-this.g;0<C&&C<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-C):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Je(this),this.start()))}},ce.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=at())},ce.G=function(){Yo.S.G.call(this),Je(this),delete this.a};var Wt=function(C){function N(j,ee,ve){var Ke=C.call(this)||this;return Ke.g=null!=ve?j.bind(ve):j,Ke.h=ee,Ke.b=null,Ke.c=!1,Ke.a=null,Ke}return function U(C,N){function j(){this.constructor=C}o(C,N),C.prototype=null===N?Object.create(N):(j.prototype=N.prototype,new j)}(N,C),N.prototype.f=function(j){this.b=arguments,this.a?this.c=!0:_t(this)},N.prototype.G=function(){C.prototype.G.call(this),this.a&&(De.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},N}(xe);function kt(C){xe.call(this),this.b=C,this.a={}}We(kt,xe);var Dn=[];function ri(C,N,j,ee){Array.isArray(j)||(j&&(Dn[0]=j.toString()),j=Dn);for(var ve=0;ve<j.length;ve++){var Ke=Ht(N,j[ve],ee||C.handleEvent,!1,C.b||C);if(!Ke)break;C.a[Ke.key]=Ke}}function Gi(C){pi(C.a,function(N,j){this.a.hasOwnProperty(j)&&$n(N)},C),C.a={}}function Yi(){this.a=!0}function _o(C,N,j,ee){C.info(function(){return"XMLHTTP TEXT ("+N+"): "+function vo(C,N){if(!C.a)return N;if(!N)return null;try{var j=JSON.parse(N);if(j)for(C=0;C<j.length;C++)if(Array.isArray(j[C])){var ee=j[C];if(!(2>ee.length)){var ve=ee[1];if(Array.isArray(ve)&&!(1>ve.length)){var Ke=ve[0];if("noop"!=Ke&&"stop"!=Ke&&"close"!=Ke)for(var Rt=1;Rt<ve.length;Rt++)ve[Rt]=""}}}return te(j)}catch{return N}}(C,j)+(ee?" "+ee:"")})}kt.prototype.G=function(){kt.S.G.call(this),Gi(this)},kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yi.prototype.info=function(){};var us=null;function bs(){return us=us||new le}function Ko(C){Kt.call(this,"serverreachability",C)}function Ln(C){var N=bs();N.dispatchEvent(new Ko(N,C))}function Ai(C){Kt.call(this,"statevent",C)}function yo(C){var N=bs();N.dispatchEvent(new Ai(N,C))}function ci(C){Kt.call(this,"timingevent",C)}function xc(C,N){if("function"!=Ve(C))throw Error("Fn must not be null and must be a function");return De.setTimeout(function(){C()},N)}We(Ko,Kt),We(Ai,Kt),We(ci,Kt);var tc={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},$r={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function Us(){}function Xu(){}Us.prototype.a=null;var Qo,oa={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function Ec(){Kt.call(this,"d")}function Mc(){Kt.call(this,"c")}function sa(){}function sl(C,N,j,ee){this.g=C,this.c=N,this.f=j,this.T=ee||1,this.J=new kt(this),this.P=Fo,this.R=new Yo(C=Tn?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}We(Ec,Kt),We(Mc,Kt),We(sa,Us),Qo=new sa;var Fo=45e3,bo={},yr={};function ic(C,N,j){C.H=1,C.i=Jo(Et(N)),C.j=j,C.I=!0,aa(C,null)}function aa(C,N){C.u=at(),ca(C),C.l=Et(C.i);var j=C.l,ee=C.T;Array.isArray(ee)||(ee=[String(ee)]),Vi(j.b,"t",ee),C.D=0,C.a=zs(C.g,C.g.C?N:null),0<C.O&&(C.F=new Wt(mt(C.Ca,C,C.a),C.O)),ri(C.J,C.a,"readystatechange",C.Wa),N=C.B?Te(C.B):{},C.j?(C.m||(C.m="POST"),N["Content-Type"]="application/x-www-form-urlencoded",C.a.ba(C.l,C.m,C.j,N)):(C.m="GET",C.a.ba(C.l,C.m,null,N)),Ln(1),function er(C,N,j,ee,ve,Ke){C.info(function(){if(C.a)if(Ke)for(var Rt="",Gn=Ke.split("&"),ti=0;ti<Gn.length;ti++){var dr=Gn[ti].split("=");if(1<dr.length){var Eo=dr[0];dr=dr[1];var ts=Eo.split("_");Rt=2<=ts.length&&"type"==ts[1]?Rt+(Eo+"=")+dr+"&":Rt+(Eo+"=redacted&")}}else Rt=null;else Rt=Ke;return"XMLHTTP REQ ("+ee+") [attempt "+ve+"]: "+N+"\n"+j+"\n"+Rt})}(C.c,C.m,C.l,C.f,C.T,C.j)}function Zi(C,N,j){for(var ee=!0;!C.A&&C.D<j.length;){var ve=Ic(C,j);if(ve==yr){4==N&&(C.h=4,yo(14),ee=!1),_o(C.c,C.f,null,"[Incomplete Response]");break}if(ve==bo){C.h=4,yo(15),_o(C.c,C.f,j,"[Invalid Chunk]"),ee=!1;break}_o(C.c,C.f,ve,null),br(C,ve)}4==N&&0==j.length&&(C.h=1,yo(16),ee=!1),C.b=C.b&&ee,ee?0<j.length&&!C.W&&(C.W=!0,(N=C.g).a==C&&N.V&&!N.F&&(N.c.info("Great, no buffering proxy detected. Bytes received: "+j.length),jo(N),N.F=!0)):(_o(C.c,C.f,j,"[Invalid Chunked Response]"),Ui(C),jn(C))}function Ic(C,N){var j=C.D,ee=N.indexOf("\n",j);return-1==ee?yr:(j=Number(N.substring(j,ee)),isNaN(j)?bo:(ee+=1)+j>N.length?yr:(N=N.substr(ee,j),C.D=ee+j,N))}function ca(C){C.U=at()+C.P,ws(C,C.P)}function ws(C,N){if(null!=C.o)throw Error("WatchDog timer not null");C.o=xc(mt(C.Ua,C),N)}function rc(C){C.o&&(De.clearTimeout(C.o),C.o=null)}function jn(C){0==C.g.v||C.A||Kr(C.g,C)}function Ui(C){rc(C);var N=C.F;N&&"function"==typeof N.ja&&N.ja(),C.F=null,Je(C.R),Gi(C.J),C.a&&(N=C.a,C.a=null,N.abort(),N.ja())}function br(C,N){try{var j=C.g;if(0!=j.v&&(j.a==C||rr(j.b,C)))if(j.I=C.N,!C.C&&rr(j.b,C)&&3==j.v){try{var ee=j.ka.a.parse(N)}catch{ee=null}if(Array.isArray(ee)&&3==ee.length){var ve=ee;if(0==ve[0]){e:if(!j.j){if(j.a){if(!(j.a.u+3e3<C.u))break e;ka(j),wo(j)}Rc(j),yo(18)}}else j.oa=ve[1],0<j.oa-j.P&&37500>ve[2]&&j.H&&0==j.o&&!j.m&&(j.m=xc(mt(j.Ra,j),6e3));if(1>=Dr(j.b)&&j.ea){try{j.ea()}catch{}j.ea=void 0}}else Co(j,11)}else if((C.C||j.a==C)&&ka(j),!Le(N))for(N=ee=j.ka.a.parse(N),ee=0;ee<N.length;ee++)if(j.P=(ve=N[ee])[0],ve=ve[1],2==j.v)if("c"==ve[0]){j.J=ve[1],j.ga=ve[2];var Ke=ve[3];null!=Ke&&(j.ha=Ke,j.c.info("VER="+j.ha));var Rt=ve[4];null!=Rt&&(j.pa=Rt,j.c.info("SVER="+j.pa));var Gn=ve[5];if(null!=Gn&&"number"==typeof Gn&&0<Gn){var ti=1.5*Gn;j.D=ti,j.c.info("backChannelRequestTimeoutMs_="+ti)}ti=j;var dr=C.a;if(dr){var Eo=dr.a?dr.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eo){var ts=ti.b;!ts.a&&(ot(Eo,"spdy")||ot(Eo,"quic")||ot(Eo,"h2"))&&(ts.f=ts.g,ts.a=new Set,ts.b&&(Zr(ts,ts.b),ts.b=null))}if(ti.A){var Uc=dr.a?dr.a.getResponseHeader("X-HTTP-Session-Id"):null;Uc&&(ti.na=Uc,qn(ti.B,ti.A,Uc))}}j.v=3,j.f&&j.f.ta(),j.V&&(j.N=at()-C.u,j.c.info("Handshake RTT: "+j.N+"ms"));var $s=C;if((ti=j).la=jl(ti,ti.C?ti.ga:null,ti.fa),$s.C){da(ti.b,$s);var ul=$s,Mo=ti.D;Mo&&ul.setTimeout(Mo),ul.o&&(rc(ul),ca(ul)),ti.a=$s}else pa(ti);0<j.g.length&&Es(j)}else"stop"!=ve[0]&&"close"!=ve[0]||Co(j,7);else 3==j.v&&("stop"==ve[0]||"close"==ve[0]?"stop"==ve[0]?Co(j,7):sc(j):"noop"!=ve[0]&&j.f&&j.f.sa(ve),j.o=0);Ln(4)}catch{}}function wr(C,N){if(C.forEach&&"function"==typeof C.forEach)C.forEach(N,void 0);else if(z(C)||"string"==typeof C)it(C,N,void 0);else{if(C.L&&"function"==typeof C.L)var j=C.L();else if(C.K&&"function"==typeof C.K)j=void 0;else if(z(C)||"string"==typeof C){j=[];for(var ee=C.length,ve=0;ve<ee;ve++)j.push(ve)}else for(ve in j=[],ee=0,C)j[ee++]=ve;ee=function Sa(C){if(C.K&&"function"==typeof C.K)return C.K();if("string"==typeof C)return C.split("");if(z(C)){for(var N=[],j=C.length,ee=0;ee<j;ee++)N.push(C[ee]);return N}for(ee in N=[],j=0,C)N[j++]=C[ee];return N}(C),ve=ee.length;for(var Ke=0;Ke<ve;Ke++)N.call(void 0,ee[Ke],j&&j[Ke],C)}}function Tc(C,N){this.b={},this.a=[],this.c=0;var j=arguments.length;if(1<j){if(j%2)throw Error("Uneven number of arguments");for(var ee=0;ee<j;ee+=2)this.set(arguments[ee],arguments[ee+1])}else if(C)if(C instanceof Tc)for(j=C.L(),ee=0;ee<j.length;ee++)this.set(j[ee],C.get(j[ee]));else for(ee in C)this.set(ee,C[ee])}function Oc(C){if(C.c!=C.a.length){for(var N=0,j=0;N<C.a.length;){var ee=C.a[N];Lo(C.b,ee)&&(C.a[j++]=ee),N++}C.a.length=j}if(C.c!=C.a.length){var ve={};for(j=N=0;N<C.a.length;)Lo(ve,ee=C.a[N])||(C.a[j++]=ee,ve[ee]=1),N++;C.a.length=j}}function Lo(C,N){return Object.prototype.hasOwnProperty.call(C,N)}(ce=sl.prototype).setTimeout=function(C){this.P=C},ce.Wa=function(C){C=C.target;var N=this.F;N&&3==gi(C)?N.f():this.Ca(C)},ce.Ca=function(C){try{if(C==this.a)e:{var N=gi(this.a),j=this.a.ua(),ee=this.a.X();if(!(3>N||3==N&&!Tn&&!this.a.$())){this.A||4!=N||7==j||Ln(8==j||0>=ee?3:2),rc(this);var ve=this.a.X();this.N=ve;var Ke=this.a.$();if(this.b=200==ve,function Ur(C,N,j,ee,ve,Ke,Rt){C.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+ve+"]: "+N+"\n"+j+"\n"+Ke+" "+Rt})}(this.c,this.m,this.l,this.f,this.T,N,ve),this.b){if(this.V&&!this.C){t:{if(this.a){var Rt,Gn=this.a;if((Rt=Gn.a?Gn.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Le(Rt)){var ti=Rt;break t}}ti=null}if(!ti){this.b=!1,this.h=3,yo(12),Ui(this),jn(this);break e}_o(this.c,this.f,ti,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,br(this,ti)}this.I?(Zi(this,N,Ke),Tn&&this.b&&3==N&&(ri(this.J,this.R,"tick",this.Va),this.R.start())):(_o(this.c,this.f,Ke,null),br(this,Ke)),4==N&&Ui(this),this.b&&!this.A&&(4==N?Kr(this.g,this):(this.b=!1,ca(this)))}else 400==ve&&0<Ke.indexOf("Unknown SID")?(this.h=3,yo(12)):(this.h=0,yo(13)),Ui(this),jn(this)}}}catch{}},ce.Va=function(){if(this.a){var C=gi(this.a),N=this.a.$();this.D<N.length&&(rc(this),Zi(this,C,N),this.b&&4!=C&&ca(this))}},ce.cancel=function(){this.A=!0,Ui(this)},ce.Ua=function(){this.o=null;var C=at();0<=C-this.U?(function Oa(C,N){C.info(function(){return"TIMEOUT: "+N})}(this.c,this.l),2!=this.H&&(Ln(3),yo(17)),Ui(this),this.h=2,jn(this)):ws(this,this.U-C)},(ce=Tc.prototype).K=function(){Oc(this);for(var C=[],N=0;N<this.a.length;N++)C.push(this.b[this.a[N]]);return C},ce.L=function(){return Oc(this),this.a.concat()},ce.get=function(C,N){return Lo(this.b,C)?this.b[C]:N},ce.set=function(C,N){Lo(this.b,C)||(this.c++,this.a.push(C)),this.b[C]=N},ce.forEach=function(C,N){for(var j=this.L(),ee=0;ee<j.length;ee++){var ve=j[ee],Ke=this.get(ve);C.call(N,Ke,ve,this)}};var Vs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ki(C,N){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,C instanceof ki){this.a=void 0!==N?N:C.a,En(this,C.f),this.j=C.j,Mi(this,C.c),so(this,C.h),this.g=C.g,N=C.b;var j=new Er;j.c=N.c,N.a&&(j.a=new Tc(N.a),j.b=N.b),Bs(this,j),this.i=C.i}else C&&(j=String(C).match(Vs))?(this.a=!!N,En(this,j[1]||"",!0),this.j=Xo(j[2]||""),Mi(this,j[3]||"",!0),so(this,j[4]),this.g=Xo(j[5]||"",!0),Bs(this,j[6]||"",!0),this.i=Xo(j[7]||"")):(this.a=!!N,this.b=new Er(null,this.a))}function Et(C){return new ki(C)}function En(C,N,j){C.f=j?Xo(N,!0):N,C.f&&(C.f=C.f.replace(/:$/,""))}function Mi(C,N,j){C.c=j?Xo(N,!0):N}function so(C,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);C.h=N}else C.h=null}function Bs(C,N,j){N instanceof Er?(C.b=N,function Gr(C,N){N&&!C.f&&(Mr(C),C.c=null,C.a.forEach(function(j,ee){var ve=ee.toLowerCase();ee!=ve&&(ua(this,ee),Vi(this,ve,j))},C)),C.f=N}(C.b,C.a)):(j||(N=on(N,Cs)),C.b=new Er(N,C.a))}function qn(C,N,j){C.b.set(N,j)}function Jo(C){return qn(C,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^at()).toString(36)),C}function Xo(C,N){return C?N?decodeURI(C.replace(/%25/g,"%2525")):decodeURIComponent(C):""}function on(C,N,j){return"string"==typeof C?(C=encodeURI(C).replace(N,qr),j&&(C=C.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C):null}function qr(C){return"%"+((C=C.charCodeAt(0))>>4&15).toString(16)+(15&C).toString(16)}ki.prototype.toString=function(){var C=[],N=this.f;N&&C.push(on(N,Ll,!0),":");var j=this.c;return(j||"file"==N)&&(C.push("//"),(N=this.j)&&C.push(on(N,Ll,!0),"@"),C.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(j=this.h)&&C.push(":",String(j))),(j=this.g)&&(this.c&&"/"!=j.charAt(0)&&C.push("/"),C.push(on(j,"/"==j.charAt(0)?xr:Cr,!0))),(j=this.b.toString())&&C.push("?",j),(j=this.i)&&C.push("#",on(j,Uo)),C.join("")};var Ll=/[#\/\?@]/g,Cr=/[#\?:]/g,xr=/[#\?]/g,Cs=/[#\?@]/g,Uo=/#/g;function Er(C,N){this.b=this.a=null,this.c=C||null,this.f=!!N}function Mr(C){C.a||(C.a=new Tc,C.b=0,C.c&&function Sc(C,N){if(C){C=C.split("&");for(var j=0;j<C.length;j++){var ee=C[j].indexOf("="),ve=null;if(0<=ee){var Ke=C[j].substring(0,ee);ve=C[j].substring(ee+1)}else Ke=C[j];N(Ke,ve?decodeURIComponent(ve.replace(/\+/g," ")):"")}}}(C.c,function(N,j){C.add(decodeURIComponent(N.replace(/\+/g," ")),j)}))}function ua(C,N){Mr(C),N=Vo(C,N),Lo(C.a.b,N)&&(C.c=null,C.b-=C.a.get(N).length,Lo((C=C.a).b,N)&&(delete C.b[N],C.c--,C.a.length>2*C.c&&Oc(C)))}function Pa(C,N){return Mr(C),N=Vo(C,N),Lo(C.a.b,N)}function Vi(C,N,j){ua(C,N),0<j.length&&(C.c=null,C.a.set(Vo(C,N),Ge(j)),C.b+=j.length)}function Vo(C,N){return N=String(N),C.f&&(N=N.toLowerCase()),N}function ei(C,N){this.b=C,this.a=N}function Pc(C){this.g=C||gu,C=De.PerformanceNavigationTiming?0<(C=De.performance.getEntriesByType("navigation")).length&&("hq"==C[0].nextHopProtocol||"h2"==C[0].nextHopProtocol):!!(De.ia&&De.ia.ya&&De.ia.ya()&&De.ia.ya().qb),this.f=C?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(ce=Er.prototype).add=function(C,N){Mr(this),this.c=null,C=Vo(this,C);var j=this.a.get(C);return j||this.a.set(C,j=[]),j.push(N),this.b+=1,this},ce.forEach=function(C,N){Mr(this),this.a.forEach(function(j,ee){it(j,function(ve){C.call(N,ve,ee,this)},this)},this)},ce.L=function(){Mr(this);for(var C=this.a.K(),N=this.a.L(),j=[],ee=0;ee<N.length;ee++)for(var ve=C[ee],Ke=0;Ke<ve.length;Ke++)j.push(N[ee]);return j},ce.K=function(C){Mr(this);var N=[];if("string"==typeof C)Pa(this,C)&&(N=ue(N,this.a.get(Vo(this,C))));else{C=this.a.K();for(var j=0;j<C.length;j++)N=ue(N,C[j])}return N},ce.set=function(C,N){return Mr(this),this.c=null,Pa(this,C=Vo(this,C))&&(this.b-=this.a.get(C).length),this.a.set(C,[N]),this.b+=1,this},ce.get=function(C,N){return C&&0<(C=this.K(C)).length?String(C[0]):N},ce.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var C=[],N=this.a.L(),j=0;j<N.length;j++){var ee=N[j],ve=encodeURIComponent(String(ee));ee=this.K(ee);for(var Ke=0;Ke<ee.length;Ke++){var Rt=ve;""!==ee[Ke]&&(Rt+="="+encodeURIComponent(String(ee[Ke]))),C.push(Rt)}}return this.c=C.join("&")};var gu=10;function Da(C){return!!C.b||!!C.a&&C.a.size>=C.f}function Dr(C){return C.b?1:C.a?C.a.size:0}function rr(C,N){return C.b?C.b==N:!!C.a&&C.a.has(N)}function Zr(C,N){C.a?C.a.add(N):C.b=N}function da(C,N){C.b&&C.b==N?C.b=null:C.a&&C.a.has(N)&&C.a.delete(N)}function Hi(C){var N,j;if(null!=C.b)return C.c.concat(C.b.s);if(null!=C.a&&0!==C.a.size){var ee=C.c;try{for(var ve=Y(C.a.values()),Ke=ve.next();!Ke.done;Ke=ve.next())ee=ee.concat(Ke.value.s)}catch(Gn){N={error:Gn}}finally{try{Ke&&!Ke.done&&(j=ve.return)&&j.call(ve)}finally{if(N)throw N.error}}return ee}return Ge(C.c)}function al(){}function Wr(){this.a=new al}function Ir(C,N,j){var ee=j||"";try{wr(C,function(ve,Ke){var Rt=ve;G(ve)&&(Rt=te(ve)),N.push(ee+Ke+"="+encodeURIComponent(Rt))})}catch(ve){throw N.push(ee+"type="+encodeURIComponent("_badmap")),ve}}function Ar(C,N,j,ee,ve){try{N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null,ve(ee)}catch{}}Pc.prototype.cancel=function(){var C,N;if(this.c=Hi(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var j=Y(this.a.values()),ee=j.next();!ee.done;ee=j.next())ee.value.cancel()}catch(Ke){C={error:Ke}}finally{try{ee&&!ee.done&&(N=j.return)&&N.call(j)}finally{if(C)throw C.error}}this.a.clear()}},al.prototype.stringify=function(C){return De.JSON.stringify(C,void 0)},al.prototype.parse=function(C){return De.JSON.parse(C,void 0)};var Yr=De.JSON.parse;function hi(C){le.call(this),this.headers=new Tc,this.H=C||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ha,this.D=this.F=!1}We(hi,le);var ha="",oi=/^https?$/i,kr=["POST","PUT"];function xs(C){return"content-type"==C.toLowerCase()}function Dc(C,N){C.b=!1,C.a&&(C.g=!0,C.a.abort(),C.g=!1),C.f=N,C.h=5,Aa(C),oc(C)}function Aa(C){C.u||(C.u=!0,C.dispatchEvent("complete"),C.dispatchEvent("error"))}function Ac(C){if(C.b&&typeof ke<"u"&&(!C.s[1]||4!=gi(C)||2!=C.X()))if(C.l&&4==gi(C))ze(C.za,0,C);else if(C.dispatchEvent("readystatechange"),4==gi(C)){C.b=!1;try{var ee,N=C.X();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}if(!(ee=j)){var ve;if(ve=0===N){var Ke=String(C.B).match(Vs)[1]||null;if(!Ke&&De.self&&De.self.location){var Rt=De.self.location.protocol;Ke=Rt.substr(0,Rt.length-1)}ve=!oi.test(Ke?Ke.toLowerCase():"")}ee=ve}if(ee)C.dispatchEvent("complete"),C.dispatchEvent("success");else{C.h=6;try{var Gn=2<gi(C)?C.a.statusText:""}catch{Gn=""}C.f=Gn+" ["+C.X()+"]",Aa(C)}}finally{oc(C)}}}function oc(C,N){if(C.a){Vl(C);var j=C.a,ee=C.s[0]?ut:null;C.a=null,C.s=null,N||C.dispatchEvent("ready");try{j.onreadystatechange=ee}catch{}}}function Vl(C){C.a&&C.D&&(C.a.ontimeout=null),C.m&&(De.clearTimeout(C.m),C.m=null)}function gi(C){return C.a?C.a.readyState:0}function kc(C,N,j){e:{for(ee in j){var ee=!1;break e}ee=!0}ee||(j=function _u(C){var N="";return pi(C,function(j,ee){N+=ee,N+=":",N+=j,N+="\r\n"}),N}(j),"string"==typeof C?null!=j&&encodeURIComponent(String(j)):qn(C,N,j))}function Bo(C,N,j){return j&&j.internalChannelParams&&j.internalChannelParams[C]||N}function eh(C){this.pa=0,this.g=[],this.c=new Yi,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Bo("failFast",!1,C),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Bo("baseRetryDelayMs",5e3,C),this.Ma=Bo("retryDelaySeedMs",1e4,C),this.Ja=Bo("forwardChannelMaxRetries",2,C),this.ma=Bo("forwardChannelRequestTimeoutMs",2e4,C),this.Ka=C&&C.g||void 0,this.D=void 0,this.C=C&&C.supportsCrossDomainXhr||!1,this.J="",this.b=new Pc(C&&C.concurrentRequestLimit),this.ka=new Wr,this.da=C&&C.fastHandshake||!1,this.Ga=C&&C.b||!1,C&&C.f&&(this.c.a=!1),C&&C.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&C&&C.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function sc(C){if(ac(C),3==C.v){var N=C.R++,j=Et(C.B);qn(j,"SID",C.J),qn(j,"RID",N),qn(j,"TYPE","terminate"),Rr(C,j),(N=new sl(C,C.c,N,void 0)).H=2,N.i=Jo(Et(j)),j=!1,De.navigator&&De.navigator.sendBeacon&&(j=De.navigator.sendBeacon(N.i.toString(),"")),!j&&De.Image&&((new Image).src=N.i,j=!0),j||(N.a=zs(N.g,null),N.a.ba(N.i)),N.u=at(),ca(N)}cc(C)}function wo(C){C.a&&(jo(C),C.a.cancel(),C.a=null)}function ac(C){wo(C),C.j&&(De.clearTimeout(C.j),C.j=null),ka(C),C.b.cancel(),C.h&&("number"==typeof C.h&&De.clearTimeout(C.h),C.h=null)}function fa(C,N){C.g.push(new ei(C.La++,N)),3==C.v&&Es(C)}function Es(C){Da(C.b)||C.h||(C.h=!0,Vt(C.Ba,C),C.u=0)}function vu(C,N){var j;j=N?N.f:C.R++;var ee=Et(C.B);qn(ee,"SID",C.J),qn(ee,"RID",j),qn(ee,"AID",C.P),Rr(C,ee),C.i&&C.l&&kc(ee,C.i,C.l),j=new sl(C,C.c,j,C.u+1),null===C.i&&(j.B=C.l),N&&(C.g=N.s.concat(C.g)),N=js(C,j,1e3),j.setTimeout(Math.round(.5*C.ma)+Math.round(.5*C.ma*Math.random())),Zr(C.b,j),ic(j,ee,N)}function Rr(C,N){C.f&&wr({},function(j,ee){qn(N,ee,j)})}function js(C,N,j){j=Math.min(C.g.length,j);var ee=C.f?mt(C.f.Ha,C.f,C):null;e:for(var ve=C.g,Ke=-1;;){var Rt=["count="+j];-1==Ke?0<j?Rt.push("ofs="+(Ke=ve[0].b)):Ke=0:Rt.push("ofs="+Ke);for(var Gn=!0,ti=0;ti<j;ti++){var dr=ve[ti].b,Eo=ve[ti].a;if(0>(dr-=Ke))Ke=Math.max(0,ve[ti].b-100),Gn=!1;else try{Ir(Eo,Rt,"req"+dr+"_")}catch{ee&&ee(Eo)}}if(Gn){ee=Rt.join("&");break e}}return C=C.g.splice(0,j),N.s=C,ee}function pa(C){C.a||C.j||(C.U=1,Vt(C.Aa,C),C.o=0)}function Rc(C){return!(C.a||C.j||3<=C.o||(C.U++,C.j=xc(mt(C.Aa,C),Nc(C,C.o)),C.o++,0))}function jo(C){null!=C.s&&(De.clearTimeout(C.s),C.s=null)}function ur(C){C.a=new sl(C,C.c,"rpc",C.U),null===C.i&&(C.a.B=C.l),C.a.O=0;var N=Et(C.la);qn(N,"RID","rpc"),qn(N,"SID",C.J),qn(N,"CI",C.H?"0":"1"),qn(N,"AID",C.P),Rr(C,N),qn(N,"TYPE","xmlhttp"),C.i&&C.l&&kc(N,C.i,C.l),C.D&&C.a.setTimeout(C.D);var j=C.a;C=C.ga,j.H=1,j.i=Jo(Et(N)),j.j=null,j.I=!0,aa(j,C)}function ka(C){null!=C.m&&(De.clearTimeout(C.m),C.m=null)}function Kr(C,N){var j=null;if(C.a==N){ka(C),jo(C),C.a=null;var ee=2}else{if(!rr(C.b,N))return;j=N.s,da(C.b,N),ee=1}if(C.I=N.N,0!=C.v)if(N.b)if(1==ee){j=N.j?N.j.length:0,N=at()-N.u;var ve=C.u;(ee=bs()).dispatchEvent(new ci(ee,j,N,ve)),Es(C)}else pa(C);else if(3==(ve=N.h)||0==ve&&0<C.I||!(1==ee&&function Bl(C,N){return!(Dr(C.b)>=C.b.f-(C.h?1:0)||(C.h?(C.g=N.s.concat(C.g),0):1==C.v||2==C.v||C.u>=(C.Ia?0:C.Ja)||(C.h=xc(mt(C.Ba,C,N),Nc(C,C.u)),C.u++,0)))}(C,N)||2==ee&&Rc(C)))switch(j&&0<j.length&&(N=C.b,N.c=N.c.concat(j)),ve){case 1:Co(C,5);break;case 4:Co(C,10);break;case 3:Co(C,6);break;default:Co(C,2)}}function Nc(C,N){var j=C.Fa+Math.floor(Math.random()*C.Ma);return C.f||(j*=2),j*N}function Co(C,N){if(C.c.info("Error code "+N),2==N){var j=null;C.f&&(j=null);var ee=mt(C.Xa,C);j||(j=new ki("//www.google.com/images/cleardot.gif"),De.location&&"http"==De.location.protocol||En(j,"https"),Jo(j)),function cl(C,N){var j=new Yi;if(De.Image){var ee=new Image;ee.onload=Re(Ar,j,ee,"TestLoadImage: loaded",!0,N),ee.onerror=Re(Ar,j,ee,"TestLoadImage: error",!1,N),ee.onabort=Re(Ar,j,ee,"TestLoadImage: abort",!1,N),ee.ontimeout=Re(Ar,j,ee,"TestLoadImage: timeout",!1,N),De.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=C}else N(!1)}(j.toString(),ee)}else yo(2);C.v=0,C.f&&C.f.ra(N),cc(C),ac(C)}function cc(C){C.v=0,C.I=-1,C.f&&((0!=Hi(C.b).length||0!=C.g.length)&&(C.b.c.length=0,Ge(C.g),C.g.length=0),C.f.qa())}function jl(C,N,j){var ee=function Ii(C){return C instanceof ki?Et(C):new ki(C,void 0)}(j);if(""!=ee.c)N&&Mi(ee,N+"."+ee.c),so(ee,ee.h);else{var ve=De.location;ee=function la(C,N,j,ee){var ve=new ki(null,void 0);return C&&En(ve,C),N&&Mi(ve,N),j&&so(ve,j),ee&&(ve.g=ee),ve}(ve.protocol,N?N+"."+ve.hostname:ve.hostname,+ve.port,j)}return C.W&&pi(C.W,function(Ke,Rt){qn(ee,Rt,Ke)}),j=C.na,(N=C.A)&&j&&qn(ee,N,j),qn(ee,"VER",C.ha),Rr(C,ee),ee}function zs(C,N){if(N&&!C.C)throw Error("Can't create secondary domain capable XhrIo object.");return(N=new hi(C.Ka)).F=C.C,N}function ma(){}function ll(){if(St&&!(10<=Number(ni)))throw Error("Environmental error: no available transport.")}function bi(C,N){le.call(this),this.a=new eh(N),this.l=C,this.b=N&&N.messageUrlParams||null,C=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(C?C["X-Client-Protocol"]="webchannel":C={"X-Client-Protocol":"webchannel"}),this.a.l=C,C=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(C?C["X-WebChannel-Content-Type"]=N.messageContentType:C={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.a&&(C?C["X-WebChannel-Client-Profile"]=N.a:C={"X-WebChannel-Client-Profile":N.a}),this.a.O=C,(C=N&&N.httpHeadersOverwriteParam)&&!Le(C)&&(this.a.i=C),this.h=N&&N.supportsCrossDomainXhr||!1,this.g=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!Le(N)&&(this.a.A=N,null!==(C=this.b)&&N in C&&N in(C=this.b)&&delete C[N]),this.f=new Mt(this)}function zo(C){Ec.call(this);var N=C.__sm__;if(N){e:{for(var j in N){C=j;break e}C=void 0}(this.c=C)?(C=this.c,this.data=null!==N&&C in N?N[C]:void 0):this.data=N}else this.data=C}function Ra(){Mc.call(this),this.status=1}function Mt(C){this.a=C}(ce=hi.prototype).ba=function(C,N,j,ee){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+C);N=N?N.toUpperCase():"GET",this.B=C,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function nc(C){var N;return(N=C.a)||(N=C.a={}),N}(this.H?this.H:Qo),this.a.onreadystatechange=mt(this.za,this);try{this.A=!0,this.a.open(N,String(C),!0),this.A=!1}catch(Ke){return void Dc(this,Ke)}C=j||"";var ve=new Tc(this.headers);ee&&wr(ee,function(Ke,Rt){ve.set(Rt,Ke)}),ee=function he(C){e:{for(var N=xs,j=C.length,ee="string"==typeof C?C.split(""):C,ve=0;ve<j;ve++)if(ve in ee&&N.call(void 0,ee[ve],ve,C)){N=ve;break e}N=-1}return 0>N?null:"string"==typeof C?C.charAt(N):C[N]}(ve.L()),j=De.FormData&&C instanceof De.FormData,!(0<=$e(kr,N))||ee||j||ve.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),ve.forEach(function(Ke,Rt){this.a.setRequestHeader(Rt,Ke)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Vl(this),0<this.o&&((this.D=function Ul(C){return St&&Vn(9)&&"number"==typeof C.timeout&&void 0!==C.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=mt(this.xa,this)):this.m=ze(this.xa,this.o,this)),this.l=!0,this.a.send(C),this.l=!1}catch(Ke){Dc(this,Ke)}},ce.xa=function(){typeof ke<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},ce.abort=function(C){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=C||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),oc(this))},ce.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),oc(this,!0)),hi.S.G.call(this)},ce.za=function(){this.j||(this.A||this.l||this.g?Ac(this):this.Ta())},ce.Ta=function(){Ac(this)},ce.X=function(){try{return 2<gi(this)?this.a.status:-1}catch{return-1}},ce.$=function(){try{return this.a?this.a.responseText:""}catch{return""}},ce.Na=function(C){if(this.a){var N=this.a.responseText;return C&&0==N.indexOf(C)&&(N=N.substring(C.length)),Yr(N)}},ce.ua=function(){return this.h},ce.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ce=eh.prototype).ha=8,ce.v=1,ce.Ba=function(C){if(this.h)if(this.h=null,1==this.v){if(!C){this.R=Math.floor(1e5*Math.random()),C=this.R++;var ee,N=new sl(this,this.c,C,void 0),j=this.l;if(this.O&&(j?He(j=Te(j),this.O):j=this.O),null===this.i&&(N.B=j),this.da)e:{for(var ve=ee=0;ve<this.g.length;ve++){var Ke=this.g[ve];if(void 0===(Ke="__data__"in Ke.a&&"string"==typeof(Ke=Ke.a.__data__)?Ke.length:void 0))break;if(4096<(ee+=Ke)){ee=ve;break e}if(4096===ee||ve===this.g.length-1){ee=ve+1;break e}}ee=1e3}else ee=1e3;ee=js(this,N,ee),qn(ve=Et(this.B),"RID",C),qn(ve,"CVER",22),this.A&&qn(ve,"X-HTTP-Session-Id",this.A),Rr(this,ve),this.i&&j&&kc(ve,this.i,j),Zr(this.b,N),this.Ga&&qn(ve,"TYPE","init"),this.da?(qn(ve,"$req",ee),qn(ve,"SID","null"),N.V=!0,ic(N,ve,null)):ic(N,ve,ee),this.v=2}}else 3==this.v&&(C?vu(this,C):0==this.g.length||Da(this.b)||vu(this))},ce.Aa=function(){if(this.j=null,ur(this),this.V&&!(this.F||null==this.a||0>=this.N)){var C=2*this.N;this.c.info("BP detection timer enabled: "+C),this.s=xc(mt(this.Sa,this),C)}},ce.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,wo(this),ur(this))},ce.Ra=function(){null!=this.m&&(this.m=null,wo(this),Rc(this),yo(19))},ce.Xa=function(C){C?(this.c.info("Successfully pinged google.com"),yo(2)):(this.c.info("Failed to ping google.com"),yo(1))},(ce=ma.prototype).ta=function(){},ce.sa=function(){},ce.ra=function(){},ce.qa=function(){},ce.Ha=function(){},ll.prototype.a=function(C,N){return new bi(C,N)},We(bi,le),(ce=bi.prototype).addEventListener=function(C,N,j,ee){bi.S.addEventListener.call(this,C,N,j,ee)},ce.removeEventListener=function(C,N,j,ee){bi.S.removeEventListener.call(this,C,N,j,ee)},ce.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var C=this.a,N=this.l,j=this.b||void 0;yo(0),C.fa=N,C.W=j||{},C.H=C.T,C.B=jl(C,null,C.fa),Es(C)},ce.close=function(){sc(this.a)},ce.Pa=function(C){if("string"==typeof C){var N={};N.__data__=C,fa(this.a,N)}else this.g?((N={}).__data__=te(C),fa(this.a,N)):fa(this.a,C)},ce.G=function(){this.a.f=null,delete this.f,sc(this.a),delete this.a,bi.S.G.call(this)},We(zo,Ec),We(Ra,Mc),We(Mt,ma),Mt.prototype.ta=function(){this.a.dispatchEvent("a")},Mt.prototype.sa=function(C){this.a.dispatchEvent(new zo(C))},Mt.prototype.ra=function(C){this.a.dispatchEvent(new Ra(C))},Mt.prototype.qa=function(){this.a.dispatchEvent("b")},ll.prototype.createWebChannel=ll.prototype.a,bi.prototype.send=bi.prototype.Pa,bi.prototype.open=bi.prototype.Oa,bi.prototype.close=bi.prototype.close,tc.NO_ERROR=0,tc.TIMEOUT=8,tc.HTTP_ERROR=6,$r.COMPLETE="complete",Xu.EventType=oa,oa.OPEN="a",oa.CLOSE="b",oa.ERROR="c",oa.MESSAGE="d",le.prototype.listen=le.prototype.va,hi.prototype.listenOnce=hi.prototype.wa,hi.prototype.getLastError=hi.prototype.Qa,hi.prototype.getLastErrorCode=hi.prototype.ua,hi.prototype.getStatus=hi.prototype.X,hi.prototype.getResponseJson=hi.prototype.Na,hi.prototype.getResponseText=hi.prototype.$,hi.prototype.send=hi.prototype.ba;var es=function(){return new ll},Fc=tc,xo=$r,Hs=Xu,Lc=hi;const Na={createWebChannelTransport:es,ErrorCode:tc,EventType:$r,WebChannel:Xu,XhrIo:hi}},5619:(en,Se,Q)=>{Q.d(Se,{X:()=>U});var o=Q(8645);class U extends o.x{constructor(pe){super(),this._value=pe}get value(){return this.getValue()}_subscribe(pe){const ce=super._subscribe(pe);return!ce.closed&&pe.next(this._value),ce}getValue(){const{hasError:pe,thrownError:ce,_value:ke}=this;if(pe)throw ce;return this._throwIfClosed(),ke}next(pe){super.next(this._value=pe)}}},5592:(en,Se,Q)=>{Q.d(Se,{y:()=>ut});var o=Q(305),U=Q(7394),Y=Q(4850),pe=Q(8407),ce=Q(2653),ke=Q(4674),De=Q(1441);let ut=(()=>{class de{constructor(me){me&&(this._subscribe=me)}lift(me){const lt=new de;return lt.source=this,lt.operator=me,lt}subscribe(me,lt,st){const mt=function G(de){return de&&de instanceof o.Lv||function z(de){return de&&(0,ke.m)(de.next)&&(0,ke.m)(de.error)&&(0,ke.m)(de.complete)}(de)&&(0,U.Nn)(de)}(me)?me:new o.Hp(me,lt,st);return(0,De.x)(()=>{const{operator:Re,source:at}=this;mt.add(Re?Re.call(mt,at):at?this._subscribe(mt):this._trySubscribe(mt))}),mt}_trySubscribe(me){try{return this._subscribe(me)}catch(lt){me.error(lt)}}forEach(me,lt){return new(lt=Ve(lt))((st,mt)=>{const Re=new o.Hp({next:at=>{try{me(at)}catch(We){mt(We),Re.unsubscribe()}},error:mt,complete:st});this.subscribe(Re)})}_subscribe(me){var lt;return null===(lt=this.source)||void 0===lt?void 0:lt.subscribe(me)}[Y.L](){return this}pipe(...me){return(0,pe.U)(me)(this)}toPromise(me){return new(me=Ve(me))((lt,st)=>{let mt;this.subscribe(Re=>mt=Re,Re=>st(Re),()=>lt(mt))})}}return de.create=Ne=>new de(Ne),de})();function Ve(de){var Ne;return null!==(Ne=de??ce.config.Promise)&&void 0!==Ne?Ne:Promise}},8645:(en,Se,Q)=>{Q.d(Se,{x:()=>De});var o=Q(5592),U=Q(7394);const pe=(0,Q(2306).d)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=Q(9039),ke=Q(1441);let De=(()=>{class Ve extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const de=new ut(this,this);return de.operator=G,de}_throwIfClosed(){if(this.closed)throw new pe}next(G){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const de of this.currentObservers)de.next(G)}})}error(G){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:de}=this;for(;de.length;)de.shift().error(G)}})}complete(){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:de,isStopped:Ne,observers:me}=this;return de||Ne?U.Lc:(this.currentObservers=null,me.push(G),new U.w0(()=>{this.currentObservers=null,(0,ce.P)(me,G)}))}_checkFinalizedStatuses(G){const{hasError:de,thrownError:Ne,isStopped:me}=this;de?G.error(Ne):me&&G.complete()}asObservable(){const G=new o.y;return G.source=this,G}}return Ve.create=(z,G)=>new ut(z,G),Ve})();class ut extends De{constructor(z,G){super(),this.destination=z,this.source=G}next(z){var G,de;null===(de=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===de||de.call(G,z)}error(z){var G,de;null===(de=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===de||de.call(G,z)}complete(){var z,G;null===(G=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===G||G.call(z)}_subscribe(z){var G,de;return null!==(de=null===(G=this.source)||void 0===G?void 0:G.subscribe(z))&&void 0!==de?de:U.Lc}}},305:(en,Se,Q)=>{Q.d(Se,{Hp:()=>st,Lv:()=>de});var o=Q(4674),U=Q(7394),Y=Q(2653),pe=Q(3894),ce=Q(2420);const ke=Ve("C",void 0,void 0);function Ve(xe,nt,$e){return{kind:xe,value:nt,error:$e}}var z=Q(7599),G=Q(1441);class de extends U.w0{constructor(nt){super(),this.isStopped=!1,nt?(this.destination=nt,(0,U.Nn)(nt)&&nt.add(this)):this.destination=We}static create(nt,$e,it){return new st(nt,$e,it)}next(nt){this.isStopped?at(function ut(xe){return Ve("N",xe,void 0)}(nt),this):this._next(nt)}error(nt){this.isStopped?at(function De(xe){return Ve("E",void 0,xe)}(nt),this):(this.isStopped=!0,this._error(nt))}complete(){this.isStopped?at(ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(nt){this.destination.next(nt)}_error(nt){try{this.destination.error(nt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function me(xe,nt){return Ne.call(xe,nt)}class lt{constructor(nt){this.partialObserver=nt}next(nt){const{partialObserver:$e}=this;if($e.next)try{$e.next(nt)}catch(it){mt(it)}}error(nt){const{partialObserver:$e}=this;if($e.error)try{$e.error(nt)}catch(it){mt(it)}else mt(nt)}complete(){const{partialObserver:nt}=this;if(nt.complete)try{nt.complete()}catch($e){mt($e)}}}class st extends de{constructor(nt,$e,it){let he;if(super(),(0,o.m)(nt)||!nt)he={next:nt??void 0,error:$e??void 0,complete:it??void 0};else{let ue;this&&Y.config.useDeprecatedNextContext?(ue=Object.create(nt),ue.unsubscribe=()=>this.unsubscribe(),he={next:nt.next&&me(nt.next,ue),error:nt.error&&me(nt.error,ue),complete:nt.complete&&me(nt.complete,ue)}):he=nt}this.destination=new lt(he)}}function mt(xe){Y.config.useDeprecatedSynchronousErrorHandling?(0,G.O)(xe):(0,pe.h)(xe)}function at(xe,nt){const{onStoppedNotification:$e}=Y.config;$e&&z.z.setTimeout(()=>$e(xe,nt))}const We={closed:!0,next:ce.Z,error:function Re(xe){throw xe},complete:ce.Z}},7394:(en,Se,Q)=>{Q.d(Se,{Lc:()=>ke,w0:()=>ce,Nn:()=>De});var o=Q(4674);const Y=(0,Q(2306).d)(Ve=>function(G){Ve(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((de,Ne)=>`${Ne+1}) ${de.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var pe=Q(9039);class ce{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const me of G)me.remove(this);else G.remove(this);const{initialTeardown:de}=this;if((0,o.m)(de))try{de()}catch(me){z=me instanceof Y?me.errors:[me]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const me of Ne)try{ut(me)}catch(lt){z=z??[],lt instanceof Y?z=[...z,...lt.errors]:z.push(lt)}}if(z)throw new Y(z)}}add(z){var G;if(z&&z!==this)if(this.closed)ut(z);else{if(z instanceof ce){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(z)}}_hasParent(z){const{_parentage:G}=this;return G===z||Array.isArray(G)&&G.includes(z)}_addParent(z){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(z),G):G?[G,z]:z}_removeParent(z){const{_parentage:G}=this;G===z?this._parentage=null:Array.isArray(G)&&(0,pe.P)(G,z)}remove(z){const{_finalizers:G}=this;G&&(0,pe.P)(G,z),z instanceof ce&&z._removeParent(this)}}ce.EMPTY=(()=>{const Ve=new ce;return Ve.closed=!0,Ve})();const ke=ce.EMPTY;function De(Ve){return Ve instanceof ce||Ve&&"closed"in Ve&&(0,o.m)(Ve.remove)&&(0,o.m)(Ve.add)&&(0,o.m)(Ve.unsubscribe)}function ut(Ve){(0,o.m)(Ve)?Ve():Ve.unsubscribe()}},2653:(en,Se,Q)=>{Q.d(Se,{config:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(en,Se,Q)=>{Q.d(Se,{E:()=>U});const U=new(Q(5592).y)(ce=>ce.complete())},2459:(en,Se,Q)=>{Q.d(Se,{D:()=>nt});var o=Q(4829),U=Q(3093),Y=Q(5137),ke=Q(5592),ut=Q(4971),Ve=Q(4674),z=Q(7103);function de($e,it){if(!$e)throw new Error("Iterable cannot be null");return new ke.y(he=>{(0,z.f)(he,it,()=>{const ue=$e[Symbol.asyncIterator]();(0,z.f)(he,it,()=>{ue.next().then(Ge=>{Ge.done?he.complete():he.next(Ge.value)})},0,!0)})})}var Ne=Q(8382),me=Q(4026),lt=Q(4266),st=Q(3664),mt=Q(5726),Re=Q(9853),at=Q(541);function nt($e,it){return it?function xe($e,it){if(null!=$e){if((0,Ne.c)($e))return function pe($e,it){return(0,o.Xf)($e).pipe((0,Y.R)(it),(0,U.Q)(it))}($e,it);if((0,lt.z)($e))return function De($e,it){return new ke.y(he=>{let ue=0;return it.schedule(function(){ue===$e.length?he.complete():(he.next($e[ue++]),he.closed||this.schedule())})})}($e,it);if((0,me.t)($e))return function ce($e,it){return(0,o.Xf)($e).pipe((0,Y.R)(it),(0,U.Q)(it))}($e,it);if((0,mt.D)($e))return de($e,it);if((0,st.T)($e))return function G($e,it){return new ke.y(he=>{let ue;return(0,z.f)(he,it,()=>{ue=$e[ut.h](),(0,z.f)(he,it,()=>{let Ge,Le;try{({value:Ge,done:Le}=ue.next())}catch(Ct){return void he.error(Ct)}Le?he.complete():he.next(Ge)},0,!0)}),()=>(0,Ve.m)(ue?.return)&&ue.return()})}($e,it);if((0,at.L)($e))return function We($e,it){return de((0,at.Q)($e),it)}($e,it)}throw(0,Re.z)($e)}($e,it):(0,o.Xf)($e)}},4829:(en,Se,Q)=>{Q.d(Se,{Xf:()=>Ne});var o=Q(7582),U=Q(4266),Y=Q(4026),pe=Q(5592),ce=Q(8382),ke=Q(5726),De=Q(9853),ut=Q(3664),Ve=Q(541),z=Q(4674),G=Q(3894),de=Q(4850);function Ne(xe){if(xe instanceof pe.y)return xe;if(null!=xe){if((0,ce.c)(xe))return function me(xe){return new pe.y(nt=>{const $e=xe[de.L]();if((0,z.m)($e.subscribe))return $e.subscribe(nt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,U.z)(xe))return function lt(xe){return new pe.y(nt=>{for(let $e=0;$e<xe.length&&!nt.closed;$e++)nt.next(xe[$e]);nt.complete()})}(xe);if((0,Y.t)(xe))return function st(xe){return new pe.y(nt=>{xe.then($e=>{nt.closed||(nt.next($e),nt.complete())},$e=>nt.error($e)).then(null,G.h)})}(xe);if((0,ke.D)(xe))return Re(xe);if((0,ut.T)(xe))return function mt(xe){return new pe.y(nt=>{for(const $e of xe)if(nt.next($e),nt.closed)return;nt.complete()})}(xe);if((0,Ve.L)(xe))return function at(xe){return Re((0,Ve.Q)(xe))}(xe)}throw(0,De.z)(xe)}function Re(xe){return new pe.y(nt=>{(function We(xe,nt){var $e,it,he,ue;return(0,o.mG)(this,void 0,void 0,function*(){try{for($e=(0,o.KL)(xe);!(it=yield $e.next()).done;)if(nt.next(it.value),nt.closed)return}catch(Ge){he={error:Ge}}finally{try{it&&!it.done&&(ue=$e.return)&&(yield ue.call($e))}finally{if(he)throw he.error}}nt.complete()})})(xe,nt).catch($e=>nt.error($e))})}},3019:(en,Se,Q)=>{Q.d(Se,{T:()=>ke});var o=Q(7537),U=Q(4829),Y=Q(6232),pe=Q(9940),ce=Q(2459);function ke(...De){const ut=(0,pe.yG)(De),Ve=(0,pe._6)(De,1/0),z=De;return z.length?1===z.length?(0,U.Xf)(z[0]):(0,o.J)(Ve)((0,ce.D)(z,ut)):Y.E}},2096:(en,Se,Q)=>{Q.d(Se,{of:()=>Y});var o=Q(9940),U=Q(2459);function Y(...pe){const ce=(0,o.yG)(pe);return(0,U.D)(pe,ce)}},8251:(en,Se,Q)=>{Q.d(Se,{x:()=>U});var o=Q(305);function U(pe,ce,ke,De,ut){return new Y(pe,ce,ke,De,ut)}class Y extends o.Lv{constructor(ce,ke,De,ut,Ve,z){super(ce),this.onFinalize=Ve,this.shouldUnsubscribe=z,this._next=ke?function(G){try{ke(G)}catch(de){ce.error(de)}}:super._next,this._error=ut?function(G){try{ut(G)}catch(de){ce.error(de)}finally{this.unsubscribe()}}:super._error,this._complete=De?function(){try{De()}catch(G){ce.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ke}=this;super.unsubscribe(),!ke&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},3997:(en,Se,Q)=>{Q.d(Se,{x:()=>pe});var o=Q(2737),U=Q(9360),Y=Q(8251);function pe(ke,De=o.y){return ke=ke??ce,(0,U.e)((ut,Ve)=>{let z,G=!0;ut.subscribe((0,Y.x)(Ve,de=>{const Ne=De(de);(G||!ke(z,Ne))&&(G=!1,z=Ne,Ve.next(de))}))})}function ce(ke,De){return ke===De}},7398:(en,Se,Q)=>{Q.d(Se,{U:()=>Y});var o=Q(9360),U=Q(8251);function Y(pe,ce){return(0,o.e)((ke,De)=>{let ut=0;ke.subscribe((0,U.x)(De,Ve=>{De.next(pe.call(ce,Ve,ut++))}))})}},7537:(en,Se,Q)=>{Q.d(Se,{J:()=>Y});var o=Q(1631),U=Q(2737);function Y(pe=1/0){return(0,o.z)(U.y,pe)}},1631:(en,Se,Q)=>{Q.d(Se,{z:()=>ut});var o=Q(7398),U=Q(4829),Y=Q(9360),pe=Q(7103),ce=Q(8251),De=Q(4674);function ut(Ve,z,G=1/0){return(0,De.m)(z)?ut((de,Ne)=>(0,o.U)((me,lt)=>z(de,me,Ne,lt))((0,U.Xf)(Ve(de,Ne))),G):("number"==typeof z&&(G=z),(0,Y.e)((de,Ne)=>function ke(Ve,z,G,de,Ne,me,lt,st){const mt=[];let Re=0,at=0,We=!1;const xe=()=>{We&&!mt.length&&!Re&&z.complete()},nt=it=>Re<de?$e(it):mt.push(it),$e=it=>{me&&z.next(it),Re++;let he=!1;(0,U.Xf)(G(it,at++)).subscribe((0,ce.x)(z,ue=>{Ne?.(ue),me?nt(ue):z.next(ue)},()=>{he=!0},void 0,()=>{if(he)try{for(Re--;mt.length&&Re<de;){const ue=mt.shift();lt?(0,pe.f)(z,lt,()=>$e(ue)):$e(ue)}xe()}catch(ue){z.error(ue)}}))};return Ve.subscribe((0,ce.x)(z,nt,()=>{We=!0,xe()})),()=>{st?.()}}(de,Ne,Ve,G)))}},3093:(en,Se,Q)=>{Q.d(Se,{Q:()=>pe});var o=Q(7103),U=Q(9360),Y=Q(8251);function pe(ce,ke=0){return(0,U.e)((De,ut)=>{De.subscribe((0,Y.x)(ut,Ve=>(0,o.f)(ut,ce,()=>ut.next(Ve),ke),()=>(0,o.f)(ut,ce,()=>ut.complete(),ke),Ve=>(0,o.f)(ut,ce,()=>ut.error(Ve),ke)))})}},3020:(en,Se,Q)=>{Q.d(Se,{B:()=>ce});var o=Q(4829),U=Q(8645),Y=Q(305),pe=Q(9360);function ce(De={}){const{connector:ut=(()=>new U.x),resetOnError:Ve=!0,resetOnComplete:z=!0,resetOnRefCountZero:G=!0}=De;return de=>{let Ne,me,lt,st=0,mt=!1,Re=!1;const at=()=>{me?.unsubscribe(),me=void 0},We=()=>{at(),Ne=lt=void 0,mt=Re=!1},xe=()=>{const nt=Ne;We(),nt?.unsubscribe()};return(0,pe.e)((nt,$e)=>{st++,!Re&&!mt&&at();const it=lt=lt??ut();$e.add(()=>{st--,0===st&&!Re&&!mt&&(me=ke(xe,G))}),it.subscribe($e),!Ne&&st>0&&(Ne=new Y.Hp({next:he=>it.next(he),error:he=>{Re=!0,at(),me=ke(We,Ve,he),it.error(he)},complete:()=>{mt=!0,at(),me=ke(We,z),it.complete()}}),(0,o.Xf)(nt).subscribe(Ne))})(de)}}function ke(De,ut,...Ve){if(!0===ut)return void De();if(!1===ut)return;const z=new Y.Hp({next:()=>{z.unsubscribe(),De()}});return(0,o.Xf)(ut(...Ve)).subscribe(z)}},5137:(en,Se,Q)=>{Q.d(Se,{R:()=>U});var o=Q(9360);function U(Y,pe=0){return(0,o.e)((ce,ke)=>{ke.add(Y.schedule(()=>ce.subscribe(ke),pe))})}},4664:(en,Se,Q)=>{Q.d(Se,{w:()=>pe});var o=Q(4829),U=Q(9360),Y=Q(8251);function pe(ce,ke){return(0,U.e)((De,ut)=>{let Ve=null,z=0,G=!1;const de=()=>G&&!Ve&&ut.complete();De.subscribe((0,Y.x)(ut,Ne=>{Ve?.unsubscribe();let me=0;const lt=z++;(0,o.Xf)(ce(Ne,lt)).subscribe(Ve=(0,Y.x)(ut,st=>ut.next(ke?ke(Ne,st,lt,me++):st),()=>{Ve=null,de()}))},()=>{G=!0,de()}))})}},9397:(en,Se,Q)=>{Q.d(Se,{b:()=>ce});var o=Q(4674),U=Q(9360),Y=Q(8251),pe=Q(2737);function ce(ke,De,ut){const Ve=(0,o.m)(ke)||De||ut?{next:ke,error:De,complete:ut}:ke;return Ve?(0,U.e)((z,G)=>{var de;null===(de=Ve.subscribe)||void 0===de||de.call(Ve);let Ne=!0;z.subscribe((0,Y.x)(G,me=>{var lt;null===(lt=Ve.next)||void 0===lt||lt.call(Ve,me),G.next(me)},()=>{var me;Ne=!1,null===(me=Ve.complete)||void 0===me||me.call(Ve),G.complete()},me=>{var lt;Ne=!1,null===(lt=Ve.error)||void 0===lt||lt.call(Ve,me),G.error(me)},()=>{var me,lt;Ne&&(null===(me=Ve.unsubscribe)||void 0===me||me.call(Ve)),null===(lt=Ve.finalize)||void 0===lt||lt.call(Ve)}))}):pe.y}},1954:(en,Se,Q)=>{Q.d(Se,{o:()=>ce});var o=Q(7394);class U extends o.w0{constructor(De,ut){super()}schedule(De,ut=0){return this}}const Y={setInterval(ke,De,...ut){const{delegate:Ve}=Y;return Ve?.setInterval?Ve.setInterval(ke,De,...ut):setInterval(ke,De,...ut)},clearInterval(ke){const{delegate:De}=Y;return(De?.clearInterval||clearInterval)(ke)},delegate:void 0};var pe=Q(9039);class ce extends U{constructor(De,ut){super(De,ut),this.scheduler=De,this.work=ut,this.pending=!1}schedule(De,ut=0){var Ve;if(this.closed)return this;this.state=De;const z=this.id,G=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(G,z,ut)),this.pending=!0,this.delay=ut,this.id=null!==(Ve=this.id)&&void 0!==Ve?Ve:this.requestAsyncId(G,this.id,ut),this}requestAsyncId(De,ut,Ve=0){return Y.setInterval(De.flush.bind(De,this),Ve)}recycleAsyncId(De,ut,Ve=0){if(null!=Ve&&this.delay===Ve&&!1===this.pending)return ut;null!=ut&&Y.clearInterval(ut)}execute(De,ut){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(De,ut);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,ut){let z,Ve=!1;try{this.work(De)}catch(G){Ve=!0,z=G||new Error("Scheduled action threw falsy error")}if(Ve)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:De,scheduler:ut}=this,{actions:Ve}=ut;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(Ve,this),null!=De&&(this.id=this.recycleAsyncId(ut,De,null)),this.delay=null,super.unsubscribe()}}}},2631:(en,Se,Q)=>{Q.d(Se,{v:()=>Y});var o=Q(4552);class U{constructor(ce,ke=U.now){this.schedulerActionCtor=ce,this.now=ke}schedule(ce,ke=0,De){return new this.schedulerActionCtor(this,ce).schedule(De,ke)}}U.now=o.l.now;class Y extends U{constructor(ce,ke=U.now){super(ce,ke),this.actions=[],this._active=!1}flush(ce){const{actions:ke}=this;if(this._active)return void ke.push(ce);let De;this._active=!0;do{if(De=ce.execute(ce.state,ce.delay))break}while(ce=ke.shift());if(this._active=!1,De){for(;ce=ke.shift();)ce.unsubscribe();throw De}}}},6321:(en,Se,Q)=>{Q.d(Se,{P:()=>pe,z:()=>Y});var o=Q(1954);const Y=new(Q(2631).v)(o.o),pe=Y},4552:(en,Se,Q)=>{Q.d(Se,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},7599:(en,Se,Q)=>{Q.d(Se,{z:()=>o});const o={setTimeout(U,Y,...pe){const{delegate:ce}=o;return ce?.setTimeout?ce.setTimeout(U,Y,...pe):setTimeout(U,Y,...pe)},clearTimeout(U){const{delegate:Y}=o;return(Y?.clearTimeout||clearTimeout)(U)},delegate:void 0}},4971:(en,Se,Q)=>{Q.d(Se,{h:()=>U});const U=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(en,Se,Q)=>{Q.d(Se,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(en,Se,Q)=>{Q.d(Se,{_6:()=>ke,jO:()=>pe,yG:()=>ce});var o=Q(4674),U=Q(671);function Y(De){return De[De.length-1]}function pe(De){return(0,o.m)(Y(De))?De.pop():void 0}function ce(De){return(0,U.K)(Y(De))?De.pop():void 0}function ke(De,ut){return"number"==typeof Y(De)?De.pop():ut}},9039:(en,Se,Q)=>{function o(U,Y){if(U){const pe=U.indexOf(Y);0<=pe&&U.splice(pe,1)}}Q.d(Se,{P:()=>o})},2306:(en,Se,Q)=>{function o(U){const pe=U(ce=>{Error.call(ce),ce.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}Q.d(Se,{d:()=>o})},1441:(en,Se,Q)=>{Q.d(Se,{O:()=>pe,x:()=>Y});var o=Q(2653);let U=null;function Y(ce){if(o.config.useDeprecatedSynchronousErrorHandling){const ke=!U;if(ke&&(U={errorThrown:!1,error:null}),ce(),ke){const{errorThrown:De,error:ut}=U;if(U=null,De)throw ut}}else ce()}function pe(ce){o.config.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=ce)}},7103:(en,Se,Q)=>{function o(U,Y,pe,ce=0,ke=!1){const De=Y.schedule(function(){pe(),ke?U.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(U.add(De),!ke)return De}Q.d(Se,{f:()=>o})},2737:(en,Se,Q)=>{function o(U){return U}Q.d(Se,{y:()=>o})},4266:(en,Se,Q)=>{Q.d(Se,{z:()=>o});const o=U=>U&&"number"==typeof U.length&&"function"!=typeof U},5726:(en,Se,Q)=>{Q.d(Se,{D:()=>U});var o=Q(4674);function U(Y){return Symbol.asyncIterator&&(0,o.m)(Y?.[Symbol.asyncIterator])}},4674:(en,Se,Q)=>{function o(U){return"function"==typeof U}Q.d(Se,{m:()=>o})},8382:(en,Se,Q)=>{Q.d(Se,{c:()=>Y});var o=Q(4850),U=Q(4674);function Y(pe){return(0,U.m)(pe[o.L])}},3664:(en,Se,Q)=>{Q.d(Se,{T:()=>Y});var o=Q(4971),U=Q(4674);function Y(pe){return(0,U.m)(pe?.[o.h])}},4026:(en,Se,Q)=>{Q.d(Se,{t:()=>U});var o=Q(4674);function U(Y){return(0,o.m)(Y?.then)}},541:(en,Se,Q)=>{Q.d(Se,{L:()=>pe,Q:()=>Y});var o=Q(7582),U=Q(4674);function Y(ce){return(0,o.FC)(this,arguments,function*(){const De=ce.getReader();try{for(;;){const{value:ut,done:Ve}=yield(0,o.qq)(De.read());if(Ve)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(ut)}}finally{De.releaseLock()}})}function pe(ce){return(0,U.m)(ce?.getReader)}},671:(en,Se,Q)=>{Q.d(Se,{K:()=>U});var o=Q(4674);function U(Y){return Y&&(0,o.m)(Y.schedule)}},9360:(en,Se,Q)=>{Q.d(Se,{A:()=>U,e:()=>Y});var o=Q(4674);function U(pe){return(0,o.m)(pe?.lift)}function Y(pe){return ce=>{if(U(ce))return ce.lift(function(ke){try{return pe(ke,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(en,Se,Q)=>{function o(){}Q.d(Se,{Z:()=>o})},8407:(en,Se,Q)=>{Q.d(Se,{U:()=>Y,z:()=>U});var o=Q(2737);function U(...pe){return Y(pe)}function Y(pe){return 0===pe.length?o.y:1===pe.length?pe[0]:function(ke){return pe.reduce((De,ut)=>ut(De),ke)}}},3894:(en,Se,Q)=>{Q.d(Se,{h:()=>Y});var o=Q(2653),U=Q(7599);function Y(pe){U.z.setTimeout(()=>{const{onUnhandledError:ce}=o.config;if(!ce)throw pe;ce(pe)})}},9853:(en,Se,Q)=>{function o(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Q.d(Se,{z:()=>o})},8005:(en,Se,Q)=>{Q.r(Se),Q.d(Se,{__assign:()=>Y,__asyncDelegator:()=>Re,__asyncGenerator:()=>mt,__asyncValues:()=>at,__await:()=>st,__awaiter:()=>ut,__classPrivateFieldGet:()=>$e,__classPrivateFieldSet:()=>it,__createBinding:()=>z,__decorate:()=>ce,__exportStar:()=>G,__extends:()=>U,__generator:()=>Ve,__importDefault:()=>nt,__importStar:()=>xe,__makeTemplateObject:()=>We,__metadata:()=>De,__param:()=>ke,__read:()=>Ne,__rest:()=>pe,__spread:()=>me,__spreadArrays:()=>lt,__values:()=>de});var o=function(he,ue){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ge,Le){Ge.__proto__=Le}||function(Ge,Le){for(var Ct in Le)Le.hasOwnProperty(Ct)&&(Ge[Ct]=Le[Ct])})(he,ue)};function U(he,ue){function Ge(){this.constructor=he}o(he,ue),he.prototype=null===ue?Object.create(ue):(Ge.prototype=ue.prototype,new Ge)}var Y=function(){return Y=Object.assign||function(ue){for(var Ge,Le=1,Ct=arguments.length;Le<Ct;Le++)for(var ot in Ge=arguments[Le])Object.prototype.hasOwnProperty.call(Ge,ot)&&(ue[ot]=Ge[ot]);return ue},Y.apply(this,arguments)};function pe(he,ue){var Ge={};for(var Le in he)Object.prototype.hasOwnProperty.call(he,Le)&&ue.indexOf(Le)<0&&(Ge[Le]=he[Le]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var Ct=0;for(Le=Object.getOwnPropertySymbols(he);Ct<Le.length;Ct++)ue.indexOf(Le[Ct])<0&&Object.prototype.propertyIsEnumerable.call(he,Le[Ct])&&(Ge[Le[Ct]]=he[Le[Ct]])}return Ge}function ce(he,ue,Ge,Le){var Yt,Ct=arguments.length,ot=Ct<3?ue:null===Le?Le=Object.getOwnPropertyDescriptor(ue,Ge):Le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ot=Reflect.decorate(he,ue,Ge,Le);else for(var nn=he.length-1;nn>=0;nn--)(Yt=he[nn])&&(ot=(Ct<3?Yt(ot):Ct>3?Yt(ue,Ge,ot):Yt(ue,Ge))||ot);return Ct>3&&ot&&Object.defineProperty(ue,Ge,ot),ot}function ke(he,ue){return function(Ge,Le){ue(Ge,Le,he)}}function De(he,ue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(he,ue)}function ut(he,ue,Ge,Le){return new(Ge||(Ge=Promise))(function(ot,Yt){function nn(pi){try{rn(Le.next(pi))}catch(Te){Yt(Te)}}function un(pi){try{rn(Le.throw(pi))}catch(Te){Yt(Te)}}function rn(pi){pi.done?ot(pi.value):function Ct(ot){return ot instanceof Ge?ot:new Ge(function(Yt){Yt(ot)})}(pi.value).then(nn,un)}rn((Le=Le.apply(he,ue||[])).next())})}function Ve(he,ue){var Le,Ct,ot,Yt,Ge={label:0,sent:function(){if(1&ot[0])throw ot[1];return ot[1]},trys:[],ops:[]};return Yt={next:nn(0),throw:nn(1),return:nn(2)},"function"==typeof Symbol&&(Yt[Symbol.iterator]=function(){return this}),Yt;function nn(rn){return function(pi){return function un(rn){if(Le)throw new TypeError("Generator is already executing.");for(;Ge;)try{if(Le=1,Ct&&(ot=2&rn[0]?Ct.return:rn[0]?Ct.throw||((ot=Ct.return)&&ot.call(Ct),0):Ct.next)&&!(ot=ot.call(Ct,rn[1])).done)return ot;switch(Ct=0,ot&&(rn=[2&rn[0],ot.value]),rn[0]){case 0:case 1:ot=rn;break;case 4:return Ge.label++,{value:rn[1],done:!1};case 5:Ge.label++,Ct=rn[1],rn=[0];continue;case 7:rn=Ge.ops.pop(),Ge.trys.pop();continue;default:if(!(ot=(ot=Ge.trys).length>0&&ot[ot.length-1])&&(6===rn[0]||2===rn[0])){Ge=0;continue}if(3===rn[0]&&(!ot||rn[1]>ot[0]&&rn[1]<ot[3])){Ge.label=rn[1];break}if(6===rn[0]&&Ge.label<ot[1]){Ge.label=ot[1],ot=rn;break}if(ot&&Ge.label<ot[2]){Ge.label=ot[2],Ge.ops.push(rn);break}ot[2]&&Ge.ops.pop(),Ge.trys.pop();continue}rn=ue.call(he,Ge)}catch(pi){rn=[6,pi],Ct=0}finally{Le=ot=0}if(5&rn[0])throw rn[1];return{value:rn[0]?rn[1]:void 0,done:!0}}([rn,pi])}}}function z(he,ue,Ge,Le){void 0===Le&&(Le=Ge),he[Le]=ue[Ge]}function G(he,ue){for(var Ge in he)"default"!==Ge&&!ue.hasOwnProperty(Ge)&&(ue[Ge]=he[Ge])}function de(he){var ue="function"==typeof Symbol&&Symbol.iterator,Ge=ue&&he[ue],Le=0;if(Ge)return Ge.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&Le>=he.length&&(he=void 0),{value:he&&he[Le++],done:!he}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(he,ue){var Ge="function"==typeof Symbol&&he[Symbol.iterator];if(!Ge)return he;var Ct,Yt,Le=Ge.call(he),ot=[];try{for(;(void 0===ue||ue-- >0)&&!(Ct=Le.next()).done;)ot.push(Ct.value)}catch(nn){Yt={error:nn}}finally{try{Ct&&!Ct.done&&(Ge=Le.return)&&Ge.call(Le)}finally{if(Yt)throw Yt.error}}return ot}function me(){for(var he=[],ue=0;ue<arguments.length;ue++)he=he.concat(Ne(arguments[ue]));return he}function lt(){for(var he=0,ue=0,Ge=arguments.length;ue<Ge;ue++)he+=arguments[ue].length;var Le=Array(he),Ct=0;for(ue=0;ue<Ge;ue++)for(var ot=arguments[ue],Yt=0,nn=ot.length;Yt<nn;Yt++,Ct++)Le[Ct]=ot[Yt];return Le}function st(he){return this instanceof st?(this.v=he,this):new st(he)}function mt(he,ue,Ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ct,Le=Ge.apply(he,ue||[]),ot=[];return Ct={},Yt("next"),Yt("throw"),Yt("return"),Ct[Symbol.asyncIterator]=function(){return this},Ct;function Yt(Ce){Le[Ce]&&(Ct[Ce]=function(He){return new Promise(function(je,ct){ot.push([Ce,He,je,ct])>1||nn(Ce,He)})})}function nn(Ce,He){try{!function un(Ce){Ce.value instanceof st?Promise.resolve(Ce.value.v).then(rn,pi):Te(ot[0][2],Ce)}(Le[Ce](He))}catch(je){Te(ot[0][3],je)}}function rn(Ce){nn("next",Ce)}function pi(Ce){nn("throw",Ce)}function Te(Ce,He){Ce(He),ot.shift(),ot.length&&nn(ot[0][0],ot[0][1])}}function Re(he){var ue,Ge;return ue={},Le("next"),Le("throw",function(Ct){throw Ct}),Le("return"),ue[Symbol.iterator]=function(){return this},ue;function Le(Ct,ot){ue[Ct]=he[Ct]?function(Yt){return(Ge=!Ge)?{value:st(he[Ct](Yt)),done:"return"===Ct}:ot?ot(Yt):Yt}:ot}}function at(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge,ue=he[Symbol.asyncIterator];return ue?ue.call(he):(he=de(he),Ge={},Le("next"),Le("throw"),Le("return"),Ge[Symbol.asyncIterator]=function(){return this},Ge);function Le(ot){Ge[ot]=he[ot]&&function(Yt){return new Promise(function(nn,un){!function Ct(ot,Yt,nn,un){Promise.resolve(un).then(function(rn){ot({value:rn,done:nn})},Yt)}(nn,un,(Yt=he[ot](Yt)).done,Yt.value)})}}}function We(he,ue){return Object.defineProperty?Object.defineProperty(he,"raw",{value:ue}):he.raw=ue,he}function xe(he){if(he&&he.__esModule)return he;var ue={};if(null!=he)for(var Ge in he)Object.hasOwnProperty.call(he,Ge)&&(ue[Ge]=he[Ge]);return ue.default=he,ue}function nt(he){return he&&he.__esModule?he:{default:he}}function $e(he,ue){if(!ue.has(he))throw new TypeError("attempted to get private field on non-instance");return ue.get(he)}function it(he,ue,Ge){if(!ue.has(he))throw new TypeError("attempted to set private field on non-instance");return ue.set(he,Ge),Ge}},5879:(en,Se,Q)=>{Q.d(Se,{$8M:()=>ps,$WT:()=>Sa,$Z:()=>zA,AFp:()=>sT,ALo:()=>zx,AaK:()=>de,AsE:()=>$0,BQk:()=>Rp,CHM:()=>Os,CRH:()=>hO,DdM:()=>Vx,EEQ:()=>y,EJc:()=>zv,EiD:()=>YI,EpF:()=>HC,F$t:()=>GC,F4k:()=>Xm,FYo:()=>iC,FiY:()=>Xe,Gf:()=>Gp,GfV:()=>u0,GkF:()=>N0,Gpc:()=>lt,GuJ:()=>Gi,HDt:()=>dE,Hsn:()=>ZC,Ikx:()=>kd,JOm:()=>bh,JVY:()=>GD,JZr:()=>We,Jf7:()=>IA,KtG:()=>xu,L6k:()=>HI,LAX:()=>WD,LFG:()=>Ot,LSH:()=>ou,Lbi:()=>Ww,Lck:()=>z1,MAs:()=>jC,MMx:()=>Iv,NdJ:()=>F0,O4$:()=>va,Ojb:()=>Kw,OlP:()=>nr,Oqu:()=>lx,P3R:()=>Ao,PXZ:()=>Hv,Q6J:()=>Ap,QGY:()=>ov,QbO:()=>Yw,Qsj:()=>rC,R0b:()=>Xs,RDi:()=>UI,Rgc:()=>hg,SBq:()=>Nm,Sil:()=>vb,Suo:()=>tE,TTD:()=>zl,TgZ:()=>no,Tol:()=>mv,Udp:()=>rx,VKq:()=>dg,VuI:()=>fS,W1O:()=>mb,WLB:()=>K1,X6Q:()=>bE,XFs:()=>sn,Xpm:()=>bo,Xq5:()=>DC,Xts:()=>E_,Y36:()=>Fm,YKP:()=>Nx,YNc:()=>JT,Yjl:()=>rc,Yz7:()=>fn,Z0I:()=>cn,ZZ4:()=>Yv,_Bn:()=>Mv,_UZ:()=>zC,_Vd:()=>l0,_c5:()=>PE,_uU:()=>cx,aQg:()=>OE,c2e:()=>uE,cJS:()=>On,cg1:()=>vc,dDg:()=>aR,dqk:()=>Ee,eBb:()=>ZD,eFA:()=>ZO,eJc:()=>Zp,ekj:()=>ox,eoX:()=>qO,evT:()=>TA,f3M:()=>Vt,g9A:()=>Xy,h0i:()=>Ld,hGG:()=>Ab,hij:()=>H0,iGM:()=>fb,ifc:()=>_t,ip1:()=>Bv,jDz:()=>Of,kEZ:()=>Q1,kL8:()=>ig,kcU:()=>hs,lG2:()=>ws,lcZ:()=>Hx,lnq:()=>ux,lqb:()=>Nu,lri:()=>wb,mCW:()=>x_,n5z:()=>md,n_E:()=>qp,oAB:()=>Zi,oJD:()=>dt,oxw:()=>qC,pB0:()=>YD,q3G:()=>Dm,q4F:()=>gA,qFp:()=>IR,qLn:()=>Td,qOj:()=>Tp,qZA:()=>iv,qbA:()=>J1,qzn:()=>xh,rWj:()=>Fs,rg0:()=>Mo,s9C:()=>cv,sBO:()=>Gv,s_b:()=>kv,soG:()=>Qp,tb:()=>Eg,tp0:()=>Nt,uIk:()=>$m,vHH:()=>xe,vpe:()=>Od,wAp:()=>rg,xi3:()=>$x,xp6:()=>BA,ynx:()=>rv,z2F:()=>Zu,z3N:()=>Md,zSh:()=>Hw,zs3:()=>su});var o=Q(8645),U=Q(7394),Y=Q(5592),pe=Q(3019),ce=Q(5619),ke=Q(2096),De=Q(3020),ut=Q(4664),Ve=Q(3997);function z(a){for(let c in a)if(a[c]===z)return c;throw Error("Could not find renamed property on target object.")}function G(a,c){for(const d in c)c.hasOwnProperty(d)&&!a.hasOwnProperty(d)&&(a[d]=c[d])}function de(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(de).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const c=a.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function Ne(a,c){return null==a||""===a?null===c?"":c:null==c||""===c?a:a+" "+c}const me=z({__forward_ref__:z});function lt(a){return a.__forward_ref__=lt,a.toString=function(){return de(this())},a}function st(a){return mt(a)?a():a}function mt(a){return"function"==typeof a&&a.hasOwnProperty(me)&&a.__forward_ref__===lt}function Re(a){return a&&!!a.\u0275providers}const We="https://g.co/ng/security#xss";class xe extends Error{constructor(c,d){super(function nt(a,c){return`NG0${Math.abs(a)}${c?": "+c:""}`}(c,d)),this.code=c}}function $e(a){return"string"==typeof a?a:null==a?"":String(a)}function Le(a,c){throw new xe(-201,!1)}function St(a,c){null==a&&function bt(a,c,d,p){throw new Error(`ASSERTION ERROR: ${a}`+(null==p?"":` [Expected=> ${d} ${p} ${c} <=Actual]`))}(c,a,null,"!=")}function fn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function On(a){return{providers:a.providers||[],imports:a.imports||[]}}function Ut(a){return Fn(a,Di)||Fn(a,zi)}function cn(a){return null!==Ut(a)}function Fn(a,c){return a.hasOwnProperty(c)?a[c]:null}function Ci(a){return a&&(a.hasOwnProperty(ni)||a.hasOwnProperty(No))?a[ni]:null}const Di=z({\u0275prov:z}),ni=z({\u0275inj:z}),zi=z({ngInjectableDef:z}),No=z({ngInjectorDef:z});var sn=function(a){return a[a.Default=0]="Default",a[a.Host=1]="Host",a[a.Self=2]="Self",a[a.SkipSelf=4]="SkipSelf",a[a.Optional=8]="Optional",a}(sn||{});let Kt;function zt(a){const c=Kt;return Kt=a,c}function Ie(a,c,d){const p=Ut(a);return p&&"root"==p.providedIn?void 0===p.value?p.value=p.factory():p.value:d&sn.Optional?null:void 0!==c?c:void Le(de(a))}const Ee=globalThis,mi={},Ei="__NG_DI_FLAG__",_r="ngTempTokenPath",fe=/\n/gm,X="__source";let te;function Pe(a){const c=te;return te=a,c}function Qe(a,c=sn.Default){if(void 0===te)throw new xe(-203,!1);return null===te?Ie(a,void 0,c):te.get(a,c&sn.Optional?null:void 0,c)}function Ot(a,c=sn.Default){return(function Qt(){return Kt}()||Qe)(st(a),c)}function Vt(a,c=sn.Default){return Ot(a,Xn(c))}function Xn(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function xn(a){const c=[];for(let d=0;d<a.length;d++){const p=st(a[d]);if(Array.isArray(p)){if(0===p.length)throw new xe(900,!1);let _,b=sn.Default;for(let I=0;I<p.length;I++){const O=p[I],k=Rn(O);"number"==typeof k?-1===k?_=O.token:b|=k:_=O}c.push(Ot(_,b))}else c.push(Ot(p))}return c}function ai(a,c){return a[Ei]=c,a.prototype[Ei]=c,a}function Rn(a){return a[Ei]}function Je(a){return{toString:a}.toString()}var ze=function(a){return a[a.OnPush=0]="OnPush",a[a.Default=1]="Default",a}(ze||{}),_t=function(a){return a[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",a}(_t||{});const Wt={},kt=[],Dn=z({\u0275cmp:z}),ri=z({\u0275dir:z}),Gi=z({\u0275pipe:z}),Yi=z({\u0275mod:z}),er=z({\u0275fac:z}),Ur=z({__NG_ELEMENT_ID__:z}),_o=z({__NG_ENV_ID__:z});function Oa(a,c,d){let p=a.length;for(;;){const _=a.indexOf(c,d);if(-1===_)return _;if(0===_||a.charCodeAt(_-1)<=32){const b=c.length;if(_+b===p||a.charCodeAt(_+b)<=32)return _}d=_+1}}function vo(a,c,d){let p=0;for(;p<d.length;){const _=d[p];if("number"==typeof _){if(0!==_)break;p++;const b=d[p++],I=d[p++],O=d[p++];a.setAttribute(c,I,O,b)}else{const b=_,I=d[++p];bs(b)?a.setProperty(c,b,I):a.setAttribute(c,b,I),p++}}return p}function us(a){return 3===a||4===a||6===a}function bs(a){return 64===a.charCodeAt(0)}function Ko(a,c){if(null!==c&&0!==c.length)if(null===a||0===a.length)a=c.slice();else{let d=-1;for(let p=0;p<c.length;p++){const _=c[p];"number"==typeof _?d=_:0===d||Ln(a,d,_,null,-1===d||2===d?c[++p]:null)}}return a}function Ln(a,c,d,p,_){let b=0,I=a.length;if(-1===c)I=-1;else for(;b<a.length;){const O=a[b++];if("number"==typeof O){if(O===c){I=-1;break}if(O>c){I=b-1;break}}}for(;b<a.length;){const O=a[b];if("number"==typeof O)break;if(O===d){if(null===p)return void(null!==_&&(a[b+1]=_));if(p===a[b+1])return void(a[b+2]=_)}b++,null!==p&&b++,null!==_&&b++}-1!==I&&(a.splice(I,0,c),b=I+1),a.splice(b++,0,d),null!==p&&a.splice(b++,0,p),null!==_&&a.splice(b++,0,_)}const Ai="ng-template";function yo(a,c,d){let p=0,_=!0;for(;p<a.length;){let b=a[p++];if("string"==typeof b&&_){const I=a[p++];if(d&&"class"===b&&-1!==Oa(I.toLowerCase(),c,0))return!0}else{if(1===b){for(;p<a.length&&"string"==typeof(b=a[p++]);)if(b.toLowerCase()===c)return!0;return!1}"number"==typeof b&&(_=!1)}}return!1}function ci(a){return 4===a.type&&a.value!==Ai}function xc(a,c,d){return c===(4!==a.type||d?a.value:Ai)}function tc(a,c,d){let p=4;const _=a.attrs||[],b=function oa(a){for(let c=0;c<a.length;c++)if(us(a[c]))return c;return a.length}(_);let I=!1;for(let O=0;O<c.length;O++){const k=c[O];if("number"!=typeof k){if(!I)if(4&p){if(p=2|1&p,""!==k&&!xc(a,k,d)||""===k&&1===c.length){if($r(p))return!1;I=!0}}else{const B=8&p?k:c[++O];if(8&p&&null!==a.attrs){if(!yo(a.attrs,B,d)){if($r(p))return!1;I=!0}continue}const se=Us(8&p?"class":k,_,ci(a),d);if(-1===se){if($r(p))return!1;I=!0;continue}if(""!==B){let Me;Me=se>b?"":_[se+1].toLowerCase();const Be=8&p?Me:null;if(Be&&-1!==Oa(Be,B,0)||2&p&&B!==Me){if($r(p))return!1;I=!0}}}}else{if(!I&&!$r(p)&&!$r(k))return!1;if(I&&$r(k))continue;I=!1,p=k|1&p}}return $r(p)||I}function $r(a){return 0==(1&a)}function Us(a,c,d,p){if(null===c)return-1;let _=0;if(p||!d){let b=!1;for(;_<c.length;){const I=c[_];if(I===a)return _;if(3===I||6===I)b=!0;else{if(1===I||2===I){let O=c[++_];for(;"string"==typeof O;)O=c[++_];continue}if(4===I)break;if(0===I){_+=4;continue}}_+=b?1:2}return-1}return function Ec(a,c){let d=a.indexOf(4);if(d>-1)for(d++;d<a.length;){const p=a[d];if("number"==typeof p)return-1;if(p===c)return d;d++}return-1}(c,a)}function nc(a,c,d=!1){for(let p=0;p<c.length;p++)if(tc(a,c[p],d))return!0;return!1}function Mc(a,c){e:for(let d=0;d<c.length;d++){const p=c[d];if(a.length===p.length){for(let _=0;_<a.length;_++)if(a[_]!==p[_])continue e;return!0}}return!1}function Qo(a,c){return a?":not("+c.trim()+")":c}function sa(a){let c=a[0],d=1,p=2,_="",b=!1;for(;d<a.length;){let I=a[d];if("string"==typeof I)if(2&p){const O=a[++d];_+="["+I+(O.length>0?'="'+O+'"':"")+"]"}else 8&p?_+="."+I:4&p&&(_+=" "+I);else""!==_&&!$r(I)&&(c+=Qo(b,_),_=""),p=I,b=b||!$r(p);d++}return""!==_&&(c+=Qo(b,_)),c}function bo(a){return Je(()=>{const c=Tc(a),d={...c,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===ze.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&a.dependencies||null,getStandaloneInjector:null,signals:a.signals??!1,data:a.data||{},encapsulation:a.encapsulation||_t.Emulated,styles:a.styles||kt,_:null,schemas:a.schemas||null,tView:null,id:""};Oc(d);const p=a.dependencies;return d.directiveDefs=Lo(p,!1),d.pipeDefs=Lo(p,!0),d.id=function Sc(a){let c=0;const d=[a.selectors,a.ngContentSelectors,a.hostVars,a.hostAttrs,a.consts,a.vars,a.decls,a.encapsulation,a.standalone,a.signals,a.exportAs,JSON.stringify(a.inputs),JSON.stringify(a.outputs),Object.getOwnPropertyNames(a.type.prototype),!!a.contentQueries,!!a.viewQuery].join("|");for(const _ of d)c=Math.imul(31,c)+_.charCodeAt(0)<<0;return c+=2147483648,"c"+c}(d),d})}function ic(a){return jn(a)||Ui(a)}function aa(a){return null!==a}function Zi(a){return Je(()=>({type:a.type,bootstrap:a.bootstrap||kt,declarations:a.declarations||kt,imports:a.imports||kt,exports:a.exports||kt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function ca(a,c){if(null==a)return Wt;const d={};for(const p in a)if(a.hasOwnProperty(p)){let _=a[p],b=_;Array.isArray(_)&&(b=_[1],_=_[0]),d[_]=p,c&&(c[_]=b)}return d}function ws(a){return Je(()=>{const c=Tc(a);return Oc(c),c})}function rc(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function jn(a){return a[Dn]||null}function Ui(a){return a[ri]||null}function br(a){return a[Gi]||null}function Sa(a){const c=jn(a)||Ui(a)||br(a);return null!==c&&c.standalone}function wr(a,c){const d=a[Yi]||null;if(!d&&!0===c)throw new Error(`Type ${de(a)} does not have '\u0275mod' property.`);return d}function Tc(a){const c={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,inputTransforms:null,inputConfig:a.inputs||Wt,exportAs:a.exportAs||null,standalone:!0===a.standalone,signals:!0===a.signals,selectors:a.selectors||kt,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ca(a.inputs,c),outputs:ca(a.outputs)}}function Oc(a){a.features?.forEach(c=>c(a))}function Lo(a,c){if(!a)return null;const d=c?br:ic;return()=>("function"==typeof a?a():a).map(p=>d(p)).filter(aa)}const ki=0,Et=1,En=2,Mi=3,so=4,Bs=5,qn=6,Jo=7,Ii=8,la=9,Xo=10,on=11,qr=12,Ll=13,Cr=14,xr=15,Cs=16,Uo=17,Er=18,Mr=19,ua=20,Pa=21,Vi=22,Vo=23,Gr=24,ei=25,gu=1,Da=2,Dr=7,Zr=9,Hi=11;function Wr(a){return Array.isArray(a)&&"object"==typeof a[gu]}function Ir(a){return Array.isArray(a)&&!0===a[gu]}function cl(a){return 0!=(4&a.flags)}function Ar(a){return a.componentOffset>-1}function Yr(a){return 1==(1&a.flags)}function hi(a){return!!a.template}function ha(a){return 0!=(512&a[En])}function js(a,c){return a.hasOwnProperty(er)?a[er]:null}let ur=null,ka=!1;function Kr(a){const c=ur;return ur=a,c}const Nc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function cc(a){if(!Fc(a)||a.dirty){if(!a.producerMustRecompute(a)&&!zo(a))return void(a.dirty=!1);a.producerRecomputeValue(a),a.dirty=!1}}function ma(a){a.dirty=!0,function jl(a){if(void 0===a.liveConsumerNode)return;const c=ka;ka=!0;try{for(const d of a.liveConsumerNode)d.dirty||ma(d)}finally{ka=c}}(a),a.consumerMarkedDirty?.(a)}function ll(a){return a&&(a.nextProducerIndex=0),Kr(a)}function bi(a,c){if(Kr(c),a&&void 0!==a.producerNode&&void 0!==a.producerIndexOfThis&&void 0!==a.producerLastReadVersion){if(Fc(a))for(let d=a.nextProducerIndex;d<a.producerNode.length;d++)es(a.producerNode[d],a.producerIndexOfThis[d]);for(;a.producerNode.length>a.nextProducerIndex;)a.producerNode.pop(),a.producerLastReadVersion.pop(),a.producerIndexOfThis.pop()}}function zo(a){xo(a);for(let c=0;c<a.producerNode.length;c++){const d=a.producerNode[c],p=a.producerLastReadVersion[c];if(p!==d.version||(cc(d),p!==d.version))return!0}return!1}function Ra(a){if(xo(a),Fc(a))for(let c=0;c<a.producerNode.length;c++)es(a.producerNode[c],a.producerIndexOfThis[c]);a.producerNode.length=a.producerLastReadVersion.length=a.producerIndexOfThis.length=0,a.liveConsumerNode&&(a.liveConsumerNode.length=a.liveConsumerIndexOfThis.length=0)}function es(a,c){if(function Hs(a){a.liveConsumerNode??=[],a.liveConsumerIndexOfThis??=[]}(a),xo(a),1===a.liveConsumerNode.length)for(let p=0;p<a.producerNode.length;p++)es(a.producerNode[p],a.producerIndexOfThis[p]);const d=a.liveConsumerNode.length-1;if(a.liveConsumerNode[c]=a.liveConsumerNode[d],a.liveConsumerIndexOfThis[c]=a.liveConsumerIndexOfThis[d],a.liveConsumerNode.length--,a.liveConsumerIndexOfThis.length--,c<a.liveConsumerNode.length){const p=a.liveConsumerIndexOfThis[c],_=a.liveConsumerNode[c];xo(_),_.producerIndexOfThis[p]=c}}function Fc(a){return a.consumerIsAlwaysLive||(a?.liveConsumerNode?.length??0)>0}function xo(a){a.producerNode??=[],a.producerIndexOfThis??=[],a.producerLastReadVersion??=[]}let ee=null;function Mo(a){const c=Kr(null);try{return a()}finally{Kr(c)}}const td=()=>{},qh=(()=>({...Nc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:a=>{a.schedule(a.ref)},hasRun:!1,cleanupFn:td}))();class Gh{constructor(c,d,p){this.previousValue=c,this.currentValue=d,this.firstChange=p}isFirstChange(){return this.firstChange}}function zl(){return Hl}function Hl(a){return a.type.prototype.ngOnChanges&&(a.setInput=Ms),nd}function nd(){const a=dl(this),c=a?.current;if(c){const d=a.previous;if(d===Wt)a.previous=c;else for(let p in c)d[p]=c[p];a.current=null,this.ngOnChanges(c)}}function Ms(a,c,d,p){const _=this.declaredInputs[d],b=dl(a)||function id(a,c){return a[Vc]=c}(a,{previous:Wt,current:null}),I=b.current||(b.current={}),O=b.previous,k=O[_];I[_]=new Gh(k&&k.currentValue,c,O===Wt),a[p]=c}zl.ngInherit=!0;const Vc="__ngSimpleChanges__";function dl(a){return a[Vc]||null}const Is=function(a,c,d){},th="svg";function Ti(a){for(;Array.isArray(a);)a=a[ki];return a}function Fa(a,c){return Ti(c[a])}function Ho(a,c){return Ti(c[a.index])}function nh(a,c){return a.data[c]}function fl(a,c){return a[c]}function Ki(a,c){const d=c[a];return Wr(d)?d:d[ki]}function pl(a,c){return null==c?null:a[c]}function oh(a){a[Uo]=0}function Bc(a){1024&a[En]||(a[En]|=1024,Vr(a,1))}function Zh(a){1024&a[En]&&(a[En]&=-1025,Vr(a,-1))}function Vr(a,c){let d=a[Mi];if(null===d)return;d[Bs]+=c;let p=d;for(d=d[Mi];null!==d&&(1===c&&1===p[Bs]||-1===c&&0===p[Bs]);)d[Bs]+=c,p=d,d=d[Mi]}const Mn={lFrame:ds(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Wi(){return Mn.bindingsEnabled}function Ts(){return null!==Mn.skipHydrationRootTNode}function pt(){return Mn.lFrame.lView}function ii(){return Mn.lFrame.tView}function Os(a){return Mn.lFrame.contextLView=a,a[Ii]}function xu(a){return Mn.lFrame.contextLView=null,a}function To(){let a=od();for(;null!==a&&64===a.type;)a=a.parent;return a}function od(){return Mn.lFrame.currentTNode}function So(a,c){const d=Mn.lFrame;d.currentTNode=a,d.isParent=c}function Qi(){return Mn.lFrame.isParent}function ao(){Mn.lFrame.isParent=!1}function Ji(){const a=Mn.lFrame;let c=a.bindingRootIndex;return-1===c&&(c=a.bindingRootIndex=a.tView.bindingStartIndex),c}function hr(){return Mn.lFrame.bindingIndex}function Jr(){return Mn.lFrame.bindingIndex++}function Xr(a){const c=Mn.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+a,d}function sd(a,c){const d=Mn.lFrame;d.bindingIndex=d.bindingRootIndex=a,Eu(c)}function Eu(a){Mn.lFrame.currentDirectiveIndex=a}function ch(){return Mn.lFrame.currentQueryIndex}function ml(a){Mn.lFrame.currentQueryIndex=a}function lh(a){const c=a[Et];return 2===c.type?c.declTNode:1===c.type?a[qn]:null}function La(a,c,d){if(d&sn.SkipSelf){let _=c,b=a;for(;!(_=_.parent,null!==_||d&sn.Host||(_=lh(b),null===_||(b=b[Cr],10&_.type))););if(null===_)return!1;c=_,a=b}const p=Mn.lFrame=Mu();return p.currentTNode=c,p.lView=a,!0}function ql(a){const c=Mu(),d=a[Et];Mn.lFrame=c,c.currentTNode=d.firstChild,c.lView=a,c.tView=d,c.contextLView=a,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function Mu(){const a=Mn.lFrame,c=null===a?null:a.child;return null===c?ds(a):c}function ds(a){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=c),c}function gl(){const a=Mn.lFrame;return Mn.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const dc=gl;function hc(){const a=gl();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function ns(){return Mn.lFrame.selectedIndex}function _a(a){Mn.lFrame.selectedIndex=a}function sr(){const a=Mn.lFrame;return nh(a.tView,a.selectedIndex)}function va(){Mn.lFrame.currentNamespace=th}function hs(){!function zn(){Mn.lFrame.currentNamespace=null}()}let Po=!0;function Zl(){return Po}function pc(a){Po=a}function Ua(a,c){for(let d=c.directiveStart,p=c.directiveEnd;d<p;d++){const b=a.data[d].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:O,ngAfterViewInit:k,ngAfterViewChecked:B,ngOnDestroy:Z}=b;I&&(a.contentHooks??=[]).push(-d,I),O&&((a.contentHooks??=[]).push(d,O),(a.contentCheckHooks??=[]).push(d,O)),k&&(a.viewHooks??=[]).push(-d,k),B&&((a.viewHooks??=[]).push(d,B),(a.viewCheckHooks??=[]).push(d,B)),null!=Z&&(a.destroyHooks??=[]).push(d,Z)}}function jr(a,c,d){cr(a,c,3,d)}function Hc(a,c,d,p){(3&a[En])===d&&cr(a,c,d,p)}function Nr(a,c){let d=a[En];(3&d)===c&&(d&=8191,d+=1,a[En]=d)}function cr(a,c,d,p){const b=p??-1,I=c.length-1;let O=0;for(let k=void 0!==p?65535&a[Uo]:0;k<I;k++)if("number"==typeof c[k+1]){if(O=c[k],null!=p&&O>=p)break}else c[k]<0&&(a[Uo]+=65536),(O<b||-1==b)&&(ip(a,d,c,k),a[Uo]=(4294901760&a[Uo])+k+2),k++}function tr(a,c){Is(4,a,c);const d=Kr(null);try{c.call(a)}finally{Kr(d),Is(5,a,c)}}function ip(a,c,d,p){const _=d[p]<0,b=d[p+1],O=a[_?-d[p]:d[p]];_?a[En]>>13<a[Uo]>>16&&(3&a[En])===c&&(a[En]+=8192,tr(O,b)):tr(O,b)}const Ss=-1;class ad{constructor(c,d,p){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=p}}function $c(a){return a!==Ss}function qc(a){return 32767&a}function _l(a,c){let d=function dd(a){return a>>16}(a),p=c;for(;d>0;)p=p[Cr],d--;return p}let Iu=!0;function fs(a){const c=Iu;return Iu=a,c}const Jh=255,hh=5;let Xh=0;const $o={};function Gs(a,c){const d=Tu(a,c);if(-1!==d)return d;const p=c[Et];p.firstCreatePass&&(a.injectorIndex=c.length,Yl(p.data,a),Yl(c,null),Yl(p.blueprint,null));const _=Kl(a,c),b=a.injectorIndex;if($c(_)){const I=qc(_),O=_l(_,c),k=O[Et].data;for(let B=0;B<8;B++)c[b+B]=O[I+B]|k[I+B]}return c[b+8]=_,b}function Yl(a,c){a.push(0,0,0,0,0,0,0,0,c)}function Tu(a,c){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===c[a.injectorIndex+8]?-1:a.injectorIndex}function Kl(a,c){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let d=0,p=null,_=c;for(;null!==_;){if(p=sp(_),null===p)return Ss;if(d++,_=_[Cr],-1!==p.injectorIndex)return p.injectorIndex|d<<16}return Ss}function Ql(a,c,d){!function hd(a,c,d){let p;"string"==typeof d?p=d.charCodeAt(0)||0:d.hasOwnProperty(Ur)&&(p=d[Ur]),null==p&&(p=d[Ur]=Xh++);const _=p&Jh;c.data[a+(_>>hh)]|=1<<_}(a,c,d)}function Jl(a,c,d){if(d&sn.Optional||void 0!==a)return a;Le()}function Xl(a,c,d,p){if(d&sn.Optional&&void 0===p&&(p=null),!(d&(sn.Self|sn.Host))){const _=a[la],b=zt(void 0);try{return _?_.get(c,p,d&sn.Optional):Ie(c,p,d&sn.Optional)}finally{zt(b)}}return Jl(p,0,d)}function Zs(a,c,d,p=sn.Default,_){if(null!==a){if(2048&c[En]&&!(p&sn.Self)){const I=function gd(a,c,d,p,_){let b=a,I=c;for(;null!==b&&null!==I&&2048&I[En]&&!(512&I[En]);){const O=Ps(b,I,d,p|sn.Self,$o);if(O!==$o)return O;let k=b.parent;if(!k){const B=I[ua];if(B){const Z=B.get(d,$o,p);if(Z!==$o)return Z}k=sp(I),I=I[Cr]}b=k}return _}(a,c,d,p,$o);if(I!==$o)return I}const b=Ps(a,c,d,p,$o);if(b!==$o)return b}return Xl(c,d,p,_)}function Ps(a,c,d,p,_){const b=function fh(a){if("string"==typeof a)return a.charCodeAt(0)||0;const c=a.hasOwnProperty(Ur)?a[Ur]:void 0;return"number"==typeof c?c>=0?c&Jh:mc:c}(d);if("function"==typeof b){if(!La(c,a,p))return p&sn.Host?Jl(_,0,p):Xl(c,d,p,_);try{let I;if(I=b(p),null!=I||p&sn.Optional)return I;Le()}finally{dc()}}else if("number"==typeof b){let I=null,O=Tu(a,c),k=Ss,B=p&sn.Host?c[xr][qn]:null;for((-1===O||p&sn.SkipSelf)&&(k=-1===O?Kl(a,c):c[O+8],k!==Ss&&vl(p,!1)?(I=c[Et],O=qc(k),c=_l(k,c)):O=-1);-1!==O;){const Z=c[Et];if(ph(b,O,Z.data)){const se=op(O,c,d,I,p,B);if(se!==$o)return se}k=c[O+8],k!==Ss&&vl(p,c[Et].data[O+8]===B)&&ph(b,O,c)?(I=Z,O=qc(k),c=_l(k,c)):O=-1}}return _}function op(a,c,d,p,_,b){const I=c[Et],O=I.data[a+8],Z=pd(O,I,d,null==p?Ar(O)&&Iu:p!=I&&0!=(3&O.type),_&sn.Host&&b===O);return null!==Z?Va(c,I,Z,O):$o}function pd(a,c,d,p,_){const b=a.providerIndexes,I=c.data,O=1048575&b,k=a.directiveStart,Z=b>>20,Me=_?O+Z:a.directiveEnd;for(let Be=p?O:O+Z;Be<Me;Be++){const ft=I[Be];if(Be<k&&d===ft||Be>=k&&ft.type===d)return Be}if(_){const Be=I[k];if(Be&&hi(Be)&&Be.type===d)return k}return null}function Va(a,c,d,p){let _=a[d];const b=c.data;if(function bm(a){return a instanceof ad}(_)){const I=_;I.resolving&&function he(a,c){const d=c?`. Dependency path: ${c.join(" > ")} > ${a}`:"";throw new xe(-200,`Circular dependency in DI detected for ${a}${d}`)}(function it(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():$e(a)}(b[d]));const O=fs(I.canSeeViewProviders);I.resolving=!0;const B=I.injectImpl?zt(I.injectImpl):null;La(a,p,sn.Default);try{_=a[d]=I.factory(void 0,b,a,p),c.firstCreatePass&&d>=p.directiveStart&&function li(a,c,d){const{ngOnChanges:p,ngOnInit:_,ngDoCheck:b}=c.type.prototype;if(p){const I=Hl(c);(d.preOrderHooks??=[]).push(a,I),(d.preOrderCheckHooks??=[]).push(a,I)}_&&(d.preOrderHooks??=[]).push(0-a,_),b&&((d.preOrderHooks??=[]).push(a,b),(d.preOrderCheckHooks??=[]).push(a,b))}(d,b[d],c)}finally{null!==B&&zt(B),fs(O),I.resolving=!1,dc()}}return _}function ph(a,c,d){return!!(d[c+(a>>hh)]&1<<a)}function vl(a,c){return!(a&sn.Self||a&sn.Host&&c)}class Ri{constructor(c,d){this._tNode=c,this._lView=d}get(c,d,p){return Zs(this._tNode,this._lView,c,Xn(p),d)}}function mc(){return new Ri(To(),pt())}function md(a){return Je(()=>{const c=a.prototype.constructor,d=c[er]||Oi(c),p=Object.prototype;let _=Object.getPrototypeOf(a.prototype).constructor;for(;_&&_!==p;){const b=_[er]||Oi(_);if(b&&b!==d)return b;_=Object.getPrototypeOf(_)}return b=>new b})}function Oi(a){return mt(a)?()=>{const c=Oi(st(a));return c&&c()}:js(a)}function sp(a){const c=a[Et],d=c.type;return 2===d?c.declTNode:1===d?a[qn]:null}function ps(a){return function fd(a,c){if("class"===c)return a.classes;if("style"===c)return a.styles;const d=a.attrs;if(d){const p=d.length;let _=0;for(;_<p;){const b=d[_];if(us(b))break;if(0===b)_+=2;else if("number"==typeof b)for(_++;_<p&&"string"==typeof d[_];)_++;else{if(b===c)return d[_+1];_+=2}}}return null}(To(),a)}const Ba="__parameters__";function H(a,c,d){return Je(()=>{const p=function F(a){return function(...d){if(a){const p=a(...d);for(const _ in p)this[_]=p[_]}}}(c);function _(...b){if(this instanceof _)return p.apply(this,b),this;const I=new _(...b);return O.annotation=I,O;function O(k,B,Z){const se=k.hasOwnProperty(Ba)?k[Ba]:Object.defineProperty(k,Ba,{value:[]})[Ba];for(;se.length<=Z;)se.push(null);return(se[Z]=se[Z]||[]).push(I),k}}return d&&(_.prototype=Object.create(d.prototype)),_.prototype.ngMetadataName=a,_.annotationCls=_,_})}function bl(a,c){a.forEach(d=>Array.isArray(d)?bl(d,c):c(d))}function a_(a,c,d){c>=a.length?a.push(d):a.splice(c,0,d)}function _d(a,c){return c>=a.length-1?a.pop():a.splice(c,1)[0]}function vd(a,c){const d=[];for(let p=0;p<a;p++)d.push(c);return d}function Ws(a,c,d){let p=eu(a,c);return p>=0?a[1|p]=d:(p=~p,function wm(a,c,d,p){let _=a.length;if(_==c)a.push(d,p);else if(1===_)a.push(p,a[0]),a[0]=d;else{for(_--,a.push(a[_-1],a[_]);_>c;)a[_]=a[_-2],_--;a[c]=d,a[c+1]=p}}(a,p,c,d)),p}function ap(a,c){const d=eu(a,c);if(d>=0)return a[1|d]}function eu(a,c){return function yd(a,c,d){let p=0,_=a.length>>d;for(;_!==p;){const b=p+(_-p>>1),I=a[b<<d];if(c===I)return b<<d;I>c?_=b:p=b+1}return~(_<<d)}(a,c,1)}const Xe=ai(H("Optional"),8),Nt=ai(H("SkipSelf"),4);function nu(a){return 128==(128&a.flags)}var bh=function(a){return a[a.Important=1]="Important",a[a.DashCase=2]="DashCase",a}(bh||{});const Mw=/^>|^->|<!--|-->|--!>|<!-$/g,ku=/(<|>)/g,Iw="\u200b$1\u200b";const Tm=new Map;let EI=0;function l(a){return Tm.get(a)||null}class g{get lView(){return l(this.lViewId)}constructor(c,d,p){this.lViewId=c,this.nodeIndex=d,this.native=p}}function y(a){let c=W(a);if(c){if(Wr(c)){const d=c;let p,_,b;if(ge(a)){if(p=function ht(a,c){const d=a[Et].components;if(d)for(let p=0;p<d.length;p++){const _=d[p];if(Ki(_,a)[Ii]===c)return _}else if(Ki(ei,a)[Ii]===c)return ei;return-1}(d,a),-1==p)throw new Error("The provided component was not found in the application");_=a}else if(function _e(a){return a&&a.constructor&&a.constructor.\u0275dir}(a)){if(p=function an(a,c){let d=a[Et].firstChild;for(;d;){const _=d.directiveEnd;for(let b=d.directiveStart;b<_;b++)if(a[b]===c)return d.index;d=et(d)}return-1}(d,a),-1==p)throw new Error("The provided directive was not found in the application");b=function Jt(a,c){const d=c[Et].data[a];if(0===d.directiveStart)return kt;const p=[];for(let _=d.directiveStart;_<d.directiveEnd;_++){const b=c[_];ge(b)||p.push(b)}return p}(p,d)}else if(p=Ae(d,a),-1==p)return null;const I=Ti(d[p]),O=W(I),k=O&&!Array.isArray(O)?O:E(d,p,I);if(_&&void 0===k.component&&(k.component=_,V(k.component,k)),b&&void 0===k.directives){k.directives=b;for(let B=0;B<b.length;B++)V(b[B],k)}V(k.native,k),c=k}}else{const d=a;let p=d;for(;p=p.parentNode;){const _=W(p);if(_){const b=Array.isArray(_)?_:_.lView;if(!b)return null;const I=Ae(b,d);if(I>=0){const O=Ti(b[I]),k=E(b,I,O);V(O,k),c=k;break}}}}return c||null}function E(a,c,d){return new g(a[Mr],c,d)}const R="__ngContext__";function V(a,c){Wr(c)?(a[R]=c[Mr],function f(a){Tm.set(a[Mr],a)}(c)):a[R]=c}function W(a){const c=a[R];return"number"==typeof c?l(c):c||null}function ge(a){return a&&a.constructor&&a.constructor.\u0275cmp}function Ae(a,c){const d=a[Et];for(let p=ei;p<d.bindingStartIndex;p++)if(Ti(a[p])===c)return p;return-1}function et(a){if(a.child)return a.child;if(a.next)return a.next;for(;a.parent&&!a.parent.next;)a=a.parent;return a.parent&&a.parent.next}let _i;function wi(a,c){return _i(a,c)}function Ks(a){const c=a[Mi];return Ir(c)?c[Mi]:c}function dp(a){return wh(a[qr])}function df(a){return wh(a[so])}function wh(a){for(;null!==a&&!Ir(a);)a=a[so];return a}function xd(a,c,d,p,_){if(null!=p){let b,I=!1;Ir(p)?b=p:Wr(p)&&(I=!0,p=p[ki]);const O=Ti(p);0===a&&null!==d?null==_?SI(c,d,O):hp(c,d,O,_||null,!0):1===a&&null!==d?hp(c,d,O,_||null,!0):2===a?function Hy(a,c,d){const p=g_(a,c);p&&function LD(a,c,d,p){a.removeChild(c,d,p)}(a,p,c,d)}(c,O,I):3===a&&c.destroyNode(O),null!=b&&function VD(a,c,d,p,_){const b=d[Dr];b!==Ti(d)&&xd(c,a,p,b,_);for(let O=Hi;O<d.length;O++){const k=d[O];Ch(k[Et],k,a,c,p,b)}}(c,a,b,d,_)}}function Qs(a,c){return a.createComment(function Ys(a){return a.replace(Mw,c=>c.replace(ku,Iw))}(c))}function _c(a,c,d){return a.createElement(c,d)}function FD(a,c){const d=a[Zr],p=d.indexOf(c);Zh(c),d.splice(p,1)}function Vy(a,c){if(a.length<=Hi)return;const d=Hi+c,p=a[d];if(p){const _=p[Cs];null!==_&&_!==a&&FD(_,p),c>0&&(a[d-1][so]=p[so]);const b=_d(a,Hi+c);!function Uy(a,c){Ch(a,c,c[on],2,null,null),c[ki]=null,c[qn]=null}(p[Et],p);const I=b[Er];null!==I&&I.detachView(b[Et]),p[Mi]=null,p[so]=null,p[En]&=-129}return p}function Sw(a,c){if(!(256&c[En])){const d=c[on];c[Vo]&&Ra(c[Vo]),c[Gr]&&Ra(c[Gr]),d.destroyNode&&Ch(a,c,d,3,null,null),function ND(a){let c=a[qr];if(!c)return By(a[Et],a);for(;c;){let d=null;if(Wr(c))d=c[qr];else{const p=c[Hi];p&&(d=p)}if(!d){for(;c&&!c[so]&&c!==a;)Wr(c)&&By(c[Et],c),c=c[Mi];null===c&&(c=a),Wr(c)&&By(c[Et],c),d=c&&c[so]}c=d}}(c)}}function By(a,c){if(!(256&c[En])){c[En]&=-129,c[En]|=256,function II(a,c){let d;if(null!=a&&null!=(d=a.destroyHooks))for(let p=0;p<d.length;p+=2){const _=c[d[p]];if(!(_ instanceof ad)){const b=d[p+1];if(Array.isArray(b))for(let I=0;I<b.length;I+=2){const O=_[b[I]],k=b[I+1];Is(4,O,k);try{k.call(O)}finally{Is(5,O,k)}}else{Is(4,_,b);try{b.call(_)}finally{Is(5,_,b)}}}}}(a,c),function Pw(a,c){const d=a.cleanup,p=c[Jo];if(null!==d)for(let b=0;b<d.length-1;b+=2)if("string"==typeof d[b]){const I=d[b+3];I>=0?p[I]():p[-I].unsubscribe(),b+=2}else d[b].call(p[d[b+1]]);null!==p&&(c[Jo]=null);const _=c[Pa];if(null!==_){c[Pa]=null;for(let b=0;b<_.length;b++)(0,_[b])()}}(a,c),1===c[Et].type&&c[on].destroy();const d=c[Cs];if(null!==d&&Ir(c[Mi])){d!==c[Mi]&&FD(d,c);const p=c[Er];null!==p&&p.detachView(a)}!function h(a){Tm.delete(a[Mr])}(c)}}function TI(a,c,d){return function OI(a,c,d){let p=c;for(;null!==p&&40&p.type;)p=(c=p).parent;if(null===p)return d[ki];{const{componentOffset:_}=p;if(_>-1){const{encapsulation:b}=a.data[p.directiveStart+_];if(b===_t.None||b===_t.Emulated)return null}return Ho(p,d)}}(a,c.parent,d)}function hp(a,c,d,p,_){a.insertBefore(c,d,p,_)}function SI(a,c,d){a.appendChild(c,d)}function PI(a,c,d,p,_){null!==p?hp(a,c,d,p,_):SI(a,c,d)}function g_(a,c){return a.parentNode(c)}function DI(a,c,d){return AI(a,c,d)}let __,$y,Rw,C_,AI=function Dw(a,c,d){return 40&a.type?Ho(a,d):null};function jy(a,c,d,p){const _=TI(a,p,c),b=c[on],O=DI(p.parent||c[qn],p,c);if(null!=_)if(Array.isArray(d))for(let k=0;k<d.length;k++)PI(b,_,d[k],O,!1);else PI(b,_,d,O,!1);void 0!==__&&__(b,p,c,d,_)}function v_(a,c){if(null!==c){const d=c.type;if(3&d)return Ho(c,a);if(4&d)return zy(-1,a[c.index]);if(8&d){const p=c.child;if(null!==p)return v_(a,p);{const _=a[c.index];return Ir(_)?zy(-1,_):Ti(_)}}if(32&d)return wi(c,a)()||Ti(a[c.index]);{const p=RI(a,c);return null!==p?Array.isArray(p)?p[0]:v_(Ks(a[xr]),p):v_(a,c.next)}}return null}function RI(a,c){return null!==c?a[xr][qn].projection[c.projection]:null}function zy(a,c){const d=Hi+a+1;if(d<c.length){const p=c[d],_=p[Et].firstChild;if(null!==_)return v_(p,_)}return c[Dr]}function y_(a,c,d,p,_,b,I){for(;null!=d;){const O=p[d.index],k=d.type;if(I&&0===c&&(O&&V(Ti(O),p),d.flags|=2),32!=(32&d.flags))if(8&k)y_(a,c,d.child,p,_,b,!1),xd(c,a,_,O,b);else if(32&k){const B=wi(d,p);let Z;for(;Z=B();)xd(c,a,_,Z,b);xd(c,a,_,O,b)}else 16&k?NI(a,c,p,d,_,b):xd(c,a,_,O,b);d=I?d.projectionNext:d.next}}function Ch(a,c,d,p,_,b){y_(d,p,a.firstChild,c,_,b,!1)}function NI(a,c,d,p,_,b){const I=d[xr],k=I[qn].projection[p.projection];if(Array.isArray(k))for(let B=0;B<k.length;B++)xd(c,a,_,k[B],b);else{let B=k;const Z=I[Mi];nu(p)&&(B.flags|=128),y_(a,c,B,Z,_,b,!0)}}function FI(a,c,d){""===d?a.removeAttribute(c,"class"):a.setAttribute(c,"class",d)}function b_(a,c,d){const{mergedAttrs:p,classes:_,styles:b}=d;null!==p&&vo(a,c,p),null!==_&&FI(a,c,_),null!==b&&function BD(a,c,d){a.setAttribute(c,"style",d)}(a,c,b)}function fp(a){return function qy(){if(void 0===$y&&($y=null,Ee.trustedTypes))try{$y=Ee.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return $y}()?.createHTML(a)||a}function UI(a){Rw=a}function Om(){if(void 0!==Rw)return Rw;if(typeof document<"u")return document;throw new xe(210,!1)}function Sm(){if(void 0===C_&&(C_=null,Ee.trustedTypes))try{C_=Ee.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return C_}function VI(a){return Sm()?.createHTML(a)||a}function Gy(a){return Sm()?.createScriptURL(a)||a}class pp{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${We})`}}class jI extends pp{getTypeName(){return"HTML"}}class zD extends pp{getTypeName(){return"Style"}}class HD extends pp{getTypeName(){return"Script"}}class $D extends pp{getTypeName(){return"URL"}}class qD extends pp{getTypeName(){return"ResourceURL"}}function Md(a){return a instanceof pp?a.changingThisBreaksApplicationSecurity:a}function xh(a,c){const d=function zI(a){return a instanceof pp&&a.getTypeName()||null}(a);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see ${We})`)}return d===c}function GD(a){return new jI(a)}function HI(a){return new zD(a)}function ZD(a){return new HD(a)}function WD(a){return new $D(a)}function YD(a){return new qD(a)}class KD{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString(fp(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch{return null}}}class QD{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const d=this.inertDocument.createElement("template");return d.innerHTML=fp(c),d}}const Nw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function x_(a){return(a=String(a)).match(Nw)?a:"unsafe:"+a}function Eh(a){const c={};for(const d of a.split(","))c[d]=!0;return c}function Zy(...a){const c={};for(const d of a)for(const p in d)d.hasOwnProperty(p)&&(c[p]=!0);return c}const JD=Eh("area,br,col,hr,img,wbr"),XD=Eh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Id=Eh("rp,rt"),GI=Zy(JD,Zy(XD,Eh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zy(Id,Eh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zy(Id,XD)),Lw=Eh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),WI=Zy(Lw,Eh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Eh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),eA=Eh("script,style,template");class tA{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,p=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?p=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,p&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let _=this.checkClobberedElement(d,d.nextSibling);if(_){d=_;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!GI.hasOwnProperty(d))return this.sanitizedSomething=!0,!eA.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const p=c.attributes;for(let _=0;_<p.length;_++){const b=p.item(_),I=b.name,O=I.toLowerCase();if(!WI.hasOwnProperty(O)){this.sanitizedSomething=!0;continue}let k=b.value;Lw[O]&&(k=x_(k)),this.buf.push(" ",I,'="',iA(k),'"')}return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();GI.hasOwnProperty(d)&&!JD.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(iA(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const nA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,AL=/([^\#-~ |!])/g;function iA(a){return a.replace(/&/g,"&amp;").replace(nA,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(AL,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Uw;function YI(a,c){let d=null;try{Uw=Uw||function $I(a){const c=new QD(a);return function qI(){try{return!!(new window.DOMParser).parseFromString(fp(""),"text/html")}catch{return!1}}()?new KD(c):c}(a);let p=c?String(c):"";d=Uw.getInertBodyElement(p);let _=5,b=p;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,p=b,b=d.innerHTML,d=Uw.getInertBodyElement(p)}while(p!==b);return fp((new tA).sanitizeChildren(KI(d)||d))}finally{if(d){const p=KI(d)||d;for(;p.firstChild;)p.removeChild(p.firstChild)}}}function KI(a){return"content"in a&&function kL(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Dm=function(a){return a[a.NONE=0]="NONE",a[a.HTML=1]="HTML",a[a.STYLE=2]="STYLE",a[a.SCRIPT=3]="SCRIPT",a[a.URL=4]="URL",a[a.RESOURCE_URL=5]="RESOURCE_URL",a}(Dm||{});function dt(a){const c=mp();return c?VI(c.sanitize(Dm.HTML,a)||""):xh(a,"HTML")?VI(Md(a)):YI(Om(),$e(a))}function ou(a){const c=mp();return c?c.sanitize(Dm.URL,a)||"":xh(a,"URL")?Md(a):x_($e(a))}function ie(a){const c=mp();if(c)return Gy(c.sanitize(Dm.RESOURCE_URL,a)||"");if(xh(a,"ResourceURL"))return Gy(Md(a));throw new xe(904,!1)}function Ao(a,c,d){return function rA(a,c){return"src"===c&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===c&&("base"===a||"link"===a)?ie:ou}(c,d)(a)}function mp(){const a=pt();return a&&a[Xo].sanitizer}class nr{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=fn({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const E_=new nr("ENVIRONMENT_INITIALIZER"),JI=new nr("INJECTOR",-1),jw=new nr("INJECTOR_DEF_TYPES");class zw{get(c,d=mi){if(d===mi){const p=new Error(`NullInjectorError: No provider for ${de(c)}!`);throw p.name="NullInjectorError",p}return d}}function oA(...a){return{\u0275providers:eT(0,a),\u0275fromNgModule:!0}}function eT(a,...c){const d=[],p=new Set;let _;const b=I=>{d.push(I)};return bl(c,I=>{const O=I;gp(O,b,[],p)&&(_||=[],_.push(O))}),void 0!==_&&Js(_,b),d}function Js(a,c){for(let d=0;d<a.length;d++){const{ngModule:p,providers:_}=a[d];M_(_,b=>{c(b,p)})}}function gp(a,c,d,p){if(!(a=st(a)))return!1;let _=null,b=Ci(a);const I=!b&&jn(a);if(b||I){if(I&&!I.standalone)return!1;_=a}else{const k=a.ngModule;if(b=Ci(k),!b)return!1;_=k}const O=p.has(_);if(I){if(O)return!1;if(p.add(_),I.dependencies){const k="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const B of k)gp(B,c,d,p)}}else{if(!b)return!1;{if(null!=b.imports&&!O){let B;p.add(_);try{bl(b.imports,Z=>{gp(Z,c,d,p)&&(B||=[],B.push(Z))})}finally{}void 0!==B&&Js(B,c)}if(!O){const B=js(_)||(()=>new _);c({provide:_,useFactory:B,deps:kt},_),c({provide:jw,useValue:_,multi:!0},_),c({provide:E_,useValue:()=>Ot(_),multi:!0},_)}const k=b.providers;if(null!=k&&!O){const B=a;M_(k,Z=>{c(Z,B)})}}}return _!==a&&void 0!==a.providers}function M_(a,c){for(let d of a)Re(d)&&(d=d.\u0275providers),Array.isArray(d)?M_(d,c):c(d)}const Wy=z({provide:String,useValue:z});function Am(a){return null!==a&&"object"==typeof a&&Wy in a}function _p(a){return"function"==typeof a}const Hw=new nr("Set Injector scope."),Ky={},I_={};let Qy;function vp(){return void 0===Qy&&(Qy=new zw),Qy}class Nu{}class Jy extends Nu{get destroyed(){return this._destroyed}constructor(c,d,p,_){super(),this.parent=d,this.source=p,this.scopes=_,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yp(c,I=>this.processProvider(I)),this.records.set(JI,hf(void 0,this)),_.has("environment")&&this.records.set(Nu,hf(void 0,this));const b=this.records.get(Hw);null!=b&&"string"==typeof b.value&&this.scopes.add(b.value),this.injectorDefTypes=new Set(this.get(jw.multi,kt,sn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const d of this._ngOnDestroyHooks)d.ngOnDestroy();const c=this._onDestroyHooks;this._onDestroyHooks=[];for(const d of c)d()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(c){return this.assertNotDestroyed(),this._onDestroyHooks.push(c),()=>this.removeOnDestroy(c)}runInContext(c){this.assertNotDestroyed();const d=Pe(this),p=zt(void 0);try{return c()}finally{Pe(d),zt(p)}}get(c,d=mi,p=sn.Default){if(this.assertNotDestroyed(),c.hasOwnProperty(_o))return c[_o](this);p=Xn(p);const b=Pe(this),I=zt(void 0);try{if(!(p&sn.SkipSelf)){let k=this.records.get(c);if(void 0===k){const B=function oT(a){return"function"==typeof a||"object"==typeof a&&a instanceof nr}(c)&&Ut(c);k=B&&this.injectableDefInScope(B)?hf($w(c),Ky):null,this.records.set(c,k)}if(null!=k)return this.hydrate(c,k)}return(p&sn.Self?vp():this.parent).get(c,d=p&sn.Optional&&d===mi?null:d)}catch(O){if("NullInjectorError"===O.name){if((O[_r]=O[_r]||[]).unshift(de(c)),b)throw O;return function vr(a,c,d,p){const _=a[_r];throw c[X]&&_.unshift(c[X]),a.message=function Yo(a,c,d,p=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let _=de(c);if(Array.isArray(c))_=c.map(de).join(" -> ");else if("object"==typeof c){let b=[];for(let I in c)if(c.hasOwnProperty(I)){let O=c[I];b.push(I+":"+("string"==typeof O?JSON.stringify(O):de(O)))}_=`{${b.join(", ")}}`}return`${d}${p?"("+p+")":""}[${_}]: ${a.replace(fe,"\n  ")}`}("\n"+a.message,_,d,p),a.ngTokenPath=_,a[_r]=null,a}(O,c,"R3InjectorError",this.source)}throw O}finally{zt(I),Pe(b)}}resolveInjectorInitializers(){const c=Pe(this),d=zt(void 0);try{const _=this.get(E_.multi,kt,sn.Self);for(const b of _)b()}finally{Pe(c),zt(d)}}toString(){const c=[],d=this.records;for(const p of d.keys())c.push(de(p));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(c){let d=_p(c=st(c))?c:st(c&&c.provide);const p=function aA(a){return Am(a)?hf(void 0,a.useValue):hf(qw(a),Ky)}(c);if(_p(c)||!0!==c.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=hf(void 0,Ky,!0),_.factory=()=>xn(_.multi),this.records.set(d,_)),d=c,_.multi.push(c)}this.records.set(d,p)}hydrate(c,d){return d.value===Ky&&(d.value=I_,d.value=d.factory()),"object"==typeof d.value&&d.value&&function Gw(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(c){if(!c.providedIn)return!1;const d=st(c.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}removeOnDestroy(c){const d=this._onDestroyHooks.indexOf(c);-1!==d&&this._onDestroyHooks.splice(d,1)}}function $w(a){const c=Ut(a),d=null!==c?c.factory:js(a);if(null!==d)return d;if(a instanceof nr)throw new xe(204,!1);if(a instanceof Function)return function sA(a){const c=a.length;if(c>0)throw vd(c,"?"),new xe(204,!1);const d=function Vn(a){return a&&(a[Di]||a[zi])||null}(a);return null!==d?()=>d.factory(a):()=>new a}(a);throw new xe(204,!1)}function qw(a,c,d){let p;if(_p(a)){const _=st(a);return js(_)||$w(_)}if(Am(a))p=()=>st(a.useValue);else if(function nT(a){return!(!a||!a.useFactory)}(a))p=()=>a.useFactory(...xn(a.deps||[]));else if(function Yy(a){return!(!a||!a.useExisting)}(a))p=()=>Ot(st(a.useExisting));else{const _=st(a&&(a.useClass||a.provide));if(!function rT(a){return!!a.deps}(a))return js(_)||$w(_);p=()=>new _(...xn(a.deps))}return p}function hf(a,c,d=!1){return{factory:a,value:c,multi:d?[]:void 0}}function yp(a,c){for(const d of a)Array.isArray(d)?yp(d,c):d&&Re(d)?yp(d.\u0275providers,c):c(d)}const sT=new nr("AppId",{providedIn:"root",factory:()=>Zw}),Zw="ng",Xy=new nr("Platform Initializer"),Ww=new nr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Yw=new nr("AnimationModuleType"),Kw=new nr("CSP nonce",{providedIn:"root",factory:()=>Om().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let cT=(a,c,d)=>null;function Xw(a,c,d=!1){return cT(a,c,d)}class fT{}class hA{}class nC{resolveComponentFactory(c){throw function fA(a){const c=Error(`No component factory found for ${de(a)}.`);return c.ngComponent=a,c}(c)}}let l0=(()=>{class a{static#e=this.NULL=new nC}return a})();function UL(){return Rm(To(),pt())}function Rm(a,c){return new Nm(Ho(a,c))}let Nm=(()=>{class a{constructor(d){this.nativeElement=d}static#e=this.__NG_ELEMENT_ID__=UL}return a})();function mA(a){return a instanceof Nm?a.nativeElement:a}class iC{}let rC=(()=>{class a{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function wp(){const a=pt(),d=Ki(To().index,a);return(Wr(d)?d:a)[on]}()}return a})(),VL=(()=>{class a{static#e=this.\u0275prov=fn({token:a,providedIn:"root",factory:()=>null})}return a})();class u0{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const gA=new u0("16.2.7"),oC={};function Cp(a,c=null,d=null,p){const _=gT(a,c,d,p);return _.resolveInjectorInitializers(),_}function gT(a,c=null,d=null,p,_=new Set){const b=[d||kt,oA(a)];return p=p||("object"==typeof a?void 0:de(a)),new Jy(b,c||vp(),p||null,_)}let su=(()=>{class a{static#e=this.THROW_IF_NOT_FOUND=mi;static#t=this.NULL=new zw;static create(d,p){if(Array.isArray(d))return Cp({name:""},p,d,"");{const _=d.name??"";return Cp({name:_},d.parent,d.providers,_)}}static#n=this.\u0275prov=fn({token:a,providedIn:"any",factory:()=>Ot(JI)});static#i=this.__NG_ELEMENT_ID__=-1}return a})();function xp(a){return a.ngOriginalError}class Td{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c);this._console.error("ERROR",c),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(c){let d=c&&xp(c);for(;d&&xp(d);)d=xp(d);return d||null}}function cC(a){return c=>{setTimeout(a,void 0,c)}}const Od=class bA extends o.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,p){let _=c,b=d||(()=>null),I=p;if(c&&"object"==typeof c){const k=c;_=k.next?.bind(k),b=k.error?.bind(k),I=k.complete?.bind(k)}this.__isAsync&&(b=cC(b),_&&(_=cC(_)),I&&(I=cC(I)));const O=super.subscribe({next:_,error:b,complete:I});return c instanceof U.w0&&c.add(O),O}};function vT(...a){}class Xs{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:p=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Od(!1),this.onMicrotaskEmpty=new Od(!1),this.onStable=new Od(!1),this.onError=new Od(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const _=this;_._nesting=0,_._outer=_._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(_._inner=_._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(_._inner=_._inner.fork(Zone.longStackTraceZoneSpec)),_.shouldCoalesceEventChangeDetection=!p&&d,_.shouldCoalesceRunChangeDetection=p,_.lastRequestAnimationFrameId=-1,_.nativeRequestAnimationFrame=function wA(){const a="function"==typeof Ee.requestAnimationFrame;let c=Ee[a?"requestAnimationFrame":"setTimeout"],d=Ee[a?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&c&&d){const p=c[Zone.__symbol__("OriginalDelegate")];p&&(c=p);const _=d[Zone.__symbol__("OriginalDelegate")];_&&(d=_)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function YL(a){const c=()=>{!function WL(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Ee,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,bT(a),a.isCheckStableRunning=!0,yT(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),bT(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,p,_,b,I,O)=>{if(function MA(a){return!(!Array.isArray(a)||1!==a.length)&&!0===a[0].data?.__ignore_ng_zone__}(O))return d.invokeTask(_,b,I,O);try{return CA(a),d.invokeTask(_,b,I,O)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||a.shouldCoalesceRunChangeDetection)&&c(),wT(a)}},onInvoke:(d,p,_,b,I,O,k)=>{try{return CA(a),d.invoke(_,b,I,O,k)}finally{a.shouldCoalesceRunChangeDetection&&c(),wT(a)}},onHasTask:(d,p,_,b)=>{d.hasTask(_,b),p===_&&("microTask"==b.change?(a._hasPendingMicrotasks=b.microTask,bT(a),yT(a)):"macroTask"==b.change&&(a.hasPendingMacrotasks=b.macroTask))},onHandleError:(d,p,_,b)=>(d.handleError(_,b),a.runOutsideAngular(()=>a.onError.emit(b)),!1)})}(_)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xs.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(Xs.isInAngularZone())throw new xe(909,!1)}run(c,d,p){return this._inner.run(c,d,p)}runTask(c,d,p,_){const b=this._inner,I=b.scheduleEventTask("NgZoneEvent: "+_,c,ZL,vT,vT);try{return b.runTask(I,d,p)}finally{b.cancelTask(I)}}runGuarded(c,d,p){return this._inner.runGuarded(c,d,p)}runOutsideAngular(c){return this._outer.run(c)}}const ZL={};function yT(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function bT(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function CA(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function wT(a){a._nesting--,yT(a)}class KL{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Od,this.onMicrotaskEmpty=new Od,this.onStable=new Od,this.onError=new Od}run(c,d,p){return c.apply(d,p)}runGuarded(c,d,p){return c.apply(d,p)}runOutsideAngular(c){return c()}runTask(c,d,p,_){return c.apply(d,p)}}const xA=new nr("",{providedIn:"root",factory:EA});function EA(){const a=Vt(Xs);let c=!0;const d=new Y.y(_=>{c=a.isStable&&!a.hasPendingMacrotasks&&!a.hasPendingMicrotasks,a.runOutsideAngular(()=>{_.next(c),_.complete()})}),p=new Y.y(_=>{let b;a.runOutsideAngular(()=>{b=a.onStable.subscribe(()=>{Xs.assertNotInAngularZone(),queueMicrotask(()=>{!c&&!a.hasPendingMacrotasks&&!a.hasPendingMicrotasks&&(c=!0,_.next(!0))})})});const I=a.onUnstable.subscribe(()=>{Xs.assertInAngularZone(),c&&(c=!1,a.runOutsideAngular(()=>{_.next(!1)}))});return()=>{b.unsubscribe(),I.unsubscribe()}});return(0,pe.T)(d,p.pipe((0,De.B)()))}function IA(a){return a.ownerDocument.defaultView}function TA(a){return a.ownerDocument}function mf(a){return a instanceof Function?a():a}let CT=(()=>{class a{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=fn({token:a,providedIn:"root",factory:()=>new a})}return a})();function d0(a){for(;a;){a[En]|=64;const c=Ks(a);if(ha(a)&&!c)return a;a=c}return null}const AA=new nr("",{providedIn:"root",factory:()=>!1});let uC=null;function FA(a,c){return a[c]??VA()}function LA(a,c){const d=VA();d.producerNode?.length&&(a[c]=uC,d.lView=a,uC=UA())}const oU={...Nc,consumerIsAlwaysLive:!0,consumerMarkedDirty:a=>{d0(a.lView)},lView:null};function UA(){return Object.create(oU)}function VA(){return uC??=UA(),uC}const si={};function BA(a){jA(ii(),pt(),ns()+a,!1)}function jA(a,c,d,p){if(!p)if(3==(3&c[En])){const b=a.preOrderCheckHooks;null!==b&&jr(c,b,d)}else{const b=a.preOrderHooks;null!==b&&Hc(c,b,0,d)}_a(d)}function Fm(a,c=sn.Default){const d=pt();return null===d?Ot(a,c):Zs(To(),d,st(a),c)}function zA(){throw new Error("invalid")}function dC(a,c,d,p,_,b,I,O,k,B,Z){const se=c.blueprint.slice();return se[ki]=_,se[En]=140|p,(null!==B||a&&2048&a[En])&&(se[En]|=2048),oh(se),se[Mi]=se[Cr]=a,se[Ii]=d,se[Xo]=I||a&&a[Xo],se[on]=O||a&&a[on],se[la]=k||a&&a[la]||null,se[qn]=b,se[Mr]=function Tw(){return EI++}(),se[Vi]=Z,se[ua]=B,se[xr]=2==c.type?a[xr]:se,se}function Lm(a,c,d,p,_){let b=a.data[c];if(null===b)b=function El(a,c,d,p,_){const b=od(),I=Qi(),k=a.data[c]=function GA(a,c,d,p,_,b){let I=c?c.injectorIndex:-1,O=0;return Ts()&&(O|=128),{type:d,index:p,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:O,providerIndexes:0,value:_,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?b:b&&b.parent,d,c,p,_);return null===a.firstChild&&(a.firstChild=k),null!==b&&(I?null==b.child&&null!==k.parent&&(b.child=k):null===b.next&&(b.next=k,k.prev=b)),k}(a,c,d,p,_),function Yh(){return Mn.lFrame.inI18n}()&&(b.flags|=32);else if(64&b.type){b.type=d,b.value=p,b.attrs=_;const I=function Oo(){const a=Mn.lFrame,c=a.currentTNode;return a.isParent?c:c.parent}();b.injectorIndex=null===I?-1:I.injectorIndex}return So(b,!0),b}function $t(a,c,d,p){if(0===d)return-1;const _=c.length;for(let b=0;b<d;b++)c.push(p),a.blueprint.push(p),a.data.push(null);return _}function h0(a,c,d,p,_){const b=FA(c,Vo),I=ns(),O=2&p;try{_a(-1),O&&c.length>ei&&jA(a,c,ei,!1),Is(O?2:0,_);const B=O?b:null,Z=ll(B);try{null!==B&&(B.dirty=!1),d(p,_)}finally{bi(B,Z)}}finally{O&&null===c[Vo]&&LA(c,Vo),_a(I),Is(O?3:1,_)}}function Wn(a,c,d){if(cl(c)){const p=Kr(null);try{const b=c.directiveEnd;for(let I=c.directiveStart;I<b;I++){const O=a.data[I];O.contentQueries&&O.contentQueries(1,d[I],I)}}finally{Kr(p)}}}function Um(a,c,d){Wi()&&(function IT(a,c,d,p){const _=d.directiveStart,b=d.directiveEnd;Ar(d)&&function _C(a,c,d){const p=Ho(c,a),_=xT(d);let I=16;d.signals?I=4096:d.onPush&&(I=64);const O=Mp(a,dC(a,_,null,I,p,c,null,a[Xo].rendererFactory.createRenderer(p,d),null,null,null));a[c.index]=O}(c,d,a.data[_+d.componentOffset]),a.firstCreatePass||Gs(d,c),V(p,c);const I=d.initialInputs;for(let O=_;O<b;O++){const k=a.data[O],B=Va(c,a,O,d);V(B,c),null!==I&&U_(0,O-_,B,k,0,I),hi(k)&&(Ki(d.index,c)[Ii]=Va(c,a,O,d))}}(a,c,d,Ho(d,c)),64==(64&d.flags)&&g0(a,c,d))}function Ep(a,c,d=Ho){const p=c.localNames;if(null!==p){let _=c.index+1;for(let b=0;b<p.length;b+=2){const I=p[b+1],O=-1===I?d(c,a):a[I];a[_++]=O}}}function xT(a){const c=a.tView;return null===c||c.incompleteFirstPass?a.tView=N_(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts,a.id):c}function N_(a,c,d,p,_,b,I,O,k,B,Z){const se=ei+p,Me=se+_,Be=function HA(a,c){const d=[];for(let p=0;p<c;p++)d.push(p<a?null:si);return d}(se,Me),ft="function"==typeof B?B():B;return Be[Et]={type:a,blueprint:Be,template:d,queries:null,viewQuery:O,declTNode:c,data:Be.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:Me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:k,consts:ft,incompleteFirstPass:!1,ssrId:Z}}let ba=a=>null;function hC(a,c,d,p){for(let _ in a)if(a.hasOwnProperty(_)){d=null===d?{}:d;const b=a[_];null===p?p0(d,c,_,b):p.hasOwnProperty(_)&&p0(d,c,p[_],b)}return d}function p0(a,c,d,p){a.hasOwnProperty(d)?a[d].push(c,p):a[d]=[c,p]}function Ml(a,c,d,p,_,b,I,O){const k=Ho(c,d);let Z,B=c.inputs;!O&&null!=B&&(Z=B[p])?(z_(a,d,Z,p,_),Ar(c)&&function F_(a,c){const d=Ki(c,a);16&d[En]||(d[En]|=64)}(d,c.index)):3&c.type&&(p=function Ha(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(p),_=null!=I?I(_,c.value||"",p):_,b.setProperty(k,p,_))}function L_(a,c,d,p){if(Wi()){const _=null===p?null:{"":-1},b=function WA(a,c){const d=a.directiveRegistry;let p=null,_=null;if(d)for(let b=0;b<d.length;b++){const I=d[b];if(nc(c,I.selectors,!1))if(p||(p=[]),hi(I))if(null!==I.findHostDirectiveDefs){const O=[];_=_||new Map,I.findHostDirectiveDefs(I,O,_),p.unshift(...O,I),_0(a,c,O.length)}else p.unshift(I),_0(a,c,0);else _=_||new Map,I.findHostDirectiveDefs?.(I,p,_),p.push(I)}return null===p?null:[p,_]}(a,d);let I,O;null===b?I=O=null:[I,O]=b,null!==I&&MT(a,c,d,I,_,O),_&&function fC(a,c,d){if(c){const p=a.localNames=[];for(let _=0;_<c.length;_+=2){const b=d[c[_+1]];if(null==b)throw new xe(-301,!1);p.push(c[_],b)}}}(d,p,_)}d.mergedAttrs=Ko(d.mergedAttrs,d.attrs)}function MT(a,c,d,p,_,b){for(let B=0;B<p.length;B++)Ql(Gs(d,c),a,p[B].type);!function mC(a,c,d){a.flags|=1,a.directiveStart=c,a.directiveEnd=c+d,a.providerIndexes=c}(d,a.data.length,p.length);for(let B=0;B<p.length;B++){const Z=p[B];Z.providersResolver&&Z.providersResolver(Z)}let I=!1,O=!1,k=$t(a,c,p.length,null);for(let B=0;B<p.length;B++){const Z=p[B];d.mergedAttrs=Ko(d.mergedAttrs,Z.hostAttrs),gC(a,d,c,k,Z),pC(k,Z,_),null!==Z.contentQueries&&(d.flags|=4),(null!==Z.hostBindings||null!==Z.hostAttrs||0!==Z.hostVars)&&(d.flags|=64);const se=Z.type.prototype;!I&&(se.ngOnChanges||se.ngOnInit||se.ngDoCheck)&&((a.preOrderHooks??=[]).push(d.index),I=!0),!O&&(se.ngOnChanges||se.ngDoCheck)&&((a.preOrderCheckHooks??=[]).push(d.index),O=!0),k++}!function ET(a,c,d){const _=c.directiveEnd,b=a.data,I=c.attrs,O=[];let k=null,B=null;for(let Z=c.directiveStart;Z<_;Z++){const se=b[Z],Me=d?d.get(se):null,ft=Me?Me.outputs:null;k=hC(se.inputs,Z,k,Me?Me.inputs:null),B=hC(se.outputs,Z,B,ft);const Tt=null===k||null===I||ci(c)?null:V_(k,Z,I);O.push(Tt)}null!==k&&(k.hasOwnProperty("class")&&(c.flags|=8),k.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=O,c.inputs=k,c.outputs=B}(a,d,b)}function g0(a,c,d){const p=d.directiveStart,_=d.directiveEnd,b=d.index,I=function ym(){return Mn.lFrame.currentDirectiveIndex}();try{_a(b);for(let O=p;O<_;O++){const k=a.data[O],B=c[O];Eu(O),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&TT(k,B)}}finally{_a(-1),Eu(I)}}function TT(a,c){null!==a.hostBindings&&a.hostBindings(1,c)}function _0(a,c,d){c.componentOffset=d,(a.components??=[]).push(c.index)}function pC(a,c,d){if(d){if(c.exportAs)for(let p=0;p<c.exportAs.length;p++)d[c.exportAs[p]]=a;hi(c)&&(d[""]=a)}}function gC(a,c,d,p,_){a.data[p]=_;const b=_.factory||(_.factory=js(_.type)),I=new ad(b,hi(_),Fm);a.blueprint[p]=I,d[p]=I,function ZA(a,c,d,p,_){const b=_.hostBindings;if(b){let I=a.hostBindingOpCodes;null===I&&(I=a.hostBindingOpCodes=[]);const O=~c.index;(function Vm(a){let c=a.length;for(;c>0;){const d=a[--c];if("number"==typeof d&&d<0)return d}return 0})(I)!=O&&I.push(O),I.push(d,p,b)}}(a,c,p,$t(a,d,_.hostVars,si),_)}function Fu(a,c,d,p,_,b){const I=Ho(a,c);!function vC(a,c,d,p,_,b,I){if(null==b)a.removeAttribute(c,_,d);else{const O=null==I?$e(b):I(b,p||"",_);a.setAttribute(c,_,O,d)}}(c[on],I,b,a.value,d,p,_)}function U_(a,c,d,p,_,b){const I=b[c];if(null!==I)for(let O=0;O<I.length;)OT(p,d,I[O++],I[O++],I[O++])}function OT(a,c,d,p,_){const b=Kr(null);try{const I=a.inputTransforms;null!==I&&I.hasOwnProperty(p)&&(_=I[p].call(c,_)),null!==a.setInput?a.setInput(c,_,d,p):c[p]=_}finally{Kr(b)}}function V_(a,c,d){let p=null,_=0;for(;_<d.length;){const b=d[_];if(0!==b)if(5!==b){if("number"==typeof b)break;if(a.hasOwnProperty(b)){null===p&&(p=[]);const I=a[b];for(let O=0;O<I.length;O+=2)if(I[O]===c){p.push(b,I[O+1],d[_+1]);break}}_+=2}else _+=2;else _+=4}return p}function ST(a,c,d,p){return[a,!0,!1,c,null,0,p,d,null,null,null]}function PT(a,c){const d=a.contentQueries;if(null!==d)for(let p=0;p<d.length;p+=2){const b=d[p+1];if(-1!==b){const I=a.data[b];ml(d[p]),I.contentQueries(2,c[b],b)}}}function Mp(a,c){return a[qr]?a[Ll][so]=c:a[qr]=c,a[Ll]=c,c}function B_(a,c,d){ml(0);const p=Kr(null);try{c(a,d)}finally{Kr(p)}}function yC(a){return a[Jo]||(a[Jo]=[])}function bC(a){return a.cleanup||(a.cleanup=[])}function j_(a,c){const d=a[la],p=d?d.get(Td,null):null;p&&p.handleError(c)}function z_(a,c,d,p,_){for(let b=0;b<d.length;){const I=d[b++],O=d[b++];OT(a.data[I],c[I],p,O,_)}}function Lu(a,c,d){const p=Fa(c,a);!function Ly(a,c,d){a.setValue(c,d)}(a[on],p,d)}function CC(a,c){const d=Ki(c,a),p=d[Et];!function xC(a,c){for(let d=c.length;d<a.blueprint.length;d++)c.push(a.blueprint[d])}(p,d);const _=d[ki];null!==_&&null===d[Vi]&&(d[Vi]=Xw(_,d[la])),v0(p,d,d[Ii])}function v0(a,c,d){ql(c);try{const p=a.viewQuery;null!==p&&B_(1,p,d);const _=a.template;null!==_&&h0(a,c,_,1,d),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&PT(a,c),a.staticViewQueries&&B_(2,a.viewQuery,d);const b=a.components;null!==b&&function DT(a,c){for(let d=0;d<c.length;d++)CC(a,c[d])}(c,b)}catch(p){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),p}finally{c[En]&=-5,hc()}}let AT=(()=>{class a{constructor(){this.all=new Set,this.queue=new Map}create(d,p,_){const b=typeof Zone>"u"?null:Zone.current,I=function Io(a,c,d){const p=Object.create(qh);d&&(p.consumerAllowSignalWrites=!0),p.fn=a,p.schedule=c;const _=I=>{p.cleanupFn=I};return p.ref={notify:()=>ma(p),run:()=>{if(p.dirty=!1,p.hasRun&&!zo(p))return;p.hasRun=!0;const I=ll(p);try{p.cleanupFn(),p.cleanupFn=td,p.fn(_)}finally{bi(p,I)}},cleanup:()=>p.cleanupFn()},p.ref}(d,B=>{this.all.has(B)&&this.queue.set(B,b)},_);let O;this.all.add(I),I.notify();const k=()=>{I.cleanup(),O?.(),this.all.delete(I),this.queue.delete(I)};return O=p?.onDestroy(k),{destroy:k}}flush(){if(0!==this.queue.size)for(const[d,p]of this.queue)this.queue.delete(d),p?p.run(()=>d.run()):d.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=fn({token:a,providedIn:"root",factory:()=>new a})}return a})();function H_(a,c,d){let p=d?a.styles:null,_=d?a.classes:null,b=0;if(null!==c)for(let I=0;I<c.length;I++){const O=c[I];"number"==typeof O?b=O:1==b?_=Ne(_,O):2==b&&(p=Ne(p,O+": "+c[++I]+";"))}d?a.styles=p:a.stylesWithoutHost=p,d?a.classes=_:a.classesWithoutHost=_}function Ip(a,c,d,p,_=!1){for(;null!==d;){const b=c[d.index];null!==b&&p.push(Ti(b)),Ir(b)&&EC(b,p);const I=d.type;if(8&I)Ip(a,c,d.child,p);else if(32&I){const O=wi(d,c);let k;for(;k=O();)p.push(k)}else if(16&I){const O=RI(c,d);if(Array.isArray(O))p.push(...O);else{const k=Ks(c[xr]);Ip(k[Et],k,O,p,!0)}}d=_?d.projectionNext:d.next}return p}function EC(a,c){for(let d=Hi;d<a.length;d++){const p=a[d],_=p[Et].firstChild;null!==_&&Ip(p[Et],p,_,c)}a[Dr]!==a[ki]&&c.push(a[Dr])}function y0(a,c,d,p=!0){const _=c[Xo],b=_.rendererFactory,I=_.afterRenderEventManager;b.begin?.(),I?.begin();try{b0(a,c,a.template,d)}catch(k){throw p&&j_(c,k),k}finally{b.end?.(),_.effectManager?.flush(),I?.end()}}function b0(a,c,d,p){const _=c[En];if(256!=(256&_)){c[Xo].effectManager?.flush(),ql(c);try{oh(c),function co(a){return Mn.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==d&&h0(a,c,d,2,p);const I=3==(3&_);if(I){const B=a.preOrderCheckHooks;null!==B&&jr(c,B,null)}else{const B=a.preOrderHooks;null!==B&&Hc(c,B,0,null),Nr(c,0)}if(function wa(a){for(let c=dp(a);null!==c;c=df(c)){if(!c[Da])continue;const d=c[Zr];for(let p=0;p<d.length;p++){Bc(d[p])}}}(c),As(c,2),null!==a.contentQueries&&PT(a,c),I){const B=a.contentCheckHooks;null!==B&&jr(c,B)}else{const B=a.contentHooks;null!==B&&Hc(c,B,1),Nr(c,1)}!function sU(a,c){const d=a.hostBindingOpCodes;if(null===d)return;const p=FA(c,Gr);try{for(let _=0;_<d.length;_++){const b=d[_];if(b<0)_a(~b);else{const I=b,O=d[++_],k=d[++_];sd(O,I),p.dirty=!1;const B=ll(p);try{k(2,c[I])}finally{bi(p,B)}}}}finally{null===c[Gr]&&LA(c,Gr),_a(-1)}}(a,c);const O=a.components;null!==O&&NT(c,O,0);const k=a.viewQuery;if(null!==k&&B_(2,k,p),I){const B=a.viewCheckHooks;null!==B&&jr(c,B)}else{const B=a.viewHooks;null!==B&&Hc(c,B,2),Nr(c,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),c[En]&=-73,Zh(c)}finally{hc()}}}function As(a,c){for(let d=dp(a);null!==d;d=df(d))for(let p=Hi;p<d.length;p++)C0(d[p],c)}function w0(a,c,d){C0(Ki(c,a),d)}function C0(a,c){if(!function rh(a){return 128==(128&a[En])}(a))return;const d=a[Et],p=a[En];if(80&p&&0===c||1024&p||2===c)b0(d,a,d.template,a[Ii]);else if(a[Bs]>0){As(a,1);const _=d.components;null!==_&&NT(a,_,1)}}function NT(a,c,d){for(let p=0;p<c.length;p++)w0(a,c[p],d)}class $_{get rootNodes(){const c=this._lView,d=c[Et];return Ip(d,c,d.firstChild,[])}constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ii]}set context(c){this._lView[Ii]=c}get destroyed(){return 256==(256&this._lView[En])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[Mi];if(Ir(c)){const d=c[8],p=d?d.indexOf(this):-1;p>-1&&(Vy(c,p),_d(d,p))}this._attachedToViewContainer=!1}Sw(this._lView[Et],this._lView)}onDestroy(c){!function lc(a,c){if(256==(256&a[En]))throw new xe(911,!1);null===a[Pa]&&(a[Pa]=[]),a[Pa].push(c)}(this._lView,c)}markForCheck(){d0(this._cdRefInjectingView||this._lView)}detach(){this._lView[En]&=-129}reattach(){this._lView[En]|=128}detectChanges(){y0(this._lView[Et],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function MI(a,c){Ch(a,c,c[on],2,null,null)}(this._lView[Et],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=c}}class YA extends $_{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;y0(c[Et],c,c[Ii],!1)}checkNoChanges(){}get context(){return null}}class IC extends l0{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=jn(c);return new Ih(d,this.ngModule)}}function FT(a){const c=[];for(let d in a)a.hasOwnProperty(d)&&c.push({propName:a[d],templateName:d});return c}class QA{constructor(c,d){this.injector=c,this.parentInjector=d}get(c,d,p){p=Xn(p);const _=this.injector.get(c,oC,p);return _!==oC||d===oC?_:this.parentInjector.get(c,d,p)}}class Ih extends hA{get inputs(){const c=this.componentDef,d=c.inputTransforms,p=FT(c.inputs);if(null!==d)for(const _ of p)d.hasOwnProperty(_.propName)&&(_.transform=d[_.propName]);return p}get outputs(){return FT(this.componentDef.outputs)}constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=function sl(a){return a.map(sa).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}create(c,d,p,_){let b=(_=_||this.ngModule)instanceof Nu?_:_?.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const I=b?new QA(c,b):c,O=I.get(iC,null);if(null===O)throw new xe(407,!1);const se={rendererFactory:O,sanitizer:I.get(VL,null),effectManager:I.get(AT,null),afterRenderEventManager:I.get(CT,null)},Me=O.createRenderer(null,this.componentDef),Be=this.componentDef.selectors[0][0]||"div",ft=p?function $A(a,c,d,p){const b=p.get(AA,!1)||d===_t.ShadowDom,I=a.selectRootElement(c,b);return function qA(a){ba(a)}(I),I}(Me,p,this.componentDef.encapsulation,I):_c(Me,Be,function KA(a){const c=a.toLowerCase();return"svg"===c?th:"math"===c?"math":null}(Be)),vn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let yt=null;null!==ft&&(yt=Xw(ft,I,!0));const Kn=N_(0,null,null,1,0,null,null,null,null,null,null),di=dC(null,Kn,null,vn,null,null,se,Me,I,null,yt);let mr,Za;ql(di);try{const Lh=this.componentDef;let Bf,LE=null;Lh.findHostDirectiveDefs?(Bf=[],LE=new Map,Lh.findHostDirectiveDefs(Lh,Bf,LE),Bf.push(Lh)):Bf=[Lh];const UE=function TC(a,c){const d=a[Et],p=ei;return a[p]=c,Lm(d,p,2,"#host",null)}(di,ft),VE=function LT(a,c,d,p,_,b,I){const O=_[Et];!function JA(a,c,d,p){for(const _ of a)c.mergedAttrs=Ko(c.mergedAttrs,_.hostAttrs);null!==c.mergedAttrs&&(H_(c,c.mergedAttrs,!0),null!==d&&b_(p,d,c))}(p,a,c,I);let k=null;null!==c&&(k=Xw(c,_[la]));const B=b.rendererFactory.createRenderer(c,d);let Z=16;d.signals?Z=4096:d.onPush&&(Z=64);const se=dC(_,xT(d),null,Z,_[a.index],a,b,B,null,null,k);return O.firstCreatePass&&_0(O,a,p.length-1),Mp(_,se),_[a.index]=se}(UE,ft,Lh,Bf,di,se,Me);Za=nh(Kn,ei),ft&&function OC(a,c,d,p){if(p)vo(a,d,["ng-version",gA.full]);else{const{attrs:_,classes:b}=function Fo(a){const c=[],d=[];let p=1,_=2;for(;p<a.length;){let b=a[p];if("string"==typeof b)2===_?""!==b&&c.push(b,a[++p]):8===_&&d.push(b);else{if(!$r(_))break;_=b}p++}return{attrs:c,classes:d}}(c.selectors[0]);_&&vo(a,d,_),b&&b.length>0&&FI(a,d,b.join(" "))}}(Me,Lh,ft,p),void 0!==d&&function SC(a,c,d){const p=a.projection=[];for(let _=0;_<c.length;_++){const b=d[_];p.push(null!=b?Array.from(b):null)}}(Za,this.ngContentSelectors,d),mr=function x0(a,c,d,p,_,b){const I=To(),O=_[Et],k=Ho(I,_);MT(O,_,I,d,null,p);for(let Z=0;Z<d.length;Z++)V(Va(_,O,I.directiveStart+Z,I),_);g0(O,_,I),k&&V(k,_);const B=Va(_,O,I.directiveStart+I.componentOffset,I);if(a[Ii]=_[Ii]=B,null!==b)for(const Z of b)Z(B,c);return Wn(O,I,a),B}(VE,Lh,Bf,LE,di,[UT]),v0(Kn,di,null)}finally{hc()}return new q_(this.componentType,mr,Rm(Za,di),di,Za)}}class q_ extends fT{constructor(c,d,p,_,b){super(),this.location=p,this._rootLView=_,this._tNode=b,this.previousInputValues=null,this.instance=d,this.hostView=this.changeDetectorRef=new YA(_),this.componentType=c}setInput(c,d){const p=this._tNode.inputs;let _;if(null!==p&&(_=p[c])){if(this.previousInputValues??=new Map,this.previousInputValues.has(c)&&Object.is(this.previousInputValues.get(c),d))return;const b=this._rootLView;z_(b[Et],b,_,c,d),this.previousInputValues.set(c,d),d0(Ki(this._tNode.index,b))}}get injector(){return new Ri(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function UT(){const a=To();Ua(pt()[Et],a)}function Tp(a){let c=function VT(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),d=!0;const p=[a];for(;c;){let _;if(hi(a))_=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new xe(903,!1);_=c.\u0275dir}if(_){if(d){p.push(_);const I=a;I.inputs=G_(a.inputs),I.inputTransforms=G_(a.inputTransforms),I.declaredInputs=G_(a.declaredInputs),I.outputs=G_(a.outputs);const O=_.hostBindings;O&&XA(a,O);const k=_.viewQuery,B=_.contentQueries;if(k&&jT(a,k),B&&E0(a,B),G(a.inputs,_.inputs),G(a.declaredInputs,_.declaredInputs),G(a.outputs,_.outputs),null!==_.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),G(I.inputTransforms,_.inputTransforms)),hi(_)&&_.data.animation){const Z=a.data;Z.animation=(Z.animation||[]).concat(_.data.animation)}}const b=_.features;if(b)for(let I=0;I<b.length;I++){const O=b[I];O&&O.ngInherit&&O(a),O===Tp&&(d=!1)}}c=Object.getPrototypeOf(c)}!function BT(a){let c=0,d=null;for(let p=a.length-1;p>=0;p--){const _=a[p];_.hostVars=c+=_.hostVars,_.hostAttrs=Ko(_.hostAttrs,d=Ko(d,_.hostAttrs))}}(p)}function G_(a){return a===Wt?{}:a===kt?[]:a}function jT(a,c){const d=a.viewQuery;a.viewQuery=d?(p,_)=>{c(p,_),d(p,_)}:c}function E0(a,c){const d=a.contentQueries;a.contentQueries=d?(p,_,b)=>{c(p,_,b),d(p,_,b)}:c}function XA(a,c){const d=a.hostBindings;a.hostBindings=d?(p,_)=>{c(p,_),d(p,_)}:c}function DC(a){const c=a.inputConfig,d={};for(const p in c)if(c.hasOwnProperty(p)){const _=c[p];Array.isArray(_)&&_[2]&&(d[p]=_[2])}a.inputTransforms=d}function Z_(a){return!!T0(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function T0(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Uu(a,c,d){return a[c]=d}function zm(a,c){return a[c]}function gs(a,c,d){return!Object.is(a[c],d)&&(a[c]=d,!0)}function Th(a,c,d,p){const _=gs(a,c,d);return gs(a,c+1,p)||_}function Hm(a,c,d,p,_){const b=Th(a,c,d,p);return gs(a,c+2,_)||b}function $m(a,c,d,p){const _=pt();return gs(_,Jr(),c)&&(ii(),Fu(sr(),_,a,c,d,p)),$m}function Op(a,c,d,p){return gs(a,Jr(),d)?c+$e(d)+p:si}function JT(a,c,d,p,_,b,I,O){const k=pt(),B=ii(),Z=a+ei,se=B.firstCreatePass?function ak(a,c,d,p,_,b,I,O,k){const B=c.consts,Z=Lm(c,a,4,I||null,pl(B,O));L_(c,d,Z,pl(B,k)),Ua(c,Z);const se=Z.tView=N_(2,Z,p,_,b,c.directiveRegistry,c.pipeRegistry,null,c.schemas,B,null);return null!==c.queries&&(c.queries.template(c,Z),se.queries=c.queries.embeddedTView(Z)),Z}(Z,B,k,c,d,p,_,b,I):B.data[Z];So(se,!1);const Me=XT(B,k,se,a);Zl()&&jy(B,k,Me,se),V(Me,k),Mp(k,k[Z]=ST(Me,k,Me,se)),Yr(se)&&Um(B,k,se),null!=I&&Ep(k,se,O)}let XT=function tv(a,c,d,p){return pc(!0),c[on].createComment("")};function jC(a){return fl(function np(){return Mn.lFrame.contextLView}(),ei+a)}function Ap(a,c,d){const p=pt();return gs(p,Jr(),c)&&Ml(ii(),sr(),p,a,c,p[on],d,!1),Ap}function kp(a,c,d,p,_){const I=_?"class":"style";z_(a,d,c.inputs[I],I,p)}function no(a,c,d,p){const _=pt(),b=ii(),I=ei+a,O=_[on],k=b.firstCreatePass?function ck(a,c,d,p,_,b){const I=c.consts,k=Lm(c,a,2,p,pl(I,_));return L_(c,d,k,pl(I,b)),null!==k.attrs&&H_(k,k.attrs,!1),null!==k.mergedAttrs&&H_(k,k.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,k),k}(I,b,_,c,d,p):b.data[I],B=e1(b,_,k,O,c,a);_[I]=B;const Z=Yr(k);return So(k,!0),b_(O,B,k),32!=(32&k.flags)&&Zl()&&jy(b,_,B,k),0===function rd(){return Mn.lFrame.elementDepthCount}()&&V(B,_),function Br(){Mn.lFrame.elementDepthCount++}(),Z&&(Um(b,_,k),Wn(b,k,_)),null!==p&&Ep(_,k),no}function iv(){let a=To();Qi()?ao():(a=a.parent,So(a,!1));const c=a;(function zc(a){return Mn.skipHydrationRootTNode===a})(c)&&function uc(){Mn.skipHydrationRootTNode=null}(),function Wh(){Mn.lFrame.elementDepthCount--}();const d=ii();return d.firstCreatePass&&(Ua(d,a),cl(a)&&d.queries.elementEnd(a)),null!=c.classesWithoutHost&&function ud(a){return 0!=(8&a.flags)}(c)&&kp(d,c,pt(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Wl(a){return 0!=(16&a.flags)}(c)&&kp(d,c,pt(),c.stylesWithoutHost,!1),iv}function zC(a,c,d,p){return no(a,c,d,p),iv(),zC}let e1=(a,c,d,p,_,b)=>(pc(!0),_c(p,_,function ar(){return Mn.lFrame.currentNamespace}()));function rv(a,c,d){const p=pt(),_=ii(),b=a+ei,I=_.firstCreatePass?function n1(a,c,d,p,_){const b=c.consts,I=pl(b,p),O=Lm(c,a,8,"ng-container",I);return null!==I&&H_(O,I,!0),L_(c,d,O,pl(b,_)),null!==c.queries&&c.queries.elementStart(c,O),O}(b,_,p,c,d):_.data[b];So(I,!0);const O=Vu(_,p,I,a);return p[b]=O,Zl()&&jy(_,p,O,I),V(O,p),Yr(I)&&(Um(_,p,I),Wn(_,I,p)),null!=d&&Ep(p,I),rv}function Rp(){let a=To();const c=ii();return Qi()?ao():(a=a.parent,So(a,!1)),c.firstCreatePass&&(Ua(c,a),cl(a)&&c.queries.elementEnd(a)),Rp}function N0(a,c,d){return rv(a,c,d),Rp(),N0}let Vu=(a,c,d,p)=>(pc(!0),Qs(c[on],""));function HC(){return pt()}function ov(a){return!!a&&"function"==typeof a.then}function Xm(a){return!!a&&"function"==typeof a.subscribe}function F0(a,c,d,p){const _=pt(),b=ii(),I=To();return function $C(a,c,d,p,_,b,I){const O=Yr(p),B=a.firstCreatePass&&bC(a),Z=c[Ii],se=yC(c);let Me=!0;if(3&p.type||I){const Tt=Ho(p,c),Zt=I?I(Tt):Tt,vn=se.length,yt=I?di=>I(Ti(di[p.index])):p.index;let Kn=null;if(!I&&O&&(Kn=function U0(a,c,d,p){const _=a.cleanup;if(null!=_)for(let b=0;b<_.length-1;b+=2){const I=_[b];if(I===d&&_[b+1]===p){const O=c[Jo],k=_[b+2];return O.length>k?O[k]:null}"string"==typeof I&&(b+=2)}return null}(a,c,_,p.index)),null!==Kn)(Kn.__ngLastListenerFn__||Kn).__ngNextListenerFn__=b,Kn.__ngLastListenerFn__=b,Me=!1;else{b=o1(p,c,Z,b,!1);const di=d.listen(Zt,_,b);se.push(b,di),B&&B.push(_,yt,vn,vn+1)}}else b=o1(p,c,Z,b,!1);const Be=p.outputs;let ft;if(Me&&null!==Be&&(ft=Be[_])){const Tt=ft.length;if(Tt)for(let Zt=0;Zt<Tt;Zt+=2){const mr=c[ft[Zt]][ft[Zt+1]].subscribe(b),Za=se.length;se.push(b,mr),B&&B.push(_,p.index,Za,-(Za+1))}}}(b,_,_[on],I,a,c,p),F0}function sv(a,c,d,p){try{return Is(6,c,d),!1!==d(p)}catch(_){return j_(a,_),!1}finally{Is(7,c,d)}}function o1(a,c,d,p,_){return function b(I){if(I===Function)return p;d0(a.componentOffset>-1?Ki(a.index,c):c);let k=sv(c,d,p,I),B=b.__ngNextListenerFn__;for(;B;)k=sv(c,d,B,I)&&k,B=B.__ngNextListenerFn__;return _&&!1===k&&I.preventDefault(),k}}function qC(a=1){return function fc(a){return(Mn.lFrame.contextLView=function Gl(a,c){for(;a>0;)c=c[Cr],a--;return c}(a,Mn.lFrame.contextLView))[Ii]}(a)}function av(a,c){let d=null;const p=function Xu(a){const c=a.attrs;if(null!=c){const d=c.indexOf(5);if(!(1&d))return c[d+1]}return null}(a);for(let _=0;_<c.length;_++){const b=c[_];if("*"!==b){if(null===p?nc(a,b,!0):Mc(p,b))return _}else d=_}return d}function GC(a){const c=pt()[xr][qn];if(!c.projection){const p=c.projection=vd(a?a.length:1,null),_=p.slice();let b=c.child;for(;null!==b;){const I=a?av(b,a):0;null!==I&&(_[I]?_[I].projectionNext=b:p[I]=b,_[I]=b),b=b.next}}}function ZC(a,c=0,d){const p=pt(),_=ii(),b=Lm(_,ei+a,16,null,d||null);null===b.projection&&(b.projection=c),ao(),(!p[Vi]||Ts())&&32!=(32&b.flags)&&function Aw(a,c,d){NI(c[on],0,c,d,TI(a,d,c),DI(d.parent||c[qn],d,c))}(_,p,b)}function cv(a,c,d){return lv(a,"",c,"",d),cv}function lv(a,c,d,p,_){const b=pt(),I=Op(b,c,d,p);return I!==si&&Ml(ii(),sr(),b,a,I,b[on],_,!1),lv}function dv(a,c){return a<<17|c<<2}function Bu(a){return a>>17&32767}function V0(a){return 2|a}function au(a){return(131068&a)>>2}function ex(a,c){return-131069&a|c<<2}function hv(a){return 1|a}function nx(a,c,d,p,_){const b=a[d+1],I=null===c;let O=p?Bu(b):au(b),k=!1;for(;0!==O&&(!1===k||I);){const Z=a[O+1];ix(a[O],c)&&(k=!0,a[O+1]=p?hv(Z):V0(Z)),O=p?Bu(Z):au(Z)}k&&(a[d+1]=p?V0(b):hv(b))}function ix(a,c){return null===a||null==c||(Array.isArray(a)?a[1]:a)===c||!(!Array.isArray(a)||"string"!=typeof c)&&eu(a,c)>=0}const uo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function B0(a){return a.substring(uo.key,uo.keyEnd)}function Tl(a,c){const d=uo.textEnd;return d===c?-1:(c=uo.keyEnd=function j0(a,c,d){for(;c<d&&a.charCodeAt(c)>32;)c++;return c}(a,uo.key=c,d),Dd(a,c,d))}function Dd(a,c,d){for(;c<d&&a.charCodeAt(c)<=32;)c++;return c}function rx(a,c,d){return Hu(a,c,d,!1),rx}function ox(a,c){return Hu(a,c,null,!0),ox}function mv(a){!function $a(a,c,d,p){const _=ii(),b=Xr(2);_.firstUpdatePass&&ks(_,null,b,p);const I=pt();if(d!==si&&gs(I,b,d)){const O=_.data[ns()];if(_s(O,p)&&!sx(_,b)){let k=p?O.classesWithoutHost:O.stylesWithoutHost;null!==k&&(d=Ne(k,d||"")),kp(_,O,I,d,p)}else!function wn(a,c,d,p,_,b,I,O){_===si&&(_=kt);let k=0,B=0,Z=0<_.length?_[0]:null,se=0<b.length?b[0]:null;for(;null!==Z||null!==se;){const Me=k<_.length?_[k+1]:void 0,Be=B<b.length?b[B+1]:void 0;let Tt,ft=null;Z===se?(k+=2,B+=2,Me!==Be&&(ft=se,Tt=Be)):null===se||null!==Z&&Z<se?(k+=2,ft=Z):(B+=2,ft=se,Tt=Be),null!==ft&&d1(a,c,d,p,ft,Tt,I,O),Z=k<_.length?_[k]:null,se=B<b.length?b[B]:null}}(_,O,I,I[on],I[b+1],I[b+1]=function cu(a,c,d){if(null==d||""===d)return kt;const p=[],_=Md(d);if(Array.isArray(_))for(let b=0;b<_.length;b++)a(p,_[b],!0);else if("object"==typeof _)for(const b in _)_.hasOwnProperty(b)&&a(p,b,_[b]);else"string"==typeof _&&c(p,_);return p}(a,c,d),p,b)}}(ln,Ad,a,!0)}function Ad(a,c){for(let d=function Ph(a){return function pv(a){uo.key=0,uo.keyEnd=0,uo.value=0,uo.valueEnd=0,uo.textEnd=a.length}(a),Tl(a,Dd(a,0,uo.textEnd))}(c);d>=0;d=Tl(c,d))Ws(a,B0(c),!0)}function Hu(a,c,d,p){const _=pt(),b=ii(),I=Xr(2);b.firstUpdatePass&&ks(b,a,I,p),c!==si&&gs(_,I,c)&&d1(b,b.data[ns()],_,_[on],a,_[I+1]=function vt(a,c){return null==a||""===a||("string"==typeof c?a+=c:"object"==typeof a&&(a=de(Md(a)))),a}(c,d),p,I)}function sx(a,c){return c>=a.expandoStartIndex}function ks(a,c,d,p){const _=a.data;if(null===_[d+1]){const b=_[ns()],I=sx(a,d);_s(b,p)&&null===c&&!I&&(c=!1),c=function eg(a,c,d,p){const _=function $l(a){const c=Mn.lFrame.currentDirectiveIndex;return-1===c?null:a[c]}(a);let b=p?c.residualClasses:c.residualStyles;if(null===_)0===(p?c.classBindings:c.styleBindings)&&(d=io(d=It(null,a,c,d,p),c.attrs,p),b=null);else{const I=c.directiveStylingLast;if(-1===I||a[I]!==_)if(d=It(_,a,c,d,p),null===b){let k=function xf(a,c,d){const p=d?c.classBindings:c.styleBindings;if(0!==au(p))return a[Bu(p)]}(a,c,p);void 0!==k&&Array.isArray(k)&&(k=It(null,a,c,k[1],p),k=io(k,c.attrs,p),function ax(a,c,d,p){a[Bu(d?c.classBindings:c.styleBindings)]=p}(a,c,p,k))}else b=function fk(a,c,d){let p;const _=c.directiveEnd;for(let b=1+c.directiveStylingLast;b<_;b++)p=io(p,a[b].hostAttrs,d);return io(p,c.attrs,d)}(a,c,p)}return void 0!==b&&(p?c.residualClasses=b:c.residualStyles=b),d}(_,b,c,p),function tx(a,c,d,p,_,b){let I=b?c.classBindings:c.styleBindings,O=Bu(I),k=au(I);a[p]=d;let Z,B=!1;if(Array.isArray(d)?(Z=d[1],(null===Z||eu(d,Z)>0)&&(B=!0)):Z=d,_)if(0!==k){const Me=Bu(a[O+1]);a[p+1]=dv(Me,O),0!==Me&&(a[Me+1]=ex(a[Me+1],p)),a[O+1]=function s1(a,c){return 131071&a|c<<17}(a[O+1],p)}else a[p+1]=dv(O,0),0!==O&&(a[O+1]=ex(a[O+1],p)),O=p;else a[p+1]=dv(k,0),0===O?O=p:a[k+1]=ex(a[k+1],p),k=p;B&&(a[p+1]=V0(a[p+1])),nx(a,Z,p,!0),nx(a,Z,p,!1),function Pd(a,c,d,p,_){const b=_?a.residualClasses:a.residualStyles;null!=b&&"string"==typeof c&&eu(b,c)>=0&&(d[p+1]=hv(d[p+1]))}(c,Z,a,p,b),I=dv(O,k),b?c.classBindings=I:c.styleBindings=I}(_,b,c,d,I,p)}}function It(a,c,d,p,_){let b=null;const I=d.directiveEnd;let O=d.directiveStylingLast;for(-1===O?O=d.directiveStart:O++;O<I&&(b=c[O],p=io(p,b.hostAttrs,_),b!==a);)O++;return null!==a&&(d.directiveStylingLast=O),p}function io(a,c,d){const p=d?1:2;let _=-1;if(null!==c)for(let b=0;b<c.length;b++){const I=c[b];"number"==typeof I?_=I:_===p&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Ws(a,I,!!d||c[++b]))}return void 0===a?null:a}function ln(a,c,d){const p=String(c);""!==p&&!p.includes(" ")&&Ws(a,p,d)}function d1(a,c,d,p,_,b,I,O){if(!(3&c.type))return;const k=a.data,B=k[O+1],Z=function ju(a){return 1==(1&a)}(B)?Gt(k,c,d,_,au(B),I):void 0;tt(Z)||(tt(b)||function Il(a){return 2==(2&a)}(B)&&(b=Gt(k,null,d,_,O,I)),function kw(a,c,d,p,_){if(c)_?a.addClass(d,p):a.removeClass(d,p);else{let b=-1===p.indexOf("-")?void 0:bh.DashCase;null==_?a.removeStyle(d,p,b):("string"==typeof _&&_.endsWith("!important")&&(_=_.slice(0,-10),b|=bh.Important),a.setStyle(d,p,_,b))}}(p,I,Fa(ns(),d),_,b))}function Gt(a,c,d,p,_,b){const I=null===c;let O;for(;_>0;){const k=a[_],B=Array.isArray(k),Z=B?k[1]:k,se=null===Z;let Me=d[_+1];Me===si&&(Me=se?kt:void 0);let Be=se?ap(Me,p):Z===p?Me:void 0;if(B&&!tt(Be)&&(Be=ap(k,p)),tt(Be)&&(O=Be,I))return O;const ft=a[_+1];_=I?Bu(ft):au(ft)}if(null!==c){let k=b?c.residualClasses:c.residualStyles;null!=k&&(O=ap(k,p))}return O}function tt(a){return void 0!==a}function _s(a,c){return 0!=(a.flags&(c?8:16))}function cx(a,c=""){const d=pt(),p=ii(),_=a+ei,b=p.firstCreatePass?Lm(p,_,1,c,null):p.data[_],I=h1(p,d,b,c,a);d[_]=I,Zl()&&jy(p,d,I,b),So(b,!1)}let h1=(a,c,d,p,_)=>(pc(!0),function Ed(a,c){return a.createText(c)}(c[on],p));function lx(a){return H0("",a,""),lx}function H0(a,c,d){const p=pt(),_=Op(p,a,c,d);return _!==si&&Lu(p,ns(),_),H0}function $0(a,c,d,p,_){const b=pt(),I=function qm(a,c,d,p,_,b){const O=Th(a,hr(),d,_);return Xr(2),O?c+$e(d)+p+$e(_)+b:si}(b,a,c,d,p,_);return I!==si&&Lu(b,ns(),I),$0}function ux(a,c,d,p,_,b,I){const O=pt(),k=function vf(a,c,d,p,_,b,I,O){const B=Hm(a,hr(),d,_,I);return Xr(3),B?c+$e(d)+p+$e(_)+b+$e(I)+O:si}(O,a,c,d,p,_,b,I);return k!==si&&Lu(O,ns(),k),ux}function kd(a,c,d){const p=pt();return gs(p,Jr(),c)&&Ml(ii(),sr(),p,a,c,p[on],d,!0),kd}const Sl=void 0;var _x=["en",[["a","p"],["AM","PM"],Sl],[["AM","PM"],Sl,Sl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sl,"{1} 'at' {0}",Sl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function v1(a){const d=Math.floor(Math.abs(a)),p=a.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===p?1:5}];let ng={};function vc(a){const c=function y1(a){return a.toLowerCase().replace(/_/g,"-")}(a);let d=vx(c);if(d)return d;const p=c.split("-")[0];if(d=vx(p),d)return d;if("en"===p)return _x;throw new xe(701,!1)}function ig(a){return vc(a)[rg.PluralCase]}function vx(a){return a in ng||(ng[a]=Ee.ng&&Ee.ng.common&&Ee.ng.common.locales&&Ee.ng.common.locales[a]),ng[a]}var rg=function(a){return a[a.LocaleId=0]="LocaleId",a[a.DayPeriodsFormat=1]="DayPeriodsFormat",a[a.DayPeriodsStandalone=2]="DayPeriodsStandalone",a[a.DaysFormat=3]="DaysFormat",a[a.DaysStandalone=4]="DaysStandalone",a[a.MonthsFormat=5]="MonthsFormat",a[a.MonthsStandalone=6]="MonthsStandalone",a[a.Eras=7]="Eras",a[a.FirstDayOfWeek=8]="FirstDayOfWeek",a[a.WeekendRange=9]="WeekendRange",a[a.DateFormat=10]="DateFormat",a[a.TimeFormat=11]="TimeFormat",a[a.DateTimeFormat=12]="DateTimeFormat",a[a.NumberSymbols=13]="NumberSymbols",a[a.NumberFormats=14]="NumberFormats",a[a.CurrencyCode=15]="CurrencyCode",a[a.CurrencySymbol=16]="CurrencySymbol",a[a.CurrencyName=17]="CurrencyName",a[a.Currencies=18]="Currencies",a[a.Directionality=19]="Directionality",a[a.PluralCase=20]="PluralCase",a[a.ExtraData=21]="ExtraData",a}(rg||{});const Ah="en-US";let C1=Ah;function Ax(a,c,d,p,_){if(a=st(a),Array.isArray(a))for(let b=0;b<a.length;b++)Ax(a[b],c,d,p,_);else{const b=ii(),I=pt(),O=To();let k=_p(a)?a:st(a.provide);const B=qw(a),Z=1048575&O.providerIndexes,se=O.directiveStart,Me=O.providerIndexes>>20;if(_p(a)||!a.multi){const Be=new ad(B,_,Fm),ft=kx(k,c,_?Z:Z+Me,se);-1===ft?(Ql(Gs(O,I),b,k),ib(b,a,c.length),c.push(k),O.directiveStart++,O.directiveEnd++,_&&(O.providerIndexes+=1048576),d.push(Be),I.push(Be)):(d[ft]=Be,I[ft]=Be)}else{const Be=kx(k,c,Z+Me,se),ft=kx(k,c,Z,Z+Me),Zt=ft>=0&&d[ft];if(_&&!Zt||!_&&!(Be>=0&&d[Be])){Ql(Gs(O,I),b,k);const vn=function Ev(a,c,d,p,_){const b=new ad(a,d,Fm);return b.multi=[],b.index=c,b.componentProviders=0,j1(b,_,p&&!d),b}(_?Rx:Ak,d.length,_,p,B);!_&&Zt&&(d[ft].providerFactory=vn),ib(b,a,c.length,0),c.push(k),O.directiveStart++,O.directiveEnd++,_&&(O.providerIndexes+=1048576),d.push(vn),I.push(vn)}else ib(b,a,Be>-1?Be:ft,j1(d[_?ft:Be],B,!_&&p));!_&&p&&Zt&&d[ft].componentProviders++}}}function ib(a,c,d,p){const _=_p(c),b=function iT(a){return!!a.useClass}(c);if(_||b){const k=(b?st(c.useClass):c).prototype.ngOnDestroy;if(k){const B=a.destroyHooks||(a.destroyHooks=[]);if(!_&&c.multi){const Z=B.indexOf(d);-1===Z?B.push(d,[p,k]):B[Z+1].push(p,k)}else B.push(d,k)}}}function j1(a,c,d){return d&&a.componentProviders++,a.multi.push(c)-1}function kx(a,c,d,p){for(let _=d;_<p;_++)if(c[_]===a)return _;return-1}function Ak(a,c,d,p){return Rh(this.multi,[])}function Rx(a,c,d,p){const _=this.multi;let b;if(this.providerFactory){const I=this.providerFactory.componentProviders,O=Va(d,d[Et],this.providerFactory.index,p);b=O.slice(0,I),Rh(_,b);for(let k=I;k<O.length;k++)b.push(O[k])}else b=[],Rh(_,b);return b}function Rh(a,c){for(let d=0;d<a.length;d++)c.push((0,a[d])());return c}function Mv(a,c=[]){return d=>{d.providersResolver=(p,_)=>function B1(a,c,d){const p=ii();if(p.firstCreatePass){const _=hi(a);Ax(d,p.data,p.blueprint,_,!0),Ax(c,p.data,p.blueprint,_,!1)}}(p,_?_(a):a,c)}}class Ld{}class Nx{}function z1(a,c){return new rb(a,c??null,[])}class rb extends Ld{constructor(c,d,p){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new IC(this);const _=wr(c);this._bootstrapComponents=mf(_.bootstrap),this._r3Injector=gT(c,d,[{provide:Ld,useValue:this},{provide:l0,useValue:this.componentFactoryResolver},...p],de(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Tf extends Nx{constructor(c){super(),this.moduleType=c}create(c){return new rb(this.moduleType,c,[])}}class ob extends Ld{constructor(c){super(),this.componentFactoryResolver=new IC(this),this.instance=null;const d=new Jy([...c.providers,{provide:Ld,useValue:this},{provide:l0,useValue:this.componentFactoryResolver}],c.parent||vp(),c.debugName,new Set(["environment"]));this.injector=d,c.runEnvironmentInitializers&&d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function Iv(a,c,d=null){return new ob({providers:a,parent:c,debugName:d,runEnvironmentInitializers:!0}).injector}let Fx=(()=>{class a{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d)){const p=eT(0,d.type),_=p.length>0?Iv([p],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d,_)}return this.cachedInjectors.get(d)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=fn({token:a,providedIn:"environment",factory:()=>new a(Ot(Nu))})}return a})();function Of(a){a.getStandaloneInjector=c=>c.get(Fx).getOrCreateStandaloneInjector(a)}function Vx(a,c,d){const p=Ji()+a,_=pt();return _[p]===si?Uu(_,p,d?c.call(d):c()):zm(_,p)}function dg(a,c,d,p){return nO(pt(),Ji(),a,c,d,p)}function K1(a,c,d,p,_){return iO(pt(),Ji(),a,c,d,p,_)}function Q1(a,c,d,p,_,b){return function jx(a,c,d,p,_,b,I,O){const k=c+d;return Hm(a,k,_,b,I)?Uu(a,k+3,O?p.call(O,_,b,I):p(_,b,I)):Pf(a,k+3)}(pt(),Ji(),a,c,d,p,_,b)}function J1(a,c,d,p,_,b,I,O){const k=Ji()+a,B=pt(),Z=function Qc(a,c,d,p,_,b){const I=Th(a,c,d,p);return Th(a,c+2,_,b)||I}(B,k,d,p,_,b);return gs(B,k+4,I)||Z?Uu(B,k+5,O?c.call(O,d,p,_,b,I):c(d,p,_,b,I)):zm(B,k+5)}function Pf(a,c){const d=a[c];return d===si?void 0:d}function nO(a,c,d,p,_,b){const I=c+d;return gs(a,I,_)?Uu(a,I+1,b?p.call(b,_):p(_)):Pf(a,I+1)}function iO(a,c,d,p,_,b,I){const O=c+d;return Th(a,O,_,b)?Uu(a,O+2,I?p.call(I,_,b):p(_,b)):Pf(a,O+2)}function zx(a,c){const d=ii();let p;const _=a+ei;d.firstCreatePass?(p=function $p(a,c){if(c)for(let d=c.length-1;d>=0;d--){const p=c[d];if(a===p.name)return p}}(c,d.pipeRegistry),d.data[_]=p,p.onDestroy&&(d.destroyHooks??=[]).push(_,p.onDestroy)):p=d.data[_];const b=p.factory||(p.factory=js(p.type)),O=zt(Fm);try{const k=fs(!1),B=b();return fs(k),function BC(a,c,d,p){d>=a.data.length&&(a.data[d]=null,a.blueprint[d]=null),c[d]=p}(d,pt(),_,B),B}finally{zt(O)}}function Hx(a,c,d){const p=a+ei,_=pt(),b=fl(_,p);return Or(_,p)?nO(_,Ji(),c,b.transform,d,b):b.transform(d)}function $x(a,c,d,p){const _=a+ei,b=pt(),I=fl(b,_);return Or(b,_)?iO(b,Ji(),c,I.transform,d,p,I):I.transform(d,p)}function Or(a,c){return a[Et].data[c].pure}function cb(){return this._results[Symbol.iterator]()}class qp{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Od)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=qp.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=cb)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const p=this;p.dirty=!1;const _=function Fr(a){return a.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function za(a,c,d){if(a.length!==c.length)return!1;for(let p=0;p<a.length;p++){let _=a[p],b=c[p];if(d&&(_=d(_),b=d(b)),b!==_)return!1}return!0}(p._results,_,d))&&(p._results=_,p.length=_.length,p.last=_[this.length-1],p.first=_[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Dv(a,c,d,p=!0){const _=c[Et];if(function SL(a,c,d,p){const _=Hi+p,b=d.length;p>0&&(d[_-1][so]=c),p<b-Hi?(c[so]=d[_],a_(d,Hi+p,c)):(d.push(c),c[so]=null),c[Mi]=d;const I=c[Cs];null!==I&&d!==I&&function Ow(a,c){const d=a[Zr];c[xr]!==c[Mi][Mi][xr]&&(a[Da]=!0),null===d?a[Zr]=[c]:d.push(c)}(I,c);const O=c[Er];null!==O&&O.insertView(a),c[En]|=128}(_,c,a,d),p){const b=zy(d,a),I=c[on],O=g_(I,a[Dr]);null!==O&&function RD(a,c,d,p,_,b){p[ki]=_,p[qn]=c,Ch(a,p,d,1,_,b)}(_,a[qn],I,c,O,b)}}let hg=(()=>{class a{static#e=this.__NG_ELEMENT_ID__=oO}return a})();const fg=hg,Nh=class extends fg{constructor(c,d,p){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=p}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(c,d){return this.createEmbeddedViewImpl(c,d)}createEmbeddedViewImpl(c,d,p){const _=function rO(a,c,d,p){const _=c.tView,O=dC(a,_,d,4096&a[En]?4096:16,null,c,null,null,null,p?.injector??null,p?.hydrationInfo??null);O[Cs]=a[c.index];const B=a[Er];return null!==B&&(O[Er]=B.createEmbeddedView(_)),v0(_,O,d),O}(this._declarationLView,this._declarationTContainer,c,{injector:d,hydrationInfo:p});return new $_(_)}};function oO(){return Av(To(),pt())}function Av(a,c){return 4&a.type?new Nh(c,a,Rm(a,c)):null}let kv=(()=>{class a{static#e=this.__NG_ELEMENT_ID__=aO}return a})();function aO(){return Qx(To(),pt())}const Wx=kv,Rv=class extends Wx{constructor(c,d,p){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=p}get element(){return Rm(this._hostTNode,this._hostLView)}get injector(){return new Ri(this._hostTNode,this._hostLView)}get parentInjector(){const c=Kl(this._hostTNode,this._hostLView);if($c(c)){const d=_l(c,this._hostLView),p=qc(c);return new Ri(d[Et].data[p+8],d)}return new Ri(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=Yx(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-Hi}createEmbeddedView(c,d,p){let _,b;"number"==typeof p?_=p:null!=p&&(_=p.index,b=p.injector);const O=c.createEmbeddedViewImpl(d||{},b,null);return this.insertImpl(O,_,false),O}createComponent(c,d,p,_,b){const I=c&&!function ja(a){return"function"==typeof a}(c);let O;if(I)O=d;else{const Tt=d||{};O=Tt.index,p=Tt.injector,_=Tt.projectableNodes,b=Tt.environmentInjector||Tt.ngModuleRef}const k=I?c:new Ih(jn(c)),B=p||this.parentInjector;if(!b&&null==k.ngModule){const Zt=(I?B:this.parentInjector).get(Nu,null);Zt&&(b=Zt)}jn(k.componentType??{});const Be=k.create(B,_,null,b);return this.insertImpl(Be.hostView,O,false),Be}insert(c,d){return this.insertImpl(c,d,!1)}insertImpl(c,d,p){const _=c._lView;if(function qs(a){return Ir(a[Mi])}(_)){const k=this.indexOf(c);if(-1!==k)this.detach(k);else{const B=_[Mi],Z=new Rv(B,B[qn],B[Mi]);Z.detach(Z.indexOf(c))}}const I=this._adjustIndex(d),O=this._lContainer;return Dv(O,_,I,!p),c.attachToViewContainerRef(),a_(Kx(O),I,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=Yx(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),p=Vy(this._lContainer,d);p&&(_d(Kx(this._lContainer),d),Sw(p[Et],p))}detach(c){const d=this._adjustIndex(c,-1),p=Vy(this._lContainer,d);return p&&null!=_d(Kx(this._lContainer),d)?new $_(p):null}_adjustIndex(c,d=0){return c??this.length+d}};function Yx(a){return a[8]}function Kx(a){return a[8]||(a[8]=[])}function Qx(a,c){let d;const p=c[a.index];return Ir(p)?d=p:(d=ST(p,c,null,a),c[a.index]=d,Mp(c,d)),ub(d,c,a,p),new Rv(d,a,c)}let ub=function gg(a,c,d,p){if(a[Dr])return;let _;_=8&d.type?Ti(p):function cO(a,c){const d=a[on],p=d.createComment(""),_=Ho(c,a);return hp(d,g_(d,_),p,function UD(a,c){return a.nextSibling(c)}(d,_),!1),p}(c,d),a[Dr]=_};class _g{constructor(c){this.queryList=c,this.matches=null}clone(){return new _g(this.queryList)}setDirty(){this.queryList.setDirty()}}class db{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const p=null!==c.contentQueries?c.contentQueries[0]:d.length,_=[];for(let b=0;b<p;b++){const I=d.getByIndex(b);_.push(this.queries[I.indexInDeclarationView].clone())}return new db(_)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==qu(c,d).matches&&this.queries[d].setDirty()}}class Jx{constructor(c,d,p=null){this.predicate=c,this.flags=d,this.read=p}}class hb{constructor(c=[]){this.queries=c}elementStart(c,d){for(let p=0;p<this.queries.length;p++)this.queries[p].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let p=0;p<this.length;p++){const _=null!==d?d.length:0,b=this.getByIndex(p).embeddedTView(c,_);b&&(b.indexInDeclarationView=p,null!==d?d.push(b):d=[b])}return null!==d?new hb(d):null}template(c,d){for(let p=0;p<this.queries.length;p++)this.queries[p].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Xx{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new Xx(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let p=c.parent;for(;null!==p&&8&p.type&&p.index!==d;)p=p.parent;return d===(null!==p?p.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const p=this.metadata.predicate;if(Array.isArray(p))for(let _=0;_<p.length;_++){const b=p[_];this.matchTNodeWithReadOption(c,d,lO(d,b)),this.matchTNodeWithReadOption(c,d,pd(d,c,b,!1,!1))}else p===hg?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,pd(d,c,p,!1,!1))}matchTNodeWithReadOption(c,d,p){if(null!==p){const _=this.metadata.read;if(null!==_)if(_===Nm||_===kv||_===hg&&4&d.type)this.addMatch(d.index,-2);else{const b=pd(d,c,_,!1,!1);null!==b&&this.addMatch(d.index,b)}else this.addMatch(d.index,p)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function lO(a,c){const d=a.localNames;if(null!==d)for(let p=0;p<d.length;p+=2)if(d[p]===c)return d[p+1];return null}function Lk(a,c,d,p){return-1===d?function uO(a,c){return 11&a.type?Rm(a,c):4&a.type?Av(a,c):null}(c,a):-2===d?function Uk(a,c,d){return d===Nm?Rm(c,a):d===hg?Av(c,a):d===kv?Qx(c,a):void 0}(a,c,p):Va(a,a[Et],d,c)}function dO(a,c,d,p){const _=c[Er].queries[p];if(null===_.matches){const b=a.data,I=d.matches,O=[];for(let k=0;k<I.length;k+=2){const B=I[k];O.push(B<0?null:Lk(c,b[B],I[k+1],d.metadata.read))}_.matches=O}return _.matches}function eE(a,c,d,p){const _=a.queries.getByIndex(d),b=_.matches;if(null!==b){const I=dO(a,c,_,d);for(let O=0;O<b.length;O+=2){const k=b[O];if(k>0)p.push(I[O/2]);else{const B=b[O+1],Z=c[-k];for(let se=Hi;se<Z.length;se++){const Me=Z[se];Me[Cs]===Me[Mi]&&eE(Me[Et],Me,B,p)}if(null!==Z[Zr]){const se=Z[Zr];for(let Me=0;Me<se.length;Me++){const Be=se[Me];eE(Be[Et],Be,B,p)}}}}}return p}function fb(a){const c=pt(),d=ii(),p=ch();ml(p+1);const _=qu(d,p);if(a.dirty&&function ih(a){return 4==(4&a[En])}(c)===(2==(2&_.metadata.flags))){if(null===_.matches)a.reset([]);else{const b=_.crossesNgTemplate?eE(d,c,p,[]):dO(d,c,_,p);a.reset(b,mA),a.notifyOnChanges()}return!0}return!1}function Gp(a,c,d){const p=ii();p.firstCreatePass&&(nE(p,new Jx(a,c,d),-1),2==(2&c)&&(p.staticViewQueries=!0)),pb(p,pt(),c)}function tE(a,c,d,p){const _=ii();if(_.firstCreatePass){const b=To();nE(_,new Jx(c,d,p),b.index),function Lv(a,c){const d=a.contentQueries||(a.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(a.queries.length-1,c)}(_,a),2==(2&d)&&(_.staticContentQueries=!0)}pb(_,pt(),d)}function hO(){return function os(a,c){return a[Er].queries[c].queryList}(pt(),ch())}function pb(a,c,d){const p=new qp(4==(4&d));(function gf(a,c,d,p){const _=yC(c);_.push(d),a.firstCreatePass&&bC(a).push(p,_.length-1)})(a,c,p,p.destroy),null===c[Er]&&(c[Er]=new db),c[Er].queries.push(new _g(p))}function nE(a,c,d){null===a.queries&&(a.queries=new hb),a.queries.track(new Xx(c,d))}function qu(a,c){return a.queries.getByIndex(c)}function mb(a,c){return Av(a,c)}function Zp(a){return!!wr(a)}const Bv=new nr("Application Initializer");let lE=(()=>{class a{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p}),this.appInits=Vt(Bv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const d=[];for(const _ of this.appInits){const b=_();if(ov(b))d.push(b);else if(Xm(b)){const I=new Promise((O,k)=>{b.subscribe({complete:O,error:k})});d.push(I)}}const p=()=>{this.done=!0,this.resolve()};Promise.all(d).then(()=>{p()}).catch(_=>{this.reject(_)}),0===d.length&&p(),this.initialized=!0}static#e=this.\u0275fac=function(p){return new(p||a)};static#t=this.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),uE=(()=>{class a{log(d){console.log(d)}warn(d){console.warn(d)}static#e=this.\u0275fac=function(p){return new(p||a)};static#t=this.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"platform"})}return a})();const Qp=new nr("LocaleId",{providedIn:"root",factory:()=>Vt(Qp,sn.Optional|sn.SkipSelf)||function jv(){return typeof $localize<"u"&&$localize.locale||Ah}()}),zv=new nr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let dE=(()=>{class a{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ce.X(!1)}add(){this.hasPendingTasks.next(!0);const d=this.taskId++;return this.pendingTasks.add(d),d}remove(d){this.pendingTasks.delete(d),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(p){return new(p||a)};static#t=this.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();class _b{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}let vb=(()=>{class a{compileModuleSync(d){return new Tf(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const p=this.compileModuleSync(d),b=mf(wr(d).declarations).reduce((I,O)=>{const k=jn(O);return k&&I.push(new Ih(k)),I},[]);return new _b(p,b)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}static#e=this.\u0275fac=function(p){return new(p||a)};static#t=this.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const wb=new nr(""),Fs=new nr("");let fE,aR=(()=>{class a{constructor(d,p,_){this._ngZone=d,this.registry=p,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,fE||(function cR(a){fE=a}(_),_.addToWindow(p)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(p=>!p.updateCb||!p.updateCb(d)||(clearTimeout(p.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,p,_){let b=-1;p&&p>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==b),d(this._didWork,this.getPendingTasks())},p)),this._callbacks.push({doneCb:d,timeoutId:b,updateCb:_})}whenStable(d,p,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,p,_),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,p,_){return[]}static#e=this.\u0275fac=function(p){return new(p||a)(Ot(Xs),Ot(qO),Ot(Fs))};static#t=this.\u0275prov=fn({token:a,factory:a.\u0275fac})}return a})(),qO=(()=>{class a{constructor(){this._applications=new Map}registerApplication(d,p){this._applications.set(d,p)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,p=!0){return fE?.findTestabilityInTree(this,d,p)??null}static#e=this.\u0275fac=function(p){return new(p||a)};static#t=this.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"platform"})}return a})(),jd=null;const GO=new nr("AllowMultipleToken"),xg=new nr("PlatformDestroyListeners"),Eg=new nr("appBootstrapListener");class Hv{constructor(c,d){this.name=c,this.token=d}}function ZO(a,c,d=[]){const p=`Platform: ${c}`,_=new nr(p);return(b=[])=>{let I=_E();if(!I||I.injector.get(GO,!1)){const O=[...d,...b,{provide:_,useValue:!0}];a?a(O):function xb(a){if(jd&&!jd.get(GO,!1))throw new xe(400,!1);(function Cb(){!function Ke(a){ee=a}(()=>{throw new xe(600,!1)})})(),jd=a;const c=a.get(vE);(function Eb(a){a.get(Xy,null)?.forEach(d=>d())})(a)}(function gE(a=[],c){return su.create({name:c,providers:[{provide:Hw,useValue:"platform"},{provide:xg,useValue:new Set([()=>jd=null])},...a]})}(O,p))}return function WO(a){const c=_E();if(!c)throw new xe(401,!1);return c}()}}function _E(){return jd?.get(vE)??null}let vE=(()=>{class a{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,p){const _=function QO(a="zone.js",c){return"noop"===a?new KL:"zone.js"===a?new Xs(c):a}(p?.ngZone,function KO(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:a?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:a?.runCoalescing??!1}}({eventCoalescing:p?.ngZoneEventCoalescing,runCoalescing:p?.ngZoneRunCoalescing}));return _.run(()=>{const b=function H1(a,c,d){return new rb(a,c,d)}(d.moduleType,this.injector,function Mb(a){return[{provide:Xs,useFactory:a},{provide:E_,multi:!0,useFactory:()=>{const c=Vt(eS,{optional:!0});return()=>c.initialize()}},{provide:yE,useFactory:XO},{provide:xA,useFactory:EA}]}(()=>_)),I=b.injector.get(Td,null);return _.runOutsideAngular(()=>{const O=_.onError.subscribe({next:k=>{I.handleError(k)}});b.onDestroy(()=>{Mg(this._modules,b),O.unsubscribe()})}),function JO(a,c,d){try{const p=d();return ov(p)?p.catch(_=>{throw c.runOutsideAngular(()=>a.handleError(_)),_}):p}catch(p){throw c.runOutsideAngular(()=>a.handleError(p)),p}}(I,_,()=>{const O=b.injector.get(lE);return O.runInitializers(),O.donePromise.then(()=>(function x1(a){St(a,"Expected localeId to be defined"),"string"==typeof a&&(C1=a.toLowerCase().replace(/_/g,"-"))}(b.injector.get(Qp,Ah)||Ah),this._moduleDoBootstrap(b),b))})})}bootstrapModule(d,p=[]){const _=em({},p);return function lR(a,c,d){const p=new Tf(d);return Promise.resolve(p)}(0,0,d).then(b=>this.bootstrapModuleFactory(b,_))}_moduleDoBootstrap(d){const p=d.injector.get(Zu);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(_=>p.bootstrap(_));else{if(!d.instance.ngDoBootstrap)throw new xe(-403,!1);d.instance.ngDoBootstrap(p)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(p=>p.destroy()),this._destroyListeners.forEach(p=>p());const d=this._injector.get(xg,null);d&&(d.forEach(p=>p()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(p){return new(p||a)(Ot(su))};static#t=this.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"platform"})}return a})();function em(a,c){return Array.isArray(c)?c.reduce(em,a):{...a,...c}}let Zu=(()=>{class a{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Vt(yE),this.zoneIsStable=Vt(xA),this.componentTypes=[],this.components=[],this.isStable=Vt(dE).hasPendingTasks.pipe((0,ut.w)(d=>d?(0,ke.of)(!1):this.zoneIsStable),(0,Ve.x)(),(0,De.B)()),this._injector=Vt(Nu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,p){const _=d instanceof hA;if(!this._injector.get(lE).done)throw!_&&Sa(d),new xe(405,!1);let I;I=_?d:this._injector.get(l0).resolveComponentFactory(d),this.componentTypes.push(I.componentType);const O=function pE(a){return a.isBoundToModule}(I)?void 0:this._injector.get(Ld),B=I.create(su.NULL,[],p||I.selector,O),Z=B.location.nativeElement,se=B.injector.get(wb,null);return se?.registerApplication(Z),B.onDestroy(()=>{this.detachView(B.hostView),Mg(this.components,B),se?.unregisterApplication(Z)}),this._loadComponent(B),B}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1}}attachView(d){const p=d;this._views.push(p),p.attachToAppRef(this)}detachView(d){const p=d;Mg(this._views,p),p.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const p=this._injector.get(Eg,[]);p.push(...this._bootstrapListeners),p.forEach(_=>_(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Mg(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new xe(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(p){return new(p||a)};static#t=this.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function Mg(a,c){const d=a.indexOf(c);d>-1&&a.splice(d,1)}const yE=new nr("",{providedIn:"root",factory:()=>Vt(Td).handleError.bind(void 0)});function XO(){const a=Vt(Xs),c=Vt(Td);return d=>a.runOutsideAngular(()=>c.handleError(d))}let eS=(()=>{class a{constructor(){this.zone=Vt(Xs),this.applicationRef=Vt(Zu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(p){return new(p||a)};static#t=this.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function bE(){return!1}let Gv=(()=>{class a{static#e=this.__NG_ELEMENT_ID__=Ib}return a})();function Ib(a){return function wE(a,c,d){if(Ar(a)&&!d){const p=Ki(a.index,c);return new $_(p,p)}return 47&a.type?new $_(c[xr],c):null}(To(),pt(),16==(16&a))}class oS{constructor(){}supports(c){return Z_(c)}create(c){return new Zv(c)}}const yR=(a,c)=>c;class Zv{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||yR}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,p=this._removalsHead,_=0,b=null;for(;d||p;){const I=!p||d&&d.currentIndex<Wv(p,_,b)?d:p,O=Wv(I,_,b),k=I.currentIndex;if(I===p)_--,p=p._nextRemoved;else if(d=d._next,null==I.previousIndex)_++;else{b||(b=[]);const B=O-_,Z=k-_;if(B!=Z){for(let Me=0;Me<B;Me++){const Be=Me<b.length?b[Me]:b[Me]=0,ft=Be+Me;Z<=ft&&ft<B&&(b[Me]=Be+1)}b[I.previousIndex]=Z-B}}O!==k&&c(I,O,k)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!Z_(c))throw new xe(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let _,b,I,d=this._itHead,p=!1;if(Array.isArray(c)){this.length=c.length;for(let O=0;O<this.length;O++)b=c[O],I=this._trackByFn(O,b),null!==d&&Object.is(d.trackById,I)?(p&&(d=this._verifyReinsertion(d,b,I,O)),Object.is(d.item,b)||this._addIdentityChange(d,b)):(d=this._mismatch(d,b,I,O),p=!0),d=d._next}else _=0,function I0(a,c){if(Array.isArray(a))for(let d=0;d<a.length;d++)c(a[d]);else{const d=a[Symbol.iterator]();let p;for(;!(p=d.next()).done;)c(p.value)}}(c,O=>{I=this._trackByFn(_,O),null!==d&&Object.is(d.trackById,I)?(p&&(d=this._verifyReinsertion(d,O,I,_)),Object.is(d.item,O)||this._addIdentityChange(d,O)):(d=this._mismatch(d,O,I,_),p=!0),d=d._next,_++}),this.length=_;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,p,_){let b;return null===c?b=this._itTail:(b=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,b,_)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(p,_))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,b,_)):c=this._addAfter(new ME(d,p),b,_),c}_verifyReinsertion(c,d,p,_){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null);return null!==b?c=this._reinsertAfter(b,c._prev,_):c.currentIndex!=_&&(c.currentIndex=_,this._addToMoves(c,_)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,p){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const _=c._prevRemoved,b=c._nextRemoved;return null===_?this._removalsHead=b:_._nextRemoved=b,null===b?this._removalsTail=_:b._prevRemoved=_,this._insertAfter(c,d,p),this._addToMoves(c,p),c}_moveAfter(c,d,p){return this._unlink(c),this._insertAfter(c,d,p),this._addToMoves(c,p),c}_addAfter(c,d,p){return this._insertAfter(c,d,p),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,p){const _=null===d?this._itHead:d._next;return c._next=_,c._prev=d,null===_?this._itTail=c:_._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new Pb),this._linkedRecords.put(c),c.currentIndex=p,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,p=c._next;return null===d?this._itHead=p:d._next=p,null===p?this._itTail=d:p._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pb),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class ME{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Og{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let p;for(p=this._head;null!==p;p=p._nextDup)if((null===d||d<=p.currentIndex)&&Object.is(p.trackById,c))return p;return null}remove(c){const d=c._prevDup,p=c._nextDup;return null===d?this._head=p:d._nextDup=p,null===p?this._tail=d:p._prevDup=d,null===this._head}}class Pb{constructor(){this.map=new Map}put(c){const d=c.trackById;let p=this.map.get(d);p||(p=new Og,this.map.set(d,p)),p.add(c)}get(c,d){const _=this.map.get(c);return _?_.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Wv(a,c,d){const p=a.previousIndex;if(null===p)return p;let _=0;return d&&p<d.length&&(_=d[p]),p+c+_}class Sg{constructor(){}supports(c){return c instanceof Map||T0(c)}create(){return new IE}}class IE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||T0(c)))throw new xe(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(p,_)=>{if(d&&d.key===_)this._maybeAddToChanges(d,p),this._appendAfter=d,d=d._next;else{const b=this._getOrCreateRecordForKey(_,p);d=this._insertBeforeOrAppend(d,b)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let p=d;null!==p;p=p._nextRemoved)p===this._mapHead&&(this._mapHead=null),this._records.delete(p.key),p._nextRemoved=p._next,p.previousValue=p.currentValue,p.currentValue=null,p._prev=null,p._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const p=c._prev;return d._next=c,d._prev=p,c._prev=d,p&&(p._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const _=this._records.get(c);this._maybeAddToChanges(_,d);const b=_._prev,I=_._next;return b&&(b._next=I),I&&(I._prev=b),_._next=null,_._prev=null,_}const p=new sS(c);return this._records.set(c,p),p.currentValue=d,this._addToAdditions(p),p}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(p=>d(c[p],p))}}class sS{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Db(){return new Yv([new oS])}let Yv=(()=>{class a{static#e=this.\u0275prov=fn({token:a,providedIn:"root",factory:Db});constructor(d){this.factories=d}static create(d,p){if(null!=p){const _=p.factories.slice();d=d.concat(_)}return new a(d)}static extend(d){return{provide:a,useFactory:p=>a.create(d,p||Db()),deps:[[a,new Nt,new Xe]]}}find(d){const p=this.factories.find(_=>_.supports(d));if(null!=p)return p;throw new xe(901,!1)}}return a})();function TE(){return new OE([new Sg])}let OE=(()=>{class a{static#e=this.\u0275prov=fn({token:a,providedIn:"root",factory:TE});constructor(d){this.factories=d}static create(d,p){if(p){const _=p.factories.slice();d=d.concat(_)}return new a(d)}static extend(d){return{provide:a,useFactory:p=>a.create(d,p||TE()),deps:[[a,new Nt,new Xe]]}}find(d){const p=this.factories.find(_=>_.supports(d));if(p)return p;throw new xe(901,!1)}}return a})();const PE=ZO(null,"core",[]);let Ab=(()=>{class a{constructor(d){}static#e=this.\u0275fac=function(p){return new(p||a)(Ot(Zu))};static#t=this.\u0275mod=Zi({type:a});static#n=this.\u0275inj=On({})}return a})();function fS(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}function IR(a){const c=jn(a);if(!c)return null;const d=new Ih(c);return{get selector(){return d.selector},get type(){return d.componentType},get inputs(){return d.inputs},get outputs(){return d.outputs},get ngContentSelectors(){return d.ngContentSelectors},get isStandalone(){return c.standalone},get isSignal(){return c.signals}}}},4097:(en,Se,Q)=>{Q.d(Se,{C6:()=>o.getApps,KN:()=>o.registerVersion,Mq:()=>o.getApp,ZF:()=>o.initializeApp});var o=Q(534);(0,o.registerVersion)("firebase","9.23.0","app")},120:(en,Se,Q)=>{Q.d(Se,{Z:()=>o.Z});var o=Q(3106);o.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(en,Se,Q)=>{Q.r(Se);var o=Q(5861),U=Q(3106),Y=Q(6710),pe=Q(9058),De=(Q(534),Q(7879),Q(4537));function ut(){return window}function G(){return G=(0,o.Z)(function*(X,te,K){var Pe;const{BuildInfo:Qe}=ut();(0,Y.as)(te.sessionId,"AuthEvent did not contain a session ID");const Ot=yield function Re(X){return at.apply(this,arguments)}(te.sessionId),yn={};return(0,Y.at)()?yn.ibi=Qe.packageName:(0,Y.au)()?yn.apn=Qe.packageName:(0,Y.av)(X,"operation-not-supported-in-this-environment"),Qe.displayName&&(yn.appDisplayName=Qe.displayName),yn.sessionId=Ot,(0,Y.aw)(X,K,te.type,void 0,null!==(Pe=te.eventId)&&void 0!==Pe?Pe:void 0,yn)}),G.apply(this,arguments)}function Ne(){return(Ne=(0,o.Z)(function*(X){const{BuildInfo:te}=ut(),K={};(0,Y.at)()?K.iosBundleId=te.packageName:(0,Y.au)()?K.androidPackageName=te.packageName:(0,Y.av)(X,"operation-not-supported-in-this-environment"),yield(0,Y.ax)(X,K)})).apply(this,arguments)}function st(){return(st=(0,o.Z)(function*(X,te,K){const{cordova:Pe}=ut();let Qe=()=>{};try{yield new Promise((Ot,yn)=>{let Vt=null;function Xn(){var Rn;Ot();const vr=null===(Rn=Pe.plugins.browsertab)||void 0===Rn?void 0:Rn.close;"function"==typeof vr&&vr(),"function"==typeof K?.close&&K.close()}function xn(){Vt||(Vt=window.setTimeout(()=>{yn((0,Y.az)(X,"redirect-cancelled-by-user"))},2e3))}function ai(){"visible"===document?.visibilityState&&xn()}te.addPassiveListener(Xn),document.addEventListener("resume",xn,!1),(0,Y.au)()&&document.addEventListener("visibilitychange",ai,!1),Qe=()=>{te.removePassiveListener(Xn),document.removeEventListener("resume",xn,!1),document.removeEventListener("visibilitychange",ai,!1),Vt&&window.clearTimeout(Vt)}})}finally{Qe()}})).apply(this,arguments)}function at(){return(at=(0,o.Z)(function*(X){const te=function We(X){if((0,Y.as)(/[0-9a-zA-Z]+/.test(X),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(X);const te=new ArrayBuffer(X.length),K=new Uint8Array(te);for(let Pe=0;Pe<X.length;Pe++)K[Pe]=X.charCodeAt(Pe);return K}(X),K=yield crypto.subtle.digest("SHA-256",te);return Array.from(new Uint8Array(K)).map(Qe=>Qe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class nt extends Y.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(te=>{this.resolveInialized=te})}addPassiveListener(te){this.passiveListeners.add(te)}removePassiveListener(te){this.passiveListeners.delete(te)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(te){return this.resolveInialized(),this.passiveListeners.forEach(K=>K(te)),super.onEvent(te)}initialized(){var te=this;return(0,o.Z)(function*(){yield te.initPromise})()}}function he(X){return ue.apply(this,arguments)}function ue(){return(ue=(0,o.Z)(function*(X){const te=yield Ct()._get(ot(X));return te&&(yield Ct()._remove(ot(X))),te})).apply(this,arguments)}function Le(){const X=[];for(let K=0;K<20;K++){const Pe=Math.floor(62*Math.random());X.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Pe))}return X.join("")}function Ct(){return(0,Y.aC)(Y.b)}function ot(X){return(0,Y.aD)("authEvent",X.config.apiKey,X.name)}function un(X){if(!X?.includes("?"))return{};const[te,...K]=X.split("?");return(0,pe.zd)(K.join("?"))}const Te=class pi{constructor(){this._redirectPersistence=Y.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Y.aE,this._overrideRedirectResult=Y.aF}_initialize(te){var K=this;return(0,o.Z)(function*(){const Pe=te._key();let Qe=K.eventManagers.get(Pe);return Qe||(Qe=new nt(te),K.eventManagers.set(Pe,Qe),K.attachCallbackListeners(te,Qe)),Qe})()}_openPopup(te){(0,Y.av)(te,"operation-not-supported-in-this-environment")}_openRedirect(te,K,Pe,Qe){var Ot=this;return(0,o.Z)(function*(){!function mt(X){var te,K,Pe,Qe,Ot,yn,Vt,Xn,xn,ai;const Rn=ut();(0,Y.aA)("function"==typeof(null===(te=Rn?.universalLinks)||void 0===te?void 0:te.subscribe),X,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,Y.aA)(typeof(null===(K=Rn?.BuildInfo)||void 0===K?void 0:K.packageName)<"u",X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,Y.aA)("function"==typeof(null===(Ot=null===(Qe=null===(Pe=Rn?.cordova)||void 0===Pe?void 0:Pe.plugins)||void 0===Qe?void 0:Qe.browsertab)||void 0===Ot?void 0:Ot.openUrl),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Y.aA)("function"==typeof(null===(Xn=null===(Vt=null===(yn=Rn?.cordova)||void 0===yn?void 0:yn.plugins)||void 0===Vt?void 0:Vt.browsertab)||void 0===Xn?void 0:Xn.isAvailable),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Y.aA)("function"==typeof(null===(ai=null===(xn=Rn?.cordova)||void 0===xn?void 0:xn.InAppBrowser)||void 0===ai?void 0:ai.open),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(te);const yn=yield Ot._initialize(te);yield yn.initialized(),yn.resetRedirect(),(0,Y.aG)(),yield Ot._originValidation(te);const Vt=function $e(X,te,K=null){return{type:te,eventId:K,urlResponse:null,sessionId:Le(),postBody:null,tenantId:X.tenantId,error:(0,Y.az)(X,"no-auth-event")}}(te,Pe,Qe);yield function it(X,te){return Ct()._set(ot(X),te)}(te,Vt);const Xn=yield function z(X,te,K){return G.apply(this,arguments)}(te,Vt,K),xn=yield function me(X){const{cordova:te}=ut();return new Promise(K=>{te.plugins.browsertab.isAvailable(Pe=>{let Qe=null;Pe?te.plugins.browsertab.openUrl(X):Qe=te.InAppBrowser.open(X,(0,Y.ay)()?"_blank":"_system","location=yes"),K(Qe)})})}(Xn);return function lt(X,te,K){return st.apply(this,arguments)}(te,yn,xn)})()}_isIframeWebStorageSupported(te,K){throw new Error("Method not implemented.")}_originValidation(te){const K=te._key();return this.originValidationPromises[K]||(this.originValidationPromises[K]=function de(X){return Ne.apply(this,arguments)}(te)),this.originValidationPromises[K]}attachCallbackListeners(te,K){const{universalLinks:Pe,handleOpenURL:Qe,BuildInfo:Ot}=ut(),yn=setTimeout((0,o.Z)(function*(){yield he(te),K.onEvent(Ce())}),500),Vt=function(){var ai=(0,o.Z)(function*(Rn){clearTimeout(yn);const vr=yield he(te);let Yo=null;vr&&Rn?.url&&(Yo=function Ge(X,te){var K,Pe;const Qe=function nn(X){const te=un(X),K=te.link?decodeURIComponent(te.link):void 0,Pe=un(K).link,Qe=te.deep_link_id?decodeURIComponent(te.deep_link_id):void 0;return un(Qe).link||Qe||Pe||K||X}(te);if(Qe.includes("/__/auth/callback")){const Ot=un(Qe),yn=Ot.firebaseError?function Yt(X){try{return JSON.parse(X)}catch{return null}}(decodeURIComponent(Ot.firebaseError)):null,Vt=null===(Pe=null===(K=yn?.code)||void 0===K?void 0:K.split("auth/"))||void 0===Pe?void 0:Pe[1],Xn=Vt?(0,Y.az)(Vt):null;return Xn?{type:X.type,eventId:X.eventId,tenantId:X.tenantId,error:Xn,urlResponse:null,sessionId:null,postBody:null}:{type:X.type,eventId:X.eventId,tenantId:X.tenantId,sessionId:X.sessionId,urlResponse:Qe,postBody:null}}return null}(vr,Rn.url)),K.onEvent(Yo||Ce())});return function(vr){return ai.apply(this,arguments)}}();typeof Pe<"u"&&"function"==typeof Pe.subscribe&&Pe.subscribe(null,Vt);const Xn=Qe,xn=`${Ot.packageName.toLowerCase()}://`;ut().handleOpenURL=function(){var ai=(0,o.Z)(function*(Rn){if(Rn.toLowerCase().startsWith(xn)&&Vt({url:Rn}),"function"==typeof Xn)try{Xn(Rn)}catch(vr){console.error(vr)}});return function(Rn){return ai.apply(this,arguments)}}()}};function Ce(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,Y.az)("no-auth-event")}}function St(){var X;return(null===(X=self?.location)||void 0===X?void 0:X.protocol)||null}function Tn(X=(0,pe.z$)()){return!("file:"!==St()&&"ionic:"!==St()&&"capacitor:"!==St()||!X.toLowerCase().match(/iphone|ipad|ipod|android/))}function On(){try{const X=self.localStorage,te=Y.aL();if(X)return X.setItem(te,"1"),X.removeItem(te),!function tn(X=(0,pe.z$)()){return function Nn(){return(0,pe.w1)()&&11===document?.documentMode}()||function fn(X=(0,pe.z$)()){return/Edge\/\d+/.test(X)}(X)}()||(0,pe.hl)()}catch{return Ut()&&(0,pe.hl)()}return!1}function Ut(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function cn(){return(function bt(){return"http:"===St()||"https:"===St()}()||(0,pe.ru)()||Tn())&&!function dn(){return(0,pe.b$)()||(0,pe.UG)()}()&&On()&&!Ut()}function Fn(){return Tn()&&typeof document<"u"}function Ci(){return(Ci=(0,o.Z)(function*(){return!!Fn()&&new Promise(X=>{const te=setTimeout(()=>{X(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(te),X(!0)})})})).apply(this,arguments)}const ni={LOCAL:"local",NONE:"none",SESSION:"session"},zi=Y.aA,No="persistence";function Kt(X){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,o.Z)(function*(X){yield X._initializationPromise;const te=Ie(),K=Y.aD(No,X.config.apiKey,X.name);te&&te.setItem(K,X._getPersistence())})).apply(this,arguments)}function Ie(){var X;try{return(null===(X=function Di(){return typeof window<"u"?window:null}())||void 0===X?void 0:X.sessionStorage)||null}catch{return null}}const we=Y.aA;class Ee{constructor(){this.browserResolver=Y.aC(Y.k),this.cordovaResolver=Y.aC(Te),this.underlyingResolver=null,this._redirectPersistence=Y.a,this._completeRedirectFn=Y.aE,this._overrideRedirectResult=Y.aF}_initialize(te){var K=this;return(0,o.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._initialize(te)})()}_openPopup(te,K,Pe,Qe){var Ot=this;return(0,o.Z)(function*(){return yield Ot.selectUnderlyingResolver(),Ot.assertedUnderlyingResolver._openPopup(te,K,Pe,Qe)})()}_openRedirect(te,K,Pe,Qe){var Ot=this;return(0,o.Z)(function*(){return yield Ot.selectUnderlyingResolver(),Ot.assertedUnderlyingResolver._openRedirect(te,K,Pe,Qe)})()}_isIframeWebStorageSupported(te,K){this.assertedUnderlyingResolver._isIframeWebStorageSupported(te,K)}_originValidation(te){return this.assertedUnderlyingResolver._originValidation(te)}get _shouldInitProactively(){return Fn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return we(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var te=this;return(0,o.Z)(function*(){if(te.underlyingResolver)return;const K=yield function Vn(){return Ci.apply(this,arguments)}();te.underlyingResolver=K?te.cordovaResolver:te.browserResolver})()}}function qe(X){return X.unwrap()}function xt(X){return jt(X)}function jt(X){const{_tokenResponse:te}=X instanceof pe.ZR?X.customData:X;if(!te)return null;if(!(X instanceof pe.ZR)&&"temporaryProof"in te&&"phoneNumber"in te)return Y.P.credentialFromResult(X);const K=te.providerId;if(!K||K===Y.p.PASSWORD)return null;let Pe;switch(K){case Y.p.GOOGLE:Pe=Y.V;break;case Y.p.FACEBOOK:Pe=Y.U;break;case Y.p.GITHUB:Pe=Y.W;break;case Y.p.TWITTER:Pe=Y.Z;break;default:const{oauthIdToken:Qe,oauthAccessToken:Ot,oauthTokenSecret:yn,pendingToken:Vt,nonce:Xn}=te;return Ot||yn||Qe||Vt?Vt?K.startsWith("saml.")?Y.aO._create(K,Vt):Y.L._fromParams({providerId:K,signInMethod:K,pendingToken:Vt,idToken:Qe,accessToken:Ot}):new Y.X(K).credential({idToken:Qe,accessToken:Ot,rawNonce:Xn}):null}return X instanceof pe.ZR?Pe.credentialFromError(X):Pe.credentialFromResult(X)}function Xt(X,te){return te.catch(K=>{throw K instanceof pe.ZR&&function mn(X,te){var K;const Pe=null===(K=te.customData)||void 0===K?void 0:K._tokenResponse;if("auth/multi-factor-auth-required"===te?.code)te.resolver=new yi(X,Y.aq(X,te));else if(Pe){const Qe=jt(te),Ot=te;Qe&&(Ot.credential=Qe,Ot.tenantId=Pe.tenantId||void 0,Ot.email=Pe.email||void 0,Ot.phoneNumber=Pe.phoneNumber||void 0)}}(X,K),K}).then(K=>{const Qe=K.user;return{operationType:K.operationType,credential:xt(K),additionalUserInfo:Y.ao(K),user:Hn.getOrCreate(Qe)}})}function Ht(X,te){return xi.apply(this,arguments)}function xi(){return(xi=(0,o.Z)(function*(X,te){const K=yield te;return{verificationId:K.verificationId,confirm:Pe=>Xt(X,K.confirm(Pe))}})).apply(this,arguments)}class yi{constructor(te,K){this.resolver=K,this.auth=function Fe(X){return X.wrapped()}(te)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(te){return Xt(qe(this.auth),this.resolver.resolveSignIn(te))}}class Hn{constructor(te){this._delegate=te,this.multiFactor=Y.ar(te)}static getOrCreate(te){return Hn.USER_MAP.has(te)||Hn.USER_MAP.set(te,new Hn(te)),Hn.USER_MAP.get(te)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(te){return this._delegate.getIdTokenResult(te)}getIdToken(te){return this._delegate.getIdToken(te)}linkAndRetrieveDataWithCredential(te){return this.linkWithCredential(te)}linkWithCredential(te){var K=this;return(0,o.Z)(function*(){return Xt(K.auth,Y.a0(K._delegate,te))})()}linkWithPhoneNumber(te,K){var Pe=this;return(0,o.Z)(function*(){return Ht(Pe.auth,Y.l(Pe._delegate,te,K))})()}linkWithPopup(te){var K=this;return(0,o.Z)(function*(){return Xt(K.auth,Y.d(K._delegate,te,Ee))})()}linkWithRedirect(te){var K=this;return(0,o.Z)(function*(){return yield Kt(Y.aH(K.auth)),Y.g(K._delegate,te,Ee)})()}reauthenticateAndRetrieveDataWithCredential(te){return this.reauthenticateWithCredential(te)}reauthenticateWithCredential(te){var K=this;return(0,o.Z)(function*(){return Xt(K.auth,Y.a1(K._delegate,te))})()}reauthenticateWithPhoneNumber(te,K){return Ht(this.auth,Y.r(this._delegate,te,K))}reauthenticateWithPopup(te){return Xt(this.auth,Y.e(this._delegate,te,Ee))}reauthenticateWithRedirect(te){var K=this;return(0,o.Z)(function*(){return yield Kt(Y.aH(K.auth)),Y.h(K._delegate,te,Ee)})()}sendEmailVerification(te){return Y.ae(this._delegate,te)}unlink(te){var K=this;return(0,o.Z)(function*(){return yield Y.an(K._delegate,te),K})()}updateEmail(te){return Y.aj(this._delegate,te)}updatePassword(te){return Y.ak(this._delegate,te)}updatePhoneNumber(te){return Y.u(this._delegate,te)}updateProfile(te){return Y.ai(this._delegate,te)}verifyBeforeUpdateEmail(te,K){return Y.af(this._delegate,te,K)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Hn.USER_MAP=new WeakMap;const Li=Y.aA;let $n=(()=>{class X{constructor(K,Pe){if(this.app=K,Pe.isInitialized())return this._delegate=Pe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Qe}=K.options;Li(Qe,"invalid-api-key",{appName:K.name}),Li(Qe,"invalid-api-key",{appName:K.name});const Ot=typeof window<"u"?Ee:void 0;this._delegate=Pe.initialize({options:{persistence:mi(Qe,K.name),popupRedirectResolver:Ot}}),this._delegate._updateErrorMap(Y.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Hn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(K){this._delegate.languageCode=K}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(K){this._delegate.tenantId=K}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(K,Pe){Y.I(this._delegate,K,Pe)}applyActionCode(K){return Y.a5(this._delegate,K)}checkActionCode(K){return Y.a6(this._delegate,K)}confirmPasswordReset(K,Pe){return Y.a4(this._delegate,K,Pe)}createUserWithEmailAndPassword(K,Pe){var Qe=this;return(0,o.Z)(function*(){return Xt(Qe._delegate,Y.a8(Qe._delegate,K,Pe))})()}fetchProvidersForEmail(K){return this.fetchSignInMethodsForEmail(K)}fetchSignInMethodsForEmail(K){return Y.ad(this._delegate,K)}isSignInWithEmailLink(K){return Y.ab(this._delegate,K)}getRedirectResult(){var K=this;return(0,o.Z)(function*(){Li(cn(),K._delegate,"operation-not-supported-in-this-environment");const Pe=yield Y.j(K._delegate,Ee);return Pe?Xt(K._delegate,Promise.resolve(Pe)):{credential:null,user:null}})()}addFrameworkForLogging(K){!function He(X,te){(0,Y.aH)(X)._logFramework(te)}(this._delegate,K)}onAuthStateChanged(K,Pe,Qe){const{next:Ot,error:yn,complete:Vt}=gr(K,Pe,Qe);return this._delegate.onAuthStateChanged(Ot,yn,Vt)}onIdTokenChanged(K,Pe,Qe){const{next:Ot,error:yn,complete:Vt}=gr(K,Pe,Qe);return this._delegate.onIdTokenChanged(Ot,yn,Vt)}sendSignInLinkToEmail(K,Pe){return Y.aa(this._delegate,K,Pe)}sendPasswordResetEmail(K,Pe){return Y.a3(this._delegate,K,Pe||void 0)}setPersistence(K){var Pe=this;return(0,o.Z)(function*(){let Qe;switch(function sn(X,te){zi(Object.values(ni).includes(te),X,"invalid-persistence-type"),(0,pe.b$)()?zi(te!==ni.SESSION,X,"unsupported-persistence-type"):(0,pe.UG)()?zi(te===ni.NONE,X,"unsupported-persistence-type"):Ut()?zi(te===ni.NONE||te===ni.LOCAL&&(0,pe.hl)(),X,"unsupported-persistence-type"):zi(te===ni.NONE||On(),X,"unsupported-persistence-type")}(Pe._delegate,K),K){case ni.SESSION:Qe=Y.a;break;case ni.LOCAL:Qe=(yield Y.aC(Y.i)._isAvailable())?Y.i:Y.b;break;case ni.NONE:Qe=Y.N;break;default:return Y.av("argument-error",{appName:Pe._delegate.name})}return Pe._delegate.setPersistence(Qe)})()}signInAndRetrieveDataWithCredential(K){return this.signInWithCredential(K)}signInAnonymously(){return Xt(this._delegate,Y._(this._delegate))}signInWithCredential(K){return Xt(this._delegate,Y.$(this._delegate,K))}signInWithCustomToken(K){return Xt(this._delegate,Y.a2(this._delegate,K))}signInWithEmailAndPassword(K,Pe){return Xt(this._delegate,Y.a9(this._delegate,K,Pe))}signInWithEmailLink(K,Pe){return Xt(this._delegate,Y.ac(this._delegate,K,Pe))}signInWithPhoneNumber(K,Pe){return Ht(this._delegate,Y.s(this._delegate,K,Pe))}signInWithPopup(K){var Pe=this;return(0,o.Z)(function*(){return Li(cn(),Pe._delegate,"operation-not-supported-in-this-environment"),Xt(Pe._delegate,Y.c(Pe._delegate,K,Ee))})()}signInWithRedirect(K){var Pe=this;return(0,o.Z)(function*(){return Li(cn(),Pe._delegate,"operation-not-supported-in-this-environment"),yield Kt(Pe._delegate),Y.f(Pe._delegate,K,Ee)})()}updateCurrentUser(K){return this._delegate.updateCurrentUser(K)}verifyPasswordResetCode(K){return Y.a7(this._delegate,K)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return X.Persistence=ni,X})();function gr(X,te,K){let Pe=X;"function"!=typeof X&&({next:Pe,error:te,complete:K}=X);const Qe=Pe;return{next:yn=>Qe(yn&&Hn.getOrCreate(yn)),error:te,complete:K}}function mi(X,te){const K=function zt(X,te){const K=Ie();if(!K)return[];const Pe=Y.aD(No,X,te);switch(K.getItem(Pe)){case ni.NONE:return[Y.N];case ni.LOCAL:return[Y.i,Y.a];case ni.SESSION:return[Y.a];default:return[]}}(X,te);if(typeof self<"u"&&!K.includes(Y.i)&&K.push(Y.i),typeof window<"u")for(const Pe of[Y.b,Y.a])K.includes(Pe)||K.push(Pe);return K.includes(Y.N)||K.push(Y.N),K}class Ei{constructor(){this.providerId="phone",this._delegate=new Y.P(qe(U.Z.auth()))}static credential(te,K){return Y.P.credential(te,K)}verifyPhoneNumber(te,K){return this._delegate.verifyPhoneNumber(te,K)}unwrap(){return this._delegate}}Ei.PHONE_SIGN_IN_METHOD=Y.P.PHONE_SIGN_IN_METHOD,Ei.PROVIDER_ID=Y.P.PROVIDER_ID;const _r=Y.aA;class go{constructor(te,K,Pe=U.Z.app()){var Qe;_r(null===(Qe=Pe.options)||void 0===Qe?void 0:Qe.apiKey,"invalid-api-key",{appName:Pe.name}),this._delegate=new Y.R(te,K,Pe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function le(X){X.INTERNAL.registerComponent(new De.wA("auth-compat",te=>{const K=te.getProvider("app-compat").getImmediate(),Pe=te.getProvider("auth");return new $n(K,Pe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Y.A.EMAIL_SIGNIN,PASSWORD_RESET:Y.A.PASSWORD_RESET,RECOVER_EMAIL:Y.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Y.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Y.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Y.A.VERIFY_EMAIL}},EmailAuthProvider:Y.Q,FacebookAuthProvider:Y.U,GithubAuthProvider:Y.W,GoogleAuthProvider:Y.V,OAuthProvider:Y.X,SAMLAuthProvider:Y.Y,PhoneAuthProvider:Ei,PhoneMultiFactorGenerator:Y.m,RecaptchaVerifier:go,TwitterAuthProvider:Y.Z,Auth:$n,AuthCredential:Y.J,Error:pe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),X.registerVersion("@firebase/auth-compat","0.4.2")}(U.Z)},3106:(en,Se,Q)=>{Q.d(Se,{Z:()=>lt});var o=Q(9058),U=Q(4537),Y=Q(534),pe=Q(7879);class ce{constructor(mt,Re){this._delegate=mt,this.firebase=Re,(0,Y._addComponent)(mt,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=mt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(mt){this._delegate.automaticDataCollectionEnabled=mt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(mt=>{this._delegate.checkDestroyed(),mt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Y.deleteApp)(this._delegate)))}_getService(mt,Re=Y._DEFAULT_ENTRY_NAME){var at;this._delegate.checkDestroyed();const We=this._delegate.container.getProvider(mt);return!We.isInitialized()&&"EXPLICIT"===(null===(at=We.getComponent())||void 0===at?void 0:at.instantiationMode)&&We.initialize(),We.getImmediate({identifier:Re})}_removeServiceInstance(mt,Re=Y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(mt).clearInstance(Re)}_addComponent(mt){(0,Y._addComponent)(this._delegate,mt)}_addOrOverwriteComponent(mt){(0,Y._addOrOverwriteComponent)(this._delegate,mt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function Ve(){const st=function ut(st){const mt={},Re={__esModule:!0,initializeApp:function xe(he,ue={}){const Ge=Y.initializeApp(he,ue);if((0,o.r3)(mt,Ge.name))return mt[Ge.name];const Le=new st(Ge,Re);return mt[Ge.name]=Le,Le},app:We,registerVersion:Y.registerVersion,setLogLevel:Y.setLogLevel,onLog:Y.onLog,apps:null,SDK_VERSION:Y.SDK_VERSION,INTERNAL:{registerComponent:function $e(he){const ue=he.name,Ge=ue.replace("-compat","");if(Y._registerComponent(he)&&"PUBLIC"===he.type){const Le=(Ct=We())=>{if("function"!=typeof Ct[Ge])throw De.create("invalid-app-argument",{appName:ue});return Ct[Ge]()};void 0!==he.serviceProps&&(0,o.ZB)(Le,he.serviceProps),Re[Ge]=Le,st.prototype[Ge]=function(...Ct){return this._getService.bind(this,ue).apply(this,he.multipleInstances?Ct:[])}}return"PUBLIC"===he.type?Re[Ge]:null},removeApp:function at(he){delete mt[he]},useAsService:function it(he,ue){return"serverAuth"===ue?null:ue},modularAPIs:Y}};function We(he){if(!(0,o.r3)(mt,he=he||Y._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:he});return mt[he]}return Re.default=Re,Object.defineProperty(Re,"apps",{get:function nt(){return Object.keys(mt).map(he=>mt[he])}}),We.App=st,Re}(ce);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:Ve,extendNamespace:function mt(Re){(0,o.ZB)(st,Re)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),st}(),G=new pe.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const lt=z;!function me(st){(0,Y.registerVersion)("@firebase/app-compat","0.2.13",st)}()},534:(en,Se,Q)=>{Q.r(Se),Q.d(Se,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>Ht,_DEFAULT_ENTRY_NAME:()=>sn,_addComponent:()=>Ie,_addOrOverwriteComponent:()=>we,_apps:()=>Qt,_clearComponents:()=>xt,_components:()=>zt,_getProvider:()=>qe,_registerComponent:()=>Ee,_removeServiceInstance:()=>Fe,deleteApp:()=>Li,getApp:()=>yi,getApps:()=>Hn,initializeApp:()=>xi,onLog:()=>mi,registerVersion:()=>gr,setLogLevel:()=>Ei});var o=Q(5861),U=Q(4537),Y=Q(7879),pe=Q(9058);const ce=(Je,ze)=>ze.some(_t=>Je instanceof _t);let ke,De;const z=new WeakMap,G=new WeakMap,de=new WeakMap,Ne=new WeakMap,me=new WeakMap;let mt={get(Je,ze,_t){if(Je instanceof IDBTransaction){if("done"===ze)return G.get(Je);if("objectStoreNames"===ze)return Je.objectStoreNames||de.get(Je);if("store"===ze)return _t.objectStoreNames[1]?void 0:_t.objectStore(_t.objectStoreNames[0])}return xe(Je[ze])},set:(Je,ze,_t)=>(Je[ze]=_t,!0),has:(Je,ze)=>Je instanceof IDBTransaction&&("done"===ze||"store"===ze)||ze in Je};function We(Je){return"function"==typeof Je?function at(Je){return Je!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ve(){return De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Je)?function(...ze){return Je.apply(nt(this),ze),xe(z.get(this))}:function(...ze){return xe(Je.apply(nt(this),ze))}:function(ze,..._t){const Wt=Je.call(nt(this),ze,..._t);return de.set(Wt,ze.sort?ze.sort():[ze]),xe(Wt)}}(Je):(Je instanceof IDBTransaction&&function st(Je){if(G.has(Je))return;const ze=new Promise((_t,Wt)=>{const kt=()=>{Je.removeEventListener("complete",Dn),Je.removeEventListener("error",ri),Je.removeEventListener("abort",ri)},Dn=()=>{_t(),kt()},ri=()=>{Wt(Je.error||new DOMException("AbortError","AbortError")),kt()};Je.addEventListener("complete",Dn),Je.addEventListener("error",ri),Je.addEventListener("abort",ri)});G.set(Je,ze)}(Je),ce(Je,function ut(){return ke||(ke=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Je,mt):Je)}function xe(Je){if(Je instanceof IDBRequest)return function lt(Je){const ze=new Promise((_t,Wt)=>{const kt=()=>{Je.removeEventListener("success",Dn),Je.removeEventListener("error",ri)},Dn=()=>{_t(xe(Je.result)),kt()},ri=()=>{Wt(Je.error),kt()};Je.addEventListener("success",Dn),Je.addEventListener("error",ri)});return ze.then(_t=>{_t instanceof IDBCursor&&z.set(_t,Je)}).catch(()=>{}),me.set(ze,Je),ze}(Je);if(Ne.has(Je))return Ne.get(Je);const ze=We(Je);return ze!==Je&&(Ne.set(Je,ze),me.set(ze,Je)),ze}const nt=Je=>me.get(Je),he=["get","getKey","getAll","getAllKeys","count"],ue=["put","add","delete","clear"],Ge=new Map;function Le(Je,ze){if(!(Je instanceof IDBDatabase)||ze in Je||"string"!=typeof ze)return;if(Ge.get(ze))return Ge.get(ze);const _t=ze.replace(/FromIndex$/,""),Wt=ze!==_t,kt=ue.includes(_t);if(!(_t in(Wt?IDBIndex:IDBObjectStore).prototype)||!kt&&!he.includes(_t))return;const Dn=function(){var ri=(0,o.Z)(function*(Gi,...Yi){const er=this.transaction(Gi,kt?"readwrite":"readonly");let Ur=er.store;return Wt&&(Ur=Ur.index(Yi.shift())),(yield Promise.all([Ur[_t](...Yi),kt&&er.done]))[0]});return function(Yi){return ri.apply(this,arguments)}}();return Ge.set(ze,Dn),Dn}!function Re(Je){mt=Je(mt)}(Je=>({...Je,get:(ze,_t,Wt)=>Le(ze,_t)||Je.get(ze,_t,Wt),has:(ze,_t)=>!!Le(ze,_t)||Je.has(ze,_t)}));class Ct{constructor(ze){this.container=ze}getPlatformInfoString(){return this.container.getProviders().map(_t=>{if(function ot(Je){const ze=Je.getComponent();return"VERSION"===ze?.type}(_t)){const Wt=_t.getImmediate();return`${Wt.library}/${Wt.version}`}return null}).filter(_t=>_t).join(" ")}}const Yt="@firebase/app",un=new Y.Yd("@firebase/app"),sn="[DEFAULT]",Kt={[Yt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qt=new Map,zt=new Map;function Ie(Je,ze){try{Je.container.addComponent(ze)}catch(_t){un.debug(`Component ${ze.name} failed to register with FirebaseApp ${Je.name}`,_t)}}function we(Je,ze){Je.container.addOrOverwriteComponent(ze)}function Ee(Je){const ze=Je.name;if(zt.has(ze))return un.debug(`There were multiple attempts to register component ${ze}.`),!1;zt.set(ze,Je);for(const _t of Qt.values())Ie(_t,Je);return!0}function qe(Je,ze){const _t=Je.container.getProvider("heartbeat").getImmediate({optional:!0});return _t&&_t.triggerHeartbeat(),Je.container.getProvider(ze)}function Fe(Je,ze,_t=sn){qe(Je,ze).clearInstance(_t)}function xt(){zt.clear()}const jt=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xt{constructor(ze,_t,Wt){this._isDeleted=!1,this._options=Object.assign({},ze),this._config=Object.assign({},_t),this._name=_t.name,this._automaticDataCollectionEnabled=_t.automaticDataCollectionEnabled,this._container=Wt,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this.checkDestroyed(),this._automaticDataCollectionEnabled=ze}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ze){this._isDeleted=ze}checkDestroyed(){if(this.isDeleted)throw jt.create("app-deleted",{appName:this._name})}}const Ht="9.23.0";function xi(Je,ze={}){let _t=Je;"object"!=typeof ze&&(ze={name:ze});const Wt=Object.assign({name:sn,automaticDataCollectionEnabled:!1},ze),kt=Wt.name;if("string"!=typeof kt||!kt)throw jt.create("bad-app-name",{appName:String(kt)});if(_t||(_t=(0,pe.aH)()),!_t)throw jt.create("no-options");const Dn=Qt.get(kt);if(Dn){if((0,pe.vZ)(_t,Dn.options)&&(0,pe.vZ)(Wt,Dn.config))return Dn;throw jt.create("duplicate-app",{appName:kt})}const ri=new U.H0(kt);for(const Yi of zt.values())ri.addComponent(Yi);const Gi=new Xt(_t,Wt,ri);return Qt.set(kt,Gi),Gi}function yi(Je=sn){const ze=Qt.get(Je);if(!ze&&Je===sn&&(0,pe.aH)())return xi();if(!ze)throw jt.create("no-app",{appName:Je});return ze}function Hn(){return Array.from(Qt.values())}function Li(Je){return $n.apply(this,arguments)}function $n(){return($n=(0,o.Z)(function*(Je){const ze=Je.name;Qt.has(ze)&&(Qt.delete(ze),yield Promise.all(Je.container.getProviders().map(_t=>_t.delete())),Je.isDeleted=!0)})).apply(this,arguments)}function gr(Je,ze,_t){var Wt;let kt=null!==(Wt=Kt[Je])&&void 0!==Wt?Wt:Je;_t&&(kt+=`-${_t}`);const Dn=kt.match(/\s|\//),ri=ze.match(/\s|\//);if(Dn||ri){const Gi=[`Unable to register library "${kt}" with version "${ze}":`];return Dn&&Gi.push(`library name "${kt}" contains illegal characters (whitespace or "/")`),Dn&&ri&&Gi.push("and"),ri&&Gi.push(`version name "${ze}" contains illegal characters (whitespace or "/")`),void un.warn(Gi.join(" "))}Ee(new U.wA(`${kt}-version`,()=>({library:kt,version:ze}),"VERSION"))}function mi(Je,ze){if(null!==Je&&"function"!=typeof Je)throw jt.create("invalid-log-argument");(0,Y.Am)(Je,ze)}function Ei(Je){(0,Y.Ub)(Je)}const _r="firebase-heartbeat-database",go=1,fe="firebase-heartbeat-store";let le=null;function X(){return le||(le=function $e(Je,ze,{blocked:_t,upgrade:Wt,blocking:kt,terminated:Dn}={}){const ri=indexedDB.open(Je,ze),Gi=xe(ri);return Wt&&ri.addEventListener("upgradeneeded",Yi=>{Wt(xe(ri.result),Yi.oldVersion,Yi.newVersion,xe(ri.transaction),Yi)}),_t&&ri.addEventListener("blocked",Yi=>_t(Yi.oldVersion,Yi.newVersion,Yi)),Gi.then(Yi=>{Dn&&Yi.addEventListener("close",()=>Dn()),kt&&Yi.addEventListener("versionchange",er=>kt(er.oldVersion,er.newVersion,er))}).catch(()=>{}),Gi}(_r,go,{upgrade:(Je,ze)=>{0===ze&&Je.createObjectStore(fe)}}).catch(Je=>{throw jt.create("idb-open",{originalErrorMessage:Je.message})})),le}function K(){return(K=(0,o.Z)(function*(Je){try{return yield(yield X()).transaction(fe).objectStore(fe).get(Ot(Je))}catch(ze){if(ze instanceof pe.ZR)un.warn(ze.message);else{const _t=jt.create("idb-get",{originalErrorMessage:ze?.message});un.warn(_t.message)}}})).apply(this,arguments)}function Pe(Je,ze){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,o.Z)(function*(Je,ze){try{const Wt=(yield X()).transaction(fe,"readwrite");yield Wt.objectStore(fe).put(ze,Ot(Je)),yield Wt.done}catch(_t){if(_t instanceof pe.ZR)un.warn(_t.message);else{const Wt=jt.create("idb-set",{originalErrorMessage:_t?.message});un.warn(Wt.message)}}})).apply(this,arguments)}function Ot(Je){return`${Je.name}!${Je.options.appId}`}class Xn{constructor(ze){this.container=ze,this._heartbeatsCache=null;const _t=this.container.getProvider("app").getImmediate();this._storage=new Rn(_t),this._heartbeatsCachePromise=this._storage.read().then(Wt=>(this._heartbeatsCache=Wt,Wt))}triggerHeartbeat(){var ze=this;return(0,o.Z)(function*(){const Wt=ze.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kt=xn();if(null===ze._heartbeatsCache&&(ze._heartbeatsCache=yield ze._heartbeatsCachePromise),ze._heartbeatsCache.lastSentHeartbeatDate!==kt&&!ze._heartbeatsCache.heartbeats.some(Dn=>Dn.date===kt))return ze._heartbeatsCache.heartbeats.push({date:kt,agent:Wt}),ze._heartbeatsCache.heartbeats=ze._heartbeatsCache.heartbeats.filter(Dn=>{const ri=new Date(Dn.date).valueOf();return Date.now()-ri<=2592e6}),ze._storage.overwrite(ze._heartbeatsCache)})()}getHeartbeatsHeader(){var ze=this;return(0,o.Z)(function*(){if(null===ze._heartbeatsCache&&(yield ze._heartbeatsCachePromise),null===ze._heartbeatsCache||0===ze._heartbeatsCache.heartbeats.length)return"";const _t=xn(),{heartbeatsToSend:Wt,unsentEntries:kt}=function ai(Je,ze=1024){const _t=[];let Wt=Je.slice();for(const kt of Je){const Dn=_t.find(ri=>ri.agent===kt.agent);if(Dn){if(Dn.dates.push(kt.date),vr(_t)>ze){Dn.dates.pop();break}}else if(_t.push({agent:kt.agent,dates:[kt.date]}),vr(_t)>ze){_t.pop();break}Wt=Wt.slice(1)}return{heartbeatsToSend:_t,unsentEntries:Wt}}(ze._heartbeatsCache.heartbeats),Dn=(0,pe.L)(JSON.stringify({version:2,heartbeats:Wt}));return ze._heartbeatsCache.lastSentHeartbeatDate=_t,kt.length>0?(ze._heartbeatsCache.heartbeats=kt,yield ze._storage.overwrite(ze._heartbeatsCache)):(ze._heartbeatsCache.heartbeats=[],ze._storage.overwrite(ze._heartbeatsCache)),Dn})()}}function xn(){return(new Date).toISOString().substring(0,10)}class Rn{constructor(ze){this.app=ze,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ze=this;return(0,o.Z)(function*(){return(yield ze._canUseIndexedDBPromise)&&(yield function te(Je){return K.apply(this,arguments)}(ze.app))||{heartbeats:[]}})()}overwrite(ze){var _t=this;return(0,o.Z)(function*(){var Wt;if(yield _t._canUseIndexedDBPromise){const Dn=yield _t.read();return Pe(_t.app,{lastSentHeartbeatDate:null!==(Wt=ze.lastSentHeartbeatDate)&&void 0!==Wt?Wt:Dn.lastSentHeartbeatDate,heartbeats:ze.heartbeats})}})()}add(ze){var _t=this;return(0,o.Z)(function*(){var Wt;if(yield _t._canUseIndexedDBPromise){const Dn=yield _t.read();return Pe(_t.app,{lastSentHeartbeatDate:null!==(Wt=ze.lastSentHeartbeatDate)&&void 0!==Wt?Wt:Dn.lastSentHeartbeatDate,heartbeats:[...Dn.heartbeats,...ze.heartbeats]})}})()}}function vr(Je){return(0,pe.L)(JSON.stringify({version:2,heartbeats:Je})).length}!function Yo(Je){Ee(new U.wA("platform-logger",ze=>new Ct(ze),"PRIVATE")),Ee(new U.wA("heartbeat",ze=>new Xn(ze),"PRIVATE")),gr(Yt,"0.9.13",Je),gr(Yt,"0.9.13","esm2017"),gr("fire-js","")}("")},4537:(en,Se,Q)=>{Q.d(Se,{H0:()=>ut,wA:()=>Y,zt:()=>ce});var o=Q(5861),U=Q(9058);class Y{constructor(z,G,de){this.name=z,this.instanceFactory=G,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const pe="[DEFAULT]";class ce{constructor(z,G){this.name=z,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const G=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(G)){const de=new U.BH;if(this.instancesDeferred.set(G,de),this.isInitialized(G)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:G});Ne&&de.resolve(Ne)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(z){var G;const de=this.normalizeInstanceIdentifier(z?.identifier),Ne=null!==(G=z?.optional)&&void 0!==G&&G;if(!this.isInitialized(de)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:de})}catch(me){if(Ne)return null;throw me}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function De(Ve){return"EAGER"===Ve.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:pe})}catch{}for(const[G,de]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(G);try{const me=this.getOrInitializeService({instanceIdentifier:Ne});de.resolve(me)}catch{}}}}clearInstance(z=pe){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,o.Z)(function*(){const G=Array.from(z.instances.values());yield Promise.all([...G.filter(de=>"INTERNAL"in de).map(de=>de.INTERNAL.delete()),...G.filter(de=>"_delete"in de).map(de=>de._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=pe){return this.instances.has(z)}getOptions(z=pe){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:G={}}=z,de=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(de))throw Error(`${this.name}(${de}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:de,options:G});for(const[me,lt]of this.instancesDeferred.entries())de===this.normalizeInstanceIdentifier(me)&&lt.resolve(Ne);return Ne}onInit(z,G){var de;const Ne=this.normalizeInstanceIdentifier(G),me=null!==(de=this.onInitCallbacks.get(Ne))&&void 0!==de?de:new Set;me.add(z),this.onInitCallbacks.set(Ne,me);const lt=this.instances.get(Ne);return lt&&z(lt,Ne),()=>{me.delete(z)}}invokeOnInitCallbacks(z,G){const de=this.onInitCallbacks.get(G);if(de)for(const Ne of de)try{Ne(z,G)}catch{}}getOrInitializeService({instanceIdentifier:z,options:G={}}){let de=this.instances.get(z);if(!de&&this.component&&(de=this.component.instanceFactory(this.container,{instanceIdentifier:(Ve=z,Ve===pe?void 0:Ve),options:G}),this.instances.set(z,de),this.instancesOptions.set(z,G),this.invokeOnInitCallbacks(de,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,de)}catch{}var Ve;return de||null}normalizeInstanceIdentifier(z=pe){return this.component?this.component.multipleInstances?z:pe:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ut{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const G=this.getProvider(z.name);if(G.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);G.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const G=new ce(z,this);return this.providers.set(z,G),G}getProviders(){return Array.from(this.providers.values())}}},7879:(en,Se,Q)=>{Q.d(Se,{Am:()=>Ve,Ub:()=>ut,Yd:()=>De,in:()=>U});const o=[];var U=function(z){return z[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",z}(U||{});const Y={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},pe=U.INFO,ce={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},ke=(z,G,...de)=>{if(G<z.logLevel)return;const Ne=(new Date).toISOString(),me=ce[G];if(!me)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[me](`[${Ne}]  ${z.name}:`,...de)};class De{constructor(G){this.name=G,this._logLevel=pe,this._logHandler=ke,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in U))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?Y[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...G),this._logHandler(this,U.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...G),this._logHandler(this,U.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,U.INFO,...G),this._logHandler(this,U.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,U.WARN,...G),this._logHandler(this,U.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...G),this._logHandler(this,U.ERROR,...G)}}function ut(z){o.forEach(G=>{G.setLogLevel(z)})}function Ve(z,G){for(const de of o){let Ne=null;G&&G.level&&(Ne=Y[G.level]),de.userLogHandler=null===z?null:(me,lt,...st)=>{const mt=st.map(Re=>{if(null==Re)return null;if("string"==typeof Re)return Re;if("number"==typeof Re||"boolean"==typeof Re)return Re.toString();if(Re instanceof Error)return Re.message;try{return JSON.stringify(Re)}catch{return null}}).filter(Re=>Re).join(" ");lt>=(Ne??me.logLevel)&&z({level:U[lt].toLowerCase(),message:mt,args:st,type:me.name})}}}},5861:(en,Se,Q)=>{function o(Y,pe,ce,ke,De,ut,Ve){try{var z=Y[ut](Ve),G=z.value}catch(de){return void ce(de)}z.done?pe(G):Promise.resolve(G).then(ke,De)}function U(Y){return function(){var pe=this,ce=arguments;return new Promise(function(ke,De){var ut=Y.apply(pe,ce);function Ve(G){o(ut,ke,De,Ve,z,"next",G)}function z(G){o(ut,ke,De,Ve,z,"throw",G)}Ve(void 0)})}}Q.d(Se,{Z:()=>U})},7582:(en,Se,Q)=>{function pe(Te,Ce){var He={};for(var je in Te)Object.prototype.hasOwnProperty.call(Te,je)&&Ce.indexOf(je)<0&&(He[je]=Te[je]);if(null!=Te&&"function"==typeof Object.getOwnPropertySymbols){var ct=0;for(je=Object.getOwnPropertySymbols(Te);ct<je.length;ct++)Ce.indexOf(je[ct])<0&&Object.prototype.propertyIsEnumerable.call(Te,je[ct])&&(He[je[ct]]=Te[je[ct]])}return He}function ce(Te,Ce,He,je){var St,ct=arguments.length,gt=ct<3?Ce:null===je?je=Object.getOwnPropertyDescriptor(Ce,He):je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)gt=Reflect.decorate(Te,Ce,He,je);else for(var bt=Te.length-1;bt>=0;bt--)(St=Te[bt])&&(gt=(ct<3?St(gt):ct>3?St(Ce,He,gt):St(Ce,He))||gt);return ct>3&&gt&&Object.defineProperty(Ce,He,gt),gt}function de(Te,Ce,He,je){return new(He||(He=Promise))(function(gt,St){function bt(Nn){try{dn(je.next(Nn))}catch(fn){St(fn)}}function Tn(Nn){try{dn(je.throw(Nn))}catch(fn){St(fn)}}function dn(Nn){Nn.done?gt(Nn.value):function ct(gt){return gt instanceof He?gt:new He(function(St){St(gt)})}(Nn.value).then(bt,Tn)}dn((je=je.apply(Te,Ce||[])).next())})}function xe(Te){return this instanceof xe?(this.v=Te,this):new xe(Te)}function nt(Te,Ce,He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct,je=He.apply(Te,Ce||[]),gt=[];return ct={},St("next"),St("throw"),St("return"),ct[Symbol.asyncIterator]=function(){return this},ct;function St(tn){je[tn]&&(ct[tn]=function(On){return new Promise(function(Ut,cn){gt.push([tn,On,Ut,cn])>1||bt(tn,On)})})}function bt(tn,On){try{!function Tn(tn){tn.value instanceof xe?Promise.resolve(tn.value.v).then(dn,Nn):fn(gt[0][2],tn)}(je[tn](On))}catch(Ut){fn(gt[0][3],Ut)}}function dn(tn){bt("next",tn)}function Nn(tn){bt("throw",tn)}function fn(tn,On){tn(On),gt.shift(),gt.length&&bt(gt[0][0],gt[0][1])}}function it(Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,Ce=Te[Symbol.asyncIterator];return Ce?Ce.call(Te):(Te=function st(Te){var Ce="function"==typeof Symbol&&Symbol.iterator,He=Ce&&Te[Ce],je=0;if(He)return He.call(Te);if(Te&&"number"==typeof Te.length)return{next:function(){return Te&&je>=Te.length&&(Te=void 0),{value:Te&&Te[je++],done:!Te}}};throw new TypeError(Ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(Te),He={},je("next"),je("throw"),je("return"),He[Symbol.asyncIterator]=function(){return this},He);function je(gt){He[gt]=Te[gt]&&function(St){return new Promise(function(bt,Tn){!function ct(gt,St,bt,Tn){Promise.resolve(Tn).then(function(dn){gt({value:dn,done:bt})},St)}(bt,Tn,(St=Te[gt](St)).done,St.value)})}}}Q.d(Se,{FC:()=>nt,KL:()=>it,_T:()=>pe,gn:()=>ce,mG:()=>de,qq:()=>xe}),"function"==typeof SuppressedError&&SuppressedError}},en=>{en(en.s=7759)}]);