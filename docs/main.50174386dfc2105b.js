"use strict";(self.webpackChunkwebshop=self.webpackChunkwebshop||[]).push([[179],{6304:(en,De,Q)=>{Q.d(De,{Dh:()=>ut,GT:()=>ke,cc:()=>me,hO:()=>Ne,on:()=>z,pX:()=>ce,xv:()=>Ve});var a=Q(5879),U=Q(120),Y=Q(2793);en=Q.hmd(en);const pe=["ngOnDestroy"],ce=(Re,at,Ze,xe={})=>new Proxy(Re,{get:(nt,$e)=>Ze.runOutsideAngular(()=>{var it;if(Re[$e])return!(null===(it=xe?.spy)||void 0===it)&&it.get&&xe.spy.get($e,Re[$e]),Re[$e];if(pe.indexOf($e)>-1)return()=>{};const he=at.toPromise().then(ue=>{const Ge=ue&&ue[$e];return"function"==typeof Ge?Ge.bind(ue):Ge&&Ge.then?Ge.then(Le=>Ze.run(()=>Le)):Ze.run(()=>Ge)});return new Proxy(()=>{},{get:(ue,Ge)=>he[Ge],apply:(ue,Ge,Le)=>he.then(Ct=>{var ot;const Yt=Ct&&Ct(...Le);return!(null===(ot=xe?.spy)||void 0===ot)&&ot.apply&&xe.spy.apply($e,Le,Yt),Yt})})})}),ke=(Re,at)=>{at.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach(xe=>{Object.defineProperty(Re.prototype,xe,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,xe))})})};class Ae{constructor(at){return at}}const ut=new a.OlP("angularfire2.app.options"),Ve=new a.OlP("angularfire2.app.name");function z(Re,at,Ze){const nt="object"==typeof Ze&&Ze||{};nt.name=nt.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const it=U.Z.apps.filter(he=>he&&he.name===nt.name)[0]||at.runOutsideAngular(()=>U.Z.initializeApp(Re,nt));try{JSON.stringify(Re)!==JSON.stringify(it.options)&&G("error",`${it.name} Firebase App already initialized with different options${en.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ae(it)}const G=(Re,...at)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Re](...at)},de={provide:Ae,useFactory:z,deps:[ut,a.R0b,[new a.FiY,Ve]]};let Ne=(()=>{class Re{constructor(Ze){U.Z.registerVersion("angularfire",Y.q4.full,"core"),U.Z.registerVersion("angularfire",Y.q4.full,"app-compat"),U.Z.registerVersion("angular",a.q4F.full,Ze.toString())}static initializeApp(Ze,xe){return{ngModule:Re,providers:[{provide:ut,useValue:Ze},{provide:Ve,useValue:xe}]}}}return Re.\u0275fac=function(Ze){return new(Ze||Re)(a.LFG(a.Lbi))},Re.\u0275mod=a.oAB({type:Re}),Re.\u0275inj=a.cJS({providers:[de]}),Re})();function me(Re,at,Ze,xe,nt){const[,$e,it]=globalThis.\u0275AngularfireInstanceCache.find(he=>he[0]===Re)||[];if($e)return function lt(Re,at){try{return Re.toString()===at.toString()}catch{return Re===at}}(nt,it)||(mt("error",`${at} was already initialized on the ${Ze} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),mt("warn",{is:nt,was:it})),$e;{const he=xe();return globalThis.\u0275AngularfireInstanceCache.push([Re,he,nt]),he}}const st=!!en.hot,mt=(Re,...at)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Re](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(en,De,Q)=>{Q.d(De,{q4:()=>Tu,iC:()=>fs,HU:()=>Ri,vb:()=>uh,JM:()=>lh,u3:()=>Wc});var a=Q(5879),U=Q(4097),Y=Q(5861),pe=Q(534),ce=Q(9058),ke=Q(4537),Ae=Q(7879);const ut=(A,F)=>F.some(H=>A instanceof H);let Ve,z;const Ne=new WeakMap,me=new WeakMap,lt=new WeakMap,st=new WeakMap,mt=new WeakMap;let Ze={get(A,F,H){if(A instanceof IDBTransaction){if("done"===F)return me.get(A);if("objectStoreNames"===F)return A.objectStoreNames||lt.get(A);if("store"===F)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return it(A[F])},set:(A,F,H)=>(A[F]=H,!0),has:(A,F)=>A instanceof IDBTransaction&&("done"===F||"store"===F)||F in A};function $e(A){return"function"==typeof A?function nt(A){return A!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(A)?function(...F){return A.apply(he(this),F),it(Ne.get(this))}:function(...F){return it(A.apply(he(this),F))}:function(F,...H){const oe=A.call(he(this),F,...H);return lt.set(oe,F.sort?F.sort():[F]),it(oe)}}(A):(A instanceof IDBTransaction&&function at(A){if(me.has(A))return;const F=new Promise((H,oe)=>{const be=()=>{A.removeEventListener("complete",Ue),A.removeEventListener("error",rt),A.removeEventListener("abort",rt)},Ue=()=>{H(),be()},rt=()=>{oe(A.error||new DOMException("AbortError","AbortError")),be()};A.addEventListener("complete",Ue),A.addEventListener("error",rt),A.addEventListener("abort",rt)});me.set(A,F)}(A),ut(A,function G(){return Ve||(Ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(A,Ze):A)}function it(A){if(A instanceof IDBRequest)return function Re(A){const F=new Promise((H,oe)=>{const be=()=>{A.removeEventListener("success",Ue),A.removeEventListener("error",rt)},Ue=()=>{H(it(A.result)),be()},rt=()=>{oe(A.error),be()};A.addEventListener("success",Ue),A.addEventListener("error",rt)});return F.then(H=>{H instanceof IDBCursor&&Ne.set(H,A)}).catch(()=>{}),mt.set(F,A),F}(A);if(st.has(A))return st.get(A);const F=$e(A);return F!==A&&(st.set(A,F),mt.set(F,A)),F}const he=A=>mt.get(A),Le=["get","getKey","getAll","getAllKeys","count"],Ct=["put","add","delete","clear"],ot=new Map;function Yt(A,F){if(!(A instanceof IDBDatabase)||F in A||"string"!=typeof F)return;if(ot.get(F))return ot.get(F);const H=F.replace(/FromIndex$/,""),oe=F!==H,be=Ct.includes(H);if(!(H in(oe?IDBIndex:IDBObjectStore).prototype)||!be&&!Le.includes(H))return;const Ue=function(){var rt=(0,Y.Z)(function*(Bt,...Ft){const hn=this.transaction(Bt,be?"readwrite":"readonly");let Un=hn.store;return oe&&(Un=Un.index(Ft.shift())),(yield Promise.all([Un[H](...Ft),be&&hn.done]))[0]});return function(Ft){return rt.apply(this,arguments)}}();return ot.set(F,Ue),Ue}!function xe(A){Ze=A(Ze)}(A=>({...A,get:(F,H,oe)=>Yt(F,H)||A.get(F,H,oe),has:(F,H)=>!!Yt(F,H)||A.has(F,H)}));const nn="@firebase/installations",un="0.6.4",rn=1e4,fi=`w:${un}`,Te="FIS_v2",Ce="https://firebaseinstallations.googleapis.com/v1",He=36e5,Dt=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function bt(A){return A instanceof ce.ZR&&A.code.includes("request-failed")}function Tn({projectId:A}){return`${Ce}/projects/${A}/installations`}function dn(A){return{token:A.token,requestStatus:2,expiresIn:Ln(A.expiresIn),creationTime:Date.now()}}function Fn(A,F){return fn.apply(this,arguments)}function fn(){return(fn=(0,Y.Z)(function*(A,F){const oe=(yield F.json()).error;return Dt.create("request-failed",{requestName:A,serverCode:oe.code,serverMessage:oe.message,serverStatus:oe.status})})).apply(this,arguments)}function tn({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function Ut(A){return cn.apply(this,arguments)}function cn(){return(cn=(0,Y.Z)(function*(A){const F=yield A();return F.status>=500&&F.status<600?A():F})).apply(this,arguments)}function Ln(A){return Number(A.replace("s","000"))}function Oi(){return(Oi=(0,Y.Z)(function*({appConfig:A,heartbeatServiceProvider:F},{fid:H}){const oe=Tn(A),be=tn(A),Ue=F.getImmediate({optional:!0});if(Ue){const hn=yield Ue.getHeartbeatsHeader();hn&&be.append("x-firebase-client",hn)}const Bt={method:"POST",headers:be,body:JSON.stringify({fid:H,authVersion:Te,appId:A.appId,sdkVersion:fi})},Ft=yield Ut(()=>fetch(oe,Bt));if(Ft.ok){const hn=yield Ft.json();return{fid:hn.fid||H,registrationStatus:2,refreshToken:hn.refreshToken,authToken:dn(hn.authToken)}}throw yield Fn("Create Installation",Ft)})).apply(this,arguments)}function ni(A){return new Promise(F=>{setTimeout(F,A)})}const Ro=/^[cdef][\w-]{21}$/,sn="";function Kt(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const H=function Qt(A){return function zi(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return Ro.test(H)?H:sn}catch{return sn}}function zt(A){return`${A.appName}!${A.appId}`}const Me=new Map;function we(A,F){const H=zt(A);Fe(H,F),function xt(A,F){const H=function jt(){return!mn&&"BroadcastChannel"in self&&(mn=new BroadcastChannel("[Firebase] FID Change"),mn.onmessage=A=>{Fe(A.data.key,A.data.fid)}),mn}();H&&H.postMessage({key:A,fid:F}),function Xt(){0===Me.size&&mn&&(mn.close(),mn=null)}()}(H,F)}function Fe(A,F){const H=Me.get(A);if(H)for(const oe of H)oe(F)}let mn=null;const Ht="firebase-installations-database",Ci=1,vi="firebase-installations-store";let $n=null;function Li(){return $n||($n=function ue(A,F,{blocked:H,upgrade:oe,blocking:be,terminated:Ue}={}){const rt=indexedDB.open(A,F),Bt=it(rt);return oe&&rt.addEventListener("upgradeneeded",Ft=>{oe(it(rt.result),Ft.oldVersion,Ft.newVersion,it(rt.transaction))}),H&&rt.addEventListener("blocked",()=>H()),Bt.then(Ft=>{Ue&&Ft.addEventListener("close",()=>Ue()),be&&Ft.addEventListener("versionchange",()=>be())}).catch(()=>{}),Bt}(Ht,Ci,{upgrade:(A,F)=>{0===F&&A.createObjectStore(vi)}})),$n}function qn(A,F){return gr.apply(this,arguments)}function gr(){return(gr=(0,Y.Z)(function*(A,F){const H=zt(A),be=(yield Li()).transaction(vi,"readwrite"),Ue=be.objectStore(vi),rt=yield Ue.get(H);return yield Ue.put(F,H),yield be.done,(!rt||rt.fid!==F.fid)&&we(A,F.fid),F})).apply(this,arguments)}function pi(A){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,Y.Z)(function*(A){const F=zt(A),oe=(yield Li()).transaction(vi,"readwrite");yield oe.objectStore(vi).delete(F),yield oe.done})).apply(this,arguments)}function _r(A,F){return go.apply(this,arguments)}function go(){return(go=(0,Y.Z)(function*(A,F){const H=zt(A),be=(yield Li()).transaction(vi,"readwrite"),Ue=be.objectStore(vi),rt=yield Ue.get(H),Bt=F(rt);return void 0===Bt?yield Ue.delete(H):yield Ue.put(Bt,H),yield be.done,Bt&&(!rt||rt.fid!==Bt.fid)&&we(A,Bt.fid),Bt})).apply(this,arguments)}function fe(A){return le.apply(this,arguments)}function le(){return le=(0,Y.Z)(function*(A){let F;const H=yield _r(A.appConfig,oe=>{const be=function X(A){return Vt(A||{fid:Kt(),registrationStatus:0})}(oe),Ue=function te(A,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(Dt.create("app-offline"))};const H={fid:F.fid,registrationStatus:1,registrationTime:Date.now()},oe=function K(A,F){return Oe.apply(this,arguments)}(A,H);return{installationEntry:H,registrationPromise:oe}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:Qe(A)}:{installationEntry:F}}(A,be);return F=Ue.registrationPromise,Ue.installationEntry});return H.fid===sn?{installationEntry:yield F}:{installationEntry:H,registrationPromise:F}}),le.apply(this,arguments)}function Oe(){return Oe=(0,Y.Z)(function*(A,F){try{const H=yield function wi(A,F){return Oi.apply(this,arguments)}(A,F);return qn(A.appConfig,H)}catch(H){throw bt(H)&&409===H.customData.serverCode?yield pi(A.appConfig):yield qn(A.appConfig,{fid:F.fid,registrationStatus:0}),H}}),Oe.apply(this,arguments)}function Qe(A){return St.apply(this,arguments)}function St(){return(St=(0,Y.Z)(function*(A){let F=yield yn(A.appConfig);for(;1===F.registrationStatus;)yield ni(100),F=yield yn(A.appConfig);if(0===F.registrationStatus){const{installationEntry:H,registrationPromise:oe}=yield fe(A);return oe||H}return F})).apply(this,arguments)}function yn(A){return _r(A,F=>{if(!F)throw Dt.create("installation-not-found");return Vt(F)})}function Vt(A){return function Xn(A){return 1===A.registrationStatus&&A.registrationTime+rn<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function ai(){return(ai=(0,Y.Z)(function*({appConfig:A,heartbeatServiceProvider:F},H){const oe=function Nn(A,{fid:F}){return`${Tn(A)}/${F}/authTokens:generate`}(A,H),be=function Sn(A,{refreshToken:F}){const H=tn(A);return H.append("Authorization",function Vn(A){return`${Te} ${A}`}(F)),H}(A,H),Ue=F.getImmediate({optional:!0});if(Ue){const hn=yield Ue.getHeartbeatsHeader();hn&&be.append("x-firebase-client",hn)}const Bt={method:"POST",headers:be,body:JSON.stringify({installation:{sdkVersion:fi,appId:A.appId}})},Ft=yield Ut(()=>fetch(oe,Bt));if(Ft.ok)return dn(yield Ft.json());throw yield Fn("Generate Auth Token",Ft)})).apply(this,arguments)}function vr(A){return Yo.apply(this,arguments)}function Yo(){return Yo=(0,Y.Z)(function*(A,F=!1){let H;const oe=yield _r(A.appConfig,Ue=>{if(!An(Ue))throw Dt.create("not-registered");const rt=Ue.authToken;if(!F&&function ri(A){return 2===A.requestStatus&&!function Gi(A){const F=Date.now();return F<A.creationTime||A.creationTime+A.expiresIn<F+He}(A)}(rt))return Ue;if(1===rt.requestStatus)return H=function Je(A,F){return ze.apply(this,arguments)}(A,F),Ue;{if(!navigator.onLine)throw Dt.create("app-offline");const Bt=function Zi(A){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:F})}(Ue);return H=function Zt(A,F){return kt.apply(this,arguments)}(A,Bt),Bt}});return H?yield H:oe.authToken}),Yo.apply(this,arguments)}function ze(){return(ze=(0,Y.Z)(function*(A,F){let H=yield _t(A.appConfig);for(;1===H.authToken.requestStatus;)yield ni(100),H=yield _t(A.appConfig);const oe=H.authToken;return 0===oe.requestStatus?vr(A,F):oe})).apply(this,arguments)}function _t(A){return _r(A,F=>{if(!An(F))throw Dt.create("not-registered");return function er(A){return 1===A.requestStatus&&A.requestTime+rn<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function kt(){return kt=(0,Y.Z)(function*(A,F){try{const H=yield function xn(A,F){return ai.apply(this,arguments)}(A,F),oe=Object.assign(Object.assign({},F),{authToken:H});return yield qn(A.appConfig,oe),H}catch(H){if(!bt(H)||401!==H.customData.serverCode&&404!==H.customData.serverCode){const oe=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield qn(A.appConfig,oe)}else yield pi(A.appConfig);throw H}}),kt.apply(this,arguments)}function An(A){return void 0!==A&&2===A.registrationStatus}function _o(){return(_o=(0,Y.Z)(function*(A){const F=A,{installationEntry:H,registrationPromise:oe}=yield fe(F);return oe?oe.catch(console.error):vr(F).catch(console.error),H.fid})).apply(this,arguments)}function No(){return No=(0,Y.Z)(function*(A,F=!1){const H=A;return yield function ls(A){return vs.apply(this,arguments)}(H),(yield vr(H,F)).token}),No.apply(this,arguments)}function vs(){return(vs=(0,Y.Z)(function*(A){const{registrationPromise:F}=yield fe(A);F&&(yield F)})).apply(this,arguments)}function Ls(A){return Dt.create("missing-app-config-values",{valueName:A})}const nc="installations",ra=A=>{const F=A.getProvider("app").getImmediate(),H=function $r(A){if(!A||!A.options)throw Ls("App Configuration");if(!A.name)throw Ls("App Name");const F=["projectId","apiKey","appId"];for(const H of F)if(!A.options[H])throw Ls(H);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(F);return{app:F,appConfig:H,heartbeatServiceProvider:(0,pe._getProvider)(F,"heartbeat"),_delete:()=>Promise.resolve()}},Ec=A=>{const F=A.getProvider("app").getImmediate(),H=(0,pe._getProvider)(F,nc).getImmediate();return{getId:()=>function Ur(A){return _o.apply(this,arguments)}(H),getToken:be=>function Ta(A){return No.apply(this,arguments)}(H,be)}};(function Ic(){(0,pe._registerComponent)(new ke.wA(nc,ra,"PUBLIC")),(0,pe._registerComponent)(new ke.wA("installations-internal",Ec,"PRIVATE"))})(),(0,pe.registerVersion)(nn,un),(0,pe.registerVersion)(nn,un,"esm2017");const Us="@firebase/remote-config",yr=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class En{constructor(F,H,oe,be){this.client=F,this.storage=H,this.storageCache=oe,this.logger=be}isCachedDataFresh(F,H){if(!H)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const oe=Date.now()-H,be=oe<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${oe}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${be}.`),be}fetch(F){var H=this;return(0,Y.Z)(function*(){const[oe,be]=yield Promise.all([H.storage.getLastSuccessfulFetchTimestampMillis(),H.storage.getLastSuccessfulFetchResponse()]);if(be&&H.isCachedDataFresh(F.cacheMaxAgeMillis,oe))return be;F.eTag=be&&be.eTag;const Ue=yield H.client.fetch(F),rt=[H.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ue.status&&rt.push(H.storage.setLastSuccessfulFetchResponse(Ue)),yield Promise.all(rt),Ue})()}}function Ii(A=navigator){return A.languages&&A.languages[0]||A.language}class so{constructor(F,H,oe,be,Ue,rt){this.firebaseInstallations=F,this.sdkVersion=H,this.namespace=oe,this.projectId=be,this.apiKey=Ue,this.appId=rt}fetch(F){var H=this;return(0,Y.Z)(function*(){const[oe,be]=yield Promise.all([H.firebaseInstallations.getId(),H.firebaseInstallations.getToken()]),rt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${H.projectId}/namespaces/${H.namespace}:fetch?key=${H.apiKey}`,Bt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},Ft={sdk_version:H.sdkVersion,app_instance_id:oe,app_instance_id_token:be,app_id:H.appId,language_code:Ii()},hn={method:"POST",headers:Bt,body:JSON.stringify(Ft)},Un=fetch(rt,hn),Dn=new Promise((ja,Fr)=>{F.signal.addEventListener(()=>{const bl=new Error("The operation was aborted.");bl.name="AbortError",Fr(bl)})});let ps;try{yield Promise.race([Un,Dn]),ps=yield Un}catch(ja){let Fr="fetch-client-network";throw"AbortError"===ja?.name&&(Fr="fetch-timeout"),yr.create(Fr,{originalErrorMessage:ja?.message})}let Oo=ps.status;const Xi=ps.headers.get("ETag")||void 0;let Su,Ba;if(200===ps.status){let ja;try{ja=yield ps.json()}catch(Fr){throw yr.create("fetch-client-parse",{originalErrorMessage:Fr?.message})}Su=ja.entries,Ba=ja.state}if("INSTANCE_STATE_UNSPECIFIED"===Ba?Oo=500:"NO_CHANGE"===Ba?Oo=304:("NO_TEMPLATE"===Ba||"EMPTY_CONFIG"===Ba)&&(Su={}),304!==Oo&&200!==Oo)throw yr.create("fetch-status",{httpStatus:Oo});return{status:Oo,eTag:Xi,config:Su}})()}}class Qo{constructor(F,H){this.client=F,this.storage=H}fetch(F){var H=this;return(0,Y.Z)(function*(){const oe=(yield H.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return H.attemptFetch(F,oe)})()}attemptFetch(F,{throttleEndTimeMillis:H,backoffCount:oe}){var be=this;return(0,Y.Z)(function*(){yield function Bs(A,F){return new Promise((H,oe)=>{const be=Math.max(F-Date.now(),0),Ue=setTimeout(H,be);A.addEventListener(()=>{clearTimeout(Ue),oe(yr.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,H);try{const Ue=yield be.client.fetch(F);return yield be.storage.deleteThrottleMetadata(),Ue}catch(Ue){if(!function kn(A){if(!(A instanceof ce.ZR&&A.customData))return!1;const F=Number(A.customData.httpStatus);return 429===F||500===F||503===F||504===F}(Ue))throw Ue;const rt={throttleEndTimeMillis:Date.now()+(0,ce.$s)(oe),backoffCount:oe+1};return yield be.storage.setThrottleMetadata(rt),be.attemptFetch(F,rt)}})()}}class Jo{constructor(F,H,oe,be,Ue){this.app=F,this._client=H,this._storageCache=oe,this._storage=be,this._logger=Ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function on(A,F){const H=A.target.error||void 0;return yr.create(F,{originalErrorMessage:H&&H?.message})}const qr="app_namespace_store";class bs{constructor(F,H,oe,be=function xr(){return new Promise((A,F)=>{try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=oe=>{F(on(oe,"storage-open"))},H.onsuccess=oe=>{A(oe.target.result)},H.onupgradeneeded=oe=>{0===oe.oldVersion&&oe.target.result.createObjectStore(qr,{keyPath:"compositeKey"})}}catch(H){F(yr.create("storage-open",{originalErrorMessage:H?.message}))}})}()){this.appId=F,this.appName=H,this.namespace=oe,this.openDbPromise=be}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var H=this;return(0,Y.Z)(function*(){const oe=yield H.openDbPromise;return new Promise((be,Ue)=>{const Bt=oe.transaction([qr],"readonly").objectStore(qr),Ft=H.createCompositeKey(F);try{const hn=Bt.get(Ft);hn.onerror=Un=>{Ue(on(Un,"storage-get"))},hn.onsuccess=Un=>{const Dn=Un.target.result;be(Dn?Dn.value:void 0)}}catch(hn){Ue(yr.create("storage-get",{originalErrorMessage:hn?.message}))}})})()}set(F,H){var oe=this;return(0,Y.Z)(function*(){const be=yield oe.openDbPromise;return new Promise((Ue,rt)=>{const Ft=be.transaction([qr],"readwrite").objectStore(qr),hn=oe.createCompositeKey(F);try{const Un=Ft.put({compositeKey:hn,value:H});Un.onerror=Dn=>{rt(on(Dn,"storage-set"))},Un.onsuccess=()=>{Ue()}}catch(Un){rt(yr.create("storage-set",{originalErrorMessage:Un?.message}))}})})()}delete(F){var H=this;return(0,Y.Z)(function*(){const oe=yield H.openDbPromise;return new Promise((be,Ue)=>{const Bt=oe.transaction([qr],"readwrite").objectStore(qr),Ft=H.createCompositeKey(F);try{const hn=Bt.delete(Ft);hn.onerror=Un=>{Ue(on(Un,"storage-delete"))},hn.onsuccess=()=>{be()}}catch(hn){Ue(yr.create("storage-delete",{originalErrorMessage:hn?.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class Uo{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,Y.Z)(function*(){const H=F.storage.getLastFetchStatus(),oe=F.storage.getLastSuccessfulFetchTimestampMillis(),be=F.storage.getActiveConfig(),Ue=yield H;Ue&&(F.lastFetchStatus=Ue);const rt=yield oe;rt&&(F.lastSuccessfulFetchTimestampMillis=rt);const Bt=yield be;Bt&&(F.activeConfig=Bt)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function Da(){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,Y.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function Er(){(0,pe._registerComponent)(new ke.wA("remote-config",function A(F,{instanceIdentifier:H}){const oe=F.getProvider("app").getImmediate(),be=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw yr.create("registration-window");if(!(0,ce.hl)())throw yr.create("indexed-db-unavailable");const{projectId:Ue,apiKey:rt,appId:Bt}=oe.options;if(!Ue)throw yr.create("registration-project-id");if(!rt)throw yr.create("registration-api-key");if(!Bt)throw yr.create("registration-app-id");const Ft=new bs(Bt,oe.name,H=H||"firebase"),hn=new Uo(Ft),Un=new Ae.Yd(Us);Un.logLevel=Ae.in.ERROR;const Dn=new so(be,pe.SDK_VERSION,H,Ue,rt,Bt),ps=new Qo(Dn,Ft),Oo=new En(ps,Ft,hn,Un),Xi=new Jo(oe,Oo,hn,Ft,Un);return function br(A){const F=(0,ce.m9)(A);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(Xi),Xi},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(Us,"0.4.4"),(0,pe.registerVersion)(Us,"0.4.4","esm2017")}();const Vo=(A,F)=>F.some(H=>A instanceof H);let Gr,ei;const Oa=new WeakMap,Ar=new WeakMap,rr=new WeakMap,Wr=new WeakMap,ua=new WeakMap;let Zr={get(A,F,H){if(A instanceof IDBTransaction){if("done"===F)return Ar.get(A);if("objectStoreNames"===F)return A.objectStoreNames||rr.get(A);if("store"===F)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return Yr(A[F])},set:(A,F,H)=>(A[F]=H,!0),has:(A,F)=>A instanceof IDBTransaction&&("done"===F||"store"===F)||F in A};function Pr(A){return"function"==typeof A?function cl(A){return A!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function gu(){return ei||(ei=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(A)?function(...F){return A.apply(di(this),F),Yr(Oa.get(this))}:function(...F){return Yr(A.apply(di(this),F))}:function(F,...H){const oe=A.call(di(this),F,...H);return rr.set(oe,F.sort?F.sort():[F]),Yr(oe)}}(A):(A instanceof IDBTransaction&&function al(A){if(Ar.has(A))return;const F=new Promise((H,oe)=>{const be=()=>{A.removeEventListener("complete",Ue),A.removeEventListener("error",rt),A.removeEventListener("abort",rt)},Ue=()=>{H(),be()},rt=()=>{oe(A.error||new DOMException("AbortError","AbortError")),be()};A.addEventListener("complete",Ue),A.addEventListener("error",rt),A.addEventListener("abort",rt)});Ar.set(A,F)}(A),Vo(A,function Oc(){return Gr||(Gr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(A,Zr):A)}function Yr(A){if(A instanceof IDBRequest)return function Hi(A){const F=new Promise((H,oe)=>{const be=()=>{A.removeEventListener("success",Ue),A.removeEventListener("error",rt)},Ue=()=>{H(Yr(A.result)),be()},rt=()=>{oe(A.error),be()};A.addEventListener("success",Ue),A.addEventListener("error",rt)});return F.then(H=>{H instanceof IDBCursor&&Oa.set(H,A)}).catch(()=>{}),ua.set(F,A),F}(A);if(Wr.has(A))return Wr.get(A);const F=Pr(A);return F!==A&&(Wr.set(A,F),ua.set(F,A)),F}const di=A=>ua.get(A);function da(A,F,{blocked:H,upgrade:oe,blocking:be,terminated:Ue}={}){const rt=indexedDB.open(A,F),Bt=Yr(rt);return oe&&rt.addEventListener("upgradeneeded",Ft=>{oe(Yr(rt.result),Ft.oldVersion,Ft.newVersion,Yr(rt.transaction))}),H&&rt.addEventListener("blocked",()=>H()),Bt.then(Ft=>{Ue&&Ft.addEventListener("close",()=>Ue()),be&&Ft.addEventListener("versionchange",()=>be())}).catch(()=>{}),Bt}function oi(A,{blocked:F}={}){const H=indexedDB.deleteDatabase(A);return F&&H.addEventListener("blocked",()=>F()),Yr(H).then(()=>{})}const kr=["get","getKey","getAll","getAllKeys","count"],Ul=["put","add","delete","clear"],ws=new Map;function Ac(A,F){if(!(A instanceof IDBDatabase)||F in A||"string"!=typeof F)return;if(ws.get(F))return ws.get(F);const H=F.replace(/FromIndex$/,""),oe=F!==H,be=Ul.includes(H);if(!(H in(oe?IDBIndex:IDBObjectStore).prototype)||!be&&!kr.includes(H))return;const Ue=function(){var rt=(0,Y.Z)(function*(Bt,...Ft){const hn=this.transaction(Bt,be?"readwrite":"readonly");let Un=hn.store;return oe&&(Un=Un.index(Ft.shift())),(yield Promise.all([Un[H](...Ft),be&&hn.done]))[0]});return function(Ft){return rt.apply(this,arguments)}}();return ws.set(F,Ue),Ue}!function Mr(A){Zr=A(Zr)}(A=>({...A,get:(F,H,oe)=>Ac(F,H)||A.get(F,H,oe),has:(F,H)=>!!Ac(F,H)||A.has(F,H)}));const Aa="/firebase-messaging-sw.js",Pc="/firebase-cloud-messaging-push-scope",oc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Vl="https://fcmregistrations.googleapis.com/v1",mi="google.c.a.c_id",_u="google.c.a.c_l",kc="google.c.a.ts";var sc=function(A){return A.PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",A}(sc||{});function bo(A){const F=new Uint8Array(A);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ac(A){const H=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),oe=atob(H),be=new Uint8Array(oe.length);for(let Ue=0;Ue<oe.length;++Ue)be[Ue]=oe.charCodeAt(Ue);return be}const ha="fcm_token_details_db",Cs=5,Bl="fcm_token_object_Store";function Rr(){return Rr=(0,Y.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ue=>Ue.name).includes(ha))return null;let F=null;return(yield da(ha,Cs,{upgrade:(oe=(0,Y.Z)(function*(be,Ue,rt,Bt){var Ft;if(Ue<2||!be.objectStoreNames.contains(Bl))return;const hn=Bt.objectStore(Bl),Un=yield hn.index("fcmSenderId").get(A);if(yield hn.clear(),Un)if(2===Ue){const Dn=Un;if(!Dn.auth||!Dn.p256dh||!Dn.endpoint)return;F={token:Dn.fcmToken,createTime:null!==(Ft=Dn.createTime)&&void 0!==Ft?Ft:Date.now(),subscriptionOptions:{auth:Dn.auth,p256dh:Dn.p256dh,endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:"string"==typeof Dn.vapidKey?Dn.vapidKey:bo(Dn.vapidKey)}}}else if(3===Ue){const Dn=Un;F={token:Dn.fcmToken,createTime:Dn.createTime,subscriptionOptions:{auth:bo(Dn.auth),p256dh:bo(Dn.p256dh),endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:bo(Dn.vapidKey)}}}else if(4===Ue){const Dn=Un;F={token:Dn.fcmToken,createTime:Dn.createTime,subscriptionOptions:{auth:bo(Dn.auth),p256dh:bo(Dn.p256dh),endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:bo(Dn.vapidKey)}}}}),function(Ue,rt,Bt,Ft){return oe.apply(this,arguments)})})).close(),yield oi(ha),yield oi("fcm_vapid_details_db"),yield oi("undefined"),function js(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:F}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}(F)?F:null;var oe}),Rr.apply(this,arguments)}const fa="firebase-messaging-database",Rc=1,jo="firebase-messaging-store";let ur=null;function Pa(){return ur||(ur=da(fa,Rc,{upgrade:(A,F)=>{0===F&&A.createObjectStore(jo)}})),ur}function Kr(A){return Nc.apply(this,arguments)}function Nc(){return Nc=(0,Y.Z)(function*(A){const F=pa(A),oe=yield(yield Pa()).transaction(jo).objectStore(jo).get(F);if(oe)return oe;{const be=yield function vu(A){return Rr.apply(this,arguments)}(A.appConfig.senderId);if(be)return yield wo(A,be),be}}),Nc.apply(this,arguments)}function wo(A,F){return cc.apply(this,arguments)}function cc(){return(cc=(0,Y.Z)(function*(A,F){const H=pa(A),be=(yield Pa()).transaction(jo,"readwrite");return yield be.objectStore(jo).put(F,H),yield be.done,F})).apply(this,arguments)}function zs(){return(zs=(0,Y.Z)(function*(A){const F=pa(A),oe=(yield Pa()).transaction(jo,"readwrite");yield oe.objectStore(jo).delete(F),yield oe.done})).apply(this,arguments)}function pa({appConfig:A}){return A.appId}const yi=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zo(A,F){return ka.apply(this,arguments)}function ka(){return(ka=(0,Y.Z)(function*(A,F){const H=yield Lc(A),oe=Ra(F),be={method:"POST",headers:H,body:JSON.stringify(oe)};let Ue;try{Ue=yield(yield fetch(Hs(A.appConfig),be)).json()}catch(rt){throw yi.create("token-subscribe-failed",{errorInfo:rt?.toString()})}if(Ue.error)throw yi.create("token-subscribe-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw yi.create("token-subscribe-no-token");return Ue.token})).apply(this,arguments)}function Xo(){return(Xo=(0,Y.Z)(function*(A,F){const H=yield Lc(A),oe=Ra(F.subscriptionOptions),be={method:"PATCH",headers:H,body:JSON.stringify(oe)};let Ue;try{Ue=yield(yield fetch(`${Hs(A.appConfig)}/${F.token}`,be)).json()}catch(rt){throw yi.create("token-update-failed",{errorInfo:rt?.toString()})}if(Ue.error)throw yi.create("token-update-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw yi.create("token-update-no-token");return Ue.token})).apply(this,arguments)}function Fc(A,F){return Co.apply(this,arguments)}function Co(){return(Co=(0,Y.Z)(function*(A,F){const oe={method:"DELETE",headers:yield Lc(A)};try{const Ue=yield(yield fetch(`${Hs(A.appConfig)}/${F}`,oe)).json();if(Ue.error)throw yi.create("token-unsubscribe-failed",{errorInfo:Ue.error.message})}catch(be){throw yi.create("token-unsubscribe-failed",{errorInfo:be?.toString()})}})).apply(this,arguments)}function Hs({projectId:A}){return`${Vl}/projects/${A}/registrations`}function Lc(A){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,Y.Z)(function*({appConfig:A,installations:F}){const H=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${H}`})})).apply(this,arguments)}function Ra({p256dh:A,auth:F,endpoint:H,vapidKey:oe}){const be={web:{endpoint:H,auth:F,p256dh:A}};return oe!==oc&&(be.web.applicationPubKey=oe),be}const C=6048e5;function j(){return j=(0,Y.Z)(function*(A){const F=yield function dr(A,F){return xo.apply(this,arguments)}(A.swRegistration,A.vapidKey),H={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:F.endpoint,auth:bo(F.getKey("auth")),p256dh:bo(F.getKey("p256dh"))},oe=yield Kr(A.firebaseDependencies);if(oe){if(function es(A,F){return F.vapidKey===A.vapidKey&&F.endpoint===A.endpoint&&F.auth===A.auth&&F.p256dh===A.p256dh}(oe.subscriptionOptions,H))return Date.now()>=oe.createTime+C?function Ke(A,F){return Rt.apply(this,arguments)}(A,{token:oe.token,createTime:Date.now(),subscriptionOptions:H}):oe.token;try{yield Fc(A.firebaseDependencies,oe.token)}catch(be){console.warn(be)}return Gn(A.firebaseDependencies,H)}return Gn(A.firebaseDependencies,H)}),j.apply(this,arguments)}function ve(){return ve=(0,Y.Z)(function*(A){const F=yield Kr(A.firebaseDependencies);F&&(yield Fc(A.firebaseDependencies,F.token),yield function jl(A){return zs.apply(this,arguments)}(A.firebaseDependencies));const H=yield A.swRegistration.pushManager.getSubscription();return!H||H.unsubscribe()}),ve.apply(this,arguments)}function Rt(){return Rt=(0,Y.Z)(function*(A,F){try{const H=yield function It(A,F){return Xo.apply(this,arguments)}(A.firebaseDependencies,F),oe=Object.assign(Object.assign({},F),{token:H,createTime:Date.now()});return yield wo(A.firebaseDependencies,oe),H}catch(H){throw yield function ee(A){return ve.apply(this,arguments)}(A),H}}),Rt.apply(this,arguments)}function Gn(A,F){return ti.apply(this,arguments)}function ti(){return(ti=(0,Y.Z)(function*(A,F){const oe={token:yield zo(A,F),createTime:Date.now(),subscriptionOptions:F};return yield wo(A,oe),oe.token})).apply(this,arguments)}function xo(){return(xo=(0,Y.Z)(function*(A,F){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ac(F)})})).apply(this,arguments)}function Uc(A){const F={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function $s(A,F){if(!F.notification)return;A.notification={};const H=F.notification.title;H&&(A.notification.title=H);const oe=F.notification.body;oe&&(A.notification.body=oe);const be=F.notification.image;be&&(A.notification.image=be);const Ue=F.notification.icon;Ue&&(A.notification.icon=Ue)}(F,A),function ul(A,F){F.data&&(A.data=F.data)}(F,A),function Eo(A,F){var H,oe,be,Ue,rt;if(!(F.fcmOptions||null!==(H=F.notification)&&void 0!==H&&H.click_action))return;A.fcmOptions={};const Bt=null!==(be=null===(oe=F.fcmOptions)||void 0===oe?void 0:oe.link)&&void 0!==be?be:null===(Ue=F.notification)||void 0===Ue?void 0:Ue.click_action;Bt&&(A.fcmOptions.link=Bt);const Ft=null===(rt=F.fcmOptions)||void 0===rt?void 0:rt.analytics_label;Ft&&(A.fcmOptions.analyticsLabel=Ft)}(F,A),F}function ed(A,F){const H=[];for(let oe=0;oe<A.length;oe++)H.push(A.charAt(oe)),oe<F.length&&H.push(F.charAt(oe));return H.join("")}function yu(A){return yi.create("missing-app-config-values",{valueName:A})}ed("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ed("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hh{constructor(F,H,oe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const be=function zh(A){if(!A||!A.options)throw yu("App Configuration Object");if(!A.name)throw yu("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:H}=A;for(const oe of F)if(!H[oe])throw yu(oe);return{appName:A.name,projectId:H.projectId,apiKey:H.apiKey,appId:H.appId,senderId:H.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:be,installations:H,analyticsProvider:oe}}_delete(){return Promise.resolve()}}function Hl(){return(Hl=(0,Y.Z)(function*(A){try{A.swRegistration=yield navigator.serviceWorker.register(Aa,{scope:Pc}),A.swRegistration.update().catch(()=>{})}catch(F){throw yi.create("failed-service-worker-registration",{browserErrorMessage:F?.message})}})).apply(this,arguments)}function xs(){return(xs=(0,Y.Z)(function*(A,F){if(!F&&!A.swRegistration&&(yield function zl(A){return Hl.apply(this,arguments)}(A)),F||!A.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw yi.create("invalid-sw-registration");A.swRegistration=F}})).apply(this,arguments)}function dl(){return(dl=(0,Y.Z)(function*(A,F){F?A.vapidKey=F:A.vapidKey||(A.vapidKey=oc)})).apply(this,arguments)}function bu(){return bu=(0,Y.Z)(function*(A,F){if(!navigator)throw yi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yi.create("permission-blocked");return yield function Vc(A,F){return dl.apply(this,arguments)}(A,F?.vapidKey),yield function td(A,F){return xs.apply(this,arguments)}(A,F?.serviceWorkerRegistration),function N(A){return j.apply(this,arguments)}(A)}),bu.apply(this,arguments)}function Es(){return(Es=(0,Y.Z)(function*(A,F,H){const oe=function Qd(A){switch(A){case sc.NOTIFICATION_CLICKED:return"notification_open";case sc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(F);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(oe,{message_id:H[mi],message_name:H[_u],message_time:H[kc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Mi(){return Mi=(0,Y.Z)(function*(A,F){const H=F.data;if(!H.isFirebaseMessaging)return;A.onMessageHandler&&H.messageType===sc.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(Uc(H)):A.onMessageHandler.next(Uc(H)));const oe=H.data;(function Io(A){return"object"==typeof A&&!!A&&mi in A})(oe)&&"1"===oe["google.c.a.e"]&&(yield function Xf(A,F,H){return Es.apply(this,arguments)}(A,H.messageType,oe))}),Mi.apply(this,arguments)}const hl="@firebase/messaging",Ho=A=>{const F=new Hh(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",H=>function wu(A,F){return Mi.apply(this,arguments)}(F,H)),F},Qr=A=>{const F=A.getProvider("messaging").getImmediate();return{getToken:oe=>function nd(A,F){return bu.apply(this,arguments)}(F,oe)}};function fl(){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,Y.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Jd(){(0,pe._registerComponent)(new ke.wA("messaging",Ho,"PUBLIC")),(0,pe._registerComponent)(new ke.wA("messaging-internal",Qr,"PRIVATE")),(0,pe.registerVersion)(hl,"0.12.4"),(0,pe.registerVersion)(hl,"0.12.4","esm2017")}();const lc="analytics",Cu="firebase_id",In="origin",jc=6e4,ep="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",id="https://www.googletagmanager.com/gtag/js",Br=new Ae.Yd("@firebase/analytics"),Wi=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Is(A){if(!A.startsWith(id)){const F=Wi.create("invalid-gtag-resource",{gtagURL:A});return Br.warn(F.message),""}return A}function zc(A){return Promise.all(A.map(F=>F.catch(H=>H)))}function pt(){return(pt=(0,Y.Z)(function*(A,F,H,oe,be,Ue){const rt=oe[be];try{if(rt)yield F[rt];else{const Ft=(yield zc(H)).find(hn=>hn.measurementId===be);Ft&&(yield F[Ft.appId])}}catch(Bt){Br.error(Bt)}A("config",be,Ue)})).apply(this,arguments)}function Ms(){return(Ms=(0,Y.Z)(function*(A,F,H,oe,be){try{let Ue=[];if(be&&be.send_to){let rt=be.send_to;Array.isArray(rt)||(rt=[rt]);const Bt=yield zc(H);for(const Ft of rt){const hn=Bt.find(Dn=>Dn.measurementId===Ft),Un=hn&&F[hn.appId];if(!Un){Ue=[];break}Ue.push(Un)}}0===Ue.length&&(Ue=Object.values(F)),yield Promise.all(Ue),A("event",oe,be||{})}catch(Ue){Br.error(Ue)}})).apply(this,arguments)}const To=30,ao=new class Qi{constructor(F={},H=1e3){this.throttleMetadata=F,this.intervalMillis=H}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,H){this.throttleMetadata[F]=H}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function np(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function or(){return(or=(0,Y.Z)(function*(A){var F;const{appId:H,apiKey:oe}=A,be={method:"GET",headers:np(oe)},Ue=ep.replace("{app-id}",H),rt=yield fetch(Ue,be);if(200!==rt.status&&304!==rt.status){let Bt="";try{const Ft=yield rt.json();null!==(F=Ft.error)&&void 0!==F&&F.message&&(Bt=Ft.error.message)}catch{}throw Wi.create("config-fetch-failed",{httpStatus:rt.status,responseMessage:Bt})}return rt.json()})).apply(this,arguments)}function hr(){return(hr=(0,Y.Z)(function*(A,F=ao,H){const{appId:oe,apiKey:be,measurementId:Ue}=A.options;if(!oe)throw Wi.create("no-app-id");if(!be){if(Ue)return{measurementId:Ue,appId:oe};throw Wi.create("no-api-key")}const rt=F.getThrottleMetadata(oe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Bt=new ma;return setTimeout((0,Y.Z)(function*(){Bt.abort()}),void 0!==H?H:jc),co({appId:oe,apiKey:be,measurementId:Ue},rt,Bt,F)})).apply(this,arguments)}function co(A,F,H){return Jr.apply(this,arguments)}function Jr(){return Jr=(0,Y.Z)(function*(A,{throttleEndTimeMillis:F,backoffCount:H},oe,be=ao){var Ue;const{appId:rt,measurementId:Bt}=A;try{yield function Xr(A,F){return new Promise((H,oe)=>{const be=Math.max(F-Date.now(),0),Ue=setTimeout(H,be);A.addEventListener(()=>{clearTimeout(Ue),oe(Wi.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(oe,F)}catch(Ft){if(Bt)return Br.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bt} provided in the "measurementId" field in the local Firebase config. [${Ft?.message}]`),{appId:rt,measurementId:Bt};throw Ft}try{const Ft=yield function a_(A){return or.apply(this,arguments)}(A);return be.deleteThrottleMetadata(rt),Ft}catch(Ft){const hn=Ft;if(!function Gh(A){if(!(A instanceof ce.ZR&&A.customData))return!1;const F=Number(A.customData.httpStatus);return 429===F||500===F||503===F||504===F}(hn)){if(be.deleteThrottleMetadata(rt),Bt)return Br.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bt} provided in the "measurementId" field in the local Firebase config. [${hn?.message}]`),{appId:rt,measurementId:Bt};throw Ft}const Un=503===Number(null===(Ue=hn?.customData)||void 0===Ue?void 0:Ue.httpStatus)?(0,ce.$s)(H,be.intervalMillis,To):(0,ce.$s)(H,be.intervalMillis),Dn={throttleEndTimeMillis:Date.now()+Un,backoffCount:H+1};return be.setThrottleMetadata(rt,Dn),Br.debug(`Calling attemptFetch again in ${Un} millis`),co(A,Dn,oe,be)}}),Jr.apply(this,arguments)}class ma{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}let od,hc;function Eu(){return(Eu=(0,Y.Z)(function*(A,F,H,oe,be){if(be&&be.global)A("event",H,oe);else{const Ue=yield F;A("event",H,Object.assign(Object.assign({},oe),{send_to:Ue}))}})).apply(this,arguments)}function ga(){return(ga=(0,Y.Z)(function*(){if(!(0,ce.hl)())return Br.warn(Wi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(A){return Br.warn(Wi.create("indexeddb-unavailable",{errorInfo:A?.toString()}).message),!1}return!0})).apply(this,arguments)}function _a(){return _a=(0,Y.Z)(function*(A,F,H,oe,be,Ue,rt){var Bt;const Ft=function Ji(A){return hr.apply(this,arguments)}(A);Ft.then(Oo=>{H[Oo.measurementId]=Oo.appId,A.options.measurementId&&Oo.measurementId!==A.options.measurementId&&Br.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${Oo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Oo=>Br.error(Oo)),F.push(Ft);const hn=function ts(){return ga.apply(this,arguments)}().then(Oo=>{if(Oo)return oe.getId()}),[Un,Dn]=yield Promise.all([Ft,hn]);(function rd(A){const F=window.document.getElementsByTagName("script");for(const H of Object.values(F))if(H.src&&H.src.includes(id)&&H.src.includes(A))return H;return null})(Ue)||function tp(A,F){const H=function nh(A,F){let H;return window.trustedTypes&&(H=window.trustedTypes.createPolicy(A,F)),H}("firebase-js-sdk-policy",{createScriptURL:Is}),oe=document.createElement("script"),be=`${id}?l=${A}&id=${F}`;oe.src=H?H?.createScriptURL(be):be,oe.async=!0,document.head.appendChild(oe)}(Ue,Un.measurementId),hc&&(be("consent","default",hc),function fc(A){hc=A}(void 0)),be("js",new Date);const ps=null!==(Bt=rt?.config)&&void 0!==Bt?Bt:{};return ps[In]="firebase",ps.update=!0,null!=Dn&&(ps[Cu]=Dn),be("config",Un.measurementId,ps),od&&(be("set",od),function Gl(A){od=A}(void 0)),Un.measurementId}),_a.apply(this,arguments)}class sh{constructor(F){this.app=F}_delete(){return delete ds[this.app.options.appId],Promise.resolve()}}let ds={},Hn=[];const ar={};let pc,ci,Do="dataLayer",La=!1;function Nr(A,F,H){!function Hc(){const A=[];if((0,ce.ru)()&&A.push("This is a browser extension environment."),(0,ce.zI)()||A.push("Cookies are not available."),A.length>0){const F=A.map((oe,be)=>`(${be+1}) ${oe}`).join(" "),H=Wi.create("invalid-analytics-context",{errorInfo:F});Br.warn(H.message)}}();const oe=A.options.appId;if(!oe)throw Wi.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw Wi.create("no-api-key");Br.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ds[oe])throw Wi.create("already-exists",{id:oe});if(!La){!function ih(A){let F=[];Array.isArray(window[A])?F=window[A]:window[A]=F}(Do);const{wrappedGtag:Ue,gtagCore:rt}=function Mo(A,F,H,oe,be){let Ue=function(...rt){window[oe].push(arguments)};return window[be]&&"function"==typeof window[be]&&(Ue=window[be]),window[be]=function xu(A,F,H,oe){function Ue(){return Ue=(0,Y.Z)(function*(rt,...Bt){try{if("event"===rt){const[Ft,hn]=Bt;yield function ii(A,F,H,oe,be){return Ms.apply(this,arguments)}(A,F,H,Ft,hn)}else if("config"===rt){const[Ft,hn]=Bt;yield function uc(A,F,H,oe,be,Ue){return pt.apply(this,arguments)}(A,F,H,oe,Ft,hn)}else if("consent"===rt){const[Ft]=Bt;A("consent","update",Ft)}else if("get"===rt){const[Ft,hn,Un]=Bt;A("get",Ft,hn,Un)}else if("set"===rt){const[Ft]=Bt;A("set",Ft)}else A(rt,...Bt)}catch(Ft){Br.error(Ft)}}),Ue.apply(this,arguments)}return function be(rt){return Ue.apply(this,arguments)}}(Ue,A,F,H),{gtagCore:Ue,wrappedGtag:window[be]}}(ds,Hn,ar,Do,"gtag");ci=Ue,pc=rt,La=!0}return ds[oe]=function sr(A,F,H,oe,be,Ue,rt){return _a.apply(this,arguments)}(A,Hn,ar,F,pc,Do,H),new sh(A)}function ip(){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,Y.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const $c="@firebase/analytics";!function ud(){(0,pe._registerComponent)(new ke.wA(lc,(F,{options:H})=>Nr(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),H),"PUBLIC")),(0,pe._registerComponent)(new ke.wA("analytics-internal",function A(F){try{const H=F.getProvider(lc).getImmediate();return{logEvent:(oe,be,Ue)=>function Wh(A,F,H,oe){A=(0,ce.m9)(A),function vm(A,F,H,oe,be){return Eu.apply(this,arguments)}(ci,ds[A.app.options.appId],F,H,oe).catch(be=>Br.error(be))}(H,oe,be,Ue)}}catch(H){throw Wi.create("interop-component-reg-failed",{reason:H})}},"PRIVATE")),(0,pe.registerVersion)($c,"0.10.0"),(0,pe.registerVersion)($c,"0.10.0","esm2017")}();var _l=Q(1954),hs=Q(2631);const Yh=new class Zh extends hs.v{}(class Mu extends _l.o{constructor(F,H){super(F,H),this.scheduler=F,this.work=H}schedule(F,H=0){return H>0?super.schedule(F,H):(this.delay=H,this.state=F,this.scheduler.flush(this),this)}execute(F,H){return H>0||this.closed?super.execute(F,H):this._execute(F,H)}requestAsyncId(F,H,oe=0){return null!=oe&&oe>0||null==oe&&this.delay>0?super.requestAsyncId(F,H,oe):(F.flush(this),0)}});var Kh=Q(6321),$o=Q(5592),dd=Q(9397),Gs=Q(5137),Yl=Q(3093);const Tu=new a.GfV("7.6.1"),Kl="__angularfire_symbol__analyticsIsSupportedValue",Ql="__angularfire_symbol__analyticsIsSupported",hd="__angularfire_symbol__remoteConfigIsSupportedValue",Jl="__angularfire_symbol__remoteConfigIsSupported",Xl="__angularfire_symbol__messagingIsSupportedValue",Ws="__angularfire_symbol__messagingIsSupported";function lh(A,F,H){if(F){if(1===F.length)return F[0];const Ue=F.filter(rt=>rt.app===H);if(1===Ue.length)return Ue[0]}return H.container.getProvider(A).getImmediate({optional:!0})}globalThis[Ql]||(globalThis[Ql]=ip().then(A=>globalThis[Kl]=A).catch(()=>globalThis[Kl]=!1)),globalThis[Ws]||(globalThis[Ws]=fl().then(A=>globalThis[Xl]=A).catch(()=>globalThis[Xl]=!1)),globalThis[Jl]||(globalThis[Jl]=Da().then(A=>globalThis[hd]=A).catch(()=>globalThis[hd]=!1));const uh=(A,F)=>{const H=F?[F]:(0,U.C6)(),oe=[];return H.forEach(be=>{be.container.getProvider(A).instances.forEach(rt=>{oe.includes(rt)||oe.push(rt)})}),oe};function vl(){}class ns{constructor(F,H=Yh){this.zone=F,this.delegate=H}now(){return this.delegate.now()}schedule(F,H,oe){const be=this.zone;return this.delegate.schedule(function(rt){be.runGuarded(()=>{F.apply(this,[rt])})},H,oe)}}class Gc{constructor(F){this.zone=F,this.task=null}call(F,H){const oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vl,{},vl,vl)),H.pipe((0,dd.b)({next:oe,complete:oe,error:oe})).subscribe(F).add(oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ri=(()=>{class A{constructor(H){this.ngZone=H,this.outsideAngular=H.runOutsideAngular(()=>new ns(Zone.current)),this.insideAngular=H.run(()=>new ns(Zone.current,Kh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(H){return new(H||A)(a.LFG(a.R0b))},A.\u0275prov=a.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function mc(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function Ti(A){return mc().ngZone.run(()=>A())}function fs(A){return mc(),function yl(A){return function(H){return(H=H.lift(new Gc(A.ngZone))).pipe((0,Gs.R)(A.outsideAngular),(0,Yl.Q)(A.insideAngular))}}(mc())(A)}const Va=(A,F)=>function(){const oe=arguments;return F&&setTimeout(()=>{"scheduled"===F.state&&F.invoke()},10),Ti(()=>A.apply(void 0,oe))},Wc=(A,F)=>function(){let H;const oe=arguments;for(let Ue=0;Ue<arguments.length;Ue++)"function"==typeof oe[Ue]&&(F&&(H||(H=Ti(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vl,{},vl,vl)))),oe[Ue]=Va(oe[Ue],H));const be=function pd(A){return mc().ngZone.runOutsideAngular(()=>A())}(()=>A.apply(this,oe));if(!F){if(be instanceof $o.y){const Ue=mc();return be.pipe((0,Gs.R)(Ue.outsideAngular),(0,Yl.Q)(Ue.insideAngular))}return Ti(()=>be)}return be instanceof $o.y?be.pipe(fs):be instanceof Promise?Ti(()=>new Promise((Ue,rt)=>be.then(Bt=>Ti(()=>Ue(Bt)),Bt=>Ti(()=>rt(Bt))))):"function"==typeof be&&H?function(){return setTimeout(()=>{H&&"scheduled"===H.state&&H.invoke()},10),be.apply(this,arguments)}:Ti(()=>be)}},6710:(en,De,Q)=>{Q.d(De,{$:()=>Aa,A:()=>G,D:()=>me,I:()=>tc,J:()=>ra,L:()=>Et,N:()=>_r,P:()=>sr,Q:()=>bs,R:()=>ml,U:()=>la,V:()=>Da,W:()=>Vi,X:()=>Ir,Y:()=>Oc,Z:()=>gu,_:()=>ua,a:()=>qs,a0:()=>oc,a1:()=>mi,a2:()=>Kd,a3:()=>Bl,a4:()=>Rr,a5:()=>fa,a6:()=>jo,a7:()=>Pa,a8:()=>Nc,a9:()=>cc,aA:()=>ue,aB:()=>Ql,aC:()=>pi,aD:()=>go,aE:()=>dd,aF:()=>Zl,aG:()=>ld,aH:()=>Ai,aL:()=>Bc,aO:()=>Gr,aa:()=>jl,ab:()=>pa,ac:()=>ll,ad:()=>It,ae:()=>Fc,af:()=>Hs,ai:()=>C,aj:()=>j,ak:()=>ee,an:()=>cl,ao:()=>$s,aq:()=>dl,ar:()=>hl,as:()=>Le,at:()=>Vt,au:()=>Qe,av:()=>xe,aw:()=>Dn,ax:()=>Ws,ay:()=>Xn,az:()=>nt,b:()=>Xd,c:()=>ci,d:()=>Nr,e:()=>jr,f:()=>$c,g:()=>Zh,h:()=>_l,i:()=>So,j:()=>Kh,k:()=>Ba,l:()=>us,m:()=>bl,o:()=>Jh,p:()=>ut,r:()=>dc,s:()=>ql,u:()=>ts,v:()=>Io,x:()=>zh});var a=Q(5861),U=Q(9058),Y=Q(534),pe=Q(7582),ce=Q(7879),ke=Q(4537);const ut={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const me=function de(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},lt=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},st=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Re=new ce.Yd("@firebase/auth");function Ze(D,...w){Re.logLevel<=ce.in.ERROR&&Re.error(`Auth (${Y.SDK_VERSION}): ${D}`,...w)}function xe(D,...w){throw he(D,...w)}function nt(D,...w){return he(D,...w)}function $e(D,w,I){const P=Object.assign(Object.assign({},lt()),{[w]:I});return new U.LL("auth","Firebase",P).create(w,{appName:D.name})}function it(D,w,I){if(!(w instanceof I))throw I.name!==w.constructor.name&&xe(D,"argument-error"),$e(D,"argument-error",`Type of ${w.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function he(D,...w){if("string"!=typeof D){const I=w[0],P=[...w.slice(1)];return P[0]&&(P[0].appName=D.name),D._errorFactory.create(I,...P)}return st.create(D,...w)}function ue(D,w,...I){if(!D)throw he(w,...I)}function Ge(D){const w="INTERNAL ASSERTION FAILED: "+D;throw Ze(w),new Error(w)}function Le(D,w){D||Ge(w)}function Ct(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function ot(){return"http:"===Yt()||"https:"===Yt()}function Yt(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class rn{constructor(w,I){this.shortDelay=w,this.longDelay=I,Le(I>w,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function nn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ot()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fi(D,w){Le(D.emulator,"Emulator should always be set here");const{url:I}=D.emulator;return w?`${I}${w.startsWith("/")?w.slice(1):w}`:I}class Te{static initialize(w,I,P){this.fetchImpl=w,I&&(this.headersImpl=I),P&&(this.responseImpl=P)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},He=new rn(3e4,6e4);function je(D,w){return D.tenantId&&!w.tenantId?Object.assign(Object.assign({},w),{tenantId:D.tenantId}):w}function ct(D,w,I,P){return gt.apply(this,arguments)}function gt(){return(gt=(0,a.Z)(function*(D,w,I,P,$={}){return Dt(D,$,(0,a.Z)(function*(){let J={},Se={};P&&("GET"===w?Se=P:J={body:JSON.stringify(P)});const Xe=(0,U.xO)(Object.assign({key:D.config.apiKey},Se)).slice(1),Pt=yield D._getAdditionalHeaders();return Pt["Content-Type"]="application/json",D.languageCode&&(Pt["X-Firebase-Locale"]=D.languageCode),Te.fetch()(Fn(D,D.config.apiHost,I,Xe),Object.assign({method:w,headers:Pt,referrerPolicy:"no-referrer"},J))}))})).apply(this,arguments)}function Dt(D,w,I){return bt.apply(this,arguments)}function bt(){return(bt=(0,a.Z)(function*(D,w,I){D._canInitEmulator=!1;const P=Object.assign(Object.assign({},Ce),w);try{const $=new fn(D),J=yield Promise.race([I(),$.promise]);$.clearNetworkTimeout();const Se=yield J.json();if("needConfirmation"in Se)throw tn(D,"account-exists-with-different-credential",Se);if(J.ok&&!("errorMessage"in Se))return Se;{const Xe=J.ok?Se.errorMessage:Se.error.message,[Pt,Nt]=Xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pt)throw tn(D,"credential-already-in-use",Se);if("EMAIL_EXISTS"===Pt)throw tn(D,"email-already-in-use",Se);if("USER_DISABLED"===Pt)throw tn(D,"user-disabled",Se);const pn=P[Pt]||Pt.toLowerCase().replace(/[_\s]+/g,"-");if(Nt)throw $e(D,pn,Nt);xe(D,pn)}}catch($){if($ instanceof U.ZR)throw $;xe(D,"network-request-failed",{message:String($)})}})).apply(this,arguments)}function Tn(D,w,I,P){return dn.apply(this,arguments)}function dn(){return(dn=(0,a.Z)(function*(D,w,I,P,$={}){const J=yield ct(D,w,I,P,$);return"mfaPendingCredential"in J&&xe(D,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function Fn(D,w,I,P){const $=`${w}${I}?${P}`;return D.config.emulator?fi(D.config,$):`${D.config.apiScheme}://${$}`}class fn{constructor(w){this.auth=w,this.timer=null,this.promise=new Promise((I,P)=>{this.timer=setTimeout(()=>P(nt(this.auth,"network-request-failed")),He.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tn(D,w,I){const P={appName:D.name};I.email&&(P.email=I.email),I.phoneNumber&&(P.phoneNumber=I.phoneNumber);const $=nt(D,w,P);return $.customData._tokenResponse=I,$}function Ut(){return(Ut=(0,a.Z)(function*(D,w){return ct(D,"POST","/v1/accounts:delete",w)})).apply(this,arguments)}function Ln(){return(Ln=(0,a.Z)(function*(D,w){return ct(D,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function wi(){return(wi=(0,a.Z)(function*(D,w){return ct(D,"POST","/v1/accounts:lookup",w)})).apply(this,arguments)}function Oi(D){if(D)try{const w=new Date(Number(D));if(!isNaN(w.getTime()))return w.toUTCString()}catch{}}function Ro(){return(Ro=(0,a.Z)(function*(D,w=!1){const I=(0,U.m9)(D),P=yield I.getIdToken(w),$=Kt(P);ue($&&$.exp&&$.auth_time&&$.iat,I.auth,"internal-error");const J="object"==typeof $.firebase?$.firebase:void 0,Se=J?.sign_in_provider;return{claims:$,token:P,authTime:Oi(sn($.auth_time)),issuedAtTime:Oi(sn($.iat)),expirationTime:Oi(sn($.exp)),signInProvider:Se||null,signInSecondFactor:J?.sign_in_second_factor||null}})).apply(this,arguments)}function sn(D){return 1e3*Number(D)}function Kt(D){const[w,I,P]=D.split(".");if(void 0===w||void 0===I||void 0===P)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,U.tV)(I);return $?JSON.parse($):(Ze("Failed to decode base64 JWT payload"),null)}catch($){return Ze("Caught error parsing JWT payload as JSON",$?.toString()),null}}function zt(D,w){return Me.apply(this,arguments)}function Me(){return(Me=(0,a.Z)(function*(D,w,I=!1){if(I)return w;try{return yield w}catch(P){throw P instanceof U.ZR&&function we({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}(P)&&D.auth.currentUser===D&&(yield D.auth.signOut()),P}})).apply(this,arguments)}class Ee{constructor(w){this.user=w,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(w){var I;if(w){const P=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),P}{this.errorBackoff=3e4;const $=(null!==(I=this.user.stsTokenManager.expirationTime)&&void 0!==I?I:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(w=!1){var I=this;if(!this.isRunning)return;const P=this.getInterval(w);this.timerId=setTimeout((0,a.Z)(function*(){yield I.iteration()}),P)}iteration(){var w=this;return(0,a.Z)(function*(){try{yield w.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===I?.code&&w.schedule(!0))}w.schedule()})()}}class qe{constructor(w,I){this.createdAt=w,this.lastLoginAt=I,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oi(this.lastLoginAt),this.creationTime=Oi(this.createdAt)}_copy(w){this.createdAt=w.createdAt,this.lastLoginAt=w.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fe(D){return xt.apply(this,arguments)}function xt(){return xt=(0,a.Z)(function*(D){var w;const I=D.auth,P=yield D.getIdToken(),$=yield zt(D,function Vn(D,w){return wi.apply(this,arguments)}(I,{idToken:P}));ue($?.users.length,I,"internal-error");const J=$.users[0];D._notifyReloadListener(J);const Se=null!==(w=J.providerUserInfo)&&void 0!==w&&w.length?function Ht(D){return D.map(w=>{var{providerId:I}=w,P=(0,pe._T)(w,["providerId"]);return{providerId:I,uid:P.rawId||"",displayName:P.displayName||null,email:P.email||null,phoneNumber:P.phoneNumber||null,photoURL:P.photoUrl||null}})}(J.providerUserInfo):[],Xe=function Xt(D,w){return[...D.filter(P=>!w.some($=>$.providerId===P.providerId)),...w]}(D.providerData,Se),pn=!!D.isAnonymous&&!(D.email&&J.passwordHash||Xe?.length),Wn={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:Xe,metadata:new qe(J.createdAt,J.lastLoginAt),isAnonymous:pn};Object.assign(D,Wn)}),xt.apply(this,arguments)}function jt(){return(jt=(0,a.Z)(function*(D){const w=(0,U.m9)(D);yield Fe(w),yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)})).apply(this,arguments)}function vi(){return(vi=(0,a.Z)(function*(D,w){const I=yield Dt(D,{},(0,a.Z)(function*(){const P=(0,U.xO)({grant_type:"refresh_token",refresh_token:w}).slice(1),{tokenApiHost:$,apiKey:J}=D.config,Se=Fn(D,$,"/v1/token",`key=${J}`),Xe=yield D._getAdditionalHeaders();return Xe["Content-Type"]="application/x-www-form-urlencoded",Te.fetch()(Se,{method:"POST",headers:Xe,body:P})}));return{accessToken:I.access_token,expiresIn:I.expires_in,refreshToken:I.refresh_token}})).apply(this,arguments)}class $n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(w){ue(w.idToken,"internal-error"),ue(typeof w.idToken<"u","internal-error"),ue(typeof w.refreshToken<"u","internal-error");const I="expiresIn"in w&&typeof w.expiresIn<"u"?Number(w.expiresIn):function Qt(D){const w=Kt(D);return ue(w,"internal-error"),ue(typeof w.exp<"u","internal-error"),ue(typeof w.iat<"u","internal-error"),Number(w.exp)-Number(w.iat)}(w.idToken);this.updateTokensAndExpiration(w.idToken,w.refreshToken,I)}getToken(w,I=!1){var P=this;return(0,a.Z)(function*(){return ue(!P.accessToken||P.refreshToken,w,"user-token-expired"),I||!P.accessToken||P.isExpired?P.refreshToken?(yield P.refresh(w,P.refreshToken),P.accessToken):null:P.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(w,I){var P=this;return(0,a.Z)(function*(){const{accessToken:$,refreshToken:J,expiresIn:Se}=yield function Ci(D,w){return vi.apply(this,arguments)}(w,I);P.updateTokensAndExpiration($,J,Number(Se))})()}updateTokensAndExpiration(w,I,P){this.refreshToken=I||null,this.accessToken=w||null,this.expirationTime=Date.now()+1e3*P}static fromJSON(w,I){const{refreshToken:P,accessToken:$,expirationTime:J}=I,Se=new $n;return P&&(ue("string"==typeof P,"internal-error",{appName:w}),Se.refreshToken=P),$&&(ue("string"==typeof $,"internal-error",{appName:w}),Se.accessToken=$),J&&(ue("number"==typeof J,"internal-error",{appName:w}),Se.expirationTime=J),Se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(w){this.accessToken=w.accessToken,this.refreshToken=w.refreshToken,this.expirationTime=w.expirationTime}_clone(){return Object.assign(new $n,this.toJSON())}_performRefresh(){return Ge("not implemented")}}function Li(D,w){ue("string"==typeof D||typeof D>"u","internal-error",{appName:w})}class qn{constructor(w){var{uid:I,auth:P,stsTokenManager:$}=w,J=(0,pe._T)(w,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=I,this.auth=P,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new qe(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(w){var I=this;return(0,a.Z)(function*(){const P=yield zt(I,I.stsTokenManager.getToken(I.auth,w));return ue(P,I.auth,"internal-error"),I.accessToken!==P&&(I.accessToken=P,yield I.auth._persistUserIfCurrent(I),I.auth._notifyListenersIfCurrent(I)),P})()}getIdTokenResult(w){return function zi(D){return Ro.apply(this,arguments)}(this,w)}reload(){return function mn(D){return jt.apply(this,arguments)}(this)}_assign(w){this!==w&&(ue(this.uid===w.uid,this.auth,"internal-error"),this.displayName=w.displayName,this.photoURL=w.photoURL,this.email=w.email,this.emailVerified=w.emailVerified,this.phoneNumber=w.phoneNumber,this.isAnonymous=w.isAnonymous,this.tenantId=w.tenantId,this.providerData=w.providerData.map(I=>Object.assign({},I)),this.metadata._copy(w.metadata),this.stsTokenManager._assign(w.stsTokenManager))}_clone(w){const I=new qn(Object.assign(Object.assign({},this),{auth:w,stsTokenManager:this.stsTokenManager._clone()}));return I.metadata._copy(this.metadata),I}_onReload(w){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=w,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(w){this.reloadListener?this.reloadListener(w):this.reloadUserInfo=w}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(w,I=!1){var P=this;return(0,a.Z)(function*(){let $=!1;w.idToken&&w.idToken!==P.stsTokenManager.accessToken&&(P.stsTokenManager.updateFromServerResponse(w),$=!0),I&&(yield Fe(P)),yield P.auth._persistUserIfCurrent(P),$&&P.auth._notifyListenersIfCurrent(P)})()}delete(){var w=this;return(0,a.Z)(function*(){const I=yield w.getIdToken();return yield zt(w,function Sn(D,w){return Ut.apply(this,arguments)}(w.auth,{idToken:I})),w.stsTokenManager.clearRefreshToken(),w.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(w=>Object.assign({},w)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(w,I){var P,$,J,Se,Xe,Pt,Nt,pn;const Wn=null!==(P=I.displayName)&&void 0!==P?P:void 0,eo=null!==($=I.email)&&void 0!==$?$:void 0,va=null!==(J=I.phoneNumber)&&void 0!==J?J:void 0,to=null!==(Se=I.photoURL)&&void 0!==Se?Se:void 0,cp=null!==(Xe=I.tenantId)&&void 0!==Xe?Xe:void 0,Xh=null!==(Pt=I._redirectEventId)&&void 0!==Pt?Pt:void 0,Zc=null!==(Nt=I.createdAt)&&void 0!==Nt?Nt:void 0,Du=null!==(pn=I.lastLoginAt)&&void 0!==pn?pn:void 0,{uid:wl,emailVerified:ef,isAnonymous:dh,providerData:tf,stsTokenManager:wm}=I;ue(wl&&wm,w,"internal-error");const tu=$n.fromJSON(this.name,wm);ue("string"==typeof wl,w,"internal-error"),Li(Wn,w.name),Li(eo,w.name),ue("boolean"==typeof ef,w,"internal-error"),ue("boolean"==typeof dh,w,"internal-error"),Li(va,w.name),Li(to,w.name),Li(cp,w.name),Li(Xh,w.name),Li(Zc,w.name),Li(Du,w.name);const hh=new qn({uid:wl,auth:w,email:eo,emailVerified:ef,displayName:Wn,isAnonymous:dh,photoURL:to,phoneNumber:va,tenantId:cp,stsTokenManager:tu,createdAt:Zc,lastLoginAt:Du});return tf&&Array.isArray(tf)&&(hh.providerData=tf.map(h_=>Object.assign({},h_))),Xh&&(hh._redirectEventId=Xh),hh}static _fromIdTokenResponse(w,I,P=!1){return(0,a.Z)(function*(){const $=new $n;$.updateFromServerResponse(I);const J=new qn({uid:I.localId,auth:w,stsTokenManager:$,isAnonymous:P});return yield Fe(J),J})()}}const gr=new Map;function pi(D){Le(D instanceof Function,"Expected a class definition");let w=gr.get(D);return w?(Le(w instanceof D,"Instance stored in cache mismatched with class"),w):(w=new D,gr.set(D,w),w)}const _r=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(I,P){var $=this;return(0,a.Z)(function*(){$.storage[I]=P})()}_get(I){var P=this;return(0,a.Z)(function*(){const $=P.storage[I];return void 0===$?null:$})()}_remove(I){var P=this;return(0,a.Z)(function*(){delete P.storage[I]})()}_addListener(I,P){}_removeListener(I,P){}}return D.type="NONE",D})();function go(D,w,I){return`firebase:${D}:${w}:${I}`}class fe{constructor(w,I,P){this.persistence=w,this.auth=I,this.userKey=P;const{config:$,name:J}=this.auth;this.fullUserKey=go(this.userKey,$.apiKey,J),this.fullPersistenceKey=go("persistence",$.apiKey,J),this.boundEventHandler=I._onStorageEvent.bind(I),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(w){return this.persistence._set(this.fullUserKey,w.toJSON())}getCurrentUser(){var w=this;return(0,a.Z)(function*(){const I=yield w.persistence._get(w.fullUserKey);return I?qn._fromJSON(w.auth,I):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(w){var I=this;return(0,a.Z)(function*(){if(I.persistence===w)return;const P=yield I.getCurrentUser();return yield I.removeCurrentUser(),I.persistence=w,P?I.setCurrentUser(P):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(w,I,P="authUser"){return(0,a.Z)(function*(){if(!I.length)return new fe(pi(_r),w,P);const $=(yield Promise.all(I.map(function(){var Nt=(0,a.Z)(function*(pn){if(yield pn._isAvailable())return pn});return function(pn){return Nt.apply(this,arguments)}}()))).filter(Nt=>Nt);let J=$[0]||pi(_r);const Se=go(P,w.config.apiKey,w.name);let Xe=null;for(const Nt of I)try{const pn=yield Nt._get(Se);if(pn){const Wn=qn._fromJSON(w,pn);Nt!==J&&(Xe=Wn),J=Nt;break}}catch{}const Pt=$.filter(Nt=>Nt._shouldAllowMigration);return J._shouldAllowMigration&&Pt.length?(J=Pt[0],Xe&&(yield J._set(Se,Xe.toJSON())),yield Promise.all(I.map(function(){var Nt=(0,a.Z)(function*(pn){if(pn!==J)try{yield pn._remove(Se)}catch{}});return function(pn){return Nt.apply(this,arguments)}}())),new fe(J,w,P)):new fe(J,w,P)})()}}function le(D){const w=D.toLowerCase();if(w.includes("opera/")||w.includes("opr/")||w.includes("opios/"))return"Opera";if(Oe(w))return"IEMobile";if(w.includes("msie")||w.includes("trident/"))return"IE";if(w.includes("edge/"))return"Edge";if(X(w))return"Firefox";if(w.includes("silk/"))return"Silk";if(St(w))return"Blackberry";if(yn(w))return"Webos";if(te(w))return"Safari";if((w.includes("chrome/")||K(w))&&!w.includes("edge/"))return"Chrome";if(Qe(w))return"Android";{const P=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===P?.length)return P[1]}return"Other"}function X(D=(0,U.z$)()){return/firefox\//i.test(D)}function te(D=(0,U.z$)()){const w=D.toLowerCase();return w.includes("safari/")&&!w.includes("chrome/")&&!w.includes("crios/")&&!w.includes("android")}function K(D=(0,U.z$)()){return/crios\//i.test(D)}function Oe(D=(0,U.z$)()){return/iemobile/i.test(D)}function Qe(D=(0,U.z$)()){return/android/i.test(D)}function St(D=(0,U.z$)()){return/blackberry/i.test(D)}function yn(D=(0,U.z$)()){return/webos/i.test(D)}function Vt(D=(0,U.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function Xn(D=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function Nn(D=(0,U.z$)()){return Vt(D)||Qe(D)||yn(D)||St(D)||/windows phone/i.test(D)||Oe(D)}function Yo(D,w=[]){let I;switch(D){case"Browser":I=le((0,U.z$)());break;case"Worker":I=`${le((0,U.z$)())}-${D}`;break;default:I=D}const P=w.length?w.join(","):"FirebaseCore-web";return`${I}/JsCore/${Y.SDK_VERSION}/${P}`}function ze(){return(ze=(0,a.Z)(function*(D){return(yield ct(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _t(D,w){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,a.Z)(function*(D,w){return ct(D,"GET","/v2/recaptchaConfig",je(D,w))})).apply(this,arguments)}function kt(D){return void 0!==D&&void 0!==D.getResponse}function An(D){return void 0!==D&&void 0!==D.enterprise}class ri{constructor(w){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===w.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=w.recaptchaKey.split("/")[3],this.emailPasswordEnabled=w.recaptchaEnforcementState.some(I=>"EMAIL_PASSWORD_PROVIDER"===I.provider&&"OFF"!==I.enforcementState)}}function Zi(D){return new Promise((w,I)=>{const P=document.createElement("script");P.setAttribute("src",D),P.onload=w,P.onerror=$=>{const J=nt("internal-error");J.customData=$,I(J)},P.type="text/javascript",P.charset="UTF-8",function Gi(){var D,w;return null!==(w=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==w?w:document}().appendChild(P)})}function er(D){return`__${D}${Math.floor(1e6*Math.random())}`}class No{constructor(w){this.type="recaptcha-enterprise",this.auth=Ai(w)}verify(w="verify",I=!1){var P=this;return(0,a.Z)(function*(){function J(){return J=(0,a.Z)(function*(Xe){if(!I){if(null==Xe.tenantId&&null!=Xe._agentRecaptchaConfig)return Xe._agentRecaptchaConfig.siteKey;if(null!=Xe.tenantId&&void 0!==Xe._tenantRecaptchaConfigs[Xe.tenantId])return Xe._tenantRecaptchaConfigs[Xe.tenantId].siteKey}return new Promise(function(){var Pt=(0,a.Z)(function*(Nt,pn){_t(Xe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Wn=>{if(void 0!==Wn.recaptchaKey){const eo=new ri(Wn);return null==Xe.tenantId?Xe._agentRecaptchaConfig=eo:Xe._tenantRecaptchaConfigs[Xe.tenantId]=eo,Nt(eo.siteKey)}pn(new Error("recaptcha Enterprise site key undefined"))}).catch(Wn=>{pn(Wn)})});return function(Nt,pn){return Pt.apply(this,arguments)}}())}),J.apply(this,arguments)}function Se(Xe,Pt,Nt){const pn=window.grecaptcha;An(pn)?pn.enterprise.ready(()=>{pn.enterprise.execute(Xe,{action:w}).then(Wn=>{Pt(Wn)}).catch(()=>{Pt("NO_RECAPTCHA")})}):Nt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Xe,Pt)=>{(function $(Xe){return J.apply(this,arguments)})(P.auth).then(Nt=>{if(!I&&An(window.grecaptcha))Se(Nt,Xe,Pt);else{if(typeof window>"u")return void Pt(new Error("RecaptchaVerifier is only supported in browser"));Zi("https://www.google.com/recaptcha/enterprise.js?render="+Nt).then(()=>{Se(Nt,Xe,Pt)}).catch(pn=>{Pt(pn)})}}).catch(Nt=>{Pt(Nt)})})})()}}function ls(D,w,I){return vs.apply(this,arguments)}function vs(){return(vs=(0,a.Z)(function*(D,w,I,P=!1){const $=new No(D);let J;try{J=yield $.verify(I)}catch{J=yield $.verify(I,!0)}const Se=Object.assign({},w);return Object.assign(Se,P?{captchaResp:J}:{captchaResponse:J}),Object.assign(Se,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Se,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Se})).apply(this,arguments)}class Ko{constructor(w){this.auth=w,this.queue=[]}pushCallback(w,I){const P=J=>new Promise((Se,Xe)=>{try{Se(w(J))}catch(Pt){Xe(Pt)}});P.onAbort=I,this.queue.push(P);const $=this.queue.length-1;return()=>{this.queue[$]=()=>Promise.resolve()}}runMiddleware(w){var I=this;return(0,a.Z)(function*(){if(I.auth.currentUser===w)return;const P=[];try{for(const $ of I.queue)yield $(w),$.onAbort&&P.push($.onAbort)}catch($){P.reverse();for(const J of P)try{J()}catch{}throw I.auth._errorFactory.create("login-blocked",{originalMessage:$?.message})}})()}}class jn{constructor(w,I,P,$){this.app=w,this.heartbeatServiceProvider=I,this.appCheckServiceProvider=P,this.config=$,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vo(this),this.idTokenSubscription=new vo(this),this.beforeStateQueue=new Ko(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=st,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=w.name,this.clientVersion=$.sdkClientVersion}_initializeWithPersistence(w,I){var P=this;return I&&(this._popupRedirectResolver=pi(I)),this._initializationPromise=this.queue((0,a.Z)(function*(){var $,J;if(!P._deleted&&(P.persistenceManager=yield fe.create(P,w),!P._deleted)){if(null!==($=P._popupRedirectResolver)&&void 0!==$&&$._shouldInitProactively)try{yield P._popupRedirectResolver._initialize(P)}catch{}yield P.initializeCurrentUser(I),P.lastNotifiedUid=(null===(J=P.currentUser)||void 0===J?void 0:J.uid)||null,!P._deleted&&(P._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var w=this;return(0,a.Z)(function*(){if(w._deleted)return;const I=yield w.assertedPersistence.getCurrentUser();if(w.currentUser||I){if(w.currentUser&&I&&w.currentUser.uid===I.uid)return w._currentUser._assign(I),void(yield w.currentUser.getIdToken());yield w._updateCurrentUser(I,!0)}})()}initializeCurrentUser(w){var I=this;return(0,a.Z)(function*(){var P;const $=yield I.assertedPersistence.getCurrentUser();let J=$,Se=!1;if(w&&I.config.authDomain){yield I.getOrInitRedirectPersistenceManager();const Xe=null===(P=I.redirectUser)||void 0===P?void 0:P._redirectEventId,Pt=J?._redirectEventId,Nt=yield I.tryRedirectSignIn(w);(!Xe||Xe===Pt)&&Nt?.user&&(J=Nt.user,Se=!0)}if(!J)return I.directlySetCurrentUser(null);if(!J._redirectEventId){if(Se)try{yield I.beforeStateQueue.runMiddleware(J)}catch(Xe){J=$,I._popupRedirectResolver._overrideRedirectResult(I,()=>Promise.reject(Xe))}return J?I.reloadAndSetCurrentUserOrClear(J):I.directlySetCurrentUser(null)}return ue(I._popupRedirectResolver,I,"argument-error"),yield I.getOrInitRedirectPersistenceManager(),I.redirectUser&&I.redirectUser._redirectEventId===J._redirectEventId?I.directlySetCurrentUser(J):I.reloadAndSetCurrentUserOrClear(J)})()}tryRedirectSignIn(w){var I=this;return(0,a.Z)(function*(){let P=null;try{P=yield I._popupRedirectResolver._completeRedirectFn(I,w,!0)}catch{yield I._setRedirectUser(null)}return P})()}reloadAndSetCurrentUserOrClear(w){var I=this;return(0,a.Z)(function*(){try{yield Fe(w)}catch(P){if("auth/network-request-failed"!==P?.code)return I.directlySetCurrentUser(null)}return I.directlySetCurrentUser(w)})()}useDeviceLanguage(){this.languageCode=function un(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var w=this;return(0,a.Z)(function*(){w._deleted=!0})()}updateCurrentUser(w){var I=this;return(0,a.Z)(function*(){const P=w?(0,U.m9)(w):null;return P&&ue(P.auth.config.apiKey===I.config.apiKey,I,"invalid-user-token"),I._updateCurrentUser(P&&P._clone(I))})()}_updateCurrentUser(w,I=!1){var P=this;return(0,a.Z)(function*(){if(!P._deleted)return w&&ue(P.tenantId===w.tenantId,P,"tenant-id-mismatch"),I||(yield P.beforeStateQueue.runMiddleware(w)),P.queue((0,a.Z)(function*(){yield P.directlySetCurrentUser(w),P.notifyAuthListeners()}))})()}signOut(){var w=this;return(0,a.Z)(function*(){return yield w.beforeStateQueue.runMiddleware(null),(w.redirectPersistenceManager||w._popupRedirectResolver)&&(yield w._setRedirectUser(null)),w._updateCurrentUser(null,!0)})()}setPersistence(w){var I=this;return this.queue((0,a.Z)(function*(){yield I.assertedPersistence.setPersistence(pi(w))}))}initializeRecaptchaConfig(){var w=this;return(0,a.Z)(function*(){const I=yield _t(w,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),P=new ri(I);null==w.tenantId?w._agentRecaptchaConfig=P:w._tenantRecaptchaConfigs[w.tenantId]=P,P.emailPasswordEnabled&&new No(w).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(w){this._errorFactory=new U.LL("auth","Firebase",w())}onAuthStateChanged(w,I,P){return this.registerStateListener(this.authStateSubscription,w,I,P)}beforeAuthStateChanged(w,I){return this.beforeStateQueue.pushCallback(w,I)}onIdTokenChanged(w,I,P){return this.registerStateListener(this.idTokenSubscription,w,I,P)}toJSON(){var w;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(w=this._currentUser)||void 0===w?void 0:w.toJSON()}}_setRedirectUser(w,I){var P=this;return(0,a.Z)(function*(){const $=yield P.getOrInitRedirectPersistenceManager(I);return null===w?$.removeCurrentUser():$.setCurrentUser(w)})()}getOrInitRedirectPersistenceManager(w){var I=this;return(0,a.Z)(function*(){if(!I.redirectPersistenceManager){const P=w&&pi(w)||I._popupRedirectResolver;ue(P,I,"argument-error"),I.redirectPersistenceManager=yield fe.create(I,[pi(P._redirectPersistence)],"redirectUser"),I.redirectUser=yield I.redirectPersistenceManager.getCurrentUser()}return I.redirectPersistenceManager})()}_redirectUserForId(w){var I=this;return(0,a.Z)(function*(){var P,$;return I._isInitialized&&(yield I.queue((0,a.Z)(function*(){}))),(null===(P=I._currentUser)||void 0===P?void 0:P._redirectEventId)===w?I._currentUser:(null===($=I.redirectUser)||void 0===$?void 0:$._redirectEventId)===w?I.redirectUser:null})()}_persistUserIfCurrent(w){var I=this;return(0,a.Z)(function*(){if(w===I.currentUser)return I.queue((0,a.Z)(function*(){return I.directlySetCurrentUser(w)}))})()}_notifyListenersIfCurrent(w){w===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var w,I;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const P=null!==(I=null===(w=this.currentUser)||void 0===w?void 0:w.uid)&&void 0!==I?I:null;this.lastNotifiedUid!==P&&(this.lastNotifiedUid=P,this.authStateSubscription.next(this.currentUser))}registerStateListener(w,I,P,$){if(this._deleted)return()=>{};const J="function"==typeof I?I:I.next.bind(I),Se=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(Se,this,"internal-error"),Se.then(()=>J(this.currentUser)),"function"==typeof I?w.addObserver(I,P,$):w.addObserver(I)}directlySetCurrentUser(w){var I=this;return(0,a.Z)(function*(){I.currentUser&&I.currentUser!==w&&I._currentUser._stopProactiveRefresh(),w&&I.isProactiveRefreshEnabled&&w._startProactiveRefresh(),I.currentUser=w,w?yield I.assertedPersistence.setCurrentUser(w):yield I.assertedPersistence.removeCurrentUser()})()}queue(w){return this.operations=this.operations.then(w,w),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(w){!w||this.frameworks.includes(w)||(this.frameworks.push(w),this.frameworks.sort(),this.clientVersion=Yo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var w=this;return(0,a.Z)(function*(){var I;const P={"X-Client-Version":w.clientVersion};w.app.options.appId&&(P["X-Firebase-gmpid"]=w.app.options.appId);const $=yield null===(I=w.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getHeartbeatsHeader();$&&(P["X-Firebase-Client"]=$);const J=yield w._getAppCheckToken();return J&&(P["X-Firebase-AppCheck"]=J),P})()}_getAppCheckToken(){var w=this;return(0,a.Z)(function*(){var I;const P=yield null===(I=w.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getToken();return P?.error&&function at(D,...w){Re.logLevel<=ce.in.WARN&&Re.warn(`Auth (${Y.SDK_VERSION}): ${D}`,...w)}(`Error while retrieving App Check token: ${P.error}`),P?.token})()}}function Ai(D){return(0,U.m9)(D)}class vo{constructor(w){this.auth=w,this.observer=null,this.addObserver=(0,U.ne)(I=>this.observer=I)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tc(D,w,I){const P=Ai(D);ue(P._canInitEmulator,P,"emulator-config-failed"),ue(/^https?:\/\//.test(w),P,"invalid-emulator-scheme");const $=!!I?.disableWarnings,J=$r(w),{host:Se,port:Xe}=function Ls(D){const w=$r(D),I=/(\/\/)?([^?#/]+)/.exec(D.substr(w.length));if(!I)return{host:"",port:null};const P=I[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(P);if($){const J=$[1];return{host:J,port:nc(P.substr(J.length+1))}}{const[J,Se]=P.split(":");return{host:J,port:nc(Se)}}}(w);P.config.emulator={url:`${J}//${Se}${null===Xe?"":`:${Xe}`}/`},P.settings.appVerificationDisabledForTesting=!0,P.emulatorConfig=Object.freeze({host:Se,port:Xe,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:$})}),$||function Ju(){function D(){const w=document.createElement("p"),I=w.style;w.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",w.classList.add("firebase-emulator-warning"),document.body.appendChild(w)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function $r(D){const w=D.indexOf(":");return w<0?"":D.substr(0,w+1)}function nc(D){if(!D)return null;const w=Number(D);return isNaN(w)?null:w}class ra{constructor(w,I){this.providerId=w,this.signInMethod=I}toJSON(){return Ge("not implemented")}_getIdTokenResponse(w){return Ge("not implemented")}_linkToIdToken(w,I){return Ge("not implemented")}_getReauthenticationResolver(w){return Ge("not implemented")}}function Ec(D,w){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,a.Z)(function*(D,w){return ct(D,"POST","/v1/accounts:resetPassword",je(D,w))})).apply(this,arguments)}function Us(D,w){return oa.apply(this,arguments)}function oa(){return(oa=(0,a.Z)(function*(D,w){return ct(D,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function Fo(){return(Fo=(0,a.Z)(function*(D,w){return ct(D,"POST","/v1/accounts:update",je(D,w))})).apply(this,arguments)}function yo(D,w){return yr.apply(this,arguments)}function yr(){return(yr=(0,a.Z)(function*(D,w){return Tn(D,"POST","/v1/accounts:signInWithPassword",je(D,w))})).apply(this,arguments)}function ic(D,w){return sa.apply(this,arguments)}function sa(){return(sa=(0,a.Z)(function*(D,w){return ct(D,"POST","/v1/accounts:sendOobCode",je(D,w))})).apply(this,arguments)}function Mc(){return(Mc=(0,a.Z)(function*(D,w){return ic(D,w)})).apply(this,arguments)}function aa(D,w){return ys.apply(this,arguments)}function ys(){return(ys=(0,a.Z)(function*(D,w){return ic(D,w)})).apply(this,arguments)}function rc(D,w){return zn.apply(this,arguments)}function zn(){return(zn=(0,a.Z)(function*(D,w){return ic(D,w)})).apply(this,arguments)}function br(){return(br=(0,a.Z)(function*(D,w){return ic(D,w)})).apply(this,arguments)}function wr(){return(wr=(0,a.Z)(function*(D,w){return Tn(D,"POST","/v1/accounts:signInWithEmailLink",je(D,w))})).apply(this,arguments)}function Sc(){return(Sc=(0,a.Z)(function*(D,w){return Tn(D,"POST","/v1/accounts:signInWithEmailLink",je(D,w))})).apply(this,arguments)}class Lo extends ra{constructor(w,I,P,$=null){super("password",P),this._email=w,this._password=I,this._tenantId=$}static _fromEmailAndPassword(w,I){return new Lo(w,I,"password")}static _fromEmailAndCode(w,I,P=null){return new Lo(w,I,"emailLink",P)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(w){const I="string"==typeof w?JSON.parse(w):w;if(I?.email&&I?.password){if("password"===I.signInMethod)return this._fromEmailAndPassword(I.email,I.password);if("emailLink"===I.signInMethod)return this._fromEmailAndCode(I.email,I.password,I.tenantId)}return null}_getIdTokenResponse(w){var I=this;return(0,a.Z)(function*(){var P;switch(I.signInMethod){case"password":const $={returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(P=w._getRecaptchaConfig())&&void 0!==P&&P.emailPasswordEnabled){const J=yield ls(w,$,"signInWithPassword");return yo(w,J)}return yo(w,$).catch(function(){var J=(0,a.Z)(function*(Se){if("auth/missing-recaptcha-token"===Se.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Xe=yield ls(w,$,"signInWithPassword");return yo(w,Xe)}return Promise.reject(Se)});return function(Se){return J.apply(this,arguments)}}());case"emailLink":return function Sa(D,w){return wr.apply(this,arguments)}(w,{email:I._email,oobCode:I._password});default:xe(w,"internal-error")}})()}_linkToIdToken(w,I){var P=this;return(0,a.Z)(function*(){switch(P.signInMethod){case"password":return Us(w,{idToken:I,returnSecureToken:!0,email:P._email,password:P._password});case"emailLink":return function Tc(D,w){return Sc.apply(this,arguments)}(w,{idToken:I,email:P._email,oobCode:P._password});default:xe(w,"internal-error")}})()}_getReauthenticationResolver(w){return this._getIdTokenResponse(w)}}function Vs(D,w){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,a.Z)(function*(D,w){return Tn(D,"POST","/v1/accounts:signInWithIdp",je(D,w))})).apply(this,arguments)}class Et extends ra{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(w){const I=new Et(w.providerId,w.signInMethod);return w.idToken||w.accessToken?(w.idToken&&(I.idToken=w.idToken),w.accessToken&&(I.accessToken=w.accessToken),w.nonce&&!w.pendingToken&&(I.nonce=w.nonce),w.pendingToken&&(I.pendingToken=w.pendingToken)):w.oauthToken&&w.oauthTokenSecret?(I.accessToken=w.oauthToken,I.secret=w.oauthTokenSecret):xe("argument-error"),I}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(w){const I="string"==typeof w?JSON.parse(w):w,{providerId:P,signInMethod:$}=I,J=(0,pe._T)(I,["providerId","signInMethod"]);if(!P||!$)return null;const Se=new Et(P,$);return Se.idToken=J.idToken||void 0,Se.accessToken=J.accessToken||void 0,Se.secret=J.secret,Se.nonce=J.nonce,Se.pendingToken=J.pendingToken||null,Se}_getIdTokenResponse(w){return Vs(w,this.buildRequest())}_linkToIdToken(w,I){const P=this.buildRequest();return P.idToken=I,Vs(w,P)}_getReauthenticationResolver(w){const I=this.buildRequest();return I.autoCreate=!1,Vs(w,I)}buildRequest(){const w={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)w.pendingToken=this.pendingToken;else{const I={};this.idToken&&(I.id_token=this.idToken),this.accessToken&&(I.access_token=this.accessToken),this.secret&&(I.oauth_token_secret=this.secret),I.providerId=this.providerId,this.nonce&&!this.pendingToken&&(I.nonce=this.nonce),w.postBody=(0,U.xO)(I)}return w}}function Ii(){return(Ii=(0,a.Z)(function*(D,w){return ct(D,"POST","/v1/accounts:sendVerificationCode",je(D,w))})).apply(this,arguments)}function Bs(){return(Bs=(0,a.Z)(function*(D,w){return Tn(D,"POST","/v1/accounts:signInWithPhoneNumber",je(D,w))})).apply(this,arguments)}function Qo(){return(Qo=(0,a.Z)(function*(D,w){const I=yield Tn(D,"POST","/v1/accounts:signInWithPhoneNumber",je(D,w));if(I.temporaryProof)throw tn(D,"account-exists-with-different-credential",I);return I})).apply(this,arguments)}const ki={USER_NOT_FOUND:"user-not-found"};function Jo(){return(Jo=(0,a.Z)(function*(D,w){return Tn(D,"POST","/v1/accounts:signInWithPhoneNumber",je(D,Object.assign(Object.assign({},w),{operation:"REAUTH"})),ki)})).apply(this,arguments)}class on extends ra{constructor(w){super("phone","phone"),this.params=w}static _fromVerification(w,I){return new on({verificationId:w,verificationCode:I})}static _fromTokenResponse(w,I){return new on({phoneNumber:w,temporaryProof:I})}_getIdTokenResponse(w){return function so(D,w){return Bs.apply(this,arguments)}(w,this._makeVerificationRequest())}_linkToIdToken(w,I){return function kn(D,w){return Qo.apply(this,arguments)}(w,Object.assign({idToken:I},this._makeVerificationRequest()))}_getReauthenticationResolver(w){return function ca(D,w){return Jo.apply(this,arguments)}(w,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:w,phoneNumber:I,verificationId:P,verificationCode:$}=this.params;return w&&I?{temporaryProof:w,phoneNumber:I}:{sessionInfo:P,code:$}}toJSON(){const w={providerId:this.providerId};return this.params.phoneNumber&&(w.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(w.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(w.verificationCode=this.params.verificationCode),this.params.verificationId&&(w.verificationId=this.params.verificationId),w}static fromJSON(w){"string"==typeof w&&(w=JSON.parse(w));const{verificationId:I,verificationCode:P,phoneNumber:$,temporaryProof:J}=w;return P||I||$||J?new on({verificationId:I,verificationCode:P,phoneNumber:$,temporaryProof:J}):null}}class Cr{constructor(w){var I,P,$,J,Se,Xe;const Pt=(0,U.zd)((0,U.pd)(w)),Nt=null!==(I=Pt.apiKey)&&void 0!==I?I:null,pn=null!==(P=Pt.oobCode)&&void 0!==P?P:null,Wn=function qr(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=Pt.mode)&&void 0!==$?$:null);ue(Nt&&pn&&Wn,"argument-error"),this.apiKey=Nt,this.operation=Wn,this.code=pn,this.continueUrl=null!==(J=Pt.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==(Se=Pt.languageCode)&&void 0!==Se?Se:null,this.tenantId=null!==(Xe=Pt.tenantId)&&void 0!==Xe?Xe:null}static parseLink(w){const I=function Ll(D){const w=(0,U.zd)((0,U.pd)(D)).link,I=w?(0,U.zd)((0,U.pd)(w)).deep_link_id:null,P=(0,U.zd)((0,U.pd)(D)).deep_link_id;return(P?(0,U.zd)((0,U.pd)(P)).link:null)||P||I||w||D}(w);try{return new Cr(I)}catch{return null}}}let bs=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(I,P){return Lo._fromEmailAndPassword(I,P)}static credentialWithLink(I,P){const $=Cr.parseLink(P);return ue($,"argument-error"),Lo._fromEmailAndCode(I,$.code,$.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class Uo{constructor(w){this.providerId=w,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(w){this.defaultLanguageCode=w}setCustomParameters(w){return this.customParameters=w,this}getCustomParameters(){return this.customParameters}}class Er extends Uo{constructor(){super(...arguments),this.scopes=[]}addScope(w){return this.scopes.includes(w)||this.scopes.push(w),this}getScopes(){return[...this.scopes]}}class Ir extends Er{static credentialFromJSON(w){const I="string"==typeof w?JSON.parse(w):w;return ue("providerId"in I&&"signInMethod"in I,"argument-error"),Et._fromParams(I)}credential(w){return this._credential(Object.assign(Object.assign({},w),{nonce:w.rawNonce}))}_credential(w){return ue(w.idToken||w.accessToken,"argument-error"),Et._fromParams(Object.assign(Object.assign({},w),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(w){return Ir.oauthCredentialFromTaggedObject(w)}static credentialFromError(w){return Ir.oauthCredentialFromTaggedObject(w.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:I,oauthAccessToken:P,oauthTokenSecret:$,pendingToken:J,nonce:Se,providerId:Xe}=w;if(!P&&!$&&!I&&!J||!Xe)return null;try{return new Ir(Xe)._credential({idToken:I,accessToken:P,nonce:Se,pendingToken:J})}catch{return null}}}let la=(()=>{class D extends Er{constructor(){super("facebook.com")}static credential(I){return Et._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return D.credentialFromTaggedObject(I)}static credentialFromError(I){return D.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return D.credential(I.oauthAccessToken)}catch{return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),Da=(()=>{class D extends Er{constructor(){super("google.com"),this.addScope("profile")}static credential(I,P){return Et._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:I,accessToken:P})}static credentialFromResult(I){return D.credentialFromTaggedObject(I)}static credentialFromError(I){return D.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthIdToken:P,oauthAccessToken:$}=I;if(!P&&!$)return null;try{return D.credential(P,$)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),Vi=(()=>{class D extends Er{constructor(){super("github.com")}static credential(I){return Et._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return D.credentialFromTaggedObject(I)}static credentialFromError(I){return D.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return D.credential(I.oauthAccessToken)}catch{return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class Gr extends ra{constructor(w,I){super(w,w),this.pendingToken=I}_getIdTokenResponse(w){return Vs(w,this.buildRequest())}_linkToIdToken(w,I){const P=this.buildRequest();return P.idToken=I,Vs(w,P)}_getReauthenticationResolver(w){const I=this.buildRequest();return I.autoCreate=!1,Vs(w,I)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(w){const I="string"==typeof w?JSON.parse(w):w,{providerId:P,signInMethod:$,pendingToken:J}=I;return P&&$&&J&&P===$?new Gr(P,J):null}static _create(w,I){return new Gr(w,I)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Oc extends Uo{constructor(w){ue(w.startsWith("saml."),"argument-error"),super(w)}static credentialFromResult(w){return Oc.samlCredentialFromTaggedObject(w)}static credentialFromError(w){return Oc.samlCredentialFromTaggedObject(w.customData||{})}static credentialFromJSON(w){const I=Gr.fromJSON(w);return ue(I,"argument-error"),I}static samlCredentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{pendingToken:I,providerId:P}=w;if(!I||!P)return null;try{return Gr._create(P,I)}catch{return null}}}let gu=(()=>{class D extends Er{constructor(){super("twitter.com")}static credential(I,P){return Et._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:I,oauthTokenSecret:P})}static credentialFromResult(I){return D.credentialFromTaggedObject(I)}static credentialFromError(I){return D.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthAccessToken:P,oauthTokenSecret:$}=I;if(!P||!$)return null;try{return D.credential(P,$)}catch{return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Oa(D,w){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,a.Z)(function*(D,w){return Tn(D,"POST","/v1/accounts:signUp",je(D,w))})).apply(this,arguments)}class rr{constructor(w){this.user=w.user,this.providerId=w.providerId,this._tokenResponse=w._tokenResponse,this.operationType=w.operationType}static _fromIdTokenResponse(w,I,P,$=!1){return(0,a.Z)(function*(){const J=yield qn._fromIdTokenResponse(w,P,$),Se=Wr(P);return new rr({user:J,providerId:Se,_tokenResponse:P,operationType:I})})()}static _forOperation(w,I,P){return(0,a.Z)(function*(){yield w._updateTokensIfNecessary(P,!0);const $=Wr(P);return new rr({user:w,providerId:$,_tokenResponse:P,operationType:I})})()}}function Wr(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function ua(D){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,a.Z)(function*(D){var w;const I=Ai(D);if(yield I._initializationPromise,null!==(w=I.currentUser)&&void 0!==w&&w.isAnonymous)return new rr({user:I.currentUser,providerId:null,operationType:"signIn"});const P=yield Oa(I,{returnSecureToken:!0}),$=yield rr._fromIdTokenResponse(I,"signIn",P,!0);return yield I._updateCurrentUser($.user),$})).apply(this,arguments)}class al extends U.ZR{constructor(w,I,P,$){var J;super(I.code,I.message),this.operationType=P,this.user=$,Object.setPrototypeOf(this,al.prototype),this.customData={appName:w.name,tenantId:null!==(J=w.tenantId)&&void 0!==J?J:void 0,_serverResponse:I.customData._serverResponse,operationType:P}}static _fromErrorAndOperation(w,I,P,$){return new al(w,I,P,$)}}function Zr(D,w,I,P){return("reauthenticate"===w?I._getReauthenticationResolver(D):I._getIdTokenResponse(D)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?al._fromErrorAndOperation(D,J,w,P):J})}function Mr(D){return new Set(D.map(({providerId:w})=>w).filter(w=>!!w))}function cl(D,w){return Pr.apply(this,arguments)}function Pr(){return Pr=(0,a.Z)(function*(D,w){const I=(0,U.m9)(D);yield da(!0,I,w);const{providerUserInfo:P}=yield function cn(D,w){return Ln.apply(this,arguments)}(I.auth,{idToken:yield I.getIdToken(),deleteProvider:[w]}),$=Mr(P||[]);return I.providerData=I.providerData.filter(J=>$.has(J.providerId)),$.has("phone")||(I.phoneNumber=null),yield I.auth._persistUserIfCurrent(I),I}),Pr.apply(this,arguments)}function Yr(D,w){return di.apply(this,arguments)}function di(){return(di=(0,a.Z)(function*(D,w,I=!1){const P=yield zt(D,w._linkToIdToken(D.auth,yield D.getIdToken()),I);return rr._forOperation(D,"link",P)})).apply(this,arguments)}function da(D,w,I){return oi.apply(this,arguments)}function oi(){return(oi=(0,a.Z)(function*(D,w,I){yield Fe(w);const $=!1===D?"provider-already-linked":"no-such-provider";ue(Mr(w.providerData).has(I)===D,w.auth,$)})).apply(this,arguments)}function kr(D,w){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,a.Z)(function*(D,w,I=!1){const{auth:P}=D,$="reauthenticate";try{const J=yield zt(D,Zr(P,$,w,D),I);ue(J.idToken,P,"internal-error");const Se=Kt(J.idToken);ue(Se,P,"internal-error");const{sub:Xe}=Se;return ue(D.uid===Xe,P,"user-mismatch"),rr._forOperation(D,$,J)}catch(J){throw"auth/user-not-found"===J?.code&&xe(P,"user-mismatch"),J}})).apply(this,arguments)}function ws(D,w){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,a.Z)(function*(D,w,I=!1){const P="signIn",$=yield Zr(D,P,w),J=yield rr._fromIdTokenResponse(D,P,$);return I||(yield D._updateCurrentUser(J.user)),J})).apply(this,arguments)}function Aa(D,w){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,a.Z)(function*(D,w){return ws(Ai(D),w)})).apply(this,arguments)}function oc(D,w){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,a.Z)(function*(D,w){const I=(0,U.m9)(D);return yield da(!1,I,w.providerId),Yr(I,w)})).apply(this,arguments)}function mi(D,w){return _u.apply(this,arguments)}function _u(){return(_u=(0,a.Z)(function*(D,w){return kr((0,U.m9)(D),w)})).apply(this,arguments)}function Bo(){return(Bo=(0,a.Z)(function*(D,w){return Tn(D,"POST","/v1/accounts:signInWithCustomToken",je(D,w))})).apply(this,arguments)}function Kd(D,w){return sc.apply(this,arguments)}function sc(){return sc=(0,a.Z)(function*(D,w){const I=Ai(D),P=yield function kc(D,w){return Bo.apply(this,arguments)}(I,{token:w,returnSecureToken:!0}),$=yield rr._fromIdTokenResponse(I,"signIn",P);return yield I._updateCurrentUser($.user),$}),sc.apply(this,arguments)}class bo{constructor(w,I){this.factorId=w,this.uid=I.mfaEnrollmentId,this.enrollmentTime=new Date(I.enrolledAt).toUTCString(),this.displayName=I.displayName}static _fromServerResponse(w,I){return"phoneInfo"in I?ac._fromServerResponse(w,I):"totpInfo"in I?ha._fromServerResponse(w,I):xe(w,"internal-error")}}class ac extends bo{constructor(w){super("phone",w),this.phoneNumber=w.phoneInfo}static _fromServerResponse(w,I){return new ac(I)}}class ha extends bo{constructor(w){super("totp",w)}static _fromServerResponse(w,I){return new ha(I)}}function Cs(D,w,I){var P;ue((null===(P=I.url)||void 0===P?void 0:P.length)>0,D,"invalid-continue-uri"),ue(typeof I.dynamicLinkDomain>"u"||I.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),w.continueUrl=I.url,w.dynamicLinkDomain=I.dynamicLinkDomain,w.canHandleCodeInApp=I.handleCodeInApp,I.iOS&&(ue(I.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),w.iOSBundleId=I.iOS.bundleId),I.android&&(ue(I.android.packageName.length>0,D,"missing-android-pkg-name"),w.androidInstallApp=I.android.installApp,w.androidMinimumVersionCode=I.android.minimumVersion,w.androidPackageName=I.android.packageName)}function Bl(D,w,I){return vu.apply(this,arguments)}function vu(){return vu=(0,a.Z)(function*(D,w,I){var P;const $=Ai(D),J={requestType:"PASSWORD_RESET",email:w,clientType:"CLIENT_TYPE_WEB"};if(null!==(P=$._getRecaptchaConfig())&&void 0!==P&&P.emailPasswordEnabled){const Se=yield ls($,J,"getOobCode",!0);I&&Cs($,Se,I),yield aa($,Se)}else I&&Cs($,J,I),yield aa($,J).catch(function(){var Se=(0,a.Z)(function*(Xe){if("auth/missing-recaptcha-token"!==Xe.code)return Promise.reject(Xe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Pt=yield ls($,J,"getOobCode",!0);I&&Cs($,Pt,I),yield aa($,Pt)}});return function(Xe){return Se.apply(this,arguments)}}())}),vu.apply(this,arguments)}function Rr(D,w,I){return js.apply(this,arguments)}function js(){return(js=(0,a.Z)(function*(D,w,I){yield Ec((0,U.m9)(D),{oobCode:w,newPassword:I})})).apply(this,arguments)}function fa(D,w){return Rc.apply(this,arguments)}function Rc(){return Rc=(0,a.Z)(function*(D,w){yield function sl(D,w){return Fo.apply(this,arguments)}((0,U.m9)(D),{oobCode:w})}),Rc.apply(this,arguments)}function jo(D,w){return ur.apply(this,arguments)}function ur(){return(ur=(0,a.Z)(function*(D,w){const I=(0,U.m9)(D),P=yield Ec(I,{oobCode:w}),$=P.requestType;switch(ue($,I,"internal-error"),$){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ue(P.newEmail,I,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ue(P.mfaInfo,I,"internal-error");default:ue(P.email,I,"internal-error")}let J=null;return P.mfaInfo&&(J=bo._fromServerResponse(Ai(I),P.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===P.requestType?P.newEmail:P.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===P.requestType?P.email:P.newEmail)||null,multiFactorInfo:J},operation:$}})).apply(this,arguments)}function Pa(D,w){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,a.Z)(function*(D,w){const{data:I}=yield jo((0,U.m9)(D),w);return I.email})).apply(this,arguments)}function Nc(D,w,I){return wo.apply(this,arguments)}function wo(){return wo=(0,a.Z)(function*(D,w,I){var P;const $=Ai(D),J={returnSecureToken:!0,email:w,password:I,clientType:"CLIENT_TYPE_WEB"};let Se;if(null!==(P=$._getRecaptchaConfig())&&void 0!==P&&P.emailPasswordEnabled){const Nt=yield ls($,J,"signUpPassword");Se=Oa($,Nt)}else Se=Oa($,J).catch(function(){var Nt=(0,a.Z)(function*(pn){if("auth/missing-recaptcha-token"===pn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Wn=yield ls($,J,"signUpPassword");return Oa($,Wn)}return Promise.reject(pn)});return function(pn){return Nt.apply(this,arguments)}}());const Xe=yield Se.catch(Nt=>Promise.reject(Nt)),Pt=yield rr._fromIdTokenResponse($,"signIn",Xe);return yield $._updateCurrentUser(Pt.user),Pt}),wo.apply(this,arguments)}function cc(D,w,I){return Aa((0,U.m9)(D),bs.credential(w,I))}function jl(D,w,I){return zs.apply(this,arguments)}function zs(){return zs=(0,a.Z)(function*(D,w,I){var P;const $=Ai(D),J={requestType:"EMAIL_SIGNIN",email:w,clientType:"CLIENT_TYPE_WEB"};function Se(Xe,Pt){ue(Pt.handleCodeInApp,$,"argument-error"),Pt&&Cs($,Xe,Pt)}if(null!==(P=$._getRecaptchaConfig())&&void 0!==P&&P.emailPasswordEnabled){const Xe=yield ls($,J,"getOobCode",!0);Se(Xe,I),yield rc($,Xe)}else Se(J,I),yield rc($,J).catch(function(){var Xe=(0,a.Z)(function*(Pt){if("auth/missing-recaptcha-token"!==Pt.code)return Promise.reject(Pt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Nt=yield ls($,J,"getOobCode",!0);Se(Nt,I),yield rc($,Nt)}});return function(Pt){return Xe.apply(this,arguments)}}())}),zs.apply(this,arguments)}function pa(D,w){const I=Cr.parseLink(w);return"EMAIL_SIGNIN"===I?.operation}function ll(D,w,I){return yi.apply(this,arguments)}function yi(){return(yi=(0,a.Z)(function*(D,w,I){const P=(0,U.m9)(D),$=bs.credentialWithLink(w,I||Ct());return ue($._tenantId===(P.tenantId||null),P,"tenant-id-mismatch"),Aa(P,$)})).apply(this,arguments)}function ka(){return(ka=(0,a.Z)(function*(D,w){return ct(D,"POST","/v1/accounts:createAuthUri",je(D,w))})).apply(this,arguments)}function It(D,w){return Xo.apply(this,arguments)}function Xo(){return Xo=(0,a.Z)(function*(D,w){const P={identifier:w,continueUri:ot()?Ct():"http://localhost"},{signinMethods:$}=yield function zo(D,w){return ka.apply(this,arguments)}((0,U.m9)(D),P);return $||[]}),Xo.apply(this,arguments)}function Fc(D,w){return Co.apply(this,arguments)}function Co(){return Co=(0,a.Z)(function*(D,w){const I=(0,U.m9)(D),$={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};w&&Cs(I.auth,$,w);const{email:J}=yield function Yi(D,w){return Mc.apply(this,arguments)}(I.auth,$);J!==D.email&&(yield D.reload())}),Co.apply(this,arguments)}function Hs(D,w,I){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,a.Z)(function*(D,w,I){const P=(0,U.m9)(D),J={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:w};I&&Cs(P.auth,J,I);const{email:Se}=yield function Ui(D,w){return br.apply(this,arguments)}(P.auth,J);Se!==D.email&&(yield D.reload())}),Lc.apply(this,arguments)}function Ra(){return(Ra=(0,a.Z)(function*(D,w){return ct(D,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function C(D,w){return N.apply(this,arguments)}function N(){return N=(0,a.Z)(function*(D,{displayName:w,photoURL:I}){if(void 0===w&&void 0===I)return;const P=(0,U.m9)(D),J={idToken:yield P.getIdToken(),displayName:w,photoUrl:I,returnSecureToken:!0},Se=yield zt(P,function Xu(D,w){return Ra.apply(this,arguments)}(P.auth,J));P.displayName=Se.displayName||null,P.photoURL=Se.photoUrl||null;const Xe=P.providerData.find(({providerId:Pt})=>"password"===Pt);Xe&&(Xe.displayName=P.displayName,Xe.photoURL=P.photoURL),yield P._updateTokensIfNecessary(Se)}),N.apply(this,arguments)}function j(D,w){return ve((0,U.m9)(D),w,null)}function ee(D,w){return ve((0,U.m9)(D),null,w)}function ve(D,w,I){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,a.Z)(function*(D,w,I){const{auth:P}=D,J={idToken:yield D.getIdToken(),returnSecureToken:!0};w&&(J.email=w),I&&(J.password=I);const Se=yield zt(D,Us(P,J));yield D._updateTokensIfNecessary(Se,!0)})).apply(this,arguments)}class Gn{constructor(w,I,P={}){this.isNewUser=w,this.providerId=I,this.profile=P}}class ti extends Gn{constructor(w,I,P,$){super(w,I,P),this.username=$}}class dr extends Gn{constructor(w,I){super(w,"facebook.com",I)}}class xo extends ti{constructor(w,I){super(w,"github.com",I,"string"==typeof I?.login?I?.login:null)}}class es extends Gn{constructor(w,I){super(w,"google.com",I)}}class Uc extends ti{constructor(w,I,P){super(w,"twitter.com",I,P)}}function $s(D){const{user:w,_tokenResponse:I}=D;return w.isAnonymous&&!I?{providerId:null,isNewUser:!1,profile:null}:function Rt(D){var w,I;if(!D)return null;const{providerId:P}=D,$=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},J=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!P&&D?.idToken){const Se=null===(I=null===(w=Kt(D.idToken))||void 0===w?void 0:w.firebase)||void 0===I?void 0:I.sign_in_provider;if(Se)return new Gn(J,"anonymous"!==Se&&"custom"!==Se?Se:null)}if(!P)return null;switch(P){case"facebook.com":return new dr(J,$);case"github.com":return new xo(J,$);case"google.com":return new es(J,$);case"twitter.com":return new Uc(J,$,D.screenName||null);case"custom":case"anonymous":return new Gn(J,null);default:return new Gn(J,P,$)}}(I)}function Io(D,w,I,P){return(0,U.m9)(D).onIdTokenChanged(w,I,P)}function zh(D,w,I,P){return(0,U.m9)(D).onAuthStateChanged(w,I,P)}class xs{constructor(w,I,P){this.type=w,this.credential=I,this.auth=P}static _fromIdtoken(w,I){return new xs("enroll",w,I)}static _fromMfaPendingCredential(w){return new xs("signin",w)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(w){var I,P;if(w?.multiFactorSession){if(null!==(I=w.multiFactorSession)&&void 0!==I&&I.pendingCredential)return xs._fromMfaPendingCredential(w.multiFactorSession.pendingCredential);if(null!==(P=w.multiFactorSession)&&void 0!==P&&P.idToken)return xs._fromIdtoken(w.multiFactorSession.idToken)}return null}}class Vc{constructor(w,I,P){this.session=w,this.hints=I,this.signInResolver=P}static _fromError(w,I){const P=Ai(w),$=I.customData._serverResponse,J=($.mfaInfo||[]).map(Xe=>bo._fromServerResponse(P,Xe));ue($.mfaPendingCredential,P,"internal-error");const Se=xs._fromMfaPendingCredential($.mfaPendingCredential);return new Vc(Se,J,function(){var Xe=(0,a.Z)(function*(Pt){const Nt=yield Pt._process(P,Se);delete $.mfaInfo,delete $.mfaPendingCredential;const pn=Object.assign(Object.assign({},$),{idToken:Nt.idToken,refreshToken:Nt.refreshToken});switch(I.operationType){case"signIn":const Wn=yield rr._fromIdTokenResponse(P,I.operationType,pn);return yield P._updateCurrentUser(Wn.user),Wn;case"reauthenticate":return ue(I.user,P,"internal-error"),rr._forOperation(I.user,I.operationType,pn);default:xe(P,"internal-error")}});return function(Pt){return Xe.apply(this,arguments)}}())}resolveSignIn(w){var I=this;return(0,a.Z)(function*(){return I.signInResolver(w)})()}}function dl(D,w){var I;const P=(0,U.m9)(D),$=w;return ue(w.customData.operationType,P,"argument-error"),ue(null===(I=$.customData._serverResponse)||void 0===I?void 0:I.mfaPendingCredential,P,"argument-error"),Vc._fromError(P,$)}class wu{constructor(w){this.user=w,this.enrolledFactors=[],w._onReload(I=>{I.mfaInfo&&(this.enrolledFactors=I.mfaInfo.map(P=>bo._fromServerResponse(w.auth,P)))})}static _fromUser(w){return new wu(w)}getSession(){var w=this;return(0,a.Z)(function*(){return xs._fromIdtoken(yield w.user.getIdToken(),w.user.auth)})()}enroll(w,I){var P=this;return(0,a.Z)(function*(){const $=w,J=yield P.getSession(),Se=yield zt(P.user,$._process(P.user.auth,J,I));return yield P.user._updateTokensIfNecessary(Se),P.user.reload()})()}unenroll(w){var I=this;return(0,a.Z)(function*(){const P="string"==typeof w?w:w.uid,$=yield I.user.getIdToken();try{const J=yield zt(I.user,function Qd(D,w){return ct(D,"POST","/v2/accounts/mfaEnrollment:withdraw",je(D,w))}(I.user.auth,{idToken:$,mfaEnrollmentId:P}));I.enrolledFactors=I.enrolledFactors.filter(({uid:Se})=>Se!==P),yield I.user._updateTokensIfNecessary(J),yield I.user.reload()}catch(J){throw J}})()}}const Mi=new WeakMap;function hl(D){const w=(0,U.m9)(D);return Mi.has(w)||Mi.set(w,wu._fromUser(w)),Mi.get(w)}const Na="__sak";class Ho{constructor(w,I){this.storageRetriever=w,this.type=I}_isAvailable(){try{return this.storage?(this.storage.setItem(Na,"1"),this.storage.removeItem(Na),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(w,I){return this.storage.setItem(w,JSON.stringify(I)),Promise.resolve()}_get(w){const I=this.storage.getItem(w);return Promise.resolve(I?JSON.parse(I):null)}_remove(w){return this.storage.removeItem(w),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xd=(()=>{class D extends Ho{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(I,P)=>this.onStorageEvent(I,P),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qr(){const D=(0,U.z$)();return te(D)||Vt(D)}()&&function vr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Nn(),this._shouldAllowMigration=!0}forAllChangedKeys(I){for(const P of Object.keys(this.listeners)){const $=this.storage.getItem(P),J=this.localCache[P];$!==J&&I(P,J,$)}}onStorageEvent(I,P=!1){if(!I.key)return void this.forAllChangedKeys((Xe,Pt,Nt)=>{this.notifyListeners(Xe,Nt)});const $=I.key;if(P?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Xe=this.storage.getItem($);if(I.newValue!==Xe)null!==I.newValue?this.storage.setItem($,I.newValue):this.storage.removeItem($);else if(this.localCache[$]===I.newValue&&!P)return}const J=()=>{const Xe=this.storage.getItem($);!P&&this.localCache[$]===Xe||this.notifyListeners($,Xe)},Se=this.storage.getItem($);!function ai(){return(0,U.w1)()&&10===document.documentMode}()||Se===I.newValue||I.newValue===I.oldValue?J():setTimeout(J,10)}notifyListeners(I,P){this.localCache[I]=P;const $=this.listeners[I];if($)for(const J of Array.from($))J(P&&JSON.parse(P))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((I,P,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:I,oldValue:P,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(I,P){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[I]||(this.listeners[I]=new Set,this.localCache[I]=this.storage.getItem(I)),this.listeners[I].add(P)}_removeListener(I,P){this.listeners[I]&&(this.listeners[I].delete(P),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(I,P){var $=()=>super._set,J=this;return(0,a.Z)(function*(){yield $().call(J,I,P),J.localCache[I]=JSON.stringify(P)})()}_get(I){var P=()=>super._get,$=this;return(0,a.Z)(function*(){const J=yield P().call($,I);return $.localCache[I]=JSON.stringify(J),J})()}_remove(I){var P=()=>super._remove,$=this;return(0,a.Z)(function*(){yield P().call($,I),delete $.localCache[I]})()}}return D.type="LOCAL",D})(),qs=(()=>{class D extends Ho{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(I,P){}_removeListener(I,P){}}return D.type="SESSION",D})();let th=(()=>{class D{constructor(I){this.eventTarget=I,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(I){const P=this.receivers.find(J=>J.isListeningto(I));if(P)return P;const $=new D(I);return this.receivers.push($),$}isListeningto(I){return this.eventTarget===I}handleEvent(I){var P=this;return(0,a.Z)(function*(){const $=I,{eventId:J,eventType:Se,data:Xe}=$.data,Pt=P.handlersMap[Se];if(!Pt?.size)return;$.ports[0].postMessage({status:"ack",eventId:J,eventType:Se});const Nt=Array.from(Pt).map(function(){var Wn=(0,a.Z)(function*(eo){return eo($.origin,Xe)});return function(eo){return Wn.apply(this,arguments)}}()),pn=yield function pl(D){return Promise.all(D.map(function(){var w=(0,a.Z)(function*(I){try{return{fulfilled:!0,value:yield I}}catch(P){return{fulfilled:!1,reason:P}}});return function(I){return w.apply(this,arguments)}}()))}(Nt);$.ports[0].postMessage({status:"done",eventId:J,eventType:Se,response:pn})})()}_subscribe(I,P){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[I]||(this.handlersMap[I]=new Set),this.handlersMap[I].add(P)}_unsubscribe(I,P){this.handlersMap[I]&&P&&this.handlersMap[I].delete(P),(!P||0===this.handlersMap[I].size)&&delete this.handlersMap[I],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Bc(D="",w=10){let I="";for(let P=0;P<w;P++)I+=Math.floor(10*Math.random());return D+I}class $h{constructor(w){this.target=w,this.handlers=new Set}removeMessageHandler(w){w.messageChannel&&(w.messageChannel.port1.removeEventListener("message",w.onMessage),w.messageChannel.port1.close()),this.handlers.delete(w)}_send(w,I,P=50){var $=this;return(0,a.Z)(function*(){const J=typeof MessageChannel<"u"?new MessageChannel:null;if(!J)throw new Error("connection_unavailable");let Se,Xe;return new Promise((Pt,Nt)=>{const pn=Bc("",20);J.port1.start();const Wn=setTimeout(()=>{Nt(new Error("unsupported_event"))},P);Xe={messageChannel:J,onMessage(eo){const va=eo;if(va.data.eventId===pn)switch(va.data.status){case"ack":clearTimeout(Wn),Se=setTimeout(()=>{Nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Se),Pt(va.data.response);break;default:clearTimeout(Wn),clearTimeout(Se),Nt(new Error("invalid_response"))}}},$.handlers.add(Xe),J.port1.addEventListener("message",Xe.onMessage),$.target.postMessage({eventType:w,eventId:pn,data:I},[J.port2])}).finally(()=>{Xe&&$.removeMessageHandler(Xe)})})()}}function Vr(){return window}function Cu(){return typeof Vr().WorkerGlobalScope<"u"&&"function"==typeof Vr().importScripts}function jc(){return(jc=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Br="firebaseLocalStorageDb",Wi="firebaseLocalStorage",Is="fbase_key";class zc{constructor(w){this.request=w}toPromise(){return new Promise((w,I)=>{this.request.addEventListener("success",()=>{w(this.request.result)}),this.request.addEventListener("error",()=>{I(this.request.error)})})}}function nh(D,w){return D.transaction([Wi],w?"readwrite":"readonly").objectStore(Wi)}function ih(){const D=indexedDB.open(Br,1);return new Promise((w,I)=>{D.addEventListener("error",()=>{I(D.error)}),D.addEventListener("upgradeneeded",()=>{const P=D.result;try{P.createObjectStore(Wi,{keyPath:Is})}catch($){I($)}}),D.addEventListener("success",(0,a.Z)(function*(){const P=D.result;P.objectStoreNames.contains(Wi)?w(P):(P.close(),yield function tp(){const D=indexedDB.deleteDatabase(Br);return new zc(D).toPromise()}(),w(yield ih()))}))})}function uc(D,w,I){return pt.apply(this,arguments)}function pt(){return(pt=(0,a.Z)(function*(D,w,I){const P=nh(D,!0).put({[Is]:w,value:I});return new zc(P).toPromise()})).apply(this,arguments)}function Ms(){return(Ms=(0,a.Z)(function*(D,w){const I=nh(D,!1).get(w),P=yield new zc(I).toPromise();return void 0===P?null:P.value})).apply(this,arguments)}function xu(D,w){const I=nh(D,!0).delete(w);return new zc(I).toPromise()}const So=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var I=this;return(0,a.Z)(function*(){return I.db||(I.db=yield ih()),I.db})()}_withRetries(I){var P=this;return(0,a.Z)(function*(){let $=0;for(;;)try{const J=yield P._openDb();return yield I(J)}catch(J){if($++>3)throw J;P.db&&(P.db.close(),P.db=void 0)}})()}initializeServiceWorkerMessaging(){var I=this;return(0,a.Z)(function*(){return Cu()?I.initializeReceiver():I.initializeSender()})()}initializeReceiver(){var I=this;return(0,a.Z)(function*(){I.receiver=th._getInstance(function id(){return Cu()?self:null}()),I.receiver._subscribe("keyChanged",function(){var P=(0,a.Z)(function*($,J){return{keyProcessed:(yield I._poll()).includes(J.key)}});return function($,J){return P.apply(this,arguments)}}()),I.receiver._subscribe("ping",function(){var P=(0,a.Z)(function*($,J){return["keyChanged"]});return function($,J){return P.apply(this,arguments)}}())})()}initializeSender(){var I=this;return(0,a.Z)(function*(){var P,$;if(I.activeServiceWorker=yield function In(){return jc.apply(this,arguments)}(),!I.activeServiceWorker)return;I.sender=new $h(I.activeServiceWorker);const J=yield I.sender._send("ping",{},800);J&&null!==(P=J[0])&&void 0!==P&&P.fulfilled&&null!==($=J[0])&&void 0!==$&&$.value.includes("keyChanged")&&(I.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(I){var P=this;return(0,a.Z)(function*(){if(P.sender&&P.activeServiceWorker&&function ep(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===P.activeServiceWorker)try{yield P.sender._send("keyChanged",{key:I},P.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const I=yield ih();return yield uc(I,Na,"1"),yield xu(I,Na),!0}catch{}return!1})()}_withPendingWrite(I){var P=this;return(0,a.Z)(function*(){P.pendingWrites++;try{yield I()}finally{P.pendingWrites--}})()}_set(I,P){var $=this;return(0,a.Z)(function*(){return $._withPendingWrite((0,a.Z)(function*(){return yield $._withRetries(J=>uc(J,I,P)),$.localCache[I]=P,$.notifyServiceWorker(I)}))})()}_get(I){var P=this;return(0,a.Z)(function*(){const $=yield P._withRetries(J=>function ii(D,w){return Ms.apply(this,arguments)}(J,I));return P.localCache[I]=$,$})()}_remove(I){var P=this;return(0,a.Z)(function*(){return P._withPendingWrite((0,a.Z)(function*(){return yield P._withRetries($=>xu($,I)),delete P.localCache[I],P.notifyServiceWorker(I)}))})()}_poll(){var I=this;return(0,a.Z)(function*(){const P=yield I._withRetries(Se=>{const Xe=nh(Se,!1).getAll();return new zc(Xe).toPromise()});if(!P)return[];if(0!==I.pendingWrites)return[];const $=[],J=new Set;for(const{fbase_key:Se,value:Xe}of P)J.add(Se),JSON.stringify(I.localCache[Se])!==JSON.stringify(Xe)&&(I.notifyListeners(Se,Xe),$.push(Se));for(const Se of Object.keys(I.localCache))I.localCache[Se]&&!J.has(Se)&&(I.notifyListeners(Se,null),$.push(Se));return $})()}notifyListeners(I,P){this.localCache[I]=P;const $=this.listeners[I];if($)for(const J of Array.from($))J(P)}startPolling(){var I=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return I._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(I,P){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[I]||(this.listeners[I]=new Set,this._get(I)),this.listeners[I].add(P)}_removeListener(I,P){this.listeners[I]&&(this.listeners[I].delete(P),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})(),Ji=1e12;class hr{constructor(w){this.auth=w,this.counter=Ji,this._widgets=new Map}render(w,I){const P=this.counter;return this._widgets.set(P,new co(w,this.auth.name,I||{})),this.counter++,P}reset(w){var I;const P=w||Ji;null===(I=this._widgets.get(P))||void 0===I||I.delete(),this._widgets.delete(P)}getResponse(w){var I;return(null===(I=this._widgets.get(w||Ji))||void 0===I?void 0:I.getResponse())||""}execute(w){var I=this;return(0,a.Z)(function*(){var P;return null===(P=I._widgets.get(w||Ji))||void 0===P||P.execute(),""})()}}class co{constructor(w,I,P){this.params=P,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const $="string"==typeof w?document.getElementById(w):w;ue($,"argument-error",{appName:I}),this.container=$,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Jr(D){const w=[],I="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let P=0;P<D;P++)w.push(I.charAt(Math.floor(62*Math.random())));return w.join("")}(50);const{callback:w,"expired-callback":I}=this.params;if(w)try{w(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,I)try{I()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xr=er("rcb"),Gh=new rn(3e4,6e4);class od{constructor(){var w;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(w=Vr().grecaptcha)||void 0===w||!w.render)}load(w,I=""){return ue(function vm(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(I),w,"argument-error"),this.shouldResolveImmediately(I)&&kt(Vr().grecaptcha)?Promise.resolve(Vr().grecaptcha):new Promise((P,$)=>{const J=Vr().setTimeout(()=>{$(nt(w,"network-request-failed"))},Gh.get());Vr()[Xr]=()=>{Vr().clearTimeout(J),delete Vr()[Xr];const Xe=Vr().grecaptcha;if(!Xe||!kt(Xe))return void $(nt(w,"internal-error"));const Pt=Xe.render;Xe.render=(Nt,pn)=>{const Wn=Pt(Nt,pn);return this.counter++,Wn},this.hostLanguage=I,P(Xe)},Zi(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:Xr,render:"explicit",hl:I})}`).catch(()=>{clearTimeout(J),$(nt(w,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(w){var I;return!(null===(I=Vr().grecaptcha)||void 0===I||!I.render)&&(w===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Eu{load(w){return(0,a.Z)(function*(){return new hr(w)})()}clearedOneInstance(){}}const $l="recaptcha",rh={theme:"light",type:"image"};class ml{constructor(w,I=Object.assign({},rh),P){this.parameters=I,this.type=$l,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ai(P),this.isInvisible="invisible"===this.parameters.size,ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const $="string"==typeof w?document.getElementById(w):w;ue($,this.auth,"argument-error"),this.container=$,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Eu:new od,this.validateStartingState()}verify(){var w=this;return(0,a.Z)(function*(){w.assertNotDestroyed();const I=yield w.render(),P=w.getAssertedRecaptcha();return P.getResponse(I)||new Promise(J=>{const Se=Xe=>{Xe&&(w.tokenChangeListeners.delete(Se),J(Xe))};w.tokenChangeListeners.add(Se),w.isInvisible&&P.execute(I)})})()}render(){try{this.assertNotDestroyed()}catch(w){return Promise.reject(w)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(w=>{throw this.renderPromise=null,w})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(w=>{this.container.removeChild(w)})}validateStartingState(){ue(!this.parameters.sitekey,this.auth,"argument-error"),ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(w){return I=>{if(this.tokenChangeListeners.forEach(P=>P(I)),"function"==typeof w)w(I);else if("string"==typeof w){const P=Vr()[w];"function"==typeof P&&P(I)}}}assertNotDestroyed(){ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var w=this;return(0,a.Z)(function*(){if(yield w.init(),!w.widgetId){let I=w.container;if(!w.isInvisible){const P=document.createElement("div");I.appendChild(P),I=P}w.widgetId=w.getAssertedRecaptcha().render(I,w.parameters)}return w.widgetId})()}init(){var w=this;return(0,a.Z)(function*(){ue(ot()&&!Cu(),w.auth,"internal-error"),yield function oh(){let D=null;return new Promise(w=>{"complete"!==document.readyState?(D=()=>w(),window.addEventListener("load",D)):w()}).catch(w=>{throw D&&window.removeEventListener("load",D),w})}(),w.recaptcha=yield w._recaptchaLoader.load(w.auth,w.auth.languageCode||void 0);const I=yield function Je(D){return ze.apply(this,arguments)}(w.auth);ue(I,w.auth,"internal-error"),w.parameters.sitekey=I})()}getAssertedRecaptcha(){return ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Fa{constructor(w,I){this.verificationId=w,this.onConfirmation=I}confirm(w){const I=on._fromVerification(this.verificationId,w);return this.onConfirmation(I)}}function ql(D,w,I){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,a.Z)(function*(D,w,I){const P=Ai(D),$=yield fc(P,w,(0,U.m9)(I));return new Fa($,J=>Aa(P,J))})).apply(this,arguments)}function us(D,w,I){return gl.apply(this,arguments)}function gl(){return(gl=(0,a.Z)(function*(D,w,I){const P=(0,U.m9)(D);yield da(!1,P,"phone");const $=yield fc(P.auth,w,(0,U.m9)(I));return new Fa($,J=>oc(P,J))})).apply(this,arguments)}function dc(D,w,I){return hc.apply(this,arguments)}function hc(){return(hc=(0,a.Z)(function*(D,w,I){const P=(0,U.m9)(D),$=yield fc(P.auth,w,(0,U.m9)(I));return new Fa($,J=>mi(P,J))})).apply(this,arguments)}function fc(D,w,I){return Gl.apply(this,arguments)}function Gl(){return Gl=(0,a.Z)(function*(D,w,I){var P;const $=yield I.verify();try{let J;if(ue("string"==typeof $,D,"argument-error"),ue(I.type===$l,D,"argument-error"),J="string"==typeof w?{phoneNumber:w}:w,"session"in J){const Se=J.session;if("phoneNumber"in J)return ue("enroll"===Se.type,D,"internal-error"),(yield function nd(D,w){return ct(D,"POST","/v2/accounts/mfaEnrollment:start",je(D,w))}(D,{idToken:Se.credential,phoneEnrollmentInfo:{phoneNumber:J.phoneNumber,recaptchaToken:$}})).phoneSessionInfo.sessionInfo;{ue("signin"===Se.type,D,"internal-error");const Xe=(null===(P=J.multiFactorHint)||void 0===P?void 0:P.uid)||J.multiFactorUid;return ue(Xe,D,"missing-multi-factor-info"),(yield function Qi(D,w){return ct(D,"POST","/v2/accounts/mfaSignIn:start",je(D,w))}(D,{mfaPendingCredential:Se.credential,mfaEnrollmentId:Xe,phoneSignInInfo:{recaptchaToken:$}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Se}=yield function En(D,w){return Ii.apply(this,arguments)}(D,{phoneNumber:J.phoneNumber,recaptchaToken:$});return Se}}finally{I._reset()}}),Gl.apply(this,arguments)}function ts(D,w){return ga.apply(this,arguments)}function ga(){return(ga=(0,a.Z)(function*(D,w){yield Yr((0,U.m9)(D),w)})).apply(this,arguments)}let sr=(()=>{class D{constructor(I){this.providerId=D.PROVIDER_ID,this.auth=Ai(I)}verifyPhoneNumber(I,P){return fc(this.auth,I,(0,U.m9)(P))}static credential(I,P){return on._fromVerification(I,P)}static credentialFromResult(I){return D.credentialFromTaggedObject(I)}static credentialFromError(I){return D.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{phoneNumber:P,temporaryProof:$}=I;return P&&$?on._fromTokenResponse(P,$):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function _a(D,w){return w?pi(w):(ue(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class sh extends ra{constructor(w){super("custom","custom"),this.params=w}_getIdTokenResponse(w){return Vs(w,this._buildIdpRequest())}_linkToIdToken(w,I){return Vs(w,this._buildIdpRequest(I))}_getReauthenticationResolver(w){return Vs(w,this._buildIdpRequest())}_buildIdpRequest(w){const I={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return w&&(I.idToken=w),I}}function ds(D){return ws(D.auth,new sh(D),D.bypassAuthState)}function Hn(D){const{auth:w,user:I}=D;return ue(I,w,"internal-error"),kr(I,new sh(D),D.bypassAuthState)}function ar(D){return Do.apply(this,arguments)}function Do(){return(Do=(0,a.Z)(function*(D){const{auth:w,user:I}=D;return ue(I,w,"internal-error"),Yr(I,new sh(D),D.bypassAuthState)})).apply(this,arguments)}class Wl{constructor(w,I,P,$,J=!1){this.auth=w,this.resolver=P,this.user=$,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(I)?I:[I]}execute(){var w=this;return new Promise(function(){var I=(0,a.Z)(function*(P,$){w.pendingPromise={resolve:P,reject:$};try{w.eventManager=yield w.resolver._initialize(w.auth),yield w.onExecution(),w.eventManager.registerConsumer(w)}catch(J){w.reject(J)}});return function(P,$){return I.apply(this,arguments)}}())}onAuthEvent(w){var I=this;return(0,a.Z)(function*(){const{urlResponse:P,sessionId:$,postBody:J,tenantId:Se,error:Xe,type:Pt}=w;if(Xe)return void I.reject(Xe);const Nt={auth:I.auth,requestUri:P,sessionId:$,tenantId:Se||void 0,postBody:J||void 0,user:I.user,bypassAuthState:I.bypassAuthState};try{I.resolve(yield I.getIdpTask(Pt)(Nt))}catch(pn){I.reject(pn)}})()}onError(w){this.reject(w)}getIdpTask(w){switch(w){case"signInViaPopup":case"signInViaRedirect":return ds;case"linkViaPopup":case"linkViaRedirect":return ar;case"reauthViaPopup":case"reauthViaRedirect":return Hn;default:xe(this.auth,"internal-error")}}resolve(w){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(w),this.unregisterAndCleanUp()}reject(w){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(w),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pc=new rn(2e3,1e4);function ci(D,w,I){return La.apply(this,arguments)}function La(){return(La=(0,a.Z)(function*(D,w,I){const P=Ai(D);it(D,w,Uo);const $=_a(P,I);return new tr(P,"signInViaPopup",w,$).executeNotNull()})).apply(this,arguments)}function jr(D,w,I){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,a.Z)(function*(D,w,I){const P=(0,U.m9)(D);it(P.auth,w,Uo);const $=_a(P.auth,I);return new tr(P.auth,"reauthViaPopup",w,$,P).executeNotNull()})).apply(this,arguments)}function Nr(D,w,I){return cr.apply(this,arguments)}function cr(){return(cr=(0,a.Z)(function*(D,w,I){const P=(0,U.m9)(D);it(P.auth,w,Uo);const $=_a(P.auth,I);return new tr(P.auth,"linkViaPopup",w,$,P).executeNotNull()})).apply(this,arguments)}let tr=(()=>{class D extends Wl{constructor(I,P,$,J,Se){super(I,P,J,Se),this.provider=$,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var I=this;return(0,a.Z)(function*(){const P=yield I.execute();return ue(P,I.auth,"internal-error"),P})()}onExecution(){var I=this;return(0,a.Z)(function*(){Le(1===I.filter.length,"Popup operations only handle one event");const P=Bc();I.authWindow=yield I.resolver._openPopup(I.auth,I.provider,I.filter[0],P),I.authWindow.associatedEvent=P,I.resolver._originValidation(I.auth).catch($=>{I.reject($)}),I.resolver._isIframeWebStorageSupported(I.auth,$=>{$||I.reject(nt(I.auth,"web-storage-unsupported"))}),I.pollUserCancellation()})()}get eventId(){var I;return(null===(I=this.authWindow)||void 0===I?void 0:I.associatedEvent)||null}cancel(){this.reject(nt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const I=()=>{var P,$;this.pollId=null!==($=null===(P=this.authWindow)||void 0===P?void 0:P.window)&&void 0!==$&&$.closed?window.setTimeout(()=>{this.pollId=null,this.reject(nt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(I,pc.get())};I()}}return D.currentPopupAction=null,D})();const ip="pendingRedirect",Ts=new Map;class sd extends Wl{constructor(w,I,P=!1){super(w,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],I,void 0,P),this.eventId=null}execute(){var w=()=>super.execute,I=this;return(0,a.Z)(function*(){let P=Ts.get(I.auth._key());if(!P){try{const J=(yield function ym(D,w){return ad.apply(this,arguments)}(I.resolver,I.auth))?yield w().call(I):null;P=()=>Promise.resolve(J)}catch($){P=()=>Promise.reject($)}Ts.set(I.auth._key(),P)}return I.bypassAuthState||Ts.set(I.auth._key(),()=>Promise.resolve(null)),P()})()}onAuthEvent(w){var I=()=>super.onAuthEvent,P=this;return(0,a.Z)(function*(){if("signInViaRedirect"===w.type)return I().call(P,w);if("unknown"!==w.type){if(w.eventId){const $=yield P.auth._redirectUserForId(w.eventId);if($)return P.user=$,I().call(P,w);P.resolve(null)}}else P.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function ad(){return(ad=(0,a.Z)(function*(D,w){const I=ah(w),P=Wh(D);if(!(yield P._isAvailable()))return!1;const $="true"===(yield P._get(I));return yield P._remove(I),$})).apply(this,arguments)}function cd(D,w){return rp.apply(this,arguments)}function rp(){return(rp=(0,a.Z)(function*(D,w){return Wh(D)._set(ah(w),"true")})).apply(this,arguments)}function ld(){Ts.clear()}function Zl(D,w){Ts.set(D._key(),w)}function Wh(D){return pi(D._redirectPersistence)}function ah(D){return go(ip,D.config.apiKey,D.name)}function $c(D,w,I){return function qc(D,w,I){return ud.apply(this,arguments)}(D,w,I)}function ud(){return(ud=(0,a.Z)(function*(D,w,I){const P=Ai(D);it(D,w,Uo),yield P._initializationPromise;const $=_a(P,I);return yield cd($,P),$._openRedirect(P,w,"signInViaRedirect")})).apply(this,arguments)}function _l(D,w,I){return function Mu(D,w,I){return hs.apply(this,arguments)}(D,w,I)}function hs(){return(hs=(0,a.Z)(function*(D,w,I){const P=(0,U.m9)(D);it(P.auth,w,Uo),yield P.auth._initializationPromise;const $=_a(P.auth,I);yield cd($,P.auth);const J=yield Yl(P);return $._openRedirect(P.auth,w,"reauthViaRedirect",J)})).apply(this,arguments)}function Zh(D,w,I){return function Yh(D,w,I){return ch.apply(this,arguments)}(D,w,I)}function ch(){return(ch=(0,a.Z)(function*(D,w,I){const P=(0,U.m9)(D);it(P.auth,w,Uo),yield P.auth._initializationPromise;const $=_a(P.auth,I);yield da(!1,P,w.providerId),yield cd($,P.auth);const J=yield Yl(P);return $._openRedirect(P.auth,w,"linkViaRedirect",J)})).apply(this,arguments)}function Kh(D,w){return $o.apply(this,arguments)}function $o(){return($o=(0,a.Z)(function*(D,w){return yield Ai(D)._initializationPromise,dd(D,w,!1)})).apply(this,arguments)}function dd(D,w){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,a.Z)(function*(D,w,I=!1){const P=Ai(D),$=_a(P,w),Se=yield new sd(P,$,I).execute();return Se&&!I&&(delete Se.user._redirectEventId,yield P._persistUserIfCurrent(Se.user),yield P._setRedirectUser(null,w)),Se})).apply(this,arguments)}function Yl(D){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,a.Z)(function*(D){const w=Bc(`${D.uid}:::`);return D._redirectEventId=w,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),w})).apply(this,arguments)}class Ql{constructor(w){this.auth=w,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(w){this.consumers.add(w),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,w)&&(this.sendToConsumer(this.queuedRedirectEvent,w),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(w){this.consumers.delete(w)}onEvent(w){if(this.hasEventBeenHandled(w))return!1;let I=!1;return this.consumers.forEach(P=>{this.isEventForConsumer(w,P)&&(I=!0,this.sendToConsumer(w,P),this.saveEventToCache(w))}),this.hasHandledPotentialRedirect||!function Xl(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jl(D);default:return!1}}(w)||(this.hasHandledPotentialRedirect=!0,I||(this.queuedRedirectEvent=w,I=!0)),I}sendToConsumer(w,I){var P;if(w.error&&!Jl(w)){const $=(null===(P=w.error.code)||void 0===P?void 0:P.split("auth/")[1])||"internal-error";I.onError(nt(this.auth,$))}else I.onAuthEvent(w)}isEventForConsumer(w,I){const P=null===I.eventId||!!w.eventId&&w.eventId===I.eventId;return I.filter.includes(w.type)&&P}hasEventBeenHandled(w){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hd(w))}saveEventToCache(w){this.cachedEventUids.add(hd(w)),this.lastProcessedEventTime=Date.now()}}function hd(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(w=>w).join("-")}function Jl({type:D,error:w}){return"unknown"===D&&"auth/no-auth-event"===w?.code}function Ws(D){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,a.Z)(function*(D,w={}){return ct(D,"GET","/v1/projects",w)})).apply(this,arguments)}const op=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fd=/^https?/;function lh(){return(lh=(0,a.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:w}=yield Ws(D);for(const I of w)try{if(uh(I))return}catch{}xe(D,"unauthorized-domain")})).apply(this,arguments)}function uh(D){const w=Ct(),{protocol:I,hostname:P}=new URL(w);if(D.startsWith("chrome-extension://")){const Se=new URL(D);return""===Se.hostname&&""===P?"chrome-extension:"===I&&D.replace("chrome-extension://","")===w.replace("chrome-extension://",""):"chrome-extension:"===I&&Se.hostname===P}if(!fd.test(I))return!1;if(op.test(D))return P===D;const $=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(P)}const vl=new rn(3e4,6e4);function ns(){const D=Vr().___jsl;if(D?.H)for(const w of Object.keys(D.H))if(D.H[w].r=D.H[w].r||[],D.H[w].L=D.H[w].L||[],D.H[w].r=[...D.H[w].L],D.CP)for(let I=0;I<D.CP.length;I++)D.CP[I]=null}let Ri=null;const pd=new rn(5e3,15e3),Ti="__/auth/iframe",md="emulator/auth/iframe",sp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yl(D){const w=D.config;ue(w.authDomain,D,"auth-domain-config-required");const I=w.emulator?fi(w,md):`https://${D.config.authDomain}/${Ti}`,P={apiKey:w.apiKey,appName:D.name,v:Y.SDK_VERSION},$=fs.get(D.config.apiHost);$&&(P.eid=$);const J=D._getFrameworks();return J.length&&(P.fw=J.join(",")),`${I}?${(0,U.xO)(P).slice(1)}`}function Wc(){return Wc=(0,a.Z)(function*(D){const w=yield function mc(D){return Ri=Ri||function Gc(D){return new Promise((w,I)=>{var P,$,J;function Se(){ns(),gapi.load("gapi.iframes",{callback:()=>{w(gapi.iframes.getContext())},ontimeout:()=>{ns(),I(nt(D,"network-request-failed"))},timeout:vl.get()})}if(null!==($=null===(P=Vr().gapi)||void 0===P?void 0:P.iframes)&&void 0!==$&&$.Iframe)w(gapi.iframes.getContext());else{if(null===(J=Vr().gapi)||void 0===J||!J.load){const Xe=er("iframefcb");return Vr()[Xe]=()=>{gapi.load?Se():I(nt(D,"network-request-failed"))},Zi(`https://apis.google.com/js/api.js?onload=${Xe}`).catch(Pt=>I(Pt))}Se()}}).catch(w=>{throw Ri=null,w})}(D),Ri}(D),I=Vr().gapi;return ue(I,D,"internal-error"),w.open({where:document.body,url:yl(D),messageHandlersFilter:I.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sp,dontclear:!0},P=>new Promise(function(){var $=(0,a.Z)(function*(J,Se){yield P.restyle({setHideOnLeave:!1});const Xe=nt(D,"network-request-failed"),Pt=Vr().setTimeout(()=>{Se(Xe)},pd.get());function Nt(){Vr().clearTimeout(Pt),J(P)}P.ping(Nt).then(Nt,()=>{Se(Xe)})});return function(J,Se){return $.apply(this,arguments)}}()))}),Wc.apply(this,arguments)}const A={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ue{constructor(w){this.window=w,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ft="__/auth/handler",hn="emulator/auth/handler",Un=encodeURIComponent("fac");function Dn(D,w,I,P,$,J){return ps.apply(this,arguments)}function ps(){return(ps=(0,a.Z)(function*(D,w,I,P,$,J){ue(D.config.authDomain,D,"auth-domain-config-required"),ue(D.config.apiKey,D,"invalid-api-key");const Se={apiKey:D.config.apiKey,appName:D.name,authType:I,redirectUrl:P,v:Y.SDK_VERSION,eventId:$};if(w instanceof Uo){w.setDefaultLanguage(D.languageCode),Se.providerId=w.providerId||"",(0,U.xb)(w.getCustomParameters())||(Se.customParameters=JSON.stringify(w.getCustomParameters()));for(const[pn,Wn]of Object.entries(J||{}))Se[pn]=Wn}if(w instanceof Er){const pn=w.getScopes().filter(Wn=>""!==Wn);pn.length>0&&(Se.scopes=pn.join(","))}D.tenantId&&(Se.tid=D.tenantId);const Xe=Se;for(const pn of Object.keys(Xe))void 0===Xe[pn]&&delete Xe[pn];const Pt=yield D._getAppCheckToken(),Nt=Pt?`#${Un}=${encodeURIComponent(Pt)}`:"";return`${function Oo({config:D}){return D.emulator?fi(D,hn):`https://${D.authDomain}/${Ft}`}(D)}?${(0,U.xO)(Xe).slice(1)}${Nt}`})).apply(this,arguments)}const Xi="webStorageSupport",Ba=class Su{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qs,this._completeRedirectFn=dd,this._overrideRedirectResult=Zl}_openPopup(w,I,P,$){var J=this;return(0,a.Z)(function*(){var Se;Le(null===(Se=J.eventManagers[w._key()])||void 0===Se?void 0:Se.manager,"_initialize() not called before _openPopup()");const Xe=yield Dn(w,I,P,Ct(),$);return function rt(D,w,I,P=500,$=600){const J=Math.max((window.screen.availHeight-$)/2,0).toString(),Se=Math.max((window.screen.availWidth-P)/2,0).toString();let Xe="";const Pt=Object.assign(Object.assign({},A),{width:P.toString(),height:$.toString(),top:J,left:Se}),Nt=(0,U.z$)().toLowerCase();I&&(Xe=K(Nt)?"_blank":I),X(Nt)&&(w=w||"http://localhost",Pt.scrollbars="yes");const pn=Object.entries(Pt).reduce((eo,[va,to])=>`${eo}${va}=${to},`,"");if(function xn(D=(0,U.z$)()){var w;return Vt(D)&&!(null===(w=window.navigator)||void 0===w||!w.standalone)}(Nt)&&"_self"!==Xe)return function Bt(D,w){const I=document.createElement("a");I.href=D,I.target=w;const P=document.createEvent("MouseEvent");P.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),I.dispatchEvent(P)}(w||"",Xe),new Ue(null);const Wn=window.open(w||"",Xe,pn);ue(Wn,D,"popup-blocked");try{Wn.focus()}catch{}return new Ue(Wn)}(w,Xe,Bc())})()}_openRedirect(w,I,P,$){var J=this;return(0,a.Z)(function*(){return yield J._originValidation(w),function lc(D){Vr().location.href=D}(yield Dn(w,I,P,Ct(),$)),new Promise(()=>{})})()}_initialize(w){const I=w._key();if(this.eventManagers[I]){const{manager:$,promise:J}=this.eventManagers[I];return $?Promise.resolve($):(Le(J,"If manager is not set, promise should be"),J)}const P=this.initAndGetManager(w);return this.eventManagers[I]={promise:P},P.catch(()=>{delete this.eventManagers[I]}),P}initAndGetManager(w){var I=this;return(0,a.Z)(function*(){const P=yield function Va(D){return Wc.apply(this,arguments)}(w),$=new Ql(w);return P.register("authEvent",J=>(ue(J?.authEvent,w,"invalid-auth-event"),{status:$.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),I.eventManagers[w._key()]={manager:$},I.iframes[w._key()]=P,$})()}_isIframeWebStorageSupported(w,I){this.iframes[w._key()].send(Xi,{type:Xi},$=>{var J;const Se=null===(J=$?.[0])||void 0===J?void 0:J[Xi];void 0!==Se&&I(!!Se),xe(w,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(w){const I=w._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=function Ua(D){return lh.apply(this,arguments)}(w)),this.originValidationPromises[I]}get _shouldInitProactively(){return Nn()||te()||Vt()}};class ja{constructor(w){this.factorId=w}_process(w,I,P){switch(I.type){case"enroll":return this._finalizeEnroll(w,I.credential,P);case"signin":return this._finalizeSignIn(w,I.credential);default:return Ge("unexpected MultiFactorSessionType")}}}class Fr extends ja{constructor(w){super("phone"),this.credential=w}static _fromCredential(w){return new Fr(w)}_finalizeEnroll(w,I,P){return function bu(D,w){return ct(D,"POST","/v2/accounts/mfaEnrollment:finalize",je(D,w))}(w,{idToken:I,displayName:P,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(w,I){return function ao(D,w){return ct(D,"POST","/v2/accounts/mfaSignIn:finalize",je(D,w))}(w,{mfaPendingCredential:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let bl=(()=>{class D{constructor(){}static assertion(I){return Fr._fromCredential(I)}}return D.FACTOR_ID="phone",D})();var l_="@firebase/auth";class Ry{constructor(w){this.auth=w,this.internalListeners=new Map}getUid(){var w;return this.assertAuthConfigured(),(null===(w=this.auth.currentUser)||void 0===w?void 0:w.uid)||null}getToken(w){var I=this;return(0,a.Z)(function*(){return I.assertAuthConfigured(),yield I.auth._initializationPromise,I.auth.currentUser?{accessToken:yield I.auth.currentUser.getIdToken(w)}:null})()}addAuthTokenListener(w){if(this.assertAuthConfigured(),this.internalListeners.has(w))return;const I=this.auth.onIdTokenChanged(P=>{w(P?.stsTokenManager.accessToken||null)});this.internalListeners.set(w,I),this.updateProactiveRefresh()}removeAuthTokenListener(w){this.assertAuthConfigured();const I=this.internalListeners.get(w);I&&(this.internalListeners.delete(w),I(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const u_=(0,U.Pz)("authIdTokenMaxAge")||300;let vd=null;const d_=D=>function(){var w=(0,a.Z)(function*(I){const P=I&&(yield I.getIdTokenResult()),$=P&&((new Date).getTime()-Date.parse(P.issuedAtTime))/1e3;if($&&$>u_)return;const J=P?.token;vd!==J&&(vd=J,yield fetch(D,{method:J?"POST":"DELETE",headers:J?{Authorization:`Bearer ${J}`}:{}}))});return function(I){return w.apply(this,arguments)}}();function Jh(D=(0,Y.getApp)()){const w=(0,Y._getProvider)(D,"auth");if(w.isInitialized())return w.getImmediate();const I=function xi(D,w){const I=(0,Y._getProvider)(D,"auth");if(I.isInitialized()){const $=I.getImmediate(),J=I.getOptions();if((0,U.vZ)(J,w??{}))return $;xe($,"already-initialized")}return I.initialize({options:w})}(D,{popupRedirectResolver:Ba,persistence:[So,Xd,qs]}),P=(0,U.Pz)("authTokenSyncURL");if(P){const J=d_(P);(function ed(D,w,I){(0,U.m9)(D).beforeAuthStateChanged(w,I)})(I,J,()=>J(I.currentUser)),Io(I,Se=>J(Se))}const $=(0,U.q4)("auth");return $&&tc(I,`http://${$}`),I}!function ap(D){(0,Y._registerComponent)(new ke.wA("auth",(w,{options:I})=>{const P=w.getProvider("app").getImmediate(),$=w.getProvider("heartbeat"),J=w.getProvider("app-check-internal"),{apiKey:Se,authDomain:Xe}=P.options;ue(Se&&!Se.includes(":"),"invalid-api-key",{appName:P.name});const Pt={apiKey:Se,authDomain:Xe,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yo(D)},Nt=new jn(P,$,J,Pt);return function xc(D,w){const I=w?.persistence||[],P=(Array.isArray(I)?I:[I]).map(pi);w?.errorMap&&D._updateErrorMap(w.errorMap),D._initializeWithPersistence(P,w?.popupRedirectResolver)}(Nt,I),Nt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((w,I,P)=>{w.getProvider("auth-internal").initialize()})),(0,Y._registerComponent)(new ke.wA("auth-internal",w=>{const I=Ai(w.getProvider("auth").getImmediate());return new Ry(I)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Y.registerVersion)(l_,"0.23.2",function Zs(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,Y.registerVersion)(l_,"0.23.2","esm2017")}("Browser")},9058:(en,De,Q)=>{Q.d(De,{$s:()=>pi,BH:()=>$e,DV:()=>Ln,Dv:()=>Fe,G6:()=>fi,GJ:()=>Ut,L:()=>Ve,LL:()=>gt,P0:()=>Ze,Pz:()=>nt,Sg:()=>it,UG:()=>Ge,UI:()=>wi,US:()=>ke,Wj:()=>jt,Wl:()=>dn,Yr:()=>rn,ZB:()=>de,ZR:()=>ct,aH:()=>xe,b$:()=>ot,cI:()=>Tn,dS:()=>Ht,eu:()=>Ce,g5:()=>Y,gK:()=>xt,gQ:()=>Qt,h$:()=>ut,hl:()=>Te,hu:()=>U,jU:()=>Le,lb:()=>Xt,m9:()=>go,ne:()=>zt,p$:()=>G,pd:()=>Kt,q4:()=>at,r3:()=>cn,ru:()=>Ct,tV:()=>z,uI:()=>ue,ug:()=>Ci,vZ:()=>Oi,w1:()=>nn,w9:()=>Sn,xO:()=>Ro,xb:()=>Vn,z$:()=>he,zI:()=>He,zd:()=>sn});const a={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},U=function(fe,le){if(!fe)throw Y(le)},Y=function(fe){return new Error("Firebase Database ("+a.SDK_VERSION+") INTERNAL ASSERT FAILED: "+fe)},pe=function(fe){const le=[];let X=0;for(let te=0;te<fe.length;te++){let K=fe.charCodeAt(te);K<128?le[X++]=K:K<2048?(le[X++]=K>>6|192,le[X++]=63&K|128):55296==(64512&K)&&te+1<fe.length&&56320==(64512&fe.charCodeAt(te+1))?(K=65536+((1023&K)<<10)+(1023&fe.charCodeAt(++te)),le[X++]=K>>18|240,le[X++]=K>>12&63|128,le[X++]=K>>6&63|128,le[X++]=63&K|128):(le[X++]=K>>12|224,le[X++]=K>>6&63|128,le[X++]=63&K|128)}return le},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(fe,le){if(!Array.isArray(fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=le?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let K=0;K<fe.length;K+=3){const Oe=fe[K],Qe=K+1<fe.length,St=Qe?fe[K+1]:0,yn=K+2<fe.length,Vt=yn?fe[K+2]:0;let ai=(15&St)<<2|Vt>>6,Nn=63&Vt;yn||(Nn=64,Qe||(ai=64)),te.push(X[Oe>>2],X[(3&Oe)<<4|St>>4],X[ai],X[Nn])}return te.join("")},encodeString(fe,le){return this.HAS_NATIVE_SUPPORT&&!le?btoa(fe):this.encodeByteArray(pe(fe),le)},decodeString(fe,le){return this.HAS_NATIVE_SUPPORT&&!le?atob(fe):function(fe){const le=[];let X=0,te=0;for(;X<fe.length;){const K=fe[X++];if(K<128)le[te++]=String.fromCharCode(K);else if(K>191&&K<224){const Oe=fe[X++];le[te++]=String.fromCharCode((31&K)<<6|63&Oe)}else if(K>239&&K<365){const yn=((7&K)<<18|(63&fe[X++])<<12|(63&fe[X++])<<6|63&fe[X++])-65536;le[te++]=String.fromCharCode(55296+(yn>>10)),le[te++]=String.fromCharCode(56320+(1023&yn))}else{const Oe=fe[X++],Qe=fe[X++];le[te++]=String.fromCharCode((15&K)<<12|(63&Oe)<<6|63&Qe)}}return le.join("")}(this.decodeStringToByteArray(fe,le))},decodeStringToByteArray(fe,le){this.init_();const X=le?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let K=0;K<fe.length;){const Oe=X[fe.charAt(K++)],St=K<fe.length?X[fe.charAt(K)]:0;++K;const Vt=K<fe.length?X[fe.charAt(K)]:64;++K;const xn=K<fe.length?X[fe.charAt(K)]:64;if(++K,null==Oe||null==St||null==Vt||null==xn)throw new Ae;te.push(Oe<<2|St>>4),64!==Vt&&(te.push(St<<4&240|Vt>>2),64!==xn&&te.push(Vt<<6&192|xn))}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let fe=0;fe<this.ENCODED_VALS.length;fe++)this.byteToCharMap_[fe]=this.ENCODED_VALS.charAt(fe),this.charToByteMap_[this.byteToCharMap_[fe]]=fe,this.byteToCharMapWebSafe_[fe]=this.ENCODED_VALS_WEBSAFE.charAt(fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[fe]]=fe,fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(fe)]=fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(fe)]=fe)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ut=function(fe){const le=pe(fe);return ke.encodeByteArray(le,!0)},Ve=function(fe){return ut(fe).replace(/\./g,"")},z=function(fe){try{return ke.decodeString(fe,!0)}catch(le){console.error("base64Decode failed: ",le)}return null};function G(fe){return de(void 0,fe)}function de(fe,le){if(!(le instanceof Object))return le;switch(le.constructor){case Date:return new Date(le.getTime());case Object:void 0===fe&&(fe={});break;case Array:fe=[];break;default:return le}for(const X in le)!le.hasOwnProperty(X)||!Ne(X)||(fe[X]=de(fe[X],le[X]));return fe}function Ne(fe){return"__proto__"!==fe}const Re=()=>{try{return function me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const fe=process.env.__FIREBASE_DEFAULTS__;return fe?JSON.parse(fe):void 0})()||(()=>{if(typeof document>"u")return;let fe;try{fe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const le=fe&&z(fe[1]);return le&&JSON.parse(le)})()}catch(fe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${fe}`)}},at=fe=>{var le,X;return null===(X=null===(le=Re())||void 0===le?void 0:le.emulatorHosts)||void 0===X?void 0:X[fe]},Ze=fe=>{const le=at(fe);if(!le)return;const X=le.lastIndexOf(":");if(X<=0||X+1===le.length)throw new Error(`Invalid host ${le} with no separate hostname and port!`);const te=parseInt(le.substring(X+1),10);return"["===le[0]?[le.substring(1,X-1),te]:[le.substring(0,X),te]},xe=()=>{var fe;return null===(fe=Re())||void 0===fe?void 0:fe.config},nt=fe=>{var le;return null===(le=Re())||void 0===le?void 0:le[`_${fe}`]};class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((le,X)=>{this.resolve=le,this.reject=X})}wrapCallback(le){return(X,te)=>{X?this.reject(X):this.resolve(te),"function"==typeof le&&(this.promise.catch(()=>{}),1===le.length?le(X):le(X,te))}}}function it(fe,le){if(fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const te=le||"demo-project",K=fe.iat||0,Oe=fe.sub||fe.user_id;if(!Oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qe=Object.assign({iss:`https://securetoken.google.com/${te}`,aud:te,iat:K,exp:K+3600,auth_time:K,sub:Oe,user_id:Oe,firebase:{sign_in_provider:"custom",identities:{}}},fe);return[Ve(JSON.stringify({alg:"none",type:"JWT"})),Ve(JSON.stringify(Qe)),""].join(".")}function he(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(he())}function Ge(){var fe;const le=null===(fe=Re())||void 0===fe?void 0:fe.forceEnvironment;if("node"===le)return!0;if("browser"===le)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Le(){return"object"==typeof self&&self.self===self}function Ct(){const fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof fe&&void 0!==fe.id}function ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function nn(){const fe=he();return fe.indexOf("MSIE ")>=0||fe.indexOf("Trident/")>=0}function rn(){return!0===a.NODE_CLIENT||!0===a.NODE_ADMIN}function fi(){return!Ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Te(){try{return"object"==typeof indexedDB}catch{return!1}}function Ce(){return new Promise((fe,le)=>{try{let X=!0;const te="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(te);K.onsuccess=()=>{K.result.close(),X||self.indexedDB.deleteDatabase(te),fe(!0)},K.onupgradeneeded=()=>{X=!1},K.onerror=()=>{var Oe;le((null===(Oe=K.error)||void 0===Oe?void 0:Oe.message)||"")}}catch(X){le(X)}})}function He(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ct extends Error{constructor(le,X,te){super(X),this.code=le,this.customData=te,this.name="FirebaseError",Object.setPrototypeOf(this,ct.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gt.prototype.create)}}class gt{constructor(le,X,te){this.service=le,this.serviceName=X,this.errors=te}create(le,...X){const te=X[0]||{},K=`${this.service}/${le}`,Oe=this.errors[le],Qe=Oe?function Dt(fe,le){return fe.replace(bt,(X,te)=>{const K=le[te];return null!=K?String(K):`<${te}?>`})}(Oe,te):"Error";return new ct(K,`${this.serviceName}: ${Qe} (${K}).`,te)}}const bt=/\{\$([^}]+)}/g;function Tn(fe){return JSON.parse(fe)}function dn(fe){return JSON.stringify(fe)}const Fn=function(fe){let le={},X={},te={},K="";try{const Oe=fe.split(".");le=Tn(z(Oe[0])||""),X=Tn(z(Oe[1])||""),K=Oe[2],te=X.d||{},delete X.d}catch{}return{header:le,claims:X,data:te,signature:K}},Sn=function(fe){const X=Fn(fe).claims;return!!X&&"object"==typeof X&&X.hasOwnProperty("iat")},Ut=function(fe){const le=Fn(fe).claims;return"object"==typeof le&&!0===le.admin};function cn(fe,le){return Object.prototype.hasOwnProperty.call(fe,le)}function Ln(fe,le){if(Object.prototype.hasOwnProperty.call(fe,le))return fe[le]}function Vn(fe){for(const le in fe)if(Object.prototype.hasOwnProperty.call(fe,le))return!1;return!0}function wi(fe,le,X){const te={};for(const K in fe)Object.prototype.hasOwnProperty.call(fe,K)&&(te[K]=le.call(X,fe[K],K,fe));return te}function Oi(fe,le){if(fe===le)return!0;const X=Object.keys(fe),te=Object.keys(le);for(const K of X){if(!te.includes(K))return!1;const Oe=fe[K],Qe=le[K];if(ni(Oe)&&ni(Qe)){if(!Oi(Oe,Qe))return!1}else if(Oe!==Qe)return!1}for(const K of te)if(!X.includes(K))return!1;return!0}function ni(fe){return null!==fe&&"object"==typeof fe}function Ro(fe){const le=[];for(const[X,te]of Object.entries(fe))Array.isArray(te)?te.forEach(K=>{le.push(encodeURIComponent(X)+"="+encodeURIComponent(K))}):le.push(encodeURIComponent(X)+"="+encodeURIComponent(te));return le.length?"&"+le.join("&"):""}function sn(fe){const le={};return fe.replace(/^\?/,"").split("&").forEach(te=>{if(te){const[K,Oe]=te.split("=");le[decodeURIComponent(K)]=decodeURIComponent(Oe)}}),le}function Kt(fe){const le=fe.indexOf("?");if(!le)return"";const X=fe.indexOf("#",le);return fe.substring(le,X>0?X:void 0)}class Qt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let le=1;le<this.blockSize;++le)this.pad_[le]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(le,X){X||(X=0);const te=this.W_;if("string"==typeof le)for(let xn=0;xn<16;xn++)te[xn]=le.charCodeAt(X)<<24|le.charCodeAt(X+1)<<16|le.charCodeAt(X+2)<<8|le.charCodeAt(X+3),X+=4;else for(let xn=0;xn<16;xn++)te[xn]=le[X]<<24|le[X+1]<<16|le[X+2]<<8|le[X+3],X+=4;for(let xn=16;xn<80;xn++){const ai=te[xn-3]^te[xn-8]^te[xn-14]^te[xn-16];te[xn]=4294967295&(ai<<1|ai>>>31)}let Vt,Xn,K=this.chain_[0],Oe=this.chain_[1],Qe=this.chain_[2],St=this.chain_[3],yn=this.chain_[4];for(let xn=0;xn<80;xn++){xn<40?xn<20?(Vt=St^Oe&(Qe^St),Xn=1518500249):(Vt=Oe^Qe^St,Xn=1859775393):xn<60?(Vt=Oe&Qe|St&(Oe|Qe),Xn=2400959708):(Vt=Oe^Qe^St,Xn=3395469782);const ai=(K<<5|K>>>27)+Vt+yn+Xn+te[xn]&4294967295;yn=St,St=Qe,Qe=4294967295&(Oe<<30|Oe>>>2),Oe=K,K=ai}this.chain_[0]=this.chain_[0]+K&4294967295,this.chain_[1]=this.chain_[1]+Oe&4294967295,this.chain_[2]=this.chain_[2]+Qe&4294967295,this.chain_[3]=this.chain_[3]+St&4294967295,this.chain_[4]=this.chain_[4]+yn&4294967295}update(le,X){if(null==le)return;void 0===X&&(X=le.length);const te=X-this.blockSize;let K=0;const Oe=this.buf_;let Qe=this.inbuf_;for(;K<X;){if(0===Qe)for(;K<=te;)this.compress_(le,K),K+=this.blockSize;if("string"==typeof le){for(;K<X;)if(Oe[Qe]=le.charCodeAt(K),++Qe,++K,Qe===this.blockSize){this.compress_(Oe),Qe=0;break}}else for(;K<X;)if(Oe[Qe]=le[K],++Qe,++K,Qe===this.blockSize){this.compress_(Oe),Qe=0;break}}this.inbuf_=Qe,this.total_+=X}digest(){const le=[];let X=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let K=this.blockSize-1;K>=56;K--)this.buf_[K]=255&X,X/=256;this.compress_(this.buf_);let te=0;for(let K=0;K<5;K++)for(let Oe=24;Oe>=0;Oe-=8)le[te]=this.chain_[K]>>Oe&255,++te;return le}}function zt(fe,le){const X=new Me(fe,le);return X.subscribe.bind(X)}class Me{constructor(le,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{le(this)}).catch(te=>{this.error(te)})}next(le){this.forEachObserver(X=>{X.next(le)})}error(le){this.forEachObserver(X=>{X.error(le)}),this.close(le)}complete(){this.forEachObserver(le=>{le.complete()}),this.close()}subscribe(le,X,te){let K;if(void 0===le&&void 0===X&&void 0===te)throw new Error("Missing Observer.");K=function Ee(fe,le){if("object"!=typeof fe||null===fe)return!1;for(const X of le)if(X in fe&&"function"==typeof fe[X])return!0;return!1}(le,["next","error","complete"])?le:{next:le,error:X,complete:te},void 0===K.next&&(K.next=qe),void 0===K.error&&(K.error=qe),void 0===K.complete&&(K.complete=qe);const Oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),Oe}unsubscribeOne(le){void 0===this.observers||void 0===this.observers[le]||(delete this.observers[le],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(le){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,le)}sendOne(le,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[le])try{X(this.observers[le])}catch(te){typeof console<"u"&&console.error&&console.error(te)}})}close(le){this.finalized||(this.finalized=!0,void 0!==le&&(this.finalError=le),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qe(){}const Fe=function(fe,le,X,te){let K;if(te<le?K="at least "+le:te>X&&(K=0===X?"none":"no more than "+X),K)throw new Error(fe+" failed: Was called with "+te+(1===te?" argument.":" arguments.")+" Expects "+K+".")};function xt(fe,le){return`${fe} failed: ${le} argument `}function jt(fe,le,X,te){if((!te||X)&&"function"!=typeof X)throw new Error(xt(fe,le)+"must be a valid function.")}function Xt(fe,le,X,te){if((!te||X)&&("object"!=typeof X||null===X))throw new Error(xt(fe,le)+"must be a valid context object.")}const Ht=function(fe){const le=[];let X=0;for(let te=0;te<fe.length;te++){let K=fe.charCodeAt(te);if(K>=55296&&K<=56319){const Oe=K-55296;te++,U(te<fe.length,"Surrogate pair missing trail surrogate."),K=65536+(Oe<<10)+(fe.charCodeAt(te)-56320)}K<128?le[X++]=K:K<2048?(le[X++]=K>>6|192,le[X++]=63&K|128):K<65536?(le[X++]=K>>12|224,le[X++]=K>>6&63|128,le[X++]=63&K|128):(le[X++]=K>>18|240,le[X++]=K>>12&63|128,le[X++]=K>>6&63|128,le[X++]=63&K|128)}return le},Ci=function(fe){let le=0;for(let X=0;X<fe.length;X++){const te=fe.charCodeAt(X);te<128?le++:te<2048?le+=2:te>=55296&&te<=56319?(le+=4,X++):le+=3}return le},$n=1e3,Li=2,qn=144e5,gr=.5;function pi(fe,le=$n,X=Li){const te=le*Math.pow(X,fe),K=Math.round(gr*te*(Math.random()-.5)*2);return Math.min(qn,te+K)}function go(fe){return fe&&fe._delegate?fe._delegate:fe}},6649:(en,De,Q)=>{var a=Q(5879);let U=null;function Y(){return U}class ce{}const ke=new a.OlP("DocumentToken");let Ae=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Ve)},providedIn:"platform"})}return n})();const ut=new a.OlP("Location Initialized");let Ve=(()=>{class n extends Ae{constructor(){super(),this._doc=(0,a.f3M)(ke),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(e){const i=Y().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Y().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function z(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function G(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function de(n){return n&&"?"!==n[0]?"?"+n:n}let Ne=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(lt)},providedIn:"root"})}return n})();const me=new a.OlP("appBaseHref");let lt=(()=>{class n extends Ne{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return z(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+de(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const u=this.prepareExternalUrl(r+de(o));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){const u=this.prepareExternalUrl(r+de(o));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Ae),a.LFG(me,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),st=(()=>{class n extends Ne{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=z(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let u=this.prepareExternalUrl(r+de(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){let u=this.prepareExternalUrl(r+de(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Ae),a.LFG(me,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})(),mt=(()=>{class n{constructor(e){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function xe(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(G(Ze(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+de(i))}normalize(e){return n.stripTrailingSlash(function at(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Ze(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+de(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+de(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=de;static#t=this.joinWithSlash=z;static#n=this.stripTrailingSlash=G;static#i=this.\u0275fac=function(i){return new(i||n)(a.LFG(Ne))};static#r=this.\u0275prov=a.Yz7({token:n,factory:function(){return function Re(){return new mt((0,a.LFG)(Ne))}()},providedIn:"root"})}return n})();function Ze(n){return n.replace(/\/index.html$/,"")}var he=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(he||{}),ue=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(ue||{}),Ge=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Ge||{}),Le=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Le||{});function Ce(n,t){return cn((0,a.cg1)(n)[a.wAp.DateFormat],t)}function He(n,t){return cn((0,a.cg1)(n)[a.wAp.TimeFormat],t)}function je(n,t){return cn((0,a.cg1)(n)[a.wAp.DateTimeFormat],t)}function ct(n,t){const e=(0,a.cg1)(n),i=e[a.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===Le.CurrencyDecimal)return e[a.wAp.NumberSymbols][Le.Decimal];if(t===Le.CurrencyGroup)return e[a.wAp.NumberSymbols][Le.Group]}return i}function fn(n){if(!n[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function cn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Ln(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const ni=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,zi={},Ro=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var sn=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(sn||{}),Kt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Kt||{}),Qt=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Qt||{});function zt(n,t,e,i){let r=function le(n){if(te(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,u=1]=n.split("-").map(m=>+m);return Me(r,o-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(ni))return function X(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,m=Number(n[5]||0)-i,v=Number(n[6]||0),x=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,u,m,v,x),t}(i)}const t=new Date(n);if(!te(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=we(e,t)||t;let m,u=[];for(;t;){if(m=Ro.exec(t),!m){u.push(t);break}{u=u.concat(m.slice(1));const O=u.pop();if(!O)break;t=O}}let v=r.getTimezoneOffset();i&&(v=_r(i,v),r=function fe(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function go(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(_r(t,r)-r))}(r,i,!0));let x="";return u.forEach(O=>{const L=function Ei(n){if(pi[n])return pi[n];let t;switch(n){case"G":case"GG":case"GGG":t=jt(Qt.Eras,ue.Abbreviated);break;case"GGGG":t=jt(Qt.Eras,ue.Wide);break;case"GGGGG":t=jt(Qt.Eras,ue.Narrow);break;case"y":t=xt(Kt.FullYear,1,0,!1,!0);break;case"yy":t=xt(Kt.FullYear,2,0,!0,!0);break;case"yyy":t=xt(Kt.FullYear,3,0,!1,!0);break;case"yyyy":t=xt(Kt.FullYear,4,0,!1,!0);break;case"Y":t=gr(1);break;case"YY":t=gr(2,!0);break;case"YYY":t=gr(3);break;case"YYYY":t=gr(4);break;case"M":case"L":t=xt(Kt.Month,1,1);break;case"MM":case"LL":t=xt(Kt.Month,2,1);break;case"MMM":t=jt(Qt.Months,ue.Abbreviated);break;case"MMMM":t=jt(Qt.Months,ue.Wide);break;case"MMMMM":t=jt(Qt.Months,ue.Narrow);break;case"LLL":t=jt(Qt.Months,ue.Abbreviated,he.Standalone);break;case"LLLL":t=jt(Qt.Months,ue.Wide,he.Standalone);break;case"LLLLL":t=jt(Qt.Months,ue.Narrow,he.Standalone);break;case"w":t=qn(1);break;case"ww":t=qn(2);break;case"W":t=qn(1,!0);break;case"d":t=xt(Kt.Date,1);break;case"dd":t=xt(Kt.Date,2);break;case"c":case"cc":t=xt(Kt.Day,1);break;case"ccc":t=jt(Qt.Days,ue.Abbreviated,he.Standalone);break;case"cccc":t=jt(Qt.Days,ue.Wide,he.Standalone);break;case"ccccc":t=jt(Qt.Days,ue.Narrow,he.Standalone);break;case"cccccc":t=jt(Qt.Days,ue.Short,he.Standalone);break;case"E":case"EE":case"EEE":t=jt(Qt.Days,ue.Abbreviated);break;case"EEEE":t=jt(Qt.Days,ue.Wide);break;case"EEEEE":t=jt(Qt.Days,ue.Narrow);break;case"EEEEEE":t=jt(Qt.Days,ue.Short);break;case"a":case"aa":case"aaa":t=jt(Qt.DayPeriods,ue.Abbreviated);break;case"aaaa":t=jt(Qt.DayPeriods,ue.Wide);break;case"aaaaa":t=jt(Qt.DayPeriods,ue.Narrow);break;case"b":case"bb":case"bbb":t=jt(Qt.DayPeriods,ue.Abbreviated,he.Standalone,!0);break;case"bbbb":t=jt(Qt.DayPeriods,ue.Wide,he.Standalone,!0);break;case"bbbbb":t=jt(Qt.DayPeriods,ue.Narrow,he.Standalone,!0);break;case"B":case"BB":case"BBB":t=jt(Qt.DayPeriods,ue.Abbreviated,he.Format,!0);break;case"BBBB":t=jt(Qt.DayPeriods,ue.Wide,he.Format,!0);break;case"BBBBB":t=jt(Qt.DayPeriods,ue.Narrow,he.Format,!0);break;case"h":t=xt(Kt.Hours,1,-12);break;case"hh":t=xt(Kt.Hours,2,-12);break;case"H":t=xt(Kt.Hours,1);break;case"HH":t=xt(Kt.Hours,2);break;case"m":t=xt(Kt.Minutes,1);break;case"mm":t=xt(Kt.Minutes,2);break;case"s":t=xt(Kt.Seconds,1);break;case"ss":t=xt(Kt.Seconds,2);break;case"S":t=xt(Kt.FractionalSeconds,1);break;case"SS":t=xt(Kt.FractionalSeconds,2);break;case"SSS":t=xt(Kt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Ht(sn.Short);break;case"ZZZZZ":t=Ht(sn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Ht(sn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Ht(sn.Long);break;default:return null}return pi[n]=t,t}(O);x+=L?L(r,e,v):"''"===O?"'":O.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),x}function Me(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function we(n,t){const e=function ot(n){return(0,a.cg1)(n)[a.wAp.LocaleId]}(n);if(zi[e]=zi[e]||{},zi[e][t])return zi[e][t];let i="";switch(t){case"shortDate":i=Ce(n,Ge.Short);break;case"mediumDate":i=Ce(n,Ge.Medium);break;case"longDate":i=Ce(n,Ge.Long);break;case"fullDate":i=Ce(n,Ge.Full);break;case"shortTime":i=He(n,Ge.Short);break;case"mediumTime":i=He(n,Ge.Medium);break;case"longTime":i=He(n,Ge.Long);break;case"fullTime":i=He(n,Ge.Full);break;case"short":const r=we(n,"shortTime"),o=we(n,"shortDate");i=Ee(je(n,Ge.Short),[r,o]);break;case"medium":const u=we(n,"mediumTime"),m=we(n,"mediumDate");i=Ee(je(n,Ge.Medium),[u,m]);break;case"long":const v=we(n,"longTime"),x=we(n,"longDate");i=Ee(je(n,Ge.Long),[v,x]);break;case"full":const O=we(n,"fullTime"),L=we(n,"fullDate");i=Ee(je(n,Ge.Full),[O,L])}return i&&(zi[e][t]=i),i}function Ee(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function qe(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let u=String(n);for(;u.length<t;)u="0"+u;return i&&(u=u.slice(u.length-t)),o+u}function xt(n,t,e=0,i=!1,r=!1){return function(o,u){let m=function mn(n,t){switch(n){case Kt.FullYear:return t.getFullYear();case Kt.Month:return t.getMonth();case Kt.Date:return t.getDate();case Kt.Hours:return t.getHours();case Kt.Minutes:return t.getMinutes();case Kt.Seconds:return t.getSeconds();case Kt.FractionalSeconds:return t.getMilliseconds();case Kt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||m>-e)&&(m+=e),n===Kt.Hours)0===m&&-12===e&&(m=12);else if(n===Kt.FractionalSeconds)return function Fe(n,t){return qe(n,3).substring(0,t)}(m,t);const v=ct(u,Le.MinusSign);return qe(m,t,v,i,r)}}function jt(n,t,e=he.Format,i=!1){return function(r,o){return function Xt(n,t,e,i,r,o){switch(e){case Qt.Months:return function un(n,t,e){const i=(0,a.cg1)(n),o=cn([i[a.wAp.MonthsFormat],i[a.wAp.MonthsStandalone]],t);return cn(o,e)}(t,r,i)[n.getMonth()];case Qt.Days:return function nn(n,t,e){const i=(0,a.cg1)(n),o=cn([i[a.wAp.DaysFormat],i[a.wAp.DaysStandalone]],t);return cn(o,e)}(t,r,i)[n.getDay()];case Qt.DayPeriods:const u=n.getHours(),m=n.getMinutes();if(o){const x=function tn(n){const t=(0,a.cg1)(n);return fn(t),(t[a.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Ln(i):[Ln(i[0]),Ln(i[1])])}(t),O=function Sn(n,t,e){const i=(0,a.cg1)(n);fn(i);const o=cn([i[a.wAp.ExtraData][0],i[a.wAp.ExtraData][1]],t)||[];return cn(o,e)||[]}(t,r,i),L=x.findIndex(q=>{if(Array.isArray(q)){const[ne,ae]=q,ye=u>=ne.hours&&m>=ne.minutes,We=u<ae.hours||u===ae.hours&&m<ae.minutes;if(ne.hours<ae.hours){if(ye&&We)return!0}else if(ye||We)return!0}else if(q.hours===u&&q.minutes===m)return!0;return!1});if(-1!==L)return O[L]}return function Yt(n,t,e){const i=(0,a.cg1)(n),o=cn([i[a.wAp.DayPeriodsFormat],i[a.wAp.DayPeriodsStandalone]],t);return cn(o,e)}(t,r,i)[u<12?0:1];case Qt.Eras:return function rn(n,t){return cn((0,a.cg1)(n)[a.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Ht(n){return function(t,e,i){const r=-1*i,o=ct(e,Le.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case sn.Short:return(r>=0?"+":"")+qe(u,2,o)+qe(Math.abs(r%60),2,o);case sn.ShortGMT:return"GMT"+(r>=0?"+":"")+qe(u,1,o);case sn.Long:return"GMT"+(r>=0?"+":"")+qe(u,2,o)+":"+qe(Math.abs(r%60),2,o);case sn.Extended:return 0===i?"Z":(r>=0?"+":"")+qe(u,2,o)+":"+qe(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const Ci=0,vi=4;function Li(n){return Me(n.getFullYear(),n.getMonth(),n.getDate()+(vi-n.getDay()))}function qn(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();r=1+Math.floor((u+o)/7)}else{const o=Li(e),u=function $n(n){const t=Me(n,Ci,1).getDay();return Me(n,0,1+(t<=vi?vi:vi+7)-t)}(o.getFullYear()),m=o.getTime()-u.getTime();r=1+Math.round(m/6048e5)}return qe(r,n,ct(i,Le.MinusSign))}}function gr(n,t=!1){return function(e,i){return qe(Li(e).getFullYear(),n,ct(i,Le.MinusSign),t)}}const pi={};function _r(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function te(n){return n instanceof Date&&!isNaN(n.valueOf())}const _o=/\s+/,Ta=[];let No=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=Ta,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(_o):Ta}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(_o):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(_o).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class Ko{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jn=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ko(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const m=i.get(o);i.move(m,u),Ai(m,r)}});for(let r=0,o=i.length;r<o;r++){const m=i.get(r).context;m.index=r,m.count=o,m.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Ai(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Ai(n,t){n.context.$implicit=t.item}let xi=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new xc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){tc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){tc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.s_b),a.Y36(a.Rgc))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class xc{constructor(){this.$implicit=null,this.ngIf=null}}function tc(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(t)}'.`)}class $r{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ls=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),nc=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new $r(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Ls,9))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),Us=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),u=-1===r.indexOf("-")?void 0:a.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,u):this._renderer.removeStyle(this._ngEl.nativeElement,r,u)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),oa=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,o,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.s_b))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]})}return n})();function Fo(n,t){return new a.vHH(2100,!1)}class yo{createSubscription(t,e){return(0,a.rg0)(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){(0,a.rg0)(()=>t.unsubscribe())}}class yr{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const ic=new yr,sa=new yo;let Yi=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,a.QGY)(e))return ic;if((0,a.F4k)(e))return sa;throw Fo()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.sBO,16))};static#t=this.\u0275pipe=a.Yjl({name:"async",type:n,pure:!1,standalone:!0})}return n})();const Ui=new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),br=new a.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Sa=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return zt(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(u){throw Fo()}}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.soG,16),a.Y36(Ui,24),a.Y36(br,24))};static#t=this.\u0275pipe=a.Yjl({name:"date",type:n,pure:!0,standalone:!0})}return n})(),kn=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw Fo();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=a.Yjl({name:"slice",type:n,pure:!1,standalone:!0})}return n})(),ki=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();const ca="browser";function Cr(n){return"server"===n}let Er=(()=>{class n{static#e=this.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new Ir((0,a.LFG)(ke),window)})}return n})();class Ir{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function la(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class es extends ce{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Uc extends es{static makeCurrent(){!function pe(n){U||(U=n)}(new Uc)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ul(){return $s=$s||document.querySelector("base"),$s?$s.getAttribute("href"):null}();return null==e?null:function Io(n){Eo=Eo||document.createElement("a"),Eo.setAttribute("href",n);const t=Eo.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){$s=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Ur(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Eo,$s=null,zh=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const yu=new a.OlP("EventManagerPlugins");let Hh=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new a.vHH(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(yu),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();class zl{constructor(t){this._doc=t}}const Hl="ng-app-id";let td=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Cr(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Hl}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(Hl),o;{const u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=i,this.platformIsServer&&u.setAttribute(Hl,this.appId),u}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const o=this.styleRef,u=o.get(i)?.elements;u?u.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(ke),a.LFG(a.AFp),a.LFG(a.Ojb,8),a.LFG(a.Lbi))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const xs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vc=/%COMP%/g,Es=new a.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Mi(n,t){return t.map(e=>e.replace(Vc,n))}let hl=(()=>{class n{constructor(e,i,r,o,u,m,v,x=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=u,this.platformId=m,this.ngZone=v,this.nonce=x,this.rendererByCompId=new Map,this.platformIsServer=Cr(m),this.defaultRenderer=new Na(e,u,v,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===a.ifc.ShadowDom&&(i={...i,encapsulation:a.ifc.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof Xd?r.applyToHost(e):r instanceof Ki&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const u=this.doc,m=this.ngZone,v=this.eventManager,x=this.sharedStylesHost,O=this.removeStylesOnCompDestroy,L=this.platformIsServer;switch(i.encapsulation){case a.ifc.Emulated:o=new Xd(v,x,i,this.appId,O,u,m,L);break;case a.ifc.ShadowDom:return new fl(v,x,e,i,u,m,this.nonce,L);default:o=new Ki(v,x,i,O,u,m,L)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Hh),a.LFG(td),a.LFG(a.AFp),a.LFG(Es),a.LFG(ke),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(a.Ojb))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();class Na{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(xs[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Jd(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Jd(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new a.vHH(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=xs[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=xs[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(a.JOm.DashCase|a.JOm.Important)?t.style.setProperty(e,i,r&a.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&a.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=Y().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Jd(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class fl extends Na{constructor(t,e,i,r,o,u,m,v){super(t,o,u,v),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const x=Mi(r.id,r.styles);for(const O of x){const L=document.createElement("style");m&&L.setAttribute("nonce",m),L.textContent=O,this.shadowRoot.appendChild(L)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ki extends Na{constructor(t,e,i,r,o,u,m,v){super(t,o,u,m),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=v?Mi(v,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Xd extends Ki{constructor(t,e,i,r,o,u,m,v){const x=r+"-"+i.id;super(t,e,i,o,u,m,v,x),this.contentAttr=function Qd(n){return"_ngcontent-%COMP%".replace(Vc,n)}(x),this.hostAttr=function wu(n){return"_nghost-%COMP%".replace(Vc,n)}(x)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let eh=(()=>{class n extends zl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(ke))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const qs=["alt","control","meta","shift"],pl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},th={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Bc=(()=>{class n extends zl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Y().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="",m=i.indexOf("code");if(m>-1&&(i.splice(m,1),u="code."),qs.forEach(x=>{const O=i.indexOf(x);O>-1&&(i.splice(O,1),u+=x+".")}),u+=o,0!=i.length||0===o.length)return null;const v={};return v.domEventName=r,v.fullKey=u,v}static matchEventFullKeyCode(e,i){let r=pl[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),qs.forEach(u=>{u!==r&&(0,th[u])(e)&&(o+=u+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(ke))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const Br=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:ca},{provide:a.g9A,useValue:function In(){Uc.makeCurrent()},multi:!0},{provide:ke,useFactory:function ep(){return(0,a.RDi)(document),document},deps:[]}]),qh=new a.OlP(""),Wi=[{provide:a.rWj,useClass:class ed{addToWindow(t){a.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new a.vHH(5103,!1);return o},a.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const m=function(v){u=u||v,o--,0==o&&i(u)};r.forEach(v=>{v.whenStable(m)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Y().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Is=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function jc(){return new a.qLn},deps:[]},{provide:yu,useClass:eh,multi:!0,deps:[ke,a.R0b,a.Lbi]},{provide:yu,useClass:Bc,multi:!0,deps:[ke]},hl,td,Hh,{provide:a.FYo,useExisting:hl},{provide:class Vi{},useClass:zh,deps:[]},[]];let zc=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:a.AFp,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(qh,12))};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:[...Is,...Wi],imports:[ki,a.hGG]})}return n})(),pt=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(ke))};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function uc(){return new pt((0,a.LFG)(ke))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let Xr=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(i){let r=null;return r=i?new(i||n):a.LFG(ma),r},providedIn:"root"})}return n})(),ma=(()=>{class n extends Xr{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case a.q3G.NONE:return i;case a.q3G.HTML:return(0,a.qzn)(i,"HTML")?(0,a.z3N)(i):(0,a.EiD)(this._doc,String(i)).toString();case a.q3G.STYLE:return(0,a.qzn)(i,"Style")?(0,a.z3N)(i):i;case a.q3G.SCRIPT:if((0,a.qzn)(i,"Script"))return(0,a.z3N)(i);throw new a.vHH(5200,!1);case a.q3G.URL:return(0,a.qzn)(i,"URL")?(0,a.z3N)(i):(0,a.mCW)(String(i));case a.q3G.RESOURCE_URL:if((0,a.qzn)(i,"ResourceURL"))return(0,a.z3N)(i);throw new a.vHH(5201,!1);default:throw new a.vHH(5202,!1)}}bypassSecurityTrustHtml(e){return(0,a.JVY)(e)}bypassSecurityTrustStyle(e){return(0,a.L6k)(e)}bypassSecurityTrustScript(e){return(0,a.eBb)(e)}bypassSecurityTrustUrl(e){return(0,a.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,a.pB0)(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(ke))};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function Gh(n){return new ma(n.get(ke))}(a.LFG(a.zs3)),r},providedIn:"root"})}return n})();function dc(n){return n instanceof a.Rgc}function hc(n){return"function"==typeof n}function fc(n){return"string"==typeof n}let Gl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(e,i){1&e&&a._UZ(0,"div",0),2&e&&a.Q6J("innerHTML",i.content,a.oJD)},encapsulation:2}),n})();class ts{constructor(t){this.args=t,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const t=this.viewRef.rootNodes;return 1===t.length&&t[0]===Node.ELEMENT_NODE?this.element=t[0]:(this.element=document.createElement("div"),this.element.append(...t)),this.element}destroy(){1!==this.viewRef.rootNodes[0]&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class ga{constructor(t){this.value=t}getElement(){return this.value}detectChanges(){}destroy(){}}class sr{constructor(t){if(this.options=t,t.vcr)this.compRef=t.vcr.createComponent(t.component,{index:t.vcr.length,injector:t.injector||t.vcr.injector});else{const e=t.resolver.resolveComponentFactory(t.component);this.compRef=e.create(t.injector),t.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(t,e){return this.compRef.instance[t]=e,this}setInputs(t){return Object.keys(t).forEach(e=>{this.compRef.instance[e]=t[e]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(t){return t.appendChild(this.getElement()),this}removeFrom(t){return t.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let _a=(()=>{class n{constructor(e,i,r){this.resolver=e,this.injector=i,this.appRef=r}createComponent(e,i={}){return new sr({component:e,vcr:i.vcr,injector:i.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(e,i={}){return new ts({vcr:i.vcr,appRef:this.appRef,tpl:e,context:i.context})}createView(e,i={}){if(dc(e))return this.createTemplate(e,i);if(hc(e))return this.createComponent(e,i);if(fc(e))return new ga(e);throw"Type of content is not supported"}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a._Vd),a.LFG(a.zs3),a.LFG(a.z2F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sh=(()=>{class n{constructor(e,i,r){this.defaultTpl=e,this.vcr=i,this.viewService=r}ngOnInit(){this.resolveContentType()}ngOnChanges(e){e.view&&!e.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){this.viewRef?.destroy(),fc(this.view)?(this.viewRef=this.viewService.createComponent(Gl,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:this.injector??this.vcr.injector,context:this.context})}ngOnDestroy(){this.viewRef?.destroy()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.s_b),a.Y36(_a))},n.\u0275dir=a.lG2({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[a.TTD]}),n})(),ds=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();var Hn=Q(8645),ar=Q(5592),Do=Q(4829);const{isArray:Wl}=Array;var ci=Q(8251);function Hc(n){return new ar.y(t=>{(0,Do.Xf)(n()).subscribe(t)})}var Nr=Q(9360);function cr(n,t){return(0,Nr.e)((e,i)=>{let r=0;e.subscribe((0,ci.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var tr=Q(9397);const ip=["*"],Ts=function(n,t){return{"border-color":n,"border-right-color":t}};function sd(n,t){if(1&n&&(a.TgZ(0,"div"),a._uU(1,"\n        "),a._UZ(2,"hot-toast-error",2),a._uU(3,"\n      "),a.qZA()),2&n){const e=a.oxw(3);a.xp6(2),a.Q6J("theme",e.theme)}}function ym(n,t){if(1&n&&(a.TgZ(0,"div"),a._uU(1,"\n        "),a._UZ(2,"hot-toast-checkmark",2),a._uU(3,"\n      "),a.qZA()),2&n){const e=a.oxw(3);a.xp6(2),a.Q6J("theme",e.theme)}}function ad(n,t){if(1&n&&(a.TgZ(0,"div"),a._uU(1,"\n        "),a._UZ(2,"hot-toast-warning",2),a._uU(3,"\n      "),a.qZA()),2&n){const e=a.oxw(3);a.xp6(2),a.Q6J("theme",e.theme)}}function cd(n,t){if(1&n&&(a.TgZ(0,"div"),a._uU(1,"\n        "),a._UZ(2,"hot-toast-info",2),a._uU(3,"\n      "),a.qZA()),2&n){const e=a.oxw(3);a.xp6(2),a.Q6J("theme",e.theme)}}function rp(n,t){if(1&n&&(a.TgZ(0,"div",4),a._uU(1,"\n    "),a.TgZ(2,"div",5),a._uU(3,"\n      "),a.YNc(4,sd,4,1,"div",6),a._uU(5,"\n      "),a.YNc(6,ym,4,1,"div",6),a._uU(7,"\n      "),a.YNc(8,ad,4,1,"div",6),a._uU(9,"\n      "),a.YNc(10,cd,4,1,"div",6),a._uU(11,"\n    "),a.qZA(),a._uU(12,"\n  "),a.qZA()),2&n){const e=a.oxw(2);a.xp6(2),a.Q6J("ngSwitch",e.type),a.xp6(2),a.Q6J("ngSwitchCase","error"),a.xp6(2),a.Q6J("ngSwitchCase","success"),a.xp6(2),a.Q6J("ngSwitchCase","warning"),a.xp6(2),a.Q6J("ngSwitchCase","info")}}function ld(n,t){if(1&n&&(a.TgZ(0,"div",1),a._uU(1,"\n  "),a._UZ(2,"hot-toast-loader",2),a._uU(3,"\n  "),a.YNc(4,rp,13,5,"div",3),a._uU(5,"\n"),a.qZA()),2&n){const e=a.oxw();a.xp6(2),a.Q6J("theme",e.theme),a.xp6(2),a.Q6J("ngIf","loading"!==e.type)}}const Zl=["hotToastBarBase"];function Wh(n,t){if(1&n&&(a.ynx(0),a._uU(1,"\n          "),a.TgZ(2,"hot-toast-animated-icon",10),a._uU(3),a.qZA(),a._uU(4,"\n        "),a.BQk()),2&n){const e=a.oxw(2);a.xp6(2),a.Q6J("iconTheme",e.toast.iconTheme),a.xp6(1),a.Oqu(e.toast.icon)}}function ah(n,t){if(1&n&&(a._uU(0,"\n          "),a.TgZ(1,"div"),a._uU(2,"\n            "),a.GkF(3,11),a._uU(4,"\n          "),a.qZA(),a._uU(5,"\n        ")),2&n){const e=a.oxw(2);a.xp6(3),a.Q6J("dynamicView",e.toast.icon)}}function $c(n,t){if(1&n&&(a.ynx(0),a._uU(1,"\n        "),a.YNc(2,Wh,5,2,"ng-container",4),a._uU(3,"\n        "),a.YNc(4,ah,6,1,"ng-template",null,9,a.W1O),a._uU(6,"\n      "),a.BQk()),2&n){const e=a.MAs(5),i=a.oxw();a.xp6(2),a.Q6J("ngIf",i.isIconString)("ngIfElse",e)}}function qc(n,t){if(1&n&&(a._uU(0,"\n        "),a._UZ(1,"hot-toast-indicator",12),a._uU(2,"\n      ")),2&n){const e=a.oxw();a.xp6(1),a.Q6J("theme",e.toast.iconTheme)("type",e.toast.type)}}function ud(n,t){1&n&&a.GkF(0)}function _l(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",13),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.close())}),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("ngStyle",e.toast.closeStyle)}}function Mu(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"hot-toast",3),a.NdJ("height",function(r){const u=a.CHM(e).$implicit,m=a.oxw();return a.KtG(m.updateHeight(r,u))})("beforeClosed",function(){const o=a.CHM(e).$implicit,u=a.oxw();return a.KtG(u.beforeClosed(o))})("afterClosed",function(r){a.CHM(e);const o=a.oxw();return a.KtG(o.afterClosed(r))}),a.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=a.oxw();a.Q6J("toast",e)("offset",r.calculateOffset(e.id,e.position))("toastRef",r.toastRefs[i])}}const hs={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class Kh{constructor(t){this.toast=t,this._onClosed=new Hn.x}get data(){return this.toast.data}set dispose(t){this._dispose=t}getToast(){return this.toast}appendTo(t){const{dispose:e,updateMessage:i,updateToast:r,afterClosed:o}=t.addToast(this);return this.dispose=e,this.updateMessage=i,this.updateToast=r,this.afterClosed=function La(...n){return 1===(n=function pc(n){return 1===n.length&&Wl(n[0])?n[0]:n}(n)).length?(0,Do.Xf)(n[0]):new ar.y(function jr(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push((0,Do.Xf)(n[i]).subscribe((0,ci.x)(t,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}t.next(r)})))}}(n))}(this._onClosed.asObservable(),o),this}close(t={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:t.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}}let dd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:ip,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"div",0),a._uU(1,"\n  "),a.Hsn(2),a._uU(3,"\n"),a.qZA(),a._uU(4,"\n")),2&e&&a.Udp("color",null==i.iconTheme?null:i.iconTheme.primary)},encapsulation:2,changeDetection:0}),n})(),Gs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(e,i){1&e&&(a._UZ(0,"div",0),a._uU(1,"\n")),2&e&&a.Udp("--check-primary",null==i.theme?null:i.theme.primary)("--check-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),Yl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(e,i){1&e&&(a._UZ(0,"div",0),a._uU(1,"\n")),2&e&&a.Udp("--error-primary",null==i.theme?null:i.theme.primary)("--error-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),Tu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(e,i){1&e&&(a._UZ(0,"div",0),a._uU(1,"\n")),2&e&&a.Q6J("ngStyle",a.WLB(1,Ts,null==i.theme?null:i.theme.primary,null==i.theme?null:i.theme.secondary))},dependencies:[Us],encapsulation:2,changeDetection:0}),n})(),Kl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(e,i){1&e&&(a._UZ(0,"div",0),a._uU(1,"\n")),2&e&&a.Udp("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),Ql=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(e,i){1&e&&(a._UZ(0,"div",0),a._uU(1,"\n")),2&e&&a.Udp("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),hd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,i){1&e&&(a.YNc(0,ld,6,2,"div",0),a._uU(1,"\n")),2&e&&a.Q6J("ngIf","blank"!==i.type)},dependencies:[xi,Ls,nc,Gs,Yl,Tu,Kl,Ql],encapsulation:2,changeDetection:0}),n})(),Jl=(()=>{class n{constructor(e,i,r){this.injector=e,this.renderer=i,this.ngZone=r,this.offset=0,this.height=new a.vpe,this.beforeClosed=new a.vpe,this.afterClosed=new a.vpe,this.isManualClose=!1,this.unlisteners=[]}get toastBarBaseHeight(){return this.toastBarBase.nativeElement.offsetHeight}get containerPositionStyle(){const e=this.toast.position.includes("top"),i=e?{top:0}:{bottom:0},r=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return{transform:`translateY(${this.offset*(e?1:-1)}px)`,...i,...r}}get toastBarBaseStyles(){const e=this.toast.position.includes("top"),i=`hotToastEnterAnimation${e?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`;return{...this.toast.style,animation:this.toast.autoClose?`${i}, hotToastExitAnimation${e?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:i}}get isIconString(){return"string"==typeof this.toast.icon}ngOnChanges(e){e.toast&&!e.toast.firstChange&&e.toast.currentValue?.message&&requestAnimationFrame(()=>{this.height.emit(this.toastBarBase.nativeElement.offsetHeight)})}ngOnInit(){dc(this.toast.message)&&(this.context={$implicit:this.toastRef}),hc(this.toast.message)&&(this.toastComponentInjector=a.zs3.create({providers:[{provide:Kh,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const e=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(e.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(e,"animationstart",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(e,"animationend",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}close(){this.isManualClose=!0;((n,t)=>{this.toastBarBase.nativeElement.style.animation=t})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(e){return e.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const e=this.toast.attributes;for(const[i,r]of Object.entries(e))this.renderer.setAttribute(this.toastBarBase.nativeElement,i,r)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.zs3),a.Y36(a.Qsj),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast"]],viewQuery:function(e,i){if(1&e&&a.Gf(Zl,5),2&e){let r;a.iGM(r=a.CRH())&&(i.toastBarBase=r.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},features:[a.TTD],decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(e,i){if(1&e&&(a.TgZ(0,"div",0),a._uU(1,"\n  "),a.TgZ(2,"div",1,2),a._uU(4,"\n    "),a.TgZ(5,"div",3),a._uU(6,"\n      "),a.YNc(7,$c,7,2,"ng-container",4),a._uU(8,"\n\n      "),a.YNc(9,qc,3,2,"ng-template",null,5,a.W1O),a._uU(11,"\n    "),a.qZA(),a._uU(12,"\n\n    "),a.TgZ(13,"div",6),a._uU(14,"\n      "),a.TgZ(15,"div"),a._uU(16,"\n        "),a.YNc(17,ud,1,0,"ng-container",7),a._uU(18,"\n      "),a.qZA(),a._uU(19,"\n    "),a.qZA(),a._uU(20,"\n\n    "),a.YNc(21,_l,1,1,"button",8),a._uU(22,"\n  "),a.qZA(),a._uU(23,"\n"),a.qZA(),a._uU(24,"\n")),2&e){const r=a.MAs(10);a.Q6J("ngStyle",i.containerPositionStyle)("ngClass","hot-toast-theme-"+i.toast.theme),a.xp6(2),a.Udp("--hot-toast-animation-state",i.isManualClose?"running":"paused"),a.Q6J("ngStyle",i.toastBarBaseStyles)("ngClass",i.toast.className),a.uIk("aria-live",i.toast.ariaLive)("role",i.toast.role),a.xp6(5),a.Q6J("ngIf",void 0!==i.toast.icon)("ngIfElse",r),a.xp6(10),a.Q6J("dynamicView",i.toast.message)("dynamicViewContext",i.context)("dynamicViewInjector",i.toastComponentInjector),a.xp6(4),a.Q6J("ngIf",i.toast.dismissible)}},dependencies:[No,xi,Us,sh,dd,hd],encapsulation:2,changeDetection:0}),n})(),Xl=(()=>{class n{constructor(e){this.cdr=e,this.toasts=[],this.toastRefs=[],this._onClosed=new Hn.x,this.onClosed$=this._onClosed.asObservable()}trackById(e,i){return i.id}calculateOffset(e,i){const r=this.toasts.filter(m=>m.visible&&m.position===i),o=r.findIndex(m=>m.id===e);return-1!==o?r.slice(...this.defaultConfig.reverseOrder?[o+1]:[0,o]).reduce((m,v)=>m+(v.height||0)+8,0):0}updateHeight(e,i){i.height=e,this.cdr.detectChanges()}addToast(e){this.toastRefs.push(e);const i=e.getToast();return this.toasts.push(e.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(i.id)},updateMessage:r=>{i.message=r,this.updateToasts(i),this.cdr.detectChanges()},updateToast:r=>{this.updateToasts(i,r),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(i)}}closeToast(e){if(e){const i=this.hotToastComponentList.find(r=>r.toast.id===e);i&&i.close()}else this.hotToastComponentList.forEach(i=>i.close())}beforeClosed(e){e.visible=!1}afterClosed(e){this.toasts.findIndex(r=>r.id===e.id)>-1&&(this._onClosed.next(e),this.toasts=this.toasts.filter(r=>r.id!==e.id),this.toastRefs=this.toastRefs.filter(r=>r.getToast().id!==e.id),this.cdr.detectChanges())}hasToast(e){return this.toasts.findIndex(i=>i.id===e)>-1}getAfterClosed(e){return this.onClosed$.pipe(cr(i=>i.id===e.id))}updateToasts(e,i){this.toasts=this.toasts.map(r=>({...r,...r.id===e.id&&{...e,...i}}))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-container"]],viewQuery:function(e,i){if(1&e&&a.Gf(Jl,5),2&e){let r;a.iGM(r=a.CRH())&&(i.hotToastComponentList=r)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a._uU(1,"\n  "),a.TgZ(2,"div",1),a._uU(3,"\n    "),a.YNc(4,Mu,1,3,"hot-toast",2),a._uU(5,"\n  "),a.qZA(),a._uU(6,"\n"),a.qZA(),a._uU(7,"\n")),2&e&&(a.xp6(4),a.Q6J("ngForOf",i.toasts)("ngForTrackBy",i.trackById))},dependencies:[jn,Jl],encapsulation:2,changeDetection:0}),n})();class Ws{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.info={content:""},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class fd{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let Ua=(()=>{class n{constructor(e,i,r){this._viewService=e,this.platformId=i,this._isInitialized=!1,this._defaultConfig=new Ws,this._defaultPersistConfig=new fd,r&&(this._defaultConfig={...this._defaultConfig,...r})}get defaultConfig(){return this._defaultConfig}set defaultConfig(e){this._defaultConfig={...this._defaultConfig,...e},this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(e,i){return this.createToast(e||this._defaultConfig.blank.content,"blank",{...this._defaultConfig,...i})}error(e,i){return this.createToast(e||this._defaultConfig.error.content,"error",{...this._defaultConfig,...this._defaultConfig?.error,...i})}success(e,i){return this.createToast(e||this._defaultConfig.success.content,"success",{...this._defaultConfig,...this._defaultConfig?.success,...i})}loading(e,i){return this.createToast(e||this._defaultConfig.loading.content,"loading",{...this._defaultConfig,...this._defaultConfig?.loading,...i})}warning(e,i){return this.createToast(e||this._defaultConfig.warning.content,"warning",{...this._defaultConfig,...this._defaultConfig?.warning,...i})}info(e,i){return this.createToast(e||this._defaultConfig.info.content,"info",{...this._defaultConfig,...this._defaultConfig?.info,...i})}observe(e){return i=>{let r,o=0;const u=e.loading??this._defaultConfig.loading?.content,m=e.success??this._defaultConfig.success?.content,v=e.error??this._defaultConfig.error?.content;return Hc(()=>(u&&(r=this.createLoadingToast(u),o=Date.now()),i.pipe((0,tr.b)({...m&&{next:x=>{r=this.createOrUpdateToast(e,x,r,"success",0===o?o:Date.now()-o)}},...v&&{error:x=>{r=this.createOrUpdateToast(e,x,r,"error",0===o?o:Date.now()-o)}}}))))}}close(e){this._componentRef&&this._componentRef.ref.instance.closeToast(e)}init(){Cr(this.platformId)||(this._componentRef=this._viewService.createComponent(Xl).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(e,i,r,o,u){let m=null,v={};if(({content:m,options:v}=this.getContentAndOptions(o,e[o]||(this._defaultConfig[o]?this._defaultConfig[o].content:""))),m=((n,t)=>(n=>"function"==typeof n)(n)?n(t):n)(m,i),r){r.updateMessage(m);const x={type:o,duration:u+hs[o],...v,...v.duration&&{duration:u+v.duration}};r.updateToast(x)}else this.createToast(m,o,v);return r}createToast(e,i,r,o){this._isInitialized||(this._isInitialized=!0,this.init());const u=Date.now(),m=r?.id??u.toString();if(!this.isDuplicate(m)&&(!r.persist?.enabled||r.persist?.enabled&&this.handleStorageValue(m,r))){const v={ariaLive:r?.ariaLive??"polite",createdAt:u,duration:r?.duration??hs[i],id:m,message:e,role:r?.role??"status",type:i,visible:!0,observableMessages:o??void 0,...r};return new Kh(v).appendTo(this._componentRef.ref.instance)}}isDuplicate(e){return this._componentRef.ref.instance.hasToast(e)}handleStorageValue(e,i){let r=1;const o={...this._defaultPersistConfig,...i.persist},u="local"===o.storage?localStorage:sessionStorage,m=o.key.replace(/\${id}/g,e);let v=u.getItem(m);return v?(v=parseInt(v,10),r=v>0?v-1:v):r=o.count,u.setItem(m,r.toString()),r}getContentAndOptions(e,i){let r,o={...this._defaultConfig,...this._defaultConfig[e]};if("string"==typeof i||dc(i)||hc(i))r=i;else{let u;({content:r,...u}=i),o={...o,...u}}return{content:r,options:o}}createLoadingToast(e){let i=null,r={};return({content:i,options:r}=this.getContentAndOptions("loading",e)),this.loading(i,r)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_a),a.LFG(a.Lbi),a.LFG(Ws,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lh=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:Ws,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[ki,ds]}),n})();class uh{}class vl{}const ns="*";function Gc(n,t){return{type:7,name:n,definitions:t,options:{}}}function Ri(n,t=null){return{type:4,styles:t,timings:n}}function mc(n,t=null){return{type:3,steps:n,options:t}}function pd(n,t=null){return{type:2,steps:n,options:t}}function Ti(n){return{type:6,styles:n,offset:null}}function md(n,t,e){return{type:0,name:n,styles:t,options:e}}function sp(n){return{type:5,steps:n}}function fs(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}class H{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class oe{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,m)=>Math.max(u,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function rt(n){return new a.vHH(3e3,!1)}function Nt(n){switch(n.length){case 0:return new H;case 1:return n[0];default:return new oe(n)}}function pn(n,t,e=new Map,i=new Map){const r=[],o=[];let u=-1,m=null;if(t.forEach(v=>{const x=v.get("offset"),O=x==u,L=O&&m||new Map;v.forEach((q,ne)=>{let ae=ne,ye=q;if("offset"!==ne)switch(ae=n.normalizePropertyName(ae,r),ye){case"!":ye=e.get(ne);break;case ns:ye=i.get(ne);break;default:ye=n.normalizeStyleValue(ne,ae,ye,r)}L.set(ae,ye)}),O||o.push(L),m=L,u=x}),r.length)throw function u_(n){return new a.vHH(3502,!1)}();return o}function Wn(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&eo(e,"start",n)));break;case"done":n.onDone(()=>i(e&&eo(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&eo(e,"destroy",n)))}}function eo(n,t,e){const o=va(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function va(n,t,e,i,r="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function to(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function cp(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const Xh=(()=>typeof document>"u"?null:document.documentElement)();function Zc(n){const t=n.parentNode||n.host||null;return t===Xh?null:t}let wl=null,ef=!1;function tu(n,t){for(;t;){if(t===n)return!0;t=Zc(t)}return!1}function hh(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let fh=(()=>{class n{validateStyleProperty(e){return function dh(n){wl||(wl=function wm(){return typeof document<"u"?document.body:null}()||{},ef=!!wl.style&&"WebkitAppearance"in wl.style);let t=!0;return wl.style&&!function Du(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in wl.style,!t&&ef&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in wl.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return tu(e,i)}getParentElement(e){return Zc(e)}query(e,i,r){return hh(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,u,m=[],v){return new H(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})(),yd=(()=>{class n{static#e=this.NOOP=new fh}return n})();const f_=1e3,Cm="ng-enter",p_="ng-leave",xm="ng-trigger",bd=".ng-trigger",up="ng-animating",m_=".ng-animating";function Ou(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:ph(parseFloat(t[1]),t[2])}function ph(n,t){return"s"===t?n*f_:n}function Em(n,t,e){return n.hasOwnProperty("duration")?n:function Cw(n,t,e){let r,o=0,u="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return t.push(rt()),{duration:0,delay:0,easing:""};r=ph(parseFloat(m[1]),m[2]);const v=m[3];null!=v&&(o=ph(parseFloat(v),m[4]));const x=m[5];x&&(u=x)}else r=n;if(!e){let m=!1,v=t.length;r<0&&(t.push(function Bt(){return new a.vHH(3100,!1)}()),m=!0),o<0&&(t.push(function Ft(){return new a.vHH(3101,!1)}()),m=!0),m&&t.splice(v,0,rt())}return{duration:r,delay:o,easing:u}}(n,t,e)}function Cl(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Ny(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function xl(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function gc(n,t,e){t.forEach((i,r)=>{const o=gh(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function Au(n,t){t.forEach((e,i)=>{const r=gh(i);n.style[r]=""})}function mh(n){return Array.isArray(n)?1==n.length?n[0]:pd(n):n}const Pu=new RegExp("{{\\s*(.+?)\\s*}}","g");function rf(n){let t=[];if("string"==typeof n){let e;for(;e=Pu.exec(n);)t.push(e[1]);Pu.lastIndex=0}return t}function wd(n,t,e){const i=n.toString(),r=i.replace(Pu,(o,u)=>{let m=t[u];return null==m&&(e.push(function Un(n){return new a.vHH(3003,!1)}()),m=""),m.toString()});return r==i?n:r}function nu(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const sf=/-+([a-z0-9])/g;function gh(n){return n.replace(sf,(...t)=>t[1].toUpperCase())}function Ys(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Dn(n){return new a.vHH(3004,!1)}()}}function Mm(n,t){return window.getComputedStyle(n)[t]}const y="*";function E(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function T(n,t,e){if(":"==n[0]){const v=function R(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Ry(n){return new a.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof v)return void t.push(v);n=v}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function bm(n){return new a.vHH(3015,!1)}()),t;const r=i[1],o=i[2],u=i[3];t.push(re(r,u));"<"==o[0]&&!(r==y&&u==y)&&t.push(re(u,r))}(i,e,t)):e.push(n),e}const V=new Set(["true","1"]),Z=new Set(["false","0"]);function re(n,t){const e=V.has(n)||Z.has(n),i=V.has(t)||Z.has(t);return(r,o)=>{let u=n==y||n==r,m=t==y||t==o;return!u&&e&&"boolean"==typeof r&&(u=r?V.has(n):Z.has(n)),!m&&i&&"boolean"==typeof o&&(m=o?V.has(t):Z.has(t)),u&&m}}const _e=new RegExp("s*:selfs*,?","g");function Pe(n,t,e,i){return new ht(n).build(t,e,i)}class ht{constructor(t){this._driver=t}build(t,e,i){const r=new Pn(e);return this._resetContextStyleTimingState(r),Ys(this,mh(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function Oo(){return new a.vHH(3006,!1)}()),t.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const v=m,x=v.name;x.toString().split(/\s*,\s*/).forEach(O=>{v.name=O,o.push(this.visitState(v,e))}),v.name=x}else if(1==m.type){const v=this.visitTransition(m,e);i+=v.queryCount,r+=v.depCount,u.push(v)}else e.errors.push(function Xi(){return new a.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(m=>{m instanceof Map&&m.forEach(v=>{rf(v).forEach(x=>{u.hasOwnProperty(x)||o.add(x)})})}),o.size&&(nu(o.values()),e.errors.push(function Su(n,t){return new a.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ys(this,mh(t.animation),e);return{type:1,matchers:E(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:bi(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ys(this,i,e)),options:bi(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(u=>{e.currentTime=i;const m=Ys(this,u,e);return r=Math.max(r,e.currentTime),m});return e.currentTime=r,{type:3,steps:o,options:bi(t.options)}}visitAnimate(t,e){const i=function gi(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return fr(Em(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=fr(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=Em(e,t);return fr(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Ti({});if(5==o.type)r=this.visitKeyframes(o,e);else{let u=t.styles,m=!1;if(!u){m=!0;const x={};i.easing&&(x.easing=i.easing),u=Ti(x)}e.currentTime+=i.duration+i.delay;const v=this.visitStyle(u,e);v.isEmptyStep=m,r=v}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let m of r)"string"==typeof m?m===ns?i.push(m):e.errors.push(new a.vHH(3002,!1)):i.push(Ny(m));let o=!1,u=null;return i.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(u=m.get("easing"),m.delete("easing")),!o))for(let v of m.values())if(v.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:u,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((m,v)=>{const x=e.collectedStyles.get(e.currentQuerySelector),O=x.get(v);let L=!0;O&&(o!=r&&o>=O.startTime&&r<=O.endTime&&(e.errors.push(function Fr(n,t,e,i,r){return new a.vHH(3010,!1)}()),L=!1),o=O.startTime),L&&x.set(v,{startTime:o,endTime:r}),e.options&&function g_(n,t,e){const i=t.params||{},r=rf(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function hn(n){return new a.vHH(3001,!1)}())})}(m,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function bl(){return new a.vHH(3011,!1)}()),i;let o=0;const u=[];let m=!1,v=!1,x=0;const O=t.steps.map(wt=>{const At=this._makeStyleAst(wt,e);let Ot=null!=At.offset?At.offset:function Jn(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(At.styles),Lt=0;return null!=Ot&&(o++,Lt=At.offset=Ot),v=v||Lt<0||Lt>1,m=m||Lt<x,x=Lt,u.push(Lt),At});v&&e.errors.push(function c_(){return new a.vHH(3012,!1)}()),m&&e.errors.push(function gd(){return new a.vHH(3200,!1)}());const L=t.steps.length;let q=0;o>0&&o<L?e.errors.push(function _d(){return new a.vHH(3202,!1)}()):0==o&&(q=1/(L-1));const ne=L-1,ae=e.currentTime,ye=e.currentAnimateTimings,We=ye.duration;return O.forEach((wt,At)=>{const Ot=q>0?At==ne?1:q*At:u[At],Lt=Ot*We;e.currentTime=ae+ye.delay+Lt,ye.duration=Lt,this._validateStyleAst(wt,e),wt.offset=Ot,i.styles.push(wt)}),i}visitReference(t,e){return{type:8,animation:Ys(this,mh(t.animation),e),options:bi(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:bi(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:bi(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function an(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(_e,"")),n=n.replace(/@\*/g,bd).replace(/@\w+/g,e=>bd+"-"+e.slice(1)).replace(/:animating/g,m_),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,to(e.collectedStyles,e.currentQuerySelector,new Map);const m=Ys(this,mh(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:m,originalSelector:t.selector,options:bi(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Qh(){return new a.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Em(t.timings,e.errors,!0);return{type:12,animation:Ys(this,mh(t.animation),e),timings:i,options:null}}}class Pn{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function bi(n){return n?(n=Cl(n)).params&&(n.params=function Jt(n){return n?Cl(n):null}(n.params)):n={},n}function fr(n,t,e){return{duration:n,delay:t,easing:e}}function Ks(n,t,e,i,r,o,u=null,m=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:m}}class Yc{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const cf=new RegExp(":enter","g"),Cd=new RegExp(":leave","g");function xd(n,t,e,i,r,o=new Map,u=new Map,m,v,x=[]){return(new Fy).buildKeyframes(n,t,e,i,r,o,u,m,v,x)}class Fy{buildKeyframes(t,e,i,r,o,u,m,v,x,O=[]){x=x||new Yc;const L=new _c(t,e,x,r,o,O,[]);L.options=v;const q=v.delay?Ou(v.delay):0;L.currentTimeline.delayNextStep(q),L.currentTimeline.setStyles([u],null,L.errors,v),Ys(this,i,L);const ne=L.timelines.filter(ae=>ae.containsAnimation());if(ne.length&&m.size){let ae;for(let ye=ne.length-1;ye>=0;ye--){const We=ne[ye];if(We.element===e){ae=We;break}}ae&&!ae.allowOnlyTimelineStyles()&&ae.setStyles([m],null,L.errors,v)}return ne.length?ne.map(ae=>ae.buildKeyframes()):[Ks(e,[],[],[],0,q,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const u="number"==typeof o?o:Ou(wd(o,r?.params??{},e.errors));i.delayNextStep(u)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const u=null!=i.duration?Ou(i.duration):null,m=null!=i.delay?Ou(i.delay):null;return 0!==u&&t.forEach(v=>{const x=e.appendInstructionToTimeline(v,u,m);o=Math.max(o,x.duration+x.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ys(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Qs);const u=Ou(o.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Ys(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Ou(t.options.delay):0;t.steps.forEach(u=>{const m=e.createSubContext(t.options);o&&m.delayNextStep(o),Ys(this,u,m),r=Math.max(r,m.currentTimeline.currentTime),i.push(m.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Em(e.params?wd(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,m=e.createSubContext().currentTimeline;m.easing=i.easing,t.styles.forEach(v=>{m.forwardTime((v.offset||0)*o),m.setStyles(v.styles,v.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Ou(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Qs);let u=i;const m=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=m.length;let v=null;m.forEach((x,O)=>{e.currentQueryIndex=O;const L=e.createSubContext(t.options,x);o&&L.delayNextStep(o),x===e.element&&(v=L.currentTimeline),Ys(this,t.animation,L),L.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,L.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),v&&(e.currentTimeline.mergeTimelineCollectedStyles(v),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),m=u*(e.currentQueryTotal-1);let v=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":v=m-v;break;case"full":v=i.currentStaggerTime}const O=e.currentTimeline;v&&O.delayNextStep(v);const L=O.currentTime;Ys(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-L+(r.startTime-i.currentTimeline.startTime)}}const Qs={};class _c{constructor(t,e,i,r,o,u,m,v){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new Ly(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Ou(i.duration)),null!=i.delay&&(r.delay=Ou(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(m=>{(!e||!u.hasOwnProperty(m))&&(u[m]=wd(o[m],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new _c(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Qs,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new IA(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,u){let m=[];if(r&&m.push(this.element),t.length>0){t=(t=t.replace(cf,"."+this._enterClassName)).replace(Cd,"."+this._leaveClassName);let x=this._driver.query(this.element,t,1!=i);0!==i&&(x=i<0?x.slice(x.length+i,x.length):x.slice(0,i)),m.push(...x)}return!o&&0==m.length&&u.push(function l_(n){return new a.vHH(3014,!1)}()),m}}class Ly{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ly(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||ns),this._currentKeyframe.set(e,ns);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},u=function MA(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,ns)}else xl(r,e)}),e}(t,this._globalTimelineStyles);for(let[m,v]of u){const x=wd(v,o,i);this._pendingStyles.set(m,x),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??ns),this._updateStyle(m,x)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((m,v)=>{const x=xl(m,new Map,this._backFill);x.forEach((O,L)=>{"!"===O?t.add(L):O===ns&&e.add(L)}),i||x.set("offset",v/this.duration),r.push(x)});const o=t.size?nu(t.values()):[],u=e.size?nu(e.values()):[];if(i){const m=r[0],v=new Map(m);m.set("offset",0),v.set("offset",1),r=[m,v]}return Ks(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class IA extends Ly{constructor(t,e,i,r,o,u,m=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=m,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=i+e,m=e/u,v=xl(t[0]);v.set("offset",0),o.push(v);const x=xl(t[0]);x.set("offset",yM(m)),o.push(x);const O=t.length-1;for(let L=1;L<=O;L++){let q=xl(t[L]);const ne=q.get("offset");q.set("offset",yM((e+ne*i)/u)),o.push(q)}i=u,e=0,r="",t=o}return Ks(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function yM(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Mw{}const Uy=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Tw extends Mw{normalizePropertyName(t,e){return gh(t)}normalizeStyleValue(t,e,i,r){let o="";const u=i.toString().trim();if(Uy.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const m=i.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&r.push(function ps(n,t){return new a.vHH(3005,!1)}())}return u+o}}function Vy(n,t,e,i,r,o,u,m,v,x,O,L,q){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:u,timelines:m,queriedElements:v,preStyleProps:x,postStyleProps:O,totalTime:L,errors:q}}const Sw={};class bM{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function CM(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,u,m,v,x,O){const L=[],q=this.ast.options&&this.ast.options.params||Sw,ae=this.buildStyles(i,m&&m.params||Sw,L),ye=v&&v.params||Sw,We=this.buildStyles(r,ye,L),wt=new Set,At=new Map,Ot=new Map,Lt="void"===r,On={params:hp(ye,q),delay:this.ast.options?.delay},Rn=O?[]:xd(t,e,this.ast.animation,o,u,ae,We,On,x,L);let ji=0;if(Rn.forEach(rl=>{ji=Math.max(rl.duration+rl.delay,ji)}),L.length)return Vy(e,this._triggerName,i,r,Lt,ae,We,[],[],At,Ot,ji,L);Rn.forEach(rl=>{const _m=rl.element,cH=to(At,_m,new Set);rl.preStyleProps.forEach(Py=>cH.add(Py));const _M=to(Ot,_m,new Set);rl.postStyleProps.forEach(Py=>_M.add(Py)),_m!==e&&wt.add(_m)});const Zo=nu(wt.values());return Vy(e,this._triggerName,i,r,Lt,ae,We,Rn,Zo,At,Ot,ji)}}function hp(n,t){const e=Cl(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class xM{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Cl(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!==u&&(r[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,m)=>{u&&(u=wd(u,r,e));const v=this.normalizer.normalizePropertyName(m,e);u=this.normalizer.normalizeStyleValue(m,v,u,e),i.set(m,u)})}),i}}class SA{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new xM(r.style,r.options&&r.options.params||{},i))}),__(this.states,"true","1"),__(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new bM(t,r,this.states))}),this.fallbackTransition=function b2(n,t,e){return new bM(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,m)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function __(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const DA=new Yc;class IM{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=Pe(this._driver,e,i,[]);if(i.length)throw function vd(n){return new a.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=pn(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let u;const m=new Map;if(o?(u=xd(this._driver,e,o,Cm,p_,new Map,new Map,i,DA,r),u.forEach(O=>{const L=to(m,O.element,new Map);O.postStyleProps.forEach(q=>L.set(q,null))})):(r.push(function d_(){return new a.vHH(3300,!1)}()),u=[]),r.length)throw function Jh(n){return new a.vHH(3504,!1)}();m.forEach((O,L)=>{O.forEach((q,ne)=>{O.set(ne,this._driver.computeStyle(L,ne,ns))})});const x=Nt(u.map(O=>{const L=m.get(O.element);return this._buildPlayer(O,new Map,L)}));return this._playersById.set(t,x),x.onDestroy(()=>this.destroy(t)),this.players.push(x),x}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function D(n){return new a.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=va(e,"","","");return Wn(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Dw="ng-animate-queued",v_="ng-animate-disabled",SM=[],jy={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zy={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},iu="__ng_removed";class b_{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function OM(n){return n??null}(i?t.value:t),i){const o=Cl(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const vh="void",Ow=new b_(vh);class DM{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ru(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function w(n,t){return new a.vHH(3302,!1)}();if(null==i||0==i.length)throw function I(n){return new a.vHH(3303,!1)}();if(!function Hy(n){return"start"==n||"done"==n}(i))throw function P(n,t){return new a.vHH(3400,!1)}();const o=to(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};o.push(u);const m=to(this._engine.statesByElement,t,new Map);return m.has(e)||(ru(t,xm),ru(t,xm+"-"+e),m.set(e,Ow)),()=>{this._engine.afterFlush(()=>{const v=o.indexOf(u);v>=0&&o.splice(v,1),this._triggers.has(e)||m.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function $(n){return new a.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),u=new Aw(this.id,e,t);let m=this._engine.statesByElement.get(t);m||(ru(t,xm),ru(t,xm+"-"+e),this._engine.statesByElement.set(t,m=new Map));let v=m.get(e);const x=new b_(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&v&&x.absorbOptions(v.options),m.set(e,x),v||(v=Ow),x.value!==vh&&v.value===x.value){if(!function Tm(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(v.params,x.params)){const ye=[],We=o.matchStyles(v.value,v.params,ye),wt=o.matchStyles(x.value,x.params,ye);ye.length?this._engine.reportError(ye):this._engine.afterFlush(()=>{Au(t,We),gc(t,wt)})}return}const q=to(this._engine.playersByElement,t,[]);q.forEach(ye=>{ye.namespaceId==this.id&&ye.triggerName==e&&ye.queued&&ye.destroy()});let ne=o.matchTransition(v.value,x.value,t,x.params),ae=!1;if(!ne){if(!r)return;ne=o.fallbackTransition,ae=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:ne,fromState:v,toState:x,player:u,isFallbackTransition:ae}),ae||(ru(t,Dw),u.onStart(()=>{C_(t,Dw)})),u.onDone(()=>{let ye=this.players.indexOf(u);ye>=0&&this.players.splice(ye,1);const We=this._engine.playersByElement.get(t);if(We){let wt=We.indexOf(u);wt>=0&&We.splice(wt,1)}}),this.players.push(u),q.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,bd,!0);i.forEach(r=>{if(r[iu])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),u=new Map;if(o){const m=[];if(o.forEach((v,x)=>{if(u.set(x,v.value),this._triggers.has(x)){const O=this.trigger(t,x,vh,r);O&&m.push(O)}}),m.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&Nt(m).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const v=this._triggers.get(u).fallbackTransition,x=i.get(u)||Ow,O=new b_(vh),L=new Aw(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:v,fromState:x,toState:O,player:L,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[iu];(!o||o===jy)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ru(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(m=>{if(m.name==i.triggerName){const v=va(o,i.triggerName,i.fromState.value,i.toState.value);v._data=t,Wn(i.player,m.phase,v,m.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class OA{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new DM(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,m=this.driver.getParentElement(e);for(;m;){const v=r.get(m);if(v){const x=i.indexOf(v);i.splice(x+1,0,t),u=!0;break}m=this.driver.getParentElement(m)}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(w_(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!w_(e))return;const o=e[iu];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ru(t,v_)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),C_(t,v_))}removeNode(t,e,i){if(w_(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[iu]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return w_(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,bd,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,m_,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Nt(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[iu];if(e&&e.setForRemoval){if(t[iu]=jy,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(v_)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ru(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Nt(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function J(n){return new a.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new Yc,r=[],o=new Map,u=[],m=new Map,v=new Map,x=new Map,O=new Set;this.disabledNodes.forEach(Cn=>{O.add(Cn);const Bn=this.driver.query(Cn,".ng-animate-queued",!0);for(let Qn=0;Qn<Bn.length;Qn++)O.add(Bn[Qn])});const L=this.bodyNode,q=Array.from(this.statesByElement.keys()),ne=AM(q,this.collectedEnterElements),ae=new Map;let ye=0;ne.forEach((Cn,Bn)=>{const Qn=Cm+ye++;ae.set(Bn,Qn),Cn.forEach(ir=>ru(ir,Qn))});const We=[],wt=new Set,At=new Set;for(let Cn=0;Cn<this.collectedLeaveElements.length;Cn++){const Bn=this.collectedLeaveElements[Cn],Qn=Bn[iu];Qn&&Qn.setForRemoval&&(We.push(Bn),wt.add(Bn),Qn.hasAnimation?this.driver.query(Bn,".ng-star-inserted",!0).forEach(ir=>wt.add(ir)):At.add(Bn))}const Ot=new Map,Lt=AM(q,Array.from(wt));Lt.forEach((Cn,Bn)=>{const Qn=p_+ye++;Ot.set(Bn,Qn),Cn.forEach(ir=>ru(ir,Qn))}),t.push(()=>{ne.forEach((Cn,Bn)=>{const Qn=ae.get(Bn);Cn.forEach(ir=>C_(ir,Qn))}),Lt.forEach((Cn,Bn)=>{const Qn=Ot.get(Bn);Cn.forEach(ir=>C_(ir,Qn))}),We.forEach(Cn=>{this.processLeaveNode(Cn)})});const On=[],Rn=[];for(let Cn=this._namespaceList.length-1;Cn>=0;Cn--)this._namespaceList[Cn].drainQueuedTransitions(e).forEach(Qn=>{const ir=Qn.player,ec=Qn.element;if(On.push(ir),this.collectedEnterElements.length){const ol=ec[iu];if(ol&&ol.setForMove){if(ol.previousTriggersValues&&ol.previousTriggersValues.has(Qn.triggerName)){const ky=ol.previousTriggersValues.get(Qn.triggerName),Yd=this.statesByElement.get(Qn.element);if(Yd&&Yd.has(Qn.triggerName)){const EA=Yd.get(Qn.triggerName);EA.value=ky,Yd.set(Qn.triggerName,EA)}}return void ir.destroy()}}const Jf=!L||!this.driver.containsElement(L,ec),Qu=Ot.get(ec),s_=ae.get(ec),cs=this._buildInstruction(Qn,i,s_,Qu,Jf);if(cs.errors&&cs.errors.length)return void Rn.push(cs);if(Jf)return ir.onStart(()=>Au(ec,cs.fromStyles)),ir.onDestroy(()=>gc(ec,cs.toStyles)),void r.push(ir);if(Qn.isFallbackTransition)return ir.onStart(()=>Au(ec,cs.fromStyles)),ir.onDestroy(()=>gc(ec,cs.toStyles)),void r.push(ir);const dH=[];cs.timelines.forEach(ol=>{ol.stretchStartingKeyframe=!0,this.disabledNodes.has(ol.element)||dH.push(ol)}),cs.timelines=dH,i.append(ec,cs.timelines),u.push({instruction:cs,player:ir,element:ec}),cs.queriedElements.forEach(ol=>to(m,ol,[]).push(ir)),cs.preStyleProps.forEach((ol,ky)=>{if(ol.size){let Yd=v.get(ky);Yd||v.set(ky,Yd=new Set),ol.forEach((EA,_2)=>Yd.add(_2))}}),cs.postStyleProps.forEach((ol,ky)=>{let Yd=x.get(ky);Yd||x.set(ky,Yd=new Set),ol.forEach((EA,_2)=>Yd.add(_2))})});if(Rn.length){const Cn=[];Rn.forEach(Bn=>{Cn.push(function Xe(n,t){return new a.vHH(3505,!1)}())}),On.forEach(Bn=>Bn.destroy()),this.reportError(Cn)}const ji=new Map,Zo=new Map;u.forEach(Cn=>{const Bn=Cn.element;i.has(Bn)&&(Zo.set(Bn,Bn),this._beforeAnimationBuild(Cn.player.namespaceId,Cn.instruction,ji))}),r.forEach(Cn=>{const Bn=Cn.element;this._getPreviousPlayers(Bn,!1,Cn.namespaceId,Cn.triggerName,null).forEach(ir=>{to(ji,Bn,[]).push(ir),ir.destroy()})});const rl=We.filter(Cn=>x_(Cn,v,x)),_m=new Map;fp(_m,this.driver,At,x,ns).forEach(Cn=>{x_(Cn,v,x)&&rl.push(Cn)});const _M=new Map;ne.forEach((Cn,Bn)=>{fp(_M,this.driver,new Set(Cn),v,"!")}),rl.forEach(Cn=>{const Bn=_m.get(Cn),Qn=_M.get(Cn);_m.set(Cn,new Map([...Bn?.entries()??[],...Qn?.entries()??[]]))});const Py=[],lH=[],uH={};u.forEach(Cn=>{const{element:Bn,player:Qn,instruction:ir}=Cn;if(i.has(Bn)){if(O.has(Bn))return Qn.onDestroy(()=>gc(Bn,ir.toStyles)),Qn.disabled=!0,Qn.overrideTotalTime(ir.totalTime),void r.push(Qn);let ec=uH;if(Zo.size>1){let Qu=Bn;const s_=[];for(;Qu=Qu.parentNode;){const cs=Zo.get(Qu);if(cs){ec=cs;break}s_.push(Qu)}s_.forEach(cs=>Zo.set(cs,ec))}const Jf=this._buildAnimation(Qn.namespaceId,ir,ji,o,_M,_m);if(Qn.setRealPlayer(Jf),ec===uH)Py.push(Qn);else{const Qu=this.playersByElement.get(ec);Qu&&Qu.length&&(Qn.parentPlayer=Nt(Qu)),r.push(Qn)}}else Au(Bn,ir.fromStyles),Qn.onDestroy(()=>gc(Bn,ir.toStyles)),lH.push(Qn),O.has(Bn)&&r.push(Qn)}),lH.forEach(Cn=>{const Bn=o.get(Cn.element);if(Bn&&Bn.length){const Qn=Nt(Bn);Cn.setRealPlayer(Qn)}}),r.forEach(Cn=>{Cn.parentPlayer?Cn.syncPlayerEvents(Cn.parentPlayer):Cn.destroy()});for(let Cn=0;Cn<We.length;Cn++){const Bn=We[Cn],Qn=Bn[iu];if(C_(Bn,p_),Qn&&Qn.hasAnimation)continue;let ir=[];if(m.size){let Jf=m.get(Bn);Jf&&Jf.length&&ir.push(...Jf);let Qu=this.driver.query(Bn,m_,!0);for(let s_=0;s_<Qu.length;s_++){let cs=m.get(Qu[s_]);cs&&cs.length&&ir.push(...cs)}}const ec=ir.filter(Jf=>!Jf.destroyed);ec.length?PA(this,Bn,ec):this.processLeaveNode(Bn)}return We.length=0,Py.forEach(Cn=>{this.players.push(Cn),Cn.onDone(()=>{Cn.destroy();const Bn=this.players.indexOf(Cn);this.players.splice(Bn,1)}),Cn.play()}),Py}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let u=[];if(e){const m=this.playersByQueriedElement.get(t);m&&(u=m)}else{const m=this.playersByElement.get(t);if(m){const v=!o||o==vh;m.forEach(x=>{x.queued||!v&&x.triggerName!=r||u.push(x)})}}return(i||r)&&(u=u.filter(m=>!(i&&i!=m.namespaceId||r&&r!=m.triggerName))),u}_beforeAnimationBuild(t,e,i){const o=e.element,u=e.isRemovalTransition?void 0:t,m=e.isRemovalTransition?void 0:e.triggerName;for(const v of e.timelines){const x=v.element,O=x!==o,L=to(i,x,[]);this._getPreviousPlayers(x,O,u,m,e.toState).forEach(ne=>{const ae=ne.getRealPlayer();ae.beforeDestroy&&ae.beforeDestroy(),ne.destroy(),L.push(ne)})}Au(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,u){const m=e.triggerName,v=e.element,x=[],O=new Set,L=new Set,q=e.timelines.map(ae=>{const ye=ae.element;O.add(ye);const We=ye[iu];if(We&&We.removedBeforeQueried)return new H(ae.duration,ae.delay);const wt=ye!==v,At=function Pw(n){const t=[];return PM(n,t),t}((i.get(ye)||SM).map(ji=>ji.getRealPlayer())).filter(ji=>!!ji.element&&ji.element===ye),Ot=o.get(ye),Lt=u.get(ye),On=pn(this._normalizer,ae.keyframes,Ot,Lt),Rn=this._buildPlayer(ae,On,At);if(ae.subTimeline&&r&&L.add(ye),wt){const ji=new Aw(t,m,ye);ji.setRealPlayer(Rn),x.push(ji)}return Rn});x.forEach(ae=>{to(this.playersByQueriedElement,ae.element,[]).push(ae),ae.onDone(()=>function AA(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,ae.element,ae))}),O.forEach(ae=>ru(ae,up));const ne=Nt(q);return ne.onDestroy(()=>{O.forEach(ae=>C_(ae,up)),gc(v,e.toStyles)}),L.forEach(ae=>{to(r,ae,[]).push(ne)}),ne}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new H(t.duration,t.delay)}}class Aw{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new H,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>Wn(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){to(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function w_(n){return n&&1===n.nodeType}function $y(n,t){const e=n.style.display;return n.style.display=t??"none",e}function fp(n,t,e,i,r){const o=[];e.forEach(v=>o.push($y(v)));const u=[];i.forEach((v,x)=>{const O=new Map;v.forEach(L=>{const q=t.computeStyle(x,L,r);O.set(L,q),(!q||0==q.length)&&(x[iu]=zy,u.push(x))}),n.set(x,O)});let m=0;return e.forEach(v=>$y(v,o[m++])),u}function AM(n,t){const e=new Map;if(n.forEach(m=>e.set(m,[])),0==t.length)return e;const r=new Set(t),o=new Map;function u(m){if(!m)return 1;let v=o.get(m);if(v)return v;const x=m.parentNode;return v=e.has(x)?x:r.has(x)?1:u(x),o.set(m,v),v}return t.forEach(m=>{const v=u(m);1!==v&&e.get(v).push(m)}),e}function ru(n,t){n.classList?.add(t)}function C_(n,t){n.classList?.remove(t)}function PA(n,t,e){Nt(e).onDone(()=>n.processLeaveNode(t))}function PM(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof oe?PM(i.players,t):t.push(i)}}function x_(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class Sm{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new OA(t,e,i),this._timelineEngine=new IM(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const u=t+"-"+r;let m=this._triggerCache[u];if(!m){const v=[],O=Pe(this._driver,o,v,[]);if(v.length)throw function eu(n,t){return new a.vHH(3404,!1)}();m=function EM(n,t,e){return new SA(n,t,e)}(r,O,this._normalizer),this._triggerCache[u]=m}this._transitionEngine.registerTrigger(e,r,m)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,u]=cp(i);this._timelineEngine.command(o,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[u,m]=cp(i);return this._timelineEngine.listen(u,e,m,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let RM=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&gc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gc(this._element,this._initialStyles),this._endStyles&&(gc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Au(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Au(this._element,this._endStyles),this._endStyles=null),gc(this._element,this._initialStyles),this._state=3)}}return n})();function qy(n){let t=null;return n.forEach((e,i)=>{(function pp(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class NM{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:Mm(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class kA{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return tu(t,e)}getParentElement(t){return Zc(t)}query(t,e,i){return hh(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,u=[]){const v={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(v.easing=o);const x=new Map,O=u.filter(ne=>ne instanceof NM);(function ku(n,t){return 0===n||0===t})(i,r)&&O.forEach(ne=>{ne.currentSnapshot.forEach((ae,ye)=>x.set(ye,ae))});let L=function nf(n){return n.length?n[0]instanceof Map?n:n.map(t=>Ny(t)):[]}(e).map(ne=>xl(ne));L=function Ew(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,u)=>{i.has(u)||r.push(u),i.set(u,o)}),r.length)for(let o=1;o<t.length;o++){let u=t[o];r.forEach(m=>u.set(m,Mm(n,m)))}}return t}(t,L,x);const q=function kM(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=qy(t[0]),t.length>1&&(i=qy(t[t.length-1]))):t instanceof Map&&(e=qy(t)),e||i?new RM(n,e,i):null}(t,L);return new NM(t,L,v,q)}}let RA=(()=>{class n extends uh{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?pd(e):e;return Ed(this._renderer,null,i,"register",[r]),new NA(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.FYo),a.LFG(ke))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();class NA extends vl{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new FA(this._id,t,e||{},this._renderer)}}class FA{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Ed(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ed(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const FM="@.disabled";let LA=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,u)=>{const m=u?.parentNode(o);m&&u.removeChild(m,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let O=this._rendererCache.get(o);return O||(O=new LM("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,O)),O}const u=i.id,m=i.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const v=O=>{Array.isArray(O)?O.forEach(v):this.engine.registerTrigger(u,m,e,O.name,O)};return i.data.animation.forEach(v),new UA(this,m,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,m]=o;u(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.FYo),a.LFG(Sm),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();class LM{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==FM?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class UA extends LM{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==FM?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function VA(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function BA(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,m=>{this.factory.scheduleListenerCallback(m._data||-1,i,m)})}return this.delegate.listen(t,e,i)}}let UM=(()=>{class n extends Sm{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(ke),a.LFG(yd),a.LFG(Mw),a.LFG(a.z2F))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const VM=[{provide:uh,useClass:RA},{provide:Mw,useFactory:function jA(){return new Tw}},{provide:Sm,useClass:UM},{provide:a.FYo,useFactory:function zA(n,t,e){return new LA(n,t,e)},deps:[hl,Sm,a.R0b]}],kw=[{provide:yd,useFactory:()=>new kA},{provide:a.QbO,useValue:"BrowserAnimations"},...VM],E_=[{provide:yd,useClass:fh},{provide:a.QbO,useValue:"NoopAnimations"},...VM];let bh=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?E_:kw}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:kw,imports:[zc]})}return n})();var Id=Q(4097),bn=Q(2793);class Dm{constructor(t){return t}}class Rw{constructor(){return(0,Id.C6)()}}const jM=new a.OlP("angularfire2._apps"),w2={provide:Dm,useFactory:function Nw(n){return n&&1===n.length?n[0]:new Dm((0,Id.Mq)())},deps:[[new a.FiY,jM]]},zM={provide:Rw,deps:[[new a.FiY,jM]]};function qA(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new Dm(i)}}let GA=(()=>{class n{constructor(e){(0,Id.KN)("angularfire",bn.q4.full,"core"),(0,Id.KN)("angularfire",bn.q4.full,"app"),(0,Id.KN)("angular",a.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.Lbi))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[w2,zM]}),n})();function WA(n,...t){return{ngModule:GA,providers:[{provide:jM,useFactory:qA(n),multi:!0,deps:[a.R0b,a.zs3,bn.HU,...t]}]}}const HM=(0,bn.u3)(Id.ZF,!0);var dt=Q(5861),Ds=Q(534),ou=Q(4537),ie=Q(9058),Ru=Q(7879);const Lw=new Map,qM={activated:!1,tokenObservers:[]},YA={initialized:!1,enabled:!1};function Ao(n){return Lw.get(n)||Object.assign({},qM)}function Uw(){return YA}const mp="https://content-firebaseappcheck.googleapis.com/v1",GM="exchangeDebugToken",Vw={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class WM{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,dt.Z)(function*(){e.stop();try{e.pending=new ie.BH,yield function KA(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new ie.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Js=new ie.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function YM(n){if(!Ao(n).activated)throw Js.create("use-before-activation",{appName:n.name})}function Am(n,t){return Zy.apply(this,arguments)}function Zy(){return(Zy=(0,dt.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const L=yield r.getHeartbeatsHeader();L&&(i["X-Firebase-Client"]=L)}const o={method:"POST",body:JSON.stringify(t),headers:i};let u,m;try{u=yield fetch(n,o)}catch(L){throw Js.create("fetch-network-error",{originalErrorMessage:L?.message})}if(200!==u.status)throw Js.create("fetch-status-error",{httpStatus:u.status});try{m=yield u.json()}catch(L){throw Js.create("fetch-parse-error",{originalErrorMessage:L?.message})}const v=m.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Js.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const x=1e3*Number(v[1]),O=Date.now();return{token:m.token,expireTimeMillis:O+x,issuedAtTimeMillis:O}})).apply(this,arguments)}function QM(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${mp}/projects/${e}/apps/${i}:${GM}?key=${r}`,body:{debug_token:t}}}const jw="firebase-app-check-database",Yy=1,T_="firebase-app-check-store";let vp=null;function lf(){return(lf=(0,dt.Z)(function*(n,t){const i=(yield function Nu(){return vp||(vp=new Promise((n,t)=>{try{const e=indexedDB.open(jw,Yy);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Js.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(T_,{keyPath:"compositeKey"})}}catch(e){t(Js.create("storage-open",{originalErrorMessage:e?.message}))}}),vp)}()).transaction(T_,"readwrite"),o=i.objectStore(T_).put({compositeKey:n,value:t});return new Promise((u,m)=>{o.onsuccess=v=>{u()},i.onerror=v=>{var x;m(Js.create("storage-set",{originalErrorMessage:null===(x=v.target.error)||void 0===x?void 0:x.message}))}})})).apply(this,arguments)}const yp=new Ru.Yd("@firebase/app-check");function Jy(n,t){return(0,ie.hl)()?function zw(n,t){return function Hw(n,t){return lf.apply(this,arguments)}(function XM(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{yp.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Ww(){return Uw().enabled}function Zw(){return Yw.apply(this,arguments)}function Yw(){return(Yw=(0,dt.Z)(function*(){const n=Uw();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const M2={error:"UNKNOWN_ERROR"};function Xy(n){return ie.US.encodeString(JSON.stringify(n),!1)}function eb(n){return S_.apply(this,arguments)}function S_(){return(S_=(0,dt.Z)(function*(n,t=!1){const e=n.app;YM(e);const i=Ao(e);let o,r=i.token;if(r&&!df(r)&&(i.token=void 0,r=void 0),!r){const v=yield i.cachedTokenPromise;v&&(df(v)?r=v:yield Jy(e,void 0))}if(!t&&r&&df(r))return{token:r.token};let m,u=!1;if(Ww()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Am(QM(e,yield Zw()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const v=yield i.exchangeTokenPromise;return yield Jy(e,v),i.token=v,{token:v.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield Ao(e).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?yp.warn(v.message):yp.error(v),o=v}return r?o?m=df(r)?{token:r.token,internalError:o}:ib(o):(m={token:r.token},i.token=r,yield Jy(e,r)):m=ib(o),u&&function bp(n,t){const e=Ao(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,m),m})).apply(this,arguments)}function tb(n){return uf.apply(this,arguments)}function uf(){return(uf=(0,dt.Z)(function*(n){const t=n.app;YM(t);const{provider:e}=Ao(t);if(Ww()){const i=yield Zw(),{token:r}=yield Am(QM(t,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function O_(n,t){const e=Ao(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function Pm(n){const{app:t}=n,e=Ao(t);let i=e.tokenRefresher;i||(i=function nb(n){const{app:t}=n;return new WM((0,dt.Z)(function*(){let i;if(i=Ao(t).token?yield eb(n,!0):yield eb(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Ao(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},Vw.RETRIAL_MIN_WAIT,Vw.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function df(n){return n.expireTimeMillis-Date.now()>0}function ib(n){return{token:Xy(M2),error:n}}class rb{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Ao(this.app);for(const e of t)O_(this.app,e.next);return Promise.resolve()}}const Rm="app-check-internal";!function sP(){(0,Ds._registerComponent)(new ou.wA("app-check",n=>function T2(n,t){return new rb(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Rm).initialize()})),(0,Ds._registerComponent)(new ou.wA(Rm,n=>function Kw(n){return{getToken:t=>eb(n,t),getLimitedUseToken:()=>tb(n),addTokenListener:t=>function D_(n,t,e,i){const{app:r}=n,o=Ao(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:i,type:t}],o.token&&df(o.token)){const m=o.token;Promise.resolve().then(()=>{e({token:m.token}),Pm(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Pm(n))}(n,"INTERNAL",t),removeTokenListener:t=>O_(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ds.registerVersion)("@firebase/app-check","0.8.0")}();class wp{constructor(){return(0,bn.vb)("app-check")}}typeof window<"u"&&window;var Cp=Q(6710);function uT(n){return new ar.y(function(t){return{unsubscribe:(0,Cp.x)(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}function su(n){return new ar.y(function(t){return{unsubscribe:(0,Cp.v)(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}class xp{constructor(t){return t}}class Md{constructor(){return(0,bn.vb)("auth")}}const oC=new a.OlP("angularfire2.auth-instances");function dP(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new xp(i)}}const sC={provide:Md,deps:[[new a.FiY,oC]]},Td={provide:xp,useFactory:function N2(n,t){const e=(0,bn.JM)("auth",n,t);return e&&new xp(e)},deps:[[new a.FiY,oC],Dm]};let hT=(()=>{class n{constructor(){(0,Id.KN)("angularfire",bn.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Td,sC]}),n})();function hP(n,...t){return{ngModule:hT,providers:[{provide:oC,useFactory:dP(n),multi:!0,deps:[a.R0b,a.zs3,bn.HU,Rw,[new a.FiY,wp],...t]}]}}const F2=(0,bn.u3)(uT,!0),Xs=(0,bn.u3)(su,!0),mT=(0,bn.u3)(Cp.a8,!0),gP=(0,bn.u3)(Cp.o,!0),Y2=(0,bn.u3)(Cp.a9,!0),Nm=(0,bn.u3)(Cp.ai,!0);var $t,Fm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},El={},ub=ub||{},Zn=Fm||self;function Lm(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Ep(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var F_="closure_uid_"+(1e9*Math.random()>>>0),kP=0;function RP(n,t,e){return n.call.apply(n.bind,arguments)}function NP(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function ya(n,t,e){return(ya=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?RP:NP).apply(null,arguments)}function db(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ea(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,o){for(var u=Array(arguments.length-2),m=2;m<arguments.length;m++)u[m-2]=arguments[m];return t.prototype[r].apply(i,u)}}function ff(){this.s=this.s,this.o=this.o}ff.prototype.s=!1,ff.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function _T(n){Object.prototype.hasOwnProperty.call(n,F_)&&n[F_]||(n[F_]=++kP)}(this)},ff.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uC=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function hb(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function vT(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(Lm(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let u=0;u<o;u++)n[r+u]=i[u]}else n.push(i)}}function za(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}za.prototype.h=function(){this.defaultPrevented=!0};var Il=function(){if(!Zn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Zn.addEventListener("test",()=>{},t),Zn.removeEventListener("test",()=>{},t)}catch{}return n}();function L_(n){return/^[\s\xa0]*$/.test(n)}function fb(){var n=Zn.navigator;return n&&(n=n.userAgent)?n:""}function wh(n){return-1!=fb().indexOf(n)}function U_(n){return U_[" "](n),n}U_[" "]=function(){};var dC,n,LP=wh("Opera"),Um=wh("Trident")||wh("MSIE"),bT=wh("Edge"),pb=bT||Um,wT=wh("Gecko")&&!(-1!=fb().toLowerCase().indexOf("webkit")&&!wh("Edge"))&&!(wh("Trident")||wh("MSIE"))&&!wh("Edge"),UP=-1!=fb().toLowerCase().indexOf("webkit")&&!wh("Edge");function mb(){var n=Zn.document;return n?n.documentMode:void 0}e:{var hC="",fC=(n=fb(),wT?/rv:([^\);]+)(\)|;)/.exec(n):bT?/Edge\/([\d\.]+)/.exec(n):Um?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):UP?/WebKit\/(\S+)/.exec(n):LP?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(fC&&(hC=fC?fC[1]:""),Um){var pC=mb();if(null!=pC&&pC>parseFloat(hC)){dC=String(pC);break e}}dC=hC}var gC=Zn.document&&Um&&(mb()||parseInt(dC,10))||void 0;function V_(n,t){if(za.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(wT){e:{try{U_(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:CT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&V_.$.h.call(this)}}ea(V_,za);var CT={2:"touch",3:"pen",4:"mouse"};V_.prototype.h=function(){V_.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var B_="closure_listenable_"+(1e6*Math.random()|0),xT=0;function ET(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++xT,this.fa=this.ia=!1}function Ip(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function j_(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function _C(n){const t={};for(const e in n)t[e]=n[e];return t}const vC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yC(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<vC.length;o++)e=vC[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function z_(n){this.src=n,this.g={},this.h=0}function H_(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=uC(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Ip(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Lu(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==i)return r}return-1}z_.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=Lu(n,t,i,r);return-1<u?(t=n[u],e||(t.ia=!1)):((t=new ET(t,this.src,o,!!i,r)).ia=e,n.push(t)),t};var bC="closure_lm_"+(1e6*Math.random()|0),wC={};function gb(n,t,e,i,r){if(i&&i.once)return TT(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)gb(n,t[o],e,i,r);return null}return e=vb(e),n&&n[B_]?n.O(t,e,Ep(i)?!!i.capture:!!i,r):IT(n,t,e,!1,i,r)}function IT(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var u=Ep(r)?!!r.capture:!!r,m=ST(n);if(m||(n[bC]=m=new z_(n)),(e=m.add(t,e,i,u,o)).proxy)return e;if(i=function MT(){const t=_b;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Il||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(CC(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function TT(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)TT(n,t[o],e,i,r);return null}return e=vb(e),n&&n[B_]?n.P(t,e,Ep(i)?!!i.capture:!!i,r):IT(n,t,e,!0,i,r)}function $_(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)$_(n,t[o],e,i,r);else i=Ep(i)?!!i.capture:!!i,e=vb(e),n&&n[B_]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Lu(o=n.g[t],e,i,r))&&(Ip(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=ST(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Lu(t,e,i,r)),(e=-1<n?t[n]:null)&&Mp(e))}function Mp(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[B_])H_(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(CC(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=ST(t))?(H_(e,n),0==e.h&&(e.src=null,t[bC]=null)):Ip(n)}}}function CC(n){return n in wC?wC[n]:wC[n]="on"+n}function _b(n,t){if(n.fa)n=!0;else{t=new V_(t,this);var e=n.listener,i=n.la||n.src;n.ia&&Mp(n),n=e.call(i,t)}return n}function ST(n){return(n=n[bC])instanceof z_?n:null}var xC="__closure_events_fn_"+(1e9*Math.random()>>>0);function vb(n){return"function"==typeof n?n:(n[xC]||(n[xC]=function(t){return n.handleEvent(t)}),n[xC])}function Os(){ff.call(this),this.i=new z_(this),this.S=this,this.J=null}function ba(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new za(t,n);else if(t instanceof za)t.target=t.target||n;else{var r=t;yC(t=new za(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var u=t.g=e[o];r=yb(u,i,!0,t)&&r}if(r=yb(u=t.g=n,i,!0,t)&&r,r=yb(u,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=yb(u=t.g=e[o],i,!1,t)&&r}function yb(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.fa&&u.capture==e){var m=u.listener,v=u.la||u.src;u.ia&&H_(n.i,u),r=!1!==m.call(v,i)&&r}}return r&&!i.defaultPrevented}ea(Os,ff),Os.prototype[B_]=!0,Os.prototype.removeEventListener=function(n,t,e,i){$_(this,n,t,e,i)},Os.prototype.N=function(){if(Os.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Ip(e[i]);delete n.g[t],n.h--}}this.J=null},Os.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Os.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var bb=Zn.JSON.stringify;function q_(){var n=IC;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var EC=new class DT{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new OT,n=>n.reset());class OT{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function BP(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function jP(n){Zn.setTimeout(()=>{throw n},0)}let Ch,G_=!1,IC=new class VP{constructor(){this.h=this.g=null}add(t,e){const i=EC.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},AT=()=>{const n=Zn.Promise.resolve(void 0);Ch=()=>{n.then(zP)}};var zP=()=>{for(var n;n=q_();){try{n.h.call(n.g)}catch(e){jP(e)}var t=EC;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}G_=!1};function wb(n,t){Os.call(this),this.h=n||1,this.g=t||Zn,this.j=ya(this.qb,this),this.l=Date.now()}function MC(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function TC(n,t,e){if("function"==typeof n)e&&(n=ya(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ya(n.handleEvent,n)}return 2147483647<Number(t)?-1:Zn.setTimeout(n,t||0)}function PT(n){n.g=TC(()=>{n.g=null,n.i&&(n.i=!1,PT(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}ea(wb,Os),($t=wb.prototype).ga=!1,$t.T=null,$t.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ba(this,"tick"),this.ga&&(MC(this),this.start()))}},$t.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$t.N=function(){wb.$.N.call(this),MC(this),delete this.g};class kT extends ff{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:PT(this)}N(){super.N(),this.g&&(Zn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tp(n){ff.call(this),this.h=n,this.g={}}ea(Tp,ff);var RT=[];function W_(n,t,e,i){Array.isArray(e)||(e&&(RT[0]=e.toString()),e=RT);for(var r=0;r<e.length;r++){var o=gb(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function NT(n){j_(n.g,function(t,e){this.g.hasOwnProperty(e)&&Mp(t)},n),n.g={}}function Cb(){this.g=!0}function Vm(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function GP(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return bb(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Tp.prototype.N=function(){Tp.$.N.call(this),NT(this)},Tp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cb.prototype.Ea=function(){this.g=!1},Cb.prototype.info=function(){};var pf={},SC=null;function xb(){return SC=SC||new Os}function WP(n){za.call(this,pf.Ta,n)}function Bm(n){const t=xb();ba(t,new WP(t))}function DC(n,t){za.call(this,pf.STAT_EVENT,n),this.stat=t}function Kc(n){const t=xb();ba(t,new DC(t,n))}function Z_(n,t){za.call(this,pf.Ua,n),this.size=t}function Y_(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Zn.setTimeout(function(){n()},t)}pf.Ta="serverreachability",ea(WP,za),pf.STAT_EVENT="statevent",ea(DC,za),pf.Ua="timingevent",ea(Z_,za);var Eb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ib={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function OC(){}function jm(){}OC.prototype.h=null;var Qc,ms={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function xh(){za.call(this,"d")}function zm(){za.call(this,"c")}function Hm(){}function Sd(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Tp(this),this.P=$m,this.V=new wb(n=pb?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Sp}function Sp(){this.i=null,this.g="",this.h=!1}ea(xh,za),ea(zm,za),ea(Hm,OC),Hm.prototype.g=function(){return new XMLHttpRequest},Hm.prototype.i=function(){return{}},Qc=new Hm;var $m=45e3,mf={},Eh={};function gf(n,t,e){n.L=1,n.v=Db(Ih(t)),n.s=e,n.S=!0,Dp(n,null)}function Dp(n,t){n.G=Date.now(),qm(n),n.A=Ih(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),HT(e.i,"t",i),n.C=0,e=n.l.J,n.h=new Sp,n.g=QC(n.l,e?t:null,!n.s),0<n.O&&(n.M=new kT(ya(n.Pa,n,n.g),n.O)),W_(n.U,n.g,"readystatechange",n.nb),t=n.I?_C(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Bm(),function HP(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",m=o.split("&"),v=0;v<m.length;v++){var x=m[v].split("=");if(1<x.length){var O=x[0];x=x[1];var L=O.split("_");u=2<=L.length&&"type"==L[1]?u+(O+"=")+x+"&":u+(O+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Op(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Ap(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=FT(n,e),r==Eh){4==t&&(n.o=4,Kc(14),i=!1),Vm(n.j,n.m,null,"[Incomplete Response]");break}if(r==mf){n.o=4,Kc(15),Vm(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Vm(n.j,n.m,r,null),Mb(n,r)}Op(n)&&r!=Eh&&r!=mf&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Kc(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),uv(t),t.M=!0,Kc(11))):(Vm(n.j,n.m,e,"[Invalid Chunked Response]"),_f(n),Gm(n))}function FT(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Eh:(e=Number(t.substring(e,i)),isNaN(e)?mf:(i+=1)+e>t.length?Eh:(t=t.slice(i,i+e),n.C=i+e,t))}function qm(n){n.Y=Date.now()+n.P,AC(n,n.P)}function AC(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Y_(ya(n.lb,n),t)}function K_(n){n.B&&(Zn.clearTimeout(n.B),n.B=null)}function Gm(n){0==n.l.H||n.J||WC(n.l,n)}function _f(n){K_(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,MC(n.V),NT(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function Mb(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||FC(e.i,n)))if(!n.K&&FC(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;dv(e),Fb(e)}lv(e),Kc(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=Y_(ya(e.ib,e),6e3));if(1>=$T(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else yf(e,11)}else if((n.K||e.g==n)&&dv(e),!L_(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let x=r[t];if(e.V=x[0],x=x[1],2==e.H)if("c"==x[0]){e.K=x[1],e.pa=x[2];const O=x[3];null!=O&&(e.ra=O,e.l.info("VER="+e.ra));const L=x[4];null!=L&&(e.Ga=L,e.l.info("SVER="+e.Ga));const q=x[5];null!=q&&"number"==typeof q&&0<q&&(e.L=i=1.5*q,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const ne=n.g;if(ne){const ae=ne.g?ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ae){var o=i.i;o.g||-1==ae.indexOf("spdy")&&-1==ae.indexOf("quic")&&-1==ae.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(tv(o,o.h),o.h=null))}if(i.F){const ye=ne.g?ne.g.getResponseHeader("X-HTTP-Session-Id"):null;ye&&(i.Da=ye,lo(i.I,i.F,ye))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var u=n;if((i=e).wa=KC(i,i.J?i.pa:null,i.Y),u.K){qT(i.i,u);var m=u,v=i.L;v&&m.setTimeout(v),m.B&&(K_(m),qm(m)),i.g=u}else qC(i);0<e.j.length&&av(e)}else"stop"!=x[0]&&"close"!=x[0]||yf(e,7);else 3==e.H&&("stop"==x[0]||"close"==x[0]?"stop"==x[0]?yf(e,7):Nb(e):"noop"!=x[0]&&e.h&&e.h.Aa(x),e.A=0)}Bm()}catch{}}function Tb(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Lm(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function UT(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Lm(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function LT(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Lm(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}($t=Sd.prototype).setTimeout=function(n){this.P=n},$t.nb=function(n){n=n.target;const t=this.M;t&&3==Vu(n)?t.l():this.Pa(n)},$t.Pa=function(n){try{if(n==this.g)e:{const O=Vu(this.g);var t=this.g.Ia();if(this.g.da(),!(3>O)&&(3!=O||pb||this.g&&(this.h.h||this.g.ja()||QT(this.g)))){this.J||4!=O||7==t||Bm(),K_(this);var e=this.g.da();this.ca=e;t:if(Op(this)){var i=QT(this.g);n="";var r=i.length,o=4==Vu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){_f(this),Gm(this);var u="";break t}this.h.i=new Zn.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==e,function $P(n,t,e,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.W,O,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L_(m)){var x=m;break t}}x=null}if(!(e=x)){this.i=!1,this.o=3,Kc(12),_f(this),Gm(this);break e}Vm(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mb(this,e)}this.S?(Ap(this,O,u),pb&&this.i&&3==O&&(W_(this.U,this.V,"tick",this.mb),this.V.start())):(Vm(this.j,this.m,u,null),Mb(this,u)),4==O&&_f(this),this.i&&!this.J&&(4==O?WC(this.l,this):(this.i=!1,qm(this)))}else(function ek(n){const t={};n=(n.g&&2<=Vu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(L_(n[i]))continue;var e=BP(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const o=t[r]||[];t[r]=o,o.push(e)}!function J2(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<u.indexOf("Unknown SID")?(this.o=3,Kc(12)):(this.o=0,Kc(13)),_f(this),Gm(this)}}}catch{}},$t.mb=function(){if(this.g){var n=Vu(this.g),t=this.g.ja();this.C<t.length&&(K_(this),Ap(this,n,t),this.i&&4!=n&&qm(this))}},$t.cancel=function(){this.J=!0,_f(this)},$t.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function qP(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Bm(),Kc(17)),_f(this),this.o=2,Gm(this)):AC(this,this.Y-n)};var VT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wm(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Wm){this.h=n.h,Sb(this,n.j),this.s=n.s,this.g=n.g,PC(this,n.m),this.l=n.l;var t=n.i,e=new Ym;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),BT(this,e),this.o=n.o}else n&&(t=String(n).match(VT))?(this.h=!1,Sb(this,t[1]||"",!0),this.s=Q_(t[2]||""),this.g=Q_(t[3]||"",!0),PC(this,t[4]),this.l=Q_(t[5]||"",!0),BT(this,t[6]||"",!0),this.o=Q_(t[7]||"")):(this.h=!1,this.i=new Ym(null,this.h))}function Ih(n){return new Wm(n)}function Sb(n,t,e){n.j=e?Q_(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function PC(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function BT(n,t,e){t instanceof Ym?(n.i=t,function ZP(n,t){t&&!n.j&&(vf(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(Km(this,i),HT(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=J_(t,jT)),n.i=new Ym(t,n.h))}function lo(n,t,e){n.i.set(t,e)}function Db(n){return lo(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Q_(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function J_(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,kC),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function kC(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wm.prototype.toString=function(){var n=[],t=this.j;t&&n.push(J_(t,Zm,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(J_(t,Zm,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(J_(e,"/"==e.charAt(0)?Ob:RC,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",J_(e,X_)),n.join("")};var Zm=/[#\/\?@]/g,RC=/[#\?:]/g,Ob=/[#\?]/g,jT=/[#\?@]/g,X_=/#/g;function Ym(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function vf(n){n.g||(n.g=new Map,n.h=0,n.i&&function X2(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Km(n,t){vf(n),t=Qm(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function zT(n,t){return vf(n),t=Qm(n,t),n.g.has(t)}function HT(n,t,e){Km(n,t),0<e.length&&(n.i=null,n.g.set(Qm(n,t),hb(e)),n.h+=e.length)}function Qm(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function ev(n){this.l=n||Ab,n=Zn.PerformanceNavigationTiming?0<(n=Zn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Zn.g&&Zn.g.Ka&&Zn.g.Ka()&&Zn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($t=Ym.prototype).add=function(n,t){vf(this),this.i=null,n=Qm(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},$t.forEach=function(n,t){vf(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},$t.ta=function(){vf(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},$t.Z=function(n){vf(this);let t=[];if("string"==typeof n)zT(this,n)&&(t=t.concat(this.g.get(Qm(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},$t.set=function(n,t){return vf(this),this.i=null,zT(this,n=Qm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},$t.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},$t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),u=this.Z(i);for(i=0;i<u.length;i++){var r=o;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var Ab=10;function YP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function $T(n){return n.h?1:n.g?n.g.size:0}function FC(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function tv(n,t){n.g?n.g.add(t):n.h=t}function qT(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function LC(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return hb(n.i)}ev.prototype.cancel=function(){if(this.i=LC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var KP=class{stringify(n){return Zn.JSON.stringify(n,void 0)}parse(n){return Zn.JSON.parse(n,void 0)}};function QP(){this.g=new KP}function GT(n,t,e){const i=e||"";try{Tb(n,function(r,o){let u=r;Ep(r)&&(u=bb(r)),t.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function nv(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function iv(n){this.l=n.fc||null,this.j=n.ob||!1}function Pb(n,t){Os.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=UC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ea(iv,OC),iv.prototype.g=function(){return new Pb(this.l,this.j)},iv.prototype.i=function(n){return function(){return n}}({}),ea(Pb,Os);var UC=0;function VC(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Pp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,kp(n)}function kp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}($t=Pb.prototype).open=function(n,t){if(this.readyState!=UC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,kp(this)},$t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Zn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},$t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pp(this)),this.readyState=UC},$t.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,kp(this)),this.g&&(this.readyState=3,kp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Zn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;VC(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},$t.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Pp(this):kp(this),3==this.readyState&&VC(this)}},$t.Za=function(n){this.g&&(this.response=this.responseText=n,Pp(this))},$t.Ya=function(n){this.g&&(this.response=n,Pp(this))},$t.ka=function(){this.g&&Pp(this)},$t.setRequestHeader=function(n,t){this.v.append(n,t)},$t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},$t.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Pb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var JP=Zn.JSON.parse;function no(n){Os.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=rv,this.L=this.M=!1}ea(no,Os);var rv="",BC=/^https?$/i,ZT=["POST","PUT"];function YT(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,KT(n),Rp(n)}function KT(n){n.F||(n.F=!0,ba(n,"complete"),ba(n,"error"))}function ov(n){if(n.h&&typeof ub<"u"&&(!n.C[1]||4!=Vu(n)||2!=n.da()))if(n.v&&4==Vu(n))TC(n.La,0,n);else if(ba(n,"readystatechange"),4==Vu(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===u){var r=String(n.I).match(VT)[1]||null;!r&&Zn.self&&Zn.self.location&&(r=Zn.self.location.protocol.slice(0,-1)),i=!BC.test(r?r.toLowerCase():"")}e=i}if(e)ba(n,"complete"),ba(n,"success");else{n.m=6;try{var o=2<Vu(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",KT(n)}}finally{Rp(n)}}}function Rp(n,t){if(n.g){kb(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||ba(n,"ready");try{e.onreadystatechange=i}catch{}}}function kb(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Zn.clearTimeout(n.A),n.A=null)}function Vu(n){return n.g?n.g.readyState:0}function QT(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case rv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function jC(n){let t="";return j_(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function sv(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=jC(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):lo(n,t,e))}function Jm(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function Rb(n){this.Ga=0,this.j=[],this.l=new Cb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Jm("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Jm("baseRetryDelayMs",5e3,n),this.hb=Jm("retryDelaySeedMs",1e4,n),this.eb=Jm("forwardChannelMaxRetries",2,n),this.xa=Jm("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new ev(n&&n.concurrentRequestLimit),this.Ja=new QP,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Nb(n){if(zC(n),3==n.H){var t=n.W++,e=Ih(n.I);if(lo(e,"SID",n.K),lo(e,"RID",t),lo(e,"TYPE","terminate"),cv(n,e),(t=new Sd(n,n.l,t)).L=2,t.v=Db(Ih(e)),e=!1,Zn.navigator&&Zn.navigator.sendBeacon)try{e=Zn.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&Zn.Image&&((new Image).src=t.v,e=!0),e||(t.g=QC(t.l,null),t.g.ha(t.v)),t.G=Date.now(),qm(t)}YC(n)}function Fb(n){n.g&&(uv(n),n.g.cancel(),n.g=null)}function zC(n){Fb(n),n.u&&(Zn.clearTimeout(n.u),n.u=null),dv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Zn.clearTimeout(n.m),n.m=null)}function av(n){if(!YP(n.i)&&!n.m){n.m=!0;var t=n.Na;Ch||AT(),G_||(Ch(),G_=!0),IC.add(t,n),n.C=0}}function HC(n,t){var e;e=t?t.m:n.W++;const i=Ih(n.I);lo(i,"SID",n.K),lo(i,"RID",e),lo(i,"AID",n.V),cv(n,i),n.o&&n.s&&sv(i,n.o,n.s),e=new Sd(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=$C(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),tv(n.i,e),gf(e,i,t)}function cv(n,t){n.na&&j_(n.na,function(e,i){lo(t,i,e)}),n.h&&Tb({},function(e,i){lo(t,i,e)})}function $C(n,t,e){e=Math.min(n.j.length,e);var i=n.h?ya(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const u=["count="+e];-1==o?0<e?(o=r[0].g,u.push("ofs="+o)):o=0:u.push("ofs="+o);let m=!0;for(let v=0;v<e;v++){let x=r[v].g;const O=r[v].map;if(x-=o,0>x)o=Math.max(0,r[v].g-100),m=!1;else try{GT(O,u,"req"+x+"_")}catch{i&&i(O)}}if(m){i=u.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function qC(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Ch||AT(),G_||(Ch(),G_=!0),IC.add(t,n),n.A=0}}function lv(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Y_(ya(n.Ma,n),ZC(n,n.A)),n.A++,0))}function uv(n){null!=n.B&&(Zn.clearTimeout(n.B),n.B=null)}function GC(n){n.g=new Sd(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Ih(n.wa);lo(t,"RID","rpc"),lo(t,"SID",n.K),lo(t,"AID",n.V),lo(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&lo(t,"TO",n.qa),lo(t,"TYPE","xmlhttp"),cv(n,t),n.o&&n.s&&sv(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=Db(Ih(t)),e.s=null,e.S=!0,Dp(e,n)}function dv(n){null!=n.v&&(Zn.clearTimeout(n.v),n.v=null)}function WC(n,t){var e=null;if(n.g==t){dv(n),uv(n),n.g=null;var i=2}else{if(!FC(n.i,t))return;e=t.F,qT(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;ba(i=xb(),new Z_(i,e)),av(n)}else qC(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function JT(n,t){return!($T(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Y_(ya(n.Na,n,t),ZC(n,n.C)),n.C++,0)))}(n,t)||2==i&&lv(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:yf(n,5);break;case 4:yf(n,10);break;case 3:yf(n,6);break;default:yf(n,2)}}function ZC(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function yf(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=ya(n.pb,n);e||(e=new Wm("//www.google.com/images/cleardot.gif"),Zn.location&&"http"==Zn.location.protocol||Sb(e,"https"),Db(e)),function WT(n,t){const e=new Cb;if(Zn.Image){const i=new Image;i.onload=db(nv,e,i,"TestLoadImage: loaded",!0,t),i.onerror=db(nv,e,i,"TestLoadImage: error",!1,t),i.onabort=db(nv,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=db(nv,e,i,"TestLoadImage: timeout",!1,t),Zn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Kc(2);n.H=0,n.h&&n.h.za(t),YC(n),zC(n)}function YC(n){if(n.H=0,n.ma=[],n.h){const t=LC(n.i);(0!=t.length||0!=n.j.length)&&(vT(n.ma,t),vT(n.ma,n.j),n.i.i.length=0,hb(n.j),n.j.length=0),n.h.ya()}}function KC(n,t,e){var i=e instanceof Wm?Ih(e):new Wm(e);if(""!=i.g)t&&(i.g=t+"."+i.g),PC(i,i.m);else{var r=Zn.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new Wm(null);i&&Sb(o,i),t&&(o.g=t),r&&PC(o,r),e&&(o.l=e),i=o}return t=n.Da,(e=n.F)&&t&&lo(i,e,t),lo(i,"VER",n.ra),cv(n,i),i}function QC(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new no(e&&n.Ha&&!n.va?new iv({ob:!0}):n.va)).Oa(n.J),t}function hv(){}function Bu(){if(Um&&!(10<=Number(gC)))throw Error("Environmental error: no available transport.")}function Ml(n,t){Os.call(this),this.g=new Rb(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!L_(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!L_(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new au(this)}function XT(n){xh.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Lb(){zm.call(this),this.status=1}function au(n){this.g=n}function ju(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function fv(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=n.g[3],u=(t=n.g[0])+(o^(e=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;u=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=e+(u<<7&4294967295|u>>>25))+((u=o+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=r+(e^o&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=e+(t^r&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=t+(o^e&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=o+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=r+(e^o&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=e+(t^r&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=t+(o^e&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=o+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=r+(e^o&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=e+(t^r&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=t+(o^e&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=o+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=r+(e^o&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=e+(t^r&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=t+(r^o&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=o+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=r+(t^e&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=e+(o^t&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=t+(r^o&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=o+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=r+(t^e&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=e+(o^t&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=t+(r^o&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=o+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=r+(t^e&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=e+(o^t&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=t+(r^o&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=o+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=r+(t^e&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=e+(o^t&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=t+(e^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=o+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=e+(r^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=t+(e^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=o+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=e+(r^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=t+(e^r^o)+i[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=o+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=e+(r^o^t)+i[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=t+(e^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=o+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^t^e)+i[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=e+(r^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=t+(r^(e|~o))+i[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=o+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=r+(t^(o|~e))+i[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=e+(o^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=t+(r^(e|~o))+i[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=o+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=r+(t^(o|~e))+i[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=e+(o^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=t+(r^(e|~o))+i[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=o+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=r+(t^(o|~e))+i[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=e+(o^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((o=(t=e+((u=t+(r^(e|~o))+i[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=o+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((r=o+((u=r+(t^(o|~e))+i[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Tr(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==t||(e[r]=o,i=!1)}this.g=e}($t=no.prototype).Oa=function(n){this.M=n},$t.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Qc.g(),this.C=function Uu(n){return n.h||(n.h=n.i())}(this.u?this.u:Qc),this.g.onreadystatechange=ya(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(o){return void YT(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=Zn.FormData&&n instanceof Zn.FormData,!(0<=uC(ZT,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,u]of e)this.g.setRequestHeader(o,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{kb(this),0<this.B&&((this.L=function XP(n){return Um&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ya(this.ua,this)):this.A=TC(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){YT(this,o)}},$t.ua=function(){typeof ub<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ba(this,"timeout"),this.abort(8))},$t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ba(this,"complete"),ba(this,"abort"),Rp(this))},$t.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rp(this,!0)),no.$.N.call(this)},$t.La=function(){this.s||(this.G||this.v||this.l?ov(this):this.kb())},$t.kb=function(){ov(this)},$t.isActive=function(){return!!this.g},$t.da=function(){try{return 2<Vu(this)?this.g.status:-1}catch{return-1}},$t.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},$t.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),JP(t)}},$t.Ia=function(){return this.m},$t.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},($t=Rb.prototype).ra=8,$t.H=1,$t.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Sd(this,this.l,n);let o=this.s;if(this.U&&(o?(o=_C(o),yC(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=$C(this,r,t),lo(e=Ih(this.I),"RID",n),lo(e,"CVER",22),this.F&&lo(e,"X-HTTP-Session-Id",this.F),cv(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(jC(o)))+"&"+t:this.o&&sv(e,this.o,o)),tv(this.i,r),this.bb&&lo(e,"TYPE","init"),this.P?(lo(e,"$req",t),lo(e,"SID","null"),r.aa=!0,gf(r,e,null)):gf(r,e,t),this.H=2}}else 3==this.H&&(n?HC(this,n):0==this.j.length||YP(this.i)||HC(this))},$t.Ma=function(){if(this.u=null,GC(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Y_(ya(this.jb,this),n)}},$t.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Kc(10),Fb(this),GC(this))},$t.ib=function(){null!=this.v&&(this.v=null,Fb(this),lv(this),Kc(19))},$t.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Kc(2)):(this.l.info("Failed to ping google.com"),Kc(1))},$t.isActive=function(){return!!this.h&&this.h.isActive(this)},($t=hv.prototype).Ba=function(){},$t.Aa=function(){},$t.za=function(){},$t.ya=function(){},$t.isActive=function(){return!0},$t.Va=function(){},Bu.prototype.g=function(n,t){return new Ml(n,t)},ea(Ml,Os),Ml.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Kc(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=KC(n,null,n.Y),av(n)},Ml.prototype.close=function(){Nb(this.g)},Ml.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=bb(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&av(t)},Ml.prototype.N=function(){this.g.h=null,delete this.j,Nb(this.g),delete this.g,Ml.$.N.call(this)},ea(XT,xh),ea(Lb,zm),ea(au,hv),au.prototype.Ba=function(){ba(this.g,"a")},au.prototype.Aa=function(n){ba(this.g,new XT(n))},au.prototype.za=function(n){ba(this.g,new Lb)},au.prototype.ya=function(){ba(this.g,"b")},ea(ju,function JC(){this.blockSize=-1}),ju.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ju.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=e;)fv(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<t;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){fv(this,i),r=0;break}}else for(;o<t;)if(i[r++]=n[o++],r==this.blockSize){fv(this,i),r=0;break}}this.h=r,this.i+=t},ju.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var eU={};function XC(n){return-128<=n&&128>n?function yT(n,t){var e=eU;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Tr([0|t],0>t?-1:0)}):new Tr([0|n],0>n?-1:0)}function Dd(n){if(isNaN(n)||!isFinite(n))return uo;if(0>n)return wa(Dd(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=tx;return new Tr(t,0)}var tx=4294967296,uo=XC(0),Ub=XC(1),eS=XC(16777216);function Mh(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Tl(n){return-1==n.h}function wa(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Tr(e,~n.h).add(Ub)}function pv(n,t){return n.add(wa(t))}function mv(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Od(n,t){this.g=n,this.h=t}function Vb(n,t){if(Mh(t))throw Error("division by zero");if(Mh(n))return new Od(uo,uo);if(Tl(n))return t=Vb(wa(n),t),new Od(wa(t.g),wa(t.h));if(Tl(t))return t=Vb(n,wa(t)),new Od(wa(t.g),t.h);if(30<n.g.length){if(Tl(n)||Tl(t))throw Error("slowDivide_ only works with positive integers.");for(var e=Ub,i=t;0>=i.X(n);)e=tS(e),i=tS(i);var r=Np(e,1),o=Np(i,1);for(i=Np(i,2),e=Np(e,2);!Mh(i);){var u=o.add(i);0>=u.X(n)&&(r=r.add(e),o=u),i=Np(i,1),e=Np(e,1)}return t=pv(n,r.R(t)),new Od(r,t)}for(r=uo;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),u=(o=Dd(e)).R(t);Tl(u)||0<u.X(n);)u=(o=Dd(e-=i)).R(t);Mh(o)&&(o=Ub),r=r.add(o),n=pv(n,u)}return new Od(r,n)}function tS(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Tr(e,n.h)}function Np(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],o=0;o<i;o++)r[o]=0<t?n.D(o+e)>>>t|n.D(o+e+1)<<32-t:n.D(o+e);return new Tr(r,n.h)}($t=Tr.prototype).ea=function(){if(Tl(this))return-wa(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:tx+i)*t,t*=tx}return n},$t.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Mh(this))return"0";if(Tl(this))return"-"+wa(this).toString(n);for(var t=Dd(Math.pow(n,6)),e=this,i="";;){var r=Vb(e,t).g,o=((0<(e=pv(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Mh(e=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},$t.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},$t.X=function(n){return Tl(n=pv(this,n))?-1:Mh(n)?0:1},$t.abs=function(){return Tl(this)?wa(this):this},$t.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),u=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=u>>>16,e[r]=(u&=65535)<<16|(o&=65535)}return new Tr(e,-2147483648&e[e.length-1]?-1:0)},$t.R=function(n){if(Mh(this)||Mh(n))return uo;if(Tl(this))return Tl(n)?wa(this).R(wa(n)):wa(wa(this).R(n));if(Tl(n))return wa(this.R(wa(n)));if(0>this.X(eS)&&0>n.X(eS))return Dd(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,u=65535&this.D(i),m=n.D(r)>>>16,v=65535&n.D(r);e[2*i+2*r]+=u*v,mv(e,2*i+2*r),e[2*i+2*r+1]+=o*v,mv(e,2*i+2*r+1),e[2*i+2*r+1]+=u*m,mv(e,2*i+2*r+1),e[2*i+2*r+2]+=o*m,mv(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Tr(e,0)},$t.gb=function(n){return Vb(this,n).h},$t.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Tr(e,this.h&n.h)},$t.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Tr(e,this.h|n.h)},$t.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Tr(e,this.h^n.h)},Bu.prototype.createWebChannel=Bu.prototype.g,Ml.prototype.send=Ml.prototype.u,Ml.prototype.open=Ml.prototype.m,Ml.prototype.close=Ml.prototype.close,Eb.NO_ERROR=0,Eb.TIMEOUT=8,Eb.HTTP_ERROR=6,Ib.COMPLETE="complete",jm.EventType=ms,ms.OPEN="a",ms.CLOSE="b",ms.ERROR="c",ms.MESSAGE="d",Os.prototype.listen=Os.prototype.O,no.prototype.listenOnce=no.prototype.P,no.prototype.getLastError=no.prototype.Sa,no.prototype.getLastErrorCode=no.prototype.Ia,no.prototype.getStatus=no.prototype.da,no.prototype.getResponseJson=no.prototype.Wa,no.prototype.getResponseText=no.prototype.ja,no.prototype.send=no.prototype.ha,no.prototype.setWithCredentials=no.prototype.Oa,ju.prototype.digest=ju.prototype.l,ju.prototype.reset=ju.prototype.reset,ju.prototype.update=ju.prototype.j,Tr.prototype.add=Tr.prototype.add,Tr.prototype.multiply=Tr.prototype.R,Tr.prototype.modulo=Tr.prototype.gb,Tr.prototype.compare=Tr.prototype.X,Tr.prototype.toNumber=Tr.prototype.ea,Tr.prototype.toString=Tr.prototype.toString,Tr.prototype.getBits=Tr.prototype.D,Tr.fromNumber=Dd,Tr.fromString=function ex(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return wa(ex(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Dd(Math.pow(t,8)),i=uo,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),u=parseInt(n.substring(r,r+o),t);8>o?(o=Dd(Math.pow(t,o)),i=i.R(o).add(Dd(u))):i=(i=i.R(e)).add(Dd(u))}return i};var tk=El.createWebChannelTransport=function(){return new Bu},nS=El.getStatEventTarget=function(){return xb()},iS=El.ErrorCode=Eb,nx=El.EventType=Ib,ix=El.Event=pf,zu=El.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},nk=El.FetchXmlHttpFactory=iv,gv=El.WebChannel=jm,Ad=El.XhrIo=no,Hu=El.Md5=ju,Ha=El.Integer=Tr;const rx="@firebase/firestore";class As{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}As.UNAUTHENTICATED=new As(null),As.GOOGLE_CREDENTIALS=new As("google-credentials-uid"),As.FIRST_PARTY=new As("first-party-uid"),As.MOCK_USER=new As("mock-user");let Xm="9.23.0";const bf=new Ru.Yd("@firebase/firestore");function ox(){return bf.logLevel}function Mt(n,...t){if(bf.logLevel<=Ru.in.DEBUG){const e=t.map(Bb);bf.debug(`Firestore (${Xm}): ${n}`,...e)}}function io(n,...t){if(bf.logLevel<=Ru.in.ERROR){const e=t.map(Bb);bf.error(`Firestore (${Xm}): ${n}`,...e)}}function cu(n,...t){if(bf.logLevel<=Ru.in.WARN){const e=t.map(Bb);bf.warn(`Firestore (${Xm}): ${n}`,...e)}}function Bb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ln(n="Unexpected state"){const t=`FIRESTORE (${Xm}) INTERNAL ASSERTION FAILED: `+n;throw io(t),new Error(t)}function wn(n,t){n||ln()}function Gt(n,t){return n}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends ie.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gs{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class sx{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class oS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(As.UNAUTHENTICATED))}shutdown(){}}class rk{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class ok{constructor(t){this.t=t,this.currentUser=As.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=x=>this.i!==r?(r=this.i,e(x)):Promise.resolve();let u=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new gs,t.enqueueRetryable(()=>o(this.currentUser))};const m=()=>{const x=u;t.enqueueRetryable((0,dt.Z)(function*(){yield x.promise,yield o(i.currentUser)}))},v=x=>{Mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(x=>v(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?v(x):(Mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new gs)}},0),m()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(wn("string"==typeof i.accessToken),new sx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return wn(null===t||"string"==typeof t),new As(t)}}class ax{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=As.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class jb{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new ax(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(As.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sS{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=o=>{null!=o.error&&Mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.T;return this.T=o.token,Mt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):Mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(wn("string"==typeof e.token),this.T=e.token,new zb(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function aS(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class cx{static A(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=aS(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Yn(n,t){return n<t?-1:n>t?1:0}function Fp(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function lx(n){return n+"\0"}class ho{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new vt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new vt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new vt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ho.fromMillis(Date.now())}static fromDate(t){return ho.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new ho(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Yn(this.nanoseconds,t.nanoseconds):Yn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Mn(t)}static min(){return new Mn(new ho(0,0))}static max(){return new Mn(new ho(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class _v{constructor(t,e,i){void 0===e?e=0:e>t.length&&ln(),void 0===i?i=t.length-e:i>t.length-e&&ln(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===_v.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof _v?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),u=e.get(r);if(o<u)return-1;if(o>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class $i extends _v{construct(t,e,i){return new $i(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new vt(tt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new $i(e)}static emptyPath(){return new $i([])}}const ak=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qo extends _v{construct(t,e,i){return new qo(t,e,i)}static isValidIdentifier(t){return ak.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qo.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qo(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new vt(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const m=t[r];if("\\"===m){if(r+1===t.length)throw new vt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[r+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new vt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=v,r+=2}else"`"===m?(u=!u,r++):"."!==m||u?(i+=m,r++):(o(),r++)}if(o(),u)throw new vt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qo(e)}static emptyPath(){return new qo([])}}class qt{constructor(t){this.path=t}static fromPath(t){return new qt($i.fromString(t))}static fromName(t){return new qt($i.fromString(t).popFirst(5))}static empty(){return new qt($i.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===$i.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return $i.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new qt(new $i(t.slice()))}}class Hb{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function ux(n){return n.fields.find(t=>2===t.kind)}function Lp(n){return n.fields.filter(t=>2!==t.kind)}Hb.UNKNOWN_ID=-1;class $b{constructor(t,e){this.fieldPath=t,this.kind=e}}class vv{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new vv(0,Sl.min())}}function cS(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Mn.fromTimestamp(1e9===i?new ho(e+1,0):new ho(e,i));return new Sl(r,qt.empty(),t)}function lS(n){return new Sl(n.readTime,n.key,-1)}class Sl{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Sl(Mn.min(),qt.empty(),-1)}static max(){return new Sl(Mn.max(),qt.empty(),-1)}}function dx(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=qt.comparator(n.documentKey,t.documentKey),0!==e?e:Yn(n.largestBatchId,t.largestBatchId))}const hx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Th(n){return qb.apply(this,arguments)}function qb(){return qb=(0,dt.Z)(function*(n){if(n.code!==tt.FAILED_PRECONDITION||n.message!==hx)throw n;Mt("LocalStore","Unexpectedly lost primary lease")}),qb.apply(this,arguments)}class Ye{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ln(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ye((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ye?e:Ye.resolve(e)}catch(e){return Ye.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ye.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ye.reject(e)}static resolve(t){return new Ye((e,i)=>{e(t)})}static reject(t){return new Ye((e,i)=>{i(t)})}static waitFor(t){return new Ye((e,i)=>{let r=0,o=0,u=!1;t.forEach(m=>{++r,m.next(()=>{++o,u&&o===r&&e()},v=>i(v))}),u=!0,o===r&&e()})}static or(t){let e=Ye.resolve(!1);for(const i of t)e=e.next(r=>r?Ye.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new Ye((i,r)=>{const o=t.length,u=new Array(o);let m=0;for(let v=0;v<o;v++){const x=v;e(t[x]).next(O=>{u[x]=O,++m,m===o&&i(u)},O=>r(O))}})}static doWhile(t,e){return new Ye((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class yv{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new gs,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new eg(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=px(i.target.error);this.v.reject(new eg(t,r))}}static open(t,e,i,r){try{return new yv(e,t.transaction(r,i))}catch(o){throw new eg(e,o)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(Mt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new dS(e)}}class lu{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===lu.S((0,ie.z$)())&&io("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Mt("SimpleDb","Removing database:",t),Dl(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,ie.hl)())return!1;if(lu.C())return!0;const t=(0,ie.z$)(),e=lu.S(t),i=0<e&&e<10,r=lu.N(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,dt.Z)(function*(){return e.db||(Mt("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new eg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const m=u.target.error;r("VersionError"===m.name?new vt(tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new vt(tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new eg(t,m))},o.onupgradeneeded=u=>{Mt("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.V.O(u.target.result,o.transaction,u.oldVersion,e.version).next(()=>{Mt("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,dt.Z)(function*(){const u="readonly"===e;let m=0;for(;;){++m;try{o.db=yield o.$(t);const v=yv.open(o.db,t,u?"readonly":"readwrite",i),x=r(v).next(O=>(v.P(),O)).catch(O=>(v.abort(O),Ye.reject(O))).toPromise();return x.catch(()=>{}),yield v.R,x}catch(v){const x=v,O="FirebaseError"!==x.name&&m<3;if(Mt("SimpleDb","Transaction failed with error:",x.message,"Retrying:",O),o.close(),!O)return Promise.reject(x)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class uS{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return Dl(this.L.delete())}}class eg extends vt{constructor(t,e){super(tt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Pd(n){return"IndexedDbTransactionError"===n.name}class dS{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Mt("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Mt("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Dl(i)}add(t){return Mt("SimpleDb","ADD",this.store.name,t,t),Dl(this.store.add(t))}get(t){return Dl(this.store.get(t)).next(e=>(void 0===e&&(e=null),Mt("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Mt("SimpleDb","DELETE",this.store.name,t),Dl(this.store.delete(t))}count(){return Mt("SimpleDb","COUNT",this.store.name),Dl(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(u,m)=>{o.push(m)}).next(()=>o)}{const r=this.store.getAll(i.range);return new Ye((o,u)=>{r.onerror=m=>{u(m.target.error)},r.onsuccess=m=>{o(m.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Ye((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}J(t,e){Mt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,u,m)=>m.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new Ye((i,r)=>{e.onerror=o=>{const u=px(o.target.error);r(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next(m=>{m?u.continue():i()}):i()}})}W(t,e){const i=[];return new Ye((r,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const m=u.target.result;if(!m)return void r();const v=new uS(m),x=e(m.primaryKey,m.value,v);if(x instanceof Ye){const O=x.catch(L=>(v.done(),Ye.reject(L)));i.push(O)}v.isDone?r():null===v.K?m.continue():m.continue(v.K)}}).next(()=>Ye.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Dl(n){return new Ye((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=px(i.target.error);e(r)}})}let hS=!1;function px(n){const t=lu.S((0,ie.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new vt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hS||(hS=!0,setTimeout(()=>{throw i},0)),i}}return n}class tg{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;Mt("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,dt.Z)(function*(){e.task=null;try{Mt("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){Pd(i)?Mt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Th(i)}yield e.et(6e4)}))}}class tU{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,dt.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,o=!0;return Ye.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return Mt("IndexBackiller",`Processing collection: ${u}`),this.it(t,u,r).next(m=>{r-=m,i.add(u)});o=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.rt(r,o)).next(m=>(Mt("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(t,e,m))).next(()=>u.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,o)=>{const u=lS(o);dx(u,i)>0&&(i=u)}),new Sl(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let vc=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function Gb(n){return null==n}function ng(n){return 0===n&&1/n==-1/0}function mx(n){return"number"==typeof n&&Number.isInteger(n)&&!ng(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function yc(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=fS(t)),t=ig(n.get(e),t);return fS(t)}function ig(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function fS(n){return n+"\x01\x01"}function kd(n){const t=n.length;if(wn(t>=2),2===t)return wn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),$i.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const u=n.indexOf("\x01",o);switch((u<0||u>e)&&ln(),n.charAt(u+1)){case"\x01":const m=n.substring(o,u);let v;0===r.length?v=m:(r+=m,v=r,r=""),i.push(v);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:ln()}o=u+2}return new $i(i)}const pS=["userId","batchId"];function Sh(n,t){return[n,yc(t)]}function mS(n,t,e){return[n,yc(t),e]}const Wb={},Zb=["prefixPath","collectionGroup","readTime","documentId"],Jc=["prefixPath","collectionGroup","documentId"],nU=["collectionGroup","readTime","prefixPath","documentId"],gS=["canonicalId","targetId"],_S=["targetId","path"],uk=["path","targetId"],vS=["collectionId","parent"],yS=["indexId","uid"],bS=["uid","sequenceNumber"],wS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dk=["indexId","uid","orderedDocumentKey"],hk=["userId","collectionPath","documentId"],fk=["userId","collectionPath","largestBatchId"],bv=["userId","collectionGroup","largestBatchId"],CS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pk=[...CS,"documentOverlays"],xS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wv=xS,ES=[...wv,"indexConfiguration","indexState","indexEntries"];class Yb extends fx{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function Ps(n,t){const e=Gt(n);return lu.M(e.ht,t)}function IS(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function uu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function rg(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class zr{constructor(t,e){this.comparator=t,this.root=e||Ca.EMPTY}insert(t,e){return new zr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ca.BLACK,null,null))}remove(t){return new zr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ca.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Kb(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Kb(this.root,t,this.comparator,!1)}getReverseIterator(){return new Kb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Kb(this.root,t,this.comparator,!0)}}class Kb{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ca{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Ca.RED,this.left=r??Ca.EMPTY,this.right=o??Ca.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Ca(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ca.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Ca.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ca.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ca.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ln();const t=this.left.check();if(t!==this.right.check())throw ln();return t+(this.isRed()?0:1)}}Ca.EMPTY=null,Ca.RED=!0,Ca.BLACK=!1,Ca.EMPTY=new class{constructor(){this.size=0}get key(){throw ln()}get value(){throw ln()}get color(){throw ln()}get left(){throw ln()}get right(){throw ln()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Ca(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hr{constructor(t){this.comparator=t,this.data=new zr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new gx(this.data.getIterator())}getIteratorFrom(t){return new gx(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Hr)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Hr(this.comparator);return e.data=t,e}}class gx{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Up(n){return n.hasNext()?n.getNext():void 0}class Xc{constructor(t){this.fields=t,t.sort(qo.comparator)}static empty(){return new Xc([])}unionWith(t){let e=new Hr(qo.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Xc(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Fp(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class _x extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ks{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new _x("Invalid base64 string: "+r):r}}(t);return new ks(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new ks(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Yn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ks.EMPTY_BYTE_STRING=new ks("");const iU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vp(n){if(wn(!!n),"string"==typeof n){let t=0;const e=iU.exec(n);if(wn(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:is(n.seconds),nanos:is(n.nanos)}}function is(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function wf(n){return"string"==typeof n?ks.fromBase64String(n):ks.fromUint8Array(n)}function Cv(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Bp(n){const t=n.mapValue.fields.__previous_value__;return Cv(t)?Bp(t):t}function xv(n){const t=Vp(n.mapValue.fields.__local_write_time__.timestampValue);return new ho(t.seconds,t.nanos)}class gk{constructor(t,e,i,r,o,u,m,v,x){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=v,this.useFetchStreams=x}}class Dh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Dh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Dh&&t.projectId===this.projectId&&t.database===this.database}}const du={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Qb={nullValue:"NULL_VALUE"};function Cf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Cv(n)?4:SS(n)?9007199254740991:10:ln()}function Rd(n,t){if(n===t)return!0;const e=Cf(n);if(e!==Cf(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return xv(n).isEqual(xv(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Vp(i.timestampValue),u=Vp(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,wf(n.bytesValue).isEqual(wf(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return is(i.geoPointValue.latitude)===is(r.geoPointValue.latitude)&&is(i.geoPointValue.longitude)===is(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return is(i.integerValue)===is(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=is(i.doubleValue),u=is(r.doubleValue);return o===u?ng(o)===ng(u):isNaN(o)&&isNaN(u)}return!1}(n,t);case 9:return Fp(n.arrayValue.values||[],t.arrayValue.values||[],Rd);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(IS(o)!==IS(u))return!1;for(const m in o)if(o.hasOwnProperty(m)&&(void 0===u[m]||!Rd(o[m],u[m])))return!1;return!0}(n,t);default:return ln()}var r}function Ev(n,t){return void 0!==(n.values||[]).find(e=>Rd(e,t))}function jp(n,t){if(n===t)return 0;const e=Cf(n),i=Cf(t);if(e!==i)return Yn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Yn(n.booleanValue,t.booleanValue);case 2:return function(r,o){const u=is(r.integerValue||r.doubleValue),m=is(o.integerValue||o.doubleValue);return u<m?-1:u>m?1:u===m?0:isNaN(u)?isNaN(m)?0:-1:1}(n,t);case 3:return MS(n.timestampValue,t.timestampValue);case 4:return MS(xv(n),xv(t));case 5:return Yn(n.stringValue,t.stringValue);case 6:return function(r,o){const u=wf(r),m=wf(o);return u.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const u=r.split("/"),m=o.split("/");for(let v=0;v<u.length&&v<m.length;v++){const x=Yn(u[v],m[v]);if(0!==x)return x}return Yn(u.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const u=Yn(is(r.latitude),is(o.latitude));return 0!==u?u:Yn(is(r.longitude),is(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const u=r.values||[],m=o.values||[];for(let v=0;v<u.length&&v<m.length;++v){const x=jp(u[v],m[v]);if(x)return x}return Yn(u.length,m.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===du.mapValue&&o===du.mapValue)return 0;if(r===du.mapValue)return 1;if(o===du.mapValue)return-1;const u=r.fields||{},m=Object.keys(u),v=o.fields||{},x=Object.keys(v);m.sort(),x.sort();for(let O=0;O<m.length&&O<x.length;++O){const L=Yn(m[O],x[O]);if(0!==L)return L;const q=jp(u[m[O]],v[x[O]]);if(0!==q)return q}return Yn(m.length,x.length)}(n.mapValue,t.mapValue);default:throw ln()}}function MS(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Yn(n,t);const e=Vp(n),i=Vp(t),r=Yn(e.seconds,i.seconds);return 0!==r?r:Yn(e.nanos,i.nanos)}function zp(n){return vx(n)}function vx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Vp(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?wf(n.bytesValue).toBase64():"referenceValue"in n?qt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=vx(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const m of r)u?u=!1:o+=",",o+=`${m}:${vx(i.fields[m])}`;return o+"}"}(n.mapValue):ln();var t}function $u(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function yx(n){return!!n&&"integerValue"in n}function og(n){return!!n&&"arrayValue"in n}function TS(n){return!!n&&"nullValue"in n}function bx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xb(n){return!!n&&"mapValue"in n}function sg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return uu(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=sg(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=sg(n.arrayValue.values[e]);return t}return Object.assign({},n)}function SS(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function wx(n){return"nullValue"in n?Qb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?$u(Dh.empty(),qt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ln()}function _k(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?$u(Dh.empty(),qt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?du:ln()}function Cx(n,t){const e=jp(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function xx(n,t){const e=jp(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class xa{constructor(t){this.value=t}static empty(){return new xa({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Xb(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=sg(e)}setAll(t){let e=qo.emptyPath(),i={},r=[];t.forEach((u,m)=>{if(!e.isImmediateParentOf(m)){const v=this.getFieldsMap(e);this.applyChanges(v,i,r),i={},r=[],e=m.popLast()}u?i[m.lastSegment()]=sg(u):r.push(m.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Xb(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Rd(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Xb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){uu(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new xa(sg(this.value))}}function DS(n){const t=[];return uu(n.fields,(e,i)=>{const r=new qo([e]);if(Xb(i)){const o=DS(i.mapValue).fields;if(0===o.length)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new Xc(t)}class ro{constructor(t,e,i,r,o,u,m){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=u,this.documentState=m}static newInvalidDocument(t){return new ro(t,0,Mn.min(),Mn.min(),Mn.min(),xa.empty(),0)}static newFoundDocument(t,e,i,r){return new ro(t,1,e,Mn.min(),i,r,0)}static newNoDocument(t,e){return new ro(t,2,e,Mn.min(),Mn.min(),xa.empty(),0)}static newUnknownDocument(t,e){return new ro(t,3,e,Mn.min(),Mn.min(),xa.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Mn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xa.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof ro&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ro(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nd{constructor(t,e){this.position=t,this.inclusive=e}}function OS(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(i=o.field.isKeyField()?qt.comparator(qt.fromName(u.referenceValue),e.key):jp(u,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function Ex(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Rd(n.position[e],t.position[e]))return!1;return!0}class ag{constructor(t,e="asc"){this.field=t,this.dir=e}}function vk(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class AS{}class Ni extends AS{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new yk(t,e,i):"array-contains"===e?new Dx(t,i):"in"===e?new t0(t,i):"not-in"===e?new NS(t,i):"array-contains-any"===e?new Ox(t,i):new Ni(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new bk(t,i):new wk(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(jp(e,this.value)):null!==e&&Cf(this.value)===Cf(e)&&this.matchesComparison(jp(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ln()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class pr extends AS{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new pr(t,e)}matches(t){return cg(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function cg(n){return"and"===n.op}function Ix(n){return"or"===n.op}function Mx(n){return Tx(n)&&cg(n)}function Tx(n){for(const t of n.filters)if(t instanceof pr)return!1;return!0}function e0(n){if(n instanceof Ni)return n.field.canonicalString()+n.op.toString()+zp(n.value);if(Mx(n))return n.filters.map(t=>e0(t)).join(",");{const t=n.filters.map(e=>e0(e)).join(",");return`${n.op}(${t})`}}function PS(n,t){return n instanceof Ni?(e=n,(i=t)instanceof Ni&&e.op===i.op&&e.field.isEqual(i.field)&&Rd(e.value,i.value)):n instanceof pr?function(e,i){return i instanceof pr&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,o,u)=>r&&PS(o,i.filters[u]),!0)}(n,t):void ln();var e,i}function kS(n,t){const e=n.filters.concat(t);return pr.create(e,n.op)}function Sx(n){return n instanceof Ni?`${(t=n).field.canonicalString()} ${t.op} ${zp(t.value)}`:n instanceof pr?function(t){return t.op.toString()+" {"+t.getFilters().map(Sx).join(" ,")+"}"}(n):"Filter";var t}class yk extends Ni{constructor(t,e,i){super(t,e,i),this.key=qt.fromName(i.referenceValue)}matches(t){const e=qt.comparator(t.key,this.key);return this.matchesComparison(e)}}class bk extends Ni{constructor(t,e){super(t,"in",e),this.keys=RS(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class wk extends Ni{constructor(t,e){super(t,"not-in",e),this.keys=RS(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function RS(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>qt.fromName(i.referenceValue))}class Dx extends Ni{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return og(e)&&Ev(e.arrayValue,this.value)}}class t0 extends Ni{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Ev(this.value.arrayValue,e)}}class NS extends Ni{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ev(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Ev(this.value.arrayValue,e)}}class Ox extends Ni{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!og(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Ev(this.value.arrayValue,i))}}class Ck{constructor(t,e=null,i=[],r=[],o=null,u=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=m,this.dt=null}}function Ax(n,t=null,e=[],i=[],r=null,o=null,u=null){return new Ck(n,t,e,i,r,o,u)}function Oh(n){const t=Gt(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>e0(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Gb(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>zp(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>zp(i)).join(",")),t.dt=e}return t.dt}function Iv(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!vk(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!PS(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Ex(n.startAt,t.startAt)&&Ex(n.endAt,t.endAt)}function Mv(n){return qt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Fd(n,t){return n.filters.filter(e=>e instanceof Ni&&e.field.isEqual(t))}function Px(n,t,e){let i=Qb,r=!0;for(const o of Fd(n,t)){let u=Qb,m=!0;switch(o.op){case"<":case"<=":u=wx(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,m=!1;break;case"!=":case"not-in":u=Qb}Cx({value:i,inclusive:r},{value:u,inclusive:m})<0&&(i=u,r=m)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];Cx({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function FS(n,t,e){let i=du,r=!0;for(const o of Fd(n,t)){let u=du,m=!0;switch(o.op){case">=":case">":u=_k(o.value),m=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,m=!1;break;case"!=":case"not-in":u=du}xx({value:i,inclusive:r},{value:u,inclusive:m})>0&&(i=u,r=m)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];xx({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class xf{constructor(t,e=null,i=[],r=[],o=null,u="F",m=null,v=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=m,this.endAt=v,this.wt=null,this._t=null}}function n0(n,t,e,i,r,o,u,m){return new xf(n,t,e,i,r,o,u,m)}function Ef(n){return new xf(n)}function LS(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function r0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Tv(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function kx(n){return null!==n.collectionGroup}function If(n){const t=Gt(n);if(null===t.wt){t.wt=[];const e=Tv(t),i=r0(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new ag(e)),t.wt.push(new ag(qo.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new ag(qo.keyField(),o))}}}return t.wt}function Ea(n){const t=Gt(n);if(!t._t)if("F"===t.limitType)t._t=Ax(t.path,t.collectionGroup,If(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of If(t))e.push(new ag(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Nd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Nd(t.startAt.position,t.startAt.inclusive):null;t._t=Ax(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function o0(n,t){t.getFirstInequalityField(),Tv(n);const e=n.filters.concat([t]);return new xf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Sv(n,t,e){return new xf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function lg(n,t){return Iv(Ea(n),Ea(t))&&n.limitType===t.limitType}function Rx(n){return`${Oh(Ea(n))}|lt:${n.limitType}`}function Nx(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>Sx(i)).join(", ")}]`),Gb(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>zp(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>zp(i)).join(",")),`Target(${e})`}(Ea(n))}; limitType=${n.limitType})`}function Dv(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):qt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of If(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,u){const m=OS(r,o,u);return r.inclusive?m<=0:m<0}(e.startAt,If(e),i)||e.endAt&&!function(r,o,u){const m=OS(r,o,u);return r.inclusive?m>=0:m>0}(e.endAt,If(e),i)));var e,i}function US(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function VS(n){return(t,e)=>{let i=!1;for(const r of If(n)){const o=BS(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function BS(n,t,e){const i=n.field.isKeyField()?qt.comparator(t.key,e.key):function(r,o,u){const m=o.data.field(r),v=u.data.field(r);return null!==m&&null!==v?jp(m,v):ln()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ln()}}class Mf{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){uu(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return rg(this.inner)}size(){return this.innerSize}}const jS=new zr(qt.comparator);function el(){return jS}const zS=new zr(qt.comparator);function s0(...n){let t=zS;for(const e of n)t=t.insert(e.key,e);return t}function HS(n){let t=zS;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Ld(){return ug()}function Fx(){return ug()}function ug(){return new Mf(n=>n.toString(),(n,t)=>n.isEqual(t))}const $S=new zr(qt.comparator),xk=new Hr(qt.comparator);function li(...n){let t=xk;for(const e of n)t=t.add(e);return t}const Ek=new Hr(Yn);function Lx(){return Ek}function qS(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ng(t)?"-0":t}}function GS(n){return{integerValue:""+n}}function WS(n,t){return mx(t)?GS(t):qS(n,t)}class Tf{constructor(){this._=void 0}}function ZS(n,t,e){return n instanceof Hp?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Cv(r)&&(r=Bp(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Sf?Vx(n,t):n instanceof $p?Ik(n,t):function(i,r){const o=Ux(i,r),u=Bx(o)+Bx(i.gt);return yx(o)&&yx(i.gt)?GS(u):qS(i.serializer,u)}(n,t)}function YS(n,t,e){return n instanceof Sf?Vx(n,t):n instanceof $p?Ik(n,t):e}function Ux(n,t){return n instanceof Ov?yx(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Hp extends Tf{}class Sf extends Tf{constructor(t){super(),this.elements=t}}function Vx(n,t){const e=jx(t);for(const i of n.elements)e.some(r=>Rd(r,i))||e.push(i);return{arrayValue:{values:e}}}class $p extends Tf{constructor(t){super(),this.elements=t}}function Ik(n,t){let e=jx(t);for(const i of n.elements)e=e.filter(r=>!Rd(r,i));return{arrayValue:{values:e}}}class Ov extends Tf{constructor(t,e){super(),this.serializer=t,this.gt=e}}function Bx(n){return is(n.integerValue||n.doubleValue)}function jx(n){return og(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class dg{constructor(t,e){this.field=t,this.transform=e}}class Tk{constructor(t,e){this.version=t,this.transformResults=e}}class Sr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Sr}static exists(t){return new Sr(void 0,t)}static updateTime(t){return new Sr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function a0(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class qp{}function KS(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new pg(n.key,Sr.none()):new fg(n.key,n.data,Sr.none());{const e=n.data,i=xa.empty();let r=new Hr(qo.comparator);for(let o of t.fields)if(!r.has(o)){let u=e.field(o);null===u&&o.length>1&&(o=o.popLast(),u=e.field(o)),null===u?i.delete(o):i.set(o,u),r=r.add(o)}return new Ah(n.key,i,new Xc(r.toArray()),Sr.none())}}function rU(n,t,e){n instanceof fg?function(i,r,o){const u=i.value.clone(),m=Pv(i.fieldTransforms,r,o.transformResults);u.setAll(m),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Ah?function(i,r,o){if(!a0(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=Pv(i.fieldTransforms,r,o.transformResults),m=r.data;m.setAll(QS(i)),m.setAll(u),r.convertToFoundDocument(o.version,m).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Av(n,t,e,i){return n instanceof fg?function(r,o,u,m){if(!a0(r.precondition,o))return u;const v=r.value.clone(),x=zx(r.fieldTransforms,m,o);return v.setAll(x),o.convertToFoundDocument(o.version,v).setHasLocalMutations(),null}(n,t,e,i):n instanceof Ah?function(r,o,u,m){if(!a0(r.precondition,o))return u;const v=zx(r.fieldTransforms,m,o),x=o.data;return x.setAll(QS(r)),x.setAll(v),o.convertToFoundDocument(o.version,x).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(O=>O.field))}(n,t,e,i):(u=e,a0(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function oU(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=Ux(i.transform,r||null);null!=o&&(null===e&&(e=xa.empty()),e.set(i.field,o))}return e||null}function hg(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Fp(e,i,(r,o)=>function Mk(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Sf&&i instanceof Sf||e instanceof $p&&i instanceof $p?Fp(e.elements,i.elements,Rd):e instanceof Ov&&i instanceof Ov?Rd(e.gt,i.gt):e instanceof Hp&&i instanceof Hp);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class fg extends qp{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ah extends qp{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function QS(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Pv(n,t,e){const i=new Map;wn(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,m=t.data.field(o.field);i.set(o.field,YS(u,m,e[r]))}return i}function zx(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,ZS(o,u,t))}return i}class pg extends qp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c0 extends qp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mg{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&rU(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Av(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Av(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Fx();return this.mutations.forEach(r=>{const o=t.get(r.key),u=o.overlayedDocument;let m=this.applyToLocalView(u,o.mutatedFields);m=e.has(r.key)?null:m;const v=KS(u,m);null!==v&&i.set(r.key,v),u.isValidDocument()||u.convertToNoDocument(Mn.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),li())}isEqual(t){return this.batchId===t.batchId&&Fp(this.mutations,t.mutations,(e,i)=>hg(e,i))&&Fp(this.baseMutations,t.baseMutations,(e,i)=>hg(e,i))}}class Hx{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){wn(t.mutations.length===i.length);let r=$S;const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new Hx(t,e,i,r)}}class $x{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Sk{constructor(t,e){this.count=t,this.unchangedNames=e}}var _s,Bi;function kv(n){switch(n){default:return ln();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0}}function XS(n){if(void 0===n)return io("GRPC error has no .code"),tt.UNKNOWN;switch(n){case _s.OK:return tt.OK;case _s.CANCELLED:return tt.CANCELLED;case _s.UNKNOWN:return tt.UNKNOWN;case _s.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case _s.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case _s.INTERNAL:return tt.INTERNAL;case _s.UNAVAILABLE:return tt.UNAVAILABLE;case _s.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case _s.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case _s.NOT_FOUND:return tt.NOT_FOUND;case _s.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case _s.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case _s.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case _s.ABORTED:return tt.ABORTED;case _s.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case _s.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case _s.DATA_LOSS:return tt.DATA_LOSS;default:return ln()}}(Bi=_s||(_s={}))[Bi.OK=0]="OK",Bi[Bi.CANCELLED=1]="CANCELLED",Bi[Bi.UNKNOWN=2]="UNKNOWN",Bi[Bi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bi[Bi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bi[Bi.NOT_FOUND=5]="NOT_FOUND",Bi[Bi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bi[Bi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bi[Bi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bi[Bi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bi[Bi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bi[Bi.ABORTED=10]="ABORTED",Bi[Bi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bi[Bi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bi[Bi.INTERNAL=13]="INTERNAL",Bi[Bi.UNAVAILABLE=14]="UNAVAILABLE",Bi[Bi.DATA_LOSS=15]="DATA_LOSS";class qx{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Rv}static getOrCreateInstance(){return null===Rv&&(Rv=new qx),Rv}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let Rv=null;function Gx(){return new TextEncoder}const Wx=new Ha([4294967295,4294967295],0);function Zx(n){const t=Gx().encode(n),e=new Hu;return e.update(t),new Uint8Array(e.digest())}function eD(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ha([e,i],0),new Ha([r,o],0)]}class l0{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new gg(`Invalid padding: ${e}`);if(i<0)throw new gg(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new gg(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new gg(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=Ha.fromNumber(this.It)}Et(t,e,i){let r=t.add(e.multiply(Ha.fromNumber(i)));return 1===r.compare(Wx)&&(r=new Ha([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=Zx(t),[i,r]=eD(e);for(let o=0;o<this.hashCount;o++){const u=this.Et(i,r,o);if(!this.At(u))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new l0(o,r,e);return i.forEach(m=>u.insert(m)),u}insert(t){if(0===this.It)return;const e=Zx(t),[i,r]=eD(e);for(let o=0;o<this.hashCount;o++){const u=this.Et(i,r,o);this.Rt(u)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class gg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nv{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Fv.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Nv(Mn.min(),r,new zr(Yn),el(),li())}}class Fv{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Fv(i,e,li(),li(),li())}}class _g{constructor(t,e,i,r){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=r}}class u0{constructor(t,e){this.targetId=t,this.Vt=e}}class Yx{constructor(t,e,i=ks.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class d0{constructor(){this.St=0,this.Dt=nD(),this.Ct=ks.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=li(),e=li(),i=li();return this.Dt.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ln()}}),new Fv(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=nD()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Kx{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=el(),this.zt=tD(),this.Wt=new zr(Yn)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:ln()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,r)=>{this.te(r)&&e(r)})}ne(t){var e;const i=t.targetId,r=t.Vt.count,o=this.se(i);if(o){const u=o.target;if(Mv(u))if(0===r){const m=new qt(u.path);this.Yt(i,m,ro.newNoDocument(m,Mn.min()))}else wn(1===r);else{const m=this.ie(i);if(m!==r){const v=this.re(t,m);0!==v&&(this.ee(i),this.Wt=this.Wt.insert(i,2===v?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=qx.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(x,O,L){var q,ne,ae,ye,We,wt;const At={localCacheCount:O,existenceFilterCount:L.count},Ot=L.unchangedNames;return Ot&&(At.bloomFilter={applied:0===x,hashCount:null!==(q=Ot?.hashCount)&&void 0!==q?q:0,bitmapLength:null!==(ye=null===(ae=null===(ne=Ot?.bits)||void 0===ne?void 0:ne.bitmap)||void 0===ae?void 0:ae.length)&&void 0!==ye?ye:0,padding:null!==(wt=null===(We=Ot?.bits)||void 0===We?void 0:We.padding)&&void 0!==wt?wt:0}),At}(v,m,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:r}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:u=0},hashCount:m=0}=i;let v,x;try{v=wf(o).toUint8Array()}catch(O){if(O instanceof _x)return cu("Decoding the base64 bloom filter in existence filter failed ("+O.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw O}try{x=new l0(v,u,m)}catch(O){return cu(O instanceof gg?"BloomFilter error: ":"Applying bloom filter failed: ",O),1}return 0===x.It?1:r!==e-this.oe(t.targetId,x)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const u=this.Gt.ue(),m=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.vt(m)||(this.Yt(t,o,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((o,u)=>{const m=this.se(u);if(m){if(o.current&&Mv(m.target)){const v=new qt(m.target.path);null!==this.jt.get(v)||this.ae(u,v)||this.Yt(u,v,ro.newNoDocument(v,t))}o.Mt&&(e.set(u,o.Ot()),o.Ft())}});let i=li();this.zt.forEach((o,u)=>{let m=!0;u.forEachWhile(v=>{const x=this.se(v);return!x||"TargetPurposeLimboResolution"===x.purpose||(m=!1,!1)}),m&&(i=i.add(o))}),this.jt.forEach((o,u)=>u.setReadTime(t));const r=new Nv(t,e,this.Wt,this.jt,i);return this.jt=el(),this.zt=tD(),this.Wt=new zr(Yn),r}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new d0,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new Hr(Yn),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||Mt("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new d0),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function tD(){return new zr(qt.comparator)}function nD(){return new zr(qt.comparator)}const Dk={asc:"ASCENDING",desc:"DESCENDING"},Ok={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iD={and:"AND",or:"OR"};class Qx{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function h0(n,t){return n.useProto3Json||Gb(t)?t:{value:t}}function Gp(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Jx(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function rD(n,t){return Gp(n,t.toTimestamp())}function rs(n){return wn(!!n),Mn.fromTimestamp(function(t){const e=Vp(t);return new ho(e.seconds,e.nanos)}(n))}function f0(n,t){return(e=n,new $i(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function Xx(n){const t=$i.fromString(n);return wn(Uv(t)),t}function Lv(n,t){return f0(n.databaseId,t.path)}function qu(n,t){const e=Xx(t);if(e.get(1)!==n.databaseId.projectId)throw new vt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new vt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new qt(oD(e))}function p0(n,t){return f0(n.databaseId,t)}function $a(n){const t=Xx(n);return 4===t.length?$i.emptyPath():oD(t)}function Ud(n){return new $i(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oD(n){return wn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function sD(n,t,e){return{name:Lv(n,t),fields:e.value.mapValue.fields}}function Ak(n,t,e){const i=qu(n,t.name),r=rs(t.updateTime),o=t.createTime?rs(t.createTime):Mn.min(),u=new xa({mapValue:{fields:t.fields}}),m=ro.newFoundDocument(i,r,o,u);return e&&m.setHasCommittedMutations(),e?m.setHasCommittedMutations():m}function Wp(n,t){let e;if(t instanceof fg)e={update:sD(n,t.key,t.value)};else if(t instanceof pg)e={delete:Lv(n,t.key)};else if(t instanceof Ah)e={update:sD(n,t.key,t.data),updateMask:Nk(t.fieldMask)};else{if(!(t instanceof c0))return ln();e={verify:Lv(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof Hp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Sf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof $p)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ov)return{fieldPath:o.field.canonicalString(),increment:u.gt};throw ln()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:rD(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ln()),e;var r}function cD(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Sr.updateTime(rs(r.updateTime)):void 0!==r.exists?Sr.exists(r.exists):Sr.none():Sr.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,u){let m=null;"setToServerValue"in u?(wn("REQUEST_TIME"===u.setToServerValue),m=new Hp):"appendMissingElements"in u?m=new Sf(u.appendMissingElements.values||[]):"removeAllFromArray"in u?m=new $p(u.removeAllFromArray.values||[]):"increment"in u?m=new Ov(o,u.increment):ln();const v=qo.fromServerFormat(u.fieldPath);return new dg(v,m)}(n,r)):[];var r;if(t.update){const r=qu(n,t.update.name),o=new xa({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Xc((t.updateMask.fieldPaths||[]).map(x=>qo.fromServerFormat(x)));return new Ah(r,o,u,e,i)}return new fg(r,o,e,i)}if(t.delete){const r=qu(n,t.delete);return new pg(r,e)}if(t.verify){const r=qu(n,t.verify);return new c0(r,e)}return ln()}function Pk(n,t){return{documents:[p0(n,t.path)]}}function Zp(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=p0(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=p0(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(v){if(0!==v.length)return tE(pr.create(v,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(v){if(0!==v.length)return v.map(x=>{return{field:Df((O=x).field),direction:dD(O.dir)};var O})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=h0(n,t.limit);var m,v;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(m=t.startAt).inclusive,values:m.position}),t.endAt&&(e.structuredQuery.endAt={before:!(v=t.endAt).inclusive,values:v.position}),e}function lD(n){let t=$a(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){wn(1===i);const O=e.from[0];O.allDescendants?r=O.collectionId:t=t.child(O.collectionId)}let o=[];e.where&&(o=function(O){const L=uD(O);return L instanceof pr&&Mx(L)?L.getFilters():[L]}(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(O=>{return new ag(Of((L=O).field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction));var L}));let m=null;e.limit&&(m=function(O){let L;return L="object"==typeof O?O.value:O,Gb(L)?null:L}(e.limit));let v=null;var O;e.startAt&&(v=new Nd((O=e.startAt).values||[],!!O.before));let x=null;return e.endAt&&(x=function(O){return new Nd(O.values||[],!O.before)}(e.endAt)),n0(t,r,u,o,m,"F",v,x)}function uD(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Of(t.unaryFilter.field);return Ni.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=Of(t.unaryFilter.field);return Ni.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Of(t.unaryFilter.field);return Ni.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Of(t.unaryFilter.field);return Ni.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ln()}}(n):void 0!==n.fieldFilter?Ni.create(Of((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ln()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return pr.create(t.compositeFilter.filters.map(e=>uD(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ln()}}(t.compositeFilter.op))}(n):ln();var t}function dD(n){return Dk[n]}function kk(n){return Ok[n]}function Rk(n){return iD[n]}function Df(n){return{fieldPath:n.canonicalString()}}function Of(n){return qo.fromServerFormat(n.fieldPath)}function tE(n){return n instanceof Ni?function(t){if("=="===t.op){if(bx(t.value))return{unaryFilter:{field:Df(t.field),op:"IS_NAN"}};if(TS(t.value))return{unaryFilter:{field:Df(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(bx(t.value))return{unaryFilter:{field:Df(t.field),op:"IS_NOT_NAN"}};if(TS(t.value))return{unaryFilter:{field:Df(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Df(t.field),op:kk(t.op),value:t.value}}}(n):n instanceof pr?function(t){const e=t.getFilters().map(i=>tE(i));return 1===e.length?e[0]:{compositeFilter:{op:Rk(t.op),filters:e}}}(n):ln()}function Nk(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Uv(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Gu{constructor(t,e,i,r,o=Mn.min(),u=Mn.min(),m=ks.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=v}withSequenceNumber(t){return new Gu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Fk{constructor(t){this.fe=t}}function fD(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Vv(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Lv(r=n.fe,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:Gp(r,o.version.toTimestamp()),createTime:Gp(r,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:hu(t.version)};else{if(!t.isUnknownDocument())return ln();i.unknownDocument={path:e.path.toArray(),version:hu(t.version)}}var r,o;return i}function Vv(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function hu(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Yp(n){const t=new ho(n.seconds,n.nanoseconds);return Mn.fromTimestamp(t)}function Af(n,t){const e=(t.baseMutations||[]).map(o=>cD(n.fe,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>cD(n.fe,o)),r=ho.fromMillis(t.localWriteTimeMs);return new mg(t.batchId,r,e,i)}function Kp(n){const t=Yp(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Yp(n.lastLimboFreeSnapshotVersion):Mn.min();let i;var r;return void 0!==n.query.documents?(wn(1===(r=n.query).documents.length),i=Ea(Ef($a(r.documents[0])))):i=Ea(lD(n.query)),new Gu(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,ks.fromBase64String(n.resumeToken))}function Lk(n,t){const e=hu(t.snapshotVersion),i=hu(t.lastLimboFreeSnapshotVersion);let r;r=Mv(t.target)?Pk(n.fe,t.target):Zp(n.fe,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Oh(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function nE(n){const t=lD({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Sv(t,t.limit,"L"):t}function pD(n,t){return new $x(t.largestBatchId,cD(n.fe,t.overlayMutation))}function mD(n,t){const e=t.path.lastSegment();return[n,yc(t.path.popLast()),e]}function gD(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:hu(i.readTime),documentKey:yc(i.documentKey.path),largestBatchId:i.largestBatchId}}class Uk{getBundleMetadata(t,e){return iE(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Yp(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return iE(t).put({bundleId:(i=e).id,createTime:hu(rs(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return rE(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:nE(r.bundledQuery),readTime:Yp(r.readTime)};var r})}saveNamedQuery(t,e){return rE(t).put({name:(i=e).name,readTime:hu(rs(i.readTime)),bundledQuery:i.bundledQuery});var i}}function iE(n){return Ps(n,"bundles")}function rE(n){return Ps(n,"namedQueries")}class m0{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new m0(t,e.uid||"")}getOverlay(t,e){return vg(t).get(mD(this.userId,e)).next(i=>i?pD(this.serializer,i):null)}getOverlays(t,e){const i=Ld();return Ye.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,u)=>{const m=new $x(e,u);r.push(this.we(t,m))}),Ye.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(yc(u.getCollectionPath())));const o=[];return r.forEach(u=>{const m=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(vg(t).J("collectionPathOverlayIndex",m))}),Ye.waitFor(o)}getOverlaysForCollection(t,e,i){const r=Ld(),o=yc(e),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return vg(t).j("collectionPathOverlayIndex",u).next(m=>{for(const v of m){const x=pD(this.serializer,v);r.set(x.getKey(),x)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=Ld();let u;const m=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return vg(t).X({index:"collectionGroupOverlayIndex",range:m},(v,x,O)=>{const L=pD(this.serializer,x);o.size()<r||L.largestBatchId===u?(o.set(L.getKey(),L),u=L.largestBatchId):O.done()}).next(()=>o)}we(t,e){return vg(t).put(function(i,r,o){const[u,m,v]=mD(r,o.mutation.key);return{userId:r,collectionPath:m,documentId:v,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Wp(i.fe,o.mutation)}}(this.serializer,this.userId,e))}}function vg(n){return Ps(n,"documentOverlays")}class Pf{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(is(t.integerValue));else if("doubleValue"in t){const i=is(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),ng(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(wf(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?SS(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):ln()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const r of Object.keys(i))this.Te(r,e),this.me(i[r],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const r of i)this.me(r,e)}ve(t,e){this.ye(e,37),qt.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function Vk(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function _D(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=Vk(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}Pf.Ve=new Pf;class vD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=e.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=e.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(t){const e=this.Fe(t),i=_D(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Le(t){const e=this.Fe(t),i=_D(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Bk{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class yD{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class yg{constructor(){this.je=new vD,this.ze=new Bk(this.je),this.We=new yD(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class kf{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new kf(this.indexId,this.documentKey,this.arrayValue,i)}}function Ph(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=bD(n.arrayValue,t.arrayValue),0!==e?e:(e=bD(n.directionalValue,t.directionalValue),0!==e?e:qt.comparator(n.documentKey,t.documentKey)))}function bD(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class jk{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){wn(t.collectionGroup===this.collectionId);const e=ux(t);if(void 0!==e&&!this.en(e))return!1;const i=Lp(t);let r=new Set,o=0,u=0;for(;o<i.length&&this.en(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const m=i[o];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[u++],m))return!1}++o}for(;o<i.length;++o)if(u>=this.Ye.length||!this.sn(this.Ye[u++],i[o]))return!1;return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function zk(n){var t,e;if(wn(n instanceof Ni||n instanceof pr),n instanceof Ni){if(n instanceof t0){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>Ni.create(n.field,"==",o)))||[];return pr.create(r,"or")}return n}const i=n.filters.map(r=>zk(r));return pr.create(i,n.op)}function wD(n){if(0===n.getFilters().length)return[];const t=ED(zk(n));return wn(Hk(t)),CD(t)||xD(t)?[t]:t.getFilters()}function CD(n){return n instanceof Ni}function xD(n){return n instanceof pr&&Mx(n)}function Hk(n){return CD(n)||xD(n)||function(t){if(t instanceof pr&&Ix(t)){for(const e of t.getFilters())if(!CD(e)&&!xD(e))return!1;return!0}return!1}(n)}function ED(n){if(wn(n instanceof Ni||n instanceof pr),n instanceof Ni)return n;if(1===n.filters.length)return ED(n.filters[0]);const t=n.filters.map(i=>ED(i));let e=pr.create(t,n.op);return e=oE(e),Hk(e)?e:(wn(e instanceof pr),wn(cg(e)),wn(e.filters.length>1),e.filters.reduce((i,r)=>ID(i,r)))}function ID(n,t){let e;return wn(n instanceof Ni||n instanceof pr),wn(t instanceof Ni||t instanceof pr),e=n instanceof Ni?t instanceof Ni?pr.create([n,t],"and"):$k(n,t):t instanceof Ni?$k(t,n):function(i,r){if(wn(i.filters.length>0&&r.filters.length>0),cg(i)&&cg(r))return kS(i,r.getFilters());const o=Ix(i)?i:r,u=Ix(i)?r:i,m=o.filters.map(v=>ID(v,u));return pr.create(m,"or")}(n,t),oE(e)}function $k(n,t){if(cg(t))return kS(t,n.getFilters());{const e=t.filters.map(i=>ID(n,i));return pr.create(e,"or")}}function oE(n){if(wn(n instanceof Ni||n instanceof pr),n instanceof Ni)return n;const t=n.getFilters();if(1===t.length)return oE(t[0]);if(Tx(n))return n;const e=t.map(r=>oE(r)),i=[];return e.forEach(r=>{r instanceof Ni?i.push(r):r instanceof pr&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:pr.create(i,n.op)}class cU{constructor(){this.rn=new MD}addToCollectionParentIndex(t,e){return this.rn.add(e),Ye.resolve()}getCollectionParents(t,e){return Ye.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return Ye.resolve()}deleteFieldIndex(t,e){return Ye.resolve()}getDocumentsMatchingTarget(t,e){return Ye.resolve(null)}getIndexType(t,e){return Ye.resolve(0)}getFieldIndexes(t,e){return Ye.resolve([])}getNextCollectionGroupToUpdate(t){return Ye.resolve(null)}getMinOffset(t,e){return Ye.resolve(Sl.min())}getMinOffsetFromCollectionGroup(t,e){return Ye.resolve(Sl.min())}updateCollectionGroup(t,e,i){return Ye.resolve()}updateIndexEntries(t,e){return Ye.resolve()}}class MD{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Hr($i.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Hr($i.comparator)).toArray()}}const Bv=new Uint8Array(0);class sE{constructor(t,e){this.user=t,this.databaseId=e,this.on=new MD,this.un=new Mf(i=>Oh(i),(i,r)=>Iv(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const o={collectionId:i,parent:yc(r)};return aE(t).put(o)}return Ye.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[lx(e),""],!1,!0);return aE(t).j(r).next(o=>{for(const u of o){if(u.collectionId!==e)break;i.push(kd(u.parent))}return i})}addFieldIndex(t,e){const i=Qp(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var u;delete r.indexId;const o=i.add(r);if(e.indexState){const u=zv(t);return o.next(m=>{u.put(gD(m,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=Qp(t),r=zv(t),o=jv(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=jv(t);let r=!0;const o=new Map;return Ye.forEach(this.cn(e),u=>this.an(t,u).next(m=>{r&&(r=!!m),o.set(u,m)})).next(()=>{if(r){let u=li();const m=[];return Ye.forEach(o,(v,x)=>{var O;Mt("IndexedDbIndexManager",`Using index ${O=v,`id=${O.indexId}|cg=${O.collectionGroup}|f=${O.fields.map(Ot=>`${Ot.fieldPath}:${Ot.kind}`).join(",")}`} to execute ${Oh(e)}`);const L=function(Ot,Lt){const On=ux(Lt);if(void 0===On)return null;for(const Rn of Fd(Ot,On.fieldPath))switch(Rn.op){case"array-contains-any":return Rn.value.arrayValue.values||[];case"array-contains":return[Rn.value]}return null}(x,v),q=function(Ot,Lt){const On=new Map;for(const Rn of Lp(Lt))for(const ji of Fd(Ot,Rn.fieldPath))switch(ji.op){case"==":case"in":On.set(Rn.fieldPath.canonicalString(),ji.value);break;case"not-in":case"!=":return On.set(Rn.fieldPath.canonicalString(),ji.value),Array.from(On.values())}return null}(x,v),ne=function(Ot,Lt){const On=[];let Rn=!0;for(const ji of Lp(Lt)){const Zo=0===ji.kind?Px(Ot,ji.fieldPath,Ot.startAt):FS(Ot,ji.fieldPath,Ot.startAt);On.push(Zo.value),Rn&&(Rn=Zo.inclusive)}return new Nd(On,Rn)}(x,v),ae=function(Ot,Lt){const On=[];let Rn=!0;for(const ji of Lp(Lt)){const Zo=0===ji.kind?FS(Ot,ji.fieldPath,Ot.endAt):Px(Ot,ji.fieldPath,Ot.endAt);On.push(Zo.value),Rn&&(Rn=Zo.inclusive)}return new Nd(On,Rn)}(x,v),ye=this.hn(v,x,ne),We=this.hn(v,x,ae),wt=this.ln(v,x,q),At=this.fn(v.indexId,L,ye,ne.inclusive,We,ae.inclusive,wt);return Ye.forEach(At,Ot=>i.H(Ot,e.limit).next(Lt=>{Lt.forEach(On=>{const Rn=qt.fromSegments(On.documentKey);u.has(Rn)||(u=u.add(Rn),m.push(Rn))})}))}).next(()=>m)}return Ye.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:wD(pr.create(t.filters,"and")).map(i=>Ax(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,r,o,u,m){const v=(null!=e?e.length:1)*Math.max(i.length,o.length),x=v/(null!=e?e.length:1),O=[];for(let L=0;L<v;++L){const q=e?this.dn(e[L/x]):Bv,ne=this.wn(t,q,i[L%x],r),ae=this._n(t,q,o[L%x],u),ye=m.map(We=>this.wn(t,q,We,!0));O.push(...this.createRange(ne,ae,ye))}return O}wn(t,e,i,r){const o=new kf(t,qt.empty(),e,i);return r?o:o.Je()}_n(t,e,i,r){const o=new kf(t,qt.empty(),e,i);return r?o.Je():o}an(t,e){const i=new jk(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let u=null;for(const m of o)i.tn(m)&&(!u||m.fields.length>u.fields.length)&&(u=m);return u})}getIndexType(t,e){let i=2;const r=this.cn(e);return Ye.forEach(r,o=>this.an(t,o).next(u=>{u?0!==i&&u.fields.length<function(m){let v=new Hr(qo.comparator),x=!1;for(const O of m.filters)for(const L of O.getFlattenedFilters())L.field.isKeyField()||("array-contains"===L.op||"array-contains-any"===L.op?x=!0:v=v.add(L.field));for(const O of m.orderBy)O.field.isKeyField()||(v=v.add(O.field));return v.size+(x?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}mn(t,e){const i=new yg;for(const r of Lp(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const u=i.He(r.kind);Pf.Ve._e(o,u)}return i.Qe()}dn(t){const e=new yg;return Pf.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new yg;return Pf.Ve._e($u(this.databaseId,e),i.He(function(r){const o=Lp(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let r=[];r.push(new yg);let o=0;for(const u of Lp(t)){const m=i[o++];for(const v of r)if(this.yn(e,u.fieldPath)&&og(m))r=this.pn(r,u,m);else{const x=v.He(u.kind);Pf.Ve._e(m,x)}}return this.In(r)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const r=[...t],o=[];for(const u of i.arrayValue.values||[])for(const m of r){const v=new yg;v.seed(m.Qe()),Pf.Ve._e(u,v.He(e.kind)),o.push(v)}return o}yn(t,e){return!!t.filters.find(i=>i instanceof Ni&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=Qp(t),r=zv(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(o=>{const u=[];return Ye.forEach(o,m=>r.get([m.indexId,this.uid]).next(v=>{u.push(function(x,O){const L=O?new vv(O.sequenceNumber,new Sl(Yp(O.readTime),new qt(kd(O.documentKey)),O.largestBatchId)):vv.empty(),q=x.fields.map(([ne,ae])=>new $b(qo.fromServerFormat(ne),ae));return new Hb(x.indexId,x.collectionGroup,q,L)}(m,v))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Yn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=Qp(t),o=zv(t);return this.Tn(t).next(u=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(m=>Ye.forEach(m,v=>o.put(gD(v.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return Ye.forEach(e,(r,o)=>{const u=i.get(r.collectionGroup);return(u?Ye.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(m=>(i.set(r.collectionGroup,m),Ye.forEach(m,v=>this.En(t,r,v).next(x=>{const O=this.An(o,v);return x.isEqual(O)?Ye.resolve():this.vn(t,o,v,x,O)}))))})}Rn(t,e,i,r){return jv(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,r){return jv(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const r=jv(t);let o=new Hr(Ph);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(u,m)=>{o=o.add(new kf(i.indexId,e,m.arrayValue,m.directionalValue))}).next(()=>o)}An(t,e){let i=new Hr(Ph);const r=this.mn(e,t);if(null==r)return i;const o=ux(e);if(null!=o){const u=t.data.field(o.fieldPath);if(og(u))for(const m of u.arrayValue.values||[])i=i.add(new kf(e.indexId,t.key,this.dn(m),r))}else i=i.add(new kf(e.indexId,t.key,Bv,r));return i}vn(t,e,i,r,o){Mt("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(m,v,x,O,L){const q=m.getIterator(),ne=v.getIterator();let ae=Up(q),ye=Up(ne);for(;ae||ye;){let We=!1,wt=!1;if(ae&&ye){const At=x(ae,ye);At<0?wt=!0:At>0&&(We=!0)}else null!=ae?wt=!0:We=!0;We?(O(ye),ye=Up(ne)):wt?(L(ae),ae=Up(q)):(ae=Up(q),ye=Up(ne))}}(r,o,Ph,m=>{u.push(this.Rn(t,e,i,m))},m=>{u.push(this.Pn(t,e,i,m))}),Ye.waitFor(u)}Tn(t){let e=1;return zv(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,m)=>Ph(u,m)).filter((u,m,v)=>!m||0!==Ph(u,v[m-1]));const r=[];r.push(t);for(const u of i){const m=Ph(u,t),v=Ph(u,e);if(0===m)r[0]=t.Je();else if(m>0&&v<0)r.push(u),r.push(u.Je());else if(v>0)break}r.push(e);const o=[];for(let u=0;u<r.length;u+=2){if(this.bn(r[u],r[u+1]))return[];o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,Bv,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,Bv,[]]))}return o}bn(t,e){return Ph(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(qk)}getMinOffset(t,e){return Ye.mapArray(this.cn(e),i=>this.an(t,i).next(r=>r||ln())).next(qk)}}function aE(n){return Ps(n,"collectionParents")}function jv(n){return Ps(n,"indexEntries")}function Qp(n){return Ps(n,"indexConfiguration")}function zv(n){return Ps(n,"indexState")}function qk(n){wn(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;dx(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Sl(t.readTime,t.documentKey,e)}const Gk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qa{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new qa(t,qa.DEFAULT_COLLECTION_PERCENTILE,qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function cE(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(e.batchId);let m=0;const v=i.X({range:u},(O,L,q)=>(m++,q.delete()));o.push(v.next(()=>{wn(1===m)}));const x=[];for(const O of e.mutations){const L=mS(t,O.key.path,e.batchId);o.push(r.delete(L)),x.push(O.key)}return Ye.waitFor(o).next(()=>x)}function g0(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ln();t=n.noDocument}return JSON.stringify(t).length}qa.DEFAULT_COLLECTION_PERCENTILE=10,qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qa.DEFAULT=new qa(41943040,qa.DEFAULT_COLLECTION_PERCENTILE,qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qa.DISABLED=new qa(-1,0,0);class _0{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(t,e,i,r){wn(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new _0(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jp(t).X({index:"userMutationsIndex",range:i},(r,o,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=bg(t),u=Jp(t);return u.add({}).next(m=>{wn("number"==typeof m);const v=new mg(m,e,i,r),x=function(q,ne,ae){const ye=ae.baseMutations.map(wt=>Wp(q.fe,wt)),We=ae.mutations.map(wt=>Wp(q.fe,wt));return{userId:ne,batchId:ae.batchId,localWriteTimeMs:ae.localWriteTime.toMillis(),baseMutations:ye,mutations:We}}(this.serializer,this.userId,v),O=[];let L=new Hr((q,ne)=>Yn(q.canonicalString(),ne.canonicalString()));for(const q of r){const ne=mS(this.userId,q.key.path,m);L=L.add(q.key.path.popLast()),O.push(u.put(x)),O.push(o.put(ne,Wb))}return L.forEach(q=>{O.push(this.indexManager.addToCollectionParentIndex(t,q))}),t.addOnCommittedListener(()=>{this.Vn[m]=v.keys()}),Ye.waitFor(O).next(()=>v)})}lookupMutationBatch(t,e){return Jp(t).get(e).next(i=>i?(wn(i.userId===this.userId),Af(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?Ye.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Vn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Jp(t).X({index:"userMutationsIndex",range:r},(u,m,v)=>{m.userId===this.userId&&(wn(m.batchId>=i),o=Af(this.serializer,m)),v.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Jp(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jp(t).j("userMutationsIndex",e).next(i=>i.map(r=>Af(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Sh(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return bg(t).X({range:r},(u,m,v)=>{const[x,O,L]=u,q=kd(O);if(x===this.userId&&e.path.isEqual(q))return Jp(t).get(L).next(ne=>{if(!ne)throw ln();wn(ne.userId===this.userId),o.push(Af(this.serializer,ne))});v.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Hr(Yn);const r=[];return e.forEach(o=>{const u=Sh(this.userId,o.path),m=IDBKeyRange.lowerBound(u),v=bg(t).X({range:m},(x,O,L)=>{const[q,ne,ae]=x,ye=kd(ne);q===this.userId&&o.path.isEqual(ye)?i=i.add(ae):L.done()});r.push(v)}),Ye.waitFor(r).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=Sh(this.userId,i),u=IDBKeyRange.lowerBound(o);let m=new Hr(Yn);return bg(t).X({range:u},(v,x,O)=>{const[L,q,ne]=v,ae=kd(q);L===this.userId&&i.isPrefixOf(ae)?ae.length===r&&(m=m.add(ne)):O.done()}).next(()=>this.Dn(t,m))}Dn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Jp(t).get(o).next(u=>{if(null===u)throw ln();wn(u.userId===this.userId),i.push(Af(this.serializer,u))}))}),Ye.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return cE(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),Ye.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ye.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return bg(t).X({range:i},(o,u,m)=>{if(o[0]===this.userId){const v=kd(o[1]);r.push(v)}else m.done()}).next(()=>{wn(0===r.length)})})}containsKey(t,e){return TD(t,this.userId,e)}xn(t){return wg(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function TD(n,t,e){const i=Sh(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return bg(n).X({range:o,Y:!0},(m,v,x)=>{const[O,L,q]=m;O===t&&L===r&&(u=!0),x.done()}).next(()=>u)}function Jp(n){return Ps(n,"mutations")}function bg(n){return Ps(n,"documentMutations")}function wg(n){return Ps(n,"mutationQueues")}class Vd{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new Vd(0)}static Mn(){return new Vd(-1)}}class Wk{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new Vd(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>Mn.fromTimestamp(new ho(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Cg(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(wn(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return Cg(t).X((u,m)=>{const v=Kp(m);v.sequenceNumber<=e&&null===i.get(v.targetId)&&(r++,o.push(this.removeTargetData(t,v)))}).next(()=>Ye.waitFor(o)).next(()=>r)}forEachTarget(t,e){return Cg(t).X((i,r)=>{const o=Kp(r);e(o)})}$n(t){return SD(t).get("targetGlobalKey").next(e=>(wn(null!==e),e))}On(t,e){return SD(t).put("targetGlobalKey",e)}Fn(t,e){return Cg(t).put(Lk(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Oh(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Cg(t).X({range:r,index:"queryTargetsIndex"},(u,m,v)=>{const x=Kp(m);Iv(e,x.target)&&(o=x,v.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=Rf(t);return e.forEach(u=>{const m=yc(u.path);r.push(o.put({targetId:i,path:m})),r.push(this.referenceDelegate.addReference(t,i,u))}),Ye.waitFor(r)}removeMatchingKeys(t,e,i){const r=Rf(t);return Ye.forEach(e,o=>{const u=yc(o.path);return Ye.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Rf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Rf(t);let o=li();return r.X({range:i,Y:!0},(u,m,v)=>{const x=kd(u[1]),O=new qt(x);o=o.add(O)}).next(()=>o)}containsKey(t,e){const i=yc(e.path),r=IDBKeyRange.bound([i],[lx(i)],!1,!0);let o=0;return Rf(t).X({index:"documentTargetsIndex",Y:!0,range:r},([u,m],v,x)=>{0!==u&&(o++,x.done())}).next(()=>o>0)}le(t,e){return Cg(t).get(e).next(i=>i?Kp(i):null)}}function Cg(n){return Ps(n,"targets")}function SD(n){return Ps(n,"targetGlobal")}function Rf(n){return Ps(n,"targetDocuments")}function DD([n,t],[e,i]){const r=Yn(n,e);return 0===r?Yn(t,i):r}class Zk{constructor(t){this.Ln=t,this.buffer=new Hr(DD),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();DD(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class v0{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;Mt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,dt.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Pd(i)?Mt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Th(i)}yield e.Qn(3e5)}))}}class Yk{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Ye.resolve(vc.ct);const i=new Zk(e);return this.jn.forEachTarget(t,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(t,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Mt("LruGarbageCollector","Garbage collection skipped; disabled"),Ye.resolve(Gk)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gk):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,r,o,u,m,v,x;const O=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(L=>(L>this.params.maximumSequenceNumbersToCollect?(Mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),r=this.params.maximumSequenceNumbersToCollect):r=L,u=Date.now(),this.nthSequenceNumber(t,r))).next(L=>(i=L,m=Date.now(),this.removeTargets(t,i,e))).next(L=>(o=L,v=Date.now(),this.removeOrphanedDocuments(t,i))).next(L=>(x=Date.now(),ox()<=Ru.in.DEBUG&&Mt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-O}ms\n\tDetermined least recently used ${r} in `+(m-u)+`ms\n\tRemoved ${o} targets in `+(v-m)+`ms\n\tRemoved ${L} documents in `+(x-v)+`ms\nTotal Duration: ${x-O}ms`),Ye.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:L})))}}class Kk{constructor(t,e){this.db=t,this.garbageCollector=function OD(n,t){return new Yk(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,r)=>e(r))}addReference(t,e,i){return y0(t,i)}removeReference(t,e,i){return y0(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return y0(t,e)}Xn(t,e){return function(i,r){let o=!1;return wg(i).Z(u=>TD(i,u,r).next(m=>(m&&(o=!0),Ye.resolve(!m)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(t,(u,m)=>{if(m<=e){const v=this.Xn(t,u).next(x=>{if(!x)return o++,i.getEntry(t,u).next(()=>(i.removeEntry(u,Mn.min()),Rf(t).delete([0,yc(u.path)])))});r.push(v)}}).next(()=>Ye.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return y0(t,e)}Yn(t,e){const i=Rf(t);let r,o=vc.ct;return i.X({index:"documentTargetsIndex"},([u,m],{path:v,sequenceNumber:x})=>{0===u?(o!==vc.ct&&e(new qt(kd(r)),o),o=x,r=v):o=vc.ct}).next(()=>{o!==vc.ct&&e(new qt(kd(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function y0(n,t){return Rf(n).put((i=n.currentSequenceNumber,{targetId:0,path:yc(t.path),sequenceNumber:i}));var i}class AD{constructor(){this.changes=new Mf(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ro.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Ye.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Qk{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Nf(t).put(i)}removeEntry(t,e,i){return Nf(t).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Vv(o),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=ro.newInvalidDocument(e);return Nf(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Xp(e))},(r,o)=>{i=this.ts(e,o)}).next(()=>i)}es(t,e){let i={size:0,document:ro.newInvalidDocument(e)};return Nf(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Xp(e))},(r,o)=>{i={document:this.ts(e,o),size:g0(o)}}).next(()=>i)}getEntries(t,e){let i=el();return this.ns(t,e,(r,o)=>{const u=this.ts(r,o);i=i.insert(r,u)}).next(()=>i)}ss(t,e){let i=el(),r=new zr(qt.comparator);return this.ns(t,e,(o,u)=>{const m=this.ts(o,u);i=i.insert(o,m),r=r.insert(o,g0(u))}).next(()=>({documents:i,rs:r}))}ns(t,e,i){if(e.isEmpty())return Ye.resolve();let r=new Hr(ND);e.forEach(v=>r=r.add(v));const o=IDBKeyRange.bound(Xp(r.first()),Xp(r.last())),u=r.getIterator();let m=u.getNext();return Nf(t).X({index:"documentKeyIndex",range:o},(v,x,O)=>{const L=qt.fromSegments([...x.prefixPath,x.collectionGroup,x.documentId]);for(;m&&ND(m,L)<0;)i(m,null),m=u.getNext();m&&m.isEqual(L)&&(i(m,x),m=u.hasNext()?u.getNext():null),m?O.G(Xp(m)):O.done()}).next(()=>{for(;m;)i(m,null),m=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const o=e.path,u=[o.popLast().toArray(),o.lastSegment(),Vv(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],m=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Nf(t).j(IDBKeyRange.bound(u,m,!0)).next(v=>{let x=el();for(const O of v){const L=this.ts(qt.fromSegments(O.prefixPath.concat(O.collectionGroup,O.documentId)),O);L.isFoundDocument()&&(Dv(e,L)||r.has(L.key))&&(x=x.insert(L.key,L))}return x})}getAllFromCollectionGroup(t,e,i,r){let o=el();const u=RD(e,i),m=RD(e,Sl.max());return Nf(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,m,!0)},(v,x,O)=>{const L=this.ts(qt.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);o=o.insert(L.key,L),o.size===r&&O.done()}).next(()=>o)}newChangeBuffer(t){return new Jk(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return kD(t).get("remoteDocumentGlobalKey").next(e=>(wn(!!e),e))}Zn(t,e){return kD(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function hD(n,t){let e;if(t.document)e=Ak(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=qt.fromSegments(t.noDocument.path),r=Yp(t.noDocument.readTime);e=ro.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ln();{const i=qt.fromSegments(t.unknownDocument.path),r=Yp(t.unknownDocument.version);e=ro.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new ho(i[0],i[1]);return Mn.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(Mn.min()))return i}return ro.newInvalidDocument(t)}}function PD(n){return new Qk(n)}class Jk extends AD{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new Mf(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Hr((o,u)=>Yn(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const m=this.us.get(o);if(e.push(this.os.removeEntry(t,o,m.readTime)),u.isValidDocument()){const v=fD(this.os.serializer,u);r=r.add(o.path.popLast());const x=g0(v);i+=x-m.size,e.push(this.os.addEntry(t,o,v))}else if(i-=m.size,this.trackRemovals){const v=fD(this.os.serializer,u.convertToNoDocument(Mn.min()));e.push(this.os.addEntry(t,o,v))}}),r.forEach(o=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.os.updateMetadata(t,i)),Ye.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:r})=>(r.forEach((o,u)=>{this.us.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function kD(n){return Ps(n,"remoteDocumentGlobal")}function Nf(n){return Ps(n,"remoteDocumentsV14")}function Xp(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function RD(n,t){const e=t.documentKey.path.toArray();return[n,Vv(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function ND(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Yn(e[o],i[o]),r)return r;return r=Yn(e.length,i.length),r||(r=Yn(e[e.length-2],i[i.length-2]),r||Yn(e[e.length-1],i[i.length-1]))}class FD{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class lE{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&Av(i.mutation,r,Xc.empty(),ho.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,li()).next(()=>i))}getLocalViewOfDocuments(t,e,i=li()){const r=Ld();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let u=s0();return o.forEach((m,v)=>{u=u.insert(m,v.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=Ld();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,li()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((u,m)=>{e.set(u,m)})})}computeViews(t,e,i,r){let o=el();const u=ug(),m=ug();return e.forEach((v,x)=>{const O=i.get(x.key);r.has(x.key)&&(void 0===O||O.mutation instanceof Ah)?o=o.insert(x.key,x):void 0!==O?(u.set(x.key,O.mutation.getFieldMask()),Av(O.mutation,x,O.mutation.getFieldMask(),ho.now())):u.set(x.key,Xc.empty())}),this.recalculateAndSaveOverlays(t,o).next(v=>(v.forEach((x,O)=>u.set(x,O)),e.forEach((x,O)=>{var L;return m.set(x,new FD(O,null!==(L=u.get(x))&&void 0!==L?L:null))}),m))}recalculateAndSaveOverlays(t,e){const i=ug();let r=new zr((u,m)=>u-m),o=li();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const m of u)m.keys().forEach(v=>{const x=e.get(v);if(null===x)return;let O=i.get(v)||Xc.empty();O=m.applyToLocalView(x,O),i.set(v,O);const L=(r.get(m.batchId)||li()).add(v);r=r.insert(m.batchId,L)})}).next(()=>{const u=[],m=r.getReverseIterator();for(;m.hasNext();){const v=m.getNext(),x=v.key,O=v.value,L=Fx();O.forEach(q=>{if(!o.has(q)){const ne=KS(e.get(q),i.get(q));null!==ne&&L.set(q,ne),o=o.add(q)}}),u.push(this.documentOverlayCache.saveOverlays(t,x,L))}return Ye.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return qt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):kx(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):Ye.resolve(Ld());let m=-1,v=o;return u.next(x=>Ye.forEach(x,(O,L)=>(m<L.largestBatchId&&(m=L.largestBatchId),o.get(O)?Ye.resolve():this.remoteDocumentCache.getEntry(t,O).next(q=>{v=v.insert(O,q)}))).next(()=>this.populateOverlays(t,x,o)).next(()=>this.computeViews(t,v,x,li())).next(O=>({batchId:m,changes:HS(O)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new qt(e)).next(i=>{let r=s0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=s0();return this.indexManager.getCollectionParents(t,r).next(u=>Ye.forEach(u,m=>{const v=(x=e,O=m.child(r),new xf(O,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt));var x,O;return this.getDocumentsMatchingCollectionQuery(t,v,i).next(x=>{x.forEach((O,L)=>{o=o.insert(O,L)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(o=>{r.forEach((m,v)=>{const x=v.getKey();null===o.get(x)&&(o=o.insert(x,ro.newInvalidDocument(x)))});let u=s0();return o.forEach((m,v)=>{const x=r.get(m);void 0!==x&&Av(x.mutation,v,Xc.empty(),ho.now()),Dv(e,v)&&(u=u.insert(m,v))}),u})}}class lU{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return Ye.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:rs(i.createTime)}),Ye.resolve()}getNamedQuery(t,e){return Ye.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:nE(i.bundledQuery),readTime:rs(i.readTime)}),Ye.resolve();var i}}class tl{constructor(){this.overlays=new zr(qt.comparator),this.ls=new Map}getOverlay(t,e){return Ye.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ld();return Ye.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.we(t,e,o)}),Ye.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),Ye.resolve()}getOverlaysForCollection(t,e,i){const r=Ld(),o=e.length+1,u=new qt(e.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const v=m.getNext().value,x=v.getKey();if(!e.isPrefixOf(x.path))break;x.path.length===o&&v.largestBatchId>i&&r.set(v.getKey(),v)}return Ye.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new zr((x,O)=>x-O);const u=this.overlays.getIterator();for(;u.hasNext();){const x=u.getNext().value;if(x.getKey().getCollectionGroup()===e&&x.largestBatchId>i){let O=o.get(x.largestBatchId);null===O&&(O=Ld(),o=o.insert(x.largestBatchId,O)),O.set(x.getKey(),x)}}const m=Ld(),v=o.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((x,O)=>m.set(x,O)),!(m.size()>=r)););return Ye.resolve(m)}we(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new $x(e,i));let o=this.ls.get(e);void 0===o&&(o=li(),this.ls.set(e,o)),this.ls.set(e,o.add(i.key))}}class b0{constructor(){this.fs=new Hr(Rs.ds),this.ws=new Hr(Rs._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new Rs(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new Rs(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new qt(new $i([])),i=new Rs(e,t),r=new Rs(e,t+1),o=[];return this.ws.forEachInRange([i,r],u=>{this.ys(u),o.push(u.key)}),o}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new qt(new $i([])),i=new Rs(e,t),r=new Rs(e,t+1);let o=li();return this.ws.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new Rs(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Rs{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return qt.comparator(t.key,e.key)||Yn(t.As,e.As)}static _s(t,e){return Yn(t.As,e.As)||qt.comparator(t.key,e.key)}}class Xk{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new Hr(Rs.ds)}checkEmpty(t){return Ye.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.vs;this.vs++;const u=new mg(o,e,i,r);this.mutationQueue.push(u);for(const m of r)this.Rs=this.Rs.add(new Rs(m.key,o)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Ye.resolve(u)}lookupMutationBatch(t,e){return Ye.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.bs(e+1),o=r<0?0:r;return Ye.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ye.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return Ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Rs(e,0),r=new Rs(e,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],u=>{const m=this.Ps(u.As);o.push(m)}),Ye.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Hr(Yn);return e.forEach(r=>{const o=new Rs(r,0),u=new Rs(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,u],m=>{i=i.add(m.As)})}),Ye.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;qt.isDocumentKey(o)||(o=o.child(""));const u=new Rs(new qt(o),0);let m=new Hr(Yn);return this.Rs.forEachWhile(v=>{const x=v.key.path;return!!i.isPrefixOf(x)&&(x.length===r&&(m=m.add(v.As)),!0)},u),Ye.resolve(this.Vs(m))}Vs(t){const e=[];return t.forEach(i=>{const r=this.Ps(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){wn(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return Ye.forEach(e.mutations,r=>{const o=new Rs(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new Rs(e,0),r=this.Rs.firstAfterOrEqual(i);return Ye.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Ye.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class LD{constructor(t){this.Ds=t,this.docs=new zr(qt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,u=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Ye.resolve(i?i.document.mutableCopy():ro.newInvalidDocument(e))}getEntries(t,e){let i=el();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():ro.newInvalidDocument(r))}),Ye.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=el();const u=e.path,m=new qt(u.child("")),v=this.docs.getIteratorFrom(m);for(;v.hasNext();){const{key:x,value:{document:O}}=v.getNext();if(!u.isPrefixOf(x.path))break;x.path.length>u.length+1||dx(lS(O),i)<=0||(r.has(O.key)||Dv(e,O))&&(o=o.insert(O.key,O.mutableCopy()))}return Ye.resolve(o)}getAllFromCollectionGroup(t,e,i,r){ln()}Cs(t,e){return Ye.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new eR(this)}getSize(t){return Ye.resolve(this.size)}}class eR extends AD{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(i)}),Ye.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class uE{constructor(t){this.persistence=t,this.xs=new Mf(e=>Oh(e),Iv),this.lastRemoteSnapshotVersion=Mn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new b0,this.targetCount=0,this.Ms=Vd.kn()}forEachTarget(t,e){return this.xs.forEach((i,r)=>e(r)),Ye.resolve()}getLastRemoteSnapshotVersion(t){return Ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ye.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),Ye.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),Ye.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new Vd(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,Ye.resolve()}updateTargetData(t,e){return this.Fn(e),Ye.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,Ye.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.xs.forEach((u,m)=>{m.sequenceNumber<=e&&null===i.get(m.targetId)&&(this.xs.delete(u),o.push(this.removeMatchingKeysForTargetId(t,m.targetId)),r++)}),Ye.waitFor(o).next(()=>r)}getTargetCount(t){return Ye.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return Ye.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),Ye.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),Ye.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),Ye.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return Ye.resolve(i)}containsKey(t,e){return Ye.resolve(this.ks.containsKey(e))}}class Bd{constructor(t,e){this.$s={},this.overlays={},this.Os=new vc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new uE(this),this.indexManager=new cU,this.remoteDocumentCache=new LD(i=>this.referenceDelegate.Ls(i)),this.serializer=new Fk(e),this.qs=new lU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new tl,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new Xk(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){Mt("MemoryPersistence","Starting transaction:",t);const r=new UD(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(t,e){return Ye.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class UD extends fx{constructor(t){super(),this.currentSequenceNumber=t}}class xg{constructor(t){this.persistence=t,this.Qs=new b0,this.js=null}static zs(t){return new xg(t)}get Ws(){if(this.js)return this.js;throw ln()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),Ye.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),Ye.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),Ye.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ye.forEach(this.Ws,i=>{const r=qt.fromPath(i);return this.Hs(t,r).next(o=>{o||e.removeEntry(r,Mn.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return Ye.or([()=>Ye.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class tR{constructor(t){this.serializer=t}O(t,e,i,r){const o=new yv("createOrUpgrade",e);var m;i<1&&r>=1&&(t.createObjectStore("owner"),(m=t).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pS,{unique:!0}),m.createObjectStore("documentMutations"),nR(t),function(m){m.createObjectStore("remoteDocuments")}(t));let u=Ye.resolve();return i<3&&r>=3&&(0!==i&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(t),nR(t)),u=u.next(()=>function(m){const v=m.store("targetGlobal"),x={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mn.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",x)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(m,v){return v.store("mutations").j().next(x=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pS,{unique:!0});const O=v.store("mutations"),L=x.map(q=>O.put(q));return Ye.waitFor(L)})}(t,o))),u=u.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Ys(o))),i<6&&r>=6&&(u=u.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(o)))),i<7&&r>=7&&(u=u.next(()=>this.Zs(o))),i<8&&r>=8&&(u=u.next(()=>this.ti(t,o))),i<9&&r>=9&&(u=u.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.ei(o))),i<11&&r>=11&&(u=u.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(m){const v=m.createObjectStore("documentOverlays",{keyPath:hk});v.createIndex("collectionPathOverlayIndex",fk,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",bv,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(m){const v=m.createObjectStore("remoteDocumentsV14",{keyPath:Zb});v.createIndex("documentKeyIndex",Jc),v.createIndex("collectionGroupIndex",nU)}(t)).next(()=>this.ni(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.si(t,o))),i<15&&r>=15&&(u=u.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:yS}).createIndex("sequenceNumberIndex",bS,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:wS}).createIndex("documentKeyIndex",dk,{unique:!1})}(t))),u}Xs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=g0(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>Ye.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",u).next(m=>Ye.forEach(m,v=>{wn(v.userId===o.userId);const x=Af(this.serializer,v);return cE(t,o.userId,x).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((u,m)=>{const v=new $i(u),x=[0,yc(v)];o.push(e.get(x).next(O=>O?Ye.resolve():e.put({targetId:0,path:yc(v),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ye.waitFor(o))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:vS});const i=e.store("collectionParents"),r=new MD,o=u=>{if(r.add(u)){const m=u.lastSegment(),v=u.popLast();return i.put({collectionId:m,parent:yc(v)})}};return e.store("remoteDocuments").X({Y:!0},(u,m)=>{const v=new $i(u);return o(v.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([u,m,v],x)=>{const O=kd(m);return o(O.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,r)=>{const o=Kp(r),u=Lk(this.serializer,o);return e.put(u)})}ni(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((o,u)=>{const m=e.store("remoteDocumentsV14"),v=(x=u,x.document?new qt($i.fromString(x.document.name).popFirst(5)):x.noDocument?qt.fromSegments(x.noDocument.path):x.unknownDocument?qt.fromSegments(x.unknownDocument.path):ln()).path.toArray();var x;const O={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(m.put(O))}).next(()=>Ye.waitFor(r))}si(t,e){const i=e.store("mutations"),r=PD(this.serializer),o=new Bd(xg.zs,this.serializer.fe);return i.j().next(u=>{const m=new Map;return u.forEach(v=>{var x;let O=null!==(x=m.get(v.userId))&&void 0!==x?x:li();Af(this.serializer,v).keys().forEach(L=>O=O.add(L)),m.set(v.userId,O)}),Ye.forEach(m,(v,x)=>{const O=new As(x),L=m0.de(this.serializer,O),q=o.getIndexManager(O),ne=_0.de(O,this.serializer,q,o.referenceDelegate);return new lE(r,ne,L,q).recalculateAndSaveOverlaysForDocumentKeys(new Yb(e,vc.ct),v).next()})})}}function nR(n){n.createObjectStore("targetDocuments",{keyPath:_S}).createIndex("documentTargetsIndex",uk,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",gS,{unique:!0}),n.createObjectStore("targetGlobal")}const w0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class dE{constructor(t,e,i,r,o,u,m,v,x,O,L=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=o,this.window=u,this.document=m,this.ri=x,this.oi=O,this.ui=L,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=q=>Promise.resolve(),!dE.D())throw new vt(tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kk(this,r),this.di=e+"main",this.serializer=new Fk(v),this.wi=new lu(this.di,this.ui,new tR(this.serializer)),this.Bs=new Wk(this.referenceDelegate,this.serializer),this.remoteDocumentCache=PD(this.serializer),this.qs=new Uk,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===O&&io("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new vt(tt.FAILED_PRECONDITION,w0);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new vc(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,dt.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,dt.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,dt.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>C0(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(Pd(t))return Mt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Mt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return Hv(t).get("owner").next(e=>Ye.resolve(this.Ri(e)))}Pi(t){return C0(t).delete(this.clientId)}bi(){var t=this;return(0,dt.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ps(i,"clientMetadata");return r.j().next(o=>{const u=t.Si(o,18e5),m=o.filter(v=>-1===u.indexOf(v));return Ye.forEach(m,v=>r.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?Ye.resolve(!0):Hv(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new vt(tt.FAILED_PRECONDITION,w0);return!1}}return!(!this.networkEnabled||!this.inForeground)||C0(t).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Mt("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,dt.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new Yb(e,vc.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>C0(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return _0.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new sE(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return m0.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){Mt("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(u=this.ui)?ES:14===u?wv:13===u?xS:12===u?pk:11===u?CS:void ln();var u;let m;return this.wi.runTransaction(t,r,o,v=>(m=new Yb(v,this.Os?this.Os.next():vc.ct),"readwrite-primary"===e?this.Ti(m).next(x=>!!x||this.Ei(m)).next(x=>{if(!x)throw io(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new vt(tt.FAILED_PRECONDITION,hx);return i(m)}).next(x=>this.vi(m).next(()=>x)):this.Oi(m).next(()=>i(m)))).then(v=>(m.raiseOnCommittedEvent(),v))}Oi(t){return Hv(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new vt(tt.FAILED_PRECONDITION,w0)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hv(t).put("owner",e)}static D(){return lu.D()}Ai(t){const e=Hv(t);return e.get("owner").next(i=>this.Ri(i)?(Mt("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Ye.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(io(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,ie.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return Mt("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return io("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){io("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Hv(n){return Ps(n,"owner")}function C0(n){return Ps(n,"clientMetadata")}function hE(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class x0{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=r}static Li(t,e){let i=li(),r=li();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new x0(t,e.fromCache,i,r)}}class iR{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ki(t,e).next(o=>o||this.Gi(t,e,r,i)).next(o=>o||this.Qi(t,e))}Ki(t,e){if(LS(e))return Ye.resolve(null);let i=Ea(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Sv(e,null,"F"),i=Ea(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const u=li(...o);return this.Ui.getDocuments(t,u).next(m=>this.indexManager.getMinOffset(t,i).next(v=>{const x=this.ji(e,m);return this.zi(e,x,u,v.readTime)?this.Ki(t,Sv(e,null,"F")):this.Wi(t,x,e,v)}))})))}Gi(t,e,i,r){return LS(e)||r.isEqual(Mn.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(o=>{const u=this.ji(e,o);return this.zi(e,u,i,r)?this.Qi(t,e):(ox()<=Ru.in.DEBUG&&Mt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Nx(e)),this.Wi(t,u,e,cS(r,-1)))})}ji(t,e){let i=new Hr(VS(t));return e.forEach((r,o)=>{Dv(t,o)&&(i=i.add(o))}),i}zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(t,e){return ox()<=Ru.in.DEBUG&&Mt("QueryEngine","Using full collection scan to execute query:",Nx(e)),this.Ui.getDocumentsMatchingQuery(t,e,Sl.min())}Wi(t,e,i,r){return this.Ui.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}class VD{constructor(t,e,i,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new zr(Yn),this.Yi=new Mf(o=>Oh(o),Iv),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lE(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function BD(n,t,e,i){return new VD(n,t,e,i)}function fE(n,t){return jD.apply(this,arguments)}function jD(){return jD=(0,dt.Z)(function*(n,t){const e=Gt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],m=[];let v=li();for(const x of r){u.push(x.batchId);for(const O of x.mutations)v=v.add(O.key)}for(const x of o){m.push(x.batchId);for(const O of x.mutations)v=v.add(O.key)}return e.localDocuments.getDocuments(i,v).next(x=>({er:x,removedBatchIds:u,addedBatchIds:m}))})})}),jD.apply(this,arguments)}function mE(n){const t=Gt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function HD(n,t,e){let i=li(),r=li();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let u=el();return e.forEach((m,v)=>{const x=o.get(m);v.isFoundDocument()!==x.isFoundDocument()&&(r=r.add(m)),v.isNoDocument()&&v.version.isEqual(Mn.min())?(t.removeEntry(m,v.readTime),u=u.insert(m,v)):!x.isValidDocument()||v.version.compareTo(x.version)>0||0===v.version.compareTo(x.version)&&x.hasPendingWrites?(t.addEntry(v),u=u.insert(m,v)):Mt("LocalStore","Ignoring outdated watch update for ",m,". Current version:",x.version," Watch version:",v.version)}),{nr:u,sr:r}})}function $D(n,t){const e=Gt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function em(n,t){const e=Gt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Bs.getTargetData(i,t).next(o=>o?(r=o,Ye.resolve(r)):e.Bs.allocateTargetId(i).next(u=>(r=new Gu(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function Wu(n,t,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,dt.Z)(function*(n,t,e){const i=Gt(n),r=i.Ji.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Pd(u))throw u;Mt("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}),Ig.apply(this,arguments)}function $v(n,t,e){const i=Gt(n);let r=Mn.min(),o=li();return i.persistence.runTransaction("Execute query","readonly",u=>function(m,v,x){const O=Gt(m),L=O.Yi.get(x);return void 0!==L?Ye.resolve(O.Ji.get(L)):O.Bs.getTargetData(v,x)}(i,u,Ea(t)).next(m=>{if(m)return r=m.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(u,m.targetId).next(v=>{o=v})}).next(()=>i.Hi.getDocumentsMatchingQuery(u,t,e?r:Mn.min(),e?o:li())).next(m=>(GD(i,US(t),m),{documents:m,ir:o})))}function gE(n,t){const e=Gt(n),i=Gt(e.Bs),r=e.Ji.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.le(o,t).next(u=>u?u.target:null))}function qD(n,t){const e=Gt(n),i=e.Xi.get(t)||Mn.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Zi.getAllFromCollectionGroup(r,t,cS(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(GD(e,t,r),r))}function GD(n,t,e){let i=n.Xi.get(t)||Mn.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(t,i)}function E0(){return E0=(0,dt.Z)(function*(n,t,e,i){const r=Gt(n);let o=li(),u=el();for(const x of e){const O=t.rr(x.metadata.name);x.document&&(o=o.add(O));const L=t.ur(x);L.setReadTime(t.cr(x.metadata.readTime)),u=u.insert(O,L)}const m=r.Zi.newChangeBuffer({trackRemovals:!0}),v=yield em(r,(x=i,Ea(Ef($i.fromString(`__bundle__/docs/${x}`)))));var x;return r.persistence.runTransaction("Apply bundle documents","readwrite",x=>HD(x,m,u).next(O=>(m.apply(x),O)).next(O=>r.Bs.removeMatchingKeysForTargetId(x,v.targetId).next(()=>r.Bs.addMatchingKeys(x,o,v.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(x,O.nr,O.sr)).next(()=>O.nr)))}),E0.apply(this,arguments)}function rR(n,t){return _E.apply(this,arguments)}function _E(){return _E=(0,dt.Z)(function*(n,t,e=li()){const i=yield em(n,Ea(nE(t.bundledQuery))),r=Gt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=rs(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.qs.saveNamedQuery(o,t);const m=i.withResumeToken(ks.EMPTY_BYTE_STRING,u);return r.Ji=r.Ji.insert(m.targetId,m),r.Bs.updateTargetData(o,m).next(()=>r.Bs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Bs.addMatchingKeys(o,e,i.targetId)).next(()=>r.qs.saveNamedQuery(o,t))})}),_E.apply(this,arguments)}function oR(n,t){return`firestore_clients_${n}_${t}`}function sR(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function WD(n,t){return`firestore_targets_${n}_${t}`}class qv{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static ar(t,e,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new vt(r.error.code,r.error.message))),u?new qv(t,e,r.state,o):(io("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Gv{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new vt(i.error.code,i.error.message))),o?new Gv(t,i.state,r):(io("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class I0{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=Lx();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=mx(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new I0(t,o):(io("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class vE{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new vE(e.clientId,e.onlineState):(io("SharedClientState",`Failed to parse online state: ${t}`),null)}}class ZD{constructor(){this.activeTargetIds=Lx()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class YD{constructor(t,e,i,r,o){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new zr(Yn),this.started=!1,this.yr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=oR(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new ZD),this.Tr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,dt.Z)(function*(){const e=yield t.syncEngine.$i();for(const r of e){if(r===t.wr)continue;const o=t.getItem(oR(t.persistenceKey,r));if(o){const u=I0.ar(r,o);u&&(t.gr=t.gr.insert(u.clientId,u))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const r=t.br(i);r&&t.Vr(r)}for(const r of t.yr)t.mr(r);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(WD(this.persistenceKey,t));if(i){const r=Gv.ar(t,i);r&&(e=r.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(WD(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Cr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Mt("SharedClientState","READ",t,e),e}setItem(t,e){Mt("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Mt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Mt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void io("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,dt.Z)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.Fr(r,null)}{const r=e.Br(i.key,i.newValue);if(r)return e.Fr(r.clientId,r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.Lr(i.key,i.newValue);if(r)return e.qr(r)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const r=e.Ur(i.key,i.newValue);if(r)return e.Kr(r)}}else if(i.key===e.vr){if(null!==i.newValue){const r=e.br(i.newValue);if(r)return e.Vr(r)}}else if(i.key===e.Ir){const r=function(o){let u=vc.ct;if(null!=o)try{const m=JSON.parse(o);wn("number"==typeof m),u=m}catch(m){io("SharedClientState","Failed to read sequence number from WebStorage",m)}return u}(i.newValue);r!==vc.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Gr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Qr(o)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const r=new qv(this.currentUser,t,e,i),o=sR(this.persistenceKey,this.currentUser,t);this.setItem(o,r.hr())}Cr(t){const e=sR(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const r=WD(this.persistenceKey,t),o=new Gv(t,e,i);this.setItem(r,o.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return I0.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return qv.ar(new As(void 0!==i[2]?i[2]:null),r,e)}Ur(t,e){const i=this.Ar.exec(t),r=Number(i[1]);return Gv.ar(r,e)}br(t){return vE.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,dt.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);Mt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),r=this.Sr(this.gr),o=this.Sr(i),u=[],m=[];return o.forEach(v=>{r.has(v)||u.push(v)}),r.forEach(v=>{o.has(v)||m.push(v)}),this.syncEngine.Wr(u,m).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=Lx();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class aR{constructor(){this.Hr=new ZD,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new ZD,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class dU{Yr(t){}shutdown(){}}class cR{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){Mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let M0=null;function Mg(){return null===M0?M0=268435456+Math.round(2147483648*Math.random()):M0++,"0x"+M0.toString(16)}const lR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uR{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const Ia="WebChannelConnection";class tm extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,r,o){const u=Mg(),m=this.To(t,e);Mt("RestConnection",`Sending RPC '${t}' ${u}:`,m,i);const v={};return this.Eo(v,r,o),this.Ao(t,m,v,i).then(x=>(Mt("RestConnection",`Received RPC '${t}' ${u}: `,x),x),x=>{throw cu("RestConnection",`RPC '${t}' ${u} failed with error: `,x,"url: ",m,"request:",i),x})}vo(t,e,i,r,o,u){return this.Io(t,e,i,r,o)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Xm,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}To(t,e){return`${this.mo}/v1/${e}:${lR[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,r){const o=Mg();return new Promise((u,m)=>{const v=new Ad;v.setWithCredentials(!0),v.listenOnce(nx.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case iS.NO_ERROR:const O=v.getResponseJson();Mt(Ia,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(O)),u(O);break;case iS.TIMEOUT:Mt(Ia,`RPC '${t}' ${o} timed out`),m(new vt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case iS.HTTP_ERROR:const L=v.getStatus();if(Mt(Ia,`RPC '${t}' ${o} failed with status:`,L,"response text:",v.getResponseText()),L>0){let q=v.getResponseJson();Array.isArray(q)&&(q=q[0]);const ne=q?.error;if(ne&&ne.status&&ne.message){const ae=function(ye){const We=ye.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(We)>=0?We:tt.UNKNOWN}(ne.status);m(new vt(ae,ne.message))}else m(new vt(tt.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new vt(tt.UNAVAILABLE,"Connection failed."));break;default:ln()}}finally{Mt(Ia,`RPC '${t}' ${o} completed.`)}});const x=JSON.stringify(r);Mt(Ia,`RPC '${t}' ${o} sending request:`,r),v.send(e,"POST",x,i,15)})}Ro(t,e,i){const r=Mg(),o=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=tk(),m=nS(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;void 0!==x&&(v.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(v.xmlHttpFactory=new nk({})),this.Eo(v.initMessageHeaders,e,i),v.encodeInitMessageHeaders=!0;const O=o.join("");Mt(Ia,`Creating RPC '${t}' stream ${r}: ${O}`,v);const L=u.createWebChannel(O,v);let q=!1,ne=!1;const ae=new uR({ro:We=>{ne?Mt(Ia,`Not sending because RPC '${t}' stream ${r} is closed:`,We):(q||(Mt(Ia,`Opening RPC '${t}' stream ${r} transport.`),L.open(),q=!0),Mt(Ia,`RPC '${t}' stream ${r} sending:`,We),L.send(We))},oo:()=>L.close()}),ye=(We,wt,At)=>{We.listen(wt,Ot=>{try{At(Ot)}catch(Lt){setTimeout(()=>{throw Lt},0)}})};return ye(L,gv.EventType.OPEN,()=>{ne||Mt(Ia,`RPC '${t}' stream ${r} transport opened.`)}),ye(L,gv.EventType.CLOSE,()=>{ne||(ne=!0,Mt(Ia,`RPC '${t}' stream ${r} transport closed`),ae.wo())}),ye(L,gv.EventType.ERROR,We=>{ne||(ne=!0,cu(Ia,`RPC '${t}' stream ${r} transport errored:`,We),ae.wo(new vt(tt.UNAVAILABLE,"The operation could not be completed")))}),ye(L,gv.EventType.MESSAGE,We=>{var wt;if(!ne){const At=We.data[0];wn(!!At);const Lt=At.error||(null===(wt=At[0])||void 0===wt?void 0:wt.error);if(Lt){Mt(Ia,`RPC '${t}' stream ${r} received error:`,Lt);const On=Lt.status;let Rn=function(Zo){const rl=_s[Zo];if(void 0!==rl)return XS(rl)}(On),ji=Lt.message;void 0===Rn&&(Rn=tt.INTERNAL,ji="Unknown error status: "+On+" with message "+Lt.message),ne=!0,ae.wo(new vt(Rn,ji)),L.close()}else Mt(Ia,`RPC '${t}' stream ${r} received:`,At),ae._o(At)}}),ye(m,ix.STAT_EVENT,We=>{We.stat===zu.PROXY?Mt(Ia,`RPC '${t}' stream ${r} detected buffering proxy`):We.stat===zu.NOPROXY&&Mt(Ia,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{ae.fo()},0),ae}}function yE(){return typeof window<"u"?window:null}function Tg(){return typeof document<"u"?document:null}function nm(n){return new Qx(n,!0)}class bE{constructor(t,e,i=1e3,r=1.5,o=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-i);r>0&&Mt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class T0{constructor(t,e,i,r,o,u,m,v){this.ii=t,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new bE(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,dt.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,dt.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,dt.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===tt.RESOURCE_EXHAUSTED?(io(e.toString()),io("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===tt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===e&&this.Zo(i,r)},i=>{t(()=>{const r=new vt(tt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var t=this;this.state=5,this.qo.No((0,dt.Z)(function*(){t.state=0,t.start()}))}tu(t){return Mt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(Mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wE extends T0{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.serializer=o}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function aD(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(v=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:ln(),r=t.targetChange.targetIds||[],o=function(v,x){return v.useProto3Json?(wn(void 0===x||"string"==typeof x),ks.fromBase64String(x||"")):(wn(void 0===x||x instanceof Uint8Array),ks.fromUint8Array(x||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,m=u&&function(v){const x=void 0===v.code?tt.UNKNOWN:XS(v.code);return new vt(x,v.message||"")}(u);e=new Yx(i,r,o,m||null)}else if("documentChange"in t){const i=t.documentChange,r=qu(n,i.document.name),o=rs(i.document.updateTime),u=i.document.createTime?rs(i.document.createTime):Mn.min(),m=new xa({mapValue:{fields:i.document.fields}}),v=ro.newFoundDocument(r,o,u,m);e=new _g(i.targetIds||[],i.removedTargetIds||[],v.key,v)}else if("documentDelete"in t){const i=t.documentDelete,r=qu(n,i.document),o=i.readTime?rs(i.readTime):Mn.min(),u=ro.newNoDocument(r,o);e=new _g([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=qu(n,i.document);e=new _g([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ln();{const i=t.filter,{count:r=0,unchangedNames:o}=i,u=new Sk(r,o);e=new u0(i.targetId,u)}}var v;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return Mn.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Mn.min():o.readTime?rs(o.readTime):Mn.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=Ud(this.serializer),e.addTarget=function(r,o){let u;const m=o.target;if(u=Mv(m)?{documents:Pk(r,m)}:{query:Zp(r,m)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=Jx(r,o.resumeToken);const v=h0(r,o.expectedCount);null!==v&&(u.expectedCount=v)}else if(o.snapshotVersion.compareTo(Mn.min())>0){u.readTime=Gp(r,o.snapshotVersion.toTimestamp());const v=h0(r,o.expectedCount);null!==v&&(u.expectedCount=v)}return u}(this.serializer,t);const i=function eE(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ln()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=Ud(this.serializer),e.removeTarget=t,this.Wo(e)}}class S0 extends T0{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(wn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function aU(n,t){return n&&n.length>0?(wn(void 0!==t),n.map(e=>function(i,r){let o=rs(i.updateTime?i.updateTime:r);return o.isEqual(Mn.min())&&(o=rs(r)),new Tk(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=rs(t.commitTime);return this.listener.cu(i,e)}return wn(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=Ud(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Wp(this.serializer,i))};this.Wo(e)}}class hU extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new vt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new vt(tt.UNKNOWN,r.toString())})}vo(t,e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.vo(t,e,i,o,u,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new vt(tt.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class QD{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(io(e),this.mu=!1):Mt("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class dR{constructor(t,e,i,r,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(m=>{i.enqueueAndForget((0,dt.Z)(function*(){var v;im(u)&&(Mt("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,dt.Z)(function*(x){const O=Gt(x);O.vu.add(4),yield Sg(O),O.bu.set("Unknown"),O.vu.delete(4),yield Wv(O)}),function(x){return v.apply(this,arguments)})(u))}))}),this.bu=new QD(i,r)}}function Wv(n){return CE.apply(this,arguments)}function CE(){return CE=(0,dt.Z)(function*(n){if(im(n))for(const t of n.Ru)yield t(!0)}),CE.apply(this,arguments)}function Sg(n){return D0.apply(this,arguments)}function D0(){return D0=(0,dt.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),D0.apply(this,arguments)}function Zv(n,t){const e=Gt(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),Yv(e)?O0(e):Qv(e).Ko()&&xE(e,t))}function Dg(n,t){const e=Gt(n),i=Qv(e);e.Au.delete(t),i.Ko()&&JD(e,t),0===e.Au.size&&(i.Ko()?i.jo():im(e)&&e.bu.set("Unknown"))}function xE(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Mn.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Qv(n).su(t)}function JD(n,t){n.Vu.qt(t),Qv(n).iu(t)}function O0(n){n.Vu=new Kx({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),Qv(n).start(),n.bu.gu()}function Yv(n){return im(n)&&!Qv(n).Uo()&&n.Au.size>0}function im(n){return 0===Gt(n).vu.size}function EE(n){n.Vu=void 0}function IE(n){return ME.apply(this,arguments)}function ME(){return ME=(0,dt.Z)(function*(n){n.Au.forEach((t,e)=>{xE(n,t)})}),ME.apply(this,arguments)}function hR(n,t){return XD.apply(this,arguments)}function XD(){return XD=(0,dt.Z)(function*(n,t){EE(n),Yv(n)?(n.bu.Iu(t),O0(n)):n.bu.set("Unknown")}),XD.apply(this,arguments)}function pU(n,t,e){return TE.apply(this,arguments)}function TE(){return TE=(0,dt.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof Yx&&2===t.state&&t.cause)try{yield(i=(0,dt.Z)(function*(r,o){const u=o.cause;for(const m of o.targetIds)r.Au.has(m)&&(yield r.remoteSyncer.rejectListen(m,u),r.Au.delete(m),r.Vu.removeTarget(m))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Mt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield A0(n,i)}else if(t instanceof _g?n.Vu.Ht(t):t instanceof u0?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(Mn.min()))try{const i=yield mE(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const u=r.Vu.ce(o);return u.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const x=r.Au.get(v);x&&r.Au.set(v,x.withResumeToken(m.resumeToken,o))}}),u.targetMismatches.forEach((m,v)=>{const x=r.Au.get(m);if(!x)return;r.Au.set(m,x.withResumeToken(ks.EMPTY_BYTE_STRING,x.snapshotVersion)),JD(r,m);const O=new Gu(x.target,m,v,x.sequenceNumber);xE(r,O)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Mt("RemoteStore","Failed to raise snapshot:",i),yield A0(n,i)}var i}),TE.apply(this,arguments)}function A0(n,t,e){return SE.apply(this,arguments)}function SE(){return SE=(0,dt.Z)(function*(n,t,e){if(!Pd(t))throw t;n.vu.add(1),yield Sg(n),n.bu.set("Offline"),e||(e=()=>mE(n.localStore)),n.asyncQueue.enqueueRetryable((0,dt.Z)(function*(){Mt("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield Wv(n)}))}),SE.apply(this,arguments)}function e1(n,t){return t().catch(e=>A0(n,e,t))}function rm(n){return P0.apply(this,arguments)}function P0(){return P0=(0,dt.Z)(function*(n){const t=Gt(n),e=Ff(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;fR(t);)try{const r=yield $D(t.localStore,i);if(null===r){0===t.Eu.length&&e.jo();break}i=r.batchId,t1(t,r)}catch(r){yield A0(t,r)}DE(t)&&pR(t)}),P0.apply(this,arguments)}function fR(n){return im(n)&&n.Eu.length<10}function t1(n,t){n.Eu.push(t);const e=Ff(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function DE(n){return im(n)&&!Ff(n).Uo()&&n.Eu.length>0}function pR(n){Ff(n).start()}function mR(n){return Kv.apply(this,arguments)}function Kv(){return Kv=(0,dt.Z)(function*(n){Ff(n).hu()}),Kv.apply(this,arguments)}function n1(n){return k0.apply(this,arguments)}function k0(){return k0=(0,dt.Z)(function*(n){const t=Ff(n);for(const e of n.Eu)t.uu(e.mutations)}),k0.apply(this,arguments)}function gR(n,t,e){return Og.apply(this,arguments)}function Og(){return Og=(0,dt.Z)(function*(n,t,e){const i=n.Eu.shift(),r=Hx.from(i,t,e);yield e1(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield rm(n)}),Og.apply(this,arguments)}function _R(n,t){return OE.apply(this,arguments)}function OE(){return OE=(0,dt.Z)(function*(n,t){var e;t&&Ff(n).ou&&(yield(e=(0,dt.Z)(function*(i,r){if(kv(o=r.code)&&o!==tt.ABORTED){const u=i.Eu.shift();Ff(i).Qo(),yield e1(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield rm(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),DE(n)&&pR(n)}),OE.apply(this,arguments)}function AE(n,t){return R0.apply(this,arguments)}function R0(){return R0=(0,dt.Z)(function*(n,t){const e=Gt(n);e.asyncQueue.verifyOperationInProgress(),Mt("RemoteStore","RemoteStore received new credentials");const i=im(e);e.vu.add(3),yield Sg(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield Wv(e)}),R0.apply(this,arguments)}function r1(n,t){return PE.apply(this,arguments)}function PE(){return PE=(0,dt.Z)(function*(n,t){const e=Gt(n);t?(e.vu.delete(2),yield Wv(e)):t||(e.vu.add(2),yield Sg(e),e.bu.set("Unknown"))}),PE.apply(this,arguments)}function Qv(n){return n.Su||(n.Su=function(t,e,i){const r=Gt(t);return r.fu(),new wE(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:IE.bind(null,n),ao:hR.bind(null,n),nu:pU.bind(null,n)}),n.Ru.push(function(){var t=(0,dt.Z)(function*(e){e?(n.Su.Qo(),Yv(n)?O0(n):n.bu.set("Unknown")):(yield n.Su.stop(),EE(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function Ff(n){return n.Du||(n.Du=function(t,e,i){const r=Gt(t);return r.fu(),new S0(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:mR.bind(null,n),ao:_R.bind(null,n),au:n1.bind(null,n),cu:gR.bind(null,n)}),n.Ru.push(function(){var t=(0,dt.Z)(function*(e){e?(n.Du.Qo(),yield rm(n)):(yield n.Du.stop(),n.Eu.length>0&&(Mt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class o1{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,m=new o1(t,e,u,r,o);return m.start(i),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vt(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jv(n,t){if(io("AsyncQueue",`${t}: ${n}`),Pd(n))return new vt(tt.UNAVAILABLE,`${t}: ${n}`);throw n}class Ag{constructor(t){this.comparator=t?(e,i)=>t(e,i)||qt.comparator(e.key,i.key):(e,i)=>qt.comparator(e.key,i.key),this.keyedMap=s0(),this.sortedSet=new zr(this.comparator)}static emptySet(t){return new Ag(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ag)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Ag;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class s1{constructor(){this.Cu=new zr(qt.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):ln():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Xv{constructor(t,e,i,r,o,u,m,v,x){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=v,this.hasCachedResults=x}static fromInitialDocuments(t,e,i,r,o){const u=[];return e.forEach(m=>{u.push({type:0,doc:m})}),new Xv(t,e,Ag.emptySet(e),u,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class mU{constructor(){this.Nu=void 0,this.listeners=[]}}class gU{constructor(){this.queries=new Mf(t=>Rx(t),lg),this.onlineState="Unknown",this.ku=new Set}}function a1(n,t){return c1.apply(this,arguments)}function c1(){return c1=(0,dt.Z)(function*(n,t){const e=Gt(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new mU),r)try{o.Nu=yield e.onListen(i)}catch(u){const m=Jv(u,`Initialization of query '${Nx(t.query)}' failed`);return void t.onError(m)}e.queries.set(i,o),o.listeners.push(t),t.Mu(e.onlineState),o.Nu&&t.$u(o.Nu)&&u1(e)}),c1.apply(this,arguments)}function kE(n,t){return l1.apply(this,arguments)}function l1(){return l1=(0,dt.Z)(function*(n,t){const e=Gt(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const u=o.listeners.indexOf(t);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),l1.apply(this,arguments)}function _U(n,t){const e=Gt(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const m of u.listeners)m.$u(r)&&(i=!0);u.Nu=r}}i&&u1(e)}function vU(n,t,e){const i=Gt(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function u1(n){n.ku.forEach(t=>{t.next()})}class d1{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Xv(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=Xv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class vR{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class yR{constructor(t){this.serializer=t}rr(t){return qu(this.serializer,t)}ur(t){return t.metadata.exists?Ak(this.serializer,t.document,!1):ro.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return rs(t)}}class s{constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=c(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=$i.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new yR(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.rr(r.metadata.name);for(const u of r.metadata.queries){const m=(e.get(u)||li()).add(o);e.set(u,m)}}return e}complete(){var t=this;return(0,dt.Z)(function*(){const e=yield function uU(n,t,e,i){return E0.apply(this,arguments)}(t.localStore,new yR(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const r of t.queries)yield rR(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function c(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class d{constructor(t){this.key=t}}class p{constructor(t){this.key=t}}class _{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=li(),this.mutatedKeys=li(),this.tc=VS(t),this.ec=new Ag(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new s1,r=e?e.ec:this.ec;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,m=!1;const v="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,x="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((O,L)=>{const q=r.get(O),ne=Dv(this.query,L)?L:null,ae=!!q&&this.mutatedKeys.has(q.key),ye=!!ne&&(ne.hasLocalMutations||this.mutatedKeys.has(ne.key)&&ne.hasCommittedMutations);let We=!1;q&&ne?q.data.isEqual(ne.data)?ae!==ye&&(i.track({type:3,doc:ne}),We=!0):this.rc(q,ne)||(i.track({type:2,doc:ne}),We=!0,(v&&this.tc(ne,v)>0||x&&this.tc(ne,x)<0)&&(m=!0)):!q&&ne?(i.track({type:0,doc:ne}),We=!0):q&&!ne&&(i.track({type:1,doc:q}),We=!0,(v||x)&&(m=!0)),We&&(ne?(u=u.add(ne),o=ye?o.add(O):o.delete(O)):(u=u.delete(O),o=o.delete(O)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const O="F"===this.query.limitType?u.last():u.first();u=u.delete(O.key),o=o.delete(O.key),i.track({type:1,doc:O})}return{ec:u,ic:i,zi:m,mutatedKeys:o}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const o=t.ic.xu();o.sort((x,O)=>function(L,q){const ne=ae=>{switch(ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ln()}};return ne(L)-ne(q)}(x.type,O.type)||this.tc(x.doc,O.doc)),this.oc(i);const u=e?this.uc():[],m=0===this.Zu.size&&this.current?1:0,v=m!==this.Xu;return this.Xu=m,0!==o.length||v?{snapshot:new Xv(this.query,t.ec,r,o,t.mutatedKeys,0===m,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new s1,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=li(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new p(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new d(i))}),e}hc(t){this.Yu=t.ir,this.Zu=li();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return Xv.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class b{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class M{constructor(t){this.key=t,this.fc=!1}}class S{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new Mf(m=>Rx(m),lg),this._c=new Map,this.mc=new Set,this.gc=new zr(qt.comparator),this.yc=new Map,this.Ic=new b0,this.Tc={},this.Ec=new Map,this.Ac=Vd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function k(n,t){return B.apply(this,arguments)}function B(){return B=(0,dt.Z)(function*(n,t){const e=PR(n);let i,r;const o=e.wc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const u=yield em(e.localStore,Ea(t)),m=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield W(e,t,i,"current"===m,u.resumeToken),e.isPrimaryClient&&Zv(e.remoteStore,u)}return r}),B.apply(this,arguments)}function W(n,t,e,i,r){return se.apply(this,arguments)}function se(){return se=(0,dt.Z)(function*(n,t,e,i,r){n.Rc=(L,q,ne)=>{return(ae=(0,dt.Z)(function*(ye,We,wt,At){let Ot=We.view.sc(wt);Ot.zi&&(Ot=yield $v(ye.localStore,We.query,!1).then(({documents:Rn})=>We.view.sc(Rn,Ot)));const Lt=At&&At.targetChanges.get(We.targetId),On=We.view.applyChanges(Ot,ye.isPrimaryClient,Lt);return wR(ye,We.targetId,On.cc),On.snapshot}),function(ye,We,wt,At){return ae.apply(this,arguments)})(n,L,q,ne);var ae};const o=yield $v(n.localStore,t,!0),u=new _(t,o.ir),m=u.sc(o.documents),v=Fv.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),x=u.applyChanges(m,n.isPrimaryClient,v);wR(n,e,x.cc);const O=new b(t,e,u);return n.wc.set(t,O),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),x.snapshot}),se.apply(this,arguments)}function Ie(n,t){return Be.apply(this,arguments)}function Be(){return Be=(0,dt.Z)(function*(n,t){const e=Gt(n),i=e.wc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(o=>!lg(o,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Wu(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Dg(e.remoteStore,i.targetId),N0(e,i.targetId)}).catch(Th))):(N0(e,i.targetId),yield Wu(e.localStore,i.targetId,!0))}),Be.apply(this,arguments)}function Tt(){return Tt=(0,dt.Z)(function*(n,t,e){const i=kR(n);try{const r=yield function(o,u){const m=Gt(o),v=ho.now(),x=u.reduce((q,ne)=>q.add(ne.key),li());let O,L;return m.persistence.runTransaction("Locally write mutations","readwrite",q=>{let ne=el(),ae=li();return m.Zi.getEntries(q,x).next(ye=>{ne=ye,ne.forEach((We,wt)=>{wt.isValidDocument()||(ae=ae.add(We))})}).next(()=>m.localDocuments.getOverlayedDocuments(q,ne)).next(ye=>{O=ye;const We=[];for(const wt of u){const At=oU(wt,O.get(wt.key).overlayedDocument);null!=At&&We.push(new Ah(wt.key,At,DS(At.value.mapValue),Sr.exists(!0)))}return m.mutationQueue.addMutationBatch(q,v,We,u)}).next(ye=>{L=ye;const We=ye.applyToLocalDocumentSet(O,ae);return m.documentOverlayCache.saveOverlays(q,ye.batchId,We)})}).then(()=>({batchId:L.batchId,changes:HS(O)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,m){let v=o.Tc[o.currentUser.toKey()];v||(v=new zr(Yn)),v=v.insert(u,m),o.Tc[o.currentUser.toKey()]=v}(i,r.batchId,e),yield om(i,r.changes),yield rm(i.remoteStore)}catch(r){const o=Jv(r,"Failed to persist write");e.reject(o)}}),Tt.apply(this,arguments)}function Wt(n,t){return vn.apply(this,arguments)}function vn(){return vn=(0,dt.Z)(function*(n,t){const e=Gt(n);try{const i=yield function zD(n,t){const e=Gt(n),i=t.snapshotVersion;let r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;const m=[];t.targetChanges.forEach((O,L)=>{const q=r.get(L);if(!q)return;m.push(e.Bs.removeMatchingKeys(o,O.removedDocuments,L).next(()=>e.Bs.addMatchingKeys(o,O.addedDocuments,L)));let ne=q.withSequenceNumber(o.currentSequenceNumber);var ae,ye,We;null!==t.targetMismatches.get(L)?ne=ne.withResumeToken(ks.EMPTY_BYTE_STRING,Mn.min()).withLastLimboFreeSnapshotVersion(Mn.min()):O.resumeToken.approximateByteSize()>0&&(ne=ne.withResumeToken(O.resumeToken,i)),r=r.insert(L,ne),ye=ne,We=O,(0===(ae=q).resumeToken.approximateByteSize()||ye.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=3e8||We.addedDocuments.size+We.modifiedDocuments.size+We.removedDocuments.size>0)&&m.push(e.Bs.updateTargetData(o,ne))});let v=el(),x=li();if(t.documentUpdates.forEach(O=>{t.resolvedLimboDocuments.has(O)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(o,O))}),m.push(HD(o,u,t.documentUpdates).next(O=>{v=O.nr,x=O.sr})),!i.isEqual(Mn.min())){const O=e.Bs.getLastRemoteSnapshotVersion(o).next(L=>e.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));m.push(O)}return Ye.waitFor(m).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,v,x)).next(()=>v)}).then(o=>(e.Ji=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e.yc.get(o);u&&(wn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.fc=!0:r.modifiedDocuments.size>0?wn(u.fc):r.removedDocuments.size>0&&(wn(u.fc),u.fc=!1))}),yield om(e,i,t)}catch(i){yield Th(i)}}),vn.apply(this,arguments)}function yt(n,t,e){const i=Gt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.wc.forEach((o,u)=>{const m=u.view.Mu(t);m.snapshot&&r.push(m.snapshot)}),function(o,u){const m=Gt(o);m.onlineState=u;let v=!1;m.queries.forEach((x,O)=>{for(const L of O.listeners)L.Mu(u)&&(v=!0)}),v&&u1(m)}(i.eventManager,t),r.length&&i.dc.nu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Kn(n,t,e){return ui.apply(this,arguments)}function ui(){return ui=(0,dt.Z)(function*(n,t,e){const i=Gt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.yc.get(t),o=r&&r.key;if(o){let u=new zr(qt.comparator);u=u.insert(o,ro.newNoDocument(o,Mn.min()));const m=li().add(o),v=new Nv(Mn.min(),new Map,new zr(Yn),u,m);yield Wt(i,v),i.gc=i.gc.remove(o),i.yc.delete(t),CR(i)}else yield Wu(i.localStore,t,!1).then(()=>N0(i,t,e)).catch(Th)}),ui.apply(this,arguments)}function mr(n,t){return Ga.apply(this,arguments)}function Ga(){return Ga=(0,dt.Z)(function*(n,t){const e=Gt(n),i=t.batch.batchId;try{const r=yield function pE(n,t){const e=Gt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Zi.newChangeBuffer({trackRemovals:!0});return function(u,m,v,x){const O=v.batch,L=O.keys();let q=Ye.resolve();return L.forEach(ne=>{q=q.next(()=>x.getEntry(m,ne)).next(ae=>{const ye=v.docVersions.get(ne);wn(null!==ye),ae.version.compareTo(ye)<0&&(O.applyToRemoteDocument(ae,v),ae.isValidDocument()&&(ae.setReadTime(v.commitVersion),x.addEntry(ae)))})}),q.next(()=>u.mutationQueue.removeMutationBatch(m,O))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let m=li();for(let v=0;v<u.mutationResults.length;++v)u.mutationResults[v].transformResults.length>0&&(m=m.add(u.batch.mutations[v].key));return m}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);bR(e,i,null),FE(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield om(e,r)}catch(r){yield Th(r)}}),Ga.apply(this,arguments)}function kh(n,t,e){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,dt.Z)(function*(n,t,e){const i=Gt(n);try{const r=yield function(o,u){const m=Gt(o);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let x;return m.mutationQueue.lookupMutationBatch(v,u).next(O=>(wn(null!==O),x=O.keys(),m.mutationQueue.removeMutationBatch(v,O))).next(()=>m.mutationQueue.performConsistencyCheck(v)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(v,x,u)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,x)).next(()=>m.localDocuments.getDocuments(v,x))})}(i.localStore,t);bR(i,t,e),FE(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield om(i,r)}catch(r){yield Th(r)}}),Lf.apply(this,arguments)}function NE(){return NE=(0,dt.Z)(function*(n,t){const e=Gt(n);im(e.remoteStore)||Mt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=Gt(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>u.mutationQueue.getHighestUnacknowledgedBatchId(m))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ec.get(i)||[];r.push(t),e.Ec.set(i,r)}catch(i){const r=Jv(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),NE.apply(this,arguments)}function FE(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function bR(n,t,e){const i=Gt(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function N0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||yU(n,i)})}function yU(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(Dg(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),CR(n))}function wR(n,t,e){for(const i of e)i instanceof d?(n.Ic.addReference(i.key,t),yH(n,i)):i instanceof p?(Mt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||yU(n,i.key)):ln()}function yH(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(Mt("SyncEngine","New document in limbo: "+e),n.mc.add(i),CR(n))}function CR(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new qt($i.fromString(t)),i=n.Ac.next();n.yc.set(i,new M(e)),n.gc=n.gc.insert(e,i),Zv(n.remoteStore,new Gu(Ea(Ef(e.path)),i,"TargetPurposeLimboResolution",vc.ct))}}function om(n,t,e){return xR.apply(this,arguments)}function xR(){return xR=(0,dt.Z)(function*(n,t,e){const i=Gt(n),r=[],o=[],u=[];var m;i.wc.isEmpty()||(i.wc.forEach((m,v)=>{u.push(i.Rc(v,t,e).then(x=>{if((x||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(v.targetId,x?.fromCache?"not-current":"current"),x){r.push(x);const O=x0.Li(v.targetId,x);o.push(O)}}))}),yield Promise.all(u),i.dc.nu(r),yield(m=(0,dt.Z)(function*(v,x){const O=Gt(v);try{yield O.persistence.runTransaction("notifyLocalViewChanges","readwrite",L=>Ye.forEach(x,q=>Ye.forEach(q.Fi,ne=>O.persistence.referenceDelegate.addReference(L,q.targetId,ne)).next(()=>Ye.forEach(q.Bi,ne=>O.persistence.referenceDelegate.removeReference(L,q.targetId,ne)))))}catch(L){if(!Pd(L))throw L;Mt("LocalStore","Failed to update sequence numbers: "+L)}for(const L of x){const q=L.targetId;if(!L.fromCache){const ne=O.Ji.get(q),ye=ne.withLastLimboFreeSnapshotVersion(ne.snapshotVersion);O.Ji=O.Ji.insert(q,ye)}}}),function(v,x){return m.apply(this,arguments)})(i.localStore,o))}),xR.apply(this,arguments)}function bH(n,t){return ER.apply(this,arguments)}function ER(){return ER=(0,dt.Z)(function*(n,t){const e=Gt(n);if(!e.currentUser.isEqual(t)){Mt("SyncEngine","User change. New user:",t.toKey());const i=yield fE(e.localStore,t);e.currentUser=t,(r=e).Ec.forEach(u=>{u.forEach(m=>{m.reject(new vt(tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield om(e,i.er)}var r}),ER.apply(this,arguments)}function wH(n,t){const e=Gt(n),i=e.yc.get(t);if(i&&i.fc)return li().add(i.key);{let r=li();const o=e._c.get(t);if(!o)return r;for(const u of o){const m=e.wc.get(u);r=r.unionWith(m.view.nc)}return r}}function CH(n,t){return IR.apply(this,arguments)}function IR(){return IR=(0,dt.Z)(function*(n,t){const e=Gt(n),i=yield $v(e.localStore,t.query,!0),r=t.view.hc(i);return e.isPrimaryClient&&wR(e,t.targetId,r.cc),r}),IR.apply(this,arguments)}function xH(n,t){return MR.apply(this,arguments)}function MR(){return MR=(0,dt.Z)(function*(n,t){const e=Gt(n);return qD(e.localStore,t).then(i=>om(e,i))}),MR.apply(this,arguments)}function EH(n,t,e,i){return TR.apply(this,arguments)}function TR(){return TR=(0,dt.Z)(function*(n,t,e,i){const r=Gt(n),o=yield function(u,m){const v=Gt(u),x=Gt(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",O=>x.Sn(O,m).next(L=>L?v.localDocuments.getDocuments(O,L):Ye.resolve(null)))}(r.localStore,t);var m;null!==o?("pending"===e?yield rm(r.remoteStore):"acknowledged"===e||"rejected"===e?(bR(r,t,i||null),FE(r,t),m=t,Gt(Gt(r.localStore).mutationQueue).Cn(m)):ln(),yield om(r,o)):Mt("SyncEngine","Cannot apply mutation batch with id: "+t)}),TR.apply(this,arguments)}function SR(){return SR=(0,dt.Z)(function*(n,t){const e=Gt(n);if(PR(e),kR(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield bU(e,i.toArray());e.vc=!0,yield r1(e.remoteStore,!0);for(const o of r)Zv(e.remoteStore,o)}else if(!1===t&&!1!==e.vc){const i=[];let r=Promise.resolve();e._c.forEach((o,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(N0(e,u),Wu(e.localStore,u,!0))),Dg(e.remoteStore,u)}),yield r,yield bU(e,i),function(o){const u=Gt(o);u.yc.forEach((m,v)=>{Dg(u.remoteStore,v)}),u.Ic.Ts(),u.yc=new Map,u.gc=new zr(qt.comparator)}(e),e.vc=!1,yield r1(e.remoteStore,!1)}}),SR.apply(this,arguments)}function bU(n,t,e){return DR.apply(this,arguments)}function DR(){return DR=(0,dt.Z)(function*(n,t,e){const i=Gt(n),r=[],o=[];for(const u of t){let m;const v=i._c.get(u);if(v&&0!==v.length){m=yield em(i.localStore,Ea(v[0]));for(const x of v){const O=i.wc.get(x),L=yield CH(i,O);L.snapshot&&o.push(L.snapshot)}}else{const x=yield gE(i.localStore,u);m=yield em(i.localStore,x),yield W(i,wU(x),u,!1,m.resumeToken)}r.push(m)}return i.dc.nu(o),r}),DR.apply(this,arguments)}function wU(n){return n0(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function MH(n){const t=Gt(n);return Gt(Gt(t.localStore).persistence).$i()}function TH(n,t,e,i){return OR.apply(this,arguments)}function OR(){return OR=(0,dt.Z)(function*(n,t,e,i){const r=Gt(n);if(r.vc)return void Mt("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const u=yield qD(r.localStore,US(o[0])),m=Nv.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,ks.EMPTY_BYTE_STRING);yield om(r,u,m);break}case"rejected":yield Wu(r.localStore,t,!0),N0(r,t,i);break;default:ln()}}),OR.apply(this,arguments)}function SH(n,t,e){return AR.apply(this,arguments)}function AR(){return AR=(0,dt.Z)(function*(n,t,e){const i=PR(n);if(i.vc){for(const r of t){if(i._c.has(r)){Mt("SyncEngine","Adding an already active target "+r);continue}const o=yield gE(i.localStore,r),u=yield em(i.localStore,o);yield W(i,wU(o),u.targetId,!1,u.resumeToken),Zv(i.remoteStore,u)}for(const r of e)i._c.has(r)&&(yield Wu(i.localStore,r,!1).then(()=>{Dg(i.remoteStore,r),N0(i,r)}).catch(Th))}}),AR.apply(this,arguments)}function PR(n){const t=Gt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Wt.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wH.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Kn.bind(null,t),t.dc.nu=_U.bind(null,t.eventManager),t.dc.Pc=vU.bind(null,t.eventManager),t}function kR(n){const t=Gt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mr.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kh.bind(null,t),t}class LE{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,dt.Z)(function*(){e.serializer=nm(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return BD(this.persistence,new iR,t.initialUser,this.serializer)}createPersistence(t){return new Bd(xg.zs,this.serializer)}createSharedClientState(t){return new aR}terminate(){var t=this;return(0,dt.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class RR extends LE{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,dt.Z)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield kR(i.Vc.syncEngine),yield rm(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return BD(this.persistence,new iR,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new v0(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new tU(e,this.persistence);return new tg(t.asyncQueue,i)}createPersistence(t){const e=hE(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?qa.withCacheSize(this.cacheSizeBytes):qa.DEFAULT;return new dE(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,yE(),Tg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new aR}}class CU extends RR{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,dt.Z)(function*(){yield e().call(i,t);const r=i.Vc.syncEngine;i.sharedClientState instanceof YD&&(i.sharedClientState.syncEngine={jr:EH.bind(null,r),zr:TH.bind(null,r),Wr:SH.bind(null,r),$i:MH.bind(null,r),Qr:xH.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var o=(0,dt.Z)(function*(u){yield function IH(n,t){return SR.apply(this,arguments)}(i.Vc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=yE();if(!YD.D(e))throw new vt(tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=hE(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new YD(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class F0{initialize(t,e){var i=this;return(0,dt.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>yt(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=bH.bind(null,i.syncEngine),yield r1(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new gU}createDatastore(t){const e=nm(t.databaseInfo.databaseId),i=new tm(t.databaseInfo);return new hU(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=m=>yt(this.syncEngine,m,0),u=cR.D()?new cR:new dU,new dR(e,i,r,o,u);var e,i,r,o,u}createSyncEngine(t,e){return function(i,r,o,u,m,v,x){const O=new S(i,r,o,u,m,v);return x&&(O.vc=!0),O}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,dt.Z)(function*(e){const i=Gt(e);Mt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Sg(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function xU(n,t=10240){let e=0;return{read:()=>(0,dt.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,dt.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class h1{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):io("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class AH{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new gs,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,dt.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,dt.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,dt.Z)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),r=Number(i);isNaN(r)&&t.Mc(`length string (${i}) is not valid number`);const o=yield t.$c(r);return new vR(JSON.parse(o),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,dt.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,dt.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,dt.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class PH{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,dt.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new vt(tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,dt.Z)(function*(o,u){const m=Gt(o),v=Ud(m.serializer)+"/documents",x={documents:u.map(ne=>Lv(m.serializer,ne))},O=yield m.vo("BatchGetDocuments",v,x,u.length),L=new Map;O.forEach(ne=>{const ae=function sU(n,t){return"found"in t?function(e,i){wn(!!i.found);const r=qu(e,i.found.name),o=rs(i.found.updateTime),u=i.found.createTime?rs(i.found.createTime):Mn.min(),m=new xa({mapValue:{fields:i.found.fields}});return ro.newFoundDocument(r,o,u,m)}(n,t):"missing"in t?function(e,i){wn(!!i.missing),wn(!!i.readTime);const r=qu(e,i.missing),o=rs(i.readTime);return ro.newNoDocument(r,o)}(n,t):ln()}(m.serializer,ne);L.set(ae.key.toString(),ae)});const q=[];return u.forEach(ne=>{const ae=L.get(ne.toString());wn(!!ae),q.push(ae)}),q}),function(o,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new pg(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,dt.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=qt.fromPath(r);t.mutations.push(new c0(o,t.precondition(o)))}),yield(i=(0,dt.Z)(function*(r,o){const u=Gt(r),m=Ud(u.serializer)+"/documents",v={writes:o.map(x=>Wp(u.serializer,x))};yield u.Io("Commit",m,v)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ln();e=Mn.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new vt(tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Mn.min())?Sr.exists(!1):Sr.updateTime(e):Sr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Mn.min()))throw new vt(tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sr.updateTime(e)}return Sr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class kH{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Bc=i.maxAttempts,this.qo=new bE(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,dt.Z)(function*(){const e=new PH(t.datastore),i=t.qc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Uc(o)}))}).catch(r=>{t.Uc(r)})}))}qc(t){try{const e=this.updateFunction(t);return!Gb(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!kv(e)}return!1}}class RH{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=As.UNAUTHENTICATED,this.clientId=cx.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,dt.Z)(function*(m){Mt("FirestoreClient","Received user=",m.uid),yield o.authCredentialListener(m),o.user=m});return function(m){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Mt("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,dt.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,dt.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Jv(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function f1(n,t){return NR.apply(this,arguments)}function NR(){return NR=(0,dt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Mt("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,dt.Z)(function*(o){i.isEqual(o)||(yield fE(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),NR.apply(this,arguments)}function FR(n,t){return LR.apply(this,arguments)}function LR(){return LR=(0,dt.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield UR(n);Mt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>AE(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>AE(t.remoteStore,o)),n._onlineComponents=t}),LR.apply(this,arguments)}function EU(n){return"FirebaseError"===n.name?n.code===tt.FAILED_PRECONDITION||n.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function UR(n){return VR.apply(this,arguments)}function VR(){return VR=(0,dt.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Mt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield f1(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!EU(e))throw e;cu("Error using user provided cache. Falling back to memory cache: "+e),yield f1(n,new LE)}}else Mt("FirestoreClient","Using default OfflineComponentProvider"),yield f1(n,new LE);return n._offlineComponents}),VR.apply(this,arguments)}function p1(n){return BR.apply(this,arguments)}function BR(){return BR=(0,dt.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Mt("FirestoreClient","Using user provided OnlineComponentProvider"),yield FR(n,n._uninitializedComponentsProvider._online)):(Mt("FirestoreClient","Using default OnlineComponentProvider"),yield FR(n,new F0))),n._onlineComponents}),BR.apply(this,arguments)}function IU(n){return UR(n).then(t=>t.persistence)}function m1(n){return UR(n).then(t=>t.localStore)}function MU(n){return p1(n).then(t=>t.remoteStore)}function jR(n){return p1(n).then(t=>t.syncEngine)}function L0(n){return zR.apply(this,arguments)}function zR(){return zR=(0,dt.Z)(function*(n){const t=yield p1(n),e=t.eventManager;return e.onListen=k.bind(null,t.syncEngine),e.onUnlisten=Ie.bind(null,t.syncEngine),e}),zR.apply(this,arguments)}function SU(n,t,e={}){const i=new gs;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function(r,o,u,m,v){const x=new h1({next:L=>{o.enqueueAndForget(()=>kE(r,O));const q=L.docs.has(u);!q&&L.fromCache?v.reject(new vt(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&L.fromCache&&m&&"server"===m.source?v.reject(new vt(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(L)},error:L=>v.reject(L)}),O=new d1(Ef(u.path),x,{includeMetadataChanges:!0,Ku:!0});return a1(r,O)}(yield L0(n),n.asyncQueue,t,e,i)})),i.promise}function DU(n,t,e={}){const i=new gs;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function(r,o,u,m,v){const x=new h1({next:L=>{o.enqueueAndForget(()=>kE(r,O)),L.fromCache&&"server"===m.source?v.reject(new vt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(L)},error:L=>v.reject(L)}),O=new d1(u,x,{includeMetadataChanges:!0,Ku:!0});return a1(r,O)}(yield L0(n),n.asyncQueue,t,e,i)})),i.promise}function OU(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const AU=new Map;function HR(n,t,e){if(!e)throw new vt(tt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function PU(n,t,e,i){if(!0===t&&!0===i)throw new vt(tt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function kU(n){if(!qt.isDocumentKey(n))throw new vt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function RU(n){if(qt.isDocumentKey(n))throw new vt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function g1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ln()}function qi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new vt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=g1(n);throw new vt(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function NU(n,t){if(t<=0)throw new vt(tt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class FU{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new vt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new vt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}PU("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=OU(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new vt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new vt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new vt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class UE{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new vt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FU(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new oS;switch(e.type){case"firstParty":return new jb(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new vt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=AU.get(t);e&&(Mt("ComponentProvider","Removing Datastore"),AU.delete(t),e.terminate())}(this),Promise.resolve()}}function LU(n,t,e,i={}){var r;const o=(n=qi(n,UE))._getSettings(),u=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==u&&cu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:u,ssl:!1})),i.mockUserToken){let m,v;if("string"==typeof i.mockUserToken)m=i.mockUserToken,v=As.MOCK_USER;else{m=(0,ie.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new vt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new As(x)}n._authCredentials=new rk(new sx(m,v))}}class Po{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Po(this.firestore,t,this._key)}}class bc{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new bc(this.firestore,t,this._query)}}class Uf extends bc{constructor(t,e,i){super(t,e,Ef(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Po(this.firestore,null,new qt(t))}withConverter(t){return new Uf(this.firestore,t,this._path)}}function $R(n,t,...e){if(n=(0,ie.m9)(n),HR("collection","path",t),n instanceof UE){const i=$i.fromString(t,...e);return RU(i),new Uf(n,null,i)}{if(!(n instanceof Po||n instanceof Uf))throw new vt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child($i.fromString(t,...e));return RU(i),new Uf(n.firestore,null,i)}}function VE(n,t,...e){if(n=(0,ie.m9)(n),1===arguments.length&&(t=cx.A()),HR("doc","path",t),n instanceof UE){const i=$i.fromString(t,...e);return kU(i),new Po(n,null,new qt(i))}{if(!(n instanceof Po||n instanceof Uf))throw new vt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child($i.fromString(t,...e));return kU(i),new Po(n.firestore,n instanceof Uf?n.converter:null,new qt(i))}}function UU(n,t){return n=(0,ie.m9)(n),t=(0,ie.m9)(t),(n instanceof Po||n instanceof Uf)&&(t instanceof Po||t instanceof Uf)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function qR(n,t){return n=(0,ie.m9)(n),t=(0,ie.m9)(t),n instanceof bc&&t instanceof bc&&n.firestore===t.firestore&&lg(n._query,t._query)&&n.converter===t.converter}class $H{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new bE(this,"async_queue_retry"),this.Xc=()=>{const e=Tg();e&&Mt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=Tg();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=Tg();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new gs;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,dt.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!Pd(e))throw e;Mt("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,io("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=o1.createAndSchedule(this,t,e,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&ln()}verifyOperationInProgress(){}sa(){var t=this;return(0,dt.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function GR(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class qH{constructor(){this._progressObserver={},this._taskCompletionResolver=new gs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class ko extends UE{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new $H,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||VU(this),this._firestoreClient.terminate()}}function WH(n,t){const e="object"==typeof n?n:(0,Ds.getApp)(),i="string"==typeof n?n:t||"(default)",r=(0,Ds._getProvider)(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=(0,ie.P0)("firestore");o&&LU(r,...o)}return r}function Ns(n){return n._firestoreClient||VU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function VU(n){var t,e,i;const r=n._freezeSettings(),o=(m=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new gk(n._databaseId,m,n._persistenceKey,(x=r).host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,OU(x.experimentalLongPollingOptions),x.useFetchStreams));var m,x;n._firestoreClient=new RH(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(e=r.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function BU(n,t,e){const i=new gs;return n.asyncQueue.enqueue((0,dt.Z)(function*(){try{yield f1(n,e),yield FR(n,t),i.resolve()}catch(r){const o=r;if(!EU(o))throw o;cu("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function jU(n){if(n._initialized||n._terminated)throw new vt(tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Vf{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vf(ks.fromBase64String(t))}catch(e){throw new vt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Vf(ks.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class sm{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new vt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qo(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ey{constructor(t){this._methodName=t}}class _1{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new vt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new vt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Yn(this._lat,t._lat)||Yn(this._long,t._long)}}const i$=/^__.*__$/;class r${constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Ah(t,this.data,this.fieldMask,e,this.fieldTransforms):new fg(t,this.data,e,this.fieldTransforms)}}class zU{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Ah(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function HU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ln()}}class v1{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new v1(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.fa(t),r}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return w1(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(HU(this.ca)&&i$.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class o${constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||nm(t)}ya(t,e,i,r=!1){return new v1({ca:t,methodName:e,ga:i,path:qo.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ty(n){const t=n._freezeSettings(),e=nm(n._databaseId);return new o$(n._databaseId,!!t.ignoreUndefinedProperties,e)}function y1(n,t,e,i,r,o={}){const u=n.ya(o.merge||o.mergeFields?2:0,t,e,r);KR("Data must be an object, but it was:",u,i);const m=GU(i,u);let v,x;if(o.merge)v=new Xc(u.fieldMask),x=u.fieldTransforms;else if(o.mergeFields){const O=[];for(const L of o.mergeFields){const q=zE(t,L,e);if(!u.contains(q))throw new vt(tt.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);ZU(O,q)||O.push(q)}v=new Xc(O),x=u.fieldTransforms.filter(L=>v.covers(L.field))}else v=null,x=u.fieldTransforms;return new r$(new xa(m),v,x)}class jE extends ey{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof jE}}function $U(n,t,e){return new v1({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class WR extends ey{_toFieldTransform(t){return new dg(t.path,new Hp)}isEqual(t){return t instanceof WR}}class s$ extends ey{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=$U(this,t,!0),i=this.pa.map(o=>ny(o,e)),r=new Sf(i);return new dg(t.path,r)}isEqual(t){return this===t}}class a$ extends ey{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=$U(this,t,!0),i=this.pa.map(o=>ny(o,e)),r=new $p(i);return new dg(t.path,r)}isEqual(t){return this===t}}class c$ extends ey{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new Ov(t.serializer,WS(t.serializer,this.Ia));return new dg(t.path,e)}isEqual(t){return this===t}}function ZR(n,t,e,i){const r=n.ya(1,t,e);KR("Data must be an object, but it was:",r,i);const o=[],u=xa.empty();uu(i,(v,x)=>{const O=b1(t,v,e);x=(0,ie.m9)(x);const L=r.da(O);if(x instanceof jE)o.push(O);else{const q=ny(x,L);null!=q&&(o.push(O),u.set(O,q))}});const m=new Xc(o);return new zU(u,m,r.fieldTransforms)}function YR(n,t,e,i,r,o){const u=n.ya(1,t,e),m=[zE(t,i,e)],v=[r];if(o.length%2!=0)throw new vt(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let q=0;q<o.length;q+=2)m.push(zE(t,o[q])),v.push(o[q+1]);const x=[],O=xa.empty();for(let q=m.length-1;q>=0;--q)if(!ZU(x,m[q])){const ne=m[q];let ae=v[q];ae=(0,ie.m9)(ae);const ye=u.da(ne);if(ae instanceof jE)x.push(ne);else{const We=ny(ae,ye);null!=We&&(x.push(ne),O.set(ne,We))}}const L=new Xc(x);return new zU(O,L,u.fieldTransforms)}function qU(n,t,e,i=!1){return ny(e,n.ya(i?4:3,t))}function ny(n,t){if(WU(n=(0,ie.m9)(n)))return KR("Unsupported field value:",t,n),GU(n,t);if(n instanceof ey)return function(e,i){if(!HU(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const u of e){let m=ny(u,i.wa(o));null==m&&(m={nullValue:"NULL_VALUE"}),r.push(m),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,ie.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return WS(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=ho.fromDate(e);return{timestampValue:Gp(i.serializer,r)}}if(e instanceof ho){const r=new ho(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Gp(i.serializer,r)}}if(e instanceof _1)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Vf)return{bytesValue:Jx(i.serializer,e._byteString)};if(e instanceof Po){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:f0(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${g1(e)}`)}(n,t)}function GU(n,t){const e={};return rg(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):uu(n,(i,r)=>{const o=ny(r,t.ha(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function WU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ho||n instanceof _1||n instanceof Vf||n instanceof Po||n instanceof ey)}function KR(n,t,e){if(!WU(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=g1(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function zE(n,t,e){if((t=(0,ie.m9)(t))instanceof sm)return t._internalPath;if("string"==typeof t)return b1(n,t);throw w1("Field path arguments must be of type string or ",n,!1,void 0,e)}const l$=new RegExp("[~\\*/\\[\\]]");function b1(n,t,e){if(t.search(l$)>=0)throw w1(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new sm(...t.split("."))._internalPath}catch{throw w1(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function w1(n,t,e,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(o||u)&&(v+=" (found",o&&(v+=` in field ${i}`),u&&(v+=` in document ${r}`),v+=")"),new vt(tt.INVALID_ARGUMENT,m+n+v)}function ZU(n,t){return n.some(e=>e.isEqual(t))}class HE{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Po(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new u$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(C1("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class u$ extends HE{data(){return super.data()}}function C1(n,t){return"string"==typeof t?b1(n,t):t instanceof sm?t._internalPath:t._delegate._internalPath}function YU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new vt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class QR{}class $E extends QR{}function am(n,t,...e){let i=[];t instanceof QR&&i.push(t),i=i.concat(e),function(r){const o=r.filter(m=>m instanceof U0).length,u=r.filter(m=>m instanceof qE).length;if(o>1||o>0&&u>0)throw new vt(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class qE extends $E{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new qE(t,e,i)}_apply(t){const e=this._parse(t);return eV(t._query,e),new bc(t.firestore,t.converter,o0(t._query,e))}_parse(t){const e=ty(t.firestore);return function(r,o,u,m,v,x,O){let L;if(v.isKeyField()){if("array-contains"===x||"array-contains-any"===x)throw new vt(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if("in"===x||"not-in"===x){XU(O,x);const q=[];for(const ne of O)q.push(JU(m,r,ne));L={arrayValue:{values:q}}}else L=JU(m,r,O)}else"in"!==x&&"not-in"!==x&&"array-contains-any"!==x||XU(O,x),L=qU(u,"where",O,"in"===x||"not-in"===x);return Ni.create(v,x,L)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}function KU(n,t,e){const i=t,r=C1("where",n);return qE._create(r,i,e)}class U0 extends QR{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new U0(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:pr.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let o=i;const u=r.getFlattenedFilters();for(const m of u)eV(o,m),o=o0(o,m)}(t._query,e),new bc(t.firestore,t.converter,o0(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class JR extends $E{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new JR(t,e)}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new vt(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new vt(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new ag(r,o);return function(m,v){if(null===r0(m)){const x=Tv(m);null!==x&&tV(0,x,v.field)}}(i,u),u}(t._query,this._field,this._direction);return new bc(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new xf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class x1 extends $E{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new x1(t,e,i)}_apply(t){return new bc(t.firestore,t.converter,Sv(t._query,this._limit,this._limitType))}}class E1 extends $E{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new E1(t,e,i)}_apply(t){const e=QU(t,this.type,this._docOrFields,this._inclusive);return new bc(t.firestore,t.converter,(r=e,new xf((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class I1 extends $E{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new I1(t,e,i)}_apply(t){const e=QU(t,this.type,this._docOrFields,this._inclusive);return new bc(t.firestore,t.converter,(r=e,new xf((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function QU(n,t,e,i){if(e[0]=(0,ie.m9)(e[0]),e[0]instanceof HE)return function(r,o,u,m,v){if(!m)throw new vt(tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const x=[];for(const O of If(r))if(O.field.isKeyField())x.push($u(o,m.key));else{const L=m.data.field(O.field);if(Cv(L))throw new vt(tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+O.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===L){const q=O.field.canonicalString();throw new vt(tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${q}' (used as the orderBy) does not exist.`)}x.push(L)}return new Nd(x,v)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=ty(n.firestore);return function(o,u,m,v,x,O){const L=o.explicitOrderBy;if(x.length>L.length)throw new vt(tt.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const q=[];for(let ne=0;ne<x.length;ne++){const ae=x[ne];if(L[ne].field.isKeyField()){if("string"!=typeof ae)throw new vt(tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof ae}`);if(!kx(o)&&-1!==ae.indexOf("/"))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${ae}' contains a slash.`);const ye=o.path.child($i.fromString(ae));if(!qt.isDocumentKey(ye))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${ye}' is not because it contains an odd number of segments.`);const We=new qt(ye);q.push($u(u,We))}else{const ye=qU(m,v,ae);q.push(ye)}}return new Nd(q,O)}(n._query,n.firestore._databaseId,r,t,e,i)}}function JU(n,t,e){if("string"==typeof(e=(0,ie.m9)(e))){if(""===e)throw new vt(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kx(t)&&-1!==e.indexOf("/"))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child($i.fromString(e));if(!qt.isDocumentKey(i))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return $u(n,new qt(i))}if(e instanceof Po)return $u(n,e._key);throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${g1(e)}.`)}function XU(n,t){if(!Array.isArray(n)||0===n.length)throw new vt(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function eV(n,t){if(t.isInequality()){const i=Tv(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=r0(n);null!==o&&tV(0,r,o)}const e=function(i,r){for(const o of i)for(const u of o.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new vt(tt.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function tV(n,t,e){if(!e.isEqual(t))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class XR{convertValue(t,e="none"){switch(Cf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return is(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(wf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ln()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return uu(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new _1(is(t.latitude),is(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Bp(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(xv(t));default:return null}}convertTimestamp(t){const e=Vp(t);return new ho(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=$i.fromString(t);wn(Uv(i));const r=new Dh(i.get(1),i.get(3)),o=new qt(i.popFirst(5));return r.isEqual(e)||io(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function M1(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class v$ extends XR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vf(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Po(this.firestore,null,e)}}class iy{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class cm extends HE{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new GE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(C1("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class GE extends cm{data(t={}){return super.data(t)}}class Pg{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new iy(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new GE(this._firestore,this._userDataWriter,i.key,i,new iy(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new vt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new GE(i._firestore,i._userDataWriter,u.doc.key,u.doc,new iy(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const m=new GE(i._firestore,i._userDataWriter,u.doc.key,u.doc,new iy(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let v=-1,x=-1;return 0!==u.type&&(v=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),x=o.indexOf(u.doc.key)),{type:b$(u.type),doc:m,oldIndex:v,newIndex:x}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function b$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ln()}}function iV(n,t){return n instanceof cm&&t instanceof cm?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Pg&&t instanceof Pg&&n._firestore===t._firestore&&qR(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class kg extends XR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vf(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Po(this.firestore,null,e)}}function eN(n,t,e){n=qi(n,Po);const i=qi(n.firestore,ko),r=M1(n.converter,t,e);return V0(i,[y1(ty(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Sr.none())])}function tN(n,t,e,...i){n=qi(n,Po);const r=qi(n.firestore,ko),o=ty(r);let u;return u="string"==typeof(t=(0,ie.m9)(t))||t instanceof sm?YR(o,"updateDoc",n._key,t,e,i):ZR(o,"updateDoc",n._key,t),V0(r,[u.toMutation(n._key,Sr.exists(!0))])}function rV(n,t){const e=qi(n.firestore,ko),i=VE(n),r=M1(n.converter,t);return V0(e,[y1(ty(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Sr.exists(!1))]).then(()=>i)}function nN(n,...t){var e,i,r;n=(0,ie.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||GR(t[u])||(o=t[u],u++);const m={includeMetadataChanges:o.includeMetadataChanges};if(GR(t[u])){const L=t[u];t[u]=null===(e=L.next)||void 0===e?void 0:e.bind(L),t[u+1]=null===(i=L.error)||void 0===i?void 0:i.bind(L),t[u+2]=null===(r=L.complete)||void 0===r?void 0:r.bind(L)}let v,x,O;if(n instanceof Po)x=qi(n.firestore,ko),O=Ef(n._key.path),v={next:L=>{t[u]&&t[u](iN(x,n,L))},error:t[u+1],complete:t[u+2]};else{const L=qi(n,bc);x=qi(L.firestore,ko),O=L._query;const q=new kg(x);v={next:ne=>{t[u]&&t[u](new Pg(x,q,L,ne))},error:t[u+1],complete:t[u+2]},YU(n._query)}return function(L,q,ne,ae){const ye=new h1(ae),We=new d1(q,ye,ne);return L.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return a1(yield L0(L),We)})),()=>{ye.Dc(),L.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return kE(yield L0(L),We)}))}}(Ns(x),O,m,v)}function V0(n,t){return function(e,i){const r=new gs;return e.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function ft(n,t,e){return Tt.apply(this,arguments)}(yield jR(e),i,r)})),r.promise}(Ns(n),t)}function iN(n,t,e){const i=e.docs.get(t._key),r=new kg(n);return new cm(n,r,t._key,i,new iy(e.hasPendingWrites,e.fromCache),t.converter)}const L$={maxAttempts:5};class oV{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ty(t)}set(t,e,i){this._verifyNotCommitted();const r=Rg(t,this._firestore),o=M1(r.converter,e,i),u=y1(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Sr.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Rg(t,this._firestore);let u;return u="string"==typeof(e=(0,ie.m9)(e))||e instanceof sm?YR(this._dataReader,"WriteBatch.update",o._key,e,i,r):ZR(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(u.toMutation(o._key,Sr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Rg(t,this._firestore);return this._mutations=this._mutations.concat(new pg(e._key,Sr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vt(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rg(n,t){if((n=(0,ie.m9)(n)).firestore!==t)throw new vt(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class U$ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=ty(t)}get(t){const e=Rg(t,this._firestore),i=new v$(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ln();const o=r[0];if(o.isFoundDocument())return new HE(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new HE(this._firestore,i,e._key,null,e.converter);throw ln()})}set(t,e,i){const r=Rg(t,this._firestore),o=M1(r.converter,e,i),u=y1(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const o=Rg(t,this._firestore);let u;return u="string"==typeof(e=(0,ie.m9)(e))||e instanceof sm?YR(this._dataReader,"Transaction.update",o._key,e,i,r):ZR(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,u),this}delete(t){const e=Rg(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Rg(t,this._firestore),i=new kg(this._firestore);return super.get(t).then(r=>new cm(this._firestore,i,e._key,r._document,new iy(!1,!1),e.converter))}}!function(n,t=!0){Xm=Ds.SDK_VERSION,(0,Ds._registerComponent)(new ou.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),u=new ko(new ok(e.getProvider("auth-internal")),new sS(e.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new vt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dh(m.options.projectId,v)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Ds.registerVersion)(rx,"3.13.0",n),(0,Ds.registerVersion)(rx,"3.13.0","esm2017")}();var gn=Q(7398),T1=function(){return T1=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},T1.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var q$={includeMetadataChanges:!1};function oN(n,t){return void 0===t&&(t=q$),new ar.y(function(e){return{unsubscribe:nN(n,t,{next:e.next.bind(e),error:e.error.bind(e),complete:e.complete.bind(e)})}})}function W$(n,t){return void 0===t&&(t={}),function G$(n){return oN(n,{includeMetadataChanges:!0})}(n).pipe((0,gn.U)(function(e){return aV(e,t)}))}function aV(n,t){var e;void 0===t&&(t={});var i=n.data(t);return n.exists()&&"object"==typeof i&&null!==i&&t.idField?T1(T1({},i),((e={})[t.idField]=n.id,e)):i}function X$(n,t){return void 0===t&&(t={}),function J$(n){return oN(n,{includeMetadataChanges:!0}).pipe((0,gn.U)(function(t){return t.docs}))}(n).pipe((0,gn.U)(function(e){return e.map(function(i){return aV(i,t)})}))}class Bf{constructor(t){return t}}const dV="firestore",cN=new a.OlP("angularfire2.firestore-instances");function iq(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new Bf(i)}}const rq={provide:class tq{constructor(){return(0,bn.vb)(dV)}},deps:[[new a.FiY,cN]]},oq={provide:Bf,useFactory:function nq(n,t){const e=(0,bn.JM)(dV,n,t);return e&&new Bf(e)},deps:[[new a.FiY,cN],Dm]};let hV=(()=>{class n{constructor(){(0,Id.KN)("angularfire",bn.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[oq,rq]}),n})();function sq(n,...t){return{ngModule:hV,providers:[{provide:cN,useFactory:iq(n),multi:!0,deps:[a.R0b,a.zs3,bn.HU,Rw,[new a.FiY,Md],[new a.FiY,wp],...t]}]}}const Fs=(0,bn.u3)(X$,!0),aq=(0,bn.u3)(W$,!0),cq=(0,bn.u3)(rV,!0),Rh=(0,bn.u3)($R,!0),S1=(0,bn.u3)(VE,!0),lq=(0,bn.u3)(WH,!0),Wa=(0,bn.u3)(am,!0),fV=(0,bn.u3)(eN,!0),uq=(0,bn.u3)(tN,!0),fo=(0,bn.u3)(KU,!0),pV="firebasestorage.googleapis.com",mV="storageBucket";class os extends ie.ZR{constructor(t,e,i=0){super(lN(t),`Firebase Storage: ${e} (${lN(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,os.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return lN(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Go=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Go||{});function lN(n){return"storage/"+n}function uN(){return new os(Go.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function dN(n){return new os(Go.INVALID_ARGUMENT,n)}function yV(){return new os(Go.APP_DELETED,"The Firebase app was deleted.")}function WE(n,t){return new os(Go.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function ZE(n){throw new os(Go.INTERNAL_ERROR,"Internal error: "+n)}class Ol{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Ol.makeFromUrl(t,e)}catch{return new Ol(t,"")}if(""===i.path)return i;throw function bq(n){return new os(Go.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+r+"(/(.*))?$","i");function x(Lt){Lt.path_=decodeURIComponent(Lt.path)}const L=e.replace(/[.]/g,"\\."),Ot=[{regex:m,indices:{bucket:1,path:3},postModify:function o(Lt){"/"===Lt.path.charAt(Lt.path.length-1)&&(Lt.path_=Lt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${L}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:x},{regex:new RegExp(`^https?://${e===pV?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:x}];for(let Lt=0;Lt<Ot.length;Lt++){const On=Ot[Lt],Rn=On.regex.exec(t);if(Rn){let Zo=Rn[On.indices.path];Zo||(Zo=""),i=new Ol(Rn[On.indices.bucket],Zo),On.postModify(i);break}}if(null==i)throw function yq(n){return new os(Go.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class Mq{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function D1(n){return"string"==typeof n||n instanceof String}function bV(n){return hN()&&n instanceof Blob}function hN(){return typeof Blob<"u"&&!(0,ie.UG)()}function fN(n,t,e,i){if(i<t)throw dN(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw dN(`Invalid value for '${n}'. Expected ${e} or less.`)}function lm(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function wV(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var B0=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(B0||{});class Pq{constructor(t,e,i,r,o,u,m,v,x,O,L,q=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=v,this.timeout_=x,this.progressCallback_=O,this.connectionFactory_=L,this.retry=q,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ne,ae)=>{this.resolve_=ne,this.reject_=ae,this.start_()})}start_(){const e=(i,r)=>{const o=this.resolve_,u=this.reject_,m=r.connection;if(r.wasSuccessCode)try{const v=this.callback_(m,m.getResponse());!function Dq(n){return void 0!==n}(v)?o():o(v)}catch(v){u(v)}else if(null!==m){const v=uN();v.serverResponse=m.getErrorText(),u(this.errorCallback_?this.errorCallback_(m,v):v)}else u(r.canceled?this.appDelete_?yV():function _V(){return new os(Go.CANCELED,"User canceled the upload/download.")}():function gV(){return new os(Go.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new O1(!1,null,!0)):this.backoffId_=function Tq(n,t,e){let i=1,r=null,o=null,u=!1,m=0;function v(){return 2===m}let x=!1;function O(...We){x||(x=!0,t.apply(null,We))}function L(We){r=setTimeout(()=>{r=null,n(ne,v())},We)}function q(){o&&clearTimeout(o)}function ne(We,...wt){if(x)return void q();if(We)return q(),void O.call(null,We,...wt);if(v()||u)return q(),void O.call(null,We,...wt);let Ot;i<64&&(i*=2),1===m?(m=2,Ot=0):Ot=1e3*(i+Math.random()),L(Ot)}let ae=!1;function ye(We){ae||(ae=!0,q(),!x&&(null!==r?(We||(m=2),clearTimeout(r),L(0)):We||(m=1)))}return L(0),o=setTimeout(()=>{u=!0,ye(!0)},e),ye}((i,r)=>{if(r)return void i(!1,new O1(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const u=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const m=o.getErrorCode()===B0.NO_ERROR,v=o.getStatus();if(!m||function CV(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==t.indexOf(n);return e||r||o}(v,this.additionalRetryCodes_)&&this.retry){const O=o.getErrorCode()===B0.ABORT;return void i(!1,new O1(!1,null,O))}const x=-1!==this.successCodes_.indexOf(v);i(!0,new O1(x,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function Sq(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class O1{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function Vq(...n){const t=function Uq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(hN())return new Blob(n);throw new os(Go.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Nh={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pN{constructor(t,e){this.data=t,this.contentType=e||null}}function EV(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function IV(n,t){switch(n){case Nh.BASE64:{const r=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(r||o)throw WE(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Nh.BASE64URL:{const r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw WE(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function jq(n){if(typeof atob>"u")throw function Eq(n){return new os(Go.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:WE(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class MV{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw WE(Nh.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function qq(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class um{constructor(t,e){let i=0,r="";bV(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(bV(this.data_)){const r=function Bq(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new um(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new um(i,!0)}}static getBlob(...t){if(hN()){const e=t.map(i=>i instanceof um?i.data_:i);return new um(Vq.apply(null,e))}{const e=t.map(u=>D1(u)?function xV(n,t){switch(n){case Nh.RAW:return new pN(EV(t));case Nh.BASE64:case Nh.BASE64URL:return new pN(IV(n,t));case Nh.DATA_URL:return new pN(function Hq(n){const t=new MV(n);return t.base64?IV(Nh.BASE64,t.rest):function zq(n){let t;try{t=decodeURIComponent(n)}catch{throw WE(Nh.DATA_URL,"Malformed data URL.")}return EV(t)}(t.rest)}(t),function $q(n){return new MV(n).contentType}(t))}throw uN()}(Nh.RAW,u).data:u.data_);let i=0;e.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(u=>{for(let m=0;m<u.length;m++)r[o++]=u[m]}),new um(r,!0)}}uploadData(){return this.data_}}function mN(n){let t;try{t=JSON.parse(n)}catch{return null}return function Aq(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function TV(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Zq(n,t){return t}class Al{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||Zq}}let A1=null;function YE(){if(A1)return A1;const n=[];n.push(new Al("bucket")),n.push(new Al("generation")),n.push(new Al("metageneration")),n.push(new Al("name","fullPath",!0));const e=new Al("name");e.xform=function t(o,u){return function Yq(n){return!D1(n)||n.length<2?n:TV(n)}(u)},n.push(e);const r=new Al("size");return r.xform=function i(o,u){return void 0!==u?Number(u):u},n.push(r),n.push(new Al("timeCreated")),n.push(new Al("updated")),n.push(new Al("md5Hash",null,!0)),n.push(new Al("cacheControl",null,!0)),n.push(new Al("contentDisposition",null,!0)),n.push(new Al("contentEncoding",null,!0)),n.push(new Al("contentLanguage",null,!0)),n.push(new Al("contentType",null,!0)),n.push(new Al("metadata","customMetadata",!0)),A1=n,A1}function SV(n,t,e){const i=mN(t);return null===i?null:function Qq(n,t,e){const i={type:"file"},r=e.length;for(let o=0;o<r;o++){const u=e[o];i[u.local]=u.xform(i,t[u.server])}return function Kq(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new Ol(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}class jf{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function zf(n){if(!n)throw uN()}function j0(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function _q(){return new os(Go.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function gq(){return new os(Go.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function mq(n){return new os(Go.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function vq(n){return new os(Go.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function RV(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},v=function m(){let Ot="";for(let Lt=0;Lt<2;Lt++)Ot+=Math.random().toString().slice(2);return Ot}();u["Content-Type"]="multipart/related; boundary="+v;const x=function kV(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function aG(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}(t,i,r),O=function gN(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}(x,e),ne=um.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+O+"\r\n--"+v+"\r\nContent-Type: "+x.contentType+"\r\n\r\n",i,"\r\n--"+v+"--");if(null===ne)throw function vV(){return new os(Go.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const ae={name:x.fullPath},ye=lm(o,n.host,n._protocol),wt=n.maxUploadRetryTime,At=new jf(ye,"POST",function P1(n,t){return function e(i,r){const o=SV(n,r,t);return zf(null!==o),o}}(n,e),wt);return At.urlParams=ae,At.headers=u,At.body=ne.uploadData(),At.errorHandler=j0(t),At}let FV=null;class hG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=B0.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=B0.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=B0.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw ZE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ZE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ZE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ZE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ZE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class fG extends hG{initXhr(){this.xhr_.responseType="text"}}function Fh(){return FV?FV():new fG}class ry{constructor(t,e){this._service=t,this._location=e instanceof Ol?e:Ol.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new ry(t,e)}get root(){const t=new Ol(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TV(this._location.path)}get storage(){return this._service}get parent(){const t=function Gq(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Ol(this._location.bucket,t);return new ry(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function Iq(n){return new os(Go.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function MG(n){n._throwIfRoot("getDownloadURL");const t=function rG(n,t,e){const r=lm(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,m=new jf(r,"GET",function nG(n,t){return function e(i,r){const o=SV(n,r,t);return zf(null!==o),function Jq(n,t,e,i){const r=mN(t);if(null===r||!D1(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const u=encodeURIComponent;return o.split(",").map(x=>{const L=n.fullPath;return lm("/b/"+u(n.bucket)+"/o/"+u(L),e,i)+wV({alt:"media",token:x})})[0]}(o,r,n.host,n._protocol)}}(n,e),u);return m.errorHandler=function KE(n){const t=j0(n);return function e(i,r){let o=t(i,r);return 404===i.getStatus()&&(o=function pq(n){return new os(Go.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}(t),m}(n.storage,n._location,YE());return n.storage.makeRequestWithTokens(t,Fh).then(e=>{if(null===e)throw function xq(){return new os(Go.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function jV(n,t){if(n instanceof bN){const e=n;if(null==e._bucket)throw function wq(){return new os(Go.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+mV+"' property when initializing the app?")}();const i=new ry(e,e._bucket);return null!=t?jV(i,t):i}return void 0!==t?function BV(n,t){const e=function Wq(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Ol(n._location.bucket,e);return new ry(n.storage,i)}(n,t):n}function zV(n,t){const e=t?.[mV];return null==e?null:Ol.makeFromBucketSpec(e,n)}class bN{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=pV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ol.makeFromBucketSpec(r,this._host):zV(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Ol.makeFromBucketSpec(this._url,t):zV(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){fN("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){fN("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,dt.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,dt.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ry(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new Mq(yV());{const u=function Lq(n,t,e,i,r,o,u=!0){const m=wV(n.urlParams),v=n.url+m,x=Object.assign({},n.headers);return function Nq(n,t){t&&(n["X-Firebase-GMPID"]=t)}(x,t),function kq(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(x,e),function Rq(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(x,o),function Fq(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(x,i),new Pq(v,n.method,x,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,u)}(t,this._appId,i,r,e,this._firebaseVersion,o);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(t,e){var i=this;return(0,dt.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,o).getPromise()})()}}const HV="@firebase/storage",qV="storage";function PG(n,t,e){return function LV(n,t,e){n._throwIfRoot("uploadBytes");const i=RV(n.storage,n._location,YE(),new um(t,!0),e);return n.storage.makeRequestWithTokens(i,Fh).then(r=>({metadata:r,ref:n}))}(n=(0,ie.m9)(n),t,e)}function kG(n){return MG(n=(0,ie.m9)(n))}function RG(n,t){return function OG(n,t){if(t&&function SG(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof bN)return function DG(n,t){return new ry(n,t)}(n,t);throw dN("To use ref(service, url), the first argument must be a Storage instance.")}return jV(n,t)}(n=(0,ie.m9)(n),t)}function NG(n=(0,Ds.getApp)(),t){n=(0,ie.m9)(n);const i=(0,Ds._getProvider)(n,qV).getImmediate({identifier:t}),r=(0,ie.P0)("storage");return r&&function FG(n,t,e,i={}){!function AG(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,ie.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(i,...r),i}function LG(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new bN(e,i,r,t,Ds.SDK_VERSION)}!function UG(){(0,Ds._registerComponent)(new ou.wA(qV,LG,"PUBLIC").setMultipleInstances(!0)),(0,Ds.registerVersion)(HV,"0.11.2",""),(0,Ds.registerVersion)(HV,"0.11.2","esm2017")}();class R1{constructor(t){return t}}const GV="storage",wN=new a.OlP("angularfire2.storage-instances");function jG(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new R1(i)}}const zG={provide:class VG{constructor(){return(0,bn.vb)(GV)}},deps:[[new a.FiY,wN]]},HG={provide:R1,useFactory:function BG(n,t){const e=(0,bn.JM)(GV,n,t);return e&&new R1(e)},deps:[[new a.FiY,wN],Dm]};let $G=(()=>{class n{constructor(){(0,Id.KN)("angularfire",bn.q4.full,"gcs")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[HG,zG]}),n})();function qG(n,...t){return{ngModule:$G,providers:[{provide:wN,useFactory:jG(n),multi:!0,deps:[a.R0b,a.zs3,bn.HU,Rw,[new a.FiY,Md],[new a.FiY,wp],...t]}]}}const GG=(0,bn.u3)(kG,!0),WG=(0,bn.u3)(NG,!0),ZG=(0,bn.u3)(RG,!0),YG=(0,bn.u3)(PG,!0);var jd=Q(4674),Dr=Q(2459),_n=Q(2096),zd=Q(5619);const{isArray:QG}=Array,{getPrototypeOf:JG,prototype:XG,keys:eW}=Object;function WV(n){if(1===n.length){const t=n[0];if(QG(t))return{args:t,keys:null};if(function tW(n){return n&&"object"==typeof n&&JG(n)===XG}(t)){const e=eW(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var QE=Q(2737);const{isArray:nW}=Array;function CN(n){return(0,gn.U)(t=>function iW(n,t){return nW(t)?n(...t):n(t)}(n,t))}var H0=Q(9940);function ZV(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var rW=Q(7103);function N1(...n){const t=(0,H0.yG)(n),e=(0,H0.jO)(n),{args:i,keys:r}=WV(n);if(0===i.length)return(0,Dr.D)([],t);const o=new ar.y(function oW(n,t,e=QE.y){return i=>{YV(t,()=>{const{length:r}=n,o=new Array(r);let u=r,m=r;for(let v=0;v<r;v++)YV(t,()=>{const x=(0,Dr.D)(n[v],t);let O=!1;x.subscribe((0,ci.x)(i,L=>{o[v]=L,O||(O=!0,m--),m||i.next(e(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>ZV(r,u):QE.y));return e?o.pipe(CN(e)):o}function YV(n,t,e){n?(0,rW.f)(e,n,t):t()}const F1=(0,Q(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var JE=Q(7537);function XE(...n){return function aW(){return(0,JE.J)(1)}()((0,Dr.D)(n,(0,H0.yG)(n)))}var xN=Q(8407);function $0(n,t){const e=(0,jd.m)(n)?n:()=>n,i=r=>r.error(e());return new ar.y(t?r=>t.schedule(i,0,r):i)}var Hf=Q(6232),Zu=Q(7394);function EN(){return(0,Nr.e)((n,t)=>{let e=null;n._refCount++;const i=(0,ci.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class KV extends ar.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Nr.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Zu.w0;const e=this.getSubject();t.add(this.source.subscribe((0,ci.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Zu.w0.EMPTY)}return t}refCount(){return EN()(this)}}var ss=Q(4664);function nl(n){return n<=0?()=>Hf.E:(0,Nr.e)((t,e)=>{let i=0;t.subscribe((0,ci.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Ng(...n){const t=(0,H0.yG)(n);return(0,Nr.e)((e,i)=>{(t?XE(n,e,t):XE(n,e)).subscribe(i)})}var Ma=Q(1631);function L1(n){return(0,Nr.e)((t,e)=>{let i=!1;t.subscribe((0,ci.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function QV(n=cW){return(0,Nr.e)((t,e)=>{let i=!1;t.subscribe((0,ci.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function cW(){return new F1}function Fg(n,t){const e=arguments.length>=2;return i=>i.pipe(n?cr((r,o)=>n(r,o,i)):QE.y,nl(1),e?L1(t):QV(()=>new F1))}function oy(n,t){return(0,jd.m)(t)?(0,Ma.z)(n,t,1):(0,Ma.z)(n,1)}function Lg(n){return(0,Nr.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,ci.x)(e,void 0,void 0,u=>{o=(0,Do.Xf)(n(u,Lg(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function q0(n,t){return(0,Nr.e)(function lW(n,t,e,i,r){return(o,u)=>{let m=e,v=t,x=0;o.subscribe((0,ci.x)(u,O=>{const L=x++;v=m?n(v,O,L):(m=!0,O),i&&u.next(v)},r&&(()=>{m&&u.next(v),u.complete()})))}}(n,t,arguments.length>=2,!0))}function IN(n){return n<=0?()=>Hf.E:(0,Nr.e)((t,e)=>{let i=[];t.subscribe((0,ci.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function JV(n){return(0,gn.U)(()=>n)}function U1(n){return(0,Nr.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var MN=Q(2420);function Hd(n){return(0,Nr.e)((t,e)=>{(0,Do.Xf)(n).subscribe((0,ci.x)(e,()=>e.complete(),MN.Z)),!e.closed&&t.subscribe(e)})}const _i="primary",eI=Symbol("RouteTitle");class dW{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function G0(n){return new dW(n)}function hW(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],m=n[o];if(u.startsWith(":"))r[u.substring(1)]=m;else if(u!==m.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function $f(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!XV(n[r],t[r]))return!1;return!0}function XV(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function eB(n){return n.length>0?n[n.length-1]:null}function Ug(n){return function KG(n){return!!n&&(n instanceof ar.y||(0,jd.m)(n.lift)&&(0,jd.m)(n.subscribe))}(n)?n:(0,a.QGY)(n)?(0,Dr.D)(Promise.resolve(n)):(0,_n.of)(n)}const pW={exact:function iB(n,t,e){if(!sy(n.segments,t.segments)||!V1(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!iB(n.children[i],t.children[i],e))return!1;return!0},subset:rB},tB={exact:function mW(n,t){return $f(n,t)},subset:function gW(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>XV(n[e],t[e]))},ignored:()=>!0};function nB(n,t,e){return pW[e.paths](n.root,t.root,e.matrixParams)&&tB[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function rB(n,t,e){return oB(n,t,t.segments,e)}function oB(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!sy(r,e)||t.hasChildren()||!V1(r,e,i))}if(n.segments.length===e.length){if(!sy(n.segments,e)||!V1(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!rB(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(sy(n.segments,r)&&V1(n.segments,r,i)&&n.children[_i])&&oB(n.children[_i],t,o,i)}}function V1(n,t,e){return t.every((i,r)=>tB[e](n[r].parameters,i.parameters))}class W0{constructor(t=new Lr([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=G0(this.queryParams)),this._queryParamMap}toString(){return yW.serialize(this)}}class Lr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return B1(this)}}class tI{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=G0(this.parameters)),this._parameterMap}toString(){return cB(this)}}function sy(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let nI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return new TN},providedIn:"root"})}return n})();class TN{parse(t){const e=new OW(t);return new W0(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${iI(t.root,!0)}`,i=function CW(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${j1(e)}=${j1(r)}`).join("&"):`${j1(e)}=${j1(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function bW(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const yW=new TN;function B1(n){return n.segments.map(t=>cB(t)).join("/")}function iI(n,t){if(!n.hasChildren())return B1(n);if(t){const e=n.children[_i]?iI(n.children[_i],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==_i&&i.push(`${r}:${iI(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function vW(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===_i&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==_i&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===_i?[iI(n.children[_i],!1)]:[`${r}:${iI(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[_i]?`${B1(n)}/${e[0]}`:`${B1(n)}/(${e.join("//")})`}}function sB(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function j1(n){return sB(n).replace(/%3B/gi,";")}function SN(n){return sB(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function z1(n){return decodeURIComponent(n)}function aB(n){return z1(n.replace(/\+/g,"%20"))}function cB(n){return`${SN(n.path)}${function wW(n){return Object.keys(n).map(t=>`;${SN(t)}=${SN(n[t])}`).join("")}(n.parameters)}`}const xW=/^[^\/()?;#]+/;function DN(n){const t=n.match(xW);return t?t[0]:""}const EW=/^[^\/()?;=#]+/,MW=/^[^=?&#]+/,SW=/^[^&#]+/;class OW{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lr([],{}):new Lr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[_i]=new Lr(t,e)),i}parseSegment(){const t=DN(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(t),new tI(z1(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function IW(n){const t=n.match(EW);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=DN(this.remaining);r&&(i=r,this.capture(i))}t[z1(e)]=z1(i)}parseQueryParam(t){const e=function TW(n){const t=n.match(MW);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function DW(n){const t=n.match(SW);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=aB(e),o=aB(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=DN(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new a.vHH(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=_i);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[_i]:new Lr([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new a.vHH(4011,!1)}}function lB(n){return n.segments.length>0?new Lr([],{[_i]:n}):n}function uB(n){const t={};for(const i of Object.keys(n.children)){const o=uB(n.children[i]);if(i===_i&&0===o.segments.length&&o.hasChildren())for(const[u,m]of Object.entries(o.children))t[u]=m;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function AW(n){if(1===n.numberOfChildren&&n.children[_i]){const t=n.children[_i];return new Lr(n.segments.concat(t.segments),t.children)}return n}(new Lr(n.segments,t))}function ay(n){return n instanceof W0}function dB(n){let t;const r=lB(function e(o){const u={};for(const v of o.children){const x=e(v);u[v.outlet]=x}const m=new Lr(o.url,u);return o===n&&(t=m),m}(n.root));return t??r}function hB(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return ON(r,r,r,e,i);const o=function kW(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new pB(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const m={};return Object.entries(o.outlets).forEach(([v,x])=>{m[v]="string"==typeof x?x.split("/"):x}),[...r,{outlets:m}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?e=!0:".."===m?t++:""!=m&&r.push(m))}),r):[...r,o]},[]);return new pB(e,t,i)}(t);if(o.toRoot())return ON(r,r,new Lr([],{}),e,i);const u=function RW(n,t,e){if(n.isAbsolute)return new $1(t,!0,0);if(!e)return new $1(t,!1,NaN);if(null===e.parent)return new $1(e,!0,0);const i=H1(n.commands[0])?0:1;return function NW(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new a.vHH(4005,!1);r=i.segments.length}return new $1(i,!1,r-o)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),m=u.processChildren?oI(u.segmentGroup,u.index,o.commands):mB(u.segmentGroup,u.index,o.commands);return ON(r,u.segmentGroup,m,e,i)}function H1(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function rI(n){return"object"==typeof n&&null!=n&&n.outlets}function ON(n,t,e,i,r){let u,o={};i&&Object.entries(i).forEach(([v,x])=>{o[v]=Array.isArray(x)?x.map(O=>`${O}`):`${x}`}),u=n===t?e:fB(n,t,e);const m=lB(uB(u));return new W0(m,o,r)}function fB(n,t,e){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===t?e:fB(o,t,e)}),new Lr(n.segments,i)}class pB{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&H1(i[0]))throw new a.vHH(4003,!1);const r=i.find(rI);if(r&&r!==eB(i))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $1{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function mB(n,t,e){if(n||(n=new Lr([],{})),0===n.segments.length&&n.hasChildren())return oI(n,t,e);const i=function LW(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const u=n.segments[r],m=e[i];if(rI(m))break;const v=`${m}`,x=i<e.length-1?e[i+1]:null;if(r>0&&void 0===v)break;if(v&&x&&"object"==typeof x&&void 0===x.outlets){if(!_B(v,x,u))return o;i+=2}else{if(!_B(v,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Lr(n.segments.slice(0,i.pathIndex),{});return o.children[_i]=new Lr(n.segments.slice(i.pathIndex),n.children),oI(o,0,r)}return i.match&&0===r.length?new Lr(n.segments,{}):i.match&&!n.hasChildren()?AN(n,t,e):i.match?oI(n,0,r):AN(n,t,e)}function oI(n,t,e){if(0===e.length)return new Lr(n.segments,{});{const i=function FW(n){return rI(n[0])?n[0].outlets:{[_i]:n}}(e),r={};if(Object.keys(i).some(o=>o!==_i)&&n.children[_i]&&1===n.numberOfChildren&&0===n.children[_i].segments.length){const o=oI(n.children[_i],t,e);return new Lr(n.segments,o.children)}return Object.entries(i).forEach(([o,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(r[o]=mB(n.children[o],t,u))}),Object.entries(n.children).forEach(([o,u])=>{void 0===i[o]&&(r[o]=u)}),new Lr(n.segments,r)}}function AN(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(rI(o)){const v=UW(o.outlets);return new Lr(i,v)}if(0===r&&H1(e[0])){i.push(new tI(n.segments[t].path,gB(e[0]))),r++;continue}const u=rI(o)?o.outlets[_i]:`${o}`,m=r<e.length-1?e[r+1]:null;u&&m&&H1(m)?(i.push(new tI(u,gB(m))),r+=2):(i.push(new tI(u,{})),r++)}return new Lr(i,{})}function UW(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=AN(new Lr([],{}),0,i))}),t}function gB(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function _B(n,t,e){return n==e.path&&$f(t,e.parameters)}const sI="imperative";class qf{constructor(t,e){this.id=t,this.url=e}}class q1 extends qf{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vg extends qf{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class aI extends qf{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Z0 extends qf{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class G1 extends qf{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vB extends qf{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VW extends qf{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BW extends qf{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jW extends qf{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zW extends qf{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HW{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $W{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qW{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GW{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WW{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZW{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yB{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class PN{}class kN{constructor(t){this.url=t}}class YW{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new cI,this.attachRef=null}}let cI=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new YW,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class bB{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=RN(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=RN(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=NN(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return NN(t,this._root).map(e=>e.value)}}function RN(n,t){if(n===t.value)return t;for(const e of t.children){const i=RN(n,e);if(i)return i}return null}function NN(n,t){if(n===t.value)return[t];for(const e of t.children){const i=NN(n,e);if(i.length)return i.unshift(t),i}return[]}class dm{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Y0(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class wB extends bB{constructor(t,e){super(t),this.snapshot=e,FN(this,t)}toString(){return this.snapshot.toString()}}function CB(n,t){const e=function KW(n,t){const u=new W1([],{},{},"",{},_i,t,null,{});return new EB("",new dm(u,[]))}(0,t),i=new zd.X([new tI("",{})]),r=new zd.X({}),o=new zd.X({}),u=new zd.X({}),m=new zd.X(""),v=new K0(i,r,u,m,o,_i,t,e.root);return v.snapshot=e.root,new wB(new dm(v,[]),e)}class K0{constructor(t,e,i,r,o,u,m,v){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=u,this.component=m,this._futureSnapshot=v,this.title=this.dataSubject?.pipe((0,gn.U)(x=>x[eI]))??(0,_n.of)(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gn.U)(t=>G0(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gn.U)(t=>G0(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xB(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function QW(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class W1{get title(){return this.data?.[eI]}constructor(t,e,i,r,o,u,m,v,x){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=m,this.routeConfig=v,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=G0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=G0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class EB extends bB{constructor(t,e){super(e),this.url=t,FN(this,e)}toString(){return IB(this._root)}}function FN(n,t){t.value._routerState=n,t.children.forEach(e=>FN(n,e))}function IB(n){const t=n.children.length>0?` { ${n.children.map(IB).join(", ")} } `:"";return`${n.value}${t}`}function LN(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,$f(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),$f(t.params,e.params)||n.paramsSubject.next(e.params),function fW(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!$f(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),$f(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function UN(n,t){const e=$f(n.params,t.params)&&function _W(n,t){return sy(n,t)&&n.every((e,i)=>$f(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||UN(n.parent,t.parent))}let VN=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=_i,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(cI),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb),this.inputBinder=(0,a.f3M)(Z1,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new a.vHH(4013,!1);this._activatedRoute=e;const r=this.location,u=e.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,v=new JW(e,m,r.injector);this.activated=r.createComponent(u,{index:r.length,injector:v,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]})}return n})();class JW{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===K0?this.route:t===cI?this.childContexts:this.parent.get(t,e)}}const Z1=new a.OlP("");let MB=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=N1([i.queryParams,i.params,i.data]).pipe((0,ss.w)(([o,u,m],v)=>(m={...o,...u,...m},0===v?(0,_n.of)(m):Promise.resolve(m)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const u=(0,a.qFp)(i.component);if(u)for(const{templateName:m}of u.inputs)e.activatedComponentRef.setInput(m,o[m]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();function lI(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function e8(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return lI(n,i,r);return lI(n,i)})}(n,t,e);return new dm(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(m=>lI(n,m)),u}}const i=function t8(n){return new K0(new zd.X(n.url),new zd.X(n.params),new zd.X(n.queryParams),new zd.X(n.fragment),new zd.X(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>lI(n,o));return new dm(i,r)}}const BN="ngNavigationCancelingError";function TB(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=ay(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=SB(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function SB(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[BN]=!0,i.cancellationCode=t,e&&(i.url=e),i}function DB(n){return n&&n[BN]}let OB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(i,r){1&i&&a._UZ(0,"router-outlet")},dependencies:[VN],encapsulation:2})}return n})();function jN(n){const t=n.children&&n.children.map(jN),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==_i&&(e.component=OB),e}function Lh(n){return n.outlet||_i}function uI(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class l8{constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),LN(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Y0(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Y0(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),m=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:m})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Y0(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=Y0(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new ZW(o.value.snapshot))}),t.children.length&&this.forwardEvent(new GW(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(LN(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const m=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(m.contexts),u.attachRef=m.componentRef,u.route=m.route.value,u.outlet&&u.outlet.attach(m.componentRef,m.route.value),LN(m.route.value),this.activateChildRoutes(t,null,u.children)}else{const m=uI(r.snapshot);u.attachRef=null,u.route=r,u.injector=m,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class AB{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Y1{constructor(t,e){this.component=t,this.route=e}}function u8(n,t,e){const i=n._root;return dI(i,t?t._root:null,e,[i.value])}function Q0(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,a.Z0I)(n)?t.get(n):n:i}function dI(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Y0(t);return n.children.forEach(u=>{(function h8(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,m=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const v=function f8(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!sy(n.url,t.url);case"pathParamsOrQueryParamsChange":return!sy(n.url,t.url)||!$f(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!UN(n,t)||!$f(n.queryParams,t.queryParams);default:return!UN(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);v?r.canActivateChecks.push(new AB(i)):(o.data=u.data,o._resolvedData=u._resolvedData),dI(n,t,o.component?m?m.children:null:e,i,r),v&&m&&m.outlet&&m.outlet.isActivated&&r.canDeactivateChecks.push(new Y1(m.outlet.component,u))}else u&&hI(t,m,r),r.canActivateChecks.push(new AB(i)),dI(n,null,o.component?m?m.children:null:e,i,r)})(u,o[u.value.outlet],e,i.concat([u.value]),r),delete o[u.value.outlet]}),Object.entries(o).forEach(([u,m])=>hI(m,e.getContext(u),r)),r}function hI(n,t,e){const i=Y0(n),r=n.value;Object.entries(i).forEach(([o,u])=>{hI(u,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new Y1(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function fI(n){return"function"==typeof n}function PB(n){return n instanceof F1||"EmptyError"===n?.name}const K1=Symbol("INITIAL_VALUE");function J0(){return(0,ss.w)(n=>N1(n.map(t=>t.pipe(nl(1),Ng(K1)))).pipe((0,gn.U)(t=>{for(const e of t)if(!0!==e){if(e===K1)return K1;if(!1===e||e instanceof W0)return e}return!0}),cr(t=>t!==K1),nl(1)))}function kB(n){return(0,xN.z)((0,tr.b)(t=>{if(ay(t))throw TB(0,t)}),(0,gn.U)(t=>!0===t))}class Q1{constructor(t){this.segmentGroup=t||null}}class RB{constructor(t){this.urlTree=t}}function X0(n){return $0(new Q1(n))}function NB(n){return $0(new RB(n))}class k8{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new a.vHH(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,_n.of)(i);if(r.numberOfChildren>1||!r.children[_i])return $0(new a.vHH(4e3,!1));r=r.children[_i]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new W0(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);i[r]=e[m]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let u={};return Object.entries(e.children).forEach(([m,v])=>{u[m]=this.createSegmentGroup(t,v,i,r)}),new Lr(o,u)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new a.vHH(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const zN={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function R8(n,t,e,i,r){const o=HN(n,t,e);return o.matched?(i=function i8(n,t){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function O8(n,t,e,i){const r=t.canMatch;if(!r||0===r.length)return(0,_n.of)(!0);const o=r.map(u=>{const m=Q0(u,n);return Ug(function y8(n){return n&&fI(n.canMatch)}(m)?m.canMatch(t,e):n.runInContext(()=>m(t,e)))});return(0,_n.of)(o).pipe(J0(),kB())}(i,t,e).pipe((0,gn.U)(u=>!0===u?o:{...zN}))):(0,_n.of)(o)}function HN(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...zN}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||hW)(e,n,t);if(!r)return{...zN};const o={};Object.entries(r.posParams??{}).forEach(([m,v])=>{o[m]=v.path});const u=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function FB(n,t,e,i){return e.length>0&&function L8(n,t,e){return e.some(i=>J1(n,t,i)&&Lh(i)!==_i)}(n,e,i)?{segmentGroup:new Lr(t,F8(i,new Lr(e,n.children))),slicedSegments:[]}:0===e.length&&function U8(n,t,e){return e.some(i=>J1(n,t,i))}(n,e,i)?{segmentGroup:new Lr(n.segments,N8(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Lr(n.segments,n.children),slicedSegments:e}}function N8(n,t,e,i,r){const o={};for(const u of i)if(J1(n,e,u)&&!r[Lh(u)]){const m=new Lr([],{});o[Lh(u)]=m}return{...r,...o}}function F8(n,t){const e={};e[_i]=t;for(const i of n)if(""===i.path&&Lh(i)!==_i){const r=new Lr([],{});e[Lh(i)]=r}return e}function J1(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class z8{constructor(t,e,i,r,o,u,m){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=u,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new k8(this.urlSerializer,this.urlTree)}noMatchError(t){return new a.vHH(4002,!1)}recognize(){const t=FB(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,_i).pipe(Lg(e=>{if(e instanceof RB)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Q1?this.noMatchError(e):e}),(0,gn.U)(e=>{const i=new W1([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},_i,this.rootComponentType,null,{}),r=new dm(i,e),o=new EB("",r),u=function PW(n,t,e=null,i=null){return hB(dB(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(o._root),{state:o,tree:u}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,_i).pipe(Lg(i=>{throw i instanceof Q1?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=xB(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Dr.D)(r).pipe(oy(o=>{const u=i.children[o],m=function a8(n,t){const e=n.filter(i=>Lh(i)===t);return e.push(...n.filter(i=>Lh(i)!==t)),e}(e,o);return this.processSegmentGroup(t,m,u,o)}),q0((o,u)=>(o.push(...u),o)),L1(null),function uW(n,t){const e=arguments.length>=2;return i=>i.pipe(n?cr((r,o)=>n(r,o,i)):QE.y,IN(1),e?L1(t):QV(()=>new F1))}(),(0,Ma.z)(o=>{if(null===o)return X0(i);const u=LB(o);return function H8(n){n.sort((t,e)=>t.value.outlet===_i?-1:e.value.outlet===_i?1:t.value.outlet.localeCompare(e.value.outlet))}(u),(0,_n.of)(u)}))}processSegment(t,e,i,r,o,u){return(0,Dr.D)(e).pipe(oy(m=>this.processSegmentAgainstRoute(m._injector??t,e,m,i,r,o,u).pipe(Lg(v=>{if(v instanceof Q1)return(0,_n.of)(null);throw v}))),Fg(m=>!!m),Lg(m=>{if(PB(m))return function B8(n,t,e){return 0===t.length&&!n.children[e]}(i,r,o)?(0,_n.of)([]):X0(i);throw m}))}processSegmentAgainstRoute(t,e,i,r,o,u,m){return function V8(n,t,e,i){return!!(Lh(n)===i||i!==_i&&J1(t,e,n))&&("**"===n.path||HN(t,n,e).matched)}(i,r,o,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,o,u,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,u):X0(r):X0(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?NB(o):this.applyRedirects.lineralizeSegments(i,o).pipe((0,Ma.z)(u=>{const m=new Lr(u,{});return this.processSegment(t,e,m,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){const{matched:m,consumedSegments:v,remainingSegments:x,positionalParamSegments:O}=HN(e,r,o);if(!m)return X0(e);const L=this.applyRedirects.applyRedirectCommands(v,r.redirectTo,O);return r.redirectTo.startsWith("/")?NB(L):this.applyRedirects.lineralizeSegments(r,L).pipe((0,Ma.z)(q=>this.processSegment(t,i,e,q.concat(x),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,o,u){let m;if("**"===i.path){const v=r.length>0?eB(r).parameters:{},x=new W1(r,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,UB(i),Lh(i),i.component??i._loadedComponent??null,i,VB(i));m=(0,_n.of)({snapshot:x,consumedSegments:[],remainingSegments:[]}),e.children={}}else m=R8(e,i,r,t).pipe((0,gn.U)(({matched:v,consumedSegments:x,remainingSegments:O,parameters:L})=>v?{snapshot:new W1(x,L,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,UB(i),Lh(i),i.component??i._loadedComponent??null,i,VB(i)),consumedSegments:x,remainingSegments:O}:null));return m.pipe((0,ss.w)(v=>null===v?X0(e):this.getChildConfig(t=i._injector??t,i,r).pipe((0,ss.w)(({routes:x})=>{const O=i._loadedInjector??t,{snapshot:L,consumedSegments:q,remainingSegments:ne}=v,{segmentGroup:ae,slicedSegments:ye}=FB(e,q,ne,x);if(0===ye.length&&ae.hasChildren())return this.processChildren(O,x,ae).pipe((0,gn.U)(wt=>null===wt?null:[new dm(L,wt)]));if(0===x.length&&0===ye.length)return(0,_n.of)([new dm(L,[])]);const We=Lh(i)===o;return this.processSegment(O,x,ae,ye,We?_i:o,!0).pipe((0,gn.U)(wt=>[new dm(L,wt)]))}))))}getChildConfig(t,e,i){return e.children?(0,_n.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,_n.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function D8(n,t,e,i){const r=t.canLoad;if(void 0===r||0===r.length)return(0,_n.of)(!0);const o=r.map(u=>{const m=Q0(u,n);return Ug(function m8(n){return n&&fI(n.canLoad)}(m)?m.canLoad(t,e):n.runInContext(()=>m(t,e)))});return(0,_n.of)(o).pipe(J0(),kB())}(t,e,i).pipe((0,Ma.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,tr.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function P8(n){return $0(SB(!1,3))}())):(0,_n.of)({routes:[],injector:t})}}function $8(n){const t=n.value.routeConfig;return t&&""===t.path}function LB(n){const t=[],e=new Set;for(const i of n){if(!$8(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=LB(i.children);t.push(new dm(i.value,r))}return t.filter(i=>!e.has(i))}function UB(n){return n.data||{}}function VB(n){return n.resolve||{}}function BB(n){return"string"==typeof n.title||null===n.title}function $N(n){return(0,ss.w)(t=>{const e=n(t);return e?(0,Dr.D)(e).pipe((0,gn.U)(()=>t)):(0,_n.of)(t)})}const ew=new a.OlP("ROUTES");let qN=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,_n.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Ug(e.loadComponent()).pipe((0,gn.U)(jB),(0,tr.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),U1(()=>{this.componentLoaders.delete(e)})),r=new KV(i,()=>new Hn.x).pipe(EN());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,_n.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function Q8(n,t,e,i){return Ug(n.loadChildren()).pipe((0,gn.U)(jB),(0,Ma.z)(r=>r instanceof a.YKP||Array.isArray(r)?(0,_n.of)(r):(0,Dr.D)(t.compileModuleAsync(r))),(0,gn.U)(r=>{i&&i(n);let o,u,m=!1;return Array.isArray(r)?(u=r,!0):(o=r.create(e).injector,u=o.get(ew,[],{optional:!0,self:!0}).flat()),{routes:u.map(jN),injector:o}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(U1(()=>{this.childrenLoaders.delete(i)})),u=new KV(o,()=>new Hn.x).pipe(EN());return this.childrenLoaders.set(i,u),u}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jB(n){return function J8(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let X1=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Hn.x,this.transitionAbortSubject=new Hn.x,this.configLoader=(0,a.f3M)(qN),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(nI),this.rootContexts=(0,a.f3M)(cI),this.inputBindingEnabled=null!==(0,a.f3M)(Z1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,_n.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new $W(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new HW(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new zd.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:sI,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(cr(o=>0!==o.id),(0,gn.U)(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),(0,ss.w)(o=>{this.currentTransition=o;let u=!1,m=!1;return(0,_n.of)(o).pipe((0,tr.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.rawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ss.w)(v=>{const x=v.currentBrowserUrl.toString(),O=!e.navigated||v.extractedUrl.toString()!==x||x!==v.currentUrlTree.toString();if(!O&&"reload"!==(v.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const q="";return this.events.next(new Z0(v.id,this.urlSerializer.serialize(v.rawUrl),q,0)),v.resolve(null),Hf.E}if(e.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return(0,_n.of)(v).pipe((0,ss.w)(q=>{const ne=this.transitions?.getValue();return this.events.next(new q1(q.id,this.urlSerializer.serialize(q.extractedUrl),q.source,q.restoredState)),ne!==this.transitions?.getValue()?Hf.E:Promise.resolve(q)}),function q8(n,t,e,i,r,o){return(0,Ma.z)(u=>function j8(n,t,e,i,r,o,u="emptyOnly"){return new z8(n,t,e,i,r,u,o).recognize()}(n,t,e,i,u.extractedUrl,r,o).pipe((0,gn.U)(({state:m,tree:v})=>({...u,targetSnapshot:m,urlAfterRedirects:v}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,tr.b)(q=>{o.targetSnapshot=q.targetSnapshot,o.urlAfterRedirects=q.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:q.urlAfterRedirects};const ne=new vB(q.id,this.urlSerializer.serialize(q.extractedUrl),this.urlSerializer.serialize(q.urlAfterRedirects),q.targetSnapshot);this.events.next(ne)}));if(O&&e.urlHandlingStrategy.shouldProcessUrl(v.currentRawUrl)){const{id:q,extractedUrl:ne,source:ae,restoredState:ye,extras:We}=v,wt=new q1(q,this.urlSerializer.serialize(ne),ae,ye);this.events.next(wt);const At=CB(0,this.rootComponentType).snapshot;return this.currentTransition=o={...v,targetSnapshot:At,urlAfterRedirects:ne,extras:{...We,skipLocationChange:!1,replaceUrl:!1}},(0,_n.of)(o)}{const q="";return this.events.next(new Z0(v.id,this.urlSerializer.serialize(v.extractedUrl),q,1)),v.resolve(null),Hf.E}}),(0,tr.b)(v=>{const x=new VW(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(x)}),(0,gn.U)(v=>(this.currentTransition=o={...v,guards:u8(v.targetSnapshot,v.currentSnapshot,this.rootContexts)},o)),function w8(n,t){return(0,Ma.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?(0,_n.of)({...e,guardsResult:!0}):function C8(n,t,e,i){return(0,Dr.D)(n).pipe((0,Ma.z)(r=>function S8(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,_n.of)(!0);const u=o.map(m=>{const v=uI(t)??r,x=Q0(m,v);return Ug(function v8(n){return n&&fI(n.canDeactivate)}(x)?x.canDeactivate(n,t,e,i):v.runInContext(()=>x(n,t,e,i))).pipe(Fg())});return(0,_n.of)(u).pipe(J0())}(r.component,r.route,e,t,i)),Fg(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Ma.z)(m=>m&&function p8(n){return"boolean"==typeof n}(m)?function x8(n,t,e,i){return(0,Dr.D)(t).pipe(oy(r=>XE(function I8(n,t){return null!==n&&t&&t(new qW(n)),(0,_n.of)(!0)}(r.route.parent,i),function E8(n,t){return null!==n&&t&&t(new WW(n)),(0,_n.of)(!0)}(r.route,i),function T8(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function d8(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>Hc(()=>{const m=u.guards.map(v=>{const x=uI(u.node)??e,O=Q0(v,x);return Ug(function _8(n){return n&&fI(n.canActivateChild)}(O)?O.canActivateChild(i,n):x.runInContext(()=>O(i,n))).pipe(Fg())});return(0,_n.of)(m).pipe(J0())}));return(0,_n.of)(o).pipe(J0())}(n,r.path,e),function M8(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,_n.of)(!0);const r=i.map(o=>Hc(()=>{const u=uI(t)??e,m=Q0(o,u);return Ug(function g8(n){return n&&fI(n.canActivate)}(m)?m.canActivate(t,n):u.runInContext(()=>m(t,n))).pipe(Fg())}));return(0,_n.of)(r).pipe(J0())}(n,r.route,e))),Fg(r=>!0!==r,!0))}(i,o,n,t):(0,_n.of)(m)),(0,gn.U)(m=>({...e,guardsResult:m})))})}(this.environmentInjector,v=>this.events.next(v)),(0,tr.b)(v=>{if(o.guardsResult=v.guardsResult,ay(v.guardsResult))throw TB(0,v.guardsResult);const x=new BW(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.events.next(x)}),cr(v=>!!v.guardsResult||(this.cancelNavigationTransition(v,"",3),!1)),$N(v=>{if(v.guards.canActivateChecks.length)return(0,_n.of)(v).pipe((0,tr.b)(x=>{const O=new jW(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(O)}),(0,ss.w)(x=>{let O=!1;return(0,_n.of)(x).pipe(function G8(n,t){return(0,Ma.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,_n.of)(e);let o=0;return(0,Dr.D)(r).pipe(oy(u=>function W8(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!BB(r)&&(o[eI]=r.title),function Z8(n,t,e,i){const r=function Y8(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,_n.of)({});const o={};return(0,Dr.D)(r).pipe((0,Ma.z)(u=>function K8(n,t,e,i){const r=uI(t)??i,o=Q0(n,r);return Ug(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[u],t,e,i).pipe(Fg(),(0,tr.b)(m=>{o[u]=m}))),IN(1),JV(o),Lg(u=>PB(u)?Hf.E:$0(u)))}(o,n,t,i).pipe((0,gn.U)(u=>(n._resolvedData=u,n.data=xB(n,e).resolve,r&&BB(r)&&(n.data[eI]=r.title),null)))}(u.route,i,n,t)),(0,tr.b)(()=>o++),IN(1),(0,Ma.z)(u=>o===r.length?(0,_n.of)(e):Hf.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,tr.b)({next:()=>O=!0,complete:()=>{O||this.cancelNavigationTransition(x,"",2)}}))}),(0,tr.b)(x=>{const O=new zW(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(O)}))}),$N(v=>{const x=O=>{const L=[];O.routeConfig?.loadComponent&&!O.routeConfig._loadedComponent&&L.push(this.configLoader.loadComponent(O.routeConfig).pipe((0,tr.b)(q=>{O.component=q}),(0,gn.U)(()=>{})));for(const q of O.children)L.push(...x(q));return L};return N1(x(v.targetSnapshot.root)).pipe(L1(),nl(1))}),$N(()=>this.afterPreactivation()),(0,gn.U)(v=>{const x=function XW(n,t,e){const i=lI(n,t._root,e?e._root:void 0);return new wB(i,t)}(e.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return this.currentTransition=o={...v,targetRouterState:x},o}),(0,tr.b)(()=>{this.events.next(new PN)}),((n,t,e,i)=>(0,gn.U)(r=>(new l8(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,v=>this.events.next(v),this.inputBindingEnabled),nl(1),(0,tr.b)({next:v=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vg(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects))),e.titleStrategy?.updateTitle(v.targetRouterState.snapshot),v.resolve(!0)},complete:()=>{u=!0}}),Hd(this.transitionAbortSubject.pipe((0,tr.b)(v=>{throw v}))),U1(()=>{u||m||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Lg(v=>{if(m=!0,DB(v))this.events.next(new aI(o.id,this.urlSerializer.serialize(o.extractedUrl),v.message,v.cancellationCode)),function n8(n){return DB(n)&&ay(n.url)}(v)?this.events.next(new kN(v.url)):o.resolve(!1);else{this.events.next(new G1(o.id,this.urlSerializer.serialize(o.extractedUrl),v,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(v))}catch(x){o.reject(x)}}return Hf.E}))}))}cancelNavigationTransition(e,i,r){const o=new aI(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zB(n){return n!==sI}let HB=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===_i);return i}getResolvedTitleForRoute(e){return e.data[eI]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(X8)},providedIn:"root"})}return n})(),X8=(()=>{class n extends HB{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(pt))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),e9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(n9)},providedIn:"root"})}return n})();class t9{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let n9=(()=>{class n extends t9{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}();static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const eO=new a.OlP("",{providedIn:"root",factory:()=>({})});let i9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(r9)},providedIn:"root"})}return n})(),r9=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pI=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(pI||{});function $B(n,t){n.events.pipe(cr(e=>e instanceof Vg||e instanceof aI||e instanceof G1||e instanceof Z0),(0,gn.U)(e=>e instanceof Vg||e instanceof Z0?pI.COMPLETE:e instanceof aI&&(0===e.code||1===e.code)?pI.REDIRECTING:pI.FAILED),cr(e=>e!==pI.REDIRECTING),nl(1)).subscribe(()=>{t()})}function o9(n){throw n}function s9(n,t,e){return t.parse("/")}const a9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},c9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Za=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this._events=new Hn.x,this.options=(0,a.f3M)(eO,{optional:!0})||{},this.pendingTasks=(0,a.f3M)(a.HDt),this.errorHandler=this.options.errorHandler||o9,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||s9,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(i9),this.routeReuseStrategy=(0,a.f3M)(e9),this.titleStrategy=(0,a.f3M)(HB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,a.f3M)(ew,{optional:!0})?.flat()??[],this.navigationTransitions=(0,a.f3M)(X1),this.urlSerializer=(0,a.f3M)(nI),this.location=(0,a.f3M)(mt),this.componentInputBindingEnabled=!!(0,a.f3M)(Z1,{optional:!0}),this.eventsSubscription=new Zu.w0,this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new W0,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=CB(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(qB(i)&&this._events.next(i));if(i instanceof q1)zB(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Z0)this.rawUrlTree=r.rawUrl;else if(i instanceof vB){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof PN)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof aI)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof kN){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||zB(r.source)};this.scheduleNavigation(o,sI,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof G1&&this.restoreHistory(r,!0),i instanceof Vg&&(this.navigated=!0),qB(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),sI,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},u=r?.navigationId?r:null;if(r){const v={...r};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(o.state=v)}const m=this.parseUrl(e);this.scheduleNavigation(m,i,u,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(jN),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:m,preserveFragment:v}=i,x=v?this.currentUrlTree.fragment:u;let L,O=null;switch(m){case"merge":O={...this.currentUrlTree.queryParams,...o};break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=o||null}null!==O&&(O=this.removeEmptyProps(O));try{L=dB(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),L=this.currentUrlTree.root}return hB(L,e,O,x??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=ay(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,sI,null,i)}navigate(e,i={skipLocationChange:!1}){return function l9(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new a.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...a9}:!1===i?{...c9}:i,ay(e))return nB(this.currentUrlTree,e,r);const o=this.parseUrl(e);return nB(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,u){if(this.disposed)return Promise.resolve(!1);let m,v,x;u?(m=u.resolve,v=u.reject,x=u.promise):x=new Promise((L,q)=>{m=L,v=q});const O=this.pendingTasks.add();return $B(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(O))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:m,reject:v,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(L=>Promise.reject(L))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const u={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",u)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qB(n){return!(n instanceof PN||n instanceof kN)}let Gf=(()=>{class n{constructor(e,i,r,o,u,m){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=u,this.locationStrategy=m,this.href=null,this.commands=null,this.onChanges=new Hn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const v=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===v||"area"===v,this.isAnchorElement?this.subscription=e.events.subscribe(x=>{x instanceof Vg&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Za),a.Y36(K0),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Ne))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&a.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&i&&a.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",a.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",a.VuI],replaceUrl:["replaceUrl","replaceUrl",a.VuI],routerLink:"routerLink"},standalone:!0,features:[a.Xq5,a.TTD]})}return n})(),GB=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,r,o,u){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=u,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=e.events.subscribe(m=>{m instanceof Vg&&this.update()})}ngAfterContentInit(){(0,_n.of)(this.links.changes,(0,_n.of)(null)).pipe((0,JE.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Dr.D)(e).pipe((0,JE.J)()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function u9(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Za),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(Gf,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(1&i&&a.Suo(o,Gf,5),2&i){let u;a.iGM(u=a.CRH())&&(r.links=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.TTD]})}return n})();class WB{}let d9=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(cr(e=>e instanceof Vg),oy(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,a.MMx)(o.providers,e,`Route: ${o.path}`));const u=o._injector??e,m=o._loadedInjector??u;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(u,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(m,o.children??o._loadedRoutes))}return(0,Dr.D)(r).pipe((0,JE.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,_n.of)(null);const o=r.pipe((0,Ma.z)(u=>null===u?(0,_n.of)(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,Dr.D)([o,u]).pipe((0,JE.J)())}return o})}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Za),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(WB),a.LFG(qN))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const GN=new a.OlP("");let ZB=(()=>{class n{constructor(e,i,r,o,u={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof q1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Vg?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Z0&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof yB&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yB(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){a.$Z()};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();function hm(n,t){return{\u0275kind:n,\u0275providers:t}}function KB(){const n=(0,a.f3M)(a.zs3);return t=>{const e=n.get(a.z2F);if(t!==e.components[0])return;const i=n.get(Za),r=n.get(QB);1===n.get(WN)&&i.initialNavigation(),n.get(JB,null,a.XFs.Optional)?.setUpPreloading(),n.get(GN,null,a.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const QB=new a.OlP("",{factory:()=>new Hn.x}),WN=new a.OlP("",{providedIn:"root",factory:()=>1}),JB=new a.OlP("");function m9(n){return hm(0,[{provide:JB,useExisting:d9},{provide:WB,useExisting:n}])}const XB=new a.OlP("ROUTER_FORROOT_GUARD"),_9=[mt,{provide:nI,useClass:TN},Za,cI,{provide:K0,useFactory:function YB(n){return n.routerState.root},deps:[Za]},qN,[]];function v9(){return new a.PXZ("Router",Za)}let e3=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[_9,[],{provide:ew,multi:!0,useValue:e},{provide:XB,useFactory:C9,deps:[[Za,new a.FiY,new a.tp0]]},{provide:eO,useValue:i||{}},i?.useHash?{provide:Ne,useClass:st}:{provide:Ne,useClass:lt},{provide:GN,useFactory:()=>{const n=(0,a.f3M)(Er),t=(0,a.f3M)(a.R0b),e=(0,a.f3M)(eO),i=(0,a.f3M)(X1),r=(0,a.f3M)(nI);return e.scrollOffset&&n.setOffset(e.scrollOffset),new ZB(r,i,n,t,e)}},i?.preloadingStrategy?m9(i.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:v9},i?.initialNavigation?x9(i):[],i?.bindToComponentInputs?hm(8,[MB,{provide:Z1,useExisting:MB}]).\u0275providers:[],[{provide:t3,useFactory:KB},{provide:a.tb,multi:!0,useExisting:t3}]]}}static forChild(e){return{ngModule:n,providers:[{provide:ew,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(XB,8))};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();function C9(n){return"guarded"}function x9(n){return["disabled"===n.initialNavigation?hm(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const t=(0,a.f3M)(Za);return()=>{t.setUpLocationChangeListener()}}},{provide:WN,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?hm(2,[{provide:WN,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:t=>{const e=t.get(ut,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(Za),o=t.get(QB);$B(r,()=>{i(!0)}),t.get(X1).afterPreactivation=()=>(i(!0),o.closed?(0,_n.of)(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const t3=new a.OlP("");let I9=(()=>{class n{constructor(){this.loremIps="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. ",this.more="Tudjon meg t\xf6bbet!",this.ourSunglasses="Forgalmazott napszem\xfcvegek",this.ourFragrances="Forgalmazott parf\xfcm\xf6k",this.hawkers="Tekintse meg leg\xfajabb Hawkers napszem\xfcvegeket sz\xe9les k\xedn\xe1latunkban.",this.goToProducts="Tov\xe1bb a term\xe9kekhez!",this.labella="Minden f\xe9rfit mag\xe1hoz vonz, \xe9s t\xf6k\xe9letes p\xe1rt alkot a Jean Paul Gaultier Le Male Le Parfum f\xe9rfi illattal \u2013 ez a Jean Paul Gaultier La Belle Le Parfum n\u0151i illat, amelynek nagyon neh\xe9z ellen\xe1llni. \xdajabb term\xe9s Jean Paul Gaultier k\xe9pzeletbeli kertj\xe9b\u0151l, ahol minden b\u0171n megengedett.",this.lebeau="A f\xe9rfi Jean Paul Gaultier Le Beau \xfcvegcs\xe9j\xe9nek az alakja egy izmos f\xe9rfitorz\xf3, amelyet csak egy lev\xe9l takar. \xdagy n\xe9z ki, mintha egyenesen a Paradicsomb\xf3l l\xe9pett volna el\u0151. Azonban az \u0151 eset\xe9ben sz\xf3 sincs tiltott gy\xfcm\xf6lcsr\u0151l. Egy\xe9rtelm\u0171en k\xf3stol\xe1sra k\xe9sztet\u0151, friss, f\xfcgg\u0151s\xe9get kiv\xe1lt\xf3 illat.",this.readMore="Olvasson t\xf6bbet a m\xe1rk\xe1r\xf3l!"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const M9=function(n){return{"image-active":n}};function T9(n,t){if(1&n&&a._UZ(0,"img",6),2&n){const e=t.$implicit,i=t.index,r=a.oxw(2);a.Q6J("src",e.imageSrc,a.LSH)("alt",e.imageAlt)("ngClass",a.VKq(3,M9,r.selectedIndex===i))}}const S9=function(n){return{active:n}};function D9(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"span",9),a.NdJ("click",function(){const o=a.CHM(e).index,u=a.oxw(3);return a.KtG(u.selectImage(o))}),a.qZA()}if(2&n){const e=t.index,i=a.oxw(3);a.Q6J("ngClass",a.VKq(1,S9,i.selectedIndex===e))}}function O9(n,t){if(1&n&&(a.TgZ(0,"div",7),a.YNc(1,D9,1,3,"span",8),a.qZA()),2&n){const e=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",e.images)}}function A9(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",10)(1,"i",11),a.NdJ("click",function(){a.CHM(e);const r=a.oxw(2);return a.KtG(r.onPrevClick())}),a.qZA()()}}function P9(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",12)(1,"i",13),a.NdJ("click",function(){a.CHM(e);const r=a.oxw(2);return a.KtG(r.onNextClick())}),a.qZA()()}}function k9(n,t){if(1&n&&(a.TgZ(0,"div",1),a.YNc(1,T9,1,5,"img",2),a.YNc(2,O9,2,1,"div",3),a.YNc(3,A9,2,0,"div",4),a.YNc(4,P9,2,0,"div",5),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Q6J("ngForOf",e.images),a.xp6(1),a.Q6J("ngIf",e.indicators),a.xp6(1),a.Q6J("ngIf",e.controls),a.xp6(1),a.Q6J("ngIf",e.controls)}}let R9=(()=>{class n{constructor(){this.images=[],this.indicators=!0,this.controls=!0,this.autoSlide=!1,this.slideInterval=3e3,this.selectedIndex=0}ngOnInit(){this.autoSlide&&this.autoSlideImages()}autoSlideImages(){setInterval(()=>{this.onNextClick()},this.slideInterval)}selectImage(e){this.selectedIndex=e}onPrevClick(){0===this.selectedIndex?this.selectedIndex=this.images.length-1:this.selectedIndex--}onNextClick(){this.selectedIndex===this.images.length-1?this.selectedIndex=0:this.selectedIndex++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-carousel"]],inputs:{images:"images",indicators:"indicators",controls:"controls",autoSlide:"autoSlide",slideInterval:"slideInterval"},decls:1,vars:1,consts:[["class","carousel-container",4,"ngIf"],[1,"carousel-container"],["class","fade",3,"src","alt","ngClass",4,"ngFor","ngForOf"],["class","carousel-dot-container",4,"ngIf"],["class","btn-carousel btn-prev",4,"ngIf"],["class","btn-carousel btn-next",4,"ngIf"],[1,"fade",3,"src","alt","ngClass"],[1,"carousel-dot-container"],["class","dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dot",3,"ngClass","click"],[1,"btn-carousel","btn-prev"],[1,"fas","fa-arrow-circle-left","icon-carousel","icon-prev",3,"click"],[1,"btn-carousel","btn-next"],[1,"fas","fa-arrow-circle-right","icon-carousel","icon-next",3,"click"]],template:function(i,r){1&i&&a.YNc(0,k9,5,4,"div",0),2&i&&a.Q6J("ngIf",r.images&&r.images.length>0)},dependencies:[No,jn,xi],styles:[".carousel-container[_ngcontent-%COMP%]{position:relative;margin:auto;text-align:center;width:auto;max-width:1100px;border-radius:0}.carousel-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}.carousel-container[_ngcontent-%COMP%]   img.image-active[_ngcontent-%COMP%]{display:block;width:100%;height:100%}.carousel-dot-container[_ngcontent-%COMP%]{position:absolute;right:0;left:0;bottom:0;display:flex;justify-content:center;padding:0;margin-bottom:1rem}.dot[_ngcontent-%COMP%]{cursor:pointer;height:13px;width:13px;margin:0 5px;background-color:#fff;border-radius:50%;display:inline-block;transition:opacitiy .6s ease;opacity:.5}.active[_ngcontent-%COMP%], .dot[_ngcontent-%COMP%]:hover{opacity:1}.fade[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fade;animation-duration:.7s}@keyframes _ngcontent-%COMP%_fade{0%{opacity:.8}to{opacity:1}}.btn-carousel[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:0 0;cursor:pointer}.icon-carousel[_ngcontent-%COMP%]{opacity:.5;transition:all .15s ease}.icon-carousel[_ngcontent-%COMP%]:hover{color:#fff;opacity:.9}.icon-carousel[_ngcontent-%COMP%]:active{opacity:.5}.icon-prev[_ngcontent-%COMP%], .icon-next[_ngcontent-%COMP%]{font-size:35px}.btn-prev[_ngcontent-%COMP%]{left:0}.btn-next[_ngcontent-%COMP%]{right:0}"]})}return n})(),N9=(()=>{class n{constructor(){this.text=""}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-custom-button"]],inputs:{text:"text"},decls:2,vars:1,consts:[[1,"custom-button"]],template:function(i,r){1&i&&(a.TgZ(0,"button",0),a._uU(1),a.qZA()),2&i&&(a.xp6(1),a.Oqu(r.text))},styles:['.custom-button[_ngcontent-%COMP%]{margin-top:20px;width:auto;height:45px;font-size:20px;cursor:pointer;border:none;outline:none;background:transparent;color:#fff;font-weight:700;position:relative;transition:all .5s;z-index:1}.custom-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-10px;width:5px;height:100%;background-color:#fff;z-index:-1;transition:all .5s}.custom-button[_ngcontent-%COMP%]:hover:before{width:110%}.custom-button[_ngcontent-%COMP%]:hover{color:#000}.custom-button[_ngcontent-%COMP%]:active:before{background:#b9b9b9}@media screen and (max-width: 768px){.custom-button[_ngcontent-%COMP%]{height:35px;font-size:15px}}']})}return n})();function F9(n,t){1&n&&a._UZ(0,"img",26)}function L9(n,t){1&n&&a._UZ(0,"img",27)}function U9(n,t){1&n&&a._UZ(0,"img",28)}let V9=(()=>{class n{constructor(e,i,r){this.textService=e,this.elementRef=i,this.renderer=r,this.showContent=!1,this.screenWidth=0,this.images=[{imageSrc:"./assets/images/commercial/scandal_commercial_ps_copy.jpg",imageAlt:"scandal"},{imageSrc:"./assets/images/commercial/dior_commercial_ps_copy.jpg",imageAlt:"sauvage"}],this.mobileImages=[{imageSrc:"./assets/images/commercial/scandal_commercial_mobile_ps_copy.jpg"},{imageSrc:"./assets/images/commercial/dior_commercial_mobile_ps_copy.jpg"}],this.currentImages=this.images,this.updateImagesBasedOnScreenWidth()}ngOnInit(){setTimeout(()=>{this.showContent=!0},2e3)}checkScroll(){const e=this.elementRef.nativeElement.querySelector("#remove-brightness"),i=this.elementRef.nativeElement.querySelector("#add-brightness"),r=this.elementRef.nativeElement.querySelector("#first-text-animation"),u=(this.elementRef.nativeElement.querySelector("#second-text-animation"),this.elementRef.nativeElement.querySelector("#delayed-element")),m=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,x=i.offsetTop,O=window.innerHeight;m+O>=e.offsetTop&&(this.renderer.addClass(e,"a-remove-brightness"),this.renderer.addClass(r,"a-first-text"),this.renderer.addClass(u,"a-delayed")),m+O>=x&&this.renderer.addClass(i,"a-add-brightness")}onResize(e){this.updateImagesBasedOnScreenWidth()}updateImagesBasedOnScreenWidth(){this.screenWidth=window.innerWidth,this.currentImages=this.screenWidth<768?this.mobileImages:this.images}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(I9),a.Y36(a.SBq),a.Y36(a.Qsj))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-dashboard"]],hostBindings:function(i,r){1&i&&a.NdJ("scroll",function(u){return r.checkScroll(u)},!1,a.Jf7)("resize",function(u){return r.onResize(u)},!1,a.Jf7)},decls:36,vars:13,consts:[[3,"images","autoSlide"],[1,"dashboard-container"],[1,"commercial-container"],[1,"brand-container"],[1,"brand-text"],[1,"brands"],["src","../../assets/images/commercial/hawkers_logo.png",1,"hawkers"],[1,"commercial-first"],["id","first-text-animation",1,"first-text"],["id","delayed-element","routerLink","/products/",1,""],["class","commercial-img","id","remove-brightness","src","../../assets/images/commercial/mainpage_commercial1.jpg","alt","",4,"ngIf"],["class","commercial-img","id","remove-brightness","src","../../assets/images/commercial/mainpage_commercial_mobile_copy.jpg",4,"ngIf"],["class","commercial-img","id","remove-brightness","src","../../assets/images/commercial/mainpage_commercial_mobile_512.png","alt","",4,"ngIf"],[1,"fragrances-text"],["src","../../assets/images/commercial/dior_logo.png",1,"dior"],["src","../../assets/images/commercial/jpg_logo.png",1,"jpg"],["src","../../assets/images/commercial/lancome_logo.png",1,"lancome"],["id","add-brightness",1,"commercial-second-container-1"],[1,"image-container-1"],["src","../../assets/images/commercial/commercial_labella_copy_1.jpg","alt","",1,"commercial-second-img-1"],[1,"common-text-2-container"],[1,"second-text-1"],["routerLink","/jeanpaulgaultier/",3,"text"],[1,"image-container-2"],["src","../../assets/images/commercial/lebauraw.jpg",1,"commercial-second-img-2"],[1,"second-text-2"],["id","remove-brightness","src","../../assets/images/commercial/mainpage_commercial1.jpg","alt","",1,"commercial-img"],["id","remove-brightness","src","../../assets/images/commercial/mainpage_commercial_mobile_copy.jpg",1,"commercial-img"],["id","remove-brightness","src","../../assets/images/commercial/mainpage_commercial_mobile_512.png","alt","",1,"commercial-img"]],template:function(i,r){1&i&&(a._UZ(0,"app-carousel",0),a.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),a._uU(5),a.qZA(),a.TgZ(6,"div",5),a._UZ(7,"img",6),a.qZA()(),a.TgZ(8,"div",7)(9,"div",8),a._uU(10),a.TgZ(11,"button",9),a._uU(12),a.qZA()(),a.YNc(13,F9,1,0,"img",10),a.YNc(14,L9,1,0,"img",11),a.YNc(15,U9,1,0,"img",12),a.qZA(),a.TgZ(16,"div",3)(17,"div",13),a._uU(18),a.qZA(),a.TgZ(19,"div",5),a._UZ(20,"img",14)(21,"img",15)(22,"img",16),a.qZA()(),a.TgZ(23,"div",17)(24,"div",18),a._UZ(25,"img",19),a.TgZ(26,"div",20)(27,"div",21),a._uU(28),a._UZ(29,"app-custom-button",22),a.qZA()()(),a.TgZ(30,"div",23),a._UZ(31,"img",24),a.TgZ(32,"div",20)(33,"div",25),a._uU(34),a._UZ(35,"app-custom-button",22),a.qZA()()()()()()),2&i&&(a.Q6J("images",r.currentImages)("autoSlide",!0),a.xp6(5),a.hij(" ",r.textService.ourSunglasses," "),a.xp6(5),a.hij("",r.textService.hawkers," "),a.xp6(2),a.Oqu(r.textService.goToProducts),a.xp6(1),a.Q6J("ngIf",r.screenWidth>=768),a.xp6(1),a.Q6J("ngIf",r.screenWidth<768&&r.screenWidth>512),a.xp6(1),a.Q6J("ngIf",r.screenWidth<512),a.xp6(3),a.hij(" ",r.textService.ourFragrances," "),a.xp6(10),a.hij("",r.textService.labella," "),a.xp6(1),a.Q6J("text",r.textService.more),a.xp6(5),a.hij("",r.textService.lebeau," "),a.xp6(1),a.Q6J("text",r.textService.more))},dependencies:[xi,Gf,R9,N9],styles:['.a-remove-brightness[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_removeBrightness 2s ease forwards}.a-delayed[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeIn 2s ease forwards;animation-delay:3s}.a-first-text[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeIn 1s ease forwards;animation-delay:2s;pointer-events:none}.a-second-text[_ngcontent-%COMP%], .a-third-text[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeIn 1s ease forwards;animation-delay:2s}.a-add-brightness[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_addBrightness 3s ease forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;pointer-events:none}to{pointer-events:auto;opacity:1}}@keyframes _ngcontent-%COMP%_removeBrightness{0%{filter:brightness(90%)}to{filter:brightness(20%)}}@keyframes _ngcontent-%COMP%_addBrightness{0%{filter:brightness(10%)}to{filter:brightness(150%)}}.dashboard-container[_ngcontent-%COMP%]{background-color:#000}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;align-items:center}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]{border:2px solid white;margin:40px 0 20px;color:#fff;height:auto;font-size:20px;font-weight:700;padding:20px 40px;-webkit-user-select:none;user-select:none}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]{background-color:#000;height:100px;margin-top:10px;width:auto;overflow:hidden;color:#fff;justify-content:space-between}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .dior[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .jpg[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .lancome[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .hawkers[_ngcontent-%COMP%]{transition:all .3s;cursor:pointer;height:100px;filter:brightness(150%)}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .dior[_ngcontent-%COMP%]:hover, .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .jpg[_ngcontent-%COMP%]:hover, .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .lancome[_ngcontent-%COMP%]:hover, .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .hawkers[_ngcontent-%COMP%]:hover{filter:brightness(250%)}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .fragrances-text[_ngcontent-%COMP%]{text-align:center;width:auto;margin:40px auto 10px;border:2px solid white;color:#fff;height:auto;font-size:20px;font-weight:700;padding:20px 40px;-webkit-user-select:none;user-select:none}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]   .first-text[_ngcontent-%COMP%]{position:absolute;z-index:2;color:#fff;font-size:18px;margin:0 10px;top:50%;text-align:center;justify-content:center;align-items:center}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]   .first-text[_ngcontent-%COMP%]   .commercial-button[_ngcontent-%COMP%]{border:1px solid white;background-color:#fff;color:#000;display:block;width:auto;font-size:18px;padding:5px 15px}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]   .commercial-img[_ngcontent-%COMP%]{margin-top:10px;max-width:1300px;width:auto;overflow:hidden;filter:brightness(50%);transition:all .4s ease-in-out}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]   .commercial-img[_ngcontent-%COMP%]:hover{filter:brightness(30%);transition:all .4s ease-in-out}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;-webkit-user-select:none;user-select:none}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]{width:50%;position:relative;transition:all .4s ease-in-out}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]:hover, .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]:hover{transition:all .4s ease-in-out;filter:brightness(120%)}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transition:all .5s ease-out;transition-delay:.05s;opacity:0;width:100%;height:100%;padding:0}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]:hover, .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]:hover{opacity:1;background-color:#000000b2}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-2[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-2[_ngcontent-%COMP%]{z-index:100;color:#fff;font-size:18px;margin:15px;position:absolute;top:35%;text-align:center;display:flex;flex-direction:column;opacity:1;filter:brightness(200%)}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-1[_ngcontent-%COMP%]   app-custom-button[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-2[_ngcontent-%COMP%]   app-custom-button[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-1[_ngcontent-%COMP%]   app-custom-button[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-2[_ngcontent-%COMP%]   app-custom-button[_ngcontent-%COMP%]{width:auto;margin:0 auto}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .commercial-second-img-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .commercial-second-img-2[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .commercial-second-img-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .commercial-second-img-2[_ngcontent-%COMP%]{width:100%;height:auto;max-height:100%;transition:all .4s ease-in-out;filter:brightness(60%)}@media screen and (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;align-items:center}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]{font-size:15px}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]{height:auto}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .dior[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .jpg[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .lancome[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .brands[_ngcontent-%COMP%]   .hawkers[_ngcontent-%COMP%]{transition:all .3s;cursor:pointer;height:100px;flex:1}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]   .first-text[_ngcontent-%COMP%]{min-width:80%;font-size:18px;top:50%;-webkit-user-select:none;user-select:none}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]   .first-text[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:15px;padding:15px 30px;margin-top:50px;margin-left:30px}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-first[_ngcontent-%COMP%]   .commercial-img[_ngcontent-%COMP%]{width:100%;margin-top:0;filter:brightness(50%)}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .brand-container[_ngcontent-%COMP%]   .fragrances-text[_ngcontent-%COMP%]{font-size:15px}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]{display:block}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]{width:200%}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-2[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .common-text-2-container[_ngcontent-%COMP%]   .second-text-2[_ngcontent-%COMP%]{top:10%;font-size:14px}.dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .commercial-second-img-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-1[_ngcontent-%COMP%]   .commercial-second-img-2[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .commercial-second-img-1[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]   .commercial-container[_ngcontent-%COMP%]   .commercial-second-container-1[_ngcontent-%COMP%]   .image-container-2[_ngcontent-%COMP%]   .commercial-second-img-2[_ngcontent-%COMP%]{width:200%;height:auto;max-height:auto;transition:all .4s ease-in-out}}button[_ngcontent-%COMP%]{margin-top:40px;z-index:2;color:#fff;display:block;width:-moz-fit-content;width:fit-content;height:auto;outline:none;border:none;background-color:inherit;font-size:20px;font-weight:700;padding:20px 40px;position:relative;cursor:pointer}button[_ngcontent-%COMP%]:before{content:"";display:block;width:100%;height:100%;z-index:3;position:absolute;top:0%;left:0%;transform:scaleX(.2) scaleY(.5) translate(250%,100%);border-top:solid 4px white;border-left:solid 8px white;transition:all .4s ease-in-out}button[_ngcontent-%COMP%]:after{content:"";display:block;width:100%;height:100%;z-index:3;position:absolute;top:0;left:0;transform:translate(-50%,-50%) scaleX(.2) scaleY(.5);border-bottom:solid 4px white;border-right:solid 8px white;transition:all .4s ease-in-out}button[_ngcontent-%COMP%]:hover:before{transform:translate(0) scaleX(1) scaleY(1);border-top:solid 4px white;border-left:solid 4px white}button[_ngcontent-%COMP%]:hover:after{transform:scaleX(1) scaleY(1) translate(0);border-bottom:solid 4px white;border-right:solid 4px white}']})}return n})();Q(4467);const tO=[{routerLink:"dashboard",icon:"fal fa-home",label:"F\u0151oldal"},{routerLink:"products",icon:"fal fa-duotone fa-glasses",label:"Napszem\xfcvegek"},{routerLink:"accessories",icon:"fal fa-gem",label:"Kieg\xe9sz\xedt\u0151k"},{routerLink:"fragrances",icon:" fa fa-spray-can-sparkles",label:"Parf\xfcm\xf6k"},{routerLink:"media",icon:"fal fa-camera",label:"Media"},{routerLink:"user",icon:"fal fa-user",label:"Profil"},{routerLink:"shopping-cart",icon:"fal fa-cart-shopping",label:"Kos\xe1r",badge:0}];let Ya=(()=>{class n{constructor(e){this.fs=e,this.cartItems=[],this.currentProduct=[]}getCollectionData(e){let i=Rh(this.fs,e);return Fs(i,{idField:"id"})}refreshData(e,i){e().subscribe(r=>{i.push(...r)})}getHawkers(){return this.getCollectionData("hawkers")}getJPG(){return this.getCollectionData("JPG")}getOrders(){return this.getCollectionData("*orders")}getUsers(){return this.getCollectionData("*users")}addToCartService(e){const i_selectedPrice=this.selectedSizePrice,r=this.cartItems.find(u=>u.product.id===e.id&&u.selectedPrice===i_selectedPrice);this.cartItems=this.getCartItems(),console.log("Cart items before modification:",this.cartItems),console.log("item: ",e),r?r.quantity<5&&r.quantity++:(this.cartItems.push({product:e,quantity:1,selectedPrice:this.selectedSizePrice,size:this.selectedSize}),console.log("Selected size price: ",this.selectedSizePrice),console.log("Selected size : ",this.selectedSize));const o=tO.find(u=>"shopping-cart"===u.routerLink);if(o){const u=this.cartItems.reduce((m,v)=>m+v.quantity,0);o.badge=u}console.log("Cart items after modification:",this.cartItems)}selectSize(e){this.selectedSize=e.size,this.selectedSizePrice=e.price,console.log("kiv\xe1lasztott \xe1r: ",e.price),console.log("kiv\xe1lasztott kiszerel\xe9s: ",e.size)}getCurrentProduct(e){return this.currentProduct.push([e]),this.currentProduct}getCartItems(){return this.cartItems}getSelectedPrice(){return console.log("valami",this.selectedSizePrice),this.selectedSizePrice}exit(){window.location.reload()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Bf))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wf=(()=>{class n{constructor(e,i,r){this.rendererFactory=e,this.services=i,this.firestore=r,this.isAllChecked=!0,this.isDiorChecked=!1,this.isLancomeChecked=!1,this.isJPGChecked=!1,this.isWomanChecked=!1,this.isManChecked=!1,this.isModalOpen=!1,this.isFilterChecked=!1,this.displayItemCount=6,this.long=9,this.fragrances$=Fs(Rh(this.firestore,"fragrances")),this.manFragrances$=Fs(Wa(Rh(this.firestore,"fragrances"),fo("gender","==","man"))),this.womanFragrances$=Fs(Wa(Rh(this.firestore,"fragrances"),fo("gender","==","woman"))),this.diorQuery$=Fs(Wa(Rh(this.firestore,"fragrances"),fo("brand","==","Dior"))),this.lancomeQuery$=Fs(Wa(Rh(this.firestore,"fragrances"),fo("brand","==","Lancome"))),this.JPGQuery$=Fs(Wa(Rh(this.firestore,"fragrances"),fo("brand","==","Jean Paul Gaultier"))),this.renderer=e.createRenderer(null,null)}loadMoreItem(){this.displayItemCount+=6}filterCheck(){this.isFilterChecked=!this.isFilterChecked}onCheckboxChange(e){"isAllChecked"===e&&(this.isAllChecked=!0,this.isDiorChecked=!1,this.isLancomeChecked=!1,this.isJPGChecked=!1,this.isWomanChecked=!1,this.isManChecked=!1),("isDiorChecked"===e||"isLancomeChecked"===e||"isJPGChecked"===e||"isWomanChecked"===e||"isManChecked"===e)&&(this.isAllChecked=!(this.isDiorChecked||this.isLancomeChecked||this.isJPGChecked||this.isWomanChecked||this.isManChecked));const i=Rh(this.firestore,"fragrances");!0===this.isManChecked&&(this.diorQuery$=Fs(Wa(i,fo("gender","==","man"),fo("brand","==","Dior"))),this.lancomeQuery$=Fs(Wa(i,fo("gender","==","man"),fo("brand","==","Lancome"))),this.JPGQuery$=Fs(Wa(i,fo("gender","==","man"),fo("brand","==","Jean Paul Gaultier"))),this.manFragrances$=Fs(!0===this.isManChecked&&(this.isDiorChecked||this.isLancomeChecked||this.isJPGChecked)?Wa(i,fo("gender","==","man"),fo("brand","==","*")):Wa(i,fo("gender","==","man")))),!0===this.isWomanChecked&&(this.diorQuery$=Fs(Wa(i,fo("gender","==","woman"),fo("brand","==","Dior"))),this.lancomeQuery$=Fs(Wa(i,fo("gender","==","woman"),fo("brand","==","Lancome"))),this.JPGQuery$=Fs(Wa(i,fo("gender","==","woman"),fo("brand","==","Jean Paul Gaultier"))),this.womanFragrances$=Fs(!0===this.isWomanChecked&&(this.isDiorChecked||this.isLancomeChecked||this.isJPGChecked)?Wa(i,fo("gender","==","woman"),fo("brand","==","*")):Wa(i,fo("gender","==","woman")))),!1===this.isWomanChecked&&!1===this.isManChecked&&(this.diorQuery$=Fs(Wa(i,fo("brand","==","Dior"))),this.lancomeQuery$=Fs(Wa(i,fo("brand","==","Lancome"))),this.JPGQuery$=Fs(Wa(i,fo("brand","==","Jean Paul Gaultier"))))}mouseOver(e){e.imagePath=e.modalImagePath[1]}mouseLeave(e){e.imagePath=e.modalImagePath[0]}openModal(e){this.selectedProduct=e,this.isModalOpen=!0,console.log("Kiv\xe1lasztott term\xe9k:",e),this.renderer.setStyle(document.body,"overflow","hidden"),e.type&&e.type.length>0&&this.services.selectSize(e.type[0])}closeModal(){this.renderer.removeStyle(document.body,"overflow"),this.isModalOpen=!1}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.FYo),a.LFG(Ya),a.LFG(Bf))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZN=(()=>{class n{constructor(e,i,r,o){this.rendererFactory=e,this.services=i,this.firestore=r,this.productService=o,this.screenWidthChanged=new a.vpe,this.closeModalEvent=new a.vpe,this.screenWidth=0,this.currentImage="",this.showDetailsBox=!1,this.renderer=e.createRenderer(null,null),this.updateScreenWidth(),window.addEventListener("resize",()=>this.updateScreenWidth())}updateScreenWidth(){this.screenWidth=window.innerWidth,this.screenWidthChanged.emit(this.screenWidth)}disableScroll(){this.renderer.setStyle(document.body,"overflow","hidden")}enableScroll(){this.renderer.removeStyle(document.body,"overflow")}showDetails(){this.showDetailsBox=!this.showDetailsBox}changeMainImage(e){this.currentImage=e,console.log("imagePath value: ",e)}closeModal(){this.closeModalEvent.emit(),this.services.selectedSize=null,this.services.selectedSizePrice=null,console.log("bez\xe1rt modal \xe9rt\xe9ke: ",this.services.selectedSize,this.services.selectedSizePrice),this.renderer.removeStyle(document.body,"overflow"),this.productService.isModalOpen=!1,this.showDetailsBox=!1,this.currentImage=""}addToCart(e){this.services.addToCartService(e),this.closeModal()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.FYo),a.LFG(Ya),a.LFG(Bf),a.LFG(Wf))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function B9(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div")(1,"img",20),a.NdJ("mouseover",function(){const o=a.CHM(e).$implicit,u=a.oxw();return a.KtG(u.modalService.changeMainImage(o))}),a.qZA()()}if(2&n){const e=t.$implicit;a.xp6(1),a.Q6J("src",e,a.LSH)}}function j9(n,t){1&n&&(a.TgZ(0,"i",21),a._uU(1,"Kattintson a r\xe9szletek\xe9rt!"),a.qZA())}function z9(n,t){if(1&n&&(a.TgZ(0,"div",22),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij(" ",e.product.composition.compDescription," ")}}function H9(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",23)(1,"div",24)(2,"p",25),a._uU(3,"Fejillat: "),a.qZA(),a.TgZ(4,"p",12),a._uU(5,"Term\xe9kjellemz\u0151: "),a.qZA(),a.TgZ(6,"button",26),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.modalService.showDetails())}),a._UZ(7,"i",18),a.qZA()()()}}let $9=(()=>{class n{constructor(e,i,r){this.productService=e,this.modalService=i,this.services=r}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Wf),a.Y36(ZN),a.Y36(Ya))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-modal-products"]],inputs:{product:"product"},decls:27,vars:8,consts:[[1,"modal-container"],[1,"modal-content"],[1,"left-section"],[1,"product-name"],[1,"product-description"],[1,"product-price"],[1,"modal-image",3,"src"],[1,"modal-image-selection-container"],[4,"ngFor","ngForOf"],[1,"right-section"],[1,"composition-container"],[1,"composition-description"],[1,"comp-desc-p"],[1,"composition-description",3,"click"],["class","mobile-comp-desc-i",4,"ngIf"],["class","comp-desc-p-details",4,"ngIf"],[1,"cart-btn",3,"click"],[1,"close-btn",3,"click"],[1,"fal","fa-times","close-icon"],["class","mobile-comp-desc-details-container",4,"ngIf"],["alt","Image",1,"modal-image-selection",3,"src","mouseover"],[1,"mobile-comp-desc-i"],[1,"comp-desc-p-details"],[1,"mobile-comp-desc-details-container"],[1,"mobile-comp-desc-details"],[1,"mobile-comp-desc-p"],[1,"close-comp-desc-details-btn",3,"click"]],template:function(i,r){1&i&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),a._uU(4),a.qZA(),a.TgZ(5,"div",4),a._uU(6,"#"),a.qZA(),a.TgZ(7,"div",5),a._uU(8),a.qZA(),a._UZ(9,"img",6),a.TgZ(10,"div",7),a.YNc(11,B9,2,1,"div",8),a.qZA()(),a.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"p",12),a._uU(16,"Fejillat: "),a.qZA()(),a.TgZ(17,"div",13),a.NdJ("click",function(){return r.modalService.showDetails()}),a.TgZ(18,"p",12),a._uU(19,"Term\xe9kjellemz\u0151: "),a.YNc(20,j9,2,0,"i",14),a.qZA(),a.YNc(21,z9,2,1,"div",15),a.qZA()(),a.TgZ(22,"div",16),a.NdJ("click",function(){return r.modalService.addToCart(r.product)}),a._uU(23,"Hozz\xe1ad\xe1s a kos\xe1rhoz"),a.qZA()(),a.TgZ(24,"button",17),a.NdJ("click",function(){return r.modalService.closeModal()}),a._UZ(25,"i",18),a.qZA(),a.YNc(26,H9,8,0,"div",19),a.qZA()()),2&i&&(a.xp6(4),a.AsE(" ",r.product.productName," ",r.services.selectedSize,""),a.xp6(4),a.hij("",r.services.selectedSizePrice," Ft"),a.xp6(1),a.Q6J("src",r.modalService.currentImage||r.product.modalImagePath[0],a.LSH),a.xp6(2),a.Q6J("ngForOf",r.product.modalImagePath),a.xp6(9),a.Q6J("ngIf",r.modalService.screenWidth<=800),a.xp6(1),a.Q6J("ngIf",r.modalService.screenWidth>800),a.xp6(5),a.Q6J("ngIf",r.modalService.showDetailsBox&&r.modalService.screenWidth<=800))},dependencies:[jn,xi],styles:['@charset "UTF-8";.modal-container[_ngcontent-%COMP%]{background-color:#00000080;display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 10px #0003;width:900px;height:700px;position:relative;display:flex;flex-direction:column}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:66.6%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:24px;padding-bottom:10px;color:#333;border-bottom:1px solid #aeaeae}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:16px;color:#666}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:360px;max-height:360px;width:auto;height:auto;position:absolute;top:50%;left:33%;transform:translate(-50%,-50%);-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;position:absolute;bottom:0}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:70px;width:auto;height:auto;margin-left:15px;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{background-color:#061e29;position:absolute;right:0;top:auto;bottom:0;height:100%;width:33.3%;padding:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:flex;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{position:absolute;background-color:#fff;right:10px;bottom:10px;font-size:10px;font-size:14px;padding:10px 22px;cursor:pointer;transition:ease .4s;-webkit-user-select:none;user-select:none;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:active{background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;top:65%;left:10px;-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;padding-left:5px;padding-right:5px;width:90px;height:40px;align-items:center;text-align:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:focus{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#ef2158}.mobile-comp-desc-details-container[_ngcontent-%COMP%]{position:fixed;width:95%;height:95%;z-index:2;border-radius:5px;background-color:#000c}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:90%;position:absolute;bottom:0;padding:15px;border-radius:5px}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:fixed;top:10%;right:0;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;overflow-x:visible}@media screen and (max-width: 550px){.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:0;width:95%;height:95%;top:0}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:100%;z-index:1;position:absolute;height:65%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:18px;padding:10px 0 10px 5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{margin-left:8px;font-size:16px;display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;margin-left:8px;display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:60%;max-height:60%;position:absolute;width:auto;height:auto;overflow:hidden;top:50%;left:50%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]{left:0;width:100%;padding:0;box-sizing:border-box;overflow-x:auto}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:50px;margin-left:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{width:100%;padding:5px;border-radius:5px;overflow:hidden;height:35%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){display:flex;margin-top:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .comp-desc-p-details[_ngcontent-%COMP%]{display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{right:10px;bottom:10px;padding:10px 30px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{position:relative;top:10%;left:10px}}@media screen and (min-width: 550px) and (max-width: 800px){.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:100%;margin:0 10px;height:700px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:18px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:16px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:300px;max-height:300px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:60px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:none;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){color:#fff;display:flex;margin-top:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .comp-desc-p-details[_ngcontent-%COMP%]{display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .mobile-comp-desc-p[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{position:absolute;background-color:#fff;right:5px;bottom:5px;font-size:12px;padding:5px 15px;cursor:pointer;transition:ease .4s;-webkit-user-select:none;user-select:none;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:active{background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;top:65%;left:10px;-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;padding-left:5px;padding-right:5px;width:90px;height:40px;align-items:center;text-align:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:focus{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;z-index:2;border-radius:5px;background-color:#000c}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]{background-color:#fff;width:60%;height:60%;position:relative;top:50%;left:50%;transform:translate(-50%,-50%);padding:15px;border-radius:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%], .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#ef2158}}@media screen and (min-width: 801px){.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{margin:0 10px}}']})}return n})();function q9(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",3),a.NdJ("click",function(){const o=a.CHM(e).$implicit,u=a.oxw();return a.KtG(u.productService.openModal(o))}),a.TgZ(1,"div",4),a._uU(2),a.TgZ(3,"p",5),a._uU(4),a.qZA()(),a.TgZ(5,"div",6),a._UZ(6,"img",7),a.qZA(),a.TgZ(7,"div",8),a._uU(8),a.TgZ(9,"p",9),a._uU(10,"Ft"),a.qZA()()()}if(2&n){const e=t.$implicit;a.xp6(2),a.hij(" ",e.brand," "),a.xp6(2),a.Oqu(e.brandName),a.xp6(2),a.Q6J("src",e.imagePath,a.LSH),a.xp6(2),a.hij(" ",e.price," ")}}function G9(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"app-modal-products",10),a.NdJ("closeModalEvent",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.productService.closeModal())}),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("product",e.productService.selectedProduct)}}let W9=(()=>{class n{constructor(e,i,r,o){this.services=e,this.firestore=i,this.modalService=r,this.productService=o,this.task$=Fs(Rh(this.firestore,"hawkers"))}ngOnInit(){this.task$.subscribe(e=>console.log("task$ observable:",e)),console.log(this.task$)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Ya),a.Y36(Bf),a.Y36(ZN),a.Y36(Wf))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-products"]],decls:4,vars:4,consts:[[1,"product-card-container"],["class","product-card",3,"click",4,"ngFor","ngForOf"],[3,"product","closeModalEvent",4,"ngIf"],[1,"product-card",3,"click"],[1,"product-card-head"],[1,"brand-name"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"],[3,"product","closeModalEvent"]],template:function(i,r){1&i&&(a.TgZ(0,"div",0),a.YNc(1,q9,11,4,"div",1),a.ALo(2,"async"),a.qZA(),a.YNc(3,G9,1,1,"app-modal-products",2)),2&i&&(a.xp6(1),a.Q6J("ngForOf",a.lcZ(2,2,r.task$)),a.xp6(2),a.Q6J("ngIf",r.productService.isModalOpen))},dependencies:[jn,xi,$9,Yi],styles:[".product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000;min-width:320px;margin:10px;overflow:hidden}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:2px solid #edf1f7;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:250px;max-height:250px;width:auto;height:auto}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})(),Z9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-accessories"]],decls:2,vars:0,template:function(i,r){1&i&&(a.TgZ(0,"p"),a._uU(1,"accessories works!"),a.qZA())}})}return n})(),Y9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-media"]],decls:2,vars:0,template:function(i,r){1&i&&(a.TgZ(0,"h1"),a._uU(1,"K\xf6z\xf6ss\xe9gi oldal"),a.qZA())}})}return n})(),n3=(()=>{class n{constructor(e){this.services=e,this.navbarData=tO,this.insuranceIsChecked=!0,this.giftIsChecked=!1,this.shippingPrice=1390}getTotalPrice(){let e=0;for(const i of this.services.getCartItems())e+=i.selectedPrice*i.quantity;return e}calculateShippingPrice(){return this.shippingPrice=this.getTotalPrice()>=5e4?0:1390}calculateInsurance(){return this.insuranceIsChecked?500:0}calculateGiftFee(){return this.giftIsChecked?1590:0}calculateTotalPayment(){return this.calculateShippingPrice()+this.getTotalPrice()+this.calculateInsurance()+this.calculateGiftFee()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Ya))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function r3(...n){const t=(0,H0.jO)(n),{args:e,keys:i}=WV(n),r=new ar.y(o=>{const{length:u}=e;if(!u)return void o.complete();const m=new Array(u);let v=u,x=u;for(let O=0;O<u;O++){let L=!1;(0,Do.Xf)(e[O]).subscribe((0,ci.x)(o,q=>{L||(L=!0,x--),m[O]=q},()=>v--,void 0,()=>{(!v||!L)&&(x||o.next(i?ZV(i,m):m),o.complete())}))}});return t?r.pipe(CN(t)):r}let o3=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.Qsj),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:n})}return n})(),cy=(()=>{class n extends o3{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}();static#t=this.\u0275dir=a.lG2({type:n,features:[a.qOj]})}return n})();const $d=new a.OlP("NgValueAccessor"),Q9={provide:$d,useExisting:(0,a.Gpc)(()=>ly),multi:!0},X9=new a.OlP("CompositionEventMode");let ly=(()=>{class n extends o3{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function J9(){const n=Y()?Y().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(X9,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&a.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[a._Bn([Q9]),a.qOj]})}return n})();function Bg(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function a3(n){return null!=n&&"number"==typeof n.length}const Ka=new a.OlP("NgValidators"),jg=new a.OlP("NgAsyncValidators"),eZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wc{static min(t){return function c3(n){return t=>{if(Bg(t.value)||Bg(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function l3(n){return t=>{if(Bg(t.value)||Bg(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return u3(t)}static requiredTrue(t){return function d3(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function h3(n){return Bg(n.value)||eZ.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function f3(n){return t=>Bg(t.value)||!a3(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function p3(n){return t=>a3(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function m3(n){if(!n)return nO;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Bg(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return w3(t)}static composeAsync(t){return C3(t)}}function u3(n){return Bg(n.value)?{required:!0}:null}function nO(n){return null}function g3(n){return null!=n}function _3(n){return(0,a.QGY)(n)?(0,Dr.D)(n):n}function v3(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function y3(n,t){return t.map(e=>e(n))}function b3(n){return n.map(t=>function tZ(n){return!n.validate}(t)?t:e=>t.validate(e))}function w3(n){if(!n)return null;const t=n.filter(g3);return 0==t.length?null:function(e){return v3(y3(e,t))}}function YN(n){return null!=n?w3(b3(n)):null}function C3(n){if(!n)return null;const t=n.filter(g3);return 0==t.length?null:function(e){return r3(y3(e,t).map(_3)).pipe((0,gn.U)(v3))}}function KN(n){return null!=n?C3(b3(n)):null}function x3(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function E3(n){return n._rawValidators}function I3(n){return n._rawAsyncValidators}function QN(n){return n?Array.isArray(n)?n:[n]:[]}function iO(n,t){return Array.isArray(n)?n.includes(t):n===t}function M3(n,t){const e=QN(t);return QN(n).forEach(r=>{iO(e,r)||e.push(r)}),e}function T3(n,t){return QN(t).filter(e=>!iO(n,e))}class S3{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=YN(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=KN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Pl extends S3{get formDirective(){return null}get path(){return null}}class fm extends S3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class D3{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let uy=(()=>{class n extends D3{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(fm,2))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[a.qOj]})}return n})(),mI=(()=>{class n extends D3{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Pl,10))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[a.qOj]})}return n})();const gI="VALID",oO="INVALID",tw="PENDING",_I="DISABLED";function eF(n){return(sO(n)?n.validators:n)||null}function tF(n,t){return(sO(t)?t.asyncValidators:n)||null}function sO(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function A3(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new a.vHH(1e3,"");if(!i[e])throw new a.vHH(1001,"")}function P3(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new a.vHH(1002,"")})}class aO{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===gI}get invalid(){return this.status===oO}get pending(){return this.status==tw}get disabled(){return this.status===_I}get enabled(){return this.status!==_I}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(M3(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(M3(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(T3(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(T3(t,this._rawAsyncValidators))}hasValidator(t){return iO(this._rawValidators,t)}hasAsyncValidator(t){return iO(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=tw,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=_I,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=gI,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gI||this.status===tw)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_I:gI}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=tw,this._hasOwnPendingAsyncValidator=!0;const e=_3(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?_I:this.errors?oO:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tw)?tw:this._anyControlsHaveStatus(oO)?oO:gI}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){sO(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function oZ(n){return Array.isArray(n)?YN(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function sZ(n){return Array.isArray(n)?KN(n):n||null}(this._rawAsyncValidators)}}class vI extends aO{constructor(t,e,i){super(eF(e),tF(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){P3(this,0,t),Object.keys(t).forEach(i=>{A3(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class k3 extends vI{}const dy=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>yI}),yI="always";function cO(n,t){return[...t.path,n]}function bI(n,t,e=yI){nF(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function cZ(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&R3(n,t)})}(n,t),function uZ(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function lZ(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&R3(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function aZ(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function lO(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),dO(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function uO(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function nF(n,t){const e=E3(n);null!==t.validator?n.setValidators(x3(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=I3(n);null!==t.asyncValidator?n.setAsyncValidators(x3(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();uO(t._rawValidators,r),uO(t._rawAsyncValidators,r)}function dO(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=E3(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=I3(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return uO(t._rawValidators,i),uO(t._rawAsyncValidators,i),e}function R3(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function N3(n,t){nF(n,t)}function rF(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function F3(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function oF(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===ly?e=o:function fZ(n){return Object.getPrototypeOf(n.constructor)===cy}(o)?i=o:r=o}),r||i||e||null}const mZ={provide:Pl,useExisting:(0,a.Gpc)(()=>hO)},wI=(()=>Promise.resolve())();let hO=(()=>{class n extends Pl{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new vI({},YN(e),KN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){wI.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),bI(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){wI.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){wI.then(()=>{const i=this._findContainer(e.path),r=new vI({});N3(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){wI.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){wI.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,F3(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Ka,10),a.Y36(jg,10),a.Y36(dy,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&a.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([mZ]),a.qOj]})}return n})();function L3(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function U3(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const CI=class extends aO{constructor(t=null,e,i){super(eF(e),tF(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sO(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=U3(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){L3(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){L3(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){U3(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},vZ={provide:fm,useExisting:(0,a.Gpc)(()=>fO)},j3=(()=>Promise.resolve())();let fO=(()=>{class n extends fm{constructor(e,i,r,o,u,m){super(),this._changeDetectorRef=u,this.callSetDisabledState=m,this.control=new CI,this._registered=!1,this.name="",this.update=new a.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=oF(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),rF(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){bI(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){j3.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,a.VuI)(i);j3.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?cO(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Pl,9),a.Y36(Ka,10),a.Y36(jg,10),a.Y36($d,10),a.Y36(a.sBO,8),a.Y36(dy,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([vZ]),a.qOj,a.TTD]})}return n})(),xI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const yZ={provide:$d,useExisting:(0,a.Gpc)(()=>EI),multi:!0};let EI=(()=>{class n extends cy{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}();static#t=this.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&a.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[a._Bn([yZ]),a.qOj]})}return n})(),z3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();const sF=new a.OlP("NgModelWithFormControlWarning"),EZ={provide:Pl,useExisting:(0,a.Gpc)(()=>zg)};let zg=(()=>{class n extends Pl{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(dO(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return bI(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){lO(e.control||null,e,!1),function pZ(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,F3(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(lO(i||null,e),(n=>n instanceof CI)(r)&&(bI(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);N3(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function dZ(n,t){return dO(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){nF(this.form,this),this._oldForm&&dO(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Ka,10),a.Y36(jg,10),a.Y36(dy,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&a.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([EZ]),a.qOj,a.TTD]})}return n})();const TZ={provide:fm,useExisting:(0,a.Gpc)(()=>nw)};let nw=(()=>{class n extends fm{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.name=null,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=oF(0,o)}ngOnChanges(e){this._added||this._setUpControl(),rF(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return cO(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(a.Y36(Pl,13),a.Y36(Ka,10),a.Y36(jg,10),a.Y36($d,10),a.Y36(sF,8))};static#n=this.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([TZ]),a.qOj,a.TTD]})}return n})(),hy=(()=>{class n{constructor(){this._validator=nO}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):nO,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,features:[a.TTD]})}return n})();const FZ={provide:Ka,useExisting:(0,a.Gpc)(()=>pO),multi:!0};let pO=(()=>{class n extends hy{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.VuI,this.createValidator=e=>u3}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}();static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&a.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([FZ]),a.qOj]})}return n})(),ij=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[z3]})}return n})();class rj extends aO{constructor(t,e,i){super(eF(e),tF(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){P3(this,0,t),t.forEach((i,r)=>{A3(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function oj(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let dF,sj=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return oj(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new vI(r,o)}record(e,i=null){const r=this._reduceControls(e);return new k3(r,i)}control(e,i,r){let o={};return this.useNonNullable?(oj(i)?o=i:(o.validators=i,o.asyncValidators=r),new CI(e,{...o,nonNullable:!0})):new CI(e,i,r)}array(e,i,r){const o=e.map(u=>this._createControl(u));return new rj(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof CI||e instanceof aO?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gO=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(sj).nonNullable},providedIn:"root"})}return n})(),zZ=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:dy,useValue:e.callSetDisabledState??yI}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ij]})}return n})(),aj=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:sF,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:dy,useValue:e.callSetDisabledState??yI}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ij]})}return n})();try{dF=typeof Intl<"u"&&Intl.v8BreakIterator}catch{dF=!1}let iw,Qa=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Ll(n){return n===ca}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!dF)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.Lbi))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const cj=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function lj(){if(iw)return iw;if("object"!=typeof document||!document)return iw=new Set(cj),iw;let n=document.createElement("input");return iw=new Set(cj.filter(t=>(n.setAttribute("type",t),n.type===t))),iw}let II,fy,hF;function rw(n){return function HZ(){if(null==II&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>II=!0}))}finally{II=II||!1}return II}()?n:!!n.capture}function $Z(){if(null==fy){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return fy=!1,fy;if("scrollBehavior"in document.documentElement.style)fy=!0;else{const n=Element.prototype.scrollTo;fy=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return fy}function Hg(n){return n.composedPath?n.composedPath()[0]:n.target}function fF(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function hj(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var ow=Q(6321);function fj(n,t=ow.z){return(0,Nr.e)((e,i)=>{let r=null,o=null,u=null;const m=()=>{if(r){r.unsubscribe(),r=null;const x=o;o=null,i.next(x)}};function v(){const x=u+n,O=t.now();if(O<x)return r=this.schedule(void 0,x-O),void i.add(r);m()}e.subscribe((0,ci.x)(i,x=>{o=x,u=t.now(),r||(r=t.schedule(v,n),i.add(r))},()=>{m(),i.complete()},void 0,()=>{o=r=null}))})}function pj(n){return cr((t,e)=>n<=e)}var gF=Q(3997);function ta(n){return null!=n&&"false"!=`${n}`}function vO(n){return Array.isArray(n)?n:[n]}function na(n){return null==n?"":"string"==typeof n?n:`${n}px`}function $g(n){return n instanceof a.SBq?n.nativeElement:n}let h7=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:[h7]})}return n})();const gj=new Set;let py,f7=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):m7}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function p7(n,t){if(!gj.has(n))try{py||(py=document.createElement("style"),t&&(py.nonce=t),py.setAttribute("type","text/css"),document.head.appendChild(py)),py.sheet&&(py.sheet.insertRule(`@media ${n} {body{ }}`,0),gj.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Qa),a.LFG(a.Ojb,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function m7(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let g7=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Hn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return _j(vO(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=N1(_j(vO(e)).map(u=>this._registerQuery(u).observable));return o=XE(o.pipe(nl(1)),o.pipe(pj(1),fj(0))),o.pipe((0,gn.U)(u=>{const m={matches:!1,breakpoints:{}};return u.forEach(({matches:v,query:x})=>{m.matches=m.matches||v,m.breakpoints[x]=v}),m}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new ar.y(u=>{const m=v=>this._zone.run(()=>u.next(v));return i.addListener(m),()=>{i.removeListener(m)}}).pipe(Ng(i),(0,gn.U)(({matches:u})=>({query:e,matches:u})),Hd(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(f7),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _j(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function yO(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const yj="cdk-describedby-message",bO="cdk-describedby-host";let _F=0,y7=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+_F++,this._document=e,this._id=(0,a.f3M)(a.AFp)+"-"+_F++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=vF(i,r);"string"!=typeof i?(bj(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=vF(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const u=this._messageRegistry.get(o);u&&0===u.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${bO}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(bO);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");bj(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(vF(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=yO(e,"aria-describedby").filter(r=>0!=r.indexOf(yj));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function _7(n,t,e){const i=yO(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(bO,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function v7(n,t,e){const r=yO(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(bO)}_isElementDescribedByMessage(e,i){const r=yO(e,"aria-describedby"),o=this._messageRegistry.get(i),u=o&&o.messageElement.id;return!!u&&-1!=r.indexOf(u)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(ke),a.LFG(Qa))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vF(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function bj(n,t){n.id||(n.id=`${yj}-${t}-${_F++}`)}class b7{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Hn.x,this._typeaheadSubscription=Zu.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Hn.x,this.change=new Hn.x,t instanceof a.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,tr.b)(e=>this._pressedLetters.push(e)),fj(t),cr(()=>this._pressedLetters.length>0),(0,gn.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,u=i[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,u=this._getItemsArray().length;this._setActiveItemByIndex(o<u?o:u-1,-1);break}return;default:return void((r||hj(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof a.n_E?this._items.toArray():this._items}}class w7 extends b7{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let C7=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function E7(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function x7(n){try{return n.frameElement}catch{return null}}(function P7(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===Cj(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=Cj(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function O7(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function A7(n){return!function M7(n){return function S7(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function I7(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function T7(n){return function D7(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||wj(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Qa))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wj(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Cj(n){if(!wj(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function yF(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function bF(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const k7=new a.OlP("cdk-input-modality-detector-options"),R7={ignoreKeys:[18,17,224,91,16]},sw=rw({passive:!0,capture:!0});let N7=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new zd.X(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(m=>m===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Hg(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(yF(u)?"keyboard":"mouse"),this._mostRecentTarget=Hg(u))},this._onTouchstart=u=>{bF(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Hg(u))},this._options={...R7,...o},this.modalityDetected=this._modality.pipe(pj(1)),this.modalityChanged=this.modalityDetected.pipe((0,gF.x)()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,sw),r.addEventListener("mousedown",this._onMousedown,sw),r.addEventListener("touchstart",this._onTouchstart,sw)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,sw),document.removeEventListener("mousedown",this._onMousedown,sw),document.removeEventListener("touchstart",this._onTouchstart,sw))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Qa),a.LFG(a.R0b),a.LFG(ke),a.LFG(k7,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const L7=new a.OlP("cdk-focus-monitor-default-options"),wO=rw({passive:!0,capture:!0});let CO=(()=>{class n{constructor(e,i,r,o,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Hn.x,this._rootNodeFocusAndBlurListener=m=>{for(let x=Hg(m);x;x=x.parentElement)"focus"===m.type?this._onFocus(m,x):this._onBlur(m,x)},this._document=o,this._detectionMode=u?.detectionMode||0}monitor(e,i=!1){const r=$g(e);if(!this._platform.isBrowser||1!==r.nodeType)return(0,_n.of)();const o=function GZ(n){if(function qZ(){if(null==hF){const n=typeof document<"u"?document.head:null;hF=!(!n||!n.createShadowRoot&&!n.attachShadow)}return hF}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const m={checkChildren:i,subject:new Hn.x,rootNode:o};return this._elementInfo.set(r,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(e){const i=$g(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=$g(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([m,v])=>this._originChanged(m,i,v)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Hg(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,wO),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,wO)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Hd(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,wO),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,wO),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let u=0;u<o.length;u++)if(o[u].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.R0b),a.LFG(Qa),a.LFG(N7),a.LFG(ke,8),a.LFG(L7,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ej="cdk-high-contrast-black-on-white",Ij="cdk-high-contrast-white-on-black",wF="cdk-high-contrast-active";let Mj=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,a.f3M)(g7).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(wF,Ej,Ij),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(wF,Ej):2===i&&e.add(wF,Ij)}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Qa),a.LFG(ke))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),U7=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Mj))};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[mj]})}return n})();const V7=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function B7(){return(0,a.f3M)(ke)}}),j7=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let CF=(()=>{class n{constructor(e){this.value="ltr",this.change=new a.vpe,e&&(this.value=function z7(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?j7.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(V7,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();const $7=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function H7(){return!0}});let ia=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!fF()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Mj),a.LFG($7,8),a.LFG(ke))};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[MI,MI]})}return n})();function TI(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=ta(t)}constructor(...t){super(...t),this._disabled=!1}}}function SI(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function xO(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ta(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function Dj(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?function u7(n,t=0){return function d7(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function q7(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let W7=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Z7{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Oj=rw({passive:!0,capture:!0});class Y7{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Hg(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const u=o.get(i);u?u.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Oj)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Oj)))}}const Aj={enterDuration:225,exitDuration:150},Pj=rw({passive:!0,capture:!0}),kj=["mousedown","touchstart"],Rj=["mouseup","mouseleave","touchend","touchcancel"];class EO{static#e=this._eventManager=new Y7;constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=$g(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Aj,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function Q7(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),m=t-r.left,v=e-r.top,x=o.enterDuration,O=document.createElement("div");O.classList.add("mat-ripple-element"),O.style.left=m-u+"px",O.style.top=v-u+"px",O.style.height=2*u+"px",O.style.width=2*u+"px",null!=i.color&&(O.style.backgroundColor=i.color),O.style.transitionDuration=`${x}ms`,this._containerElement.appendChild(O);const L=window.getComputedStyle(O),ne=L.transitionDuration,ae="none"===L.transitionProperty||"0s"===ne||"0s, 0s"===ne||0===r.width&&0===r.height,ye=new Z7(this,O,i,ae);O.style.transform="scale3d(1, 1, 1)",ye.state=0,i.persistent||(this._mostRecentTransientRipple=ye);let We=null;return!ae&&(x||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const wt=()=>this._finishRippleTransition(ye),At=()=>this._destroyRipple(ye);O.addEventListener("transitionend",wt),O.addEventListener("transitioncancel",At),We={onTransitionEnd:wt,onTransitionCancel:At}}),this._activeRipples.set(ye,We),(ae||!x)&&this._finishRippleTransition(ye),ye}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...Aj,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=$g(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,kj.forEach(i=>{EO._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Rj.forEach(e=>{this._triggerElement.addEventListener(e,this,Pj)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=yF(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!bF(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(kj.forEach(e=>EO._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&Rj.forEach(e=>t.removeEventListener(e,this,Pj)))}}const Nj=new a.OlP("mat-ripple-global-options");let OI=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new EO(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Qa),a.Y36(Nj,8),a.Y36(a.QbO,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&a.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),IO=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ia,ia]})}return n})();const Fj={capture:!0},Lj=["focus","click","mouseenter","touchstart"],xF="mat-ripple-loader-uninitialized",EF="mat-ripple-loader-class-name",Uj="mat-ripple-loader-centered",MO="mat-ripple-loader-disabled";let J7=(()=>{class n{constructor(){this._document=(0,a.f3M)(ke,{optional:!0}),this._animationMode=(0,a.f3M)(a.QbO,{optional:!0}),this._globalRippleOptions=(0,a.f3M)(Nj,{optional:!0}),this._platform=(0,a.f3M)(Qa),this._ngZone=(0,a.f3M)(a.R0b),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${xF}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of Lj)this._document?.addEventListener(e,this._onInteraction,Fj)})}ngOnDestroy(){for(const e of Lj)this._document?.removeEventListener(e,this._onInteraction,Fj)}configureRipple(e,i){e.setAttribute(xF,""),(i.className||!e.hasAttribute(EF))&&e.setAttribute(EF,i.className||""),i.centered&&e.setAttribute(Uj,""),i.disabled&&e.setAttribute(MO,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,i){const r=e.matRipple;r?r.disabled=i:i?e.setAttribute(MO,""):e.removeAttribute(MO)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(EF)),e.append(i);const r=new OI(new a.SBq(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,r.centered=e.hasAttribute(Uj),r.disabled=e.hasAttribute(MO),this.attachRipple(e,r),r}attachRipple(e,i){e.removeAttribute(xF),e.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const X7=["switch"];function eY(n,t){1&n&&(a.TgZ(0,"div",12),a.O4$(),a.TgZ(1,"svg",13),a._UZ(2,"path",14),a.qZA(),a.TgZ(3,"svg",15),a._UZ(4,"path",16),a.qZA()())}const tY=["*"],nY=new a.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),iY={provide:$d,useExisting:(0,a.Gpc)(()=>Bj),multi:!0};class Vj{constructor(t,e){this.source=t,this.checked=e}}let rY=0;const oY=Dj(SI(xO(TI(class{constructor(n){this._elementRef=n}}))));let sY=(()=>{class n extends oY{get required(){return this._required}set required(e){this._required=ta(e)}get checked(){return this._checked}set checked(e){this._checked=ta(e),this._changeDetectorRef.markForCheck()}get hideIcon(){return this._hideIcon}set hideIcon(e){this._hideIcon=ta(e)}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,r,o,u,m,v){super(e),this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=u,this._onChange=x=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this._hideIcon=!1,this.change=new a.vpe,this.toggleChange=new a.vpe,this.tabIndex=parseInt(o)||0,this.color=this.defaultColor=u.color||"accent",this._noopAnimations="NoopAnimations"===m,this.id=this._uniqueId=`${v}${++rY}`,this._hideIcon=u.hideIcon??!1}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}static#e=this.\u0275fac=function(i){a.$Z()};static#t=this.\u0275dir=a.lG2({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked",hideIcon:"hideIcon"},outputs:{change:"change",toggleChange:"toggleChange"},features:[a.qOj]})}return n})(),Bj=(()=>{class n extends sY{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(e,i,r,o,u,m){super(e,i,r,o,u,m,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new Vj(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(e){return new Vj(this,e)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(CO),a.Y36(a.sBO),a.$8M("tabindex"),a.Y36(nY),a.Y36(a.QbO,8))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(1&i&&a.Gf(X7,5),2&i){let o;a.iGM(o=a.CRH())&&(r._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(i,r){2&i&&(a.Ikx("id",r.id),a.uIk("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),a.ekj("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[a._Bn([iY]),a.qOj],ngContentSelectors:tY,decls:13,vars:25,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],["class","mdc-switch__icons",4,"ngIf"],[1,"mdc-label",3,"for","click"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(1&i&&(a.F$t(),a.TgZ(0,"div",0)(1,"button",1,2),a.NdJ("click",function(){return r._handleClick()}),a._UZ(3,"div",3),a.TgZ(4,"div",4)(5,"div",5)(6,"div",6),a._UZ(7,"div",7),a.qZA(),a.TgZ(8,"div",8),a._UZ(9,"div",9),a.qZA(),a.YNc(10,eY,5,0,"div",10),a.qZA()()(),a.TgZ(11,"label",11),a.NdJ("click",function(u){return u.stopPropagation()}),a.Hsn(12),a.qZA()()),2&i){const o=a.MAs(2);a.ekj("mdc-form-field--align-end","before"==r.labelPosition),a.xp6(1),a.ekj("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),a.Q6J("tabIndex",r.tabIndex)("disabled",r.disabled),a.uIk("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),a.xp6(8),a.Q6J("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),a.xp6(1),a.Q6J("ngIf",!r.hideIcon),a.xp6(1),a.Q6J("for",r.buttonId),a.uIk("id",r._labelId)}},dependencies:[OI,xi],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mdc-switch{width:var(--mdc-switch-track-width);--mdc-switch-disabled-handle-opacity:0.38;--mdc-switch-disabled-selected-icon-opacity:0.38;--mdc-switch-disabled-track-opacity:0.12;--mdc-switch-disabled-unselected-icon-opacity:0.38;--mdc-switch-handle-height:20px;--mdc-switch-handle-shape:10px;--mdc-switch-handle-width:20px;--mdc-switch-selected-icon-size:18px;--mdc-switch-track-height:14px;--mdc-switch-track-shape:7px;--mdc-switch-track-width:36px;--mdc-switch-unselected-icon-size:18px;--mdc-switch-state-layer-size:40px;--mdc-switch-selected-focus-state-layer-opacity:0.12;--mdc-switch-selected-hover-state-layer-opacity:0.04;--mdc-switch-selected-pressed-state-layer-opacity:0.1;--mdc-switch-unselected-focus-state-layer-opacity:0.12;--mdc-switch-unselected-hover-state-layer-opacity:0.04;--mdc-switch-unselected-pressed-state-layer-opacity:0.1}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle .mdc-label{font-family:var(--mat-slide-toggle-label-text-font);font-size:var(--mat-slide-toggle-label-text-size);letter-spacing:var(--mat-slide-toggle-label-text-tracking);line-height:var(--mat-slide-toggle-label-text-line-height);font-weight:var(--mat-slide-toggle-label-text-weight)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}'],encapsulation:2,changeDetection:0})}return n})(),jj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})(),zj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[jj,ia,IO,ki,jj,ia]})}return n})();const lY=function(){return["/products"]};function uY(n,t){1&n&&(a.TgZ(0,"div",2),a._UZ(1,"img",3),a.TgZ(2,"div",4),a._uU(3,"A kosara \xfcres!"),a.TgZ(4,"p",5),a._uU(5,"Vissza a term\xe9kekhez!"),a.qZA()()()),2&n&&(a.xp6(4),a.Q6J("routerLink",a.DdM(1,lY)))}const Hj=function(n){return{"disabled-button":n}};function dY(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",22),a._UZ(1,"img",23),a.TgZ(2,"div",24),a._uU(3),a.qZA(),a.TgZ(4,"div",25),a.NdJ("click",function(){const o=a.CHM(e).$implicit,u=a.oxw(2);return a.KtG(u.decreaseQuantity(o))}),a._uU(5,"-"),a.qZA(),a.TgZ(6,"div",26),a._uU(7),a.qZA(),a.TgZ(8,"div",27),a.NdJ("click",function(){const o=a.CHM(e).$implicit,u=a.oxw(2);return a.KtG(u.increaseQuantity(o))}),a._uU(9,"+"),a.qZA(),a.TgZ(10,"div",28),a._uU(11),a.qZA(),a.TgZ(12,"div",29),a.NdJ("click",function(){const o=a.CHM(e).$implicit,u=a.oxw(2);return a.KtG(u.removeFromCart(o))}),a._uU(13,"X"),a.qZA()()}if(2&n){const e=t.$implicit;a.xp6(1),a.Q6J("src",e.product.imagePath,a.LSH),a.xp6(2),a.AsE("",e.product.productName," ",e.size,""),a.xp6(1),a.Q6J("ngClass",a.VKq(7,Hj,1===e.quantity)),a.xp6(3),a.Oqu(e.quantity),a.xp6(1),a.Q6J("ngClass",a.VKq(9,Hj,5===e.quantity)),a.xp6(3),a.hij(" ",e.selectedPrice*e.quantity," ")}}const $j=function(n){return{active:n}},qj=function(n){return{opacity:n}};function hY(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",6)(1,"div",7)(2,"div",8),a.YNc(3,dY,14,11,"div",9),a.qZA()(),a.TgZ(4,"div",10)(5,"div",11)(6,"mat-slide-toggle",12),a.NdJ("ngModelChange",function(r){a.CHM(e);const o=a.oxw();return a.KtG(o.shoppingService.insuranceIsChecked=r)}),a.qZA(),a.TgZ(7,"h3",13),a._uU(8,"500 Ft"),a.qZA(),a._uU(9," K\xfcldem\xe9ny biztos\xedt\xe1sa "),a.TgZ(10,"p",14),a._uU(11,"A k\xfcldem\xe9ny megs\xe9r\xfcl\xe9se vagy elveszt\xe9se eset\xe9n nem kell v\xe1rnia a helyzet t\xf6rv\xe9nyileg el\u0151\xedrt hat\xe1rid\u0151n bel\xfcli rendez\xe9s\xe9re. El\xe9g, ha bejelenti nek\xfcnk \xe9s dokument\xe1lja a k\xfcldem\xe9ny megs\xe9r\xfcl\xe9s\xe9t vagy elveszt\xe9s\xe9t, \xe9s mi postafordult\xe1val teljesen \xfaj \xe1rut k\xfcld\xfcnk \xf6nnek. "),a.qZA()(),a.TgZ(12,"div",15)(13,"mat-slide-toggle",12),a.NdJ("ngModelChange",function(r){a.CHM(e);const o=a.oxw();return a.KtG(o.shoppingService.giftIsChecked=r)}),a.qZA(),a.TgZ(14,"h3",13),a._uU(15,"1590 Ft"),a.qZA(),a._uU(16," Luxus csomagol\xe1s "),a.TgZ(17,"p",14),a._uU(18,"Sz\xedvesen luxus kivitel\u0171 aj\xe1nd\xe9kcsomagol\xe1sba csomagolunk \xf6nnek mindent. "),a.qZA()(),a.TgZ(19,"div",16),a._uU(20,"H\xe1zhoz sz\xe1ll\xedt\xe1s "),a.TgZ(21,"h3"),a._uU(22,"1390 Ft "),a.qZA()(),a.TgZ(23,"div",17),a._uU(24,"100% Kedvezm\xe9ny a kisz\xe1ll\xedt\xe1sra! "),a.TgZ(25,"p",18),a._uU(26,"50.000 Forint v\xe1s\xe1rl\xe1s eset\xe9n ingyenesen h\xe1zhoz sz\xe1ll\xedtjuk! "),a.qZA()(),a.TgZ(27,"div",19)(28,"div",20)(29,"h3"),a._uU(30,"\xd6sszesen fizetend\u0151: "),a.TgZ(31,"p"),a._uU(32),a.qZA()()()(),a.TgZ(33,"button",21),a._uU(34,"Tov\xe1bb a sz\xe1ll\xedt\xe1sra!"),a.qZA()()()}if(2&n){const e=a.oxw();a.xp6(3),a.Q6J("ngForOf",e.services.getCartItems()),a.xp6(3),a.Q6J("ngModel",e.shoppingService.insuranceIsChecked),a.xp6(1),a.Q6J("ngClass",a.VKq(9,$j,e.shoppingService.insuranceIsChecked)),a.xp6(6),a.Q6J("ngModel",e.shoppingService.giftIsChecked),a.xp6(1),a.Q6J("ngClass",a.VKq(11,$j,e.shoppingService.giftIsChecked)),a.xp6(5),a.Q6J("ngStyle",a.VKq(13,qj,e.getTotalPrice()<5e4?1:.5)),a.xp6(4),a.Q6J("ngStyle",a.VKq(15,qj,e.getTotalPrice()>49999?1:.5)),a.xp6(9),a.hij("",e.calculateShippingPrice()+e.getTotalPrice()+(e.shoppingService.insuranceIsChecked?500:0)+(e.shoppingService.giftIsChecked?1590:0)," Ft"),a.xp6(1),a.Q6J("disabled",0===e.services.getCartItems().length)}}let fY=(()=>{class n{constructor(e,i){this.services=e,this.shoppingService=i,this.cartItems=[],this.selectedProducts=[],this.navbarData=tO,this.insuranceIsChecked=!0,this.giftIsChecked=!1,this.shippingPrice=1390,this.selectedProductPrice=this.services.selectedSizePrice}ngOnInit(){this.cartItems=this.services.getCartItems()}getProductPrice(){return this.selectedProductPrice}addToCart(){const e=this.navbarData.find(i=>"shopping-cart"===i.routerLink);e&&(e.badge=(e.badge||0)+1)}increaseQuantity(e){e.quantity++;const i=this.navbarData.find(r=>"shopping-cart"===r.routerLink);i&&(i.badge=(i.badge||0)+1)}decreaseQuantity(e){if(e.quantity>1){e.quantity--;const i=this.navbarData.find(r=>"shopping-cart"===r.routerLink);i&&(i.badge=(i.badge||0)-1)}}removeFromCart(e){const i=this.services.getCartItems().indexOf(e);if(-1!==i){const r=e.quantity;this.services.getCartItems().splice(i,1);const o=this.navbarData.find(u=>"shopping-cart"===u.routerLink);o&&(o.badge=Math.max((o.badge||0)-r,0))}}calculateShippingPrice(){return this.shippingPrice=this.getTotalPrice()>=5e4?0:1390}getTotalPrice(){let e=0;for(const i of this.services.getCartItems())e+=i.selectedPrice*i.quantity;return e}calculateTotalPayment(){return this.calculateShippingPrice()+this.getTotalPrice()+(this.insuranceIsChecked?500:0)+(this.giftIsChecked?1590:0)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Ya),a.Y36(n3))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-shopping-cart"]],decls:2,vars:2,consts:[["class","empty-cart",4,"ngIf"],["class","shopping-cart-component",4,"ngIf"],[1,"empty-cart"],["src","./assets/images/empty-cart.jpg",1,"empty-cart-img"],[1,"empty-cart-desc"],[1,"empty-cart-button",3,"routerLink"],[1,"shopping-cart-component"],[1,"shopping-cart-card-container"],[1,"shopping-cart-card"],["class","cart-item",4,"ngFor","ngForOf"],[1,"checkout-container"],[1,"insurance"],[3,"ngModel","ngModelChange"],[3,"ngClass"],[1,"checkout-container-desc"],[1,"gift"],[1,"shipping",3,"ngStyle"],[1,"bonus",3,"ngStyle"],[1,"bonus-desc"],[1,"checkout-card"],[1,"total-price"],["routerLink","/shipping",1,"btn-hover","color-8",3,"disabled"],[1,"cart-item"],[1,"product-image",3,"src"],[1,"shopping-cart-head"],[1,"decreaseQuantity",3,"ngClass","click"],[1,"product-quantity"],[1,"increaseQuantity",3,"ngClass","click"],[1,"shopping-cart-price"],[1,"removeFromCart",3,"click"]],template:function(i,r){1&i&&(a.YNc(0,uY,6,2,"div",0),a.YNc(1,hY,35,17,"div",1)),2&i&&(a.Q6J("ngIf",0===r.services.getCartItems().length),a.xp6(1),a.Q6J("ngIf",r.services.getCartItems().length>0))},dependencies:[No,jn,xi,Us,Gf,Bj,uy,fO],styles:['.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:auto;position:relative;-webkit-user-select:none;user-select:none}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{color:#f0f8ff;font-size:15px;margin-bottom:5px;display:flex;flex:1}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{color:#f0f8ff;font-size:18px;flex:0 0 100px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{color:#f0f8ff;border-radius:10px;background-color:#061e29;flex:1;display:flex;align-items:center;margin:10px 10px 5px;border-bottom:1px solid #ccc;position:relative;gap:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:120px;height:auto;border-radius:5px;margin-right:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{font-size:15px;margin-right:30px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{font-size:18px;overflow:hidden;margin-left:50px;flex:0 0 70px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:15px;display:flex;align-items:center;margin-left:auto;color:#f0f8ff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:30px;height:30px;font-size:30px;display:flex;justify-content:center;align-items:center;font-size:20px;margin:0 5px;border-radius:50%;padding:10px;border:1px solid #a5beda;cursor:pointer;color:#f0f8ff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{cursor:pointer;font-size:15px;margin-right:15px;margin-left:40px;color:#f0f8ff}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;margin:0;gap:0px;width:auto}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:0;margin-left:-5px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{margin-left:-25px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{margin-left:0}}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{gap:2px;margin:0}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{margin-right:5px;font-size:10px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{padding-left:5px}}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:25px;height:25px;font-size:18px;padding:0;margin:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{margin-left:4px;font-size:11.5px;flex:0 0 40px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;font-size:12px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{margin-right:0;width:70px}}@media screen and (max-width: 700px) and (max-width: 300px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{display:none}}.empty-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.empty-cart-img[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-22%);width:100%;max-width:600px;display:flex;overflow:hidden}.empty-cart-desc[_ngcontent-%COMP%]{text-align:center;position:absolute;width:300px;top:55%;left:50%;transform:translate(-50%,-10%);font-size:26px;font-weight:300;border-top:1px solid #ccc;padding-top:15px;transition:all .4s ease-in-out}.empty-cart-button[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer;transition:all .3s ease-in-out;font-weight:100}.empty-cart-button[_ngcontent-%COMP%]:after{background:none repeat scroll 0 0 transparent;bottom:0;content:"";display:block;height:1px;left:50%;position:absolute;background:#191818;transition:width .3s ease 0s,left .3s ease 0s;width:0}.empty-cart-button[_ngcontent-%COMP%]:hover:after{width:100%;left:0}@media screen and (max-width: 500px){.empty-cart-desc[_ngcontent-%COMP%]{top:41%;left:50%}.empty-cart-button[_ngcontent-%COMP%]{top:48%;left:50%;font-size:22px}}.bonus[_ngcontent-%COMP%]   .bonus-desc[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;font-size:13px;margin-top:15px;width:600px}.insurance[_ngcontent-%COMP%], .gift[_ngcontent-%COMP%], .bonus[_ngcontent-%COMP%], .shipping[_ngcontent-%COMP%]{font-size:15px;border-top:1px solid #ccc;margin-top:20px;padding-top:10px}.checkout-container-desc[_ngcontent-%COMP%]{font-size:13px;margin-top:15px;opacity:.5;width:600px}.shipping[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1}h3[_ngcontent-%COMP%]{float:right;opacity:.5;font-weight:800}h3.active[_ngcontent-%COMP%]{opacity:1}.disabled-button[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.checkout-container[_ngcontent-%COMP%]{background-color:#f4f7fa;padding:10px;height:100px;display:grid;position:relative;max-width:1000px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]{padding-top:20px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1;font-size:18px;font-weight:200}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:800;float:right;top:0;margin-left:40px}@media screen and (max-width: 750px){.checkout-container[_ngcontent-%COMP%]{padding:2px;display:block}.checkout-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:100%}.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:14px;margin-top:20px;padding-top:10px}}@media screen and (max-width: 750px) and (max-width: 340px){.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width: 750px){.checkout-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:-4px}.checkout-container[_ngcontent-%COMP%]   .btn-hover[_ngcontent-%COMP%]{float:right}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:100%;font-size:16px}}.btn-hover[_ngcontent-%COMP%]{width:200px;font-size:16px;font-weight:400;color:#f0f8ff;cursor:pointer;margin-left:auto;height:55px;text-align:center;border:none;background-size:300% 100%;border-radius:5px;transition:all .4s ease-in-out}[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;background-position:100% 0;transition:all .4s ease-in-out}.btn-hover[_ngcontent-%COMP%]:hover{background-position:100% 0;transition:all .4s ease-in-out}.btn-hover[_ngcontent-%COMP%]:focus{outline:none}.btn-hover.color-8[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#455669,#485563,#203542,#061e29);box-shadow:0 4px 15px #2d3641bf}']})}return n})(),qg=(()=>{class n{constructor(e){this.auth=e,this.localStorageKey="savedCredentials",this.currentUser$=F2(this.auth)}getSavedCredentials(){const e=localStorage.getItem(this.localStorageKey);return e?JSON.parse(e):null}saveCredentials(e,i){localStorage.setItem(this.localStorageKey,JSON.stringify({email:e,password:i}))}clearSavedCredentials(){localStorage.removeItem(this.localStorageKey)}login(e,i){return(0,Dr.D)(Y2(this.auth,e,i))}logout(){return(0,Dr.D)(this.auth.signOut())}signUp(e,i){return(0,Dr.D)(mT(this.auth,e,i))}updateProfileData(e){return(0,_n.of)(this.auth.currentUser).pipe(oy(r=>{if(!r)throw new Error("Nincs hiteles\xedtve!");return Nm(r,e)}))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(xp))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const pY=["input"],mY=["label"],gY=["*"],_Y=new a.OlP("mat-checkbox-default-options",{providedIn:"root",factory:Gj});function Gj(){return{color:"accent",clickAction:"check-indeterminate"}}const vY={provide:$d,useExisting:(0,a.Gpc)(()=>TO),multi:!0};class yY{}let bY=0;const Wj=Gj(),wY=Dj(SI(xO(TI(class{constructor(n){this._elementRef=n}}))));let CY=(()=>{class n extends wY{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=ta(e)}constructor(e,i,r,o,u,m,v){super(i),this._changeDetectorRef=r,this._ngZone=o,this._animationMode=m,this._options=v,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new a.vpe,this.indeterminateChange=new a.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||Wj,this.color=this.defaultColor=this._options.color||Wj.color,this.tabIndex=parseInt(u)||0,this.id=this._uniqueId=`${e}${++bY}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const i=ta(e);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=ta(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=ta(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_transitionCheckState(e){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==e&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}static#e=this.\u0275fac=function(i){a.$Z()};static#t=this.\u0275dir=a.lG2({type:n,viewQuery:function(i,r){if(1&i&&(a.Gf(pY,5),a.Gf(mY,5),a.Gf(OI,5)),2&i){let o;a.iGM(o=a.CRH())&&(r._inputElement=o.first),a.iGM(o=a.CRH())&&(r._labelElement=o.first),a.iGM(o=a.CRH())&&(r.ripple=o.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[a.qOj]})}return n})(),TO=(()=>{class n extends CY{constructor(e,i,r,o,u,m){super("mat-mdc-checkbox-",e,i,r,o,u,m),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){const i=new yY;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.$8M("tabindex"),a.Y36(a.QbO,8),a.Y36(_Y,8))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&(a.Ikx("id",r.id),a.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[a._Bn([vY]),a.qOj],ngContentSelectors:gY,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(i,r){if(1&i&&(a.F$t(),a.TgZ(0,"div",0),a.NdJ("click",function(u){return r._preventBubblingFromLabel(u)}),a.TgZ(1,"div",1,2)(3,"div",3),a.NdJ("click",function(){return r._onTouchTargetClick()}),a.qZA(),a.TgZ(4,"input",4,5),a.NdJ("blur",function(){return r._onBlur()})("click",function(){return r._onInputClick()})("change",function(u){return r._onInteractionEvent(u)}),a.qZA(),a._UZ(6,"div",6),a.TgZ(7,"div",7),a.O4$(),a.TgZ(8,"svg",8),a._UZ(9,"path",9),a.qZA(),a.kcU(),a._UZ(10,"div",10),a.qZA(),a._UZ(11,"div",11),a.qZA(),a.TgZ(12,"label",12,13),a.Hsn(14),a.qZA()()),2&i){const o=a.MAs(2);a.ekj("mdc-form-field--align-end","before"==r.labelPosition),a.xp6(4),a.ekj("mdc-checkbox--selected",r.checked),a.Q6J("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.tabIndex),a.uIk("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("name",r.name)("value",r.value),a.xp6(7),a.Q6J("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),a.xp6(1),a.Q6J("for",r.inputId)}},dependencies:[OI],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),Zj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})(),IY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ia,IO,Zj,ia,Zj]})}return n})();const Yj=function(n){return{error:n}};let Kj=(()=>{class n{constructor(e,i,r,o){this.authService=e,this.toast=i,this.router=r,this.fb=o,this.loginForm=this.fb.group({email:["",wc.required],password:["",wc.required],rememberMe:[!1]}),this.emailInvalid=!1,this.passwordInvalid=!1,this.hide=!1}ngOnInit(){const e=this.authService.getSavedCredentials();e&&this.loginForm.patchValue({email:e.email,password:e.password,rememberMe:!0})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}submit(){const{email:e,password:i,rememberMe:r}=this.loginForm.value;this.emailInvalid=this.loginForm.get("email").invalid,this.passwordInvalid=this.loginForm.get("password").invalid,this.loginForm.valid&&e&&i&&this.authService.login(e,i).pipe(this.toast.observe({success:"Sikeres bejelentkez\xe9s",loading:"Bejelentkez\xe9s...",error:"Hib\xe1s E-mail vagy jelsz\xf3!"})).subscribe(()=>{r?this.authService.saveCredentials(e,i):this.authService.clearSavedCredentials(),this.router.navigate(["/user/profile"])})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(qg),a.Y36(Ua),a.Y36(Za),a.Y36(gO))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-login"]],decls:35,vars:7,consts:[[1,"form-container"],[1,"title"],[1,"form",3,"formGroup","ngSubmit"],[1,"inputGroup",3,"ngClass"],["type","text","required","","formControlName","email"],["for","text"],["type","password","formControlName","password","required",""],[1,"checkbox"],["type","checkbox","formControlName","rememberMe"],[1,"form-btn"],[1,"sign-up-label"],["routerLink","/user/sign-up",1,"sign-up-link"],[1,"buttons-container"],[1,"apple-login-button"],["stroke","currentColor","fill","currentColor","stroke-width","0","viewBox","0 0 1024 1024","height","1em","width","1em","xmlns","http://www.w3.org/2000/svg",1,"apple-icon"],["d","M747.4 535.7c-.4-68.2 30.5-119.6 92.9-157.5-34.9-50-87.7-77.5-157.3-82.8-65.9-5.2-138 38.4-164.4 38.4-27.9 0-91.7-36.6-141.9-36.6C273.1 298.8 163 379.8 163 544.6c0 48.7 8.9 99 26.7 150.8 23.8 68.2 109.6 235.3 199.1 232.6 46.8-1.1 79.9-33.2 140.8-33.2 59.1 0 89.7 33.2 141.9 33.2 90.3-1.3 167.9-153.2 190.5-221.6-121.1-57.1-114.6-167.2-114.6-170.7zm-105.1-305c50.7-60.2 46.1-115 44.6-134.7-44.8 2.6-96.6 30.5-126.1 64.8-32.5 36.8-51.6 82.3-47.5 133.6 48.4 3.7 92.6-21.2 129-63.7z"],[1,"login-with-g-a"],[1,"google-login-button"],["stroke","currentColor","fill","currentColor","stroke-width","0","version","1.1","x","0px","y","0px","viewBox","0 0 48 48","height","1em","width","1em","xmlns","http://www.w3.org/2000/svg",1,"google-icon"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\n            c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\n            c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\n            C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\n            c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\n            c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"]],template:function(i,r){1&i&&(a.TgZ(0,"div",0)(1,"p",1),a._uU(2,"Jelentkezzen be!"),a.qZA(),a.TgZ(3,"form",2),a.NdJ("ngSubmit",function(){return r.submit()}),a.TgZ(4,"div",3),a._UZ(5,"input",4),a.TgZ(6,"label",5),a._uU(7,"E-mail c\xedm"),a.qZA()(),a.TgZ(8,"div",3),a._UZ(9,"input",6),a.TgZ(10,"label",5),a._uU(11,"Jelsz\xf3"),a.qZA()(),a.TgZ(12,"div",7)(13,"mat-checkbox",8),a._uU(14,"Em\xe9kezz r\xe1m"),a.qZA()(),a.TgZ(15,"button",9),a._uU(16,"Bejelentkez\xe9s"),a.qZA()(),a.TgZ(17,"p",10),a._uU(18," M\xe9g nincs fi\xf3kja?"),a.TgZ(19,"span",11),a._uU(20,"Regisztr\xe1ljon!"),a.qZA()(),a.TgZ(21,"div",12)(22,"div",13),a.O4$(),a.TgZ(23,"svg",14),a._UZ(24,"path",15),a.qZA(),a.kcU(),a.TgZ(25,"span",16),a._uU(26,"Bejelentkez\xe9s Apple fi\xf3kkal"),a.qZA()(),a.TgZ(27,"div",17),a.O4$(),a.TgZ(28,"svg",18),a._UZ(29,"path",19)(30,"path",20)(31,"path",21)(32,"path",22),a.qZA(),a.kcU(),a.TgZ(33,"span",16),a._uU(34,"Bejelentkez\xe9s Google fi\xf3kkal"),a.qZA()()()()),2&i&&(a.xp6(3),a.Q6J("formGroup",r.loginForm),a.xp6(1),a.Q6J("ngClass",a.VKq(3,Yj,r.emailInvalid)),a.xp6(4),a.Q6J("ngClass",a.VKq(5,Yj,r.passwordInvalid)))},dependencies:[No,Gf,xI,ly,uy,mI,pO,zg,nw,TO],styles:[".mdc-text-field--filled[_ngcontent-%COMP%]:not(.mdc-text-field--disabled){background-color:#eceff1}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.text-center[_ngcontent-%COMP%]{text-align:center}.form-container[_ngcontent-%COMP%]{width:100%;max-width:500px;height:500px;background-color:#fff;box-shadow:#00000059 0 5px 15px;border-radius:10px;box-sizing:border-box;padding:20px 30px;position:relative}.title[_ngcontent-%COMP%]{text-align:center;margin:10px 0 30px;font-size:28px;font-weight:800;color:#061e29}.form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:18px;margin-bottom:15px}.page-link[_ngcontent-%COMP%]{text-decoration:underline;margin:0;text-align:end;color:#747474;text-decoration-color:#747474}.page-link-label[_ngcontent-%COMP%]{cursor:pointer;font-size:9px;font-weight:700}.page-link-label[_ngcontent-%COMP%]:hover{color:#000}.form-btn[_ngcontent-%COMP%]{padding:10px 15px;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;border-radius:20px;border:0!important;outline:0!important;background:#061e29;color:#fff;cursor:pointer;box-shadow:#0000003d 0 3px 8px}.form-btn[_ngcontent-%COMP%]:active{box-shadow:none}.sign-up-label[_ngcontent-%COMP%]{margin:0;font-size:10px;color:#747474;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}.sign-up-link[_ngcontent-%COMP%]{margin-left:1px;font-size:11px;text-decoration:underline;text-decoration-color:#061e29;color:#061e29;cursor:pointer;font-weight:800;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}.buttons-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:flex-start;margin-top:20px;gap:15px}.apple-login-button[_ngcontent-%COMP%], .google-login-button[_ngcontent-%COMP%]{border-radius:20px;box-sizing:border-box;padding:10px 15px;box-shadow:#00000029 0 10px 36px,#0000000f 0 0 0 1px;cursor:not-allowed;display:flex;justify-content:center;align-items:center;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;font-size:11px;gap:5px;-webkit-user-select:none;user-select:none;opacity:.3}.apple-login-button[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:2px solid #000}.google-login-button[_ngcontent-%COMP%]{border:2px solid #747474}.apple-icon[_ngcontent-%COMP%], .google-icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:1px}@media screen and (max-width: 650px){.form-container[_ngcontent-%COMP%]{max-width:550px;height:500px;padding:15px 7px;margin-top:35px}.form-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:10px 0 30px;font-size:22px}.form-container[_ngcontent-%COMP%]   .apple-login-button[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .google-login-button[_ngcontent-%COMP%]{font-size:10px}}@media screen and (min-width: 650px){.form-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}}.inputGroup[_ngcontent-%COMP%]{margin:1em 0 0;max-width:100%;position:relative}.inputGroup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:100%;padding:.8em;outline:none;border:2px solid rgb(200,200,200);background-color:transparent;border-radius:20px;width:100%}.inputGroup.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:red}.inputGroup.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:red}.inputGroup.error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid) ~ label[_ngcontent-%COMP%]{color:#646464}.inputGroup[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:100%;position:absolute;left:0;padding:.8em;margin-left:.5em;pointer-events:none;transition:all .3s ease;color:#646464}.inputGroup[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid) ~ label[_ngcontent-%COMP%]{transform:translateY(-50%) scale(.9);margin:0 0 0 1.3em;padding:.4em;background-color:#fff}.inputGroup[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid){border-color:#061e29}"]})}return n})(),aw=(()=>{class n{get currentUserProfile$(){return this.authService.currentUser$.pipe((0,ss.w)(e=>{if(!e?.uid)return(0,_n.of)(null);const i=S1(this.firestore,"*users",e?.uid);return aq(i)}))}constructor(e,i){this.firestore=e,this.authService=i}addUser(e){const i=S1(this.firestore,"*users",e?.uid);return(0,Dr.D)(fV(i,e))}addGuest(e){const i=S1(this.firestore,"*guests",e?.uid);return(0,Dr.D)(fV(i,e))}updateUser(e){const i=S1(this.firestore,"*users",e?.uid);return(0,Dr.D)(uq(i,{...e}))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Bf),a.LFG(qg))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var IF=Q(3020);class MF{}class pm{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof pm?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new pm;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof pm?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let u=this.headers.get(e);if(!u)return;u=u.filter(m=>-1===o.indexOf(m)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class MY{encodeKey(t){return Qj(t)}encodeValue(t){return Qj(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const SY=/%(\d[a-f0-9])/gi,DY={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Qj(n){return encodeURIComponent(n).replace(SY,(t,e)=>DY[e]??t)}function SO(n){return`${n}`}class Gg{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new MY,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function TY(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,m]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],v=e.get(u)||[];v.push(m),e.set(u,v)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(SO):[SO(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Gg({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(SO(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(SO(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class OY{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Jj(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Xj(n){return typeof Blob<"u"&&n instanceof Blob}function ez(n){return typeof FormData<"u"&&n instanceof FormData}class AI{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function AY(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new pm),this.context||(this.context=new OY),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const m=e.indexOf("?");this.urlWithParams=e+(-1===m?"?":m<e.length-1?"&":"")+u}}else this.params=new Gg,this.urlWithParams=e}serializeBody(){return null===this.body?null:Jj(this.body)||Xj(this.body)||ez(this.body)||function PY(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Gg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ez(this.body)?null:Xj(this.body)?this.body.type||null:Jj(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Gg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,m=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let v=t.headers||this.headers,x=t.params||this.params;const O=t.context??this.context;return void 0!==t.setHeaders&&(v=Object.keys(t.setHeaders).reduce((L,q)=>L.set(q,t.setHeaders[q]),v)),t.setParams&&(x=Object.keys(t.setParams).reduce((L,q)=>L.set(q,t.setParams[q]),x)),new AI(e,i,o,{params:x,headers:v,context:O,reportProgress:m,responseType:r,withCredentials:u})}}var SF=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(SF||{});class kY{constructor(t,e=200,i="OK"){this.headers=t.headers||new pm,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class PI extends kY{constructor(t={}){super(t),this.type=SF.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new PI({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function DF(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let OF=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof AI)o=e;else{let v,x;v=r.headers instanceof pm?r.headers:new pm(r.headers),r.params&&(x=r.params instanceof Gg?r.params:new Gg({fromObject:r.params})),o=new AI(e,i,void 0!==r.body?r.body:null,{headers:v,context:r.context,params:x,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=(0,_n.of)(o).pipe(oy(v=>this.handler.handle(v)));if(e instanceof AI||"events"===r.observe)return u;const m=u.pipe(cr(v=>v instanceof PI));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return m.pipe((0,gn.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return m.pipe((0,gn.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return m.pipe((0,gn.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return m.pipe((0,gn.U)(v=>v.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Gg).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,DF(r,i))}post(e,i,r={}){return this.request("POST",e,DF(r,i))}put(e,i,r={}){return this.request("PUT",e,DF(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(MF))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const XY=["*"];let AO;function kI(n){return function eK(){if(void 0===AO&&(AO=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(AO=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return AO}()?.createHTML(n)||n}function uz(n){return Error(`Unable to find icon with the name "${n}"`)}function dz(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function hz(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class gy{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let PO=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new gy(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const u=this._sanitizer.sanitize(a.q3G.HTML,r);if(!u)throw hz(r);const m=kI(u);return this._addSvgIconConfig(e,i,new gy("",m,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new gy(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(a.q3G.HTML,i);if(!o)throw hz(i);const u=kI(o);return this._addSvgIconSetConfig(e,new gy("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,e);if(!i)throw dz(e);const r=this._cachedIconsByUrl.get(i);return r?(0,_n.of)(kO(r)):this._loadSvgIconFromConfig(new gy(e,null)).pipe((0,tr.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,gn.U)(o=>kO(o)))}getNamedSvgIcon(e,i=""){const r=fz(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):$0(uz(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,_n.of)(kO(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,gn.U)(i=>kO(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?(0,_n.of)(r):r3(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Lg(m=>{const x=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,u.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(x)),(0,_n.of)(null)})))).pipe((0,gn.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw uz(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(o),m=this._extractSvgIconFromSet(u,e,o.options);if(m)return m}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,tr.b)(i=>e.svgText=i),(0,gn.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,_n.of)(null):this._fetchIcon(e).pipe((0,tr.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const m=this._svgElementFromString(kI("<svg></svg>"));return m.appendChild(u),this._setSvgAttributes(m,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(kI("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:u,value:m}=r[o];"id"!==u&&i.setAttribute(u,m)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function tK(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,i);if(!u)throw dz(i);const m=this._inProgressUrlFetches.get(u);if(m)return m;const v=this._httpClient.get(u,{responseType:"text",withCredentials:o}).pipe((0,gn.U)(x=>kI(x)),U1(()=>this._inProgressUrlFetches.delete(u)),(0,IF.B)());return this._inProgressUrlFetches.set(u,v),v}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(fz(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return iK(o)?new gy(o.url,null,o.options):new gy(o,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(OF,8),a.LFG(Xr),a.LFG(ke,8),a.LFG(a.qLn))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kO(n){return n.cloneNode(!0)}function fz(n,t){return n+":"+t}function iK(n){return!(!n.url||!n.options)}const rK=SI(class{constructor(n){this._elementRef=n}}),oK=new a.OlP("MAT_ICON_DEFAULT_OPTIONS"),sK=new a.OlP("mat-icon-location",{providedIn:"root",factory:function aK(){const n=(0,a.f3M)(ke),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),pz=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],cK=pz.map(n=>`[${n}]`).join(", "),lK=/^url\(['"]?#(.*?)['"]?\)$/;let PF=(()=>{class n extends rK{get inline(){return this._inline}set inline(e){this._inline=ta(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,u,m){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Zu.w0.EMPTY,m&&(m.color&&(this.color=this.defaultColor=m.color),m.fontSet&&(this.fontSet=m.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(u=>{o.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(cK),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)pz.forEach(u=>{const m=i[o],v=m.getAttribute(u),x=v?v.match(lK):null;if(x){let O=r.get(m);O||(O=[],r.set(m,O)),O.push({name:u,value:x[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(nl(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(PO),a.$8M("aria-hidden"),a.Y36(sK),a.Y36(a.qLn),a.Y36(oK,8))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(a.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),a.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:XY,decls:1,vars:0,template:function(i,r){1&i&&(a.F$t(),a.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),mz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ia,ia]})}return n})();const gz=rw({passive:!0});let uK=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Hf.E;const i=$g(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new Hn.x,u="cdk-text-field-autofilled",m=v=>{"cdk-text-field-autofill-start"!==v.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===v.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>o.next({target:v.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>o.next({target:v.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",m,gz),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",m,gz)}}),o}stopMonitoring(e){const i=$g(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Qa),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();var Zg=Q(3019),hK=Q(4552);class fK extends Hn.x{constructor(t=1/0,e=1/0,i=hK.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;e||(i.push(t),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!t.closed;u+=i?1:2)t.next(o[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=e.now();let m=0;for(let v=1;v<i.length&&i[v]<=u;v+=2)m=v;m&&i.splice(0,m+1)}}}function kF(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,IF.B)({connector:()=>new fK(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}class pK{constructor(t){this._box=t,this._destroyed=new Hn.x,this._resizeSubject=new Hn.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new ar.y(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(cr(e=>e.some(i=>i.target===t)),kF({bufferSize:1,refCount:!0}),Hd(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let mK=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,a.f3M)(a.R0b)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new pK(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const gK=["notch"],_K=["matFormFieldNotchedOutline",""],vK=["*"],yK=["textField"],bK=["iconPrefixContainer"],wK=["textPrefixContainer"];function CK(n,t){1&n&&a._UZ(0,"span",19)}function xK(n,t){if(1&n&&(a.TgZ(0,"label",17),a.Hsn(1,1),a.YNc(2,CK,1,0,"span",18),a.qZA()),2&n){const e=a.oxw(2);a.Q6J("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),a.uIk("for",e._control.id),a.xp6(2),a.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function EK(n,t){if(1&n&&a.YNc(0,xK,3,5,"label",16),2&n){const e=a.oxw();a.Q6J("ngIf",e._hasFloatingLabel())}}function IK(n,t){1&n&&a._UZ(0,"div",20)}function MK(n,t){}function TK(n,t){if(1&n&&a.YNc(0,MK,0,0,"ng-template",22),2&n){a.oxw(2);const e=a.MAs(1);a.Q6J("ngTemplateOutlet",e)}}function SK(n,t){if(1&n&&(a.TgZ(0,"div",21),a.YNc(1,TK,1,1,"ng-template",9),a.qZA()),2&n){const e=a.oxw();a.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),a.xp6(1),a.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function DK(n,t){1&n&&(a.TgZ(0,"div",23,24),a.Hsn(2,2),a.qZA())}function OK(n,t){1&n&&(a.TgZ(0,"div",25,26),a.Hsn(2,3),a.qZA())}function AK(n,t){}function PK(n,t){if(1&n&&a.YNc(0,AK,0,0,"ng-template",22),2&n){a.oxw();const e=a.MAs(1);a.Q6J("ngTemplateOutlet",e)}}function kK(n,t){1&n&&(a.TgZ(0,"div",27),a.Hsn(1,4),a.qZA())}function RK(n,t){1&n&&(a.TgZ(0,"div",28),a.Hsn(1,5),a.qZA())}function NK(n,t){1&n&&a._UZ(0,"div",29)}function FK(n,t){if(1&n&&(a.TgZ(0,"div",30),a.Hsn(1,6),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState)}}function LK(n,t){if(1&n&&(a.TgZ(0,"mat-hint",34),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.Q6J("id",e._hintLabelId),a.xp6(1),a.Oqu(e.hintLabel)}}function UK(n,t){if(1&n&&(a.TgZ(0,"div",31),a.YNc(1,LK,2,2,"mat-hint",32),a.Hsn(2,7),a._UZ(3,"div",33),a.Hsn(4,8),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",e.hintLabel)}}const VK=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],BK=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let RI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]})}return n})(),jK=0;const _z=new a.OlP("MatError");let vz=(()=>{class n{constructor(e,i){this.id="mat-mdc-error-"+jK++,e||i.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(i){return new(i||n)(a.$8M("aria-live"),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){2&i&&a.Ikx("id",r.id)},inputs:{id:"id"},features:[a._Bn([{provide:_z,useExisting:n}])]})}return n})(),zK=0,yz=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+zK++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(a.Ikx("id",r.id),a.uIk("align",null),a.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const HK=new a.OlP("MatPrefix"),bz=new a.OlP("MatSuffix");let $K=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[a._Bn([{provide:bz,useExisting:n}])]})}return n})();const wz=new a.OlP("FloatingLabelParent");let Cz=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,a.f3M)(mK),this._ngZone=(0,a.f3M)(a.R0b),this._parent=(0,a.f3M)(wz),this._resizeSubscription=new Zu.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function qK(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&a.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const xz="mdc-line-ripple--active",RO="mdc-line-ripple--deactivating";let Ez=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,u=o.contains(RO);"opacity"===r.propertyName&&u&&o.remove(xz,RO)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(RO),e.add(xz)}deactivate(){this._elementRef.nativeElement.classList.add(RO)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.R0b))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),Iz=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.R0b))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&a.Gf(gK,5),2&i){let o;a.iGM(o=a.CRH())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&a.ekj("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:_K,ngContentSelectors:vK,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(a.F$t(),a._UZ(0,"div",0),a.TgZ(1,"div",1,2),a.Hsn(3),a.qZA(),a._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const GK={transitionMessages:Gc("transitionMessages",[md("enter",Ti({opacity:1,transform:"translateY(0%)"})),fs("void => enter",[Ti({opacity:0,transform:"translateY(-5px)"}),Ri("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Mz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n})}return n})();const Tz=new a.OlP("MatFormField"),WK=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Sz=0,RF=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ta(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,u,m,v,x){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=u,this._defaults=m,this._animationMode=v,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Sz++,this._hintLabelId="mat-mdc-hint-"+Sz++,this._subscriptAnimationState="",this._destroyed=new Hn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,m&&(m.appearance&&(this.appearance=m.appearance),this._hideRequiredMarker=!!m?.hideRequiredMarker,m.color&&(this.color=m.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Hd(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Zg.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Hd(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Hd(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,u=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+u}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(CF),a.Y36(Qa),a.Y36(WK,8),a.Y36(a.QbO,8),a.Y36(ke))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(a.Suo(o,RI,5),a.Suo(o,RI,7),a.Suo(o,Mz,5),a.Suo(o,HK,5),a.Suo(o,bz,5),a.Suo(o,_z,5),a.Suo(o,yz,5)),2&i){let u;a.iGM(u=a.CRH())&&(r._labelChildNonStatic=u.first),a.iGM(u=a.CRH())&&(r._labelChildStatic=u.first),a.iGM(u=a.CRH())&&(r._formFieldControl=u.first),a.iGM(u=a.CRH())&&(r._prefixChildren=u),a.iGM(u=a.CRH())&&(r._suffixChildren=u),a.iGM(u=a.CRH())&&(r._errorChildren=u),a.iGM(u=a.CRH())&&(r._hintChildren=u)}},viewQuery:function(i,r){if(1&i&&(a.Gf(yK,5),a.Gf(bK,5),a.Gf(wK,5),a.Gf(Cz,5),a.Gf(Iz,5),a.Gf(Ez,5)),2&i){let o;a.iGM(o=a.CRH())&&(r._textField=o.first),a.iGM(o=a.CRH())&&(r._iconPrefixContainer=o.first),a.iGM(o=a.CRH())&&(r._textPrefixContainer=o.first),a.iGM(o=a.CRH())&&(r._floatingLabel=o.first),a.iGM(o=a.CRH())&&(r._notchedOutline=o.first),a.iGM(o=a.CRH())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&a.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:Tz,useExisting:n},{provide:wz,useExisting:n}])],ngContentSelectors:BK,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(a.F$t(VK),a.YNc(0,EK,1,1,"ng-template",null,0,a.W1O),a.TgZ(2,"div",1,2),a.NdJ("click",function(u){return r._control.onContainerClick(u)}),a.YNc(4,IK,1,0,"div",3),a.TgZ(5,"div",4),a.YNc(6,SK,2,2,"div",5),a.YNc(7,DK,3,0,"div",6),a.YNc(8,OK,3,0,"div",7),a.TgZ(9,"div",8),a.YNc(10,PK,1,1,"ng-template",9),a.Hsn(11),a.qZA(),a.YNc(12,kK,2,0,"div",10),a.YNc(13,RK,2,0,"div",11),a.qZA(),a.YNc(14,NK,1,0,"div",12),a.qZA(),a.TgZ(15,"div",13),a.YNc(16,FK,2,1,"div",14),a.YNc(17,UK,5,2,"div",15),a.qZA()),2&i&&(a.xp6(2),a.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),a.xp6(2),a.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),a.xp6(2),a.Q6J("ngIf",r._hasOutline()),a.xp6(1),a.Q6J("ngIf",r._hasIconPrefix),a.xp6(1),a.Q6J("ngIf",r._hasTextPrefix),a.xp6(2),a.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),a.xp6(2),a.Q6J("ngIf",r._hasTextSuffix),a.xp6(1),a.Q6J("ngIf",r._hasIconSuffix),a.xp6(1),a.Q6J("ngIf",!r._hasOutline()),a.xp6(1),a.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),a.Q6J("ngSwitch",r._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[xi,oa,Ls,nc,yz,Cz,Iz,Ez],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[GK.transitionMessages]},changeDetection:0})}return n})(),NI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ia,ki,mj,ia]})}return n})();const KK=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),QK=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let JK=0;const XK=q7(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Hn.x}});let NF=(()=>{class n extends XK{get disabled(){return this._disabled}set disabled(e){this._disabled=ta(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(wc.required)??!1}set required(e){this._required=ta(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&lj().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ta(e)}constructor(e,i,r,o,u,m,v,x,O,L){super(m,o,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=x,this._formField=L,this._uid="mat-input-"+JK++,this.focused=!1,this.stateChanges=new Hn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ae=>lj().has(ae)),this._iOSKeyupListener=ae=>{const ye=ae.target;!ye.value&&0===ye.selectionStart&&0===ye.selectionEnd&&(ye.setSelectionRange(1,1),ye.setSelectionRange(0,0))};const q=this._elementRef.nativeElement,ne=q.nodeName.toLowerCase();this._inputValueAccessor=v||q,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&O.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===ne,this._isTextarea="textarea"===ne,this._isInFormField=!!L,this._isNativeSelect&&(this.controlType=q.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){QK.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(Qa),a.Y36(fm,10),a.Y36(hO,8),a.Y36(zg,8),a.Y36(W7),a.Y36(KK,10),a.Y36(uK),a.Y36(a.R0b),a.Y36(Tz,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&a.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(a.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),a.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),a.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:Mz,useExisting:n}]),a.qOj,a.TTD]})}return n})(),Az=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ia,NI,NI,dK,ia]})}return n})();function eQ(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg a vezet\xe9knev\xe9t! "),a.qZA())}function tQ(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg a Keresztnev\xe9t! "),a.qZA())}function nQ(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," K\xe9rem, val\xf3di E-mail c\xedmet haszn\xe1ljon! "),a.qZA())}function iQ(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg az E-mail c\xedm\xe9t! "),a.qZA())}function rQ(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg a telefonsz\xe1m\xe1t! "),a.qZA())}function oQ(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg a Sz\xe1ll\xedt\xe1si c\xedm\xe9t! "),a.qZA())}function sQ(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adjon meg egy er\u0151s jelsz\xf3t! "),a.qZA())}function aQ(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg m\xe9gegyszer! "),a.qZA())}function cQ(n,t){1&n&&(a.TgZ(0,"mat-error",20),a._uU(1," A jelsz\xf3nak egyeznie kell! "),a.qZA())}let uQ=(()=>{class n{constructor(e,i,r,o,u){this.authService=e,this.fb=i,this.router=r,this.toast=o,this.usersService=u,this.signUpForm=this.fb.group({firstName:["",wc.required],lastName:["",wc.required],email:["",[wc.required,wc.email]],phone:["",wc.required],address:["",wc.required],password:["",wc.required],confirmPassword:["",wc.required]},{validators:n=>{const t=n.get("password")?.value,e=n.get("confirmPassword")?.value;return t&&e&&t!==e?{passwordsDontMatch:!0}:null}}),this.hide=!0,this.termsChecked=!1}termsCheck(e){e.stopPropagation(),e.target!==e.currentTarget&&(this.termsChecked=!this.termsChecked)}ngOnInit(){}get email(){return this.signUpForm.get("email")}get password(){return this.signUpForm.get("password")}get confirmPassword(){return this.signUpForm.get("confirmPassword")}get address(){return this.signUpForm.get("address")}get firstName(){return this.signUpForm.get("firstName")}get lastName(){return this.signUpForm.get("lastName")}get phone(){return this.signUpForm.get("phone")}submit(){const{lastName:e,firstName:i,address:r,phone:o,email:u,password:m}=this.signUpForm.value;!this.signUpForm.valid||!i||!i||!m||!u||!r||!o||0==this.termsChecked||this.authService.signUp(u,m).pipe((0,ss.w)(({user:{uid:v}})=>this.usersService.addUser({uid:v,email:u,lastName:e,firstName:i,address:r,phone:o,displayName:e})),this.toast.observe({success:"Sikeres regisztr\xe1ci\xf3!",loading:"Bejelentkez\xe9s",error:({message:v})=>`${v}`})).subscribe(()=>{this.router.navigate(["/user"])})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(qg),a.Y36(gO),a.Y36(Za),a.Y36(Ua),a.Y36(aw))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-sign-up"]],decls:58,vars:16,consts:[[1,"form-container"],[1,"title"],[1,"reg-form",3,"formGroup","ngSubmit"],[1,"row"],["matInput","","formControlName","lastName"],[4,"ngIf"],["matInput","","formControlName","firstName"],["matInput","","formControlName","email"],["type","number","matInput","","formControlName","phone"],["matInput","","formControlName","address"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",1,"pw-hide",3,"click"],["matInput","","formControlName","confirmPassword",3,"type"],["class","pw-must-match",4,"ngIf"],[3,"click"],["routerLink","/user/login",1,"terms"],[1,"login-container"],["routerLink","/user/login/",1,"login"],[1,"center","margin-top"],["type","submit",1,"form-btn",3,"disabled"],[1,"pw-must-match"]],template:function(i,r){1&i&&(a.TgZ(0,"div",0)(1,"p",1),a._uU(2,"Hozza l\xe9tre fi\xf3kj\xe1t!"),a.qZA(),a.TgZ(3,"form",2),a.NdJ("ngSubmit",function(){return r.submit()}),a.TgZ(4,"div",3)(5,"mat-form-field")(6,"mat-label"),a._uU(7,"Vezet\xe9kn\xe9v"),a.qZA(),a._UZ(8,"input",4),a.YNc(9,eQ,2,0,"mat-error",5),a.qZA(),a.TgZ(10,"mat-form-field")(11,"mat-label"),a._uU(12,"Keresztn\xe9v"),a.qZA(),a._UZ(13,"input",6),a.YNc(14,tQ,2,0,"mat-error",5),a.qZA()(),a.TgZ(15,"div",3)(16,"mat-form-field")(17,"mat-label"),a._uU(18,"E-mail c\xedm"),a.qZA(),a._UZ(19,"input",7),a.YNc(20,nQ,2,0,"mat-error",5),a.YNc(21,iQ,2,0,"mat-error",5),a.qZA(),a.TgZ(22,"mat-form-field")(23,"mat-label"),a._uU(24,"Telefonsz\xe1m"),a.qZA(),a._UZ(25,"input",8),a.YNc(26,rQ,2,0,"mat-error",5),a.qZA()(),a.TgZ(27,"mat-form-field")(28,"mat-label"),a._uU(29,"Sz\xe1ll\xedt\xe1si c\xedm"),a.qZA(),a._UZ(30,"input",9),a.YNc(31,oQ,2,0,"mat-error",5),a.qZA(),a.TgZ(32,"mat-form-field")(33,"mat-label"),a._uU(34,"Jelsz\xf3 "),a.qZA(),a._UZ(35,"input",10),a.TgZ(36,"div",11),a.NdJ("click",function(){return r.hide=!r.hide}),a.TgZ(37,"mat-icon"),a._uU(38),a.qZA()(),a.YNc(39,sQ,2,0,"mat-error",5),a.qZA(),a.TgZ(40,"mat-form-field")(41,"mat-label"),a._uU(42,"Jelsz\xf3 \xfajra"),a.qZA(),a._UZ(43,"input",12),a.YNc(44,aQ,2,0,"mat-error",5),a.qZA(),a.YNc(45,cQ,2,0,"mat-error",13),a.TgZ(46,"mat-checkbox",14),a.NdJ("click",function(u){return r.termsCheck(u)}),a._uU(47,"Elfogadom az "),a.TgZ(48,"div",15),a._uU(49,"\xc1SZF "),a.qZA(),a._uU(50,"-et "),a.qZA(),a.TgZ(51,"div",16),a._uU(52,"M\xe1r rendelkezik fi\xf3kkal? "),a.TgZ(53,"div",17),a._uU(54,"Jelentkezzen be! "),a.qZA()(),a.TgZ(55,"div",18)(56,"button",19),a._uU(57,"Regisztr\xe1ci\xf3!"),a.qZA()()()()),2&i&&(a.xp6(3),a.Q6J("formGroup",r.signUpForm),a.xp6(6),a.Q6J("ngIf",null==r.lastName||null==r.lastName.errors?null:r.lastName.errors.required),a.xp6(5),a.Q6J("ngIf",null==r.firstName||null==r.firstName.errors?null:r.firstName.errors.required),a.xp6(6),a.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.email),a.xp6(1),a.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),a.xp6(5),a.Q6J("ngIf",null==r.phone||null==r.phone.errors?null:r.phone.errors.required),a.xp6(5),a.Q6J("ngIf",null==r.address||null==r.address.errors?null:r.address.errors.required),a.xp6(4),a.Q6J("type",r.hide?"password":"text"),a.xp6(1),a.uIk("aria-label","Hide password")("aria-pressed",r.hide),a.xp6(2),a.hij(" ",r.hide?"visibility_off":"visibility"," "),a.xp6(1),a.Q6J("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required),a.xp6(4),a.Q6J("type",r.hide?"password":"text"),a.xp6(1),a.Q6J("ngIf",null==r.confirmPassword||null==r.confirmPassword.errors?null:r.confirmPassword.errors.required),a.xp6(1),a.Q6J("ngIf",null==r.signUpForm.errors?null:r.signUpForm.errors.passwordsDontMatch),a.xp6(11),a.Q6J("disabled",0==r.termsChecked))},dependencies:[xi,Gf,PF,xI,ly,EI,uy,mI,zg,nw,NF,RF,RI,vz,$K,TO],styles:[".mdc-text-field--filled[_ngcontent-%COMP%]:not(.mdc-text-field--disabled){background-color:#eceff1}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.text-center[_ngcontent-%COMP%]{text-align:center}.form-container[_ngcontent-%COMP%]{width:100%;max-width:500px;height:500px;background-color:#fff;box-shadow:#00000059 0 5px 15px;border-radius:10px;box-sizing:border-box;padding:20px 30px;position:relative}.title[_ngcontent-%COMP%]{text-align:center;margin:10px 0 30px;font-size:28px;font-weight:800;color:#061e29}.form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:18px;margin-bottom:15px}.page-link[_ngcontent-%COMP%]{text-decoration:underline;margin:0;text-align:end;color:#747474;text-decoration-color:#747474}.page-link-label[_ngcontent-%COMP%]{cursor:pointer;font-size:9px;font-weight:700}.page-link-label[_ngcontent-%COMP%]:hover{color:#000}.form-btn[_ngcontent-%COMP%]{padding:10px 15px;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;border-radius:20px;border:0!important;outline:0!important;background:#061e29;color:#fff;cursor:pointer;box-shadow:#0000003d 0 3px 8px}.form-btn[_ngcontent-%COMP%]:active{box-shadow:none}.sign-up-label[_ngcontent-%COMP%]{margin:0;font-size:10px;color:#747474;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}.sign-up-link[_ngcontent-%COMP%]{margin-left:1px;font-size:11px;text-decoration:underline;text-decoration-color:#061e29;color:#061e29;cursor:pointer;font-weight:800;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}.buttons-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:flex-start;margin-top:20px;gap:15px}.apple-login-button[_ngcontent-%COMP%], .google-login-button[_ngcontent-%COMP%]{border-radius:20px;box-sizing:border-box;padding:10px 15px;box-shadow:#00000029 0 10px 36px,#0000000f 0 0 0 1px;cursor:not-allowed;display:flex;justify-content:center;align-items:center;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;font-size:11px;gap:5px;-webkit-user-select:none;user-select:none;opacity:.3}.apple-login-button[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:2px solid #000}.google-login-button[_ngcontent-%COMP%]{border:2px solid #747474}.apple-icon[_ngcontent-%COMP%], .google-icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:1px}@media screen and (max-width: 650px){.form-container[_ngcontent-%COMP%]{max-width:550px;height:500px;padding:15px 7px;margin-top:35px}.form-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:10px 0 30px;font-size:22px}.form-container[_ngcontent-%COMP%]   .apple-login-button[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .google-login-button[_ngcontent-%COMP%]{font-size:10px}}@media screen and (min-width: 650px){.form-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}}.inputGroup[_ngcontent-%COMP%]{margin:1em 0 0;max-width:100%;position:relative}.inputGroup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:100%;padding:.8em;outline:none;border:2px solid rgb(200,200,200);background-color:transparent;border-radius:20px;width:100%}.inputGroup.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:red}.inputGroup.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:red}.inputGroup.error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid) ~ label[_ngcontent-%COMP%]{color:#646464}.inputGroup[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:100%;position:absolute;left:0;padding:.8em;margin-left:.5em;pointer-events:none;transition:all .3s ease;color:#646464}.inputGroup[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid) ~ label[_ngcontent-%COMP%]{transform:translateY(-50%) scale(.9);margin:0 0 0 1.3em;padding:.4em;background-color:#fff}.inputGroup[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid){border-color:#061e29}",".form-container[_ngcontent-%COMP%]{height:auto;width:100%;max-width:700px;position:relative}mat-checkbox[_ngcontent-%COMP%]{margin-top:0ps;white-space:nowrap;position:relative}mat-checkbox[_ngcontent-%COMP%]   .terms[_ngcontent-%COMP%]{display:inline-block;color:#061e29;text-decoration:underline;cursor:pointer}.pw-must-match[_ngcontent-%COMP%]{position:absolute;font-size:12px;margin-left:14px;bottom:33%}.reg-form[_ngcontent-%COMP%]{height:auto;width:100%;display:flex;flex-direction:column}mat-form-field[_ngcontent-%COMP%]{color:#061e29}mat-form-field[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:#061e29;font-size:15px}mat-form-field[_ngcontent-%COMP%]   .pw-hide[_ngcontent-%COMP%]{cursor:pointer}.form-btn[_ngcontent-%COMP%]{width:60%;transition:.3s ease-in-out}.login-container[_ngcontent-%COMP%]{display:flex;font-size:10px;color:#747474;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}.login-container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{margin-left:5px;font-size:11px;text-decoration:underline;text-decoration-color:#061e29;color:#061e29;cursor:pointer;font-weight:800;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}.form-btn[_ngcontent-%COMP%]:disabled{padding:10px 15px;border-radius:20px;border:0!important;outline:0!important;background:#989898;color:#fff;cursor:pointer;box-shadow:#0000 0 0;transition:.3s ease-in-out}@media screen and (max-width: 650px){.form-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:block}.form-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:10px 0 20px;font-size:24px}.form-container[_ngcontent-%COMP%]   .pw-must-match[_ngcontent-%COMP%]{position:absolute;font-size:12px;margin-left:14px;bottom:28%}.form-container[_ngcontent-%COMP%]   .form-btn[_ngcontent-%COMP%]{margin-top:10px;top:100%}.form-container[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin-top:10px;white-space:wrap;position:relative}.form-container[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]   .terms[_ngcontent-%COMP%]{display:inline-block;color:#061e29;text-decoration:underline;cursor:pointer}}"]})}return n})(),Pz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-landing"]],decls:2,vars:0,template:function(i,r){1&i&&(a.TgZ(0,"h1"),a._uU(1,"kor\xe1bbiasld klisd"),a.qZA())}})}return n})();const dQ=["mat-button",""],hQ=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],fQ=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],pQ=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],mQ=SI(TI(xO(class{constructor(n){this._elementRef=n}})));let gQ=(()=>{class n extends mQ{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ta(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=ta(e),this._updateRippleDisabled()}constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=(0,a.f3M)(CO),this._rippleLoader=(0,a.f3M)(J7),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const u=e.nativeElement.classList;for(const m of pQ)this._hasHostAttributes(m.selector)&&m.mdcClasses.forEach(v=>{u.add(v)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){a.$Z()};static#t=this.\u0275dir=a.lG2({type:n,features:[a.qOj]})}return n})(),vQ=(()=>{class n extends gQ{constructor(e,i,r,o){super(e,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(Qa),a.Y36(a.R0b),a.Y36(a.QbO,8))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(a.uIk("disabled",r.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:dQ,ngContentSelectors:fQ,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(a.F$t(hQ),a._UZ(0,"span",0),a.Hsn(1),a.TgZ(2,"span",1),a.Hsn(3,1),a.qZA(),a.Hsn(4,2),a._UZ(5,"span",2)(6,"span",3)),2&i&&a.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),kz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ia,IO,ia]})}return n})();const bQ=["*",[["mat-toolbar-row"]]],wQ=["*","mat-toolbar-row"],CQ=SI(class{constructor(n){this._elementRef=n}});let xQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),EQ=(()=>{class n extends CQ{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(Qa),a.Y36(ke))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&a.Suo(o,xQ,5),2&i){let u;a.iGM(u=a.CRH())&&(r._toolbarRows=u)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&a.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:wQ,decls:2,vars:0,template:function(i,r){1&i&&(a.F$t(bQ),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),Rz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ia,ia]})}return n})();var Nz=Q(1954);let FF,IQ=1;const NO={};function Fz(n){return n in NO&&(delete NO[n],!0)}const MQ={setImmediate(n){const t=IQ++;return NO[t]=!0,FF||(FF=Promise.resolve()),FF.then(()=>Fz(t)&&n()),t},clearImmediate(n){Fz(n)}},{setImmediate:TQ,clearImmediate:SQ}=MQ,FO={setImmediate(...n){const{delegate:t}=FO;return(t?.setImmediate||TQ)(...n)},clearImmediate(n){const{delegate:t}=FO;return(t?.clearImmediate||SQ)(n)},delegate:void 0};var Lz=Q(2631);const LF=new class OQ extends Lz.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class DQ extends Nz.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=FO.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(FO.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function Uz(n,t){return t?e=>XE(t.pipe(nl(1),function AQ(){return(0,Nr.e)((n,t)=>{n.subscribe((0,ci.x)(t,MN.Z))})}()),e.pipe(Uz(n))):(0,Ma.z)((e,i)=>(0,Do.Xf)(n(e,i)).pipe(nl(1),JV(e)))}var PQ=Q(671);function Vz(n=0,t,e=ow.P){let i=-1;return null!=t&&((0,PQ.K)(t)?e=t:i=t),new ar.y(r=>{let o=function kQ(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Bz(n,t=ow.z){const e=Vz(n,t);return Uz(()=>e)}class UF{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class RQ extends UF{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class jz extends UF{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class NQ extends UF{constructor(t){super(),this.element=t instanceof a.SBq?t.nativeElement:t}}class FQ{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof RQ?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof jz?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof NQ?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class LQ extends FQ{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const m=u.element,v=this._document.createComment("dom-portal");m.parentNode.insertBefore(v,m),this.outletElement.appendChild(m),this._attachedPortal=u,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(m,v)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let UQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();var VQ=Q(4266);const BQ=["addListener","removeListener"],jQ=["addEventListener","removeEventListener"],zQ=["on","off"];function VF(n,t,e,i){if((0,jd.m)(e)&&(i=e,e=void 0),i)return VF(n,t,e).pipe(CN(i));const[r,o]=function qQ(n){return(0,jd.m)(n.addEventListener)&&(0,jd.m)(n.removeEventListener)}(n)?jQ.map(u=>m=>n[u](t,m,e)):function HQ(n){return(0,jd.m)(n.addListener)&&(0,jd.m)(n.removeListener)}(n)?BQ.map(zz(n,t)):function $Q(n){return(0,jd.m)(n.on)&&(0,jd.m)(n.off)}(n)?zQ.map(zz(n,t)):[];if(!r&&(0,VQ.z)(n))return(0,Ma.z)(u=>VF(u,t,e))((0,Do.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ar.y(u=>{const m=(...v)=>u.next(1<v.length?v:v[0]);return r(m),()=>o(m)})}function zz(n,t){return e=>i=>n[e](t,i)}const FI={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=FI;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Zu.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=FI;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=FI;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class WQ extends Lz.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class GQ extends Nz.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=FI.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(FI.cancelAnimationFrame(e),t._scheduled=void 0)}});function Hz(n,t=ow.z){return function YQ(n){return(0,Nr.e)((t,e)=>{let i=!1,r=null,o=null,u=!1;const m=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const x=r;r=null,e.next(x)}u&&e.complete()},v=()=>{o=null,u&&e.complete()};t.subscribe((0,ci.x)(e,x=>{i=!0,r=x,o||(0,Do.Xf)(n(x)).subscribe(o=(0,ci.x)(e,m,v))},()=>{u=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>Vz(n,t))}let QQ=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Hn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ar.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Hz(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,_n.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(cr(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=$g(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>VF(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.R0b),a.LFG(Qa),a.LFG(ke,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$z=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Hn.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Hz(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Qa),a.LFG(a.R0b),a.LFG(ke,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})(),qz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[MI,BF,MI,BF]})}return n})();const Gz=$Z();class XQ{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=na(-this._previousScrollPosition.left),t.style.top=na(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Gz&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Gz&&(i.scrollBehavior=o,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class eJ{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(cr(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Wz{enable(){}disable(){}attach(){}}function jF(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function Zz(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class tJ{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();jF(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let nJ=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Wz,this.close=u=>new eJ(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new XQ(this._viewportRuler,this._document),this.reposition=u=>new tJ(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(QQ),a.LFG($z),a.LFG(a.R0b),a.LFG(ke))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Yz{constructor(t){if(this.scrollStrategy=new Wz,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class iJ{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Kz=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(ke))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rJ=(()=>{class n extends Kz{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const m=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>m.next(r)):m.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(ke),a.LFG(a.R0b,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oJ=(()=>{class n extends Kz{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Hg(o)},this._clickListener=o=>{const u=Hg(o),m="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const v=this._attachedOverlays.slice();for(let x=v.length-1;x>-1;x--){const O=v[x];if(O._outsidePointerEvents.observers.length<1||!O.hasAttached())continue;if(O.overlayElement.contains(u)||O.overlayElement.contains(m))break;const L=O._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>L.next(o)):L.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(ke),a.LFG(Qa),a.LFG(a.R0b,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qz=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||fF()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),fF()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(ke),a.LFG(Qa))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class sJ{constructor(t,e,i,r,o,u,m,v,x,O=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=u,this._document=m,this._location=v,this._outsideClickDispatcher=x,this._animationsDisabled=O,this._backdropElement=null,this._backdropClick=new Hn.x,this._attachments=new Hn.x,this._detachments=new Hn.x,this._locationChanges=Zu.w0.EMPTY,this._backdropClickHandler=L=>this._backdropClick.next(L),this._backdropTransitionendHandler=L=>{this._disposeBackdrop(L.target)},this._keydownEvents=new Hn.x,this._outsidePointerEvents=new Hn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(nl(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=na(this._config.width),t.height=na(this._config.height),t.minWidth=na(this._config.minWidth),t.minHeight=na(this._config.minHeight),t.maxWidth=na(this._config.maxWidth),t.maxHeight=na(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=vO(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Hd((0,Zg.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Jz="cdk-overlay-connected-position-bounding-box",aJ=/([A-Za-z%]+)$/;class cJ{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Hn.x,this._resizeSubscription=Zu.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(Jz),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let u;for(let m of this._preferredPositions){let v=this._getOriginPoint(t,r,m),x=this._getOverlayPoint(v,e,m),O=this._getOverlayFit(x,e,i,m);if(O.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,v);this._canFitWithFlexibleDimensions(O,x,i)?o.push({position:m,origin:v,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(v,m)}):(!u||u.overlayFit.visibleArea<O.visibleArea)&&(u={overlayFit:O,overlayPoint:x,originPoint:v,position:m,overlayRect:e})}if(o.length){let m=null,v=-1;for(const x of o){const O=x.boundingBoxRect.width*x.boundingBoxRect.height*(x.position.weight||1);O>v&&(v=O,m=x)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&_y(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Jz),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,m=this._isRtl()?t.left:t.right;r="start"==i.originX?u:m}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=e4(e);let{x:u,y:m}=t,v=this._getOffset(r,"x"),x=this._getOffset(r,"y");v&&(u+=v),x&&(m+=x);let q=0-m,ne=m+o.height-i.height,ae=this._subtractOverflows(o.width,0-u,u+o.width-i.width),ye=this._subtractOverflows(o.height,q,ne),We=ae*ye;return{visibleArea:We,isCompletelyWithinViewport:o.width*o.height===We,fitsInViewportVertically:ye===o.height,fitsInViewportHorizontally:ae==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,u=Xz(this._overlayRef.getConfig().minHeight),m=Xz(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=u&&u<=r)&&(t.fitsInViewportHorizontally||null!=m&&m<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=e4(e),o=this._viewportRect,u=Math.max(t.x+r.width-o.width,0),m=Math.max(t.y+r.height-o.height,0),v=Math.max(o.top-i.top-t.y,0),x=Math.max(o.left-i.left-t.x,0);let O=0,L=0;return O=r.width<=o.width?x||-u:t.x<this._viewportMargin?o.left-i.left-t.x:0,L=r.height<=o.height?v||-m:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:O,y:L},{x:t.x+O,y:t.y+L}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new iJ(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,u,m,O,L,q;if("top"===e.overlayY)u=t.y,o=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)m=i.height-t.y+2*this._viewportMargin,o=i.height-m+this._viewportMargin;else{const ne=Math.min(i.bottom-t.y+i.top,t.y),ae=this._lastBoundingBoxSize.height;o=2*ne,u=t.y-ne,o>ae&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-ae/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)q=i.width-t.x+this._viewportMargin,O=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)L=t.x,O=i.right-t.x;else{const ne=Math.min(i.right-t.x+i.left,t.x),ae=this._lastBoundingBoxSize.width;O=2*ne,L=t.x-ne,O>ae&&!this._isInitialRender&&!this._growAfterOpen&&(L=t.x-ae/2)}return{top:u,left:L,bottom:m,right:q,width:O,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=na(i.height),r.top=na(i.top),r.bottom=na(i.bottom),r.width=na(i.width),r.left=na(i.left),r.right=na(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=na(o)),u&&(r.maxWidth=na(u))}this._lastBoundingBoxSize=i,_y(this._boundingBox.style,r)}_resetBoundingBoxStyles(){_y(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){_y(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const O=this._viewportRuler.getViewportScrollPosition();_y(i,this._getExactOverlayY(e,t,O)),_y(i,this._getExactOverlayX(e,t,O))}else i.position="static";let m="",v=this._getOffset(e,"x"),x=this._getOffset(e,"y");v&&(m+=`translateX(${v}px) `),x&&(m+=`translateY(${x}px)`),i.transform=m.trim(),u.maxHeight&&(r?i.maxHeight=na(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=na(u.maxWidth):o&&(i.maxWidth="")),_y(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=na(o.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=na(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Zz(t,i),isOriginOutsideView:jF(t,i),isOverlayClipped:Zz(e,i),isOverlayOutsideView:jF(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&vO(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof a.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function _y(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Xz(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(aJ);return e&&"px"!==e?null:parseFloat(t)}return n||null}function e4(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const t4="cdk-global-overlay-wrapper";class lJ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(t4),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:u,maxHeight:m}=i,v=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),x=!("100%"!==o&&"100vh"!==o||m&&"100%"!==m&&"100vh"!==m),O=this._xPosition,L=this._xOffset,q="rtl"===this._overlayRef.getConfig().direction;let ne="",ae="",ye="";v?ye="flex-start":"center"===O?(ye="center",q?ae=L:ne=L):q?"left"===O||"end"===O?(ye="flex-end",ne=L):("right"===O||"start"===O)&&(ye="flex-start",ae=L):"left"===O||"start"===O?(ye="flex-start",ne=L):("right"===O||"end"===O)&&(ye="flex-end",ae=L),t.position=this._cssPosition,t.marginLeft=v?"0":ne,t.marginTop=x?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=v?"0":ae,e.justifyContent=ye,e.alignItems=x?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(t4),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let uJ=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new lJ}flexibleConnectedTo(e){return new cJ(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG($z),a.LFG(ke),a.LFG(Qa),a.LFG(Qz))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dJ=0,LO=(()=>{class n{constructor(e,i,r,o,u,m,v,x,O,L,q,ne){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=m,this._ngZone=v,this._document=x,this._directionality=O,this._location=L,this._outsideClickDispatcher=q,this._animationsModuleType=ne}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),u=new Yz(e);return u.direction=u.direction||this._directionality.value,new sJ(o,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+dJ++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new LQ(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(nJ),a.LFG(Qz),a.LFG(a._Vd),a.LFG(uJ),a.LFG(rJ),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(ke),a.LFG(CF),a.LFG(mt),a.LFG(oJ),a.LFG(a.QbO,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const pJ={provide:new a.OlP("cdk-connected-overlay-scroll-strategy"),deps:[LO],useFactory:function fJ(n){return()=>n.scrollStrategies.reposition()}};let mJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:[LO,pJ],imports:[MI,UQ,qz,qz]})}return n})();const gJ=["mat-menu-item",""];function _J(n,t){1&n&&(a.O4$(),a.TgZ(0,"svg",3),a._UZ(1,"polygon",4),a.qZA())}const vJ=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],yJ=["mat-icon, [matMenuItemIcon]","*"];function bJ(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",0),a.NdJ("keydown",function(r){a.CHM(e);const o=a.oxw();return a.KtG(o._handleKeydown(r))})("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){a.CHM(e);const o=a.oxw();return a.KtG(o._onAnimationStart(r))})("@transformMenu.done",function(r){a.CHM(e);const o=a.oxw();return a.KtG(o._onAnimationDone(r))}),a.TgZ(1,"div",1),a.Hsn(2),a.qZA()()}if(2&n){const e=a.oxw();a.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),a.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const wJ=["*"],zF=new a.OlP("MAT_MENU_PANEL"),CJ=xO(TI(class{}));let UO=(()=>{class n extends CJ{constructor(e,i,r,o,u){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new Hn.x,this._focused=new Hn.x,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(ke),a.Y36(CO),a.Y36(zF,8),a.Y36(a.sBO))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(i,r){1&i&&a.NdJ("click",function(u){return r._checkDisabled(u)})("mouseenter",function(){return r._handleMouseEnter()}),2&i&&(a.uIk("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),a.ekj("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[a.qOj],attrs:gJ,ngContentSelectors:yJ,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){1&i&&(a.F$t(vJ),a.Hsn(0),a.TgZ(1,"span",0),a.Hsn(2,1),a.qZA(),a._UZ(3,"div",1),a.YNc(4,_J,2,0,"svg",2)),2&i&&(a.xp6(3),a.Q6J("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),a.xp6(1),a.Q6J("ngIf",r._triggersSubmenu))},dependencies:[xi,OI],encapsulation:2,changeDetection:0})}return n})();const xJ=new a.OlP("MatMenuContent"),VO={transformMenu:Gc("transformMenu",[md("void",Ti({opacity:0,transform:"scale(0.8)"})),fs("void => enter",Ri("120ms cubic-bezier(0, 0, 0.2, 1)",Ti({opacity:1,transform:"scale(1)"}))),fs("* => void",Ri("100ms 25ms linear",Ti({opacity:0})))]),fadeInItems:Gc("fadeInItems",[md("showing",Ti({opacity:1})),fs("void => *",[Ti({opacity:0}),Ri("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let EJ=0;const n4=new a.OlP("mat-menu-default-options",{providedIn:"root",factory:function IJ(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let LI=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=ta(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=ta(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,i,r,o){this._elementRef=e,this._ngZone=i,this._changeDetectorRef=o,this._directDescendantItems=new a.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new Hn.x,this.closed=new a.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+EJ++,this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this._overlapTrigger=r.overlapTrigger,this._hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new w7(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ng(this._directDescendantItems),(0,ss.w)(e=>(0,Zg.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Ng(this._directDescendantItems),(0,ss.w)(i=>(0,Zg.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:hj(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(nl(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Ng(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(n4),a.Y36(a.sBO))};static#t=this.\u0275dir=a.lG2({type:n,contentQueries:function(i,r,o){if(1&i&&(a.Suo(o,xJ,5),a.Suo(o,UO,5),a.Suo(o,UO,4)),2&i){let u;a.iGM(u=a.CRH())&&(r.lazyContent=u.first),a.iGM(u=a.CRH())&&(r._allItems=u),a.iGM(u=a.CRH())&&(r.items=u)}},viewQuery:function(i,r){if(1&i&&a.Gf(a.Rgc,5),2&i){let o;a.iGM(o=a.CRH())&&(r.templateRef=o.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}})}return n})(),MJ=(()=>{class n extends LI{constructor(e,i,r,o){super(e,i,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(n4),a.Y36(a.sBO))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(i,r){2&i&&a.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[a._Bn([{provide:zF,useExisting:n}]),a.qOj],ngContentSelectors:wJ,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(i,r){1&i&&(a.F$t(),a.YNc(0,bJ,3,6,"ng-template"))},dependencies:[No],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{--mat-menu-container-shape:4px;min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[VO.transformMenu,VO.fadeInItems]},changeDetection:0})}return n})();const i4=new a.OlP("mat-menu-scroll-strategy"),SJ={provide:i4,deps:[LO],useFactory:function TJ(n){return()=>n.scrollStrategies.reposition()}},r4=rw({passive:!0});let DJ=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,i,r,o,u,m,v,x,O){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=m,this._dir=v,this._focusMonitor=x,this._ngZone=O,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Zu.w0.EMPTY,this._hoverSubscription=Zu.w0.EMPTY,this._menuCloseSubscription=Zu.w0.EMPTY,this._changeDetectorRef=(0,a.f3M)(a.sBO),this._handleTouchStart=L=>{bF(L)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new a.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new a.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=u instanceof LI?u:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,r4)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,r4),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),o=r.positionStrategy;this._setPosition(e,o),r.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof LI&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Hd(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof LI?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(cr(r=>"void"===r.toState),nl(1),Hd(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new Yz({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",u="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,u)):e.setPositionClasses(o,u)})}_setPosition(e,i){let[r,o]="before"===e.xPosition?["end","start"]:["start","end"],[u,m]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[v,x]=[u,m],[O,L]=[r,o],q=0;if(this.triggersSubmenu()){if(L=r="before"===e.xPosition?"start":"end",o=O="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const ne=this._parentMaterialMenu.items.first;this._parentInnerPadding=ne?ne._getHostElement().offsetTop:0}q="bottom"===u?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(v="top"===u?"bottom":"top",x="top"===m?"bottom":"top");i.withPositions([{originX:r,originY:v,overlayX:O,overlayY:u,offsetY:q},{originX:o,originY:v,overlayX:L,overlayY:u,offsetY:q},{originX:r,originY:x,overlayX:O,overlayY:m,offsetY:-q},{originX:o,originY:x,overlayX:L,overlayY:m,offsetY:-q}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,_n.of)(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(cr(u=>u!==this._menuItemInstance),cr(()=>this._menuOpen)):(0,_n.of)();return(0,Zg.T)(e,r,o,i)}_handleMousedown(e){yF(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(cr(e=>e===this._menuItemInstance&&!e.disabled),Bz(0,LF)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof LI&&this.menu._isAnimating?this.menu._animationDone.pipe(nl(1),Bz(0,LF),Hd(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new jz(e.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(LO),a.Y36(a.SBq),a.Y36(a.s_b),a.Y36(i4),a.Y36(zF,8),a.Y36(UO,10),a.Y36(CF,8),a.Y36(CO),a.Y36(a.R0b))};static#t=this.\u0275dir=a.lG2({type:n,hostVars:3,hostBindings:function(i,r){1&i&&a.NdJ("click",function(u){return r._handleClick(u)})("mousedown",function(u){return r._handleMousedown(u)})("keydown",function(u){return r._handleKeydown(u)}),2&i&&a.uIk("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}})}return n})(),OJ=(()=>{class n extends DJ{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}();static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[a.qOj]})}return n})(),o4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:[SJ],imports:[ki,IO,ia,mJ,BF,ia]})}return n})();function AJ(n,t){if(1&n&&(a.TgZ(0,"h1",7),a._uU(1),a.qZA()),2&n){const e=t.ngIf;a.xp6(1),a.hij(" \xdcdv\xf6z\xf6lj\xfck, ",e.displayName,"!")}}function PJ(n,t){if(1&n&&(a.ynx(0),a.TgZ(1,"button",8),a._UZ(2,"img",9),a.TgZ(3,"mat-icon"),a._uU(4,"expand_more"),a.qZA()(),a.BQk()),2&n){a.oxw();const e=a.MAs(6);a.xp6(1),a.Q6J("matMenuTriggerFor",e)}}let s4=(()=>{class n{constructor(e,i,r,o){this.authService=e,this.router=i,this.usersService=r,this.services=o,this.user$=this.usersService.currentUserProfile$,this.items=[],this.users=[],this.userOrders=[]}ngOnInit(){}logout(){this.authService.logout().subscribe(()=>{this.router.navigate(["/user"])})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(qg),a.Y36(Za),a.Y36(aw),a.Y36(Ya))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-user-header"]],decls:13,vars:6,consts:[["color","primary"],["class","log-in-a",4,"ngIf"],[4,"ngIf"],["userMenu","matMenu"],["mat-menu-item","","routerLink","/user/orders"],["mat-menu-item","","routerLink","/user/profile"],["mat-menu-item","",3,"click"],[1,"log-in-a"],["mat-button","",3,"matMenuTriggerFor"],["width","30","height","30","src","assets/image-placeholder.png",1,"profile-image-toolbar"]],template:function(i,r){1&i&&(a.TgZ(0,"mat-toolbar",0),a.YNc(1,AJ,2,1,"h1",1),a.ALo(2,"async"),a.YNc(3,PJ,5,1,"ng-container",2),a.ALo(4,"async"),a.qZA(),a.TgZ(5,"mat-menu",null,3)(7,"button",4),a._uU(8,"Rendel\xe9sek"),a.qZA(),a.TgZ(9,"button",5),a._uU(10,"Profil"),a.qZA(),a.TgZ(11,"button",6),a.NdJ("click",function(){return r.logout()}),a._uU(12,"Kijelentkez\xe9s"),a.qZA()()),2&i&&(a.xp6(1),a.Q6J("ngIf",a.lcZ(2,2,r.user$)),a.xp6(2),a.Q6J("ngIf",a.lcZ(4,4,r.user$)))},dependencies:[xi,Gf,vQ,PF,EQ,MJ,UO,OJ,Yi],styles:["mat-toolbar[_ngcontent-%COMP%]{justify-content:space-between;margin:0;background-color:#061e29;border-radius:0;box-shadow:0 6px 20px #00000063}.conent[_ngcontent-%COMP%]{padding:32px}.profile-image-toolbar[_ngcontent-%COMP%]{border-radius:100%;margin-right:8px;margin-top:10px}.Btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;width:45px;height:45px;border:none;border-radius:50%;cursor:pointer;position:absolute;right:20px;overflow:hidden;transition-duration:.3s;box-shadow:2px 2px 10px #0003;background-color:#fff}.sign[_ngcontent-%COMP%]{width:100%;transition-duration:.3s;display:flex;align-items:center;justify-content:center}.sign[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:17px}.sign[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#061e29}.text[_ngcontent-%COMP%]{position:absolute;right:0%;width:0%;opacity:0;color:#061e29;font-size:1.2em;font-weight:600;transition-duration:.3s}.Btn[_ngcontent-%COMP%]:hover{width:185px;border-radius:40px;transition-duration:.3s}.Btn[_ngcontent-%COMP%]:hover   .sign[_ngcontent-%COMP%]{width:30%;transition-duration:.3s;padding-left:20px}.Btn[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{opacity:1;width:70%;transition-duration:.3s;padding-right:10px}.Btn[_ngcontent-%COMP%]:active{transform:translate(2px,2px)}"]})}return n})();function kJ(n,t){if(1&n&&(a.TgZ(0,"div",13)(1,"div",14),a._UZ(2,"img",15),a.qZA(),a.TgZ(3,"div",16),a._uU(4),a.qZA(),a.TgZ(5,"div",17),a._uU(6),a.qZA(),a.TgZ(7,"div",18),a._uU(8),a.qZA()()),2&n){const e=t.$implicit;a.xp6(2),a.Q6J("src",e.product.imagePath,a.LSH),a.xp6(2),a.Oqu(e.product.description),a.xp6(2),a.hij("",e.quantity," db"),a.xp6(2),a.hij("",e.product.price," Ft/db")}}function RJ(n,t){if(1&n&&(a.TgZ(0,"div",5),a.YNc(1,kJ,9,4,"div",6),a.TgZ(2,"div",7)(3,"p",8),a._uU(4),a.qZA(),a.TgZ(5,"p",9),a._uU(6),a.qZA(),a.TgZ(7,"p",10),a._uU(8),a.qZA(),a.TgZ(9,"p",11),a._uU(10),a.ALo(11,"date"),a.qZA(),a.TgZ(12,"p",12),a._uU(13),a.qZA()()()),2&n){const e=t.$implicit;a.xp6(1),a.Q6J("ngForOf",e.items),a.xp6(3),a.hij("Aj\xe1nd\xe9kcsomagol\xe1s: ",e.gift?"Igen, +1590 Ft":"Nem",""),a.xp6(2),a.hij("K\xfcldem\xe9ny biztos\xedt\xe1sa: ",e.insurance?"Igen, +500 Ft":"Nem",""),a.xp6(2),a.hij("Sz\xe1ll\xedt\xe1s d\xedja: ",e.shippingPrice," Ft"),a.xp6(2),a.hij("Rendel\xe9s d\xe1tuma: ",a.xi3(11,6,e.orderDate.toDate(),"yyyy-MM-dd"),""),a.xp6(3),a.hij("\xd6sszesen: ",e.price," Ft")}}function NJ(n,t){if(1&n&&(a.TgZ(0,"div",1)(1,"div",2),a._uU(2,"Kor\xe1bbi rendel\xe9sek"),a.qZA(),a.TgZ(3,"div",3),a.YNc(4,RJ,14,9,"div",4),a.qZA()()),2&n){const e=a.oxw();a.xp6(4),a.Q6J("ngForOf",e.userOrders)}}let FJ=(()=>{class n{constructor(e,i,r){this.authService=e,this.usersService=i,this.services=r,this.user$=this.authService.currentUser$,this.items=[],this.users=[],this.userOrders=[]}ngOnInit(){this.services.refreshData(()=>this.services.getOrders(),this.items),this.services.refreshData(()=>this.services.getUsers(),this.users),this.getUser()}getUser(){this.usersService.currentUserProfile$.subscribe(e=>{e&&e.email&&(this.userEmail=e.email,this.userOrders=this.findUserOrders(e.email))})}findUserOrders(e){return this.items.filter(i=>i.email===e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(qg),a.Y36(aw),a.Y36(Ya))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-orders"]],decls:3,vars:3,consts:[["class","orders-container",4,"ngIf"],[1,"orders-container"],[1,"orders-head"],[1,"order-table"],["class","order-row",4,"ngFor","ngForOf"],[1,"order-row"],["class","item-container",4,"ngFor","ngForOf"],[1,"order-data"],[1,"gift"],[1,"insurance"],[1,"shipping-price"],[1,"order-date"],[1,"total-price"],[1,"item-container"],[1,"product-image"],[3,"src"],[1,"description"],[1,"quantity"],[1,"product-price"]],template:function(i,r){1&i&&(a._UZ(0,"app-user-header"),a.YNc(1,NJ,5,1,"div",0),a.ALo(2,"async")),2&i&&(a.xp6(1),a.Q6J("ngIf",a.lcZ(2,1,r.user$)))},dependencies:[jn,xi,s4,Yi,Sa],styles:[".order-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-weight:100}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]{background-color:#fff;margin:20px 0 50px;box-shadow:0 6px 20px #00000030;border-radius:1rem;overflow:hidden;border:transparent}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .order-data[_ngcontent-%COMP%]{padding:10px 10px 40px}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .order-data[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]{width:300px;padding-top:10px;text-align:center;border-top:1px solid #edf1f7;float:right;font-size:16px}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #edf1f7}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1;text-align:center}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:120px;float:left}"]})}return n})();const HF=(0,gn.U)(n=>!!n);let LJ=(()=>{class n{constructor(e,i){this.router=e,this.auth=i,this.canActivate=(r,o)=>{const u=r.data.authGuardPipe||(()=>HF);return Xs(this.auth).pipe(nl(1),u(r,o),(0,gn.U)(m=>"boolean"==typeof m?m:Array.isArray(m)?this.router.createUrlTree(m):this.router.parseUrl(m)))}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Za),a.LFG(xp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const UI=n=>({canActivate:[LJ],data:{authGuardPipe:n}}),a4=n=>(0,xN.z)(HF,(0,gn.U)(t=>t&&n||!0));var BJ=Q(7582);const jJ=a.GuJ,HJ=Symbol("__destroy"),c4=Symbol("__decoratorApplied");function l4(n){return"string"==typeof n?Symbol(`__destroy__${n}`):HJ}function u4(n,t){n[t]||(n[t]=new Hn.x)}function d4(n,t){n[t]&&(n[t].next(),n[t].complete(),n[t]=null)}function h4(n){n instanceof Zu.w0&&n.unsubscribe()}function f4(n,t){return function(){if(n&&n.call(this),d4(this,l4()),t.arrayName&&function qJ(n){Array.isArray(n)&&n.forEach(h4)}(this[t.arrayName]),t.checkProperties)for(const e in this)t.blackList?.includes(e)||h4(this[e])}}Symbol("CheckerHasBeenSet");function XJ(n,t){return e=>{const i=l4(t);"string"==typeof t?function JJ(n,t,e){const i=n[t];u4(n,e),n[t]=function(){i.apply(this,arguments),d4(this,e),n[t]=i}}(n,t,i):u4(n,i);const r=n[i];return e.pipe(Hd(r))}}let tX=(()=>{class n{constructor(e){this.storage=e}uploadImage(e,i){const r=ZG(this.storage,i);return(0,Dr.D)(YG(r,e)).pipe((0,ss.w)(u=>GG(u.ref)))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(R1))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nX(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",1)(1,"h1"),a._uU(2,"Profil"),a.qZA(),a.TgZ(3,"form",2),a.NdJ("ngSubmit",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.saveProfile())}),a.TgZ(4,"div",3)(5,"mat-form-field")(6,"mat-label"),a._uU(7,"Vezet\xe9kn\xe9v"),a.qZA(),a._UZ(8,"input",4),a.qZA(),a.TgZ(9,"mat-form-field")(10,"mat-label"),a._uU(11,"Keresztn\xe9v"),a.qZA(),a._UZ(12,"input",5),a.qZA()(),a.TgZ(13,"div",3)(14,"mat-form-field")(15,"mat-label"),a._uU(16,"Profiln\xe9v"),a.qZA(),a._UZ(17,"input",6),a.qZA(),a.TgZ(18,"mat-form-field")(19,"mat-label"),a._uU(20,"Telefonsz\xe1m"),a.qZA(),a._UZ(21,"input",7),a.qZA()(),a.TgZ(22,"mat-form-field")(23,"mat-label"),a._uU(24,"Sz\xe1ll\xedt\xe1si c\xedm"),a.qZA(),a._UZ(25,"input",8),a.qZA(),a.TgZ(26,"button",9),a._uU(27," Ment\xe9s "),a.qZA()()()}if(2&n){const e=a.oxw();a.xp6(3),a.Q6J("formGroup",e.profileForm)}}let qF=class v2{constructor(t,e,i,r,o){this.authService=t,this.imageUploadService=e,this.toast=i,this.usersService=r,this.fb=o,this.user$=this.usersService.currentUserProfile$,this.profileForm=this.fb.group({uid:[""],displayName:[""],firstName:[""],lastName:[""],phone:[""],address:[""]})}ngOnInit(){this.usersService.currentUserProfile$.pipe(XJ(this),(0,tr.b)(console.log)).subscribe(t=>{this.profileForm.patchValue({...t})})}saveProfile(){const{uid:t,...e}=this.profileForm.value;t&&this.usersService.updateUser({uid:t,...e}).pipe(this.toast.observe({loading:"Profil ment\xe9se...",success:"Sikeres ment\xe9s!",error:"Hiba t\xf6rt\xe9nt a profil ment\xe9se sor\xe1n!"})).subscribe()}static#e=this.\u0275fac=function(e){return new(e||v2)(a.Y36(qg),a.Y36(tX),a.Y36(Ua),a.Y36(aw),a.Y36(gO))};static#t=this.\u0275cmp=a.Xpm({type:v2,selectors:[["app-profile"]],decls:3,vars:3,consts:[["class","form-container mat-elevation-z5 text-center",4,"ngIf"],[1,"form-container","mat-elevation-z5","text-center"],[1,"margin-top",3,"formGroup","ngSubmit"],[1,"row"],["type","text","matInput","","formControlName","firstName"],["type","text","matInput","","formControlName","lastName"],["type","text","matInput","","formControlName","displayName"],["type","number","matInput","","formControlName","phone"],["type","text","matInput","","formControlName","address"],["type","submit",1,"save-button","margin-top"]],template:function(e,i){1&e&&(a._UZ(0,"app-user-header"),a.YNc(1,nX,28,1,"div",0),a.ALo(2,"async")),2&e&&(a.xp6(1),a.Q6J("ngIf",a.lcZ(2,1,i.user$)))},dependencies:[xi,xI,ly,EI,uy,mI,zg,nw,NF,RF,RI,s4,Yi],styles:[".profile-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{border-radius:100%;object-fit:cover;object-position:center;box-shadow:0 .25rem .5rem #000}.form-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:650px;padding:30px;background-color:#fff}@media screen and (max-width: 700px){.form-container[_ngcontent-%COMP%]{position:relative;top:auto;left:auto;transform:none;width:auto;padding:10px}.form-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:block}}.profile-image[_ngcontent-%COMP%]{position:relative}.profile-image[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:35%}.form-container[_ngcontent-%COMP%]{max-width:600px;margin-top:25px}.row[_ngcontent-%COMP%]{display:flex;gap:16px}.save-button[_ngcontent-%COMP%]{padding:10px 15px;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;border-radius:20px;border:0!important;outline:0!important;background:#061e29;color:#fff;cursor:pointer;box-shadow:#0000003d 0 3px 8px;transition:.2s ease-in-out}.save-button[_ngcontent-%COMP%]:hover{background:#0c384f}.test[_ngcontent-%COMP%]{background:yellow}"]})};function iX(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg a vezet\xe9knev\xe9t! "),a.qZA())}function rX(n,t){if(1&n&&(a.TgZ(0,"mat-form-field")(1,"mat-label"),a._uU(2,"Vezet\xe9kn\xe9v"),a.qZA(),a._UZ(3,"input",11),a.YNc(4,iX,2,0,"mat-error",5),a.qZA()),2&n){const e=a.oxw(2);a.xp6(4),a.Q6J("ngIf",null==e.lastName||null==e.lastName.errors?null:e.lastName.errors.required)}}function oX(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg a Keresztnev\xe9t! "),a.qZA())}function sX(n,t){if(1&n&&(a.TgZ(0,"mat-form-field")(1,"mat-label"),a._uU(2,"Keresztn\xe9v"),a.qZA(),a._UZ(3,"input",12),a.YNc(4,oX,2,0,"mat-error",5),a.qZA()),2&n){const e=a.oxw(2);a.xp6(4),a.Q6J("ngIf",null==e.firstName||null==e.firstName.errors?null:e.firstName.errors.required)}}function aX(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," K\xe9rem, val\xf3di E-mail c\xedmet haszn\xe1ljon! "),a.qZA())}function cX(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg az E-mail c\xedm\xe9t! "),a.qZA())}function lX(n,t){if(1&n&&(a.TgZ(0,"mat-form-field")(1,"mat-label"),a._uU(2,"E-mail c\xedm"),a.qZA(),a._UZ(3,"input",13),a.YNc(4,aX,2,0,"mat-error",5),a.YNc(5,cX,2,0,"mat-error",5),a.qZA()),2&n){const e=a.oxw(2);a.xp6(4),a.Q6J("ngIf",null==e.email||null==e.email.errors?null:e.email.errors.email),a.xp6(1),a.Q6J("ngIf",null==e.email||null==e.email.errors?null:e.email.errors.required)}}function uX(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg a telefonsz\xe1m\xe1t! "),a.qZA())}function dX(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg a Sz\xe1ll\xedt\xe1si c\xedm\xe9t! "),a.qZA())}function hX(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",1)(1,"div",2)(2,"form",3,4),a.NdJ("ngSubmit",function(){a.CHM(e);const r=a.MAs(3),o=a.oxw();return a.KtG(o.rendelesFormSubmit(r.value))}),a.YNc(4,rX,5,1,"mat-form-field",5),a.ALo(5,"async"),a.YNc(6,sX,5,1,"mat-form-field",5),a.ALo(7,"async"),a.YNc(8,lX,6,2,"mat-form-field",5),a.ALo(9,"async"),a.TgZ(10,"mat-form-field")(11,"mat-label"),a._uU(12,"Telefonsz\xe1m"),a.qZA(),a._UZ(13,"input",6),a.YNc(14,uX,2,0,"mat-error",5),a.qZA(),a.TgZ(15,"mat-form-field")(16,"mat-label"),a._uU(17,"Szall\xedt\xe1si c\xedm"),a.qZA(),a._UZ(18,"input",7),a.YNc(19,dX,2,0,"mat-error",5),a.qZA(),a.TgZ(20,"div",8)(21,"button",9),a._uU(22,"Rendel\xe9s meger\u0151s\xedt\xe9se"),a.qZA(),a.TgZ(23,"p",10),a._uU(24),a.qZA()()()()()}if(2&n){const e=a.oxw();a.xp6(2),a.Q6J("formGroup",e.shippingForm),a.xp6(2),a.Q6J("ngIf",!a.lcZ(5,7,e.user$)),a.xp6(2),a.Q6J("ngIf",!a.lcZ(7,9,e.user$)),a.xp6(2),a.Q6J("ngIf",!a.lcZ(9,11,e.user$)),a.xp6(6),a.Q6J("ngIf",null==e.phone||null==e.phone.errors?null:e.phone.errors.required),a.xp6(5),a.Q6J("ngIf",null==e.address||null==e.address.errors?null:e.address.errors.required),a.xp6(5),a.hij("v\xe9g\xf6sszeg: ",e.price," Ft")}}qF=(0,BJ.gn)([function ZJ(n={}){return t=>{!function zJ(n){return!!n[jJ]}(t)?function GJ(n,t){n.prototype.ngOnDestroy=f4(n.prototype.ngOnDestroy,t)}(t,n):function WJ(n,t){const e=n.\u0275pipe;e.onDestroy=f4(e.onDestroy,t)}(t,n),function $J(n){n.prototype[c4]=!0}(t)}}()],qF);let fX=(()=>{class n{get email(){return this.shippingForm.get("email")}get address(){return this.shippingForm.get("address")}get firstName(){return this.shippingForm.get("firstName")}get lastName(){return this.shippingForm.get("lastName")}get phone(){return this.shippingForm.get("phone")}constructor(e,i,r,o,u,m,v,x,O){this.fb=e,this.services=i,this.authService=r,this.shoppingService=o,this.usersService=u,this.toast=m,this.router=v,this.firestore=x,this.formbuilder=O,this.shippingForm=this.fb.group({firstName:["",wc.required],lastName:["",wc.required],email:["",[wc.required,wc.email]],phone:["",wc.required],address:["",wc.required]}),this.user$=this.usersService.currentUserProfile$,this.price=this.shoppingService.calculateTotalPayment(),this.items=this.services.getCartItems(),this.gift=this.shoppingService.giftIsChecked,this.insurance=this.shoppingService.insuranceIsChecked,this.shippingPrice=this.shoppingService.shippingPrice,this.orderDate=new Date}ngOnInit(){this.user$.subscribe(e=>{e&&this.shippingForm.patchValue({firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,address:e.address})})}rendelesFormSubmit(e){var i=this;return(0,dt.Z)(function*(){const{firstName:r,lastName:o,email:u,phone:m,address:v}=i.shippingForm.value;if(i.shippingForm.valid&&r&&o&&u&&m&&v)try{const x=yield i.user$.pipe(nl(1)).toPromise();let O;O=Rh(i.firestore,x?"*orders":"*guest"),e.items=i.items,e.gift=i.gift,e.insurance=i.insurance,e.shippingPrice=i.shippingPrice,e.price=i.price,e.orderDate=i.orderDate,yield cq(O,e),console.log("Rendel\xe9s elk\xfcldve a Firestore-ba"),i.router.navigate(["/dashboard"]),i.shippingForm.reset(),i.services.exit()}catch(x){console.error("Hiba t\xf6rt\xe9nt a rendel\xe9s elk\xfcld\xe9se sor\xe1n: ",x)}})()}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(gO),a.Y36(Ya),a.Y36(qg),a.Y36(n3),a.Y36(aw),a.Y36(Ua),a.Y36(Za),a.Y36(Bf),a.Y36(sj))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-shipping"]],decls:1,vars:1,consts:[["class","shopping-cart-component",4,"ngIf"],[1,"shopping-cart-component"],[1,"shipping-container","mat-elevation-z5"],[3,"formGroup","ngSubmit"],["rendelesForm","ngForm"],[4,"ngIf"],["type","number","matInput","","formControlName","phone"],["type","text","matInput","","formControlName","address"],[1,"button-container"],["type","submit",1,"order-btn"],[1,"price"],["type","text","matInput","","formControlName","lastName"],["type","text","matInput","","formControlName","firstName"],["type","email","matInput","","formControlName","email"]],template:function(i,r){1&i&&a.YNc(0,hX,25,13,"div",0),2&i&&a.Q6J("ngIf",r.services.getCartItems().length>-1)},dependencies:[xi,xI,ly,EI,uy,mI,zg,nw,NF,RF,RI,vz,Yi],styles:[".shipping-container[_ngcontent-%COMP%]{display:block;max-width:600px;margin:auto;background:white;padding:48px;border-radius:16px}.shipping-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin-top:8px}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.text-center[_ngcontent-%COMP%]{text-align:center}.button-container[_ngcontent-%COMP%]{margin-top:25px}.button-container[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{float:right;font-size:18px;font-weight:100}.button-container[_ngcontent-%COMP%]   .order-btn[_ngcontent-%COMP%]{padding:15px 30px;border-radius:5px;font-size:15px;background-color:#061e29;cursor:pointer;border:none;color:#fff;transition:.5s ease-in-out}.button-container[_ngcontent-%COMP%]   .order-btn[_ngcontent-%COMP%]:hover{color:#eceff1}",'.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:auto;position:relative;-webkit-user-select:none;user-select:none}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{color:#f0f8ff;font-size:15px;margin-bottom:5px;display:flex;flex:1}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{color:#f0f8ff;font-size:18px;flex:0 0 100px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{color:#f0f8ff;border-radius:10px;background-color:#061e29;flex:1;display:flex;align-items:center;margin:10px 10px 5px;border-bottom:1px solid #ccc;position:relative;gap:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:120px;height:auto;border-radius:5px;margin-right:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{font-size:15px;margin-right:30px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{font-size:18px;overflow:hidden;margin-left:50px;flex:0 0 70px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:15px;display:flex;align-items:center;margin-left:auto;color:#f0f8ff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:30px;height:30px;font-size:30px;display:flex;justify-content:center;align-items:center;font-size:20px;margin:0 5px;border-radius:50%;padding:10px;border:1px solid #a5beda;cursor:pointer;color:#f0f8ff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{cursor:pointer;font-size:15px;margin-right:15px;margin-left:40px;color:#f0f8ff}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;margin:0;gap:0px;width:auto}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:0;margin-left:-5px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{margin-left:-25px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{margin-left:0}}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{gap:2px;margin:0}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{margin-right:5px;font-size:10px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{padding-left:5px}}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:25px;height:25px;font-size:18px;padding:0;margin:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{margin-left:4px;font-size:11.5px;flex:0 0 40px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;font-size:12px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{margin-right:0;width:70px}}@media screen and (max-width: 700px) and (max-width: 300px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{display:none}}.empty-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.empty-cart-img[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-22%);width:100%;max-width:600px;display:flex;overflow:hidden}.empty-cart-desc[_ngcontent-%COMP%]{text-align:center;position:absolute;width:300px;top:55%;left:50%;transform:translate(-50%,-10%);font-size:26px;font-weight:300;border-top:1px solid #ccc;padding-top:15px;transition:all .4s ease-in-out}.empty-cart-button[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer;transition:all .3s ease-in-out;font-weight:100}.empty-cart-button[_ngcontent-%COMP%]:after{background:none repeat scroll 0 0 transparent;bottom:0;content:"";display:block;height:1px;left:50%;position:absolute;background:#191818;transition:width .3s ease 0s,left .3s ease 0s;width:0}.empty-cart-button[_ngcontent-%COMP%]:hover:after{width:100%;left:0}@media screen and (max-width: 500px){.empty-cart-desc[_ngcontent-%COMP%]{top:41%;left:50%}.empty-cart-button[_ngcontent-%COMP%]{top:48%;left:50%;font-size:22px}}.bonus[_ngcontent-%COMP%]   .bonus-desc[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;font-size:13px;margin-top:15px;width:600px}.insurance[_ngcontent-%COMP%], .gift[_ngcontent-%COMP%], .bonus[_ngcontent-%COMP%], .shipping[_ngcontent-%COMP%]{font-size:15px;border-top:1px solid #ccc;margin-top:20px;padding-top:10px}.checkout-container-desc[_ngcontent-%COMP%]{font-size:13px;margin-top:15px;opacity:.5;width:600px}.shipping[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1}h3[_ngcontent-%COMP%]{float:right;opacity:.5;font-weight:800}h3.active[_ngcontent-%COMP%]{opacity:1}.disabled-button[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.checkout-container[_ngcontent-%COMP%]{background-color:#f4f7fa;padding:10px;height:100px;display:grid;position:relative;max-width:1000px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]{padding-top:20px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1;font-size:18px;font-weight:200}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:800;float:right;top:0;margin-left:40px}@media screen and (max-width: 750px){.checkout-container[_ngcontent-%COMP%]{padding:2px;display:block}.checkout-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:100%}.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:14px;margin-top:20px;padding-top:10px}}@media screen and (max-width: 750px) and (max-width: 340px){.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width: 750px){.checkout-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:-4px}.checkout-container[_ngcontent-%COMP%]   .btn-hover[_ngcontent-%COMP%]{float:right}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:100%;font-size:16px}}.btn-hover[_ngcontent-%COMP%]{width:200px;font-size:16px;font-weight:400;color:#f0f8ff;cursor:pointer;margin-left:auto;height:55px;text-align:center;border:none;background-size:300% 100%;border-radius:5px;transition:all .4s ease-in-out}[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;background-position:100% 0;transition:all .4s ease-in-out}.btn-hover[_ngcontent-%COMP%]:hover{background-position:100% 0;transition:all .4s ease-in-out}.btn-hover[_ngcontent-%COMP%]:focus{outline:none}.btn-hover.color-8[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#455669,#485563,#203542,#061e29);box-shadow:0 4px 15px #2d3641bf}']})}return n})();const pX=[Gc("slideInOut",[md("in",Ti({"max-height":"500px",opacity:"1",visibility:"visible"})),md("out",Ti({"max-height":"0px",opacity:"0",visibility:"hidden"})),fs("in => out",[mc([Ri("100ms ease-in-out",Ti({opacity:"0"})),Ri("200ms ease-in-out",Ti({"max-height":"0px"})),Ri("300ms ease-in-out",Ti({visibility:"hidden"}))])]),fs("out => in",[mc([Ri("300ms ease-in-out",Ti({visibility:"visible"})),Ri("300ms ease-in-out",Ti({"max-height":"500px"})),Ri("400ms ease-in-out",Ti({opacity:"1"}))])])])];function mX(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div")(1,"img",22),a.NdJ("mouseover",function(){const o=a.CHM(e).$implicit,u=a.oxw();return a.KtG(u.modalService.changeMainImage(o))}),a.qZA()()}if(2&n){const e=t.$implicit;a.xp6(1),a.Q6J("src",e,a.LSH)}}function gX(n,t){1&n&&(a.TgZ(0,"i",23),a._uU(1,"Kattintson a r\xe9szletek\xe9rt!"),a.qZA())}function _X(n,t){if(1&n&&(a.TgZ(0,"div",24),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij(" ",e.product.composition.compDescription," ")}}function vX(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",25),a.NdJ("click",function(){const o=a.CHM(e).$implicit,u=a.oxw();return a.KtG(u.services.selectSize(o))}),a.TgZ(1,"div",26),a._uU(2),a.qZA()()}if(2&n){const e=t.$implicit,i=a.oxw();a.xp6(1),a.ekj("selected",i.services.selectedSize===e),a.xp6(1),a.AsE("",e.size," ",e.price," Ft")}}function yX(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",27)(1,"div",28)(2,"p",29),a._uU(3),a.qZA(),a.TgZ(4,"p",29),a._uU(5),a.qZA(),a.TgZ(6,"p",29),a._uU(7),a.qZA(),a.TgZ(8,"p",29),a._uU(9),a.qZA(),a.TgZ(10,"p",29),a._uU(11),a.qZA(),a.TgZ(12,"p",12),a._uU(13,"Term\xe9kjellemz\u0151: "),a.qZA(),a._uU(14),a.TgZ(15,"button",30),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.modalService.showDetails())}),a._UZ(16,"i",20),a.qZA()()()}if(2&n){const e=a.oxw();a.xp6(3),a.hij("",e.product.scent," "),a.xp6(2),a.hij("Fejillat: ",e.product.composition.head," "),a.xp6(2),a.hij("Sz\xedvillat: ",e.product.composition.hearth," "),a.xp6(2),a.hij("Alapillat: ",e.product.composition.base," "),a.xp6(2),a.hij("Illat: ",e.product.composition.scentType," "),a.xp6(3),a.hij(" ",e.product.composition.compDescription," ")}}let bX=(()=>{class n{constructor(e,i,r){this.productService=e,this.modalService=i,this.services=r}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Wf),a.Y36(ZN),a.Y36(Ya))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-modal"]],inputs:{product:"product"},decls:42,vars:14,consts:[[1,"modal-container"],[1,"modal-content"],[1,"left-section"],[1,"product-name"],[1,"product-description"],[1,"product-price"],[1,"modal-image",3,"src"],[1,"modal-image-selection-container"],[4,"ngFor","ngForOf"],[1,"right-section"],[1,"composition-container"],[1,"composition-description"],[1,"comp-desc-p"],[1,"composition-description",3,"click"],["class","mobile-comp-desc-i",4,"ngIf"],["class","comp-desc-p-details",4,"ngIf"],[1,"item-size-buttons-container"],[3,"click",4,"ngFor","ngForOf"],[1,"cart-btn",3,"click"],[1,"close-btn",3,"click"],[1,"fal","fa-times","close-icon"],["class","mobile-comp-desc-details-container",4,"ngIf"],["alt","Image",1,"modal-image-selection",3,"src","mouseover"],[1,"mobile-comp-desc-i"],[1,"comp-desc-p-details"],[3,"click"],["tabindex","0",1,"item-size-buttons"],[1,"mobile-comp-desc-details-container"],[1,"mobile-comp-desc-details"],[1,"mobile-comp-desc-p"],[1,"close-comp-desc-details-btn",3,"click"]],template:function(i,r){1&i&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),a._uU(4),a.qZA(),a.TgZ(5,"div",4),a._uU(6),a.qZA(),a.TgZ(7,"div",5),a._uU(8),a.qZA(),a._UZ(9,"img",6),a.TgZ(10,"div",7),a.YNc(11,mX,2,1,"div",8),a.qZA()(),a.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"p",12),a._uU(16,"Fejillat: "),a.qZA(),a._uU(17),a.qZA(),a.TgZ(18,"div",11)(19,"p",12),a._uU(20,"Sz\xedvillat: "),a.qZA(),a._uU(21),a.qZA(),a.TgZ(22,"div",11)(23,"p",12),a._uU(24,"Alapillat: "),a.qZA(),a._uU(25),a.qZA(),a.TgZ(26,"div",11)(27,"p",12),a._uU(28,"Illat: "),a.qZA(),a._uU(29),a.qZA(),a.TgZ(30,"div",13),a.NdJ("click",function(){return r.modalService.showDetails()}),a.TgZ(31,"p",12),a._uU(32,"Term\xe9kjellemz\u0151: "),a.YNc(33,gX,2,0,"i",14),a.qZA(),a.YNc(34,_X,2,1,"div",15),a.qZA()(),a.TgZ(35,"div",16),a.YNc(36,vX,3,4,"div",17),a.qZA(),a.TgZ(37,"div",18),a.NdJ("click",function(){return r.modalService.addToCart(r.product)}),a._uU(38,"Hozz\xe1ad\xe1s a kos\xe1rhoz"),a.qZA()(),a.TgZ(39,"button",19),a.NdJ("click",function(){return r.modalService.closeModal()}),a._UZ(40,"i",20),a.qZA(),a.YNc(41,yX,17,6,"div",21),a.qZA()()),2&i&&(a.xp6(4),a.AsE(" ",r.product.productName," ",r.services.selectedSize,""),a.xp6(2),a.hij("",r.product.scent," "),a.xp6(2),a.hij("",r.services.selectedSizePrice," Ft"),a.xp6(1),a.Q6J("src",r.modalService.currentImage||r.product.modalImagePath[0],a.LSH),a.xp6(2),a.Q6J("ngForOf",r.product.modalImagePath),a.xp6(6),a.hij("",r.product.composition.head," "),a.xp6(4),a.hij("",r.product.composition.hearth," "),a.xp6(4),a.hij("",r.product.composition.base," "),a.xp6(4),a.hij("",r.product.composition.scentType," "),a.xp6(4),a.Q6J("ngIf",r.modalService.screenWidth<=800),a.xp6(1),a.Q6J("ngIf",r.modalService.screenWidth>800),a.xp6(2),a.Q6J("ngForOf",r.product.type),a.xp6(5),a.Q6J("ngIf",r.modalService.showDetailsBox&&r.modalService.screenWidth<=800))},dependencies:[jn,xi],styles:['@charset "UTF-8";.modal-container[_ngcontent-%COMP%]{background-color:#00000080;display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 10px #0003;width:900px;height:700px;position:relative;display:flex;flex-direction:column}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:66.6%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:24px;padding-bottom:10px;color:#333;border-bottom:1px solid #aeaeae}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:16px;color:#666}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:360px;max-height:360px;width:auto;height:auto;position:absolute;top:50%;left:33%;transform:translate(-50%,-50%);-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;position:absolute;bottom:0}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:70px;width:auto;height:auto;margin-left:15px;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{background-color:#061e29;position:absolute;right:0;top:auto;bottom:0;height:100%;width:33.3%;padding:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:flex;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{position:absolute;background-color:#fff;right:10px;bottom:10px;font-size:10px;font-size:14px;padding:10px 22px;cursor:pointer;transition:ease .4s;-webkit-user-select:none;user-select:none;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:active{background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;top:65%;left:10px;-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;padding-left:5px;padding-right:5px;width:90px;height:40px;align-items:center;text-align:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:focus{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#ef2158}.mobile-comp-desc-details-container[_ngcontent-%COMP%]{position:fixed;width:95%;height:95%;z-index:2;border-radius:5px;background-color:#000c}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:90%;position:absolute;bottom:0;padding:15px;border-radius:5px}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:fixed;top:10%;right:0;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;overflow-x:visible}@media screen and (max-width: 550px){.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:0;width:95%;height:95%;top:0}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:100%;z-index:1;position:absolute;height:65%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:18px;padding:10px 0 10px 5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{margin-left:8px;font-size:16px;display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;margin-left:8px;display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:60%;max-height:60%;position:absolute;width:auto;height:auto;overflow:hidden;top:50%;left:50%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]{left:0;width:100%;padding:0;box-sizing:border-box;overflow-x:auto}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:50px;margin-left:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{width:100%;padding:5px;border-radius:5px;overflow:hidden;height:35%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){display:flex;margin-top:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .comp-desc-p-details[_ngcontent-%COMP%]{display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{right:10px;bottom:10px;padding:10px 30px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{position:relative;top:10%;left:10px}}@media screen and (min-width: 550px) and (max-width: 800px){.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:100%;margin:0 10px;height:700px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:18px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:16px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:300px;max-height:300px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:60px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:none;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){color:#fff;display:flex;margin-top:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .comp-desc-p-details[_ngcontent-%COMP%]{display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .mobile-comp-desc-p[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{position:absolute;background-color:#fff;right:5px;bottom:5px;font-size:12px;padding:5px 15px;cursor:pointer;transition:ease .4s;-webkit-user-select:none;user-select:none;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:active{background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;top:65%;left:10px;-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;padding-left:5px;padding-right:5px;width:90px;height:40px;align-items:center;text-align:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:focus{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;z-index:2;border-radius:5px;background-color:#000c}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]{background-color:#fff;width:60%;height:60%;position:relative;top:50%;left:50%;transform:translate(-50%,-50%);padding:15px;border-radius:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%], .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#ef2158}}@media screen and (min-width: 801px){.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{margin:0 10px}}']})}return n})();function wX(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",3),a.NdJ("click",function(){const o=a.CHM(e).$implicit,u=a.oxw(2);return a.KtG(u.productService.openModal(o))})("mouseover",function(){const o=a.CHM(e).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseOver(o))})("mouseleave",function(){const o=a.CHM(e).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseLeave(o))}),a.TgZ(1,"div",4),a._uU(2),a.TgZ(3,"p",5),a._uU(4),a.qZA(),a.TgZ(5,"p",6),a._uU(6),a.qZA()(),a.TgZ(7,"div",7),a._UZ(8,"img",8),a.qZA(),a.TgZ(9,"div",9),a._uU(10),a.TgZ(11,"p",10),a._uU(12,"Ft-t\xf3l"),a.qZA()()()}if(2&n){const e=t.$implicit;a.xp6(2),a.hij(" ",e.brand," "),a.xp6(2),a.Oqu(e.brandName),a.xp6(2),a.Oqu(e.scent),a.xp6(2),a.Q6J("src",e.imagePath,a.LSH),a.xp6(2),a.hij("",e.type[0].price," ")}}function CX(n,t){if(1&n&&(a.TgZ(0,"div",1),a.YNc(1,wX,13,5,"div",2),a.ALo(2,"slice"),a.ALo(3,"async"),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Q6J("ngForOf",a.Dn7(2,1,a.lcZ(3,5,e.productService.diorQuery$),0,e.productService.displayItemCount))}}let _4=(()=>{class n{constructor(e,i){this.services=e,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Ya),a.Y36(Wf))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-dior-fragrances"]],decls:1,vars:1,consts:[["class","product-card-container",4,"ngIf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&a.YNc(0,CX,4,7,"div",0),2&i&&a.Q6J("ngIf",!0===r.productService.isDiorChecked)},dependencies:[jn,xi,Yi,kn],styles:[".product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000;min-width:320px;margin:10px;overflow:hidden}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:2px solid #edf1f7;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:250px;max-height:250px;width:auto;height:auto}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})();function xX(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",3),a.NdJ("click",function(){const o=a.CHM(e).$implicit,u=a.oxw(2);return a.KtG(u.productService.openModal(o))})("mouseover",function(){const o=a.CHM(e).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseOver(o))})("mouseleave",function(){const o=a.CHM(e).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseLeave(o))}),a.TgZ(1,"div",4),a._uU(2),a.TgZ(3,"p",5),a._uU(4),a.qZA(),a.TgZ(5,"p",6),a._uU(6),a.qZA()(),a.TgZ(7,"div",7),a._UZ(8,"img",8),a.qZA(),a.TgZ(9,"div",9),a._uU(10),a.TgZ(11,"p",10),a._uU(12,"Ft-t\xf3l"),a.qZA()()()}if(2&n){const e=t.$implicit;a.xp6(2),a.hij(" ",e.brand," "),a.xp6(2),a.Oqu(e.brandName),a.xp6(2),a.Oqu(e.scent),a.xp6(2),a.Q6J("src",e.imagePath,a.LSH),a.xp6(2),a.hij("",e.type[0].price," ")}}function EX(n,t){if(1&n&&(a.TgZ(0,"div",1),a.YNc(1,xX,13,5,"div",2),a.ALo(2,"slice"),a.ALo(3,"async"),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Q6J("ngForOf",a.Dn7(2,1,a.lcZ(3,5,e.productService.JPGQuery$),0,e.productService.displayItemCount))}}let IX=(()=>{class n{constructor(e,i){this.services=e,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Ya),a.Y36(Wf))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-jpg-fragrances"]],decls:1,vars:1,consts:[["class","product-card-container",4,"ngIf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&a.YNc(0,EX,4,7,"div",0),2&i&&a.Q6J("ngIf",!0===r.productService.isJPGChecked)},dependencies:[jn,xi,Yi,kn],styles:[".product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000;min-width:320px;margin:10px;overflow:hidden}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:2px solid #edf1f7;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:250px;max-height:250px;width:auto;height:auto}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})();function MX(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",3),a.NdJ("click",function(){const o=a.CHM(e).$implicit,u=a.oxw(2);return a.KtG(u.productService.openModal(o))})("mouseover",function(){const o=a.CHM(e).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseOver(o))})("mouseleave",function(){const o=a.CHM(e).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseLeave(o))}),a.TgZ(1,"div",4),a._uU(2),a.TgZ(3,"p",5),a._uU(4),a.qZA(),a.TgZ(5,"p",6),a._uU(6),a.qZA()(),a.TgZ(7,"div",7),a._UZ(8,"img",8),a.qZA(),a.TgZ(9,"div",9),a._uU(10),a.TgZ(11,"p",10),a._uU(12,"Ft-t\xf3l"),a.qZA()()()}if(2&n){const e=t.$implicit;a.xp6(2),a.hij(" ",e.brand," "),a.xp6(2),a.Oqu(e.brandName),a.xp6(2),a.Oqu(e.scent),a.xp6(2),a.Q6J("src",e.imagePath,a.LSH),a.xp6(2),a.hij("",e.type[0].price," ")}}function TX(n,t){if(1&n&&(a.TgZ(0,"div",1),a.YNc(1,MX,13,5,"div",2),a.ALo(2,"slice"),a.ALo(3,"async"),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Q6J("ngForOf",a.Dn7(2,1,a.lcZ(3,5,e.productService.lancomeQuery$),0,e.productService.displayItemCount))}}let SX=(()=>{class n{constructor(e,i){this.services=e,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Ya),a.Y36(Wf))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-lancome-fragrances"]],decls:1,vars:1,consts:[["class","product-card-container",4,"ngIf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&a.YNc(0,TX,4,7,"div",0),2&i&&a.Q6J("ngIf",!0===r.productService.isLancomeChecked)},dependencies:[jn,xi,Yi,kn],styles:[".product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000;min-width:320px;margin:10px;overflow:hidden}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:2px solid #edf1f7;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:250px;max-height:250px;width:auto;height:auto}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})();function DX(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",3),a.NdJ("click",function(){const o=a.CHM(e).$implicit,u=a.oxw(2);return a.KtG(u.productService.openModal(o))})("mouseover",function(){const o=a.CHM(e).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseOver(o))})("mouseleave",function(){const o=a.CHM(e).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseLeave(o))}),a.TgZ(1,"div",4),a._uU(2),a.TgZ(3,"p",5),a._uU(4),a.qZA(),a.TgZ(5,"p",6),a._uU(6),a.qZA()(),a.TgZ(7,"div",7),a._UZ(8,"img",8),a.qZA(),a.TgZ(9,"div",9),a._uU(10),a.TgZ(11,"p",10),a._uU(12,"Ft-t\xf3l"),a.qZA()()()}if(2&n){const e=t.$implicit;a.xp6(2),a.hij(" ",e.brand," "),a.xp6(2),a.Oqu(e.brandName),a.xp6(2),a.Oqu(e.scent),a.xp6(2),a.Q6J("src",e.imagePath,a.LSH),a.xp6(2),a.hij("",e.type[0].price," ")}}function OX(n,t){if(1&n&&(a.TgZ(0,"div",1),a.YNc(1,DX,13,5,"div",2),a.ALo(2,"slice"),a.ALo(3,"async"),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Q6J("ngForOf",a.Dn7(2,1,a.lcZ(3,5,e.productService.womanFragrances$),0,e.productService.displayItemCount))}}let AX=(()=>{class n{constructor(e,i){this.services=e,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Ya),a.Y36(Wf))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-woman-fragrances"]],decls:1,vars:1,consts:[["class","product-card-container",4,"ngIf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&a.YNc(0,OX,4,7,"div",0),2&i&&a.Q6J("ngIf",!0===r.productService.isWomanChecked)},dependencies:[jn,xi,Yi,kn],styles:[".product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000;min-width:320px;margin:10px;overflow:hidden}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:2px solid #edf1f7;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:250px;max-height:250px;width:auto;height:auto}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})();function PX(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",3),a.NdJ("click",function(){const o=a.CHM(e).$implicit,u=a.oxw(2);return a.KtG(u.productService.openModal(o))})("mouseover",function(){const o=a.CHM(e).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseOver(o))})("mouseleave",function(){const o=a.CHM(e).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseLeave(o))}),a.TgZ(1,"div",4),a._uU(2),a.TgZ(3,"p",5),a._uU(4),a.qZA(),a.TgZ(5,"p",6),a._uU(6),a.qZA()(),a.TgZ(7,"div",7),a._UZ(8,"img",8),a.qZA(),a.TgZ(9,"div",9),a._uU(10),a.TgZ(11,"p",10),a._uU(12,"Ft-t\xf3l"),a.qZA()()()}if(2&n){const e=t.$implicit;a.xp6(2),a.hij(" ",e.brand," "),a.xp6(2),a.Oqu(e.brandName),a.xp6(2),a.Oqu(e.scent),a.xp6(2),a.Q6J("src",e.imagePath,a.LSH),a.xp6(2),a.hij("",e.type[0].price," ")}}function kX(n,t){if(1&n&&(a.TgZ(0,"div",1),a.YNc(1,PX,13,5,"div",2),a.ALo(2,"slice"),a.ALo(3,"async"),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Q6J("ngForOf",a.Dn7(2,1,a.lcZ(3,5,e.productService.manFragrances$),0,e.productService.displayItemCount))}}let RX=(()=>{class n{constructor(e,i){this.services=e,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Ya),a.Y36(Wf))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-man-fragrances"]],decls:1,vars:1,consts:[["class","product-card-container",4,"ngIf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&a.YNc(0,kX,4,7,"div",0),2&i&&a.Q6J("ngIf",!0===r.productService.isManChecked)},dependencies:[jn,xi,Yi,kn],styles:[".product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000;min-width:320px;margin:10px;overflow:hidden}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:2px solid #edf1f7;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:250px;max-height:250px;width:auto;height:auto}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})();function NX(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",17),a.NdJ("click",function(){const o=a.CHM(e).$implicit,u=a.oxw(2);return a.KtG(u.productService.openModal(o))})("mouseover",function(){const o=a.CHM(e).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseOver(o))})("mouseleave",function(){const o=a.CHM(e).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseLeave(o))}),a.TgZ(1,"div",18),a._uU(2),a.TgZ(3,"p",19),a._uU(4),a.qZA(),a.TgZ(5,"p",20),a._uU(6),a.qZA()(),a.TgZ(7,"div",21),a._UZ(8,"img",22),a.qZA(),a.TgZ(9,"div",23),a._uU(10),a.TgZ(11,"p",24),a._uU(12,"Ft-t\xf3l"),a.qZA()()()}if(2&n){const e=t.$implicit;a.xp6(2),a.hij(" ",e.brand," "),a.xp6(2),a.Oqu(e.brandName),a.xp6(2),a.Oqu(e.scent),a.xp6(2),a.Q6J("src",e.imagePath,a.LSH),a.xp6(2),a.hij("",e.type[0].price," ")}}function FX(n,t){if(1&n&&(a.TgZ(0,"div",15),a.YNc(1,NX,13,5,"div",16),a.ALo(2,"slice"),a.ALo(3,"async"),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Q6J("ngForOf",a.Dn7(2,1,a.lcZ(3,5,e.productService.fragrances$),0,e.productService.displayItemCount))}}function LX(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",25)(1,"div",26),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.productService.loadMoreItem())}),a.TgZ(2,"span",27),a._uU(3,"+"),a.qZA(),a.TgZ(4,"span",27),a._uU(5,"T\xf6bb"),a.qZA()()()}}function UX(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"app-modal",28),a.NdJ("closeModalEvent",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.productService.closeModal())}),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("product",e.productService.selectedProduct)}}const VX=function(){return["/jeanpaulgaultier"]},BX=function(){return["/dior"]};let jX=(()=>{class n{toggleShowDiv(e){"divA"===e&&(console.log(this.animationState),this.animationState="out"===this.animationState?"in":"out",console.log(this.animationState))}constructor(e,i,r,o){this.services=e,this.firestore=i,this.productService=r,this.renderer=o,this.animationState="out",this.jeanPaulBrandImg="./assets/images/fragrances/logo/jeanpaul_logo.jpg",this.diorBrandImg="./assets/images/fragrances/logo/dior_logo.jpg",this.lancomeBrandImg="./assets/images/fragrances/logo/lancome_logo.jpg"}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Ya),a.Y36(Bf),a.Y36(Wf),a.Y36(a.Qsj))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-fragrances"]],decls:29,vars:20,consts:[[1,"brands-container"],[1,"brands"],[1,"brand-img",3,"routerLink","src"],[1,"brand-img",3,"src"],["title","filter",1,"filter",3,"click"],["viewBox","0 0 512 512","height","1em"],["d","M0 416c0 17.7 14.3 32 32 32l54.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-246.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 384c-17.7 0-32 14.3-32 32zm128 0a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM320 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm32-80c-32.8 0-61 19.7-73.3 48L32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l246.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48l54.7 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-54.7 0c-12.3-28.3-40.5-48-73.3-48zM192 128a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm73.3-64C253 35.7 224.8 16 192 16s-61 19.7-73.3 48L32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l86.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 128c17.7 0 32-14.3 32-32s-14.3-32-32-32L265.3 64z"],[1,"divA"],[1,"checkbox-all",3,"ngModel","disabled","ngModelChange","change"],[1,"checkbox-w",3,"ngModel","disabled","ngModelChange","change"],[1,"checkbox-m",3,"ngModel","disabled","ngModelChange","change"],[1,"checkbox-b",3,"ngModel","ngModelChange","change"],["class","product-card-container",4,"ngIf"],["class","btn--circle-container",4,"ngIf"],[3,"product","closeModalEvent",4,"ngIf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"],[1,"btn--circle-container"],[1,"btn--circle",3,"click"],[1,"btn-stage"],[3,"product","closeModalEvent"]],template:function(i,r){1&i&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"img",2)(3,"img",2)(4,"img",3),a.qZA()(),a.TgZ(5,"button",4),a.NdJ("click",function(){return r.toggleShowDiv("divA")}),a.O4$(),a.TgZ(6,"svg",5),a._UZ(7,"path",6),a.qZA()(),a.kcU(),a.TgZ(8,"div",7)(9,"mat-checkbox",8),a.NdJ("ngModelChange",function(u){return r.productService.isAllChecked=u})("change",function(){return r.productService.onCheckboxChange("isAllChecked")}),a._uU(10,"Mindet mutat"),a.qZA(),a.TgZ(11,"mat-checkbox",9),a.NdJ("ngModelChange",function(u){return r.productService.isWomanChecked=u})("change",function(){return r.productService.onCheckboxChange("isWomanChecked")}),a._uU(12,"N\u0151i"),a.qZA(),a.TgZ(13,"mat-checkbox",10),a.NdJ("ngModelChange",function(u){return r.productService.isManChecked=u})("change",function(){return r.productService.onCheckboxChange("isManChecked")}),a._uU(14,"F\xe9rfi"),a.qZA(),a.TgZ(15,"mat-checkbox",11),a.NdJ("ngModelChange",function(u){return r.productService.isDiorChecked=u})("change",function(){return r.productService.onCheckboxChange("isDiorChecked")}),a._uU(16,"Dior"),a.qZA(),a.TgZ(17,"mat-checkbox",11),a.NdJ("ngModelChange",function(u){return r.productService.isLancomeChecked=u})("change",function(){return r.productService.onCheckboxChange("isLancomeChecked")}),a._uU(18,"Lancome"),a.qZA(),a.TgZ(19,"mat-checkbox",11),a.NdJ("ngModelChange",function(u){return r.productService.isJPGChecked=u})("change",function(){return r.productService.onCheckboxChange("isJPGChecked")}),a._uU(20,"Jean Paul Gaultier"),a.qZA()(),a.YNc(21,FX,4,7,"div",12),a._UZ(22,"app-man-fragrances")(23,"app-woman-fragrances")(24,"app-dior-fragrances")(25,"app-jpg-fragrances")(26,"app-lancome-fragrances"),a.YNc(27,LX,6,0,"div",13),a.YNc(28,UX,1,1,"app-modal",14)),2&i&&(a.xp6(2),a.Q6J("routerLink",a.DdM(18,VX))("src",r.jeanPaulBrandImg,a.LSH),a.xp6(1),a.Q6J("routerLink",a.DdM(19,BX))("src",r.diorBrandImg,a.LSH),a.xp6(1),a.Q6J("src",r.lancomeBrandImg,a.LSH),a.xp6(4),a.Q6J("@slideInOut",r.animationState),a.xp6(1),a.Q6J("ngModel",r.productService.isAllChecked)("disabled",!0===r.productService.isAllChecked),a.xp6(2),a.Q6J("ngModel",r.productService.isWomanChecked)("disabled",!0===r.productService.isManChecked),a.xp6(2),a.Q6J("ngModel",r.productService.isManChecked)("disabled",!0===r.productService.isWomanChecked),a.xp6(2),a.Q6J("ngModel",r.productService.isDiorChecked),a.xp6(2),a.Q6J("ngModel",r.productService.isLancomeChecked),a.xp6(2),a.Q6J("ngModel",r.productService.isJPGChecked),a.xp6(2),a.Q6J("ngIf",!0===r.productService.isAllChecked),a.xp6(6),a.Q6J("ngIf",r.productService.displayItemCount<r.productService.long),a.xp6(1),a.Q6J("ngIf",r.productService.isModalOpen))},dependencies:[jn,xi,Gf,uy,TO,fO,bX,_4,IX,SX,AX,RX,Yi,kn],styles:[".brands-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:15px;display:flex;margin-bottom:50px;align-items:center;justify-content:center}.brands-container[_ngcontent-%COMP%]   .brand-img[_ngcontent-%COMP%]{max-width:150px;max-height:150px;width:auto;height:auto;aspect-ratio:3/2;object-fit:contain;cursor:pointer}.divA[_ngcontent-%COMP%]{display:flex;color:#333;flex-direction:column;border-radius:5px;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000}.filter[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:10px;display:flex;align-items:center;justify-content:center;border:1px solid rgba(0,0,0,.192);cursor:pointer;box-shadow:0 10px 10px #00000005;transition:all .3s;margin-left:10px}.filter[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:20px;fill:#061e29;transition:all .3s}.filter[_ngcontent-%COMP%]:hover{box-shadow:0 10px 10px #0000001c;background-color:#061e29}.filter[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:#fff}.btn--circle-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.btn--circle-container[_ngcontent-%COMP%]   .btn--circle[_ngcontent-%COMP%]{margin-bottom:10px;position:relative;text-decoration:none;cursor:pointer;border-radius:1000px;border:1px solid #061e29;height:60px;width:60px;transition:all cubic-bezier(.31,-.105,.43,1.4) .2s;background-color:#061e29}.btn--circle-container[_ngcontent-%COMP%]   .btn--circle[_ngcontent-%COMP%]:hover{width:135px}.btn--circle-container[_ngcontent-%COMP%]   .btn--circle[_ngcontent-%COMP%]:hover   .btn-stage[_ngcontent-%COMP%]:first-child{opacity:0}.btn--circle-container[_ngcontent-%COMP%]   .btn--circle[_ngcontent-%COMP%]:hover   .btn-stage[_ngcontent-%COMP%]:nth-child(n+2){opacity:1;transition:opacity linear .25s}.btn--circle-container[_ngcontent-%COMP%]   .btn-stage[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:2rem;transition:opacity linear calc(.2s - .05s)}.btn--circle-container[_ngcontent-%COMP%]   .btn-stage[_ngcontent-%COMP%]:nth-child(n+2){opacity:0;white-space:nowrap;font-size:1rem}",".product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000;min-width:320px;margin:10px;overflow:hidden}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:2px solid #edf1f7;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:250px;max-height:250px;width:auto;height:auto}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"],data:{animation:[pX]}})}return n})(),zX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-jean-paul-gaultier"]],decls:2,vars:0,template:function(i,r){1&i&&(a.TgZ(0,"p"),a._uU(1,"jean-paul-gaultier works!"),a.qZA())}})}return n})(),HX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-dior"]],decls:2,vars:0,template:function(i,r){1&i&&(a.TgZ(0,"h1"),a._uU(1,"dior works"),a.qZA())}})}return n})(),$X=(()=>{class n{constructor(e,i,r,o){this.authService=e,this.router=i,this.usersService=r,this.services=o,this.user$=this.usersService.currentUserProfile$}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(qg),a.Y36(Za),a.Y36(aw),a.Y36(Ya))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-user"]],decls:1,vars:0,template:function(i,r){1&i&&a._UZ(0,"app-login")},dependencies:[Kj]})}return n})();const v4=()=>(n=>(0,xN.z)(HF,(0,gn.U)(t=>t||n)))(["login"]),y4=()=>a4(["user"]),qX=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:V9},{path:"products",component:W9},{path:"accessories",component:Z9},{path:"fragrances",component:jX},{path:"jeanpaulgaultier",component:zX},{path:"shopping-cart",component:fY},{path:"shipping",component:fX},{path:"diors",component:_4},{path:"landing",component:Pz},{path:"user",component:$X,...UI(()=>a4(["user/profile"]))},{path:"user/login",component:Kj,...UI(y4)},{path:"user/sign-up",component:uQ,...UI(y4)},{path:"user/orders",component:FJ,...UI(v4)},{path:"user/profile",component:qF,...UI(v4)},{path:"",component:Pz,pathMatch:"full"},{path:"media",component:Y9},{path:"dior",component:HX}];let GX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[e3.forRoot(qX,{useHash:!0}),e3]})}return n})(),WX=(()=>{class n{constructor(){this.collapsed=!1,this.screenWidth=0,this.closed=!1}getBodyClass(){let e="";return this.collapsed&&this.screenWidth>1080&&(e="body-trimmed",console.log("styleclass:",e)),this.closed&&this.screenWidth<=1080&&this.screenWidth>0&&(e="body-md-screen",e="body-mobile-closed",console.log("styleclass:",e)),e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-body"]],inputs:{collapsed:"collapsed",screenWidth:"screenWidth",closed:"closed"},decls:2,vars:1,consts:[[1,"body",3,"ngClass"]],template:function(i,r){1&i&&(a.TgZ(0,"div",0),a._UZ(1,"router-outlet"),a.qZA()),2&i&&a.Q6J("ngClass",r.getBodyClass())},dependencies:[No,VN],styles:[".body[_ngcontent-%COMP%]{width:calc(100% - 5rem);height:100%;margin-left:5rem;z-index:0;background-attachment:fixed;background-repeat:repeat-y;transition:all .5s ease;background:linear-gradient(to bottom,#f4f7fa,#f4f7fa)}.body-trimmed[_ngcontent-%COMP%]{width:calc(100% - 16.5625rem);margin-left:16.5625rem}.body-md-screen[_ngcontent-%COMP%]{width:calc(100% - 5rem);margin-left:5rem}.body-mobile-closed[_ngcontent-%COMP%]{width:100%;margin-left:0rem}@media screen and (min-width: 1080px){.body[_ngcontent-%COMP%]{padding:1rem 1rem .25rem}}"]})}return n})(),ZX=0;const YX=TI(class{}),b4="mat-badge-content";let KX=(()=>{class n extends YX{get color(){return this._color}set color(e){this._setColor(e),this._color=e}get overlap(){return this._overlap}set overlap(e){this._overlap=ta(e)}get content(){return this._content}set content(e){this._updateRenderedContent(e)}get description(){return this._description}set description(e){this._updateDescription(e)}get hidden(){return this._hidden}set hidden(e){this._hidden=ta(e)}constructor(e,i,r,o,u){super(),this._ngZone=e,this._elementRef=i,this._ariaDescriber=r,this._renderer=o,this._animationMode=u,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=ZX++,this._isInitialized=!1,this._interactivityChecker=(0,a.f3M)(C7),this._document=(0,a.f3M)(ke)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){const e=this._renderer.createElement("span"),i="mat-badge-active";return e.setAttribute("id",`mat-badge-content-${this._id}`),e.setAttribute("aria-hidden","true"),e.classList.add(b4),"NoopAnimations"===this._animationMode&&e.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(e),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.classList.add(i)})}):e.classList.add(i),e}_updateRenderedContent(e){const i=`${e??""}`.trim();this._isInitialized&&i&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=i),this._content=i}_updateDescription(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!e||this._isHostInteractive())&&this._removeInlineDescription(),this._description=e,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,e):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(e){const i=this._elementRef.nativeElement.classList;i.remove(`mat-badge-${this._color}`),e&&i.add(`mat-badge-${e}`)}_clearExistingBadges(){const e=this._elementRef.nativeElement.querySelectorAll(`:scope > .${b4}`);for(const i of Array.from(e))i!==this._badgeElement&&i.remove()}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(y7),a.Y36(a.Qsj),a.Y36(a.QbO,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(i,r){2&i&&a.ekj("mat-badge-overlap",r.overlap)("mat-badge-above",r.isAbove())("mat-badge-below",!r.isAbove())("mat-badge-before",!r.isAfter())("mat-badge-after",r.isAfter())("mat-badge-small","small"===r.size)("mat-badge-medium","medium"===r.size)("mat-badge-large","large"===r.size)("mat-badge-hidden",r.hidden||!r.content)("mat-badge-disabled",r.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],position:["matBadgePosition","position"],content:["matBadge","content"],description:["matBadgeDescription","description"],size:["matBadgeSize","size"],hidden:["matBadgeHidden","hidden"]},features:[a.qOj]})}return n})(),w4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[U7,ia,ia]})}return n})();function QX(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",9),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.toggleCollapse())}),a._UZ(1,"i",10),a.qZA()}2&n&&a.Q6J("@fadeInOut",void 0)}function JX(n,t){1&n&&(a.TgZ(0,"div",11),a._uU(1,"Logo"),a.qZA()),2&n&&a.Q6J("@fadeInOut",void 0)}function XX(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",12),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.closeSidenav())}),a._UZ(1,"i",13),a.qZA()}2&n&&a.Q6J("@rotate",void 0)("@fadeInOut",void 0)}function eee(n,t){if(1&n&&a._UZ(0,"i",19),2&n){const e=a.oxw().$implicit;a.Tol(e.icon),a.Q6J("@fadeInOut",void 0)}}function tee(n,t){if(1&n&&(a.TgZ(0,"span",20),a._uU(1),a.qZA()),2&n){const e=a.oxw().$implicit;a.Q6J("@fadeInOut",void 0),a.xp6(1),a.hij(" ",e.label," ")}}function nee(n,t){if(1&n&&a._UZ(0,"mat-icon",21),2&n){const e=a.oxw().$implicit;a.s9C("matBadge",e.badge),a.Q6J("@fadeInOut",void 0)("matBadgeHidden",!e.badge)}}const iee=function(n){return[n]},ree=function(){return{exact:!0}};function oee(n,t){if(1&n&&(a.TgZ(0,"li",14)(1,"a",15),a.YNc(2,eee,1,3,"i",16),a.YNc(3,tee,2,2,"span",17),a.YNc(4,nee,1,3,"mat-icon",18),a.qZA()()),2&n){const e=t.$implicit,i=a.oxw();a.Q6J("@fadeInOut",void 0),a.xp6(1),a.Q6J("routerLink",a.VKq(6,iee,e.routerLink))("routerLinkActiveOptions",a.DdM(8,ree)),a.xp6(1),a.Q6J("ngIf",!1===i.closed),a.xp6(1),a.Q6J("ngIf",i.collapsed),a.xp6(1),a.Q6J("ngIf",!1===i.closed)}}function see(n,t){1&n&&a._UZ(0,"i",24),2&n&&a.Q6J("@fadeInOut",void 0)}function aee(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",22),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.toggleClose())}),a.YNc(1,see,1,1,"i",23),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("@fadeInOut",void 0),a.xp6(1),a.Q6J("ngIf",!1===e.closed)}}function cee(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"i",25),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.toggleClose())}),a.qZA()}}let lee=(()=>{class n{constructor(){this.onToggleSideNav=new a.vpe,this.collapsed=!1,this.closed=!1,this.screenwidth=0,this.navData=tO}onResize(e){this.screenwidth=window.innerWidth,this.screenwidth<=1024&&(this.collapsed=!1,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth})),this.screenwidth>1024&&(this.collapsed=!1,this.closed=!1,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth}))}ngOnInit(){this.screenwidth=window.innerWidth}toggleCollapse(){this.collapsed=!this.collapsed,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth}),!1===this.collapsed&&(this.closed=!1),console.log("toggle collapsed?: ",this.collapsed)}closeSidenav(){this.collapsed=!1,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth}),this.closed=!1,console.log("close sidenav collapsed?: ",this.collapsed)}toggleClose(){this.closed=!this.closed,this.onToggleSideNav.emit({collapsed:this.collapsed,closed:this.closed,screenwidth:this.screenwidth}),console.log("toggleClose?: ",this.closed)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-sidenav"]],hostBindings:function(i,r){1&i&&a.NdJ("resize",function(u){return r.onResize(u)},!1,a.Jf7)},outputs:{onToggleSideNav:"onToggleSideNav"},decls:9,vars:8,consts:[[1,"sidenav",3,"ngClass"],[1,"logo-container"],["class","logo",3,"click",4,"ngIf"],["class","logo-text",4,"ngIf"],["class","btn-close",3,"click",4,"ngIf"],[1,"sidenav-nav"],["class","sidenav-nav-item",4,"ngFor","ngForOf"],["class","sidenav-link-close-container",3,"click",4,"ngIf"],["class","sidenav-link-open fa fa-angle-double-right",3,"click",4,"ngIf"],[1,"logo",3,"click"],["aria-hidden","true",1,"fa","fa-bars"],[1,"logo-text"],[1,"btn-close",3,"click"],[1,"fal","fa-times","close-icon"],[1,"sidenav-nav-item"],["href","","routerLinkActive","active",1,"sidenav-nav-link",3,"routerLink","routerLinkActiveOptions"],["class","sidenav-link-icon",3,"class",4,"ngIf"],["class","sidenav-link-text",4,"ngIf"],["class","cart-badge","matBadgeColor","warn","matBadgeOverlap","false",3,"matBadge","matBadgeHidden",4,"ngIf"],[1,"sidenav-link-icon"],[1,"sidenav-link-text"],["matBadgeColor","warn","matBadgeOverlap","false",1,"cart-badge",3,"matBadge","matBadgeHidden"],[1,"sidenav-link-close-container",3,"click"],["class","sidenav-link-close fal fa-times close-icon",4,"ngIf"],[1,"sidenav-link-close","fal","fa-times","close-icon"],[1,"sidenav-link-open","fa","fa-angle-double-right",3,"click"]],template:function(i,r){1&i&&(a.TgZ(0,"div",0)(1,"div",1),a.YNc(2,QX,2,1,"button",2),a.YNc(3,JX,2,1,"div",3),a.YNc(4,XX,2,2,"button",4),a.qZA(),a.TgZ(5,"ul",5),a.YNc(6,oee,5,9,"li",6),a.YNc(7,aee,2,2,"div",7),a.qZA()(),a.YNc(8,cee,1,0,"i",8)),2&i&&(a.Q6J("ngClass",r.collapsed?"sidenav-collapsed":"")("ngClass",r.closed?"sidenav-closed-mobile":""),a.xp6(2),a.Q6J("ngIf",!1===r.closed),a.xp6(1),a.Q6J("ngIf",r.collapsed),a.xp6(1),a.Q6J("ngIf",r.collapsed),a.xp6(2),a.Q6J("ngForOf",r.navData),a.xp6(1),a.Q6J("ngIf",!1===r.collapsed&&r.screenwidth<1080),a.xp6(1),a.Q6J("ngIf",!0===r.closed&&r.screenwidth<1080))},dependencies:[No,jn,xi,Gf,GB,KX,PF],styles:[".sidenav[_ngcontent-%COMP%]{background:#061e29;-webkit-user-select:none;user-select:none;transition:all .5s ease;position:fixed;z-index:100;top:0;width:5rem;height:100vh}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.938rem .938rem 0;width:100%}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{background:#fff;text-align:center;width:3rem;min-width:3rem;border-radius:.313rem;padding:.313rem;font-size:24px;font-weight:900;cursor:pointer;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .fa-bars[_ngcontent-%COMP%]{color:#000}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{margin-left:1.5rem;font-size:24px;font-weight:700;color:#fff}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{margin-left:auto;cursor:pointer;width:2rem;height:2rem;border-radius:50%;background-color:transparent;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#fff;font-size:24px}.sidenav-closed-mobile[_ngcontent-%COMP%]{width:0rem;transition:.5s ease}.sidenav-closed-mobile[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%], .sidenav-closed-mobile[_ngcontent-%COMP%]   .sidenav-nav[_ngcontent-%COMP%]{display:none}.sidenav-collapsed[_ngcontent-%COMP%]{width:16.55625rem}.sidenav-nav[_ngcontent-%COMP%]{list-style:none;padding:.938rem;margin:0;display:flex;flex-direction:column;align-items:center;height:calc(100% - 3.65rem);cursor:pointer}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]{width:100%;margin-bottom:.625rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem;color:#f3f3f3;text-decoration:none;border-radius:.625rem;transition:all .3s ease}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%]{font-size:22px;width:2rem;min-width:2rem;margin:0 .5rem;text-align:center}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .cart-badge[_ngcontent-%COMP%]{position:fixed}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{margin-left:1.5rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]:hover   .sidenav-nav-link[_ngcontent-%COMP%]{background-color:#fff;color:#000}.active[_ngcontent-%COMP%]{background-color:#fff}.active[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{color:#000}.sidenav-link-close-container[_ngcontent-%COMP%]   .sidenav-link-close[_ngcontent-%COMP%]{color:#f3f3f3;font-size:25px;margin-top:20px;z-index:5}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.sidenav-link-open[_ngcontent-%COMP%]{cursor:pointer;position:fixed;color:#e9e9e9;font-size:25px;bottom:5px;left:5px;z-index:5;background-color:#061e29;padding:10px;border-radius:50%}"],data:{animation:[Gc("fadeInOut",[fs(":enter",[Ti({opacity:0}),Ri("90ms 300ms",Ti({opacity:1}))]),fs(":leave",[Ti({opacity:1}),Ri("90ms",Ti({opacity:0}))])]),Gc("rotate",[fs(":enter",[Ri("430ms",sp([Ti({transform:"rotate(0deg)",offset:"0"}),Ti({transform:"rotate(0.5turn)",offset:"1"})]))])])]}})}return n})(),uee=(()=>{class n{constructor(){this.title="webshop",this.isSideNavCollapsed=!1,this.isSideNavMobileClosed=!1,this.screenWidth=0}onToggleSideNav(e){this.screenWidth=e.screenwidth,this.isSideNavCollapsed=e.collapsed,this.isSideNavMobileClosed=e.closed}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:3,consts:[[3,"onToggleSideNav"],[3,"collapsed","closed","screenWidth"]],template:function(i,r){1&i&&(a.TgZ(0,"app-sidenav",0),a.NdJ("onToggleSideNav",function(u){return r.onToggleSideNav(u)}),a.qZA(),a._UZ(1,"app-body",1)),2&i&&(a.xp6(1),a.Q6J("collapsed",r.isSideNavCollapsed)("closed",r.isSideNavMobileClosed)("screenWidth",r.screenWidth))},dependencies:[WX,lee]})}return n})(),dee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ki,zj,kz,w4,mz,aj,Rz,Az,NI,o4,kz,zj,w4,mz,aj,Rz,Az,NI,o4,IY]})}return n})();function GF(){return(0,Nr.e)((n,t)=>{let e,i=!1;n.subscribe((0,ci.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var kl=Q(6304),C4=(Q(8661),Q(3106));function WF(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new vt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function x4(){if(typeof Uint8Array>"u")throw new vt("unimplemented","Uint8Arrays are not available in this environment.")}function E4(){if(!function mk(){return typeof atob<"u"}())throw new vt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class VI{constructor(t){this._delegate=t}static fromBase64String(t){return E4(),new VI(Vf.fromBase64String(t))}static fromUint8Array(t){return x4(),new VI(Vf.fromUint8Array(t))}toBase64(){return E4(),this._delegate.toBase64()}toUint8Array(){return x4(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ZF(n){return function pee(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class mee{enableIndexedDbPersistence(t,e){return function ZH(n,t){jU(n=qi(n,ko));const e=Ns(n);if(e._uninitializedComponentsProvider)throw new vt(tt.FAILED_PRECONDITION,"SDK cache is already specified.");cu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new F0;return BU(e,r,new RR(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function YH(n){jU(n=qi(n,ko));const t=Ns(n);if(t._uninitializedComponentsProvider)throw new vt(tt.FAILED_PRECONDITION,"SDK cache is already specified.");cu("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new F0;return BU(t,i,new CU(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function KH(n){if(n._initialized&&!n._terminated)throw new vt(tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new gs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,dt.Z)(function*(){try{yield(e=(0,dt.Z)(function*(i){if(!lu.D())return Promise.resolve();const r=i+"main";yield lu.delete(r)}),function(i){return e.apply(this,arguments)})(hE(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class I4{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Dh||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&cu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){LU(this._delegate,t,e,i)}enableNetwork(){return function JH(n){return function NH(n){return n.asyncQueue.enqueue((0,dt.Z)(function*(){const t=yield IU(n),e=yield MU(n);return t.setNetworkEnabled(!0),function(i){const r=Gt(i);return r.vu.delete(0),Wv(r)}(e)}))}(Ns(n=qi(n,ko)))}(this._delegate)}disableNetwork(){return function XH(n){return function FH(n){return n.asyncQueue.enqueue((0,dt.Z)(function*(){const t=yield IU(n),e=yield MU(n);return t.setNetworkEnabled(!1),(i=(0,dt.Z)(function*(r){const o=Gt(r);o.vu.add(0),yield Sg(o),o.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Ns(n=qi(n,ko)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,PU("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function QH(n){return function(t){const e=new gs;return t.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function RE(n,t){return NE.apply(this,arguments)}(yield jR(t),e)})),e.promise}(Ns(n=qi(n,ko)))}(this._delegate)}onSnapshotsInSync(t){return function S$(n,t){return function VH(n,t){const e=new h1(t);return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return i=yield L0(n),r=e,Gt(i).ku.add(r),void r.next();var i,r})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return i=yield L0(n),r=e,void Gt(i).ku.delete(r);var i,r}))}}(Ns(n=qi(n,ko)),GR(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new vt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new cw(this,$R(this._delegate,t))}catch(e){throw Rl(e,"collection()","Firestore.collection()")}}doc(t){try{return new qd(this,VE(this._delegate,t))}catch(e){throw Rl(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Nl(this,function HH(n,t){if(n=qi(n,UE),HR("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new vt(tt.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new bc(n,null,(e=t,new xf($i.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Rl(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function V$(n,t,e){n=qi(n,ko);const i=Object.assign(Object.assign({},L$),e);return function(r){if(r.maxAttempts<1)throw new vt(tt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,u){const m=new gs;return r.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){const v=yield function TU(n){return p1(n).then(t=>t.datastore)}(r);new kH(r.asyncQueue,v,u,o,m).run()})),m.promise}(Ns(n),r=>t(new U$(n,r)),i)}(this._delegate,e=>t(new M4(this,e)))}batch(){return Ns(this._delegate),new T4(new oV(this._delegate,t=>V0(this._delegate,t)))}loadBundle(t){return function e$(n,t){const e=Ns(n=qi(n,ko)),i=new qH;return function BH(n,t,e,i){const r=function(o,u){let m;return m="string"==typeof o?Gx().encode(o):o,v=function(v,x){if(v instanceof Uint8Array)return xU(v,x);if(v instanceof ArrayBuffer)return xU(new Uint8Array(v),x);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new AH(v,u);var v}(e,nm(t));n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){!function DH(n,t,e){const i=Gt(n);var r;(r=(0,dt.Z)(function*(o,u,m){try{const v=yield u.getMetadata();if(yield function(q,ne){const ae=Gt(q),ye=rs(ne.createTime);return ae.persistence.runTransaction("hasNewerBundle","readonly",We=>ae.qs.getBundleMetadata(We,ne.id)).then(We=>!!We&&We.createTime.compareTo(ye)>=0)}(o.localStore,v))return yield u.close(),m._completeWith({taskState:"Success",documentsLoaded:(q=v).totalDocuments,bytesLoaded:q.totalBytes,totalDocuments:q.totalDocuments,totalBytes:q.totalBytes}),Promise.resolve(new Set);m._updateProgress(c(v));const x=new s(v,o.localStore,u.serializer);let O=yield u.bc();for(;O;){const q=yield x.zu(O);q&&m._updateProgress(q),O=yield u.bc()}const L=yield x.complete();return yield om(o,L.Ju,void 0),yield function(q,ne){const ae=Gt(q);return ae.persistence.runTransaction("Save bundle","readwrite",ye=>ae.qs.saveBundleMetadata(ye,ne))}(o.localStore,v),m._completeWith(L.progress),Promise.resolve(L.Hu)}catch(v){return cu("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v),Promise.resolve(new Set)}var q}),function(o,u,m){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield jR(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function t$(n,t){return function jH(n,t){return n.asyncQueue.enqueue((0,dt.Z)(function*(){return function(e,i){const r=Gt(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.qs.getNamedQuery(o,i))}(yield m1(n),t)}))}(Ns(n=qi(n,ko)),t).then(e=>e?new bc(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Nl(this,e):null)}}class BO extends XR{constructor(t){super(),this.firestore=t}convertBytes(t){return new VI(new Vf(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return qd.forKey(e,this.firestore,null)}}class M4{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new BO(t)}get(t){const e=yy(t);return this._delegate.get(e).then(i=>new BI(this._firestore,new cm(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=yy(t);return i?(WF("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=yy(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=yy(t);return this._delegate.delete(e),this}}class T4{constructor(t){this._delegate=t}set(t,e,i){const r=yy(t);return i?(WF("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=yy(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=yy(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class vy{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new GE(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new jI(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=vy.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new vy(t,new BO(t),e),r.set(e,o)),o}}vy.INSTANCES=new WeakMap;class qd{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new BO(t)}static forPath(t,e,i){if(t.length%2!=0)throw new vt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new qd(e,new Po(e._delegate,i,new qt(t)))}static forKey(t,e,i){return new qd(e,new Po(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new cw(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new cw(this.firestore,$R(this._delegate,t))}catch(e){throw Rl(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,ie.m9)(t))instanceof Po&&UU(this._delegate,t)}set(t,e){e=WF("DocumentReference.set",e);try{return e?eN(this._delegate,t,e):eN(this._delegate,t)}catch(i){throw Rl(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?tN(this._delegate,t):tN(this._delegate,t,e,...i)}catch(r){throw Rl(r,"updateDoc()","DocumentReference.update()")}}delete(){return function T$(n){return V0(qi(n.firestore,ko),[new pg(n._key,Sr.none())])}(this._delegate)}onSnapshot(...t){const e=S4(t),i=D4(t,r=>new BI(this.firestore,new cm(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return nN(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function C$(n){n=qi(n,Po);const t=qi(n.firestore,ko),e=Ns(t),i=new kg(t);return function LH(n,t){const e=new gs;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return(i=(0,dt.Z)(function*(r,o,u){try{const m=yield function(v,x){const O=Gt(v);return O.persistence.runTransaction("read document","readonly",L=>O.localDocuments.getDocument(L,x))}(r,o);m.isFoundDocument()?u.resolve(m):m.isNoDocument()?u.resolve(null):u.reject(new vt(tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=Jv(m,`Failed to get document '${o} from cache`);u.reject(v)}}),function(r,o,u){return i.apply(this,arguments)})(yield m1(n),t,e);var i})),e.promise}(e,n._key).then(r=>new cm(t,i,n._key,r,new iy(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function x$(n){n=qi(n,Po);const t=qi(n.firestore,ko);return SU(Ns(t),n._key,{source:"server"}).then(e=>iN(t,n,e))}(this._delegate):function w$(n){n=qi(n,Po);const t=qi(n.firestore,ko);return SU(Ns(t),n._key).then(e=>iN(t,n,e))}(this._delegate),e.then(i=>new BI(this.firestore,new cm(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new qd(this.firestore,this._delegate.withConverter(t?vy.getInstance(this.firestore,t):null))}}function Rl(n,t,e){return n.message=n.message.replace(t,e),n}function S4(n){for(const t of n)if("object"==typeof t&&!ZF(t))return t;return{}}function D4(n,t){var e,i;let r;return r=ZF(n[0])?n[0]:ZF(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class BI{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new qd(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return iV(this._delegate,t._delegate)}}class jI extends BI{data(t){const e=this._delegate.data(t);return function rS(n,t){n||ln()}(void 0!==e),e}}class Nl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new BO(t)}where(t,e,i){try{return new Nl(this.firestore,am(this._delegate,KU(t,e,i)))}catch(r){throw Rl(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Nl(this.firestore,am(this._delegate,function d$(n,t="asc"){const e=t,i=C1("orderBy",n);return JR._create(i,e)}(t,e)))}catch(i){throw Rl(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Nl(this.firestore,am(this._delegate,function h$(n){return NU("limit",n),x1._create("limit",n,"F")}(t)))}catch(e){throw Rl(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Nl(this.firestore,am(this._delegate,function f$(n){return NU("limitToLast",n),x1._create("limitToLast",n,"L")}(t)))}catch(e){throw Rl(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Nl(this.firestore,am(this._delegate,function p$(...n){return E1._create("startAt",n,!0)}(...t)))}catch(e){throw Rl(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Nl(this.firestore,am(this._delegate,function m$(...n){return E1._create("startAfter",n,!1)}(...t)))}catch(e){throw Rl(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Nl(this.firestore,am(this._delegate,function g$(...n){return I1._create("endBefore",n,!1)}(...t)))}catch(e){throw Rl(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Nl(this.firestore,am(this._delegate,function _$(...n){return I1._create("endAt",n,!0)}(...t)))}catch(e){throw Rl(e,"endAt()","Query.endAt()")}}isEqual(t){return qR(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function I$(n){n=qi(n,bc);const t=qi(n.firestore,ko),e=Ns(t),i=new kg(t);return function UH(n,t){const e=new gs;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return(i=(0,dt.Z)(function*(r,o,u){try{const m=yield $v(r,o,!0),v=new _(o,m.ir),x=v.sc(m.documents),O=v.applyChanges(x,!1);u.resolve(O.snapshot)}catch(m){const v=Jv(m,`Failed to execute query '${o} against cache`);u.reject(v)}}),function(r,o,u){return i.apply(this,arguments)})(yield m1(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Pg(t,i,n,r))}(this._delegate):"server"===t?.source?function M$(n){n=qi(n,bc);const t=qi(n.firestore,ko),e=Ns(t),i=new kg(t);return DU(e,n._query,{source:"server"}).then(r=>new Pg(t,i,n,r))}(this._delegate):function E$(n){n=qi(n,bc);const t=qi(n.firestore,ko),e=Ns(t),i=new kg(t);return YU(n._query),DU(e,n._query).then(r=>new Pg(t,i,n,r))}(this._delegate),e.then(i=>new YF(this.firestore,new Pg(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=S4(t),i=D4(t,r=>new YF(this.firestore,new Pg(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return nN(this._delegate,e,i)}withConverter(t){return new Nl(this.firestore,this._delegate.withConverter(t?vy.getInstance(this.firestore,t):null))}}class _ee{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new jI(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class YF{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Nl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new jI(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new _ee(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new jI(this._firestore,i))})}isEqual(t){return iV(this._delegate,t._delegate)}}class cw extends Nl{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new qd(this.firestore,t):null}doc(t){try{return new qd(this.firestore,void 0===t?VE(this._delegate):VE(this._delegate,t))}catch(e){throw Rl(e,"doc()","CollectionReference.doc()")}}add(t){return rV(this._delegate,t).then(e=>new qd(this.firestore,e))}isEqual(t){return UU(this._delegate,t._delegate)}withConverter(t){return new cw(this.firestore,this._delegate.withConverter(t?vy.getInstance(this.firestore,t):null))}}function yy(n){return qi(n,Po)}class KF{constructor(...t){this._delegate=new sm(...t)}static documentId(){return new KF(qo.keyField().canonicalString())}isEqual(t){return(t=(0,ie.m9)(t))instanceof sm&&this._delegate._internalPath.isEqual(t._internalPath)}}class by{constructor(t){this._delegate=t}static serverTimestamp(){const t=function j$(){return new WR("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new by(t)}static delete(){const t=function B$(){return new jE("deleteField")}();return t._methodName="FieldValue.delete",new by(t)}static arrayUnion(...t){const e=function z$(...n){return new s$("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new by(e)}static arrayRemove(...t){const e=function H$(...n){return new a$("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new by(e)}static increment(t){const e=function $$(n){return new c$("increment",n)}(t);return e._methodName="FieldValue.increment",new by(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const vee={Firestore:I4,GeoPoint:_1,Timestamp:ho,Blob:VI,Transaction:M4,WriteBatch:T4,DocumentReference:qd,DocumentSnapshot:BI,Query:Nl,QueryDocumentSnapshot:jI,QuerySnapshot:YF,CollectionReference:cw,FieldPath:KF,FieldValue:by,setLogLevel:function gee(n){!function ik(n){bf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function bee(n){(function yee(n,t){n.INTERNAL.registerComponent(new ou.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},vee)))})(n,(t,e)=>new I4(t,e,new mee)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(C4.Z);var jO=Q(3093);function O4(n,t){return(0,jd.m)(t)?(0,ss.w)(()=>n,t):(0,ss.w)(()=>n)}var QF=Q(5137),A4=Q(120);const JF=new a.OlP("angularfire2.auth.use-emulator"),XF=new a.OlP("angularfire2.auth.settings"),eL=new a.OlP("angularfire2.auth.tenant-id"),tL=new a.OlP("angularfire2.auth.langugage-code"),nL=new a.OlP("angularfire2.auth.use-device-language"),iL=new a.OlP("angularfire.auth.persistence"),rL=(n,t,e,i,r,o,u,m)=>(0,kl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=t.runOutsideAngular(()=>n.auth());if(e&&v.useEmulator(...e),i&&(v.tenantId=i),v.languageCode=r,o&&v.useDeviceLanguage(),u)for(const[x,O]of Object.entries(u))v.settings[x]=O;return m&&v.setPersistence(m),v},[e,i,r,o,u,m]);let oL=(()=>{class n{constructor(e,i,r,o,u,m,v,x,O,L,q,ne){const ae=new Hn.x,ye=(0,_n.of)(void 0).pipe((0,jO.Q)(u.outsideAngular),(0,ss.w)(()=>o.runOutsideAngular(()=>Promise.resolve().then(Q.bind(Q,8661)))),(0,gn.U)(()=>(0,kl.on)(e,o,i)),(0,gn.U)(We=>rL(We,o,m,x,O,L,v,q)),kF({bufferSize:1,refCount:!1}));if(Cr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,_n.of)(null);else{ye.pipe(Fg()).subscribe();const wt=ye.pipe((0,ss.w)(Lt=>Lt.getRedirectResult().then(On=>On,()=>null)),bn.iC,kF({bufferSize:1,refCount:!1})),At=ye.pipe((0,ss.w)(Lt=>new ar.y(On=>({unsubscribe:o.runOutsideAngular(()=>Lt.onAuthStateChanged(Rn=>On.next(Rn),Rn=>On.error(Rn),()=>On.complete()))})))),Ot=ye.pipe((0,ss.w)(Lt=>new ar.y(On=>({unsubscribe:o.runOutsideAngular(()=>Lt.onIdTokenChanged(Rn=>On.next(Rn),Rn=>On.error(Rn),()=>On.complete()))}))));this.authState=wt.pipe(O4(At),(0,QF.R)(u.outsideAngular),(0,jO.Q)(u.insideAngular)),this.user=wt.pipe(O4(Ot),(0,QF.R)(u.outsideAngular),(0,jO.Q)(u.insideAngular)),this.idToken=this.user.pipe((0,ss.w)(Lt=>Lt?(0,Dr.D)(Lt.getIdToken()):(0,_n.of)(null))),this.idTokenResult=this.user.pipe((0,ss.w)(Lt=>Lt?(0,Dr.D)(Lt.getIdTokenResult()):(0,_n.of)(null))),this.credential=(0,Zg.T)(wt,ae,this.authState.pipe(cr(Lt=>!Lt))).pipe((0,gn.U)(Lt=>Lt?.user?Lt:null),(0,QF.R)(u.outsideAngular),(0,jO.Q)(u.insideAngular))}return(0,kl.pX)(this,ye,o,{spy:{apply:(We,wt,At)=>{(We.startsWith("signIn")||We.startsWith("createUser"))&&At.then(Ot=>ae.next(Ot))}}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(kl.Dh),a.LFG(kl.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(bn.HU),a.LFG(JF,8),a.LFG(XF,8),a.LFG(eL,8),a.LFG(tL,8),a.LFG(nL,8),a.LFG(iL,8),a.LFG(wp,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function P4(n,t){return function Cee(n,t=ow.z){return new ar.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function sL(n,t){return P4(n,t).pipe((0,gn.U)(e=>({payload:e,type:"query"})))}function zO(n,t){return sL(n,t).pipe(Ng(void 0),GF(),(0,gn.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,m)=>{const v=r.find(O=>O.doc.ref.isEqual(u.ref)),x=e?.payload.docs.find(O=>O.ref.isEqual(u.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(u.metadata)||!v&&x&&JSON.stringify(x.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:u}})}),o}))}function k4(n,t,e){return zO(n,e).pipe(q0((i,r)=>function Eee(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function Iee(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return aL(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return aL(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return aL(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),(0,gF.x)(),(0,gn.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function aL(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function R4(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class N4{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=zO(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,gn.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Ng(void 0),GF(),cr(([i,r])=>r.length>0||!i),(0,gn.U)(([i,r])=>r),bn.iC)}auditTrail(t){return this.stateChanges(t).pipe(q0((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=R4(t);return k4(this.query,e,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(t={}){return sL(this.query,this.afs.schedulers.outsideAngular).pipe((0,gn.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),bn.iC)}get(t){return(0,Dr.D)(this.query.get(t)).pipe(bn.iC)}add(t){return this.ref.add(t)}doc(t){return new F4(this.ref.doc(t),this.afs)}}class F4{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=V4(i,e);return new N4(r,o,this.afs)}snapshotChanges(){return function xee(n,t){return P4(n,t).pipe(Ng(void 0),GF(),(0,gn.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,gn.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Dr.D)(this.ref.get(t)).pipe(bn.iC)}}class Mee{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?zO(this.query,this.afs.schedulers.outsideAngular).pipe((0,gn.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),cr(e=>e.length>0),bn.iC):zO(this.query,this.afs.schedulers.outsideAngular).pipe(bn.iC)}auditTrail(t){return this.stateChanges(t).pipe(q0((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=R4(t);return k4(this.query,e,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(t={}){return sL(this.query,this.afs.schedulers.outsideAngular).pipe((0,gn.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),bn.iC)}get(t){return(0,Dr.D)(this.query.get(t)).pipe(bn.iC)}}const L4=new a.OlP("angularfire2.enableFirestorePersistence"),U4=new a.OlP("angularfire2.firestore.persistenceSettings"),Tee=new a.OlP("angularfire2.firestore.settings"),See=new a.OlP("angularfire2.firestore.use-emulator");function V4(n,t=(e=>e)){return{query:t(n),ref:n}}let B4=(()=>{class n{constructor(e,i,r,o,u,m,v,x,O,L,q,ne,ae,ye,We,wt,At){this.schedulers=v;const Ot=(0,kl.on)(e,m,i),Lt=O;L&&rL(Ot,m,q,ae,ye,We,ne,wt),[this.firestore,this.persistenceEnabled$]=(0,kl.cc)(`${Ot.name}.firestore`,"AngularFirestore",Ot.name,()=>{const On=m.runOutsideAngular(()=>Ot.firestore());if(o&&On.settings(o),Lt&&On.useEmulator(...Lt),r&&!Cr(u)){const Rn=()=>{try{return(0,Dr.D)(On.enablePersistence(x||void 0).then(()=>!0,()=>!1))}catch(ji){return typeof console<"u"&&console.warn(ji),(0,_n.of)(!1)}};return[On,m.runOutsideAngular(Rn)]}return[On,(0,_n.of)(!1)]},[o,Lt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:u}=V4(r,i),m=this.schedulers.ngZone.run(()=>o);return new N4(m,u,this)}collectionGroup(e,i){const r=i||(u=>u),o=this.firestore.collectionGroup(e);return new Mee(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new F4(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(kl.Dh),a.LFG(kl.xv,8),a.LFG(L4,8),a.LFG(Tee,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(bn.HU),a.LFG(U4,8),a.LFG(See,8),a.LFG(oL,8),a.LFG(JF,8),a.LFG(XF,8),a.LFG(eL,8),a.LFG(tL,8),a.LFG(nL,8),a.LFG(iL,8),a.LFG(wp,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Dee=(()=>{class n{constructor(){A4.Z.registerVersion("angularfire",bn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:L4,useValue:!0},{provide:U4,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[B4]}),n})(),Oee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ki]})}return n})();const j4="@firebase/database";let cL="";function H4(n){cL=n}class kee{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,ie.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,ie.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Ree{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,ie.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const $4=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new kee(t)}}catch{}return new Ree},wy=$4("localStorage"),lL=$4("sessionStorage"),lw=new Ru.Yd("@firebase/database"),q4=function(){let n=1;return function(){return n++}}(),G4=function(n){const t=(0,ie.dS)(n),e=new ie.gQ;e.update(t);const i=e.digest();return ie.US.encodeByteArray(i)},zI=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=zI.apply(null,i):t+="object"==typeof i?(0,ie.Wl)(i):i,t+=" "}return t};let Cy=null,W4=!0;const Z4=function(n,t){(0,ie.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(lw.logLevel=Ru.in.VERBOSE,Cy=lw.log.bind(lw),t&&lL.set("logging_enabled",!0)):"function"==typeof n?Cy=n:(Cy=null,lL.remove("logging_enabled"))},Ja=function(...n){if(!0===W4&&(W4=!1,null===Cy&&!0===lL.get("logging_enabled")&&Z4(!0)),Cy){const t=zI.apply(null,n);Cy(t)}},HI=function(n){return function(...t){Ja(n,...t)}},uL=function(...n){const t="FIREBASE INTERNAL ERROR: "+zI(...n);lw.error(t)},Zf=function(...n){const t=`FIREBASE FATAL ERROR: ${zI(...n)}`;throw lw.error(t),new Error(t)},il=function(...n){const t="FIREBASE WARNING: "+zI(...n);lw.warn(t)},HO=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Yg="[MIN_NAME]",mm="[MAX_NAME]",xy=function(n,t){if(n===t)return 0;if(n===Yg||t===mm)return-1;if(t===Yg||n===mm)return 1;{const e=Q4(n),i=Q4(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},Lee=function(n,t){return n===t?0:n<t?-1:1},$I=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,ie.Wl)(t))},dL=function(n){if("object"!=typeof n||null===n)return(0,ie.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,ie.Wl)(t[i]),e+=":",e+=dL(n[t[i]]);return e+="}",e},Y4=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Xa(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const K4=function(n){(0,ie.hu)(!HO(n),"Invalid JSON number");const i=1023;let r,o,u,m,v;0===n?(o=0,u=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(m=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=m+i,u=Math.round(n*Math.pow(2,52-m)-Math.pow(2,52))):(o=0,u=Math.round(n/Math.pow(2,-1074))));const x=[];for(v=52;v;v-=1)x.push(u%2?1:0),u=Math.floor(u/2);for(v=11;v;v-=1)x.push(o%2?1:0),o=Math.floor(o/2);x.push(r?1:0),x.reverse();const O=x.join("");let L="";for(v=0;v<64;v+=8){let q=parseInt(O.substr(v,8),2).toString(16);1===q.length&&(q="0"+q),L+=q}return L.toLowerCase()},jee=new RegExp("^-?(0*)\\d{1,10}$"),Q4=function(n){if(jee.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},uw=function(n){try{n()}catch(t){setTimeout(()=>{throw il("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},qI=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class qee{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){il(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Gee{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Ja("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',il(t)}}let GI=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const n6=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,o6="websocket",s6="long_polling";class fL{constructor(t,e,i,r,o=!1,u="",m=!1,v=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=u,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=v,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=wy.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&wy.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function a6(n,t,e){let i;if((0,ie.hu)("string"==typeof t,"typeof type must == string"),(0,ie.hu)("object"==typeof e,"typeof params must == object"),t===o6)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==s6)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Wee(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Xa(e,(o,u)=>{r.push(o+"="+u)}),i+r.join("&")}class Zee{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,ie.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,ie.p$)(this.counters_)}}const pL={},mL={};function gL(n){const t=n.toString();return pL[t]||(pL[t]=new Zee),pL[t]}class Kee{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&uw(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Kg{constructor(t,e,i,r,o,u,m){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=u,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=HI(t),this.stats_=gL(e),this.urlFn=v=>(this.appCheckToken&&(v.ac=this.appCheckToken),a6(e,s6,v))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Kee(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,ie.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _L((...o)=>{const[u,m,v,x,O]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=m,this.password=v;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[u,m]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(u,m)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&n6.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Kg.forceAllow_=!0}static forceDisallow(){Kg.forceDisallow_=!0}static isAvailable(){return!((0,ie.Yr)()||!Kg.forceAllow_&&(Kg.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,ie.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,ie.h$)(e),r=Y4(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,ie.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,ie.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class _L{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ie.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=q4(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=_L.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(m){Ja("frame writing exception"),m.stack&&Ja(m.stack),Ja(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Ja("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const u=this.pendingSegs.shift();i=i+"&seg"+r+"="+u.seg+"&ts"+r+"="+u.ts+"&d"+r+"="+u.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,ie.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Ja("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let qO=null;typeof MozWebSocket<"u"?qO=MozWebSocket:typeof WebSocket<"u"&&(qO=WebSocket);let dw=(()=>{class n{constructor(e,i,r,o,u,m,v){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=HI(this.connId),this.stats_=gL(i),this.connURL=n.connectionURL_(i,m,v,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,u){const m={v:"5"};return!(0,ie.Yr)()&&typeof location<"u"&&location.hostname&&n6.test(location.hostname)&&(m.r="f"),i&&(m.s=i),r&&(m.ls=r),o&&(m.ac=o),u&&(m.p=u),a6(e,o6,m)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,wy.set("previous_websocket_failure",!0);try{let r;if((0,ie.Yr)()){r={headers:{"User-Agent":`Firebase/5/${cL}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,m=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;m&&(r.proxy={origin:m})}this.mySock=new qO(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==qO&&!n.forceDisallow_}static previouslyFailed(){return wy.isInMemoryStorage||!0===wy.get("previous_websocket_failure")}markConnectionHealthy(){wy.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,ie.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,ie.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,ie.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Y4(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),p6=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Kg,dw]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=dw&&dw.isAvailable();let r=i&&!dw.previouslyFailed();if(e.webSocketOnly&&(i||il("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[dw];else{const o=this.transports_=[];for(const u of n.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class w6{constructor(t,e,i,r,o,u,m,v,x,O){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=u,this.onReady_=m,this.onDisconnect_=v,this.onKill_=x,this.lastSessionId=O,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=HI("c:"+this.id+":"),this.transportManager_=new p6(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=qI(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=$I("t",t),i=$I("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=$I("t",t),i=$I("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=$I("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?uL("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):uL("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&il("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),qI(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qI(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(wy.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class C6{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class x6{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,ie.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,ie.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class GO extends x6{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ie.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new GO}getInitialEvent(t){return(0,ie.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Or{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function lr(){return new Or("")}function Si(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Qg(n){return n.pieces_.length-n.pieceNum_}function oo(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Or(n.pieces_,t)}function yL(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function WI(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function M6(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Or(t,0)}function Wo(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Or)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Or(e,0)}function Di(n){return n.pieceNum_>=n.pieces_.length}function Fl(n,t){const e=Si(n),i=Si(t);if(null===e)return t;if(e===i)return Fl(oo(n),oo(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function vte(n,t){const e=WI(n,0),i=WI(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=xy(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function bL(n,t){if(Qg(n)!==Qg(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Gd(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Qg(n)>Qg(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class yte{constructor(t,e){this.errorPrefix_=e,this.parts_=WI(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,ie.ug)(this.parts_[i]);T6(this)}}function T6(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ey(n))}function Ey(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class wL extends x6{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new wL}getInitialEvent(t){return(0,ie.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const ZI=1e3;let ZO,Iy=(()=>{class n extends C6{constructor(e,i,r,o,u,m,v,x){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=m,this.appCheckTokenProvider_=v,this.authOverride_=x,this.id=n.nextPersistentConnectionId_++,this.log_=HI("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ZI,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,x&&!(0,ie.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");wL.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&GO.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,u={r:o,a:e,b:i};this.log_((0,ie.Wl)(u)),(0,ie.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new ie.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:m=>{const v=m.d;"ok"===m.s?i.resolve(v):i.reject(v)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const u=e._queryIdentifier,m=e._path.toString();this.log_("Listen called for "+m+" "+u),this.listens.has(m)||this.listens.set(m,new Map),(0,ie.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ie.hu)(!this.listens.get(m).has(u),"listen() called twice for same path/queryId.");const v={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(m).set(u,v),this.connected_&&this.sendListen_(v)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r};e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest("q",u,v=>{const x=v.d,O=v.s;n.warnOnListenWarnings_(x,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",v),"ok"!==O&&this.removeListen_(r,o),e.onComplete&&e.onComplete(O,x))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,ie.r3)(e,"w")){const r=(0,ie.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();il(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,ie.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,ie.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const u=o.s,m=o.d||"error";this.authToken_===e&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,ie.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const u={p:e};o&&(u.q=r,u.t=o),this.sendRequest("n",u)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const u={p:i,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,m=>{o&&setTimeout(()=>{o(m.s,m.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,u){this.initConnection_();const m={p:i,d:r};void 0!==u&&(m.h=u),this.outstandingPuts_.push({action:e,request:m,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,ie.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):uL("Unrecognized action received from server: "+(0,ie.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,ie.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ZI,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ZI,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ZI),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,dt.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),u=e.id+":"+n.nextConnectionId_++,m=e.lastSessionId;let v=!1,x=null;const O=function(){x?x.close():(v=!0,o())};e.realtime_={close:O,sendRequest:function(ne){(0,ie.hu)(x,"sendRequest call when we're not connected not allowed."),x.sendRequest(ne)}};const q=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[ne,ae]=yield Promise.all([e.authTokenProvider_.getToken(q),e.appCheckTokenProvider_.getToken(q)]);v?Ja("getToken() completed but was canceled"):(Ja("getToken() completed. Creating connection."),e.authToken_=ne&&ne.accessToken,e.appCheckToken_=ae&&ae.token,x=new w6(u,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,ye=>{il(ye+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},m))}catch(ne){e.log_("Failed to get token: "+ne),v||(e.repoInfo_.nodeAdmin&&il(ne),O())}}})()}interrupt(e){Ja("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ja("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,ie.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ZI,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(u=>dL(u)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Or(e).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(i),u.delete(i),0===u.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Ja("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Ja("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,ie.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+cL.replace(/\./g,"-")]=1,(0,ie.uI)()?e["framework.cordova"]=1:(0,ie.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=GO.getInstance().currentlyOnline();return(0,ie.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Fi{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Fi(t,e)}}class WO{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Fi(Yg,t),r=new Fi(Yg,e);return 0!==this.compare(i,r)}minPost(){return Fi.MIN}}class O6 extends WO{static get __EMPTY_NODE(){return ZO}static set __EMPTY_NODE(t){ZO=t}compare(t,e){return xy(t.name,e.name)}isDefinedOn(t){throw(0,ie.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Fi.MIN}maxPost(){return new Fi(mm,ZO)}makePost(t,e){return(0,ie.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Fi(t,ZO)}toString(){return".key"}}const Yf=new O6;class YO{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let u=1;for(;!t.isEmpty();)if(u=e?i(t.key,e):1,r&&(u*=-1),u<0)t=this.isReverse_?t.left:t.right;else{if(0===u){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let xL,Uh=(()=>{class n{constructor(e,i,r,o,u){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??pu.EMPTY_NODE,this.right=u??pu.EMPTY_NODE}copy(e,i,r,o,u){return new n(e??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===u?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return pu.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return pu.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class pu{constructor(t,e=pu.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new pu(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Uh.BLACK,null,null))}remove(t){return new pu(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Uh.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new YO(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new YO(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new YO(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new YO(this.root_,null,this.comparator_,!0,t)}}function Tte(n,t){return xy(n.name,t.name)}function CL(n,t){return xy(n,t)}pu.EMPTY_NODE=new class Mte{copy(t,e,i,r,o){return this}insert(t,e,i){return new Uh(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const A6=function(n){return"number"==typeof n?"number:"+K4(n):"string:"+n},P6=function(n){if(n.isLeafNode()){const t=n.val();(0,ie.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,ie.r3)(t,".sv"),"Priority must be a string or number.")}else(0,ie.hu)(n===xL||n.isEmpty(),"priority of unexpected type.");(0,ie.hu)(n===xL||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let k6,R6,N6,hw=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,ie.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),P6(this.priorityNode_)}static set __childrenNodeConstructor(e){k6=e}static get __childrenNodeConstructor(){return k6}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Di(e)?this:".priority"===Si(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Si(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,ie.hu)(".priority"!==r||1===Qg(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(oo(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+A6(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?K4(this.value_):this.value_,this.lazyHash_=G4(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,ie.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),u=n.VALUE_TYPE_ORDER.indexOf(r);return(0,ie.hu)(o>=0,"Unknown leaf type: "+i),(0,ie.hu)(u>=0,"Unknown leaf type: "+r),o===u?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const po=new class Ate extends WO{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?xy(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Fi.MIN}maxPost(){return new Fi(mm,new hw("[PRIORITY-POST]",N6))}makePost(t,e){const i=R6(t);return new Fi(e,new hw("[PRIORITY-POST]",i))}toString(){return".priority"}},Pte=Math.log(2);class kte{constructor(t){this.count=parseInt(Math.log(t+1)/Pte,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const KO=function(n,t,e,i){n.sort(t);const r=function(v,x){const O=x-v;let L,q;if(0===O)return null;if(1===O)return L=n[v],q=e?e(L):L,new Uh(q,L.node,Uh.BLACK,null,null);{const ne=parseInt(O/2,10)+v,ae=r(v,ne),ye=r(ne+1,x);return L=n[ne],q=e?e(L):L,new Uh(q,L.node,Uh.BLACK,ae,ye)}},m=function(v){let x=null,O=null,L=n.length;const q=function(ae,ye){const We=L-ae,wt=L;L-=ae;const At=r(We+1,wt),Ot=n[We],Lt=e?e(Ot):Ot;ne(new Uh(Lt,Ot.node,ye,null,At))},ne=function(ae){x?(x.left=ae,x=ae):(O=ae,x=ae)};for(let ae=0;ae<v.count;++ae){const ye=v.nextBitIsOne(),We=Math.pow(2,v.count-(ae+1));ye?q(We,Uh.BLACK):(q(We,Uh.BLACK),q(We,Uh.RED))}return O}(new kte(n.length));return new pu(i||t,m)};let EL;const fw={};class gm{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,ie.hu)(fw&&po,"ChildrenNode.ts has not been loaded"),EL=EL||new gm({".priority":fw},{".priority":po}),EL}get(t){const e=(0,ie.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof pu?e:null}hasIndex(t){return(0,ie.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,ie.hu)(t!==Yf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(Fi.Wrap);let m,u=o.getNext();for(;u;)r=r||t.isDefinedOn(u.node),i.push(u),u=o.getNext();m=r?KO(i,t.getCompare()):fw;const v=t.toString(),x=Object.assign({},this.indexSet_);x[v]=t;const O=Object.assign({},this.indexes_);return O[v]=m,new gm(O,x)}addToIndexes(t,e){const i=(0,ie.UI)(this.indexes_,(r,o)=>{const u=(0,ie.DV)(this.indexSet_,o);if((0,ie.hu)(u,"Missing index implementation for "+o),r===fw){if(u.isDefinedOn(t.node)){const m=[],v=e.getIterator(Fi.Wrap);let x=v.getNext();for(;x;)x.name!==t.name&&m.push(x),x=v.getNext();return m.push(t),KO(m,u.getCompare())}return fw}{const m=e.get(t.name);let v=r;return m&&(v=v.remove(new Fi(t.name,m))),v.insert(t,t.node)}});return new gm(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,ie.UI)(this.indexes_,r=>{if(r===fw)return r;{const o=e.get(t.name);return o?r.remove(new Fi(t.name,o)):r}});return new gm(i,this.indexSet_)}}let YI,hi=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&P6(this.priorityNode_),this.children_.isEmpty()&&(0,ie.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return YI||(YI=new n(new pu(CL),null,gm.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||YI}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?YI:i}}getChild(e){const i=Si(e);return null===i?this:this.getImmediateChild(i).getChild(oo(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,ie.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new Fi(e,i);let o,u;i.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(r,this.children_));const m=o.isEmpty()?YI:this.priorityNode_;return new n(o,m,u)}}updateChild(e,i){const r=Si(e);if(null===r)return i;{(0,ie.hu)(".priority"!==Si(e)||1===Qg(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(oo(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,u=!0;if(this.forEachChild(po,(m,v)=>{i[m]=v.val(e),r++,u&&n.INTEGER_REGEXP_.test(m)?o=Math.max(o,Number(m)):u=!1}),!e&&u&&o<2*r){const m=[];for(const v in i)m[v]=i[v];return m}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+A6(this.getPriority().val())+":"),this.forEachChild(po,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":G4(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new Fi(e,i));return u?u.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Fi(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Fi(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,Fi.Wrap);let u=o.peek();for(;null!=u&&i.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,Fi.Wrap);let u=o.peek();for(;null!=u&&i.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===KI?-1:0}withIndex(e){if(e===Yf||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Yf||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(po),o=i.getIterator(po);let u=r.getNext(),m=o.getNext();for(;u&&m;){if(u.name!==m.name||!u.node.equals(m.node))return!1;u=r.getNext(),m=o.getNext()}return null===u&&null===m}return!1}return!1}}resolveIndex_(e){return e===Yf?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const KI=new class Rte extends hi{constructor(){super(new pu(CL),hi.EMPTY_NODE,gm.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return hi.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Fi,{MIN:{value:new Fi(Yg,hi.EMPTY_NODE)},MAX:{value:new Fi(mm,KI)}}),O6.__EMPTY_NODE=hi.EMPTY_NODE,hw.__childrenNodeConstructor=hi,function Ste(n){xL=n}(KI),function Ote(n){N6=n}(KI);const Nte=!0;function as(n,t=null){if(null===n)return hi.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,ie.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new hw(n,as(t));if(n instanceof Array||!Nte){let e=hi.EMPTY_NODE;return Xa(n,(i,r)=>{if((0,ie.r3)(n,i)&&"."!==i.substring(0,1)){const o=as(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(as(t))}{const e=[];let i=!1;if(Xa(n,(u,m)=>{if("."!==u.substring(0,1)){const v=as(m);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),e.push(new Fi(u,v)))}}),0===e.length)return hi.EMPTY_NODE;const o=KO(e,Tte,u=>u.name,CL);if(i){const u=KO(e,po.getCompare());return new hi(o,as(t),new gm({".priority":u},{".priority":po}))}return new hi(o,as(t),gm.Default)}}!function Dte(n){R6=n}(as);class IL extends WO{constructor(t){super(),this.indexPath_=t,(0,ie.hu)(!Di(t)&&".priority"!==Si(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?xy(t.name,e.name):o}makePost(t,e){const i=as(t),r=hi.EMPTY_NODE.updateChild(this.indexPath_,i);return new Fi(e,r)}maxPost(){const t=hi.EMPTY_NODE.updateChild(this.indexPath_,KI);return new Fi(mm,t)}toString(){return WI(this.indexPath_,0).join("/")}}const ML=new class Fte extends WO{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?xy(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Fi.MIN}maxPost(){return Fi.MAX}makePost(t,e){const i=as(t);return new Fi(e,i)}toString(){return".value"}};function F6(n){return{type:"value",snapshotNode:n}}function pw(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function QI(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function JI(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class TL{constructor(t){this.index_=t}updateChild(t,e,i,r,o,u){(0,ie.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(e);return m.getChild(r).equals(i.getChild(r))&&m.isEmpty()===i.isEmpty()||(null!=u&&(i.isEmpty()?t.hasChild(e)?u.trackChildChange(QI(e,m)):(0,ie.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?u.trackChildChange(pw(e,i)):u.trackChildChange(JI(e,i,m))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(po,(r,o)=>{e.hasChild(r)||i.trackChildChange(QI(r,o))}),e.isLeafNode()||e.forEachChild(po,(r,o)=>{if(t.hasChild(r)){const u=t.getImmediateChild(r);u.equals(o)||i.trackChildChange(JI(r,o,u))}else i.trackChildChange(pw(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?hi.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class XI{constructor(t){this.indexedFilter_=new TL(t.getIndex()),this.index_=t.getIndex(),this.startPost_=XI.getStartPost_(t),this.endPost_=XI.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,o,u){return this.matches(new Fi(e,i))||(i=hi.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,u)}updateFullNode(t,e,i){e.isLeafNode()&&(e=hi.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(hi.EMPTY_NODE);const o=this;return e.forEachChild(po,(u,m)=>{o.matches(new Fi(u,m))||(r=r.updateImmediateChild(u,hi.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Ute{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new XI(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,o,u){return this.rangedFilter_.matches(new Fi(e,i))||(i=hi.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,u):this.fullLimitUpdateChild_(t,e,i,o,u)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=hi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=hi.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;o.hasNext()&&u<this.limit_;){const m=o.getNext();if(this.withinDirectionalStart(m)){if(!this.withinDirectionalEnd(m))break;r=r.updateImmediateChild(m.name,m.node),u++}}}else{let o;r=e.withIndex(this.index_),r=r.updatePriority(hi.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let u=0;for(;o.hasNext();){const m=o.getNext();u<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?u++:r=r.updateImmediateChild(m.name,hi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let u;if(this.reverse_){const L=this.index_.getCompare();u=(q,ne)=>L(ne,q)}else u=this.index_.getCompare();const m=t;(0,ie.hu)(m.numChildren()===this.limit_,"");const v=new Fi(e,i),x=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),O=this.rangedFilter_.matches(v);if(m.hasChild(e)){const L=m.getImmediateChild(e);let q=r.getChildAfterChild(this.index_,x,this.reverse_);for(;null!=q&&(q.name===e||m.hasChild(q.name));)q=r.getChildAfterChild(this.index_,q,this.reverse_);const ne=null==q?1:u(q,v);if(O&&!i.isEmpty()&&ne>=0)return o?.trackChildChange(JI(e,i,L)),m.updateImmediateChild(e,i);{o?.trackChildChange(QI(e,L));const ye=m.updateImmediateChild(e,hi.EMPTY_NODE);return null!=q&&this.rangedFilter_.matches(q)?(o?.trackChildChange(pw(q.name,q.node)),ye.updateImmediateChild(q.name,q.node)):ye}}return i.isEmpty()?t:O&&u(x,v)>=0?(null!=o&&(o.trackChildChange(QI(x.name,x.node)),o.trackChildChange(pw(e,i))),m.updateImmediateChild(e,i).updateImmediateChild(x.name,hi.EMPTY_NODE)):t}}class QO{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=po}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ie.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ie.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yg}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ie.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ie.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:mm}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ie.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===po}copy(){const t=new QO;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function SL(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function DL(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function JO(n,t){const e=n.copy();return e.index_=t,e}function L6(n){const t={};if(n.isDefault())return t;let e;if(n.index_===po?e="$priority":n.index_===ML?e="$value":n.index_===Yf?e="$key":((0,ie.hu)(n.index_ instanceof IL,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,ie.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,ie.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,ie.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,ie.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,ie.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function U6(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==po&&(t.i=n.index_.toString()),t}class XO extends C6{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=HI("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,ie.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const u=XO.getListenId_(t,i),m={};this.listens_[u]=m;const v=L6(t._queryParams);this.restRequest_(o+".json",v,(x,O)=>{let L=O;if(404===x&&(L=null,x=null),null===x&&this.onDataUpdate_(o,L,!1,i),(0,ie.DV)(this.listens_,u)===m){let q;q=x?401===x?"permission_denied":"rest_error:"+x:"ok",r(q,null)}})}unlisten(t,e){const i=XO.getListenId_(t,e);delete this.listens_[i]}get(t){const e=L6(t._queryParams),i=t._path.toString(),r=new ie.BH;return this.restRequest_(i+".json",e,(o,u)=>{let m=u;404===o&&(m=null,o=null),null===o?(this.onDataUpdate_(i,m,!1,null),r.resolve(m)):r.reject(new Error(m))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,ie.xO)(e);this.log_("Sending REST request for "+u);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(i&&4===m.readyState){this.log_("REST Response for "+u+" received. status:",m.status,"response:",m.responseText);let v=null;if(m.status>=200&&m.status<300){try{v=(0,ie.cI)(m.responseText)}catch{il("Failed to parse JSON response for "+u+": "+m.responseText)}i(null,v)}else 401!==m.status&&404!==m.status&&il("Got unsuccessful REST response for "+u+" Status: "+m.status),i(m.status);i=null}},m.open("GET",u,!0),m.send()})}}class $te{constructor(){this.rootNode_=hi.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function eA(){return{value:null,children:new Map}}function mw(n,t,e){if(Di(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Si(t);n.children.has(i)||n.children.set(i,eA()),mw(n.children.get(i),t=oo(t),e)}}function OL(n,t){if(Di(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(po,(i,r)=>{mw(n,new Or(i),r)}),OL(n,t)}}if(n.children.size>0){const e=Si(t);return t=oo(t),n.children.has(e)&&OL(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function AL(n,t,e){null!==n.value?e(t,n.value):function qte(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{AL(r,new Or(t.toString()+"/"+i),e)})}class Gte{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Xa(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class Yte{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Gte(t);const i=1e4+2e4*Math.random();qI(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Xa(t,(r,o)=>{o>0&&(0,ie.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),qI(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Kf=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Kf||{});function RL(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class tA{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Kf.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Di(this.path)){if(null!=this.affectedTree.value)return(0,ie.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Or(t));return new tA(lr(),e,this.revert)}}return(0,ie.hu)(Si(this.path)===t,"operationForChild called for unrelated child."),new tA(oo(this.path),this.affectedTree,this.revert)}}class eM{constructor(t,e){this.source=t,this.path=e,this.type=Kf.LISTEN_COMPLETE}operationForChild(t){return Di(this.path)?new eM(this.source,lr()):new eM(this.source,oo(this.path))}}class My{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Kf.OVERWRITE}operationForChild(t){return Di(this.path)?new My(this.source,lr(),this.snap.getImmediateChild(t)):new My(this.source,oo(this.path),this.snap)}}class gw{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Kf.MERGE}operationForChild(t){if(Di(this.path)){const e=this.children.subtree(new Or(t));return e.isEmpty()?null:e.value?new My(this.source,lr(),e.value):new gw(this.source,lr(),e)}return(0,ie.hu)(Si(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new gw(this.source,oo(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Jg{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Di(t))return this.isFullyInitialized()&&!this.filtered_;const e=Si(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Kte{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function tM(n,t,e,i,r,o){const u=i.filter(m=>m.type===e);u.sort((m,v)=>function Xte(n,t,e){if(null==t.childName||null==e.childName)throw(0,ie.g5)("Should only compare child_ events.");const i=new Fi(t.childName,t.snapshotNode),r=new Fi(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,m,v)),u.forEach(m=>{const v=function Jte(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,m,o);r.forEach(x=>{x.respondsTo(m.type)&&t.push(x.createEvent(v,n.query_))})})}function nA(n,t){return{eventCache:n,serverCache:t}}function nM(n,t,e,i){return nA(new Jg(t,e,i),n.serverCache)}function B6(n,t,e,i){return nA(n.eventCache,new Jg(t,e,i))}function iA(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ty(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let NL;class mo{constructor(t,e=(()=>(NL||(NL=new pu(Lee)),NL))()){this.value=t,this.children=e}static fromObject(t){let e=new mo(null);return Xa(t,(i,r)=>{e=e.set(new Or(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:lr(),value:this.value};if(Di(t))return null;{const i=Si(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(oo(t),e);return null!=o?{path:Wo(new Or(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Di(t))return this;{const e=Si(t),i=this.children.get(e);return null!==i?i.subtree(oo(t)):new mo(null)}}set(t,e){if(Di(t))return new mo(e,this.children);{const i=Si(t),o=(this.children.get(i)||new mo(null)).set(oo(t),e),u=this.children.insert(i,o);return new mo(this.value,u)}}remove(t){if(Di(t))return this.children.isEmpty()?new mo(null):new mo(null,this.children);{const e=Si(t),i=this.children.get(e);if(i){const r=i.remove(oo(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new mo(null):new mo(this.value,o)}return this}}get(t){if(Di(t))return this.value;{const e=Si(t),i=this.children.get(e);return i?i.get(oo(t)):null}}setTree(t,e){if(Di(t))return e;{const i=Si(t),o=(this.children.get(i)||new mo(null)).setTree(oo(t),e);let u;return u=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new mo(this.value,u)}}fold(t){return this.fold_(lr(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Wo(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,lr(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Di(t))return null;{const o=Si(t),u=this.children.get(o);return u?u.findOnPath_(oo(t),Wo(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,lr(),e)}foreachOnPath_(t,e,i){if(Di(t))return this;{this.value&&i(e,this.value);const r=Si(t),o=this.children.get(r);return o?o.foreachOnPath_(oo(t),Wo(e,r),i):new mo(null)}}foreach(t){this.foreach_(lr(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Wo(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Vh{constructor(t){this.writeTree_=t}static empty(){return new Vh(new mo(null))}}function iM(n,t,e){if(Di(t))return new Vh(new mo(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const u=Fl(r,t);return o=o.updateChild(u,e),new Vh(n.writeTree_.set(r,o))}{const r=new mo(e),o=n.writeTree_.setTree(t,r);return new Vh(o)}}}function FL(n,t,e){let i=n;return Xa(e,(r,o)=>{i=iM(i,Wo(t,r),o)}),i}function j6(n,t){if(Di(t))return Vh.empty();{const e=n.writeTree_.setTree(t,new mo(null));return new Vh(e)}}function LL(n,t){return null!=Sy(n,t)}function Sy(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Fl(e.path,t)):null}function z6(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(po,(i,r)=>{t.push(new Fi(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new Fi(i,r.value))}),t}function Xg(n,t){if(Di(t))return n;{const e=Sy(n,t);return new Vh(null!=e?new mo(e):n.writeTree_.subtree(t))}}function UL(n){return n.writeTree_.isEmpty()}function _w(n,t){return H6(lr(),n.writeTree_,t)}function H6(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,ie.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=H6(Wo(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Wo(n,".priority"),i)),e}}function rA(n,t){return Z6(t,n)}function one(n,t){if(n.snap)return Gd(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Gd(Wo(n.path,e),t))return!0;return!1}function ane(n){return n.visible}function $6(n,t,e){let i=Vh.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const u=o.path;let m;if(o.snap)Gd(e,u)?(m=Fl(e,u),i=iM(i,m,o.snap)):Gd(u,e)&&(m=Fl(u,e),i=iM(i,lr(),o.snap.getChild(m)));else{if(!o.children)throw(0,ie.g5)("WriteRecord should have .snap or .children");if(Gd(e,u))m=Fl(e,u),i=FL(i,m,o.children);else if(Gd(u,e))if(m=Fl(u,e),Di(m))i=FL(i,lr(),o.children);else{const v=(0,ie.DV)(o.children,Si(m));if(v){const x=v.getChild(oo(m));i=iM(i,lr(),x)}}}}}return i}function q6(n,t,e,i,r){if(i||r){const o=Xg(n.visibleWrites,t);return!r&&UL(o)?e:r||null!=e||LL(o,lr())?_w($6(n.allWrites,function(x){return(x.visible||r)&&(!i||!~i.indexOf(x.writeId))&&(Gd(x.path,t)||Gd(t,x.path))},t),e||hi.EMPTY_NODE):null}{const o=Sy(n.visibleWrites,t);if(null!=o)return o;{const u=Xg(n.visibleWrites,t);return UL(u)?e:null!=e||LL(u,lr())?_w(u,e||hi.EMPTY_NODE):null}}}function oA(n,t,e,i){return q6(n.writeTree,n.treePath,t,e,i)}function VL(n,t){return function cne(n,t,e){let i=hi.EMPTY_NODE;const r=Sy(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(po,(o,u)=>{i=i.updateImmediateChild(o,u)}),i;if(e){const o=Xg(n.visibleWrites,t);return e.forEachChild(po,(u,m)=>{const v=_w(Xg(o,new Or(u)),m);i=i.updateImmediateChild(u,v)}),z6(o).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}return z6(Xg(n.visibleWrites,t)).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}(n.writeTree,n.treePath,t)}function G6(n,t,e,i){return function lne(n,t,e,i,r){(0,ie.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Wo(t,e);if(LL(n.visibleWrites,o))return null;{const u=Xg(n.visibleWrites,o);return UL(u)?r.getChild(e):_w(u,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function sA(n,t){return function dne(n,t){return Sy(n.visibleWrites,t)}(n.writeTree,Wo(n.treePath,t))}function BL(n,t,e){return function une(n,t,e,i){const r=Wo(t,e),o=Sy(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?_w(Xg(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function W6(n,t){return Z6(Wo(n.treePath,t),n.writeTree)}function Z6(n,t){return{treePath:n,writeTree:t}}class mne{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,ie.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,ie.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,JI(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,QI(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,pw(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,ie.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,JI(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const Y6=new class gne{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class jL{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Jg(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return BL(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ty(this.viewCache_),o=function pne(n,t,e,i,r,o){return function hne(n,t,e,i,r,o,u){let m;const v=Xg(n.visibleWrites,t),x=Sy(v,lr());if(null!=x)m=x;else{if(null==e)return[];m=_w(v,e)}if(m=m.withIndex(u),m.isEmpty()||m.isLeafNode())return[];{const O=[],L=u.getCompare(),q=o?m.getReverseIteratorFrom(i,u):m.getIteratorFrom(i,u);let ne=q.getNext();for(;ne&&O.length<r;)0!==L(ne,i)&&O.push(ne),ne=q.getNext();return O}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function K6(n,t,e,i,r,o){const u=t.eventCache;if(null!=sA(i,e))return t;{let m,v;if(Di(e))if((0,ie.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const x=Ty(t),L=VL(i,x instanceof hi?x:hi.EMPTY_NODE);m=n.filter.updateFullNode(t.eventCache.getNode(),L,o)}else{const x=oA(i,Ty(t));m=n.filter.updateFullNode(t.eventCache.getNode(),x,o)}else{const x=Si(e);if(".priority"===x){(0,ie.hu)(1===Qg(e),"Can't have a priority with additional path components");const O=u.getNode();v=t.serverCache.getNode();const L=G6(i,e,O,v);m=null!=L?n.filter.updatePriority(O,L):u.getNode()}else{const O=oo(e);let L;if(u.isCompleteForChild(x)){v=t.serverCache.getNode();const q=G6(i,e,u.getNode(),v);L=null!=q?u.getNode().getImmediateChild(x).updateChild(O,q):u.getNode().getImmediateChild(x)}else L=BL(i,x,t.serverCache);m=null!=L?n.filter.updateChild(u.getNode(),x,L,O,r,o):u.getNode()}}return nM(t,m,u.isFullyInitialized()||Di(e),n.filter.filtersNodes())}}function aA(n,t,e,i,r,o,u,m){const v=t.serverCache;let x;const O=u?n.filter:n.filter.getIndexedFilter();if(Di(e))x=O.updateFullNode(v.getNode(),i,null);else if(O.filtersNodes()&&!v.isFiltered()){const ne=v.getNode().updateChild(e,i);x=O.updateFullNode(v.getNode(),ne,null)}else{const ne=Si(e);if(!v.isCompleteForPath(e)&&Qg(e)>1)return t;const ae=oo(e),We=v.getNode().getImmediateChild(ne).updateChild(ae,i);x=".priority"===ne?O.updatePriority(v.getNode(),We):O.updateChild(v.getNode(),ne,We,ae,Y6,null)}const L=B6(t,x,v.isFullyInitialized()||Di(e),O.filtersNodes());return K6(n,L,e,r,new jL(r,L,o),m)}function zL(n,t,e,i,r,o,u){const m=t.eventCache;let v,x;const O=new jL(r,t,o);if(Di(e))x=n.filter.updateFullNode(t.eventCache.getNode(),i,u),v=nM(t,x,!0,n.filter.filtersNodes());else{const L=Si(e);if(".priority"===L)x=n.filter.updatePriority(t.eventCache.getNode(),i),v=nM(t,x,m.isFullyInitialized(),m.isFiltered());else{const q=oo(e),ne=m.getNode().getImmediateChild(L);let ae;if(Di(q))ae=i;else{const ye=O.getCompleteChild(L);ae=null!=ye?".priority"===yL(q)&&ye.getChild(M6(q)).isEmpty()?ye:ye.updateChild(q,i):hi.EMPTY_NODE}v=ne.equals(ae)?t:nM(t,n.filter.updateChild(m.getNode(),L,ae,q,O,u),m.isFullyInitialized(),n.filter.filtersNodes())}}return v}function Q6(n,t){return n.eventCache.isCompleteForChild(t)}function J6(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function HL(n,t,e,i,r,o,u,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let x,v=t;x=Di(e)?i:new mo(null).setTree(e,i);const O=t.serverCache.getNode();return x.children.inorderTraversal((L,q)=>{if(O.hasChild(L)){const ae=J6(0,t.serverCache.getNode().getImmediateChild(L),q);v=aA(n,v,new Or(L),ae,r,o,u,m)}}),x.children.inorderTraversal((L,q)=>{const ne=!t.serverCache.isCompleteForChild(L)&&null===q.value;if(!O.hasChild(L)&&!ne){const ye=J6(0,t.serverCache.getNode().getImmediateChild(L),q);v=aA(n,v,new Or(L),ye,r,o,u,m)}}),v}class Ine{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new TL(i.getIndex()),o=function Vte(n){return n.loadsAllData()?new TL(n.getIndex()):n.hasLimit()?new Ute(n):new XI(n)}(i);this.processor_=function _ne(n){return{filter:n}}(o);const u=e.serverCache,m=e.eventCache,v=r.updateFullNode(hi.EMPTY_NODE,u.getNode(),null),x=o.updateFullNode(hi.EMPTY_NODE,m.getNode(),null),O=new Jg(v,u.isFullyInitialized(),r.filtersNodes()),L=new Jg(x,m.isFullyInitialized(),o.filtersNodes());this.viewCache_=nA(L,O),this.eventGenerator_=new Kte(this.query_)}get query(){return this.query_}}function Sne(n,t){const e=Ty(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Di(t)&&!e.getImmediateChild(Si(t)).isEmpty())?e.getChild(t):null}function X6(n){return 0===n.eventRegistrations_.length}function e5(n,t,e){const i=[];if(e){(0,ie.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const u=o.createCancelEvent(e,r);u&&i.push(u)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const u=n.eventRegistrations_[o];if(u.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(u)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function t5(n,t,e,i){t.type===Kf.MERGE&&null!==t.source.queryId&&((0,ie.hu)(Ty(n.viewCache_),"We should always have a full cache before handling merges"),(0,ie.hu)(iA(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function yne(n,t,e,i,r){const o=new mne;let u,m;if(e.type===Kf.OVERWRITE){const x=e;x.source.fromUser?u=zL(n,t,x.path,x.snap,i,r,o):((0,ie.hu)(x.source.fromServer,"Unknown source."),m=x.source.tagged||t.serverCache.isFiltered()&&!Di(x.path),u=aA(n,t,x.path,x.snap,i,r,m,o))}else if(e.type===Kf.MERGE){const x=e;x.source.fromUser?u=function wne(n,t,e,i,r,o,u){let m=t;return i.foreach((v,x)=>{const O=Wo(e,v);Q6(t,Si(O))&&(m=zL(n,m,O,x,r,o,u))}),i.foreach((v,x)=>{const O=Wo(e,v);Q6(t,Si(O))||(m=zL(n,m,O,x,r,o,u))}),m}(n,t,x.path,x.children,i,r,o):((0,ie.hu)(x.source.fromServer,"Unknown source."),m=x.source.tagged||t.serverCache.isFiltered(),u=HL(n,t,x.path,x.children,i,r,m,o))}else if(e.type===Kf.ACK_USER_WRITE){const x=e;u=x.revert?function Ene(n,t,e,i,r,o){let u;if(null!=sA(i,e))return t;{const m=new jL(i,t,r),v=t.eventCache.getNode();let x;if(Di(e)||".priority"===Si(e)){let O;if(t.serverCache.isFullyInitialized())O=oA(i,Ty(t));else{const L=t.serverCache.getNode();(0,ie.hu)(L instanceof hi,"serverChildren would be complete if leaf node"),O=VL(i,L)}x=n.filter.updateFullNode(v,O,o)}else{const O=Si(e);let L=BL(i,O,t.serverCache);null==L&&t.serverCache.isCompleteForChild(O)&&(L=v.getImmediateChild(O)),x=null!=L?n.filter.updateChild(v,O,L,oo(e),m,o):t.eventCache.getNode().hasChild(O)?n.filter.updateChild(v,O,hi.EMPTY_NODE,oo(e),m,o):v,x.isEmpty()&&t.serverCache.isFullyInitialized()&&(u=oA(i,Ty(t)),u.isLeafNode()&&(x=n.filter.updateFullNode(x,u,o)))}return u=t.serverCache.isFullyInitialized()||null!=sA(i,lr()),nM(t,x,u,n.filter.filtersNodes())}}(n,t,x.path,i,r,o):function Cne(n,t,e,i,r,o,u){if(null!=sA(r,e))return t;const m=t.serverCache.isFiltered(),v=t.serverCache;if(null!=i.value){if(Di(e)&&v.isFullyInitialized()||v.isCompleteForPath(e))return aA(n,t,e,v.getNode().getChild(e),r,o,m,u);if(Di(e)){let x=new mo(null);return v.getNode().forEachChild(Yf,(O,L)=>{x=x.set(new Or(O),L)}),HL(n,t,e,x,r,o,m,u)}return t}{let x=new mo(null);return i.foreach((O,L)=>{const q=Wo(e,O);v.isCompleteForPath(q)&&(x=x.set(O,v.getNode().getChild(q)))}),HL(n,t,e,x,r,o,m,u)}}(n,t,x.path,x.affectedTree,i,r,o)}else{if(e.type!==Kf.LISTEN_COMPLETE)throw(0,ie.g5)("Unknown operation type: "+e.type);u=function xne(n,t,e,i,r){const o=t.serverCache;return K6(n,B6(t,o.getNode(),o.isFullyInitialized()||Di(e),o.isFiltered()),e,i,Y6,r)}(n,t,e.path,i,o)}const v=o.getChanges();return function bne(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=iA(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(F6(iA(t)))}}(t,u,v),{viewCache:u,changes:v}}(n.processor_,r,t,e,i);return function vne(n,t){(0,ie.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,ie.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,ie.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,n5(n,o.changes,o.viewCache.eventCache.getNode(),null)}function n5(n,t,e,i){return function Qte(n,t,e,i){const r=[],o=[];return t.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&o.push(function Lte(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(u.childName,u.snapshotNode))}),tM(n,r,"child_removed",t,i,e),tM(n,r,"child_added",t,i,e),tM(n,r,"child_moved",o,i,e),tM(n,r,"child_changed",t,i,e),tM(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let cA,uA;class r5{constructor(){this.views=new Map}}function $L(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,ie.hu)(null!=o,"SyncTree gave us an op for an invalid query."),t5(o,t,e,i)}{let o=[];for(const u of n.views.values())o=o.concat(t5(u,t,e,i));return o}}function o5(n,t,e,i,r){const u=n.views.get(t._queryIdentifier);if(!u){let m=oA(e,r?i:null),v=!1;m?v=!0:i instanceof hi?(m=VL(e,i),v=!1):(m=hi.EMPTY_NODE,v=!1);const x=nA(new Jg(m,v,!1),new Jg(i,r,!1));return new Ine(t,x)}return u}function s5(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function e_(n,t){let e=null;for(const i of n.views.values())e=e||Sne(i,t);return e}function a5(n,t){return t._queryParams.loadsAllData()?lA(n):n.views.get(t._queryIdentifier)}function c5(n,t){return null!=a5(n,t)}function t_(n){return null!=lA(n)}function lA(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Une=1;class l5{constructor(t){this.listenProvider_=t,this.syncPointTree_=new mo(null),this.pendingWriteTree_=function fne(){return{visibleWrites:Vh.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function qL(n,t,e,i,r){return function tne(n,t,e,i,r){(0,ie.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=iM(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?vw(n,new My({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function n_(n,t,e=!1){const i=function ine(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function rne(n,t){const e=n.allWrites.findIndex(m=>m.writeId===t);(0,ie.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,u=n.allWrites.length-1;for(;r&&u>=0;){const m=n.allWrites[u];m.visible&&(u>=e&&one(m,i.path)?r=!1:Gd(i.path,m.path)&&(o=!0)),u--}return!!r&&(o?(function sne(n){n.visibleWrites=$6(n.allWrites,ane,lr()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=j6(n.visibleWrites,i.path):Xa(i.children,v=>{n.visibleWrites=j6(n.visibleWrites,Wo(i.path,v))}),!0))}(n.pendingWriteTree_,t)){let o=new mo(null);return null!=i.snap?o=o.set(lr(),!0):Xa(i.children,u=>{o=o.set(new Or(u),!0)}),vw(n,new tA(i.path,o,e))}return[]}function rM(n,t,e){return vw(n,new My({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function dA(n,t,e,i,r=!1){const o=t._path,u=n.syncPointTree_.get(o);let m=[];if(u&&("default"===t._queryIdentifier||c5(u,t))){const v=function Nne(n,t,e,i){const r=t._queryIdentifier,o=[];let u=[];const m=t_(n);if("default"===r)for(const[v,x]of n.views.entries())u=u.concat(e5(x,e,i)),X6(x)&&(n.views.delete(v),x.query._queryParams.loadsAllData()||o.push(x.query));else{const v=n.views.get(r);v&&(u=u.concat(e5(v,e,i)),X6(v)&&(n.views.delete(r),v.query._queryParams.loadsAllData()||o.push(v.query)))}return m&&!t_(n)&&o.push(new(function Pne(){return(0,ie.hu)(cA,"Reference.ts has not been loaded"),cA}())(t._repo,t._path)),{removed:o,events:u}}(u,t,e,i);(function kne(n){return 0===n.views.size})(u)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const x=v.removed;if(m=v.events,!r){const O=-1!==x.findIndex(q=>q._queryParams.loadsAllData()),L=n.syncPointTree_.findOnPath(o,(q,ne)=>t_(ne));if(O&&!L){const q=n.syncPointTree_.subtree(o);if(!q.isEmpty()){const ne=function qne(n){return n.fold((t,e,i)=>{if(e&&t_(e))return[lA(e)];{let r=[];return e&&(r=s5(e)),Xa(i,(o,u)=>{r=r.concat(u)}),r}})}(q);for(let ae=0;ae<ne.length;++ae){const ye=ne[ae],We=ye.query,wt=f5(n,ye);n.listenProvider_.startListening(sM(We),oM(n,We),wt.hashFn,wt.onComplete)}}}!L&&x.length>0&&!i&&(O?n.listenProvider_.stopListening(sM(t),null):x.forEach(q=>{const ne=n.queryToTagMap.get(fA(q));n.listenProvider_.stopListening(sM(q),ne)}))}!function Gne(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=fA(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,x)}return m}function u5(n,t,e,i){const r=WL(n,i);if(null!=r){const o=ZL(r),u=o.path,m=o.queryId,v=Fl(u,t);return YL(n,u,new My(RL(m),v,e))}return[]}function GL(n,t,e,i=!1){const r=t._path;let o=null,u=!1;n.syncPointTree_.foreachOnPath(r,(q,ne)=>{const ae=Fl(q,r);o=o||e_(ne,ae),u=u||t_(ne)});let v,m=n.syncPointTree_.get(r);m?(u=u||t_(m),o=o||e_(m,lr())):(m=new r5,n.syncPointTree_=n.syncPointTree_.set(r,m)),null!=o?v=!0:(v=!1,o=hi.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((ne,ae)=>{const ye=e_(ae,lr());ye&&(o=o.updateImmediateChild(ne,ye))}));const x=c5(m,t);if(!x&&!t._queryParams.loadsAllData()){const q=fA(t);(0,ie.hu)(!n.queryToTagMap.has(q),"View does not exist, but we have a tag");const ne=function Wne(){return Une++}();n.queryToTagMap.set(q,ne),n.tagToQueryMap.set(ne,q)}let L=function Rne(n,t,e,i,r,o){const u=o5(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,u),function Dne(n,t){n.eventRegistrations_.push(t)}(u,e),function One(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(po,(o,u)=>{i.push(pw(o,u))}),e.isFullyInitialized()&&i.push(F6(e.getNode())),n5(n,i,e.getNode(),t)}(u,e)}(m,t,e,rA(n.pendingWriteTree_,r),o,v);if(!x&&!u&&!i){const q=a5(m,t);L=L.concat(function Zne(n,t,e){const i=t._path,r=oM(n,t),o=f5(n,e),u=n.listenProvider_.startListening(sM(t),r,o.hashFn,o.onComplete),m=n.syncPointTree_.subtree(i);if(r)(0,ie.hu)(!t_(m.value),"If we're adding a query, it shouldn't be shadowed");else{const v=m.fold((x,O,L)=>{if(!Di(x)&&O&&t_(O))return[lA(O).query];{let q=[];return O&&(q=q.concat(s5(O).map(ne=>ne.query))),Xa(L,(ne,ae)=>{q=q.concat(ae)}),q}});for(let x=0;x<v.length;++x){const O=v[x];n.listenProvider_.stopListening(sM(O),oM(n,O))}}return u}(n,t,q))}return L}function hA(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(u,m)=>{const x=e_(m,Fl(u,t));if(x)return x});return q6(r,t,o,e,!0)}function vw(n,t){return d5(t,n.syncPointTree_,null,rA(n.pendingWriteTree_,lr()))}function d5(n,t,e,i){if(Di(n.path))return h5(n,t,e,i);{const r=t.get(lr());null==e&&null!=r&&(e=e_(r,lr()));let o=[];const u=Si(n.path),m=n.operationForChild(u),v=t.children.get(u);if(v&&m){const x=e?e.getImmediateChild(u):null,O=W6(i,u);o=o.concat(d5(m,v,x,O))}return r&&(o=o.concat($L(r,n,i,e))),o}}function h5(n,t,e,i){const r=t.get(lr());null==e&&null!=r&&(e=e_(r,lr()));let o=[];return t.children.inorderTraversal((u,m)=>{const v=e?e.getImmediateChild(u):null,x=W6(i,u),O=n.operationForChild(u);O&&(o=o.concat(h5(O,m,v,x)))}),r&&(o=o.concat($L(r,n,i,e))),o}function f5(n,t){const e=t.query,i=oM(n,e);return{hashFn:()=>(function Mne(n){return n.viewCache_.serverCache.getNode()}(t)||hi.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function zne(n,t,e){const i=WL(n,e);if(i){const r=ZL(i),o=r.path,u=r.queryId,m=Fl(o,t);return YL(n,o,new eM(RL(u),m))}return[]}(n,e._path,i):function jne(n,t){return vw(n,new eM({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function Bee(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return dA(n,e,null,o)}}}}function oM(n,t){const e=fA(t);return n.queryToTagMap.get(e)}function fA(n){return n._path.toString()+"$"+n._queryIdentifier}function WL(n,t){return n.tagToQueryMap.get(t)}function ZL(n){const t=n.indexOf("$");return(0,ie.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Or(n.substr(0,t))}}function YL(n,t,e){const i=n.syncPointTree_.get(t);return(0,ie.hu)(i,"Missing sync point for query tag that we're tracking"),$L(i,e,rA(n.pendingWriteTree_,t),null)}function sM(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Lne(){return(0,ie.hu)(uA,"Reference.ts has not been loaded"),uA}())(n._repo,n._path):n}class KL{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new KL(e)}node(){return this.node_}}class QL{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Wo(this.path_,t);return new QL(this.syncTree_,e)}node(){return hA(this.syncTree_,this.path_)}}const Yne=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},p5=function(n,t,e){return n&&"object"==typeof n?((0,ie.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Kne(n[".sv"],t,e):"object"==typeof n[".sv"]?Qne(n[".sv"],t):void(0,ie.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Kne=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,ie.hu)(!1,"Unexpected server value: "+n)},Qne=function(n,t,e){n.hasOwnProperty("increment")||(0,ie.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,ie.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,ie.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const u=r.getValue();return"number"!=typeof u?i:u+i},m5=function(n,t,e,i){return XL(t,new QL(e,n),i)},JL=function(n,t,e){return XL(n,new KL(t),e)};function XL(n,t,e){const i=n.getPriority().val(),r=p5(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const u=n,m=p5(u.getValue(),t,e);return m!==u.getValue()||r!==u.getPriority().val()?new hw(m,as(r)):n}{const u=n;return o=u,r!==u.getPriority().val()&&(o=o.updatePriority(new hw(r))),u.forEachChild(po,(m,v)=>{const x=XL(v,t.getImmediateChild(m),e);x!==v&&(o=o.updateImmediateChild(m,x))}),o}}class e2{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function pA(n,t){let e=t instanceof Or?t:new Or(t),i=n,r=Si(e);for(;null!==r;){const o=(0,ie.DV)(i.node.children,r)||{children:{},childCount:0};i=new e2(r,i,o),e=oo(e),r=Si(e)}return i}function Dy(n){return n.node.value}function t2(n,t){n.node.value=t,n2(n)}function g5(n){return n.node.childCount>0}function mA(n,t){Xa(n.node.children,(e,i)=>{t(new e2(e,n,i))})}function _5(n,t,e,i){e&&!i&&t(n),mA(n,r=>{_5(r,t,!0,i)}),e&&i&&t(n)}function aM(n){return new Or(null===n.parent?n.name:aM(n.parent)+"/"+n.name)}function n2(n){null!==n.parent&&function eie(n,t,e){const i=function Jne(n){return void 0===Dy(n)&&!g5(n)}(e),r=(0,ie.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,n2(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,n2(n))}(n.parent,n.name,n)}const tie=/[\[\].#$\/\u0000-\u001F\u007F]/,nie=/[\[\].#$\u0000-\u001F\u007F]/,r2=10485760,gA=function(n){return"string"==typeof n&&0!==n.length&&!tie.test(n)},v5=function(n){return"string"==typeof n&&0!==n.length&&!nie.test(n)},cM=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!HO(n)||n&&"object"==typeof n&&(0,ie.r3)(n,".sv")},Qf=function(n,t,e,i){i&&void 0===t||lM((0,ie.gK)(n,"value"),t,e)},lM=function(n,t,e){const i=e instanceof Or?new yte(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Ey(i));if("function"==typeof t)throw new Error(n+"contains a function "+Ey(i)+" with contents = "+t.toString());if(HO(t))throw new Error(n+"contains "+t.toString()+" "+Ey(i));if("string"==typeof t&&t.length>r2/3&&(0,ie.ug)(t)>r2)throw new Error(n+"contains a string greater than "+r2+" utf8 bytes "+Ey(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(Xa(t,(u,m)=>{if(".value"===u)r=!0;else if(".priority"!==u&&".sv"!==u&&(o=!0,!gA(u)))throw new Error(n+" contains an invalid key ("+u+") "+Ey(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function bte(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,ie.ug)(t),T6(n)})(i,u),lM(n,m,i),function wte(n){const t=n.parts_.pop();n.byteLength_-=(0,ie.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Ey(i)+" in addition to actual children.")}},y5=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,ie.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];Xa(t,(u,m)=>{const v=new Or(u);if(lM(r,m,Wo(e,v)),".priority"===yL(v)&&!cM(m))throw new Error(r+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(v)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=WI(i);for(let u=0;u<o.length;u++)if((".priority"!==o[u]||u!==o.length-1)&&!gA(o[u]))throw new Error(n+"contains an invalid key ("+o[u]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(vte);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Gd(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},o2=function(n,t,e){if(!e||void 0!==t){if(HO(t))throw new Error((0,ie.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!cM(t))throw new Error((0,ie.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},uM=function(n,t,e,i){if(!(i&&void 0===e||gA(e)))throw new Error((0,ie.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},dM=function(n,t,e,i){if(!(i&&void 0===e||v5(e)))throw new Error((0,ie.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},oie=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),dM(n,t,e,i)},Wd=function(n,t){if(".info"===Si(t))throw new Error(n+" failed = Can't modify data under /.info/")},b5=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!gA(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),v5(n)}(e))throw new Error((0,ie.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class sie{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _A(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!bL(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function w5(n,t,e){_A(n,e),C5(n,i=>bL(i,t))}function Yu(n,t,e){_A(n,e),C5(n,i=>Gd(i,t)||Gd(t,i))}function C5(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(aie(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function aie(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Cy&&Ja("event: "+e.toString()),uw(i)}}}const x5="repo_interrupt",cie=25;class lie{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sie,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=eA(),this.transactionQueueTree_=new e2,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function E5(n){const e=n.infoData_.getNode(new Or(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function hM(n){return Yne({timestamp:E5(n)})}function I5(n,t,e,i,r){n.dataUpdateCount++;const o=new Or(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let u=[];if(r)if(i){const v=(0,ie.UI)(e,x=>as(x));u=function Hne(n,t,e,i){const r=WL(n,i);if(r){const o=ZL(r),u=o.path,m=o.queryId,v=Fl(u,t),x=mo.fromObject(e);return YL(n,u,new gw(RL(m),v,x))}return[]}(n.serverSyncTree_,o,v,r)}else{const v=as(e);u=u5(n.serverSyncTree_,o,v,r)}else if(i){const v=(0,ie.UI)(e,x=>as(x));u=function Bne(n,t,e){const i=mo.fromObject(e);return vw(n,new gw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,v)}else{const v=as(e);u=rM(n.serverSyncTree_,o,v)}let m=o;u.length>0&&(m=bw(n,o)),Yu(n.eventQueue_,m,u)}function M5(n,t){s2(n,"connected",t),!1===t&&function pie(n){yw(n,"onDisconnectEvents");const t=hM(n),e=eA();AL(n.onDisconnect_,lr(),(r,o)=>{const u=m5(r,o,n.serverSyncTree_,t);mw(e,r,u)});let i=[];AL(e,lr(),(r,o)=>{i=i.concat(rM(n.serverSyncTree_,r,o));const u=u2(n,r);bw(n,u)}),n.onDisconnect_=eA(),Yu(n.eventQueue_,lr(),i)}(n)}function s2(n,t,e){const i=new Or("/.info/"+t),r=as(e);n.infoData_.updateSnapshot(i,r);const o=rM(n.infoSyncTree_,i,r);Yu(n.eventQueue_,i,o)}function vA(n){return n.nextWriteId_++}function a2(n,t,e,i,r){yw(n,"set",{path:t.toString(),value:e,priority:i});const o=hM(n),u=as(e,i),m=hA(n.serverSyncTree_,t),v=JL(u,m,o),x=vA(n),O=qL(n.serverSyncTree_,t,v,x,!0);_A(n.eventQueue_,O),n.server_.put(t.toString(),u.val(!0),(q,ne)=>{const ae="ok"===q;ae||il("set at "+t+" failed: "+q);const ye=n_(n.serverSyncTree_,x,!ae);Yu(n.eventQueue_,t,ye),i_(0,r,q,ne)});const L=u2(n,t);bw(n,L),Yu(n.eventQueue_,L,[])}function mie(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&OL(n.onDisconnect_,t),i_(0,e,i,r)})}function T5(n,t,e,i){const r=as(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,u)=>{"ok"===o&&mw(n.onDisconnect_,t,r),i_(0,i,o,u)})}function c2(n,t,e){let i;i=".info"===Si(t._path)?dA(n.infoSyncTree_,t,e):dA(n.serverSyncTree_,t,e),w5(n.eventQueue_,t._path,i)}function S5(n){n.persistentConnection_&&n.persistentConnection_.interrupt(x5)}function yw(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Ja(e,...t)}function i_(n,t,e,i){t&&uw(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const u=new Error(o);u.code=r,t(u)}})}function l2(n,t,e){return hA(n.serverSyncTree_,t,e)||hi.EMPTY_NODE}function yA(n,t=n.transactionQueueTree_){if(t||bA(n,t),Dy(t)){const e=O5(n,t);(0,ie.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function wie(n,t,e){const i=e.map(x=>x.currentWriteId),r=l2(n,t,i);let o=r;const u=r.hash();for(let x=0;x<e.length;x++){const O=e[x];(0,ie.hu)(0===O.status,"tryToSendTransactionQueue_: items in queue should all be run."),O.status=1,O.retryCount++;const L=Fl(t,O.path);o=o.updateChild(L,O.currentOutputSnapshotRaw)}const m=o.val(!0),v=t;n.server_.put(v.toString(),m,x=>{yw(n,"transaction put response",{path:v.toString(),status:x});let O=[];if("ok"===x){const L=[];for(let q=0;q<e.length;q++)e[q].status=2,O=O.concat(n_(n.serverSyncTree_,e[q].currentWriteId)),e[q].onComplete&&L.push(()=>e[q].onComplete(null,!0,e[q].currentOutputSnapshotResolved)),e[q].unwatcher();bA(n,pA(n.transactionQueueTree_,t)),yA(n,n.transactionQueueTree_),Yu(n.eventQueue_,t,O);for(let q=0;q<L.length;q++)uw(L[q])}else{if("datastale"===x)for(let L=0;L<e.length;L++)e[L].status=3===e[L].status?4:0;else{il("transaction at "+v.toString()+" failed: "+x);for(let L=0;L<e.length;L++)e[L].status=4,e[L].abortReason=x}bw(n,t)}},u)}(n,aM(t),e)}else g5(t)&&mA(t,e=>{yA(n,e)})}function bw(n,t){const e=D5(n,t),i=aM(e);return function Cie(n,t,e){if(0===t.length)return;const i=[];let r=[];const u=t.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const v=t[m],x=Fl(e,v.path);let L,O=!1;if((0,ie.hu)(null!==x,"rerunTransactionsUnderNode_: relativePath should not be null."),4===v.status)O=!0,L=v.abortReason,r=r.concat(n_(n.serverSyncTree_,v.currentWriteId,!0));else if(0===v.status)if(v.retryCount>=cie)O=!0,L="maxretry",r=r.concat(n_(n.serverSyncTree_,v.currentWriteId,!0));else{const q=l2(n,v.path,u);v.currentInputSnapshot=q;const ne=t[m].update(q.val());if(void 0!==ne){lM("transaction failed: Data returned ",ne,v.path);let ae=as(ne);"object"==typeof ne&&null!=ne&&(0,ie.r3)(ne,".priority")||(ae=ae.updatePriority(q.getPriority()));const We=v.currentWriteId,wt=hM(n),At=JL(ae,q,wt);v.currentOutputSnapshotRaw=ae,v.currentOutputSnapshotResolved=At,v.currentWriteId=vA(n),u.splice(u.indexOf(We),1),r=r.concat(qL(n.serverSyncTree_,v.path,At,v.currentWriteId,v.applyLocally)),r=r.concat(n_(n.serverSyncTree_,We,!0))}else O=!0,L="nodata",r=r.concat(n_(n.serverSyncTree_,v.currentWriteId,!0))}Yu(n.eventQueue_,e,r),r=[],O&&(t[m].status=2,setTimeout(t[m].unwatcher,Math.floor(0)),t[m].onComplete&&i.push("nodata"===L?()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot):()=>t[m].onComplete(new Error(L),!1,null)))}bA(n,n.transactionQueueTree_);for(let m=0;m<i.length;m++)uw(i[m]);yA(n,n.transactionQueueTree_)}(n,O5(n,e),i),i}function D5(n,t){let e,i=n.transactionQueueTree_;for(e=Si(t);null!==e&&void 0===Dy(i);)i=pA(i,e),e=Si(t=oo(t));return i}function O5(n,t){const e=[];return A5(n,t,e),e.sort((i,r)=>i.order-r.order),e}function A5(n,t,e){const i=Dy(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);mA(t,r=>{A5(n,r,e)})}function bA(n,t){const e=Dy(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,t2(t,e.length>0?e:void 0)}mA(t,i=>{bA(n,i)})}function u2(n,t){const e=aM(D5(n,t)),i=pA(n.transactionQueueTree_,t);return function Xne(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{d2(n,r)}),d2(n,i),_5(i,r=>{d2(n,r)}),e}function d2(n,t){const e=Dy(t);if(e){const i=[];let r=[],o=-1;for(let u=0;u<e.length;u++)3===e[u].status||(1===e[u].status?((0,ie.hu)(o===u-1,"All SENT items should be at beginning of queue."),o=u,e[u].status=3,e[u].abortReason="set"):((0,ie.hu)(0===e[u].status,"Unexpected transaction status in abort"),e[u].unwatcher(),r=r.concat(n_(n.serverSyncTree_,e[u].currentWriteId,!0)),e[u].onComplete&&i.push(e[u].onComplete.bind(null,new Error("set"),!1,null))));-1===o?t2(t,void 0):e.length=o+1,Yu(n.eventQueue_,aM(t),r);for(let u=0;u<i.length;u++)uw(i[u])}}const h2=function(n,t){const e=Iie(n),i=e.namespace;return"firebase.com"===e.domain&&Zf(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Zf("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&il("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new fL(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Or(e.pathString)}},Iie=function(n){let t="",e="",i="",r="",o="",u=!0,m="https",v=443;if("string"==typeof n){let x=n.indexOf("//");x>=0&&(m=n.substring(0,x-1),n=n.substring(x+2));let O=n.indexOf("/");-1===O&&(O=n.length);let L=n.indexOf("?");-1===L&&(L=n.length),t=n.substring(0,Math.min(O,L)),O<L&&(r=function xie(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(O,L)));const q=function Eie(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):il(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,L)));x=t.indexOf(":"),x>=0?(u="https"===m||"wss"===m,v=parseInt(t.substring(x+1),10)):x=t.length;const ne=t.slice(0,x);if("localhost"===ne.toLowerCase())e="localhost";else if(ne.split(".").length<=2)e=ne;else{const ae=t.indexOf(".");i=t.substring(0,ae).toLowerCase(),e=t.substring(ae+1),o=i}"ns"in q&&(o=q.ns)}return{host:t,port:v,domain:e,subdomain:i,secure:u,scheme:m,pathString:r,namespace:o}},P5="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Mie=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=P5.charAt(e%64),e=Math.floor(e/64);(0,ie.hu)(0===e,"Cannot push at time == 0");let u=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)u+=P5.charAt(t[r]);return(0,ie.hu)(20===u.length,"nextPushId: Length should be 20."),u}}();class k5{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ie.Wl)(this.snapshot.exportVal())}}class R5{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class f2{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,ie.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class N5{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new ie.BH;return mie(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Wd("OnDisconnect.remove",this._path);const t=new ie.BH;return T5(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Wd("OnDisconnect.set",this._path),Qf("OnDisconnect.set",t,this._path,!1);const e=new ie.BH;return T5(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Wd("OnDisconnect.setWithPriority",this._path),Qf("OnDisconnect.setWithPriority",t,this._path,!1),o2("OnDisconnect.setWithPriority",e,!1);const i=new ie.BH;return function gie(n,t,e,i,r){const o=as(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(u,m)=>{"ok"===u&&mw(n.onDisconnect_,t,o),i_(0,r,u,m)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Wd("OnDisconnect.update",this._path),y5("OnDisconnect.update",t,this._path,!1);const e=new ie.BH;return function _ie(n,t,e,i){if((0,ie.xb)(e))return Ja("onDisconnect().update() called with empty data.  Don't do anything."),void i_(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&Xa(e,(u,m)=>{const v=as(m);mw(n.onDisconnect_,Wo(t,u),v)}),i_(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class mu{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Di(this._path)?null:yL(this._path)}get ref(){return new Zd(this._repo,this._path)}get _queryIdentifier(){const t=U6(this._queryParams),e=dL(t);return"{}"===e?"default":e}get _queryObject(){return U6(this._queryParams)}isEqual(t){if(!((t=(0,ie.m9)(t))instanceof mu))return!1;const e=this._repo===t._repo,i=bL(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function _te(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function wA(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function r_(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Yf){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Yg)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==mm)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===po){if(null!=t&&!cM(t)||null!=e&&!cM(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ie.hu)(n.getIndex()instanceof IL||n.getIndex()===ML,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function CA(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Zd extends mu{constructor(t,e){super(t,e,new QO,!1)}get parent(){const t=M6(this._path);return null===t?null:new Zd(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Oy{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Or(t),i=Ay(this.ref,t);return new Oy(this._node.getChild(e),i,po)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Oy(r,Ay(this.ref,i),po)))}hasChild(t){const e=new Or(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function F5(n,t){return(n=(0,ie.m9)(n))._checkNotDeleted("ref"),void 0!==t?Ay(n._root,t):n._root}function L5(n,t){(n=(0,ie.m9)(n))._checkNotDeleted("refFromURL");const e=h2(t,n._repo.repoInfo_.nodeAdmin);b5("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Zf("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),F5(n,e.path.toString())}function Ay(n,t){return null===Si((n=(0,ie.m9)(n))._path)?oie("child","path",t,!1):dM("child","path",t,!1),new Zd(n._repo,Wo(n._path,t))}function p2(n,t){n=(0,ie.m9)(n),Wd("set",n._path),Qf("set",t,n._path,!1);const e=new ie.BH;return a2(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Aie(n,t){y5("update",t,n._path,!1);const e=new ie.BH;return function fie(n,t,e,i){yw(n,"update",{path:t.toString(),value:e});let r=!0;const o=hM(n),u={};if(Xa(e,(m,v)=>{r=!1,u[m]=m5(Wo(t,m),as(v),n.serverSyncTree_,o)}),r)Ja("update() called with empty data.  Don't do anything."),i_(0,i,"ok",void 0);else{const m=vA(n),v=function Vne(n,t,e,i){!function nne(n,t,e,i){(0,ie.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=FL(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=mo.fromObject(e);return vw(n,new gw({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,u,m);_A(n.eventQueue_,v),n.server_.merge(t.toString(),e,(x,O)=>{const L="ok"===x;L||il("update at "+t+" failed: "+x);const q=n_(n.serverSyncTree_,m,!L),ne=q.length>0?bw(n,t):t;Yu(n.eventQueue_,ne,q),i_(0,i,x,O)}),Xa(e,x=>{const O=u2(n,Wo(t,x));bw(n,O)}),Yu(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Pie(n){n=(0,ie.m9)(n);const t=new f2(()=>{}),e=new fM(t);return function hie(n,t,e){const i=function $ne(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(x,O)=>{const L=Fl(x,e);i=i||e_(O,L)});let r=n.syncPointTree_.get(e);r?i=i||e_(r,lr()):(r=new r5,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,u=o?new Jg(i,!0,!1):null;return function Tne(n){return iA(n.viewCache_)}(o5(r,t,rA(n.pendingWriteTree_,t._path),o?u.getNode():hi.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const o=as(r).withIndex(t._queryParams.getIndex());let u;if(GL(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())u=rM(n.serverSyncTree_,t._path,o);else{const m=oM(n.serverSyncTree_,t);u=u5(n.serverSyncTree_,t._path,o,m)}return Yu(n.eventQueue_,t._path,u),dA(n.serverSyncTree_,t,e,null,!0),o},r=>(yw(n,"get for query "+(0,ie.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new Oy(i,new Zd(n._repo,n._path),n._queryParams.getIndex()))}class fM{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new k5("value",this,new Oy(t.snapshotNode,new Zd(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new R5(this,t,e):null}matches(t){return t instanceof fM&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class xA{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new R5(this,t,e):null}createEvent(t,e){(0,ie.hu)(null!=t.childName,"Child events should have a childName.");const i=Ay(new Zd(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new k5(t.type,this,new Oy(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof xA&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function pM(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const v=e,x=(O,L)=>{c2(n._repo,n,m),v(O,L)};x.userCallback=e.userCallback,x.context=e.context,e=x}const u=new f2(e,o||void 0),m="value"===t?new fM(u):new xA(t,u);return function vie(n,t,e){let i;i=".info"===Si(t._path)?GL(n.infoSyncTree_,t,e):GL(n.serverSyncTree_,t,e),w5(n.eventQueue_,t._path,i)}(n._repo,n,m),()=>c2(n._repo,n,m)}function m2(n,t,e,i){return pM(n,"value",t,e,i)}function U5(n,t,e,i){return pM(n,"child_added",t,e,i)}function V5(n,t,e,i){return pM(n,"child_changed",t,e,i)}function B5(n,t,e,i){return pM(n,"child_moved",t,e,i)}function j5(n,t,e,i){return pM(n,"child_removed",t,e,i)}function z5(n,t,e){let i=null;const r=e?new f2(e):null;"value"===t?i=new fM(r):t&&(i=new xA(t,r)),c2(n._repo,n,i)}class Bh{}class H5 extends Bh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qf("endAt",this._value,t._path,!0);const e=DL(t._queryParams,this._value,this._key);if(CA(e),r_(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mu(t._repo,t._path,e,t._orderByCalled)}}class Rie extends Bh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qf("endBefore",this._value,t._path,!1);const e=function Hte(n,t,e){let i;return i=DL(n,t,n.index_===Yf||e?e:Yg),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(CA(e),r_(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mu(t._repo,t._path,e,t._orderByCalled)}}class $5 extends Bh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qf("startAt",this._value,t._path,!0);const e=SL(t._queryParams,this._value,this._key);if(CA(e),r_(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new mu(t._repo,t._path,e,t._orderByCalled)}}class Lie extends Bh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qf("startAfter",this._value,t._path,!1);const e=function zte(n,t,e){let i;return i=SL(n,t,n.index_===Yf||e?e:mm),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(CA(e),r_(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new mu(t._repo,t._path,e,t._orderByCalled)}}class Vie extends Bh{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new mu(t._repo,t._path,function Bte(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class jie extends Bh{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new mu(t._repo,t._path,function jte(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Hie extends Bh{constructor(t){super(),this._path=t}_apply(t){wA(t,"orderByChild");const e=new Or(this._path);if(Di(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new IL(e),r=JO(t._queryParams,i);return r_(r),new mu(t._repo,t._path,r,!0)}}class qie extends Bh{_apply(t){wA(t,"orderByKey");const e=JO(t._queryParams,Yf);return r_(e),new mu(t._repo,t._path,e,!0)}}class Wie extends Bh{_apply(t){wA(t,"orderByPriority");const e=JO(t._queryParams,po);return r_(e),new mu(t._repo,t._path,e,!0)}}class Yie extends Bh{_apply(t){wA(t,"orderByValue");const e=JO(t._queryParams,ML);return r_(e),new mu(t._repo,t._path,e,!0)}}class Qie extends Bh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Qf("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new H5(this._value,this._key)._apply(new $5(this._value,this._key)._apply(t))}}function jh(n,...t){let e=(0,ie.m9)(n);for(const i of t)e=i._apply(e);return e}(function Ane(n){(0,ie.hu)(!cA,"__referenceConstructor has already been defined"),cA=n})(Zd),function Fne(n){(0,ie.hu)(!uA,"__referenceConstructor has already been defined"),uA=n}(Zd);const g2={};function G5(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Zf("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ja("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let v,x,u=h2(o,r),m=u.repoInfo;typeof process<"u"&&process.env&&(x=process.env.FIREBASE_DATABASE_EMULATOR_HOST),x?(v=!0,o=`http://${x}?ns=${m.namespace}`,u=h2(o,r),m=u.repoInfo):v=!u.repoInfo.secure;const O=r&&v?new GI(GI.OWNER):new Gee(n.name,n.options,t);b5("Invalid Firebase Database URL",u),Di(u.path)||Zf("Database URL must point to the root of a Firebase Database (not including a child path).");const L=function nre(n,t,e,i){let r=g2[t.name];r||(r={},g2[t.name]=r);let o=r[n.toURLString()];return o&&Zf("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new lie(n,false,e,i),r[n.toURLString()]=o,o}(m,n,O,new qee(n.name,e));return new rre(L,n)}class rre{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function uie(n,t,e){if(n.stats_=gL(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new XO(n.repoInfo_,(i,r,o,u)=>{I5(n,i,r,o,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>M5(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ie.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Iy(n.repoInfo_,t,(i,r,o,u)=>{I5(n,i,r,o,u)},i=>{M5(n,i)},i=>{!function die(n,t){Xa(t,(e,i)=>{s2(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Yee(n,t){const e=n.toString();return mL[e]||(mL[e]=t()),mL[e]}(n.repoInfo_,()=>new Yte(n.stats_,n.server_)),n.infoData_=new $te,n.infoSyncTree_=new l5({startListening:(i,r,o,u)=>{let m=[];const v=n.infoData_.getNode(i._path);return v.isEmpty()||(m=rM(n.infoSyncTree_,i._path,v),setTimeout(()=>{u("ok")},0)),m},stopListening:()=>{}}),s2(n,"connected",!1),n.serverSyncTree_=new l5({startListening:(i,r,o,u)=>(n.server_.listen(i,o,r,(m,v)=>{const x=u(m,v);Yu(n.eventQueue_,i._path,x)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zd(this._repo,lr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function tre(n,t){const e=g2[t];(!e||e[n.key]!==n)&&Zf(`Database ${t}(${n.repoInfo_}) has already been deleted.`),S5(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Zf("Cannot call "+t+" on a deleted database.")}}function W5(){p6.IS_TRANSPORT_INITIALIZED&&il("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function ore(){W5(),Kg.forceDisallow()}function sre(){W5(),dw.forceDisallow(),Kg.forceAllow()}function lre(n,t){Z4(n,t)}const dre={".sv":"timestamp"};class pre{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Iy.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Iy.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function ure(n){H4(Ds.SDK_VERSION),(0,Ds._registerComponent)(new ou.wA("database",(t,{instanceIdentifier:e})=>G5(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Ds.registerVersion)(j4,"0.14.4",n),(0,Ds.registerVersion)(j4,"0.14.4","esm2017")}();const vre=new Ru.Yd("@firebase/database-compat"),Y5=function(n){vre.warn("FIREBASE WARNING: "+n)};class wre{constructor(t){this._delegate=t}cancel(t){(0,ie.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ie.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,ie.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ie.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,ie.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ie.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,ie.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ie.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,ie.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,Y5("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ie.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class Cre{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,ie.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class o_{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,ie.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ie.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ie.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ie.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,ie.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),dM("DataSnapshot.child","path",t,!1),new o_(this._database,this._delegate.child(t))}hasChild(t){return(0,ie.Dv)("DataSnapshot.hasChild",1,1,arguments.length),dM("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,ie.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,ie.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ie.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new o_(this._database,e)))}hasChildren(){return(0,ie.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ie.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ie.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ku(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Cc{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,ie.Dv)("Query.on",2,4,arguments.length),(0,ie.Wj)("Query.on","callback",e,!1);const u=Cc.getCancelAndContextArgs_("Query.on",i,r),m=(x,O)=>{e.call(u.context,new o_(this.database,x),O)};m.userCallback=e,m.context=u.context;const v=null===(o=u.cancel)||void 0===o?void 0:o.bind(u.context);switch(t){case"value":return m2(this._delegate,m,v),e;case"child_added":return U5(this._delegate,m,v),e;case"child_removed":return j5(this._delegate,m,v),e;case"child_changed":return V5(this._delegate,m,v),e;case"child_moved":return B5(this._delegate,m,v),e;default:throw new Error((0,ie.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,ie.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ie.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,ie.Wj)("Query.off","callback",e,!0),(0,ie.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,z5(this._delegate,t,r)}else z5(this._delegate,t)}get(){return Pie(this._delegate).then(t=>new o_(this.database,t))}once(t,e,i,r){(0,ie.Dv)("Query.once",1,4,arguments.length),(0,ie.Wj)("Query.once","callback",e,!0);const o=Cc.getCancelAndContextArgs_("Query.once",i,r),u=new ie.BH,m=(x,O)=>{const L=new o_(this.database,x);e&&e.call(o.context,L,O),u.resolve(L)};m.userCallback=e,m.context=o.context;const v=x=>{o.cancel&&o.cancel.call(o.context,x),u.reject(x)};switch(t){case"value":m2(this._delegate,m,v,{onlyOnce:!0});break;case"child_added":U5(this._delegate,m,v,{onlyOnce:!0});break;case"child_removed":j5(this._delegate,m,v,{onlyOnce:!0});break;case"child_changed":V5(this._delegate,m,v,{onlyOnce:!0});break;case"child_moved":B5(this._delegate,m,v,{onlyOnce:!0});break;default:throw new Error((0,ie.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}limitToFirst(t){return(0,ie.Dv)("Query.limitToFirst",1,1,arguments.length),new Cc(this.database,jh(this._delegate,function Bie(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Vie(n)}(t)))}limitToLast(t){return(0,ie.Dv)("Query.limitToLast",1,1,arguments.length),new Cc(this.database,jh(this._delegate,function zie(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new jie(n)}(t)))}orderByChild(t){return(0,ie.Dv)("Query.orderByChild",1,1,arguments.length),new Cc(this.database,jh(this._delegate,function $ie(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return dM("orderByChild","path",n,!1),new Hie(n)}(t)))}orderByKey(){return(0,ie.Dv)("Query.orderByKey",0,0,arguments.length),new Cc(this.database,jh(this._delegate,function Gie(){return new qie}()))}orderByPriority(){return(0,ie.Dv)("Query.orderByPriority",0,0,arguments.length),new Cc(this.database,jh(this._delegate,function Zie(){return new Wie}()))}orderByValue(){return(0,ie.Dv)("Query.orderByValue",0,0,arguments.length),new Cc(this.database,jh(this._delegate,function Kie(){return new Yie}()))}startAt(t=null,e){return(0,ie.Dv)("Query.startAt",0,2,arguments.length),new Cc(this.database,jh(this._delegate,function Fie(n=null,t){return uM("startAt","key",t,!0),new $5(n,t)}(t,e)))}startAfter(t=null,e){return(0,ie.Dv)("Query.startAfter",0,2,arguments.length),new Cc(this.database,jh(this._delegate,function Uie(n,t){return uM("startAfter","key",t,!0),new Lie(n,t)}(t,e)))}endAt(t=null,e){return(0,ie.Dv)("Query.endAt",0,2,arguments.length),new Cc(this.database,jh(this._delegate,function kie(n,t){return uM("endAt","key",t,!0),new H5(n,t)}(t,e)))}endBefore(t=null,e){return(0,ie.Dv)("Query.endBefore",0,2,arguments.length),new Cc(this.database,jh(this._delegate,function Nie(n,t){return uM("endBefore","key",t,!0),new Rie(n,t)}(t,e)))}equalTo(t,e){return(0,ie.Dv)("Query.equalTo",1,2,arguments.length),new Cc(this.database,jh(this._delegate,function Jie(n,t){return uM("equalTo","key",t,!0),new Qie(n,t)}(t,e)))}toString(){return(0,ie.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ie.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,ie.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Cc))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,ie.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,ie.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,ie.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Ku(this.database,new Zd(this._delegate._repo,this._delegate._path))}}class Ku extends Cc{constructor(t,e){super(t,new mu(e._repo,e._path,new QO,!1)),this.database=t,this._delegate=e}getKey(){return(0,ie.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,ie.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Ku(this.database,Ay(this._delegate,t))}getParent(){(0,ie.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Ku(this.database,t):null}getRoot(){return(0,ie.Dv)("Reference.root",0,0,arguments.length),new Ku(this.database,this._delegate.root)}set(t,e){(0,ie.Dv)("Reference.set",1,2,arguments.length),(0,ie.Wj)("Reference.set","onComplete",e,!0);const i=p2(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,ie.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,Y5("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Wd("Reference.update",this._delegate._path),(0,ie.Wj)("Reference.update","onComplete",e,!0);const i=Aie(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,ie.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ie.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Oie(n,t,e){if(Wd("setWithPriority",n._path),Qf("setWithPriority",t,n._path,!1),o2("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new ie.BH;return a2(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,ie.Dv)("Reference.remove",0,1,arguments.length),(0,ie.Wj)("Reference.remove","onComplete",t,!0);const e=function Sie(n){return Wd("remove",n._path),p2(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,ie.Dv)("Reference.transaction",1,3,arguments.length),(0,ie.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,ie.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,ie.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function mre(n,t,e){var i;if(n=(0,ie.m9)(n),Wd("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new ie.BH,m=m2(n,()=>{});return function bie(n,t,e,i,r,o){yw(n,"transaction on "+t);const u={path:t,update:e,onComplete:i,status:null,order:q4(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=l2(n,t,void 0);u.currentInputSnapshot=m;const v=u.update(m.val());if(void 0===v)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{lM("transaction failed: Data returned ",v,u.path),u.status=0;const x=pA(n.transactionQueueTree_,t),O=Dy(x)||[];let L;O.push(u),t2(x,O),"object"==typeof v&&null!==v&&(0,ie.r3)(v,".priority")?(L=(0,ie.DV)(v,".priority"),(0,ie.hu)(cM(L),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):L=(hA(n.serverSyncTree_,t)||hi.EMPTY_NODE).getPriority().val();const q=hM(n),ne=as(v,L),ae=JL(ne,m,q);u.currentOutputSnapshotRaw=ne,u.currentOutputSnapshotResolved=ae,u.currentWriteId=vA(n);const ye=qL(n.serverSyncTree_,t,ae,u.currentWriteId,u.applyLocally);Yu(n.eventQueue_,t,ye),yA(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(v,x,O)=>{let L=null;v?o.reject(v):(L=new Oy(O,new Zd(n._repo,n._path),po),o.resolve(new pre(x,L)))},m,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new Cre(o.committed,new o_(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,ie.Dv)("Reference.setPriority",1,2,arguments.length),(0,ie.Wj)("Reference.setPriority","onComplete",e,!0);const i=function Die(n,t){n=(0,ie.m9)(n),Wd("setPriority",n._path),o2("setPriority",t,!1);const e=new ie.BH;return a2(n._repo,Wo(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,ie.Dv)("Reference.push",0,2,arguments.length),(0,ie.Wj)("Reference.push","onComplete",e,!0);const i=function Tie(n,t){n=(0,ie.m9)(n),Wd("push",n._path),Qf("push",t,n._path,!0);const e=E5(n._repo),i=Mie(e),r=Ay(n,i),o=Ay(n,i);let u;return u=null!=t?p2(o,t).then(()=>o):Promise.resolve(o),r.then=u.then.bind(u),r.catch=u.then.bind(u,void 0),r}(this._delegate,t),r=i.then(u=>new Ku(this.database,u));e&&r.then(()=>e(null),u=>e(u));const o=new Ku(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Wd("Reference.onDisconnect",this._delegate._path),new wre(new N5(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class mM{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:ore,forceLongPolling:sre}}useEmulator(t,e,i={}){!function Z5(n,t,e,i={}){(n=(0,ie.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Zf("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Zf('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new GI(GI.OWNER);else if(i.mockUserToken){const u="string"==typeof i.mockUserToken?i.mockUserToken:(0,ie.Sg)(i.mockUserToken,n.app.options.projectId);o=new GI(u)}!function ere(n,t,e,i){n.repoInfo_=new fL(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,ie.Dv)("database.ref",0,1,arguments.length),t instanceof Ku){const e=L5(this._delegate,t.toString());return new Ku(this,e)}{const e=F5(this._delegate,t);return new Ku(this,e)}}refFromURL(t){(0,ie.Dv)("database.refFromURL",1,1,arguments.length);const i=L5(this._delegate,t);return new Ku(this,i)}goOffline(){return(0,ie.Dv)("database.goOffline",0,0,arguments.length),function are(n){(n=(0,ie.m9)(n))._checkNotDeleted("goOffline"),S5(n._repo)}(this._delegate)}goOnline(){return(0,ie.Dv)("database.goOnline",0,0,arguments.length),function cre(n){(n=(0,ie.m9)(n))._checkNotDeleted("goOnline"),function yie(n){n.persistentConnection_&&n.persistentConnection_.resume(x5)}(n._repo)}(this._delegate)}}mM.ServerValue={TIMESTAMP:function hre(){return dre}(),increment:n=>function fre(n){return{".sv":{increment:n}}}(n)};var Ere=Object.freeze({__proto__:null,initStandalone:function xre({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){H4(e);const u=new ou.zt("auth-internal",new ou.H0("database-standalone"));return u.setComponent(new ou.wA("auth-internal",()=>i,"PRIVATE")),{instance:new mM(G5(n,u,void 0,t,o),n),namespace:r}}});const Ire=mM.ServerValue;function K5(n){return null==n}function Q5(n){return"function"==typeof n.set}function J5(n,t){return Q5(t)?t:n.ref(t)}function X5(n,t){if(function Tre(n){return"string"==typeof n}(n))return t.stringCase();if(Q5(n))return t.firebaseCase();if(function Sre(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function gM(n,t,e="on",i=ow.z){return new ar.y(r=>{let o=null;return o=n[e](t,(u,m)=>{i.schedule(()=>{r.next({snapshot:u,prevKey:m})}),"once"===e&&i.schedule(()=>r.complete())},u=>{i.schedule(()=>r.error(u))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,gn.U)(r=>{const{snapshot:o,prevKey:u}=r;let m=null;return o.exists()&&(m=o.key),{type:t,payload:o,prevKey:u,key:m}}),(0,IF.B)())}function eH(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function Are(n,t){const{payload:e,prevKey:i,key:r}=t,o=eH(n,r),u=function Ore(n,t){if(K5(t))return 0;{const e=eH(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let m=null;t.payload.forEach(v=>{const x={payload:v,type:"value",prevKey:m,key:v.key};return m=v.key,n=[...n,x],!1})}return n;case"child_added":if(o>-1){const m=n[o-1];(m&&m.key||null)!==i&&(n=n.filter(v=>v.payload.key!==e.key)).splice(u,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(u,0,t)}return n;case"child_removed":return n.filter(m=>m.payload.key!==e.key);case"child_changed":return n.map(m=>m.payload.key===r?t:m);case"child_moved":if(o>-1){const m=n.splice(o,1)[0];return(n=n.slice()).splice(u,0,m),n}return n;default:return n}}function tH(n){return(K5(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function nH(n,t,e){return function Dre(n,t,e){return gM(n,"value","once",e).pipe((0,ss.w)(i=>{const r=[(0,_n.of)(i)];return t.forEach(o=>r.push(gM(n,o,"on",e))),(0,Zg.T)(...r).pipe(q0(Are,[]))}),(0,gF.x)())}(n,t=tH(t),e)}function iH(n,t,e){const i=(t=tH(t)).map(r=>gM(n,r,"on",e));return(0,Zg.T)(...i)}function rH(n,t){return function(i,r){return X5(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function Nre(n){return function(e){return e?X5(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function oH(n,t){return function(){return gM(n,"value","on",t)}}!function Mre(n){n.INTERNAL.registerComponent(new ou.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new mM(r,i)},"PUBLIC").setServiceProps({Reference:Ku,Query:Cc,Database:mM,DataSnapshot:o_,enableLogging:lre,INTERNAL:Ere,ServerValue:Ire}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(C4.Z);const Ure=new a.OlP("angularfire2.realtimeDatabaseURL"),Vre=new a.OlP("angularfire2.database.use-emulator");let Bre=(()=>{class n{constructor(e,i,r,o,u,m,v,x,O,L,q,ne,ae,ye,We){this.schedulers=m;const wt=v,At=(0,kl.on)(e,u,i);x&&rL(At,u,O,q,ne,ae,L,ye),this.database=(0,kl.cc)(`${At.name}.database.${r}`,"AngularFireDatabase",At.name,()=>{const Ot=u.runOutsideAngular(()=>At.database(r||void 0));return wt&&Ot.useEmulator(...wt),Ot},[wt])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>J5(this.database,e));let o=r;return i&&(o=i(r)),function Fre(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:rH(i,"update"),set:rH(i,"set"),push:r=>i.push(r),remove:Nre(i),snapshotChanges:r=>nH(n,r,e).pipe(bn.iC),stateChanges:r=>iH(n,r,e).pipe(bn.iC),auditTrail:r=>function Pre(n,t,e){return function Rre(n,t,e){return function kre(n,t){return gM(n,"value","on",t).pipe((0,gn.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function Aee(...n){const t=(0,H0.jO)(n);return(0,Nr.e)((e,i)=>{const r=n.length,o=new Array(r);let u=n.map(()=>!1),m=!1;for(let v=0;v<r;v++)(0,Do.Xf)(n[v]).subscribe((0,ci.x)(i,x=>{o[v]=x,!m&&!u[v]&&(u[v]=!0,(m=u.every(QE.y))&&(u=null))},MN.Z));e.subscribe((0,ci.x)(i,v=>{if(m){const x=[v,...o];i.next(t?t(...x):x)}}))})}(t),(0,gn.U)(([r,o])=>{const u=r.lastKeyToLoad,m=o.map(v=>v.key);return{actions:o,lastKeyToLoad:u,loadedKeys:m}}),function Pee(n){return(0,Nr.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,ci.x)(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,gn.U)(r=>r.actions))}(n,iH(n,t).pipe(q0((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(bn.iC),valueChanges:(r,o)=>nH(n,r,e).pipe((0,gn.U)(m=>m.map(v=>o&&o.idField?Object.assign(Object.assign({},v.payload.val()),{[o.idField]:v.key}):v.payload.val())),bn.iC)}}(o,this)}object(e){return function Lre(n,t){return{query:n,snapshotChanges:()=>oH(n,t.schedulers.outsideAngular)().pipe(bn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>oH(n,t.schedulers.outsideAngular)().pipe(bn.iC,(0,gn.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>J5(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(kl.Dh),a.LFG(kl.xv,8),a.LFG(Ure,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(bn.HU),a.LFG(Vre,8),a.LFG(oL,8),a.LFG(JF,8),a.LFG(XF,8),a.LFG(eL,8),a.LFG(tL,8),a.LFG(nL,8),a.LFG(iL,8),a.LFG(wp,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),sH=(()=>{class n{constructor(){A4.Z.registerVersion("angularfire",bn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Bre]}),n})();const aH={apiKey:"AIzaSyBUhtsLE6mKhnLFA4hrTdgtPRvT9DFPews",authDomain:"pelda-4422f.firebaseapp.com",projectId:"pelda-4422f",storageBucket:"pelda-4422f.appspot.com",messagingSenderId:"999999888137",appId:"1:999999888137:web:c55fe757b0ce70c8fcd1d8",useEmulator:!0,experimentalForceLongPolling:!0};let jre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n,bootstrap:[uee]});static#n=this.\u0275inj=a.cJS({providers:[Ya,B4],imports:[WA(()=>HM(aH)),sq(()=>lq()),qG(()=>WG()),lh.forRoot(),zc,bh,GX,dee,zZ,NI,hV,ki,Oee,sH,Dee,kl.hO.initializeApp(aH),sH,hP(()=>gP())]})}return n})();Br().bootstrapModule(jre).catch(n=>console.error(n))},3219:(en,De,Q)=>{Object.defineProperty(De,"__esModule",{value:!0});var ce,xe,a=Q(8005),U=Q(3661),Y=Q(6553),pe=Q(8836),ke=((ce={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ce["bad-app-name"]="Illegal App name: '{$appName}",ce["duplicate-app"]="Firebase App named '{$appName}' already exists",ce["app-deleted"]="Firebase App named '{$appName}' already deleted",ce["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ce["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ce),Ae=new U.ErrorFactory("app","Firebase",ke),ut="@firebase/app",nt="[DEFAULT]",$e=((xe={})[ut]="fire-core",xe["@firebase/analytics"]="fire-analytics",xe["@firebase/auth"]="fire-auth",xe["@firebase/database"]="fire-rtdb",xe["@firebase/functions"]="fire-fn",xe["@firebase/installations"]="fire-iid",xe["@firebase/messaging"]="fire-fcm",xe["@firebase/performance"]="fire-perf",xe["@firebase/remote-config"]="fire-rc",xe["@firebase/storage"]="fire-gcs",xe["@firebase/firestore"]="fire-fst",xe["fire-js"]="fire-js",xe["firebase-wrapper"]="fire-js-all",xe),it=new pe.Logger("@firebase/app"),he=function(){function Te(Ce,He,je){var ct,gt,Dt=this;this.firebase_=je,this.isDeleted_=!1,this.name_=He.name,this.automaticDataCollectionEnabled_=He.automaticDataCollectionEnabled||!1,this.options_=U.deepCopy(Ce),this.container=new Y.ComponentContainer(He.name),this._addComponent(new Y.Component("app",function(){return Dt},"PUBLIC"));try{for(var bt=a.__values(this.firebase_.INTERNAL.components.values()),Tn=bt.next();!Tn.done;Tn=bt.next())this._addComponent(Tn.value)}catch(Fn){ct={error:Fn}}finally{try{Tn&&!Tn.done&&(gt=bt.return)&&gt.call(bt)}finally{if(ct)throw ct.error}}}return Object.defineProperty(Te.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Ce){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Ce},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Te.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Te.prototype.delete=function(){var Ce=this;return new Promise(function(He){Ce.checkDestroyed_(),He()}).then(function(){return Ce.firebase_.INTERNAL.removeApp(Ce.name_),Promise.all(Ce.container.getProviders().map(function(He){return He.delete()}))}).then(function(){Ce.isDeleted_=!0})},Te.prototype._getService=function(Ce,He){return void 0===He&&(He=nt),this.checkDestroyed_(),this.container.getProvider(Ce).getImmediate({identifier:He})},Te.prototype._removeServiceInstance=function(Ce,He){void 0===He&&(He=nt),this.container.getProvider(Ce).clearInstance(He)},Te.prototype._addComponent=function(Ce){try{this.container.addComponent(Ce)}catch(He){it.debug("Component "+Ce.name+" failed to register with FirebaseApp "+this.name,He)}},Te.prototype._addOrOverwriteComponent=function(Ce){this.container.addOrOverwriteComponent(Ce)},Te.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ae.create("app-deleted",{appName:this.name_})},Te}();he.prototype.name&&he.prototype.options||he.prototype.delete||console.log("dc");var Ct=function Le(){var Te=function Ge(Te){var Ce={},He=new Map,je={__esModule:!0,initializeApp:function Dt(tn,Sn){void 0===Sn&&(Sn={}),("object"!=typeof Sn||null===Sn)&&(Sn={name:Sn});var cn=Sn;void 0===cn.name&&(cn.name=nt);var Ln=cn.name;if("string"!=typeof Ln||!Ln)throw Ae.create("bad-app-name",{appName:String(Ln)});if(U.contains(Ce,Ln))throw Ae.create("duplicate-app",{appName:Ln});var Vn=new Te(tn,cn,je);return Ce[Ln]=Vn,Vn},app:gt,registerVersion:function dn(tn,Sn,Ut){var cn,Ln=null!==(cn=$e[tn])&&void 0!==cn?cn:tn;Ut&&(Ln+="-"+Ut);var Vn=Ln.match(/\s|\//),wi=Sn.match(/\s|\//);if(Vn||wi){var Oi=['Unable to register library "'+Ln+'" with version "'+Sn+'":'];return Vn&&Oi.push('library name "'+Ln+'" contains illegal characters (whitespace or "/")'),Vn&&wi&&Oi.push("and"),wi&&Oi.push('version name "'+Sn+'" contains illegal characters (whitespace or "/")'),void it.warn(Oi.join(" "))}Tn(new Y.Component(Ln+"-version",function(){return{library:Ln,version:Sn}},"VERSION"))},setLogLevel:pe.setLogLevel,onLog:function Fn(tn,Sn){if(null!==tn&&"function"!=typeof tn)throw Ae.create("invalid-log-argument",{appName:name});pe.setUserLogHandler(tn,Sn)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:Tn,removeApp:function ct(tn){delete Ce[tn]},components:He,useAsService:function fn(tn,Sn){return"serverAuth"===Sn?null:Sn}}};function gt(tn){if(!U.contains(Ce,tn=tn||nt))throw Ae.create("no-app",{appName:tn});return Ce[tn]}function Tn(tn){var Sn,Ut,cn=tn.name;if(He.has(cn))return it.debug("There were multiple attempts to register component "+cn+"."),"PUBLIC"===tn.type?je[cn]:null;if(He.set(cn,tn),"PUBLIC"===tn.type){var Ln=function(ni){if(void 0===ni&&(ni=gt()),"function"!=typeof ni[cn])throw Ae.create("invalid-app-argument",{appName:cn});return ni[cn]()};void 0!==tn.serviceProps&&U.deepExtend(Ln,tn.serviceProps),je[cn]=Ln,Te.prototype[cn]=function(){for(var ni=[],zi=0;zi<arguments.length;zi++)ni[zi]=arguments[zi];return this._getService.bind(this,cn).apply(this,tn.multipleInstances?ni:[])}}try{for(var Vn=a.__values(Object.keys(Ce)),wi=Vn.next();!wi.done;wi=Vn.next())Ce[wi.value]._addComponent(tn)}catch(ni){Sn={error:ni}}finally{try{wi&&!wi.done&&(Ut=Vn.return)&&Ut.call(Vn)}finally{if(Sn)throw Sn.error}}return"PUBLIC"===tn.type?je[cn]:null}return je.default=je,Object.defineProperty(je,"apps",{get:function bt(){return Object.keys(Ce).map(function(tn){return Ce[tn]})}}),gt.App=Te,je}(he);return Te.INTERNAL=a.__assign(a.__assign({},Te.INTERNAL),{createFirebaseNamespace:Le,extendNamespace:function Ce(He){U.deepExtend(Te,He)},createSubscribe:U.createSubscribe,ErrorFactory:U.ErrorFactory,deepExtend:U.deepExtend}),Te}(),ot=function(){function Te(Ce){this.container=Ce}return Te.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(He){if(function Yt(Te){var Ce=Te.getComponent();return"VERSION"===Ce?.type}(He)){var je=He.getImmediate();return je.library+"/"+je.version}return null}).filter(function(He){return He}).join(" ")},Te}();if(U.isBrowser()&&void 0!==self.firebase){it.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var un=self.firebase.SDK_VERSION;un&&un.indexOf("LITE")>=0&&it.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var rn=Ct.initializeApp;Ct.initializeApp=function(){for(var Te=[],Ce=0;Ce<arguments.length;Ce++)Te[Ce]=arguments[Ce];return U.isNode()&&it.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),rn.apply(void 0,Te)};var fi=Ct;(function nn(Te,Ce){Te.INTERNAL.registerComponent(new Y.Component("platform-logger",function(He){return new ot(He)},"PRIVATE")),Te.registerVersion(ut,"0.6.11",Ce),Te.registerVersion("fire-js","")})(fi),De.default=fi,De.firebase=fi},6553:(en,De,Q)=>{Object.defineProperty(De,"__esModule",{value:!0});var a=Q(8005),U=Q(3661),Y=function(){function Ve(z,G,de){this.name=z,this.instanceFactory=G,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return Ve.prototype.setInstantiationMode=function(z){return this.instantiationMode=z,this},Ve.prototype.setMultipleInstances=function(z){return this.multipleInstances=z,this},Ve.prototype.setServiceProps=function(z){return this.serviceProps=z,this},Ve}(),pe="[DEFAULT]",ce=function(){function Ve(z,G){this.name=z,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return Ve.prototype.get=function(z){void 0===z&&(z=pe);var G=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(G)){var de=new U.Deferred;this.instancesDeferred.set(G,de);try{var Ne=this.getOrInitializeService(G);Ne&&de.resolve(Ne)}catch{}}return this.instancesDeferred.get(G).promise},Ve.prototype.getImmediate=function(z){var G=a.__assign({identifier:pe,optional:!1},z),Ne=G.optional,me=this.normalizeInstanceIdentifier(G.identifier);try{var lt=this.getOrInitializeService(me);if(!lt){if(Ne)return null;throw Error("Service "+this.name+" is not available")}return lt}catch(st){if(Ne)return null;throw st}},Ve.prototype.getComponent=function(){return this.component},Ve.prototype.setComponent=function(z){var G,de;if(z.name!==this.name)throw Error("Mismatching Component "+z.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=z,function Ae(Ve){return"EAGER"===Ve.instantiationMode}(z))try{this.getOrInitializeService(pe)}catch{}try{for(var Ne=a.__values(this.instancesDeferred.entries()),me=Ne.next();!me.done;me=Ne.next()){var lt=a.__read(me.value,2),mt=lt[1],Re=this.normalizeInstanceIdentifier(lt[0]);try{var at=this.getOrInitializeService(Re);mt.resolve(at)}catch{}}}catch(Ze){G={error:Ze}}finally{try{me&&!me.done&&(de=Ne.return)&&de.call(Ne)}finally{if(G)throw G.error}}},Ve.prototype.clearInstance=function(z){void 0===z&&(z=pe),this.instancesDeferred.delete(z),this.instances.delete(z)},Ve.prototype.delete=function(){return a.__awaiter(this,void 0,void 0,function(){var z;return a.__generator(this,function(G){switch(G.label){case 0:return z=Array.from(this.instances.values()),[4,Promise.all(a.__spread(z.filter(function(de){return"INTERNAL"in de}).map(function(de){return de.INTERNAL.delete()}),z.filter(function(de){return"_delete"in de}).map(function(de){return de._delete()})))];case 1:return G.sent(),[2]}})})},Ve.prototype.isComponentSet=function(){return null!=this.component},Ve.prototype.getOrInitializeService=function(z){var G=this.instances.get(z);return!G&&this.component&&(G=this.component.instanceFactory(this.container,function ke(Ve){return Ve===pe?void 0:Ve}(z)),this.instances.set(z,G)),G||null},Ve.prototype.normalizeInstanceIdentifier=function(z){return this.component?this.component.multipleInstances?z:pe:z},Ve}(),ut=function(){function Ve(z){this.name=z,this.providers=new Map}return Ve.prototype.addComponent=function(z){var G=this.getProvider(z.name);if(G.isComponentSet())throw new Error("Component "+z.name+" has already been registered with "+this.name);G.setComponent(z)},Ve.prototype.addOrOverwriteComponent=function(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)},Ve.prototype.getProvider=function(z){if(this.providers.has(z))return this.providers.get(z);var G=new ce(z,this);return this.providers.set(z,G),G},Ve.prototype.getProviders=function(){return Array.from(this.providers.values())},Ve}();De.Component=Y,De.ComponentContainer=ut,De.Provider=ce},4467:(en,De,Q)=>{var U=Q(8005),Y=Q(3219),pe=Q(8836),ce=Q(3661),ke=Q(8602),Ae=Q(6553),Ve=function ut(f){return f&&"object"==typeof f&&"default"in f?f:{default:f}}(Y),z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=function(f){function l(h,g){var y=this;return(y=f.call(this,g)||this).code=h,y.message=g,y.name="FirebaseError",y.toString=function(){return y.name+": [code="+y.code+"]: "+y.message},y}return U.__extends(l,f),l}(Error),de=new pe.Logger("@firebase/firestore");function Ne(){return de.logLevel}function me(f){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];if(de.logLevel<=pe.LogLevel.DEBUG){var g=l.map(mt);de.debug.apply(de,U.__spreadArrays(["Firestore (7.24.0): "+f],g))}}function lt(f){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];if(de.logLevel<=pe.LogLevel.ERROR){var g=l.map(mt);de.error.apply(de,U.__spreadArrays(["Firestore (7.24.0): "+f],g))}}function st(f){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];if(de.logLevel<=pe.LogLevel.WARN){var g=l.map(mt);de.warn.apply(de,U.__spreadArrays(["Firestore (7.24.0): "+f],g))}}function mt(f){if("string"==typeof f)return f;try{return JSON.stringify(f)}catch{return f}}function Re(f){void 0===f&&(f="Unexpected state");var l="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+f;throw lt(l),new Error(l)}function at(f,l){f||Re()}function Ze(f,l){return f}function xe(f){var l=0;for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&l++;return l}function nt(f,l){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&l(h,f[h])}function $e(f){for(var l in f)if(Object.prototype.hasOwnProperty.call(f,l))return!1;return!0}var it=function(){function f(l,h,g){void 0===h?h=0:h>l.length&&Re(),void 0===g?g=l.length-h:g>l.length-h&&Re(),this.segments=l,this.offset=h,this.t=g}return Object.defineProperty(f.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){return 0===f.i(this,l)},f.prototype.child=function(l){var h=this.segments.slice(this.offset,this.limit());return l instanceof f?l.forEach(function(g){h.push(g)}):h.push(l),this.o(h)},f.prototype.limit=function(){return this.offset+this.length},f.prototype.u=function(l){return this.o(this.segments,this.offset+(l=void 0===l?1:l),this.length-l)},f.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},f.prototype.l=function(){return this.segments[this.offset]},f.prototype._=function(){return this.get(this.length-1)},f.prototype.get=function(l){return this.segments[this.offset+l]},f.prototype.m=function(){return 0===this.length},f.prototype.T=function(l){if(l.length<this.length)return!1;for(var h=0;h<this.length;h++)if(this.get(h)!==l.get(h))return!1;return!0},f.prototype.I=function(l){if(this.length+1!==l.length)return!1;for(var h=0;h<this.length;h++)if(this.get(h)!==l.get(h))return!1;return!0},f.prototype.forEach=function(l){for(var h=this.offset,g=this.limit();h<g;h++)l(this.segments[h])},f.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},f.i=function(l,h){for(var g=Math.min(l.length,h.length),y=0;y<g;y++){var E=l.get(y),T=h.get(y);if(E<T)return-1;if(E>T)return 1}return l.length<h.length?-1:l.length>h.length?1:0},f}(),he=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.o=function(h,g,y){return new l(h,g,y)},l.prototype.R=function(){return this.A().join("/")},l.prototype.toString=function(){return this.R()},l.g=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];for(var y=[],E=0,T=h;E<T.length;E++){var R=T[E];if(R.indexOf("//")>=0)throw new G(z.INVALID_ARGUMENT,"Invalid segment ("+R+"). Paths must not contain // in them.");y.push.apply(y,R.split("/").filter(function(V){return V.length>0}))}return new l(y)},l.P=function(){return new l([])},l}(it),ue=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ge=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.o=function(h,g,y){return new l(h,g,y)},l.V=function(h){return ue.test(h)},l.prototype.R=function(){return this.A().map(function(h){return h=h.replace("\\","\\\\").replace("`","\\`"),l.V(h)||(h="`"+h+"`"),h}).join(".")},l.prototype.toString=function(){return this.R()},l.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},l.v=function(){return new l(["__name__"])},l.S=function(h){for(var g=[],y="",E=0,T=function(){if(0===y.length)throw new G(z.INVALID_ARGUMENT,"Invalid field path ("+h+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");g.push(y),y=""},R=!1;E<h.length;){var V=h[E];if("\\"===V){if(E+1===h.length)throw new G(z.INVALID_ARGUMENT,"Path has trailing escape character: "+h);var Z=h[E+1];if("\\"!==Z&&"."!==Z&&"`"!==Z)throw new G(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+h);y+=Z,E+=2}else"`"===V?(R=!R,E++):"."!==V||R?(y+=V,E++):(T(),E++)}if(T(),R)throw new G(z.INVALID_ARGUMENT,"Unterminated ` in path: "+h);return new l(g)},l.P=function(){return new l([])},l}(it),Le=function(){function f(l){this.path=l}return f.D=function(l){return new f(he.g(l))},f.C=function(l){return new f(he.g(l).u(5))},f.prototype.N=function(l){return this.path.length>=2&&this.path.get(this.path.length-2)===l},f.prototype.isEqual=function(l){return null!==l&&0===he.i(this.path,l.path)},f.prototype.toString=function(){return this.path.toString()},f.i=function(l,h){return he.i(l.path,h.path)},f.F=function(l){return l.length%2==0},f.$=function(l){return new f(new he(l.slice()))},f}();function Ct(f,l){if(0!==l.length)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() does not support arguments, but was called with "+fn(l.length,"argument")+".")}function ot(f,l,h){if(l.length!==h)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires "+fn(h,"argument")+", but was called with "+fn(l.length,"argument")+".")}function Yt(f,l,h){if(l.length<h)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires at least "+fn(h,"argument")+", but was called with "+fn(l.length,"argument")+".")}function nn(f,l,h,g){if(l.length<h||l.length>g)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires between "+h+" and "+g+" arguments, but was called with "+fn(l.length,"argument")+".")}function un(f,l,h,g){je(f,l,Fn(h)+" argument",g)}function rn(f,l,h,g){void 0!==g&&un(f,l,h,g)}function fi(f,l,h,g){je(f,l,h+" option",g)}function Te(f,l,h,g){void 0!==g&&fi(f,l,h,g)}function Ce(f,l,h,g,y){void 0!==g&&function(E,T,R,V,Z){for(var re=[],ge=0,_e=Z;ge<_e.length;ge++){var Pe=_e[ge];if(Pe===V)return;re.push(gt(Pe))}var et=gt(V);throw new G(z.INVALID_ARGUMENT,"Invalid value "+et+" provided to function "+E+'() for option "'+R+'". Acceptable values: '+re.join(", "))}(f,0,h,g,y)}function He(f,l,h,g){if(!l.some(function(y){return y===g}))throw new G(z.INVALID_ARGUMENT,"Invalid value "+gt(g)+" provided to function "+f+"() for its "+Fn(h)+" argument. Acceptable values: "+l.join(", "));return g}function je(f,l,h,g){if(!("object"===l?ct(g):"non-empty string"===l?"string"==typeof g&&""!==g:typeof g===l)){var y=gt(g);throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires its "+h+" to be of type "+l+", but it was: "+y)}}function ct(f){return"object"==typeof f&&null!==f&&(Object.getPrototypeOf(f)===Object.prototype||null===Object.getPrototypeOf(f))}function gt(f){if(void 0===f)return"undefined";if(null===f)return"null";if("string"==typeof f)return f.length>20&&(f=f.substring(0,20)+"..."),JSON.stringify(f);if("number"==typeof f||"boolean"==typeof f)return""+f;if("object"==typeof f){if(f instanceof Array)return"an array";var l=function(h){if(h.constructor){var g=/function\s+([^\s(]+)\s*\(/.exec(h.constructor.toString());if(g&&g.length>1)return g[1]}return null}(f);return l?"a custom "+l+" object":"an object"}return"function"==typeof f?"a function":Re()}function Dt(f,l,h){if(void 0===h)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires a valid "+Fn(l)+" argument, but it was undefined.")}function bt(f,l,h){nt(l,function(g,y){if(h.indexOf(g)<0)throw new G(z.INVALID_ARGUMENT,"Unknown option '"+g+"' passed to function "+f+"(). Available options: "+h.join(", "))})}function Tn(f,l,h,g){var y=gt(g);return new G(z.INVALID_ARGUMENT,"Function "+f+"() requires its "+Fn(h)+" argument to be a "+l+", but it was: "+y)}function dn(f,l,h){if(h<=0)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires its "+Fn(l)+" argument to be a positive number, but it was: "+h+".")}function Fn(f){switch(f){case 1:return"first";case 2:return"second";case 3:return"third";default:return f+"th"}}function fn(f,l){return f+" "+l+(1===f?"":"s")}function tn(f){var l=typeof self<"u"&&(self.crypto||self.msCrypto),h=new Uint8Array(f);if(l&&"function"==typeof l.getRandomValues)l.getRandomValues(h);else for(var g=0;g<f;g++)h[g]=Math.floor(256*Math.random());return h}var Sn=function(){function f(){}return f.k=function(){for(var h=62*Math.floor(256/62),g="";g.length<20;)for(var y=tn(40),E=0;E<y.length;++E)g.length<20&&y[E]<h&&(g+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(y[E]%62));return g},f}();function Ut(f,l){return f<l?-1:f>l?1:0}function cn(f,l,h){return f.length===l.length&&f.every(function(g,y){return h(g,l[y])})}function Ln(f){return f+"\0"}var Vn=function(){function f(l){this.M=l}return f.fromBase64String=function(l){return new f(atob(l))},f.fromUint8Array=function(l){return new f(function(h){for(var g="",y=0;y<h.length;++y)g+=String.fromCharCode(h[y]);return g}(l))},f.prototype.toBase64=function(){return btoa(this.M)},f.prototype.toUint8Array=function(){return function(l){for(var h=new Uint8Array(l.length),g=0;g<l.length;g++)h[g]=l.charCodeAt(g);return h}(this.M)},f.prototype.O=function(){return 2*this.M.length},f.prototype.L=function(l){return Ut(this.M,l.M)},f.prototype.isEqual=function(l){return this.M===l.M},f}();Vn.B=new Vn("");var wi=function(){function f(l){this.q=l}return f.fromBase64String=function(l){try{return new f(Vn.fromBase64String(l))}catch(h){throw new G(z.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+h)}},f.fromUint8Array=function(l){return new f(Vn.fromUint8Array(l))},f.prototype.toBase64=function(){return this.q.toBase64()},f.prototype.toUint8Array=function(){return this.q.toUint8Array()},f.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},f.prototype.isEqual=function(l){return this.q.isEqual(l.q)},f}();function Oi(){if(typeof Uint8Array>"u")throw new G(z.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ni(){if(typeof atob>"u")throw new G(z.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var zi=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.fromBase64String=function(h){ot("Blob.fromBase64String",arguments,1),un("Blob.fromBase64String","string",1,h),ni();try{return new l(Vn.fromBase64String(h))}catch(g){throw new G(z.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+g)}},l.fromUint8Array=function(h){if(ot("Blob.fromUint8Array",arguments,1),Oi(),!(h instanceof Uint8Array))throw Tn("Blob.fromUint8Array","Uint8Array",1,h);return new l(Vn.fromUint8Array(h))},l.prototype.toBase64=function(){return ot("Blob.toBase64",arguments,0),ni(),f.prototype.toBase64.call(this)},l.prototype.toUint8Array=function(){return ot("Blob.toUint8Array",arguments,0),Oi(),f.prototype.toUint8Array.call(this)},l.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},l}(wi),Ro=function(f,l,h,g,y,E){this.U=f,this.persistenceKey=l,this.host=h,this.ssl=g,this.forceLongPolling=y,this.W=E},sn=function(){function f(l,h){this.projectId=l,this.database=h||"(default)"}return Object.defineProperty(f.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){return l instanceof f&&l.projectId===this.projectId&&l.database===this.database},f.prototype.L=function(l){return Ut(this.projectId,l.projectId)||Ut(this.database,l.database)},f}(),Kt=function(){function f(l,h){this.K=l,this.G=h,this.H={}}return f.prototype.get=function(l){var h=this.K(l),g=this.H[h];if(void 0!==g)for(var y=0,E=g;y<E.length;y++){var T=E[y],V=T[1];if(this.G(T[0],l))return V}},f.prototype.has=function(l){return void 0!==this.get(l)},f.prototype.set=function(l,h){var g=this.K(l),y=this.H[g];if(void 0!==y){for(var E=0;E<y.length;E++)if(this.G(y[E][0],l))return void(y[E]=[l,h]);y.push([l,h])}else this.H[g]=[[l,h]]},f.prototype.delete=function(l){var h=this.K(l),g=this.H[h];if(void 0===g)return!1;for(var y=0;y<g.length;y++)if(this.G(g[y][0],l))return 1===g.length?delete this.H[h]:g.splice(y,1),!0;return!1},f.prototype.forEach=function(l){nt(this.H,function(h,g){for(var y=0,E=g;y<E.length;y++){var T=E[y];l(T[0],T[1])}})},f.prototype.m=function(){return $e(this.H)},f}(),Qt=function(){function f(l,h){if(this.seconds=l,this.nanoseconds=h,h<0)throw new G(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+h);if(h>=1e9)throw new G(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+h);if(l<-62135596800)throw new G(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+l);if(l>=253402300800)throw new G(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+l)}return f.now=function(){return f.fromMillis(Date.now())},f.fromDate=function(l){return f.fromMillis(l.getTime())},f.fromMillis=function(l){var h=Math.floor(l/1e3);return new f(h,1e6*(l-1e3*h))},f.prototype.toDate=function(){return new Date(this.toMillis())},f.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},f.prototype.Y=function(l){return this.seconds===l.seconds?Ut(this.nanoseconds,l.nanoseconds):Ut(this.seconds,l.seconds)},f.prototype.isEqual=function(l){return l.seconds===this.seconds&&l.nanoseconds===this.nanoseconds},f.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},f.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},f.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},f}(),zt=function(){function f(l){this.timestamp=l}return f.J=function(l){return new f(l)},f.min=function(){return new f(new Qt(0,0))},f.prototype.L=function(l){return this.timestamp.Y(l.timestamp)},f.prototype.isEqual=function(l){return this.timestamp.isEqual(l.timestamp)},f.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},f.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},f.prototype.Z=function(){return this.timestamp},f}();function Me(f){return null==f}function we(f){return 0===f&&1/f==-1/0}function Ee(f){return"number"==typeof f&&Number.isInteger(f)&&!we(f)&&f<=Number.MAX_SAFE_INTEGER&&f>=Number.MIN_SAFE_INTEGER}var qe=function(f,l,h,g,y,E,T){void 0===l&&(l=null),void 0===h&&(h=[]),void 0===g&&(g=[]),void 0===y&&(y=null),void 0===E&&(E=null),void 0===T&&(T=null),this.path=f,this.collectionGroup=l,this.orderBy=h,this.filters=g,this.limit=y,this.startAt=E,this.endAt=T,this.tt=null};function Fe(f,l,h,g,y,E,T){return void 0===l&&(l=null),void 0===h&&(h=[]),void 0===g&&(g=[]),void 0===y&&(y=null),void 0===E&&(E=null),void 0===T&&(T=null),new qe(f,l,h,g,y,E,T)}function xt(f){var l=Ze(f);if(null===l.tt){var h=l.path.R();null!==l.collectionGroup&&(h+="|cg:"+l.collectionGroup),h+="|f:",h+=l.filters.map(function(g){return(y=g).field.R()+y.op.toString()+ls(y.value);var y}).join(","),h+="|ob:",h+=l.orderBy.map(function(g){return(y=g).field.R()+y.dir;var y}).join(","),Me(l.limit)||(h+="|l:",h+=l.limit),l.startAt&&(h+="|lb:",h+=cc(l.startAt)),l.endAt&&(h+="|ub:",h+=cc(l.endAt)),l.tt=h}return l.tt}function mn(f,l){if(f.limit!==l.limit||f.orderBy.length!==l.orderBy.length)return!1;for(var h=0;h<f.orderBy.length;h++)if(!yi(f.orderBy[h],l.orderBy[h]))return!1;if(f.filters.length!==l.filters.length)return!1;for(var g=0;g<f.filters.length;g++)if((y=f.filters[g]).op!==(E=l.filters[g]).op||!y.field.isEqual(E.field)||!Ur(y.value,E.value))return!1;var y,E;return f.collectionGroup===l.collectionGroup&&!!f.path.isEqual(l.path)&&!!zs(f.startAt,l.startAt)&&zs(f.endAt,l.endAt)}function jt(f){return Le.F(f.path)&&null===f.collectionGroup&&0===f.filters.length}var Xt,Ht,Ci=function(){function f(l,h,g,y,E,T,R){void 0===E&&(E=zt.min()),void 0===T&&(T=zt.min()),void 0===R&&(R=Vn.B),this.target=l,this.targetId=h,this.et=g,this.sequenceNumber=y,this.nt=E,this.lastLimboFreeSnapshotVersion=T,this.resumeToken=R}return f.prototype.st=function(l){return new f(this.target,this.targetId,this.et,l,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},f.prototype.it=function(l,h){return new f(this.target,this.targetId,this.et,this.sequenceNumber,h,this.lastLimboFreeSnapshotVersion,l)},f.prototype.rt=function(l){return new f(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,l,this.resumeToken)},f}(),vi=function(f){this.count=f};function $n(f){switch(f){case z.OK:return Re();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return Re()}}function Li(f){if(void 0===f)return lt("GRPC error has no .code"),z.UNKNOWN;switch(f){case Xt.OK:return z.OK;case Xt.CANCELLED:return z.CANCELLED;case Xt.UNKNOWN:return z.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return z.INTERNAL;case Xt.UNAVAILABLE:return z.UNAVAILABLE;case Xt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Xt.NOT_FOUND:return z.NOT_FOUND;case Xt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Xt.ABORTED:return z.ABORTED;case Xt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Xt.DATA_LOSS:return z.DATA_LOSS;default:return Re()}}(Ht=Xt||(Xt={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";var qn=function(){function f(l,h){this.i=l,this.root=h||pi.EMPTY}return f.prototype.ot=function(l,h){return new f(this.i,this.root.ot(l,h,this.i).copy(null,null,pi.at,null,null))},f.prototype.remove=function(l){return new f(this.i,this.root.remove(l,this.i).copy(null,null,pi.at,null,null))},f.prototype.get=function(l){for(var h=this.root;!h.m();){var g=this.i(l,h.key);if(0===g)return h.value;g<0?h=h.left:g>0&&(h=h.right)}return null},f.prototype.indexOf=function(l){for(var h=0,g=this.root;!g.m();){var y=this.i(l,g.key);if(0===y)return h+g.left.size;y<0?g=g.left:(h+=g.left.size+1,g=g.right)}return-1},f.prototype.m=function(){return this.root.m()},Object.defineProperty(f.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),f.prototype.ct=function(){return this.root.ct()},f.prototype.ut=function(){return this.root.ut()},f.prototype.ht=function(l){return this.root.ht(l)},f.prototype.forEach=function(l){this.ht(function(h,g){return l(h,g),!1})},f.prototype.toString=function(){var l=[];return this.ht(function(h,g){return l.push(h+":"+g),!1}),"{"+l.join(", ")+"}"},f.prototype.lt=function(l){return this.root.lt(l)},f.prototype._t=function(){return new gr(this.root,null,this.i,!1)},f.prototype.ft=function(l){return new gr(this.root,l,this.i,!1)},f.prototype.dt=function(){return new gr(this.root,null,this.i,!0)},f.prototype.wt=function(l){return new gr(this.root,l,this.i,!0)},f}(),gr=function(){function f(l,h,g,y){this.Tt=y,this.Et=[];for(var E=1;!l.m();)if(E=h?g(l.key,h):1,y&&(E*=-1),E<0)l=this.Tt?l.left:l.right;else{if(0===E){this.Et.push(l);break}this.Et.push(l),l=this.Tt?l.right:l.left}}return f.prototype.It=function(){var l=this.Et.pop(),h={key:l.key,value:l.value};if(this.Tt)for(l=l.left;!l.m();)this.Et.push(l),l=l.right;else for(l=l.right;!l.m();)this.Et.push(l),l=l.left;return h},f.prototype.At=function(){return this.Et.length>0},f.prototype.Rt=function(){if(0===this.Et.length)return null;var l=this.Et[this.Et.length-1];return{key:l.key,value:l.value}},f}(),pi=function(){function f(l,h,g,y,E){this.key=l,this.value=h,this.color=g??f.RED,this.left=y??f.EMPTY,this.right=E??f.EMPTY,this.size=this.left.size+1+this.right.size}return f.prototype.copy=function(l,h,g,y,E){return new f(l??this.key,h??this.value,g??this.color,y??this.left,E??this.right)},f.prototype.m=function(){return!1},f.prototype.ht=function(l){return this.left.ht(l)||l(this.key,this.value)||this.right.ht(l)},f.prototype.lt=function(l){return this.right.lt(l)||l(this.key,this.value)||this.left.lt(l)},f.prototype.min=function(){return this.left.m()?this:this.left.min()},f.prototype.ct=function(){return this.min().key},f.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},f.prototype.ot=function(l,h,g){var y=this,E=g(l,y.key);return(y=E<0?y.copy(null,null,null,y.left.ot(l,h,g),null):0===E?y.copy(null,h,null,null,null):y.copy(null,null,null,null,y.right.ot(l,h,g))).gt()},f.prototype.Pt=function(){if(this.left.m())return f.EMPTY;var l=this;return l.left.yt()||l.left.left.yt()||(l=l.Vt()),(l=l.copy(null,null,null,l.left.Pt(),null)).gt()},f.prototype.remove=function(l,h){var g,y=this;if(h(l,y.key)<0)y.left.m()||y.left.yt()||y.left.left.yt()||(y=y.Vt()),y=y.copy(null,null,null,y.left.remove(l,h),null);else{if(y.left.yt()&&(y=y.bt()),y.right.m()||y.right.yt()||y.right.left.yt()||(y=y.vt()),0===h(l,y.key)){if(y.right.m())return f.EMPTY;g=y.right.min(),y=y.copy(g.key,g.value,null,null,y.right.Pt())}y=y.copy(null,null,null,null,y.right.remove(l,h))}return y.gt()},f.prototype.yt=function(){return this.color},f.prototype.gt=function(){var l=this;return l.right.yt()&&!l.left.yt()&&(l=l.St()),l.left.yt()&&l.left.left.yt()&&(l=l.bt()),l.left.yt()&&l.right.yt()&&(l=l.Dt()),l},f.prototype.Vt=function(){var l=this.Dt();return l.right.left.yt()&&(l=(l=(l=l.copy(null,null,null,null,l.right.bt())).St()).Dt()),l},f.prototype.vt=function(){var l=this.Dt();return l.left.left.yt()&&(l=(l=l.bt()).Dt()),l},f.prototype.St=function(){var l=this.copy(null,null,f.RED,null,this.right.left);return this.right.copy(null,null,this.color,l,null)},f.prototype.bt=function(){var l=this.copy(null,null,f.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,l)},f.prototype.Dt=function(){var l=this.left.copy(null,null,!this.left.color,null,null),h=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,l,h)},f.prototype.Ct=function(){var l=this.Nt();return Math.pow(2,l)<=this.size+1},f.prototype.Nt=function(){if(this.yt()&&this.left.yt()||this.right.yt())throw Re();var l=this.left.Nt();if(l!==this.right.Nt())throw Re();return l+(this.yt()?0:1)},f}();pi.EMPTY=null,pi.RED=!0,pi.at=!1,pi.EMPTY=new(function(){function f(){this.size=0}return Object.defineProperty(f.prototype,"key",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"value",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"color",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"left",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"right",{get:function(){throw Re()},enumerable:!1,configurable:!0}),f.prototype.copy=function(l,h,g,y,E){return this},f.prototype.ot=function(l,h,g){return new pi(l,h)},f.prototype.remove=function(l,h){return this},f.prototype.m=function(){return!0},f.prototype.ht=function(l){return!1},f.prototype.lt=function(l){return!1},f.prototype.ct=function(){return null},f.prototype.ut=function(){return null},f.prototype.yt=function(){return!1},f.prototype.Ct=function(){return!0},f.prototype.Nt=function(){return 0},f}());var Ei=function(){function f(l){this.i=l,this.data=new qn(this.i)}return f.prototype.has=function(l){return null!==this.data.get(l)},f.prototype.first=function(){return this.data.ct()},f.prototype.last=function(){return this.data.ut()},Object.defineProperty(f.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),f.prototype.indexOf=function(l){return this.data.indexOf(l)},f.prototype.forEach=function(l){this.data.ht(function(h,g){return l(h),!1})},f.prototype.Ft=function(l,h){for(var g=this.data.ft(l[0]);g.At();){var y=g.It();if(this.i(y.key,l[1])>=0)return;h(y.key)}},f.prototype.xt=function(l,h){var g;for(g=void 0!==h?this.data.ft(h):this.data._t();g.At();)if(!l(g.It().key))return},f.prototype.$t=function(l){var h=this.data.ft(l);return h.At()?h.It().key:null},f.prototype._t=function(){return new _r(this.data._t())},f.prototype.ft=function(l){return new _r(this.data.ft(l))},f.prototype.add=function(l){return this.copy(this.data.remove(l).ot(l,!0))},f.prototype.delete=function(l){return this.has(l)?this.copy(this.data.remove(l)):this},f.prototype.m=function(){return this.data.m()},f.prototype.kt=function(l){var h=this;return h.size<l.size&&(h=l,l=this),l.forEach(function(g){h=h.add(g)}),h},f.prototype.isEqual=function(l){if(!(l instanceof f)||this.size!==l.size)return!1;for(var h=this.data._t(),g=l.data._t();h.At();){var y=h.It().key,E=g.It().key;if(0!==this.i(y,E))return!1}return!0},f.prototype.A=function(){var l=[];return this.forEach(function(h){l.push(h)}),l},f.prototype.toString=function(){var l=[];return this.forEach(function(h){return l.push(h)}),"SortedSet("+l.toString()+")"},f.prototype.copy=function(l){var h=new f(this.i);return h.data=l,h},f}(),_r=function(){function f(l){this.Mt=l}return f.prototype.It=function(){return this.Mt.It().key},f.prototype.At=function(){return this.Mt.At()},f}(),go=new qn(Le.i);function fe(){return go}function le(){return fe()}var X=new qn(Le.i);function te(){return X}var K=new qn(Le.i),Oe=new Ei(Le.i);function Qe(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];for(var h=Oe,g=0,y=f;g<y.length;g++)h=h.add(y[g]);return h}var St=new Ei(Ut);function yn(){return St}var Vt=function(){function f(l){this.i=l?function(h,g){return l(h,g)||Le.i(h.key,g.key)}:function(h,g){return Le.i(h.key,g.key)},this.Ot=te(),this.Lt=new qn(this.i)}return f.Bt=function(l){return new f(l.i)},f.prototype.has=function(l){return null!=this.Ot.get(l)},f.prototype.get=function(l){return this.Ot.get(l)},f.prototype.first=function(){return this.Lt.ct()},f.prototype.last=function(){return this.Lt.ut()},f.prototype.m=function(){return this.Lt.m()},f.prototype.indexOf=function(l){var h=this.Ot.get(l);return h?this.Lt.indexOf(h):-1},Object.defineProperty(f.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),f.prototype.forEach=function(l){this.Lt.ht(function(h,g){return l(h),!1})},f.prototype.add=function(l){var h=this.delete(l.key);return h.copy(h.Ot.ot(l.key,l),h.Lt.ot(l,null))},f.prototype.delete=function(l){var h=this.get(l);return h?this.copy(this.Ot.remove(l),this.Lt.remove(h)):this},f.prototype.isEqual=function(l){if(!(l instanceof f)||this.size!==l.size)return!1;for(var h=this.Lt._t(),g=l.Lt._t();h.At();){var y=h.It().key,E=g.It().key;if(!y.isEqual(E))return!1}return!0},f.prototype.toString=function(){var l=[];return this.forEach(function(h){l.push(h.toString())}),0===l.length?"DocumentSet ()":"DocumentSet (\n  "+l.join("  \n")+"\n)"},f.prototype.copy=function(l,h){var g=new f;return g.i=this.i,g.Ot=l,g.Lt=h,g},f}(),Xn=function(){function f(){this.qt=new qn(Le.i)}return f.prototype.track=function(l){var h=l.doc.key,g=this.qt.get(h);g?0!==l.type&&3===g.type?this.qt=this.qt.ot(h,l):3===l.type&&1!==g.type?this.qt=this.qt.ot(h,{type:g.type,doc:l.doc}):2===l.type&&2===g.type?this.qt=this.qt.ot(h,{type:2,doc:l.doc}):2===l.type&&0===g.type?this.qt=this.qt.ot(h,{type:0,doc:l.doc}):1===l.type&&0===g.type?this.qt=this.qt.remove(h):1===l.type&&2===g.type?this.qt=this.qt.ot(h,{type:1,doc:g.doc}):0===l.type&&1===g.type?this.qt=this.qt.ot(h,{type:2,doc:l.doc}):Re():this.qt=this.qt.ot(h,l)},f.prototype.Ut=function(){var l=[];return this.qt.ht(function(h,g){l.push(g)}),l},f}(),xn=function(){function f(l,h,g,y,E,T,R,V){this.query=l,this.docs=h,this.Qt=g,this.docChanges=y,this.Wt=E,this.fromCache=T,this.jt=R,this.Kt=V}return f.Gt=function(l,h,g,y){var E=[];return h.forEach(function(T){E.push({type:0,doc:T})}),new f(l,h,Vt.Bt(h),E,g,y,!0,!1)},Object.defineProperty(f.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){if(!(this.fromCache===l.fromCache&&this.jt===l.jt&&this.Wt.isEqual(l.Wt)&&ac(this.query,l.query)&&this.docs.isEqual(l.docs)&&this.Qt.isEqual(l.Qt)))return!1;var h=this.docChanges,g=l.docChanges;if(h.length!==g.length)return!1;for(var y=0;y<h.length;y++)if(h[y].type!==g[y].type||!h[y].doc.isEqual(g[y].doc))return!1;return!0},f}(),ai=function(){function f(l,h,g,y,E){this.nt=l,this.zt=h,this.Ht=g,this.Yt=y,this.Jt=E}return f.Xt=function(l,h){var g=new Map;return g.set(l,Nn.Zt(l,h)),new f(zt.min(),g,yn(),fe(),Qe())},f}(),Nn=function(){function f(l,h,g,y,E){this.resumeToken=l,this.te=h,this.ee=g,this.ne=y,this.se=E}return f.Zt=function(l,h){return new f(Vn.B,h,Qe(),Qe(),Qe())},f}(),vr=function(f,l,h,g){this.ie=f,this.removedTargetIds=l,this.key=h,this.re=g},Yo=function(f,l){this.targetId=f,this.oe=l},Je=function(f,l,h,g){void 0===h&&(h=Vn.B),void 0===g&&(g=null),this.state=f,this.targetIds=l,this.resumeToken=h,this.cause=g},ze=function(){function f(){this.ae=0,this.ce=kt(),this.ue=Vn.B,this.he=!1,this.le=!0}return Object.defineProperty(f.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),f.prototype.de=function(l){l.O()>0&&(this.le=!0,this.ue=l)},f.prototype.we=function(){var l=Qe(),h=Qe(),g=Qe();return this.ce.forEach(function(y,E){switch(E){case 0:l=l.add(y);break;case 2:h=h.add(y);break;case 1:g=g.add(y);break;default:Re()}}),new Nn(this.ue,this.he,l,h,g)},f.prototype.me=function(){this.le=!1,this.ce=kt()},f.prototype.Te=function(l,h){this.le=!0,this.ce=this.ce.ot(l,h)},f.prototype.Ee=function(l){this.le=!0,this.ce=this.ce.remove(l)},f.prototype.Ie=function(){this.ae+=1},f.prototype.Ae=function(){this.ae-=1},f.prototype.Re=function(){this.le=!0,this.he=!0},f}(),_t=function(){function f(l){this.ge=l,this.Pe=new Map,this.ye=fe(),this.Ve=Zt(),this.pe=new Ei(Ut)}return f.prototype.be=function(l){for(var h=0,g=l.ie;h<g.length;h++){var y=g[h];l.re instanceof oi?this.ve(y,l.re):l.re instanceof kr&&this.Se(y,l.key,l.re)}for(var E=0,T=l.removedTargetIds;E<T.length;E++)this.Se(T[E],l.key,l.re)},f.prototype.De=function(l){var h=this;this.Ce(l,function(g){var y=h.Ne(g);switch(l.state){case 0:h.Fe(g)&&y.de(l.resumeToken);break;case 1:y.Ae(),y._e||y.me(),y.de(l.resumeToken);break;case 2:y.Ae(),y._e||h.removeTarget(g);break;case 3:h.Fe(g)&&(y.Re(),y.de(l.resumeToken));break;case 4:h.Fe(g)&&(h.xe(g),y.de(l.resumeToken));break;default:Re()}})},f.prototype.Ce=function(l,h){var g=this;l.targetIds.length>0?l.targetIds.forEach(h):this.Pe.forEach(function(y,E){g.Fe(E)&&h(E)})},f.prototype.$e=function(l){var h=l.targetId,g=l.oe.count,y=this.ke(h);if(y){var E=y.target;if(jt(E))if(0===g){var T=new Le(E.path);this.Se(h,T,new kr(T,zt.min()))}else at(1===g);else this.Me(h)!==g&&(this.xe(h),this.pe=this.pe.add(h))}},f.prototype.Oe=function(l){var h=this,g=new Map;this.Pe.forEach(function(T,R){var V=h.ke(R);if(V){if(T.te&&jt(V.target)){var Z=new Le(V.target.path);null!==h.ye.get(Z)||h.Le(R,Z)||h.Se(R,Z,new kr(Z,l))}T.fe&&(g.set(R,T.we()),T.me())}});var y=Qe();this.Ve.forEach(function(T,R){var V=!0;R.xt(function(Z){var re=h.ke(Z);return!re||2===re.et||(V=!1,!1)}),V&&(y=y.add(T))});var E=new ai(l,g,this.pe,this.ye,y);return this.ye=fe(),this.Ve=Zt(),this.pe=new Ei(Ut),E},f.prototype.ve=function(l,h){if(this.Fe(l)){var g=this.Le(l,h.key)?2:0;this.Ne(l).Te(h.key,g),this.ye=this.ye.ot(h.key,h),this.Ve=this.Ve.ot(h.key,this.Be(h.key).add(l))}},f.prototype.Se=function(l,h,g){if(this.Fe(l)){var y=this.Ne(l);this.Le(l,h)?y.Te(h,1):y.Ee(h),this.Ve=this.Ve.ot(h,this.Be(h).delete(l)),g&&(this.ye=this.ye.ot(h,g))}},f.prototype.removeTarget=function(l){this.Pe.delete(l)},f.prototype.Me=function(l){var h=this.Ne(l).we();return this.ge.qe(l).size+h.ee.size-h.se.size},f.prototype.Ie=function(l){this.Ne(l).Ie()},f.prototype.Ne=function(l){var h=this.Pe.get(l);return h||(h=new ze,this.Pe.set(l,h)),h},f.prototype.Be=function(l){var h=this.Ve.get(l);return h||(h=new Ei(Ut),this.Ve=this.Ve.ot(l,h)),h},f.prototype.Fe=function(l){var h=null!==this.ke(l);return h||me("WatchChangeAggregator","Detected inactive target",l),h},f.prototype.ke=function(l){var h=this.Pe.get(l);return h&&h._e?null:this.ge.Ue(l)},f.prototype.xe=function(l){var h=this;this.Pe.set(l,new ze),this.ge.qe(l).forEach(function(g){h.Se(l,g,null)})},f.prototype.Le=function(l,h){return this.ge.qe(l).has(h)},f}();function Zt(){return new qn(Le.i)}function kt(){return new qn(Le.i)}function An(f){var l,h;return"server_timestamp"===(null===(h=((null===(l=f?.mapValue)||void 0===l?void 0:l.fields)||{}).__type__)||void 0===h?void 0:h.stringValue)}function ri(f){var l=f.mapValue.fields.__previous_value__;return An(l)?ri(l):l}function Gi(f){var l=Ko(f.mapValue.fields.__local_write_time__.timestampValue);return new Qt(l.seconds,l.nanos)}var Zi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(f){return"nullValue"in f?0:"booleanValue"in f?1:"integerValue"in f||"doubleValue"in f?2:"timestampValue"in f?3:"stringValue"in f?5:"bytesValue"in f?6:"referenceValue"in f?7:"geoPointValue"in f?8:"arrayValue"in f?9:"mapValue"in f?An(f)?4:10:Re()}function Ur(f,l){var y,h=er(f);if(h!==er(l))return!1;switch(h){case 0:return!0;case 1:return f.booleanValue===l.booleanValue;case 4:return Gi(f).isEqual(Gi(l));case 3:return function(g,y){if("string"==typeof g.timestampValue&&"string"==typeof y.timestampValue&&g.timestampValue.length===y.timestampValue.length)return g.timestampValue===y.timestampValue;var E=Ko(g.timestampValue),T=Ko(y.timestampValue);return E.seconds===T.seconds&&E.nanos===T.nanos}(f,l);case 5:return f.stringValue===l.stringValue;case 6:return y=l,Ai(f.bytesValue).isEqual(Ai(y.bytesValue));case 7:return f.referenceValue===l.referenceValue;case 8:return function(g,y){return jn(g.geoPointValue.latitude)===jn(y.geoPointValue.latitude)&&jn(g.geoPointValue.longitude)===jn(y.geoPointValue.longitude)}(f,l);case 2:return function(g,y){if("integerValue"in g&&"integerValue"in y)return jn(g.integerValue)===jn(y.integerValue);if("doubleValue"in g&&"doubleValue"in y){var E=jn(g.doubleValue),T=jn(y.doubleValue);return E===T?we(E)===we(T):isNaN(E)&&isNaN(T)}return!1}(f,l);case 9:return cn(f.arrayValue.values||[],l.arrayValue.values||[],Ur);case 10:return function(g,y){var E=g.mapValue.fields||{},T=y.mapValue.fields||{};if(xe(E)!==xe(T))return!1;for(var R in E)if(E.hasOwnProperty(R)&&(void 0===T[R]||!Ur(E[R],T[R])))return!1;return!0}(f,l);default:return Re()}}function _o(f,l){return void 0!==(f.values||[]).find(function(h){return Ur(h,l)})}function Ta(f,l){var y,E,T,R,h=er(f),g=er(l);if(h!==g)return Ut(h,g);switch(h){case 0:return 0;case 1:return Ut(f.booleanValue,l.booleanValue);case 2:return E=l,(T=jn((y=f).integerValue||y.doubleValue))<(R=jn(E.integerValue||E.doubleValue))?-1:T>R?1:T===R?0:isNaN(T)?isNaN(R)?0:-1:1;case 3:return No(f.timestampValue,l.timestampValue);case 4:return No(Gi(f),Gi(l));case 5:return Ut(f.stringValue,l.stringValue);case 6:return function(y,E){var T=Ai(y),R=Ai(E);return T.L(R)}(f.bytesValue,l.bytesValue);case 7:return function(y,E){for(var T=y.split("/"),R=E.split("/"),V=0;V<T.length&&V<R.length;V++){var Z=Ut(T[V],R[V]);if(0!==Z)return Z}return Ut(T.length,R.length)}(f.referenceValue,l.referenceValue);case 8:return function(y,E){var T=Ut(jn(y.latitude),jn(E.latitude));return 0!==T?T:Ut(jn(y.longitude),jn(E.longitude))}(f.geoPointValue,l.geoPointValue);case 9:return function(y,E){for(var T=y.values||[],R=E.values||[],V=0;V<T.length&&V<R.length;++V){var Z=Ta(T[V],R[V]);if(Z)return Z}return Ut(T.length,R.length)}(f.arrayValue,l.arrayValue);case 10:return function(y,E){var T=y.fields||{},R=Object.keys(T),V=E.fields||{},Z=Object.keys(V);R.sort(),Z.sort();for(var re=0;re<R.length&&re<Z.length;++re){var ge=Ut(R[re],Z[re]);if(0!==ge)return ge;var _e=Ta(T[R[re]],V[Z[re]]);if(0!==_e)return _e}return Ut(R.length,Z.length)}(f.mapValue,l.mapValue);default:throw Re()}}function No(f,l){if("string"==typeof f&&"string"==typeof l&&f.length===l.length)return Ut(f,l);var h=Ko(f),g=Ko(l),y=Ut(h.seconds,g.seconds);return 0!==y?y:Ut(h.nanos,g.nanos)}function ls(f){return vs(f)}function vs(f){return"nullValue"in f?"null":"booleanValue"in f?""+f.booleanValue:"integerValue"in f?""+f.integerValue:"doubleValue"in f?""+f.doubleValue:"timestampValue"in f?"time("+(y=Ko(f.timestampValue)).seconds+","+y.nanos+")":"stringValue"in f?f.stringValue:"bytesValue"in f?Ai(f.bytesValue).toBase64():"referenceValue"in f?Le.C(f.referenceValue).toString():"geoPointValue"in f?"geo("+(l=f.geoPointValue).latitude+","+l.longitude+")":"arrayValue"in f?function(g){for(var y="[",E=!0,T=0,R=g.values||[];T<R.length;T++)E?E=!1:y+=",",y+=vs(R[T]);return y+"]"}(f.arrayValue):"mapValue"in f?function(g){for(var y="{",E=!0,T=0,R=Object.keys(g.fields||{}).sort();T<R.length;T++){var V=R[T];E?E=!1:y+=",",y+=V+":"+vs(g.fields[V])}return y+"}"}(f.mapValue):Re();var y,l}function Ko(f){if(at(!!f),"string"==typeof f){var l=0,h=Zi.exec(f);if(at(!!h),h[1]){var g=h[1];g=(g+"000000000").substr(0,9),l=Number(g)}var y=new Date(f);return{seconds:Math.floor(y.getTime()/1e3),nanos:l}}return{seconds:jn(f.seconds),nanos:jn(f.nanos)}}function jn(f){return"number"==typeof f?f:"string"==typeof f?Number(f):0}function Ai(f){return"string"==typeof f?Vn.fromBase64String(f):Vn.fromUint8Array(f)}function vo(f,l){return{referenceValue:"projects/"+f.projectId+"/databases/"+f.database+"/documents/"+l.path.R()}}function xi(f){return!!f&&"integerValue"in f}function xc(f){return!!f&&"arrayValue"in f}function tc(f){return!!f&&"nullValue"in f}function $r(f){return!!f&&"doubleValue"in f&&isNaN(Number(f.doubleValue))}function Ls(f){return!!f&&"mapValue"in f}var nc={asc:"ASCENDING",desc:"DESCENDING"},Ju={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ra=function(f,l){this.U=f,this.Qe=l};function Ec(f){return{integerValue:""+f}}function Ic(f,l){if(f.Qe){if(isNaN(l))return{doubleValue:"NaN"};if(l===1/0)return{doubleValue:"Infinity"};if(l===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:we(l)?"-0":l}}function Us(f,l){return Ee(l)?Ec(l):Ic(f,l)}function oa(f,l){return f.Qe?new Date(1e3*l.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+l.nanoseconds).slice(-9)+"Z":{seconds:""+l.seconds,nanos:l.nanoseconds}}function sl(f,l){return f.Qe?l.toBase64():l.toUint8Array()}function Fo(f,l){return oa(f,l.Z())}function yo(f){return at(!!f),zt.J((h=Ko(f),new Qt(h.seconds,h.nanos)));var h}function yr(f,l){return(h=f,new he(["projects",h.projectId,"databases",h.database])).child("documents").child(l).R();var h}function ic(f){var l=he.g(f);return at(kn(l)),l}function sa(f,l){return yr(f.U,l.path)}function Yi(f,l){var h=ic(l);return at(h.get(1)===f.U.projectId),at(!h.get(3)&&!f.U.database||h.get(3)===f.U.database),new Le(rc(h))}function Mc(f,l){return yr(f.U,l)}function aa(f){var l=ic(f);return 4===l.length?he.P():rc(l)}function ys(f){return new he(["projects",f.U.projectId,"databases",f.U.database]).R()}function rc(f){return at(f.length>4&&"documents"===f.get(4)),f.u(5)}function zn(f,l,h){return{name:sa(f,l),fields:h.proto.mapValue.fields}}function Ui(f,l){var h,y;if(l instanceof rr)h={update:zn(f,l.key,l.value)};else if(l instanceof Mr)h={delete:sa(f,l.key)};else if(l instanceof Wr)h={update:zn(f,l.key,l.data),updateMask:Bs(l.We)};else if(l instanceof Hi)h={transform:{document:sa(f,l.key),fieldTransforms:l.fieldTransforms.map(function(g){return function(y,E){var T=E.transform;if(T instanceof on)return{fieldPath:E.field.R(),setToServerValue:"REQUEST_TIME"};if(T instanceof qr)return{fieldPath:E.field.R(),appendMissingElements:{values:T.elements}};if(T instanceof Cr)return{fieldPath:E.field.R(),removeAllFromArray:{values:T.elements}};if(T instanceof bs)return{fieldPath:E.field.R(),increment:T.je};throw Re()}(0,g)})}};else{if(!(l instanceof cl))return Re();h={verify:sa(f,l.key)}}return l.Ge.Ke||(h.currentDocument=void 0!==(y=l.Ge).updateTime?{updateTime:Fo(f,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:Re()),h}function br(f,l){var re,h=l.currentDocument?void 0!==(re=l.currentDocument).updateTime?Vi.updateTime(yo(re.updateTime)):void 0!==re.exists?Vi.exists(re.exists):Vi.ze():Vi.ze();if(l.update){var g=Yi(f,l.update.name),y=new Pr({mapValue:{fields:l.update.fields}});if(l.updateMask){var E=function(re){return new Ir((re.fieldPaths||[]).map(function(_e){return Ge.S(_e)}))}(l.updateMask);return new Wr(g,y,E,h)}return new rr(g,y,h)}if(l.delete){var T=Yi(f,l.delete);return new Mr(T,h)}if(l.transform){var R=Yi(f,l.transform.document),V=l.transform.fieldTransforms.map(function(re){return function(ge,_e){var Pe=null;"setToServerValue"in _e?(at("REQUEST_TIME"===_e.setToServerValue),Pe=new on):"appendMissingElements"in _e?Pe=new qr(_e.appendMissingElements.values||[]):"removeAllFromArray"in _e?Pe=new Cr(_e.removeAllFromArray.values||[]):"increment"in _e?Pe=new bs(ge,_e.increment):Re();var an=Ge.S(_e.fieldPath);return new la(an,Pe)}(f,re)});return at(!0===h.exists),new Hi(R,V)}if(l.verify){var Z=Yi(f,l.verify);return new cl(Z,h)}return Re()}function Sa(f,l){return{documents:[Mc(f,l.path)]}}function wr(f,l){var h={structuredQuery:{}},g=l.path;null!==l.collectionGroup?(h.parent=Mc(f,g),h.structuredQuery.from=[{collectionId:l.collectionGroup,allDescendants:!0}]):(h.parent=Mc(f,g.h()),h.structuredQuery.from=[{collectionId:g._()}]);var y=function(R){if(0!==R.length){var V=R.map(function(Z){return function(re){if("=="===re.op){if($r(re.value))return{unaryFilter:{field:Et(re.field),op:"IS_NAN"}};if(tc(re.value))return{unaryFilter:{field:Et(re.field),op:"IS_NULL"}}}else if("!="===re.op){if($r(re.value))return{unaryFilter:{field:Et(re.field),op:"IS_NOT_NAN"}};if(tc(re.value))return{unaryFilter:{field:Et(re.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Et(re.field),op:Pi(re.op),value:re.value}}}(Z)});return 1===V.length?V[0]:{compositeFilter:{op:"AND",filters:V}}}}(l.filters);y&&(h.structuredQuery.where=y);var E=function(R){if(0!==R.length)return R.map(function(V){return{field:Et((Z=V).field),direction:Dc(Z.dir)};var Z})}(l.orderBy);E&&(h.structuredQuery.orderBy=E);var V,T=(V=l.limit,f.Qe||Me(V)?V:{value:V});return null!==T&&(h.structuredQuery.limit=T),l.startAt&&(h.structuredQuery.startAt=Lo(l.startAt)),l.endAt&&(h.structuredQuery.endAt=Lo(l.endAt)),h}function Tc(f){var l=aa(f.parent),h=f.structuredQuery,g=h.from?h.from.length:0,y=null;if(g>0){at(1===g);var E=h.from[0];E.allDescendants?y=E.collectionId:l=l.child(E.collectionId)}var T=[];h.where&&(T=Sc(h.where));var R=[];h.orderBy&&(R=h.orderBy.map(function(ge){return new pa(En((_e=ge).field),function(Pe){switch(Pe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_e.direction));var _e}));var ge,_e,V=null;h.limit&&(V=Me(_e="object"==typeof(ge=h.limit)?ge.value:ge)?null:_e);var Z=null;h.startAt&&(Z=Vs(h.startAt));var re=null;return h.endAt&&(re=Vs(h.endAt)),Bo(Ac(l,y,R,T,V,"F",Z,re))}function Sc(f){return f?void 0!==f.unaryFilter?[so(f)]:void 0!==f.fieldFilter?[Ii(f)]:void 0!==f.compositeFilter?f.compositeFilter.filters.map(function(l){return Sc(l)}).reduce(function(l,h){return l.concat(h)}):Re():[]}function Lo(f){return{before:f.before,values:f.position}}function Vs(f){return new wo(f.values||[],!!f.before)}function Dc(f){return nc[f]}function Pi(f){return Ju[f]}function Et(f){return{fieldPath:f.R()}}function En(f){return Ge.S(f.fieldPath)}function Ii(f){return Rr.create(En(f.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(f.fieldFilter.op),f.fieldFilter.value)}function so(f){switch(f.unaryFilter.op){case"IS_NAN":var l=En(f.unaryFilter.field);return Rr.create(l,"==",{doubleValue:NaN});case"IS_NULL":var h=En(f.unaryFilter.field);return Rr.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var g=En(f.unaryFilter.field);return Rr.create(g,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var y=En(f.unaryFilter.field);return Rr.create(y,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}function Bs(f){var l=[];return f.fields.forEach(function(h){return l.push(h.R())}),{fieldPaths:l}}function kn(f){return f.length>=4&&"projects"===f.get(0)&&"databases"===f.get(2)}var Qo=function(){this.He=void 0};function ki(f,l,h){return f instanceof on?(E={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(g=h).seconds,nanos:g.nanoseconds}}}},(y=l)&&(E.fields.__previous_value__=y),{mapValue:E}):f instanceof qr?Ll(f,l):f instanceof Cr?xr(f,l):function(g,y){var E=Jo(g,y),T=Uo(E)+Uo(g.je);return xi(E)&&xi(g.je)?Ec(T):Ic(g.serializer,T)}(f,l);var g,y,E}function ca(f,l,h){return f instanceof qr?Ll(f,l):f instanceof Cr?xr(f,l):h}function Jo(f,l){return f instanceof bs?xi(h=l)||(g=h)&&"doubleValue"in g?l:{integerValue:0}:null;var g,h}var on=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l}(Qo),qr=function(f){function l(h){var g=this;return(g=f.call(this)||this).elements=h,g}return U.__extends(l,f),l}(Qo);function Ll(f,l){for(var h=Er(l),g=function(T){h.some(function(R){return Ur(R,T)})||h.push(T)},y=0,E=f.elements;y<E.length;y++)g(E[y]);return{arrayValue:{values:h}}}var Cr=function(f){function l(h){var g=this;return(g=f.call(this)||this).elements=h,g}return U.__extends(l,f),l}(Qo);function xr(f,l){for(var h=Er(l),g=function(T){h=h.filter(function(R){return!Ur(R,T)})},y=0,E=f.elements;y<E.length;y++)g(E[y]);return{arrayValue:{values:h}}}var bs=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).serializer=h,y.je=g,y}return U.__extends(l,f),l}(Qo);function Uo(f){return jn(f.integerValue||f.doubleValue)}function Er(f){return xc(f)&&f.arrayValue.values?f.arrayValue.values.slice():[]}var Ir=function(){function f(l){this.fields=l,l.sort(Ge.i)}return f.prototype.Ye=function(l){for(var h=0,g=this.fields;h<g.length;h++)if(g[h].T(l))return!0;return!1},f.prototype.isEqual=function(l){return cn(this.fields,l.fields,function(h,g){return h.isEqual(g)})},f}(),la=function(f,l){this.field=f,this.transform=l},Da=function(f,l){this.version=f,this.transformResults=l},Vi=function(){function f(l,h){this.updateTime=l,this.exists=h}return f.ze=function(){return new f},f.exists=function(l){return new f(void 0,l)},f.updateTime=function(l){return new f(l)},Object.defineProperty(f.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){return this.exists===l.exists&&(this.updateTime?!!l.updateTime&&this.updateTime.isEqual(l.updateTime):!l.updateTime)},f}();function Vo(f,l){return void 0!==f.updateTime?l instanceof oi&&l.version.isEqual(f.updateTime):void 0===f.exists||f.exists===l instanceof oi}var Gr=function(){};function ei(f,l,h){return f instanceof rr?new oi((g=f).key,h.version,g.value,{hasCommittedMutations:!0}):f instanceof Wr?function(g,y,E){if(!Vo(g.Ge,y))return new Ul(g.key,E.version);var T=ua(g,y);return new oi(g.key,E.version,T,{hasCommittedMutations:!0})}(f,l,h):f instanceof Hi?function(g,y,E){if(at(null!=E.transformResults),!Vo(g.Ge,y))return new Ul(g.key,E.version);var T=al(0,y),R=function(re,ge,_e){var Pe=[];at(re.length===_e.length);for(var et=0;et<_e.length;et++){var ht=re[et],an=ht.transform,Jt=null;ge instanceof oi&&(Jt=ge.field(ht.field)),Pe.push(ca(an,Jt,_e[et]))}return Pe}(g.fieldTransforms,y,E.transformResults),V=E.version,Z=Zr(g,T.data(),R);return new oi(g.key,V,Z,{hasCommittedMutations:!0})}(f,l,h):function(g,y,E){return new kr(g.key,E.version,{hasCommittedMutations:!0})}(f,0,h);var g}function Oc(f,l,h,g){return f instanceof rr?function(y,E){if(!Vo(y.Ge,E))return E;var T=Ar(E);return new oi(y.key,T,y.value,{Je:!0})}(f,l):f instanceof Wr?function(y,E){if(!Vo(y.Ge,E))return E;var T=Ar(E),R=ua(y,E);return new oi(y.key,T,R,{Je:!0})}(f,l):f instanceof Hi?function(y,E,T,R){if(!Vo(y.Ge,E))return E;var V=al(0,E),Z=function(ge,_e,Pe,et){for(var ht=[],an=0,Jt=ge;an<Jt.length;an++){var Pn=Jt[an],Jn=Pn.transform,gi=null;Pe instanceof oi&&(gi=Pe.field(Pn.field)),null===gi&&et instanceof oi&&(gi=et.field(Pn.field)),ht.push(ki(Jn,gi,_e))}return ht}(y.fieldTransforms,T,E,R),re=Zr(y,V.data(),Z);return new oi(y.key,V.version,re,{Je:!0})}(f,l,g,h):Vo((y=f).Ge,E=l)?new kr(y.key,zt.min()):E;var y,E}function gu(f,l){return f instanceof Hi?function(h,g){for(var y=null,E=0,T=h.fieldTransforms;E<T.length;E++){var R=T[E],V=g instanceof oi?g.field(R.field):void 0,Z=Jo(R.transform,V||null);null!=Z&&(y=null==y?(new Yr).set(R.field,Z):y.set(R.field,Z))}return y?y.Xe():null}(f,l):null}function Oa(f,l){return f.type===l.type&&!!f.key.isEqual(l.key)&&!!f.Ge.isEqual(l.Ge)&&(0===f.type?f.value.isEqual(l.value):1===f.type?f.data.isEqual(l.data)&&f.We.isEqual(l.We):2!==f.type||cn(f.fieldTransforms,f.fieldTransforms,function(h,g){return(y=h).field.isEqual((E=g).field)&&(R=E.transform,(T=y.transform)instanceof qr&&R instanceof qr||T instanceof Cr&&R instanceof Cr?cn(T.elements,R.elements,Ur):T instanceof bs&&R instanceof bs?Ur(T.je,R.je):T instanceof on&&R instanceof on);var y,E,T,R}))}function Ar(f){return f instanceof oi?f.version:zt.min()}var rr=function(f){function l(h,g,y){var E=this;return(E=f.call(this)||this).key=h,E.value=g,E.Ge=y,E.type=0,E}return U.__extends(l,f),l}(Gr),Wr=function(f){function l(h,g,y,E){var T=this;return(T=f.call(this)||this).key=h,T.data=g,T.We=y,T.Ge=E,T.type=1,T}return U.__extends(l,f),l}(Gr);function ua(f,l){return h=f,g=l instanceof oi?l.data():Pr.empty(),y=new Yr(g),h.We.fields.forEach(function(E){if(!E.m()){var T=h.data.field(E);null!==T?y.set(E,T):y.delete(E)}}),y.Xe();var h,g,y}var Hi=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).key=h,y.fieldTransforms=g,y.type=2,y.Ge=Vi.exists(!0),y}return U.__extends(l,f),l}(Gr);function al(f,l){return l}function Zr(f,l,h){for(var g=new Yr(l),y=0;y<f.fieldTransforms.length;y++)g.set(f.fieldTransforms[y].field,h[y]);return g.Xe()}var Mr=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).key=h,y.Ge=g,y.type=3,y}return U.__extends(l,f),l}(Gr),cl=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).key=h,y.Ge=g,y.type=4,y}return U.__extends(l,f),l}(Gr),Pr=function(){function f(l){this.proto=l}return f.empty=function(){return new f({mapValue:{}})},f.prototype.field=function(l){if(l.m())return this.proto;for(var h=this.proto,g=0;g<l.length-1;++g)if(!h.mapValue.fields||!Ls(h=h.mapValue.fields[l.get(g)]))return null;return(h=(h.mapValue.fields||{})[l._()])||null},f.prototype.isEqual=function(l){return Ur(this.proto,l.proto)},f}(),Yr=function(){function f(l){void 0===l&&(l=Pr.empty()),this.Ze=l,this.tn=new Map}return f.prototype.set=function(l,h){return this.en(l,h),this},f.prototype.delete=function(l){return this.en(l,null),this},f.prototype.en=function(l,h){for(var g=this.tn,y=0;y<l.length-1;++y){var E=l.get(y),T=g.get(E);T instanceof Map?g=T:T&&10===er(T)?(T=new Map(Object.entries(T.mapValue.fields||{})),g.set(E,T),g=T):(g.set(E,T=new Map),g=T)}g.set(l._(),h)},f.prototype.Xe=function(){var l=this.nn(Ge.P(),this.tn);return null!=l?new Pr(l):this.Ze},f.prototype.nn=function(l,h){var g=this,y=!1,E=this.Ze.field(l),T=Ls(E)?Object.assign({},E.mapValue.fields):{};return h.forEach(function(R,V){if(R instanceof Map){var Z=g.nn(l.child(V),R);null!=Z&&(T[V]=Z,y=!0)}else null!==R?(T[V]=R,y=!0):T.hasOwnProperty(V)&&(delete T[V],y=!0)}),y?{mapValue:{fields:T}}:null},f}();function di(f){var l=[];return nt(f.fields||{},function(h,g){var y=new Ge([h]);if(Ls(g)){var E=di(g.mapValue).fields;if(0===E.length)l.push(y);else for(var T=0,R=E;T<R.length;T++)l.push(y.child(R[T]))}else l.push(y)}),new Ir(l)}var da=function(f,l){this.key=f,this.version=l},oi=function(f){function l(h,g,y,E){var T=this;return(T=f.call(this,h,g)||this).sn=y,T.Je=!!E.Je,T.hasCommittedMutations=!!E.hasCommittedMutations,T}return U.__extends(l,f),l.prototype.field=function(h){return this.sn.field(h)},l.prototype.data=function(){return this.sn},l.prototype.rn=function(){return this.sn.proto},l.prototype.isEqual=function(h){return h instanceof l&&this.key.isEqual(h.key)&&this.version.isEqual(h.version)&&this.Je===h.Je&&this.hasCommittedMutations===h.hasCommittedMutations&&this.sn.isEqual(h.sn)},l.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(l.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),l}(da),kr=function(f){function l(h,g,y){var E=this;return(E=f.call(this,h,g)||this).hasCommittedMutations=!(!y||!y.hasCommittedMutations),E}return U.__extends(l,f),l.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(l.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(h){return h instanceof l&&h.hasCommittedMutations===this.hasCommittedMutations&&h.version.isEqual(this.version)&&h.key.isEqual(this.key)},l}(da),Ul=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(l.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(h){return h instanceof l&&h.version.isEqual(this.version)&&h.key.isEqual(this.key)},l}(da),ws=function(f,l,h,g,y,E,T,R){void 0===l&&(l=null),void 0===h&&(h=[]),void 0===g&&(g=[]),void 0===y&&(y=null),void 0===E&&(E="F"),void 0===T&&(T=null),void 0===R&&(R=null),this.path=f,this.collectionGroup=l,this.on=h,this.filters=g,this.limit=y,this.an=E,this.startAt=T,this.endAt=R,this.cn=null,this.un=null};function Ac(f,l,h,g,y,E,T,R){return new ws(f,l,h,g,y,E,T,R)}function Aa(f){return new ws(f)}function Pc(f){return!Me(f.limit)&&"F"===f.an}function oc(f){return!Me(f.limit)&&"L"===f.an}function Vl(f){return f.on.length>0?f.on[0].field:null}function mi(f){for(var l=0,h=f.filters;l<h.length;l++){var g=h[l];if(g.hn())return g.field}return null}function _u(f){return null!==f.collectionGroup}function kc(f){var l=Ze(f);if(null===l.cn){l.cn=[];var h=mi(l),g=Vl(l);if(null!==h&&null===g)h.p()||l.cn.push(new pa(h)),l.cn.push(new pa(Ge.v(),"asc"));else{for(var y=!1,E=0,T=l.on;E<T.length;E++){var R=T[E];l.cn.push(R),R.field.p()&&(y=!0)}if(!y){var V=l.on.length>0?l.on[l.on.length-1].dir:"asc";l.cn.push(new pa(Ge.v(),V))}}}return l.cn}function Bo(f){var l=Ze(f);if(!l.un)if("F"===l.an)l.un=Fe(l.path,l.collectionGroup,kc(l),l.filters,l.limit,l.startAt,l.endAt);else{for(var h=[],g=0,y=kc(l);g<y.length;g++){var E=y[g];h.push(new pa(E.field,"desc"===E.dir?"asc":"desc"))}var R=l.endAt?new wo(l.endAt.position,!l.endAt.before):null,V=l.startAt?new wo(l.startAt.position,!l.startAt.before):null;l.un=Fe(l.path,l.collectionGroup,h,l.filters,l.limit,R,V)}return l.un}function Kd(f,l,h){return new ws(f.path,f.collectionGroup,f.on.slice(),f.filters.slice(),l,h,f.startAt,f.endAt)}function sc(f,l){return new ws(f.path,f.collectionGroup,f.on.slice(),f.filters.slice(),f.limit,f.an,l,f.endAt)}function bo(f,l){return new ws(f.path,f.collectionGroup,f.on.slice(),f.filters.slice(),f.limit,f.an,f.startAt,l)}function ac(f,l){return mn(Bo(f),Bo(l))&&f.an===l.an}function ha(f){return xt(Bo(f))+"|lt:"+f.an}function Cs(f){return"Query(target="+(h=(l=Bo(f)).path.R(),null!==l.collectionGroup&&(h+=" collectionGroup="+l.collectionGroup),l.filters.length>0&&(h+=", filters: ["+l.filters.map(function(g){return(y=g).field.R()+" "+y.op+" "+ls(y.value);var y}).join(", ")+"]"),Me(l.limit)||(h+=", limit: "+l.limit),l.orderBy.length>0&&(h+=", orderBy: ["+l.orderBy.map(function(g){return(y=g).field.R()+" ("+y.dir+")";var y}).join(", ")+"]"),l.startAt&&(h+=", startAt: "+cc(l.startAt)),l.endAt&&(h+=", endAt: "+cc(l.endAt)),"Target("+h+"); limitType=")+f.an+")";var l,h}function Bl(f,l){return y=(g=l).key.path,(null!==(h=f).collectionGroup?g.key.N(h.collectionGroup)&&h.path.T(y):Le.F(h.path)?h.path.isEqual(y):h.path.I(y))&&function(h,g){for(var y=0,E=h.on;y<E.length;y++){var T=E[y];if(!T.field.p()&&null===g.field(T.field))return!1}return!0}(f,l)&&function(h,g){for(var y=0,E=h.filters;y<E.length;y++)if(!E[y].matches(g))return!1;return!0}(f,l)&&function(h,g){return!(h.startAt&&!jl(h.startAt,kc(h),g)||h.endAt&&jl(h.endAt,kc(h),g))}(f,l);var h,g,y}function vu(f){return function(l,h){for(var g=!1,y=0,E=kc(f);y<E.length;y++){var T=E[y],R=ll(T,l,h);if(0!==R)return R;g=g||T.field.p()}return 0}}var Rr=function(f){function l(h,g,y){var E=this;return(E=f.call(this)||this).field=h,E.op=g,E.value=y,E}return U.__extends(l,f),l.create=function(h,g,y){if(h.p())return"in"===g||"not-in"===g?this.ln(h,g,y):new js(h,g,y);if(tc(y)){if("=="!==g&&"!="!==g)throw new G(z.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new l(h,g,y)}if($r(y)){if("=="!==g&&"!="!==g)throw new G(z.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new l(h,g,y)}return"array-contains"===g?new ur(h,y):"in"===g?new Pa(h,y):"not-in"===g?new Kr(h,y):"array-contains-any"===g?new Nc(h,y):new l(h,g,y)},l.ln=function(h,g,y){return"in"===g?new fa(h,y):new Rc(h,y)},l.prototype.matches=function(h){var g=h.field(this.field);return"!="===this.op?null!==g&&this._n(Ta(g,this.value)):null!==g&&er(this.value)===er(g)&&this._n(Ta(g,this.value))},l.prototype._n=function(h){switch(this.op){case"<":return h<0;case"<=":return h<=0;case"==":return 0===h;case"!=":return 0!==h;case">":return h>0;case">=":return h>=0;default:return Re()}},l.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},l}(function(){}),js=function(f){function l(h,g,y){var E=this;return(E=f.call(this,h,g,y)||this).key=Le.C(y.referenceValue),E}return U.__extends(l,f),l.prototype.matches=function(h){var g=Le.i(h.key,this.key);return this._n(g)},l}(Rr),fa=function(f){function l(h,g){var y=this;return(y=f.call(this,h,"in",g)||this).keys=jo(0,g),y}return U.__extends(l,f),l.prototype.matches=function(h){return this.keys.some(function(g){return g.isEqual(h.key)})},l}(Rr),Rc=function(f){function l(h,g){var y=this;return(y=f.call(this,h,"not-in",g)||this).keys=jo(0,g),y}return U.__extends(l,f),l.prototype.matches=function(h){return!this.keys.some(function(g){return g.isEqual(h.key)})},l}(Rr);function jo(f,l){var h;return((null===(h=l.arrayValue)||void 0===h?void 0:h.values)||[]).map(function(g){return Le.C(g.referenceValue)})}var ur=function(f){function l(h,g){return f.call(this,h,"array-contains",g)||this}return U.__extends(l,f),l.prototype.matches=function(h){var g=h.field(this.field);return xc(g)&&_o(g.arrayValue,this.value)},l}(Rr),Pa=function(f){function l(h,g){return f.call(this,h,"in",g)||this}return U.__extends(l,f),l.prototype.matches=function(h){var g=h.field(this.field);return null!==g&&_o(this.value.arrayValue,g)},l}(Rr),Kr=function(f){function l(h,g){return f.call(this,h,"not-in",g)||this}return U.__extends(l,f),l.prototype.matches=function(h){if(_o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var g=h.field(this.field);return null!==g&&!_o(this.value.arrayValue,g)},l}(Rr),Nc=function(f){function l(h,g){return f.call(this,h,"array-contains-any",g)||this}return U.__extends(l,f),l.prototype.matches=function(h){var g=this,y=h.field(this.field);return!(!xc(y)||!y.arrayValue.values)&&y.arrayValue.values.some(function(E){return _o(g.value.arrayValue,E)})},l}(Rr),wo=function(f,l){this.position=f,this.before=l};function cc(f){return(f.before?"b":"a")+":"+f.position.map(function(l){return ls(l)}).join(",")}function jl(f,l,h){for(var g=0,y=0;y<f.position.length;y++){var E=l[y],T=f.position[y];if(g=E.field.p()?Le.i(Le.C(T.referenceValue),h.key):Ta(T,h.field(E.field)),"desc"===E.dir&&(g*=-1),0!==g)break}return f.before?g<=0:g<0}function zs(f,l){if(null===f)return null===l;if(null===l||f.before!==l.before||f.position.length!==l.position.length)return!1;for(var h=0;h<f.position.length;h++)if(!Ur(f.position[h],l.position[h]))return!1;return!0}var pa=function(f,l){void 0===l&&(l="asc"),this.field=f,this.dir=l};function ll(f,l,h){var y,T,R,V,g=f.field.p()?Le.i(l.key,h.key):(T=h,R=l.field(y=f.field),V=T.field(y),null!==R&&null!==V?Ta(R,V):Re());switch(f.dir){case"asc":return g;case"desc":return-1*g;default:return Re()}}function yi(f,l){return f.dir===l.dir&&f.field.isEqual(l.field)}var zo=function(){var f=this;this.promise=new Promise(function(l,h){f.resolve=l,f.reject=h})},ka=function(){function f(l,h,g,y,E){void 0===g&&(g=1e3),void 0===y&&(y=1.5),void 0===E&&(E=6e4),this.fn=l,this.dn=h,this.wn=g,this.mn=y,this.Tn=E,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return f.prototype.reset=function(){this.En=0},f.prototype.Rn=function(){this.En=this.Tn},f.prototype.gn=function(l){var h=this;this.cancel();var g=Math.floor(this.En+this.Pn()),y=Math.max(0,Date.now()-this.An),E=Math.max(0,g-y);E>0&&me("ExponentialBackoff","Backing off for "+E+" ms (base delay: "+this.En+" ms, delay with jitter: "+g+" ms, last attempt: "+y+" ms ago)"),this.In=this.fn.yn(this.dn,E,function(){return h.An=Date.now(),l()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},f.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},f.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},f.prototype.Pn=function(){return(Math.random()-.5)*this.En},f}(),It=function(){function f(l){var h=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,l(function(g){h.Sn=!0,h.result=g,h.bn&&h.bn(g)},function(g){h.Sn=!0,h.error=g,h.vn&&h.vn(g)})}return f.prototype.catch=function(l){return this.next(void 0,l)},f.prototype.next=function(l,h){var g=this;return this.Dn&&Re(),this.Dn=!0,this.Sn?this.error?this.Cn(h,this.error):this.Nn(l,this.result):new f(function(y,E){g.bn=function(T){g.Nn(l,T).next(y,E)},g.vn=function(T){g.Cn(h,T).next(y,E)}})},f.prototype.Fn=function(){var l=this;return new Promise(function(h,g){l.next(h,g)})},f.prototype.xn=function(l){try{var h=l();return h instanceof f?h:f.resolve(h)}catch(g){return f.reject(g)}},f.prototype.Nn=function(l,h){return l?this.xn(function(){return l(h)}):f.resolve(h)},f.prototype.Cn=function(l,h){return l?this.xn(function(){return l(h)}):f.reject(h)},f.resolve=function(l){return new f(function(h,g){h(l)})},f.reject=function(l){return new f(function(h,g){g(l)})},f.$n=function(l){return new f(function(h,g){var y=0,E=0,T=!1;l.forEach(function(R){++y,R.next(function(){++E,T&&E===y&&h()},function(V){return g(V)})}),T=!0,E===y&&h()})},f.kn=function(l){for(var h=f.resolve(!1),g=function(T){h=h.next(function(R){return R?f.resolve(R):T()})},y=0,E=l;y<E.length;y++)g(E[y]);return h},f.forEach=function(l,h){var g=this,y=[];return l.forEach(function(E,T){y.push(h.call(g,E,T))}),this.$n(y)},f}(),Xo=function(){function f(l,h,g){this.name=l,this.version=h,this.Mn=g,12.2===f.On(ce.getUA())&&lt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return f.delete=function(l){return me("SimpleDb","Removing database:",l),Ra(window.indexedDB.deleteDatabase(l)).Fn()},f.Ln=function(){if(typeof indexedDB>"u")return!1;if(f.Bn())return!0;var l=ce.getUA(),h=f.On(l),g=0<h&&h<10,y=f.qn(l),E=0<y&&y<4.5;return!(l.indexOf("MSIE ")>0||l.indexOf("Trident/")>0||l.indexOf("Edge/")>0||g||E)},f.Bn=function(){var l;return typeof process<"u"&&"YES"===(null===(l=process.env)||void 0===l?void 0:l.Un)},f.Qn=function(l,h){return l.store(h)},f.On=function(l){var h=l.match(/i(?:phone|pad|pod) os ([\d_]+)/i),g=h?h[1].split("_").slice(0,2).join("."):"-1";return Number(g)},f.qn=function(l){var h=l.match(/Android ([\d.]+)/i),g=h?h[1].split(".").slice(0,2).join("."):"-1";return Number(g)},f.prototype.Wn=function(l){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.db?[3,2]:(me("SimpleDb","Opening database:",this.name),h=this,[4,new Promise(function(E,T){var R=indexedDB.open(g.name,g.version);R.onsuccess=function(V){E(V.target.result)},R.onblocked=function(){T(new Co(l,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},R.onerror=function(V){var Z=V.target.error;T("VersionError"===Z.name?new G(z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Co(l,Z))},R.onupgradeneeded=function(V){me("SimpleDb",'Database "'+g.name+'" requires upgrade from version:',V.oldVersion),g.Mn.createOrUpgrade(V.target.result,R.transaction,V.oldVersion,g.version).next(function(){me("SimpleDb","Database upgrade to version "+g.version+" complete")})}})]);case 1:h.db=y.sent(),y.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(E){return g.jn(E)}),this.db)]}})})},f.prototype.Kn=function(l){this.jn=l,this.db&&(this.db.onversionchange=function(h){return l(h)})},f.prototype.runTransaction=function(l,h,g,y){return U.__awaiter(this,void 0,void 0,function(){var E,T,R,V,Z;return U.__generator(this,function(re){switch(re.label){case 0:E="readonly"===h,T=0,R=function(){var ge,_e,Pe,et,ht;return U.__generator(this,function(an){switch(an.label){case 0:++T,an.label=1;case 1:return an.trys.push([1,4,,5]),[4,V.Wn(l)];case 2:return V.db=an.sent(),ge=Lc.open(V.db,l,E?"readonly":"readwrite",g),_e=y(ge).catch(function(Jt){return ge.abort(Jt),It.reject(Jt)}).Fn(),Pe={},_e.catch(function(){}),[4,ge.Gn];case 3:return[2,(Pe.value=(an.sent(),_e),Pe)];case 4:return me("SimpleDb","Transaction failed with error:",(et=an.sent()).message,"Retrying:",ht="FirebaseError"!==et.name&&T<3),V.close(),ht?[3,5]:[2,{value:Promise.reject(et)}];case 5:return[2]}})},V=this,re.label=1;case 1:return[5,R()];case 2:if("object"==typeof(Z=re.sent()))return[2,Z.value];re.label=3;case 3:return[3,1];case 4:return[2]}})})},f.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},f}(),Fc=function(){function f(l){this.zn=l,this.Hn=!1,this.Yn=null}return Object.defineProperty(f.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cursor",{set:function(l){this.zn=l},enumerable:!1,configurable:!0}),f.prototype.done=function(){this.Hn=!0},f.prototype.Xn=function(l){this.Yn=l},f.prototype.delete=function(){return Ra(this.zn.delete())},f}(),Co=function(f){function l(h,g){var y=this;return(y=f.call(this,z.UNAVAILABLE,"IndexedDB transaction '"+h+"' failed: "+g)||this).name="IndexedDbTransactionError",y}return U.__extends(l,f),l}(G);function Hs(f){return"IndexedDbTransactionError"===f.name}var Lc=function(){function f(l,h){var g=this;this.action=l,this.transaction=h,this.aborted=!1,this.Zn=new zo,this.transaction.oncomplete=function(){g.Zn.resolve()},this.transaction.onabort=function(){h.error?g.Zn.reject(new Co(l,h.error)):g.Zn.resolve()},this.transaction.onerror=function(y){var E=N(y.target.error);g.Zn.reject(new Co(l,E))}}return f.open=function(l,h,g,y){try{return new f(h,l.transaction(y,g))}catch(E){throw new Co(h,E)}},Object.defineProperty(f.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),f.prototype.abort=function(l){l&&this.Zn.reject(l),this.aborted||(me("SimpleDb","Aborting transaction:",l?l.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},f.prototype.store=function(l){var h=this.transaction.objectStore(l);return new Xu(h)},f}(),Xu=function(){function f(l){this.store=l}return f.prototype.put=function(l,h){var g;return void 0!==h?(me("SimpleDb","PUT",this.store.name,l,h),g=this.store.put(h,l)):(me("SimpleDb","PUT",this.store.name,"<auto-key>",l),g=this.store.put(l)),Ra(g)},f.prototype.add=function(l){return me("SimpleDb","ADD",this.store.name,l,l),Ra(this.store.add(l))},f.prototype.get=function(l){var h=this;return Ra(this.store.get(l)).next(function(g){return void 0===g&&(g=null),me("SimpleDb","GET",h.store.name,l,g),g})},f.prototype.delete=function(l){return me("SimpleDb","DELETE",this.store.name,l),Ra(this.store.delete(l))},f.prototype.count=function(){return me("SimpleDb","COUNT",this.store.name),Ra(this.store.count())},f.prototype.ts=function(l,h){var g=this.cursor(this.options(l,h)),y=[];return this.es(g,function(E,T){y.push(T)}).next(function(){return y})},f.prototype.ns=function(l,h){me("SimpleDb","DELETE ALL",this.store.name);var g=this.options(l,h);g.ss=!1;var y=this.cursor(g);return this.es(y,function(E,T,R){return R.delete()})},f.prototype.rs=function(l,h){var g;h?g=l:(g={},h=l);var y=this.cursor(g);return this.es(y,h)},f.prototype.os=function(l){var h=this.cursor({});return new It(function(g,y){h.onerror=function(E){var T=N(E.target.error);y(T)},h.onsuccess=function(E){var T=E.target.result;T?l(T.primaryKey,T.value).next(function(R){R?T.continue():g()}):g()}})},f.prototype.es=function(l,h){var g=[];return new It(function(y,E){l.onerror=function(T){E(T.target.error)},l.onsuccess=function(T){var R=T.target.result;if(R){var V=new Fc(R),Z=h(R.primaryKey,R.value,V);if(Z instanceof It){var re=Z.catch(function(ge){return V.done(),It.reject(ge)});g.push(re)}V.Sn?y():null===V.Jn?R.continue():R.continue(V.Jn)}else y()}}).next(function(){return It.$n(g)})},f.prototype.options=function(l,h){var g=void 0;return void 0!==l&&("string"==typeof l?g=l:h=l),{index:g,range:h}},f.prototype.cursor=function(l){var h="next";if(l.reverse&&(h="prev"),l.index){var g=this.store.index(l.index);return l.ss?g.openKeyCursor(l.range,h):g.openCursor(l.range,h)}return this.store.openCursor(l.range,h)},f}();function Ra(f){return new It(function(l,h){f.onsuccess=function(g){l(g.target.result)},f.onerror=function(g){var y=N(g.target.error);h(y)}})}var C=!1;function N(f){var l=Xo.On(ce.getUA());if(l>=12.2&&l<13){var h="An internal error was encountered in the Indexed Database server";if(f.message.indexOf(h)>=0){var g=new G("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+h+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return C||(C=!0,setTimeout(function(){throw g},0)),g}}return f}function j(){return typeof window<"u"?window:null}function ee(){return typeof document<"u"?document:null}var ve=function(){function f(l,h,g,y,E){this.cs=l,this.dn=h,this.us=g,this.op=y,this.hs=E,this.ls=new zo,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(T){})}return f._s=function(l,h,g,y,E){var T=new f(l,h,Date.now()+g,y,E);return T.start(g),T},f.prototype.start=function(l){var h=this;this.fs=setTimeout(function(){return h.ds()},l)},f.prototype.pn=function(){return this.ds()},f.prototype.cancel=function(l){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new G(z.CANCELLED,"Operation cancelled"+(l?": "+l:""))))},f.prototype.ds=function(){var l=this;this.cs.ws(function(){return null!==l.fs?(l.clearTimeout(),l.op().then(function(h){return l.ls.resolve(h)})):Promise.resolve()})},f.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},f}(),Ke=function(){function f(){var l=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new ka(this,"async_queue_retry"),this.Vs=function(){var g=ee();g&&me("AsyncQueue","Visibility state changed to  ",g.visibilityState),l.ys.Vn()};var h=ee();h&&"function"==typeof h.addEventListener&&h.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(f.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),f.prototype.ws=function(l){this.enqueue(l)},f.prototype.bs=function(l){this.vs(),this.Ss(l)},f.prototype.Ds=function(){if(!this.Is){this.Is=!0;var l=ee();l&&"function"==typeof l.removeEventListener&&l.removeEventListener("visibilitychange",this.Vs)}},f.prototype.enqueue=function(l){return this.vs(),this.Is?new Promise(function(h){}):this.Ss(l)},f.prototype.Cs=function(l){var h=this;this.ws(function(){return h.Es.push(l),h.Ns()})},f.prototype.Ns=function(){return U.__awaiter(this,void 0,void 0,function(){var l,h=this;return U.__generator(this,function(g){switch(g.label){case 0:if(0===this.Es.length)return[3,5];g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return g.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!Hs(l=g.sent()))throw l;return me("AsyncQueue","Operation failed with retryable error: "+l),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return h.Ns()}),g.label=5;case 5:return[2]}})})},f.prototype.Ss=function(l){var h=this,g=this.Ts.then(function(){return h.gs=!0,l().catch(function(y){throw h.Rs=y,h.gs=!1,lt("INTERNAL UNHANDLED ERROR: ",(T=(E=y).message||"",E.stack&&(T=E.stack.includes(E.message)?E.stack:E.message+"\n"+E.stack),T)),y;var E,T}).then(function(y){return h.gs=!1,y})});return this.Ts=g,g},f.prototype.yn=function(l,h,g){var y=this;this.vs(),this.Ps.indexOf(l)>-1&&(h=0);var E=ve._s(this,l,h,g,function(T){return y.Fs(T)});return this.As.push(E),E},f.prototype.vs=function(){this.Rs&&Re()},f.prototype.xs=function(){},f.prototype.$s=function(){return U.__awaiter(this,void 0,void 0,function(){var l;return U.__generator(this,function(h){switch(h.label){case 0:return[4,l=this.Ts];case 1:h.sent(),h.label=2;case 2:if(l!==this.Ts)return[3,0];h.label=3;case 3:return[2]}})})},f.prototype.ks=function(l){for(var h=0,g=this.As;h<g.length;h++)if(g[h].dn===l)return!0;return!1},f.prototype.Ms=function(l){var h=this;return this.$s().then(function(){h.As.sort(function(T,R){return T.us-R.us});for(var g=0,y=h.As;g<y.length;g++){var E=y[g];if(E.pn(),"all"!==l&&E.dn===l)break}return h.$s()})},f.prototype.Os=function(l){this.Ps.push(l)},f.prototype.Fs=function(l){var h=this.As.indexOf(l);this.As.splice(h,1)},f}();function Rt(f,l){if(lt("AsyncQueue",l+": "+f),Hs(f))return new G(z.UNAVAILABLE,l+": "+f);throw f}var Gn=function(){this.Ls=void 0,this.listeners=[]},ti=function(){this.Bs=new Kt(function(f){return ha(f)},ac),this.onlineState="Unknown",this.qs=new Set};function dr(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y,E,T,R,V;return U.__generator(this,function(Z){switch(Z.label){case 0:if(h=Ze(f),y=!1,(E=h.Bs.get(g=l.query))||(y=!0,E=new Gn),!y)return[3,4];Z.label=1;case 1:return Z.trys.push([1,3,,4]),T=E,[4,h.Us(g)];case 2:return T.Ls=Z.sent(),[3,4];case 3:return R=Z.sent(),V=Rt(R,"Initialization of query '"+Cs(l.query)+"' failed"),[2,void l.onError(V)];case 4:return h.Bs.set(g,E),E.listeners.push(l),l.Qs(h.onlineState),E.Ls&&l.Ws(E.Ls)&&$s(h),[2]}})})}function xo(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y,E,T;return U.__generator(this,function(R){return h=Ze(f),y=!1,(E=h.Bs.get(g=l.query))&&(T=E.listeners.indexOf(l))>=0&&(E.listeners.splice(T,1),y=0===E.listeners.length),y?[2,(h.Bs.delete(g),h.js(g))]:[2]})})}function es(f,l){for(var h=Ze(f),g=!1,y=0,E=l;y<E.length;y++){var T=E[y],V=h.Bs.get(T.query);if(V){for(var Z=0,re=V.listeners;Z<re.length;Z++)re[Z].Ws(T)&&(g=!0);V.Ls=T}}g&&$s(h)}function Uc(f,l,h){var g=Ze(f),y=g.Bs.get(l);if(y)for(var E=0,T=y.listeners;E<T.length;E++)T[E].onError(h);g.Bs.delete(l)}function $s(f){f.qs.forEach(function(l){l.next()})}var ul=function(){function f(l,h,g){this.query=l,this.Ks=h,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=g||{}}return f.prototype.Ws=function(l){if(!this.options.includeMetadataChanges){for(var h=[],g=0,y=l.docChanges;g<y.length;g++){var E=y[g];3!==E.type&&h.push(E)}l=new xn(l.query,l.docs,l.Qt,h,l.Wt,l.fromCache,l.jt,!0)}var T=!1;return this.Gs?this.Hs(l)&&(this.Ks.next(l),T=!0):this.Ys(l,this.onlineState)&&(this.Js(l),T=!0),this.zs=l,T},f.prototype.onError=function(l){this.Ks.error(l)},f.prototype.Qs=function(l){this.onlineState=l;var h=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,l)&&(this.Js(this.zs),h=!0),h},f.prototype.Ys=function(l,h){return!l.fromCache||!(this.options.Xs&&"Offline"!==h||l.docs.m()&&"Offline"!==h)},f.prototype.Hs=function(l){return l.docChanges.length>0||!!(l.jt||this.zs&&this.zs.hasPendingWrites!==l.hasPendingWrites)&&!0===this.options.includeMetadataChanges},f.prototype.Js=function(l){l=xn.Gt(l.query,l.docs,l.Wt,l.fromCache),this.Gs=!0,this.Ks.next(l)},f}(),Eo=function(){function f(l){this.uid=l}return f.prototype.Zs=function(){return null!=this.uid},f.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},f.prototype.isEqual=function(l){return l.uid===this.uid},f}();Eo.UNAUTHENTICATED=new Eo(null),Eo.ei=new Eo("google-credentials-uid"),Eo.ni=new Eo("first-party-uid");var Io=function(){function f(l,h){var g=this;this.previousValue=l,h&&(h.si=function(y){return g.ii(y)},this.ri=function(y){return h.oi(y)})}return f.prototype.ii=function(l){return this.previousValue=Math.max(l,this.previousValue),this.previousValue},f.prototype.next=function(){var l=++this.previousValue;return this.ri&&this.ri(l),l},f}();function ed(f,l){return"firestore_clients_"+f+"_"+l}function zh(f,l,h){var g="firestore_mutations_"+f+"_"+h;return l.Zs()&&(g+="_"+l.uid),g}function yu(f,l){return"firestore_targets_"+f+"_"+l}Io.ai=-1;var Hh=function(){function f(l,h,g,y){this.user=l,this.batchId=h,this.state=g,this.error=y}return f.ci=function(l,h,g){var y=JSON.parse(g),E="object"==typeof y&&-1!==["pending","acknowledged","rejected"].indexOf(y.state)&&(void 0===y.error||"object"==typeof y.error),T=void 0;return E&&y.error&&(E="string"==typeof y.error.message&&"string"==typeof y.error.code)&&(T=new G(y.error.code,y.error.message)),E?new f(l,h,y.state,T):(lt("SharedClientState","Failed to parse mutation state for ID '"+h+"': "+g),null)},f.prototype.ui=function(){var l={state:this.state,updateTimeMs:Date.now()};return this.error&&(l.error={code:this.error.code,message:this.error.message}),JSON.stringify(l)},f}(),zl=function(){function f(l,h,g){this.targetId=l,this.state=h,this.error=g}return f.ci=function(l,h){var g=JSON.parse(h),y="object"==typeof g&&-1!==["not-current","current","rejected"].indexOf(g.state)&&(void 0===g.error||"object"==typeof g.error),E=void 0;return y&&g.error&&(y="string"==typeof g.error.message&&"string"==typeof g.error.code)&&(E=new G(g.error.code,g.error.message)),y?new f(l,g.state,E):(lt("SharedClientState","Failed to parse target state for ID '"+l+"': "+h),null)},f.prototype.ui=function(){var l={state:this.state,updateTimeMs:Date.now()};return this.error&&(l.error={code:this.error.code,message:this.error.message}),JSON.stringify(l)},f}(),Hl=function(){function f(l,h){this.clientId=l,this.activeTargetIds=h}return f.ci=function(l,h){for(var g=JSON.parse(h),y="object"==typeof g&&g.activeTargetIds instanceof Array,E=yn(),T=0;y&&T<g.activeTargetIds.length;++T)y=Ee(g.activeTargetIds[T]),E=E.add(g.activeTargetIds[T]);return y?new f(l,E):(lt("SharedClientState","Failed to parse client data for instance '"+l+"': "+h),null)},f}(),td=function(){function f(l,h){this.clientId=l,this.onlineState=h}return f.ci=function(l){var h=JSON.parse(l);return"object"==typeof h&&-1!==["Unknown","Online","Offline"].indexOf(h.onlineState)&&"string"==typeof h.clientId?new f(h.clientId,h.onlineState):(lt("SharedClientState","Failed to parse online state: "+l),null)},f}(),xs=function(){function f(){this.activeTargetIds=yn()}return f.prototype.hi=function(l){this.activeTargetIds=this.activeTargetIds.add(l)},f.prototype.li=function(l){this.activeTargetIds=this.activeTargetIds.delete(l)},f.prototype.ui=function(){var l={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(l)},f}(),Vc=function(){function f(l,h,g,y,E){this.window=l,this.fn=h,this.persistenceKey=g,this._i=y,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new qn(Ut),this.Ei=!1,this.Ii=[];var T=g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=E,this.Ai=ed(this.persistenceKey,this._i),this.Ri="firestore_sequence_number_"+this.persistenceKey,this.Ti=this.Ti.ot(this._i,new xs),this.gi=new RegExp("^firestore_clients_"+T+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+T+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+T+"_(\\d+)$"),this.Vi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.wi)}return f.Ln=function(l){return!(!l||!l.localStorage)},f.prototype.start=function(){return U.__awaiter(this,void 0,void 0,function(){var l,h,g,y,E,T,R,V,Z,re,_e=this;return U.__generator(this,function(Pe){switch(Pe.label){case 0:return[4,this.fi.pi()];case 1:for(l=Pe.sent(),h=0,g=l;h<g.length;h++)(y=g[h])!==this._i&&(E=this.getItem(ed(this.persistenceKey,y)))&&(T=Hl.ci(y,E))&&(this.Ti=this.Ti.ot(T.clientId,T));for(this.bi(),(R=this.storage.getItem(this.Vi))&&(V=this.vi(R))&&this.Si(V),Z=0,re=this.Ii;Z<re.length;Z++)this.mi(re[Z]);return this.Ii=[],this.window.addEventListener("unload",function(){return _e.Di()}),this.Ei=!0,[2]}})})},f.prototype.oi=function(l){this.setItem(this.Ri,JSON.stringify(l))},f.prototype.Ci=function(){return this.Ni(this.Ti)},f.prototype.Fi=function(l){var h=!1;return this.Ti.forEach(function(g,y){y.activeTargetIds.has(l)&&(h=!0)}),h},f.prototype.xi=function(l){this.$i(l,"pending")},f.prototype.ki=function(l,h,g){this.$i(l,h,g),this.Mi(l)},f.prototype.Oi=function(l){var h="not-current";if(this.Fi(l)){var g=this.storage.getItem(yu(this.persistenceKey,l));if(g){var y=zl.ci(l,g);y&&(h=y.state)}}return this.Li.hi(l),this.bi(),h},f.prototype.Bi=function(l){this.Li.li(l),this.bi()},f.prototype.qi=function(l){return this.Li.activeTargetIds.has(l)},f.prototype.Ui=function(l){this.removeItem(yu(this.persistenceKey,l))},f.prototype.Qi=function(l,h,g){this.Wi(l,h,g)},f.prototype.ji=function(l,h,g){var y=this;h.forEach(function(E){y.Mi(E)}),this.currentUser=l,g.forEach(function(E){y.xi(E)})},f.prototype.Ki=function(l){this.Gi(l)},f.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},f.prototype.getItem=function(l){var h=this.storage.getItem(l);return me("SharedClientState","READ",l,h),h},f.prototype.setItem=function(l,h){me("SharedClientState","SET",l,h),this.storage.setItem(l,h)},f.prototype.removeItem=function(l){me("SharedClientState","REMOVE",l),this.storage.removeItem(l)},f.prototype.mi=function(l){var h=this,g=l;if(g.storageArea===this.storage){if(me("SharedClientState","EVENT",g.key,g.newValue),g.key===this.Ai)return void lt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return U.__awaiter(h,void 0,void 0,function(){var y,E,T,R,V,Z;return U.__generator(this,function(re){if(this.Ei){if(null!==g.key)if(this.gi.test(g.key)){if(null==g.newValue)return y=this.zi(g.key),[2,this.Hi(y,null)];if(E=this.Yi(g.key,g.newValue))return[2,this.Hi(E.clientId,E)]}else if(this.Pi.test(g.key)){if(null!==g.newValue&&(T=this.Ji(g.key,g.newValue)))return[2,this.Xi(T)]}else if(this.yi.test(g.key)){if(null!==g.newValue&&(R=this.Zi(g.key,g.newValue)))return[2,this.tr(R)]}else if(g.key===this.Vi){if(null!==g.newValue&&(V=this.vi(g.newValue)))return[2,this.Si(V)]}else g.key===this.Ri&&(Z=function(ge){var _e=Io.ai;if(null!=ge)try{var Pe=JSON.parse(ge);at("number"==typeof Pe),_e=Pe}catch(et){lt("SharedClientState","Failed to read sequence number from WebStorage",et)}return _e}(g.newValue))!==Io.ai&&this.si(Z)}else this.Ii.push(g);return[2]})})})}},Object.defineProperty(f.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),f.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},f.prototype.$i=function(l,h,g){var y=new Hh(this.currentUser,l,h,g),E=zh(this.persistenceKey,this.currentUser,l);this.setItem(E,y.ui())},f.prototype.Mi=function(l){var h=zh(this.persistenceKey,this.currentUser,l);this.removeItem(h)},f.prototype.Gi=function(l){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:l}))},f.prototype.Wi=function(l,h,g){var y=yu(this.persistenceKey,l),E=new zl(l,h,g);this.setItem(y,E.ui())},f.prototype.zi=function(l){var h=this.gi.exec(l);return h?h[1]:null},f.prototype.Yi=function(l,h){var g=this.zi(l);return Hl.ci(g,h)},f.prototype.Ji=function(l,h){var g=this.Pi.exec(l),y=Number(g[1]);return Hh.ci(new Eo(void 0!==g[2]?g[2]:null),y,h)},f.prototype.Zi=function(l,h){var g=this.yi.exec(l),y=Number(g[1]);return zl.ci(y,h)},f.prototype.vi=function(l){return td.ci(l)},f.prototype.Xi=function(l){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){return l.user.uid===this.currentUser.uid?[2,this.fi.er(l.batchId,l.state,l.error)]:(me("SharedClientState","Ignoring mutation for non-active user "+l.user.uid),[2])})})},f.prototype.tr=function(l){return this.fi.nr(l.targetId,l.state,l.error)},f.prototype.Hi=function(l,h){var g=this,y=h?this.Ti.ot(l,h):this.Ti.remove(l),E=this.Ni(this.Ti),T=this.Ni(y),R=[],V=[];return T.forEach(function(Z){E.has(Z)||R.push(Z)}),E.forEach(function(Z){T.has(Z)||V.push(Z)}),this.fi.sr(R,V).then(function(){g.Ti=y})},f.prototype.Si=function(l){this.Ti.get(l.clientId)&&this.di(l.onlineState)},f.prototype.Ni=function(l){var h=yn();return l.forEach(function(g,y){h=h.kt(y.activeTargetIds)}),h},f}(),dl=function(){function f(){this.ir=new xs,this.rr={},this.di=null,this.si=null}return f.prototype.xi=function(l){},f.prototype.ki=function(l,h,g){},f.prototype.Oi=function(l){return this.ir.hi(l),this.rr[l]||"not-current"},f.prototype.Qi=function(l,h,g){this.rr[l]=h},f.prototype.Bi=function(l){this.ir.li(l)},f.prototype.qi=function(l){return this.ir.activeTargetIds.has(l)},f.prototype.Ui=function(l){delete this.rr[l]},f.prototype.Ci=function(){return this.ir.activeTargetIds},f.prototype.Fi=function(l){return this.ir.activeTargetIds.has(l)},f.prototype.start=function(){return this.ir=new xs,Promise.resolve()},f.prototype.ji=function(l,h,g){},f.prototype.Ki=function(l){},f.prototype.Di=function(){},f.prototype.oi=function(l){},f}(),nd=function(){function f(l,h,g,y){this.batchId=l,this.ar=h,this.baseMutations=g,this.mutations=y}return f.prototype.cr=function(l,h,g){for(var y=g.ur,E=0;E<this.mutations.length;E++){var T=this.mutations[E];T.key.isEqual(l)&&(h=ei(T,h,y[E]))}return h},f.prototype.hr=function(l,h){for(var g=0,y=this.baseMutations;g<y.length;g++){var E=y[g];E.key.isEqual(l)&&(h=Oc(E,h,h,this.ar))}for(var T=h,R=0,V=this.mutations;R<V.length;R++){var Z=V[R];Z.key.isEqual(l)&&(h=Oc(Z,h,T,this.ar))}return h},f.prototype.lr=function(l){var h=this,g=l;return this.mutations.forEach(function(y){var E=h.hr(y.key,l.get(y.key));E&&(g=g.ot(y.key,E))}),g},f.prototype.keys=function(){return this.mutations.reduce(function(l,h){return l.add(h.key)},Qe())},f.prototype.isEqual=function(l){return this.batchId===l.batchId&&cn(this.mutations,l.mutations,function(h,g){return Oa(h,g)})&&cn(this.baseMutations,l.baseMutations,function(h,g){return Oa(h,g)})},f}(),bu=function(){function f(l,h,g,y){this.batch=l,this._r=h,this.ur=g,this.dr=y}return f.from=function(l,h,g){at(l.mutations.length===g.length);for(var y=K,E=l.mutations,T=0;T<E.length;T++)y=y.ot(E[T].key,g[T].version);return new f(l,h,g,y)},f}(),Xf=function(){function f(){this.wr=new Kt(function(l){return l.toString()},function(l,h){return l.isEqual(h)}),this.mr=!1}return Object.defineProperty(f.prototype,"readTime",{get:function(){return this.Tr},set:function(l){this.Tr=l},enumerable:!1,configurable:!0}),f.prototype.Er=function(l,h){this.Ir(),this.readTime=h,this.wr.set(l.key,l)},f.prototype.Ar=function(l,h){this.Ir(),h&&(this.readTime=h),this.wr.set(l,null)},f.prototype.Rr=function(l,h){this.Ir();var g=this.wr.get(h);return void 0!==g?It.resolve(g):this.gr(l,h)},f.prototype.getEntries=function(l,h){return this.Pr(l,h)},f.prototype.apply=function(l){return this.Ir(),this.mr=!0,this.yr(l)},f.prototype.Ir=function(){},f}(),Es="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qd=function(){function f(){this.Vr=[]}return f.prototype.pr=function(l){this.Vr.push(l)},f.prototype.br=function(){this.Vr.forEach(function(l){return l()})},f}(),wu=function(){function f(l,h,g){this.vr=l,this.Sr=h,this.Dr=g}return f.prototype.Cr=function(l,h){var g=this;return this.Sr.Nr(l,h).next(function(y){return g.Fr(l,h,y)})},f.prototype.Fr=function(l,h,g){return this.vr.Rr(l,h).next(function(y){for(var E=0,T=g;E<T.length;E++)y=T[E].hr(h,y);return y})},f.prototype.$r=function(l,h,g){var y=le();return h.forEach(function(E,T){for(var R=0,V=g;R<V.length;R++)T=V[R].hr(E,T);y=y.ot(E,T)}),y},f.prototype.kr=function(l,h){var g=this;return this.vr.getEntries(l,h).next(function(y){return g.Mr(l,y)})},f.prototype.Mr=function(l,h){var g=this;return this.Sr.Or(l,h).next(function(y){var E=g.$r(l,h,y),T=fe();return E.forEach(function(R,V){V||(V=new kr(R,zt.min())),T=T.ot(R,V)}),T})},f.prototype.Lr=function(l,h,g){return Le.F((y=h).path)&&null===y.collectionGroup&&0===y.filters.length?this.Br(l,h.path):_u(h)?this.qr(l,h,g):this.Ur(l,h,g);var y},f.prototype.Br=function(l,h){return this.Cr(l,new Le(h)).next(function(g){var y=te();return g instanceof oi&&(y=y.ot(g.key,g)),y})},f.prototype.qr=function(l,h,g){var y=this,E=h.collectionGroup,T=te();return this.Dr.Qr(l,E).next(function(R){return It.forEach(R,function(V){var re,ge,Z=(re=h,ge=V.child(E),new ws(ge,null,re.on.slice(),re.filters.slice(),re.limit,re.an,re.startAt,re.endAt));return y.Ur(l,Z,g).next(function(re){re.forEach(function(ge,_e){T=T.ot(ge,_e)})})}).next(function(){return T})})},f.prototype.Ur=function(l,h,g){var y,E,T=this;return this.vr.Lr(l,h,g).next(function(R){return y=R,T.Sr.Wr(l,h)}).next(function(R){return T.jr(l,E=R,y).next(function(V){y=V;for(var Z=0,re=E;Z<re.length;Z++)for(var ge=re[Z],_e=0,Pe=ge.mutations;_e<Pe.length;_e++){var et=Pe[_e],ht=et.key,an=y.get(ht),Jt=Oc(et,an,an,ge.ar);y=Jt instanceof oi?y.ot(ht,Jt):y.remove(ht)}})}).next(function(){return y.forEach(function(R,V){Bl(h,V)||(y=y.remove(R))}),y})},f.prototype.jr=function(l,h,g){for(var y=Qe(),E=0,T=h;E<T.length;E++)for(var R=0,V=T[E].mutations;R<V.length;R++){var Z=V[R];Z instanceof Wr&&null===g.get(Z.key)&&(y=y.add(Z.key))}var re=g;return this.vr.getEntries(l,y).next(function(ge){return ge.forEach(function(_e,Pe){null!==Pe&&Pe instanceof oi&&(re=re.ot(_e,Pe))}),re})},f}(),Mi=function(){function f(l,h,g,y){this.targetId=l,this.fromCache=h,this.Kr=g,this.Gr=y}return f.zr=function(l,h){for(var g=Qe(),y=Qe(),E=0,T=h.docChanges;E<T.length;E++){var R=T[E];switch(R.type){case 0:g=g.add(R.doc.key);break;case 1:y=y.add(R.doc.key)}}return new f(l,h.fromCache,g,y)},f}();function hl(f,l){var g=f[1],E=l[1],T=Ut(f[0],l[0]);return 0===T?Ut(g,E):T}var Na=function(){function f(l){this.Hr=l,this.buffer=new Ei(hl),this.Yr=0}return f.prototype.Jr=function(){return++this.Yr},f.prototype.Xr=function(l){var h=[l,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(h);else{var g=this.buffer.last();hl(h,g)<0&&(this.buffer=this.buffer.delete(g).add(h))}},Object.defineProperty(f.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),f}(),Ho={Zr:!1,eo:0,no:0,so:0},Qr=function(){function f(l,h,g){this.io=l,this.ro=h,this.oo=g}return f.ao=function(l){return new f(l,f.co,f.uo)},f}();Qr.ho=-1,Qr.lo=1048576,Qr._o=41943040,Qr.co=10,Qr.uo=1e3,Qr.fo=new Qr(Qr._o,Qr.co,Qr.uo),Qr.do=new Qr(Qr.ho,0,0);var Jd=function(){function f(l,h){this.wo=l,this.cs=h,this.mo=!1,this.To=null}return f.prototype.start=function(l){this.wo.params.io!==Qr.ho&&this.Eo(l)},f.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(f.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),f.prototype.Eo=function(l){var h=this,g=this.mo?3e5:6e4;me("LruGarbageCollector","Garbage collection scheduled in "+g+"ms"),this.To=this.cs.yn("lru_garbage_collection",g,function(){return U.__awaiter(h,void 0,void 0,function(){var y;return U.__generator(this,function(E){switch(E.label){case 0:this.To=null,this.mo=!0,E.label=1;case 1:return E.trys.push([1,3,,7]),[4,l.Io(this.wo)];case 2:return E.sent(),[3,7];case 3:return Hs(y=E.sent())?(me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",y),[3,6]):[3,4];case 4:return[4,ci(y)];case 5:E.sent(),E.label=6;case 6:return[3,7];case 7:return[4,this.Eo(l)];case 8:return E.sent(),[2]}})})})},f}(),fl=function(){function f(l,h){this.Ao=l,this.params=h}return f.prototype.Ro=function(l,h){return this.Ao.Po(l).next(function(g){return Math.floor(h/100*g)})},f.prototype.yo=function(l,h){var g=this;if(0===h)return It.resolve(Io.ai);var y=new Na(h);return this.Ao.Ce(l,function(E){return y.Xr(E.sequenceNumber)}).next(function(){return g.Ao.Vo(l,function(E){return y.Xr(E)})}).next(function(){return y.maxValue})},f.prototype.po=function(l,h,g){return this.Ao.po(l,h,g)},f.prototype.bo=function(l,h){return this.Ao.bo(l,h)},f.prototype.vo=function(l,h){var g=this;return this.params.io===Qr.ho?(me("LruGarbageCollector","Garbage collection skipped; disabled"),It.resolve(Ho)):this.So(l).next(function(y){return y<g.params.io?(me("LruGarbageCollector","Garbage collection skipped; Cache size "+y+" is lower than threshold "+g.params.io),Ho):g.Do(l,h)})},f.prototype.So=function(l){return this.Ao.So(l)},f.prototype.Do=function(l,h){var g,y,E,T,R,V,Z,re=this,ge=Date.now();return this.Ro(l,this.params.ro).next(function(_e){return _e>re.params.oo?(me("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+re.params.oo+" from "+_e),y=re.params.oo):y=_e,T=Date.now(),re.yo(l,y)}).next(function(_e){return g=_e,R=Date.now(),re.po(l,g,h)}).next(function(_e){return E=_e,V=Date.now(),re.bo(l,g)}).next(function(_e){return Z=Date.now(),Ne()<=pe.LogLevel.DEBUG&&me("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(T-ge)+"ms\n\tDetermined least recently used "+y+" in "+(R-T)+"ms\n\tRemoved "+E+" targets in "+(V-R)+"ms\n\tRemoved "+_e+" documents in "+(Z-V)+"ms\nTotal Duration: "+(Z-ge)+"ms"),It.resolve({Zr:!0,eo:y,no:E,so:_e})})},f}();function Ki(f){for(var l="",h=0;h<f.length;h++)l.length>0&&(l=eh(l)),l=Xd(f.get(h),l);return eh(l)}function Xd(f,l){for(var h=l,g=f.length,y=0;y<g;y++){var E=f.charAt(y);switch(E){case"\0":h+="\x01\x10";break;case"\x01":h+="\x01\x11";break;default:h+=E}}return h}function eh(f){return f+"\x01\x01"}function qs(f){var l=f.length;if(at(l>=2),2===l)return at("\x01"===f.charAt(0)&&"\x01"===f.charAt(1)),he.P();for(var h=l-2,g=[],y="",E=0;E<l;){var T=f.indexOf("\x01",E);switch((T<0||T>h)&&Re(),f.charAt(T+1)){case"\x01":var R=f.substring(E,T),V=void 0;0===y.length?V=R:(V=y+=R,y=""),g.push(V);break;case"\x10":y+=f.substring(E,T),y+="\0";break;case"\x11":y+=f.substring(E,T+1);break;default:Re()}E=T+2}return new he(g)}var pl=function(f){this.Co=f};function th(f,l){if(l.document)return V=!!l.hasCommittedMutations,Z=Yi(f.Co,(R=l.document).name),re=yo(R.updateTime),ge=new Pr({mapValue:{fields:R.fields}}),new oi(Z,re,ge,{hasCommittedMutations:!!V});var R,V,Z,re,ge;if(l.noDocument){var h=Le.$(l.noDocument.path),g=Cu(l.noDocument.readTime);return new kr(h,g,{hasCommittedMutations:!!l.hasCommittedMutations})}if(l.unknownDocument){var y=Le.$(l.unknownDocument.path),E=Cu(l.unknownDocument.version);return new Ul(y,E)}return Re()}function Bc(f,l,h){var _e,Pe,g=$h(h),y=l.key.path.h().A();if(l instanceof oi){var E={name:sa(_e=f.Co,(Pe=l).key),fields:Pe.rn().mapValue.fields,updateTime:oa(_e,Pe.version.Z())};return new or(null,null,E,l.hasCommittedMutations,g,y)}if(l instanceof kr){var R=l.key.path.A(),V=lc(l.version),Z=l.hasCommittedMutations;return new or(null,new np(R,V),null,Z,g,y)}if(l instanceof Ul){var re=l.key.path.A(),ge=lc(l.version);return new or(new a_(re,ge),null,null,!0,g,y)}return Re()}function $h(f){var l=f.Z();return[l.seconds,l.nanoseconds]}function Vr(f){var l=new Qt(f[0],f[1]);return zt.J(l)}function lc(f){var l=f.Z();return new rd(l.seconds,l.nanoseconds)}function Cu(f){var l=new Qt(f.seconds,f.nanoseconds);return zt.J(l)}function In(f,l){var h=(l.baseMutations||[]).map(function(E){return br(f.Co,E)}),g=l.mutations.map(function(E){return br(f.Co,E)}),y=Qt.fromMillis(l.localWriteTimeMs);return new nd(l.batchId,y,h,g)}function jc(f){var l,h,g=Cu(f.readTime),y=void 0!==f.lastLimboFreeSnapshotVersion?Cu(f.lastLimboFreeSnapshotVersion):zt.min();return void 0!==f.query.documents?(at(1===(h=f.query).documents.length),l=Bo(Aa(aa(h.documents[0])))):l=Tc(f.query),new Ci(l,f.targetId,0,f.lastListenSequenceNumber,g,y,Vn.fromBase64String(f.resumeToken))}function ep(f,l){var h,g=lc(l.nt),y=lc(l.lastLimboFreeSnapshotVersion);h=jt(l.target)?Sa(f.Co,l.target):wr(f.Co,l.target);var E=l.resumeToken.toBase64();return new hr(l.targetId,xt(l.target),g,E,l.sequenceNumber,y,h)}var id=function(){function f(l,h,g,y){this.userId=l,this.serializer=h,this.Dr=g,this.No=y,this.Fo={}}return f.xo=function(l,h,g,y){return at(""!==l.uid),new f(l.Zs()?l.uid:"",h,g,y)},f.prototype.$o=function(l){var h=!0,g=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wi(l).rs({index:Qi.userMutationsIndex,range:g},function(y,E,T){h=!1,T.done()}).next(function(){return h})},f.prototype.ko=function(l,h,g,y){var E=this,T=Is(l),R=Wi(l);return R.add({}).next(function(V){at("number"==typeof V);for(var Z=new nd(V,h,g,y),re=function(Jt,Pn,Jn){var gi=Jn.baseMutations.map(function(fr){return Ui(Jt.Co,fr)}),bi=Jn.mutations.map(function(fr){return Ui(Jt.Co,fr)});return new Qi(Pn,Jn.batchId,Jn.ar.toMillis(),gi,bi)}(E.serializer,E.userId,Z),ge=[],_e=new Ei(function(Jt,Pn){return Ut(Jt.R(),Pn.R())}),Pe=0,et=y;Pe<et.length;Pe++){var ht=et[Pe],an=ao.key(E.userId,ht.key.path,V);_e=_e.add(ht.key.path.h()),ge.push(R.put(re)),ge.push(T.put(an,ao.PLACEHOLDER))}return _e.forEach(function(Jt){ge.push(E.Dr.Mo(l,Jt))}),l.pr(function(){E.Fo[V]=Z.keys()}),It.$n(ge).next(function(){return Z})})},f.prototype.Oo=function(l,h){var g=this;return Wi(l).get(h).next(function(y){return y?(at(y.userId===g.userId),In(g.serializer,y)):null})},f.prototype.Lo=function(l,h){var g=this;return this.Fo[h]?It.resolve(this.Fo[h]):this.Oo(l,h).next(function(y){if(y){var E=y.keys();return g.Fo[h]=E,E}return null})},f.prototype.Bo=function(l,h){var g=this,y=h+1,E=IDBKeyRange.lowerBound([this.userId,y]),T=null;return Wi(l).rs({index:Qi.userMutationsIndex,range:E},function(R,V,Z){V.userId===g.userId&&(at(V.batchId>=y),T=In(g.serializer,V)),Z.done()}).next(function(){return T})},f.prototype.qo=function(l){var h=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),g=-1;return Wi(l).rs({index:Qi.userMutationsIndex,range:h,reverse:!0},function(y,E,T){g=E.batchId,T.done()}).next(function(){return g})},f.prototype.Uo=function(l){var h=this,g=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wi(l).ts(Qi.userMutationsIndex,g).next(function(y){return y.map(function(E){return In(h.serializer,E)})})},f.prototype.Nr=function(l,h){var g=this,y=ao.prefixForPath(this.userId,h.path),E=IDBKeyRange.lowerBound(y),T=[];return Is(l).rs({range:E},function(R,V,Z){var re=R[0],_e=R[2],Pe=qs(R[1]);if(re===g.userId&&h.path.isEqual(Pe))return Wi(l).get(_e).next(function(et){if(!et)throw Re();at(et.userId===g.userId),T.push(In(g.serializer,et))});Z.done()}).next(function(){return T})},f.prototype.Or=function(l,h){var g=this,y=new Ei(Ut),E=[];return h.forEach(function(T){var R=ao.prefixForPath(g.userId,T.path),V=IDBKeyRange.lowerBound(R),Z=Is(l).rs({range:V},function(re,ge,_e){var Pe=re[0],ht=re[2],an=qs(re[1]);Pe===g.userId&&T.path.isEqual(an)?y=y.add(ht):_e.done()});E.push(Z)}),It.$n(E).next(function(){return g.Qo(l,y)})},f.prototype.Wr=function(l,h){var g=this,y=h.path,E=y.length+1,T=ao.prefixForPath(this.userId,y),R=IDBKeyRange.lowerBound(T),V=new Ei(Ut);return Is(l).rs({range:R},function(Z,re,ge){var _e=Z[0],et=Z[2],ht=qs(Z[1]);_e===g.userId&&y.T(ht)?ht.length===E&&(V=V.add(et)):ge.done()}).next(function(){return g.Qo(l,V)})},f.prototype.Qo=function(l,h){var g=this,y=[],E=[];return h.forEach(function(T){E.push(Wi(l).get(T).next(function(R){if(null===R)throw Re();at(R.userId===g.userId),y.push(In(g.serializer,R))}))}),It.$n(E).next(function(){return y})},f.prototype.Wo=function(l,h){var g=this;return qh(l.jo,this.userId,h).next(function(y){return l.pr(function(){g.Ko(h.batchId)}),It.forEach(y,function(E){return g.No.Go(l,E)})})},f.prototype.Ko=function(l){delete this.Fo[l]},f.prototype.zo=function(l){var h=this;return this.$o(l).next(function(g){if(!g)return It.resolve();var y=IDBKeyRange.lowerBound(ao.prefixForUser(h.userId)),E=[];return Is(l).rs({range:y},function(T,R,V){if(T[0]===h.userId){var Z=qs(T[1]);E.push(Z)}else V.done()}).next(function(){at(0===E.length)})})},f.prototype.Ho=function(l,h){return Br(l,this.userId,h)},f.prototype.Yo=function(l){var h=this;return zc(l).get(this.userId).next(function(g){return g||new So(h.userId,-1,"")})},f}();function Br(f,l,h){var g=ao.prefixForPath(l,h.path),y=g[1],E=IDBKeyRange.lowerBound(g),T=!1;return Is(f).rs({range:E,ss:!0},function(R,V,Z){R[0]===l&&R[1]===y&&(T=!0),Z.done()}).next(function(){return T})}function qh(f,l,h){var g=f.store(Qi.store),y=f.store(ao.store),E=[],T=IDBKeyRange.only(h.batchId),R=0,V=g.rs({range:T},function(et,ht,an){return R++,an.delete()});E.push(V.next(function(){at(1===R)}));for(var Z=[],re=0,ge=h.mutations;re<ge.length;re++){var _e=ge[re],Pe=ao.key(l,_e.key.path,h.batchId);E.push(y.delete(Pe)),Z.push(_e.key)}return It.$n(E).next(function(){return Z})}function Wi(f){return us.Qn(f,Qi.store)}function Is(f){return us.Qn(f,ao.store)}function zc(f){return us.Qn(f,So.store)}var nh=function(){function f(l,h){this.serializer=l,this.Dr=h}return f.prototype.Er=function(l,h,g){return uc(l).put(pt(h),g)},f.prototype.Ar=function(l,h){var g=uc(l),y=pt(h);return g.delete(y)},f.prototype.updateMetadata=function(l,h){var g=this;return this.getMetadata(l).next(function(y){return y.byteSize+=h,g.Jo(l,y)})},f.prototype.Rr=function(l,h){var g=this;return uc(l).get(pt(h)).next(function(y){return g.Xo(y)})},f.prototype.Zo=function(l,h){var g=this;return uc(l).get(pt(h)).next(function(y){var E=g.Xo(y);return E?{ta:E,size:ii(y)}:null})},f.prototype.getEntries=function(l,h){var g=this,y=le();return this.ea(l,h,function(E,T){var R=g.Xo(T);y=y.ot(E,R)}).next(function(){return y})},f.prototype.na=function(l,h){var g=this,y=le(),E=new qn(Le.i);return this.ea(l,h,function(T,R){var V=g.Xo(R);V?(y=y.ot(T,V),E=E.ot(T,ii(R))):(y=y.ot(T,null),E=E.ot(T,0))}).next(function(){return{sa:y,ia:E}})},f.prototype.ea=function(l,h,g){if(h.m())return It.resolve();var y=IDBKeyRange.bound(h.first().path.A(),h.last().path.A()),E=h._t(),T=E.It();return uc(l).rs({range:y},function(R,V,Z){for(var re=Le.$(R);T&&Le.i(T,re)<0;)g(T,null),T=E.It();T&&T.isEqual(re)&&(g(T,V),T=E.At()?E.It():null),T?Z.Xn(T.path.A()):Z.done()}).next(function(){for(;T;)g(T,null),T=E.At()?E.It():null})},f.prototype.Lr=function(l,h,g){var y=this,E=te(),T=h.path.length+1,R={};if(g.isEqual(zt.min())){var V=h.path.A();R.range=IDBKeyRange.lowerBound(V)}else{var Z=h.path.A(),re=$h(g);R.range=IDBKeyRange.lowerBound([Z,re],!0),R.index=or.collectionReadTimeIndex}return uc(l).rs(R,function(ge,_e,Pe){if(ge.length===T){var et=th(y.serializer,_e);h.path.T(et.key.path)?et instanceof oi&&Bl(h,et)&&(E=E.ot(et.key,et)):Pe.done()}}).next(function(){return E})},f.prototype.ra=function(l){return new tp(this,!!l&&l.oa)},f.prototype.aa=function(l){return this.getMetadata(l).next(function(h){return h.byteSize})},f.prototype.getMetadata=function(l){return ih(l).get(Ji.key).next(function(h){return at(!!h),h})},f.prototype.Jo=function(l,h){return ih(l).put(Ji.key,h)},f.prototype.Xo=function(l){if(l){var h=th(this.serializer,l);return h instanceof kr&&h.version.isEqual(zt.min())?null:h}return null},f}(),tp=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).ca=h,y.oa=g,y.ua=new Kt(function(E){return E.toString()},function(E,T){return E.isEqual(T)}),y}return U.__extends(l,f),l.prototype.yr=function(h){var g=this,y=[],E=0,T=new Ei(function(R,V){return Ut(R.R(),V.R())});return this.wr.forEach(function(R,V){var Z=g.ua.get(R);if(V){var re=Bc(g.ca.serializer,V,g.readTime);T=T.add(R.path.h());var ge=ii(re);E+=ge-Z,y.push(g.ca.Er(h,R,re))}else if(E-=Z,g.oa){var _e=Bc(g.ca.serializer,new kr(R,zt.min()),g.readTime);y.push(g.ca.Er(h,R,_e))}else y.push(g.ca.Ar(h,R))}),T.forEach(function(R){y.push(g.ca.Dr.Mo(h,R))}),y.push(this.ca.updateMetadata(h,E)),It.$n(y)},l.prototype.gr=function(h,g){var y=this;return this.ca.Zo(h,g).next(function(E){return null===E?(y.ua.set(g,0),null):(y.ua.set(g,E.size),E.ta)})},l.prototype.Pr=function(h,g){var y=this;return this.ca.na(h,g).next(function(E){var T=E.sa;return E.ia.forEach(function(R,V){y.ua.set(R,V)}),T})},l}(Xf);function ih(f){return us.Qn(f,Ji.store)}function uc(f){return us.Qn(f,or.store)}function pt(f){return f.path.A()}function ii(f){var l;if(f.document)l=f.document;else if(f.unknownDocument)l=f.unknownDocument;else{if(!f.noDocument)throw Re();l=f.noDocument}return JSON.stringify(l).length}var Ms=function(){function f(){this.ha=new xu}return f.prototype.Mo=function(l,h){return this.ha.add(h),It.resolve()},f.prototype.Qr=function(l,h){return It.resolve(this.ha.getEntries(h))},f}(),xu=function(){function f(){this.index={}}return f.prototype.add=function(l){var h=l._(),g=l.h(),y=this.index[h]||new Ei(he.i),E=!y.has(g);return this.index[h]=y.add(g),E},f.prototype.has=function(l){var h=l._(),g=l.h(),y=this.index[h];return y&&y.has(g)},f.prototype.getEntries=function(l){return(this.index[l]||new Ei(he.i)).A()},f}(),Mo=function(){function f(l){this.serializer=l}return f.prototype.createOrUpgrade=function(l,h,g,y){var E=this;at(g<y&&g>=0&&y<=10);var V,T=new Lc("createOrUpgrade",h);g<1&&y>=1&&(l.createObjectStore(To.store),(V=l).createObjectStore(So.store,{keyPath:So.keyPath}),V.createObjectStore(Qi.store,{keyPath:Qi.keyPath,autoIncrement:!0}).createIndex(Qi.userMutationsIndex,Qi.userMutationsKeyPath,{unique:!0}),V.createObjectStore(ao.store),Gh(l),function(V){V.createObjectStore(or.store)}(l));var R=It.resolve();return g<3&&y>=3&&(0!==g&&(function(V){V.deleteObjectStore(co.store),V.deleteObjectStore(hr.store),V.deleteObjectStore(Jr.store)}(l),Gh(l)),R=R.next(function(){return function(V){var Z=V.store(Jr.store),re=new Jr(0,0,zt.min().Z(),0);return Z.put(Jr.key,re)}(T)})),g<4&&y>=4&&(0!==g&&(R=R.next(function(){return function(V,Z){return Z.store(Qi.store).ts().next(function(re){V.deleteObjectStore(Qi.store),V.createObjectStore(Qi.store,{keyPath:Qi.keyPath,autoIncrement:!0}).createIndex(Qi.userMutationsIndex,Qi.userMutationsKeyPath,{unique:!0});var ge=Z.store(Qi.store),_e=re.map(function(Pe){return ge.put(Pe)});return It.$n(_e)})}(l,T)})),R=R.next(function(){!function(V){V.createObjectStore(ma.store,{keyPath:ma.keyPath})}(l)})),g<5&&y>=5&&(R=R.next(function(){return E.removeAcknowledgedMutations(T)})),g<6&&y>=6&&(R=R.next(function(){return function(V){V.createObjectStore(Ji.store)}(l),E.addDocumentGlobal(T)})),g<7&&y>=7&&(R=R.next(function(){return E.ensureSequenceNumbers(T)})),g<8&&y>=8&&(R=R.next(function(){return E.createCollectionParentIndex(l,T)})),g<9&&y>=9&&(R=R.next(function(){(function(V){V.objectStoreNames.contains("remoteDocumentChanges")&&V.deleteObjectStore("remoteDocumentChanges")})(l),function(V){var Z=V.objectStore(or.store);Z.createIndex(or.readTimeIndex,or.readTimeIndexPath,{unique:!1}),Z.createIndex(or.collectionReadTimeIndex,or.collectionReadTimeIndexPath,{unique:!1})}(h)})),g<10&&y>=10&&(R=R.next(function(){return E.rewriteCanonicalIds(T)})),R},f.prototype.addDocumentGlobal=function(l){var h=0;return l.store(or.store).rs(function(g,y){h+=ii(y)}).next(function(){var g=new Ji(h);return l.store(Ji.store).put(Ji.key,g)})},f.prototype.removeAcknowledgedMutations=function(l){var h=this,g=l.store(So.store),y=l.store(Qi.store);return g.ts().next(function(E){return It.forEach(E,function(T){var R=IDBKeyRange.bound([T.userId,-1],[T.userId,T.lastAcknowledgedBatchId]);return y.ts(Qi.userMutationsIndex,R).next(function(V){return It.forEach(V,function(Z){at(Z.userId===T.userId);var re=In(h.serializer,Z);return qh(l,T.userId,re).next(function(){})})})})})},f.prototype.ensureSequenceNumbers=function(l){var h=l.store(co.store),g=l.store(or.store);return l.store(Jr.store).get(Jr.key).next(function(y){var E=[];return g.rs(function(T,R){var V=new he(T),Z=[0,Ki(V)];E.push(h.get(Z).next(function(re){return re?It.resolve():h.put(new co(0,Ki(V),y.highestListenSequenceNumber))}))}).next(function(){return It.$n(E)})})},f.prototype.createCollectionParentIndex=function(l,h){l.createObjectStore(Xr.store,{keyPath:Xr.keyPath});var g=h.store(Xr.store),y=new xu,E=function(T){if(y.add(T)){var R=T._(),V=T.h();return g.put({collectionId:R,parent:Ki(V)})}};return h.store(or.store).rs({ss:!0},function(T,R){var V=new he(T);return E(V.h())}).next(function(){return h.store(ao.store).rs({ss:!0},function(T,R){var Z=qs(T[1]);return E(Z.h())})})},f.prototype.rewriteCanonicalIds=function(l){var h=this,g=l.store(hr.store);return g.rs(function(y,E){var T=jc(E),R=ep(h.serializer,T);return g.put(R)})},f}(),rd=function(f,l){this.seconds=f,this.nanoseconds=l},To=function(f,l,h){this.ownerId=f,this.allowTabSynchronization=l,this.leaseTimestampMs=h};To.store="owner",To.key="owner";var So=function(f,l,h){this.userId=f,this.lastAcknowledgedBatchId=l,this.lastStreamToken=h};So.store="mutationQueues",So.keyPath="userId";var Qi=function(f,l,h,g,y){this.userId=f,this.batchId=l,this.localWriteTimeMs=h,this.baseMutations=g,this.mutations=y};Qi.store="mutations",Qi.keyPath="batchId",Qi.userMutationsIndex="userMutationsIndex",Qi.userMutationsKeyPath=["userId","batchId"];var ao=function(){function f(){}return f.prefixForUser=function(l){return[l]},f.prefixForPath=function(l,h){return[l,Ki(h)]},f.key=function(l,h,g){return[l,Ki(h),g]},f}();ao.store="documentMutations",ao.PLACEHOLDER=new ao;var np=function(f,l){this.path=f,this.readTime=l},a_=function(f,l){this.path=f,this.version=l},or=function(f,l,h,g,y,E){this.unknownDocument=f,this.noDocument=l,this.document=h,this.hasCommittedMutations=g,this.readTime=y,this.parentPath=E};or.store="remoteDocuments",or.readTimeIndex="readTimeIndex",or.readTimeIndexPath="readTime",or.collectionReadTimeIndex="collectionReadTimeIndex",or.collectionReadTimeIndexPath=["parentPath","readTime"];var Ji=function(f){this.byteSize=f};Ji.store="remoteDocumentGlobal",Ji.key="remoteDocumentGlobalKey";var hr=function(f,l,h,g,y,E,T){this.targetId=f,this.canonicalId=l,this.readTime=h,this.resumeToken=g,this.lastListenSequenceNumber=y,this.lastLimboFreeSnapshotVersion=E,this.query=T};hr.store="targets",hr.keyPath="targetId",hr.queryTargetsIndexName="queryTargetsIndex",hr.queryTargetsKeyPath=["canonicalId","targetId"];var co=function(f,l,h){this.targetId=f,this.path=l,this.sequenceNumber=h};co.store="targetDocuments",co.keyPath=["targetId","path"],co.documentTargetsIndex="documentTargetsIndex",co.documentTargetsKeyPath=["path","targetId"];var Jr=function(f,l,h,g){this.highestTargetId=f,this.highestListenSequenceNumber=l,this.lastRemoteSnapshotVersion=h,this.targetCount=g};Jr.key="targetGlobalKey",Jr.store="targetGlobal";var Xr=function(f,l){this.collectionId=f,this.parent=l};function Gh(f){f.createObjectStore(co.store,{keyPath:co.keyPath}).createIndex(co.documentTargetsIndex,co.documentTargetsKeyPath,{unique:!0}),f.createObjectStore(hr.store,{keyPath:hr.keyPath}).createIndex(hr.queryTargetsIndexName,hr.queryTargetsKeyPath,{unique:!0}),f.createObjectStore(Jr.store)}Xr.store="collectionParents",Xr.keyPath=["collectionId","parent"];var ma=function(f,l,h,g){this.clientId=f,this.updateTimeMs=l,this.networkEnabled=h,this.inForeground=g};ma.store="clientMetadata",ma.keyPath="clientId";var od=U.__spreadArrays(U.__spreadArrays(U.__spreadArrays([So.store,Qi.store,ao.store,or.store,hr.store,To.store,Jr.store,co.store],[ma.store]),[Ji.store]),[Xr.store]),vm=function(){function f(){this.la=new xu}return f.prototype.Mo=function(l,h){var g=this;if(!this.la.has(h)){var y=h._(),E=h.h();l.pr(function(){g.la.add(h)});var T={collectionId:y,parent:Ki(E)};return Eu(l).put(T)}return It.resolve()},f.prototype.Qr=function(l,h){var g=[],y=IDBKeyRange.bound([h,""],[Ln(h),""],!1,!0);return Eu(l).ts(y).next(function(E){for(var T=0,R=E;T<R.length;T++){var V=R[T];if(V.collectionId!==h)break;g.push(qs(V.parent))}return g})},f}();function Eu(f){return us.Qn(f,Xr.store)}var $l=function(){function f(l){this._a=l}return f.prototype.next=function(){return this._a+=2,this._a},f.fa=function(){return new f(0)},f.da=function(){return new f(-1)},f}(),rh=function(){function f(l,h){this.No=l,this.serializer=h}return f.prototype.wa=function(l){var h=this;return this.ma(l).next(function(g){var y=new $l(g.highestTargetId);return g.highestTargetId=y.next(),h.Ta(l,g).next(function(){return g.highestTargetId})})},f.prototype.Ea=function(l){return this.ma(l).next(function(h){return zt.J(new Qt(h.lastRemoteSnapshotVersion.seconds,h.lastRemoteSnapshotVersion.nanoseconds))})},f.prototype.Ia=function(l){return this.ma(l).next(function(h){return h.highestListenSequenceNumber})},f.prototype.Aa=function(l,h,g){var y=this;return this.ma(l).next(function(E){return E.highestListenSequenceNumber=h,g&&(E.lastRemoteSnapshotVersion=g.Z()),h>E.highestListenSequenceNumber&&(E.highestListenSequenceNumber=h),y.Ta(l,E)})},f.prototype.Ra=function(l,h){var g=this;return this.ga(l,h).next(function(){return g.ma(l).next(function(y){return y.targetCount+=1,g.Pa(h,y),g.Ta(l,y)})})},f.prototype.ya=function(l,h){return this.ga(l,h)},f.prototype.Va=function(l,h){var g=this;return this.pa(l,h.targetId).next(function(){return ml(l).delete(h.targetId)}).next(function(){return g.ma(l)}).next(function(y){return at(y.targetCount>0),y.targetCount-=1,g.Ta(l,y)})},f.prototype.po=function(l,h,g){var y=this,E=0,T=[];return ml(l).rs(function(R,V){var Z=jc(V);Z.sequenceNumber<=h&&null===g.get(Z.targetId)&&(E++,T.push(y.Va(l,Z)))}).next(function(){return It.$n(T)}).next(function(){return E})},f.prototype.Ce=function(l,h){return ml(l).rs(function(g,y){var E=jc(y);h(E)})},f.prototype.ma=function(l){return oh(l).get(Jr.key).next(function(h){return at(null!==h),h})},f.prototype.Ta=function(l,h){return oh(l).put(Jr.key,h)},f.prototype.ga=function(l,h){return ml(l).put(ep(this.serializer,h))},f.prototype.Pa=function(l,h){var g=!1;return l.targetId>h.highestTargetId&&(h.highestTargetId=l.targetId,g=!0),l.sequenceNumber>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=l.sequenceNumber,g=!0),g},f.prototype.ba=function(l){return this.ma(l).next(function(h){return h.targetCount})},f.prototype.va=function(l,h){var g=xt(h),y=IDBKeyRange.bound([g,Number.NEGATIVE_INFINITY],[g,Number.POSITIVE_INFINITY]),E=null;return ml(l).rs({range:y,index:hr.queryTargetsIndexName},function(T,R,V){var Z=jc(R);mn(h,Z.target)&&(E=Z,V.done())}).next(function(){return E})},f.prototype.Sa=function(l,h,g){var y=this,E=[],T=Fa(l);return h.forEach(function(R){var V=Ki(R.path);E.push(T.put(new co(g,V))),E.push(y.No.Da(l,g,R))}),It.$n(E)},f.prototype.Ca=function(l,h,g){var y=this,E=Fa(l);return It.forEach(h,function(T){var R=Ki(T.path);return It.$n([E.delete([g,R]),y.No.Na(l,g,T)])})},f.prototype.pa=function(l,h){var g=Fa(l),y=IDBKeyRange.bound([h],[h+1],!1,!0);return g.delete(y)},f.prototype.Fa=function(l,h){var g=IDBKeyRange.bound([h],[h+1],!1,!0),y=Fa(l),E=Qe();return y.rs({range:g,ss:!0},function(T,R,V){var Z=qs(T[1]),re=new Le(Z);E=E.add(re)}).next(function(){return E})},f.prototype.Ho=function(l,h){var g=Ki(h.path),y=IDBKeyRange.bound([g],[Ln(g)],!1,!0),E=0;return Fa(l).rs({index:co.documentTargetsIndex,ss:!0,range:y},function(T,R,V){0!==T[0]&&(E++,V.done())}).next(function(){return E>0})},f.prototype.Ue=function(l,h){return ml(l).get(h).next(function(g){return g?jc(g):null})},f}();function ml(f){return us.Qn(f,hr.store)}function oh(f){return us.Qn(f,Jr.store)}function Fa(f){return us.Qn(f,co.store)}var ql="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Iu=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).jo=h,y.xa=g,y}return U.__extends(l,f),l}(Qd),us=function(){function f(l,h,g,y,E,T,R,V,Z,re){if(this.allowTabSynchronization=l,this.persistenceKey=h,this.clientId=g,this.fn=E,this.window=T,this.document=R,this.$a=Z,this.ka=re,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(ge){return Promise.resolve()},!f.Ln())throw new G(z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new hc(this,y),this.Wa=h+"main",this.serializer=new pl(V),this.ja=new Xo(this.Wa,10,new Mo(this.serializer)),this.Ka=new rh(this.No,this.serializer),this.Dr=new vm,this.vr=new nh(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===re&&lt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return f.Qn=function(l,h){if(l instanceof Iu)return Xo.Qn(l.jo,h);throw Re()},f.prototype.start=function(){var l=this;return this.za().then(function(){if(!l.isPrimary&&!l.allowTabSynchronization)throw new G(z.FAILED_PRECONDITION,ql);return l.Ha(),l.Ya(),l.Ja(),l.runTransaction("getHighestListenSequenceNumber","readonly",function(h){return l.Ka.Ia(h)})}).then(function(h){l.Ma=new Io(h,l.$a)}).then(function(){l.Oa=!0}).catch(function(h){return l.ja&&l.ja.close(),Promise.reject(h)})},f.prototype.Xa=function(l){var h=this;return this.Qa=function(g){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){return this.Ei?[2,l(g)]:[2]})})},l(this.isPrimary)},f.prototype.Za=function(l){var h=this;this.ja.Kn(function(g){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){switch(y.label){case 0:return null===g.newVersion?[4,l()]:[3,2];case 1:y.sent(),y.label=2;case 2:return[2]}})})})},f.prototype.tc=function(l){var h=this;this.networkEnabled!==l&&(this.networkEnabled=l,this.fn.ws(function(){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:g.sent(),g.label=2;case 2:return[2]}})})}))},f.prototype.za=function(){var l=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(h){return dc(h).put(new ma(l.clientId,Date.now(),l.networkEnabled,l.inForeground)).next(function(){if(l.isPrimary)return l.ec(h).next(function(g){g||(l.isPrimary=!1,l.fn.Cs(function(){return l.Qa(!1)}))})}).next(function(){return l.nc(h)}).next(function(g){return l.isPrimary&&!g?l.sc(h).next(function(){return!1}):!!g&&l.ic(h).next(function(){return!0})})}).catch(function(h){if(Hs(h))return me("IndexedDbPersistence","Failed to extend owner lease: ",h),l.isPrimary;if(!l.allowTabSynchronization)throw h;return me("IndexedDbPersistence","Releasing owner lease after error during lease refresh",h),!1}).then(function(h){l.isPrimary!==h&&l.fn.Cs(function(){return l.Qa(h)}),l.isPrimary=h})},f.prototype.ec=function(l){var h=this;return gl(l).get(To.key).next(function(g){return It.resolve(h.rc(g))})},f.prototype.oc=function(l){return dc(l).delete(this.clientId)},f.prototype.ac=function(){return U.__awaiter(this,void 0,void 0,function(){var l,h,g,E=this;return U.__generator(this,function(T){switch(T.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(R){var V=f.Qn(R,ma.store);return V.ts().next(function(Z){var re=E.uc(Z,18e5),ge=Z.filter(function(_e){return-1===re.indexOf(_e)});return It.forEach(ge,function(_e){return V.delete(_e.clientId)}).next(function(){return ge})})}).catch(function(){return[]})]);case 1:if(l=T.sent(),this.Ga)for(h=0,g=l;h<g.length;h++)this.Ga.removeItem(this.hc(g[h].clientId));T.label=2;case 2:return[2]}})})},f.prototype.Ja=function(){var l=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return l.za().then(function(){return l.ac()}).then(function(){return l.Ja()})})},f.prototype.rc=function(l){return!!l&&l.ownerId===this.clientId},f.prototype.nc=function(l){var h=this;return this.ka?It.resolve(!0):gl(l).get(To.key).next(function(g){if(null!==g&&h.cc(g.leaseTimestampMs,5e3)&&!h.lc(g.ownerId)){if(h.rc(g)&&h.networkEnabled)return!0;if(!h.rc(g)){if(!g.allowTabSynchronization)throw new G(z.FAILED_PRECONDITION,ql);return!1}}return!(!h.networkEnabled||!h.inForeground)||dc(l).ts().next(function(y){return void 0===h.uc(y,5e3).find(function(E){return!(h.clientId===E.clientId||!(!h.networkEnabled&&E.networkEnabled||!h.inForeground&&E.inForeground&&h.networkEnabled===E.networkEnabled))})})}).next(function(g){return h.isPrimary!==g&&me("IndexedDbPersistence","Client "+(g?"is":"is not")+" eligible for a primary lease."),g})},f.prototype.Di=function(){return U.__awaiter(this,void 0,void 0,function(){var l=this;return U.__generator(this,function(h){switch(h.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[To.store,ma.store],function(g){var y=new Iu(g,Io.ai);return l.sc(y).next(function(){return l.oc(y)})})];case 1:return h.sent(),this.ja.close(),this.wc(),[2]}})})},f.prototype.uc=function(l,h){var g=this;return l.filter(function(y){return g.cc(y.updateTimeMs,h)&&!g.lc(y.clientId)})},f.prototype.pi=function(){var l=this;return this.runTransaction("getActiveClients","readonly",function(h){return dc(h).ts().next(function(g){return l.uc(g,18e5).map(function(y){return y.clientId})})})},Object.defineProperty(f.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),f.prototype.mc=function(l){return id.xo(l,this.serializer,this.Dr,this.No)},f.prototype.Tc=function(){return this.Ka},f.prototype.Ec=function(){return this.vr},f.prototype.Ic=function(){return this.Dr},f.prototype.runTransaction=function(l,h,g){var E,y=this;return me("IndexedDbPersistence","Starting transaction:",l),this.ja.runTransaction(l,"readonly"===h?"readonly":"readwrite",od,function(R){return E=new Iu(R,y.Ma?y.Ma.next():Io.ai),"readwrite-primary"===h?y.ec(E).next(function(V){return!!V||y.nc(E)}).next(function(V){if(!V)throw lt("Failed to obtain primary lease for action '"+l+"'."),y.isPrimary=!1,y.fn.Cs(function(){return y.Qa(!1)}),new G(z.FAILED_PRECONDITION,Es);return g(E)}).next(function(V){return y.ic(E).next(function(){return V})}):y.Ac(E).next(function(){return g(E)})}).then(function(R){return E.br(),R})},f.prototype.Ac=function(l){var h=this;return gl(l).get(To.key).next(function(g){if(null!==g&&h.cc(g.leaseTimestampMs,5e3)&&!h.lc(g.ownerId)&&!h.rc(g)&&!(h.ka||h.allowTabSynchronization&&g.allowTabSynchronization))throw new G(z.FAILED_PRECONDITION,ql)})},f.prototype.ic=function(l){var h=new To(this.clientId,this.allowTabSynchronization,Date.now());return gl(l).put(To.key,h)},f.Ln=function(){return Xo.Ln()},f.prototype.sc=function(l){var h=this,g=gl(l);return g.get(To.key).next(function(y){return h.rc(y)?(me("IndexedDbPersistence","Releasing primary lease."),g.delete(To.key)):It.resolve()})},f.prototype.cc=function(l,h){var g=Date.now();return!(l<g-h||l>g&&(lt("Detected an update time that is in the future: "+l+" > "+g),1))},f.prototype.Ha=function(){var l=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){l.fn.ws(function(){return l.inForeground="visible"===l.document.visibilityState,l.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},f.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},f.prototype.Ya=function(){var l,h=this;"function"==typeof(null===(l=this.window)||void 0===l?void 0:l.addEventListener)&&(this.La=function(){h._c(),h.fn.ws(function(){return h.Di()})},this.window.addEventListener("unload",this.La))},f.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},f.prototype.lc=function(l){var h;try{var g=null!==(null===(h=this.Ga)||void 0===h?void 0:h.getItem(this.hc(l)));return me("IndexedDbPersistence","Client '"+l+"' "+(g?"is":"is not")+" zombied in LocalStorage"),g}catch(y){return lt("IndexedDbPersistence","Failed to get zombied client id.",y),!1}},f.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(l){lt("Failed to set zombie client id.",l)}},f.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch{}},f.prototype.hc=function(l){return"firestore_zombie_"+this.persistenceKey+"_"+l},f}();function gl(f){return us.Qn(f,To.store)}function dc(f){return us.Qn(f,ma.store)}var hc=function(){function f(l,h){this.db=l,this.wo=new fl(this,h)}return f.prototype.Po=function(l){var h=this.Rc(l);return this.db.Tc().ba(l).next(function(g){return h.next(function(y){return g+y})})},f.prototype.Rc=function(l){var h=0;return this.Vo(l,function(g){h++}).next(function(){return h})},f.prototype.Ce=function(l,h){return this.db.Tc().Ce(l,h)},f.prototype.Vo=function(l,h){return this.gc(l,function(g,y){return h(y)})},f.prototype.Da=function(l,h,g){return fc(l,g)},f.prototype.Na=function(l,h,g){return fc(l,g)},f.prototype.po=function(l,h,g){return this.db.Tc().po(l,h,g)},f.prototype.Go=function(l,h){return fc(l,h)},f.prototype.Pc=function(l,h){return y=h,E=!1,zc(g=l).os(function(T){return Br(g,T,y).next(function(R){return R&&(E=!0),It.resolve(!R)})}).next(function(){return E});var g,y,E},f.prototype.bo=function(l,h){var g=this,y=this.db.Ec().ra(),E=[],T=0;return this.gc(l,function(R,V){if(V<=h){var Z=g.Pc(l,R).next(function(re){if(!re)return T++,y.Rr(l,R).next(function(){return y.Ar(R),Fa(l).delete([0,Ki(R.path)])})});E.push(Z)}}).next(function(){return It.$n(E)}).next(function(){return y.apply(l)}).next(function(){return T})},f.prototype.removeTarget=function(l,h){var g=h.st(l.xa);return this.db.Tc().ya(l,g)},f.prototype.yc=function(l,h){return fc(l,h)},f.prototype.gc=function(l,h){var g,y=Fa(l),E=Io.ai;return y.rs({index:co.documentTargetsIndex},function(T,R){var Z=R.path,re=R.sequenceNumber;0===T[0]?(E!==Io.ai&&h(new Le(qs(g)),E),E=re,g=Z):E=Io.ai}).next(function(){E!==Io.ai&&h(new Le(qs(g)),E)})},f.prototype.So=function(l){return this.db.Ec().aa(l)},f}();function fc(f,l){return Fa(f).put((g=f.xa,new co(0,Ki(l.path),g)));var g}function Gl(f,l){var h=f.projectId;return f.j||(h+="."+f.database),"firestore/"+l+"/"+h+"/"}var ts=function(){function f(l,h,g){this.persistence=l,this.Vc=h,this.bc=new qn(Ut),this.vc=new Kt(function(y){return xt(y)},mn),this.Sc=zt.min(),this.Sr=l.mc(g),this.Dc=l.Ec(),this.Ka=l.Tc(),this.Cc=new wu(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return f.prototype.Io=function(l){var h=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(g){return l.vo(g,h.bc)})},f}();function ga(f,l){var h=Ze(f);return h.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(g){var T,R,V,Z,re,ge,_e,y=l.batch.keys(),E=h.Dc.ra({oa:!0});return(T=h,R=g,V=l,Z=E,re=V.batch,ge=re.keys(),_e=It.resolve(),ge.forEach(function(Pe){_e=_e.next(function(){return Z.Rr(R,Pe)}).next(function(et){var ht=et,an=V.dr.get(Pe);at(null!==an),(!ht||ht.version.L(an)<0)&&(ht=re.cr(Pe,ht,V))&&Z.Er(ht,V._r)})}),_e.next(function(){return T.Sr.Wo(R,re)})).next(function(){return E.apply(g)}).next(function(){return h.Sr.zo(g)}).next(function(){return h.Cc.kr(g,y)})})}function sr(f){var l=Ze(f);return l.persistence.runTransaction("Get last remote snapshot version","readonly",function(h){return l.Ka.Ea(h)})}function _a(f,l){var h=Ze(f),g=l.nt,y=h.bc;return h.persistence.runTransaction("Apply remote event","readwrite-primary",function(E){var T=h.Dc.ra({oa:!0});y=h.bc;var R=[];l.zt.forEach(function(ge,_e){var an,Jt,Pn,Pe=y.get(_e);if(Pe){R.push(h.Ka.Ca(E,ge.se,_e).next(function(){return h.Ka.Sa(E,ge.ee,_e)}));var et=ge.resumeToken;if(et.O()>0){var ht=Pe.it(et,g).st(E.xa);y=y.ot(_e,ht),an=Pe,Pn=ge,at((Jt=ht).resumeToken.O()>0),(0===an.resumeToken.O()||Jt.nt.X()-an.nt.X()>=3e8||Pn.ee.size+Pn.ne.size+Pn.se.size>0)&&R.push(h.Ka.ya(E,ht))}}});var V=fe(),Z=Qe();if(l.Yt.forEach(function(ge,_e){Z=Z.add(ge)}),R.push(T.getEntries(E,Z).next(function(ge){l.Yt.forEach(function(_e,Pe){var et=ge.get(_e);Pe instanceof kr&&Pe.version.isEqual(zt.min())?(T.Ar(_e,g),V=V.ot(_e,Pe)):null==et||Pe.version.L(et.version)>0||0===Pe.version.L(et.version)&&et.hasPendingWrites?(T.Er(Pe,g),V=V.ot(_e,Pe)):me("LocalStore","Ignoring outdated watch update for ",_e,". Current version:",et.version," Watch version:",Pe.version),l.Jt.has(_e)&&R.push(h.persistence.No.yc(E,_e))})})),!g.isEqual(zt.min())){var re=h.Ka.Ea(E).next(function(ge){return h.Ka.Aa(E,E.xa,g)});R.push(re)}return It.$n(R).next(function(){return T.apply(E)}).next(function(){return h.Cc.Mr(E,V)})}).then(function(E){return h.bc=y,E})}function sh(f,l){var h=Ze(f);return h.persistence.runTransaction("Get next mutation batch","readonly",function(g){return void 0===l&&(l=-1),h.Sr.Bo(g,l)})}function ds(f,l){var h=Ze(f);return h.persistence.runTransaction("Allocate target","readwrite",function(g){var y;return h.Ka.va(g,l).next(function(E){return E?It.resolve(y=E):h.Ka.wa(g).next(function(T){return y=new Ci(l,T,0,g.xa),h.Ka.Ra(g,y).next(function(){return y})})})}).then(function(g){var y=h.bc.get(g.targetId);return(null===y||g.nt.L(y.nt)>0)&&(h.bc=h.bc.ot(g.targetId,g),h.vc.set(l,g.targetId)),g})}function Hn(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E,T;return U.__generator(this,function(R){switch(R.label){case 0:g=Ze(f),y=g.bc.get(l),E=h?"readwrite":"readwrite-primary",R.label=1;case 1:return R.trys.push([1,4,,5]),h?[3,3]:[4,g.persistence.runTransaction("Release target",E,function(V){return g.persistence.No.removeTarget(V,y)})];case 2:R.sent(),R.label=3;case 3:return[3,5];case 4:if(!Hs(T=R.sent()))throw T;return me("LocalStore","Failed to update sequence numbers for target "+l+": "+T),[3,5];case 5:return g.bc=g.bc.remove(l),g.vc.delete(y.target),[2]}})})}function ar(f,l,h){var g=Ze(f),y=zt.min(),E=Qe();return g.persistence.runTransaction("Execute query","readonly",function(T){return(R=g,V=T,Z=Bo(l),re=Ze(R),ge=re.vc.get(Z),void 0!==ge?It.resolve(re.bc.get(ge)):re.Ka.va(V,Z)).next(function(R){if(R)return y=R.lastLimboFreeSnapshotVersion,g.Ka.Fa(T,R.targetId).next(function(V){E=V})}).next(function(){return g.Vc.Lr(T,l,h?y:zt.min(),h?E:Qe())}).next(function(R){return{documents:R,Fc:E}});var R,V,Z,re,ge})}function Do(f,l){var h=Ze(f),g=Ze(h.Ka),y=h.bc.get(l);return y?Promise.resolve(y.target):h.persistence.runTransaction("Get target data","readonly",function(E){return g.Ue(E,l).next(function(T){return T?T.target:null})})}function Wl(f){var l=Ze(f);return l.persistence.runTransaction("Get new document changes","readonly",function(h){return y=h,E=l.Sc,T=Ze(l.Dc),R=fe(),V=$h(E),Z=uc(y),re=IDBKeyRange.lowerBound(V,!0),Z.rs({index:or.readTimeIndex,range:re},function(ge,_e){var Pe=th(T.serializer,_e);R=R.ot(Pe.key,Pe),V=_e.readTime}).next(function(){return{xc:R,readTime:Vr(V)}});var y,E,T,R,V,Z,re}).then(function(h){var g=h.xc;return l.Sc=h.readTime,g})}function pc(f){return U.__awaiter(this,void 0,void 0,function(){var l;return U.__generator(this,function(h){return[2,(l=Ze(f)).persistence.runTransaction("Synchronize last document change read time","readonly",function(g){return E=uc(g),T=zt.min(),E.rs({index:or.readTimeIndex,reverse:!0},function(R,V,Z){V.readTime&&(T=Vr(V.readTime)),Z.done()}).next(function(){return T});var E,T}).then(function(g){l.Sc=g})]})})}function ci(f){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){if(f.code!==z.FAILED_PRECONDITION||f.message!==Es)throw f;return me("LocalStore","Unexpectedly lost primary lease"),[2]})})}var La=function(){function f(){this.$c=new Ei(jr.kc),this.Mc=new Ei(jr.Oc)}return f.prototype.m=function(){return this.$c.m()},f.prototype.Da=function(l,h){var g=new jr(l,h);this.$c=this.$c.add(g),this.Mc=this.Mc.add(g)},f.prototype.Lc=function(l,h){var g=this;l.forEach(function(y){return g.Da(y,h)})},f.prototype.Na=function(l,h){this.Bc(new jr(l,h))},f.prototype.qc=function(l,h){var g=this;l.forEach(function(y){return g.Na(y,h)})},f.prototype.Uc=function(l){var h=this,g=new Le(new he([])),y=new jr(g,l),E=new jr(g,l+1),T=[];return this.Mc.Ft([y,E],function(R){h.Bc(R),T.push(R.key)}),T},f.prototype.Qc=function(){var l=this;this.$c.forEach(function(h){return l.Bc(h)})},f.prototype.Bc=function(l){this.$c=this.$c.delete(l),this.Mc=this.Mc.delete(l)},f.prototype.Wc=function(l){var h=new Le(new he([])),g=new jr(h,l),y=new jr(h,l+1),E=Qe();return this.Mc.Ft([g,y],function(T){E=E.add(T.key)}),E},f.prototype.Ho=function(l){var h=new jr(l,0),g=this.$c.$t(h);return null!==g&&l.isEqual(g.key)},f}(),jr=function(){function f(l,h){this.key=l,this.jc=h}return f.kc=function(l,h){return Le.i(l.key,h.key)||Ut(l.jc,h.jc)},f.Oc=function(l,h){return Ut(l.jc,h.jc)||Le.i(l.key,h.key)},f}(),Hc=function(f,l){this.user=l,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+f},Nr=function(){function f(){this.Gc=null}return f.prototype.getToken=function(){return Promise.resolve(null)},f.prototype.zc=function(){},f.prototype.Hc=function(l){this.Gc=l,l(Eo.UNAUTHENTICATED)},f.prototype.Yc=function(){this.Gc=null},f}(),cr=function(){function f(l){var h=this;this.Jc=null,this.currentUser=Eo.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){h.Zc++,h.currentUser=h.tu(),h.Xc=!0,h.Gc&&h.Gc(h.currentUser)},this.Zc=0,this.auth=l.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),l.get().then(function(g){h.auth=g,h.Jc&&h.auth.addAuthTokenListener(h.Jc)},function(){}))}return f.prototype.getToken=function(){var l=this,h=this.Zc,g=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(g).then(function(y){return l.Zc!==h?(me("FirebaseCredentialsProvider","getToken aborted due to token change."),l.getToken()):y?(at("string"==typeof y.accessToken),new Hc(y.accessToken,l.currentUser)):null}):Promise.resolve(null)},f.prototype.zc=function(){this.forceRefresh=!0},f.prototype.Hc=function(l){this.Gc=l,this.Xc&&l(this.currentUser)},f.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},f.prototype.tu=function(){var l=this.auth&&this.auth.getUid();return at(null===l||"string"==typeof l),new Eo(l)},f}(),tr=function(){function f(l,h){this.eu=l,this.nu=h,this.type="FirstParty",this.user=Eo.ni}return Object.defineProperty(f.prototype,"Kc",{get:function(){var l={"X-Goog-AuthUser":this.nu},h=this.eu.auth.getAuthHeaderValueForFirstParty([]);return h&&(l.Authorization=h),l},enumerable:!1,configurable:!0}),f}(),ip=function(){function f(l,h){this.eu=l,this.nu=h}return f.prototype.getToken=function(){return Promise.resolve(new tr(this.eu,this.nu))},f.prototype.Hc=function(l){l(Eo.ni)},f.prototype.Yc=function(){},f.prototype.zc=function(){},f}(),Ts=function(){function f(l,h,g,y,E,T){this.fn=l,this.su=g,this.iu=y,this.ru=E,this.listener=T,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new ka(l,h)}return f.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},f.prototype.uu=function(){return 2===this.state},f.prototype.start=function(){3!==this.state?this.auth():this.hu()},f.prototype.stop=function(){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){switch(l.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},f.prototype.lu=function(){this.state=0,this.ys.reset()},f.prototype._u=function(){var l=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,function(){return l.fu()}))},f.prototype.du=function(l){this.wu(),this.stream.send(l)},f.prototype.fu=function(){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){return this.uu()?[2,this.close(0)]:[2]})})},f.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},f.prototype.close=function(l,h){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==l?this.ys.reset():h&&h.code===z.RESOURCE_EXHAUSTED?(lt(h.toString()),lt("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):h&&h.code===z.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=l,[4,this.listener.Tu(h)];case 1:return g.sent(),[2]}})})},f.prototype.mu=function(){},f.prototype.auth=function(){var l=this;this.state=1;var h=this.Eu(this.ou),g=this.ou;this.ru.getToken().then(function(y){l.ou===g&&l.Iu(y)},function(y){h(function(){var E=new G(z.UNKNOWN,"Fetching auth token failed: "+y.message);return l.Au(E)})})},f.prototype.Iu=function(l){var h=this,g=this.Eu(this.ou);this.stream=this.Ru(l),this.stream.gu(function(){g(function(){return h.state=2,h.listener.gu()})}),this.stream.Tu(function(y){g(function(){return h.Au(y)})}),this.stream.onMessage(function(y){g(function(){return h.onMessage(y)})})},f.prototype.hu=function(){var l=this;this.state=4,this.ys.gn(function(){return U.__awaiter(l,void 0,void 0,function(){return U.__generator(this,function(h){return this.state=0,this.start(),[2]})})})},f.prototype.Au=function(l){return me("PersistentStream","close with error: "+l),this.stream=null,this.close(3,l)},f.prototype.Eu=function(l){var h=this;return function(g){h.fn.ws(function(){return h.ou===l?g():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},f}(),sd=function(f){function l(h,g,y,E,T){var R=this;return(R=f.call(this,h,"listen_stream_connection_backoff","listen_stream_idle",g,y,T)||this).serializer=E,R}return U.__extends(l,f),l.prototype.Ru=function(h){return this.iu.Pu("Listen",h)},l.prototype.onMessage=function(h){this.ys.reset();var g=function(E,T){var R,Qs;if("targetChange"in T){var V="NO_CHANGE"===(Qs=T.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Qs?1:"REMOVE"===Qs?2:"CURRENT"===Qs?3:"RESET"===Qs?4:Re(),Z=T.targetChange.targetIds||[],re=function(Qs,_c){return Qs.Qe?(at(void 0===_c||"string"==typeof _c),Vn.fromBase64String(_c||"")):(at(void 0===_c||_c instanceof Uint8Array),Vn.fromUint8Array(_c||new Uint8Array))}(E,T.targetChange.resumeToken),ge=T.targetChange.cause,_e=ge&&function(Qs){var _c=void 0===Qs.code?z.UNKNOWN:Li(Qs.code);return new G(_c,Qs.message||"")}(ge);R=new Je(V,Z,re,_e||null)}else if("documentChange"in T){var Pe=T.documentChange,et=Yi(E,Pe.document.name),ht=yo(Pe.document.updateTime),an=new Pr({mapValue:{fields:Pe.document.fields}}),Jt=new oi(et,ht,an,{});R=new vr(Pe.targetIds||[],Pe.removedTargetIds||[],Jt.key,Jt)}else if("documentDelete"in T){var gi=T.documentDelete,bi=Yi(E,gi.document),fr=gi.readTime?yo(gi.readTime):zt.min(),Ks=new kr(bi,fr);R=new vr([],gi.removedTargetIds||[],Ks.key,Ks)}else if("documentRemove"in T){var af=T.documentRemove,dp=Yi(E,af.document);R=new vr([],af.removedTargetIds||[],dp,null)}else{if(!("filter"in T))return Re();var _h=T.filter,xd=new vi(_h.count||0);R=new Yo(_h.targetId,xd)}return R}(this.serializer,h),y=function(E){if(!("targetChange"in E))return zt.min();var T=E.targetChange;return T.targetIds&&T.targetIds.length?zt.min():T.readTime?yo(T.readTime):zt.min()}(h);return this.listener.yu(g,y)},l.prototype.Vu=function(h){var E,T,R,V,g={};g.database=ys(this.serializer),g.addTarget=(E=this.serializer,(R=jt(V=(T=h).target)?{documents:Sa(E,V)}:{query:wr(E,V)}).targetId=T.targetId,T.resumeToken.O()>0&&(R.resumeToken=sl(E,T.resumeToken)),R);var y=function(E,T){var R=function(V,Z){switch(Z){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Re()}}(0,T.et);return null==R?null:{"goog-listen-tags":R}}(0,h);y&&(g.labels=y),this.du(g)},l.prototype.pu=function(h){var g={};g.database=ys(this.serializer),g.removeTarget=h,this.du(g)},l}(Ts),ym=function(f){function l(h,g,y,E,T){var R=this;return(R=f.call(this,h,"write_stream_connection_backoff","write_stream_idle",g,y,T)||this).serializer=E,R.bu=!1,R}return U.__extends(l,f),Object.defineProperty(l.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),l.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,f.prototype.start.call(this)},l.prototype.mu=function(){this.bu&&this.Su([])},l.prototype.Ru=function(h){return this.iu.Pu("Write",h)},l.prototype.onMessage=function(h){if(at(!!h.streamToken),this.lastStreamToken=h.streamToken,this.bu){this.ys.reset();var g=(T=h.commitTime,(E=h.writeResults)&&E.length>0?(at(void 0!==T),E.map(function(R){return function(V,Z){var re=yo(V.updateTime?V.updateTime:Z);re.isEqual(zt.min())&&(re=yo(Z));var ge=null;return V.transformResults&&V.transformResults.length>0&&(ge=V.transformResults),new Da(re,ge)}(R,T)})):[]),y=yo(h.commitTime);return this.listener.Du(y,g)}var E,T;return at(!h.writeResults||0===h.writeResults.length),this.bu=!0,this.listener.Cu()},l.prototype.Nu=function(){var h={};h.database=ys(this.serializer),this.du(h)},l.prototype.Su=function(h){var g=this,y={streamToken:this.lastStreamToken,writes:h.map(function(E){return Ui(g.serializer,E)})};this.du(y)},l}(Ts),ad=function(f){function l(h,g,y){var E=this;return(E=f.call(this)||this).credentials=h,E.iu=g,E.serializer=y,E.Fu=!1,E}return U.__extends(l,f),l.prototype.xu=function(){if(this.Fu)throw new G(z.FAILED_PRECONDITION,"The client has already been terminated.")},l.prototype.$u=function(h,g,y){var E=this;return this.xu(),this.credentials.getToken().then(function(T){return E.iu.$u(h,g,y,T)}).catch(function(T){throw T.code===z.UNAUTHENTICATED&&E.credentials.zc(),T})},l.prototype.ku=function(h,g,y){var E=this;return this.xu(),this.credentials.getToken().then(function(T){return E.iu.ku(h,g,y,T)}).catch(function(T){throw T.code===z.UNAUTHENTICATED&&E.credentials.zc(),T})},l.prototype.terminate=function(){this.Fu=!1},l}(function(){}),cd=function(){function f(l,h){this.cs=l,this.di=h,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return f.prototype.Bu=function(){var l=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return l.Ou=null,l.Uu("Backend didn't respond within 10 seconds."),l.qu("Offline"),Promise.resolve()}))},f.prototype.Qu=function(l){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+l.toString()),this.qu("Offline")))},f.prototype.set=function(l){this.Wu(),this.Mu=0,"Online"===l&&(this.Lu=!1),this.qu(l)},f.prototype.qu=function(l){l!==this.state&&(this.state=l,this.di(l))},f.prototype.Uu=function(l){var h="Could not reach Cloud Firestore backend. "+l+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(lt(h),this.Lu=!1):me("OnlineStateTracker",h)},f.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},f}(),rp=function(f,l,h,g,y){var E=this;this.ju=f,this.Ku=l,this.cs=h,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=y,this.Xu.Zu(function(T){h.ws(function(){return U.__awaiter(E,void 0,void 0,function(){return U.__generator(this,function(R){switch(R.label){case 0:return hs(this)?(me("RemoteStore","Restarting streams for network reachability change."),[4,function(V){return U.__awaiter(this,void 0,void 0,function(){var Z;return U.__generator(this,function(re){switch(re.label){case 0:return(Z=Ze(V)).Yu.add(4),[4,Zl(Z)];case 1:return re.sent(),Z.th.set("Unknown"),Z.Yu.delete(4),[4,ld(Z)];case 2:return re.sent(),[2]}})})}(this)]):[3,2];case 1:R.sent(),R.label=2;case 2:return[2]}})})})}),this.th=new cd(h,g)};function ld(f){return U.__awaiter(this,void 0,void 0,function(){var l,h;return U.__generator(this,function(g){switch(g.label){case 0:if(!hs(f))return[3,4];l=0,h=f.Ju,g.label=1;case 1:return l<h.length?[4,(0,h[l])(!0)]:[3,4];case 2:g.sent(),g.label=3;case 3:return l++,[3,1];case 4:return[2]}})})}function Zl(f){return U.__awaiter(this,void 0,void 0,function(){var l,h;return U.__generator(this,function(g){switch(g.label){case 0:l=0,h=f.Ju,g.label=1;case 1:return l<h.length?[4,(0,h[l])(!1)]:[3,4];case 2:g.sent(),g.label=3;case 3:return l++,[3,1];case 4:return[2]}})})}function Wh(f){return U.__awaiter(this,void 0,void 0,function(){var l;return U.__generator(this,function(h){switch(h.label){case 0:return l=Ze(f),me("RemoteStore","RemoteStore shutting down."),l.Yu.add(5),[4,Zl(l)];case 1:return h.sent(),l.Xu.Di(),l.th.set("Unknown"),[2]}})})}function ah(f,l){var h=Ze(f);h.Hu.has(l.targetId)||(h.Hu.set(l.targetId,l),Mu(h)?_l(h):Ws(h).uu()&&qc(h,l))}function $c(f,l){var h=Ze(f),g=Ws(h);h.Hu.delete(l),g.uu()&&ud(h,l),0===h.Hu.size&&(g.uu()?g._u():hs(h)&&h.th.set("Unknown"))}function qc(f,l){f.eh.Ie(l.targetId),Ws(f).Vu(l)}function ud(f,l){f.eh.Ie(l),Ws(f).pu(l)}function _l(f){f.eh=new _t({qe:function(l){return f.Gu.qe(l)},Ue:function(l){return f.Hu.get(l)||null}}),Ws(f).start(),f.th.Bu()}function Mu(f){return hs(f)&&!Ws(f).cu()&&f.Hu.size>0}function hs(f){return 0===Ze(f).Yu.size}function Zh(f){f.eh=void 0}function Yh(f){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){return f.Hu.forEach(function(h,g){qc(f,h)}),[2]})})}function ch(f,l){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){return Zh(f),Mu(f)?(f.th.Qu(l),_l(f)):f.th.set("Unknown"),[2]})})}function Kh(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E;return U.__generator(this,function(T){switch(T.label){case 0:if(f.th.set("Online"),!(l instanceof Je&&2===l.state&&l.cause))return[3,6];T.label=1;case 1:return T.trys.push([1,3,,5]),[4,function(R,V){return U.__awaiter(this,void 0,void 0,function(){var Z,re,ge,_e;return U.__generator(this,function(Pe){switch(Pe.label){case 0:Z=V.cause,re=0,ge=V.targetIds,Pe.label=1;case 1:return re<ge.length?R.Hu.has(_e=ge[re])?[4,R.Gu.nh(_e,Z)]:[3,3]:[3,5];case 2:Pe.sent(),R.Hu.delete(_e),R.eh.removeTarget(_e),Pe.label=3;case 3:Pe.label=4;case 4:return re++,[3,1];case 5:return[2]}})})}(f,l)];case 2:return T.sent(),[3,5];case 3:return g=T.sent(),me("RemoteStore","Failed to remove targets %s: %s ",l.targetIds.join(","),g),[4,$o(f,g)];case 4:return T.sent(),[3,5];case 5:return[3,13];case 6:if(l instanceof vr?f.eh.be(l):l instanceof Yo?f.eh.$e(l):f.eh.De(l),h.isEqual(zt.min()))return[3,13];T.label=7;case 7:return T.trys.push([7,11,,13]),[4,sr(f.ju)];case 8:return y=T.sent(),h.L(y)>=0?[4,(R=f,V=h,Z=R.eh.Oe(V),Z.zt.forEach(function(re,ge){if(re.resumeToken.O()>0){var _e=R.Hu.get(ge);_e&&R.Hu.set(ge,_e.it(re.resumeToken,V))}}),Z.Ht.forEach(function(re){var ge=R.Hu.get(re);if(ge){R.Hu.set(re,ge.it(Vn.B,ge.nt)),ud(R,re);var _e=new Ci(ge.target,re,1,ge.sequenceNumber);qc(R,_e)}}),R.Gu.sh(Z))]:[3,10];case 9:T.sent(),T.label=10;case 10:return[3,13];case 11:return me("RemoteStore","Failed to raise snapshot:",E=T.sent()),[4,$o(f,E)];case 12:return T.sent(),[3,13];case 13:return[2]}var R,V,Z})})}function $o(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g=this;return U.__generator(this,function(y){switch(y.label){case 0:if(!Hs(l))throw l;return f.Yu.add(1),[4,Zl(f)];case 1:return y.sent(),f.th.set("Offline"),h||(h=function(){return sr(f.ju)}),f.cs.Cs(function(){return U.__awaiter(g,void 0,void 0,function(){return U.__generator(this,function(E){switch(E.label){case 0:return me("RemoteStore","Retrying IndexedDB access"),[4,h()];case 1:return E.sent(),f.Yu.delete(1),[4,ld(f)];case 2:return E.sent(),[2]}})})}),[2]}})})}function dd(f,l){return l().catch(function(h){return $o(f,h,l)})}function Gs(f){return U.__awaiter(this,void 0,void 0,function(){var l,h,g,y,E;return U.__generator(this,function(T){switch(T.label){case 0:l=Ze(f),h=Ss(l),g=l.zu.length>0?l.zu[l.zu.length-1].batchId:-1,T.label=1;case 1:if(!(hs(R=l)&&R.zu.length<10))return[3,7];T.label=2;case 2:return T.trys.push([2,4,,6]),[4,sh(l.ju,g)];case 3:return null===(y=T.sent())?(0===l.zu.length&&h._u(),[3,7]):(g=y.batchId,function(R,V){R.zu.push(V);var Z=Ss(R);Z.uu()&&Z.vu&&Z.Su(V.mutations)}(l,y),[3,6]);case 4:return E=T.sent(),[4,$o(l,E)];case 5:return T.sent(),[3,6];case 6:return[3,1];case 7:return Yl(l)&&Tu(l),[2]}var R})})}function Yl(f){return hs(f)&&!Ss(f).cu()&&f.zu.length>0}function Tu(f){Ss(f).start()}function Kl(f){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){return Ss(f).Nu(),[2]})})}function Ql(f){return U.__awaiter(this,void 0,void 0,function(){var l,h,g;return U.__generator(this,function(E){for(l=Ss(f),h=0,g=f.zu;h<g.length;h++)l.Su(g[h].mutations);return[2]})})}function hd(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y;return U.__generator(this,function(E){switch(E.label){case 0:return g=f.zu.shift(),y=bu.from(g,l,h),[4,dd(f,function(){return f.Gu.ih(y)})];case 1:return E.sent(),[4,Gs(f)];case 2:return E.sent(),[2]}})})}function Jl(f,l){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){switch(h.label){case 0:return l&&Ss(f).vu?[4,function(g,y){return U.__awaiter(this,void 0,void 0,function(){var E,T;return U.__generator(this,function(R){switch(R.label){case 0:return $n(T=y.code)&&T!==z.ABORTED?(E=g.zu.shift(),Ss(g).lu(),[4,dd(g,function(){return g.Gu.rh(E.batchId,y)})]):[3,3];case 1:return R.sent(),[4,Gs(g)];case 2:R.sent(),R.label=3;case 3:return[2]}})})}(f,l)]:[3,2];case 1:h.sent(),h.label=2;case 2:return Yl(f)&&Tu(f),[2]}})})}function Xl(f,l){return U.__awaiter(this,void 0,void 0,function(){var h;return U.__generator(this,function(y){switch(y.label){case 0:return h=Ze(f),l?(h.Yu.delete(2),[4,ld(h)]):[3,2];case 1:return y.sent(),[3,5];case 2:return l?[3,4]:(h.Yu.add(2),[4,Zl(h)]);case 3:y.sent(),h.th.set("Unknown"),y.label=4;case 4:y.label=5;case 5:return[2]}})})}function Ws(f){var h,g,y,E,l=this;return f.oh||(f.oh=(h=f.Ku,g=f.cs,y={gu:Yh.bind(null,f),Tu:ch.bind(null,f),yu:Kh.bind(null,f)},(E=Ze(h)).xu(),new sd(g,E.iu,E.credentials,E.serializer,y)),f.Ju.push(function(h){return U.__awaiter(l,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return h?(f.oh.lu(),Mu(f)?_l(f):f.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,f.oh.stop()];case 2:g.sent(),Zh(f),g.label=3;case 3:return[2]}})})})),f.oh}function Ss(f){var h,g,y,E,l=this;return f.ah||(f.ah=(h=f.Ku,g=f.cs,y={gu:Kl.bind(null,f),Tu:Jl.bind(null,f),Cu:Ql.bind(null,f),Du:hd.bind(null,f)},(E=Ze(h)).xu(),new ym(g,E.iu,E.credentials,E.serializer,y)),f.Ju.push(function(h){return U.__awaiter(l,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return h?(f.ah.lu(),[4,Gs(f)]):[3,2];case 1:return g.sent(),[3,4];case 2:return[4,f.ah.stop()];case 3:g.sent(),f.zu.length>0&&(me("RemoteStore","Stopping write stream with "+f.zu.length+" pending writes"),f.zu=[]),g.label=4;case 4:return[2]}})})})),f.ah}var op=function(f){this.key=f},fd=function(f){this.key=f},Ua=function(){function f(l,h){this.query=l,this.uh=h,this.hh=null,this.te=!1,this.lh=Qe(),this.Wt=Qe(),this._h=vu(l),this.fh=new Vt(this._h)}return Object.defineProperty(f.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),f.prototype.wh=function(l,h){var g=this,y=h?h.mh:new Xn,E=h?h.fh:this.fh,T=h?h.Wt:this.Wt,R=E,V=!1,Z=Pc(this.query)&&E.size===this.query.limit?E.last():null,re=oc(this.query)&&E.size===this.query.limit?E.first():null;if(l.ht(function(_e,Pe){var et=E.get(_e),ht=Pe instanceof oi?Pe:null;ht&&(ht=Bl(g.query,ht)?ht:null);var an=!!et&&g.Wt.has(et.key),Jt=!!ht&&(ht.Je||g.Wt.has(ht.key)&&ht.hasCommittedMutations),Pn=!1;et&&ht?et.data().isEqual(ht.data())?an!==Jt&&(y.track({type:3,doc:ht}),Pn=!0):g.Th(et,ht)||(y.track({type:2,doc:ht}),Pn=!0,(Z&&g._h(ht,Z)>0||re&&g._h(ht,re)<0)&&(V=!0)):!et&&ht?(y.track({type:0,doc:ht}),Pn=!0):et&&!ht&&(y.track({type:1,doc:et}),Pn=!0,(Z||re)&&(V=!0)),Pn&&(ht?(R=R.add(ht),T=Jt?T.add(_e):T.delete(_e)):(R=R.delete(_e),T=T.delete(_e)))}),Pc(this.query)||oc(this.query))for(;R.size>this.query.limit;){var ge=Pc(this.query)?R.last():R.first();R=R.delete(ge.key),T=T.delete(ge.key),y.track({type:1,doc:ge})}return{fh:R,mh:y,Eh:V,Wt:T}},f.prototype.Th=function(l,h){return l.Je&&h.hasCommittedMutations&&!h.Je},f.prototype.yr=function(l,h,g){var y=this,E=this.fh;this.fh=l.fh,this.Wt=l.Wt;var T=l.mh.Ut();T.sort(function(re,ge){return Pe=ge.type,(et=function(ht){switch(ht){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}})(re.type)-et(Pe)||y._h(re.doc,ge.doc);var Pe,et}),this.Ih(g);var R=h?this.Ah():[],V=0===this.lh.size&&this.te?1:0,Z=V!==this.hh;return this.hh=V,0!==T.length||Z?{snapshot:new xn(this.query,l.fh,E,T,l.Wt,0===V,Z,!1),Rh:R}:{Rh:R}},f.prototype.Qs=function(l){return this.te&&"Offline"===l?(this.te=!1,this.yr({fh:this.fh,mh:new Xn,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},f.prototype.gh=function(l){return!this.uh.has(l)&&!!this.fh.has(l)&&!this.fh.get(l).Je},f.prototype.Ih=function(l){var h=this;l&&(l.ee.forEach(function(g){return h.uh=h.uh.add(g)}),l.ne.forEach(function(g){}),l.se.forEach(function(g){return h.uh=h.uh.delete(g)}),this.te=l.te)},f.prototype.Ah=function(){var l=this;if(!this.te)return[];var h=this.lh;this.lh=Qe(),this.fh.forEach(function(y){l.gh(y.key)&&(l.lh=l.lh.add(y.key))});var g=[];return h.forEach(function(y){l.lh.has(y)||g.push(new fd(y))}),this.lh.forEach(function(y){h.has(y)||g.push(new op(y))}),g},f.prototype.Ph=function(l){this.uh=l.Fc,this.lh=Qe();var h=this.wh(l.documents);return this.yr(h,!0)},f.prototype.yh=function(){return xn.Gt(this.query,this.fh,this.Wt,0===this.hh)},f}(),lh=function(f,l,h){this.query=f,this.targetId=l,this.view=h},uh=function(f){this.key=f,this.Vh=!1},vl=function(){function f(l,h,g,y,E,T){this.ju=l,this.ph=h,this.bh=g,this.Sh=y,this.currentUser=E,this.Dh=T,this.Ch={},this.Nh=new Kt(function(R){return ha(R)},ac),this.Fh=new Map,this.xh=[],this.$h=new qn(Le.i),this.kh=new Map,this.Mh=new La,this.Oh={},this.Lh=new Map,this.Bh=$l.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(f.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),f}();function ns(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,y,E,T,R;return U.__generator(this,function(V){switch(V.label){case 0:return h=Xi(f),(E=h.Nh.get(l))?(h.Sh.Oi(E.targetId),y=E.view.yh(),[3,4]):[3,1];case 1:return[4,ds(h.ju,Bo(l))];case 2:return T=V.sent(),R=h.Sh.Oi(T.targetId),[4,Gc(h,l,T.targetId,"current"===R)];case 3:y=V.sent(),h.Uh&&ah(h.ph,T),V.label=4;case 4:return[2,y]}})})}function Gc(f,l,h,g){return U.__awaiter(this,void 0,void 0,function(){var y,E,T,R,V,Z;return U.__generator(this,function(re){switch(re.label){case 0:return f.Qh=function(ge,_e,Pe){return function(et,ht,an,Jt){return U.__awaiter(this,void 0,void 0,function(){var Pn,Jn,gi;return U.__generator(this,function(bi){switch(bi.label){case 0:return(Pn=ht.view.wh(an)).Eh?[4,ar(et.ju,ht.query,!1).then(function(fr){return ht.view.wh(fr.documents,Pn)})]:[3,2];case 1:Pn=bi.sent(),bi.label=2;case 2:return Jn=Jt&&Jt.zt.get(ht.targetId),gi=ht.view.yr(Pn,et.Uh,Jn),[2,(A(et,ht.targetId,gi.Rh),gi.snapshot)]}})})}(f,ge,_e,Pe)},[4,ar(f.ju,l,!0)];case 1:return y=re.sent(),E=new Ua(l,y.Fc),T=E.wh(y.documents),R=Nn.Zt(h,g&&"Offline"!==f.onlineState),V=E.yr(T,f.Uh,R),A(f,h,V.Rh),Z=new lh(l,h,E),[2,(f.Nh.set(l,Z),f.Fh.has(h)?f.Fh.get(h).push(l):f.Fh.set(h,[l]),V.snapshot)]}})})}function Ri(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y;return U.__generator(this,function(E){switch(E.label){case 0:return h=Ze(f),g=h.Nh.get(l),(y=h.Fh.get(g.targetId)).length>1?[2,(h.Fh.set(g.targetId,y.filter(function(T){return!ac(T,l)})),void h.Nh.delete(l))]:h.Uh?(h.Sh.Bi(g.targetId),h.Sh.Fi(g.targetId)?[3,2]:[4,Hn(h.ju,g.targetId,!1).then(function(){h.Sh.Ui(g.targetId),$c(h.ph,g.targetId),Va(h,g.targetId)}).catch(ci)]):[3,3];case 1:E.sent(),E.label=2;case 2:return[3,5];case 3:return Va(h,g.targetId),[4,Hn(h.ju,g.targetId,!0)];case 4:E.sent(),E.label=5;case 5:return[2]}})})}function mc(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g;return U.__generator(this,function(y){switch(y.label){case 0:h=Ze(f),y.label=1;case 1:return y.trys.push([1,4,,6]),[4,_a(h.ju,l)];case 2:return g=y.sent(),l.zt.forEach(function(E,T){var R=h.kh.get(T);R&&(at(E.ee.size+E.ne.size+E.se.size<=1),E.ee.size>0?R.Vh=!0:E.ne.size>0?at(R.Vh):E.se.size>0&&(at(R.Vh),R.Vh=!1))}),[4,oe(h,g,l)];case 3:return y.sent(),[3,6];case 4:return[4,ci(y.sent())];case 5:return y.sent(),[3,6];case 6:return[2]}})})}function pd(f,l,h){var g=Ze(f);if(g.Uh&&0===h||!g.Uh&&1===h){var y=[];g.Nh.forEach(function(E,T){var R=T.view.Qs(l);R.snapshot&&y.push(R.snapshot)}),function(E,T){var R=Ze(E);R.onlineState=T;var V=!1;R.Bs.forEach(function(Z,re){for(var ge=0,_e=re.listeners;ge<_e.length;ge++)_e[ge].Qs(T)&&(V=!0)}),V&&$s(R)}(g.bh,l),y.length&&g.Ch.yu(y),g.onlineState=l,g.Uh&&g.Sh.Ki(l)}}function Ti(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E,T,R,V;return U.__generator(this,function(Z){switch(Z.label){case 0:return(g=Ze(f)).Sh.Qi(l,"rejected",h),y=g.kh.get(l),(E=y&&y.key)?(T=(T=new qn(Le.i)).ot(E,new kr(E,zt.min())),R=Qe().add(E),V=new ai(zt.min(),new Map,new Ei(Ut),T,R),[4,mc(g,V)]):[3,2];case 1:return Z.sent(),g.$h=g.$h.remove(E),g.kh.delete(l),H(g),[3,4];case 2:return[4,Hn(g.ju,l,!1).then(function(){return Va(g,l,h)}).catch(ci)];case 3:Z.sent(),Z.label=4;case 4:return[2]}})})}function md(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y;return U.__generator(this,function(E){switch(E.label){case 0:h=Ze(f),g=l.batch.batchId,E.label=1;case 1:return E.trys.push([1,4,,6]),[4,ga(h.ju,l)];case 2:return y=E.sent(),yl(h,g,null),fs(h,g),h.Sh.ki(g,"acknowledged"),[4,oe(h,y)];case 3:return E.sent(),[3,6];case 4:return[4,ci(E.sent())];case 5:return E.sent(),[3,6];case 6:return[2]}})})}function sp(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y;return U.__generator(this,function(E){switch(E.label){case 0:g=Ze(f),E.label=1;case 1:return E.trys.push([1,4,,6]),[4,(T=g.ju,R=l,V=Ze(T),V.persistence.runTransaction("Reject batch","readwrite-primary",function(Z){var re;return V.Sr.Oo(Z,R).next(function(ge){return at(null!==ge),re=ge.keys(),V.Sr.Wo(Z,ge)}).next(function(){return V.Sr.zo(Z)}).next(function(){return V.Cc.kr(Z,re)})}))];case 2:return y=E.sent(),yl(g,l,h),fs(g,l),g.Sh.ki(l,"rejected",h),[4,oe(g,y)];case 3:return E.sent(),[3,6];case 4:return[4,ci(E.sent())];case 5:return E.sent(),[3,6];case 6:return[2]}var T,R,V})})}function fs(f,l){(f.Lh.get(l)||[]).forEach(function(h){h.resolve()}),f.Lh.delete(l)}function yl(f,l,h){var g=Ze(f),y=g.Oh[g.currentUser.ti()];if(y){var E=y.get(l);E&&(h?E.reject(h):E.resolve(),y=y.remove(l)),g.Oh[g.currentUser.ti()]=y}}function Va(f,l,h){void 0===h&&(h=null),f.Sh.Bi(l);for(var g=0,y=f.Fh.get(l);g<y.length;g++){var E=y[g];f.Nh.delete(E),h&&f.Ch.Wh(E,h)}f.Fh.delete(l),f.Uh&&f.Mh.Uc(l).forEach(function(T){f.Mh.Ho(T)||Wc(f,T)})}function Wc(f,l){var h=f.$h.get(l);null!==h&&($c(f.ph,h),f.$h=f.$h.remove(l),f.kh.delete(h),H(f))}function A(f,l,h){for(var g=0,y=h;g<y.length;g++){var E=y[g];E instanceof op?(f.Mh.Da(E.key,l),F(f,E)):E instanceof fd?(me("SyncEngine","Document no longer in limbo: "+E.key),f.Mh.Na(E.key,l),f.Mh.Ho(E.key)||Wc(f,E.key)):Re()}}function F(f,l){var h=l.key;f.$h.get(h)||(me("SyncEngine","New document in limbo: "+h),f.xh.push(h),H(f))}function H(f){for(;f.xh.length>0&&f.$h.size<f.Dh;){var l=f.xh.shift(),h=f.Bh.next();f.kh.set(h,new uh(l)),f.$h=f.$h.ot(l,h),ah(f.ph,new Ci(Bo(Aa(l.path)),h,2,Io.ai))}}function oe(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E,T;return U.__generator(this,function(R){switch(R.label){case 0:return g=Ze(f),y=[],E=[],T=[],g.Nh.m()?[3,3]:(g.Nh.forEach(function(V,Z){T.push(g.Qh(Z,l,h).then(function(re){if(re){g.Uh&&g.Sh.Qi(Z.targetId,re.fromCache?"not-current":"current"),y.push(re);var ge=Mi.zr(Z.targetId,re);E.push(ge)}}))}),[4,Promise.all(T)]);case 1:return R.sent(),g.Ch.yu(y),[4,function(V,Z){return U.__awaiter(this,void 0,void 0,function(){var re,ge,_e,Pe,et,ht,an,Pn;return U.__generator(this,function(Jn){switch(Jn.label){case 0:re=Ze(V),Jn.label=1;case 1:return Jn.trys.push([1,3,,4]),[4,re.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(gi){return It.forEach(Z,function(bi){return It.forEach(bi.Kr,function(fr){return re.persistence.No.Da(gi,bi.targetId,fr)}).next(function(){return It.forEach(bi.Gr,function(fr){return re.persistence.No.Na(gi,bi.targetId,fr)})})})})];case 2:return Jn.sent(),[3,4];case 3:if(!Hs(ge=Jn.sent()))throw ge;return me("LocalStore","Failed to update sequence numbers: "+ge),[3,4];case 4:for(_e=0,Pe=Z;_e<Pe.length;_e++)ht=(et=Pe[_e]).targetId,et.fromCache||(an=re.bc.get(ht),Pn=an.rt(an.nt),re.bc=re.bc.ot(ht,Pn));return[2]}})})}(g.ju,E)];case 2:R.sent(),R.label=3;case 3:return[2]}})})}function be(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g;return U.__generator(this,function(y){switch(y.label){case 0:return(h=Ze(f)).currentUser.isEqual(l)?[3,3]:(me("SyncEngine","User change. New user:",l.ti()),[4,function(E,T){return U.__awaiter(this,void 0,void 0,function(){var R,V,Z,re;return U.__generator(this,function(ge){switch(ge.label){case 0:return R=Ze(E),V=R.Sr,Z=R.Cc,[4,R.persistence.runTransaction("Handle user change","readonly",function(_e){var Pe;return R.Sr.Uo(_e).next(function(et){return Pe=et,V=R.persistence.mc(T),Z=new wu(R.Dc,V,R.persistence.Ic()),V.Uo(_e)}).next(function(et){for(var ht=[],an=[],Jt=Qe(),Pn=0,Jn=Pe;Pn<Jn.length;Pn++){var gi=Jn[Pn];ht.push(gi.batchId);for(var bi=0,fr=gi.mutations;bi<fr.length;bi++)Jt=Jt.add(fr[bi].key)}for(var Yc=0,af=et;Yc<af.length;Yc++){var dp=af[Yc];an.push(dp.batchId);for(var cf=0,_h=dp.mutations;cf<_h.length;cf++)Jt=Jt.add(_h[cf].key)}return Z.kr(_e,Jt).next(function(xd){return{jh:xd,Kh:ht,Gh:an}})})})];case 1:return re=ge.sent(),[2,(R.Sr=V,R.Cc=Z,R.Vc.Nc(R.Cc),re)]}})})}(h.ju,l)]);case 1:return g=y.sent(),h.currentUser=l,(E=h).Lh.forEach(function(R){R.forEach(function(V){V.reject(new G(z.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),E.Lh.clear(),h.Sh.ji(l,g.Kh,g.Gh),[4,oe(h,g.jh)];case 2:y.sent(),y.label=3;case 3:return[2]}var E})})}function Ue(f,l){var h=Ze(f),g=h.kh.get(l);if(g&&g.Vh)return Qe().add(g.key);var y=Qe(),E=h.Fh.get(l);if(!E)return y;for(var T=0,R=E;T<R.length;T++){var Z=h.Nh.get(R[T]);y=y.kt(Z.view.dh)}return y}function rt(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y;return U.__generator(this,function(E){switch(E.label){case 0:return[4,ar((h=Ze(f)).ju,l.query,!0)];case 1:return g=E.sent(),y=l.view.Ph(g),[2,(h.Uh&&A(h,l.targetId,y.Rh),y)]}})})}function Bt(f,l,h,g){return U.__awaiter(this,void 0,void 0,function(){var y,E;return U.__generator(this,function(T){switch(T.label){case 0:return[4,(R=(y=Ze(f)).ju,V=l,Z=Ze(R),re=Ze(Z.Sr),Z.persistence.runTransaction("Lookup mutation documents","readonly",function(ge){return re.Lo(ge,V).next(function(_e){return _e?Z.Cc.kr(ge,_e):It.resolve(null)})}))];case 1:return null===(E=T.sent())?[3,6]:"pending"!==h?[3,3]:[4,Gs(y.ph)];case 2:return T.sent(),[3,4];case 3:"acknowledged"===h||"rejected"===h?(yl(y,l,g||null),fs(y,l),function(R,V){Ze(Ze(R).Sr).Ko(V)}(y.ju,l)):Re(),T.label=4;case 4:return[4,oe(y,E)];case 5:return T.sent(),[3,7];case 6:me("SyncEngine","Cannot apply mutation batch with id: "+l),T.label=7;case 7:return[2]}var R,V,Z,re})})}function Ft(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y,E,T,V,Z;return U.__generator(this,function(re){switch(re.label){case 0:return Xi(h=Ze(f)),Su(h),!0!==l||!0===h.qh?[3,3]:(g=h.Sh.Ci(),[4,hn(h,g.A())]);case 1:return y=re.sent(),h.qh=!0,[4,Xl(h.ph,!0)];case 2:for(re.sent(),E=0,T=y;E<T.length;E++)ah(h.ph,T[E]);return[3,7];case 3:return!1!==l||!1===h.qh?[3,7]:(V=[],Z=Promise.resolve(),h.Fh.forEach(function(ge,_e){h.Sh.qi(_e)?V.push(_e):Z=Z.then(function(){return Va(h,_e),Hn(h.ju,_e,!0)}),$c(h.ph,_e)}),[4,Z]);case 4:return re.sent(),[4,hn(h,V)];case 5:return re.sent(),(_e=Ze(h)).kh.forEach(function(Pe,et){$c(_e.ph,et)}),_e.Mh.Qc(),_e.kh=new Map,_e.$h=new qn(Le.i),h.qh=!1,[4,Xl(h.ph,!1)];case 6:re.sent(),re.label=7;case 7:return[2]}var _e})})}function hn(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E,T,R,V,Z,re,ge,_e,et,ht,an;return U.__generator(this,function(Jt){switch(Jt.label){case 0:g=Ze(f),y=[],E=[],T=0,R=l,Jt.label=1;case 1:return T<R.length?(Z=void 0,(re=g.Fh.get(V=R[T]))&&0!==re.length?[4,ds(g.ju,Bo(re[0]))]:[3,7]):[3,13];case 2:Z=Jt.sent(),ge=0,_e=re,Jt.label=3;case 3:return ge<_e.length?(et=g.Nh.get(_e[ge]),[4,rt(g,et)]):[3,6];case 4:(ht=Jt.sent()).snapshot&&E.push(ht.snapshot),Jt.label=5;case 5:return ge++,[3,3];case 6:return[3,11];case 7:return[4,Do(g.ju,V)];case 8:return an=Jt.sent(),[4,ds(g.ju,an)];case 9:return Z=Jt.sent(),[4,Gc(g,Un(an),V,!1)];case 10:Jt.sent(),Jt.label=11;case 11:y.push(Z),Jt.label=12;case 12:return T++,[3,1];case 13:return[2,(g.Ch.yu(E),y)]}})})}function Un(f){return Ac(f.path,f.collectionGroup,f.orderBy,f.filters,f.limit,"F",f.startAt,f.endAt)}function Dn(f){var l=Ze(f);return Ze(Ze(l.ju).persistence).pi()}function ps(f,l,h,g){return U.__awaiter(this,void 0,void 0,function(){var y,E,T;return U.__generator(this,function(R){switch(R.label){case 0:return(y=Ze(f)).qh?(me("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!y.Fh.has(l))return[3,8];switch(h){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Wl(y.ju)];case 3:return E=R.sent(),T=ai.Xt(l,"current"===h),[4,oe(y,E,T)];case 4:return R.sent(),[3,8];case 5:return[4,Hn(y.ju,l,!0)];case 6:return R.sent(),Va(y,l,g),[3,8];case 7:Re(),R.label=8;case 8:return[2]}})})}function Oo(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E,T,R,V,Z,re,ge;return U.__generator(this,function(Pe){switch(Pe.label){case 0:if(!(g=Xi(f)).qh)return[3,10];y=0,E=l,Pe.label=1;case 1:return y<E.length?g.Fh.has(T=E[y])?(me("SyncEngine","Adding an already active target "+T),[3,5]):[4,Do(g.ju,T)]:[3,6];case 2:return R=Pe.sent(),[4,ds(g.ju,R)];case 3:return V=Pe.sent(),[4,Gc(g,Un(R),V.targetId,!1)];case 4:Pe.sent(),ah(g.ph,V),Pe.label=5;case 5:return y++,[3,1];case 6:Z=function(et){return U.__generator(this,function(ht){switch(ht.label){case 0:return g.Fh.has(et)?[4,Hn(g.ju,et,!1).then(function(){$c(g.ph,et),Va(g,et)}).catch(ci)]:[3,2];case 1:ht.sent(),ht.label=2;case 2:return[2]}})},re=0,ge=h,Pe.label=7;case 7:return re<ge.length?[5,Z(ge[re])]:[3,10];case 8:Pe.sent(),Pe.label=9;case 9:return re++,[3,7];case 10:return[2]}})})}function Xi(f){var l=Ze(f);return l.ph.Gu.sh=mc.bind(null,l),l.ph.Gu.qe=Ue.bind(null,l),l.ph.Gu.nh=Ti.bind(null,l),l.Ch.yu=es.bind(null,l.bh),l.Ch.Wh=Uc.bind(null,l.bh),l}function Su(f){var l=Ze(f);return l.ph.Gu.ih=md.bind(null,l),l.ph.Gu.rh=sp.bind(null,l),l}var Ba=function(){function f(){}return f.prototype.Nc=function(l){this.zh=l},f.prototype.Lr=function(l,h,g,y){var T,E=this;return 0===(T=h).filters.length&&null===T.limit&&null==T.startAt&&null==T.endAt&&(0===T.on.length||1===T.on.length&&T.on[0].field.p())||g.isEqual(zt.min())?this.Hh(l,h):this.zh.kr(l,y).next(function(T){var R=E.Yh(h,T);return(Pc(h)||oc(h))&&E.Eh(h.an,R,y,g)?E.Hh(l,h):(Ne()<=pe.LogLevel.DEBUG&&me("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",g.toString(),Cs(h)),E.zh.Lr(l,h,g).next(function(V){return R.forEach(function(Z){V=V.ot(Z.key,Z)}),V}))})},f.prototype.Yh=function(l,h){var g=new Ei(vu(l));return h.forEach(function(y,E){E instanceof oi&&Bl(l,E)&&(g=g.add(E))}),g},f.prototype.Eh=function(l,h,g,y){if(g.size!==h.size)return!0;var E="F"===l?h.last():h.first();return!!E&&(E.hasPendingWrites||E.version.L(y)>0)},f.prototype.Hh=function(l,h){return Ne()<=pe.LogLevel.DEBUG&&me("IndexFreeQueryEngine","Using full collection scan to execute query:",Cs(h)),this.zh.Lr(l,h,zt.min())},f}(),ja=function(){function f(l,h){this.Dr=l,this.No=h,this.Sr=[],this.Jh=1,this.Xh=new Ei(jr.kc)}return f.prototype.$o=function(l){return It.resolve(0===this.Sr.length)},f.prototype.ko=function(l,h,g,y){var E=this.Jh;this.Jh++;var T=new nd(E,h,g,y);this.Sr.push(T);for(var R=0,V=y;R<V.length;R++){var Z=V[R];this.Xh=this.Xh.add(new jr(Z.key,E)),this.Dr.Mo(l,Z.key.path.h())}return It.resolve(T)},f.prototype.Oo=function(l,h){return It.resolve(this.Zh(h))},f.prototype.Bo=function(l,h){var y=this.tl(h+1),E=y<0?0:y;return It.resolve(this.Sr.length>E?this.Sr[E]:null)},f.prototype.qo=function(){return It.resolve(0===this.Sr.length?-1:this.Jh-1)},f.prototype.Uo=function(l){return It.resolve(this.Sr.slice())},f.prototype.Nr=function(l,h){var g=this,y=new jr(h,0),E=new jr(h,Number.POSITIVE_INFINITY),T=[];return this.Xh.Ft([y,E],function(R){var V=g.Zh(R.jc);T.push(V)}),It.resolve(T)},f.prototype.Or=function(l,h){var g=this,y=new Ei(Ut);return h.forEach(function(E){var T=new jr(E,0),R=new jr(E,Number.POSITIVE_INFINITY);g.Xh.Ft([T,R],function(V){y=y.add(V.jc)})}),It.resolve(this.el(y))},f.prototype.Wr=function(l,h){var g=h.path,y=g.length+1,E=g;Le.F(E)||(E=E.child(""));var T=new jr(new Le(E),0),R=new Ei(Ut);return this.Xh.xt(function(V){var Z=V.key.path;return!!g.T(Z)&&(Z.length===y&&(R=R.add(V.jc)),!0)},T),It.resolve(this.el(R))},f.prototype.el=function(l){var h=this,g=[];return l.forEach(function(y){var E=h.Zh(y);null!==E&&g.push(E)}),g},f.prototype.Wo=function(l,h){var g=this;at(0===this.nl(h.batchId,"removed")),this.Sr.shift();var y=this.Xh;return It.forEach(h.mutations,function(E){var T=new jr(E.key,h.batchId);return y=y.delete(T),g.No.Go(l,E.key)}).next(function(){g.Xh=y})},f.prototype.Ko=function(l){},f.prototype.Ho=function(l,h){var g=new jr(h,0),y=this.Xh.$t(g);return It.resolve(h.isEqual(y&&y.key))},f.prototype.zo=function(l){return It.resolve()},f.prototype.nl=function(l,h){return this.tl(l)},f.prototype.tl=function(l){return 0===this.Sr.length?0:l-this.Sr[0].batchId},f.prototype.Zh=function(l){var h=this.tl(l);return h<0||h>=this.Sr.length?null:this.Sr[h]},f}(),Fr=function(){function f(l,h){this.Dr=l,this.sl=h,this.docs=new qn(Le.i),this.size=0}return f.prototype.Er=function(l,h,g){var y=h.key,E=this.docs.get(y),T=E?E.size:0,R=this.sl(h);return this.docs=this.docs.ot(y,{ta:h,size:R,readTime:g}),this.size+=R-T,this.Dr.Mo(l,y.path.h())},f.prototype.Ar=function(l){var h=this.docs.get(l);h&&(this.docs=this.docs.remove(l),this.size-=h.size)},f.prototype.Rr=function(l,h){var g=this.docs.get(h);return It.resolve(g?g.ta:null)},f.prototype.getEntries=function(l,h){var g=this,y=le();return h.forEach(function(E){var T=g.docs.get(E);y=y.ot(E,T?T.ta:null)}),It.resolve(y)},f.prototype.Lr=function(l,h,g){for(var y=te(),E=new Le(h.path.child("")),T=this.docs.ft(E);T.At();){var R=T.It(),Z=R.value,re=Z.ta,ge=Z.readTime;if(!h.path.T(R.key.path))break;ge.L(g)<=0||re instanceof oi&&Bl(h,re)&&(y=y.ot(re.key,re))}return It.resolve(y)},f.prototype.il=function(l,h){return It.forEach(this.docs,function(g){return h(g)})},f.prototype.ra=function(l){return new bl(this)},f.prototype.aa=function(l){return It.resolve(this.size)},f}(),bl=function(f){function l(h){var g=this;return(g=f.call(this)||this).ca=h,g}return U.__extends(l,f),l.prototype.yr=function(h){var g=this,y=[];return this.wr.forEach(function(E,T){T?y.push(g.ca.Er(h,T,g.readTime)):g.ca.Ar(E)}),It.$n(y)},l.prototype.gr=function(h,g){return this.ca.Rr(h,g)},l.prototype.Pr=function(h,g){return this.ca.getEntries(h,g)},l}(Xf),c_=function(){function f(l){this.persistence=l,this.rl=new Kt(function(h){return xt(h)},mn),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.ol=0,this.al=new La,this.targetCount=0,this.cl=$l.fa()}return f.prototype.Ce=function(l,h){return this.rl.forEach(function(g,y){return h(y)}),It.resolve()},f.prototype.Ea=function(l){return It.resolve(this.lastRemoteSnapshotVersion)},f.prototype.Ia=function(l){return It.resolve(this.ol)},f.prototype.wa=function(l){return this.highestTargetId=this.cl.next(),It.resolve(this.highestTargetId)},f.prototype.Aa=function(l,h,g){return g&&(this.lastRemoteSnapshotVersion=g),h>this.ol&&(this.ol=h),It.resolve()},f.prototype.ga=function(l){this.rl.set(l.target,l);var h=l.targetId;h>this.highestTargetId&&(this.cl=new $l(h),this.highestTargetId=h),l.sequenceNumber>this.ol&&(this.ol=l.sequenceNumber)},f.prototype.Ra=function(l,h){return this.ga(h),this.targetCount+=1,It.resolve()},f.prototype.ya=function(l,h){return this.ga(h),It.resolve()},f.prototype.Va=function(l,h){return this.rl.delete(h.target),this.al.Uc(h.targetId),this.targetCount-=1,It.resolve()},f.prototype.po=function(l,h,g){var y=this,E=0,T=[];return this.rl.forEach(function(R,V){V.sequenceNumber<=h&&null===g.get(V.targetId)&&(y.rl.delete(R),T.push(y.pa(l,V.targetId)),E++)}),It.$n(T).next(function(){return E})},f.prototype.ba=function(l){return It.resolve(this.targetCount)},f.prototype.va=function(l,h){var g=this.rl.get(h)||null;return It.resolve(g)},f.prototype.Sa=function(l,h,g){return this.al.Lc(h,g),It.resolve()},f.prototype.Ca=function(l,h,g){this.al.qc(h,g);var y=this.persistence.No,E=[];return y&&h.forEach(function(T){E.push(y.Go(l,T))}),It.$n(E)},f.prototype.pa=function(l,h){return this.al.Uc(h),It.resolve()},f.prototype.Fa=function(l,h){var g=this.al.Wc(h);return It.resolve(g)},f.prototype.Ho=function(l,h){return It.resolve(this.al.Ho(h))},f}(),gd=function(){function f(l){var h=this;this.ul={},this.Ma=new Io(0),this.Oa=!1,this.Oa=!0,this.No=l(this),this.Ka=new c_(this),this.Dr=new Ms,this.vr=new Fr(this.Dr,function(E){return h.No.hl(E)})}return f.prototype.start=function(){return Promise.resolve()},f.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(f.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),f.prototype.Za=function(){},f.prototype.tc=function(){},f.prototype.Ic=function(){return this.Dr},f.prototype.mc=function(l){var h=this.ul[l.ti()];return h||(h=new ja(this.Dr,this.No),this.ul[l.ti()]=h),h},f.prototype.Tc=function(){return this.Ka},f.prototype.Ec=function(){return this.vr},f.prototype.runTransaction=function(l,h,g){var y=this;me("MemoryPersistence","Starting transaction:",l);var E=new _d(this.Ma.next());return this.No.ll(),g(E).next(function(T){return y.No._l(E).next(function(){return T})}).Fn().then(function(T){return E.br(),T})},f.prototype.fl=function(l,h){return It.kn(Object.values(this.ul).map(function(g){return function(){return g.Ho(l,h)}}))},f}(),_d=function(f){function l(h){var g=this;return(g=f.call(this)||this).xa=h,g}return U.__extends(l,f),l}(Qd),Qh=function(){function f(l){this.persistence=l,this.dl=new La,this.wl=null}return f.ml=function(l){return new f(l)},Object.defineProperty(f.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw Re()},enumerable:!1,configurable:!0}),f.prototype.Da=function(l,h,g){return this.dl.Da(g,h),this.Tl.delete(g.toString()),It.resolve()},f.prototype.Na=function(l,h,g){return this.dl.Na(g,h),this.Tl.add(g.toString()),It.resolve()},f.prototype.Go=function(l,h){return this.Tl.add(h.toString()),It.resolve()},f.prototype.removeTarget=function(l,h){var g=this;this.dl.Uc(h.targetId).forEach(function(E){return g.Tl.add(E.toString())});var y=this.persistence.Tc();return y.Fa(l,h.targetId).next(function(E){E.forEach(function(T){return g.Tl.add(T.toString())})}).next(function(){return y.Va(l,h)})},f.prototype.ll=function(){this.wl=new Set},f.prototype._l=function(l){var h=this,g=this.persistence.Ec().ra();return It.forEach(this.Tl,function(y){var E=Le.D(y);return h.El(l,E).next(function(T){T||g.Ar(E)})}).next(function(){return h.wl=null,g.apply(l)})},f.prototype.yc=function(l,h){var g=this;return this.El(l,h).next(function(y){y?g.Tl.delete(h.toString()):g.Tl.add(h.toString())})},f.prototype.hl=function(l){return 0},f.prototype.El=function(l,h){var g=this;return It.kn([function(){return It.resolve(g.dl.Ho(h))},function(){return g.persistence.Tc().Ho(l,h)},function(){return g.persistence.fl(l,h)}])},f}(),l_=function(){function f(l){this.Il=l.Il,this.Al=l.Al}return f.prototype.gu=function(l){this.Rl=l},f.prototype.Tu=function(l){this.gl=l},f.prototype.onMessage=function(l){this.Pl=l},f.prototype.close=function(){this.Al()},f.prototype.send=function(l){this.Il(l)},f.prototype.yl=function(){this.Rl()},f.prototype.Vl=function(l){this.gl(l)},f.prototype.pl=function(l){this.Pl(l)},f}(),bm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ry=function(f){function l(h){var g=this;return(g=f.call(this,h)||this).forceLongPolling=h.forceLongPolling,g.W=h.W,g}return U.__extends(l,f),l.prototype.Nl=function(h,g,y,E){return new Promise(function(T,R){var V=new ke.XhrIo;V.listenOnce(ke.EventType.COMPLETE,function(){try{switch(V.getLastErrorCode()){case ke.ErrorCode.NO_ERROR:var re=V.getResponseJson();me("Connection","XHR received:",JSON.stringify(re)),T(re);break;case ke.ErrorCode.TIMEOUT:me("Connection",'RPC "'+h+'" timed out'),R(new G(z.DEADLINE_EXCEEDED,"Request time out"));break;case ke.ErrorCode.HTTP_ERROR:var ge=V.getStatus();if(me("Connection",'RPC "'+h+'" failed with status:',ge,"response text:",V.getResponseText()),ge>0){var _e=V.getResponseJson().error;if(_e&&_e.status&&_e.message){var Pe=(ht=_e.status.toLowerCase().replace("_","-"),Object.values(z).indexOf(ht)>=0?ht:z.UNKNOWN);R(new G(Pe,_e.message))}else R(new G(z.UNKNOWN,"Server responded with status "+V.getStatus()))}else R(new G(z.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{me("Connection",'RPC "'+h+'" completed.')}var ht});var Z=JSON.stringify(E);V.send(g,"POST",Z,y,15)})},l.prototype.Pu=function(h,g){var y=[this.vl,"/","google.firestore.v1.Firestore","/",h,"/channel"],E=ke.createWebChannelTransport(),T={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(T.initMessageHeaders,g),ce.isMobileCordova()||ce.isReactNative()||ce.isElectron()||ce.isIE()||ce.isUWP()||ce.isBrowserExtension()||(T.httpHeadersOverwriteParam="$httpHeaders");var R=y.join("");me("Connection","Creating WebChannel: "+R,T);var V=E.createWebChannel(R,T),Z=!1,re=!1,ge=new l_({Il:function(Pe){re?me("Connection","Not sending because WebChannel is closed:",Pe):(Z||(me("Connection","Opening WebChannel transport."),V.open(),Z=!0),me("Connection","WebChannel sending:",Pe),V.send(Pe))},Al:function(){return V.close()}}),_e=function(Pe,et){V.listen(Pe,function(ht){try{et(ht)}catch(an){setTimeout(function(){throw an},0)}})};return _e(ke.WebChannel.EventType.OPEN,function(){re||me("Connection","WebChannel transport opened.")}),_e(ke.WebChannel.EventType.CLOSE,function(){re||(re=!0,me("Connection","WebChannel transport closed"),ge.Vl())}),_e(ke.WebChannel.EventType.ERROR,function(Pe){re||(re=!0,st("Connection","WebChannel transport errored:",Pe),ge.Vl(new G(z.UNAVAILABLE,"The operation could not be completed")))}),_e(ke.WebChannel.EventType.MESSAGE,function(Pe){var et;if(!re){var ht=Pe.data[0];at(!!ht);var Jt=ht.error||(null===(et=ht[0])||void 0===et?void 0:et.error);if(Jt){me("Connection","WebChannel received error:",Jt);var Pn=Jt.status,Jn=function(bi){var fr=Xt[bi];if(void 0!==fr)return Li(fr)}(Pn),gi=Jt.message;void 0===Jn&&(Jn=z.INTERNAL,gi="Unknown error status: "+Pn+" with message "+Jt.message),re=!0,ge.Vl(new G(Jn,gi)),V.close()}else me("Connection","WebChannel received:",ht),ge.pl(ht)}}),setTimeout(function(){ge.yl()},0),ge},l}(function(){function f(l){this.bl=l,this.U=l.U,this.vl=(l.ssl?"https":"http")+"://"+l.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return f.prototype.$u=function(l,h,g,y){var E=this.Dl(l,h);me("RestConnection","Sending: ",E,g);var T={};return this.Cl(T,y),this.Nl(l,E,T,g).then(function(R){return me("RestConnection","Received: ",R),R},function(R){throw st("RestConnection",l+" failed with error: ",R,"url: ",E,"request:",g),R})},f.prototype.ku=function(l,h,g,y){return this.$u(l,h,g,y)},f.prototype.Cl=function(l,h){if(l["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",l["Content-Type"]="text/plain",h)for(var g in h.Kc)h.Kc.hasOwnProperty(g)&&(l[g]=h.Kc[g])},f.prototype.Dl=function(l,h){return this.vl+"/v1/"+h+":"+bm[l]},f}()),Zs=function(){function f(){var l=this;this.Fl=function(){return l.xl()},this.$l=function(){return l.kl()},this.Ml=[],this.Ol()}return f.prototype.Zu=function(l){this.Ml.push(l)},f.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},f.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},f.prototype.xl=function(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var l=0,h=this.Ml;l<h.length;l++)(0,h[l])(0)},f.prototype.kl=function(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var l=0,h=this.Ml;l<h.length;l++)(0,h[l])(1)},f.Ln=function(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},f}(),ap=function(){function f(){}return f.prototype.Zu=function(l){},f.prototype.Di=function(){},f}();function eu(f){return new ra(f,!0)}var u_="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",vd=function(){function f(){}return f.prototype.initialize=function(l){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){switch(h.label){case 0:return this.Sh=this.Ll(l),this.persistence=this.Bl(l),[4,this.persistence.start()];case 1:return h.sent(),this.ql=this.Ul(l),this.ju=this.Ql(l),[2]}})})},f.prototype.Ul=function(l){return null},f.prototype.Ql=function(l){return h=this.persistence,g=new Ba,new ts(h,g,l.Wl);var h,g},f.prototype.Bl=function(l){if(l.persistenceSettings.jl)throw new G(z.FAILED_PRECONDITION,u_);return new gd(Qh.ml)},f.prototype.Ll=function(l){return new dl},f.prototype.terminate=function(){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){switch(l.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return l.sent(),[4,this.persistence.Di()];case 2:return l.sent(),[2]}})})},f.prototype.clearPersistence=function(l,h){throw new G(z.FAILED_PRECONDITION,u_)},f}(),d_=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.initialize=function(h){return U.__awaiter(this,void 0,void 0,function(){var g,y=this;return U.__generator(this,function(E){switch(E.label){case 0:return[4,f.prototype.initialize.call(this,h)];case 1:return E.sent(),g=this.Kl.fi,this.Sh instanceof Vc?(this.Sh.fi={er:Bt.bind(null,g),nr:ps.bind(null,g),sr:Oo.bind(null,g),pi:Dn.bind(null,g)},[4,this.Sh.start()]):[3,3];case 2:E.sent(),E.label=3;case 3:return[4,this.persistence.Xa(function(T){return U.__awaiter(y,void 0,void 0,function(){return U.__generator(this,function(R){switch(R.label){case 0:return[4,Ft(this.Kl.fi,T)];case 1:return R.sent(),this.ql&&(T&&!this.ql.Ei?this.ql.start(this.ju):T||this.ql.stop()),[2]}})})})];case 4:return E.sent(),[2]}})})},l.prototype.Ll=function(h){if(h.persistenceSettings.jl&&h.persistenceSettings.synchronizeTabs){var g=j();if(!Vc.Ln(g))throw new G(z.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var y=Gl(h.bl.U,h.bl.persistenceKey);return new Vc(g,h.cs,y,h.clientId,h.Wl)}return new dl},l}(function(f){function l(h){var g=this;return(g=f.call(this)||this).Kl=h,g}return U.__extends(l,f),l.prototype.initialize=function(h){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return[4,f.prototype.initialize.call(this,h)];case 1:return g.sent(),[4,pc(this.ju)];case 2:return g.sent(),[4,this.Kl.initialize(this,h)];case 3:return g.sent(),[4,Su(this.Kl.fi)];case 4:return g.sent(),[4,Gs(this.Kl.ph)];case 5:return g.sent(),[2]}})})},l.prototype.Ul=function(h){return new Jd(this.persistence.No.wo,h.cs)},l.prototype.Bl=function(h){var g=Gl(h.bl.U,h.bl.persistenceKey),y=eu(h.bl.U);return new us(h.persistenceSettings.synchronizeTabs,g,h.clientId,Qr.ao(h.persistenceSettings.cacheSizeBytes),h.cs,j(),ee(),y,this.Sh,h.persistenceSettings.ka)},l.prototype.Ll=function(h){return new dl},l.prototype.clearPersistence=function(h,g){return function(y){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(T){switch(T.label){case 0:return Xo.Ln()?[4,Xo.delete(y+"main")]:[2,Promise.resolve()];case 1:return T.sent(),[2]}})})}(Gl(h,g))},l}(vd)),Jh=function(){function f(){}return f.prototype.initialize=function(l,h){return U.__awaiter(this,void 0,void 0,function(){var g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.ju?[3,2]:(this.ju=l.ju,this.Sh=l.Sh,this.Ku=this.Gl(h),this.ph=this.zl(h),this.bh=this.Hl(h),this.fi=this.Yl(h),this.Sh.di=function(E){return pd(g.fi,E,1)},this.ph.Gu.Jl=be.bind(null,this.fi),[4,Xl(this.ph,this.fi.Uh)]);case 1:y.sent(),y.label=2;case 2:return[2]}})})},f.prototype.Hl=function(l){return new ti},f.prototype.Gl=function(l){var g=eu(l.bl.U),y=new Ry(l.bl);return new ad(l.credentials,y,g)},f.prototype.zl=function(l){var h,g,y,E,T,R=this;return h=this.ju,g=this.Ku,y=l.cs,E=function(V){return pd(R.fi,V,0)},T=Zs.Ln()?new Zs:new ap,new rp(h,g,y,E,T)},f.prototype.Yl=function(l){return V=!l.persistenceSettings.jl||!l.persistenceSettings.synchronizeTabs,Z=new vl(this.ju,this.ph,this.bh,this.Sh,l.Wl,l.Dh),V&&(Z.qh=!0),Z;var V,Z},f.prototype.terminate=function(){return Wh(this.ph)},f}(),D=function(){function f(l){this.observer=l,this.muted=!1}return f.prototype.next=function(l){this.observer.next&&this.Xl(this.observer.next,l)},f.prototype.error=function(l){this.observer.error?this.Xl(this.observer.error,l):console.error("Uncaught Error in snapshot listener:",l)},f.prototype.Zl=function(){this.muted=!0},f.prototype.Xl=function(l,h){var g=this;this.muted||setTimeout(function(){g.muted||l(h)},0)},f}(),w=function(f){!function(h,g,y,E){if(!(g instanceof Array)||g.length<1)throw new G(z.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+fn(1,"element")+".")}(0,f);for(var l=0;l<f.length;++l)if(un("FieldPath","string",l,f[l]),0===f[l].length)throw new G(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new Ge(f)},I=function(f){function l(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];return f.call(this,h)||this}return U.__extends(l,f),l.documentId=function(){return new l(Ge.v().R())},l.prototype.isEqual=function(h){if(!(h instanceof l))throw Tn("isEqual","FieldPath",1,h);return this.t_.isEqual(h.t_)},l}(w),P=new RegExp("[~\\*/\\[\\]]"),$=function(f){this.e_=f},J=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.n_=function(h){if(2!==h.s_)throw h.i_(1===h.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return h.We.push(h.path),null},l.prototype.isEqual=function(h){return h instanceof l},l}($);function Se(f,l,h){return new Du({s_:3,r_:l.settings.r_,methodName:f.e_,o_:h},l.U,l.serializer,l.ignoreUndefinedProperties)}var Xe=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.n_=function(h){return new la(h.path,new on)},l.prototype.isEqual=function(h){return h instanceof l},l}($),Pt=function(f){function l(h,g){var y=this;return(y=f.call(this,h)||this).a_=g,y}return U.__extends(l,f),l.prototype.n_=function(h){var g=Se(this,h,!0),y=this.a_.map(function(T){return tu(T,g)}),E=new qr(y);return new la(h.path,E)},l.prototype.isEqual=function(h){return this===h},l}($),Nt=function(f){function l(h,g){var y=this;return(y=f.call(this,h)||this).a_=g,y}return U.__extends(l,f),l.prototype.n_=function(h){var g=Se(this,h,!0),y=this.a_.map(function(T){return tu(T,g)}),E=new Cr(y);return new la(h.path,E)},l.prototype.isEqual=function(h){return this===h},l}($),pn=function(f){function l(h,g){var y=this;return(y=f.call(this,h)||this).c_=g,y}return U.__extends(l,f),l.prototype.n_=function(h){var g=new bs(h.serializer,Us(h.serializer,this.c_));return new la(h.path,g)},l.prototype.isEqual=function(h){return this===h},l}($),Wn=function(){function f(l,h){if(ot("GeoPoint",arguments,2),un("GeoPoint","number",1,l),un("GeoPoint","number",2,h),!isFinite(l)||l<-90||l>90)throw new G(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+l);if(!isFinite(h)||h<-180||h>180)throw new G(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+h);this.u_=l,this.h_=h}return Object.defineProperty(f.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){return this.u_===l.u_&&this.h_===l.h_},f.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},f.prototype.Y=function(l){return Ut(this.u_,l.u_)||Ut(this.h_,l.h_)},f}(),eo=function(f){this.l_=f},va=/^__.*__$/,to=function(f,l,h){this.__=f,this.f_=l,this.d_=h},cp=function(){function f(l,h,g){this.data=l,this.We=h,this.fieldTransforms=g}return f.prototype.w_=function(l,h){var g=[];return g.push(null!==this.We?new Wr(l,this.data,this.We,h):new rr(l,this.data,h)),this.fieldTransforms.length>0&&g.push(new Hi(l,this.fieldTransforms)),g},f}(),Xh=function(){function f(l,h,g){this.data=l,this.We=h,this.fieldTransforms=g}return f.prototype.w_=function(l,h){var g=[new Wr(l,this.data,this.We,h)];return this.fieldTransforms.length>0&&g.push(new Hi(l,this.fieldTransforms)),g},f}();function Zc(f){switch(f){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}var Du=function(){function f(l,h,g,y,E,T){this.settings=l,this.U=h,this.serializer=g,this.ignoreUndefinedProperties=y,void 0===E&&this.m_(),this.fieldTransforms=E||[],this.We=T||[]}return Object.defineProperty(f.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),f.prototype.T_=function(l){return new f(Object.assign(Object.assign({},this.settings),l),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},f.prototype.E_=function(l){var h,g=null===(h=this.path)||void 0===h?void 0:h.child(l),y=this.T_({path:g,o_:!1});return y.I_(l),y},f.prototype.A_=function(l){var h,g=null===(h=this.path)||void 0===h?void 0:h.child(l),y=this.T_({path:g,o_:!1});return y.m_(),y},f.prototype.R_=function(l){return this.T_({path:void 0,o_:!0})},f.prototype.i_=function(l){return lp(l,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},f.prototype.contains=function(l){return void 0!==this.We.find(function(h){return l.T(h)})||void 0!==this.fieldTransforms.find(function(h){return l.T(h.field)})},f.prototype.m_=function(){if(this.path)for(var l=0;l<this.path.length;l++)this.I_(this.path.get(l))},f.prototype.I_=function(l){if(0===l.length)throw this.i_("Document fields must not be empty");if(Zc(this.s_)&&va.test(l))throw this.i_('Document fields cannot begin and end with "__"')},f}(),wl=function(){function f(l,h,g){this.U=l,this.ignoreUndefinedProperties=h,this.serializer=g||eu(l)}return f.prototype.P_=function(l,h,g,y){return void 0===y&&(y=!1),new Du({s_:l,methodName:h,r_:g,path:Ge.P(),o_:!1,g_:y},this.U,this.serializer,this.ignoreUndefinedProperties)},f}();function ef(f,l,h,g,y,E){void 0===E&&(E={});var T=f.P_(E.merge||E.mergeFields?2:0,l,h,y);fh("Data must be an object, but it was:",T,g);var R,V,Z=hh(g,T);if(E.merge)R=new Ir(T.We),V=T.fieldTransforms;else if(E.mergeFields){for(var re=[],ge=0,_e=E.mergeFields;ge<_e.length;ge++){var Pe=_e[ge],et=void 0;if(Pe instanceof w)et=Pe.t_;else{if("string"!=typeof Pe)throw Re();et=f_(l,Pe,h)}if(!T.contains(et))throw new G(z.INVALID_ARGUMENT,"Field '"+et+"' is specified in your field mask but missing from your input data.");ww(re,et)||re.push(et)}R=new Ir(re),V=T.fieldTransforms.filter(function(ht){return R.Ye(ht.field)})}else R=null,V=T.fieldTransforms;return new cp(new Pr(Z),R,V)}function dh(f,l,h,g){var y=f.P_(1,l,h);fh("Data must be an object, but it was:",y,g);var E=[],T=new Yr;nt(g,function(V,Z){var re=f_(l,V,h),ge=y.A_(re);if(Z instanceof J||Z instanceof eo&&Z.l_ instanceof J)E.push(re);else{var _e=tu(Z,ge);null!=_e&&(E.push(re),T.set(re,_e))}});var R=new Ir(E);return new Xh(T.Xe(),R,y.fieldTransforms)}function tf(f,l,h,g,y,E){var T=f.P_(1,l,h),R=[yd(l,g,h)],V=[y];if(E.length%2!=0)throw new G(z.INVALID_ARGUMENT,"Function "+l+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var Z=0;Z<E.length;Z+=2)R.push(yd(l,E[Z])),V.push(E[Z+1]);for(var re=[],ge=new Yr,_e=R.length-1;_e>=0;--_e)if(!ww(re,R[_e])){var Pe=R[_e],et=V[_e],ht=T.A_(Pe);if(et instanceof J||et instanceof eo&&et.l_ instanceof J)re.push(Pe);else{var an=tu(et,ht);null!=an&&(re.push(Pe),ge.set(Pe,an))}}var Jt=new Ir(re);return new Xh(ge.Xe(),Jt,T.fieldTransforms)}function wm(f,l,h,g){return void 0===g&&(g=!1),tu(h,f.P_(g?4:3,l))}function tu(f,l){if(f instanceof eo&&(f=f.l_),h_(f))return fh("Unsupported field value:",l,f),hh(f,l);if(f instanceof $)return function(h,g){if(!Zc(g.s_))throw g.i_(h.e_+"() can only be used with update() and set()");if(!g.path)throw g.i_(h.e_+"() is not currently supported inside arrays");var y=h.n_(g);y&&g.fieldTransforms.push(y)}(f,l),null;if(l.path&&l.We.push(l.path),f instanceof Array){if(l.settings.o_&&4!==l.s_)throw l.i_("Nested arrays are not supported");return function(h,g){for(var y=[],E=0,T=0,R=h;T<R.length;T++){var V=tu(R[T],g.R_(E));null==V&&(V={nullValue:"NULL_VALUE"}),y.push(V),E++}return{arrayValue:{values:y}}}(f,l)}return function(h,g){if(null===h)return{nullValue:"NULL_VALUE"};if("number"==typeof h)return Us(g.serializer,h);if("boolean"==typeof h)return{booleanValue:h};if("string"==typeof h)return{stringValue:h};if(h instanceof Date){var y=Qt.fromDate(h);return{timestampValue:oa(g.serializer,y)}}if(h instanceof Qt){var E=new Qt(h.seconds,1e3*Math.floor(h.nanoseconds/1e3));return{timestampValue:oa(g.serializer,E)}}if(h instanceof Wn)return{geoPointValue:{latitude:h.latitude,longitude:h.longitude}};if(h instanceof wi)return{bytesValue:sl(g.serializer,h.q)};if(h instanceof to){var T=g.U,R=h.__;if(!R.isEqual(T))throw g.i_("Document reference is for database "+R.projectId+"/"+R.database+" but should be for database "+T.projectId+"/"+T.database);return{referenceValue:yr(h.__||g.U,h.f_.path)}}if(void 0===h&&g.ignoreUndefinedProperties)return null;throw g.i_("Unsupported field value: "+gt(h))}(f,l)}function hh(f,l){var h={};return $e(f)?l.path&&l.path.length>0&&l.We.push(l.path):nt(f,function(g,y){var E=tu(y,l.E_(g));null!=E&&(h[g]=E)}),{mapValue:{fields:h}}}function h_(f){return!("object"!=typeof f||null===f||f instanceof Array||f instanceof Date||f instanceof Qt||f instanceof Wn||f instanceof wi||f instanceof to||f instanceof $)}function fh(f,l,h){if(!h_(h)||!ct(h)){var g=gt(h);throw l.i_("an object"===g?f+" a custom object":f+" "+g)}}function yd(f,l,h){if(l instanceof w)return l.t_;if("string"==typeof l)return f_(f,l);throw lp("Field path arguments must be of type string or FieldPath.",f,!1,void 0,h)}function f_(f,l,h){try{return function(y){if(y.search(P)>=0)throw new G(z.INVALID_ARGUMENT,"Invalid field path ("+y+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(I.bind.apply(I,U.__spreadArrays([void 0],y.split("."))))}catch{throw new G(z.INVALID_ARGUMENT,"Invalid field path ("+y+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(l).t_}catch(y){throw lp((g=y)instanceof Error?g.message:g.toString(),f,!1,void 0,h)}var g}function lp(f,l,h,g,y){var E=g&&!g.m(),T=void 0!==y,R="Function "+l+"() called with invalid data";h&&(R+=" (via `toFirestore()`)");var V="";return(E||T)&&(V+=" (found",E&&(V+=" in field "+g),T&&(V+=" in document "+y),V+=")"),new G(z.INVALID_ARGUMENT,(R+=". ")+f+V)}function ww(f,l){return f.some(function(h){return h.isEqual(l)})}var Cm=function(){function f(l){this.Ku=l,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return f.prototype.v_=function(l){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:if(this.S_(),this.mutations.length>0)throw new G(z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(E,T){return U.__awaiter(this,void 0,void 0,function(){var R,V,Z,re,ge,_e;return U.__generator(this,function(Pe){switch(Pe.label){case 0:return R=Ze(E),V=ys(R.serializer)+"/documents",Z={documents:T.map(function(et){return sa(R.serializer,et)})},[4,R.ku("BatchGetDocuments",V,Z)];case 1:return re=Pe.sent(),ge=new Map,re.forEach(function(et){var an,Jt,ht=(an=R.serializer,"found"in(Jt=et)?function(Pn,Jn){at(!!Jn.found);var gi=Yi(Pn,Jn.found.name),bi=yo(Jn.found.updateTime),fr=new Pr({mapValue:{fields:Jn.found.fields}});return new oi(gi,bi,fr,{})}(an,Jt):"missing"in Jt?function(Pn,Jn){at(!!Jn.missing),at(!!Jn.readTime);var gi=Yi(Pn,Jn.missing),bi=yo(Jn.readTime);return new kr(gi,bi)}(an,Jt):Re());ge.set(ht.key.toString(),ht)}),_e=[],[2,(T.forEach(function(et){var ht=ge.get(et.toString());at(!!ht),_e.push(ht)}),_e)]}})})}(this.Ku,l)];case 1:return[2,((h=y.sent()).forEach(function(E){E instanceof kr||E instanceof oi?g.D_(E):Re()}),h)]}})})},f.prototype.set=function(l,h){this.write(h.w_(l,this.Ge(l))),this.b_.add(l.toString())},f.prototype.update=function(l,h){try{this.write(h.w_(l,this.C_(l)))}catch(g){this.p_=g}this.b_.add(l.toString())},f.prototype.delete=function(l){this.write([new Mr(l,this.Ge(l))]),this.b_.add(l.toString())},f.prototype.commit=function(){return U.__awaiter(this,void 0,void 0,function(){var l,h=this;return U.__generator(this,function(g){switch(g.label){case 0:if(this.S_(),this.p_)throw this.p_;return l=this.y_,this.mutations.forEach(function(y){l.delete(y.key.toString())}),l.forEach(function(y,E){var T=Le.D(E);h.mutations.push(new cl(T,h.Ge(T)))}),[4,function(y,E){return U.__awaiter(this,void 0,void 0,function(){var T,R,V;return U.__generator(this,function(Z){switch(Z.label){case 0:return T=Ze(y),R=ys(T.serializer)+"/documents",V={writes:E.map(function(re){return Ui(T.serializer,re)})},[4,T.$u("Commit",R,V)];case 1:return Z.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return g.sent(),this.V_=!0,[2]}})})},f.prototype.D_=function(l){var h;if(l instanceof oi)h=l.version;else{if(!(l instanceof kr))throw Re();h=zt.min()}var g=this.y_.get(l.key.toString());if(g){if(!h.isEqual(g))throw new G(z.ABORTED,"Document version changed between two reads.")}else this.y_.set(l.key.toString(),h)},f.prototype.Ge=function(l){var h=this.y_.get(l.toString());return!this.b_.has(l.toString())&&h?Vi.updateTime(h):Vi.ze()},f.prototype.C_=function(l){var h=this.y_.get(l.toString());if(!this.b_.has(l.toString())&&h){if(h.isEqual(zt.min()))throw new G(z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vi.updateTime(h)}return Vi.exists(!0)},f.prototype.write=function(l){this.S_(),this.mutations=this.mutations.concat(l)},f.prototype.S_=function(){},f}(),p_=function(){function f(l,h,g,y){this.cs=l,this.Ku=h,this.updateFunction=g,this.ls=y,this.N_=5,this.ys=new ka(this.cs,"transaction_retry")}return f.prototype.run=function(){this.F_()},f.prototype.F_=function(){var l=this;this.ys.gn(function(){return U.__awaiter(l,void 0,void 0,function(){var h,g,y=this;return U.__generator(this,function(E){return h=new Cm(this.Ku),(g=this.x_(h))&&g.then(function(T){y.cs.ws(function(){return h.commit().then(function(){y.ls.resolve(T)}).catch(function(R){y.k_(R)})})}).catch(function(T){y.k_(T)}),[2]})})})},f.prototype.x_=function(l){try{var h=this.updateFunction(l);return!Me(h)&&h.catch&&h.then?h:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(g){return this.ls.reject(g),null}},f.prototype.k_=function(l){var h=this;this.N_>0&&this.M_(l)?(this.N_-=1,this.cs.ws(function(){return h.F_(),Promise.resolve()})):this.ls.reject(l)},f.prototype.M_=function(l){if("FirebaseError"===l.name){var h=l.code;return"aborted"===h||"failed-precondition"===h||!$n(h)}return!1},f}(),xm=function(){function f(l,h){this.credentials=l,this.cs=h,this.clientId=Sn.k(),this.O_=new zo}return f.prototype.start=function(l,h,g,y){var E=this;this.L_(),this.bl=l;var T=new zo,R=!1;return this.credentials.Hc(function(V){if(!R)return R=!0,me("FirestoreClient","Initializing. user=",V.uid),E.B_(h,g,y,V,T).then(E.O_.resolve,E.O_.reject);E.cs.Cs(function(){return function(Z,re){return U.__awaiter(this,void 0,void 0,function(){var ge,_e;return U.__generator(this,function(Pe){switch(Pe.label){case 0:return(ge=Ze(Z)).cs.xs(),me("RemoteStore","RemoteStore received new credentials"),_e=hs(ge),ge.Yu.add(3),[4,Zl(ge)];case 1:return Pe.sent(),_e&&ge.th.set("Unknown"),[4,ge.Gu.Jl(re)];case 2:return Pe.sent(),ge.Yu.delete(3),[4,ld(ge)];case 3:return Pe.sent(),[2]}})})}(E.ph,V)})}),this.cs.ws(function(){return E.O_.promise}),T.promise},f.prototype.enableNetwork=function(){var l=this;return this.L_(),this.cs.enqueue(function(){return l.persistence.tc(!0),(g=Ze(l.ph)).Yu.delete(0),ld(g);var g})},f.prototype.B_=function(l,h,g,y,E){return U.__awaiter(this,void 0,void 0,function(){var T,R,V=this;return U.__generator(this,function(Z){switch(Z.label){case 0:return Z.trys.push([0,3,,4]),[4,l.initialize(T={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:y,Dh:100,persistenceSettings:g})];case 1:return Z.sent(),[4,h.initialize(l,T)];case 2:return Z.sent(),this.persistence=l.persistence,this.Sh=l.Sh,this.ju=l.ju,this.ql=l.ql,this.Ku=h.Ku,this.ph=h.ph,this.fi=h.fi,this.q_=h.bh,this.q_.Us=ns.bind(null,this.fi),this.q_.js=Ri.bind(null,this.fi),this.persistence.Za(function(){return U.__awaiter(V,void 0,void 0,function(){return U.__generator(this,function(re){switch(re.label){case 0:return[4,this.terminate()];case 1:return re.sent(),[2]}})})}),E.resolve(),[3,4];case 3:if(R=Z.sent(),E.reject(R),!this.U_(R))throw R;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+R),this.B_(new vd,new Jh,{jl:!1},y,E))];case 4:return[2]}})})},f.prototype.U_=function(l){return"FirebaseError"===l.name?l.code===z.FAILED_PRECONDITION||l.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code},f.prototype.L_=function(){if(this.cs.ps)throw new G(z.FAILED_PRECONDITION,"The client has already been terminated.")},f.prototype.disableNetwork=function(){var l=this;return this.L_(),this.cs.enqueue(function(){return l.persistence.tc(!1),function(h){return U.__awaiter(this,void 0,void 0,function(){var g;return U.__generator(this,function(y){switch(y.label){case 0:return(g=Ze(h)).Yu.add(0),[4,Zl(g)];case 1:return y.sent(),g.th.set("Offline"),[2]}})})}(l.ph)})},f.prototype.terminate=function(){var l=this;this.cs.Ds();var h=new zo;return this.cs.bs(function(){return U.__awaiter(l,void 0,void 0,function(){var g,y;return U.__generator(this,function(E){switch(E.label){case 0:return E.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Wh(this.ph)];case 1:return E.sent(),[4,this.Sh.Di()];case 2:return E.sent(),[4,this.persistence.Di()];case 3:return E.sent(),this.credentials.Yc(),h.resolve(),[3,5];case 4:return g=E.sent(),y=Rt(g,"Failed to shutdown persistence"),h.reject(y),[3,5];case 5:return[2]}})})}),h.promise},f.prototype.waitForPendingWrites=function(){var l=this;this.L_();var h=new zo;return this.cs.ws(function(){return function(g,y){return U.__awaiter(this,void 0,void 0,function(){var E,T,R,V,Z;return U.__generator(this,function(re){switch(re.label){case 0:hs((E=Ze(g)).ph)||me("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),re.label=1;case 1:return re.trys.push([1,3,,4]),[4,(ge=E.ju,_e=Ze(ge),_e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(Pe){return _e.Sr.qo(Pe)}))];case 2:return-1===(T=re.sent())?[2,void y.resolve()]:((R=E.Lh.get(T)||[]).push(y),E.Lh.set(T,R),[3,4]);case 3:return V=re.sent(),Z=Rt(V,"Initialization of waitForPendingWrites() operation failed"),y.reject(Z),[3,4];case 4:return[2]}var ge,_e})})}(l.fi,h)}),h.promise},f.prototype.listen=function(l,h,g){var y=this;this.L_();var E=new D(g),T=new ul(l,E,h);return this.cs.ws(function(){return dr(y.q_,T)}),function(){E.Zl(),y.cs.ws(function(){return xo(y.q_,T)})}},f.prototype.Q_=function(l){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return y.sent(),h=new zo,[2,(this.cs.ws(function(){return function(E,T,R){return U.__awaiter(this,void 0,void 0,function(){var V,Z,re;return U.__generator(this,function(ge){switch(ge.label){case 0:return ge.trys.push([0,2,,3]),[4,(_e=E,Pe=T,et=Ze(_e),et.persistence.runTransaction("read document","readonly",function(ht){return et.Cc.Cr(ht,Pe)}))];case 1:return(V=ge.sent())instanceof oi?R.resolve(V):V instanceof kr?R.resolve(null):R.reject(new G(z.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Z=ge.sent(),re=Rt(Z,"Failed to get document '"+T+" from cache"),R.reject(re),[3,3];case 3:return[2]}var _e,Pe,et})})}(g.ju,l,h)}),h.promise)]}})})},f.prototype.W_=function(l,h){return void 0===h&&(h={}),U.__awaiter(this,void 0,void 0,function(){var g,y=this;return U.__generator(this,function(E){switch(E.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return E.sent(),g=new zo,[2,(this.cs.ws(function(){return T=y.q_,R=y.cs,V=l,Z=h,re=g,ge=new D({next:function(Pe){R.ws(function(){return xo(T,_e)});var et=Pe.docs.has(V);!et&&Pe.fromCache?re.reject(new G(z.UNAVAILABLE,"Failed to get document because the client is offline.")):et&&Pe.fromCache&&Z&&"server"===Z.source?re.reject(new G(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):re.resolve(Pe)},error:function(Pe){return re.reject(Pe)}}),_e=new ul(Aa(V.path),ge,{includeMetadataChanges:!0,Xs:!0}),dr(T,_e);var T,R,V,Z,re,ge,_e}),g.promise)]}})})},f.prototype.j_=function(l){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return y.sent(),h=new zo,[2,(this.cs.ws(function(){return function(E,T,R){return U.__awaiter(this,void 0,void 0,function(){var V,Z,re,ge,_e,Pe;return U.__generator(this,function(et){switch(et.label){case 0:return et.trys.push([0,2,,3]),[4,ar(E,T,!0)];case 1:return V=et.sent(),Z=new Ua(T,V.Fc),re=Z.wh(V.documents),ge=Z.yr(re,!1),R.resolve(ge.snapshot),[3,3];case 2:return _e=et.sent(),Pe=Rt(_e,"Failed to execute query '"+T+" against cache"),R.reject(Pe),[3,3];case 3:return[2]}})})}(g.ju,l,h)}),h.promise)]}})})},f.prototype.K_=function(l,h){return void 0===h&&(h={}),U.__awaiter(this,void 0,void 0,function(){var g,y=this;return U.__generator(this,function(E){switch(E.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return E.sent(),g=new zo,[2,(this.cs.ws(function(){return T=y.q_,R=y.cs,V=l,Z=h,re=g,ge=new D({next:function(Pe){R.ws(function(){return xo(T,_e)}),Pe.fromCache&&"server"===Z.source?re.reject(new G(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):re.resolve(Pe)},error:function(Pe){return re.reject(Pe)}}),_e=new ul(V,ge,{includeMetadataChanges:!0,Xs:!0}),dr(T,_e);var T,R,V,Z,re,ge,_e}),g.promise)]}})})},f.prototype.write=function(l){var h=this;this.L_();var g=new zo;return this.cs.ws(function(){return function(y,E,T){return U.__awaiter(this,void 0,void 0,function(){var R,V,Z,re;return U.__generator(this,function(ge){switch(ge.label){case 0:R=Su(y),ge.label=1;case 1:return ge.trys.push([1,5,,6]),[4,(_e=R.ju,Pe=E,ht=Ze(_e),an=Qt.now(),Jt=Pe.reduce(function(Pn,Jn){return Pn.add(Jn.key)},Qe()),ht.persistence.runTransaction("Locally write mutations","readwrite",function(Pn){return ht.Cc.kr(Pn,Jt).next(function(Jn){et=Jn;for(var gi=[],bi=0,fr=Pe;bi<fr.length;bi++){var Ks=fr[bi],Yc=gu(Ks,et.get(Ks.key));null!=Yc&&gi.push(new Wr(Ks.key,Yc,di(Yc.proto.mapValue),Vi.exists(!0)))}return ht.Sr.ko(Pn,an,gi,Pe)})}).then(function(Pn){var Jn=Pn.lr(et);return{batchId:Pn.batchId,wr:Jn}}))];case 2:return V=ge.sent(),R.Sh.xi(V.batchId),function(_e,Pe,et){var ht=_e.Oh[_e.currentUser.ti()];ht||(ht=new qn(Ut)),ht=ht.ot(Pe,et),_e.Oh[_e.currentUser.ti()]=ht}(R,V.batchId,T),[4,oe(R,V.wr)];case 3:return ge.sent(),[4,Gs(R.ph)];case 4:return ge.sent(),[3,6];case 5:return Z=ge.sent(),re=Rt(Z,"Failed to persist write"),T.reject(re),[3,6];case 6:return[2]}var _e,Pe,et,ht,an,Jt})})}(h.fi,l,g)}),g.promise},f.prototype.U=function(){return this.bl.U},f.prototype.G_=function(l){var h=this;this.L_();var g=new D(l);return this.cs.ws(function(){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){return[2,(E=this.q_,T=g,Ze(E).qs.add(T),void T.next())];var E,T})})}),function(){g.Zl(),h.cs.ws(function(){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){return[2,(E=this.q_,T=g,void Ze(E).qs.delete(T))];var E,T})})})}},Object.defineProperty(f.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),f.prototype.transaction=function(l){var h=this;this.L_();var g=new zo;return this.cs.ws(function(){return new p_(h.cs,h.Ku,l,g).run(),Promise.resolve()}),g.promise},f}();function bd(f){return function(l,h){if("object"!=typeof l||null===l)return!1;for(var g=l,y=0,E=["next","error","complete"];y<E.length;y++){var T=E[y];if(T in g&&"function"==typeof g[T])return!0}return!1}(f)}var up=function(){function f(l,h,g,y,E){this.U=l,this.timestampsInSnapshots=h,this.H_=g,this.Y_=y,this.J_=E}return f.prototype.X_=function(l){switch(er(l)){case 0:return null;case 1:return l.booleanValue;case 2:return jn(l.integerValue||l.doubleValue);case 3:return this.Z_(l.timestampValue);case 4:return this.tf(l);case 5:return l.stringValue;case 6:return this.J_(Ai(l.bytesValue));case 7:return this.ef(l.referenceValue);case 8:return this.nf(l.geoPointValue);case 9:return this.sf(l.arrayValue);case 10:return this.if(l.mapValue);default:throw Re()}},f.prototype.if=function(l){var h=this,g={};return nt(l.fields||{},function(y,E){g[y]=h.X_(E)}),g},f.prototype.nf=function(l){return new Wn(jn(l.latitude),jn(l.longitude))},f.prototype.sf=function(l){var h=this;return(l.values||[]).map(function(g){return h.X_(g)})},f.prototype.tf=function(l){switch(this.H_){case"previous":var h=ri(l);return null==h?null:this.X_(h);case"estimate":return this.Z_(Gi(l));default:return null}},f.prototype.Z_=function(l){var h=Ko(l),g=new Qt(h.seconds,h.nanos);return this.timestampsInSnapshots?g:g.toDate()},f.prototype.ef=function(l){var h=he.g(l);at(kn(h));var g=new sn(h.get(1),h.get(3)),y=new Le(h.u(5));return g.isEqual(this.U)||lt("Document "+y+" contains a document reference within a different database ("+g.projectId+"/"+g.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(y)},f}(),m_=Qr.ho,Ou=function(){function f(l){var h,g,y,E,T;if(void 0===l.host){if(void 0!==l.ssl)throw new G(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else fi("settings","non-empty string","host",l.host),this.host=l.host,Te("settings","boolean","ssl",l.ssl),this.ssl=null===(h=l.ssl)||void 0===h||h;if(bt("settings",l,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),Te("settings","object","credentials",l.credentials),this.credentials=l.credentials,Te("settings","boolean","timestampsInSnapshots",l.timestampsInSnapshots),Te("settings","boolean","ignoreUndefinedProperties",l.ignoreUndefinedProperties),!0===l.timestampsInSnapshots?lt("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===l.timestampsInSnapshots&&lt("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(g=l.timestampsInSnapshots)||void 0===g||g,this.ignoreUndefinedProperties=null!==(y=l.ignoreUndefinedProperties)&&void 0!==y&&y,Te("settings","number","cacheSizeBytes",l.cacheSizeBytes),void 0===l.cacheSizeBytes)this.cacheSizeBytes=Qr._o;else{if(l.cacheSizeBytes!==m_&&l.cacheSizeBytes<Qr.lo)throw new G(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Qr.lo);this.cacheSizeBytes=l.cacheSizeBytes}Te("settings","boolean","experimentalForceLongPolling",l.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(E=l.experimentalForceLongPolling)&&void 0!==E&&E,Te("settings","boolean","experimentalAutoDetectLongPolling",l.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(T=l.experimentalAutoDetectLongPolling)&&void 0!==T&&T,function(R,V,Z,re){if(!0===V&&!0===re)throw new G(z.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,l.experimentalForceLongPolling,0,l.experimentalAutoDetectLongPolling)}return f.prototype.isEqual=function(l){return this.host===l.host&&this.ssl===l.ssl&&this.timestampsInSnapshots===l.timestampsInSnapshots&&this.credentials===l.credentials&&this.cacheSizeBytes===l.cacheSizeBytes&&this.experimentalForceLongPolling===l.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===l.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===l.ignoreUndefinedProperties},f}(),ph=function(){function f(l,h,g,y){var E=this;if(void 0===g&&(g=new vd),void 0===y&&(y=new Jh),this.rf=g,this.af=y,this.cf=null,this.uf=new Ke,this.INTERNAL={delete:function(){return U.__awaiter(E,void 0,void 0,function(){return U.__generator(this,function(V){switch(V.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return V.sent(),[2]}})})}},"object"==typeof l.options){var T=l;this.cf=T,this.__=f._f(T),this.ff=T.name,this.df=new cr(h)}else{var R=l;if(!R.projectId)throw new G(z.INVALID_ARGUMENT,"Must provide projectId");this.__=new sn(R.projectId,R.database),this.ff="[DEFAULT]",this.df=new Nr}this.wf=new Ou({})}return Object.defineProperty(f.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new wl(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),f.prototype.settings=function(l){ot("Firestore.settings",arguments,1),un("Firestore.settings","object",1,l),l.merge&&delete(l=Object.assign(Object.assign({},this.wf),l)).merge;var h=new Ou(l);if(this.lf&&!this.wf.isEqual(h))throw new G(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=h,void 0!==h.credentials&&(this.df=function(g){if(!g)return new Nr;switch(g.type){case"gapi":var y=g.client;return at(!("object"!=typeof y||null===y||!y.auth||!y.auth.getAuthHeaderValueForFirstParty)),new ip(y,g.sessionIndex||"0");case"provider":return g.client;default:throw new G(z.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(h.credentials))},f.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},f.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},f.prototype.enablePersistence=function(l){var h,g;if(this.lf)throw new G(z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var y=!1,E=!1;if(l&&(void 0!==l.experimentalTabSynchronization&&lt("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),y=null!==(g=null!==(h=l.synchronizeTabs)&&void 0!==h?h:l.experimentalTabSynchronization)&&void 0!==g&&g,E=!!l.experimentalForceOwningTab&&l.experimentalForceOwningTab,y&&E))throw new G(z.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:y,ka:E})},f.prototype.clearPersistence=function(){return U.__awaiter(this,void 0,void 0,function(){var l,h=this;return U.__generator(this,function(g){if(void 0!==this.lf&&!this.lf.z_)throw new G(z.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return l=new zo,[2,(this.uf.bs(function(){return U.__awaiter(h,void 0,void 0,function(){var y;return U.__generator(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return E.sent(),l.resolve(),[3,3];case 2:return y=E.sent(),l.reject(y),[3,3];case 3:return[2]}})})}),l.promise)]})})},f.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(f.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),f.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},f.prototype.onSnapshotsInSync=function(l){return this.hf(),bd(l)?this.lf.G_(l):(un("Firestore.onSnapshotsInSync","function",1,l),this.lf.G_({next:l}))},f.prototype.hf=function(){return this.lf||this.Ef(new vd,new Jh,{jl:!1}),this.lf},f.prototype.Af=function(){return new Ro(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},f.prototype.Ef=function(l,h,g){var y=this.Af();return this.lf=new xm(this.df,this.uf),this.lf.start(y,l,h,g)},f._f=function(l){if(!Object.prototype.hasOwnProperty.call(l.options,"projectId"))throw new G(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var g=l.options.projectId;if(!g||"string"!=typeof g)throw new G(z.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new sn(g)},Object.defineProperty(f.prototype,"app",{get:function(){if(!this.cf)throw new G(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),f.prototype.collection=function(l){return ot("Firestore.collection",arguments,1),un("Firestore.collection","non-empty string",1,l),this.hf(),new nu(he.g(l),this,null)},f.prototype.doc=function(l){return ot("Firestore.doc",arguments,1),un("Firestore.doc","non-empty string",1,l),this.hf(),Cl.Rf(he.g(l),this,null)},f.prototype.collectionGroup=function(l){if(ot("Firestore.collectionGroup",arguments,1),un("Firestore.collectionGroup","non-empty string",1,l),l.indexOf("/")>=0)throw new G(z.INVALID_ARGUMENT,"Invalid collection ID '"+l+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new rf((h=l,new ws(he.P(),h)),this,null);var h},f.prototype.runTransaction=function(l){var h=this;return ot("Firestore.runTransaction",arguments,1),un("Firestore.runTransaction","function",1,l),this.hf().transaction(function(g){return l(new Em(h,g))})},f.prototype.batch=function(){return this.hf(),new Cw(this)},Object.defineProperty(f,"logLevel",{get:function(){switch(Ne()){case pe.LogLevel.DEBUG:return"debug";case pe.LogLevel.ERROR:return"error";case pe.LogLevel.SILENT:return"silent";case pe.LogLevel.WARN:return"warn";case pe.LogLevel.INFO:return"info";case pe.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),f.setLogLevel=function(l){ot("Firestore.setLogLevel",arguments,1),He("setLogLevel",["debug","error","silent","warn","info","verbose"],1,l),de.setLogLevel(l)},f.prototype.gf=function(){return this.wf.timestampsInSnapshots},f.prototype.Pf=function(){return this.wf},f}(),Em=function(){function f(l,h){this.yf=l,this.Vf=h}return f.prototype.get=function(l){var h=this;ot("Transaction.get",arguments,1);var g=ku("Transaction.get",l,this.yf);return this.Vf.v_([g.f_]).then(function(y){if(!y||1!==y.length)return Re();var E=y[0];if(E instanceof kr)return new nf(h.yf,g.f_,null,!1,!1,g.d_);if(E instanceof oi)return new nf(h.yf,g.f_,E,!1,!1,g.d_);throw Re()})},f.prototype.set=function(l,h,g){nn("Transaction.set",arguments,2,3);var y=ku("Transaction.set",l,this.yf);g=sf("Transaction.set",g);var E=Ys(y.d_,h,g),T=ef(this.yf.mf,"Transaction.set",y.f_,E,null!==y.d_,g);return this.Vf.set(y.f_,T),this},f.prototype.update=function(l,h,g){for(var y,E,T=[],R=3;R<arguments.length;R++)T[R-3]=arguments[R];return"string"==typeof h||h instanceof I?(Yt("Transaction.update",arguments,3),y=ku("Transaction.update",l,this.yf),E=tf(this.yf.mf,"Transaction.update",y.f_,h,g,T)):(ot("Transaction.update",arguments,2),y=ku("Transaction.update",l,this.yf),E=dh(this.yf.mf,"Transaction.update",y.f_,h)),this.Vf.update(y.f_,E),this},f.prototype.delete=function(l){ot("Transaction.delete",arguments,1);var h=ku("Transaction.delete",l,this.yf);return this.Vf.delete(h.f_),this},f}(),Cw=function(){function f(l){this.yf=l,this.pf=[],this.bf=!1}return f.prototype.set=function(l,h,g){nn("WriteBatch.set",arguments,2,3),this.vf();var y=ku("WriteBatch.set",l,this.yf);g=sf("WriteBatch.set",g);var E=Ys(y.d_,h,g),T=ef(this.yf.mf,"WriteBatch.set",y.f_,E,null!==y.d_,g);return this.pf=this.pf.concat(T.w_(y.f_,Vi.ze())),this},f.prototype.update=function(l,h,g){for(var y,E,T=[],R=3;R<arguments.length;R++)T[R-3]=arguments[R];return this.vf(),"string"==typeof h||h instanceof I?(Yt("WriteBatch.update",arguments,3),y=ku("WriteBatch.update",l,this.yf),E=tf(this.yf.mf,"WriteBatch.update",y.f_,h,g,T)):(ot("WriteBatch.update",arguments,2),y=ku("WriteBatch.update",l,this.yf),E=dh(this.yf.mf,"WriteBatch.update",y.f_,h)),this.pf=this.pf.concat(E.w_(y.f_,Vi.exists(!0))),this},f.prototype.delete=function(l){ot("WriteBatch.delete",arguments,1),this.vf();var h=ku("WriteBatch.delete",l,this.yf);return this.pf=this.pf.concat(new Mr(h.f_,Vi.ze())),this},f.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},f.prototype.vf=function(){if(this.bf)throw new G(z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},f}(),Cl=function(f){function l(h,g,y){var E=this;return(E=f.call(this,g.__,h,y)||this).f_=h,E.firestore=g,E.d_=y,E.lf=E.firestore.hf(),E}return U.__extends(l,f),l.Rf=function(h,g,y){if(h.length%2!=0)throw new G(z.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+h.R()+" has "+h.length);return new l(new Le(h),g,y)},Object.defineProperty(l.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"parent",{get:function(){return new nu(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),l.prototype.collection=function(h){if(ot("DocumentReference.collection",arguments,1),un("DocumentReference.collection","non-empty string",1,h),!h)throw new G(z.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var g=he.g(h);return new nu(this.f_.path.child(g),this.firestore,null)},l.prototype.isEqual=function(h){if(!(h instanceof l))throw Tn("isEqual","DocumentReference",1,h);return this.firestore===h.firestore&&this.f_.isEqual(h.f_)&&this.d_===h.d_},l.prototype.set=function(h,g){nn("DocumentReference.set",arguments,1,2),g=sf("DocumentReference.set",g);var y=Ys(this.d_,h,g),E=ef(this.firestore.mf,"DocumentReference.set",this.f_,y,null!==this.d_,g);return this.lf.write(E.w_(this.f_,Vi.ze()))},l.prototype.update=function(h,g){for(var y,E=[],T=2;T<arguments.length;T++)E[T-2]=arguments[T];return"string"==typeof h||h instanceof I?(Yt("DocumentReference.update",arguments,2),y=tf(this.firestore.mf,"DocumentReference.update",this.f_,h,g,E)):(ot("DocumentReference.update",arguments,1),y=dh(this.firestore.mf,"DocumentReference.update",this.f_,h)),this.lf.write(y.w_(this.f_,Vi.exists(!0)))},l.prototype.delete=function(){return ot("DocumentReference.delete",arguments,0),this.lf.write([new Mr(this.f_,Vi.ze())])},l.prototype.onSnapshot=function(){for(var h,g,y,E=this,T=[],R=0;R<arguments.length;R++)T[R]=arguments[R];nn("DocumentReference.onSnapshot",arguments,1,4);var V={includeMetadataChanges:!1},Z=0;"object"!=typeof T[Z]||bd(T[Z])||(bt("DocumentReference.onSnapshot",V=T[Z],["includeMetadataChanges"]),Te("DocumentReference.onSnapshot","boolean","includeMetadataChanges",V.includeMetadataChanges),Z++);var re={includeMetadataChanges:V.includeMetadataChanges};if(bd(T[Z])){var ge=T[Z];T[Z]=null===(h=ge.next)||void 0===h?void 0:h.bind(ge),T[Z+1]=null===(g=ge.error)||void 0===g?void 0:g.bind(ge),T[Z+2]=null===(y=ge.complete)||void 0===y?void 0:y.bind(ge)}else un("DocumentReference.onSnapshot","function",Z,T[Z]),rn("DocumentReference.onSnapshot","function",Z+1,T[Z+1]),rn("DocumentReference.onSnapshot","function",Z+2,T[Z+2]);var _e={next:function(Pe){T[Z]&&T[Z](E.Sf(Pe))},error:T[Z+1],complete:T[Z+2]};return this.lf.listen(Aa(this.f_.path),re,_e)},l.prototype.get=function(h){var g=this;nn("DocumentReference.get",arguments,0,1),xw("DocumentReference.get",h);var y=this.firestore.hf();return h&&"cache"===h.source?y.Q_(this.f_).then(function(E){return new nf(g.firestore,g.f_,E,!0,E instanceof oi&&E.Je,g.d_)}):y.W_(this.f_,h).then(function(E){return g.Sf(E)})},l.prototype.withConverter=function(h){return new l(this.f_,this.firestore,h)},l.prototype.Sf=function(h){var g=h.docs.get(this.f_);return new nf(this.firestore,this.f_,g,h.fromCache,h.hasPendingWrites,this.d_)},l}(to),Ny=function(){function f(l,h){this.hasPendingWrites=l,this.fromCache=h}return f.prototype.isEqual=function(l){return this.hasPendingWrites===l.hasPendingWrites&&this.fromCache===l.fromCache},f}(),nf=function(){function f(l,h,g,y,E,T){this.yf=l,this.f_=h,this.Df=g,this.Cf=y,this.Nf=E,this.d_=T}return f.prototype.data=function(l){var h=this;if(nn("DocumentSnapshot.data",arguments,0,1),l=gh("DocumentSnapshot.data",l),this.Df){if(this.d_){var g=new Im(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(g,l)}return new up(this.yf.__,this.yf.gf(),l.serverTimestamps||"none",function(y){return new Cl(y,h.yf,null)},function(y){return new zi(y)}).X_(this.Df.rn())}},f.prototype.get=function(l,h){var g=this;if(nn("DocumentSnapshot.get",arguments,1,2),h=gh("DocumentSnapshot.get",h),this.Df){var y=this.Df.data().field(yd("DocumentSnapshot.get",l,this.f_));if(null!==y)return new up(this.yf.__,this.yf.gf(),h.serverTimestamps||"none",function(E){return new Cl(E,g.yf,g.d_)},function(E){return new zi(E)}).X_(y)}},Object.defineProperty(f.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ref",{get:function(){return new Cl(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"metadata",{get:function(){return new Ny(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){if(!(l instanceof f))throw Tn("isEqual","DocumentSnapshot",1,l);return this.yf===l.yf&&this.Cf===l.Cf&&this.f_.isEqual(l.f_)&&(null===this.Df?null===l.Df:this.Df.isEqual(l.Df))&&this.d_===l.d_},f}(),Im=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.data=function(h){return f.prototype.data.call(this,h)},l}(nf);function Au(f,l,h){if("string"==typeof h){if(""===h)throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!_u(l)&&-1!==h.indexOf("/"))throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+h+"' contains a '/' character.");var g=l.path.child(he.g(h));if(!Le.F(g))throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+g+"' is not because it has an odd number of segments ("+g.length+").");return vo(f,new Le(g))}if(h instanceof to)return vo(f,h.f_);throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+gt(h)+".")}function mh(f,l){if(!Array.isArray(f)||0===f.length)throw new G(z.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+l.toString()+"' filters.");if(f.length>10)throw new G(z.INVALID_ARGUMENT,"Invalid Query. '"+l.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===l||"array-contains-any"===l){if(f.indexOf(null)>=0)throw new G(z.INVALID_ARGUMENT,"Invalid Query. '"+l.toString()+"' filters cannot contain 'null' in the value array.");if(f.filter(function(h){return Number.isNaN(h)}).length>0)throw new G(z.INVALID_ARGUMENT,"Invalid Query. '"+l.toString()+"' filters cannot contain 'NaN' in the value array.")}}function g_(f,l,h){if(!h.isEqual(l))throw new G(z.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+l.toString()+"' and so you must also use '"+l.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+h.toString()+"' instead.")}function Pu(f){if(oc(f)&&0===f.on.length)throw new G(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var rf=function(){function f(l,h,g){this.Ff=l,this.firestore=h,this.d_=g}return f.prototype.where=function(l,h,g){ot("Query.where",arguments,3),Dt("Query.where",3,g);var R,Z,y=He("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,h),E=yd("Query.where",l),T=function xl(f,l,h,g,y,E,T){var R;if(y.p()){if("array-contains"===E||"array-contains-any"===E)throw new G(z.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+E+"' queries on FieldPath.documentId().");if("in"===E||"not-in"===E){mh(T,E);for(var V=[],Z=0,re=T;Z<re.length;Z++)V.push(Au(g,f,re[Z]));R={arrayValue:{values:V}}}else R=Au(g,f,T)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||mh(T,E),R=wm(h,l,T,"in"===E||"not-in"===E);var _e=Rr.create(y,E,R);return function(Pe,et){if(et.hn()){var ht=mi(Pe);if(null!==ht&&!ht.isEqual(et.field))throw new G(z.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+ht.toString()+"' and '"+et.field.toString()+"'");var an=Vl(Pe);null!==an&&g_(0,et.field,an)}var Jt=function(Pn,Jn){for(var gi=0,bi=Pn.filters;gi<bi.length;gi++){var fr=bi[gi];if(Jn.indexOf(fr.op)>=0)return fr.op}return null}(Pe,function(Pn){switch(Pn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(et.op));if(null!==Jt)throw new G(z.INVALID_ARGUMENT,Jt===et.op?"Invalid query. You cannot use more than one '"+et.op.toString()+"' filter.":"Invalid query. You cannot use '"+et.op.toString()+"' filters with '"+Jt.toString()+"' filters.")}(f,_e),_e}(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,E,y,g);return new f((Z=(R=this.Ff).filters.concat([T]),new ws(R.path,R.collectionGroup,R.on.slice(),Z,R.limit,R.an,R.startAt,R.endAt)),this.firestore,this.d_)},f.prototype.orderBy=function(l,h){var g;if(nn("Query.orderBy",arguments,1,2),rn("Query.orderBy","non-empty string",2,h),void 0===h||"asc"===h)g="asc";else{if("desc"!==h)throw new G(z.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+h+"', expected 'asc' or 'desc'.");g="desc"}var T,V,y=yd("Query.orderBy",l),E=function gc(f,l,h){if(null!==f.startAt)throw new G(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==f.endAt)throw new G(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var g=new pa(l,h);return function(y,E){if(null===Vl(y)){var T=mi(y);null!==T&&g_(0,T,E.field)}}(f,g),g}(this.Ff,y,g);return new f((V=(T=this.Ff).on.concat([E]),new ws(T.path,T.collectionGroup,V,T.filters.slice(),T.limit,T.an,T.startAt,T.endAt)),this.firestore,this.d_)},f.prototype.limit=function(l){return ot("Query.limit",arguments,1),un("Query.limit","number",1,l),dn("Query.limit",1,l),new f(Kd(this.Ff,l,"F"),this.firestore,this.d_)},f.prototype.limitToLast=function(l){return ot("Query.limitToLast",arguments,1),un("Query.limitToLast","number",1,l),dn("Query.limitToLast",1,l),new f(Kd(this.Ff,l,"L"),this.firestore,this.d_)},f.prototype.startAt=function(l){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Yt("Query.startAt",arguments,1);var y=this.xf("Query.startAt",l,h,!0);return new f(sc(this.Ff,y),this.firestore,this.d_)},f.prototype.startAfter=function(l){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Yt("Query.startAfter",arguments,1);var y=this.xf("Query.startAfter",l,h,!1);return new f(sc(this.Ff,y),this.firestore,this.d_)},f.prototype.endBefore=function(l){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Yt("Query.endBefore",arguments,1);var y=this.xf("Query.endBefore",l,h,!0);return new f(bo(this.Ff,y),this.firestore,this.d_)},f.prototype.endAt=function(l){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Yt("Query.endAt",arguments,1);var y=this.xf("Query.endAt",l,h,!1);return new f(bo(this.Ff,y),this.firestore,this.d_)},f.prototype.isEqual=function(l){if(!(l instanceof f))throw Tn("isEqual","Query",1,l);return this.firestore===l.firestore&&ac(this.Ff,l.Ff)&&this.d_===l.d_},f.prototype.withConverter=function(l){return new f(this.Ff,this.firestore,l)},f.prototype.xf=function(l,h,g,y){if(Dt(l,1,h),h instanceof nf)return ot(l,U.__spreadArrays([h],g),1),function(T,R,V,Z,re){if(!Z)throw new G(z.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+V+"().");for(var ge=[],_e=0,Pe=kc(T);_e<Pe.length;_e++){var et=Pe[_e];if(et.field.p())ge.push(vo(R,Z.key));else{var ht=Z.field(et.field);if(An(ht))throw new G(z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+et.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ht){var an=et.field.R();throw new G(z.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+an+"' (used as the orderBy) does not exist.")}ge.push(ht)}}return new wo(ge,re)}(this.Ff,this.firestore.__,l,h.Df,y);var E=[h].concat(g);return function(T,R,V,Z,re,ge){var _e=T.on;if(re.length>_e.length)throw new G(z.INVALID_ARGUMENT,"Too many arguments provided to "+Z+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var Pe=[],et=0;et<re.length;et++){var ht=re[et];if(_e[et].field.p()){if("string"!=typeof ht)throw new G(z.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+Z+"(), but got a "+typeof ht);if(!_u(T)&&-1!==ht.indexOf("/"))throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+Z+"() must be a plain document ID, but '"+ht+"' contains a slash.");var an=T.path.child(he.g(ht));if(!Le.F(an))throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+Z+"() must result in a valid document path, but '"+an+"' is not because it contains an odd number of segments.");var Jt=new Le(an);Pe.push(vo(R,Jt))}else{var Pn=wm(V,Z,ht);Pe.push(Pn)}}return new wo(Pe,ge)}(this.Ff,this.firestore.__,this.firestore.mf,l,E,y)},f.prototype.onSnapshot=function(){for(var l,h,g,y=this,E=[],T=0;T<arguments.length;T++)E[T]=arguments[T];nn("Query.onSnapshot",arguments,1,4);var R={},V=0;if("object"!=typeof E[V]||bd(E[V])||(bt("Query.onSnapshot",R=E[V],["includeMetadataChanges"]),Te("Query.onSnapshot","boolean","includeMetadataChanges",R.includeMetadataChanges),V++),bd(E[V])){var Z=E[V];E[V]=null===(l=Z.next)||void 0===l?void 0:l.bind(Z),E[V+1]=null===(h=Z.error)||void 0===h?void 0:h.bind(Z),E[V+2]=null===(g=Z.complete)||void 0===g?void 0:g.bind(Z)}else un("Query.onSnapshot","function",V,E[V]),rn("Query.onSnapshot","function",V+1,E[V+1]),rn("Query.onSnapshot","function",V+2,E[V+2]);var re={next:function(ge){E[V]&&E[V](new wd(y.firestore,y.Ff,ge,y.d_))},error:E[V+1],complete:E[V+2]};return Pu(this.Ff),this.firestore.hf().listen(this.Ff,R,re)},f.prototype.get=function(l){var h=this;nn("Query.get",arguments,0,1),xw("Query.get",l),Pu(this.Ff);var g=this.firestore.hf();return(l&&"cache"===l.source?g.j_(this.Ff):g.K_(this.Ff,l)).then(function(y){return new wd(h.firestore,h.Ff,y,h.d_)})},f}(),wd=function(){function f(l,h,g,y){this.yf=l,this.$f=h,this.kf=g,this.d_=y,this.Mf=null,this.Of=null,this.metadata=new Ny(g.hasPendingWrites,g.fromCache)}return Object.defineProperty(f.prototype,"docs",{get:function(){var l=[];return this.forEach(function(h){return l.push(h)}),l},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),f.prototype.forEach=function(l,h){var g=this;nn("QuerySnapshot.forEach",arguments,1,2),un("QuerySnapshot.forEach","function",1,l),this.kf.docs.forEach(function(y){l.call(h,g.Lf(y,g.metadata.fromCache,g.kf.Wt.has(y.key)))})},Object.defineProperty(f.prototype,"query",{get:function(){return new rf(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),f.prototype.docChanges=function(l){l&&(bt("QuerySnapshot.docChanges",l,["includeMetadataChanges"]),Te("QuerySnapshot.docChanges","boolean","includeMetadataChanges",l.includeMetadataChanges));var h=!(!l||!l.includeMetadataChanges);if(h&&this.kf.Kt)throw new G(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===h||(this.Mf=function(g,y,E){if(g.Qt.m()){var T=0;return g.docChanges.map(function(V){return{type:"added",doc:E(V.doc,g.fromCache,g.Wt.has(V.doc.key)),oldIndex:-1,newIndex:T++}})}var R=g.Qt;return g.docChanges.filter(function(V){return y||3!==V.type}).map(function(V){var Z=E(V.doc,g.fromCache,g.Wt.has(V.doc.key)),re=-1,ge=-1;return 0!==V.type&&(re=R.indexOf(V.doc.key),R=R.delete(V.doc.key)),1!==V.type&&(ge=(R=R.add(V.doc)).indexOf(V.doc.key)),{type:Ew(V.type),doc:Z,oldIndex:re,newIndex:ge}})}(this.kf,h,this.Lf.bind(this)),this.Of=h),this.Mf},f.prototype.isEqual=function(l){if(!(l instanceof f))throw Tn("isEqual","QuerySnapshot",1,l);return this.yf===l.yf&&ac(this.$f,l.$f)&&this.kf.isEqual(l.kf)&&this.d_===l.d_},f.prototype.Lf=function(l,h,g){return new Im(this.yf,l.key,l,h,g,this.d_)},f}(),nu=function(f){function l(h,g,y){var E=this;if((E=f.call(this,Aa(h),g,y)||this).Bf=h,h.length%2!=1)throw new G(z.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+h.R()+" has "+h.length);return E}return U.__extends(l,f),Object.defineProperty(l.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"parent",{get:function(){var h=this.Ff.path.h();return h.m()?null:new Cl(new Le(h),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),l.prototype.doc=function(h){nn("CollectionReference.doc",arguments,0,1),0===arguments.length&&(h=Sn.k()),un("CollectionReference.doc","non-empty string",1,h);var g=he.g(h);return Cl.Rf(this.Ff.path.child(g),this.firestore,this.d_)},l.prototype.add=function(h){ot("CollectionReference.add",arguments,1);var g=this.d_?this.d_.toFirestore(h):h;un("CollectionReference.add","object",1,g);var y=this.doc();return new Cl(y.f_,this.firestore,null).set(g).then(function(){return y})},l.prototype.withConverter=function(h){return new l(this.Bf,this.firestore,h)},l}(rf);function sf(f,l){if(void 0===l)return{merge:!1};if(bt(f,l,["merge","mergeFields"]),Te(f,"boolean","merge",l.merge),void 0!==(E=l.mergeFields)&&function(R,V,Z,re,ge){if(!(re instanceof Array))throw new G(z.INVALID_ARGUMENT,"Function "+R+"() requires its "+V+" option to be an array, but it was: "+gt(re));for(var _e=0;_e<re.length;++_e)if(!ge(re[_e]))throw new G(z.INVALID_ARGUMENT,"Function "+R+"() requires all "+V+" elements to be a string or a FieldPath, but the value at index "+_e+" was: "+gt(re[_e]))}(f,"mergeFields",0,E,function(h){return"string"==typeof h||h instanceof I}),void 0!==l.mergeFields&&void 0!==l.merge)throw new G(z.INVALID_ARGUMENT,"Invalid options passed to function "+f+'(): You cannot specify both "merge" and "mergeFields".');var E;return l}function gh(f,l){return void 0===l?{}:(bt(f,l,["serverTimestamps"]),Ce(f,0,"serverTimestamps",l.serverTimestamps,["estimate","previous","none"]),l)}function xw(f,l){rn(f,"object",1,l),l&&(bt(f,l,["source"]),Ce(f,0,"source",l.source,["default","server","cache"]))}function ku(f,l,h){if(l instanceof to){if(l.firestore!==h)throw new G(z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}throw Tn(f,"DocumentReference",1,l)}function Ew(f){switch(f){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}function Ys(f,l,h){return f?h&&(h.merge||h.mergeFields)?f.toFirestore(l,h):f.toFirestore(l):l}var Mm=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.serverTimestamp=function(){Ct("FieldValue.serverTimestamp",arguments);var h=new Xe("serverTimestamp");return h.e_="FieldValue.serverTimestamp",new l(h)},l.delete=function(){Ct("FieldValue.delete",arguments);var h=new J("deleteField");return h.e_="FieldValue.delete",new l(h)},l.arrayUnion=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];Yt("FieldValue.arrayUnion",arguments,1);var y=function(){for(var E=[],T=0;T<arguments.length;T++)E[T]=arguments[T];return Yt("arrayUnion()",arguments,1),new Pt("arrayUnion",E)}.apply(void 0,h);return y.e_="FieldValue.arrayUnion",new l(y)},l.arrayRemove=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];Yt("FieldValue.arrayRemove",arguments,1);var y=function(){for(var E=[],T=0;T<arguments.length;T++)E[T]=arguments[T];return Yt("arrayRemove()",arguments,1),new Nt("arrayRemove",E)}.apply(void 0,h);return y.e_="FieldValue.arrayRemove",new l(y)},l.increment=function(h){un("FieldValue.increment","number",1,h),ot("FieldValue.increment",arguments,1);var g=new pn("increment",h);return g.e_="FieldValue.increment",new l(g)},l.prototype.isEqual=function(h){return this.l_.isEqual(h.l_)},l}(eo),vM={Firestore:ph,GeoPoint:Wn,Timestamp:Qt,Blob:zi,Transaction:Em,WriteBatch:Cw,DocumentReference:Cl,DocumentSnapshot:nf,Query:rf,QueryDocumentSnapshot:Im,QuerySnapshot:wd,CollectionReference:nu,FieldPath:I,FieldValue:Mm,setLogLevel:ph.setLogLevel,CACHE_SIZE_UNLIMITED:m_};!function Iw(f){f.INTERNAL.registerComponent(new Ae.Component("firestore",function(g){return y=g.getProvider("app").getImmediate(),E=g.getProvider("auth-internal"),T=new Jh,R=new d_(T),new ph(y,E,R,T);var y,E,T,R},"PUBLIC").setServiceProps(Object.assign({},vM))),f.registerVersion("@firebase/firestore","1.18.0")}(Ve.default)},8836:(en,De,Q)=>{function a(){for(var de=0,Ne=0,me=arguments.length;Ne<me;Ne++)de+=arguments[Ne].length;var lt=Array(de),st=0;for(Ne=0;Ne<me;Ne++)for(var mt=arguments[Ne],Re=0,at=mt.length;Re<at;Re++,st++)lt[st]=mt[Re];return lt}Q.r(De),Q.d(De,{LogLevel:()=>pe,Logger:()=>Ve,setLogLevel:()=>z,setUserLogHandler:()=>G});var U,Y=[],pe=function(de){return de[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",de}(pe||{}),ce={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},ke=pe.INFO,Ae=((U={})[pe.DEBUG]="log",U[pe.VERBOSE]="log",U[pe.INFO]="info",U[pe.WARN]="warn",U[pe.ERROR]="error",U),ut=function(de,Ne){for(var me=[],lt=2;lt<arguments.length;lt++)me[lt-2]=arguments[lt];if(!(Ne<de.logLevel)){var st=(new Date).toISOString(),mt=Ae[Ne];if(!mt)throw new Error("Attempted to log a message with an invalid logType (value: "+Ne+")");console[mt].apply(console,a(["["+st+"]  "+de.name+":"],me))}},Ve=function(){function de(Ne){this.name=Ne,this._logLevel=ke,this._logHandler=ut,this._userLogHandler=null,Y.push(this)}return Object.defineProperty(de.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Ne){if(!(Ne in pe))throw new TypeError('Invalid value "'+Ne+'" assigned to `logLevel`');this._logLevel=Ne},enumerable:!1,configurable:!0}),de.prototype.setLogLevel=function(Ne){this._logLevel="string"==typeof Ne?ce[Ne]:Ne},Object.defineProperty(de.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Ne){if("function"!=typeof Ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ne},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Ne){this._userLogHandler=Ne},enumerable:!1,configurable:!0}),de.prototype.debug=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,a([this,pe.DEBUG],Ne)),this._logHandler.apply(this,a([this,pe.DEBUG],Ne))},de.prototype.log=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,a([this,pe.VERBOSE],Ne)),this._logHandler.apply(this,a([this,pe.VERBOSE],Ne))},de.prototype.info=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,a([this,pe.INFO],Ne)),this._logHandler.apply(this,a([this,pe.INFO],Ne))},de.prototype.warn=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,a([this,pe.WARN],Ne)),this._logHandler.apply(this,a([this,pe.WARN],Ne))},de.prototype.error=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,a([this,pe.ERROR],Ne)),this._logHandler.apply(this,a([this,pe.ERROR],Ne))},de}();function z(de){Y.forEach(function(Ne){Ne.setLogLevel(de)})}function G(de,Ne){for(var me=function(Re){var at=null;Ne&&Ne.level&&(at=ce[Ne.level]),Re.userLogHandler=null===de?null:function(Ze,xe){for(var nt=[],$e=2;$e<arguments.length;$e++)nt[$e-2]=arguments[$e];var it=nt.map(function(he){if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch{return null}}).filter(function(he){return he}).join(" ");xe>=(at??Ze.logLevel)&&de({level:pe[xe].toLowerCase(),message:it,args:nt,type:Ze.name})}},lt=0,st=Y;lt<st.length;lt++)me(st[lt])}},3661:(en,De,Q)=>{Object.defineProperty(De,"__esModule",{value:!0});var a=Q(8005),U={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Y=function(Me,we){if(!Me)throw pe(we)},pe=function(Me){return new Error("Firebase Database ("+U.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Me)},ce=function(Me){for(var we=[],Ee=0,qe=0;qe<Me.length;qe++){var Fe=Me.charCodeAt(qe);Fe<128?we[Ee++]=Fe:Fe<2048?(we[Ee++]=Fe>>6|192,we[Ee++]=63&Fe|128):55296==(64512&Fe)&&qe+1<Me.length&&56320==(64512&Me.charCodeAt(qe+1))?(Fe=65536+((1023&Fe)<<10)+(1023&Me.charCodeAt(++qe)),we[Ee++]=Fe>>18|240,we[Ee++]=Fe>>12&63|128,we[Ee++]=Fe>>6&63|128,we[Ee++]=63&Fe|128):(we[Ee++]=Fe>>12|224,we[Ee++]=Fe>>6&63|128,we[Ee++]=63&Fe|128)}return we},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Me,we){if(!Array.isArray(Me))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Ee=we?this.byteToCharMapWebSafe_:this.byteToCharMap_,qe=[],Fe=0;Fe<Me.length;Fe+=3){var xt=Me[Fe],mn=Fe+1<Me.length,jt=mn?Me[Fe+1]:0,Xt=Fe+2<Me.length,Ht=Xt?Me[Fe+2]:0,$n=(15&jt)<<2|Ht>>6,Li=63&Ht;Xt||(Li=64,mn||($n=64)),qe.push(Ee[xt>>2],Ee[(3&xt)<<4|jt>>4],Ee[$n],Ee[Li])}return qe.join("")},encodeString:function(Me,we){return this.HAS_NATIVE_SUPPORT&&!we?btoa(Me):this.encodeByteArray(ce(Me),we)},decodeString:function(Me,we){return this.HAS_NATIVE_SUPPORT&&!we?atob(Me):function(Me){for(var we=[],Ee=0,qe=0;Ee<Me.length;){var Fe=Me[Ee++];if(Fe<128)we[qe++]=String.fromCharCode(Fe);else if(Fe>191&&Fe<224){var xt=Me[Ee++];we[qe++]=String.fromCharCode((31&Fe)<<6|63&xt)}else if(Fe>239&&Fe<365){var Xt=((7&Fe)<<18|(63&(xt=Me[Ee++]))<<12|(63&(mn=Me[Ee++]))<<6|63&Me[Ee++])-65536;we[qe++]=String.fromCharCode(55296+(Xt>>10)),we[qe++]=String.fromCharCode(56320+(1023&Xt))}else{xt=Me[Ee++];var mn=Me[Ee++];we[qe++]=String.fromCharCode((15&Fe)<<12|(63&xt)<<6|63&mn)}}return we.join("")}(this.decodeStringToByteArray(Me,we))},decodeStringToByteArray:function(Me,we){this.init_();for(var Ee=we?this.charToByteMapWebSafe_:this.charToByteMap_,qe=[],Fe=0;Fe<Me.length;){var xt=Ee[Me.charAt(Fe++)],jt=Fe<Me.length?Ee[Me.charAt(Fe)]:0,Ht=++Fe<Me.length?Ee[Me.charAt(Fe)]:64,vi=++Fe<Me.length?Ee[Me.charAt(Fe)]:64;if(++Fe,null==xt||null==jt||null==Ht||null==vi)throw Error();qe.push(xt<<2|jt>>4),64!==Ht&&(qe.push(jt<<4&240|Ht>>2),64!==vi&&qe.push(Ht<<6&192|vi))}return qe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Me=0;Me<this.ENCODED_VALS.length;Me++)this.byteToCharMap_[Me]=this.ENCODED_VALS.charAt(Me),this.charToByteMap_[this.byteToCharMap_[Me]]=Me,this.byteToCharMapWebSafe_[Me]=this.ENCODED_VALS_WEBSAFE.charAt(Me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Me]]=Me,Me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Me)]=Me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Me)]=Me)}}},Ve=function(Me){try{return Ae.decodeString(Me,!0)}catch(we){console.error("base64Decode failed: ",we)}return null};function G(Me,we){if(!(we instanceof Object))return we;switch(we.constructor){case Date:return new Date(we.getTime());case Object:void 0===Me&&(Me={});break;case Array:Me=[];break;default:return we}for(var qe in we)we.hasOwnProperty(qe)&&(Me[qe]=G(Me[qe],we[qe]));return Me}var de=function(){function Me(){var we=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Ee,qe){we.resolve=Ee,we.reject=qe})}return Me.prototype.wrapCallback=function(we){var Ee=this;return function(qe,Fe){qe?Ee.reject(qe):Ee.resolve(Fe),"function"==typeof we&&(Ee.promise.catch(function(){}),1===we.length?we(qe):we(qe,Fe))}},Me}();function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}var Le=function(Me){function we(Ee,qe){var Fe=Me.call(this,qe)||this;return Fe.code=Ee,Fe.name="FirebaseError",Object.setPrototypeOf(Fe,we.prototype),Error.captureStackTrace&&Error.captureStackTrace(Fe,Ct.prototype.create),Fe}return a.__extends(we,Me),we}(Error),Ct=function(){function Me(we,Ee,qe){this.service=we,this.serviceName=Ee,this.errors=qe}return Me.prototype.create=function(we){for(var Ee=[],qe=1;qe<arguments.length;qe++)Ee[qe-1]=arguments[qe];for(var Fe=Ee[0]||{},xt=this.service+"/"+we,mn=this.errors[we],jt=mn?function ot(Me,we){return Me.replace(Yt,function(Ee,qe){var Fe=we[qe];return null!=Fe?String(Fe):"<"+qe+"?>"})}(mn,Fe):"Error",Ht=new Le(xt,this.serviceName+": "+jt+" ("+xt+")."),Ci=0,vi=Object.keys(Fe);Ci<vi.length;Ci++){var $n=vi[Ci];"_"!==$n.slice(-1)&&($n in Ht&&console.warn('Overwriting FirebaseError base field "'+$n+'" can cause unexpected behavior.'),Ht[$n]=Fe[$n])}return Ht},Me}(),Yt=/\{\$([^}]+)}/g;function nn(Me){return JSON.parse(Me)}var rn=function(Me){var we={},Ee={},qe={},Fe="";try{var xt=Me.split(".");we=nn(Ve(xt[0])||""),Ee=nn(Ve(xt[1])||""),Fe=xt[2],qe=Ee.d||{},delete Ee.d}catch{}return{header:we,claims:Ee,data:qe,signature:Fe}},dn=function(){function Me(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var we=1;we<this.blockSize;++we)this.pad_[we]=0;this.reset()}return Me.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Me.prototype.compress_=function(we,Ee){Ee||(Ee=0);var qe=this.W_;if("string"==typeof we)for(var Fe=0;Fe<16;Fe++)qe[Fe]=we.charCodeAt(Ee)<<24|we.charCodeAt(Ee+1)<<16|we.charCodeAt(Ee+2)<<8|we.charCodeAt(Ee+3),Ee+=4;else for(Fe=0;Fe<16;Fe++)qe[Fe]=we[Ee]<<24|we[Ee+1]<<16|we[Ee+2]<<8|we[Ee+3],Ee+=4;for(Fe=16;Fe<80;Fe++)qe[Fe]=4294967295&((xt=qe[Fe-3]^qe[Fe-8]^qe[Fe-14]^qe[Fe-16])<<1|xt>>>31);var vi,$n,mn=this.chain_[0],jt=this.chain_[1],Xt=this.chain_[2],Ht=this.chain_[3],Ci=this.chain_[4];for(Fe=0;Fe<80;Fe++){Fe<40?Fe<20?(vi=Ht^jt&(Xt^Ht),$n=1518500249):(vi=jt^Xt^Ht,$n=1859775393):Fe<60?(vi=jt&Xt|Ht&(jt|Xt),$n=2400959708):(vi=jt^Xt^Ht,$n=3395469782);var xt=(mn<<5|mn>>>27)+vi+Ci+$n+qe[Fe]&4294967295;Ci=Ht,Ht=Xt,Xt=4294967295&(jt<<30|jt>>>2),jt=mn,mn=xt}this.chain_[0]=this.chain_[0]+mn&4294967295,this.chain_[1]=this.chain_[1]+jt&4294967295,this.chain_[2]=this.chain_[2]+Xt&4294967295,this.chain_[3]=this.chain_[3]+Ht&4294967295,this.chain_[4]=this.chain_[4]+Ci&4294967295},Me.prototype.update=function(we,Ee){if(null!=we){void 0===Ee&&(Ee=we.length);for(var qe=Ee-this.blockSize,Fe=0,xt=this.buf_,mn=this.inbuf_;Fe<Ee;){if(0===mn)for(;Fe<=qe;)this.compress_(we,Fe),Fe+=this.blockSize;if("string"==typeof we){for(;Fe<Ee;)if(xt[mn]=we.charCodeAt(Fe),++Fe,++mn===this.blockSize){this.compress_(xt),mn=0;break}}else for(;Fe<Ee;)if(xt[mn]=we[Fe],++Fe,++mn===this.blockSize){this.compress_(xt),mn=0;break}}this.inbuf_=mn,this.total_+=Ee}},Me.prototype.digest=function(){var we=[],Ee=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var qe=this.blockSize-1;qe>=56;qe--)this.buf_[qe]=255&Ee,Ee/=256;this.compress_(this.buf_);var Fe=0;for(qe=0;qe<5;qe++)for(var xt=24;xt>=0;xt-=8)we[Fe]=this.chain_[qe]>>xt&255,++Fe;return we},Me}(),fn=function(){function Me(we,Ee){var qe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ee,this.task.then(function(){we(qe)}).catch(function(Fe){qe.error(Fe)})}return Me.prototype.next=function(we){this.forEachObserver(function(Ee){Ee.next(we)})},Me.prototype.error=function(we){this.forEachObserver(function(Ee){Ee.error(we)}),this.close(we)},Me.prototype.complete=function(){this.forEachObserver(function(we){we.complete()}),this.close()},Me.prototype.subscribe=function(we,Ee,qe){var xt,Fe=this;if(void 0===we&&void 0===Ee&&void 0===qe)throw new Error("Missing Observer.");xt=function Sn(Me,we){if("object"!=typeof Me||null===Me)return!1;for(var Ee=0,qe=we;Ee<qe.length;Ee++){var Fe=qe[Ee];if(Fe in Me&&"function"==typeof Me[Fe])return!0}return!1}(we,["next","error","complete"])?we:{next:we,error:Ee,complete:qe},void 0===xt.next&&(xt.next=Ut),void 0===xt.error&&(xt.error=Ut),void 0===xt.complete&&(xt.complete=Ut);var mn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Fe.finalError?xt.error(Fe.finalError):xt.complete()}catch{}}),this.observers.push(xt),mn},Me.prototype.unsubscribeOne=function(we){void 0===this.observers||void 0===this.observers[we]||(delete this.observers[we],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Me.prototype.forEachObserver=function(we){if(!this.finalized)for(var Ee=0;Ee<this.observers.length;Ee++)this.sendOne(Ee,we)},Me.prototype.sendOne=function(we,Ee){var qe=this;this.task.then(function(){if(void 0!==qe.observers&&void 0!==qe.observers[we])try{Ee(qe.observers[we])}catch(Fe){typeof console<"u"&&console.error&&console.error(Fe)}})},Me.prototype.close=function(we){var Ee=this;this.finalized||(this.finalized=!0,void 0!==we&&(this.finalError=we),this.task.then(function(){Ee.observers=void 0,Ee.onNoObservers=void 0}))},Me}();function Ut(){}function Ln(Me,we,Ee){var qe="";switch(we){case 1:qe=Ee?"first":"First";break;case 2:qe=Ee?"second":"Second";break;case 3:qe=Ee?"third":"Third";break;case 4:qe=Ee?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return Me+" failed: "+(qe+" argument ")}De.CONSTANTS=U,De.Deferred=de,De.ErrorFactory=Ct,De.FirebaseError=Le,De.MAX_VALUE_MILLIS=144e5,De.RANDOM_FACTOR=.5,De.Sha1=dn,De.areCookiesEnabled=function ue(){return!(!navigator||!navigator.cookieEnabled)},De.assert=Y,De.assertionError=pe,De.async=function tn(Me,we){return function(){for(var Ee=[],qe=0;qe<arguments.length;qe++)Ee[qe]=arguments[qe];Promise.resolve(!0).then(function(){Me.apply(void 0,Ee)}).catch(function(Fe){we&&we(Fe)})}},De.base64=Ae,De.base64Decode=Ve,De.base64Encode=function(Me){var we=ce(Me);return Ae.encodeByteArray(we,!0)},De.calculateBackoffMillis=function zt(Me,we,Ee){void 0===we&&(we=1e3),void 0===Ee&&(Ee=2);var qe=we*Math.pow(Ee,Me),Fe=Math.round(.5*qe*(Math.random()-.5)*2);return Math.min(144e5,qe+Fe)},De.contains=function je(Me,we){return Object.prototype.hasOwnProperty.call(Me,we)},De.createSubscribe=function Fn(Me,we){var Ee=new fn(Me,we);return Ee.subscribe.bind(Ee)},De.decode=rn,De.deepCopy=function z(Me){return G(void 0,Me)},De.deepExtend=G,De.errorPrefix=Ln,De.getUA=Ne,De.isAdmin=function(Me){var we=rn(Me).claims;return"object"==typeof we&&!0===we.admin},De.isBrowser=function st(){return"object"==typeof self&&self.self===self},De.isBrowserExtension=function mt(){var Me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Me&&void 0!==Me.id},De.isElectron=function at(){return Ne().indexOf("Electron/")>=0},De.isEmpty=function gt(Me){for(var we in Me)if(Object.prototype.hasOwnProperty.call(Me,we))return!1;return!0},De.isIE=function Ze(){var Me=Ne();return Me.indexOf("MSIE ")>=0||Me.indexOf("Trident/")>=0},De.isIndexedDBAvailable=function it(){return"indexedDB"in self&&null!=indexedDB},De.isMobileCordova=function me(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())},De.isNode=lt,De.isNodeSdk=function nt(){return!0===U.NODE_CLIENT||!0===U.NODE_ADMIN},De.isReactNative=function Re(){return"object"==typeof navigator&&"ReactNative"===navigator.product},De.isSafari=function $e(){return!lt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},De.isUWP=function xe(){return Ne().indexOf("MSAppHost/")>=0},De.isValidFormat=function(Me){var Ee=rn(Me).claims;return!!Ee&&"object"==typeof Ee&&Ee.hasOwnProperty("iat")},De.isValidTimestamp=function(Me){var we=rn(Me).claims,Ee=Math.floor((new Date).getTime()/1e3),qe=0,Fe=0;return"object"==typeof we&&(we.hasOwnProperty("nbf")?qe=we.nbf:we.hasOwnProperty("iat")&&(qe=we.iat),Fe=we.hasOwnProperty("exp")?we.exp:qe+86400),!!Ee&&!!qe&&!!Fe&&Ee>=qe&&Ee<=Fe},De.issuedAtTime=function(Me){var we=rn(Me).claims;return"object"==typeof we&&we.hasOwnProperty("iat")?we.iat:null},De.jsonEval=nn,De.map=function Dt(Me,we,Ee){var qe={};for(var Fe in Me)Object.prototype.hasOwnProperty.call(Me,Fe)&&(qe[Fe]=we.call(Ee,Me[Fe],Fe,Me));return qe},De.querystring=function bt(Me){for(var we=[],Ee=function(Xt,Ht){Array.isArray(Ht)?Ht.forEach(function(Ci){we.push(encodeURIComponent(Xt)+"="+encodeURIComponent(Ci))}):we.push(encodeURIComponent(Xt)+"="+encodeURIComponent(Ht))},qe=0,Fe=Object.entries(Me);qe<Fe.length;qe++){var xt=Fe[qe];Ee(xt[0],xt[1])}return we.length?"&"+we.join("&"):""},De.querystringDecode=function Tn(Me){var we={};return Me.replace(/^\?/,"").split("&").forEach(function(qe){if(qe){var Fe=qe.split("=");we[Fe[0]]=Fe[1]}}),we},De.safeGet=function ct(Me,we){if(Object.prototype.hasOwnProperty.call(Me,we))return Me[we]},De.stringLength=function(Me){for(var we=0,Ee=0;Ee<Me.length;Ee++){var qe=Me.charCodeAt(Ee);qe<128?we++:qe<2048?we+=2:qe>=55296&&qe<=56319?(we+=4,Ee++):we+=3}return we},De.stringToByteArray=function(Me){for(var we=[],Ee=0,qe=0;qe<Me.length;qe++){var Fe=Me.charCodeAt(qe);if(Fe>=55296&&Fe<=56319){var xt=Fe-55296;qe++,Y(qe<Me.length,"Surrogate pair missing trail surrogate."),Fe=65536+(xt<<10)+(Me.charCodeAt(qe)-56320)}Fe<128?we[Ee++]=Fe:Fe<2048?(we[Ee++]=Fe>>6|192,we[Ee++]=63&Fe|128):Fe<65536?(we[Ee++]=Fe>>12|224,we[Ee++]=Fe>>6&63|128,we[Ee++]=63&Fe|128):(we[Ee++]=Fe>>18|240,we[Ee++]=Fe>>12&63|128,we[Ee++]=Fe>>6&63|128,we[Ee++]=63&Fe|128)}return we},De.stringify=function un(Me){return JSON.stringify(Me)},De.validateArgCount=function(Me,we,Ee,qe){var Fe;if(qe<we?Fe="at least "+we:qe>Ee&&(Fe=0===Ee?"none":"no more than "+Ee),Fe)throw new Error(Me+" failed: Was called with "+qe+(1===qe?" argument.":" arguments.")+" Expects "+Fe+".")},De.validateCallback=function wi(Me,we,Ee,qe){if((!qe||Ee)&&"function"!=typeof Ee)throw new Error(Ln(Me,we,qe)+"must be a valid function.")},De.validateContextObject=function Oi(Me,we,Ee,qe){if((!qe||Ee)&&("object"!=typeof Ee||null===Ee))throw new Error(Ln(Me,we,qe)+"must be a valid context object.")},De.validateIndexedDBOpenable=function he(){return new Promise(function(Me,we){try{var Ee=!0,qe="validate-browser-context-for-indexeddb-analytics-module",Fe=window.indexedDB.open(qe);Fe.onsuccess=function(){Fe.result.close(),Ee||window.indexedDB.deleteDatabase(qe),Me(!0)},Fe.onupgradeneeded=function(){Ee=!1},Fe.onerror=function(){var xt;we((null===(xt=Fe.error)||void 0===xt?void 0:xt.message)||"")}}catch(xt){we(xt)}})},De.validateNamespace=function Vn(Me,we,Ee,qe){if((!qe||Ee)&&"string"!=typeof Ee)throw new Error(Ln(Me,we,qe)+"must be a valid firebase namespace.")}},8602:(en,De,Q)=>{Q.r(De),Q.d(De,{ErrorCode:()=>Fc,EventType:()=>Co,WebChannel:()=>Hs,XhrIo:()=>Lc,createWebChannelTransport:()=>Xo,default:()=>Ra});var a=function(C,N){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,ee){j.__proto__=ee}||function(j,ee){for(var ve in ee)Object.prototype.hasOwnProperty.call(ee,ve)&&(j[ve]=ee[ve])})(C,N)};function Y(C){var N="function"==typeof Symbol&&Symbol.iterator,j=N&&C[N],ee=0;if(j)return j.call(C);if(C&&"number"==typeof C.length)return{next:function(){return C&&ee>=C.length&&(C=void 0),{value:C&&C[ee++],done:!C}}};throw new TypeError(N?"Object is not iterable.":"Symbol.iterator is not defined.")}var ce,pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ke=ke||{},Ae=pe||self;function ut(){}function Ve(C){var N=typeof C;return"object"!=N?N:C?Array.isArray(C)?"array":N:"null"}function z(C){var N=Ve(C);return"array"==N||"object"==N&&"number"==typeof C.length}function G(C){var N=typeof C;return"object"==N&&null!=C||"function"==N}var Ne="closure_uid_"+(1e9*Math.random()>>>0),me=0;function lt(C,N,j){return C.call.apply(C.bind,arguments)}function st(C,N,j){if(!C)throw Error();if(2<arguments.length){var ee=Array.prototype.slice.call(arguments,2);return function(){var ve=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ve,ee),C.apply(N,ve)}}return function(){return C.apply(N,arguments)}}function mt(C,N,j){return(mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lt:st).apply(null,arguments)}function Re(C,N){var j=Array.prototype.slice.call(arguments,1);return function(){var ee=j.slice();return ee.push.apply(ee,arguments),C.apply(this,ee)}}var at=Date.now;function Ze(C,N){function j(){}j.prototype=N.prototype,C.S=N.prototype,C.prototype=new j,C.prototype.constructor=C}function xe(){this.j=this.j,this.i=this.i}xe.prototype.j=!1,xe.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function de(C){Object.prototype.hasOwnProperty.call(C,Ne)&&C[Ne]||(C[Ne]=++me)}(this)},xe.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var $e=Array.prototype.indexOf?function(C,N){return Array.prototype.indexOf.call(C,N,void 0)}:function(C,N){if("string"==typeof C)return"string"!=typeof N||1!=N.length?-1:C.indexOf(N,0);for(var j=0;j<C.length;j++)if(j in C&&C[j]===N)return j;return-1},it=Array.prototype.forEach?function(C,N,j){Array.prototype.forEach.call(C,N,j)}:function(C,N,j){for(var ee=C.length,ve="string"==typeof C?C.split(""):C,Ke=0;Ke<ee;Ke++)Ke in ve&&N.call(j,ve[Ke],Ke,C)};function ue(C){return Array.prototype.concat.apply([],arguments)}function Ge(C){var N=C.length;if(0<N){for(var j=Array(N),ee=0;ee<N;ee++)j[ee]=C[ee];return j}return[]}function Le(C){return/^[\s\xa0]*$/.test(C)}var nn,Ct=String.prototype.trim?function(C){return C.trim()}:function(C){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(C)[1]};function ot(C,N){return-1!=C.indexOf(N)}function Yt(C,N){return C<N?-1:C>N?1:0}e:{var un=Ae.navigator;if(un){var rn=un.userAgent;if(rn){nn=rn;break e}}nn=""}function fi(C,N,j){for(var ee in C)N.call(j,C[ee],ee,C)}function Te(C){var N={};for(var j in C)N[j]=C[j];return N}var Ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function He(C,N){for(var j,ee,ve=1;ve<arguments.length;ve++){for(j in ee=arguments[ve])C[j]=ee[j];for(var Ke=0;Ke<Ce.length;Ke++)j=Ce[Ke],Object.prototype.hasOwnProperty.call(ee,j)&&(C[j]=ee[j])}}function je(C){return je[" "](C),C}je[" "]=ut;var tn,C,gt=ot(nn,"Opera"),Dt=ot(nn,"Trident")||ot(nn,"MSIE"),bt=ot(nn,"Edge"),Tn=bt||Dt,dn=ot(nn,"Gecko")&&!(ot(nn.toLowerCase(),"webkit")&&!ot(nn,"Edge"))&&!(ot(nn,"Trident")||ot(nn,"MSIE"))&&!ot(nn,"Edge"),Fn=ot(nn.toLowerCase(),"webkit")&&!ot(nn,"Edge");function fn(){var C=Ae.document;return C?C.documentMode:void 0}e:{var Sn="",Ut=(C=nn,dn?/rv:([^\);]+)(\)|;)/.exec(C):bt?/Edge\/([\d\.]+)/.exec(C):Dt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(C):Fn?/WebKit\/(\S+)/.exec(C):gt?/(?:Version)[ \/]?(\S+)/.exec(C):void 0);if(Ut&&(Sn=Ut?Ut[1]:""),Dt){var cn=fn();if(null!=cn&&cn>parseFloat(Sn)){tn=String(cn);break e}}tn=Sn}var Ln={};function Vn(C){return function ct(C,N){var j=Ln;return Object.prototype.hasOwnProperty.call(j,C)?j[C]:j[C]=N(C)}(C,function(){for(var N=0,j=Ct(String(tn)).split("."),ee=Ct(String(C)).split("."),ve=Math.max(j.length,ee.length),Ke=0;0==N&&Ke<ve;Ke++){var Rt=j[Ke]||"",Gn=ee[Ke]||"";do{if(Rt=/(\d*)(\D*)(.*)/.exec(Rt)||["","","",""],Gn=/(\d*)(\D*)(.*)/.exec(Gn)||["","","",""],0==Rt[0].length&&0==Gn[0].length)break;N=Yt(0==Rt[1].length?0:parseInt(Rt[1],10),0==Gn[1].length?0:parseInt(Gn[1],10))||Yt(0==Rt[2].length,0==Gn[2].length)||Yt(Rt[2],Gn[2]),Rt=Rt[3],Gn=Gn[3]}while(0==N)}return 0<=N})}var ni=Ae.document&&Dt&&(fn()||parseInt(tn,10))||void 0,zi=!Dt||9<=Number(ni),Ro=Dt&&!Vn("9"),sn=function(){if(!Ae.addEventListener||!Object.defineProperty)return!1;var C=!1,N=Object.defineProperty({},"passive",{get:function(){C=!0}});try{Ae.addEventListener("test",ut,N),Ae.removeEventListener("test",ut,N)}catch{}return C}();function Kt(C,N){this.type=C,this.a=this.target=N,this.defaultPrevented=!1}function Qt(C,N){if(Kt.call(this,C?C.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,C){var j=this.type=C.type,ee=C.changedTouches&&C.changedTouches.length?C.changedTouches[0]:null;if(this.target=C.target||C.srcElement,this.a=N,N=C.relatedTarget){if(dn){e:{try{je(N.nodeName);var ve=!0;break e}catch{}ve=!1}ve||(N=null)}}else"mouseover"==j?N=C.fromElement:"mouseout"==j&&(N=C.toElement);this.relatedTarget=N,ee?(this.clientX=void 0!==ee.clientX?ee.clientX:ee.pageX,this.clientY=void 0!==ee.clientY?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=void 0!==C.clientX?C.clientX:C.pageX,this.clientY=void 0!==C.clientY?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0),this.button=C.button,this.key=C.key||"",this.ctrlKey=C.ctrlKey,this.altKey=C.altKey,this.shiftKey=C.shiftKey,this.metaKey=C.metaKey,this.pointerId=C.pointerId||0,this.pointerType="string"==typeof C.pointerType?C.pointerType:zt[C.pointerType]||"",this.c=C,C.defaultPrevented&&this.b()}}Kt.prototype.b=function(){this.defaultPrevented=!0},Ze(Qt,Kt);var zt={2:"touch",3:"pen",4:"mouse"};Qt.prototype.b=function(){Qt.S.b.call(this);var C=this.c;if(C.preventDefault)C.preventDefault();else if(C.returnValue=!1,Ro)try{(C.ctrlKey||112<=C.keyCode&&123>=C.keyCode)&&(C.keyCode=-1)}catch{}};var Me="closure_listenable_"+(1e6*Math.random()|0),we=0;function Ee(C,N,j,ee,ve){this.listener=C,this.proxy=null,this.src=N,this.type=j,this.capture=!!ee,this.ca=ve,this.key=++we,this.Y=this.Z=!1}function qe(C){C.Y=!0,C.listener=null,C.proxy=null,C.src=null,C.ca=null}function Fe(C){this.src=C,this.a={},this.b=0}function xt(C,N){var j=N.type;if(j in C.a){var Ke,ee=C.a[j],ve=$e(ee,N);(Ke=0<=ve)&&Array.prototype.splice.call(ee,ve,1),Ke&&(qe(N),0==C.a[j].length&&(delete C.a[j],C.b--))}}function mn(C,N,j,ee){for(var ve=0;ve<C.length;++ve){var Ke=C[ve];if(!Ke.Y&&Ke.listener==N&&Ke.capture==!!j&&Ke.ca==ee)return ve}return-1}Fe.prototype.add=function(C,N,j,ee,ve){var Ke=C.toString();(C=this.a[Ke])||(C=this.a[Ke]=[],this.b++);var Rt=mn(C,N,ee,ve);return-1<Rt?(N=C[Rt],j||(N.Z=!1)):((N=new Ee(N,this.src,Ke,!!ee,ve)).Z=j,C.push(N)),N};var jt="closure_lm_"+(1e6*Math.random()|0),Xt={};function Ht(C,N,j,ee,ve){if(ee&&ee.once)return $n(C,N,j,ee,ve);if(Array.isArray(N)){for(var Ke=0;Ke<N.length;Ke++)Ht(C,N[Ke],j,ee,ve);return null}return j=fe(j),C&&C[Me]?C.va(N,j,G(ee)?!!ee.capture:!!ee,ve):Ci(C,N,j,!1,ee,ve)}function Ci(C,N,j,ee,ve,Ke){if(!N)throw Error("Invalid event type");var Rt=G(ve)?!!ve.capture:!!ve;if(Rt&&!zi)return null;var Gn=_r(C);if(Gn||(C[jt]=Gn=new Fe(C)),(j=Gn.add(N,j,ee,Rt,Ke)).proxy)return j;if(ee=function vi(){var C=Ei,N=zi?function(j){return C.call(N.src,N.listener,j)}:function(j){if(!(j=C.call(N.src,N.listener,j)))return j};return N}(),j.proxy=ee,ee.src=C,ee.listener=j,C.addEventListener)sn||(ve=Rt),void 0===ve&&(ve=!1),C.addEventListener(N.toString(),ee,ve);else if(C.attachEvent)C.attachEvent(gr(N.toString()),ee);else{if(!C.addListener||!C.removeListener)throw Error("addEventListener and attachEvent are unavailable.");C.addListener(ee)}return j}function $n(C,N,j,ee,ve){if(Array.isArray(N)){for(var Ke=0;Ke<N.length;Ke++)$n(C,N[Ke],j,ee,ve);return null}return j=fe(j),C&&C[Me]?C.wa(N,j,G(ee)?!!ee.capture:!!ee,ve):Ci(C,N,j,!0,ee,ve)}function Li(C,N,j,ee,ve){if(Array.isArray(N))for(var Ke=0;Ke<N.length;Ke++)Li(C,N[Ke],j,ee,ve);else ee=G(ee)?!!ee.capture:!!ee,j=fe(j),C&&C[Me]?(C=C.c,(N=String(N).toString())in C.a&&-1<(j=mn(Ke=C.a[N],j,ee,ve))&&(qe(Ke[j]),Array.prototype.splice.call(Ke,j,1),0==Ke.length&&(delete C.a[N],C.b--))):C&&(C=_r(C))&&(N=C.a[N.toString()],C=-1,N&&(C=mn(N,j,ee,ve)),(j=-1<C?N[C]:null)&&qn(j))}function qn(C){if("number"!=typeof C&&C&&!C.Y){var N=C.src;if(N&&N[Me])xt(N.c,C);else{var j=C.type,ee=C.proxy;N.removeEventListener?N.removeEventListener(j,ee,C.capture):N.detachEvent?N.detachEvent(gr(j),ee):N.addListener&&N.removeListener&&N.removeListener(ee),(j=_r(N))?(xt(j,C),0==j.b&&(j.src=null,N[jt]=null)):qe(C)}}}function gr(C){return C in Xt?Xt[C]:Xt[C]="on"+C}function pi(C,N){var j=C.listener,ee=C.ca||C.src;return C.Z&&qn(C),j.call(ee,N)}function Ei(C,N){if(C.Y)return!0;if(!zi){if(!N)e:{N=["window","event"];for(var j=Ae,ee=0;ee<N.length;ee++)if(null==(j=j[N[ee]])){N=null;break e}N=j}return pi(C,N=new Qt(N,this))}return pi(C,new Qt(N,this))}function _r(C){return(C=C[jt])instanceof Fe?C:null}var go="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(C){return"function"==Ve(C)?C:(C[go]||(C[go]=function(N){return C.handleEvent(N)}),C[go])}function le(){xe.call(this),this.c=new Fe(this),this.J=this,this.C=null}function X(C,N,j,ee){if(!(N=C.c.a[String(N)]))return!0;N=N.concat();for(var ve=!0,Ke=0;Ke<N.length;++Ke){var Rt=N[Ke];if(Rt&&!Rt.Y&&Rt.capture==j){var Gn=Rt.listener,ti=Rt.ca||Rt.src;Rt.Z&&xt(C.c,Rt),ve=!1!==Gn.call(ti,ee)&&ve}}return ve&&!ee.defaultPrevented}Ze(le,xe),le.prototype[Me]=!0,(ce=le.prototype).addEventListener=function(C,N,j,ee){Ht(this,C,N,j,ee)},ce.removeEventListener=function(C,N,j,ee){Li(this,C,N,j,ee)},ce.dispatchEvent=function(C){var N,j=this.C;if(j)for(N=[];j;j=j.C)N.push(j);j=this.J;var ee=C.type||C;if("string"==typeof C)C=new Kt(C,j);else if(C instanceof Kt)C.target=C.target||j;else{var ve=C;He(C=new Kt(ee,j),ve)}if(ve=!0,N)for(var Ke=N.length-1;0<=Ke;Ke--){var Rt=C.a=N[Ke];ve=X(Rt,ee,!0,C)&&ve}if(ve=X(Rt=C.a=j,ee,!0,C)&&ve,ve=X(Rt,ee,!1,C)&&ve,N)for(Ke=0;Ke<N.length;Ke++)ve=X(Rt=C.a=N[Ke],ee,!1,C)&&ve;return ve},ce.G=function(){if(le.S.G.call(this),this.c){var N,C=this.c;for(N in C.a){for(var j=C.a[N],ee=0;ee<j.length;ee++)qe(j[ee]);delete C.a[N],C.b--}}this.C=null},ce.va=function(C,N,j,ee){return this.c.add(String(C),N,!1,j,ee)},ce.wa=function(C,N,j,ee){return this.c.add(String(C),N,!0,j,ee)};var te=Ae.JSON.stringify;function K(){this.b=this.a=null}var Xn,Oe=new(function(){function C(N,j,ee){this.f=ee,this.c=N,this.g=j,this.b=0,this.a=null}return C.prototype.get=function(){var N;return 0<this.b?(this.b--,this.a=(N=this.a).next,N.next=null):N=this.c(),N},C}())(function(){return new St},function(C){C.reset()},100);function Qe(){var C=Nn,N=null;return C.a&&(N=C.a,C.a=C.a.next,C.a||(C.b=null),N.next=null),N}function St(){this.next=this.b=this.a=null}function yn(C){Ae.setTimeout(function(){throw C},0)}function Vt(C,N){Xn||function xn(){var C=Ae.Promise.resolve(void 0);Xn=function(){C.then(vr)}}(),ai||(Xn(),ai=!0),Nn.add(C,N)}K.prototype.add=function(C,N){var j=Oe.get();j.set(C,N),this.b?this.b.next=j:this.a=j,this.b=j},St.prototype.set=function(C,N){this.a=C,this.b=N,this.next=null},St.prototype.reset=function(){this.next=this.b=this.a=null};var ai=!1,Nn=new K;function vr(){for(var C;C=Qe();){try{C.a.call(C.b)}catch(j){yn(j)}var N=Oe;N.g(C),N.b<N.f&&(N.b++,C.next=N.a,N.a=C)}ai=!1}function Yo(C,N){le.call(this),this.b=C||1,this.a=N||Ae,this.f=mt(this.Ya,this),this.g=at()}function Je(C){C.aa=!1,C.M&&(C.a.clearTimeout(C.M),C.M=null)}function ze(C,N,j){if("function"==Ve(C))j&&(C=mt(C,j));else{if(!C||"function"!=typeof C.handleEvent)throw Error("Invalid listener argument");C=mt(C.handleEvent,C)}return 2147483647<Number(N)?-1:Ae.setTimeout(C,N||0)}function _t(C){C.a=ze(function(){C.a=null,C.c&&(C.c=!1,_t(C))},C.h);var N=C.b;C.b=null,C.g.apply(null,N)}Ze(Yo,le),(ce=Yo.prototype).aa=!1,ce.M=null,ce.Ya=function(){if(this.aa){var C=at()-this.g;0<C&&C<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-C):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Je(this),this.start()))}},ce.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=at())},ce.G=function(){Yo.S.G.call(this),Je(this),delete this.a};var Zt=function(C){function N(j,ee,ve){var Ke=C.call(this)||this;return Ke.g=null!=ve?j.bind(ve):j,Ke.h=ee,Ke.b=null,Ke.c=!1,Ke.a=null,Ke}return function U(C,N){function j(){this.constructor=C}a(C,N),C.prototype=null===N?Object.create(N):(j.prototype=N.prototype,new j)}(N,C),N.prototype.f=function(j){this.b=arguments,this.a?this.c=!0:_t(this)},N.prototype.G=function(){C.prototype.G.call(this),this.a&&(Ae.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},N}(xe);function kt(C){xe.call(this),this.b=C,this.a={}}Ze(kt,xe);var An=[];function ri(C,N,j,ee){Array.isArray(j)||(j&&(An[0]=j.toString()),j=An);for(var ve=0;ve<j.length;ve++){var Ke=Ht(N,j[ve],ee||C.handleEvent,!1,C.b||C);if(!Ke)break;C.a[Ke.key]=Ke}}function Gi(C){fi(C.a,function(N,j){this.a.hasOwnProperty(j)&&qn(N)},C),C.a={}}function Zi(){this.a=!0}function _o(C,N,j,ee){C.info(function(){return"XMLHTTP TEXT ("+N+"): "+function No(C,N){if(!C.a)return N;if(!N)return null;try{var j=JSON.parse(N);if(j)for(C=0;C<j.length;C++)if(Array.isArray(j[C])){var ee=j[C];if(!(2>ee.length)){var ve=ee[1];if(Array.isArray(ve)&&!(1>ve.length)){var Ke=ve[0];if("noop"!=Ke&&"stop"!=Ke&&"close"!=Ke)for(var Rt=1;Rt<ve.length;Rt++)ve[Rt]=""}}}return te(j)}catch{return N}}(C,j)+(ee?" "+ee:"")})}kt.prototype.G=function(){kt.S.G.call(this),Gi(this)},kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zi.prototype.info=function(){};var ls=null;function vs(){return ls=ls||new le}function Ko(C){Kt.call(this,"serverreachability",C)}function jn(C){var N=vs();N.dispatchEvent(new Ko(N,C))}function Ai(C){Kt.call(this,"statevent",C)}function vo(C){var N=vs();N.dispatchEvent(new Ai(N,C))}function xi(C){Kt.call(this,"timingevent",C)}function xc(C,N){if("function"!=Ve(C))throw Error("Fn must not be null and must be a function");return Ae.setTimeout(function(){C()},N)}Ze(Ko,Kt),Ze(Ai,Kt),Ze(xi,Kt);var tc={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},$r={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function Ls(){}function Ju(){}Ls.prototype.a=null;var Us,ra={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function Ec(){Kt.call(this,"d")}function Ic(){Kt.call(this,"c")}function oa(){}function sl(C,N,j,ee){this.g=C,this.c=N,this.f=j,this.T=ee||1,this.J=new kt(this),this.P=Fo,this.R=new Yo(C=Tn?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}Ze(Ec,Kt),Ze(Ic,Kt),Ze(oa,Ls),Us=new oa;var Fo=45e3,yo={},yr={};function ic(C,N,j){C.H=1,C.i=Qo(Et(N)),C.j=j,C.I=!0,sa(C,null)}function sa(C,N){C.u=at(),aa(C),C.l=Et(C.i);var j=C.l,ee=C.T;Array.isArray(ee)||(ee=[String(ee)]),Vi(j.b,"t",ee),C.D=0,C.a=zs(C.g,C.g.C?N:null),0<C.O&&(C.F=new Zt(mt(C.Ca,C,C.a),C.O)),ri(C.J,C.a,"readystatechange",C.Wa),N=C.B?Te(C.B):{},C.j?(C.m||(C.m="POST"),N["Content-Type"]="application/x-www-form-urlencoded",C.a.ba(C.l,C.m,C.j,N)):(C.m="GET",C.a.ba(C.l,C.m,null,N)),jn(1),function er(C,N,j,ee,ve,Ke){C.info(function(){if(C.a)if(Ke)for(var Rt="",Gn=Ke.split("&"),ti=0;ti<Gn.length;ti++){var dr=Gn[ti].split("=");if(1<dr.length){var xo=dr[0];dr=dr[1];var es=xo.split("_");Rt=2<=es.length&&"type"==es[1]?Rt+(xo+"=")+dr+"&":Rt+(xo+"=redacted&")}}else Rt=null;else Rt=Ke;return"XMLHTTP REQ ("+ee+") [attempt "+ve+"]: "+N+"\n"+j+"\n"+Rt})}(C.c,C.m,C.l,C.f,C.T,C.j)}function Yi(C,N,j){for(var ee=!0;!C.A&&C.D<j.length;){var ve=Mc(C,j);if(ve==yr){4==N&&(C.h=4,vo(14),ee=!1),_o(C.c,C.f,null,"[Incomplete Response]");break}if(ve==yo){C.h=4,vo(15),_o(C.c,C.f,j,"[Invalid Chunk]"),ee=!1;break}_o(C.c,C.f,ve,null),br(C,ve)}4==N&&0==j.length&&(C.h=1,vo(16),ee=!1),C.b=C.b&&ee,ee?0<j.length&&!C.W&&(C.W=!0,(N=C.g).a==C&&N.V&&!N.F&&(N.c.info("Great, no buffering proxy detected. Bytes received: "+j.length),jo(N),N.F=!0)):(_o(C.c,C.f,j,"[Invalid Chunked Response]"),Ui(C),zn(C))}function Mc(C,N){var j=C.D,ee=N.indexOf("\n",j);return-1==ee?yr:(j=Number(N.substring(j,ee)),isNaN(j)?yo:(ee+=1)+j>N.length?yr:(N=N.substr(ee,j),C.D=ee+j,N))}function aa(C){C.U=at()+C.P,ys(C,C.P)}function ys(C,N){if(null!=C.o)throw Error("WatchDog timer not null");C.o=xc(mt(C.Ua,C),N)}function rc(C){C.o&&(Ae.clearTimeout(C.o),C.o=null)}function zn(C){0==C.g.v||C.A||Kr(C.g,C)}function Ui(C){rc(C);var N=C.F;N&&"function"==typeof N.ja&&N.ja(),C.F=null,Je(C.R),Gi(C.J),C.a&&(N=C.a,C.a=null,N.abort(),N.ja())}function br(C,N){try{var j=C.g;if(0!=j.v&&(j.a==C||rr(j.b,C)))if(j.I=C.N,!C.C&&rr(j.b,C)&&3==j.v){try{var ee=j.ka.a.parse(N)}catch{ee=null}if(Array.isArray(ee)&&3==ee.length){var ve=ee;if(0==ve[0]){e:if(!j.j){if(j.a){if(!(j.a.u+3e3<C.u))break e;Pa(j),bo(j)}Rc(j),vo(18)}}else j.oa=ve[1],0<j.oa-j.P&&37500>ve[2]&&j.H&&0==j.o&&!j.m&&(j.m=xc(mt(j.Ra,j),6e3));if(1>=Ar(j.b)&&j.ea){try{j.ea()}catch{}j.ea=void 0}}else wo(j,11)}else if((C.C||j.a==C)&&Pa(j),!Le(N))for(N=ee=j.ka.a.parse(N),ee=0;ee<N.length;ee++)if(j.P=(ve=N[ee])[0],ve=ve[1],2==j.v)if("c"==ve[0]){j.J=ve[1],j.ga=ve[2];var Ke=ve[3];null!=Ke&&(j.ha=Ke,j.c.info("VER="+j.ha));var Rt=ve[4];null!=Rt&&(j.pa=Rt,j.c.info("SVER="+j.pa));var Gn=ve[5];if(null!=Gn&&"number"==typeof Gn&&0<Gn){var ti=1.5*Gn;j.D=ti,j.c.info("backChannelRequestTimeoutMs_="+ti)}ti=j;var dr=C.a;if(dr){var xo=dr.a?dr.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(xo){var es=ti.b;!es.a&&(ot(xo,"spdy")||ot(xo,"quic")||ot(xo,"h2"))&&(es.f=es.g,es.a=new Set,es.b&&(Wr(es,es.b),es.b=null))}if(ti.A){var Uc=dr.a?dr.a.getResponseHeader("X-HTTP-Session-Id"):null;Uc&&(ti.na=Uc,kn(ti.B,ti.A,Uc))}}j.v=3,j.f&&j.f.ta(),j.V&&(j.N=at()-C.u,j.c.info("Handshake RTT: "+j.N+"ms"));var $s=C;if((ti=j).la=jl(ti,ti.C?ti.ga:null,ti.fa),$s.C){ua(ti.b,$s);var ul=$s,Eo=ti.D;Eo&&ul.setTimeout(Eo),ul.o&&(rc(ul),aa(ul)),ti.a=$s}else fa(ti);0<j.g.length&&Cs(j)}else"stop"!=ve[0]&&"close"!=ve[0]||wo(j,7);else 3==j.v&&("stop"==ve[0]||"close"==ve[0]?"stop"==ve[0]?wo(j,7):sc(j):"noop"!=ve[0]&&j.f&&j.f.sa(ve),j.o=0);jn(4)}catch{}}function wr(C,N){if(C.forEach&&"function"==typeof C.forEach)C.forEach(N,void 0);else if(z(C)||"string"==typeof C)it(C,N,void 0);else{if(C.L&&"function"==typeof C.L)var j=C.L();else if(C.K&&"function"==typeof C.K)j=void 0;else if(z(C)||"string"==typeof C){j=[];for(var ee=C.length,ve=0;ve<ee;ve++)j.push(ve)}else for(ve in j=[],ee=0,C)j[ee++]=ve;ee=function Sa(C){if(C.K&&"function"==typeof C.K)return C.K();if("string"==typeof C)return C.split("");if(z(C)){for(var N=[],j=C.length,ee=0;ee<j;ee++)N.push(C[ee]);return N}for(ee in N=[],j=0,C)N[j++]=C[ee];return N}(C),ve=ee.length;for(var Ke=0;Ke<ve;Ke++)N.call(void 0,ee[Ke],j&&j[Ke],C)}}function Tc(C,N){this.b={},this.a=[],this.c=0;var j=arguments.length;if(1<j){if(j%2)throw Error("Uneven number of arguments");for(var ee=0;ee<j;ee+=2)this.set(arguments[ee],arguments[ee+1])}else if(C)if(C instanceof Tc)for(j=C.L(),ee=0;ee<j.length;ee++)this.set(j[ee],C.get(j[ee]));else for(ee in C)this.set(ee,C[ee])}function Sc(C){if(C.c!=C.a.length){for(var N=0,j=0;N<C.a.length;){var ee=C.a[N];Lo(C.b,ee)&&(C.a[j++]=ee),N++}C.a.length=j}if(C.c!=C.a.length){var ve={};for(j=N=0;N<C.a.length;)Lo(ve,ee=C.a[N])||(C.a[j++]=ee,ve[ee]=1),N++;C.a.length=j}}function Lo(C,N){return Object.prototype.hasOwnProperty.call(C,N)}(ce=sl.prototype).setTimeout=function(C){this.P=C},ce.Wa=function(C){C=C.target;var N=this.F;N&&3==mi(C)?N.f():this.Ca(C)},ce.Ca=function(C){try{if(C==this.a)e:{var N=mi(this.a),j=this.a.ua(),ee=this.a.X();if(!(3>N||3==N&&!Tn&&!this.a.$())){this.A||4!=N||7==j||jn(8==j||0>=ee?3:2),rc(this);var ve=this.a.X();this.N=ve;var Ke=this.a.$();if(this.b=200==ve,function Ur(C,N,j,ee,ve,Ke,Rt){C.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+ve+"]: "+N+"\n"+j+"\n"+Ke+" "+Rt})}(this.c,this.m,this.l,this.f,this.T,N,ve),this.b){if(this.V&&!this.C){t:{if(this.a){var Rt,Gn=this.a;if((Rt=Gn.a?Gn.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Le(Rt)){var ti=Rt;break t}}ti=null}if(!ti){this.b=!1,this.h=3,vo(12),Ui(this),zn(this);break e}_o(this.c,this.f,ti,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,br(this,ti)}this.I?(Yi(this,N,Ke),Tn&&this.b&&3==N&&(ri(this.J,this.R,"tick",this.Va),this.R.start())):(_o(this.c,this.f,Ke,null),br(this,Ke)),4==N&&Ui(this),this.b&&!this.A&&(4==N?Kr(this.g,this):(this.b=!1,aa(this)))}else 400==ve&&0<Ke.indexOf("Unknown SID")?(this.h=3,vo(12)):(this.h=0,vo(13)),Ui(this),zn(this)}}}catch{}},ce.Va=function(){if(this.a){var C=mi(this.a),N=this.a.$();this.D<N.length&&(rc(this),Yi(this,C,N),this.b&&4!=C&&aa(this))}},ce.cancel=function(){this.A=!0,Ui(this)},ce.Ua=function(){this.o=null;var C=at();0<=C-this.U?(function Ta(C,N){C.info(function(){return"TIMEOUT: "+N})}(this.c,this.l),2!=this.H&&(jn(3),vo(17)),Ui(this),this.h=2,zn(this)):ys(this,this.U-C)},(ce=Tc.prototype).K=function(){Sc(this);for(var C=[],N=0;N<this.a.length;N++)C.push(this.b[this.a[N]]);return C},ce.L=function(){return Sc(this),this.a.concat()},ce.get=function(C,N){return Lo(this.b,C)?this.b[C]:N},ce.set=function(C,N){Lo(this.b,C)||(this.c++,this.a.push(C)),this.b[C]=N},ce.forEach=function(C,N){for(var j=this.L(),ee=0;ee<j.length;ee++){var ve=j[ee],Ke=this.get(ve);C.call(N,Ke,ve,this)}};var Vs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pi(C,N){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,C instanceof Pi){this.a=void 0!==N?N:C.a,En(this,C.f),this.j=C.j,Ii(this,C.c),so(this,C.h),this.g=C.g,N=C.b;var j=new Er;j.c=N.c,N.a&&(j.a=new Tc(N.a),j.b=N.b),Bs(this,j),this.i=C.i}else C&&(j=String(C).match(Vs))?(this.a=!!N,En(this,j[1]||"",!0),this.j=Jo(j[2]||""),Ii(this,j[3]||"",!0),so(this,j[4]),this.g=Jo(j[5]||"",!0),Bs(this,j[6]||"",!0),this.i=Jo(j[7]||"")):(this.a=!!N,this.b=new Er(null,this.a))}function Et(C){return new Pi(C)}function En(C,N,j){C.f=j?Jo(N,!0):N,C.f&&(C.f=C.f.replace(/:$/,""))}function Ii(C,N,j){C.c=j?Jo(N,!0):N}function so(C,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);C.h=N}else C.h=null}function Bs(C,N,j){N instanceof Er?(C.b=N,function Gr(C,N){N&&!C.f&&(Ir(C),C.c=null,C.a.forEach(function(j,ee){var ve=ee.toLowerCase();ee!=ve&&(la(this,ee),Vi(this,ve,j))},C)),C.f=N}(C.b,C.a)):(j||(N=on(N,bs)),C.b=new Er(N,C.a))}function kn(C,N,j){C.b.set(N,j)}function Qo(C){return kn(C,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^at()).toString(36)),C}function Jo(C,N){return C?N?decodeURI(C.replace(/%25/g,"%2525")):decodeURIComponent(C):""}function on(C,N,j){return"string"==typeof C?(C=encodeURI(C).replace(N,qr),j&&(C=C.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C):null}function qr(C){return"%"+((C=C.charCodeAt(0))>>4&15).toString(16)+(15&C).toString(16)}Pi.prototype.toString=function(){var C=[],N=this.f;N&&C.push(on(N,Ll,!0),":");var j=this.c;return(j||"file"==N)&&(C.push("//"),(N=this.j)&&C.push(on(N,Ll,!0),"@"),C.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(j=this.h)&&C.push(":",String(j))),(j=this.g)&&(this.c&&"/"!=j.charAt(0)&&C.push("/"),C.push(on(j,"/"==j.charAt(0)?xr:Cr,!0))),(j=this.b.toString())&&C.push("?",j),(j=this.i)&&C.push("#",on(j,Uo)),C.join("")};var Ll=/[#\/\?@]/g,Cr=/[#\?:]/g,xr=/[#\?]/g,bs=/[#\?@]/g,Uo=/#/g;function Er(C,N){this.b=this.a=null,this.c=C||null,this.f=!!N}function Ir(C){C.a||(C.a=new Tc,C.b=0,C.c&&function Dc(C,N){if(C){C=C.split("&");for(var j=0;j<C.length;j++){var ee=C[j].indexOf("="),ve=null;if(0<=ee){var Ke=C[j].substring(0,ee);ve=C[j].substring(ee+1)}else Ke=C[j];N(Ke,ve?decodeURIComponent(ve.replace(/\+/g," ")):"")}}}(C.c,function(N,j){C.add(decodeURIComponent(N.replace(/\+/g," ")),j)}))}function la(C,N){Ir(C),N=Vo(C,N),Lo(C.a.b,N)&&(C.c=null,C.b-=C.a.get(N).length,Lo((C=C.a).b,N)&&(delete C.b[N],C.c--,C.a.length>2*C.c&&Sc(C)))}function Da(C,N){return Ir(C),N=Vo(C,N),Lo(C.a.b,N)}function Vi(C,N,j){la(C,N),0<j.length&&(C.c=null,C.a.set(Vo(C,N),Ge(j)),C.b+=j.length)}function Vo(C,N){return N=String(N),C.f&&(N=N.toLowerCase()),N}function ei(C,N){this.b=C,this.a=N}function Oc(C){this.g=C||gu,C=Ae.PerformanceNavigationTiming?0<(C=Ae.performance.getEntriesByType("navigation")).length&&("hq"==C[0].nextHopProtocol||"h2"==C[0].nextHopProtocol):!!(Ae.ia&&Ae.ia.ya&&Ae.ia.ya()&&Ae.ia.ya().qb),this.f=C?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(ce=Er.prototype).add=function(C,N){Ir(this),this.c=null,C=Vo(this,C);var j=this.a.get(C);return j||this.a.set(C,j=[]),j.push(N),this.b+=1,this},ce.forEach=function(C,N){Ir(this),this.a.forEach(function(j,ee){it(j,function(ve){C.call(N,ve,ee,this)},this)},this)},ce.L=function(){Ir(this);for(var C=this.a.K(),N=this.a.L(),j=[],ee=0;ee<N.length;ee++)for(var ve=C[ee],Ke=0;Ke<ve.length;Ke++)j.push(N[ee]);return j},ce.K=function(C){Ir(this);var N=[];if("string"==typeof C)Da(this,C)&&(N=ue(N,this.a.get(Vo(this,C))));else{C=this.a.K();for(var j=0;j<C.length;j++)N=ue(N,C[j])}return N},ce.set=function(C,N){return Ir(this),this.c=null,Da(this,C=Vo(this,C))&&(this.b-=this.a.get(C).length),this.a.set(C,[N]),this.b+=1,this},ce.get=function(C,N){return C&&0<(C=this.K(C)).length?String(C[0]):N},ce.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var C=[],N=this.a.L(),j=0;j<N.length;j++){var ee=N[j],ve=encodeURIComponent(String(ee));ee=this.K(ee);for(var Ke=0;Ke<ee.length;Ke++){var Rt=ve;""!==ee[Ke]&&(Rt+="="+encodeURIComponent(String(ee[Ke]))),C.push(Rt)}}return this.c=C.join("&")};var gu=10;function Oa(C){return!!C.b||!!C.a&&C.a.size>=C.f}function Ar(C){return C.b?1:C.a?C.a.size:0}function rr(C,N){return C.b?C.b==N:!!C.a&&C.a.has(N)}function Wr(C,N){C.a?C.a.add(N):C.b=N}function ua(C,N){C.b&&C.b==N?C.b=null:C.a&&C.a.has(N)&&C.a.delete(N)}function Hi(C){var N,j;if(null!=C.b)return C.c.concat(C.b.s);if(null!=C.a&&0!==C.a.size){var ee=C.c;try{for(var ve=Y(C.a.values()),Ke=ve.next();!Ke.done;Ke=ve.next())ee=ee.concat(Ke.value.s)}catch(Gn){N={error:Gn}}finally{try{Ke&&!Ke.done&&(j=ve.return)&&j.call(ve)}finally{if(N)throw N.error}}return ee}return Ge(C.c)}function al(){}function Zr(){this.a=new al}function Mr(C,N,j){var ee=j||"";try{wr(C,function(ve,Ke){var Rt=ve;G(ve)&&(Rt=te(ve)),N.push(ee+Ke+"="+encodeURIComponent(Rt))})}catch(ve){throw N.push(ee+"type="+encodeURIComponent("_badmap")),ve}}function Pr(C,N,j,ee,ve){try{N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null,ve(ee)}catch{}}Oc.prototype.cancel=function(){var C,N;if(this.c=Hi(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var j=Y(this.a.values()),ee=j.next();!ee.done;ee=j.next())ee.value.cancel()}catch(Ke){C={error:Ke}}finally{try{ee&&!ee.done&&(N=j.return)&&N.call(j)}finally{if(C)throw C.error}}this.a.clear()}},al.prototype.stringify=function(C){return Ae.JSON.stringify(C,void 0)},al.prototype.parse=function(C){return Ae.JSON.parse(C,void 0)};var Yr=Ae.JSON.parse;function di(C){le.call(this),this.headers=new Tc,this.H=C||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=da,this.D=this.F=!1}Ze(di,le);var da="",oi=/^https?$/i,kr=["POST","PUT"];function ws(C){return"content-type"==C.toLowerCase()}function Ac(C,N){C.b=!1,C.a&&(C.g=!0,C.a.abort(),C.g=!1),C.f=N,C.h=5,Aa(C),oc(C)}function Aa(C){C.u||(C.u=!0,C.dispatchEvent("complete"),C.dispatchEvent("error"))}function Pc(C){if(C.b&&typeof ke<"u"&&(!C.s[1]||4!=mi(C)||2!=C.X()))if(C.l&&4==mi(C))ze(C.za,0,C);else if(C.dispatchEvent("readystatechange"),4==mi(C)){C.b=!1;try{var ee,N=C.X();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}if(!(ee=j)){var ve;if(ve=0===N){var Ke=String(C.B).match(Vs)[1]||null;if(!Ke&&Ae.self&&Ae.self.location){var Rt=Ae.self.location.protocol;Ke=Rt.substr(0,Rt.length-1)}ve=!oi.test(Ke?Ke.toLowerCase():"")}ee=ve}if(ee)C.dispatchEvent("complete"),C.dispatchEvent("success");else{C.h=6;try{var Gn=2<mi(C)?C.a.statusText:""}catch{Gn=""}C.f=Gn+" ["+C.X()+"]",Aa(C)}}finally{oc(C)}}}function oc(C,N){if(C.a){Vl(C);var j=C.a,ee=C.s[0]?ut:null;C.a=null,C.s=null,N||C.dispatchEvent("ready");try{j.onreadystatechange=ee}catch{}}}function Vl(C){C.a&&C.D&&(C.a.ontimeout=null),C.m&&(Ae.clearTimeout(C.m),C.m=null)}function mi(C){return C.a?C.a.readyState:0}function kc(C,N,j){e:{for(ee in j){var ee=!1;break e}ee=!0}ee||(j=function _u(C){var N="";return fi(C,function(j,ee){N+=ee,N+=":",N+=j,N+="\r\n"}),N}(j),"string"==typeof C?null!=j&&encodeURIComponent(String(j)):kn(C,N,j))}function Bo(C,N,j){return j&&j.internalChannelParams&&j.internalChannelParams[C]||N}function Kd(C){this.pa=0,this.g=[],this.c=new Zi,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Bo("failFast",!1,C),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Bo("baseRetryDelayMs",5e3,C),this.Ma=Bo("retryDelaySeedMs",1e4,C),this.Ja=Bo("forwardChannelMaxRetries",2,C),this.ma=Bo("forwardChannelRequestTimeoutMs",2e4,C),this.Ka=C&&C.g||void 0,this.D=void 0,this.C=C&&C.supportsCrossDomainXhr||!1,this.J="",this.b=new Oc(C&&C.concurrentRequestLimit),this.ka=new Zr,this.da=C&&C.fastHandshake||!1,this.Ga=C&&C.b||!1,C&&C.f&&(this.c.a=!1),C&&C.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&C&&C.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function sc(C){if(ac(C),3==C.v){var N=C.R++,j=Et(C.B);kn(j,"SID",C.J),kn(j,"RID",N),kn(j,"TYPE","terminate"),Rr(C,j),(N=new sl(C,C.c,N,void 0)).H=2,N.i=Qo(Et(j)),j=!1,Ae.navigator&&Ae.navigator.sendBeacon&&(j=Ae.navigator.sendBeacon(N.i.toString(),"")),!j&&Ae.Image&&((new Image).src=N.i,j=!0),j||(N.a=zs(N.g,null),N.a.ba(N.i)),N.u=at(),aa(N)}cc(C)}function bo(C){C.a&&(jo(C),C.a.cancel(),C.a=null)}function ac(C){bo(C),C.j&&(Ae.clearTimeout(C.j),C.j=null),Pa(C),C.b.cancel(),C.h&&("number"==typeof C.h&&Ae.clearTimeout(C.h),C.h=null)}function ha(C,N){C.g.push(new ei(C.La++,N)),3==C.v&&Cs(C)}function Cs(C){Oa(C.b)||C.h||(C.h=!0,Vt(C.Ba,C),C.u=0)}function vu(C,N){var j;j=N?N.f:C.R++;var ee=Et(C.B);kn(ee,"SID",C.J),kn(ee,"RID",j),kn(ee,"AID",C.P),Rr(C,ee),C.i&&C.l&&kc(ee,C.i,C.l),j=new sl(C,C.c,j,C.u+1),null===C.i&&(j.B=C.l),N&&(C.g=N.s.concat(C.g)),N=js(C,j,1e3),j.setTimeout(Math.round(.5*C.ma)+Math.round(.5*C.ma*Math.random())),Wr(C.b,j),ic(j,ee,N)}function Rr(C,N){C.f&&wr({},function(j,ee){kn(N,ee,j)})}function js(C,N,j){j=Math.min(C.g.length,j);var ee=C.f?mt(C.f.Ha,C.f,C):null;e:for(var ve=C.g,Ke=-1;;){var Rt=["count="+j];-1==Ke?0<j?Rt.push("ofs="+(Ke=ve[0].b)):Ke=0:Rt.push("ofs="+Ke);for(var Gn=!0,ti=0;ti<j;ti++){var dr=ve[ti].b,xo=ve[ti].a;if(0>(dr-=Ke))Ke=Math.max(0,ve[ti].b-100),Gn=!1;else try{Mr(xo,Rt,"req"+dr+"_")}catch{ee&&ee(xo)}}if(Gn){ee=Rt.join("&");break e}}return C=C.g.splice(0,j),N.s=C,ee}function fa(C){C.a||C.j||(C.U=1,Vt(C.Aa,C),C.o=0)}function Rc(C){return!(C.a||C.j||3<=C.o||(C.U++,C.j=xc(mt(C.Aa,C),Nc(C,C.o)),C.o++,0))}function jo(C){null!=C.s&&(Ae.clearTimeout(C.s),C.s=null)}function ur(C){C.a=new sl(C,C.c,"rpc",C.U),null===C.i&&(C.a.B=C.l),C.a.O=0;var N=Et(C.la);kn(N,"RID","rpc"),kn(N,"SID",C.J),kn(N,"CI",C.H?"0":"1"),kn(N,"AID",C.P),Rr(C,N),kn(N,"TYPE","xmlhttp"),C.i&&C.l&&kc(N,C.i,C.l),C.D&&C.a.setTimeout(C.D);var j=C.a;C=C.ga,j.H=1,j.i=Qo(Et(N)),j.j=null,j.I=!0,sa(j,C)}function Pa(C){null!=C.m&&(Ae.clearTimeout(C.m),C.m=null)}function Kr(C,N){var j=null;if(C.a==N){Pa(C),jo(C),C.a=null;var ee=2}else{if(!rr(C.b,N))return;j=N.s,ua(C.b,N),ee=1}if(C.I=N.N,0!=C.v)if(N.b)if(1==ee){j=N.j?N.j.length:0,N=at()-N.u;var ve=C.u;(ee=vs()).dispatchEvent(new xi(ee,j,N,ve)),Cs(C)}else fa(C);else if(3==(ve=N.h)||0==ve&&0<C.I||!(1==ee&&function Bl(C,N){return!(Ar(C.b)>=C.b.f-(C.h?1:0)||(C.h?(C.g=N.s.concat(C.g),0):1==C.v||2==C.v||C.u>=(C.Ia?0:C.Ja)||(C.h=xc(mt(C.Ba,C,N),Nc(C,C.u)),C.u++,0)))}(C,N)||2==ee&&Rc(C)))switch(j&&0<j.length&&(N=C.b,N.c=N.c.concat(j)),ve){case 1:wo(C,5);break;case 4:wo(C,10);break;case 3:wo(C,6);break;default:wo(C,2)}}function Nc(C,N){var j=C.Fa+Math.floor(Math.random()*C.Ma);return C.f||(j*=2),j*N}function wo(C,N){if(C.c.info("Error code "+N),2==N){var j=null;C.f&&(j=null);var ee=mt(C.Xa,C);j||(j=new Pi("//www.google.com/images/cleardot.gif"),Ae.location&&"http"==Ae.location.protocol||En(j,"https"),Qo(j)),function cl(C,N){var j=new Zi;if(Ae.Image){var ee=new Image;ee.onload=Re(Pr,j,ee,"TestLoadImage: loaded",!0,N),ee.onerror=Re(Pr,j,ee,"TestLoadImage: error",!1,N),ee.onabort=Re(Pr,j,ee,"TestLoadImage: abort",!1,N),ee.ontimeout=Re(Pr,j,ee,"TestLoadImage: timeout",!1,N),Ae.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=C}else N(!1)}(j.toString(),ee)}else vo(2);C.v=0,C.f&&C.f.ra(N),cc(C),ac(C)}function cc(C){C.v=0,C.I=-1,C.f&&((0!=Hi(C.b).length||0!=C.g.length)&&(C.b.c.length=0,Ge(C.g),C.g.length=0),C.f.qa())}function jl(C,N,j){var ee=function ki(C){return C instanceof Pi?Et(C):new Pi(C,void 0)}(j);if(""!=ee.c)N&&Ii(ee,N+"."+ee.c),so(ee,ee.h);else{var ve=Ae.location;ee=function ca(C,N,j,ee){var ve=new Pi(null,void 0);return C&&En(ve,C),N&&Ii(ve,N),j&&so(ve,j),ee&&(ve.g=ee),ve}(ve.protocol,N?N+"."+ve.hostname:ve.hostname,+ve.port,j)}return C.W&&fi(C.W,function(Ke,Rt){kn(ee,Rt,Ke)}),j=C.na,(N=C.A)&&j&&kn(ee,N,j),kn(ee,"VER",C.ha),Rr(C,ee),ee}function zs(C,N){if(N&&!C.C)throw Error("Can't create secondary domain capable XhrIo object.");return(N=new di(C.Ka)).F=C.C,N}function pa(){}function ll(){if(Dt&&!(10<=Number(ni)))throw Error("Environmental error: no available transport.")}function yi(C,N){le.call(this),this.a=new Kd(N),this.l=C,this.b=N&&N.messageUrlParams||null,C=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(C?C["X-Client-Protocol"]="webchannel":C={"X-Client-Protocol":"webchannel"}),this.a.l=C,C=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(C?C["X-WebChannel-Content-Type"]=N.messageContentType:C={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.a&&(C?C["X-WebChannel-Client-Profile"]=N.a:C={"X-WebChannel-Client-Profile":N.a}),this.a.O=C,(C=N&&N.httpHeadersOverwriteParam)&&!Le(C)&&(this.a.i=C),this.h=N&&N.supportsCrossDomainXhr||!1,this.g=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!Le(N)&&(this.a.A=N,null!==(C=this.b)&&N in C&&N in(C=this.b)&&delete C[N]),this.f=new It(this)}function zo(C){Ec.call(this);var N=C.__sm__;if(N){e:{for(var j in N){C=j;break e}C=void 0}(this.c=C)?(C=this.c,this.data=null!==N&&C in N?N[C]:void 0):this.data=N}else this.data=C}function ka(){Ic.call(this),this.status=1}function It(C){this.a=C}(ce=di.prototype).ba=function(C,N,j,ee){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+C);N=N?N.toUpperCase():"GET",this.B=C,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function nc(C){var N;return(N=C.a)||(N=C.a={}),N}(this.H?this.H:Us),this.a.onreadystatechange=mt(this.za,this);try{this.A=!0,this.a.open(N,String(C),!0),this.A=!1}catch(Ke){return void Ac(this,Ke)}C=j||"";var ve=new Tc(this.headers);ee&&wr(ee,function(Ke,Rt){ve.set(Rt,Ke)}),ee=function he(C){e:{for(var N=ws,j=C.length,ee="string"==typeof C?C.split(""):C,ve=0;ve<j;ve++)if(ve in ee&&N.call(void 0,ee[ve],ve,C)){N=ve;break e}N=-1}return 0>N?null:"string"==typeof C?C.charAt(N):C[N]}(ve.L()),j=Ae.FormData&&C instanceof Ae.FormData,!(0<=$e(kr,N))||ee||j||ve.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),ve.forEach(function(Ke,Rt){this.a.setRequestHeader(Rt,Ke)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Vl(this),0<this.o&&((this.D=function Ul(C){return Dt&&Vn(9)&&"number"==typeof C.timeout&&void 0!==C.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=mt(this.xa,this)):this.m=ze(this.xa,this.o,this)),this.l=!0,this.a.send(C),this.l=!1}catch(Ke){Ac(this,Ke)}},ce.xa=function(){typeof ke<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},ce.abort=function(C){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=C||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),oc(this))},ce.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),oc(this,!0)),di.S.G.call(this)},ce.za=function(){this.j||(this.A||this.l||this.g?Pc(this):this.Ta())},ce.Ta=function(){Pc(this)},ce.X=function(){try{return 2<mi(this)?this.a.status:-1}catch{return-1}},ce.$=function(){try{return this.a?this.a.responseText:""}catch{return""}},ce.Na=function(C){if(this.a){var N=this.a.responseText;return C&&0==N.indexOf(C)&&(N=N.substring(C.length)),Yr(N)}},ce.ua=function(){return this.h},ce.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ce=Kd.prototype).ha=8,ce.v=1,ce.Ba=function(C){if(this.h)if(this.h=null,1==this.v){if(!C){this.R=Math.floor(1e5*Math.random()),C=this.R++;var ee,N=new sl(this,this.c,C,void 0),j=this.l;if(this.O&&(j?He(j=Te(j),this.O):j=this.O),null===this.i&&(N.B=j),this.da)e:{for(var ve=ee=0;ve<this.g.length;ve++){var Ke=this.g[ve];if(void 0===(Ke="__data__"in Ke.a&&"string"==typeof(Ke=Ke.a.__data__)?Ke.length:void 0))break;if(4096<(ee+=Ke)){ee=ve;break e}if(4096===ee||ve===this.g.length-1){ee=ve+1;break e}}ee=1e3}else ee=1e3;ee=js(this,N,ee),kn(ve=Et(this.B),"RID",C),kn(ve,"CVER",22),this.A&&kn(ve,"X-HTTP-Session-Id",this.A),Rr(this,ve),this.i&&j&&kc(ve,this.i,j),Wr(this.b,N),this.Ga&&kn(ve,"TYPE","init"),this.da?(kn(ve,"$req",ee),kn(ve,"SID","null"),N.V=!0,ic(N,ve,null)):ic(N,ve,ee),this.v=2}}else 3==this.v&&(C?vu(this,C):0==this.g.length||Oa(this.b)||vu(this))},ce.Aa=function(){if(this.j=null,ur(this),this.V&&!(this.F||null==this.a||0>=this.N)){var C=2*this.N;this.c.info("BP detection timer enabled: "+C),this.s=xc(mt(this.Sa,this),C)}},ce.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,bo(this),ur(this))},ce.Ra=function(){null!=this.m&&(this.m=null,bo(this),Rc(this),vo(19))},ce.Xa=function(C){C?(this.c.info("Successfully pinged google.com"),vo(2)):(this.c.info("Failed to ping google.com"),vo(1))},(ce=pa.prototype).ta=function(){},ce.sa=function(){},ce.ra=function(){},ce.qa=function(){},ce.Ha=function(){},ll.prototype.a=function(C,N){return new yi(C,N)},Ze(yi,le),(ce=yi.prototype).addEventListener=function(C,N,j,ee){yi.S.addEventListener.call(this,C,N,j,ee)},ce.removeEventListener=function(C,N,j,ee){yi.S.removeEventListener.call(this,C,N,j,ee)},ce.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var C=this.a,N=this.l,j=this.b||void 0;vo(0),C.fa=N,C.W=j||{},C.H=C.T,C.B=jl(C,null,C.fa),Cs(C)},ce.close=function(){sc(this.a)},ce.Pa=function(C){if("string"==typeof C){var N={};N.__data__=C,ha(this.a,N)}else this.g?((N={}).__data__=te(C),ha(this.a,N)):ha(this.a,C)},ce.G=function(){this.a.f=null,delete this.f,sc(this.a),delete this.a,yi.S.G.call(this)},Ze(zo,Ec),Ze(ka,Ic),Ze(It,pa),It.prototype.ta=function(){this.a.dispatchEvent("a")},It.prototype.sa=function(C){this.a.dispatchEvent(new zo(C))},It.prototype.ra=function(C){this.a.dispatchEvent(new ka(C))},It.prototype.qa=function(){this.a.dispatchEvent("b")},ll.prototype.createWebChannel=ll.prototype.a,yi.prototype.send=yi.prototype.Pa,yi.prototype.open=yi.prototype.Oa,yi.prototype.close=yi.prototype.close,tc.NO_ERROR=0,tc.TIMEOUT=8,tc.HTTP_ERROR=6,$r.COMPLETE="complete",Ju.EventType=ra,ra.OPEN="a",ra.CLOSE="b",ra.ERROR="c",ra.MESSAGE="d",le.prototype.listen=le.prototype.va,di.prototype.listenOnce=di.prototype.wa,di.prototype.getLastError=di.prototype.Qa,di.prototype.getLastErrorCode=di.prototype.ua,di.prototype.getStatus=di.prototype.X,di.prototype.getResponseJson=di.prototype.Na,di.prototype.getResponseText=di.prototype.$,di.prototype.send=di.prototype.ba;var Xo=function(){return new ll},Fc=tc,Co=$r,Hs=Ju,Lc=di;const Ra={createWebChannelTransport:Xo,ErrorCode:tc,EventType:$r,WebChannel:Ju,XhrIo:di}},5619:(en,De,Q)=>{Q.d(De,{X:()=>U});var a=Q(8645);class U extends a.x{constructor(pe){super(),this._value=pe}get value(){return this.getValue()}_subscribe(pe){const ce=super._subscribe(pe);return!ce.closed&&pe.next(this._value),ce}getValue(){const{hasError:pe,thrownError:ce,_value:ke}=this;if(pe)throw ce;return this._throwIfClosed(),ke}next(pe){super.next(this._value=pe)}}},5592:(en,De,Q)=>{Q.d(De,{y:()=>ut});var a=Q(305),U=Q(7394),Y=Q(4850),pe=Q(8407),ce=Q(2653),ke=Q(4674),Ae=Q(1441);let ut=(()=>{class de{constructor(me){me&&(this._subscribe=me)}lift(me){const lt=new de;return lt.source=this,lt.operator=me,lt}subscribe(me,lt,st){const mt=function G(de){return de&&de instanceof a.Lv||function z(de){return de&&(0,ke.m)(de.next)&&(0,ke.m)(de.error)&&(0,ke.m)(de.complete)}(de)&&(0,U.Nn)(de)}(me)?me:new a.Hp(me,lt,st);return(0,Ae.x)(()=>{const{operator:Re,source:at}=this;mt.add(Re?Re.call(mt,at):at?this._subscribe(mt):this._trySubscribe(mt))}),mt}_trySubscribe(me){try{return this._subscribe(me)}catch(lt){me.error(lt)}}forEach(me,lt){return new(lt=Ve(lt))((st,mt)=>{const Re=new a.Hp({next:at=>{try{me(at)}catch(Ze){mt(Ze),Re.unsubscribe()}},error:mt,complete:st});this.subscribe(Re)})}_subscribe(me){var lt;return null===(lt=this.source)||void 0===lt?void 0:lt.subscribe(me)}[Y.L](){return this}pipe(...me){return(0,pe.U)(me)(this)}toPromise(me){return new(me=Ve(me))((lt,st)=>{let mt;this.subscribe(Re=>mt=Re,Re=>st(Re),()=>lt(mt))})}}return de.create=Ne=>new de(Ne),de})();function Ve(de){var Ne;return null!==(Ne=de??ce.config.Promise)&&void 0!==Ne?Ne:Promise}},8645:(en,De,Q)=>{Q.d(De,{x:()=>Ae});var a=Q(5592),U=Q(7394);const pe=(0,Q(2306).d)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=Q(9039),ke=Q(1441);let Ae=(()=>{class Ve extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const de=new ut(this,this);return de.operator=G,de}_throwIfClosed(){if(this.closed)throw new pe}next(G){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const de of this.currentObservers)de.next(G)}})}error(G){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:de}=this;for(;de.length;)de.shift().error(G)}})}complete(){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:de,isStopped:Ne,observers:me}=this;return de||Ne?U.Lc:(this.currentObservers=null,me.push(G),new U.w0(()=>{this.currentObservers=null,(0,ce.P)(me,G)}))}_checkFinalizedStatuses(G){const{hasError:de,thrownError:Ne,isStopped:me}=this;de?G.error(Ne):me&&G.complete()}asObservable(){const G=new a.y;return G.source=this,G}}return Ve.create=(z,G)=>new ut(z,G),Ve})();class ut extends Ae{constructor(z,G){super(),this.destination=z,this.source=G}next(z){var G,de;null===(de=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===de||de.call(G,z)}error(z){var G,de;null===(de=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===de||de.call(G,z)}complete(){var z,G;null===(G=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===G||G.call(z)}_subscribe(z){var G,de;return null!==(de=null===(G=this.source)||void 0===G?void 0:G.subscribe(z))&&void 0!==de?de:U.Lc}}},305:(en,De,Q)=>{Q.d(De,{Hp:()=>st,Lv:()=>de});var a=Q(4674),U=Q(7394),Y=Q(2653),pe=Q(3894),ce=Q(2420);const ke=Ve("C",void 0,void 0);function Ve(xe,nt,$e){return{kind:xe,value:nt,error:$e}}var z=Q(7599),G=Q(1441);class de extends U.w0{constructor(nt){super(),this.isStopped=!1,nt?(this.destination=nt,(0,U.Nn)(nt)&&nt.add(this)):this.destination=Ze}static create(nt,$e,it){return new st(nt,$e,it)}next(nt){this.isStopped?at(function ut(xe){return Ve("N",xe,void 0)}(nt),this):this._next(nt)}error(nt){this.isStopped?at(function Ae(xe){return Ve("E",void 0,xe)}(nt),this):(this.isStopped=!0,this._error(nt))}complete(){this.isStopped?at(ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(nt){this.destination.next(nt)}_error(nt){try{this.destination.error(nt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function me(xe,nt){return Ne.call(xe,nt)}class lt{constructor(nt){this.partialObserver=nt}next(nt){const{partialObserver:$e}=this;if($e.next)try{$e.next(nt)}catch(it){mt(it)}}error(nt){const{partialObserver:$e}=this;if($e.error)try{$e.error(nt)}catch(it){mt(it)}else mt(nt)}complete(){const{partialObserver:nt}=this;if(nt.complete)try{nt.complete()}catch($e){mt($e)}}}class st extends de{constructor(nt,$e,it){let he;if(super(),(0,a.m)(nt)||!nt)he={next:nt??void 0,error:$e??void 0,complete:it??void 0};else{let ue;this&&Y.config.useDeprecatedNextContext?(ue=Object.create(nt),ue.unsubscribe=()=>this.unsubscribe(),he={next:nt.next&&me(nt.next,ue),error:nt.error&&me(nt.error,ue),complete:nt.complete&&me(nt.complete,ue)}):he=nt}this.destination=new lt(he)}}function mt(xe){Y.config.useDeprecatedSynchronousErrorHandling?(0,G.O)(xe):(0,pe.h)(xe)}function at(xe,nt){const{onStoppedNotification:$e}=Y.config;$e&&z.z.setTimeout(()=>$e(xe,nt))}const Ze={closed:!0,next:ce.Z,error:function Re(xe){throw xe},complete:ce.Z}},7394:(en,De,Q)=>{Q.d(De,{Lc:()=>ke,w0:()=>ce,Nn:()=>Ae});var a=Q(4674);const Y=(0,Q(2306).d)(Ve=>function(G){Ve(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((de,Ne)=>`${Ne+1}) ${de.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var pe=Q(9039);class ce{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const me of G)me.remove(this);else G.remove(this);const{initialTeardown:de}=this;if((0,a.m)(de))try{de()}catch(me){z=me instanceof Y?me.errors:[me]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const me of Ne)try{ut(me)}catch(lt){z=z??[],lt instanceof Y?z=[...z,...lt.errors]:z.push(lt)}}if(z)throw new Y(z)}}add(z){var G;if(z&&z!==this)if(this.closed)ut(z);else{if(z instanceof ce){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(z)}}_hasParent(z){const{_parentage:G}=this;return G===z||Array.isArray(G)&&G.includes(z)}_addParent(z){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(z),G):G?[G,z]:z}_removeParent(z){const{_parentage:G}=this;G===z?this._parentage=null:Array.isArray(G)&&(0,pe.P)(G,z)}remove(z){const{_finalizers:G}=this;G&&(0,pe.P)(G,z),z instanceof ce&&z._removeParent(this)}}ce.EMPTY=(()=>{const Ve=new ce;return Ve.closed=!0,Ve})();const ke=ce.EMPTY;function Ae(Ve){return Ve instanceof ce||Ve&&"closed"in Ve&&(0,a.m)(Ve.remove)&&(0,a.m)(Ve.add)&&(0,a.m)(Ve.unsubscribe)}function ut(Ve){(0,a.m)(Ve)?Ve():Ve.unsubscribe()}},2653:(en,De,Q)=>{Q.d(De,{config:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(en,De,Q)=>{Q.d(De,{E:()=>U});const U=new(Q(5592).y)(ce=>ce.complete())},2459:(en,De,Q)=>{Q.d(De,{D:()=>nt});var a=Q(4829),U=Q(3093),Y=Q(5137),ke=Q(5592),ut=Q(4971),Ve=Q(4674),z=Q(7103);function de($e,it){if(!$e)throw new Error("Iterable cannot be null");return new ke.y(he=>{(0,z.f)(he,it,()=>{const ue=$e[Symbol.asyncIterator]();(0,z.f)(he,it,()=>{ue.next().then(Ge=>{Ge.done?he.complete():he.next(Ge.value)})},0,!0)})})}var Ne=Q(8382),me=Q(4026),lt=Q(4266),st=Q(3664),mt=Q(5726),Re=Q(9853),at=Q(541);function nt($e,it){return it?function xe($e,it){if(null!=$e){if((0,Ne.c)($e))return function pe($e,it){return(0,a.Xf)($e).pipe((0,Y.R)(it),(0,U.Q)(it))}($e,it);if((0,lt.z)($e))return function Ae($e,it){return new ke.y(he=>{let ue=0;return it.schedule(function(){ue===$e.length?he.complete():(he.next($e[ue++]),he.closed||this.schedule())})})}($e,it);if((0,me.t)($e))return function ce($e,it){return(0,a.Xf)($e).pipe((0,Y.R)(it),(0,U.Q)(it))}($e,it);if((0,mt.D)($e))return de($e,it);if((0,st.T)($e))return function G($e,it){return new ke.y(he=>{let ue;return(0,z.f)(he,it,()=>{ue=$e[ut.h](),(0,z.f)(he,it,()=>{let Ge,Le;try{({value:Ge,done:Le}=ue.next())}catch(Ct){return void he.error(Ct)}Le?he.complete():he.next(Ge)},0,!0)}),()=>(0,Ve.m)(ue?.return)&&ue.return()})}($e,it);if((0,at.L)($e))return function Ze($e,it){return de((0,at.Q)($e),it)}($e,it)}throw(0,Re.z)($e)}($e,it):(0,a.Xf)($e)}},4829:(en,De,Q)=>{Q.d(De,{Xf:()=>Ne});var a=Q(7582),U=Q(4266),Y=Q(4026),pe=Q(5592),ce=Q(8382),ke=Q(5726),Ae=Q(9853),ut=Q(3664),Ve=Q(541),z=Q(4674),G=Q(3894),de=Q(4850);function Ne(xe){if(xe instanceof pe.y)return xe;if(null!=xe){if((0,ce.c)(xe))return function me(xe){return new pe.y(nt=>{const $e=xe[de.L]();if((0,z.m)($e.subscribe))return $e.subscribe(nt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,U.z)(xe))return function lt(xe){return new pe.y(nt=>{for(let $e=0;$e<xe.length&&!nt.closed;$e++)nt.next(xe[$e]);nt.complete()})}(xe);if((0,Y.t)(xe))return function st(xe){return new pe.y(nt=>{xe.then($e=>{nt.closed||(nt.next($e),nt.complete())},$e=>nt.error($e)).then(null,G.h)})}(xe);if((0,ke.D)(xe))return Re(xe);if((0,ut.T)(xe))return function mt(xe){return new pe.y(nt=>{for(const $e of xe)if(nt.next($e),nt.closed)return;nt.complete()})}(xe);if((0,Ve.L)(xe))return function at(xe){return Re((0,Ve.Q)(xe))}(xe)}throw(0,Ae.z)(xe)}function Re(xe){return new pe.y(nt=>{(function Ze(xe,nt){var $e,it,he,ue;return(0,a.mG)(this,void 0,void 0,function*(){try{for($e=(0,a.KL)(xe);!(it=yield $e.next()).done;)if(nt.next(it.value),nt.closed)return}catch(Ge){he={error:Ge}}finally{try{it&&!it.done&&(ue=$e.return)&&(yield ue.call($e))}finally{if(he)throw he.error}}nt.complete()})})(xe,nt).catch($e=>nt.error($e))})}},3019:(en,De,Q)=>{Q.d(De,{T:()=>ke});var a=Q(7537),U=Q(4829),Y=Q(6232),pe=Q(9940),ce=Q(2459);function ke(...Ae){const ut=(0,pe.yG)(Ae),Ve=(0,pe._6)(Ae,1/0),z=Ae;return z.length?1===z.length?(0,U.Xf)(z[0]):(0,a.J)(Ve)((0,ce.D)(z,ut)):Y.E}},2096:(en,De,Q)=>{Q.d(De,{of:()=>Y});var a=Q(9940),U=Q(2459);function Y(...pe){const ce=(0,a.yG)(pe);return(0,U.D)(pe,ce)}},8251:(en,De,Q)=>{Q.d(De,{x:()=>U});var a=Q(305);function U(pe,ce,ke,Ae,ut){return new Y(pe,ce,ke,Ae,ut)}class Y extends a.Lv{constructor(ce,ke,Ae,ut,Ve,z){super(ce),this.onFinalize=Ve,this.shouldUnsubscribe=z,this._next=ke?function(G){try{ke(G)}catch(de){ce.error(de)}}:super._next,this._error=ut?function(G){try{ut(G)}catch(de){ce.error(de)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(G){ce.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ke}=this;super.unsubscribe(),!ke&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},3997:(en,De,Q)=>{Q.d(De,{x:()=>pe});var a=Q(2737),U=Q(9360),Y=Q(8251);function pe(ke,Ae=a.y){return ke=ke??ce,(0,U.e)((ut,Ve)=>{let z,G=!0;ut.subscribe((0,Y.x)(Ve,de=>{const Ne=Ae(de);(G||!ke(z,Ne))&&(G=!1,z=Ne,Ve.next(de))}))})}function ce(ke,Ae){return ke===Ae}},7398:(en,De,Q)=>{Q.d(De,{U:()=>Y});var a=Q(9360),U=Q(8251);function Y(pe,ce){return(0,a.e)((ke,Ae)=>{let ut=0;ke.subscribe((0,U.x)(Ae,Ve=>{Ae.next(pe.call(ce,Ve,ut++))}))})}},7537:(en,De,Q)=>{Q.d(De,{J:()=>Y});var a=Q(1631),U=Q(2737);function Y(pe=1/0){return(0,a.z)(U.y,pe)}},1631:(en,De,Q)=>{Q.d(De,{z:()=>ut});var a=Q(7398),U=Q(4829),Y=Q(9360),pe=Q(7103),ce=Q(8251),Ae=Q(4674);function ut(Ve,z,G=1/0){return(0,Ae.m)(z)?ut((de,Ne)=>(0,a.U)((me,lt)=>z(de,me,Ne,lt))((0,U.Xf)(Ve(de,Ne))),G):("number"==typeof z&&(G=z),(0,Y.e)((de,Ne)=>function ke(Ve,z,G,de,Ne,me,lt,st){const mt=[];let Re=0,at=0,Ze=!1;const xe=()=>{Ze&&!mt.length&&!Re&&z.complete()},nt=it=>Re<de?$e(it):mt.push(it),$e=it=>{me&&z.next(it),Re++;let he=!1;(0,U.Xf)(G(it,at++)).subscribe((0,ce.x)(z,ue=>{Ne?.(ue),me?nt(ue):z.next(ue)},()=>{he=!0},void 0,()=>{if(he)try{for(Re--;mt.length&&Re<de;){const ue=mt.shift();lt?(0,pe.f)(z,lt,()=>$e(ue)):$e(ue)}xe()}catch(ue){z.error(ue)}}))};return Ve.subscribe((0,ce.x)(z,nt,()=>{Ze=!0,xe()})),()=>{st?.()}}(de,Ne,Ve,G)))}},3093:(en,De,Q)=>{Q.d(De,{Q:()=>pe});var a=Q(7103),U=Q(9360),Y=Q(8251);function pe(ce,ke=0){return(0,U.e)((Ae,ut)=>{Ae.subscribe((0,Y.x)(ut,Ve=>(0,a.f)(ut,ce,()=>ut.next(Ve),ke),()=>(0,a.f)(ut,ce,()=>ut.complete(),ke),Ve=>(0,a.f)(ut,ce,()=>ut.error(Ve),ke)))})}},3020:(en,De,Q)=>{Q.d(De,{B:()=>ce});var a=Q(4829),U=Q(8645),Y=Q(305),pe=Q(9360);function ce(Ae={}){const{connector:ut=(()=>new U.x),resetOnError:Ve=!0,resetOnComplete:z=!0,resetOnRefCountZero:G=!0}=Ae;return de=>{let Ne,me,lt,st=0,mt=!1,Re=!1;const at=()=>{me?.unsubscribe(),me=void 0},Ze=()=>{at(),Ne=lt=void 0,mt=Re=!1},xe=()=>{const nt=Ne;Ze(),nt?.unsubscribe()};return(0,pe.e)((nt,$e)=>{st++,!Re&&!mt&&at();const it=lt=lt??ut();$e.add(()=>{st--,0===st&&!Re&&!mt&&(me=ke(xe,G))}),it.subscribe($e),!Ne&&st>0&&(Ne=new Y.Hp({next:he=>it.next(he),error:he=>{Re=!0,at(),me=ke(Ze,Ve,he),it.error(he)},complete:()=>{mt=!0,at(),me=ke(Ze,z),it.complete()}}),(0,a.Xf)(nt).subscribe(Ne))})(de)}}function ke(Ae,ut,...Ve){if(!0===ut)return void Ae();if(!1===ut)return;const z=new Y.Hp({next:()=>{z.unsubscribe(),Ae()}});return(0,a.Xf)(ut(...Ve)).subscribe(z)}},5137:(en,De,Q)=>{Q.d(De,{R:()=>U});var a=Q(9360);function U(Y,pe=0){return(0,a.e)((ce,ke)=>{ke.add(Y.schedule(()=>ce.subscribe(ke),pe))})}},4664:(en,De,Q)=>{Q.d(De,{w:()=>pe});var a=Q(4829),U=Q(9360),Y=Q(8251);function pe(ce,ke){return(0,U.e)((Ae,ut)=>{let Ve=null,z=0,G=!1;const de=()=>G&&!Ve&&ut.complete();Ae.subscribe((0,Y.x)(ut,Ne=>{Ve?.unsubscribe();let me=0;const lt=z++;(0,a.Xf)(ce(Ne,lt)).subscribe(Ve=(0,Y.x)(ut,st=>ut.next(ke?ke(Ne,st,lt,me++):st),()=>{Ve=null,de()}))},()=>{G=!0,de()}))})}},9397:(en,De,Q)=>{Q.d(De,{b:()=>ce});var a=Q(4674),U=Q(9360),Y=Q(8251),pe=Q(2737);function ce(ke,Ae,ut){const Ve=(0,a.m)(ke)||Ae||ut?{next:ke,error:Ae,complete:ut}:ke;return Ve?(0,U.e)((z,G)=>{var de;null===(de=Ve.subscribe)||void 0===de||de.call(Ve);let Ne=!0;z.subscribe((0,Y.x)(G,me=>{var lt;null===(lt=Ve.next)||void 0===lt||lt.call(Ve,me),G.next(me)},()=>{var me;Ne=!1,null===(me=Ve.complete)||void 0===me||me.call(Ve),G.complete()},me=>{var lt;Ne=!1,null===(lt=Ve.error)||void 0===lt||lt.call(Ve,me),G.error(me)},()=>{var me,lt;Ne&&(null===(me=Ve.unsubscribe)||void 0===me||me.call(Ve)),null===(lt=Ve.finalize)||void 0===lt||lt.call(Ve)}))}):pe.y}},1954:(en,De,Q)=>{Q.d(De,{o:()=>ce});var a=Q(7394);class U extends a.w0{constructor(Ae,ut){super()}schedule(Ae,ut=0){return this}}const Y={setInterval(ke,Ae,...ut){const{delegate:Ve}=Y;return Ve?.setInterval?Ve.setInterval(ke,Ae,...ut):setInterval(ke,Ae,...ut)},clearInterval(ke){const{delegate:Ae}=Y;return(Ae?.clearInterval||clearInterval)(ke)},delegate:void 0};var pe=Q(9039);class ce extends U{constructor(Ae,ut){super(Ae,ut),this.scheduler=Ae,this.work=ut,this.pending=!1}schedule(Ae,ut=0){var Ve;if(this.closed)return this;this.state=Ae;const z=this.id,G=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(G,z,ut)),this.pending=!0,this.delay=ut,this.id=null!==(Ve=this.id)&&void 0!==Ve?Ve:this.requestAsyncId(G,this.id,ut),this}requestAsyncId(Ae,ut,Ve=0){return Y.setInterval(Ae.flush.bind(Ae,this),Ve)}recycleAsyncId(Ae,ut,Ve=0){if(null!=Ve&&this.delay===Ve&&!1===this.pending)return ut;null!=ut&&Y.clearInterval(ut)}execute(Ae,ut){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(Ae,ut);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,ut){let z,Ve=!1;try{this.work(Ae)}catch(G){Ve=!0,z=G||new Error("Scheduled action threw falsy error")}if(Ve)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:Ae,scheduler:ut}=this,{actions:Ve}=ut;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(Ve,this),null!=Ae&&(this.id=this.recycleAsyncId(ut,Ae,null)),this.delay=null,super.unsubscribe()}}}},2631:(en,De,Q)=>{Q.d(De,{v:()=>Y});var a=Q(4552);class U{constructor(ce,ke=U.now){this.schedulerActionCtor=ce,this.now=ke}schedule(ce,ke=0,Ae){return new this.schedulerActionCtor(this,ce).schedule(Ae,ke)}}U.now=a.l.now;class Y extends U{constructor(ce,ke=U.now){super(ce,ke),this.actions=[],this._active=!1}flush(ce){const{actions:ke}=this;if(this._active)return void ke.push(ce);let Ae;this._active=!0;do{if(Ae=ce.execute(ce.state,ce.delay))break}while(ce=ke.shift());if(this._active=!1,Ae){for(;ce=ke.shift();)ce.unsubscribe();throw Ae}}}},6321:(en,De,Q)=>{Q.d(De,{P:()=>pe,z:()=>Y});var a=Q(1954);const Y=new(Q(2631).v)(a.o),pe=Y},4552:(en,De,Q)=>{Q.d(De,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},7599:(en,De,Q)=>{Q.d(De,{z:()=>a});const a={setTimeout(U,Y,...pe){const{delegate:ce}=a;return ce?.setTimeout?ce.setTimeout(U,Y,...pe):setTimeout(U,Y,...pe)},clearTimeout(U){const{delegate:Y}=a;return(Y?.clearTimeout||clearTimeout)(U)},delegate:void 0}},4971:(en,De,Q)=>{Q.d(De,{h:()=>U});const U=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(en,De,Q)=>{Q.d(De,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(en,De,Q)=>{Q.d(De,{_6:()=>ke,jO:()=>pe,yG:()=>ce});var a=Q(4674),U=Q(671);function Y(Ae){return Ae[Ae.length-1]}function pe(Ae){return(0,a.m)(Y(Ae))?Ae.pop():void 0}function ce(Ae){return(0,U.K)(Y(Ae))?Ae.pop():void 0}function ke(Ae,ut){return"number"==typeof Y(Ae)?Ae.pop():ut}},9039:(en,De,Q)=>{function a(U,Y){if(U){const pe=U.indexOf(Y);0<=pe&&U.splice(pe,1)}}Q.d(De,{P:()=>a})},2306:(en,De,Q)=>{function a(U){const pe=U(ce=>{Error.call(ce),ce.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}Q.d(De,{d:()=>a})},1441:(en,De,Q)=>{Q.d(De,{O:()=>pe,x:()=>Y});var a=Q(2653);let U=null;function Y(ce){if(a.config.useDeprecatedSynchronousErrorHandling){const ke=!U;if(ke&&(U={errorThrown:!1,error:null}),ce(),ke){const{errorThrown:Ae,error:ut}=U;if(U=null,Ae)throw ut}}else ce()}function pe(ce){a.config.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=ce)}},7103:(en,De,Q)=>{function a(U,Y,pe,ce=0,ke=!1){const Ae=Y.schedule(function(){pe(),ke?U.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(U.add(Ae),!ke)return Ae}Q.d(De,{f:()=>a})},2737:(en,De,Q)=>{function a(U){return U}Q.d(De,{y:()=>a})},4266:(en,De,Q)=>{Q.d(De,{z:()=>a});const a=U=>U&&"number"==typeof U.length&&"function"!=typeof U},5726:(en,De,Q)=>{Q.d(De,{D:()=>U});var a=Q(4674);function U(Y){return Symbol.asyncIterator&&(0,a.m)(Y?.[Symbol.asyncIterator])}},4674:(en,De,Q)=>{function a(U){return"function"==typeof U}Q.d(De,{m:()=>a})},8382:(en,De,Q)=>{Q.d(De,{c:()=>Y});var a=Q(4850),U=Q(4674);function Y(pe){return(0,U.m)(pe[a.L])}},3664:(en,De,Q)=>{Q.d(De,{T:()=>Y});var a=Q(4971),U=Q(4674);function Y(pe){return(0,U.m)(pe?.[a.h])}},4026:(en,De,Q)=>{Q.d(De,{t:()=>U});var a=Q(4674);function U(Y){return(0,a.m)(Y?.then)}},541:(en,De,Q)=>{Q.d(De,{L:()=>pe,Q:()=>Y});var a=Q(7582),U=Q(4674);function Y(ce){return(0,a.FC)(this,arguments,function*(){const Ae=ce.getReader();try{for(;;){const{value:ut,done:Ve}=yield(0,a.qq)(Ae.read());if(Ve)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(ut)}}finally{Ae.releaseLock()}})}function pe(ce){return(0,U.m)(ce?.getReader)}},671:(en,De,Q)=>{Q.d(De,{K:()=>U});var a=Q(4674);function U(Y){return Y&&(0,a.m)(Y.schedule)}},9360:(en,De,Q)=>{Q.d(De,{A:()=>U,e:()=>Y});var a=Q(4674);function U(pe){return(0,a.m)(pe?.lift)}function Y(pe){return ce=>{if(U(ce))return ce.lift(function(ke){try{return pe(ke,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(en,De,Q)=>{function a(){}Q.d(De,{Z:()=>a})},8407:(en,De,Q)=>{Q.d(De,{U:()=>Y,z:()=>U});var a=Q(2737);function U(...pe){return Y(pe)}function Y(pe){return 0===pe.length?a.y:1===pe.length?pe[0]:function(ke){return pe.reduce((Ae,ut)=>ut(Ae),ke)}}},3894:(en,De,Q)=>{Q.d(De,{h:()=>Y});var a=Q(2653),U=Q(7599);function Y(pe){U.z.setTimeout(()=>{const{onUnhandledError:ce}=a.config;if(!ce)throw pe;ce(pe)})}},9853:(en,De,Q)=>{function a(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Q.d(De,{z:()=>a})},8005:(en,De,Q)=>{Q.r(De),Q.d(De,{__assign:()=>Y,__asyncDelegator:()=>Re,__asyncGenerator:()=>mt,__asyncValues:()=>at,__await:()=>st,__awaiter:()=>ut,__classPrivateFieldGet:()=>$e,__classPrivateFieldSet:()=>it,__createBinding:()=>z,__decorate:()=>ce,__exportStar:()=>G,__extends:()=>U,__generator:()=>Ve,__importDefault:()=>nt,__importStar:()=>xe,__makeTemplateObject:()=>Ze,__metadata:()=>Ae,__param:()=>ke,__read:()=>Ne,__rest:()=>pe,__spread:()=>me,__spreadArrays:()=>lt,__values:()=>de});var a=function(he,ue){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ge,Le){Ge.__proto__=Le}||function(Ge,Le){for(var Ct in Le)Le.hasOwnProperty(Ct)&&(Ge[Ct]=Le[Ct])})(he,ue)};function U(he,ue){function Ge(){this.constructor=he}a(he,ue),he.prototype=null===ue?Object.create(ue):(Ge.prototype=ue.prototype,new Ge)}var Y=function(){return Y=Object.assign||function(ue){for(var Ge,Le=1,Ct=arguments.length;Le<Ct;Le++)for(var ot in Ge=arguments[Le])Object.prototype.hasOwnProperty.call(Ge,ot)&&(ue[ot]=Ge[ot]);return ue},Y.apply(this,arguments)};function pe(he,ue){var Ge={};for(var Le in he)Object.prototype.hasOwnProperty.call(he,Le)&&ue.indexOf(Le)<0&&(Ge[Le]=he[Le]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var Ct=0;for(Le=Object.getOwnPropertySymbols(he);Ct<Le.length;Ct++)ue.indexOf(Le[Ct])<0&&Object.prototype.propertyIsEnumerable.call(he,Le[Ct])&&(Ge[Le[Ct]]=he[Le[Ct]])}return Ge}function ce(he,ue,Ge,Le){var Yt,Ct=arguments.length,ot=Ct<3?ue:null===Le?Le=Object.getOwnPropertyDescriptor(ue,Ge):Le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ot=Reflect.decorate(he,ue,Ge,Le);else for(var nn=he.length-1;nn>=0;nn--)(Yt=he[nn])&&(ot=(Ct<3?Yt(ot):Ct>3?Yt(ue,Ge,ot):Yt(ue,Ge))||ot);return Ct>3&&ot&&Object.defineProperty(ue,Ge,ot),ot}function ke(he,ue){return function(Ge,Le){ue(Ge,Le,he)}}function Ae(he,ue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(he,ue)}function ut(he,ue,Ge,Le){return new(Ge||(Ge=Promise))(function(ot,Yt){function nn(fi){try{rn(Le.next(fi))}catch(Te){Yt(Te)}}function un(fi){try{rn(Le.throw(fi))}catch(Te){Yt(Te)}}function rn(fi){fi.done?ot(fi.value):function Ct(ot){return ot instanceof Ge?ot:new Ge(function(Yt){Yt(ot)})}(fi.value).then(nn,un)}rn((Le=Le.apply(he,ue||[])).next())})}function Ve(he,ue){var Le,Ct,ot,Yt,Ge={label:0,sent:function(){if(1&ot[0])throw ot[1];return ot[1]},trys:[],ops:[]};return Yt={next:nn(0),throw:nn(1),return:nn(2)},"function"==typeof Symbol&&(Yt[Symbol.iterator]=function(){return this}),Yt;function nn(rn){return function(fi){return function un(rn){if(Le)throw new TypeError("Generator is already executing.");for(;Ge;)try{if(Le=1,Ct&&(ot=2&rn[0]?Ct.return:rn[0]?Ct.throw||((ot=Ct.return)&&ot.call(Ct),0):Ct.next)&&!(ot=ot.call(Ct,rn[1])).done)return ot;switch(Ct=0,ot&&(rn=[2&rn[0],ot.value]),rn[0]){case 0:case 1:ot=rn;break;case 4:return Ge.label++,{value:rn[1],done:!1};case 5:Ge.label++,Ct=rn[1],rn=[0];continue;case 7:rn=Ge.ops.pop(),Ge.trys.pop();continue;default:if(!(ot=(ot=Ge.trys).length>0&&ot[ot.length-1])&&(6===rn[0]||2===rn[0])){Ge=0;continue}if(3===rn[0]&&(!ot||rn[1]>ot[0]&&rn[1]<ot[3])){Ge.label=rn[1];break}if(6===rn[0]&&Ge.label<ot[1]){Ge.label=ot[1],ot=rn;break}if(ot&&Ge.label<ot[2]){Ge.label=ot[2],Ge.ops.push(rn);break}ot[2]&&Ge.ops.pop(),Ge.trys.pop();continue}rn=ue.call(he,Ge)}catch(fi){rn=[6,fi],Ct=0}finally{Le=ot=0}if(5&rn[0])throw rn[1];return{value:rn[0]?rn[1]:void 0,done:!0}}([rn,fi])}}}function z(he,ue,Ge,Le){void 0===Le&&(Le=Ge),he[Le]=ue[Ge]}function G(he,ue){for(var Ge in he)"default"!==Ge&&!ue.hasOwnProperty(Ge)&&(ue[Ge]=he[Ge])}function de(he){var ue="function"==typeof Symbol&&Symbol.iterator,Ge=ue&&he[ue],Le=0;if(Ge)return Ge.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&Le>=he.length&&(he=void 0),{value:he&&he[Le++],done:!he}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(he,ue){var Ge="function"==typeof Symbol&&he[Symbol.iterator];if(!Ge)return he;var Ct,Yt,Le=Ge.call(he),ot=[];try{for(;(void 0===ue||ue-- >0)&&!(Ct=Le.next()).done;)ot.push(Ct.value)}catch(nn){Yt={error:nn}}finally{try{Ct&&!Ct.done&&(Ge=Le.return)&&Ge.call(Le)}finally{if(Yt)throw Yt.error}}return ot}function me(){for(var he=[],ue=0;ue<arguments.length;ue++)he=he.concat(Ne(arguments[ue]));return he}function lt(){for(var he=0,ue=0,Ge=arguments.length;ue<Ge;ue++)he+=arguments[ue].length;var Le=Array(he),Ct=0;for(ue=0;ue<Ge;ue++)for(var ot=arguments[ue],Yt=0,nn=ot.length;Yt<nn;Yt++,Ct++)Le[Ct]=ot[Yt];return Le}function st(he){return this instanceof st?(this.v=he,this):new st(he)}function mt(he,ue,Ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ct,Le=Ge.apply(he,ue||[]),ot=[];return Ct={},Yt("next"),Yt("throw"),Yt("return"),Ct[Symbol.asyncIterator]=function(){return this},Ct;function Yt(Ce){Le[Ce]&&(Ct[Ce]=function(He){return new Promise(function(je,ct){ot.push([Ce,He,je,ct])>1||nn(Ce,He)})})}function nn(Ce,He){try{!function un(Ce){Ce.value instanceof st?Promise.resolve(Ce.value.v).then(rn,fi):Te(ot[0][2],Ce)}(Le[Ce](He))}catch(je){Te(ot[0][3],je)}}function rn(Ce){nn("next",Ce)}function fi(Ce){nn("throw",Ce)}function Te(Ce,He){Ce(He),ot.shift(),ot.length&&nn(ot[0][0],ot[0][1])}}function Re(he){var ue,Ge;return ue={},Le("next"),Le("throw",function(Ct){throw Ct}),Le("return"),ue[Symbol.iterator]=function(){return this},ue;function Le(Ct,ot){ue[Ct]=he[Ct]?function(Yt){return(Ge=!Ge)?{value:st(he[Ct](Yt)),done:"return"===Ct}:ot?ot(Yt):Yt}:ot}}function at(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge,ue=he[Symbol.asyncIterator];return ue?ue.call(he):(he=de(he),Ge={},Le("next"),Le("throw"),Le("return"),Ge[Symbol.asyncIterator]=function(){return this},Ge);function Le(ot){Ge[ot]=he[ot]&&function(Yt){return new Promise(function(nn,un){!function Ct(ot,Yt,nn,un){Promise.resolve(un).then(function(rn){ot({value:rn,done:nn})},Yt)}(nn,un,(Yt=he[ot](Yt)).done,Yt.value)})}}}function Ze(he,ue){return Object.defineProperty?Object.defineProperty(he,"raw",{value:ue}):he.raw=ue,he}function xe(he){if(he&&he.__esModule)return he;var ue={};if(null!=he)for(var Ge in he)Object.hasOwnProperty.call(he,Ge)&&(ue[Ge]=he[Ge]);return ue.default=he,ue}function nt(he){return he&&he.__esModule?he:{default:he}}function $e(he,ue){if(!ue.has(he))throw new TypeError("attempted to get private field on non-instance");return ue.get(he)}function it(he,ue,Ge){if(!ue.has(he))throw new TypeError("attempted to set private field on non-instance");return ue.set(he,Ge),Ge}},5879:(en,De,Q)=>{Q.d(De,{$8M:()=>fs,$WT:()=>Sa,$Z:()=>PP,AFp:()=>eT,ALo:()=>Vx,AaK:()=>de,AsE:()=>zb,BQk:()=>Rp,CHM:()=>Ms,CRH:()=>rD,DdM:()=>Fx,Dn7:()=>dg,EEQ:()=>y,EJc:()=>zv,EiD:()=>HM,EpF:()=>jC,F$t:()=>$C,F4k:()=>Jm,FYo:()=>tC,FiY:()=>Xe,Gf:()=>Gp,GfV:()=>cb,GkF:()=>kb,Gpc:()=>lt,GuJ:()=>Gi,HDt:()=>cE,Hsn:()=>qC,Ikx:()=>Pd,JOm:()=>gh,JVY:()=>LA,JZr:()=>Ze,Jf7:()=>_P,KtG:()=>xu,L6k:()=>LM,LAX:()=>VA,LFG:()=>St,LSH:()=>ou,Lbi:()=>Gw,Lck:()=>FS,MAs:()=>VC,MMx:()=>Tv,NdJ:()=>Rb,O4$:()=>_a,Ojb:()=>Zw,OlP:()=>nr,Oqu:()=>ax,P3R:()=>Ao,PXZ:()=>Hv,Q6J:()=>Pp,QGY:()=>sv,QbO:()=>Ww,Qsj:()=>nC,R0b:()=>Xs,RDi:()=>PM,Rgc:()=>hg,SBq:()=>Rm,Sil:()=>_0,Suo:()=>Jx,TTD:()=>zl,TgZ:()=>no,Tol:()=>gv,Udp:()=>nx,VKq:()=>ug,VuI:()=>s1,W1O:()=>p0,WLB:()=>$S,X6Q:()=>_E,XFs:()=>sn,Xpm:()=>yo,Xq5:()=>DC,Xts:()=>I_,Y36:()=>Nm,YKP:()=>Px,YNc:()=>GT,Yjl:()=>rc,Yz7:()=>fn,Z0I:()=>cn,ZZ4:()=>Yv,_Bn:()=>Mv,_UZ:()=>BC,_Vd:()=>ab,_c5:()=>TE,_uU:()=>sx,aQg:()=>IE,c2e:()=>aE,cJS:()=>Sn,cg1:()=>vc,dDg:()=>Xk,dqk:()=>Ee,eBb:()=>UA,eFA:()=>VD,eJc:()=>Wp,ekj:()=>ix,eoX:()=>LD,f3M:()=>Vt,g9A:()=>Jy,h0i:()=>Fd,hGG:()=>A0,hij:()=>jb,iGM:()=>h0,ifc:()=>_t,ip1:()=>Bv,jDz:()=>If,kL8:()=>ng,kcU:()=>ds,lG2:()=>ys,lcZ:()=>Bx,lqb:()=>Nu,lri:()=>b0,mCW:()=>E_,n5z:()=>pd,n_E:()=>qp,oAB:()=>Yi,oJD:()=>dt,oxw:()=>HC,pB0:()=>BA,q3G:()=>Om,q4F:()=>aP,qFp:()=>vR,qLn:()=>Md,qOj:()=>Tp,qZA:()=>rv,qzn:()=>yh,rWj:()=>Rs,rg0:()=>Eo,s9C:()=>lv,sBO:()=>Gv,s_b:()=>kv,soG:()=>Qp,tb:()=>Eg,tp0:()=>Nt,uIk:()=>Hm,vHH:()=>xe,vpe:()=>Td,wAp:()=>ig,xi3:()=>jx,xp6:()=>OP,ynx:()=>ov,z2F:()=>Wu,z3N:()=>Ed,zSh:()=>jw,zs3:()=>su});var a=Q(8645),U=Q(7394),Y=Q(5592),pe=Q(3019),ce=Q(5619),ke=Q(2096),Ae=Q(3020),ut=Q(4664),Ve=Q(3997);function z(s){for(let c in s)if(s[c]===z)return c;throw Error("Could not find renamed property on target object.")}function G(s,c){for(const d in c)c.hasOwnProperty(d)&&!s.hasOwnProperty(d)&&(s[d]=c[d])}function de(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(de).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const c=s.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function Ne(s,c){return null==s||""===s?null===c?"":c:null==c||""===c?s:s+" "+c}const me=z({__forward_ref__:z});function lt(s){return s.__forward_ref__=lt,s.toString=function(){return de(this())},s}function st(s){return mt(s)?s():s}function mt(s){return"function"==typeof s&&s.hasOwnProperty(me)&&s.__forward_ref__===lt}function Re(s){return s&&!!s.\u0275providers}const Ze="https://g.co/ng/security#xss";class xe extends Error{constructor(c,d){super(function nt(s,c){return`NG0${Math.abs(s)}${c?": "+c:""}`}(c,d)),this.code=c}}function $e(s){return"string"==typeof s?s:null==s?"":String(s)}function Le(s,c){throw new xe(-201,!1)}function Dt(s,c){null==s&&function bt(s,c,d,p){throw new Error(`ASSERTION ERROR: ${s}`+(null==p?"":` [Expected=> ${d} ${p} ${c} <=Actual]`))}(c,s,null,"!=")}function fn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Sn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ut(s){return Ln(s,Oi)||Ln(s,zi)}function cn(s){return null!==Ut(s)}function Ln(s,c){return s.hasOwnProperty(c)?s[c]:null}function wi(s){return s&&(s.hasOwnProperty(ni)||s.hasOwnProperty(Ro))?s[ni]:null}const Oi=z({\u0275prov:z}),ni=z({\u0275inj:z}),zi=z({ngInjectableDef:z}),Ro=z({ngInjectorDef:z});var sn=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(sn||{});let Kt;function zt(s){const c=Kt;return Kt=s,c}function Me(s,c,d){const p=Ut(s);return p&&"root"==p.providedIn?void 0===p.value?p.value=p.factory():p.value:d&sn.Optional?null:void 0!==c?c:void Le(de(s))}const Ee=globalThis,pi={},Ei="__NG_DI_FLAG__",_r="ngTempTokenPath",fe=/\n/gm,X="__source";let te;function Oe(s){const c=te;return te=s,c}function Qe(s,c=sn.Default){if(void 0===te)throw new xe(-203,!1);return null===te?Me(s,void 0,c):te.get(s,c&sn.Optional?null:void 0,c)}function St(s,c=sn.Default){return(function Qt(){return Kt}()||Qe)(st(s),c)}function Vt(s,c=sn.Default){return St(s,Xn(c))}function Xn(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function xn(s){const c=[];for(let d=0;d<s.length;d++){const p=st(s[d]);if(Array.isArray(p)){if(0===p.length)throw new xe(900,!1);let _,b=sn.Default;for(let M=0;M<p.length;M++){const S=p[M],k=Nn(S);"number"==typeof k?-1===k?_=S.token:b|=k:_=S}c.push(St(_,b))}else c.push(St(p))}return c}function ai(s,c){return s[Ei]=c,s.prototype[Ei]=c,s}function Nn(s){return s[Ei]}function Je(s){return{toString:s}.toString()}var ze=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(ze||{}),_t=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(_t||{});const Zt={},kt=[],An=z({\u0275cmp:z}),ri=z({\u0275dir:z}),Gi=z({\u0275pipe:z}),Zi=z({\u0275mod:z}),er=z({\u0275fac:z}),Ur=z({__NG_ELEMENT_ID__:z}),_o=z({__NG_ENV_ID__:z});function Ta(s,c,d){let p=s.length;for(;;){const _=s.indexOf(c,d);if(-1===_)return _;if(0===_||s.charCodeAt(_-1)<=32){const b=c.length;if(_+b===p||s.charCodeAt(_+b)<=32)return _}d=_+1}}function No(s,c,d){let p=0;for(;p<d.length;){const _=d[p];if("number"==typeof _){if(0!==_)break;p++;const b=d[p++],M=d[p++],S=d[p++];s.setAttribute(c,M,S,b)}else{const b=_,M=d[++p];vs(b)?s.setProperty(c,b,M):s.setAttribute(c,b,M),p++}}return p}function ls(s){return 3===s||4===s||6===s}function vs(s){return 64===s.charCodeAt(0)}function Ko(s,c){if(null!==c&&0!==c.length)if(null===s||0===s.length)s=c.slice();else{let d=-1;for(let p=0;p<c.length;p++){const _=c[p];"number"==typeof _?d=_:0===d||jn(s,d,_,null,-1===d||2===d?c[++p]:null)}}return s}function jn(s,c,d,p,_){let b=0,M=s.length;if(-1===c)M=-1;else for(;b<s.length;){const S=s[b++];if("number"==typeof S){if(S===c){M=-1;break}if(S>c){M=b-1;break}}}for(;b<s.length;){const S=s[b];if("number"==typeof S)break;if(S===d){if(null===p)return void(null!==_&&(s[b+1]=_));if(p===s[b+1])return void(s[b+2]=_)}b++,null!==p&&b++,null!==_&&b++}-1!==M&&(s.splice(M,0,c),b=M+1),s.splice(b++,0,d),null!==p&&s.splice(b++,0,p),null!==_&&s.splice(b++,0,_)}const Ai="ng-template";function vo(s,c,d){let p=0,_=!0;for(;p<s.length;){let b=s[p++];if("string"==typeof b&&_){const M=s[p++];if(d&&"class"===b&&-1!==Ta(M.toLowerCase(),c,0))return!0}else{if(1===b){for(;p<s.length&&"string"==typeof(b=s[p++]);)if(b.toLowerCase()===c)return!0;return!1}"number"==typeof b&&(_=!1)}}return!1}function xi(s){return 4===s.type&&s.value!==Ai}function xc(s,c,d){return c===(4!==s.type||d?s.value:Ai)}function tc(s,c,d){let p=4;const _=s.attrs||[],b=function ra(s){for(let c=0;c<s.length;c++)if(ls(s[c]))return c;return s.length}(_);let M=!1;for(let S=0;S<c.length;S++){const k=c[S];if("number"!=typeof k){if(!M)if(4&p){if(p=2|1&p,""!==k&&!xc(s,k,d)||""===k&&1===c.length){if($r(p))return!1;M=!0}}else{const B=8&p?k:c[++S];if(8&p&&null!==s.attrs){if(!vo(s.attrs,B,d)){if($r(p))return!1;M=!0}continue}const se=Ls(8&p?"class":k,_,xi(s),d);if(-1===se){if($r(p))return!1;M=!0;continue}if(""!==B){let Ie;Ie=se>b?"":_[se+1].toLowerCase();const Be=8&p?Ie:null;if(Be&&-1!==Ta(Be,B,0)||2&p&&B!==Ie){if($r(p))return!1;M=!0}}}}else{if(!M&&!$r(p)&&!$r(k))return!1;if(M&&$r(k))continue;M=!1,p=k|1&p}}return $r(p)||M}function $r(s){return 0==(1&s)}function Ls(s,c,d,p){if(null===c)return-1;let _=0;if(p||!d){let b=!1;for(;_<c.length;){const M=c[_];if(M===s)return _;if(3===M||6===M)b=!0;else{if(1===M||2===M){let S=c[++_];for(;"string"==typeof S;)S=c[++_];continue}if(4===M)break;if(0===M){_+=4;continue}}_+=b?1:2}return-1}return function Ec(s,c){let d=s.indexOf(4);if(d>-1)for(d++;d<s.length;){const p=s[d];if("number"==typeof p)return-1;if(p===c)return d;d++}return-1}(c,s)}function nc(s,c,d=!1){for(let p=0;p<c.length;p++)if(tc(s,c[p],d))return!0;return!1}function Ic(s,c){e:for(let d=0;d<c.length;d++){const p=c[d];if(s.length===p.length){for(let _=0;_<s.length;_++)if(s[_]!==p[_])continue e;return!0}}return!1}function Us(s,c){return s?":not("+c.trim()+")":c}function oa(s){let c=s[0],d=1,p=2,_="",b=!1;for(;d<s.length;){let M=s[d];if("string"==typeof M)if(2&p){const S=s[++d];_+="["+M+(S.length>0?'="'+S+'"':"")+"]"}else 8&p?_+="."+M:4&p&&(_+=" "+M);else""!==_&&!$r(M)&&(c+=Us(b,_),_=""),p=M,b=b||!$r(p);d++}return""!==_&&(c+=Us(b,_)),c}function yo(s){return Je(()=>{const c=Tc(s),d={...c,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===ze.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||_t.Emulated,styles:s.styles||kt,_:null,schemas:s.schemas||null,tView:null,id:""};Sc(d);const p=s.dependencies;return d.directiveDefs=Lo(p,!1),d.pipeDefs=Lo(p,!0),d.id=function Dc(s){let c=0;const d=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const _ of d)c=Math.imul(31,c)+_.charCodeAt(0)<<0;return c+=2147483648,"c"+c}(d),d})}function ic(s){return zn(s)||Ui(s)}function sa(s){return null!==s}function Yi(s){return Je(()=>({type:s.type,bootstrap:s.bootstrap||kt,declarations:s.declarations||kt,imports:s.imports||kt,exports:s.exports||kt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function aa(s,c){if(null==s)return Zt;const d={};for(const p in s)if(s.hasOwnProperty(p)){let _=s[p],b=_;Array.isArray(_)&&(b=_[1],_=_[0]),d[_]=p,c&&(c[_]=b)}return d}function ys(s){return Je(()=>{const c=Tc(s);return Sc(c),c})}function rc(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function zn(s){return s[An]||null}function Ui(s){return s[ri]||null}function br(s){return s[Gi]||null}function Sa(s){const c=zn(s)||Ui(s)||br(s);return null!==c&&c.standalone}function wr(s,c){const d=s[Zi]||null;if(!d&&!0===c)throw new Error(`Type ${de(s)} does not have '\u0275mod' property.`);return d}function Tc(s){const c={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputTransforms:null,inputConfig:s.inputs||Zt,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||kt,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:aa(s.inputs,c),outputs:aa(s.outputs)}}function Sc(s){s.features?.forEach(c=>c(s))}function Lo(s,c){if(!s)return null;const d=c?br:ic;return()=>("function"==typeof s?s():s).map(p=>d(p)).filter(sa)}const Pi=0,Et=1,En=2,Ii=3,so=4,Bs=5,kn=6,Qo=7,ki=8,ca=9,Jo=10,on=11,qr=12,Ll=13,Cr=14,xr=15,bs=16,Uo=17,Er=18,Ir=19,la=20,Da=21,Vi=22,Vo=23,Gr=24,ei=25,gu=1,Oa=2,Ar=7,Wr=9,Hi=11;function Zr(s){return Array.isArray(s)&&"object"==typeof s[gu]}function Mr(s){return Array.isArray(s)&&!0===s[gu]}function cl(s){return 0!=(4&s.flags)}function Pr(s){return s.componentOffset>-1}function Yr(s){return 1==(1&s.flags)}function di(s){return!!s.template}function da(s){return 0!=(512&s[En])}function js(s,c){return s.hasOwnProperty(er)?s[er]:null}let ur=null,Pa=!1;function Kr(s){const c=ur;return ur=s,c}const Nc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function cc(s){if(!Fc(s)||s.dirty){if(!s.producerMustRecompute(s)&&!zo(s))return void(s.dirty=!1);s.producerRecomputeValue(s),s.dirty=!1}}function pa(s){s.dirty=!0,function jl(s){if(void 0===s.liveConsumerNode)return;const c=Pa;Pa=!0;try{for(const d of s.liveConsumerNode)d.dirty||pa(d)}finally{Pa=c}}(s),s.consumerMarkedDirty?.(s)}function ll(s){return s&&(s.nextProducerIndex=0),Kr(s)}function yi(s,c){if(Kr(c),s&&void 0!==s.producerNode&&void 0!==s.producerIndexOfThis&&void 0!==s.producerLastReadVersion){if(Fc(s))for(let d=s.nextProducerIndex;d<s.producerNode.length;d++)Xo(s.producerNode[d],s.producerIndexOfThis[d]);for(;s.producerNode.length>s.nextProducerIndex;)s.producerNode.pop(),s.producerLastReadVersion.pop(),s.producerIndexOfThis.pop()}}function zo(s){Co(s);for(let c=0;c<s.producerNode.length;c++){const d=s.producerNode[c],p=s.producerLastReadVersion[c];if(p!==d.version||(cc(d),p!==d.version))return!0}return!1}function ka(s){if(Co(s),Fc(s))for(let c=0;c<s.producerNode.length;c++)Xo(s.producerNode[c],s.producerIndexOfThis[c]);s.producerNode.length=s.producerLastReadVersion.length=s.producerIndexOfThis.length=0,s.liveConsumerNode&&(s.liveConsumerNode.length=s.liveConsumerIndexOfThis.length=0)}function Xo(s,c){if(function Hs(s){s.liveConsumerNode??=[],s.liveConsumerIndexOfThis??=[]}(s),Co(s),1===s.liveConsumerNode.length)for(let p=0;p<s.producerNode.length;p++)Xo(s.producerNode[p],s.producerIndexOfThis[p]);const d=s.liveConsumerNode.length-1;if(s.liveConsumerNode[c]=s.liveConsumerNode[d],s.liveConsumerIndexOfThis[c]=s.liveConsumerIndexOfThis[d],s.liveConsumerNode.length--,s.liveConsumerIndexOfThis.length--,c<s.liveConsumerNode.length){const p=s.liveConsumerIndexOfThis[c],_=s.liveConsumerNode[c];Co(_),_.producerIndexOfThis[p]=c}}function Fc(s){return s.consumerIsAlwaysLive||(s?.liveConsumerNode?.length??0)>0}function Co(s){s.producerNode??=[],s.producerIndexOfThis??=[],s.producerLastReadVersion??=[]}let ee=null;function Eo(s){const c=Kr(null);try{return s()}finally{Kr(c)}}const ed=()=>{},zh=(()=>({...Nc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:s=>{s.schedule(s.ref)},hasRun:!1,cleanupFn:ed}))();class Hh{constructor(c,d,p){this.previousValue=c,this.currentValue=d,this.firstChange=p}isFirstChange(){return this.firstChange}}function zl(){return Hl}function Hl(s){return s.type.prototype.ngOnChanges&&(s.setInput=xs),td}function td(){const s=dl(this),c=s?.current;if(c){const d=s.previous;if(d===Zt)s.previous=c;else for(let p in c)d[p]=c[p];s.current=null,this.ngOnChanges(c)}}function xs(s,c,d,p){const _=this.declaredInputs[d],b=dl(s)||function nd(s,c){return s[Vc]=c}(s,{previous:Zt,current:null}),M=b.current||(b.current={}),S=b.previous,k=S[_];M[_]=new Hh(k&&k.currentValue,c,S===Zt),s[p]=c}zl.ngInherit=!0;const Vc="__ngSimpleChanges__";function dl(s){return s[Vc]||null}const Es=function(s,c,d){},Qd="svg";function Mi(s){for(;Array.isArray(s);)s=s[Pi];return s}function Na(s,c){return Mi(c[s])}function Ho(s,c){return Mi(c[s.index])}function Jd(s,c){return s.data[c]}function fl(s,c){return s[c]}function Ki(s,c){const d=c[s];return Zr(d)?d:d[Pi]}function pl(s,c){return null==c?null:s[c]}function th(s){s[Uo]=0}function Bc(s){1024&s[En]||(s[En]|=1024,Vr(s,1))}function $h(s){1024&s[En]&&(s[En]&=-1025,Vr(s,-1))}function Vr(s,c){let d=s[Ii];if(null===d)return;d[Bs]+=c;let p=d;for(d=d[Ii];null!==d&&(1===c&&1===p[Bs]||-1===c&&0===p[Bs]);)d[Bs]+=c,p=d,d=d[Ii]}const In={lFrame:us(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Wi(){return In.bindingsEnabled}function Is(){return null!==In.skipHydrationRootTNode}function pt(){return In.lFrame.lView}function ii(){return In.lFrame.tView}function Ms(s){return In.lFrame.contextLView=s,s[ki]}function xu(s){return In.lFrame.contextLView=null,s}function Mo(){let s=rd();for(;null!==s&&64===s.type;)s=s.parent;return s}function rd(){return In.lFrame.currentTNode}function So(s,c){const d=In.lFrame;d.currentTNode=s,d.isParent=c}function Qi(){return In.lFrame.isParent}function ao(){In.lFrame.isParent=!1}function Ji(){const s=In.lFrame;let c=s.bindingRootIndex;return-1===c&&(c=s.bindingRootIndex=s.tView.bindingStartIndex),c}function Jr(){return In.lFrame.bindingIndex++}function Xr(s){const c=In.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+s,d}function od(s,c){const d=In.lFrame;d.bindingIndex=d.bindingRootIndex=s,Eu(c)}function Eu(s){In.lFrame.currentDirectiveIndex=s}function rh(){return In.lFrame.currentQueryIndex}function ml(s){In.lFrame.currentQueryIndex=s}function oh(s){const c=s[Et];return 2===c.type?c.declTNode:1===c.type?s[kn]:null}function Fa(s,c,d){if(d&sn.SkipSelf){let _=c,b=s;for(;!(_=_.parent,null!==_||d&sn.Host||(_=oh(b),null===_||(b=b[Cr],10&_.type))););if(null===_)return!1;c=_,s=b}const p=In.lFrame=Iu();return p.currentTNode=c,p.lView=s,!0}function ql(s){const c=Iu(),d=s[Et];In.lFrame=c,c.currentTNode=d.firstChild,c.lView=s,c.tView=d,c.contextLView=s,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function Iu(){const s=In.lFrame,c=null===s?null:s.child;return null===c?us(s):c}function us(s){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=c),c}function gl(){const s=In.lFrame;return In.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const dc=gl;function hc(){const s=gl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ts(){return In.lFrame.selectedIndex}function ga(s){In.lFrame.selectedIndex=s}function sr(){const s=In.lFrame;return Jd(s.tView,s.selectedIndex)}function _a(){In.lFrame.currentNamespace=Qd}function ds(){!function Hn(){In.lFrame.currentNamespace=null}()}let Do=!0;function Wl(){return Do}function pc(s){Do=s}function La(s,c){for(let d=c.directiveStart,p=c.directiveEnd;d<p;d++){const b=s.data[d].type.prototype,{ngAfterContentInit:M,ngAfterContentChecked:S,ngAfterViewInit:k,ngAfterViewChecked:B,ngOnDestroy:W}=b;M&&(s.contentHooks??=[]).push(-d,M),S&&((s.contentHooks??=[]).push(d,S),(s.contentCheckHooks??=[]).push(d,S)),k&&(s.viewHooks??=[]).push(-d,k),B&&((s.viewHooks??=[]).push(d,B),(s.viewCheckHooks??=[]).push(d,B)),null!=W&&(s.destroyHooks??=[]).push(d,W)}}function jr(s,c,d){cr(s,c,3,d)}function Hc(s,c,d,p){(3&s[En])===d&&cr(s,c,d,p)}function Nr(s,c){let d=s[En];(3&d)===c&&(d&=8191,d+=1,s[En]=d)}function cr(s,c,d,p){const b=p??-1,M=c.length-1;let S=0;for(let k=void 0!==p?65535&s[Uo]:0;k<M;k++)if("number"==typeof c[k+1]){if(S=c[k],null!=p&&S>=p)break}else c[k]<0&&(s[Uo]+=65536),(S<b||-1==b)&&(ip(s,d,c,k),s[Uo]=(4294901760&s[Uo])+k+2),k++}function tr(s,c){Es(4,s,c);const d=Kr(null);try{c.call(s)}finally{Kr(d),Es(5,s,c)}}function ip(s,c,d,p){const _=d[p]<0,b=d[p+1],S=s[_?-d[p]:d[p]];_?s[En]>>13<s[Uo]>>16&&(3&s[En])===c&&(s[En]+=8192,tr(S,b)):tr(S,b)}const Ts=-1;class sd{constructor(c,d,p){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=p}}function $c(s){return s!==Ts}function qc(s){return 32767&s}function _l(s,c){let d=function ud(s){return s>>16}(s),p=c;for(;d>0;)p=p[Cr],d--;return p}let Mu=!0;function hs(s){const c=Mu;return Mu=s,c}const Yh=255,ch=5;let Kh=0;const $o={};function Gs(s,c){const d=Tu(s,c);if(-1!==d)return d;const p=c[Et];p.firstCreatePass&&(s.injectorIndex=c.length,Yl(p.data,s),Yl(c,null),Yl(p.blueprint,null));const _=Kl(s,c),b=s.injectorIndex;if($c(_)){const M=qc(_),S=_l(_,c),k=S[Et].data;for(let B=0;B<8;B++)c[b+B]=S[M+B]|k[M+B]}return c[b+8]=_,b}function Yl(s,c){s.push(0,0,0,0,0,0,0,0,c)}function Tu(s,c){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===c[s.injectorIndex+8]?-1:s.injectorIndex}function Kl(s,c){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let d=0,p=null,_=c;for(;null!==_;){if(p=sp(_),null===p)return Ts;if(d++,_=_[Cr],-1!==p.injectorIndex)return p.injectorIndex|d<<16}return Ts}function Ql(s,c,d){!function dd(s,c,d){let p;"string"==typeof d?p=d.charCodeAt(0)||0:d.hasOwnProperty(Ur)&&(p=d[Ur]),null==p&&(p=d[Ur]=Kh++);const _=p&Yh;c.data[s+(_>>ch)]|=1<<_}(s,c,d)}function Jl(s,c,d){if(d&sn.Optional||void 0!==s)return s;Le()}function Xl(s,c,d,p){if(d&sn.Optional&&void 0===p&&(p=null),!(d&(sn.Self|sn.Host))){const _=s[ca],b=zt(void 0);try{return _?_.get(c,p,d&sn.Optional):Me(c,p,d&sn.Optional)}finally{zt(b)}}return Jl(p,0,d)}function Ws(s,c,d,p=sn.Default,_){if(null!==s){if(2048&c[En]&&!(p&sn.Self)){const M=function md(s,c,d,p,_){let b=s,M=c;for(;null!==b&&null!==M&&2048&M[En]&&!(512&M[En]);){const S=Ss(b,M,d,p|sn.Self,$o);if(S!==$o)return S;let k=b.parent;if(!k){const B=M[la];if(B){const W=B.get(d,$o,p);if(W!==$o)return W}k=sp(M),M=M[Cr]}b=k}return _}(s,c,d,p,$o);if(M!==$o)return M}const b=Ss(s,c,d,p,$o);if(b!==$o)return b}return Xl(c,d,p,_)}function Ss(s,c,d,p,_){const b=function lh(s){if("string"==typeof s)return s.charCodeAt(0)||0;const c=s.hasOwnProperty(Ur)?s[Ur]:void 0;return"number"==typeof c?c>=0?c&Yh:mc:c}(d);if("function"==typeof b){if(!Fa(c,s,p))return p&sn.Host?Jl(_,0,p):Xl(c,d,p,_);try{let M;if(M=b(p),null!=M||p&sn.Optional)return M;Le()}finally{dc()}}else if("number"==typeof b){let M=null,S=Tu(s,c),k=Ts,B=p&sn.Host?c[xr][kn]:null;for((-1===S||p&sn.SkipSelf)&&(k=-1===S?Kl(s,c):c[S+8],k!==Ts&&vl(p,!1)?(M=c[Et],S=qc(k),c=_l(k,c)):S=-1);-1!==S;){const W=c[Et];if(uh(b,S,W.data)){const se=op(S,c,d,M,p,B);if(se!==$o)return se}k=c[S+8],k!==Ts&&vl(p,c[Et].data[S+8]===B)&&uh(b,S,c)?(M=W,S=qc(k),c=_l(k,c)):S=-1}}return _}function op(s,c,d,p,_,b){const M=c[Et],S=M.data[s+8],W=fd(S,M,d,null==p?Pr(S)&&Mu:p!=M&&0!=(3&S.type),_&sn.Host&&b===S);return null!==W?Ua(c,M,W,S):$o}function fd(s,c,d,p,_){const b=s.providerIndexes,M=c.data,S=1048575&b,k=s.directiveStart,W=b>>20,Ie=_?S+W:s.directiveEnd;for(let Be=p?S:S+W;Be<Ie;Be++){const ft=M[Be];if(Be<k&&d===ft||Be>=k&&ft.type===d)return Be}if(_){const Be=M[k];if(Be&&di(Be)&&Be.type===d)return k}return null}function Ua(s,c,d,p){let _=s[d];const b=c.data;if(function ym(s){return s instanceof sd}(_)){const M=_;M.resolving&&function he(s,c){const d=c?`. Dependency path: ${c.join(" > ")} > ${s}`:"";throw new xe(-200,`Circular dependency in DI detected for ${s}${d}`)}(function it(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():$e(s)}(b[d]));const S=hs(M.canSeeViewProviders);M.resolving=!0;const B=M.injectImpl?zt(M.injectImpl):null;Fa(s,p,sn.Default);try{_=s[d]=M.factory(void 0,b,s,p),c.firstCreatePass&&d>=p.directiveStart&&function ci(s,c,d){const{ngOnChanges:p,ngOnInit:_,ngDoCheck:b}=c.type.prototype;if(p){const M=Hl(c);(d.preOrderHooks??=[]).push(s,M),(d.preOrderCheckHooks??=[]).push(s,M)}_&&(d.preOrderHooks??=[]).push(0-s,_),b&&((d.preOrderHooks??=[]).push(s,b),(d.preOrderCheckHooks??=[]).push(s,b))}(d,b[d],c)}finally{null!==B&&zt(B),hs(S),M.resolving=!1,dc()}}return _}function uh(s,c,d){return!!(d[c+(s>>ch)]&1<<s)}function vl(s,c){return!(s&sn.Self||s&sn.Host&&c)}class Ri{constructor(c,d){this._tNode=c,this._lView=d}get(c,d,p){return Ws(this._tNode,this._lView,c,Xn(p),d)}}function mc(){return new Ri(Mo(),pt())}function pd(s){return Je(()=>{const c=s.prototype.constructor,d=c[er]||Ti(c),p=Object.prototype;let _=Object.getPrototypeOf(s.prototype).constructor;for(;_&&_!==p;){const b=_[er]||Ti(_);if(b&&b!==d)return b;_=Object.getPrototypeOf(_)}return b=>new b})}function Ti(s){return mt(s)?()=>{const c=Ti(st(s));return c&&c()}:js(s)}function sp(s){const c=s[Et],d=c.type;return 2===d?c.declTNode:1===d?s[kn]:null}function fs(s){return function hd(s,c){if("class"===c)return s.classes;if("style"===c)return s.styles;const d=s.attrs;if(d){const p=d.length;let _=0;for(;_<p;){const b=d[_];if(ls(b))break;if(0===b)_+=2;else if("number"==typeof b)for(_++;_<p&&"string"==typeof d[_];)_++;else{if(b===c)return d[_+1];_+=2}}}return null}(Mo(),s)}const Va="__parameters__";function H(s,c,d){return Je(()=>{const p=function F(s){return function(...d){if(s){const p=s(...d);for(const _ in p)this[_]=p[_]}}}(c);function _(...b){if(this instanceof _)return p.apply(this,b),this;const M=new _(...b);return S.annotation=M,S;function S(k,B,W){const se=k.hasOwnProperty(Va)?k[Va]:Object.defineProperty(k,Va,{value:[]})[Va];for(;se.length<=W;)se.push(null);return(se[W]=se[W]||[]).push(M),k}}return d&&(_.prototype=Object.create(d.prototype)),_.prototype.ngMetadataName=s,_.annotationCls=_,_})}function bl(s,c){s.forEach(d=>Array.isArray(d)?bl(d,c):c(d))}function c_(s,c,d){c>=s.length?s.push(d):s.splice(c,0,d)}function gd(s,c){return c>=s.length-1?s.pop():s.splice(c,1)[0]}function _d(s,c){const d=[];for(let p=0;p<s;p++)d.push(c);return d}function Zs(s,c,d){let p=eu(s,c);return p>=0?s[1|p]=d:(p=~p,function bm(s,c,d,p){let _=s.length;if(_==c)s.push(d,p);else if(1===_)s.push(p,s[0]),s[0]=d;else{for(_--,s.push(s[_-1],s[_]);_>c;)s[_]=s[_-2],_--;s[c]=d,s[c+1]=p}}(s,p,c,d)),p}function ap(s,c){const d=eu(s,c);if(d>=0)return s[1|d]}function eu(s,c){return function vd(s,c,d){let p=0,_=s.length>>d;for(;_!==p;){const b=p+(_-p>>1),M=s[b<<d];if(c===M)return b<<d;M>c?_=b:p=b+1}return~(_<<d)}(s,c,1)}const Xe=ai(H("Optional"),8),Nt=ai(H("SkipSelf"),4);function nu(s){return 128==(128&s.flags)}var gh=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(gh||{});const xw=/^>|^->|<!--|-->|--!>|<!-$/g,ku=/(<|>)/g,Ew="\u200b$1\u200b";const Mm=new Map;let vM=0;function l(s){return Mm.get(s)||null}class g{get lView(){return l(this.lViewId)}constructor(c,d,p){this.lViewId=c,this.nodeIndex=d,this.native=p}}function y(s){let c=Z(s);if(c){if(Zr(c)){const d=c;let p,_,b;if(ge(s)){if(p=function ht(s,c){const d=s[Et].components;if(d)for(let p=0;p<d.length;p++){const _=d[p];if(Ki(_,s)[ki]===c)return _}else if(Ki(ei,s)[ki]===c)return ei;return-1}(d,s),-1==p)throw new Error("The provided component was not found in the application");_=s}else if(function _e(s){return s&&s.constructor&&s.constructor.\u0275dir}(s)){if(p=function an(s,c){let d=s[Et].firstChild;for(;d;){const _=d.directiveEnd;for(let b=d.directiveStart;b<_;b++)if(s[b]===c)return d.index;d=et(d)}return-1}(d,s),-1==p)throw new Error("The provided directive was not found in the application");b=function Jt(s,c){const d=c[Et].data[s];if(0===d.directiveStart)return kt;const p=[];for(let _=d.directiveStart;_<d.directiveEnd;_++){const b=c[_];ge(b)||p.push(b)}return p}(p,d)}else if(p=Pe(d,s),-1==p)return null;const M=Mi(d[p]),S=Z(M),k=S&&!Array.isArray(S)?S:E(d,p,M);if(_&&void 0===k.component&&(k.component=_,V(k.component,k)),b&&void 0===k.directives){k.directives=b;for(let B=0;B<b.length;B++)V(b[B],k)}V(k.native,k),c=k}}else{const d=s;let p=d;for(;p=p.parentNode;){const _=Z(p);if(_){const b=Array.isArray(_)?_:_.lView;if(!b)return null;const M=Pe(b,d);if(M>=0){const S=Mi(b[M]),k=E(b,M,S);V(S,k),c=k;break}}}}return c||null}function E(s,c,d){return new g(s[Ir],c,d)}const R="__ngContext__";function V(s,c){Zr(c)?(s[R]=c[Ir],function f(s){Mm.set(s[Ir],s)}(c)):s[R]=c}function Z(s){const c=s[R];return"number"==typeof c?l(c):c||null}function ge(s){return s&&s.constructor&&s.constructor.\u0275cmp}function Pe(s,c){const d=s[Et];for(let p=ei;p<d.bindingStartIndex;p++)if(Mi(s[p])===c)return p;return-1}function et(s){if(s.child)return s.child;if(s.next)return s.next;for(;s.parent&&!s.parent.next;)s=s.parent;return s.parent&&s.parent.next}let gi;function bi(s,c){return gi(s,c)}function Ks(s){const c=s[Ii];return Mr(c)?c[Ii]:c}function dp(s){return _h(s[qr])}function cf(s){return _h(s[so])}function _h(s){for(;null!==s&&!Mr(s);)s=s[so];return s}function Cd(s,c,d,p,_){if(null!=p){let b,M=!1;Mr(p)?b=p:Zr(p)&&(M=!0,p=p[Pi]);const S=Mi(p);0===s&&null!==d?null==_?xM(c,d,S):hp(c,d,S,_||null,!0):1===s&&null!==d?hp(c,d,S,_||null,!0):2===s?function zy(s,c,d){const p=__(s,c);p&&function SA(s,c,d,p){s.removeChild(c,d,p)}(s,p,c,d)}(c,S,M):3===s&&c.destroyNode(S),null!=b&&function OA(s,c,d,p,_){const b=d[Ar];b!==Mi(d)&&Cd(c,s,p,b,_);for(let S=Hi;S<d.length;S++){const k=d[S];vh(k[Et],k,s,c,p,b)}}(c,s,b,d,_)}}function Qs(s,c){return s.createComment(function Ys(s){return s.replace(xw,c=>c.replace(ku,Ew))}(c))}function _c(s,c,d){return s.createElement(c,d)}function TA(s,c){const d=s[Wr],p=d.indexOf(c);$h(c),d.splice(p,1)}function Uy(s,c){if(s.length<=Hi)return;const d=Hi+c,p=s[d];if(p){const _=p[bs];null!==_&&_!==s&&TA(_,p),c>0&&(s[d-1][so]=p[so]);const b=gd(s,Hi+c);!function Ly(s,c){vh(s,c,c[on],2,null,null),c[Pi]=null,c[kn]=null}(p[Et],p);const M=b[Er];null!==M&&M.detachView(b[Et]),p[Ii]=null,p[so]=null,p[En]&=-129}return p}function Tw(s,c){if(!(256&c[En])){const d=c[on];c[Vo]&&ka(c[Vo]),c[Gr]&&ka(c[Gr]),d.destroyNode&&vh(s,c,d,3,null,null),function MA(s){let c=s[qr];if(!c)return Vy(s[Et],s);for(;c;){let d=null;if(Zr(c))d=c[qr];else{const p=c[Hi];p&&(d=p)}if(!d){for(;c&&!c[so]&&c!==s;)Zr(c)&&Vy(c[Et],c),c=c[Ii];null===c&&(c=s),Zr(c)&&Vy(c[Et],c),d=c&&c[so]}c=d}}(c)}}function Vy(s,c){if(!(256&c[En])){c[En]&=-129,c[En]|=256,function bM(s,c){let d;if(null!=s&&null!=(d=s.destroyHooks))for(let p=0;p<d.length;p+=2){const _=c[d[p]];if(!(_ instanceof sd)){const b=d[p+1];if(Array.isArray(b))for(let M=0;M<b.length;M+=2){const S=_[b[M]],k=b[M+1];Es(4,S,k);try{k.call(S)}finally{Es(5,S,k)}}else{Es(4,_,b);try{b.call(_)}finally{Es(5,_,b)}}}}}(s,c),function Sw(s,c){const d=s.cleanup,p=c[Qo];if(null!==d)for(let b=0;b<d.length-1;b+=2)if("string"==typeof d[b]){const M=d[b+3];M>=0?p[M]():p[-M].unsubscribe(),b+=2}else d[b].call(p[d[b+1]]);null!==p&&(c[Qo]=null);const _=c[Da];if(null!==_){c[Da]=null;for(let b=0;b<_.length;b++)(0,_[b])()}}(s,c),1===c[Et].type&&c[on].destroy();const d=c[bs];if(null!==d&&Mr(c[Ii])){d!==c[Ii]&&TA(d,c);const p=c[Er];null!==p&&p.detachView(s)}!function h(s){Mm.delete(s[Ir])}(c)}}function wM(s,c,d){return function CM(s,c,d){let p=c;for(;null!==p&&40&p.type;)p=(c=p).parent;if(null===p)return d[Pi];{const{componentOffset:_}=p;if(_>-1){const{encapsulation:b}=s.data[p.directiveStart+_];if(b===_t.None||b===_t.Emulated)return null}return Ho(p,d)}}(s,c.parent,d)}function hp(s,c,d,p,_){s.insertBefore(c,d,p,_)}function xM(s,c,d){s.appendChild(c,d)}function EM(s,c,d,p,_){null!==p?hp(s,c,d,p,_):xM(s,c,d)}function __(s,c){return s.parentNode(c)}function IM(s,c,d){return MM(s,c,d)}let v_,Hy,Pw,x_,MM=function Dw(s,c,d){return 40&s.type?Ho(s,d):null};function By(s,c,d,p){const _=wM(s,p,c),b=c[on],S=IM(p.parent||c[kn],p,c);if(null!=_)if(Array.isArray(d))for(let k=0;k<d.length;k++)EM(b,_,d[k],S,!1);else EM(b,_,d,S,!1);void 0!==v_&&v_(b,p,c,d,_)}function y_(s,c){if(null!==c){const d=c.type;if(3&d)return Ho(c,s);if(4&d)return jy(-1,s[c.index]);if(8&d){const p=c.child;if(null!==p)return y_(s,p);{const _=s[c.index];return Mr(_)?jy(-1,_):Mi(_)}}if(32&d)return bi(c,s)()||Mi(s[c.index]);{const p=SM(s,c);return null!==p?Array.isArray(p)?p[0]:y_(Ks(s[xr]),p):y_(s,c.next)}}return null}function SM(s,c){return null!==c?s[xr][kn].projection[c.projection]:null}function jy(s,c){const d=Hi+s+1;if(d<c.length){const p=c[d],_=p[Et].firstChild;if(null!==_)return y_(p,_)}return c[Ar]}function b_(s,c,d,p,_,b,M){for(;null!=d;){const S=p[d.index],k=d.type;if(M&&0===c&&(S&&V(Mi(S),p),d.flags|=2),32!=(32&d.flags))if(8&k)b_(s,c,d.child,p,_,b,!1),Cd(c,s,_,S,b);else if(32&k){const B=bi(d,p);let W;for(;W=B();)Cd(c,s,_,W,b);Cd(c,s,_,S,b)}else 16&k?DM(s,c,p,d,_,b):Cd(c,s,_,S,b);d=M?d.projectionNext:d.next}}function vh(s,c,d,p,_,b){b_(d,p,s.firstChild,c,_,b,!1)}function DM(s,c,d,p,_,b){const M=d[xr],k=M[kn].projection[p.projection];if(Array.isArray(k))for(let B=0;B<k.length;B++)Cd(c,s,_,k[B],b);else{let B=k;const W=M[Ii];nu(p)&&(B.flags|=128),b_(s,c,B,W,_,b,!0)}}function OM(s,c,d){""===d?s.removeAttribute(c,"class"):s.setAttribute(c,"class",d)}function w_(s,c,d){const{mergedAttrs:p,classes:_,styles:b}=d;null!==p&&No(s,c,p),null!==_&&OM(s,c,_),null!==b&&function AA(s,c,d){s.setAttribute(c,"style",d)}(s,c,b)}function fp(s){return function $y(){if(void 0===Hy&&(Hy=null,Ee.trustedTypes))try{Hy=Ee.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Hy}()?.createHTML(s)||s}function PM(s){Pw=s}function Tm(){if(void 0!==Pw)return Pw;if(typeof document<"u")return document;throw new xe(210,!1)}function Sm(){if(void 0===x_&&(x_=null,Ee.trustedTypes))try{x_=Ee.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return x_}function kM(s){return Sm()?.createHTML(s)||s}function qy(s){return Sm()?.createScriptURL(s)||s}class pp{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ze})`}}class NM extends pp{getTypeName(){return"HTML"}}class kA extends pp{getTypeName(){return"Style"}}class RA extends pp{getTypeName(){return"Script"}}class NA extends pp{getTypeName(){return"URL"}}class FA extends pp{getTypeName(){return"ResourceURL"}}function Ed(s){return s instanceof pp?s.changingThisBreaksApplicationSecurity:s}function yh(s,c){const d=function FM(s){return s instanceof pp&&s.getTypeName()||null}(s);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see ${Ze})`)}return d===c}function LA(s){return new NM(s)}function LM(s){return new kA(s)}function UA(s){return new RA(s)}function VA(s){return new NA(s)}function BA(s){return new FA(s)}class jA{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString(fp(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch{return null}}}class zA{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const d=this.inertDocument.createElement("template");return d.innerHTML=fp(c),d}}const kw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function E_(s){return(s=String(s)).match(kw)?s:"unsafe:"+s}function bh(s){const c={};for(const d of s.split(","))c[d]=!0;return c}function Gy(...s){const c={};for(const d of s)for(const p in d)d.hasOwnProperty(p)&&(c[p]=!0);return c}const HA=bh("area,br,col,hr,img,wbr"),$A=bh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Id=bh("rp,rt"),BM=Gy(HA,Gy($A,bh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gy(Id,bh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gy(Id,$A)),Nw=bh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zM=Gy(Nw,bh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qA=bh("script,style,template");class GA{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,p=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?p=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,p&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let _=this.checkClobberedElement(d,d.nextSibling);if(_){d=_;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!BM.hasOwnProperty(d))return this.sanitizedSomething=!0,!qA.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const p=c.attributes;for(let _=0;_<p.length;_++){const b=p.item(_),M=b.name,S=M.toLowerCase();if(!zM.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let k=b.value;Nw[S]&&(k=E_(k)),this.buf.push(" ",M,'="',ZA(k),'"')}return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();BM.hasOwnProperty(d)&&!HA.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(ZA(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const WA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,C2=/([^\#-~ |!])/g;function ZA(s){return s.replace(/&/g,"&amp;").replace(WA,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(C2,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fw;function HM(s,c){let d=null;try{Fw=Fw||function UM(s){const c=new zA(s);return function VM(){try{return!!(new window.DOMParser).parseFromString(fp(""),"text/html")}catch{return!1}}()?new jA(c):c}(s);let p=c?String(c):"";d=Fw.getInertBodyElement(p);let _=5,b=p;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,p=b,b=d.innerHTML,d=Fw.getInertBodyElement(p)}while(p!==b);return fp((new GA).sanitizeChildren($M(d)||d))}finally{if(d){const p=$M(d)||d;for(;p.firstChild;)p.removeChild(p.firstChild)}}}function $M(s){return"content"in s&&function x2(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Om=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(Om||{});function dt(s){const c=mp();return c?kM(c.sanitize(Om.HTML,s)||""):yh(s,"HTML")?kM(Ed(s)):HM(Tm(),$e(s))}function ou(s){const c=mp();return c?c.sanitize(Om.URL,s)||"":yh(s,"URL")?Ed(s):E_($e(s))}function ie(s){const c=mp();if(c)return qy(c.sanitize(Om.RESOURCE_URL,s)||"");if(yh(s,"ResourceURL"))return qy(Ed(s));throw new xe(904,!1)}function Ao(s,c,d){return function YA(s,c){return"src"===c&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===c&&("base"===s||"link"===s)?ie:ou}(c,d)(s)}function mp(){const s=pt();return s&&s[Jo].sanitizer}class nr{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=fn({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const I_=new nr("ENVIRONMENT_INITIALIZER"),GM=new nr("INJECTOR",-1),Vw=new nr("INJECTOR_DEF_TYPES");class Bw{get(c,d=pi){if(d===pi){const p=new Error(`NullInjectorError: No provider for ${de(c)}!`);throw p.name="NullInjectorError",p}return d}}function KA(...s){return{\u0275providers:ZM(0,s),\u0275fromNgModule:!0}}function ZM(s,...c){const d=[],p=new Set;let _;const b=M=>{d.push(M)};return bl(c,M=>{const S=M;gp(S,b,[],p)&&(_||=[],_.push(S))}),void 0!==_&&Js(_,b),d}function Js(s,c){for(let d=0;d<s.length;d++){const{ngModule:p,providers:_}=s[d];M_(_,b=>{c(b,p)})}}function gp(s,c,d,p){if(!(s=st(s)))return!1;let _=null,b=wi(s);const M=!b&&zn(s);if(b||M){if(M&&!M.standalone)return!1;_=s}else{const k=s.ngModule;if(b=wi(k),!b)return!1;_=k}const S=p.has(_);if(M){if(S)return!1;if(p.add(_),M.dependencies){const k="function"==typeof M.dependencies?M.dependencies():M.dependencies;for(const B of k)gp(B,c,d,p)}}else{if(!b)return!1;{if(null!=b.imports&&!S){let B;p.add(_);try{bl(b.imports,W=>{gp(W,c,d,p)&&(B||=[],B.push(W))})}finally{}void 0!==B&&Js(B,c)}if(!S){const B=js(_)||(()=>new _);c({provide:_,useFactory:B,deps:kt},_),c({provide:Vw,useValue:_,multi:!0},_),c({provide:I_,useValue:()=>St(_),multi:!0},_)}const k=b.providers;if(null!=k&&!S){const B=s;M_(k,W=>{c(W,B)})}}}return _!==s&&void 0!==s.providers}function M_(s,c){for(let d of s)Re(d)&&(d=d.\u0275providers),Array.isArray(d)?M_(d,c):c(d)}const Wy=z({provide:String,useValue:z});function Am(s){return null!==s&&"object"==typeof s&&Wy in s}function _p(s){return"function"==typeof s}const jw=new nr("Set Injector scope."),Yy={},T_={};let Ky;function vp(){return void 0===Ky&&(Ky=new Bw),Ky}class Nu{}class Qy extends Nu{get destroyed(){return this._destroyed}constructor(c,d,p,_){super(),this.parent=d,this.source=p,this.scopes=_,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yp(c,M=>this.processProvider(M)),this.records.set(GM,lf(void 0,this)),_.has("environment")&&this.records.set(Nu,lf(void 0,this));const b=this.records.get(jw);null!=b&&"string"==typeof b.value&&this.scopes.add(b.value),this.injectorDefTypes=new Set(this.get(Vw.multi,kt,sn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const d of this._ngOnDestroyHooks)d.ngOnDestroy();const c=this._onDestroyHooks;this._onDestroyHooks=[];for(const d of c)d()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(c){return this.assertNotDestroyed(),this._onDestroyHooks.push(c),()=>this.removeOnDestroy(c)}runInContext(c){this.assertNotDestroyed();const d=Oe(this),p=zt(void 0);try{return c()}finally{Oe(d),zt(p)}}get(c,d=pi,p=sn.Default){if(this.assertNotDestroyed(),c.hasOwnProperty(_o))return c[_o](this);p=Xn(p);const b=Oe(this),M=zt(void 0);try{if(!(p&sn.SkipSelf)){let k=this.records.get(c);if(void 0===k){const B=function XM(s){return"function"==typeof s||"object"==typeof s&&s instanceof nr}(c)&&Ut(c);k=B&&this.injectableDefInScope(B)?lf(zw(c),Yy):null,this.records.set(c,k)}if(null!=k)return this.hydrate(c,k)}return(p&sn.Self?vp():this.parent).get(c,d=p&sn.Optional&&d===pi?null:d)}catch(S){if("NullInjectorError"===S.name){if((S[_r]=S[_r]||[]).unshift(de(c)),b)throw S;return function vr(s,c,d,p){const _=s[_r];throw c[X]&&_.unshift(c[X]),s.message=function Yo(s,c,d,p=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let _=de(c);if(Array.isArray(c))_=c.map(de).join(" -> ");else if("object"==typeof c){let b=[];for(let M in c)if(c.hasOwnProperty(M)){let S=c[M];b.push(M+":"+("string"==typeof S?JSON.stringify(S):de(S)))}_=`{${b.join(", ")}}`}return`${d}${p?"("+p+")":""}[${_}]: ${s.replace(fe,"\n  ")}`}("\n"+s.message,_,d,p),s.ngTokenPath=_,s[_r]=null,s}(S,c,"R3InjectorError",this.source)}throw S}finally{zt(M),Oe(b)}}resolveInjectorInitializers(){const c=Oe(this),d=zt(void 0);try{const _=this.get(I_.multi,kt,sn.Self);for(const b of _)b()}finally{Oe(c),zt(d)}}toString(){const c=[],d=this.records;for(const p of d.keys())c.push(de(p));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(c){let d=_p(c=st(c))?c:st(c&&c.provide);const p=function JA(s){return Am(s)?lf(void 0,s.useValue):lf(Hw(s),Yy)}(c);if(_p(c)||!0!==c.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=lf(void 0,Yy,!0),_.factory=()=>xn(_.multi),this.records.set(d,_)),d=c,_.multi.push(c)}this.records.set(d,p)}hydrate(c,d){return d.value===Yy&&(d.value=T_,d.value=d.factory()),"object"==typeof d.value&&d.value&&function $w(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(c){if(!c.providedIn)return!1;const d=st(c.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}removeOnDestroy(c){const d=this._onDestroyHooks.indexOf(c);-1!==d&&this._onDestroyHooks.splice(d,1)}}function zw(s){const c=Ut(s),d=null!==c?c.factory:js(s);if(null!==d)return d;if(s instanceof nr)throw new xe(204,!1);if(s instanceof Function)return function QA(s){const c=s.length;if(c>0)throw _d(c,"?"),new xe(204,!1);const d=function Vn(s){return s&&(s[Oi]||s[zi])||null}(s);return null!==d?()=>d.factory(s):()=>new s}(s);throw new xe(204,!1)}function Hw(s,c,d){let p;if(_p(s)){const _=st(s);return js(_)||zw(_)}if(Am(s))p=()=>st(s.useValue);else if(function KM(s){return!(!s||!s.useFactory)}(s))p=()=>s.useFactory(...xn(s.deps||[]));else if(function Zy(s){return!(!s||!s.useExisting)}(s))p=()=>St(st(s.useExisting));else{const _=st(s&&(s.useClass||s.provide));if(!function JM(s){return!!s.deps}(s))return js(_)||zw(_);p=()=>new _(...xn(s.deps))}return p}function lf(s,c,d=!1){return{factory:s,value:c,multi:d?[]:void 0}}function yp(s,c){for(const d of s)Array.isArray(d)?yp(d,c):d&&Re(d)?yp(d.\u0275providers,c):c(d)}const eT=new nr("AppId",{providedIn:"root",factory:()=>qw}),qw="ng",Jy=new nr("Platform Initializer"),Gw=new nr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ww=new nr("AnimationModuleType"),Zw=new nr("CSP nonce",{providedIn:"root",factory:()=>Tm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let nT=(s,c,d)=>null;function Qw(s,c,d=!1){return nT(s,c,d)}class aT{}class iP{}class eC{resolveComponentFactory(c){throw function rP(s){const c=Error(`No component factory found for ${de(s)}.`);return c.ngComponent=s,c}(c)}}let ab=(()=>{class s{static#e=this.NULL=new eC}return s})();function S2(){return km(Mo(),pt())}function km(s,c){return new Rm(Ho(s,c))}let Rm=(()=>{class s{constructor(d){this.nativeElement=d}static#e=this.__NG_ELEMENT_ID__=S2}return s})();function sP(s){return s instanceof Rm?s.nativeElement:s}class tC{}let nC=(()=>{class s{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function wp(){const s=pt(),d=Ki(Mo().index,s);return(Zr(d)?d:s)[on]}()}return s})(),D2=(()=>{class s{static#e=this.\u0275prov=fn({token:s,providedIn:"root",factory:()=>null})}return s})();class cb{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const aP=new cb("16.2.7"),iC={};function Cp(s,c=null,d=null,p){const _=uT(s,c,d,p);return _.resolveInjectorInitializers(),_}function uT(s,c=null,d=null,p,_=new Set){const b=[d||kt,KA(s)];return p=p||("object"==typeof s?void 0:de(s)),new Qy(b,c||vp(),p||null,_)}let su=(()=>{class s{static#e=this.THROW_IF_NOT_FOUND=pi;static#t=this.NULL=new Bw;static create(d,p){if(Array.isArray(d))return Cp({name:""},p,d,"");{const _=d.name??"";return Cp({name:_},d.parent,d.providers,_)}}static#n=this.\u0275prov=fn({token:s,providedIn:"any",factory:()=>St(GM)});static#i=this.__NG_ELEMENT_ID__=-1}return s})();function xp(s){return s.ngOriginalError}class Md{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c);this._console.error("ERROR",c),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(c){let d=c&&xp(c);for(;d&&xp(d);)d=xp(d);return d||null}}function sC(s){return c=>{setTimeout(s,void 0,c)}}const Td=class dP extends a.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,p){let _=c,b=d||(()=>null),M=p;if(c&&"object"==typeof c){const k=c;_=k.next?.bind(k),b=k.error?.bind(k),M=k.complete?.bind(k)}this.__isAsync&&(b=sC(b),_&&(_=sC(_)),M&&(M=sC(M)));const S=super.subscribe({next:_,error:b,complete:M});return c instanceof U.w0&&c.add(S),S}};function hT(...s){}class Xs{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:p=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Td(!1),this.onMicrotaskEmpty=new Td(!1),this.onStable=new Td(!1),this.onError=new Td(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const _=this;_._nesting=0,_._outer=_._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(_._inner=_._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(_._inner=_._inner.fork(Zone.longStackTraceZoneSpec)),_.shouldCoalesceEventChangeDetection=!p&&d,_.shouldCoalesceRunChangeDetection=p,_.lastRequestAnimationFrameId=-1,_.nativeRequestAnimationFrame=function hP(){const s="function"==typeof Ee.requestAnimationFrame;let c=Ee[s?"requestAnimationFrame":"setTimeout"],d=Ee[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&c&&d){const p=c[Zone.__symbol__("OriginalDelegate")];p&&(c=p);const _=d[Zone.__symbol__("OriginalDelegate")];_&&(d=_)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function V2(s){const c=()=>{!function U2(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ee,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,pT(s),s.isCheckStableRunning=!0,fT(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),pT(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,p,_,b,M,S)=>{if(function gP(s){return!(!Array.isArray(s)||1!==s.length)&&!0===s[0].data?.__ignore_ng_zone__}(S))return d.invokeTask(_,b,M,S);try{return fP(s),d.invokeTask(_,b,M,S)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||s.shouldCoalesceRunChangeDetection)&&c(),mT(s)}},onInvoke:(d,p,_,b,M,S,k)=>{try{return fP(s),d.invoke(_,b,M,S,k)}finally{s.shouldCoalesceRunChangeDetection&&c(),mT(s)}},onHasTask:(d,p,_,b)=>{d.hasTask(_,b),p===_&&("microTask"==b.change?(s._hasPendingMicrotasks=b.microTask,pT(s),fT(s)):"macroTask"==b.change&&(s.hasPendingMacrotasks=b.macroTask))},onHandleError:(d,p,_,b)=>(d.handleError(_,b),s.runOutsideAngular(()=>s.onError.emit(b)),!1)})}(_)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xs.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(Xs.isInAngularZone())throw new xe(909,!1)}run(c,d,p){return this._inner.run(c,d,p)}runTask(c,d,p,_){const b=this._inner,M=b.scheduleEventTask("NgZoneEvent: "+_,c,L2,hT,hT);try{return b.runTask(M,d,p)}finally{b.cancelTask(M)}}runGuarded(c,d,p){return this._inner.runGuarded(c,d,p)}runOutsideAngular(c){return this._outer.run(c)}}const L2={};function fT(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function pT(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function fP(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function mT(s){s._nesting--,fT(s)}class B2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Td,this.onMicrotaskEmpty=new Td,this.onStable=new Td,this.onError=new Td}run(c,d,p){return c.apply(d,p)}runGuarded(c,d,p){return c.apply(d,p)}runOutsideAngular(c){return c()}runTask(c,d,p,_){return c.apply(d,p)}}const pP=new nr("",{providedIn:"root",factory:mP});function mP(){const s=Vt(Xs);let c=!0;const d=new Y.y(_=>{c=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{_.next(c),_.complete()})}),p=new Y.y(_=>{let b;s.runOutsideAngular(()=>{b=s.onStable.subscribe(()=>{Xs.assertNotInAngularZone(),queueMicrotask(()=>{!c&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(c=!0,_.next(!0))})})});const M=s.onUnstable.subscribe(()=>{Xs.assertInAngularZone(),c&&(c=!1,s.runOutsideAngular(()=>{_.next(!1)}))});return()=>{b.unsubscribe(),M.unsubscribe()}});return(0,pe.T)(d,p.pipe((0,Ae.B)()))}function _P(s){return s.ownerDocument.defaultView}function hf(s){return s instanceof Function?s():s}let gT=(()=>{class s{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=fn({token:s,providedIn:"root",factory:()=>new s})}return s})();function lb(s){for(;s;){s[En]|=64;const c=Ks(s);if(da(s)&&!c)return s;s=c}return null}const CP=new nr("",{providedIn:"root",factory:()=>!1});let cC=null;function MP(s,c){return s[c]??DP()}function TP(s,c){const d=DP();d.producerNode?.length&&(s[c]=cC,d.lView=s,cC=SP())}const K2={...Nc,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{lb(s.lView)},lView:null};function SP(){return Object.create(K2)}function DP(){return cC??=SP(),cC}const si={};function OP(s){AP(ii(),pt(),ts()+s,!1)}function AP(s,c,d,p){if(!p)if(3==(3&c[En])){const b=s.preOrderCheckHooks;null!==b&&jr(c,b,d)}else{const b=s.preOrderHooks;null!==b&&Hc(c,b,0,d)}ga(d)}function Nm(s,c=sn.Default){const d=pt();return null===d?St(s,c):Ws(Mo(),d,st(s),c)}function PP(){throw new Error("invalid")}function lC(s,c,d,p,_,b,M,S,k,B,W){const se=c.blueprint.slice();return se[Pi]=_,se[En]=140|p,(null!==B||s&&2048&s[En])&&(se[En]|=2048),th(se),se[Ii]=se[Cr]=s,se[ki]=d,se[Jo]=M||s&&s[Jo],se[on]=S||s&&s[on],se[ca]=k||s&&s[ca]||null,se[kn]=b,se[Ir]=function Iw(){return vM++}(),se[Vi]=W,se[la]=B,se[xr]=2==c.type?s[xr]:se,se}function Fm(s,c,d,p,_){let b=s.data[c];if(null===b)b=function El(s,c,d,p,_){const b=rd(),M=Qi(),k=s.data[c]=function FP(s,c,d,p,_,b){let M=c?c.injectorIndex:-1,S=0;return Is()&&(S|=128),{type:d,index:p,insertBeforeIndex:null,injectorIndex:M,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:S,providerIndexes:0,value:_,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,M?b:b&&b.parent,d,c,p,_);return null===s.firstChild&&(s.firstChild=k),null!==b&&(M?null==b.child&&null!==k.parent&&(b.child=k):null===b.next&&(b.next=k,k.prev=b)),k}(s,c,d,p,_),function Gh(){return In.lFrame.inI18n}()&&(b.flags|=32);else if(64&b.type){b.type=d,b.value=p,b.attrs=_;const M=function To(){const s=In.lFrame,c=s.currentTNode;return s.isParent?c:c.parent}();b.injectorIndex=null===M?-1:M.injectorIndex}return So(b,!0),b}function $t(s,c,d,p){if(0===d)return-1;const _=c.length;for(let b=0;b<d;b++)c.push(p),s.blueprint.push(p),s.data.push(null);return _}function ub(s,c,d,p,_){const b=MP(c,Vo),M=ts(),S=2&p;try{ga(-1),S&&c.length>ei&&AP(s,c,ei,!1),Es(S?2:0,_);const B=S?b:null,W=ll(B);try{null!==B&&(B.dirty=!1),d(p,_)}finally{yi(B,W)}}finally{S&&null===c[Vo]&&TP(c,Vo),ga(M),Es(S?3:1,_)}}function Zn(s,c,d){if(cl(c)){const p=Kr(null);try{const b=c.directiveEnd;for(let M=c.directiveStart;M<b;M++){const S=s.data[M];S.contentQueries&&S.contentQueries(1,d[M],M)}}finally{Kr(p)}}}function Lm(s,c,d){Wi()&&(function bT(s,c,d,p){const _=d.directiveStart,b=d.directiveEnd;Pr(d)&&function mC(s,c,d){const p=Ho(c,s),_=_T(d);let M=16;d.signals?M=4096:d.onPush&&(M=64);const S=Ip(s,lC(s,_,null,M,p,c,null,s[Jo].rendererFactory.createRenderer(p,d),null,null,null));s[c.index]=S}(c,d,s.data[_+d.componentOffset]),s.firstCreatePass||Gs(d,c),V(p,c);const M=d.initialInputs;for(let S=_;S<b;S++){const k=s.data[S],B=Ua(c,s,S,d);V(B,c),null!==M&&V_(0,S-_,B,k,0,M),di(k)&&(Ki(d.index,c)[ki]=Ua(c,s,S,d))}}(s,c,d,Ho(d,c)),64==(64&d.flags)&&pb(s,c,d))}function Ep(s,c,d=Ho){const p=c.localNames;if(null!==p){let _=c.index+1;for(let b=0;b<p.length;b+=2){const M=p[b+1],S=-1===M?d(c,s):s[M];s[_++]=S}}}function _T(s){const c=s.tView;return null===c||c.incompleteFirstPass?s.tView=F_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):c}function F_(s,c,d,p,_,b,M,S,k,B,W){const se=ei+p,Ie=se+_,Be=function kP(s,c){const d=[];for(let p=0;p<c;p++)d.push(p<s?null:si);return d}(se,Ie),ft="function"==typeof B?B():B;return Be[Et]={type:s,blueprint:Be,template:d,queries:null,viewQuery:S,declTNode:c,data:Be.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:Ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof M?M():M,firstChild:null,schemas:k,consts:ft,incompleteFirstPass:!1,ssrId:W}}let ya=s=>null;function uC(s,c,d,p){for(let _ in s)if(s.hasOwnProperty(_)){d=null===d?{}:d;const b=s[_];null===p?hb(d,c,_,b):p.hasOwnProperty(_)&&hb(d,c,p[_],b)}return d}function hb(s,c,d,p){s.hasOwnProperty(d)?s[d].push(c,p):s[d]=[c,p]}function Il(s,c,d,p,_,b,M,S){const k=Ho(c,d);let W,B=c.inputs;!S&&null!=B&&(W=B[p])?(H_(s,d,W,p,_),Pr(c)&&function L_(s,c){const d=Ki(c,s);16&d[En]||(d[En]|=64)}(d,c.index)):3&c.type&&(p=function za(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(p),_=null!=M?M(_,c.value||"",p):_,b.setProperty(k,p,_))}function U_(s,c,d,p){if(Wi()){const _=null===p?null:{"":-1},b=function UP(s,c){const d=s.directiveRegistry;let p=null,_=null;if(d)for(let b=0;b<d.length;b++){const M=d[b];if(nc(c,M.selectors,!1))if(p||(p=[]),di(M))if(null!==M.findHostDirectiveDefs){const S=[];_=_||new Map,M.findHostDirectiveDefs(M,S,_),p.unshift(...S,M),mb(s,c,S.length)}else p.unshift(M),mb(s,c,0);else _=_||new Map,M.findHostDirectiveDefs?.(M,p,_),p.push(M)}return null===p?null:[p,_]}(s,d);let M,S;null===b?M=S=null:[M,S]=b,null!==M&&yT(s,c,d,M,_,S),_&&function dC(s,c,d){if(c){const p=s.localNames=[];for(let _=0;_<c.length;_+=2){const b=d[c[_+1]];if(null==b)throw new xe(-301,!1);p.push(c[_],b)}}}(d,p,_)}d.mergedAttrs=Ko(d.mergedAttrs,d.attrs)}function yT(s,c,d,p,_,b){for(let B=0;B<p.length;B++)Ql(Gs(d,c),s,p[B].type);!function fC(s,c,d){s.flags|=1,s.directiveStart=c,s.directiveEnd=c+d,s.providerIndexes=c}(d,s.data.length,p.length);for(let B=0;B<p.length;B++){const W=p[B];W.providersResolver&&W.providersResolver(W)}let M=!1,S=!1,k=$t(s,c,p.length,null);for(let B=0;B<p.length;B++){const W=p[B];d.mergedAttrs=Ko(d.mergedAttrs,W.hostAttrs),pC(s,d,c,k,W),hC(k,W,_),null!==W.contentQueries&&(d.flags|=4),(null!==W.hostBindings||null!==W.hostAttrs||0!==W.hostVars)&&(d.flags|=64);const se=W.type.prototype;!M&&(se.ngOnChanges||se.ngOnInit||se.ngDoCheck)&&((s.preOrderHooks??=[]).push(d.index),M=!0),!S&&(se.ngOnChanges||se.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(d.index),S=!0),k++}!function vT(s,c,d){const _=c.directiveEnd,b=s.data,M=c.attrs,S=[];let k=null,B=null;for(let W=c.directiveStart;W<_;W++){const se=b[W],Ie=d?d.get(se):null,ft=Ie?Ie.outputs:null;k=uC(se.inputs,W,k,Ie?Ie.inputs:null),B=uC(se.outputs,W,B,ft);const Tt=null===k||null===M||xi(c)?null:B_(k,W,M);S.push(Tt)}null!==k&&(k.hasOwnProperty("class")&&(c.flags|=8),k.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=S,c.inputs=k,c.outputs=B}(s,d,b)}function pb(s,c,d){const p=d.directiveStart,_=d.directiveEnd,b=d.index,M=function vm(){return In.lFrame.currentDirectiveIndex}();try{ga(b);for(let S=p;S<_;S++){const k=s.data[S],B=c[S];Eu(S),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&wT(k,B)}}finally{ga(-1),Eu(M)}}function wT(s,c){null!==s.hostBindings&&s.hostBindings(1,c)}function mb(s,c,d){c.componentOffset=d,(s.components??=[]).push(c.index)}function hC(s,c,d){if(d){if(c.exportAs)for(let p=0;p<c.exportAs.length;p++)d[c.exportAs[p]]=s;di(c)&&(d[""]=s)}}function pC(s,c,d,p,_){s.data[p]=_;const b=_.factory||(_.factory=js(_.type)),M=new sd(b,di(_),Nm);s.blueprint[p]=M,d[p]=M,function LP(s,c,d,p,_){const b=_.hostBindings;if(b){let M=s.hostBindingOpCodes;null===M&&(M=s.hostBindingOpCodes=[]);const S=~c.index;(function Um(s){let c=s.length;for(;c>0;){const d=s[--c];if("number"==typeof d&&d<0)return d}return 0})(M)!=S&&M.push(S),M.push(d,p,b)}}(s,c,p,$t(s,d,_.hostVars,si),_)}function Fu(s,c,d,p,_,b){const M=Ho(s,c);!function gC(s,c,d,p,_,b,M){if(null==b)s.removeAttribute(c,_,d);else{const S=null==M?$e(b):M(b,p||"",_);s.setAttribute(c,_,S,d)}}(c[on],M,b,s.value,d,p,_)}function V_(s,c,d,p,_,b){const M=b[c];if(null!==M)for(let S=0;S<M.length;)CT(p,d,M[S++],M[S++],M[S++])}function CT(s,c,d,p,_){const b=Kr(null);try{const M=s.inputTransforms;null!==M&&M.hasOwnProperty(p)&&(_=M[p].call(c,_)),null!==s.setInput?s.setInput(c,_,d,p):c[p]=_}finally{Kr(b)}}function B_(s,c,d){let p=null,_=0;for(;_<d.length;){const b=d[_];if(0!==b)if(5!==b){if("number"==typeof b)break;if(s.hasOwnProperty(b)){null===p&&(p=[]);const M=s[b];for(let S=0;S<M.length;S+=2)if(M[S]===c){p.push(b,M[S+1],d[_+1]);break}}_+=2}else _+=2;else _+=4}return p}function xT(s,c,d,p){return[s,!0,!1,c,null,0,p,d,null,null,null]}function ET(s,c){const d=s.contentQueries;if(null!==d)for(let p=0;p<d.length;p+=2){const b=d[p+1];if(-1!==b){const M=s.data[b];ml(d[p]),M.contentQueries(2,c[b],b)}}}function Ip(s,c){return s[qr]?s[Ll][so]=c:s[qr]=c,s[Ll]=c,c}function j_(s,c,d){ml(0);const p=Kr(null);try{c(s,d)}finally{Kr(p)}}function _C(s){return s[Qo]||(s[Qo]=[])}function vC(s){return s.cleanup||(s.cleanup=[])}function z_(s,c){const d=s[ca],p=d?d.get(Md,null):null;p&&p.handleError(c)}function H_(s,c,d,p,_){for(let b=0;b<d.length;){const M=d[b++],S=d[b++];CT(s.data[M],c[M],p,S,_)}}function Lu(s,c,d){const p=Na(c,s);!function Fy(s,c,d){s.setValue(c,d)}(s[on],p,d)}function bC(s,c){const d=Ki(c,s),p=d[Et];!function wC(s,c){for(let d=c.length;d<s.blueprint.length;d++)c.push(s.blueprint[d])}(p,d);const _=d[Pi];null!==_&&null===d[Vi]&&(d[Vi]=Qw(_,d[ca])),gb(p,d,d[ki])}function gb(s,c,d){ql(c);try{const p=s.viewQuery;null!==p&&j_(1,p,d);const _=s.template;null!==_&&ub(s,c,_,1,d),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&ET(s,c),s.staticViewQueries&&j_(2,s.viewQuery,d);const b=s.components;null!==b&&function IT(s,c){for(let d=0;d<c.length;d++)bC(s,c[d])}(c,b)}catch(p){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),p}finally{c[En]&=-5,hc()}}let MT=(()=>{class s{constructor(){this.all=new Set,this.queue=new Map}create(d,p,_){const b=typeof Zone>"u"?null:Zone.current,M=function Io(s,c,d){const p=Object.create(zh);d&&(p.consumerAllowSignalWrites=!0),p.fn=s,p.schedule=c;const _=M=>{p.cleanupFn=M};return p.ref={notify:()=>pa(p),run:()=>{if(p.dirty=!1,p.hasRun&&!zo(p))return;p.hasRun=!0;const M=ll(p);try{p.cleanupFn(),p.cleanupFn=ed,p.fn(_)}finally{yi(p,M)}},cleanup:()=>p.cleanupFn()},p.ref}(d,B=>{this.all.has(B)&&this.queue.set(B,b)},_);let S;this.all.add(M),M.notify();const k=()=>{M.cleanup(),S?.(),this.all.delete(M),this.queue.delete(M)};return S=p?.onDestroy(k),{destroy:k}}flush(){if(0!==this.queue.size)for(const[d,p]of this.queue)this.queue.delete(d),p?p.run(()=>d.run()):d.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=fn({token:s,providedIn:"root",factory:()=>new s})}return s})();function $_(s,c,d){let p=d?s.styles:null,_=d?s.classes:null,b=0;if(null!==c)for(let M=0;M<c.length;M++){const S=c[M];"number"==typeof S?b=S:1==b?_=Ne(_,S):2==b&&(p=Ne(p,S+": "+c[++M]+";"))}d?s.styles=p:s.stylesWithoutHost=p,d?s.classes=_:s.classesWithoutHost=_}function Mp(s,c,d,p,_=!1){for(;null!==d;){const b=c[d.index];null!==b&&p.push(Mi(b)),Mr(b)&&CC(b,p);const M=d.type;if(8&M)Mp(s,c,d.child,p);else if(32&M){const S=bi(d,c);let k;for(;k=S();)p.push(k)}else if(16&M){const S=SM(c,d);if(Array.isArray(S))p.push(...S);else{const k=Ks(c[xr]);Mp(k[Et],k,S,p,!0)}}d=_?d.projectionNext:d.next}return p}function CC(s,c){for(let d=Hi;d<s.length;d++){const p=s[d],_=p[Et].firstChild;null!==_&&Mp(p[Et],p,_,c)}s[Ar]!==s[Pi]&&c.push(s[Ar])}function _b(s,c,d,p=!0){const _=c[Jo],b=_.rendererFactory,M=_.afterRenderEventManager;b.begin?.(),M?.begin();try{vb(s,c,s.template,d)}catch(k){throw p&&z_(c,k),k}finally{b.end?.(),_.effectManager?.flush(),M?.end()}}function vb(s,c,d,p){const _=c[En];if(256!=(256&_)){c[Jo].effectManager?.flush(),ql(c);try{th(c),function co(s){return In.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==d&&ub(s,c,d,2,p);const M=3==(3&_);if(M){const B=s.preOrderCheckHooks;null!==B&&jr(c,B,null)}else{const B=s.preOrderHooks;null!==B&&Hc(c,B,0,null),Nr(c,0)}if(function ba(s){for(let c=dp(s);null!==c;c=cf(c)){if(!c[Oa])continue;const d=c[Wr];for(let p=0;p<d.length;p++){Bc(d[p])}}}(c),Os(c,2),null!==s.contentQueries&&ET(s,c),M){const B=s.contentCheckHooks;null!==B&&jr(c,B)}else{const B=s.contentHooks;null!==B&&Hc(c,B,1),Nr(c,1)}!function Q2(s,c){const d=s.hostBindingOpCodes;if(null===d)return;const p=MP(c,Gr);try{for(let _=0;_<d.length;_++){const b=d[_];if(b<0)ga(~b);else{const M=b,S=d[++_],k=d[++_];od(S,M),p.dirty=!1;const B=ll(p);try{k(2,c[M])}finally{yi(p,B)}}}}finally{null===c[Gr]&&TP(c,Gr),ga(-1)}}(s,c);const S=s.components;null!==S&&DT(c,S,0);const k=s.viewQuery;if(null!==k&&j_(2,k,p),M){const B=s.viewCheckHooks;null!==B&&jr(c,B)}else{const B=s.viewHooks;null!==B&&Hc(c,B,2),Nr(c,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),c[En]&=-73,$h(c)}finally{hc()}}}function Os(s,c){for(let d=dp(s);null!==d;d=cf(d))for(let p=Hi;p<d.length;p++)bb(d[p],c)}function yb(s,c,d){bb(Ki(c,s),d)}function bb(s,c){if(!function eh(s){return 128==(128&s[En])}(s))return;const d=s[Et],p=s[En];if(80&p&&0===c||1024&p||2===c)vb(d,s,d.template,s[ki]);else if(s[Bs]>0){Os(s,1);const _=d.components;null!==_&&DT(s,_,1)}}function DT(s,c,d){for(let p=0;p<c.length;p++)yb(s,c[p],d)}class q_{get rootNodes(){const c=this._lView,d=c[Et];return Mp(d,c,d.firstChild,[])}constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ki]}set context(c){this._lView[ki]=c}get destroyed(){return 256==(256&this._lView[En])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[Ii];if(Mr(c)){const d=c[8],p=d?d.indexOf(this):-1;p>-1&&(Uy(c,p),gd(d,p))}this._attachedToViewContainer=!1}Tw(this._lView[Et],this._lView)}onDestroy(c){!function lc(s,c){if(256==(256&s[En]))throw new xe(911,!1);null===s[Da]&&(s[Da]=[]),s[Da].push(c)}(this._lView,c)}markForCheck(){lb(this._cdRefInjectingView||this._lView)}detach(){this._lView[En]&=-129}reattach(){this._lView[En]|=128}detectChanges(){_b(this._lView[Et],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function yM(s,c){vh(s,c,c[on],2,null,null)}(this._lView[Et],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=c}}class VP extends q_{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;_b(c[Et],c,c[ki],!1)}checkNoChanges(){}get context(){return null}}class EC extends ab{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=zn(c);return new Ch(d,this.ngModule)}}function OT(s){const c=[];for(let d in s)s.hasOwnProperty(d)&&c.push({propName:s[d],templateName:d});return c}class jP{constructor(c,d){this.injector=c,this.parentInjector=d}get(c,d,p){p=Xn(p);const _=this.injector.get(c,iC,p);return _!==iC||d===iC?_:this.parentInjector.get(c,d,p)}}class Ch extends iP{get inputs(){const c=this.componentDef,d=c.inputTransforms,p=OT(c.inputs);if(null!==d)for(const _ of p)d.hasOwnProperty(_.propName)&&(_.transform=d[_.propName]);return p}get outputs(){return OT(this.componentDef.outputs)}constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=function sl(s){return s.map(oa).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}create(c,d,p,_){let b=(_=_||this.ngModule)instanceof Nu?_:_?.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const M=b?new jP(c,b):c,S=M.get(tC,null);if(null===S)throw new xe(407,!1);const se={rendererFactory:S,sanitizer:M.get(D2,null),effectManager:M.get(MT,null),afterRenderEventManager:M.get(gT,null)},Ie=S.createRenderer(null,this.componentDef),Be=this.componentDef.selectors[0][0]||"div",ft=p?function RP(s,c,d,p){const b=p.get(CP,!1)||d===_t.ShadowDom,M=s.selectRootElement(c,b);return function NP(s){ya(s)}(M),M}(Ie,p,this.componentDef.encapsulation,M):_c(Ie,Be,function BP(s){const c=s.toLowerCase();return"svg"===c?Qd:"math"===c?"math":null}(Be)),vn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let yt=null;null!==ft&&(yt=Qw(ft,M,!0));const Kn=F_(0,null,null,1,0,null,null,null,null,null,null),ui=lC(null,Kn,null,vn,null,null,se,Ie,M,null,yt);let mr,Ga;ql(ui);try{const kh=this.componentDef;let Lf,RE=null;kh.findHostDirectiveDefs?(Lf=[],RE=new Map,kh.findHostDirectiveDefs(kh,Lf,RE),Lf.push(kh)):Lf=[kh];const NE=function IC(s,c){const d=s[Et],p=ei;return s[p]=c,Fm(d,p,2,"#host",null)}(ui,ft),FE=function AT(s,c,d,p,_,b,M){const S=_[Et];!function zP(s,c,d,p){for(const _ of s)c.mergedAttrs=Ko(c.mergedAttrs,_.hostAttrs);null!==c.mergedAttrs&&($_(c,c.mergedAttrs,!0),null!==d&&w_(p,d,c))}(p,s,c,M);let k=null;null!==c&&(k=Qw(c,_[ca]));const B=b.rendererFactory.createRenderer(c,d);let W=16;d.signals?W=4096:d.onPush&&(W=64);const se=lC(_,_T(d),null,W,_[s.index],s,b,B,null,null,k);return S.firstCreatePass&&mb(S,s,p.length-1),Ip(_,se),_[s.index]=se}(NE,ft,kh,Lf,ui,se,Ie);Ga=Jd(Kn,ei),ft&&function MC(s,c,d,p){if(p)No(s,d,["ng-version",aP.full]);else{const{attrs:_,classes:b}=function Fo(s){const c=[],d=[];let p=1,_=2;for(;p<s.length;){let b=s[p];if("string"==typeof b)2===_?""!==b&&c.push(b,s[++p]):8===_&&d.push(b);else{if(!$r(_))break;_=b}p++}return{attrs:c,classes:d}}(c.selectors[0]);_&&No(s,d,_),b&&b.length>0&&OM(s,d,b.join(" "))}}(Ie,kh,ft,p),void 0!==d&&function TC(s,c,d){const p=s.projection=[];for(let _=0;_<c.length;_++){const b=d[_];p.push(null!=b?Array.from(b):null)}}(Ga,this.ngContentSelectors,d),mr=function wb(s,c,d,p,_,b){const M=Mo(),S=_[Et],k=Ho(M,_);yT(S,_,M,d,null,p);for(let W=0;W<d.length;W++)V(Ua(_,S,M.directiveStart+W,M),_);pb(S,_,M),k&&V(k,_);const B=Ua(_,S,M.directiveStart+M.componentOffset,M);if(s[ki]=_[ki]=B,null!==b)for(const W of b)W(B,c);return Zn(S,M,s),B}(FE,kh,Lf,RE,ui,[PT]),gb(Kn,ui,null)}finally{hc()}return new G_(this.componentType,mr,km(Ga,ui),ui,Ga)}}class G_ extends aT{constructor(c,d,p,_,b){super(),this.location=p,this._rootLView=_,this._tNode=b,this.previousInputValues=null,this.instance=d,this.hostView=this.changeDetectorRef=new VP(_),this.componentType=c}setInput(c,d){const p=this._tNode.inputs;let _;if(null!==p&&(_=p[c])){if(this.previousInputValues??=new Map,this.previousInputValues.has(c)&&Object.is(this.previousInputValues.get(c),d))return;const b=this._rootLView;H_(b[Et],b,_,c,d),this.previousInputValues.set(c,d),lb(Ki(this._tNode.index,b))}}get injector(){return new Ri(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function PT(){const s=Mo();La(pt()[Et],s)}function Tp(s){let c=function kT(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),d=!0;const p=[s];for(;c;){let _;if(di(s))_=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new xe(903,!1);_=c.\u0275dir}if(_){if(d){p.push(_);const M=s;M.inputs=W_(s.inputs),M.inputTransforms=W_(s.inputTransforms),M.declaredInputs=W_(s.declaredInputs),M.outputs=W_(s.outputs);const S=_.hostBindings;S&&HP(s,S);const k=_.viewQuery,B=_.contentQueries;if(k&&NT(s,k),B&&Cb(s,B),G(s.inputs,_.inputs),G(s.declaredInputs,_.declaredInputs),G(s.outputs,_.outputs),null!==_.inputTransforms&&(null===M.inputTransforms&&(M.inputTransforms={}),G(M.inputTransforms,_.inputTransforms)),di(_)&&_.data.animation){const W=s.data;W.animation=(W.animation||[]).concat(_.data.animation)}}const b=_.features;if(b)for(let M=0;M<b.length;M++){const S=b[M];S&&S.ngInherit&&S(s),S===Tp&&(d=!1)}}c=Object.getPrototypeOf(c)}!function RT(s){let c=0,d=null;for(let p=s.length-1;p>=0;p--){const _=s[p];_.hostVars=c+=_.hostVars,_.hostAttrs=Ko(_.hostAttrs,d=Ko(d,_.hostAttrs))}}(p)}function W_(s){return s===Zt?{}:s===kt?[]:s}function NT(s,c){const d=s.viewQuery;s.viewQuery=d?(p,_)=>{c(p,_),d(p,_)}:c}function Cb(s,c){const d=s.contentQueries;s.contentQueries=d?(p,_,b)=>{c(p,_,b),d(p,_,b)}:c}function HP(s,c){const d=s.hostBindings;s.hostBindings=d?(p,_)=>{c(p,_),d(p,_)}:c}function DC(s){const c=s.inputConfig,d={};for(const p in c)if(c.hasOwnProperty(p)){const _=c[p];Array.isArray(_)&&_[2]&&(d[p]=_[2])}s.inputTransforms=d}function Z_(s){return!!Ib(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function Ib(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Uu(s,c,d){return s[c]=d}function ms(s,c,d){return!Object.is(s[c],d)&&(s[c]=d,!0)}function xh(s,c,d,p){const _=ms(s,c,d);return ms(s,c+1,p)||_}function Hm(s,c,d,p){const _=pt();return ms(_,Jr(),c)&&(ii(),Fu(sr(),_,s,c,d,p)),Hm}function Sp(s,c,d,p){return ms(s,Jr(),d)?c+$e(d)+p:si}function $m(s,c,d,p,_,b){const S=xh(s,function hr(){return In.lFrame.bindingIndex}(),d,_);return Xr(2),S?c+$e(d)+p+$e(_)+b:si}function GT(s,c,d,p,_,b,M,S){const k=pt(),B=ii(),W=s+ei,se=B.firstCreatePass?function QP(s,c,d,p,_,b,M,S,k){const B=c.consts,W=Fm(c,s,4,M||null,pl(B,S));U_(c,d,W,pl(B,k)),La(c,W);const se=W.tView=F_(2,W,p,_,b,c.directiveRegistry,c.pipeRegistry,null,c.schemas,B,null);return null!==c.queries&&(c.queries.template(c,W),se.queries=c.queries.embeddedTView(W)),W}(W,B,k,c,d,p,_,b,M):B.data[W];So(se,!1);const Ie=WT(B,k,se,s);Wl()&&By(B,k,Ie,se),V(Ie,k),Ip(k,k[W]=xT(Ie,k,Ie,se)),Yr(se)&&Lm(B,k,se),null!=M&&Ep(k,se,S)}let WT=function nv(s,c,d,p){return pc(!0),c[on].createComment("")};function VC(s){return fl(function np(){return In.lFrame.contextLView}(),ei+s)}function Pp(s,c,d){const p=pt();return ms(p,Jr(),c)&&Il(ii(),sr(),p,s,c,p[on],d,!1),Pp}function kp(s,c,d,p,_){const M=_?"class":"style";H_(s,d,c.inputs[M],M,p)}function no(s,c,d,p){const _=pt(),b=ii(),M=ei+s,S=_[on],k=b.firstCreatePass?function JP(s,c,d,p,_,b){const M=c.consts,k=Fm(c,s,2,p,pl(M,_));return U_(c,d,k,pl(M,b)),null!==k.attrs&&$_(k,k.attrs,!1),null!==k.mergedAttrs&&$_(k,k.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,k),k}(M,b,_,c,d,p):b.data[M],B=ZT(b,_,k,S,c,s);_[M]=B;const W=Yr(k);return So(k,!0),w_(S,B,k),32!=(32&k.flags)&&Wl()&&By(b,_,B,k),0===function id(){return In.lFrame.elementDepthCount}()&&V(B,_),function Br(){In.lFrame.elementDepthCount++}(),W&&(Lm(b,_,k),Zn(b,k,_)),null!==p&&Ep(_,k),no}function rv(){let s=Mo();Qi()?ao():(s=s.parent,So(s,!1));const c=s;(function zc(s){return In.skipHydrationRootTNode===s})(c)&&function uc(){In.skipHydrationRootTNode=null}(),function qh(){In.lFrame.elementDepthCount--}();const d=ii();return d.firstCreatePass&&(La(d,s),cl(s)&&d.queries.elementEnd(s)),null!=c.classesWithoutHost&&function ld(s){return 0!=(8&s.flags)}(c)&&kp(d,c,pt(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Zl(s){return 0!=(16&s.flags)}(c)&&kp(d,c,pt(),c.stylesWithoutHost,!1),rv}function BC(s,c,d,p){return no(s,c,d,p),rv(),BC}let ZT=(s,c,d,p,_,b)=>(pc(!0),_c(p,_,function ar(){return In.lFrame.currentNamespace}()));function ov(s,c,d){const p=pt(),_=ii(),b=s+ei,M=_.firstCreatePass?function KT(s,c,d,p,_){const b=c.consts,M=pl(b,p),S=Fm(c,s,8,"ng-container",M);return null!==M&&$_(S,M,!0),U_(c,d,S,pl(b,_)),null!==c.queries&&c.queries.elementStart(c,S),S}(b,_,p,c,d):_.data[b];So(M,!0);const S=Vu(_,p,M,s);return p[b]=S,Wl()&&By(_,p,S,M),V(S,p),Yr(M)&&(Lm(_,p,M),Zn(_,M,p)),null!=d&&Ep(p,M),ov}function Rp(){let s=Mo();const c=ii();return Qi()?ao():(s=s.parent,So(s,!1)),c.firstCreatePass&&(La(c,s),cl(s)&&c.queries.elementEnd(s)),Rp}function kb(s,c,d){return ov(s,c,d),Rp(),kb}let Vu=(s,c,d,p)=>(pc(!0),Qs(c[on],""));function jC(){return pt()}function sv(s){return!!s&&"function"==typeof s.then}function Jm(s){return!!s&&"function"==typeof s.subscribe}function Rb(s,c,d,p){const _=pt(),b=ii(),M=Mo();return function zC(s,c,d,p,_,b,M){const S=Yr(p),B=s.firstCreatePass&&vC(s),W=c[ki],se=_C(c);let Ie=!0;if(3&p.type||M){const Tt=Ho(p,c),Wt=M?M(Tt):Tt,vn=se.length,yt=M?ui=>M(Mi(ui[p.index])):p.index;let Kn=null;if(!M&&S&&(Kn=function Fb(s,c,d,p){const _=s.cleanup;if(null!=_)for(let b=0;b<_.length-1;b+=2){const M=_[b];if(M===d&&_[b+1]===p){const S=c[Qo],k=_[b+2];return S.length>k?S[k]:null}"string"==typeof M&&(b+=2)}return null}(s,c,_,p.index)),null!==Kn)(Kn.__ngLastListenerFn__||Kn).__ngNextListenerFn__=b,Kn.__ngLastListenerFn__=b,Ie=!1;else{b=JT(p,c,W,b,!1);const ui=d.listen(Wt,_,b);se.push(b,ui),B&&B.push(_,yt,vn,vn+1)}}else b=JT(p,c,W,b,!1);const Be=p.outputs;let ft;if(Ie&&null!==Be&&(ft=Be[_])){const Tt=ft.length;if(Tt)for(let Wt=0;Wt<Tt;Wt+=2){const mr=c[ft[Wt]][ft[Wt+1]].subscribe(b),Ga=se.length;se.push(b,mr),B&&B.push(_,p.index,Ga,-(Ga+1))}}}(b,_,_[on],M,s,c,p),Rb}function av(s,c,d,p){try{return Es(6,c,d),!1!==d(p)}catch(_){return z_(s,_),!1}finally{Es(7,c,d)}}function JT(s,c,d,p,_){return function b(M){if(M===Function)return p;lb(s.componentOffset>-1?Ki(s.index,c):c);let k=av(c,d,p,M),B=b.__ngNextListenerFn__;for(;B;)k=av(c,d,B,M)&&k,B=B.__ngNextListenerFn__;return _&&!1===k&&M.preventDefault(),k}}function HC(s=1){return function fc(s){return(In.lFrame.contextLView=function Gl(s,c){for(;s>0;)c=c[Cr],s--;return c}(s,In.lFrame.contextLView))[ki]}(s)}function cv(s,c){let d=null;const p=function Ju(s){const c=s.attrs;if(null!=c){const d=c.indexOf(5);if(!(1&d))return c[d+1]}return null}(s);for(let _=0;_<c.length;_++){const b=c[_];if("*"!==b){if(null===p?nc(s,b,!0):Ic(p,b))return _}else d=_}return d}function $C(s){const c=pt()[xr][kn];if(!c.projection){const p=c.projection=_d(s?s.length:1,null),_=p.slice();let b=c.child;for(;null!==b;){const M=s?cv(b,s):0;null!==M&&(_[M]?_[M].projectionNext=b:p[M]=b,_[M]=b),b=b.next}}}function qC(s,c=0,d){const p=pt(),_=ii(),b=Fm(_,ei+s,16,null,d||null);null===b.projection&&(b.projection=c),ao(),(!p[Vi]||Is())&&32!=(32&b.flags)&&function Ow(s,c,d){DM(c[on],0,c,d,wM(s,d,c),IM(d.parent||c[kn],d,c))}(_,p,b)}function lv(s,c,d){return uv(s,"",c,"",d),lv}function uv(s,c,d,p,_){const b=pt(),M=Sp(b,c,d,p);return M!==si&&Il(ii(),sr(),b,s,M,b[on],_,!1),uv}function hv(s,c){return s<<17|c<<2}function Bu(s){return s>>17&32767}function Lb(s){return 2|s}function au(s){return(131068&s)>>2}function JC(s,c){return-131069&s|c<<2}function fv(s){return 1|s}function ex(s,c,d,p,_){const b=s[d+1],M=null===c;let S=p?Bu(b):au(b),k=!1;for(;0!==S&&(!1===k||M);){const W=s[S+1];tx(s[S],c)&&(k=!0,s[S+1]=p?fv(W):Lb(W)),S=p?Bu(W):au(W)}k&&(s[d+1]=p?Lb(b):fv(b))}function tx(s,c){return null===s||null==c||(Array.isArray(s)?s[1]:s)===c||!(!Array.isArray(s)||"string"!=typeof c)&&eu(s,c)>=0}const uo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ub(s){return s.substring(uo.key,uo.keyEnd)}function Tl(s,c){const d=uo.textEnd;return d===c?-1:(c=uo.keyEnd=function Vb(s,c,d){for(;c<d&&s.charCodeAt(c)>32;)c++;return c}(s,uo.key=c,d),Od(s,c,d))}function Od(s,c,d){for(;c<d&&s.charCodeAt(c)<=32;)c++;return c}function nx(s,c,d){return Hu(s,c,d,!1),nx}function ix(s,c){return Hu(s,c,null,!0),ix}function gv(s){!function Ha(s,c,d,p){const _=ii(),b=Xr(2);_.firstUpdatePass&&As(_,null,b,p);const M=pt();if(d!==si&&ms(M,b,d)){const S=_.data[ts()];if(gs(S,p)&&!rx(_,b)){let k=p?S.classesWithoutHost:S.stylesWithoutHost;null!==k&&(d=Ne(k,d||"")),kp(_,S,M,d,p)}else!function wn(s,c,d,p,_,b,M,S){_===si&&(_=kt);let k=0,B=0,W=0<_.length?_[0]:null,se=0<b.length?b[0]:null;for(;null!==W||null!==se;){const Ie=k<_.length?_[k+1]:void 0,Be=B<b.length?b[B+1]:void 0;let Tt,ft=null;W===se?(k+=2,B+=2,Ie!==Be&&(ft=se,Tt=Be)):null===se||null!==W&&W<se?(k+=2,ft=W):(B+=2,ft=se,Tt=Be),null!==ft&&rS(s,c,d,p,ft,Tt,M,S),W=k<_.length?_[k]:null,se=B<b.length?b[B]:null}}(_,S,M,M[on],M[b+1],M[b+1]=function cu(s,c,d){if(null==d||""===d)return kt;const p=[],_=Ed(d);if(Array.isArray(_))for(let b=0;b<_.length;b++)s(p,_[b],!0);else if("object"==typeof _)for(const b in _)_.hasOwnProperty(b)&&s(p,b,_[b]);else"string"==typeof _&&c(p,_);return p}(s,c,d),p,b)}}(ln,Ad,s,!0)}function Ad(s,c){for(let d=function Mh(s){return function mv(s){uo.key=0,uo.keyEnd=0,uo.value=0,uo.valueEnd=0,uo.textEnd=s.length}(s),Tl(s,Od(s,0,uo.textEnd))}(c);d>=0;d=Tl(c,d))Zs(s,Ub(c),!0)}function Hu(s,c,d,p){const _=pt(),b=ii(),M=Xr(2);b.firstUpdatePass&&As(b,s,M,p),c!==si&&ms(_,M,c)&&rS(b,b.data[ts()],_,_[on],s,_[M+1]=function vt(s,c){return null==s||""===s||("string"==typeof c?s+=c:"object"==typeof s&&(s=de(Ed(s)))),s}(c,d),p,M)}function rx(s,c){return c>=s.expandoStartIndex}function As(s,c,d,p){const _=s.data;if(null===_[d+1]){const b=_[ts()],M=rx(s,d);gs(b,p)&&null===c&&!M&&(c=!1),c=function Xm(s,c,d,p){const _=function $l(s){const c=In.lFrame.currentDirectiveIndex;return-1===c?null:s[c]}(s);let b=p?c.residualClasses:c.residualStyles;if(null===_)0===(p?c.classBindings:c.styleBindings)&&(d=io(d=Mt(null,s,c,d,p),c.attrs,p),b=null);else{const M=c.directiveStylingLast;if(-1===M||s[M]!==_)if(d=Mt(_,s,c,d,p),null===b){let k=function bf(s,c,d){const p=d?c.classBindings:c.styleBindings;if(0!==au(p))return s[Bu(p)]}(s,c,p);void 0!==k&&Array.isArray(k)&&(k=Mt(null,s,c,k[1],p),k=io(k,c.attrs,p),function ox(s,c,d,p){s[Bu(d?c.classBindings:c.styleBindings)]=p}(s,c,p,k))}else b=function ik(s,c,d){let p;const _=c.directiveEnd;for(let b=1+c.directiveStylingLast;b<_;b++)p=io(p,s[b].hostAttrs,d);return io(p,c.attrs,d)}(s,c,p)}return void 0!==b&&(p?c.residualClasses=b:c.residualStyles=b),d}(_,b,c,p),function XC(s,c,d,p,_,b){let M=b?c.classBindings:c.styleBindings,S=Bu(M),k=au(M);s[p]=d;let W,B=!1;if(Array.isArray(d)?(W=d[1],(null===W||eu(d,W)>0)&&(B=!0)):W=d,_)if(0!==k){const Ie=Bu(s[S+1]);s[p+1]=hv(Ie,S),0!==Ie&&(s[Ie+1]=JC(s[Ie+1],p)),s[S+1]=function XT(s,c){return 131071&s|c<<17}(s[S+1],p)}else s[p+1]=hv(S,0),0!==S&&(s[S+1]=JC(s[S+1],p)),S=p;else s[p+1]=hv(k,0),0===S?S=p:s[k+1]=JC(s[k+1],p),k=p;B&&(s[p+1]=Lb(s[p+1])),ex(s,W,p,!0),ex(s,W,p,!1),function Dd(s,c,d,p,_){const b=_?s.residualClasses:s.residualStyles;null!=b&&"string"==typeof c&&eu(b,c)>=0&&(d[p+1]=fv(d[p+1]))}(c,W,s,p,b),M=hv(S,k),b?c.classBindings=M:c.styleBindings=M}(_,b,c,d,M,p)}}function Mt(s,c,d,p,_){let b=null;const M=d.directiveEnd;let S=d.directiveStylingLast;for(-1===S?S=d.directiveStart:S++;S<M&&(b=c[S],p=io(p,b.hostAttrs,_),b!==s);)S++;return null!==s&&(d.directiveStylingLast=S),p}function io(s,c,d){const p=d?1:2;let _=-1;if(null!==c)for(let b=0;b<c.length;b++){const M=c[b];"number"==typeof M?_=M:_===p&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Zs(s,M,!!d||c[++b]))}return void 0===s?null:s}function ln(s,c,d){const p=String(c);""!==p&&!p.includes(" ")&&Zs(s,p,d)}function rS(s,c,d,p,_,b,M,S){if(!(3&c.type))return;const k=s.data,B=k[S+1],W=function ju(s){return 1==(1&s)}(B)?Gt(k,c,d,_,au(B),M):void 0;tt(W)||(tt(b)||function Ml(s){return 2==(2&s)}(B)&&(b=Gt(k,null,d,_,S,M)),function Aw(s,c,d,p,_){if(c)_?s.addClass(d,p):s.removeClass(d,p);else{let b=-1===p.indexOf("-")?void 0:gh.DashCase;null==_?s.removeStyle(d,p,b):("string"==typeof _&&_.endsWith("!important")&&(_=_.slice(0,-10),b|=gh.Important),s.setStyle(d,p,_,b))}}(p,M,Na(ts(),d),_,b))}function Gt(s,c,d,p,_,b){const M=null===c;let S;for(;_>0;){const k=s[_],B=Array.isArray(k),W=B?k[1]:k,se=null===W;let Ie=d[_+1];Ie===si&&(Ie=se?kt:void 0);let Be=se?ap(Ie,p):W===p?Ie:void 0;if(B&&!tt(Be)&&(Be=ap(k,p)),tt(Be)&&(S=Be,M))return S;const ft=s[_+1];_=M?Bu(ft):au(ft)}if(null!==c){let k=b?c.residualClasses:c.residualStyles;null!=k&&(S=ap(k,p))}return S}function tt(s){return void 0!==s}function gs(s,c){return 0!=(s.flags&(c?8:16))}function sx(s,c=""){const d=pt(),p=ii(),_=s+ei,b=p.firstCreatePass?Fm(p,_,1,c,null):p.data[_],M=oS(p,d,b,c,s);d[_]=M,Wl()&&By(p,d,M,b),So(b,!1)}let oS=(s,c,d,p,_)=>(pc(!0),function xd(s,c){return s.createText(c)}(c[on],p));function ax(s){return jb("",s,""),ax}function jb(s,c,d){const p=pt(),_=Sp(p,s,c,d);return _!==si&&Lu(p,ts(),_),jb}function zb(s,c,d,p,_){const b=pt(),M=$m(b,s,c,d,p,_);return M!==si&&Lu(b,ts(),M),zb}function Pd(s,c,d){const p=pt();return ms(p,Jr(),c)&&Il(ii(),sr(),p,s,c,p[on],d,!0),Pd}const Dl=void 0;var px=["en",[["a","p"],["AM","PM"],Dl],[["AM","PM"],Dl,Dl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dl,"{1} 'at' {0}",Dl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function hS(s){const d=Math.floor(Math.abs(s)),p=s.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===p?1:5}];let tg={};function vc(s){const c=function fS(s){return s.toLowerCase().replace(/_/g,"-")}(s);let d=mx(c);if(d)return d;const p=c.split("-")[0];if(d=mx(p),d)return d;if("en"===p)return px;throw new xe(701,!1)}function ng(s){return vc(s)[ig.PluralCase]}function mx(s){return s in tg||(tg[s]=Ee.ng&&Ee.ng.common&&Ee.ng.common.locales&&Ee.ng.common.locales[s]),tg[s]}var ig=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(ig||{});const Sh="en-US";let gS=Sh;function Dx(s,c,d,p,_){if(s=st(s),Array.isArray(s))for(let b=0;b<s.length;b++)Dx(s[b],c,d,p,_);else{const b=ii(),M=pt(),S=Mo();let k=_p(s)?s:st(s.provide);const B=Hw(s),W=1048575&S.providerIndexes,se=S.directiveStart,Ie=S.providerIndexes>>20;if(_p(s)||!s.multi){const Be=new sd(B,_,Nm),ft=Ox(k,c,_?W:W+Ie,se);-1===ft?(Ql(Gs(S,M),b,k),t0(b,s,c.length),c.push(k),S.directiveStart++,S.directiveEnd++,_&&(S.providerIndexes+=1048576),d.push(Be),M.push(Be)):(d[ft]=Be,M[ft]=Be)}else{const Be=Ox(k,c,W+Ie,se),ft=Ox(k,c,W,W+Ie),Wt=ft>=0&&d[ft];if(_&&!Wt||!_&&!(Be>=0&&d[Be])){Ql(Gs(S,M),b,k);const vn=function Iv(s,c,d,p,_){const b=new sd(s,d,Nm);return b.multi=[],b.index=c,b.componentProviders=0,NS(b,_,p&&!d),b}(_?Ax:Ck,d.length,_,p,B);!_&&Wt&&(d[ft].providerFactory=vn),t0(b,s,c.length,0),c.push(k),S.directiveStart++,S.directiveEnd++,_&&(S.providerIndexes+=1048576),d.push(vn),M.push(vn)}else t0(b,s,Be>-1?Be:ft,NS(d[_?ft:Be],B,!_&&p));!_&&p&&Wt&&d[ft].componentProviders++}}}function t0(s,c,d,p){const _=_p(c),b=function QM(s){return!!s.useClass}(c);if(_||b){const k=(b?st(c.useClass):c).prototype.ngOnDestroy;if(k){const B=s.destroyHooks||(s.destroyHooks=[]);if(!_&&c.multi){const W=B.indexOf(d);-1===W?B.push(d,[p,k]):B[W+1].push(p,k)}else B.push(d,k)}}}function NS(s,c,d){return d&&s.componentProviders++,s.multi.push(c)-1}function Ox(s,c,d,p){for(let _=d;_<p;_++)if(c[_]===s)return _;return-1}function Ck(s,c,d,p){return Oh(this.multi,[])}function Ax(s,c,d,p){const _=this.multi;let b;if(this.providerFactory){const M=this.providerFactory.componentProviders,S=Ua(d,d[Et],this.providerFactory.index,p);b=S.slice(0,M),Oh(_,b);for(let k=M;k<S.length;k++)b.push(S[k])}else b=[],Oh(_,b);return b}function Oh(s,c){for(let d=0;d<s.length;d++)c.push((0,s[d])());return c}function Mv(s,c=[]){return d=>{d.providersResolver=(p,_)=>function RS(s,c,d){const p=ii();if(p.firstCreatePass){const _=di(s);Dx(d,p.data,p.blueprint,_,!0),Dx(c,p.data,p.blueprint,_,!1)}}(p,_?_(s):s,c)}}class Fd{}class Px{}function FS(s,c){return new n0(s,c??null,[])}class n0 extends Fd{constructor(c,d,p){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new EC(this);const _=wr(c);this._bootstrapComponents=hf(_.bootstrap),this._r3Injector=uT(c,d,[{provide:Fd,useValue:this},{provide:ab,useValue:this.componentFactoryResolver},...p],de(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Ef extends Px{constructor(c){super(),this.moduleType=c}create(c){return new n0(this.moduleType,c,[])}}class r0 extends Fd{constructor(c){super(),this.componentFactoryResolver=new EC(this),this.instance=null;const d=new Qy([...c.providers,{provide:Fd,useValue:this},{provide:ab,useValue:this.componentFactoryResolver}],c.parent||vp(),c.debugName,new Set(["environment"]));this.injector=d,c.runEnvironmentInitializers&&d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function Tv(s,c,d=null){return new r0({providers:s,parent:c,debugName:d,runEnvironmentInitializers:!0}).injector}let kx=(()=>{class s{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d)){const p=ZM(0,d.type),_=p.length>0?Tv([p],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d,_)}return this.cachedInjectors.get(d)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=fn({token:s,providedIn:"environment",factory:()=>new s(St(Nu))})}return s})();function If(s){s.getStandaloneInjector=c=>c.get(kx).getOrCreateStandaloneInjector(s)}function Fx(s,c,d){const p=Ji()+s,_=pt();return _[p]===si?Uu(_,p,d?c.call(d):c()):function jm(s,c){return s[c]}(_,p)}function ug(s,c,d,p){return ZS(pt(),Ji(),s,c,d,p)}function $S(s,c,d,p,_){return YS(pt(),Ji(),s,c,d,p,_)}function Tf(s,c){const d=s[c];return d===si?void 0:d}function ZS(s,c,d,p,_,b){const M=c+d;return ms(s,M,_)?Uu(s,M+1,b?p.call(b,_):p(_)):Tf(s,M+1)}function YS(s,c,d,p,_,b,M){const S=c+d;return xh(s,S,_,b)?Uu(s,S+2,M?p.call(M,_,b):p(_,b)):Tf(s,S+2)}function Ux(s,c,d,p,_,b,M,S){const k=c+d;return function zm(s,c,d,p,_){const b=xh(s,c,d,p);return ms(s,c+2,_)||b}(s,k,_,b,M)?Uu(s,k+3,S?p.call(S,_,b,M):p(_,b,M)):Tf(s,k+3)}function Vx(s,c){const d=ii();let p;const _=s+ei;d.firstCreatePass?(p=function $p(s,c){if(c)for(let d=c.length-1;d>=0;d--){const p=c[d];if(s===p.name)return p}}(c,d.pipeRegistry),d.data[_]=p,p.onDestroy&&(d.destroyHooks??=[]).push(_,p.onDestroy)):p=d.data[_];const b=p.factory||(p.factory=js(p.type)),S=zt(Nm);try{const k=hs(!1),B=b();return hs(k),function UC(s,c,d,p){d>=s.data.length&&(s.data[d]=null,s.blueprint[d]=null),c[d]=p}(d,pt(),_,B),B}finally{zt(S)}}function Bx(s,c,d){const p=s+ei,_=pt(),b=fl(_,p);return Sr(_,p)?ZS(_,Ji(),c,b.transform,d,b):b.transform(d)}function jx(s,c,d,p){const _=s+ei,b=pt(),M=fl(b,_);return Sr(b,_)?YS(b,Ji(),c,M.transform,d,p,M):M.transform(d,p)}function dg(s,c,d,p,_){const b=s+ei,M=pt(),S=fl(M,b);return Sr(M,b)?Ux(M,Ji(),c,S.transform,d,p,_,S):S.transform(d,p,_)}function Sr(s,c){return s[Et].data[c].pure}function a0(){return this._results[Symbol.iterator]()}class qp{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Td)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=qp.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=a0)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const p=this;p.dirty=!1;const _=function Fr(s){return s.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function ja(s,c,d){if(s.length!==c.length)return!1;for(let p=0;p<s.length;p++){let _=s[p],b=c[p];if(d&&(_=d(_),b=d(b)),b!==_)return!1}return!0}(p._results,_,d))&&(p._results=_,p.length=_.length,p.last=_[this.length-1],p.first=_[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Av(s,c,d,p=!0){const _=c[Et];if(function y2(s,c,d,p){const _=Hi+p,b=d.length;p>0&&(d[_-1][so]=c),p<b-Hi?(c[so]=d[_],c_(d,Hi+p,c)):(d.push(c),c[so]=null),c[Ii]=d;const M=c[bs];null!==M&&d!==M&&function Mw(s,c){const d=s[Wr];c[xr]!==c[Ii][Ii][xr]&&(s[Oa]=!0),null===d?s[Wr]=[c]:d.push(c)}(M,c);const S=c[Er];null!==S&&S.insertView(s),c[En]|=128}(_,c,s,d),p){const b=jy(d,s),M=c[on],S=__(M,s[Ar]);null!==S&&function IA(s,c,d,p,_,b){p[Pi]=_,p[kn]=c,vh(s,p,d,1,_,b)}(_,s[kn],M,c,S,b)}}let hg=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=QS}return s})();const fg=hg,Ah=class extends fg{constructor(c,d,p){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=p}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(c,d){return this.createEmbeddedViewImpl(c,d)}createEmbeddedViewImpl(c,d,p){const _=function KS(s,c,d,p){const _=c.tView,S=lC(s,_,d,4096&s[En]?4096:16,null,c,null,null,null,p?.injector??null,p?.hydrationInfo??null);S[bs]=s[c.index];const B=s[Er];return null!==B&&(S[Er]=B.createEmbeddedView(_)),gb(_,S,d),S}(this._declarationLView,this._declarationTContainer,c,{injector:d,hydrationInfo:p});return new q_(_)}};function QS(){return Pv(Mo(),pt())}function Pv(s,c){return 4&s.type?new Ah(c,s,km(s,c)):null}let kv=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=XS}return s})();function XS(){return Zx(Mo(),pt())}const qx=kv,Rv=class extends qx{constructor(c,d,p){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=p}get element(){return km(this._hostTNode,this._hostLView)}get injector(){return new Ri(this._hostTNode,this._hostLView)}get parentInjector(){const c=Kl(this._hostTNode,this._hostLView);if($c(c)){const d=_l(c,this._hostLView),p=qc(c);return new Ri(d[Et].data[p+8],d)}return new Ri(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=Gx(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-Hi}createEmbeddedView(c,d,p){let _,b;"number"==typeof p?_=p:null!=p&&(_=p.index,b=p.injector);const S=c.createEmbeddedViewImpl(d||{},b,null);return this.insertImpl(S,_,false),S}createComponent(c,d,p,_,b){const M=c&&!function Ba(s){return"function"==typeof s}(c);let S;if(M)S=d;else{const Tt=d||{};S=Tt.index,p=Tt.injector,_=Tt.projectableNodes,b=Tt.environmentInjector||Tt.ngModuleRef}const k=M?c:new Ch(zn(c)),B=p||this.parentInjector;if(!b&&null==k.ngModule){const Wt=(M?B:this.parentInjector).get(Nu,null);Wt&&(b=Wt)}zn(k.componentType??{});const Be=k.create(B,_,null,b);return this.insertImpl(Be.hostView,S,false),Be}insert(c,d){return this.insertImpl(c,d,!1)}insertImpl(c,d,p){const _=c._lView;if(function qs(s){return Mr(s[Ii])}(_)){const k=this.indexOf(c);if(-1!==k)this.detach(k);else{const B=_[Ii],W=new Rv(B,B[kn],B[Ii]);W.detach(W.indexOf(c))}}const M=this._adjustIndex(d),S=this._lContainer;return Av(S,_,M,!p),c.attachToViewContainerRef(),c_(Wx(S),M,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=Gx(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),p=Uy(this._lContainer,d);p&&(gd(Wx(this._lContainer),d),Tw(p[Et],p))}detach(c){const d=this._adjustIndex(c,-1),p=Uy(this._lContainer,d);return p&&null!=gd(Wx(this._lContainer),d)?new q_(p):null}_adjustIndex(c,d=0){return c??this.length+d}};function Gx(s){return s[8]}function Wx(s){return s[8]||(s[8]=[])}function Zx(s,c){let d;const p=c[s.index];return Mr(p)?d=p:(d=xT(p,c,null,s),c[s.index]=d,Ip(c,d)),l0(d,c,s,p),new Rv(d,s,c)}let l0=function gg(s,c,d,p){if(s[Ar])return;let _;_=8&d.type?Mi(p):function eD(s,c){const d=s[on],p=d.createComment(""),_=Ho(c,s);return hp(d,__(d,_),p,function DA(s,c){return s.nextSibling(c)}(d,_),!1),p}(c,d),s[Ar]=_};class _g{constructor(c){this.queryList=c,this.matches=null}clone(){return new _g(this.queryList)}setDirty(){this.queryList.setDirty()}}class u0{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const p=null!==c.contentQueries?c.contentQueries[0]:d.length,_=[];for(let b=0;b<p;b++){const M=d.getByIndex(b);_.push(this.queries[M.indexInDeclarationView].clone())}return new u0(_)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==qu(c,d).matches&&this.queries[d].setDirty()}}class Yx{constructor(c,d,p=null){this.predicate=c,this.flags=d,this.read=p}}class d0{constructor(c=[]){this.queries=c}elementStart(c,d){for(let p=0;p<this.queries.length;p++)this.queries[p].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let p=0;p<this.length;p++){const _=null!==d?d.length:0,b=this.getByIndex(p).embeddedTView(c,_);b&&(b.indexInDeclarationView=p,null!==d?d.push(b):d=[b])}return null!==d?new d0(d):null}template(c,d){for(let p=0;p<this.queries.length;p++)this.queries[p].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Kx{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new Kx(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let p=c.parent;for(;null!==p&&8&p.type&&p.index!==d;)p=p.parent;return d===(null!==p?p.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const p=this.metadata.predicate;if(Array.isArray(p))for(let _=0;_<p.length;_++){const b=p[_];this.matchTNodeWithReadOption(c,d,tD(d,b)),this.matchTNodeWithReadOption(c,d,fd(d,c,b,!1,!1))}else p===hg?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,fd(d,c,p,!1,!1))}matchTNodeWithReadOption(c,d,p){if(null!==p){const _=this.metadata.read;if(null!==_)if(_===Rm||_===kv||_===hg&&4&d.type)this.addMatch(d.index,-2);else{const b=fd(d,c,_,!1,!1);null!==b&&this.addMatch(d.index,b)}else this.addMatch(d.index,p)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function tD(s,c){const d=s.localNames;if(null!==d)for(let p=0;p<d.length;p+=2)if(d[p]===c)return d[p+1];return null}function Dk(s,c,d,p){return-1===d?function nD(s,c){return 11&s.type?km(s,c):4&s.type?Pv(s,c):null}(c,s):-2===d?function Ok(s,c,d){return d===Rm?km(c,s):d===hg?Pv(c,s):d===kv?Zx(c,s):void 0}(s,c,p):Ua(s,s[Et],d,c)}function iD(s,c,d,p){const _=c[Er].queries[p];if(null===_.matches){const b=s.data,M=d.matches,S=[];for(let k=0;k<M.length;k+=2){const B=M[k];S.push(B<0?null:Dk(c,b[B],M[k+1],d.metadata.read))}_.matches=S}return _.matches}function Qx(s,c,d,p){const _=s.queries.getByIndex(d),b=_.matches;if(null!==b){const M=iD(s,c,_,d);for(let S=0;S<b.length;S+=2){const k=b[S];if(k>0)p.push(M[S/2]);else{const B=b[S+1],W=c[-k];for(let se=Hi;se<W.length;se++){const Ie=W[se];Ie[bs]===Ie[Ii]&&Qx(Ie[Et],Ie,B,p)}if(null!==W[Wr]){const se=W[Wr];for(let Ie=0;Ie<se.length;Ie++){const Be=se[Ie];Qx(Be[Et],Be,B,p)}}}}}return p}function h0(s){const c=pt(),d=ii(),p=rh();ml(p+1);const _=qu(d,p);if(s.dirty&&function Xd(s){return 4==(4&s[En])}(c)===(2==(2&_.metadata.flags))){if(null===_.matches)s.reset([]);else{const b=_.crossesNgTemplate?Qx(d,c,p,[]):iD(d,c,_,p);s.reset(b,sP),s.notifyOnChanges()}return!0}return!1}function Gp(s,c,d){const p=ii();p.firstCreatePass&&(Xx(p,new Yx(s,c,d),-1),2==(2&c)&&(p.staticViewQueries=!0)),f0(p,pt(),c)}function Jx(s,c,d,p){const _=ii();if(_.firstCreatePass){const b=Mo();Xx(_,new Yx(c,d,p),b.index),function Lv(s,c){const d=s.contentQueries||(s.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(s.queries.length-1,c)}(_,s),2==(2&d)&&(_.staticContentQueries=!0)}f0(_,pt(),d)}function rD(){return function rs(s,c){return s[Er].queries[c].queryList}(pt(),rh())}function f0(s,c,d){const p=new qp(4==(4&d));(function ff(s,c,d,p){const _=_C(c);_.push(d),s.firstCreatePass&&vC(s).push(p,_.length-1)})(s,c,p,p.destroy),null===c[Er]&&(c[Er]=new u0),c[Er].queries.push(new _g(p))}function Xx(s,c,d){null===s.queries&&(s.queries=new d0),s.queries.track(new Kx(c,d))}function qu(s,c){return s.queries.getByIndex(c)}function p0(s,c){return Pv(s,c)}function Wp(s){return!!wr(s)}const Bv=new nr("Application Initializer");let sE=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p}),this.appInits=Vt(Bv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const d=[];for(const _ of this.appInits){const b=_();if(sv(b))d.push(b);else if(Jm(b)){const M=new Promise((S,k)=>{b.subscribe({complete:S,error:k})});d.push(M)}}const p=()=>{this.done=!0,this.resolve()};Promise.all(d).then(()=>{p()}).catch(_=>{this.reject(_)}),0===d.length&&p(),this.initialized=!0}static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),aE=(()=>{class s{log(d){console.log(d)}warn(d){console.warn(d)}static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();const Qp=new nr("LocaleId",{providedIn:"root",factory:()=>Vt(Qp,sn.Optional|sn.SkipSelf)||function jv(){return typeof $localize<"u"&&$localize.locale||Sh}()}),zv=new nr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let cE=(()=>{class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ce.X(!1)}add(){this.hasPendingTasks.next(!0);const d=this.taskId++;return this.pendingTasks.add(d),d}remove(d){this.pendingTasks.delete(d),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class g0{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}let _0=(()=>{class s{compileModuleSync(d){return new Ef(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const p=this.compileModuleSync(d),b=hf(wr(d).declarations).reduce((M,S)=>{const k=zn(S);return k&&M.push(new Ch(k)),M},[]);return new g0(p,b)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const b0=new nr(""),Rs=new nr("");let uE,Xk=(()=>{class s{constructor(d,p,_){this._ngZone=d,this.registry=p,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,uE||(function eR(s){uE=s}(_),_.addToWindow(p)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(p=>!p.updateCb||!p.updateCb(d)||(clearTimeout(p.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,p,_){let b=-1;p&&p>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(M=>M.timeoutId!==b),d(this._didWork,this.getPendingTasks())},p)),this._callbacks.push({doneCb:d,timeoutId:b,updateCb:_})}whenStable(d,p,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,p,_),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,p,_){return[]}static#e=this.\u0275fac=function(p){return new(p||s)(St(Xs),St(LD),St(Rs))};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac})}return s})(),LD=(()=>{class s{constructor(){this._applications=new Map}registerApplication(d,p){this._applications.set(d,p)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,p=!0){return uE?.findTestabilityInTree(this,d,p)??null}static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})(),Bd=null;const UD=new nr("AllowMultipleToken"),xg=new nr("PlatformDestroyListeners"),Eg=new nr("appBootstrapListener");class Hv{constructor(c,d){this.name=c,this.token=d}}function VD(s,c,d=[]){const p=`Platform: ${c}`,_=new nr(p);return(b=[])=>{let M=pE();if(!M||M.injector.get(UD,!1)){const S=[...d,...b,{provide:_,useValue:!0}];s?s(S):function C0(s){if(Bd&&!Bd.get(UD,!1))throw new xe(400,!1);(function w0(){!function Ke(s){ee=s}(()=>{throw new xe(600,!1)})})(),Bd=s;const c=s.get(mE);(function x0(s){s.get(Jy,null)?.forEach(d=>d())})(s)}(function fE(s=[],c){return su.create({name:c,providers:[{provide:jw,useValue:"platform"},{provide:xg,useValue:new Set([()=>Bd=null])},...s]})}(S,p))}return function BD(s){const c=pE();if(!c)throw new xe(401,!1);return c}()}}function pE(){return Bd?.get(mE)??null}let mE=(()=>{class s{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,p){const _=function HD(s="zone.js",c){return"noop"===s?new B2:"zone.js"===s?new Xs(c):s}(p?.ngZone,function zD(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:p?.ngZoneEventCoalescing,runCoalescing:p?.ngZoneRunCoalescing}));return _.run(()=>{const b=function LS(s,c,d){return new n0(s,c,d)}(d.moduleType,this.injector,function E0(s){return[{provide:Xs,useFactory:s},{provide:I_,multi:!0,useFactory:()=>{const c=Vt(GD,{optional:!0});return()=>c.initialize()}},{provide:gE,useFactory:qD},{provide:pP,useFactory:mP}]}(()=>_)),M=b.injector.get(Md,null);return _.runOutsideAngular(()=>{const S=_.onError.subscribe({next:k=>{M.handleError(k)}});b.onDestroy(()=>{Ig(this._modules,b),S.unsubscribe()})}),function $D(s,c,d){try{const p=d();return sv(p)?p.catch(_=>{throw c.runOutsideAngular(()=>s.handleError(_)),_}):p}catch(p){throw c.runOutsideAngular(()=>s.handleError(p)),p}}(M,_,()=>{const S=b.injector.get(sE);return S.runInitializers(),S.donePromise.then(()=>(function _S(s){Dt(s,"Expected localeId to be defined"),"string"==typeof s&&(gS=s.toLowerCase().replace(/_/g,"-"))}(b.injector.get(Qp,Sh)||Sh),this._moduleDoBootstrap(b),b))})})}bootstrapModule(d,p=[]){const _=em({},p);return function tR(s,c,d){const p=new Ef(d);return Promise.resolve(p)}(0,0,d).then(b=>this.bootstrapModuleFactory(b,_))}_moduleDoBootstrap(d){const p=d.injector.get(Wu);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(_=>p.bootstrap(_));else{if(!d.instance.ngDoBootstrap)throw new xe(-403,!1);d.instance.ngDoBootstrap(p)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(p=>p.destroy()),this._destroyListeners.forEach(p=>p());const d=this._injector.get(xg,null);d&&(d.forEach(p=>p()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(p){return new(p||s)(St(su))};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function em(s,c){return Array.isArray(c)?c.reduce(em,s):{...s,...c}}let Wu=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Vt(gE),this.zoneIsStable=Vt(pP),this.componentTypes=[],this.components=[],this.isStable=Vt(cE).hasPendingTasks.pipe((0,ut.w)(d=>d?(0,ke.of)(!1):this.zoneIsStable),(0,Ve.x)(),(0,Ae.B)()),this._injector=Vt(Nu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,p){const _=d instanceof iP;if(!this._injector.get(sE).done)throw!_&&Sa(d),new xe(405,!1);let M;M=_?d:this._injector.get(ab).resolveComponentFactory(d),this.componentTypes.push(M.componentType);const S=function dE(s){return s.isBoundToModule}(M)?void 0:this._injector.get(Fd),B=M.create(su.NULL,[],p||M.selector,S),W=B.location.nativeElement,se=B.injector.get(b0,null);return se?.registerApplication(W),B.onDestroy(()=>{this.detachView(B.hostView),Ig(this.components,B),se?.unregisterApplication(W)}),this._loadComponent(B),B}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1}}attachView(d){const p=d;this._views.push(p),p.attachToAppRef(this)}detachView(d){const p=d;Ig(this._views,p),p.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const p=this._injector.get(Eg,[]);p.push(...this._bootstrapListeners),p.forEach(_=>_(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Ig(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new xe(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Ig(s,c){const d=s.indexOf(c);d>-1&&s.splice(d,1)}const gE=new nr("",{providedIn:"root",factory:()=>Vt(Md).handleError.bind(void 0)});function qD(){const s=Vt(Xs),c=Vt(Md);return d=>s.runOutsideAngular(()=>c.handleError(d))}let GD=(()=>{class s{constructor(){this.zone=Vt(Xs),this.applicationRef=Vt(Wu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function _E(){return!1}let Gv=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=I0}return s})();function I0(s){return function vE(s,c,d){if(Pr(s)&&!d){const p=Ki(s.index,c);return new q_(p,p)}return 47&s.type?new q_(c[xr],c):null}(Mo(),pt(),16==(16&s))}class QD{constructor(){}supports(c){return Z_(c)}create(c){return new Wv(c)}}const dR=(s,c)=>c;class Wv{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||dR}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,p=this._removalsHead,_=0,b=null;for(;d||p;){const M=!p||d&&d.currentIndex<Zv(p,_,b)?d:p,S=Zv(M,_,b),k=M.currentIndex;if(M===p)_--,p=p._nextRemoved;else if(d=d._next,null==M.previousIndex)_++;else{b||(b=[]);const B=S-_,W=k-_;if(B!=W){for(let Ie=0;Ie<B;Ie++){const Be=Ie<b.length?b[Ie]:b[Ie]=0,ft=Be+Ie;W<=ft&&ft<B&&(b[Ie]=Be+1)}b[M.previousIndex]=W-B}}S!==k&&c(M,S,k)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!Z_(c))throw new xe(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let _,b,M,d=this._itHead,p=!1;if(Array.isArray(c)){this.length=c.length;for(let S=0;S<this.length;S++)b=c[S],M=this._trackByFn(S,b),null!==d&&Object.is(d.trackById,M)?(p&&(d=this._verifyReinsertion(d,b,M,S)),Object.is(d.item,b)||this._addIdentityChange(d,b)):(d=this._mismatch(d,b,M,S),p=!0),d=d._next}else _=0,function Eb(s,c){if(Array.isArray(s))for(let d=0;d<s.length;d++)c(s[d]);else{const d=s[Symbol.iterator]();let p;for(;!(p=d.next()).done;)c(p.value)}}(c,S=>{M=this._trackByFn(_,S),null!==d&&Object.is(d.trackById,M)?(p&&(d=this._verifyReinsertion(d,S,M,_)),Object.is(d.item,S)||this._addIdentityChange(d,S)):(d=this._mismatch(d,S,M,_),p=!0),d=d._next,_++}),this.length=_;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,p,_){let b;return null===c?b=this._itTail:(b=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,b,_)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(p,_))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,b,_)):c=this._addAfter(new CE(d,p),b,_),c}_verifyReinsertion(c,d,p,_){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null);return null!==b?c=this._reinsertAfter(b,c._prev,_):c.currentIndex!=_&&(c.currentIndex=_,this._addToMoves(c,_)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,p){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const _=c._prevRemoved,b=c._nextRemoved;return null===_?this._removalsHead=b:_._nextRemoved=b,null===b?this._removalsTail=_:b._prevRemoved=_,this._insertAfter(c,d,p),this._addToMoves(c,p),c}_moveAfter(c,d,p){return this._unlink(c),this._insertAfter(c,d,p),this._addToMoves(c,p),c}_addAfter(c,d,p){return this._insertAfter(c,d,p),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,p){const _=null===d?this._itHead:d._next;return c._next=_,c._prev=d,null===_?this._itTail=c:_._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new D0),this._linkedRecords.put(c),c.currentIndex=p,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,p=c._next;return null===d?this._itHead=p:d._next=p,null===p?this._itTail=d:p._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new D0),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class CE{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Sg{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let p;for(p=this._head;null!==p;p=p._nextDup)if((null===d||d<=p.currentIndex)&&Object.is(p.trackById,c))return p;return null}remove(c){const d=c._prevDup,p=c._nextDup;return null===d?this._head=p:d._nextDup=p,null===p?this._tail=d:p._prevDup=d,null===this._head}}class D0{constructor(){this.map=new Map}put(c){const d=c.trackById;let p=this.map.get(d);p||(p=new Sg,this.map.set(d,p)),p.add(c)}get(c,d){const _=this.map.get(c);return _?_.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zv(s,c,d){const p=s.previousIndex;if(null===p)return p;let _=0;return d&&p<d.length&&(_=d[p]),p+c+_}class Dg{constructor(){}supports(c){return c instanceof Map||Ib(c)}create(){return new xE}}class xE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||Ib(c)))throw new xe(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(p,_)=>{if(d&&d.key===_)this._maybeAddToChanges(d,p),this._appendAfter=d,d=d._next;else{const b=this._getOrCreateRecordForKey(_,p);d=this._insertBeforeOrAppend(d,b)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let p=d;null!==p;p=p._nextRemoved)p===this._mapHead&&(this._mapHead=null),this._records.delete(p.key),p._nextRemoved=p._next,p.previousValue=p.currentValue,p.currentValue=null,p._prev=null,p._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const p=c._prev;return d._next=c,d._prev=p,c._prev=d,p&&(p._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const _=this._records.get(c);this._maybeAddToChanges(_,d);const b=_._prev,M=_._next;return b&&(b._next=M),M&&(M._prev=b),_._next=null,_._prev=null,_}const p=new JD(c);return this._records.set(c,p),p.currentValue=d,this._addToAdditions(p),p}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(p=>d(c[p],p))}}class JD{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function O0(){return new Yv([new QD])}let Yv=(()=>{class s{static#e=this.\u0275prov=fn({token:s,providedIn:"root",factory:O0});constructor(d){this.factories=d}static create(d,p){if(null!=p){const _=p.factories.slice();d=d.concat(_)}return new s(d)}static extend(d){return{provide:s,useFactory:p=>s.create(d,p||O0()),deps:[[s,new Nt,new Xe]]}}find(d){const p=this.factories.find(_=>_.supports(d));if(null!=p)return p;throw new xe(901,!1)}}return s})();function EE(){return new IE([new Dg])}let IE=(()=>{class s{static#e=this.\u0275prov=fn({token:s,providedIn:"root",factory:EE});constructor(d){this.factories=d}static create(d,p){if(p){const _=p.factories.slice();d=d.concat(_)}return new s(d)}static extend(d){return{provide:s,useFactory:p=>s.create(d,p||EE()),deps:[[s,new Nt,new Xe]]}}find(d){const p=this.factories.find(_=>_.supports(d));if(p)return p;throw new xe(901,!1)}}return s})();const TE=VD(null,"core",[]);let A0=(()=>{class s{constructor(d){}static#e=this.\u0275fac=function(p){return new(p||s)(St(Wu))};static#t=this.\u0275mod=Yi({type:s});static#n=this.\u0275inj=Sn({})}return s})();function s1(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function vR(s){const c=zn(s);if(!c)return null;const d=new Ch(c);return{get selector(){return d.selector},get type(){return d.componentType},get inputs(){return d.inputs},get outputs(){return d.outputs},get ngContentSelectors(){return d.ngContentSelectors},get isStandalone(){return c.standalone},get isSignal(){return c.signals}}}},4097:(en,De,Q)=>{Q.d(De,{C6:()=>a.getApps,KN:()=>a.registerVersion,Mq:()=>a.getApp,ZF:()=>a.initializeApp});var a=Q(534);(0,a.registerVersion)("firebase","9.23.0","app")},120:(en,De,Q)=>{Q.d(De,{Z:()=>a.Z});var a=Q(3106);a.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(en,De,Q)=>{Q.r(De);var a=Q(5861),U=Q(3106),Y=Q(6710),pe=Q(9058),Ae=(Q(534),Q(7879),Q(4537));function ut(){return window}function G(){return G=(0,a.Z)(function*(X,te,K){var Oe;const{BuildInfo:Qe}=ut();(0,Y.as)(te.sessionId,"AuthEvent did not contain a session ID");const St=yield function Re(X){return at.apply(this,arguments)}(te.sessionId),yn={};return(0,Y.at)()?yn.ibi=Qe.packageName:(0,Y.au)()?yn.apn=Qe.packageName:(0,Y.av)(X,"operation-not-supported-in-this-environment"),Qe.displayName&&(yn.appDisplayName=Qe.displayName),yn.sessionId=St,(0,Y.aw)(X,K,te.type,void 0,null!==(Oe=te.eventId)&&void 0!==Oe?Oe:void 0,yn)}),G.apply(this,arguments)}function Ne(){return(Ne=(0,a.Z)(function*(X){const{BuildInfo:te}=ut(),K={};(0,Y.at)()?K.iosBundleId=te.packageName:(0,Y.au)()?K.androidPackageName=te.packageName:(0,Y.av)(X,"operation-not-supported-in-this-environment"),yield(0,Y.ax)(X,K)})).apply(this,arguments)}function st(){return(st=(0,a.Z)(function*(X,te,K){const{cordova:Oe}=ut();let Qe=()=>{};try{yield new Promise((St,yn)=>{let Vt=null;function Xn(){var Nn;St();const vr=null===(Nn=Oe.plugins.browsertab)||void 0===Nn?void 0:Nn.close;"function"==typeof vr&&vr(),"function"==typeof K?.close&&K.close()}function xn(){Vt||(Vt=window.setTimeout(()=>{yn((0,Y.az)(X,"redirect-cancelled-by-user"))},2e3))}function ai(){"visible"===document?.visibilityState&&xn()}te.addPassiveListener(Xn),document.addEventListener("resume",xn,!1),(0,Y.au)()&&document.addEventListener("visibilitychange",ai,!1),Qe=()=>{te.removePassiveListener(Xn),document.removeEventListener("resume",xn,!1),document.removeEventListener("visibilitychange",ai,!1),Vt&&window.clearTimeout(Vt)}})}finally{Qe()}})).apply(this,arguments)}function at(){return(at=(0,a.Z)(function*(X){const te=function Ze(X){if((0,Y.as)(/[0-9a-zA-Z]+/.test(X),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(X);const te=new ArrayBuffer(X.length),K=new Uint8Array(te);for(let Oe=0;Oe<X.length;Oe++)K[Oe]=X.charCodeAt(Oe);return K}(X),K=yield crypto.subtle.digest("SHA-256",te);return Array.from(new Uint8Array(K)).map(Qe=>Qe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class nt extends Y.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(te=>{this.resolveInialized=te})}addPassiveListener(te){this.passiveListeners.add(te)}removePassiveListener(te){this.passiveListeners.delete(te)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(te){return this.resolveInialized(),this.passiveListeners.forEach(K=>K(te)),super.onEvent(te)}initialized(){var te=this;return(0,a.Z)(function*(){yield te.initPromise})()}}function he(X){return ue.apply(this,arguments)}function ue(){return(ue=(0,a.Z)(function*(X){const te=yield Ct()._get(ot(X));return te&&(yield Ct()._remove(ot(X))),te})).apply(this,arguments)}function Le(){const X=[];for(let K=0;K<20;K++){const Oe=Math.floor(62*Math.random());X.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Oe))}return X.join("")}function Ct(){return(0,Y.aC)(Y.b)}function ot(X){return(0,Y.aD)("authEvent",X.config.apiKey,X.name)}function un(X){if(!X?.includes("?"))return{};const[te,...K]=X.split("?");return(0,pe.zd)(K.join("?"))}const Te=class fi{constructor(){this._redirectPersistence=Y.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Y.aE,this._overrideRedirectResult=Y.aF}_initialize(te){var K=this;return(0,a.Z)(function*(){const Oe=te._key();let Qe=K.eventManagers.get(Oe);return Qe||(Qe=new nt(te),K.eventManagers.set(Oe,Qe),K.attachCallbackListeners(te,Qe)),Qe})()}_openPopup(te){(0,Y.av)(te,"operation-not-supported-in-this-environment")}_openRedirect(te,K,Oe,Qe){var St=this;return(0,a.Z)(function*(){!function mt(X){var te,K,Oe,Qe,St,yn,Vt,Xn,xn,ai;const Nn=ut();(0,Y.aA)("function"==typeof(null===(te=Nn?.universalLinks)||void 0===te?void 0:te.subscribe),X,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,Y.aA)(typeof(null===(K=Nn?.BuildInfo)||void 0===K?void 0:K.packageName)<"u",X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,Y.aA)("function"==typeof(null===(St=null===(Qe=null===(Oe=Nn?.cordova)||void 0===Oe?void 0:Oe.plugins)||void 0===Qe?void 0:Qe.browsertab)||void 0===St?void 0:St.openUrl),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Y.aA)("function"==typeof(null===(Xn=null===(Vt=null===(yn=Nn?.cordova)||void 0===yn?void 0:yn.plugins)||void 0===Vt?void 0:Vt.browsertab)||void 0===Xn?void 0:Xn.isAvailable),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Y.aA)("function"==typeof(null===(ai=null===(xn=Nn?.cordova)||void 0===xn?void 0:xn.InAppBrowser)||void 0===ai?void 0:ai.open),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(te);const yn=yield St._initialize(te);yield yn.initialized(),yn.resetRedirect(),(0,Y.aG)(),yield St._originValidation(te);const Vt=function $e(X,te,K=null){return{type:te,eventId:K,urlResponse:null,sessionId:Le(),postBody:null,tenantId:X.tenantId,error:(0,Y.az)(X,"no-auth-event")}}(te,Oe,Qe);yield function it(X,te){return Ct()._set(ot(X),te)}(te,Vt);const Xn=yield function z(X,te,K){return G.apply(this,arguments)}(te,Vt,K),xn=yield function me(X){const{cordova:te}=ut();return new Promise(K=>{te.plugins.browsertab.isAvailable(Oe=>{let Qe=null;Oe?te.plugins.browsertab.openUrl(X):Qe=te.InAppBrowser.open(X,(0,Y.ay)()?"_blank":"_system","location=yes"),K(Qe)})})}(Xn);return function lt(X,te,K){return st.apply(this,arguments)}(te,yn,xn)})()}_isIframeWebStorageSupported(te,K){throw new Error("Method not implemented.")}_originValidation(te){const K=te._key();return this.originValidationPromises[K]||(this.originValidationPromises[K]=function de(X){return Ne.apply(this,arguments)}(te)),this.originValidationPromises[K]}attachCallbackListeners(te,K){const{universalLinks:Oe,handleOpenURL:Qe,BuildInfo:St}=ut(),yn=setTimeout((0,a.Z)(function*(){yield he(te),K.onEvent(Ce())}),500),Vt=function(){var ai=(0,a.Z)(function*(Nn){clearTimeout(yn);const vr=yield he(te);let Yo=null;vr&&Nn?.url&&(Yo=function Ge(X,te){var K,Oe;const Qe=function nn(X){const te=un(X),K=te.link?decodeURIComponent(te.link):void 0,Oe=un(K).link,Qe=te.deep_link_id?decodeURIComponent(te.deep_link_id):void 0;return un(Qe).link||Qe||Oe||K||X}(te);if(Qe.includes("/__/auth/callback")){const St=un(Qe),yn=St.firebaseError?function Yt(X){try{return JSON.parse(X)}catch{return null}}(decodeURIComponent(St.firebaseError)):null,Vt=null===(Oe=null===(K=yn?.code)||void 0===K?void 0:K.split("auth/"))||void 0===Oe?void 0:Oe[1],Xn=Vt?(0,Y.az)(Vt):null;return Xn?{type:X.type,eventId:X.eventId,tenantId:X.tenantId,error:Xn,urlResponse:null,sessionId:null,postBody:null}:{type:X.type,eventId:X.eventId,tenantId:X.tenantId,sessionId:X.sessionId,urlResponse:Qe,postBody:null}}return null}(vr,Nn.url)),K.onEvent(Yo||Ce())});return function(vr){return ai.apply(this,arguments)}}();typeof Oe<"u"&&"function"==typeof Oe.subscribe&&Oe.subscribe(null,Vt);const Xn=Qe,xn=`${St.packageName.toLowerCase()}://`;ut().handleOpenURL=function(){var ai=(0,a.Z)(function*(Nn){if(Nn.toLowerCase().startsWith(xn)&&Vt({url:Nn}),"function"==typeof Xn)try{Xn(Nn)}catch(vr){console.error(vr)}});return function(Nn){return ai.apply(this,arguments)}}()}};function Ce(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,Y.az)("no-auth-event")}}function Dt(){var X;return(null===(X=self?.location)||void 0===X?void 0:X.protocol)||null}function Tn(X=(0,pe.z$)()){return!("file:"!==Dt()&&"ionic:"!==Dt()&&"capacitor:"!==Dt()||!X.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sn(){try{const X=self.localStorage,te=Y.aL();if(X)return X.setItem(te,"1"),X.removeItem(te),!function tn(X=(0,pe.z$)()){return function Fn(){return(0,pe.w1)()&&11===document?.documentMode}()||function fn(X=(0,pe.z$)()){return/Edge\/\d+/.test(X)}(X)}()||(0,pe.hl)()}catch{return Ut()&&(0,pe.hl)()}return!1}function Ut(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function cn(){return(function bt(){return"http:"===Dt()||"https:"===Dt()}()||(0,pe.ru)()||Tn())&&!function dn(){return(0,pe.b$)()||(0,pe.UG)()}()&&Sn()&&!Ut()}function Ln(){return Tn()&&typeof document<"u"}function wi(){return(wi=(0,a.Z)(function*(){return!!Ln()&&new Promise(X=>{const te=setTimeout(()=>{X(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(te),X(!0)})})})).apply(this,arguments)}const ni={LOCAL:"local",NONE:"none",SESSION:"session"},zi=Y.aA,Ro="persistence";function Kt(X){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,a.Z)(function*(X){yield X._initializationPromise;const te=Me(),K=Y.aD(Ro,X.config.apiKey,X.name);te&&te.setItem(K,X._getPersistence())})).apply(this,arguments)}function Me(){var X;try{return(null===(X=function Oi(){return typeof window<"u"?window:null}())||void 0===X?void 0:X.sessionStorage)||null}catch{return null}}const we=Y.aA;class Ee{constructor(){this.browserResolver=Y.aC(Y.k),this.cordovaResolver=Y.aC(Te),this.underlyingResolver=null,this._redirectPersistence=Y.a,this._completeRedirectFn=Y.aE,this._overrideRedirectResult=Y.aF}_initialize(te){var K=this;return(0,a.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._initialize(te)})()}_openPopup(te,K,Oe,Qe){var St=this;return(0,a.Z)(function*(){return yield St.selectUnderlyingResolver(),St.assertedUnderlyingResolver._openPopup(te,K,Oe,Qe)})()}_openRedirect(te,K,Oe,Qe){var St=this;return(0,a.Z)(function*(){return yield St.selectUnderlyingResolver(),St.assertedUnderlyingResolver._openRedirect(te,K,Oe,Qe)})()}_isIframeWebStorageSupported(te,K){this.assertedUnderlyingResolver._isIframeWebStorageSupported(te,K)}_originValidation(te){return this.assertedUnderlyingResolver._originValidation(te)}get _shouldInitProactively(){return Ln()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return we(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var te=this;return(0,a.Z)(function*(){if(te.underlyingResolver)return;const K=yield function Vn(){return wi.apply(this,arguments)}();te.underlyingResolver=K?te.cordovaResolver:te.browserResolver})()}}function qe(X){return X.unwrap()}function xt(X){return jt(X)}function jt(X){const{_tokenResponse:te}=X instanceof pe.ZR?X.customData:X;if(!te)return null;if(!(X instanceof pe.ZR)&&"temporaryProof"in te&&"phoneNumber"in te)return Y.P.credentialFromResult(X);const K=te.providerId;if(!K||K===Y.p.PASSWORD)return null;let Oe;switch(K){case Y.p.GOOGLE:Oe=Y.V;break;case Y.p.FACEBOOK:Oe=Y.U;break;case Y.p.GITHUB:Oe=Y.W;break;case Y.p.TWITTER:Oe=Y.Z;break;default:const{oauthIdToken:Qe,oauthAccessToken:St,oauthTokenSecret:yn,pendingToken:Vt,nonce:Xn}=te;return St||yn||Qe||Vt?Vt?K.startsWith("saml.")?Y.aO._create(K,Vt):Y.L._fromParams({providerId:K,signInMethod:K,pendingToken:Vt,idToken:Qe,accessToken:St}):new Y.X(K).credential({idToken:Qe,accessToken:St,rawNonce:Xn}):null}return X instanceof pe.ZR?Oe.credentialFromError(X):Oe.credentialFromResult(X)}function Xt(X,te){return te.catch(K=>{throw K instanceof pe.ZR&&function mn(X,te){var K;const Oe=null===(K=te.customData)||void 0===K?void 0:K._tokenResponse;if("auth/multi-factor-auth-required"===te?.code)te.resolver=new vi(X,Y.aq(X,te));else if(Oe){const Qe=jt(te),St=te;Qe&&(St.credential=Qe,St.tenantId=Oe.tenantId||void 0,St.email=Oe.email||void 0,St.phoneNumber=Oe.phoneNumber||void 0)}}(X,K),K}).then(K=>{const Qe=K.user;return{operationType:K.operationType,credential:xt(K),additionalUserInfo:Y.ao(K),user:$n.getOrCreate(Qe)}})}function Ht(X,te){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,a.Z)(function*(X,te){const K=yield te;return{verificationId:K.verificationId,confirm:Oe=>Xt(X,K.confirm(Oe))}})).apply(this,arguments)}class vi{constructor(te,K){this.resolver=K,this.auth=function Fe(X){return X.wrapped()}(te)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(te){return Xt(qe(this.auth),this.resolver.resolveSignIn(te))}}class $n{constructor(te){this._delegate=te,this.multiFactor=Y.ar(te)}static getOrCreate(te){return $n.USER_MAP.has(te)||$n.USER_MAP.set(te,new $n(te)),$n.USER_MAP.get(te)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(te){return this._delegate.getIdTokenResult(te)}getIdToken(te){return this._delegate.getIdToken(te)}linkAndRetrieveDataWithCredential(te){return this.linkWithCredential(te)}linkWithCredential(te){var K=this;return(0,a.Z)(function*(){return Xt(K.auth,Y.a0(K._delegate,te))})()}linkWithPhoneNumber(te,K){var Oe=this;return(0,a.Z)(function*(){return Ht(Oe.auth,Y.l(Oe._delegate,te,K))})()}linkWithPopup(te){var K=this;return(0,a.Z)(function*(){return Xt(K.auth,Y.d(K._delegate,te,Ee))})()}linkWithRedirect(te){var K=this;return(0,a.Z)(function*(){return yield Kt(Y.aH(K.auth)),Y.g(K._delegate,te,Ee)})()}reauthenticateAndRetrieveDataWithCredential(te){return this.reauthenticateWithCredential(te)}reauthenticateWithCredential(te){var K=this;return(0,a.Z)(function*(){return Xt(K.auth,Y.a1(K._delegate,te))})()}reauthenticateWithPhoneNumber(te,K){return Ht(this.auth,Y.r(this._delegate,te,K))}reauthenticateWithPopup(te){return Xt(this.auth,Y.e(this._delegate,te,Ee))}reauthenticateWithRedirect(te){var K=this;return(0,a.Z)(function*(){return yield Kt(Y.aH(K.auth)),Y.h(K._delegate,te,Ee)})()}sendEmailVerification(te){return Y.ae(this._delegate,te)}unlink(te){var K=this;return(0,a.Z)(function*(){return yield Y.an(K._delegate,te),K})()}updateEmail(te){return Y.aj(this._delegate,te)}updatePassword(te){return Y.ak(this._delegate,te)}updatePhoneNumber(te){return Y.u(this._delegate,te)}updateProfile(te){return Y.ai(this._delegate,te)}verifyBeforeUpdateEmail(te,K){return Y.af(this._delegate,te,K)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$n.USER_MAP=new WeakMap;const Li=Y.aA;let qn=(()=>{class X{constructor(K,Oe){if(this.app=K,Oe.isInitialized())return this._delegate=Oe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Qe}=K.options;Li(Qe,"invalid-api-key",{appName:K.name}),Li(Qe,"invalid-api-key",{appName:K.name});const St=typeof window<"u"?Ee:void 0;this._delegate=Oe.initialize({options:{persistence:pi(Qe,K.name),popupRedirectResolver:St}}),this._delegate._updateErrorMap(Y.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$n.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(K){this._delegate.languageCode=K}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(K){this._delegate.tenantId=K}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(K,Oe){Y.I(this._delegate,K,Oe)}applyActionCode(K){return Y.a5(this._delegate,K)}checkActionCode(K){return Y.a6(this._delegate,K)}confirmPasswordReset(K,Oe){return Y.a4(this._delegate,K,Oe)}createUserWithEmailAndPassword(K,Oe){var Qe=this;return(0,a.Z)(function*(){return Xt(Qe._delegate,Y.a8(Qe._delegate,K,Oe))})()}fetchProvidersForEmail(K){return this.fetchSignInMethodsForEmail(K)}fetchSignInMethodsForEmail(K){return Y.ad(this._delegate,K)}isSignInWithEmailLink(K){return Y.ab(this._delegate,K)}getRedirectResult(){var K=this;return(0,a.Z)(function*(){Li(cn(),K._delegate,"operation-not-supported-in-this-environment");const Oe=yield Y.j(K._delegate,Ee);return Oe?Xt(K._delegate,Promise.resolve(Oe)):{credential:null,user:null}})()}addFrameworkForLogging(K){!function He(X,te){(0,Y.aH)(X)._logFramework(te)}(this._delegate,K)}onAuthStateChanged(K,Oe,Qe){const{next:St,error:yn,complete:Vt}=gr(K,Oe,Qe);return this._delegate.onAuthStateChanged(St,yn,Vt)}onIdTokenChanged(K,Oe,Qe){const{next:St,error:yn,complete:Vt}=gr(K,Oe,Qe);return this._delegate.onIdTokenChanged(St,yn,Vt)}sendSignInLinkToEmail(K,Oe){return Y.aa(this._delegate,K,Oe)}sendPasswordResetEmail(K,Oe){return Y.a3(this._delegate,K,Oe||void 0)}setPersistence(K){var Oe=this;return(0,a.Z)(function*(){let Qe;switch(function sn(X,te){zi(Object.values(ni).includes(te),X,"invalid-persistence-type"),(0,pe.b$)()?zi(te!==ni.SESSION,X,"unsupported-persistence-type"):(0,pe.UG)()?zi(te===ni.NONE,X,"unsupported-persistence-type"):Ut()?zi(te===ni.NONE||te===ni.LOCAL&&(0,pe.hl)(),X,"unsupported-persistence-type"):zi(te===ni.NONE||Sn(),X,"unsupported-persistence-type")}(Oe._delegate,K),K){case ni.SESSION:Qe=Y.a;break;case ni.LOCAL:Qe=(yield Y.aC(Y.i)._isAvailable())?Y.i:Y.b;break;case ni.NONE:Qe=Y.N;break;default:return Y.av("argument-error",{appName:Oe._delegate.name})}return Oe._delegate.setPersistence(Qe)})()}signInAndRetrieveDataWithCredential(K){return this.signInWithCredential(K)}signInAnonymously(){return Xt(this._delegate,Y._(this._delegate))}signInWithCredential(K){return Xt(this._delegate,Y.$(this._delegate,K))}signInWithCustomToken(K){return Xt(this._delegate,Y.a2(this._delegate,K))}signInWithEmailAndPassword(K,Oe){return Xt(this._delegate,Y.a9(this._delegate,K,Oe))}signInWithEmailLink(K,Oe){return Xt(this._delegate,Y.ac(this._delegate,K,Oe))}signInWithPhoneNumber(K,Oe){return Ht(this._delegate,Y.s(this._delegate,K,Oe))}signInWithPopup(K){var Oe=this;return(0,a.Z)(function*(){return Li(cn(),Oe._delegate,"operation-not-supported-in-this-environment"),Xt(Oe._delegate,Y.c(Oe._delegate,K,Ee))})()}signInWithRedirect(K){var Oe=this;return(0,a.Z)(function*(){return Li(cn(),Oe._delegate,"operation-not-supported-in-this-environment"),yield Kt(Oe._delegate),Y.f(Oe._delegate,K,Ee)})()}updateCurrentUser(K){return this._delegate.updateCurrentUser(K)}verifyPasswordResetCode(K){return Y.a7(this._delegate,K)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return X.Persistence=ni,X})();function gr(X,te,K){let Oe=X;"function"!=typeof X&&({next:Oe,error:te,complete:K}=X);const Qe=Oe;return{next:yn=>Qe(yn&&$n.getOrCreate(yn)),error:te,complete:K}}function pi(X,te){const K=function zt(X,te){const K=Me();if(!K)return[];const Oe=Y.aD(Ro,X,te);switch(K.getItem(Oe)){case ni.NONE:return[Y.N];case ni.LOCAL:return[Y.i,Y.a];case ni.SESSION:return[Y.a];default:return[]}}(X,te);if(typeof self<"u"&&!K.includes(Y.i)&&K.push(Y.i),typeof window<"u")for(const Oe of[Y.b,Y.a])K.includes(Oe)||K.push(Oe);return K.includes(Y.N)||K.push(Y.N),K}class Ei{constructor(){this.providerId="phone",this._delegate=new Y.P(qe(U.Z.auth()))}static credential(te,K){return Y.P.credential(te,K)}verifyPhoneNumber(te,K){return this._delegate.verifyPhoneNumber(te,K)}unwrap(){return this._delegate}}Ei.PHONE_SIGN_IN_METHOD=Y.P.PHONE_SIGN_IN_METHOD,Ei.PROVIDER_ID=Y.P.PROVIDER_ID;const _r=Y.aA;class go{constructor(te,K,Oe=U.Z.app()){var Qe;_r(null===(Qe=Oe.options)||void 0===Qe?void 0:Qe.apiKey,"invalid-api-key",{appName:Oe.name}),this._delegate=new Y.R(te,K,Oe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function le(X){X.INTERNAL.registerComponent(new Ae.wA("auth-compat",te=>{const K=te.getProvider("app-compat").getImmediate(),Oe=te.getProvider("auth");return new qn(K,Oe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Y.A.EMAIL_SIGNIN,PASSWORD_RESET:Y.A.PASSWORD_RESET,RECOVER_EMAIL:Y.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Y.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Y.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Y.A.VERIFY_EMAIL}},EmailAuthProvider:Y.Q,FacebookAuthProvider:Y.U,GithubAuthProvider:Y.W,GoogleAuthProvider:Y.V,OAuthProvider:Y.X,SAMLAuthProvider:Y.Y,PhoneAuthProvider:Ei,PhoneMultiFactorGenerator:Y.m,RecaptchaVerifier:go,TwitterAuthProvider:Y.Z,Auth:qn,AuthCredential:Y.J,Error:pe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),X.registerVersion("@firebase/auth-compat","0.4.2")}(U.Z)},3106:(en,De,Q)=>{Q.d(De,{Z:()=>lt});var a=Q(9058),U=Q(4537),Y=Q(534),pe=Q(7879);class ce{constructor(mt,Re){this._delegate=mt,this.firebase=Re,(0,Y._addComponent)(mt,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=mt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(mt){this._delegate.automaticDataCollectionEnabled=mt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(mt=>{this._delegate.checkDestroyed(),mt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Y.deleteApp)(this._delegate)))}_getService(mt,Re=Y._DEFAULT_ENTRY_NAME){var at;this._delegate.checkDestroyed();const Ze=this._delegate.container.getProvider(mt);return!Ze.isInitialized()&&"EXPLICIT"===(null===(at=Ze.getComponent())||void 0===at?void 0:at.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:Re})}_removeServiceInstance(mt,Re=Y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(mt).clearInstance(Re)}_addComponent(mt){(0,Y._addComponent)(this._delegate,mt)}_addOrOverwriteComponent(mt){(0,Y._addOrOverwriteComponent)(this._delegate,mt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ae=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function Ve(){const st=function ut(st){const mt={},Re={__esModule:!0,initializeApp:function xe(he,ue={}){const Ge=Y.initializeApp(he,ue);if((0,a.r3)(mt,Ge.name))return mt[Ge.name];const Le=new st(Ge,Re);return mt[Ge.name]=Le,Le},app:Ze,registerVersion:Y.registerVersion,setLogLevel:Y.setLogLevel,onLog:Y.onLog,apps:null,SDK_VERSION:Y.SDK_VERSION,INTERNAL:{registerComponent:function $e(he){const ue=he.name,Ge=ue.replace("-compat","");if(Y._registerComponent(he)&&"PUBLIC"===he.type){const Le=(Ct=Ze())=>{if("function"!=typeof Ct[Ge])throw Ae.create("invalid-app-argument",{appName:ue});return Ct[Ge]()};void 0!==he.serviceProps&&(0,a.ZB)(Le,he.serviceProps),Re[Ge]=Le,st.prototype[Ge]=function(...Ct){return this._getService.bind(this,ue).apply(this,he.multipleInstances?Ct:[])}}return"PUBLIC"===he.type?Re[Ge]:null},removeApp:function at(he){delete mt[he]},useAsService:function it(he,ue){return"serverAuth"===ue?null:ue},modularAPIs:Y}};function Ze(he){if(!(0,a.r3)(mt,he=he||Y._DEFAULT_ENTRY_NAME))throw Ae.create("no-app",{appName:he});return mt[he]}return Re.default=Re,Object.defineProperty(Re,"apps",{get:function nt(){return Object.keys(mt).map(he=>mt[he])}}),Ze.App=st,Re}(ce);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:Ve,extendNamespace:function mt(Re){(0,a.ZB)(st,Re)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),st}(),G=new pe.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const lt=z;!function me(st){(0,Y.registerVersion)("@firebase/app-compat","0.2.13",st)}()},534:(en,De,Q)=>{Q.r(De),Q.d(De,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>Ht,_DEFAULT_ENTRY_NAME:()=>sn,_addComponent:()=>Me,_addOrOverwriteComponent:()=>we,_apps:()=>Qt,_clearComponents:()=>xt,_components:()=>zt,_getProvider:()=>qe,_registerComponent:()=>Ee,_removeServiceInstance:()=>Fe,deleteApp:()=>Li,getApp:()=>vi,getApps:()=>$n,initializeApp:()=>Ci,onLog:()=>pi,registerVersion:()=>gr,setLogLevel:()=>Ei});var a=Q(5861),U=Q(4537),Y=Q(7879),pe=Q(9058);const ce=(Je,ze)=>ze.some(_t=>Je instanceof _t);let ke,Ae;const z=new WeakMap,G=new WeakMap,de=new WeakMap,Ne=new WeakMap,me=new WeakMap;let mt={get(Je,ze,_t){if(Je instanceof IDBTransaction){if("done"===ze)return G.get(Je);if("objectStoreNames"===ze)return Je.objectStoreNames||de.get(Je);if("store"===ze)return _t.objectStoreNames[1]?void 0:_t.objectStore(_t.objectStoreNames[0])}return xe(Je[ze])},set:(Je,ze,_t)=>(Je[ze]=_t,!0),has:(Je,ze)=>Je instanceof IDBTransaction&&("done"===ze||"store"===ze)||ze in Je};function Ze(Je){return"function"==typeof Je?function at(Je){return Je!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ve(){return Ae||(Ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Je)?function(...ze){return Je.apply(nt(this),ze),xe(z.get(this))}:function(...ze){return xe(Je.apply(nt(this),ze))}:function(ze,..._t){const Zt=Je.call(nt(this),ze,..._t);return de.set(Zt,ze.sort?ze.sort():[ze]),xe(Zt)}}(Je):(Je instanceof IDBTransaction&&function st(Je){if(G.has(Je))return;const ze=new Promise((_t,Zt)=>{const kt=()=>{Je.removeEventListener("complete",An),Je.removeEventListener("error",ri),Je.removeEventListener("abort",ri)},An=()=>{_t(),kt()},ri=()=>{Zt(Je.error||new DOMException("AbortError","AbortError")),kt()};Je.addEventListener("complete",An),Je.addEventListener("error",ri),Je.addEventListener("abort",ri)});G.set(Je,ze)}(Je),ce(Je,function ut(){return ke||(ke=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Je,mt):Je)}function xe(Je){if(Je instanceof IDBRequest)return function lt(Je){const ze=new Promise((_t,Zt)=>{const kt=()=>{Je.removeEventListener("success",An),Je.removeEventListener("error",ri)},An=()=>{_t(xe(Je.result)),kt()},ri=()=>{Zt(Je.error),kt()};Je.addEventListener("success",An),Je.addEventListener("error",ri)});return ze.then(_t=>{_t instanceof IDBCursor&&z.set(_t,Je)}).catch(()=>{}),me.set(ze,Je),ze}(Je);if(Ne.has(Je))return Ne.get(Je);const ze=Ze(Je);return ze!==Je&&(Ne.set(Je,ze),me.set(ze,Je)),ze}const nt=Je=>me.get(Je),he=["get","getKey","getAll","getAllKeys","count"],ue=["put","add","delete","clear"],Ge=new Map;function Le(Je,ze){if(!(Je instanceof IDBDatabase)||ze in Je||"string"!=typeof ze)return;if(Ge.get(ze))return Ge.get(ze);const _t=ze.replace(/FromIndex$/,""),Zt=ze!==_t,kt=ue.includes(_t);if(!(_t in(Zt?IDBIndex:IDBObjectStore).prototype)||!kt&&!he.includes(_t))return;const An=function(){var ri=(0,a.Z)(function*(Gi,...Zi){const er=this.transaction(Gi,kt?"readwrite":"readonly");let Ur=er.store;return Zt&&(Ur=Ur.index(Zi.shift())),(yield Promise.all([Ur[_t](...Zi),kt&&er.done]))[0]});return function(Zi){return ri.apply(this,arguments)}}();return Ge.set(ze,An),An}!function Re(Je){mt=Je(mt)}(Je=>({...Je,get:(ze,_t,Zt)=>Le(ze,_t)||Je.get(ze,_t,Zt),has:(ze,_t)=>!!Le(ze,_t)||Je.has(ze,_t)}));class Ct{constructor(ze){this.container=ze}getPlatformInfoString(){return this.container.getProviders().map(_t=>{if(function ot(Je){const ze=Je.getComponent();return"VERSION"===ze?.type}(_t)){const Zt=_t.getImmediate();return`${Zt.library}/${Zt.version}`}return null}).filter(_t=>_t).join(" ")}}const Yt="@firebase/app",un=new Y.Yd("@firebase/app"),sn="[DEFAULT]",Kt={[Yt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qt=new Map,zt=new Map;function Me(Je,ze){try{Je.container.addComponent(ze)}catch(_t){un.debug(`Component ${ze.name} failed to register with FirebaseApp ${Je.name}`,_t)}}function we(Je,ze){Je.container.addOrOverwriteComponent(ze)}function Ee(Je){const ze=Je.name;if(zt.has(ze))return un.debug(`There were multiple attempts to register component ${ze}.`),!1;zt.set(ze,Je);for(const _t of Qt.values())Me(_t,Je);return!0}function qe(Je,ze){const _t=Je.container.getProvider("heartbeat").getImmediate({optional:!0});return _t&&_t.triggerHeartbeat(),Je.container.getProvider(ze)}function Fe(Je,ze,_t=sn){qe(Je,ze).clearInstance(_t)}function xt(){zt.clear()}const jt=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xt{constructor(ze,_t,Zt){this._isDeleted=!1,this._options=Object.assign({},ze),this._config=Object.assign({},_t),this._name=_t.name,this._automaticDataCollectionEnabled=_t.automaticDataCollectionEnabled,this._container=Zt,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this.checkDestroyed(),this._automaticDataCollectionEnabled=ze}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ze){this._isDeleted=ze}checkDestroyed(){if(this.isDeleted)throw jt.create("app-deleted",{appName:this._name})}}const Ht="9.23.0";function Ci(Je,ze={}){let _t=Je;"object"!=typeof ze&&(ze={name:ze});const Zt=Object.assign({name:sn,automaticDataCollectionEnabled:!1},ze),kt=Zt.name;if("string"!=typeof kt||!kt)throw jt.create("bad-app-name",{appName:String(kt)});if(_t||(_t=(0,pe.aH)()),!_t)throw jt.create("no-options");const An=Qt.get(kt);if(An){if((0,pe.vZ)(_t,An.options)&&(0,pe.vZ)(Zt,An.config))return An;throw jt.create("duplicate-app",{appName:kt})}const ri=new U.H0(kt);for(const Zi of zt.values())ri.addComponent(Zi);const Gi=new Xt(_t,Zt,ri);return Qt.set(kt,Gi),Gi}function vi(Je=sn){const ze=Qt.get(Je);if(!ze&&Je===sn&&(0,pe.aH)())return Ci();if(!ze)throw jt.create("no-app",{appName:Je});return ze}function $n(){return Array.from(Qt.values())}function Li(Je){return qn.apply(this,arguments)}function qn(){return(qn=(0,a.Z)(function*(Je){const ze=Je.name;Qt.has(ze)&&(Qt.delete(ze),yield Promise.all(Je.container.getProviders().map(_t=>_t.delete())),Je.isDeleted=!0)})).apply(this,arguments)}function gr(Je,ze,_t){var Zt;let kt=null!==(Zt=Kt[Je])&&void 0!==Zt?Zt:Je;_t&&(kt+=`-${_t}`);const An=kt.match(/\s|\//),ri=ze.match(/\s|\//);if(An||ri){const Gi=[`Unable to register library "${kt}" with version "${ze}":`];return An&&Gi.push(`library name "${kt}" contains illegal characters (whitespace or "/")`),An&&ri&&Gi.push("and"),ri&&Gi.push(`version name "${ze}" contains illegal characters (whitespace or "/")`),void un.warn(Gi.join(" "))}Ee(new U.wA(`${kt}-version`,()=>({library:kt,version:ze}),"VERSION"))}function pi(Je,ze){if(null!==Je&&"function"!=typeof Je)throw jt.create("invalid-log-argument");(0,Y.Am)(Je,ze)}function Ei(Je){(0,Y.Ub)(Je)}const _r="firebase-heartbeat-database",go=1,fe="firebase-heartbeat-store";let le=null;function X(){return le||(le=function $e(Je,ze,{blocked:_t,upgrade:Zt,blocking:kt,terminated:An}={}){const ri=indexedDB.open(Je,ze),Gi=xe(ri);return Zt&&ri.addEventListener("upgradeneeded",Zi=>{Zt(xe(ri.result),Zi.oldVersion,Zi.newVersion,xe(ri.transaction),Zi)}),_t&&ri.addEventListener("blocked",Zi=>_t(Zi.oldVersion,Zi.newVersion,Zi)),Gi.then(Zi=>{An&&Zi.addEventListener("close",()=>An()),kt&&Zi.addEventListener("versionchange",er=>kt(er.oldVersion,er.newVersion,er))}).catch(()=>{}),Gi}(_r,go,{upgrade:(Je,ze)=>{0===ze&&Je.createObjectStore(fe)}}).catch(Je=>{throw jt.create("idb-open",{originalErrorMessage:Je.message})})),le}function K(){return(K=(0,a.Z)(function*(Je){try{return yield(yield X()).transaction(fe).objectStore(fe).get(St(Je))}catch(ze){if(ze instanceof pe.ZR)un.warn(ze.message);else{const _t=jt.create("idb-get",{originalErrorMessage:ze?.message});un.warn(_t.message)}}})).apply(this,arguments)}function Oe(Je,ze){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,a.Z)(function*(Je,ze){try{const Zt=(yield X()).transaction(fe,"readwrite");yield Zt.objectStore(fe).put(ze,St(Je)),yield Zt.done}catch(_t){if(_t instanceof pe.ZR)un.warn(_t.message);else{const Zt=jt.create("idb-set",{originalErrorMessage:_t?.message});un.warn(Zt.message)}}})).apply(this,arguments)}function St(Je){return`${Je.name}!${Je.options.appId}`}class Xn{constructor(ze){this.container=ze,this._heartbeatsCache=null;const _t=this.container.getProvider("app").getImmediate();this._storage=new Nn(_t),this._heartbeatsCachePromise=this._storage.read().then(Zt=>(this._heartbeatsCache=Zt,Zt))}triggerHeartbeat(){var ze=this;return(0,a.Z)(function*(){const Zt=ze.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kt=xn();if(null===ze._heartbeatsCache&&(ze._heartbeatsCache=yield ze._heartbeatsCachePromise),ze._heartbeatsCache.lastSentHeartbeatDate!==kt&&!ze._heartbeatsCache.heartbeats.some(An=>An.date===kt))return ze._heartbeatsCache.heartbeats.push({date:kt,agent:Zt}),ze._heartbeatsCache.heartbeats=ze._heartbeatsCache.heartbeats.filter(An=>{const ri=new Date(An.date).valueOf();return Date.now()-ri<=2592e6}),ze._storage.overwrite(ze._heartbeatsCache)})()}getHeartbeatsHeader(){var ze=this;return(0,a.Z)(function*(){if(null===ze._heartbeatsCache&&(yield ze._heartbeatsCachePromise),null===ze._heartbeatsCache||0===ze._heartbeatsCache.heartbeats.length)return"";const _t=xn(),{heartbeatsToSend:Zt,unsentEntries:kt}=function ai(Je,ze=1024){const _t=[];let Zt=Je.slice();for(const kt of Je){const An=_t.find(ri=>ri.agent===kt.agent);if(An){if(An.dates.push(kt.date),vr(_t)>ze){An.dates.pop();break}}else if(_t.push({agent:kt.agent,dates:[kt.date]}),vr(_t)>ze){_t.pop();break}Zt=Zt.slice(1)}return{heartbeatsToSend:_t,unsentEntries:Zt}}(ze._heartbeatsCache.heartbeats),An=(0,pe.L)(JSON.stringify({version:2,heartbeats:Zt}));return ze._heartbeatsCache.lastSentHeartbeatDate=_t,kt.length>0?(ze._heartbeatsCache.heartbeats=kt,yield ze._storage.overwrite(ze._heartbeatsCache)):(ze._heartbeatsCache.heartbeats=[],ze._storage.overwrite(ze._heartbeatsCache)),An})()}}function xn(){return(new Date).toISOString().substring(0,10)}class Nn{constructor(ze){this.app=ze,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ze=this;return(0,a.Z)(function*(){return(yield ze._canUseIndexedDBPromise)&&(yield function te(Je){return K.apply(this,arguments)}(ze.app))||{heartbeats:[]}})()}overwrite(ze){var _t=this;return(0,a.Z)(function*(){var Zt;if(yield _t._canUseIndexedDBPromise){const An=yield _t.read();return Oe(_t.app,{lastSentHeartbeatDate:null!==(Zt=ze.lastSentHeartbeatDate)&&void 0!==Zt?Zt:An.lastSentHeartbeatDate,heartbeats:ze.heartbeats})}})()}add(ze){var _t=this;return(0,a.Z)(function*(){var Zt;if(yield _t._canUseIndexedDBPromise){const An=yield _t.read();return Oe(_t.app,{lastSentHeartbeatDate:null!==(Zt=ze.lastSentHeartbeatDate)&&void 0!==Zt?Zt:An.lastSentHeartbeatDate,heartbeats:[...An.heartbeats,...ze.heartbeats]})}})()}}function vr(Je){return(0,pe.L)(JSON.stringify({version:2,heartbeats:Je})).length}!function Yo(Je){Ee(new U.wA("platform-logger",ze=>new Ct(ze),"PRIVATE")),Ee(new U.wA("heartbeat",ze=>new Xn(ze),"PRIVATE")),gr(Yt,"0.9.13",Je),gr(Yt,"0.9.13","esm2017"),gr("fire-js","")}("")},4537:(en,De,Q)=>{Q.d(De,{H0:()=>ut,wA:()=>Y,zt:()=>ce});var a=Q(5861),U=Q(9058);class Y{constructor(z,G,de){this.name=z,this.instanceFactory=G,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const pe="[DEFAULT]";class ce{constructor(z,G){this.name=z,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const G=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(G)){const de=new U.BH;if(this.instancesDeferred.set(G,de),this.isInitialized(G)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:G});Ne&&de.resolve(Ne)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(z){var G;const de=this.normalizeInstanceIdentifier(z?.identifier),Ne=null!==(G=z?.optional)&&void 0!==G&&G;if(!this.isInitialized(de)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:de})}catch(me){if(Ne)return null;throw me}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function Ae(Ve){return"EAGER"===Ve.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:pe})}catch{}for(const[G,de]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(G);try{const me=this.getOrInitializeService({instanceIdentifier:Ne});de.resolve(me)}catch{}}}}clearInstance(z=pe){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,a.Z)(function*(){const G=Array.from(z.instances.values());yield Promise.all([...G.filter(de=>"INTERNAL"in de).map(de=>de.INTERNAL.delete()),...G.filter(de=>"_delete"in de).map(de=>de._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=pe){return this.instances.has(z)}getOptions(z=pe){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:G={}}=z,de=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(de))throw Error(`${this.name}(${de}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:de,options:G});for(const[me,lt]of this.instancesDeferred.entries())de===this.normalizeInstanceIdentifier(me)&&lt.resolve(Ne);return Ne}onInit(z,G){var de;const Ne=this.normalizeInstanceIdentifier(G),me=null!==(de=this.onInitCallbacks.get(Ne))&&void 0!==de?de:new Set;me.add(z),this.onInitCallbacks.set(Ne,me);const lt=this.instances.get(Ne);return lt&&z(lt,Ne),()=>{me.delete(z)}}invokeOnInitCallbacks(z,G){const de=this.onInitCallbacks.get(G);if(de)for(const Ne of de)try{Ne(z,G)}catch{}}getOrInitializeService({instanceIdentifier:z,options:G={}}){let de=this.instances.get(z);if(!de&&this.component&&(de=this.component.instanceFactory(this.container,{instanceIdentifier:(Ve=z,Ve===pe?void 0:Ve),options:G}),this.instances.set(z,de),this.instancesOptions.set(z,G),this.invokeOnInitCallbacks(de,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,de)}catch{}var Ve;return de||null}normalizeInstanceIdentifier(z=pe){return this.component?this.component.multipleInstances?z:pe:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ut{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const G=this.getProvider(z.name);if(G.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);G.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const G=new ce(z,this);return this.providers.set(z,G),G}getProviders(){return Array.from(this.providers.values())}}},7879:(en,De,Q)=>{Q.d(De,{Am:()=>Ve,Ub:()=>ut,Yd:()=>Ae,in:()=>U});const a=[];var U=function(z){return z[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",z}(U||{});const Y={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},pe=U.INFO,ce={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},ke=(z,G,...de)=>{if(G<z.logLevel)return;const Ne=(new Date).toISOString(),me=ce[G];if(!me)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[me](`[${Ne}]  ${z.name}:`,...de)};class Ae{constructor(G){this.name=G,this._logLevel=pe,this._logHandler=ke,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in U))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?Y[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...G),this._logHandler(this,U.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...G),this._logHandler(this,U.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,U.INFO,...G),this._logHandler(this,U.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,U.WARN,...G),this._logHandler(this,U.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...G),this._logHandler(this,U.ERROR,...G)}}function ut(z){a.forEach(G=>{G.setLogLevel(z)})}function Ve(z,G){for(const de of a){let Ne=null;G&&G.level&&(Ne=Y[G.level]),de.userLogHandler=null===z?null:(me,lt,...st)=>{const mt=st.map(Re=>{if(null==Re)return null;if("string"==typeof Re)return Re;if("number"==typeof Re||"boolean"==typeof Re)return Re.toString();if(Re instanceof Error)return Re.message;try{return JSON.stringify(Re)}catch{return null}}).filter(Re=>Re).join(" ");lt>=(Ne??me.logLevel)&&z({level:U[lt].toLowerCase(),message:mt,args:st,type:me.name})}}}},5861:(en,De,Q)=>{function a(Y,pe,ce,ke,Ae,ut,Ve){try{var z=Y[ut](Ve),G=z.value}catch(de){return void ce(de)}z.done?pe(G):Promise.resolve(G).then(ke,Ae)}function U(Y){return function(){var pe=this,ce=arguments;return new Promise(function(ke,Ae){var ut=Y.apply(pe,ce);function Ve(G){a(ut,ke,Ae,Ve,z,"next",G)}function z(G){a(ut,ke,Ae,Ve,z,"throw",G)}Ve(void 0)})}}Q.d(De,{Z:()=>U})},7582:(en,De,Q)=>{function pe(Te,Ce){var He={};for(var je in Te)Object.prototype.hasOwnProperty.call(Te,je)&&Ce.indexOf(je)<0&&(He[je]=Te[je]);if(null!=Te&&"function"==typeof Object.getOwnPropertySymbols){var ct=0;for(je=Object.getOwnPropertySymbols(Te);ct<je.length;ct++)Ce.indexOf(je[ct])<0&&Object.prototype.propertyIsEnumerable.call(Te,je[ct])&&(He[je[ct]]=Te[je[ct]])}return He}function ce(Te,Ce,He,je){var Dt,ct=arguments.length,gt=ct<3?Ce:null===je?je=Object.getOwnPropertyDescriptor(Ce,He):je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)gt=Reflect.decorate(Te,Ce,He,je);else for(var bt=Te.length-1;bt>=0;bt--)(Dt=Te[bt])&&(gt=(ct<3?Dt(gt):ct>3?Dt(Ce,He,gt):Dt(Ce,He))||gt);return ct>3&&gt&&Object.defineProperty(Ce,He,gt),gt}function de(Te,Ce,He,je){return new(He||(He=Promise))(function(gt,Dt){function bt(Fn){try{dn(je.next(Fn))}catch(fn){Dt(fn)}}function Tn(Fn){try{dn(je.throw(Fn))}catch(fn){Dt(fn)}}function dn(Fn){Fn.done?gt(Fn.value):function ct(gt){return gt instanceof He?gt:new He(function(Dt){Dt(gt)})}(Fn.value).then(bt,Tn)}dn((je=je.apply(Te,Ce||[])).next())})}function xe(Te){return this instanceof xe?(this.v=Te,this):new xe(Te)}function nt(Te,Ce,He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct,je=He.apply(Te,Ce||[]),gt=[];return ct={},Dt("next"),Dt("throw"),Dt("return"),ct[Symbol.asyncIterator]=function(){return this},ct;function Dt(tn){je[tn]&&(ct[tn]=function(Sn){return new Promise(function(Ut,cn){gt.push([tn,Sn,Ut,cn])>1||bt(tn,Sn)})})}function bt(tn,Sn){try{!function Tn(tn){tn.value instanceof xe?Promise.resolve(tn.value.v).then(dn,Fn):fn(gt[0][2],tn)}(je[tn](Sn))}catch(Ut){fn(gt[0][3],Ut)}}function dn(tn){bt("next",tn)}function Fn(tn){bt("throw",tn)}function fn(tn,Sn){tn(Sn),gt.shift(),gt.length&&bt(gt[0][0],gt[0][1])}}function it(Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,Ce=Te[Symbol.asyncIterator];return Ce?Ce.call(Te):(Te=function st(Te){var Ce="function"==typeof Symbol&&Symbol.iterator,He=Ce&&Te[Ce],je=0;if(He)return He.call(Te);if(Te&&"number"==typeof Te.length)return{next:function(){return Te&&je>=Te.length&&(Te=void 0),{value:Te&&Te[je++],done:!Te}}};throw new TypeError(Ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(Te),He={},je("next"),je("throw"),je("return"),He[Symbol.asyncIterator]=function(){return this},He);function je(gt){He[gt]=Te[gt]&&function(Dt){return new Promise(function(bt,Tn){!function ct(gt,Dt,bt,Tn){Promise.resolve(Tn).then(function(dn){gt({value:dn,done:bt})},Dt)}(bt,Tn,(Dt=Te[gt](Dt)).done,Dt.value)})}}}Q.d(De,{FC:()=>nt,KL:()=>it,_T:()=>pe,gn:()=>ce,mG:()=>de,qq:()=>xe}),"function"==typeof SuppressedError&&SuppressedError}},en=>{en(en.s=6649)}]);