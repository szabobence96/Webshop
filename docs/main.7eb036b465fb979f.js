"use strict";(self.webpackChunkwebshop=self.webpackChunkwebshop||[]).push([[179],{6304:(en,Ae,Q)=>{Q.d(Ae,{Dh:()=>ut,GT:()=>Pe,cc:()=>me,hO:()=>Ne,on:()=>z,pX:()=>ce,xv:()=>Ve});var l=Q(5879),U=Q(120),K=Q(2793);en=Q.hmd(en);const pe=["ngOnDestroy"],ce=(ke,at,Ze,Ce={})=>new Proxy(ke,{get:(nt,$e)=>Ze.runOutsideAngular(()=>{var it;if(ke[$e])return!(null===(it=Ce?.spy)||void 0===it)&&it.get&&Ce.spy.get($e,ke[$e]),ke[$e];if(pe.indexOf($e)>-1)return()=>{};const he=at.toPromise().then(ue=>{const qe=ue&&ue[$e];return"function"==typeof qe?qe.bind(ue):qe&&qe.then?qe.then(Le=>Ze.run(()=>Le)):Ze.run(()=>qe)});return new Proxy(()=>{},{get:(ue,qe)=>he[qe],apply:(ue,qe,Le)=>he.then(Et=>{var ot;const Kt=Et&&Et(...Le);return!(null===(ot=Ce?.spy)||void 0===ot)&&ot.apply&&Ce.spy.apply($e,Le,Kt),Kt})})})}),Pe=(ke,at)=>{at.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach(Ce=>{Object.defineProperty(ke.prototype,Ce,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,Ce))})})};class Oe{constructor(at){return at}}const ut=new l.OlP("angularfire2.app.options"),Ve=new l.OlP("angularfire2.app.name");function z(ke,at,Ze){const nt="object"==typeof Ze&&Ze||{};nt.name=nt.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const it=U.Z.apps.filter(he=>he&&he.name===nt.name)[0]||at.runOutsideAngular(()=>U.Z.initializeApp(ke,nt));try{JSON.stringify(ke)!==JSON.stringify(it.options)&&q("error",`${it.name} Firebase App already initialized with different options${en.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Oe(it)}const q=(ke,...at)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ke](...at)},de={provide:Oe,useFactory:z,deps:[ut,l.R0b,[new l.FiY,Ve]]};let Ne=(()=>{class ke{constructor(Ze){U.Z.registerVersion("angularfire",K.q4.full,"core"),U.Z.registerVersion("angularfire",K.q4.full,"app-compat"),U.Z.registerVersion("angular",l.q4F.full,Ze.toString())}static initializeApp(Ze,Ce){return{ngModule:ke,providers:[{provide:ut,useValue:Ze},{provide:Ve,useValue:Ce}]}}}return ke.\u0275fac=function(Ze){return new(Ze||ke)(l.LFG(l.Lbi))},ke.\u0275mod=l.oAB({type:ke}),ke.\u0275inj=l.cJS({providers:[de]}),ke})();function me(ke,at,Ze,Ce,nt){const[,$e,it]=globalThis.\u0275AngularfireInstanceCache.find(he=>he[0]===ke)||[];if($e)return function lt(ke,at){try{return ke.toString()===at.toString()}catch{return ke===at}}(nt,it)||(mt("error",`${at} was already initialized on the ${Ze} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),mt("warn",{is:nt,was:it})),$e;{const he=Ce();return globalThis.\u0275AngularfireInstanceCache.push([ke,he,nt]),he}}const st=!!en.hot,mt=(ke,...at)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ke](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(en,Ae,Q)=>{Q.d(Ae,{q4:()=>Cu,iC:()=>Gs,HU:()=>sr,vb:()=>rh,JM:()=>ih,u3:()=>Bc});var l=Q(5879),U=Q(4097),K=Q(5861),pe=Q(534),ce=Q(9058),Pe=Q(4537),Oe=Q(7879);const ut=(O,F)=>F.some(H=>O instanceof H);let Ve,z;const Ne=new WeakMap,me=new WeakMap,lt=new WeakMap,st=new WeakMap,mt=new WeakMap;let Ze={get(O,F,H){if(O instanceof IDBTransaction){if("done"===F)return me.get(O);if("objectStoreNames"===F)return O.objectStoreNames||lt.get(O);if("store"===F)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return it(O[F])},set:(O,F,H)=>(O[F]=H,!0),has:(O,F)=>O instanceof IDBTransaction&&("done"===F||"store"===F)||F in O};function $e(O){return"function"==typeof O?function nt(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...F){return O.apply(he(this),F),it(Ne.get(this))}:function(...F){return it(O.apply(he(this),F))}:function(F,...H){const oe=O.call(he(this),F,...H);return lt.set(oe,F.sort?F.sort():[F]),it(oe)}}(O):(O instanceof IDBTransaction&&function at(O){if(me.has(O))return;const F=new Promise((H,oe)=>{const be=()=>{O.removeEventListener("complete",Ue),O.removeEventListener("error",rt),O.removeEventListener("abort",rt)},Ue=()=>{H(),be()},rt=()=>{oe(O.error||new DOMException("AbortError","AbortError")),be()};O.addEventListener("complete",Ue),O.addEventListener("error",rt),O.addEventListener("abort",rt)});me.set(O,F)}(O),ut(O,function q(){return Ve||(Ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,Ze):O)}function it(O){if(O instanceof IDBRequest)return function ke(O){const F=new Promise((H,oe)=>{const be=()=>{O.removeEventListener("success",Ue),O.removeEventListener("error",rt)},Ue=()=>{H(it(O.result)),be()},rt=()=>{oe(O.error),be()};O.addEventListener("success",Ue),O.addEventListener("error",rt)});return F.then(H=>{H instanceof IDBCursor&&Ne.set(H,O)}).catch(()=>{}),mt.set(F,O),F}(O);if(st.has(O))return st.get(O);const F=$e(O);return F!==O&&(st.set(O,F),mt.set(F,O)),F}const he=O=>mt.get(O),Le=["get","getKey","getAll","getAllKeys","count"],Et=["put","add","delete","clear"],ot=new Map;function Kt(O,F){if(!(O instanceof IDBDatabase)||F in O||"string"!=typeof F)return;if(ot.get(F))return ot.get(F);const H=F.replace(/FromIndex$/,""),oe=F!==H,be=Et.includes(H);if(!(H in(oe?IDBIndex:IDBObjectStore).prototype)||!be&&!Le.includes(H))return;const Ue=function(){var rt=(0,K.Z)(function*(Bt,...Ft){const hn=this.transaction(Bt,be?"readwrite":"readonly");let Ln=hn.store;return oe&&(Ln=Ln.index(Ft.shift())),(yield Promise.all([Ln[H](...Ft),be&&hn.done]))[0]});return function(Ft){return rt.apply(this,arguments)}}();return ot.set(F,Ue),Ue}!function Ce(O){Ze=O(Ze)}(O=>({...O,get:(F,H,oe)=>Kt(F,H)||O.get(F,H,oe),has:(F,H)=>!!Kt(F,H)||O.has(F,H)}));const nn="@firebase/installations",un="0.6.4",rn=1e4,fi=`w:${un}`,De="FIS_v2",Ee="https://firebaseinstallations.googleapis.com/v1",He=36e5,At=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function bt(O){return O instanceof ce.ZR&&O.code.includes("request-failed")}function Tn({projectId:O}){return`${Ee}/projects/${O}/installations`}function dn(O){return{token:O.token,requestStatus:2,expiresIn:Fn(O.expiresIn),creationTime:Date.now()}}function Nn(O,F){return fn.apply(this,arguments)}function fn(){return(fn=(0,K.Z)(function*(O,F){const oe=(yield F.json()).error;return At.create("request-failed",{requestName:O,serverCode:oe.code,serverMessage:oe.message,serverStatus:oe.status})})).apply(this,arguments)}function tn({apiKey:O}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O})}function Ut(O){return cn.apply(this,arguments)}function cn(){return(cn=(0,K.Z)(function*(O){const F=yield O();return F.status>=500&&F.status<600?O():F})).apply(this,arguments)}function Fn(O){return Number(O.replace("s","000"))}function Si(){return(Si=(0,K.Z)(function*({appConfig:O,heartbeatServiceProvider:F},{fid:H}){const oe=Tn(O),be=tn(O),Ue=F.getImmediate({optional:!0});if(Ue){const hn=yield Ue.getHeartbeatsHeader();hn&&be.append("x-firebase-client",hn)}const Bt={method:"POST",headers:be,body:JSON.stringify({fid:H,authVersion:De,appId:O.appId,sdkVersion:fi})},Ft=yield Ut(()=>fetch(oe,Bt));if(Ft.ok){const hn=yield Ft.json();return{fid:hn.fid||H,registrationStatus:2,refreshToken:hn.refreshToken,authToken:dn(hn.authToken)}}throw yield Nn("Create Installation",Ft)})).apply(this,arguments)}function ti(O){return new Promise(F=>{setTimeout(F,O)})}const Po=/^[cdef][\w-]{21}$/,sn="";function Yt(){try{const O=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(O),O[0]=112+O[0]%16;const H=function Qt(O){return function Vi(O){return btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_")}(O).substr(0,22)}(O);return Po.test(H)?H:sn}catch{return sn}}function zt(O){return`${O.appName}!${O.appId}`}const Te=new Map;function we(O,F){const H=zt(O);Fe(H,F),function Ct(O,F){const H=function jt(){return!mn&&"BroadcastChannel"in self&&(mn=new BroadcastChannel("[Firebase] FID Change"),mn.onmessage=O=>{Fe(O.data.key,O.data.fid)}),mn}();H&&H.postMessage({key:O,fid:F}),function Jt(){0===Te.size&&mn&&(mn.close(),mn=null)}()}(H,F)}function Fe(O,F){const H=Te.get(O);if(H)for(const oe of H)oe(F)}let mn=null;const Ht="firebase-installations-database",Ei=1,vi="firebase-installations-store";let zn=null;function ki(){return zn||(zn=function ue(O,F,{blocked:H,upgrade:oe,blocking:be,terminated:Ue}={}){const rt=indexedDB.open(O,F),Bt=it(rt);return oe&&rt.addEventListener("upgradeneeded",Ft=>{oe(it(rt.result),Ft.oldVersion,Ft.newVersion,it(rt.transaction))}),H&&rt.addEventListener("blocked",()=>H()),Bt.then(Ft=>{Ue&&Ft.addEventListener("close",()=>Ue()),be&&Ft.addEventListener("versionchange",()=>be())}).catch(()=>{}),Bt}(Ht,Ei,{upgrade:(O,F)=>{0===F&&O.createObjectStore(vi)}})),zn}function Hn(O,F){return mr.apply(this,arguments)}function mr(){return(mr=(0,K.Z)(function*(O,F){const H=zt(O),be=(yield ki()).transaction(vi,"readwrite"),Ue=be.objectStore(vi),rt=yield Ue.get(H);return yield Ue.put(F,H),yield be.done,(!rt||rt.fid!==F.fid)&&we(O,F.fid),F})).apply(this,arguments)}function pi(O){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,K.Z)(function*(O){const F=zt(O),oe=(yield ki()).transaction(vi,"readwrite");yield oe.objectStore(vi).delete(F),yield oe.done})).apply(this,arguments)}function gr(O,F){return mo.apply(this,arguments)}function mo(){return(mo=(0,K.Z)(function*(O,F){const H=zt(O),be=(yield ki()).transaction(vi,"readwrite"),Ue=be.objectStore(vi),rt=yield Ue.get(H),Bt=F(rt);return void 0===Bt?yield Ue.delete(H):yield Ue.put(Bt,H),yield be.done,Bt&&(!rt||rt.fid!==Bt.fid)&&we(O,Bt.fid),Bt})).apply(this,arguments)}function fe(O){return le.apply(this,arguments)}function le(){return le=(0,K.Z)(function*(O){let F;const H=yield gr(O.appConfig,oe=>{const be=function J(O){return Vt(O||{fid:Yt(),registrationStatus:0})}(oe),Ue=function te(O,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(At.create("app-offline"))};const H={fid:F.fid,registrationStatus:1,registrationTime:Date.now()},oe=function Y(O,F){return Me.apply(this,arguments)}(O,H);return{installationEntry:H,registrationPromise:oe}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:Qe(O)}:{installationEntry:F}}(O,be);return F=Ue.registrationPromise,Ue.installationEntry});return H.fid===sn?{installationEntry:yield F}:{installationEntry:H,registrationPromise:F}}),le.apply(this,arguments)}function Me(){return Me=(0,K.Z)(function*(O,F){try{const H=yield function wi(O,F){return Si.apply(this,arguments)}(O,F);return Hn(O.appConfig,H)}catch(H){throw bt(H)&&409===H.customData.serverCode?yield pi(O.appConfig):yield Hn(O.appConfig,{fid:F.fid,registrationStatus:0}),H}}),Me.apply(this,arguments)}function Qe(O){return St.apply(this,arguments)}function St(){return(St=(0,K.Z)(function*(O){let F=yield yn(O.appConfig);for(;1===F.registrationStatus;)yield ti(100),F=yield yn(O.appConfig);if(0===F.registrationStatus){const{installationEntry:H,registrationPromise:oe}=yield fe(O);return oe||H}return F})).apply(this,arguments)}function yn(O){return gr(O,F=>{if(!F)throw At.create("installation-not-found");return Vt(F)})}function Vt(O){return function Xn(O){return 1===O.registrationStatus&&O.registrationTime+rn<Date.now()}(O)?{fid:O.fid,registrationStatus:0}:O}function si(){return(si=(0,K.Z)(function*({appConfig:O,heartbeatServiceProvider:F},H){const oe=function kn(O,{fid:F}){return`${Tn(O)}/${F}/authTokens:generate`}(O,H),be=function Dn(O,{refreshToken:F}){const H=tn(O);return H.append("Authorization",function Un(O){return`${De} ${O}`}(F)),H}(O,H),Ue=F.getImmediate({optional:!0});if(Ue){const hn=yield Ue.getHeartbeatsHeader();hn&&be.append("x-firebase-client",hn)}const Bt={method:"POST",headers:be,body:JSON.stringify({installation:{sdkVersion:fi,appId:O.appId}})},Ft=yield Ut(()=>fetch(oe,Bt));if(Ft.ok)return dn(yield Ft.json());throw yield Nn("Generate Auth Token",Ft)})).apply(this,arguments)}function _r(O){return Zo.apply(this,arguments)}function Zo(){return Zo=(0,K.Z)(function*(O,F=!1){let H;const oe=yield gr(O.appConfig,Ue=>{if(!On(Ue))throw At.create("not-registered");const rt=Ue.authToken;if(!F&&function ii(O){return 2===O.requestStatus&&!function Hi(O){const F=Date.now();return F<O.creationTime||O.creationTime+O.expiresIn<F+He}(O)}(rt))return Ue;if(1===rt.requestStatus)return H=function Xe(O,F){return ze.apply(this,arguments)}(O,F),Ue;{if(!navigator.onLine)throw At.create("app-offline");const Bt=function Gi(O){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},O),{authToken:F})}(Ue);return H=function Zt(O,F){return Pt.apply(this,arguments)}(O,Bt),Bt}});return H?yield H:oe.authToken}),Zo.apply(this,arguments)}function ze(){return(ze=(0,K.Z)(function*(O,F){let H=yield _t(O.appConfig);for(;1===H.authToken.requestStatus;)yield ti(100),H=yield _t(O.appConfig);const oe=H.authToken;return 0===oe.requestStatus?_r(O,F):oe})).apply(this,arguments)}function _t(O){return gr(O,F=>{if(!On(F))throw At.create("not-registered");return function Yi(O){return 1===O.requestStatus&&O.requestTime+rn<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function Pt(){return Pt=(0,K.Z)(function*(O,F){try{const H=yield function En(O,F){return si.apply(this,arguments)}(O,F),oe=Object.assign(Object.assign({},F),{authToken:H});return yield Hn(O.appConfig,oe),H}catch(H){if(!bt(H)||401!==H.customData.serverCode&&404!==H.customData.serverCode){const oe=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield Hn(O.appConfig,oe)}else yield pi(O.appConfig);throw H}}),Pt.apply(this,arguments)}function On(O){return void 0!==O&&2===O.registrationStatus}function go(){return(go=(0,K.Z)(function*(O){const F=O,{installationEntry:H,registrationPromise:oe}=yield fe(F);return oe?oe.catch(console.error):_r(F).catch(console.error),H.fid})).apply(this,arguments)}function Ko(){return Ko=(0,K.Z)(function*(O,F=!1){const H=O;return yield function cs(O){return ms.apply(this,arguments)}(H),(yield _r(H,F)).token}),Ko.apply(this,arguments)}function ms(){return(ms=(0,K.Z)(function*(O){const{registrationPromise:F}=yield fe(O);F&&(yield F)})).apply(this,arguments)}function ks(O){return At.create("missing-app-config-values",{valueName:O})}const Ya="installations",ea=O=>{const F=O.getProvider("app").getImmediate(),H=function $r(O){if(!O||!O.options)throw ks("App Configuration");if(!O.name)throw ks("App Name");const F=["projectId","apiKey","appId"];for(const H of F)if(!O.options[H])throw ks(H);return{appName:O.name,projectId:O.options.projectId,apiKey:O.options.apiKey,appId:O.options.appId}}(F);return{app:F,appConfig:H,heartbeatServiceProvider:(0,pe._getProvider)(F,"heartbeat"),_delete:()=>Promise.resolve()}},vc=O=>{const F=O.getProvider("app").getImmediate(),H=(0,pe._getProvider)(F,Ya).getImmediate();return{getId:()=>function Lr(O){return go.apply(this,arguments)}(H),getToken:be=>function xa(O){return Ko.apply(this,arguments)}(H,be)}};(function yc(){(0,pe._registerComponent)(new Pe.wA(Ya,ea,"PUBLIC")),(0,pe._registerComponent)(new Pe.wA("installations-internal",vc,"PRIVATE"))})(),(0,pe.registerVersion)(nn,un),(0,pe.registerVersion)(nn,un,"esm2017");const Ns="@firebase/remote-config",vr=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Cn{constructor(F,H,oe,be){this.client=F,this.storage=H,this.storageCache=oe,this.logger=be}isCachedDataFresh(F,H){if(!H)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const oe=Date.now()-H,be=oe<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${oe}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${be}.`),be}fetch(F){var H=this;return(0,K.Z)(function*(){const[oe,be]=yield Promise.all([H.storage.getLastSuccessfulFetchTimestampMillis(),H.storage.getLastSuccessfulFetchResponse()]);if(be&&H.isCachedDataFresh(F.cacheMaxAgeMillis,oe))return be;F.eTag=be&&be.eTag;const Ue=yield H.client.fetch(F),rt=[H.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ue.status&&rt.push(H.storage.setLastSuccessfulFetchResponse(Ue)),yield Promise.all(rt),Ue})()}}function xi(O=navigator){return O.languages&&O.languages[0]||O.language}class so{constructor(F,H,oe,be,Ue,rt){this.firebaseInstallations=F,this.sdkVersion=H,this.namespace=oe,this.projectId=be,this.apiKey=Ue,this.appId=rt}fetch(F){var H=this;return(0,K.Z)(function*(){const[oe,be]=yield Promise.all([H.firebaseInstallations.getId(),H.firebaseInstallations.getToken()]),rt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${H.projectId}/namespaces/${H.namespace}:fetch?key=${H.apiKey}`,Bt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},Ft={sdk_version:H.sdkVersion,app_instance_id:oe,app_instance_id_token:be,app_id:H.appId,language_code:xi()},hn={method:"POST",headers:Bt,body:JSON.stringify(Ft)},Ln=fetch(rt,hn),Sn=new Promise((Ua,Nr)=>{F.signal.addEventListener(()=>{const gl=new Error("The operation was aborted.");gl.name="AbortError",Nr(gl)})});let ds;try{yield Promise.race([Ln,Sn]),ds=yield Ln}catch(Ua){let Nr="fetch-client-network";throw"AbortError"===Ua?.name&&(Nr="fetch-timeout"),vr.create(Nr,{originalErrorMessage:Ua?.message})}let Ao=ds.status;const Ki=ds.headers.get("ETag")||void 0;let xu,La;if(200===ds.status){let Ua;try{Ua=yield ds.json()}catch(Nr){throw vr.create("fetch-client-parse",{originalErrorMessage:Nr?.message})}xu=Ua.entries,La=Ua.state}if("INSTANCE_STATE_UNSPECIFIED"===La?Ao=500:"NO_CHANGE"===La?Ao=304:("NO_TEMPLATE"===La||"EMPTY_CONFIG"===La)&&(xu={}),304!==Ao&&200!==Ao)throw vr.create("fetch-status",{httpStatus:Ao});return{status:Ao,eTag:Ki,config:xu}})()}}class Qo{constructor(F,H){this.client=F,this.storage=H}fetch(F){var H=this;return(0,K.Z)(function*(){const oe=(yield H.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return H.attemptFetch(F,oe)})()}attemptFetch(F,{throttleEndTimeMillis:H,backoffCount:oe}){var be=this;return(0,K.Z)(function*(){yield function Ls(O,F){return new Promise((H,oe)=>{const be=Math.max(F-Date.now(),0),Ue=setTimeout(H,be);O.addEventListener(()=>{clearTimeout(Ue),oe(vr.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,H);try{const Ue=yield be.client.fetch(F);return yield be.storage.deleteThrottleMetadata(),Ue}catch(Ue){if(!function $n(O){if(!(O instanceof ce.ZR&&O.customData))return!1;const F=Number(O.customData.httpStatus);return 429===F||500===F||503===F||504===F}(Ue))throw Ue;const rt={throttleEndTimeMillis:Date.now()+(0,ce.$s)(oe),backoffCount:oe+1};return yield be.storage.setThrottleMetadata(rt),be.attemptFetch(F,rt)}})()}}class Xo{constructor(F,H,oe,be,Ue){this.app=F,this._client=H,this._storageCache=oe,this._storage=be,this._logger=Ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function on(O,F){const H=O.target.error||void 0;return vr.create(F,{originalErrorMessage:H&&H?.message})}const Gr="app_namespace_store";class _s{constructor(F,H,oe,be=function Er(){return new Promise((O,F)=>{try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=oe=>{F(on(oe,"storage-open"))},H.onsuccess=oe=>{O(oe.target.result)},H.onupgradeneeded=oe=>{0===oe.oldVersion&&oe.target.result.createObjectStore(Gr,{keyPath:"compositeKey"})}}catch(H){F(vr.create("storage-open",{originalErrorMessage:H?.message}))}})}()){this.appId=F,this.appName=H,this.namespace=oe,this.openDbPromise=be}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var H=this;return(0,K.Z)(function*(){const oe=yield H.openDbPromise;return new Promise((be,Ue)=>{const Bt=oe.transaction([Gr],"readonly").objectStore(Gr),Ft=H.createCompositeKey(F);try{const hn=Bt.get(Ft);hn.onerror=Ln=>{Ue(on(Ln,"storage-get"))},hn.onsuccess=Ln=>{const Sn=Ln.target.result;be(Sn?Sn.value:void 0)}}catch(hn){Ue(vr.create("storage-get",{originalErrorMessage:hn?.message}))}})})()}set(F,H){var oe=this;return(0,K.Z)(function*(){const be=yield oe.openDbPromise;return new Promise((Ue,rt)=>{const Ft=be.transaction([Gr],"readwrite").objectStore(Gr),hn=oe.createCompositeKey(F);try{const Ln=Ft.put({compositeKey:hn,value:H});Ln.onerror=Sn=>{rt(on(Sn,"storage-set"))},Ln.onsuccess=()=>{Ue()}}catch(Ln){rt(vr.create("storage-set",{originalErrorMessage:Ln?.message}))}})})()}delete(F){var H=this;return(0,K.Z)(function*(){const oe=yield H.openDbPromise;return new Promise((be,Ue)=>{const Bt=oe.transaction([Gr],"readwrite").objectStore(Gr),Ft=H.createCompositeKey(F);try{const hn=Bt.delete(Ft);hn.onerror=Ln=>{Ue(on(Ln,"storage-delete"))},hn.onsuccess=()=>{be()}}catch(hn){Ue(vr.create("storage-delete",{originalErrorMessage:hn?.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class Fo{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,K.Z)(function*(){const H=F.storage.getLastFetchStatus(),oe=F.storage.getLastSuccessfulFetchTimestampMillis(),be=F.storage.getActiveConfig(),Ue=yield H;Ue&&(F.lastFetchStatus=Ue);const rt=yield oe;rt&&(F.lastSuccessfulFetchTimestampMillis=rt);const Bt=yield be;Bt&&(F.activeConfig=Bt)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function Ta(){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,K.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function Cr(){(0,pe._registerComponent)(new Pe.wA("remote-config",function O(F,{instanceIdentifier:H}){const oe=F.getProvider("app").getImmediate(),be=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw vr.create("registration-window");if(!(0,ce.hl)())throw vr.create("indexed-db-unavailable");const{projectId:Ue,apiKey:rt,appId:Bt}=oe.options;if(!Ue)throw vr.create("registration-project-id");if(!rt)throw vr.create("registration-api-key");if(!Bt)throw vr.create("registration-app-id");const Ft=new _s(Bt,oe.name,H=H||"firebase"),hn=new Fo(Ft),Ln=new Oe.Yd(Ns);Ln.logLevel=Oe.in.ERROR;const Sn=new so(be,pe.SDK_VERSION,H,Ue,rt,Bt),ds=new Qo(Sn,Ft),Ao=new Cn(ds,Ft,hn,Ln),Ki=new Xo(oe,Ao,hn,Ft,Ln);return function yr(O){const F=(0,ce.m9)(O);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(Ki),Ki},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(Ns,"0.4.4"),(0,pe.registerVersion)(Ns,"0.4.4","esm2017")}();const Lo=(O,F)=>F.some(H=>O instanceof H);let qr,Jn;const Da=new WeakMap,Mr=new WeakMap,tr=new WeakMap,Wr=new WeakMap,sa=new WeakMap;let Zr={get(O,F,H){if(O instanceof IDBTransaction){if("done"===F)return Mr.get(O);if("objectStoreNames"===F)return O.objectStoreNames||tr.get(O);if("store"===F)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return Kr(O[F])},set:(O,F,H)=>(O[F]=H,!0),has:(O,F)=>O instanceof IDBTransaction&&("done"===F||"store"===F)||F in O};function Or(O){return"function"==typeof O?function nl(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function hu(){return Jn||(Jn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...F){return O.apply(di(this),F),Kr(Da.get(this))}:function(...F){return Kr(O.apply(di(this),F))}:function(F,...H){const oe=O.call(di(this),F,...H);return tr.set(oe,F.sort?F.sort():[F]),Kr(oe)}}(O):(O instanceof IDBTransaction&&function tl(O){if(Mr.has(O))return;const F=new Promise((H,oe)=>{const be=()=>{O.removeEventListener("complete",Ue),O.removeEventListener("error",rt),O.removeEventListener("abort",rt)},Ue=()=>{H(),be()},rt=()=>{oe(O.error||new DOMException("AbortError","AbortError")),be()};O.addEventListener("complete",Ue),O.addEventListener("error",rt),O.addEventListener("abort",rt)});Mr.set(O,F)}(O),Lo(O,function xc(){return qr||(qr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,Zr):O)}function Kr(O){if(O instanceof IDBRequest)return function Bi(O){const F=new Promise((H,oe)=>{const be=()=>{O.removeEventListener("success",Ue),O.removeEventListener("error",rt)},Ue=()=>{H(Kr(O.result)),be()},rt=()=>{oe(O.error),be()};O.addEventListener("success",Ue),O.addEventListener("error",rt)});return F.then(H=>{H instanceof IDBCursor&&Da.set(H,O)}).catch(()=>{}),sa.set(F,O),F}(O);if(Wr.has(O))return Wr.get(O);const F=Or(O);return F!==O&&(Wr.set(O,F),sa.set(F,O)),F}const di=O=>sa.get(O);function aa(O,F,{blocked:H,upgrade:oe,blocking:be,terminated:Ue}={}){const rt=indexedDB.open(O,F),Bt=Kr(rt);return oe&&rt.addEventListener("upgradeneeded",Ft=>{oe(Kr(rt.result),Ft.oldVersion,Ft.newVersion,Kr(rt.transaction))}),H&&rt.addEventListener("blocked",()=>H()),Bt.then(Ft=>{Ue&&Ft.addEventListener("close",()=>Ue()),be&&Ft.addEventListener("versionchange",()=>be())}).catch(()=>{}),Bt}function ri(O,{blocked:F}={}){const H=indexedDB.deleteDatabase(O);return F&&H.addEventListener("blocked",()=>F()),Kr(H).then(()=>{})}const Rr=["get","getKey","getAll","getAllKeys","count"],kl=["put","add","delete","clear"],vs=new Map;function Ic(O,F){if(!(O instanceof IDBDatabase)||F in O||"string"!=typeof F)return;if(vs.get(F))return vs.get(F);const H=F.replace(/FromIndex$/,""),oe=F!==H,be=kl.includes(H);if(!(H in(oe?IDBIndex:IDBObjectStore).prototype)||!be&&!Rr.includes(H))return;const Ue=function(){var rt=(0,K.Z)(function*(Bt,...Ft){const hn=this.transaction(Bt,be?"readwrite":"readonly");let Ln=hn.store;return oe&&(Ln=Ln.index(Ft.shift())),(yield Promise.all([Ln[H](...Ft),be&&hn.done]))[0]});return function(Ft){return rt.apply(this,arguments)}}();return vs.set(F,Ue),Ue}!function Ir(O){Zr=O(Zr)}(O=>({...O,get:(F,H,oe)=>Ic(F,H)||O.get(F,H,oe),has:(F,H)=>!!Ic(F,H)||O.has(F,H)}));const Sa="/firebase-messaging-sw.js",Tc="/firebase-cloud-messaging-push-scope",Ja="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Nl="https://fcmregistrations.googleapis.com/v1",mi="google.c.a.c_id",fu="google.c.a.c_l",Dc="google.c.a.ts";var ec=function(O){return O.PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",O}(ec||{});function yo(O){const F=new Uint8Array(O);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function tc(O){const H=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),oe=atob(H),be=new Uint8Array(oe.length);for(let Ue=0;Ue<oe.length;++Ue)be[Ue]=oe.charCodeAt(Ue);return be}const ca="fcm_token_details_db",ys=5,Fl="fcm_token_object_Store";function Pr(){return Pr=(0,K.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ue=>Ue.name).includes(ca))return null;let F=null;return(yield aa(ca,ys,{upgrade:(oe=(0,K.Z)(function*(be,Ue,rt,Bt){var Ft;if(Ue<2||!be.objectStoreNames.contains(Fl))return;const hn=Bt.objectStore(Fl),Ln=yield hn.index("fcmSenderId").get(O);if(yield hn.clear(),Ln)if(2===Ue){const Sn=Ln;if(!Sn.auth||!Sn.p256dh||!Sn.endpoint)return;F={token:Sn.fcmToken,createTime:null!==(Ft=Sn.createTime)&&void 0!==Ft?Ft:Date.now(),subscriptionOptions:{auth:Sn.auth,p256dh:Sn.p256dh,endpoint:Sn.endpoint,swScope:Sn.swScope,vapidKey:"string"==typeof Sn.vapidKey?Sn.vapidKey:yo(Sn.vapidKey)}}}else if(3===Ue){const Sn=Ln;F={token:Sn.fcmToken,createTime:Sn.createTime,subscriptionOptions:{auth:yo(Sn.auth),p256dh:yo(Sn.p256dh),endpoint:Sn.endpoint,swScope:Sn.swScope,vapidKey:yo(Sn.vapidKey)}}}else if(4===Ue){const Sn=Ln;F={token:Sn.fcmToken,createTime:Sn.createTime,subscriptionOptions:{auth:yo(Sn.auth),p256dh:yo(Sn.p256dh),endpoint:Sn.endpoint,swScope:Sn.swScope,vapidKey:yo(Sn.vapidKey)}}}}),function(Ue,rt,Bt,Ft){return oe.apply(this,arguments)})})).close(),yield ri(ca),yield ri("fcm_vapid_details_db"),yield ri("undefined"),function Us(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:F}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}(F)?F:null;var oe}),Pr.apply(this,arguments)}const la="firebase-messaging-database",Sc=1,Vo="firebase-messaging-store";let cr=null;function Aa(){return cr||(cr=aa(la,Sc,{upgrade:(O,F)=>{0===F&&O.createObjectStore(Vo)}})),cr}function Yr(O){return Ac.apply(this,arguments)}function Ac(){return Ac=(0,K.Z)(function*(O){const F=ua(O),oe=yield(yield Aa()).transaction(Vo).objectStore(Vo).get(F);if(oe)return oe;{const be=yield function pu(O){return Pr.apply(this,arguments)}(O.appConfig.senderId);if(be)return yield bo(O,be),be}}),Ac.apply(this,arguments)}function bo(O,F){return nc.apply(this,arguments)}function nc(){return(nc=(0,K.Z)(function*(O,F){const H=ua(O),be=(yield Aa()).transaction(Vo,"readwrite");return yield be.objectStore(Vo).put(F,H),yield be.done,F})).apply(this,arguments)}function Vs(){return(Vs=(0,K.Z)(function*(O){const F=ua(O),oe=(yield Aa()).transaction(Vo,"readwrite");yield oe.objectStore(Vo).delete(F),yield oe.done})).apply(this,arguments)}function ua({appConfig:O}){return O.appId}const yi=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Bo(O,F){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,K.Z)(function*(O,F){const H=yield Oc(O),oe=Oa(F),be={method:"POST",headers:H,body:JSON.stringify(oe)};let Ue;try{Ue=yield(yield fetch(Bs(O.appConfig),be)).json()}catch(rt){throw yi.create("token-subscribe-failed",{errorInfo:rt?.toString()})}if(Ue.error)throw yi.create("token-subscribe-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw yi.create("token-subscribe-no-token");return Ue.token})).apply(this,arguments)}function Jo(){return(Jo=(0,K.Z)(function*(O,F){const H=yield Oc(O),oe=Oa(F.subscriptionOptions),be={method:"PATCH",headers:H,body:JSON.stringify(oe)};let Ue;try{Ue=yield(yield fetch(`${Bs(O.appConfig)}/${F.token}`,be)).json()}catch(rt){throw yi.create("token-update-failed",{errorInfo:rt?.toString()})}if(Ue.error)throw yi.create("token-update-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw yi.create("token-update-no-token");return Ue.token})).apply(this,arguments)}function Mc(O,F){return wo.apply(this,arguments)}function wo(){return(wo=(0,K.Z)(function*(O,F){const oe={method:"DELETE",headers:yield Oc(O)};try{const Ue=yield(yield fetch(`${Bs(O.appConfig)}/${F}`,oe)).json();if(Ue.error)throw yi.create("token-unsubscribe-failed",{errorInfo:Ue.error.message})}catch(be){throw yi.create("token-unsubscribe-failed",{errorInfo:be?.toString()})}})).apply(this,arguments)}function Bs({projectId:O}){return`${Nl}/projects/${O}/registrations`}function Oc(O){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,K.Z)(function*({appConfig:O,installations:F}){const H=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${H}`})})).apply(this,arguments)}function Oa({p256dh:O,auth:F,endpoint:H,vapidKey:oe}){const be={web:{endpoint:H,auth:F,p256dh:O}};return oe!==Ja&&(be.web.applicationPubKey=oe),be}const E=6048e5;function j(){return j=(0,K.Z)(function*(O){const F=yield function lr(O,F){return Eo.apply(this,arguments)}(O.swRegistration,O.vapidKey),H={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:F.endpoint,auth:yo(F.getKey("auth")),p256dh:yo(F.getKey("p256dh"))},oe=yield Yr(O.firebaseDependencies);if(oe){if(function es(O,F){return F.vapidKey===O.vapidKey&&F.endpoint===O.endpoint&&F.auth===O.auth&&F.p256dh===O.p256dh}(oe.subscriptionOptions,H))return Date.now()>=oe.createTime+E?function Ye(O,F){return kt.apply(this,arguments)}(O,{token:oe.token,createTime:Date.now(),subscriptionOptions:H}):oe.token;try{yield Mc(O.firebaseDependencies,oe.token)}catch(be){console.warn(be)}return Gn(O.firebaseDependencies,H)}return Gn(O.firebaseDependencies,H)}),j.apply(this,arguments)}function ve(){return ve=(0,K.Z)(function*(O){const F=yield Yr(O.firebaseDependencies);F&&(yield Mc(O.firebaseDependencies,F.token),yield function Ll(O){return Vs.apply(this,arguments)}(O.firebaseDependencies));const H=yield O.swRegistration.pushManager.getSubscription();return!H||H.unsubscribe()}),ve.apply(this,arguments)}function kt(){return kt=(0,K.Z)(function*(O,F){try{const H=yield function It(O,F){return Jo.apply(this,arguments)}(O.firebaseDependencies,F),oe=Object.assign(Object.assign({},F),{token:H,createTime:Date.now()});return yield bo(O.firebaseDependencies,oe),H}catch(H){throw yield function ee(O){return ve.apply(this,arguments)}(O),H}}),kt.apply(this,arguments)}function Gn(O,F){return ei.apply(this,arguments)}function ei(){return(ei=(0,K.Z)(function*(O,F){const oe={token:yield Bo(O,F),createTime:Date.now(),subscriptionOptions:F};return yield bo(O,oe),oe.token})).apply(this,arguments)}function Eo(){return(Eo=(0,K.Z)(function*(O,F){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:tc(F)})})).apply(this,arguments)}function Rc(O){const F={from:O.from,collapseKey:O.collapse_key,messageId:O.fcmMessageId};return function js(O,F){if(!F.notification)return;O.notification={};const H=F.notification.title;H&&(O.notification.title=H);const oe=F.notification.body;oe&&(O.notification.body=oe);const be=F.notification.image;be&&(O.notification.image=be);const Ue=F.notification.icon;Ue&&(O.notification.icon=Ue)}(F,O),function rl(O,F){F.data&&(O.data=F.data)}(F,O),function Co(O,F){var H,oe,be,Ue,rt;if(!(F.fcmOptions||null!==(H=F.notification)&&void 0!==H&&H.click_action))return;O.fcmOptions={};const Bt=null!==(be=null===(oe=F.fcmOptions)||void 0===oe?void 0:oe.link)&&void 0!==be?be:null===(Ue=F.notification)||void 0===Ue?void 0:Ue.click_action;Bt&&(O.fcmOptions.link=Bt);const Ft=null===(rt=F.fcmOptions)||void 0===rt?void 0:rt.analytics_label;Ft&&(O.fcmOptions.analyticsLabel=Ft)}(F,O),F}function Yu(O,F){const H=[];for(let oe=0;oe<O.length;oe++)H.push(O.charAt(oe)),oe<F.length&&H.push(F.charAt(oe));return H.join("")}function mu(O){return yi.create("missing-app-config-values",{valueName:O})}Yu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Yu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Lh{constructor(F,H,oe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const be=function Fh(O){if(!O||!O.options)throw mu("App Configuration Object");if(!O.name)throw mu("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:H}=O;for(const oe of F)if(!H[oe])throw mu(oe);return{appName:O.name,projectId:H.projectId,apiKey:H.apiKey,appId:H.appId,senderId:H.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:be,installations:H,analyticsProvider:oe}}_delete(){return Promise.resolve()}}function Vl(){return(Vl=(0,K.Z)(function*(O){try{O.swRegistration=yield navigator.serviceWorker.register(Sa,{scope:Tc}),O.swRegistration.update().catch(()=>{})}catch(F){throw yi.create("failed-service-worker-registration",{browserErrorMessage:F?.message})}})).apply(this,arguments)}function bs(){return(bs=(0,K.Z)(function*(O,F){if(!F&&!O.swRegistration&&(yield function Ul(O){return Vl.apply(this,arguments)}(O)),F||!O.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw yi.create("invalid-sw-registration");O.swRegistration=F}})).apply(this,arguments)}function ol(){return(ol=(0,K.Z)(function*(O,F){F?O.vapidKey=F:O.vapidKey||(O.vapidKey=Ja)})).apply(this,arguments)}function gu(){return gu=(0,K.Z)(function*(O,F){if(!navigator)throw yi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yi.create("permission-blocked");return yield function Pc(O,F){return ol.apply(this,arguments)}(O,F?.vapidKey),yield function Qu(O,F){return bs.apply(this,arguments)}(O,F?.serviceWorkerRegistration),function N(O){return j.apply(this,arguments)}(O)}),gu.apply(this,arguments)}function ws(){return(ws=(0,K.Z)(function*(O,F,H){const oe=function Gd(O){switch(O){case ec.NOTIFICATION_CLICKED:return"notification_open";case ec.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(F);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(oe,{message_id:H[mi],message_name:H[fu],message_time:H[Dc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ii(){return Ii=(0,K.Z)(function*(O,F){const H=F.data;if(!H.isFirebaseMessaging)return;O.onMessageHandler&&H.messageType===ec.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(Rc(H)):O.onMessageHandler.next(Rc(H)));const oe=H.data;(function xo(O){return"object"==typeof O&&!!O&&mi in O})(oe)&&"1"===oe["google.c.a.e"]&&(yield function Gf(O,F,H){return ws.apply(this,arguments)}(O,H.messageType,oe))}),Ii.apply(this,arguments)}const sl="@firebase/messaging",jo=O=>{const F=new Lh(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",H=>function _u(O,F){return Ii.apply(this,arguments)}(F,H)),F},Qr=O=>{const F=O.getProvider("messaging").getImmediate();return{getToken:oe=>function Xu(O,F){return gu.apply(this,arguments)}(F,oe)}};function al(){return qi.apply(this,arguments)}function qi(){return(qi=(0,K.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function qd(){(0,pe._registerComponent)(new Pe.wA("messaging",jo,"PUBLIC")),(0,pe._registerComponent)(new Pe.wA("messaging-internal",Qr,"PRIVATE")),(0,pe.registerVersion)(sl,"0.12.4"),(0,pe.registerVersion)(sl,"0.12.4","esm2017")}();const ic="analytics",vu="firebase_id",xn="origin",Nc=6e4,qf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ju="https://www.googletagmanager.com/gtag/js",Br=new Oe.Yd("@firebase/analytics"),$i=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Es(O){if(!O.startsWith(Ju)){const F=$i.create("invalid-gtag-resource",{gtagURL:O});return Br.warn(F.message),""}return O}function Fc(O){return Promise.all(O.map(F=>F.catch(H=>H)))}function pt(){return(pt=(0,K.Z)(function*(O,F,H,oe,be,Ue){const rt=oe[be];try{if(rt)yield F[rt];else{const Ft=(yield Fc(H)).find(hn=>hn.measurementId===be);Ft&&(yield F[Ft.appId])}}catch(Bt){Br.error(Bt)}O("config",be,Ue)})).apply(this,arguments)}function Cs(){return(Cs=(0,K.Z)(function*(O,F,H,oe,be){try{let Ue=[];if(be&&be.send_to){let rt=be.send_to;Array.isArray(rt)||(rt=[rt]);const Bt=yield Fc(H);for(const Ft of rt){const hn=Bt.find(Sn=>Sn.measurementId===Ft),Ln=hn&&F[hn.appId];if(!Ln){Ue=[];break}Ue.push(Ln)}}0===Ue.length&&(Ue=Object.values(F)),yield Promise.all(Ue),O("event",oe,be||{})}catch(Ue){Br.error(Ue)}})).apply(this,arguments)}const To=30,ao=new class Wi{constructor(F={},H=1e3){this.throttleMetadata=F,this.intervalMillis=H}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,H){this.throttleMetadata[F]=H}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function Zf(O){return new Headers({Accept:"application/json","x-goog-api-key":O})}function nr(){return(nr=(0,K.Z)(function*(O){var F;const{appId:H,apiKey:oe}=O,be={method:"GET",headers:Zf(oe)},Ue=qf.replace("{app-id}",H),rt=yield fetch(Ue,be);if(200!==rt.status&&304!==rt.status){let Bt="";try{const Ft=yield rt.json();null!==(F=Ft.error)&&void 0!==F&&F.message&&(Bt=Ft.error.message)}catch{}throw $i.create("config-fetch-failed",{httpStatus:rt.status,responseMessage:Bt})}return rt.json()})).apply(this,arguments)}function ur(){return(ur=(0,K.Z)(function*(O,F=ao,H){const{appId:oe,apiKey:be,measurementId:Ue}=O.options;if(!oe)throw $i.create("no-app-id");if(!be){if(Ue)return{measurementId:Ue,appId:oe};throw $i.create("no-api-key")}const rt=F.getThrottleMetadata(oe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Bt=new da;return setTimeout((0,K.Z)(function*(){Bt.abort()}),void 0!==H?H:Nc),co({appId:oe,apiKey:be,measurementId:Ue},rt,Bt,F)})).apply(this,arguments)}function co(O,F,H){return Xr.apply(this,arguments)}function Xr(){return Xr=(0,K.Z)(function*(O,{throttleEndTimeMillis:F,backoffCount:H},oe,be=ao){var Ue;const{appId:rt,measurementId:Bt}=O;try{yield function Jr(O,F){return new Promise((H,oe)=>{const be=Math.max(F-Date.now(),0),Ue=setTimeout(H,be);O.addEventListener(()=>{clearTimeout(Ue),oe($i.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(oe,F)}catch(Ft){if(Bt)return Br.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bt} provided in the "measurementId" field in the local Firebase config. [${Ft?.message}]`),{appId:rt,measurementId:Bt};throw Ft}try{const Ft=yield function Jg(O){return nr.apply(this,arguments)}(O);return be.deleteThrottleMetadata(rt),Ft}catch(Ft){const hn=Ft;if(!function Bh(O){if(!(O instanceof ce.ZR&&O.customData))return!1;const F=Number(O.customData.httpStatus);return 429===F||500===F||503===F||504===F}(hn)){if(be.deleteThrottleMetadata(rt),Bt)return Br.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bt} provided in the "measurementId" field in the local Firebase config. [${hn?.message}]`),{appId:rt,measurementId:Bt};throw Ft}const Ln=503===Number(null===(Ue=hn?.customData)||void 0===Ue?void 0:Ue.httpStatus)?(0,ce.$s)(H,be.intervalMillis,To):(0,ce.$s)(H,be.intervalMillis),Sn={throttleEndTimeMillis:Date.now()+Ln,backoffCount:H+1};return be.setThrottleMetadata(rt,Sn),Br.debug(`Calling attemptFetch again in ${Ln} millis`),co(O,Sn,oe,be)}}),Xr.apply(this,arguments)}class da{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}let td,sc;function bu(){return(bu=(0,K.Z)(function*(O,F,H,oe,be){if(be&&be.global)O("event",H,oe);else{const Ue=yield F;O("event",H,Object.assign(Object.assign({},oe),{send_to:Ue}))}})).apply(this,arguments)}function ha(){return(ha=(0,K.Z)(function*(){if(!(0,ce.hl)())return Br.warn($i.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(O){return Br.warn($i.create("indexeddb-unavailable",{errorInfo:O?.toString()}).message),!1}return!0})).apply(this,arguments)}function fa(){return fa=(0,K.Z)(function*(O,F,H,oe,be,Ue,rt){var Bt;const Ft=function Zi(O){return ur.apply(this,arguments)}(O);Ft.then(Ao=>{H[Ao.measurementId]=Ao.appId,O.options.measurementId&&Ao.measurementId!==O.options.measurementId&&Br.warn(`The measurement ID in the local Firebase config (${O.options.measurementId}) does not match the measurement ID fetched from the server (${Ao.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ao=>Br.error(Ao)),F.push(Ft);const hn=function ts(){return ha.apply(this,arguments)}().then(Ao=>{if(Ao)return oe.getId()}),[Ln,Sn]=yield Promise.all([Ft,hn]);(function ed(O){const F=window.document.getElementsByTagName("script");for(const H of Object.values(F))if(H.src&&H.src.includes(Ju)&&H.src.includes(O))return H;return null})(Ue)||function Wf(O,F){const H=function Yd(O,F){let H;return window.trustedTypes&&(H=window.trustedTypes.createPolicy(O,F)),H}("firebase-js-sdk-policy",{createScriptURL:Es}),oe=document.createElement("script"),be=`${Ju}?l=${O}&id=${F}`;oe.src=H?H?.createScriptURL(be):be,oe.async=!0,document.head.appendChild(oe)}(Ue,Ln.measurementId),sc&&(be("consent","default",sc),function ac(O){sc=O}(void 0)),be("js",new Date);const ds=null!==(Bt=rt?.config)&&void 0!==Bt?Bt:{};return ds[xn]="firebase",ds.update=!0,null!=Sn&&(ds[vu]=Sn),be("config",Ln.measurementId,ds),td&&(be("set",td),function zl(O){td=O}(void 0)),Ln.measurementId}),fa.apply(this,arguments)}class eh{constructor(F){this.app=F}_delete(){return delete xs[this.app.options.appId],Promise.resolve()}}let xs={},jn=[];const rr={};let cc,ci,So="dataLayer",ka=!1;function kr(O,F,H){!function Lc(){const O=[];if((0,ce.ru)()&&O.push("This is a browser extension environment."),(0,ce.zI)()||O.push("Cookies are not available."),O.length>0){const F=O.map((oe,be)=>`(${be+1}) ${oe}`).join(" "),H=$i.create("invalid-analytics-context",{errorInfo:F});Br.warn(H.message)}}();const oe=O.options.appId;if(!oe)throw $i.create("no-app-id");if(!O.options.apiKey){if(!O.options.measurementId)throw $i.create("no-api-key");Br.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${O.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xs[oe])throw $i.create("already-exists",{id:oe});if(!ka){!function Qd(O){let F=[];Array.isArray(window[O])?F=window[O]:window[O]=F}(So);const{wrappedGtag:Ue,gtagCore:rt}=function Io(O,F,H,oe,be){let Ue=function(...rt){window[oe].push(arguments)};return window[be]&&"function"==typeof window[be]&&(Ue=window[be]),window[be]=function yu(O,F,H,oe){function Ue(){return Ue=(0,K.Z)(function*(rt,...Bt){try{if("event"===rt){const[Ft,hn]=Bt;yield function ni(O,F,H,oe,be){return Cs.apply(this,arguments)}(O,F,H,Ft,hn)}else if("config"===rt){const[Ft,hn]=Bt;yield function rc(O,F,H,oe,be,Ue){return pt.apply(this,arguments)}(O,F,H,oe,Ft,hn)}else if("consent"===rt){const[Ft]=Bt;O("consent","update",Ft)}else if("get"===rt){const[Ft,hn,Ln]=Bt;O("get",Ft,hn,Ln)}else if("set"===rt){const[Ft]=Bt;O("set",Ft)}else O(rt,...Bt)}catch(Ft){Br.error(Ft)}}),Ue.apply(this,arguments)}return function be(rt){return Ue.apply(this,arguments)}}(Ue,O,F,H),{gtagCore:Ue,wrappedGtag:window[be]}}(xs,jn,rr,So,"gtag");ci=Ue,cc=rt,ka=!0}return xs[oe]=function ir(O,F,H,oe,be,Ue,rt){return fa.apply(this,arguments)}(O,jn,rr,F,cc,So,H),new eh(O)}function Kf(){return Is.apply(this,arguments)}function Is(){return(Is=(0,K.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const Uc="@firebase/analytics";!function sd(){(0,pe._registerComponent)(new Pe.wA(ic,(F,{options:H})=>kr(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),H),"PUBLIC")),(0,pe._registerComponent)(new Pe.wA("analytics-internal",function O(F){try{const H=F.getProvider(ic).getImmediate();return{logEvent:(oe,be,Ue)=>function jh(O,F,H,oe){O=(0,ce.m9)(O),function lm(O,F,H,oe,be){return bu.apply(this,arguments)}(ci,xs[O.app.options.appId],F,H,oe).catch(be=>Br.error(be))}(H,oe,be,Ue)}}catch(H){throw $i.create("interop-component-reg-failed",{reason:H})}},"PRIVATE")),(0,pe.registerVersion)(Uc,"0.10.0"),(0,pe.registerVersion)(Uc,"0.10.0","esm2017")}();var dl=Q(1954),us=Q(2631);const Hh=new class zh extends us.v{}(class Eu extends dl.o{constructor(F,H){super(F,H),this.scheduler=F,this.work=H}schedule(F,H=0){return H>0?super.schedule(F,H):(this.delay=H,this.state=F,this.scheduler.flush(this),this)}execute(F,H){return H>0||this.closed?super.execute(F,H):this._execute(F,H)}requestAsyncId(F,H,oe=0){return null!=oe&&oe>0||null==oe&&this.delay>0?super.requestAsyncId(F,H,oe):(F.flush(this),0)}});var $h=Q(6321),zo=Q(5592),ad=Q(9397),Hs=Q(5137),Gl=Q(3093);const Cu=new l.GfV("7.6.1"),ql="__angularfire_symbol__analyticsIsSupportedValue",Wl="__angularfire_symbol__analyticsIsSupported",cd="__angularfire_symbol__remoteConfigIsSupportedValue",Zl="__angularfire_symbol__remoteConfigIsSupported",Kl="__angularfire_symbol__messagingIsSupportedValue",$s="__angularfire_symbol__messagingIsSupported";function ih(O,F,H){if(F){if(1===F.length)return F[0];const Ue=F.filter(rt=>rt.app===H);if(1===Ue.length)return Ue[0]}return H.container.getProvider(O).getImmediate({optional:!0})}globalThis[Wl]||(globalThis[Wl]=Kf().then(O=>globalThis[ql]=O).catch(()=>globalThis[ql]=!1)),globalThis[$s]||(globalThis[$s]=al().then(O=>globalThis[Kl]=O).catch(()=>globalThis[Kl]=!1)),globalThis[Zl]||(globalThis[Zl]=Ta().then(O=>globalThis[cd]=O).catch(()=>globalThis[cd]=!1));const rh=(O,F)=>{const H=F?[F]:(0,U.C6)(),oe=[];return H.forEach(be=>{be.container.getProvider(O).instances.forEach(rt=>{oe.includes(rt)||oe.push(rt)})}),oe};function hl(){}class ns{constructor(F,H=Hh){this.zone=F,this.delegate=H}now(){return this.delegate.now()}schedule(F,H,oe){const be=this.zone;return this.delegate.schedule(function(rt){be.runGuarded(()=>{F.apply(this,[rt])})},H,oe)}}class fl{constructor(F){this.zone=F,this.task=null}call(F,H){const oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hl,{},hl,hl)),H.pipe((0,ad.b)({next:oe,complete:oe,error:oe})).subscribe(F).add(oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let sr=(()=>{class O{constructor(H){this.ngZone=H,this.outsideAngular=H.runOutsideAngular(()=>new ns(Zone.current)),this.insideAngular=H.run(()=>new ns(Zone.current,$h.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(H){return new(H||O)(l.LFG(l.R0b))},O.\u0275prov=l.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function pl(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function dr(O){return pl().ngZone.run(()=>O())}function Gs(O){return pl(),function ml(O){return function(H){return(H=H.lift(new fl(O.ngZone))).pipe((0,Hs.R)(O.outsideAngular),(0,Gl.Q)(O.insideAngular))}}(pl())(O)}const Fa=(O,F)=>function(){const oe=arguments;return F&&setTimeout(()=>{"scheduled"===F.state&&F.invoke()},10),dr(()=>O.apply(void 0,oe))},Bc=(O,F)=>function(){let H;const oe=arguments;for(let Ue=0;Ue<arguments.length;Ue++)"function"==typeof oe[Ue]&&(F&&(H||(H=dr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hl,{},hl,hl)))),oe[Ue]=Fa(oe[Ue],H));const be=function ud(O){return pl().ngZone.runOutsideAngular(()=>O())}(()=>O.apply(this,oe));if(!F){if(be instanceof zo.y){const Ue=pl();return be.pipe((0,Hs.R)(Ue.outsideAngular),(0,Gl.Q)(Ue.insideAngular))}return dr(()=>be)}return be instanceof zo.y?be.pipe(Gs):be instanceof Promise?dr(()=>new Promise((Ue,rt)=>be.then(Bt=>dr(()=>Ue(Bt)),Bt=>dr(()=>rt(Bt))))):"function"==typeof be&&H?function(){return setTimeout(()=>{H&&"scheduled"===H.state&&H.invoke()},10),be.apply(this,arguments)}:dr(()=>be)}},6710:(en,Ae,Q)=>{Q.d(Ae,{$:()=>Sa,A:()=>q,D:()=>me,I:()=>Ka,J:()=>ea,L:()=>xt,N:()=>gr,P:()=>ir,Q:()=>_s,R:()=>ll,U:()=>oa,V:()=>Ta,W:()=>Fi,X:()=>xr,Y:()=>xc,Z:()=>hu,_:()=>sa,a:()=>zs,a0:()=>Ja,a1:()=>mi,a2:()=>$d,a3:()=>Fl,a4:()=>Pr,a5:()=>la,a6:()=>Vo,a7:()=>Aa,a8:()=>Ac,a9:()=>nc,aA:()=>ue,aB:()=>Wl,aC:()=>pi,aD:()=>mo,aE:()=>ad,aF:()=>$l,aG:()=>od,aH:()=>Ai,aL:()=>kc,aO:()=>qr,aa:()=>Ll,ab:()=>ua,ac:()=>il,ad:()=>It,ae:()=>Mc,af:()=>Bs,ai:()=>E,aj:()=>j,ak:()=>ee,an:()=>nl,ao:()=>js,aq:()=>ol,ar:()=>sl,as:()=>Le,at:()=>Vt,au:()=>Qe,av:()=>Ce,aw:()=>Sn,ax:()=>$s,ay:()=>Xn,az:()=>nt,b:()=>Wd,c:()=>ci,d:()=>kr,e:()=>jr,f:()=>Uc,g:()=>zh,h:()=>dl,i:()=>Do,j:()=>$h,k:()=>La,l:()=>ls,m:()=>gl,o:()=>Wh,p:()=>ut,r:()=>oc,s:()=>jl,u:()=>ts,v:()=>xo,x:()=>Fh});var l=Q(5861),U=Q(9058),K=Q(534),pe=Q(7582),ce=Q(7879),Pe=Q(4537);const ut={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const me=function de(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},lt=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},st=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ke=new ce.Yd("@firebase/auth");function Ze(A,...w){ke.logLevel<=ce.in.ERROR&&ke.error(`Auth (${K.SDK_VERSION}): ${A}`,...w)}function Ce(A,...w){throw he(A,...w)}function nt(A,...w){return he(A,...w)}function $e(A,w,I){const R=Object.assign(Object.assign({},lt()),{[w]:I});return new U.LL("auth","Firebase",R).create(w,{appName:A.name})}function it(A,w,I){if(!(w instanceof I))throw I.name!==w.constructor.name&&Ce(A,"argument-error"),$e(A,"argument-error",`Type of ${w.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function he(A,...w){if("string"!=typeof A){const I=w[0],R=[...w.slice(1)];return R[0]&&(R[0].appName=A.name),A._errorFactory.create(I,...R)}return st.create(A,...w)}function ue(A,w,...I){if(!A)throw he(w,...I)}function qe(A){const w="INTERNAL ASSERTION FAILED: "+A;throw Ze(w),new Error(w)}function Le(A,w){A||qe(w)}function Et(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.href)||""}function ot(){return"http:"===Kt()||"https:"===Kt()}function Kt(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class rn{constructor(w,I){this.shortDelay=w,this.longDelay=I,Le(I>w,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function nn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ot()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fi(A,w){Le(A.emulator,"Emulator should always be set here");const{url:I}=A.emulator;return w?`${I}${w.startsWith("/")?w.slice(1):w}`:I}class De{static initialize(w,I,R){this.fetchImpl=w,I&&(this.headersImpl=I),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},He=new rn(3e4,6e4);function je(A,w){return A.tenantId&&!w.tenantId?Object.assign(Object.assign({},w),{tenantId:A.tenantId}):w}function ct(A,w,I,R){return gt.apply(this,arguments)}function gt(){return(gt=(0,l.Z)(function*(A,w,I,R,$={}){return At(A,$,(0,l.Z)(function*(){let X={},Se={};R&&("GET"===w?Se=R:X={body:JSON.stringify(R)});const Je=(0,U.xO)(Object.assign({key:A.config.apiKey},Se)).slice(1),Rt=yield A._getAdditionalHeaders();return Rt["Content-Type"]="application/json",A.languageCode&&(Rt["X-Firebase-Locale"]=A.languageCode),De.fetch()(Nn(A,A.config.apiHost,I,Je),Object.assign({method:w,headers:Rt,referrerPolicy:"no-referrer"},X))}))})).apply(this,arguments)}function At(A,w,I){return bt.apply(this,arguments)}function bt(){return(bt=(0,l.Z)(function*(A,w,I){A._canInitEmulator=!1;const R=Object.assign(Object.assign({},Ee),w);try{const $=new fn(A),X=yield Promise.race([I(),$.promise]);$.clearNetworkTimeout();const Se=yield X.json();if("needConfirmation"in Se)throw tn(A,"account-exists-with-different-credential",Se);if(X.ok&&!("errorMessage"in Se))return Se;{const Je=X.ok?Se.errorMessage:Se.error.message,[Rt,Nt]=Je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Rt)throw tn(A,"credential-already-in-use",Se);if("EMAIL_EXISTS"===Rt)throw tn(A,"email-already-in-use",Se);if("USER_DISABLED"===Rt)throw tn(A,"user-disabled",Se);const pn=R[Rt]||Rt.toLowerCase().replace(/[_\s]+/g,"-");if(Nt)throw $e(A,pn,Nt);Ce(A,pn)}}catch($){if($ instanceof U.ZR)throw $;Ce(A,"network-request-failed",{message:String($)})}})).apply(this,arguments)}function Tn(A,w,I,R){return dn.apply(this,arguments)}function dn(){return(dn=(0,l.Z)(function*(A,w,I,R,$={}){const X=yield ct(A,w,I,R,$);return"mfaPendingCredential"in X&&Ce(A,"multi-factor-auth-required",{_serverResponse:X}),X})).apply(this,arguments)}function Nn(A,w,I,R){const $=`${w}${I}?${R}`;return A.config.emulator?fi(A.config,$):`${A.config.apiScheme}://${$}`}class fn{constructor(w){this.auth=w,this.timer=null,this.promise=new Promise((I,R)=>{this.timer=setTimeout(()=>R(nt(this.auth,"network-request-failed")),He.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tn(A,w,I){const R={appName:A.name};I.email&&(R.email=I.email),I.phoneNumber&&(R.phoneNumber=I.phoneNumber);const $=nt(A,w,R);return $.customData._tokenResponse=I,$}function Ut(){return(Ut=(0,l.Z)(function*(A,w){return ct(A,"POST","/v1/accounts:delete",w)})).apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*(A,w){return ct(A,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function wi(){return(wi=(0,l.Z)(function*(A,w){return ct(A,"POST","/v1/accounts:lookup",w)})).apply(this,arguments)}function Si(A){if(A)try{const w=new Date(Number(A));if(!isNaN(w.getTime()))return w.toUTCString()}catch{}}function Po(){return(Po=(0,l.Z)(function*(A,w=!1){const I=(0,U.m9)(A),R=yield I.getIdToken(w),$=Yt(R);ue($&&$.exp&&$.auth_time&&$.iat,I.auth,"internal-error");const X="object"==typeof $.firebase?$.firebase:void 0,Se=X?.sign_in_provider;return{claims:$,token:R,authTime:Si(sn($.auth_time)),issuedAtTime:Si(sn($.iat)),expirationTime:Si(sn($.exp)),signInProvider:Se||null,signInSecondFactor:X?.sign_in_second_factor||null}})).apply(this,arguments)}function sn(A){return 1e3*Number(A)}function Yt(A){const[w,I,R]=A.split(".");if(void 0===w||void 0===I||void 0===R)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,U.tV)(I);return $?JSON.parse($):(Ze("Failed to decode base64 JWT payload"),null)}catch($){return Ze("Caught error parsing JWT payload as JSON",$?.toString()),null}}function zt(A,w){return Te.apply(this,arguments)}function Te(){return(Te=(0,l.Z)(function*(A,w,I=!1){if(I)return w;try{return yield w}catch(R){throw R instanceof U.ZR&&function we({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}(R)&&A.auth.currentUser===A&&(yield A.auth.signOut()),R}})).apply(this,arguments)}class xe{constructor(w){this.user=w,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(w){var I;if(w){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const $=(null!==(I=this.user.stsTokenManager.expirationTime)&&void 0!==I?I:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(w=!1){var I=this;if(!this.isRunning)return;const R=this.getInterval(w);this.timerId=setTimeout((0,l.Z)(function*(){yield I.iteration()}),R)}iteration(){var w=this;return(0,l.Z)(function*(){try{yield w.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===I?.code&&w.schedule(!0))}w.schedule()})()}}class Ge{constructor(w,I){this.createdAt=w,this.lastLoginAt=I,this._initializeTime()}_initializeTime(){this.lastSignInTime=Si(this.lastLoginAt),this.creationTime=Si(this.createdAt)}_copy(w){this.createdAt=w.createdAt,this.lastLoginAt=w.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fe(A){return Ct.apply(this,arguments)}function Ct(){return Ct=(0,l.Z)(function*(A){var w;const I=A.auth,R=yield A.getIdToken(),$=yield zt(A,function Un(A,w){return wi.apply(this,arguments)}(I,{idToken:R}));ue($?.users.length,I,"internal-error");const X=$.users[0];A._notifyReloadListener(X);const Se=null!==(w=X.providerUserInfo)&&void 0!==w&&w.length?function Ht(A){return A.map(w=>{var{providerId:I}=w,R=(0,pe._T)(w,["providerId"]);return{providerId:I,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}(X.providerUserInfo):[],Je=function Jt(A,w){return[...A.filter(R=>!w.some($=>$.providerId===R.providerId)),...w]}(A.providerData,Se),pn=!!A.isAnonymous&&!(A.email&&X.passwordHash||Je?.length),qn={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:Je,metadata:new Ge(X.createdAt,X.lastLoginAt),isAnonymous:pn};Object.assign(A,qn)}),Ct.apply(this,arguments)}function jt(){return(jt=(0,l.Z)(function*(A){const w=(0,U.m9)(A);yield Fe(w),yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)})).apply(this,arguments)}function vi(){return(vi=(0,l.Z)(function*(A,w){const I=yield At(A,{},(0,l.Z)(function*(){const R=(0,U.xO)({grant_type:"refresh_token",refresh_token:w}).slice(1),{tokenApiHost:$,apiKey:X}=A.config,Se=Nn(A,$,"/v1/token",`key=${X}`),Je=yield A._getAdditionalHeaders();return Je["Content-Type"]="application/x-www-form-urlencoded",De.fetch()(Se,{method:"POST",headers:Je,body:R})}));return{accessToken:I.access_token,expiresIn:I.expires_in,refreshToken:I.refresh_token}})).apply(this,arguments)}class zn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(w){ue(w.idToken,"internal-error"),ue(typeof w.idToken<"u","internal-error"),ue(typeof w.refreshToken<"u","internal-error");const I="expiresIn"in w&&typeof w.expiresIn<"u"?Number(w.expiresIn):function Qt(A){const w=Yt(A);return ue(w,"internal-error"),ue(typeof w.exp<"u","internal-error"),ue(typeof w.iat<"u","internal-error"),Number(w.exp)-Number(w.iat)}(w.idToken);this.updateTokensAndExpiration(w.idToken,w.refreshToken,I)}getToken(w,I=!1){var R=this;return(0,l.Z)(function*(){return ue(!R.accessToken||R.refreshToken,w,"user-token-expired"),I||!R.accessToken||R.isExpired?R.refreshToken?(yield R.refresh(w,R.refreshToken),R.accessToken):null:R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(w,I){var R=this;return(0,l.Z)(function*(){const{accessToken:$,refreshToken:X,expiresIn:Se}=yield function Ei(A,w){return vi.apply(this,arguments)}(w,I);R.updateTokensAndExpiration($,X,Number(Se))})()}updateTokensAndExpiration(w,I,R){this.refreshToken=I||null,this.accessToken=w||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(w,I){const{refreshToken:R,accessToken:$,expirationTime:X}=I,Se=new zn;return R&&(ue("string"==typeof R,"internal-error",{appName:w}),Se.refreshToken=R),$&&(ue("string"==typeof $,"internal-error",{appName:w}),Se.accessToken=$),X&&(ue("number"==typeof X,"internal-error",{appName:w}),Se.expirationTime=X),Se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(w){this.accessToken=w.accessToken,this.refreshToken=w.refreshToken,this.expirationTime=w.expirationTime}_clone(){return Object.assign(new zn,this.toJSON())}_performRefresh(){return qe("not implemented")}}function ki(A,w){ue("string"==typeof A||typeof A>"u","internal-error",{appName:w})}class Hn{constructor(w){var{uid:I,auth:R,stsTokenManager:$}=w,X=(0,pe._T)(w,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=I,this.auth=R,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=X.displayName||null,this.email=X.email||null,this.emailVerified=X.emailVerified||!1,this.phoneNumber=X.phoneNumber||null,this.photoURL=X.photoURL||null,this.isAnonymous=X.isAnonymous||!1,this.tenantId=X.tenantId||null,this.providerData=X.providerData?[...X.providerData]:[],this.metadata=new Ge(X.createdAt||void 0,X.lastLoginAt||void 0)}getIdToken(w){var I=this;return(0,l.Z)(function*(){const R=yield zt(I,I.stsTokenManager.getToken(I.auth,w));return ue(R,I.auth,"internal-error"),I.accessToken!==R&&(I.accessToken=R,yield I.auth._persistUserIfCurrent(I),I.auth._notifyListenersIfCurrent(I)),R})()}getIdTokenResult(w){return function Vi(A){return Po.apply(this,arguments)}(this,w)}reload(){return function mn(A){return jt.apply(this,arguments)}(this)}_assign(w){this!==w&&(ue(this.uid===w.uid,this.auth,"internal-error"),this.displayName=w.displayName,this.photoURL=w.photoURL,this.email=w.email,this.emailVerified=w.emailVerified,this.phoneNumber=w.phoneNumber,this.isAnonymous=w.isAnonymous,this.tenantId=w.tenantId,this.providerData=w.providerData.map(I=>Object.assign({},I)),this.metadata._copy(w.metadata),this.stsTokenManager._assign(w.stsTokenManager))}_clone(w){const I=new Hn(Object.assign(Object.assign({},this),{auth:w,stsTokenManager:this.stsTokenManager._clone()}));return I.metadata._copy(this.metadata),I}_onReload(w){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=w,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(w){this.reloadListener?this.reloadListener(w):this.reloadUserInfo=w}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(w,I=!1){var R=this;return(0,l.Z)(function*(){let $=!1;w.idToken&&w.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(w),$=!0),I&&(yield Fe(R)),yield R.auth._persistUserIfCurrent(R),$&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var w=this;return(0,l.Z)(function*(){const I=yield w.getIdToken();return yield zt(w,function Dn(A,w){return Ut.apply(this,arguments)}(w.auth,{idToken:I})),w.stsTokenManager.clearRefreshToken(),w.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(w=>Object.assign({},w)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(w,I){var R,$,X,Se,Je,Rt,Nt,pn;const qn=null!==(R=I.displayName)&&void 0!==R?R:void 0,eo=null!==($=I.email)&&void 0!==$?$:void 0,pa=null!==(X=I.phoneNumber)&&void 0!==X?X:void 0,to=null!==(Se=I.photoURL)&&void 0!==Se?Se:void 0,ep=null!==(Je=I.tenantId)&&void 0!==Je?Je:void 0,Zh=null!==(Rt=I._redirectEventId)&&void 0!==Rt?Rt:void 0,jc=null!==(Nt=I.createdAt)&&void 0!==Nt?Nt:void 0,Iu=null!==(pn=I.lastLoginAt)&&void 0!==pn?pn:void 0,{uid:_l,emailVerified:Kh,isAnonymous:oh,providerData:Yh,stsTokenManager:hm}=I;ue(_l&&hm,w,"internal-error");const Ql=zn.fromJSON(this.name,hm);ue("string"==typeof _l,w,"internal-error"),ki(qn,w.name),ki(eo,w.name),ue("boolean"==typeof Kh,w,"internal-error"),ue("boolean"==typeof oh,w,"internal-error"),ki(pa,w.name),ki(to,w.name),ki(ep,w.name),ki(Zh,w.name),ki(jc,w.name),ki(Iu,w.name);const sh=new Hn({uid:_l,auth:w,email:eo,emailVerified:Kh,displayName:qn,isAnonymous:oh,photoURL:to,phoneNumber:pa,tenantId:ep,stsTokenManager:Ql,createdAt:jc,lastLoginAt:Iu});return Yh&&Array.isArray(Yh)&&(sh.providerData=Yh.map(r_=>Object.assign({},r_))),Zh&&(sh._redirectEventId=Zh),sh}static _fromIdTokenResponse(w,I,R=!1){return(0,l.Z)(function*(){const $=new zn;$.updateFromServerResponse(I);const X=new Hn({uid:I.localId,auth:w,stsTokenManager:$,isAnonymous:R});return yield Fe(X),X})()}}const mr=new Map;function pi(A){Le(A instanceof Function,"Expected a class definition");let w=mr.get(A);return w?(Le(w instanceof A,"Instance stored in cache mismatched with class"),w):(w=new A,mr.set(A,w),w)}const gr=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(I,R){var $=this;return(0,l.Z)(function*(){$.storage[I]=R})()}_get(I){var R=this;return(0,l.Z)(function*(){const $=R.storage[I];return void 0===$?null:$})()}_remove(I){var R=this;return(0,l.Z)(function*(){delete R.storage[I]})()}_addListener(I,R){}_removeListener(I,R){}}return A.type="NONE",A})();function mo(A,w,I){return`firebase:${A}:${w}:${I}`}class fe{constructor(w,I,R){this.persistence=w,this.auth=I,this.userKey=R;const{config:$,name:X}=this.auth;this.fullUserKey=mo(this.userKey,$.apiKey,X),this.fullPersistenceKey=mo("persistence",$.apiKey,X),this.boundEventHandler=I._onStorageEvent.bind(I),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(w){return this.persistence._set(this.fullUserKey,w.toJSON())}getCurrentUser(){var w=this;return(0,l.Z)(function*(){const I=yield w.persistence._get(w.fullUserKey);return I?Hn._fromJSON(w.auth,I):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(w){var I=this;return(0,l.Z)(function*(){if(I.persistence===w)return;const R=yield I.getCurrentUser();return yield I.removeCurrentUser(),I.persistence=w,R?I.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(w,I,R="authUser"){return(0,l.Z)(function*(){if(!I.length)return new fe(pi(gr),w,R);const $=(yield Promise.all(I.map(function(){var Nt=(0,l.Z)(function*(pn){if(yield pn._isAvailable())return pn});return function(pn){return Nt.apply(this,arguments)}}()))).filter(Nt=>Nt);let X=$[0]||pi(gr);const Se=mo(R,w.config.apiKey,w.name);let Je=null;for(const Nt of I)try{const pn=yield Nt._get(Se);if(pn){const qn=Hn._fromJSON(w,pn);Nt!==X&&(Je=qn),X=Nt;break}}catch{}const Rt=$.filter(Nt=>Nt._shouldAllowMigration);return X._shouldAllowMigration&&Rt.length?(X=Rt[0],Je&&(yield X._set(Se,Je.toJSON())),yield Promise.all(I.map(function(){var Nt=(0,l.Z)(function*(pn){if(pn!==X)try{yield pn._remove(Se)}catch{}});return function(pn){return Nt.apply(this,arguments)}}())),new fe(X,w,R)):new fe(X,w,R)})()}}function le(A){const w=A.toLowerCase();if(w.includes("opera/")||w.includes("opr/")||w.includes("opios/"))return"Opera";if(Me(w))return"IEMobile";if(w.includes("msie")||w.includes("trident/"))return"IE";if(w.includes("edge/"))return"Edge";if(J(w))return"Firefox";if(w.includes("silk/"))return"Silk";if(St(w))return"Blackberry";if(yn(w))return"Webos";if(te(w))return"Safari";if((w.includes("chrome/")||Y(w))&&!w.includes("edge/"))return"Chrome";if(Qe(w))return"Android";{const R=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===R?.length)return R[1]}return"Other"}function J(A=(0,U.z$)()){return/firefox\//i.test(A)}function te(A=(0,U.z$)()){const w=A.toLowerCase();return w.includes("safari/")&&!w.includes("chrome/")&&!w.includes("crios/")&&!w.includes("android")}function Y(A=(0,U.z$)()){return/crios\//i.test(A)}function Me(A=(0,U.z$)()){return/iemobile/i.test(A)}function Qe(A=(0,U.z$)()){return/android/i.test(A)}function St(A=(0,U.z$)()){return/blackberry/i.test(A)}function yn(A=(0,U.z$)()){return/webos/i.test(A)}function Vt(A=(0,U.z$)()){return/iphone|ipad|ipod/i.test(A)||/macintosh/i.test(A)&&/mobile/i.test(A)}function Xn(A=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(A)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(A)}function kn(A=(0,U.z$)()){return Vt(A)||Qe(A)||yn(A)||St(A)||/windows phone/i.test(A)||Me(A)}function Zo(A,w=[]){let I;switch(A){case"Browser":I=le((0,U.z$)());break;case"Worker":I=`${le((0,U.z$)())}-${A}`;break;default:I=A}const R=w.length?w.join(","):"FirebaseCore-web";return`${I}/JsCore/${K.SDK_VERSION}/${R}`}function ze(){return(ze=(0,l.Z)(function*(A){return(yield ct(A,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _t(A,w){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,l.Z)(function*(A,w){return ct(A,"GET","/v2/recaptchaConfig",je(A,w))})).apply(this,arguments)}function Pt(A){return void 0!==A&&void 0!==A.getResponse}function On(A){return void 0!==A&&void 0!==A.enterprise}class ii{constructor(w){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===w.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=w.recaptchaKey.split("/")[3],this.emailPasswordEnabled=w.recaptchaEnforcementState.some(I=>"EMAIL_PASSWORD_PROVIDER"===I.provider&&"OFF"!==I.enforcementState)}}function Gi(A){return new Promise((w,I)=>{const R=document.createElement("script");R.setAttribute("src",A),R.onload=w,R.onerror=$=>{const X=nt("internal-error");X.customData=$,I(X)},R.type="text/javascript",R.charset="UTF-8",function Hi(){var A,w;return null!==(w=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==w?w:document}().appendChild(R)})}function Yi(A){return`__${A}${Math.floor(1e6*Math.random())}`}class Ko{constructor(w){this.type="recaptcha-enterprise",this.auth=Ai(w)}verify(w="verify",I=!1){var R=this;return(0,l.Z)(function*(){function X(){return X=(0,l.Z)(function*(Je){if(!I){if(null==Je.tenantId&&null!=Je._agentRecaptchaConfig)return Je._agentRecaptchaConfig.siteKey;if(null!=Je.tenantId&&void 0!==Je._tenantRecaptchaConfigs[Je.tenantId])return Je._tenantRecaptchaConfigs[Je.tenantId].siteKey}return new Promise(function(){var Rt=(0,l.Z)(function*(Nt,pn){_t(Je,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(qn=>{if(void 0!==qn.recaptchaKey){const eo=new ii(qn);return null==Je.tenantId?Je._agentRecaptchaConfig=eo:Je._tenantRecaptchaConfigs[Je.tenantId]=eo,Nt(eo.siteKey)}pn(new Error("recaptcha Enterprise site key undefined"))}).catch(qn=>{pn(qn)})});return function(Nt,pn){return Rt.apply(this,arguments)}}())}),X.apply(this,arguments)}function Se(Je,Rt,Nt){const pn=window.grecaptcha;On(pn)?pn.enterprise.ready(()=>{pn.enterprise.execute(Je,{action:w}).then(qn=>{Rt(qn)}).catch(()=>{Rt("NO_RECAPTCHA")})}):Nt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Je,Rt)=>{(function $(Je){return X.apply(this,arguments)})(R.auth).then(Nt=>{if(!I&&On(window.grecaptcha))Se(Nt,Je,Rt);else{if(typeof window>"u")return void Rt(new Error("RecaptchaVerifier is only supported in browser"));Gi("https://www.google.com/recaptcha/enterprise.js?render="+Nt).then(()=>{Se(Nt,Je,Rt)}).catch(pn=>{Rt(pn)})}}).catch(Nt=>{Rt(Nt)})})})()}}function cs(A,w,I){return ms.apply(this,arguments)}function ms(){return(ms=(0,l.Z)(function*(A,w,I,R=!1){const $=new Ko(A);let X;try{X=yield $.verify(I)}catch{X=yield $.verify(I,!0)}const Se=Object.assign({},w);return Object.assign(Se,R?{captchaResp:X}:{captchaResponse:X}),Object.assign(Se,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Se,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Se})).apply(this,arguments)}class Yo{constructor(w){this.auth=w,this.queue=[]}pushCallback(w,I){const R=X=>new Promise((Se,Je)=>{try{Se(w(X))}catch(Rt){Je(Rt)}});R.onAbort=I,this.queue.push(R);const $=this.queue.length-1;return()=>{this.queue[$]=()=>Promise.resolve()}}runMiddleware(w){var I=this;return(0,l.Z)(function*(){if(I.auth.currentUser===w)return;const R=[];try{for(const $ of I.queue)yield $(w),$.onAbort&&R.push($.onAbort)}catch($){R.reverse();for(const X of R)try{X()}catch{}throw I.auth._errorFactory.create("login-blocked",{originalMessage:$?.message})}})()}}class ai{constructor(w,I,R,$){this.app=w,this.heartbeatServiceProvider=I,this.appCheckServiceProvider=R,this.config=$,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _o(this),this.idTokenSubscription=new _o(this),this.beforeStateQueue=new Yo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=st,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=w.name,this.clientVersion=$.sdkClientVersion}_initializeWithPersistence(w,I){var R=this;return I&&(this._popupRedirectResolver=pi(I)),this._initializationPromise=this.queue((0,l.Z)(function*(){var $,X;if(!R._deleted&&(R.persistenceManager=yield fe.create(R,w),!R._deleted)){if(null!==($=R._popupRedirectResolver)&&void 0!==$&&$._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch{}yield R.initializeCurrentUser(I),R.lastNotifiedUid=(null===(X=R.currentUser)||void 0===X?void 0:X.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var w=this;return(0,l.Z)(function*(){if(w._deleted)return;const I=yield w.assertedPersistence.getCurrentUser();if(w.currentUser||I){if(w.currentUser&&I&&w.currentUser.uid===I.uid)return w._currentUser._assign(I),void(yield w.currentUser.getIdToken());yield w._updateCurrentUser(I,!0)}})()}initializeCurrentUser(w){var I=this;return(0,l.Z)(function*(){var R;const $=yield I.assertedPersistence.getCurrentUser();let X=$,Se=!1;if(w&&I.config.authDomain){yield I.getOrInitRedirectPersistenceManager();const Je=null===(R=I.redirectUser)||void 0===R?void 0:R._redirectEventId,Rt=X?._redirectEventId,Nt=yield I.tryRedirectSignIn(w);(!Je||Je===Rt)&&Nt?.user&&(X=Nt.user,Se=!0)}if(!X)return I.directlySetCurrentUser(null);if(!X._redirectEventId){if(Se)try{yield I.beforeStateQueue.runMiddleware(X)}catch(Je){X=$,I._popupRedirectResolver._overrideRedirectResult(I,()=>Promise.reject(Je))}return X?I.reloadAndSetCurrentUserOrClear(X):I.directlySetCurrentUser(null)}return ue(I._popupRedirectResolver,I,"argument-error"),yield I.getOrInitRedirectPersistenceManager(),I.redirectUser&&I.redirectUser._redirectEventId===X._redirectEventId?I.directlySetCurrentUser(X):I.reloadAndSetCurrentUserOrClear(X)})()}tryRedirectSignIn(w){var I=this;return(0,l.Z)(function*(){let R=null;try{R=yield I._popupRedirectResolver._completeRedirectFn(I,w,!0)}catch{yield I._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(w){var I=this;return(0,l.Z)(function*(){try{yield Fe(w)}catch(R){if("auth/network-request-failed"!==R?.code)return I.directlySetCurrentUser(null)}return I.directlySetCurrentUser(w)})()}useDeviceLanguage(){this.languageCode=function un(){if(typeof navigator>"u")return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var w=this;return(0,l.Z)(function*(){w._deleted=!0})()}updateCurrentUser(w){var I=this;return(0,l.Z)(function*(){const R=w?(0,U.m9)(w):null;return R&&ue(R.auth.config.apiKey===I.config.apiKey,I,"invalid-user-token"),I._updateCurrentUser(R&&R._clone(I))})()}_updateCurrentUser(w,I=!1){var R=this;return(0,l.Z)(function*(){if(!R._deleted)return w&&ue(R.tenantId===w.tenantId,R,"tenant-id-mismatch"),I||(yield R.beforeStateQueue.runMiddleware(w)),R.queue((0,l.Z)(function*(){yield R.directlySetCurrentUser(w),R.notifyAuthListeners()}))})()}signOut(){var w=this;return(0,l.Z)(function*(){return yield w.beforeStateQueue.runMiddleware(null),(w.redirectPersistenceManager||w._popupRedirectResolver)&&(yield w._setRedirectUser(null)),w._updateCurrentUser(null,!0)})()}setPersistence(w){var I=this;return this.queue((0,l.Z)(function*(){yield I.assertedPersistence.setPersistence(pi(w))}))}initializeRecaptchaConfig(){var w=this;return(0,l.Z)(function*(){const I=yield _t(w,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),R=new ii(I);null==w.tenantId?w._agentRecaptchaConfig=R:w._tenantRecaptchaConfigs[w.tenantId]=R,R.emailPasswordEnabled&&new Ko(w).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(w){this._errorFactory=new U.LL("auth","Firebase",w())}onAuthStateChanged(w,I,R){return this.registerStateListener(this.authStateSubscription,w,I,R)}beforeAuthStateChanged(w,I){return this.beforeStateQueue.pushCallback(w,I)}onIdTokenChanged(w,I,R){return this.registerStateListener(this.idTokenSubscription,w,I,R)}toJSON(){var w;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(w=this._currentUser)||void 0===w?void 0:w.toJSON()}}_setRedirectUser(w,I){var R=this;return(0,l.Z)(function*(){const $=yield R.getOrInitRedirectPersistenceManager(I);return null===w?$.removeCurrentUser():$.setCurrentUser(w)})()}getOrInitRedirectPersistenceManager(w){var I=this;return(0,l.Z)(function*(){if(!I.redirectPersistenceManager){const R=w&&pi(w)||I._popupRedirectResolver;ue(R,I,"argument-error"),I.redirectPersistenceManager=yield fe.create(I,[pi(R._redirectPersistence)],"redirectUser"),I.redirectUser=yield I.redirectPersistenceManager.getCurrentUser()}return I.redirectPersistenceManager})()}_redirectUserForId(w){var I=this;return(0,l.Z)(function*(){var R,$;return I._isInitialized&&(yield I.queue((0,l.Z)(function*(){}))),(null===(R=I._currentUser)||void 0===R?void 0:R._redirectEventId)===w?I._currentUser:(null===($=I.redirectUser)||void 0===$?void 0:$._redirectEventId)===w?I.redirectUser:null})()}_persistUserIfCurrent(w){var I=this;return(0,l.Z)(function*(){if(w===I.currentUser)return I.queue((0,l.Z)(function*(){return I.directlySetCurrentUser(w)}))})()}_notifyListenersIfCurrent(w){w===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var w,I;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(I=null===(w=this.currentUser)||void 0===w?void 0:w.uid)&&void 0!==I?I:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(w,I,R,$){if(this._deleted)return()=>{};const X="function"==typeof I?I:I.next.bind(I),Se=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(Se,this,"internal-error"),Se.then(()=>X(this.currentUser)),"function"==typeof I?w.addObserver(I,R,$):w.addObserver(I)}directlySetCurrentUser(w){var I=this;return(0,l.Z)(function*(){I.currentUser&&I.currentUser!==w&&I._currentUser._stopProactiveRefresh(),w&&I.isProactiveRefreshEnabled&&w._startProactiveRefresh(),I.currentUser=w,w?yield I.assertedPersistence.setCurrentUser(w):yield I.assertedPersistence.removeCurrentUser()})()}queue(w){return this.operations=this.operations.then(w,w),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(w){!w||this.frameworks.includes(w)||(this.frameworks.push(w),this.frameworks.sort(),this.clientVersion=Zo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var w=this;return(0,l.Z)(function*(){var I;const R={"X-Client-Version":w.clientVersion};w.app.options.appId&&(R["X-Firebase-gmpid"]=w.app.options.appId);const $=yield null===(I=w.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getHeartbeatsHeader();$&&(R["X-Firebase-Client"]=$);const X=yield w._getAppCheckToken();return X&&(R["X-Firebase-AppCheck"]=X),R})()}_getAppCheckToken(){var w=this;return(0,l.Z)(function*(){var I;const R=yield null===(I=w.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getToken();return R?.error&&function at(A,...w){ke.logLevel<=ce.in.WARN&&ke.warn(`Auth (${K.SDK_VERSION}): ${A}`,...w)}(`Error while retrieving App Check token: ${R.error}`),R?.token})()}}function Ai(A){return(0,U.m9)(A)}class _o{constructor(w){this.auth=w,this.observer=null,this.addObserver=(0,U.ne)(I=>this.observer=I)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ka(A,w,I){const R=Ai(A);ue(R._canInitEmulator,R,"emulator-config-failed"),ue(/^https?:\/\//.test(w),R,"invalid-emulator-scheme");const $=!!I?.disableWarnings,X=$r(w),{host:Se,port:Je}=function ks(A){const w=$r(A),I=/(\/\/)?([^?#/]+)/.exec(A.substr(w.length));if(!I)return{host:"",port:null};const R=I[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(R);if($){const X=$[1];return{host:X,port:Ya(R.substr(X.length+1))}}{const[X,Se]=R.split(":");return{host:X,port:Ya(Se)}}}(w);R.config.emulator={url:`${X}//${Se}${null===Je?"":`:${Je}`}/`},R.settings.appVerificationDisabledForTesting=!0,R.emulatorConfig=Object.freeze({host:Se,port:Je,protocol:X.replace(":",""),options:Object.freeze({disableWarnings:$})}),$||function Zu(){function A(){const w=document.createElement("p"),I=w.style;w.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",w.classList.add("firebase-emulator-warning"),document.body.appendChild(w)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",A):A())}()}function $r(A){const w=A.indexOf(":");return w<0?"":A.substr(0,w+1)}function Ya(A){if(!A)return null;const w=Number(A);return isNaN(w)?null:w}class ea{constructor(w,I){this.providerId=w,this.signInMethod=I}toJSON(){return qe("not implemented")}_getIdTokenResponse(w){return qe("not implemented")}_linkToIdToken(w,I){return qe("not implemented")}_getReauthenticationResolver(w){return qe("not implemented")}}function vc(A,w){return yc.apply(this,arguments)}function yc(){return(yc=(0,l.Z)(function*(A,w){return ct(A,"POST","/v1/accounts:resetPassword",je(A,w))})).apply(this,arguments)}function Ns(A,w){return ta.apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(A,w){return ct(A,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function ko(){return(ko=(0,l.Z)(function*(A,w){return ct(A,"POST","/v1/accounts:update",je(A,w))})).apply(this,arguments)}function vo(A,w){return vr.apply(this,arguments)}function vr(){return(vr=(0,l.Z)(function*(A,w){return Tn(A,"POST","/v1/accounts:signInWithPassword",je(A,w))})).apply(this,arguments)}function Qa(A,w){return na.apply(this,arguments)}function na(){return(na=(0,l.Z)(function*(A,w){return ct(A,"POST","/v1/accounts:sendOobCode",je(A,w))})).apply(this,arguments)}function bc(){return(bc=(0,l.Z)(function*(A,w){return Qa(A,w)})).apply(this,arguments)}function ia(A,w){return gs.apply(this,arguments)}function gs(){return(gs=(0,l.Z)(function*(A,w){return Qa(A,w)})).apply(this,arguments)}function Xa(A,w){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,l.Z)(function*(A,w){return Qa(A,w)})).apply(this,arguments)}function yr(){return(yr=(0,l.Z)(function*(A,w){return Qa(A,w)})).apply(this,arguments)}function br(){return(br=(0,l.Z)(function*(A,w){return Tn(A,"POST","/v1/accounts:signInWithEmailLink",je(A,w))})).apply(this,arguments)}function Ec(){return(Ec=(0,l.Z)(function*(A,w){return Tn(A,"POST","/v1/accounts:signInWithEmailLink",je(A,w))})).apply(this,arguments)}class No extends ea{constructor(w,I,R,$=null){super("password",R),this._email=w,this._password=I,this._tenantId=$}static _fromEmailAndPassword(w,I){return new No(w,I,"password")}static _fromEmailAndCode(w,I,R=null){return new No(w,I,"emailLink",R)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(w){const I="string"==typeof w?JSON.parse(w):w;if(I?.email&&I?.password){if("password"===I.signInMethod)return this._fromEmailAndPassword(I.email,I.password);if("emailLink"===I.signInMethod)return this._fromEmailAndCode(I.email,I.password,I.tenantId)}return null}_getIdTokenResponse(w){var I=this;return(0,l.Z)(function*(){var R;switch(I.signInMethod){case"password":const $={returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(R=w._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const X=yield cs(w,$,"signInWithPassword");return vo(w,X)}return vo(w,$).catch(function(){var X=(0,l.Z)(function*(Se){if("auth/missing-recaptcha-token"===Se.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Je=yield cs(w,$,"signInWithPassword");return vo(w,Je)}return Promise.reject(Se)});return function(Se){return X.apply(this,arguments)}}());case"emailLink":return function Ia(A,w){return br.apply(this,arguments)}(w,{email:I._email,oobCode:I._password});default:Ce(w,"internal-error")}})()}_linkToIdToken(w,I){var R=this;return(0,l.Z)(function*(){switch(R.signInMethod){case"password":return Ns(w,{idToken:I,returnSecureToken:!0,email:R._email,password:R._password});case"emailLink":return function wc(A,w){return Ec.apply(this,arguments)}(w,{idToken:I,email:R._email,oobCode:R._password});default:Ce(w,"internal-error")}})()}_getReauthenticationResolver(w){return this._getIdTokenResponse(w)}}function Fs(A,w){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,l.Z)(function*(A,w){return Tn(A,"POST","/v1/accounts:signInWithIdp",je(A,w))})).apply(this,arguments)}class xt extends ea{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(w){const I=new xt(w.providerId,w.signInMethod);return w.idToken||w.accessToken?(w.idToken&&(I.idToken=w.idToken),w.accessToken&&(I.accessToken=w.accessToken),w.nonce&&!w.pendingToken&&(I.nonce=w.nonce),w.pendingToken&&(I.pendingToken=w.pendingToken)):w.oauthToken&&w.oauthTokenSecret?(I.accessToken=w.oauthToken,I.secret=w.oauthTokenSecret):Ce("argument-error"),I}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(w){const I="string"==typeof w?JSON.parse(w):w,{providerId:R,signInMethod:$}=I,X=(0,pe._T)(I,["providerId","signInMethod"]);if(!R||!$)return null;const Se=new xt(R,$);return Se.idToken=X.idToken||void 0,Se.accessToken=X.accessToken||void 0,Se.secret=X.secret,Se.nonce=X.nonce,Se.pendingToken=X.pendingToken||null,Se}_getIdTokenResponse(w){return Fs(w,this.buildRequest())}_linkToIdToken(w,I){const R=this.buildRequest();return R.idToken=I,Fs(w,R)}_getReauthenticationResolver(w){const I=this.buildRequest();return I.autoCreate=!1,Fs(w,I)}buildRequest(){const w={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)w.pendingToken=this.pendingToken;else{const I={};this.idToken&&(I.id_token=this.idToken),this.accessToken&&(I.access_token=this.accessToken),this.secret&&(I.oauth_token_secret=this.secret),I.providerId=this.providerId,this.nonce&&!this.pendingToken&&(I.nonce=this.nonce),w.postBody=(0,U.xO)(I)}return w}}function xi(){return(xi=(0,l.Z)(function*(A,w){return ct(A,"POST","/v1/accounts:sendVerificationCode",je(A,w))})).apply(this,arguments)}function Ls(){return(Ls=(0,l.Z)(function*(A,w){return Tn(A,"POST","/v1/accounts:signInWithPhoneNumber",je(A,w))})).apply(this,arguments)}function Qo(){return(Qo=(0,l.Z)(function*(A,w){const I=yield Tn(A,"POST","/v1/accounts:signInWithPhoneNumber",je(A,w));if(I.temporaryProof)throw tn(A,"account-exists-with-different-credential",I);return I})).apply(this,arguments)}const Oi={USER_NOT_FOUND:"user-not-found"};function Xo(){return(Xo=(0,l.Z)(function*(A,w){return Tn(A,"POST","/v1/accounts:signInWithPhoneNumber",je(A,Object.assign(Object.assign({},w),{operation:"REAUTH"})),Oi)})).apply(this,arguments)}class on extends ea{constructor(w){super("phone","phone"),this.params=w}static _fromVerification(w,I){return new on({verificationId:w,verificationCode:I})}static _fromTokenResponse(w,I){return new on({phoneNumber:w,temporaryProof:I})}_getIdTokenResponse(w){return function so(A,w){return Ls.apply(this,arguments)}(w,this._makeVerificationRequest())}_linkToIdToken(w,I){return function $n(A,w){return Qo.apply(this,arguments)}(w,Object.assign({idToken:I},this._makeVerificationRequest()))}_getReauthenticationResolver(w){return function ra(A,w){return Xo.apply(this,arguments)}(w,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:w,phoneNumber:I,verificationId:R,verificationCode:$}=this.params;return w&&I?{temporaryProof:w,phoneNumber:I}:{sessionInfo:R,code:$}}toJSON(){const w={providerId:this.providerId};return this.params.phoneNumber&&(w.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(w.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(w.verificationCode=this.params.verificationCode),this.params.verificationId&&(w.verificationId=this.params.verificationId),w}static fromJSON(w){"string"==typeof w&&(w=JSON.parse(w));const{verificationId:I,verificationCode:R,phoneNumber:$,temporaryProof:X}=w;return R||I||$||X?new on({verificationId:I,verificationCode:R,phoneNumber:$,temporaryProof:X}):null}}class wr{constructor(w){var I,R,$,X,Se,Je;const Rt=(0,U.zd)((0,U.pd)(w)),Nt=null!==(I=Rt.apiKey)&&void 0!==I?I:null,pn=null!==(R=Rt.oobCode)&&void 0!==R?R:null,qn=function Gr(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=Rt.mode)&&void 0!==$?$:null);ue(Nt&&pn&&qn,"argument-error"),this.apiKey=Nt,this.operation=qn,this.code=pn,this.continueUrl=null!==(X=Rt.continueUrl)&&void 0!==X?X:null,this.languageCode=null!==(Se=Rt.languageCode)&&void 0!==Se?Se:null,this.tenantId=null!==(Je=Rt.tenantId)&&void 0!==Je?Je:null}static parseLink(w){const I=function Pl(A){const w=(0,U.zd)((0,U.pd)(A)).link,I=w?(0,U.zd)((0,U.pd)(w)).deep_link_id:null,R=(0,U.zd)((0,U.pd)(A)).deep_link_id;return(R?(0,U.zd)((0,U.pd)(R)).link:null)||R||I||w||A}(w);try{return new wr(I)}catch{return null}}}let _s=(()=>{class A{constructor(){this.providerId=A.PROVIDER_ID}static credential(I,R){return No._fromEmailAndPassword(I,R)}static credentialWithLink(I,R){const $=wr.parseLink(R);return ue($,"argument-error"),No._fromEmailAndCode(I,$.code,$.tenantId)}}return A.PROVIDER_ID="password",A.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A.EMAIL_LINK_SIGN_IN_METHOD="emailLink",A})();class Fo{constructor(w){this.providerId=w,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(w){this.defaultLanguageCode=w}setCustomParameters(w){return this.customParameters=w,this}getCustomParameters(){return this.customParameters}}class Cr extends Fo{constructor(){super(...arguments),this.scopes=[]}addScope(w){return this.scopes.includes(w)||this.scopes.push(w),this}getScopes(){return[...this.scopes]}}class xr extends Cr{static credentialFromJSON(w){const I="string"==typeof w?JSON.parse(w):w;return ue("providerId"in I&&"signInMethod"in I,"argument-error"),xt._fromParams(I)}credential(w){return this._credential(Object.assign(Object.assign({},w),{nonce:w.rawNonce}))}_credential(w){return ue(w.idToken||w.accessToken,"argument-error"),xt._fromParams(Object.assign(Object.assign({},w),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(w){return xr.oauthCredentialFromTaggedObject(w)}static credentialFromError(w){return xr.oauthCredentialFromTaggedObject(w.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:I,oauthAccessToken:R,oauthTokenSecret:$,pendingToken:X,nonce:Se,providerId:Je}=w;if(!R&&!$&&!I&&!X||!Je)return null;try{return new xr(Je)._credential({idToken:I,accessToken:R,nonce:Se,pendingToken:X})}catch{return null}}}let oa=(()=>{class A extends Cr{constructor(){super("facebook.com")}static credential(I){return xt._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.FACEBOOK_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return A.credentialFromTaggedObject(I)}static credentialFromError(I){return A.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return A.credential(I.oauthAccessToken)}catch{return null}}}return A.FACEBOOK_SIGN_IN_METHOD="facebook.com",A.PROVIDER_ID="facebook.com",A})(),Ta=(()=>{class A extends Cr{constructor(){super("google.com"),this.addScope("profile")}static credential(I,R){return xt._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.GOOGLE_SIGN_IN_METHOD,idToken:I,accessToken:R})}static credentialFromResult(I){return A.credentialFromTaggedObject(I)}static credentialFromError(I){return A.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthIdToken:R,oauthAccessToken:$}=I;if(!R&&!$)return null;try{return A.credential(R,$)}catch{return null}}}return A.GOOGLE_SIGN_IN_METHOD="google.com",A.PROVIDER_ID="google.com",A})(),Fi=(()=>{class A extends Cr{constructor(){super("github.com")}static credential(I){return xt._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.GITHUB_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return A.credentialFromTaggedObject(I)}static credentialFromError(I){return A.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return A.credential(I.oauthAccessToken)}catch{return null}}}return A.GITHUB_SIGN_IN_METHOD="github.com",A.PROVIDER_ID="github.com",A})();class qr extends ea{constructor(w,I){super(w,w),this.pendingToken=I}_getIdTokenResponse(w){return Fs(w,this.buildRequest())}_linkToIdToken(w,I){const R=this.buildRequest();return R.idToken=I,Fs(w,R)}_getReauthenticationResolver(w){const I=this.buildRequest();return I.autoCreate=!1,Fs(w,I)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(w){const I="string"==typeof w?JSON.parse(w):w,{providerId:R,signInMethod:$,pendingToken:X}=I;return R&&$&&X&&R===$?new qr(R,X):null}static _create(w,I){return new qr(w,I)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class xc extends Fo{constructor(w){ue(w.startsWith("saml."),"argument-error"),super(w)}static credentialFromResult(w){return xc.samlCredentialFromTaggedObject(w)}static credentialFromError(w){return xc.samlCredentialFromTaggedObject(w.customData||{})}static credentialFromJSON(w){const I=qr.fromJSON(w);return ue(I,"argument-error"),I}static samlCredentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{pendingToken:I,providerId:R}=w;if(!I||!R)return null;try{return qr._create(R,I)}catch{return null}}}let hu=(()=>{class A extends Cr{constructor(){super("twitter.com")}static credential(I,R){return xt._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.TWITTER_SIGN_IN_METHOD,oauthToken:I,oauthTokenSecret:R})}static credentialFromResult(I){return A.credentialFromTaggedObject(I)}static credentialFromError(I){return A.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthAccessToken:R,oauthTokenSecret:$}=I;if(!R||!$)return null;try{return A.credential(R,$)}catch{return null}}}return A.TWITTER_SIGN_IN_METHOD="twitter.com",A.PROVIDER_ID="twitter.com",A})();function Da(A,w){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,l.Z)(function*(A,w){return Tn(A,"POST","/v1/accounts:signUp",je(A,w))})).apply(this,arguments)}class tr{constructor(w){this.user=w.user,this.providerId=w.providerId,this._tokenResponse=w._tokenResponse,this.operationType=w.operationType}static _fromIdTokenResponse(w,I,R,$=!1){return(0,l.Z)(function*(){const X=yield Hn._fromIdTokenResponse(w,R,$),Se=Wr(R);return new tr({user:X,providerId:Se,_tokenResponse:R,operationType:I})})()}static _forOperation(w,I,R){return(0,l.Z)(function*(){yield w._updateTokensIfNecessary(R,!0);const $=Wr(R);return new tr({user:w,providerId:$,_tokenResponse:R,operationType:I})})()}}function Wr(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}function sa(A){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,l.Z)(function*(A){var w;const I=Ai(A);if(yield I._initializationPromise,null!==(w=I.currentUser)&&void 0!==w&&w.isAnonymous)return new tr({user:I.currentUser,providerId:null,operationType:"signIn"});const R=yield Da(I,{returnSecureToken:!0}),$=yield tr._fromIdTokenResponse(I,"signIn",R,!0);return yield I._updateCurrentUser($.user),$})).apply(this,arguments)}class tl extends U.ZR{constructor(w,I,R,$){var X;super(I.code,I.message),this.operationType=R,this.user=$,Object.setPrototypeOf(this,tl.prototype),this.customData={appName:w.name,tenantId:null!==(X=w.tenantId)&&void 0!==X?X:void 0,_serverResponse:I.customData._serverResponse,operationType:R}}static _fromErrorAndOperation(w,I,R,$){return new tl(w,I,R,$)}}function Zr(A,w,I,R){return("reauthenticate"===w?I._getReauthenticationResolver(A):I._getIdTokenResponse(A)).catch(X=>{throw"auth/multi-factor-auth-required"===X.code?tl._fromErrorAndOperation(A,X,w,R):X})}function Ir(A){return new Set(A.map(({providerId:w})=>w).filter(w=>!!w))}function nl(A,w){return Or.apply(this,arguments)}function Or(){return Or=(0,l.Z)(function*(A,w){const I=(0,U.m9)(A);yield aa(!0,I,w);const{providerUserInfo:R}=yield function cn(A,w){return Fn.apply(this,arguments)}(I.auth,{idToken:yield I.getIdToken(),deleteProvider:[w]}),$=Ir(R||[]);return I.providerData=I.providerData.filter(X=>$.has(X.providerId)),$.has("phone")||(I.phoneNumber=null),yield I.auth._persistUserIfCurrent(I),I}),Or.apply(this,arguments)}function Kr(A,w){return di.apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(A,w,I=!1){const R=yield zt(A,w._linkToIdToken(A.auth,yield A.getIdToken()),I);return tr._forOperation(A,"link",R)})).apply(this,arguments)}function aa(A,w,I){return ri.apply(this,arguments)}function ri(){return(ri=(0,l.Z)(function*(A,w,I){yield Fe(w);const $=!1===A?"provider-already-linked":"no-such-provider";ue(Ir(w.providerData).has(I)===A,w.auth,$)})).apply(this,arguments)}function Rr(A,w){return kl.apply(this,arguments)}function kl(){return(kl=(0,l.Z)(function*(A,w,I=!1){const{auth:R}=A,$="reauthenticate";try{const X=yield zt(A,Zr(R,$,w,A),I);ue(X.idToken,R,"internal-error");const Se=Yt(X.idToken);ue(Se,R,"internal-error");const{sub:Je}=Se;return ue(A.uid===Je,R,"user-mismatch"),tr._forOperation(A,$,X)}catch(X){throw"auth/user-not-found"===X?.code&&Ce(R,"user-mismatch"),X}})).apply(this,arguments)}function vs(A,w){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,l.Z)(function*(A,w,I=!1){const R="signIn",$=yield Zr(A,R,w),X=yield tr._fromIdTokenResponse(A,R,$);return I||(yield A._updateCurrentUser(X.user)),X})).apply(this,arguments)}function Sa(A,w){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,l.Z)(function*(A,w){return vs(Ai(A),w)})).apply(this,arguments)}function Ja(A,w){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,l.Z)(function*(A,w){const I=(0,U.m9)(A);return yield aa(!1,I,w.providerId),Kr(I,w)})).apply(this,arguments)}function mi(A,w){return fu.apply(this,arguments)}function fu(){return(fu=(0,l.Z)(function*(A,w){return Rr((0,U.m9)(A),w)})).apply(this,arguments)}function Uo(){return(Uo=(0,l.Z)(function*(A,w){return Tn(A,"POST","/v1/accounts:signInWithCustomToken",je(A,w))})).apply(this,arguments)}function $d(A,w){return ec.apply(this,arguments)}function ec(){return ec=(0,l.Z)(function*(A,w){const I=Ai(A),R=yield function Dc(A,w){return Uo.apply(this,arguments)}(I,{token:w,returnSecureToken:!0}),$=yield tr._fromIdTokenResponse(I,"signIn",R);return yield I._updateCurrentUser($.user),$}),ec.apply(this,arguments)}class yo{constructor(w,I){this.factorId=w,this.uid=I.mfaEnrollmentId,this.enrollmentTime=new Date(I.enrolledAt).toUTCString(),this.displayName=I.displayName}static _fromServerResponse(w,I){return"phoneInfo"in I?tc._fromServerResponse(w,I):"totpInfo"in I?ca._fromServerResponse(w,I):Ce(w,"internal-error")}}class tc extends yo{constructor(w){super("phone",w),this.phoneNumber=w.phoneInfo}static _fromServerResponse(w,I){return new tc(I)}}class ca extends yo{constructor(w){super("totp",w)}static _fromServerResponse(w,I){return new ca(I)}}function ys(A,w,I){var R;ue((null===(R=I.url)||void 0===R?void 0:R.length)>0,A,"invalid-continue-uri"),ue(typeof I.dynamicLinkDomain>"u"||I.dynamicLinkDomain.length>0,A,"invalid-dynamic-link-domain"),w.continueUrl=I.url,w.dynamicLinkDomain=I.dynamicLinkDomain,w.canHandleCodeInApp=I.handleCodeInApp,I.iOS&&(ue(I.iOS.bundleId.length>0,A,"missing-ios-bundle-id"),w.iOSBundleId=I.iOS.bundleId),I.android&&(ue(I.android.packageName.length>0,A,"missing-android-pkg-name"),w.androidInstallApp=I.android.installApp,w.androidMinimumVersionCode=I.android.minimumVersion,w.androidPackageName=I.android.packageName)}function Fl(A,w,I){return pu.apply(this,arguments)}function pu(){return pu=(0,l.Z)(function*(A,w,I){var R;const $=Ai(A),X={requestType:"PASSWORD_RESET",email:w,clientType:"CLIENT_TYPE_WEB"};if(null!==(R=$._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const Se=yield cs($,X,"getOobCode",!0);I&&ys($,Se,I),yield ia($,Se)}else I&&ys($,X,I),yield ia($,X).catch(function(){var Se=(0,l.Z)(function*(Je){if("auth/missing-recaptcha-token"!==Je.code)return Promise.reject(Je);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Rt=yield cs($,X,"getOobCode",!0);I&&ys($,Rt,I),yield ia($,Rt)}});return function(Je){return Se.apply(this,arguments)}}())}),pu.apply(this,arguments)}function Pr(A,w,I){return Us.apply(this,arguments)}function Us(){return(Us=(0,l.Z)(function*(A,w,I){yield vc((0,U.m9)(A),{oobCode:w,newPassword:I})})).apply(this,arguments)}function la(A,w){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,l.Z)(function*(A,w){yield function el(A,w){return ko.apply(this,arguments)}((0,U.m9)(A),{oobCode:w})}),Sc.apply(this,arguments)}function Vo(A,w){return cr.apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(A,w){const I=(0,U.m9)(A),R=yield vc(I,{oobCode:w}),$=R.requestType;switch(ue($,I,"internal-error"),$){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ue(R.newEmail,I,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ue(R.mfaInfo,I,"internal-error");default:ue(R.email,I,"internal-error")}let X=null;return R.mfaInfo&&(X=yo._fromServerResponse(Ai(I),R.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.newEmail:R.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.email:R.newEmail)||null,multiFactorInfo:X},operation:$}})).apply(this,arguments)}function Aa(A,w){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,l.Z)(function*(A,w){const{data:I}=yield Vo((0,U.m9)(A),w);return I.email})).apply(this,arguments)}function Ac(A,w,I){return bo.apply(this,arguments)}function bo(){return bo=(0,l.Z)(function*(A,w,I){var R;const $=Ai(A),X={returnSecureToken:!0,email:w,password:I,clientType:"CLIENT_TYPE_WEB"};let Se;if(null!==(R=$._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const Nt=yield cs($,X,"signUpPassword");Se=Da($,Nt)}else Se=Da($,X).catch(function(){var Nt=(0,l.Z)(function*(pn){if("auth/missing-recaptcha-token"===pn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const qn=yield cs($,X,"signUpPassword");return Da($,qn)}return Promise.reject(pn)});return function(pn){return Nt.apply(this,arguments)}}());const Je=yield Se.catch(Nt=>Promise.reject(Nt)),Rt=yield tr._fromIdTokenResponse($,"signIn",Je);return yield $._updateCurrentUser(Rt.user),Rt}),bo.apply(this,arguments)}function nc(A,w,I){return Sa((0,U.m9)(A),_s.credential(w,I))}function Ll(A,w,I){return Vs.apply(this,arguments)}function Vs(){return Vs=(0,l.Z)(function*(A,w,I){var R;const $=Ai(A),X={requestType:"EMAIL_SIGNIN",email:w,clientType:"CLIENT_TYPE_WEB"};function Se(Je,Rt){ue(Rt.handleCodeInApp,$,"argument-error"),Rt&&ys($,Je,Rt)}if(null!==(R=$._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const Je=yield cs($,X,"getOobCode",!0);Se(Je,I),yield Xa($,Je)}else Se(X,I),yield Xa($,X).catch(function(){var Je=(0,l.Z)(function*(Rt){if("auth/missing-recaptcha-token"!==Rt.code)return Promise.reject(Rt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Nt=yield cs($,X,"getOobCode",!0);Se(Nt,I),yield Xa($,Nt)}});return function(Rt){return Je.apply(this,arguments)}}())}),Vs.apply(this,arguments)}function ua(A,w){const I=wr.parseLink(w);return"EMAIL_SIGNIN"===I?.operation}function il(A,w,I){return yi.apply(this,arguments)}function yi(){return(yi=(0,l.Z)(function*(A,w,I){const R=(0,U.m9)(A),$=_s.credentialWithLink(w,I||Et());return ue($._tenantId===(R.tenantId||null),R,"tenant-id-mismatch"),Sa(R,$)})).apply(this,arguments)}function Ma(){return(Ma=(0,l.Z)(function*(A,w){return ct(A,"POST","/v1/accounts:createAuthUri",je(A,w))})).apply(this,arguments)}function It(A,w){return Jo.apply(this,arguments)}function Jo(){return Jo=(0,l.Z)(function*(A,w){const R={identifier:w,continueUri:ot()?Et():"http://localhost"},{signinMethods:$}=yield function Bo(A,w){return Ma.apply(this,arguments)}((0,U.m9)(A),R);return $||[]}),Jo.apply(this,arguments)}function Mc(A,w){return wo.apply(this,arguments)}function wo(){return wo=(0,l.Z)(function*(A,w){const I=(0,U.m9)(A),$={requestType:"VERIFY_EMAIL",idToken:yield A.getIdToken()};w&&ys(I.auth,$,w);const{email:X}=yield function Ur(A,w){return bc.apply(this,arguments)}(I.auth,$);X!==A.email&&(yield A.reload())}),wo.apply(this,arguments)}function Bs(A,w,I){return Oc.apply(this,arguments)}function Oc(){return Oc=(0,l.Z)(function*(A,w,I){const R=(0,U.m9)(A),X={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield A.getIdToken(),newEmail:w};I&&ys(R.auth,X,I);const{email:Se}=yield function Ni(A,w){return yr.apply(this,arguments)}(R.auth,X);Se!==A.email&&(yield A.reload())}),Oc.apply(this,arguments)}function Oa(){return(Oa=(0,l.Z)(function*(A,w){return ct(A,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function E(A,w){return N.apply(this,arguments)}function N(){return N=(0,l.Z)(function*(A,{displayName:w,photoURL:I}){if(void 0===w&&void 0===I)return;const R=(0,U.m9)(A),X={idToken:yield R.getIdToken(),displayName:w,photoUrl:I,returnSecureToken:!0},Se=yield zt(R,function Ku(A,w){return Oa.apply(this,arguments)}(R.auth,X));R.displayName=Se.displayName||null,R.photoURL=Se.photoUrl||null;const Je=R.providerData.find(({providerId:Rt})=>"password"===Rt);Je&&(Je.displayName=R.displayName,Je.photoURL=R.photoURL),yield R._updateTokensIfNecessary(Se)}),N.apply(this,arguments)}function j(A,w){return ve((0,U.m9)(A),w,null)}function ee(A,w){return ve((0,U.m9)(A),null,w)}function ve(A,w,I){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,l.Z)(function*(A,w,I){const{auth:R}=A,X={idToken:yield A.getIdToken(),returnSecureToken:!0};w&&(X.email=w),I&&(X.password=I);const Se=yield zt(A,Ns(R,X));yield A._updateTokensIfNecessary(Se,!0)})).apply(this,arguments)}class Gn{constructor(w,I,R={}){this.isNewUser=w,this.providerId=I,this.profile=R}}class ei extends Gn{constructor(w,I,R,$){super(w,I,R),this.username=$}}class lr extends Gn{constructor(w,I){super(w,"facebook.com",I)}}class Eo extends ei{constructor(w,I){super(w,"github.com",I,"string"==typeof I?.login?I?.login:null)}}class es extends Gn{constructor(w,I){super(w,"google.com",I)}}class Rc extends ei{constructor(w,I,R){super(w,"twitter.com",I,R)}}function js(A){const{user:w,_tokenResponse:I}=A;return w.isAnonymous&&!I?{providerId:null,isNewUser:!1,profile:null}:function kt(A){var w,I;if(!A)return null;const{providerId:R}=A,$=A.rawUserInfo?JSON.parse(A.rawUserInfo):{},X=A.isNewUser||"identitytoolkit#SignupNewUserResponse"===A.kind;if(!R&&A?.idToken){const Se=null===(I=null===(w=Yt(A.idToken))||void 0===w?void 0:w.firebase)||void 0===I?void 0:I.sign_in_provider;if(Se)return new Gn(X,"anonymous"!==Se&&"custom"!==Se?Se:null)}if(!R)return null;switch(R){case"facebook.com":return new lr(X,$);case"github.com":return new Eo(X,$);case"google.com":return new es(X,$);case"twitter.com":return new Rc(X,$,A.screenName||null);case"custom":case"anonymous":return new Gn(X,null);default:return new Gn(X,R,$)}}(I)}function xo(A,w,I,R){return(0,U.m9)(A).onIdTokenChanged(w,I,R)}function Fh(A,w,I,R){return(0,U.m9)(A).onAuthStateChanged(w,I,R)}class bs{constructor(w,I,R){this.type=w,this.credential=I,this.auth=R}static _fromIdtoken(w,I){return new bs("enroll",w,I)}static _fromMfaPendingCredential(w){return new bs("signin",w)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(w){var I,R;if(w?.multiFactorSession){if(null!==(I=w.multiFactorSession)&&void 0!==I&&I.pendingCredential)return bs._fromMfaPendingCredential(w.multiFactorSession.pendingCredential);if(null!==(R=w.multiFactorSession)&&void 0!==R&&R.idToken)return bs._fromIdtoken(w.multiFactorSession.idToken)}return null}}class Pc{constructor(w,I,R){this.session=w,this.hints=I,this.signInResolver=R}static _fromError(w,I){const R=Ai(w),$=I.customData._serverResponse,X=($.mfaInfo||[]).map(Je=>yo._fromServerResponse(R,Je));ue($.mfaPendingCredential,R,"internal-error");const Se=bs._fromMfaPendingCredential($.mfaPendingCredential);return new Pc(Se,X,function(){var Je=(0,l.Z)(function*(Rt){const Nt=yield Rt._process(R,Se);delete $.mfaInfo,delete $.mfaPendingCredential;const pn=Object.assign(Object.assign({},$),{idToken:Nt.idToken,refreshToken:Nt.refreshToken});switch(I.operationType){case"signIn":const qn=yield tr._fromIdTokenResponse(R,I.operationType,pn);return yield R._updateCurrentUser(qn.user),qn;case"reauthenticate":return ue(I.user,R,"internal-error"),tr._forOperation(I.user,I.operationType,pn);default:Ce(R,"internal-error")}});return function(Rt){return Je.apply(this,arguments)}}())}resolveSignIn(w){var I=this;return(0,l.Z)(function*(){return I.signInResolver(w)})()}}function ol(A,w){var I;const R=(0,U.m9)(A),$=w;return ue(w.customData.operationType,R,"argument-error"),ue(null===(I=$.customData._serverResponse)||void 0===I?void 0:I.mfaPendingCredential,R,"argument-error"),Pc._fromError(R,$)}class _u{constructor(w){this.user=w,this.enrolledFactors=[],w._onReload(I=>{I.mfaInfo&&(this.enrolledFactors=I.mfaInfo.map(R=>yo._fromServerResponse(w.auth,R)))})}static _fromUser(w){return new _u(w)}getSession(){var w=this;return(0,l.Z)(function*(){return bs._fromIdtoken(yield w.user.getIdToken(),w.user.auth)})()}enroll(w,I){var R=this;return(0,l.Z)(function*(){const $=w,X=yield R.getSession(),Se=yield zt(R.user,$._process(R.user.auth,X,I));return yield R.user._updateTokensIfNecessary(Se),R.user.reload()})()}unenroll(w){var I=this;return(0,l.Z)(function*(){const R="string"==typeof w?w:w.uid,$=yield I.user.getIdToken();try{const X=yield zt(I.user,function Gd(A,w){return ct(A,"POST","/v2/accounts/mfaEnrollment:withdraw",je(A,w))}(I.user.auth,{idToken:$,mfaEnrollmentId:R}));I.enrolledFactors=I.enrolledFactors.filter(({uid:Se})=>Se!==R),yield I.user._updateTokensIfNecessary(X),yield I.user.reload()}catch(X){throw X}})()}}const Ii=new WeakMap;function sl(A){const w=(0,U.m9)(A);return Ii.has(w)||Ii.set(w,_u._fromUser(w)),Ii.get(w)}const Ra="__sak";class jo{constructor(w,I){this.storageRetriever=w,this.type=I}_isAvailable(){try{return this.storage?(this.storage.setItem(Ra,"1"),this.storage.removeItem(Ra),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(w,I){return this.storage.setItem(w,JSON.stringify(I)),Promise.resolve()}_get(w){const I=this.storage.getItem(w);return Promise.resolve(I?JSON.parse(I):null)}_remove(w){return this.storage.removeItem(w),Promise.resolve()}get storage(){return this.storageRetriever()}}const Wd=(()=>{class A extends jo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(I,R)=>this.onStorageEvent(I,R),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qr(){const A=(0,U.z$)();return te(A)||Vt(A)}()&&function _r(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=kn(),this._shouldAllowMigration=!0}forAllChangedKeys(I){for(const R of Object.keys(this.listeners)){const $=this.storage.getItem(R),X=this.localCache[R];$!==X&&I(R,X,$)}}onStorageEvent(I,R=!1){if(!I.key)return void this.forAllChangedKeys((Je,Rt,Nt)=>{this.notifyListeners(Je,Nt)});const $=I.key;if(R?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Je=this.storage.getItem($);if(I.newValue!==Je)null!==I.newValue?this.storage.setItem($,I.newValue):this.storage.removeItem($);else if(this.localCache[$]===I.newValue&&!R)return}const X=()=>{const Je=this.storage.getItem($);!R&&this.localCache[$]===Je||this.notifyListeners($,Je)},Se=this.storage.getItem($);!function si(){return(0,U.w1)()&&10===document.documentMode}()||Se===I.newValue||I.newValue===I.oldValue?X():setTimeout(X,10)}notifyListeners(I,R){this.localCache[I]=R;const $=this.listeners[I];if($)for(const X of Array.from($))X(R&&JSON.parse(R))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((I,R,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:I,oldValue:R,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(I,R){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[I]||(this.listeners[I]=new Set,this.localCache[I]=this.storage.getItem(I)),this.listeners[I].add(R)}_removeListener(I,R){this.listeners[I]&&(this.listeners[I].delete(R),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(I,R){var $=()=>super._set,X=this;return(0,l.Z)(function*(){yield $().call(X,I,R),X.localCache[I]=JSON.stringify(R)})()}_get(I){var R=()=>super._get,$=this;return(0,l.Z)(function*(){const X=yield R().call($,I);return $.localCache[I]=JSON.stringify(X),X})()}_remove(I){var R=()=>super._remove,$=this;return(0,l.Z)(function*(){yield R().call($,I),delete $.localCache[I]})()}}return A.type="LOCAL",A})(),zs=(()=>{class A extends jo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(I,R){}_removeListener(I,R){}}return A.type="SESSION",A})();let Kd=(()=>{class A{constructor(I){this.eventTarget=I,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(I){const R=this.receivers.find(X=>X.isListeningto(I));if(R)return R;const $=new A(I);return this.receivers.push($),$}isListeningto(I){return this.eventTarget===I}handleEvent(I){var R=this;return(0,l.Z)(function*(){const $=I,{eventId:X,eventType:Se,data:Je}=$.data,Rt=R.handlersMap[Se];if(!Rt?.size)return;$.ports[0].postMessage({status:"ack",eventId:X,eventType:Se});const Nt=Array.from(Rt).map(function(){var qn=(0,l.Z)(function*(eo){return eo($.origin,Je)});return function(eo){return qn.apply(this,arguments)}}()),pn=yield function cl(A){return Promise.all(A.map(function(){var w=(0,l.Z)(function*(I){try{return{fulfilled:!0,value:yield I}}catch(R){return{fulfilled:!1,reason:R}}});return function(I){return w.apply(this,arguments)}}()))}(Nt);$.ports[0].postMessage({status:"done",eventId:X,eventType:Se,response:pn})})()}_subscribe(I,R){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[I]||(this.handlersMap[I]=new Set),this.handlersMap[I].add(R)}_unsubscribe(I,R){this.handlersMap[I]&&R&&this.handlersMap[I].delete(R),(!R||0===this.handlersMap[I].size)&&delete this.handlersMap[I],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return A.receivers=[],A})();function kc(A="",w=10){let I="";for(let R=0;R<w;R++)I+=Math.floor(10*Math.random());return A+I}class Uh{constructor(w){this.target=w,this.handlers=new Set}removeMessageHandler(w){w.messageChannel&&(w.messageChannel.port1.removeEventListener("message",w.onMessage),w.messageChannel.port1.close()),this.handlers.delete(w)}_send(w,I,R=50){var $=this;return(0,l.Z)(function*(){const X=typeof MessageChannel<"u"?new MessageChannel:null;if(!X)throw new Error("connection_unavailable");let Se,Je;return new Promise((Rt,Nt)=>{const pn=kc("",20);X.port1.start();const qn=setTimeout(()=>{Nt(new Error("unsupported_event"))},R);Je={messageChannel:X,onMessage(eo){const pa=eo;if(pa.data.eventId===pn)switch(pa.data.status){case"ack":clearTimeout(qn),Se=setTimeout(()=>{Nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Se),Rt(pa.data.response);break;default:clearTimeout(qn),clearTimeout(Se),Nt(new Error("invalid_response"))}}},$.handlers.add(Je),X.port1.addEventListener("message",Je.onMessage),$.target.postMessage({eventType:w,eventId:pn,data:I},[X.port2])}).finally(()=>{Je&&$.removeMessageHandler(Je)})})()}}function Vr(){return window}function vu(){return typeof Vr().WorkerGlobalScope<"u"&&"function"==typeof Vr().importScripts}function Nc(){return(Nc=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Br="firebaseLocalStorageDb",$i="firebaseLocalStorage",Es="fbase_key";class Fc{constructor(w){this.request=w}toPromise(){return new Promise((w,I)=>{this.request.addEventListener("success",()=>{w(this.request.result)}),this.request.addEventListener("error",()=>{I(this.request.error)})})}}function Yd(A,w){return A.transaction([$i],w?"readwrite":"readonly").objectStore($i)}function Qd(){const A=indexedDB.open(Br,1);return new Promise((w,I)=>{A.addEventListener("error",()=>{I(A.error)}),A.addEventListener("upgradeneeded",()=>{const R=A.result;try{R.createObjectStore($i,{keyPath:Es})}catch($){I($)}}),A.addEventListener("success",(0,l.Z)(function*(){const R=A.result;R.objectStoreNames.contains($i)?w(R):(R.close(),yield function Wf(){const A=indexedDB.deleteDatabase(Br);return new Fc(A).toPromise()}(),w(yield Qd()))}))})}function rc(A,w,I){return pt.apply(this,arguments)}function pt(){return(pt=(0,l.Z)(function*(A,w,I){const R=Yd(A,!0).put({[Es]:w,value:I});return new Fc(R).toPromise()})).apply(this,arguments)}function Cs(){return(Cs=(0,l.Z)(function*(A,w){const I=Yd(A,!1).get(w),R=yield new Fc(I).toPromise();return void 0===R?null:R.value})).apply(this,arguments)}function yu(A,w){const I=Yd(A,!0).delete(w);return new Fc(I).toPromise()}const Do=(()=>{class A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var I=this;return(0,l.Z)(function*(){return I.db||(I.db=yield Qd()),I.db})()}_withRetries(I){var R=this;return(0,l.Z)(function*(){let $=0;for(;;)try{const X=yield R._openDb();return yield I(X)}catch(X){if($++>3)throw X;R.db&&(R.db.close(),R.db=void 0)}})()}initializeServiceWorkerMessaging(){var I=this;return(0,l.Z)(function*(){return vu()?I.initializeReceiver():I.initializeSender()})()}initializeReceiver(){var I=this;return(0,l.Z)(function*(){I.receiver=Kd._getInstance(function Ju(){return vu()?self:null}()),I.receiver._subscribe("keyChanged",function(){var R=(0,l.Z)(function*($,X){return{keyProcessed:(yield I._poll()).includes(X.key)}});return function($,X){return R.apply(this,arguments)}}()),I.receiver._subscribe("ping",function(){var R=(0,l.Z)(function*($,X){return["keyChanged"]});return function($,X){return R.apply(this,arguments)}}())})()}initializeSender(){var I=this;return(0,l.Z)(function*(){var R,$;if(I.activeServiceWorker=yield function xn(){return Nc.apply(this,arguments)}(),!I.activeServiceWorker)return;I.sender=new Uh(I.activeServiceWorker);const X=yield I.sender._send("ping",{},800);X&&null!==(R=X[0])&&void 0!==R&&R.fulfilled&&null!==($=X[0])&&void 0!==$&&$.value.includes("keyChanged")&&(I.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(I){var R=this;return(0,l.Z)(function*(){if(R.sender&&R.activeServiceWorker&&function qf(){var A;return(null===(A=navigator?.serviceWorker)||void 0===A?void 0:A.controller)||null}()===R.activeServiceWorker)try{yield R.sender._send("keyChanged",{key:I},R.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const I=yield Qd();return yield rc(I,Ra,"1"),yield yu(I,Ra),!0}catch{}return!1})()}_withPendingWrite(I){var R=this;return(0,l.Z)(function*(){R.pendingWrites++;try{yield I()}finally{R.pendingWrites--}})()}_set(I,R){var $=this;return(0,l.Z)(function*(){return $._withPendingWrite((0,l.Z)(function*(){return yield $._withRetries(X=>rc(X,I,R)),$.localCache[I]=R,$.notifyServiceWorker(I)}))})()}_get(I){var R=this;return(0,l.Z)(function*(){const $=yield R._withRetries(X=>function ni(A,w){return Cs.apply(this,arguments)}(X,I));return R.localCache[I]=$,$})()}_remove(I){var R=this;return(0,l.Z)(function*(){return R._withPendingWrite((0,l.Z)(function*(){return yield R._withRetries($=>yu($,I)),delete R.localCache[I],R.notifyServiceWorker(I)}))})()}_poll(){var I=this;return(0,l.Z)(function*(){const R=yield I._withRetries(Se=>{const Je=Yd(Se,!1).getAll();return new Fc(Je).toPromise()});if(!R)return[];if(0!==I.pendingWrites)return[];const $=[],X=new Set;for(const{fbase_key:Se,value:Je}of R)X.add(Se),JSON.stringify(I.localCache[Se])!==JSON.stringify(Je)&&(I.notifyListeners(Se,Je),$.push(Se));for(const Se of Object.keys(I.localCache))I.localCache[Se]&&!X.has(Se)&&(I.notifyListeners(Se,null),$.push(Se));return $})()}notifyListeners(I,R){this.localCache[I]=R;const $=this.listeners[I];if($)for(const X of Array.from($))X(R)}startPolling(){var I=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return I._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(I,R){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[I]||(this.listeners[I]=new Set,this._get(I)),this.listeners[I].add(R)}_removeListener(I,R){this.listeners[I]&&(this.listeners[I].delete(R),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return A.type="LOCAL",A})(),Zi=1e12;class ur{constructor(w){this.auth=w,this.counter=Zi,this._widgets=new Map}render(w,I){const R=this.counter;return this._widgets.set(R,new co(w,this.auth.name,I||{})),this.counter++,R}reset(w){var I;const R=w||Zi;null===(I=this._widgets.get(R))||void 0===I||I.delete(),this._widgets.delete(R)}getResponse(w){var I;return(null===(I=this._widgets.get(w||Zi))||void 0===I?void 0:I.getResponse())||""}execute(w){var I=this;return(0,l.Z)(function*(){var R;return null===(R=I._widgets.get(w||Zi))||void 0===R||R.execute(),""})()}}class co{constructor(w,I,R){this.params=R,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const $="string"==typeof w?document.getElementById(w):w;ue($,"argument-error",{appName:I}),this.container=$,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xr(A){const w=[],I="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<A;R++)w.push(I.charAt(Math.floor(62*Math.random())));return w.join("")}(50);const{callback:w,"expired-callback":I}=this.params;if(w)try{w(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,I)try{I()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Jr=Yi("rcb"),Bh=new rn(3e4,6e4);class td{constructor(){var w;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(w=Vr().grecaptcha)||void 0===w||!w.render)}load(w,I=""){return ue(function lm(A){return A.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(A)}(I),w,"argument-error"),this.shouldResolveImmediately(I)&&Pt(Vr().grecaptcha)?Promise.resolve(Vr().grecaptcha):new Promise((R,$)=>{const X=Vr().setTimeout(()=>{$(nt(w,"network-request-failed"))},Bh.get());Vr()[Jr]=()=>{Vr().clearTimeout(X),delete Vr()[Jr];const Je=Vr().grecaptcha;if(!Je||!Pt(Je))return void $(nt(w,"internal-error"));const Rt=Je.render;Je.render=(Nt,pn)=>{const qn=Rt(Nt,pn);return this.counter++,qn},this.hostLanguage=I,R(Je)},Gi(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:Jr,render:"explicit",hl:I})}`).catch(()=>{clearTimeout(X),$(nt(w,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(w){var I;return!(null===(I=Vr().grecaptcha)||void 0===I||!I.render)&&(w===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bu{load(w){return(0,l.Z)(function*(){return new ur(w)})()}clearedOneInstance(){}}const Bl="recaptcha",Xd={theme:"light",type:"image"};class ll{constructor(w,I=Object.assign({},Xd),R){this.parameters=I,this.type=Bl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ai(R),this.isInvisible="invisible"===this.parameters.size,ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const $="string"==typeof w?document.getElementById(w):w;ue($,this.auth,"argument-error"),this.container=$,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bu:new td,this.validateStartingState()}verify(){var w=this;return(0,l.Z)(function*(){w.assertNotDestroyed();const I=yield w.render(),R=w.getAssertedRecaptcha();return R.getResponse(I)||new Promise(X=>{const Se=Je=>{Je&&(w.tokenChangeListeners.delete(Se),X(Je))};w.tokenChangeListeners.add(Se),w.isInvisible&&R.execute(I)})})()}render(){try{this.assertNotDestroyed()}catch(w){return Promise.reject(w)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(w=>{throw this.renderPromise=null,w})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(w=>{this.container.removeChild(w)})}validateStartingState(){ue(!this.parameters.sitekey,this.auth,"argument-error"),ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(w){return I=>{if(this.tokenChangeListeners.forEach(R=>R(I)),"function"==typeof w)w(I);else if("string"==typeof w){const R=Vr()[w];"function"==typeof R&&R(I)}}}assertNotDestroyed(){ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var w=this;return(0,l.Z)(function*(){if(yield w.init(),!w.widgetId){let I=w.container;if(!w.isInvisible){const R=document.createElement("div");I.appendChild(R),I=R}w.widgetId=w.getAssertedRecaptcha().render(I,w.parameters)}return w.widgetId})()}init(){var w=this;return(0,l.Z)(function*(){ue(ot()&&!vu(),w.auth,"internal-error"),yield function Jd(){let A=null;return new Promise(w=>{"complete"!==document.readyState?(A=()=>w(),window.addEventListener("load",A)):w()}).catch(w=>{throw A&&window.removeEventListener("load",A),w})}(),w.recaptcha=yield w._recaptchaLoader.load(w.auth,w.auth.languageCode||void 0);const I=yield function Xe(A){return ze.apply(this,arguments)}(w.auth);ue(I,w.auth,"internal-error"),w.parameters.sitekey=I})()}getAssertedRecaptcha(){return ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Pa{constructor(w,I){this.verificationId=w,this.onConfirmation=I}confirm(w){const I=on._fromVerification(this.verificationId,w);return this.onConfirmation(I)}}function jl(A,w,I){return wu.apply(this,arguments)}function wu(){return(wu=(0,l.Z)(function*(A,w,I){const R=Ai(A),$=yield ac(R,w,(0,U.m9)(I));return new Pa($,X=>Sa(R,X))})).apply(this,arguments)}function ls(A,w,I){return ul.apply(this,arguments)}function ul(){return(ul=(0,l.Z)(function*(A,w,I){const R=(0,U.m9)(A);yield aa(!1,R,"phone");const $=yield ac(R.auth,w,(0,U.m9)(I));return new Pa($,X=>Ja(R,X))})).apply(this,arguments)}function oc(A,w,I){return sc.apply(this,arguments)}function sc(){return(sc=(0,l.Z)(function*(A,w,I){const R=(0,U.m9)(A),$=yield ac(R.auth,w,(0,U.m9)(I));return new Pa($,X=>mi(R,X))})).apply(this,arguments)}function ac(A,w,I){return zl.apply(this,arguments)}function zl(){return zl=(0,l.Z)(function*(A,w,I){var R;const $=yield I.verify();try{let X;if(ue("string"==typeof $,A,"argument-error"),ue(I.type===Bl,A,"argument-error"),X="string"==typeof w?{phoneNumber:w}:w,"session"in X){const Se=X.session;if("phoneNumber"in X)return ue("enroll"===Se.type,A,"internal-error"),(yield function Xu(A,w){return ct(A,"POST","/v2/accounts/mfaEnrollment:start",je(A,w))}(A,{idToken:Se.credential,phoneEnrollmentInfo:{phoneNumber:X.phoneNumber,recaptchaToken:$}})).phoneSessionInfo.sessionInfo;{ue("signin"===Se.type,A,"internal-error");const Je=(null===(R=X.multiFactorHint)||void 0===R?void 0:R.uid)||X.multiFactorUid;return ue(Je,A,"missing-multi-factor-info"),(yield function Wi(A,w){return ct(A,"POST","/v2/accounts/mfaSignIn:start",je(A,w))}(A,{mfaPendingCredential:Se.credential,mfaEnrollmentId:Je,phoneSignInInfo:{recaptchaToken:$}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Se}=yield function Cn(A,w){return xi.apply(this,arguments)}(A,{phoneNumber:X.phoneNumber,recaptchaToken:$});return Se}}finally{I._reset()}}),zl.apply(this,arguments)}function ts(A,w){return ha.apply(this,arguments)}function ha(){return(ha=(0,l.Z)(function*(A,w){yield Kr((0,U.m9)(A),w)})).apply(this,arguments)}let ir=(()=>{class A{constructor(I){this.providerId=A.PROVIDER_ID,this.auth=Ai(I)}verifyPhoneNumber(I,R){return ac(this.auth,I,(0,U.m9)(R))}static credential(I,R){return on._fromVerification(I,R)}static credentialFromResult(I){return A.credentialFromTaggedObject(I)}static credentialFromError(I){return A.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{phoneNumber:R,temporaryProof:$}=I;return R&&$?on._fromTokenResponse(R,$):null}}return A.PROVIDER_ID="phone",A.PHONE_SIGN_IN_METHOD="phone",A})();function fa(A,w){return w?pi(w):(ue(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}class eh extends ea{constructor(w){super("custom","custom"),this.params=w}_getIdTokenResponse(w){return Fs(w,this._buildIdpRequest())}_linkToIdToken(w,I){return Fs(w,this._buildIdpRequest(I))}_getReauthenticationResolver(w){return Fs(w,this._buildIdpRequest())}_buildIdpRequest(w){const I={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return w&&(I.idToken=w),I}}function xs(A){return vs(A.auth,new eh(A),A.bypassAuthState)}function jn(A){const{auth:w,user:I}=A;return ue(I,w,"internal-error"),Rr(I,new eh(A),A.bypassAuthState)}function rr(A){return So.apply(this,arguments)}function So(){return(So=(0,l.Z)(function*(A){const{auth:w,user:I}=A;return ue(I,w,"internal-error"),Kr(I,new eh(A),A.bypassAuthState)})).apply(this,arguments)}class Hl{constructor(w,I,R,$,X=!1){this.auth=w,this.resolver=R,this.user=$,this.bypassAuthState=X,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(I)?I:[I]}execute(){var w=this;return new Promise(function(){var I=(0,l.Z)(function*(R,$){w.pendingPromise={resolve:R,reject:$};try{w.eventManager=yield w.resolver._initialize(w.auth),yield w.onExecution(),w.eventManager.registerConsumer(w)}catch(X){w.reject(X)}});return function(R,$){return I.apply(this,arguments)}}())}onAuthEvent(w){var I=this;return(0,l.Z)(function*(){const{urlResponse:R,sessionId:$,postBody:X,tenantId:Se,error:Je,type:Rt}=w;if(Je)return void I.reject(Je);const Nt={auth:I.auth,requestUri:R,sessionId:$,tenantId:Se||void 0,postBody:X||void 0,user:I.user,bypassAuthState:I.bypassAuthState};try{I.resolve(yield I.getIdpTask(Rt)(Nt))}catch(pn){I.reject(pn)}})()}onError(w){this.reject(w)}getIdpTask(w){switch(w){case"signInViaPopup":case"signInViaRedirect":return xs;case"linkViaPopup":case"linkViaRedirect":return rr;case"reauthViaPopup":case"reauthViaRedirect":return jn;default:Ce(this.auth,"internal-error")}}resolve(w){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(w),this.unregisterAndCleanUp()}reject(w){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(w),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cc=new rn(2e3,1e4);function ci(A,w,I){return ka.apply(this,arguments)}function ka(){return(ka=(0,l.Z)(function*(A,w,I){const R=Ai(A);it(A,w,Fo);const $=fa(R,I);return new Qi(R,"signInViaPopup",w,$).executeNotNull()})).apply(this,arguments)}function jr(A,w,I){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,l.Z)(function*(A,w,I){const R=(0,U.m9)(A);it(R.auth,w,Fo);const $=fa(R.auth,I);return new Qi(R.auth,"reauthViaPopup",w,$,R).executeNotNull()})).apply(this,arguments)}function kr(A,w,I){return or.apply(this,arguments)}function or(){return(or=(0,l.Z)(function*(A,w,I){const R=(0,U.m9)(A);it(R.auth,w,Fo);const $=fa(R.auth,I);return new Qi(R.auth,"linkViaPopup",w,$,R).executeNotNull()})).apply(this,arguments)}let Qi=(()=>{class A extends Hl{constructor(I,R,$,X,Se){super(I,R,X,Se),this.provider=$,this.authWindow=null,this.pollId=null,A.currentPopupAction&&A.currentPopupAction.cancel(),A.currentPopupAction=this}executeNotNull(){var I=this;return(0,l.Z)(function*(){const R=yield I.execute();return ue(R,I.auth,"internal-error"),R})()}onExecution(){var I=this;return(0,l.Z)(function*(){Le(1===I.filter.length,"Popup operations only handle one event");const R=kc();I.authWindow=yield I.resolver._openPopup(I.auth,I.provider,I.filter[0],R),I.authWindow.associatedEvent=R,I.resolver._originValidation(I.auth).catch($=>{I.reject($)}),I.resolver._isIframeWebStorageSupported(I.auth,$=>{$||I.reject(nt(I.auth,"web-storage-unsupported"))}),I.pollUserCancellation()})()}get eventId(){var I;return(null===(I=this.authWindow)||void 0===I?void 0:I.associatedEvent)||null}cancel(){this.reject(nt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,A.currentPopupAction=null}pollUserCancellation(){const I=()=>{var R,$;this.pollId=null!==($=null===(R=this.authWindow)||void 0===R?void 0:R.window)&&void 0!==$&&$.closed?window.setTimeout(()=>{this.pollId=null,this.reject(nt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(I,cc.get())};I()}}return A.currentPopupAction=null,A})();const Kf="pendingRedirect",Is=new Map;class nd extends Hl{constructor(w,I,R=!1){super(w,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],I,void 0,R),this.eventId=null}execute(){var w=()=>super.execute,I=this;return(0,l.Z)(function*(){let R=Is.get(I.auth._key());if(!R){try{const X=(yield function um(A,w){return id.apply(this,arguments)}(I.resolver,I.auth))?yield w().call(I):null;R=()=>Promise.resolve(X)}catch($){R=()=>Promise.reject($)}Is.set(I.auth._key(),R)}return I.bypassAuthState||Is.set(I.auth._key(),()=>Promise.resolve(null)),R()})()}onAuthEvent(w){var I=()=>super.onAuthEvent,R=this;return(0,l.Z)(function*(){if("signInViaRedirect"===w.type)return I().call(R,w);if("unknown"!==w.type){if(w.eventId){const $=yield R.auth._redirectUserForId(w.eventId);if($)return R.user=$,I().call(R,w);R.resolve(null)}}else R.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function id(){return(id=(0,l.Z)(function*(A,w){const I=th(w),R=jh(A);if(!(yield R._isAvailable()))return!1;const $="true"===(yield R._get(I));return yield R._remove(I),$})).apply(this,arguments)}function rd(A,w){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,l.Z)(function*(A,w){return jh(A)._set(th(w),"true")})).apply(this,arguments)}function od(){Is.clear()}function $l(A,w){Is.set(A._key(),w)}function jh(A){return pi(A._redirectPersistence)}function th(A){return mo(Kf,A.config.apiKey,A.name)}function Uc(A,w,I){return function Vc(A,w,I){return sd.apply(this,arguments)}(A,w,I)}function sd(){return(sd=(0,l.Z)(function*(A,w,I){const R=Ai(A);it(A,w,Fo),yield R._initializationPromise;const $=fa(R,I);return yield rd($,R),$._openRedirect(R,w,"signInViaRedirect")})).apply(this,arguments)}function dl(A,w,I){return function Eu(A,w,I){return us.apply(this,arguments)}(A,w,I)}function us(){return(us=(0,l.Z)(function*(A,w,I){const R=(0,U.m9)(A);it(R.auth,w,Fo),yield R.auth._initializationPromise;const $=fa(R.auth,I);yield rd($,R.auth);const X=yield Gl(R);return $._openRedirect(R.auth,w,"reauthViaRedirect",X)})).apply(this,arguments)}function zh(A,w,I){return function Hh(A,w,I){return nh.apply(this,arguments)}(A,w,I)}function nh(){return(nh=(0,l.Z)(function*(A,w,I){const R=(0,U.m9)(A);it(R.auth,w,Fo),yield R.auth._initializationPromise;const $=fa(R.auth,I);yield aa(!1,R,w.providerId),yield rd($,R.auth);const X=yield Gl(R);return $._openRedirect(R.auth,w,"linkViaRedirect",X)})).apply(this,arguments)}function $h(A,w){return zo.apply(this,arguments)}function zo(){return(zo=(0,l.Z)(function*(A,w){return yield Ai(A)._initializationPromise,ad(A,w,!1)})).apply(this,arguments)}function ad(A,w){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,l.Z)(function*(A,w,I=!1){const R=Ai(A),$=fa(R,w),Se=yield new nd(R,$,I).execute();return Se&&!I&&(delete Se.user._redirectEventId,yield R._persistUserIfCurrent(Se.user),yield R._setRedirectUser(null,w)),Se})).apply(this,arguments)}function Gl(A){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,l.Z)(function*(A){const w=kc(`${A.uid}:::`);return A._redirectEventId=w,yield A.auth._setRedirectUser(A),yield A.auth._persistUserIfCurrent(A),w})).apply(this,arguments)}class Wl{constructor(w){this.auth=w,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(w){this.consumers.add(w),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,w)&&(this.sendToConsumer(this.queuedRedirectEvent,w),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(w){this.consumers.delete(w)}onEvent(w){if(this.hasEventBeenHandled(w))return!1;let I=!1;return this.consumers.forEach(R=>{this.isEventForConsumer(w,R)&&(I=!0,this.sendToConsumer(w,R),this.saveEventToCache(w))}),this.hasHandledPotentialRedirect||!function Kl(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zl(A);default:return!1}}(w)||(this.hasHandledPotentialRedirect=!0,I||(this.queuedRedirectEvent=w,I=!0)),I}sendToConsumer(w,I){var R;if(w.error&&!Zl(w)){const $=(null===(R=w.error.code)||void 0===R?void 0:R.split("auth/")[1])||"internal-error";I.onError(nt(this.auth,$))}else I.onAuthEvent(w)}isEventForConsumer(w,I){const R=null===I.eventId||!!w.eventId&&w.eventId===I.eventId;return I.filter.includes(w.type)&&R}hasEventBeenHandled(w){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cd(w))}saveEventToCache(w){this.cachedEventUids.add(cd(w)),this.lastProcessedEventTime=Date.now()}}function cd(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(w=>w).join("-")}function Zl({type:A,error:w}){return"unknown"===A&&"auth/no-auth-event"===w?.code}function $s(A){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,l.Z)(function*(A,w={}){return ct(A,"GET","/v1/projects",w)})).apply(this,arguments)}const Qf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ld=/^https?/;function ih(){return(ih=(0,l.Z)(function*(A){if(A.config.emulator)return;const{authorizedDomains:w}=yield $s(A);for(const I of w)try{if(rh(I))return}catch{}Ce(A,"unauthorized-domain")})).apply(this,arguments)}function rh(A){const w=Et(),{protocol:I,hostname:R}=new URL(w);if(A.startsWith("chrome-extension://")){const Se=new URL(A);return""===Se.hostname&&""===R?"chrome-extension:"===I&&A.replace("chrome-extension://","")===w.replace("chrome-extension://",""):"chrome-extension:"===I&&Se.hostname===R}if(!ld.test(I))return!1;if(Qf.test(A))return R===A;const $=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(R)}const hl=new rn(3e4,6e4);function ns(){const A=Vr().___jsl;if(A?.H)for(const w of Object.keys(A.H))if(A.H[w].r=A.H[w].r||[],A.H[w].L=A.H[w].L||[],A.H[w].r=[...A.H[w].L],A.CP)for(let I=0;I<A.CP.length;I++)A.CP[I]=null}let sr=null;const ud=new rn(5e3,15e3),dr="__/auth/iframe",Gh="emulator/auth/iframe",Xf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ml(A){const w=A.config;ue(w.authDomain,A,"auth-domain-config-required");const I=w.emulator?fi(w,Gh):`https://${A.config.authDomain}/${dr}`,R={apiKey:w.apiKey,appName:A.name,v:K.SDK_VERSION},$=Gs.get(A.config.apiHost);$&&(R.eid=$);const X=A._getFrameworks();return X.length&&(R.fw=X.join(",")),`${I}?${(0,U.xO)(R).slice(1)}`}function Bc(){return Bc=(0,l.Z)(function*(A){const w=yield function pl(A){return sr=sr||function fl(A){return new Promise((w,I)=>{var R,$,X;function Se(){ns(),gapi.load("gapi.iframes",{callback:()=>{w(gapi.iframes.getContext())},ontimeout:()=>{ns(),I(nt(A,"network-request-failed"))},timeout:hl.get()})}if(null!==($=null===(R=Vr().gapi)||void 0===R?void 0:R.iframes)&&void 0!==$&&$.Iframe)w(gapi.iframes.getContext());else{if(null===(X=Vr().gapi)||void 0===X||!X.load){const Je=Yi("iframefcb");return Vr()[Je]=()=>{gapi.load?Se():I(nt(A,"network-request-failed"))},Gi(`https://apis.google.com/js/api.js?onload=${Je}`).catch(Rt=>I(Rt))}Se()}}).catch(w=>{throw sr=null,w})}(A),sr}(A),I=Vr().gapi;return ue(I,A,"internal-error"),w.open({where:document.body,url:ml(A),messageHandlersFilter:I.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xf,dontclear:!0},R=>new Promise(function(){var $=(0,l.Z)(function*(X,Se){yield R.restyle({setHideOnLeave:!1});const Je=nt(A,"network-request-failed"),Rt=Vr().setTimeout(()=>{Se(Je)},ud.get());function Nt(){Vr().clearTimeout(Rt),X(R)}R.ping(Nt).then(Nt,()=>{Se(Je)})});return function(X,Se){return $.apply(this,arguments)}}()))}),Bc.apply(this,arguments)}const O={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ue{constructor(w){this.window=w,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ft="__/auth/handler",hn="emulator/auth/handler",Ln=encodeURIComponent("fac");function Sn(A,w,I,R,$,X){return ds.apply(this,arguments)}function ds(){return(ds=(0,l.Z)(function*(A,w,I,R,$,X){ue(A.config.authDomain,A,"auth-domain-config-required"),ue(A.config.apiKey,A,"invalid-api-key");const Se={apiKey:A.config.apiKey,appName:A.name,authType:I,redirectUrl:R,v:K.SDK_VERSION,eventId:$};if(w instanceof Fo){w.setDefaultLanguage(A.languageCode),Se.providerId=w.providerId||"",(0,U.xb)(w.getCustomParameters())||(Se.customParameters=JSON.stringify(w.getCustomParameters()));for(const[pn,qn]of Object.entries(X||{}))Se[pn]=qn}if(w instanceof Cr){const pn=w.getScopes().filter(qn=>""!==qn);pn.length>0&&(Se.scopes=pn.join(","))}A.tenantId&&(Se.tid=A.tenantId);const Je=Se;for(const pn of Object.keys(Je))void 0===Je[pn]&&delete Je[pn];const Rt=yield A._getAppCheckToken(),Nt=Rt?`#${Ln}=${encodeURIComponent(Rt)}`:"";return`${function Ao({config:A}){return A.emulator?fi(A,hn):`https://${A.authDomain}/${Ft}`}(A)}?${(0,U.xO)(Je).slice(1)}${Nt}`})).apply(this,arguments)}const Ki="webStorageSupport",La=class xu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zs,this._completeRedirectFn=ad,this._overrideRedirectResult=$l}_openPopup(w,I,R,$){var X=this;return(0,l.Z)(function*(){var Se;Le(null===(Se=X.eventManagers[w._key()])||void 0===Se?void 0:Se.manager,"_initialize() not called before _openPopup()");const Je=yield Sn(w,I,R,Et(),$);return function rt(A,w,I,R=500,$=600){const X=Math.max((window.screen.availHeight-$)/2,0).toString(),Se=Math.max((window.screen.availWidth-R)/2,0).toString();let Je="";const Rt=Object.assign(Object.assign({},O),{width:R.toString(),height:$.toString(),top:X,left:Se}),Nt=(0,U.z$)().toLowerCase();I&&(Je=Y(Nt)?"_blank":I),J(Nt)&&(w=w||"http://localhost",Rt.scrollbars="yes");const pn=Object.entries(Rt).reduce((eo,[pa,to])=>`${eo}${pa}=${to},`,"");if(function En(A=(0,U.z$)()){var w;return Vt(A)&&!(null===(w=window.navigator)||void 0===w||!w.standalone)}(Nt)&&"_self"!==Je)return function Bt(A,w){const I=document.createElement("a");I.href=A,I.target=w;const R=document.createEvent("MouseEvent");R.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),I.dispatchEvent(R)}(w||"",Je),new Ue(null);const qn=window.open(w||"",Je,pn);ue(qn,A,"popup-blocked");try{qn.focus()}catch{}return new Ue(qn)}(w,Je,kc())})()}_openRedirect(w,I,R,$){var X=this;return(0,l.Z)(function*(){return yield X._originValidation(w),function ic(A){Vr().location.href=A}(yield Sn(w,I,R,Et(),$)),new Promise(()=>{})})()}_initialize(w){const I=w._key();if(this.eventManagers[I]){const{manager:$,promise:X}=this.eventManagers[I];return $?Promise.resolve($):(Le(X,"If manager is not set, promise should be"),X)}const R=this.initAndGetManager(w);return this.eventManagers[I]={promise:R},R.catch(()=>{delete this.eventManagers[I]}),R}initAndGetManager(w){var I=this;return(0,l.Z)(function*(){const R=yield function Fa(A){return Bc.apply(this,arguments)}(w),$=new Wl(w);return R.register("authEvent",X=>(ue(X?.authEvent,w,"invalid-auth-event"),{status:$.onEvent(X.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),I.eventManagers[w._key()]={manager:$},I.iframes[w._key()]=R,$})()}_isIframeWebStorageSupported(w,I){this.iframes[w._key()].send(Ki,{type:Ki},$=>{var X;const Se=null===(X=$?.[0])||void 0===X?void 0:X[Ki];void 0!==Se&&I(!!Se),Ce(w,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(w){const I=w._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=function Na(A){return ih.apply(this,arguments)}(w)),this.originValidationPromises[I]}get _shouldInitProactively(){return kn()||te()||Vt()}};class Ua{constructor(w){this.factorId=w}_process(w,I,R){switch(I.type){case"enroll":return this._finalizeEnroll(w,I.credential,R);case"signin":return this._finalizeSignIn(w,I.credential);default:return qe("unexpected MultiFactorSessionType")}}}class Nr extends Ua{constructor(w){super("phone"),this.credential=w}static _fromCredential(w){return new Nr(w)}_finalizeEnroll(w,I,R){return function gu(A,w){return ct(A,"POST","/v2/accounts/mfaEnrollment:finalize",je(A,w))}(w,{idToken:I,displayName:R,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(w,I){return function ao(A,w){return ct(A,"POST","/v2/accounts/mfaSignIn:finalize",je(A,w))}(w,{mfaPendingCredential:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let gl=(()=>{class A{constructor(){}static assertion(I){return Nr._fromCredential(I)}}return A.FACTOR_ID="phone",A})();var t_="@firebase/auth";class Sy{constructor(w){this.auth=w,this.internalListeners=new Map}getUid(){var w;return this.assertAuthConfigured(),(null===(w=this.auth.currentUser)||void 0===w?void 0:w.uid)||null}getToken(w){var I=this;return(0,l.Z)(function*(){return I.assertAuthConfigured(),yield I.auth._initializationPromise,I.auth.currentUser?{accessToken:yield I.auth.currentUser.getIdToken(w)}:null})()}addAuthTokenListener(w){if(this.assertAuthConfigured(),this.internalListeners.has(w))return;const I=this.auth.onIdTokenChanged(R=>{w(R?.stsTokenManager.accessToken||null)});this.internalListeners.set(w,I),this.updateProactiveRefresh()}removeAuthTokenListener(w){this.assertAuthConfigured();const I=this.internalListeners.get(w);I&&(this.internalListeners.delete(w),I(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const n_=(0,U.Pz)("authIdTokenMaxAge")||300;let fd=null;const i_=A=>function(){var w=(0,l.Z)(function*(I){const R=I&&(yield I.getIdTokenResult()),$=R&&((new Date).getTime()-Date.parse(R.issuedAtTime))/1e3;if($&&$>n_)return;const X=R?.token;fd!==X&&(fd=X,yield fetch(A,{method:X?"POST":"DELETE",headers:X?{Authorization:`Bearer ${X}`}:{}}))});return function(I){return w.apply(this,arguments)}}();function Wh(A=(0,K.getApp)()){const w=(0,K._getProvider)(A,"auth");if(w.isInitialized())return w.getImmediate();const I=function er(A,w){const I=(0,K._getProvider)(A,"auth");if(I.isInitialized()){const $=I.getImmediate(),X=I.getOptions();if((0,U.vZ)(X,w??{}))return $;Ce($,"already-initialized")}return I.initialize({options:w})}(A,{popupRedirectResolver:La,persistence:[Do,Wd,zs]}),R=(0,U.Pz)("authTokenSyncURL");if(R){const X=i_(R);(function Yu(A,w,I){(0,U.m9)(A).beforeAuthStateChanged(w,I)})(I,X,()=>X(I.currentUser)),xo(I,Se=>X(Se))}const $=(0,U.q4)("auth");return $&&Ka(I,`http://${$}`),I}!function Jf(A){(0,K._registerComponent)(new Pe.wA("auth",(w,{options:I})=>{const R=w.getProvider("app").getImmediate(),$=w.getProvider("heartbeat"),X=w.getProvider("app-check-internal"),{apiKey:Se,authDomain:Je}=R.options;ue(Se&&!Se.includes(":"),"invalid-api-key",{appName:R.name});const Rt={apiKey:Se,authDomain:Je,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zo(A)},Nt=new ai(R,$,X,Rt);return function _c(A,w){const I=w?.persistence||[],R=(Array.isArray(I)?I:[I]).map(pi);w?.errorMap&&A._updateErrorMap(w.errorMap),A._initializeWithPersistence(R,w?.popupRedirectResolver)}(Nt,I),Nt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((w,I,R)=>{w.getProvider("auth-internal").initialize()})),(0,K._registerComponent)(new Pe.wA("auth-internal",w=>{const I=Ai(w.getProvider("auth").getImmediate());return new Sy(I)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,K.registerVersion)(t_,"0.23.2",function qs(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(A)),(0,K.registerVersion)(t_,"0.23.2","esm2017")}("Browser")},9058:(en,Ae,Q)=>{Q.d(Ae,{$s:()=>pi,BH:()=>$e,DV:()=>Fn,Dv:()=>Fe,G6:()=>fi,GJ:()=>Ut,L:()=>Ve,LL:()=>gt,P0:()=>Ze,Pz:()=>nt,Sg:()=>it,UG:()=>qe,UI:()=>wi,US:()=>Pe,Wj:()=>jt,Wl:()=>dn,Yr:()=>rn,ZB:()=>de,ZR:()=>ct,aH:()=>Ce,b$:()=>ot,cI:()=>Tn,dS:()=>Ht,eu:()=>Ee,g5:()=>K,gK:()=>Ct,gQ:()=>Qt,h$:()=>ut,hl:()=>De,hu:()=>U,jU:()=>Le,lb:()=>Jt,m9:()=>mo,ne:()=>zt,p$:()=>q,pd:()=>Yt,q4:()=>at,r3:()=>cn,ru:()=>Et,tV:()=>z,uI:()=>ue,ug:()=>Ei,vZ:()=>Si,w1:()=>nn,w9:()=>Dn,xO:()=>Po,xb:()=>Un,z$:()=>he,zI:()=>He,zd:()=>sn});const l={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},U=function(fe,le){if(!fe)throw K(le)},K=function(fe){return new Error("Firebase Database ("+l.SDK_VERSION+") INTERNAL ASSERT FAILED: "+fe)},pe=function(fe){const le=[];let J=0;for(let te=0;te<fe.length;te++){let Y=fe.charCodeAt(te);Y<128?le[J++]=Y:Y<2048?(le[J++]=Y>>6|192,le[J++]=63&Y|128):55296==(64512&Y)&&te+1<fe.length&&56320==(64512&fe.charCodeAt(te+1))?(Y=65536+((1023&Y)<<10)+(1023&fe.charCodeAt(++te)),le[J++]=Y>>18|240,le[J++]=Y>>12&63|128,le[J++]=Y>>6&63|128,le[J++]=63&Y|128):(le[J++]=Y>>12|224,le[J++]=Y>>6&63|128,le[J++]=63&Y|128)}return le},Pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(fe,le){if(!Array.isArray(fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=le?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let Y=0;Y<fe.length;Y+=3){const Me=fe[Y],Qe=Y+1<fe.length,St=Qe?fe[Y+1]:0,yn=Y+2<fe.length,Vt=yn?fe[Y+2]:0;let si=(15&St)<<2|Vt>>6,kn=63&Vt;yn||(kn=64,Qe||(si=64)),te.push(J[Me>>2],J[(3&Me)<<4|St>>4],J[si],J[kn])}return te.join("")},encodeString(fe,le){return this.HAS_NATIVE_SUPPORT&&!le?btoa(fe):this.encodeByteArray(pe(fe),le)},decodeString(fe,le){return this.HAS_NATIVE_SUPPORT&&!le?atob(fe):function(fe){const le=[];let J=0,te=0;for(;J<fe.length;){const Y=fe[J++];if(Y<128)le[te++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Me=fe[J++];le[te++]=String.fromCharCode((31&Y)<<6|63&Me)}else if(Y>239&&Y<365){const yn=((7&Y)<<18|(63&fe[J++])<<12|(63&fe[J++])<<6|63&fe[J++])-65536;le[te++]=String.fromCharCode(55296+(yn>>10)),le[te++]=String.fromCharCode(56320+(1023&yn))}else{const Me=fe[J++],Qe=fe[J++];le[te++]=String.fromCharCode((15&Y)<<12|(63&Me)<<6|63&Qe)}}return le.join("")}(this.decodeStringToByteArray(fe,le))},decodeStringToByteArray(fe,le){this.init_();const J=le?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let Y=0;Y<fe.length;){const Me=J[fe.charAt(Y++)],St=Y<fe.length?J[fe.charAt(Y)]:0;++Y;const Vt=Y<fe.length?J[fe.charAt(Y)]:64;++Y;const En=Y<fe.length?J[fe.charAt(Y)]:64;if(++Y,null==Me||null==St||null==Vt||null==En)throw new Oe;te.push(Me<<2|St>>4),64!==Vt&&(te.push(St<<4&240|Vt>>2),64!==En&&te.push(Vt<<6&192|En))}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let fe=0;fe<this.ENCODED_VALS.length;fe++)this.byteToCharMap_[fe]=this.ENCODED_VALS.charAt(fe),this.charToByteMap_[this.byteToCharMap_[fe]]=fe,this.byteToCharMapWebSafe_[fe]=this.ENCODED_VALS_WEBSAFE.charAt(fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[fe]]=fe,fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(fe)]=fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(fe)]=fe)}}};class Oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ut=function(fe){const le=pe(fe);return Pe.encodeByteArray(le,!0)},Ve=function(fe){return ut(fe).replace(/\./g,"")},z=function(fe){try{return Pe.decodeString(fe,!0)}catch(le){console.error("base64Decode failed: ",le)}return null};function q(fe){return de(void 0,fe)}function de(fe,le){if(!(le instanceof Object))return le;switch(le.constructor){case Date:return new Date(le.getTime());case Object:void 0===fe&&(fe={});break;case Array:fe=[];break;default:return le}for(const J in le)!le.hasOwnProperty(J)||!Ne(J)||(fe[J]=de(fe[J],le[J]));return fe}function Ne(fe){return"__proto__"!==fe}const ke=()=>{try{return function me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const fe=process.env.__FIREBASE_DEFAULTS__;return fe?JSON.parse(fe):void 0})()||(()=>{if(typeof document>"u")return;let fe;try{fe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const le=fe&&z(fe[1]);return le&&JSON.parse(le)})()}catch(fe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${fe}`)}},at=fe=>{var le,J;return null===(J=null===(le=ke())||void 0===le?void 0:le.emulatorHosts)||void 0===J?void 0:J[fe]},Ze=fe=>{const le=at(fe);if(!le)return;const J=le.lastIndexOf(":");if(J<=0||J+1===le.length)throw new Error(`Invalid host ${le} with no separate hostname and port!`);const te=parseInt(le.substring(J+1),10);return"["===le[0]?[le.substring(1,J-1),te]:[le.substring(0,J),te]},Ce=()=>{var fe;return null===(fe=ke())||void 0===fe?void 0:fe.config},nt=fe=>{var le;return null===(le=ke())||void 0===le?void 0:le[`_${fe}`]};class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((le,J)=>{this.resolve=le,this.reject=J})}wrapCallback(le){return(J,te)=>{J?this.reject(J):this.resolve(te),"function"==typeof le&&(this.promise.catch(()=>{}),1===le.length?le(J):le(J,te))}}}function it(fe,le){if(fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const te=le||"demo-project",Y=fe.iat||0,Me=fe.sub||fe.user_id;if(!Me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qe=Object.assign({iss:`https://securetoken.google.com/${te}`,aud:te,iat:Y,exp:Y+3600,auth_time:Y,sub:Me,user_id:Me,firebase:{sign_in_provider:"custom",identities:{}}},fe);return[Ve(JSON.stringify({alg:"none",type:"JWT"})),Ve(JSON.stringify(Qe)),""].join(".")}function he(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(he())}function qe(){var fe;const le=null===(fe=ke())||void 0===fe?void 0:fe.forceEnvironment;if("node"===le)return!0;if("browser"===le)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Le(){return"object"==typeof self&&self.self===self}function Et(){const fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof fe&&void 0!==fe.id}function ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function nn(){const fe=he();return fe.indexOf("MSIE ")>=0||fe.indexOf("Trident/")>=0}function rn(){return!0===l.NODE_CLIENT||!0===l.NODE_ADMIN}function fi(){return!qe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function De(){try{return"object"==typeof indexedDB}catch{return!1}}function Ee(){return new Promise((fe,le)=>{try{let J=!0;const te="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(te);Y.onsuccess=()=>{Y.result.close(),J||self.indexedDB.deleteDatabase(te),fe(!0)},Y.onupgradeneeded=()=>{J=!1},Y.onerror=()=>{var Me;le((null===(Me=Y.error)||void 0===Me?void 0:Me.message)||"")}}catch(J){le(J)}})}function He(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ct extends Error{constructor(le,J,te){super(J),this.code=le,this.customData=te,this.name="FirebaseError",Object.setPrototypeOf(this,ct.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gt.prototype.create)}}class gt{constructor(le,J,te){this.service=le,this.serviceName=J,this.errors=te}create(le,...J){const te=J[0]||{},Y=`${this.service}/${le}`,Me=this.errors[le],Qe=Me?function At(fe,le){return fe.replace(bt,(J,te)=>{const Y=le[te];return null!=Y?String(Y):`<${te}?>`})}(Me,te):"Error";return new ct(Y,`${this.serviceName}: ${Qe} (${Y}).`,te)}}const bt=/\{\$([^}]+)}/g;function Tn(fe){return JSON.parse(fe)}function dn(fe){return JSON.stringify(fe)}const Nn=function(fe){let le={},J={},te={},Y="";try{const Me=fe.split(".");le=Tn(z(Me[0])||""),J=Tn(z(Me[1])||""),Y=Me[2],te=J.d||{},delete J.d}catch{}return{header:le,claims:J,data:te,signature:Y}},Dn=function(fe){const J=Nn(fe).claims;return!!J&&"object"==typeof J&&J.hasOwnProperty("iat")},Ut=function(fe){const le=Nn(fe).claims;return"object"==typeof le&&!0===le.admin};function cn(fe,le){return Object.prototype.hasOwnProperty.call(fe,le)}function Fn(fe,le){if(Object.prototype.hasOwnProperty.call(fe,le))return fe[le]}function Un(fe){for(const le in fe)if(Object.prototype.hasOwnProperty.call(fe,le))return!1;return!0}function wi(fe,le,J){const te={};for(const Y in fe)Object.prototype.hasOwnProperty.call(fe,Y)&&(te[Y]=le.call(J,fe[Y],Y,fe));return te}function Si(fe,le){if(fe===le)return!0;const J=Object.keys(fe),te=Object.keys(le);for(const Y of J){if(!te.includes(Y))return!1;const Me=fe[Y],Qe=le[Y];if(ti(Me)&&ti(Qe)){if(!Si(Me,Qe))return!1}else if(Me!==Qe)return!1}for(const Y of te)if(!J.includes(Y))return!1;return!0}function ti(fe){return null!==fe&&"object"==typeof fe}function Po(fe){const le=[];for(const[J,te]of Object.entries(fe))Array.isArray(te)?te.forEach(Y=>{le.push(encodeURIComponent(J)+"="+encodeURIComponent(Y))}):le.push(encodeURIComponent(J)+"="+encodeURIComponent(te));return le.length?"&"+le.join("&"):""}function sn(fe){const le={};return fe.replace(/^\?/,"").split("&").forEach(te=>{if(te){const[Y,Me]=te.split("=");le[decodeURIComponent(Y)]=decodeURIComponent(Me)}}),le}function Yt(fe){const le=fe.indexOf("?");if(!le)return"";const J=fe.indexOf("#",le);return fe.substring(le,J>0?J:void 0)}class Qt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let le=1;le<this.blockSize;++le)this.pad_[le]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(le,J){J||(J=0);const te=this.W_;if("string"==typeof le)for(let En=0;En<16;En++)te[En]=le.charCodeAt(J)<<24|le.charCodeAt(J+1)<<16|le.charCodeAt(J+2)<<8|le.charCodeAt(J+3),J+=4;else for(let En=0;En<16;En++)te[En]=le[J]<<24|le[J+1]<<16|le[J+2]<<8|le[J+3],J+=4;for(let En=16;En<80;En++){const si=te[En-3]^te[En-8]^te[En-14]^te[En-16];te[En]=4294967295&(si<<1|si>>>31)}let Vt,Xn,Y=this.chain_[0],Me=this.chain_[1],Qe=this.chain_[2],St=this.chain_[3],yn=this.chain_[4];for(let En=0;En<80;En++){En<40?En<20?(Vt=St^Me&(Qe^St),Xn=1518500249):(Vt=Me^Qe^St,Xn=1859775393):En<60?(Vt=Me&Qe|St&(Me|Qe),Xn=2400959708):(Vt=Me^Qe^St,Xn=3395469782);const si=(Y<<5|Y>>>27)+Vt+yn+Xn+te[En]&4294967295;yn=St,St=Qe,Qe=4294967295&(Me<<30|Me>>>2),Me=Y,Y=si}this.chain_[0]=this.chain_[0]+Y&4294967295,this.chain_[1]=this.chain_[1]+Me&4294967295,this.chain_[2]=this.chain_[2]+Qe&4294967295,this.chain_[3]=this.chain_[3]+St&4294967295,this.chain_[4]=this.chain_[4]+yn&4294967295}update(le,J){if(null==le)return;void 0===J&&(J=le.length);const te=J-this.blockSize;let Y=0;const Me=this.buf_;let Qe=this.inbuf_;for(;Y<J;){if(0===Qe)for(;Y<=te;)this.compress_(le,Y),Y+=this.blockSize;if("string"==typeof le){for(;Y<J;)if(Me[Qe]=le.charCodeAt(Y),++Qe,++Y,Qe===this.blockSize){this.compress_(Me),Qe=0;break}}else for(;Y<J;)if(Me[Qe]=le[Y],++Qe,++Y,Qe===this.blockSize){this.compress_(Me),Qe=0;break}}this.inbuf_=Qe,this.total_+=J}digest(){const le=[];let J=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Y=this.blockSize-1;Y>=56;Y--)this.buf_[Y]=255&J,J/=256;this.compress_(this.buf_);let te=0;for(let Y=0;Y<5;Y++)for(let Me=24;Me>=0;Me-=8)le[te]=this.chain_[Y]>>Me&255,++te;return le}}function zt(fe,le){const J=new Te(fe,le);return J.subscribe.bind(J)}class Te{constructor(le,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{le(this)}).catch(te=>{this.error(te)})}next(le){this.forEachObserver(J=>{J.next(le)})}error(le){this.forEachObserver(J=>{J.error(le)}),this.close(le)}complete(){this.forEachObserver(le=>{le.complete()}),this.close()}subscribe(le,J,te){let Y;if(void 0===le&&void 0===J&&void 0===te)throw new Error("Missing Observer.");Y=function xe(fe,le){if("object"!=typeof fe||null===fe)return!1;for(const J of le)if(J in fe&&"function"==typeof fe[J])return!0;return!1}(le,["next","error","complete"])?le:{next:le,error:J,complete:te},void 0===Y.next&&(Y.next=Ge),void 0===Y.error&&(Y.error=Ge),void 0===Y.complete&&(Y.complete=Ge);const Me=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Me}unsubscribeOne(le){void 0===this.observers||void 0===this.observers[le]||(delete this.observers[le],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(le){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,le)}sendOne(le,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[le])try{J(this.observers[le])}catch(te){typeof console<"u"&&console.error&&console.error(te)}})}close(le){this.finalized||(this.finalized=!0,void 0!==le&&(this.finalError=le),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ge(){}const Fe=function(fe,le,J,te){let Y;if(te<le?Y="at least "+le:te>J&&(Y=0===J?"none":"no more than "+J),Y)throw new Error(fe+" failed: Was called with "+te+(1===te?" argument.":" arguments.")+" Expects "+Y+".")};function Ct(fe,le){return`${fe} failed: ${le} argument `}function jt(fe,le,J,te){if((!te||J)&&"function"!=typeof J)throw new Error(Ct(fe,le)+"must be a valid function.")}function Jt(fe,le,J,te){if((!te||J)&&("object"!=typeof J||null===J))throw new Error(Ct(fe,le)+"must be a valid context object.")}const Ht=function(fe){const le=[];let J=0;for(let te=0;te<fe.length;te++){let Y=fe.charCodeAt(te);if(Y>=55296&&Y<=56319){const Me=Y-55296;te++,U(te<fe.length,"Surrogate pair missing trail surrogate."),Y=65536+(Me<<10)+(fe.charCodeAt(te)-56320)}Y<128?le[J++]=Y:Y<2048?(le[J++]=Y>>6|192,le[J++]=63&Y|128):Y<65536?(le[J++]=Y>>12|224,le[J++]=Y>>6&63|128,le[J++]=63&Y|128):(le[J++]=Y>>18|240,le[J++]=Y>>12&63|128,le[J++]=Y>>6&63|128,le[J++]=63&Y|128)}return le},Ei=function(fe){let le=0;for(let J=0;J<fe.length;J++){const te=fe.charCodeAt(J);te<128?le++:te<2048?le+=2:te>=55296&&te<=56319?(le+=4,J++):le+=3}return le},zn=1e3,ki=2,Hn=144e5,mr=.5;function pi(fe,le=zn,J=ki){const te=le*Math.pow(J,fe),Y=Math.round(mr*te*(Math.random()-.5)*2);return Math.min(Hn,te+Y)}function mo(fe){return fe&&fe._delegate?fe._delegate:fe}},4329:(en,Ae,Q)=>{var l=Q(5879);let U=null;function K(){return U}class ce{}const Pe=new l.OlP("DocumentToken");let Oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Ve)},providedIn:"platform"})}return n})();const ut=new l.OlP("Location Initialized");let Ve=(()=>{class n extends Oe{constructor(){super(),this._doc=(0,l.f3M)(Pe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(t){const i=K().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=K().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function z(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function q(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function de(n){return n&&"?"!==n[0]?"?"+n:n}let Ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(lt)},providedIn:"root"})}return n})();const me=new l.OlP("appBaseHref");let lt=(()=>{class n extends Ne{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(Pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return z(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+de(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const u=this.prepareExternalUrl(r+de(s));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,s){const u=this.prepareExternalUrl(r+de(s));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Oe),l.LFG(me,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),st=(()=>{class n extends Ne{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=z(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let u=this.prepareExternalUrl(r+de(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,s){let u=this.prepareExternalUrl(r+de(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Oe),l.LFG(me,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})(),mt=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Ce(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(q(Ze(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+de(i))}normalize(t){return n.stripTrailingSlash(function at(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+de(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+de(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=de;static#t=this.joinWithSlash=z;static#n=this.stripTrailingSlash=q;static#i=this.\u0275fac=function(i){return new(i||n)(l.LFG(Ne))};static#r=this.\u0275prov=l.Yz7({token:n,factory:function(){return function ke(){return new mt((0,l.LFG)(Ne))}()},providedIn:"root"})}return n})();function Ze(n){return n.replace(/\/index.html$/,"")}var he=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(he||{}),ue=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(ue||{}),qe=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(qe||{}),Le=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Le||{});function Ee(n,e){return cn((0,l.cg1)(n)[l.wAp.DateFormat],e)}function He(n,e){return cn((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function je(n,e){return cn((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function ct(n,e){const t=(0,l.cg1)(n),i=t[l.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===Le.CurrencyDecimal)return t[l.wAp.NumberSymbols][Le.Decimal];if(e===Le.CurrencyGroup)return t[l.wAp.NumberSymbols][Le.Group]}return i}function fn(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function cn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Fn(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const ti=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Vi={},Po=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var sn=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(sn||{}),Yt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Yt||{}),Qt=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Qt||{});function zt(n,e,t,i){let r=function le(n){if(te(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,u=1]=n.split("-").map(m=>+m);return Te(r,s-1,u)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(ti))return function J(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-t,m=Number(n[5]||0)-i,v=Number(n[6]||0),C=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,u,m,v,C),e}(i)}const e=new Date(n);if(!te(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=we(t,e)||e;let m,u=[];for(;e;){if(m=Po.exec(e),!m){u.push(e);break}{u=u.concat(m.slice(1));const M=u.pop();if(!M)break;e=M}}let v=r.getTimezoneOffset();i&&(v=gr(i,v),r=function fe(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function mo(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(gr(e,r)-r))}(r,i,!0));let C="";return u.forEach(M=>{const L=function Ci(n){if(pi[n])return pi[n];let e;switch(n){case"G":case"GG":case"GGG":e=jt(Qt.Eras,ue.Abbreviated);break;case"GGGG":e=jt(Qt.Eras,ue.Wide);break;case"GGGGG":e=jt(Qt.Eras,ue.Narrow);break;case"y":e=Ct(Yt.FullYear,1,0,!1,!0);break;case"yy":e=Ct(Yt.FullYear,2,0,!0,!0);break;case"yyy":e=Ct(Yt.FullYear,3,0,!1,!0);break;case"yyyy":e=Ct(Yt.FullYear,4,0,!1,!0);break;case"Y":e=mr(1);break;case"YY":e=mr(2,!0);break;case"YYY":e=mr(3);break;case"YYYY":e=mr(4);break;case"M":case"L":e=Ct(Yt.Month,1,1);break;case"MM":case"LL":e=Ct(Yt.Month,2,1);break;case"MMM":e=jt(Qt.Months,ue.Abbreviated);break;case"MMMM":e=jt(Qt.Months,ue.Wide);break;case"MMMMM":e=jt(Qt.Months,ue.Narrow);break;case"LLL":e=jt(Qt.Months,ue.Abbreviated,he.Standalone);break;case"LLLL":e=jt(Qt.Months,ue.Wide,he.Standalone);break;case"LLLLL":e=jt(Qt.Months,ue.Narrow,he.Standalone);break;case"w":e=Hn(1);break;case"ww":e=Hn(2);break;case"W":e=Hn(1,!0);break;case"d":e=Ct(Yt.Date,1);break;case"dd":e=Ct(Yt.Date,2);break;case"c":case"cc":e=Ct(Yt.Day,1);break;case"ccc":e=jt(Qt.Days,ue.Abbreviated,he.Standalone);break;case"cccc":e=jt(Qt.Days,ue.Wide,he.Standalone);break;case"ccccc":e=jt(Qt.Days,ue.Narrow,he.Standalone);break;case"cccccc":e=jt(Qt.Days,ue.Short,he.Standalone);break;case"E":case"EE":case"EEE":e=jt(Qt.Days,ue.Abbreviated);break;case"EEEE":e=jt(Qt.Days,ue.Wide);break;case"EEEEE":e=jt(Qt.Days,ue.Narrow);break;case"EEEEEE":e=jt(Qt.Days,ue.Short);break;case"a":case"aa":case"aaa":e=jt(Qt.DayPeriods,ue.Abbreviated);break;case"aaaa":e=jt(Qt.DayPeriods,ue.Wide);break;case"aaaaa":e=jt(Qt.DayPeriods,ue.Narrow);break;case"b":case"bb":case"bbb":e=jt(Qt.DayPeriods,ue.Abbreviated,he.Standalone,!0);break;case"bbbb":e=jt(Qt.DayPeriods,ue.Wide,he.Standalone,!0);break;case"bbbbb":e=jt(Qt.DayPeriods,ue.Narrow,he.Standalone,!0);break;case"B":case"BB":case"BBB":e=jt(Qt.DayPeriods,ue.Abbreviated,he.Format,!0);break;case"BBBB":e=jt(Qt.DayPeriods,ue.Wide,he.Format,!0);break;case"BBBBB":e=jt(Qt.DayPeriods,ue.Narrow,he.Format,!0);break;case"h":e=Ct(Yt.Hours,1,-12);break;case"hh":e=Ct(Yt.Hours,2,-12);break;case"H":e=Ct(Yt.Hours,1);break;case"HH":e=Ct(Yt.Hours,2);break;case"m":e=Ct(Yt.Minutes,1);break;case"mm":e=Ct(Yt.Minutes,2);break;case"s":e=Ct(Yt.Seconds,1);break;case"ss":e=Ct(Yt.Seconds,2);break;case"S":e=Ct(Yt.FractionalSeconds,1);break;case"SS":e=Ct(Yt.FractionalSeconds,2);break;case"SSS":e=Ct(Yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ht(sn.Short);break;case"ZZZZZ":e=Ht(sn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ht(sn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ht(sn.Long);break;default:return null}return pi[n]=e,e}(M);C+=L?L(r,t,v):"''"===M?"'":M.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),C}function Te(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function we(n,e){const t=function ot(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(Vi[t]=Vi[t]||{},Vi[t][e])return Vi[t][e];let i="";switch(e){case"shortDate":i=Ee(n,qe.Short);break;case"mediumDate":i=Ee(n,qe.Medium);break;case"longDate":i=Ee(n,qe.Long);break;case"fullDate":i=Ee(n,qe.Full);break;case"shortTime":i=He(n,qe.Short);break;case"mediumTime":i=He(n,qe.Medium);break;case"longTime":i=He(n,qe.Long);break;case"fullTime":i=He(n,qe.Full);break;case"short":const r=we(n,"shortTime"),s=we(n,"shortDate");i=xe(je(n,qe.Short),[r,s]);break;case"medium":const u=we(n,"mediumTime"),m=we(n,"mediumDate");i=xe(je(n,qe.Medium),[u,m]);break;case"long":const v=we(n,"longTime"),C=we(n,"longDate");i=xe(je(n,qe.Long),[v,C]);break;case"full":const M=we(n,"fullTime"),L=we(n,"fullDate");i=xe(je(n,qe.Full),[M,L])}return i&&(Vi[t][e]=i),i}function xe(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Ge(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=t));let u=String(n);for(;u.length<e;)u="0"+u;return i&&(u=u.slice(u.length-e)),s+u}function Ct(n,e,t=0,i=!1,r=!1){return function(s,u){let m=function mn(n,e){switch(n){case Yt.FullYear:return e.getFullYear();case Yt.Month:return e.getMonth();case Yt.Date:return e.getDate();case Yt.Hours:return e.getHours();case Yt.Minutes:return e.getMinutes();case Yt.Seconds:return e.getSeconds();case Yt.FractionalSeconds:return e.getMilliseconds();case Yt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||m>-t)&&(m+=t),n===Yt.Hours)0===m&&-12===t&&(m=12);else if(n===Yt.FractionalSeconds)return function Fe(n,e){return Ge(n,3).substring(0,e)}(m,e);const v=ct(u,Le.MinusSign);return Ge(m,e,v,i,r)}}function jt(n,e,t=he.Format,i=!1){return function(r,s){return function Jt(n,e,t,i,r,s){switch(t){case Qt.Months:return function un(n,e,t){const i=(0,l.cg1)(n),s=cn([i[l.wAp.MonthsFormat],i[l.wAp.MonthsStandalone]],e);return cn(s,t)}(e,r,i)[n.getMonth()];case Qt.Days:return function nn(n,e,t){const i=(0,l.cg1)(n),s=cn([i[l.wAp.DaysFormat],i[l.wAp.DaysStandalone]],e);return cn(s,t)}(e,r,i)[n.getDay()];case Qt.DayPeriods:const u=n.getHours(),m=n.getMinutes();if(s){const C=function tn(n){const e=(0,l.cg1)(n);return fn(e),(e[l.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Fn(i):[Fn(i[0]),Fn(i[1])])}(e),M=function Dn(n,e,t){const i=(0,l.cg1)(n);fn(i);const s=cn([i[l.wAp.ExtraData][0],i[l.wAp.ExtraData][1]],e)||[];return cn(s,t)||[]}(e,r,i),L=C.findIndex(G=>{if(Array.isArray(G)){const[ne,ae]=G,ye=u>=ne.hours&&m>=ne.minutes,We=u<ae.hours||u===ae.hours&&m<ae.minutes;if(ne.hours<ae.hours){if(ye&&We)return!0}else if(ye||We)return!0}else if(G.hours===u&&G.minutes===m)return!0;return!1});if(-1!==L)return M[L]}return function Kt(n,e,t){const i=(0,l.cg1)(n),s=cn([i[l.wAp.DayPeriodsFormat],i[l.wAp.DayPeriodsStandalone]],e);return cn(s,t)}(e,r,i)[u<12?0:1];case Qt.Eras:return function rn(n,e){return cn((0,l.cg1)(n)[l.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,n,e,t,i)}}function Ht(n){return function(e,t,i){const r=-1*i,s=ct(t,Le.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case sn.Short:return(r>=0?"+":"")+Ge(u,2,s)+Ge(Math.abs(r%60),2,s);case sn.ShortGMT:return"GMT"+(r>=0?"+":"")+Ge(u,1,s);case sn.Long:return"GMT"+(r>=0?"+":"")+Ge(u,2,s)+":"+Ge(Math.abs(r%60),2,s);case sn.Extended:return 0===i?"Z":(r>=0?"+":"")+Ge(u,2,s)+":"+Ge(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const Ei=0,vi=4;function ki(n){return Te(n.getFullYear(),n.getMonth(),n.getDate()+(vi-n.getDay()))}function Hn(n,e=!1){return function(t,i){let r;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,u=t.getDate();r=1+Math.floor((u+s)/7)}else{const s=ki(t),u=function zn(n){const e=Te(n,Ei,1).getDay();return Te(n,0,1+(e<=vi?vi:vi+7)-e)}(s.getFullYear()),m=s.getTime()-u.getTime();r=1+Math.round(m/6048e5)}return Ge(r,n,ct(i,Le.MinusSign))}}function mr(n,e=!1){return function(t,i){return Ge(ki(t).getFullYear(),n,ct(i,Le.MinusSign),e)}}const pi={};function gr(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function te(n){return n instanceof Date&&!isNaN(n.valueOf())}const go=/\s+/,xa=[];let Ko=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=xa,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(go):xa}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(go):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(go).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class Yo{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ai=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Yo(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===s?void 0:s);else if(null!==s){const m=i.get(s);i.move(m,u),Ai(m,r)}});for(let r=0,s=i.length;r<s;r++){const m=i.get(r).context;m.index=r,m.count=s,m.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Ai(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Ai(n,e){n.context.$implicit=e.item}let er=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new _c,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ka("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ka("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.s_b),l.Y36(l.Rgc))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class _c{constructor(){this.$implicit=null,this.ngIf=null}}function Ka(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class $r{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ks=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),Ya=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new $r(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(ks,9))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),Ns=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split("."),u=-1===r.indexOf("-")?void 0:l.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,u):this._renderer.removeStyle(this._ngEl.nativeElement,r,u)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),ta=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,s,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.s_b))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]})}return n})();function ko(n,e){return new l.vHH(2100,!1)}class vo{createSubscription(e,t){return(0,l.rg0)(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){(0,l.rg0)(()=>e.unsubscribe())}}class vr{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const Qa=new vr,na=new vo;let Ur=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,l.QGY)(t))return Qa;if((0,l.F4k)(t))return na;throw ko()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.sBO,16))};static#t=this.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1,standalone:!0})}return n})();const Ni=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),yr=new l.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Ia=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,s){if(null==t||""===t||t!=t)return null;try{return zt(t,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(u){throw ko()}}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.soG,16),l.Y36(Ni,24),l.Y36(yr,24))};static#t=this.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0,standalone:!0})}return n})(),Oi=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})();const ra="browser";function wr(n){return"server"===n}let Cr=(()=>{class n{static#e=this.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new xr((0,l.LFG)(Pe),window)})}return n})();class xr{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function oa(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const u=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class es extends ce{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Rc extends es{static makeCurrent(){!function pe(n){U||(U=n)}(new Rc)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function rl(){return js=js||document.querySelector("base"),js?js.getAttribute("href"):null}();return null==t?null:function xo(n){Co=Co||document.createElement("a"),Co.setAttribute("href",n);const e=Co.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){js=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Lr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Co,js=null,Fh=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const mu=new l.OlP("EventManagerPlugins");let Lh=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(mu),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();class Ul{constructor(e){this._doc=e}}const Vl="ng-app-id";let Qu=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=wr(s),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Vl}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(Vl),s;{const u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=i,this.platformIsServer&&u.setAttribute(Vl,this.appId),u}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const s=this.styleRef,u=s.get(i)?.elements;u?u.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Pe),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const bs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Pc=/%COMP%/g,ws=new l.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ii(n,e){return e.map(t=>t.replace(Pc,n))}let sl=(()=>{class n{constructor(t,i,r,s,u,m,v,C=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=u,this.platformId=m,this.ngZone=v,this.nonce=C,this.rendererByCompId=new Map,this.platformIsServer=wr(m),this.defaultRenderer=new Ra(t,u,v,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===l.ifc.ShadowDom&&(i={...i,encapsulation:l.ifc.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof Wd?r.applyToHost(t):r instanceof qi&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const u=this.doc,m=this.ngZone,v=this.eventManager,C=this.sharedStylesHost,M=this.removeStylesOnCompDestroy,L=this.platformIsServer;switch(i.encapsulation){case l.ifc.Emulated:s=new Wd(v,C,i,this.appId,M,u,m,L);break;case l.ifc.ShadowDom:return new al(v,C,t,i,u,m,this.nonce,L);default:s=new qi(v,C,i,M,u,m,L)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Lh),l.LFG(Qu),l.LFG(l.AFp),l.LFG(ws),l.LFG(Pe),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();class Ra{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(bs[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(qd(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(qd(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new l.vHH(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=bs[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=bs[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=K().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function qd(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class al extends Ra{constructor(e,t,i,r,s,u,m,v){super(e,s,u,v),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=Ii(r.id,r.styles);for(const M of C){const L=document.createElement("style");m&&L.setAttribute("nonce",m),L.textContent=M,this.shadowRoot.appendChild(L)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qi extends Ra{constructor(e,t,i,r,s,u,m,v){super(e,s,u,m),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=v?Ii(v,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Wd extends qi{constructor(e,t,i,r,s,u,m,v){const C=r+"-"+i.id;super(e,t,i,s,u,m,v,C),this.contentAttr=function Gd(n){return"_ngcontent-%COMP%".replace(Pc,n)}(C),this.hostAttr=function _u(n){return"_nghost-%COMP%".replace(Pc,n)}(C)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Zd=(()=>{class n extends Ul{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Pe))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const zs=["alt","control","meta","shift"],cl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Kd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let kc=(()=>{class n extends Ul{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),u=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>K().onAndCancel(t,s.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let u="",m=i.indexOf("code");if(m>-1&&(i.splice(m,1),u="code."),zs.forEach(C=>{const M=i.indexOf(C);M>-1&&(i.splice(M,1),u+=C+".")}),u+=s,0!=i.length||0===s.length)return null;const v={};return v.domEventName=r,v.fullKey=u,v}static matchEventFullKeyCode(t,i){let r=cl[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),zs.forEach(u=>{u!==r&&(0,Kd[u])(t)&&(s+=u+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Pe))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const Br=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:ra},{provide:l.g9A,useValue:function xn(){Rc.makeCurrent()},multi:!0},{provide:Pe,useFactory:function qf(){return(0,l.RDi)(document),document},deps:[]}]),Vh=new l.OlP(""),$i=[{provide:l.rWj,useClass:class Yu{addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new l.vHH(5103,!1);return s},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let s=r.length,u=!1;const m=function(v){u=u||v,s--,0==s&&i(u)};r.forEach(v=>{v.whenStable(m)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?K().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Es=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Nc(){return new l.qLn},deps:[]},{provide:mu,useClass:Zd,multi:!0,deps:[Pe,l.R0b,l.Lbi]},{provide:mu,useClass:kc,multi:!0,deps:[Pe]},sl,Qu,Lh,{provide:l.FYo,useExisting:sl},{provide:class Fi{},useClass:Fh,deps:[]},[]];let Fc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Vh,12))};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[...Es,...$i],imports:[Oi,l.hGG]})}return n})(),pt=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Pe))};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function rc(){return new pt((0,l.LFG)(Pe))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let Jr=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(i){let r=null;return r=i?new(i||n):l.LFG(da),r},providedIn:"root"})}return n})(),da=(()=>{class n extends Jr{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new l.vHH(5200,!1);case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new l.vHH(5201,!1);default:throw new l.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Pe))};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function Bh(n){return new da(n.get(Pe))}(l.LFG(l.zs3)),r},providedIn:"root"})}return n})();function oc(n){return n instanceof l.Rgc}function sc(n){return"function"==typeof n}function ac(n){return"string"==typeof n}let zl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,i){1&t&&l._UZ(0,"div",0),2&t&&l.Q6J("innerHTML",i.content,l.oJD)},encapsulation:2}),n})();class ts{constructor(e){this.args=e,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const e=this.viewRef.rootNodes;return 1===e.length&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){1!==this.viewRef.rootNodes[0]&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class ha{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){}destroy(){}}class ir{constructor(e){if(this.options=e,e.vcr)this.compRef=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector});else{const t=e.resolver.resolveComponentFactory(e.component);this.compRef=t.create(e.injector),e.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(e,t){return this.compRef.instance[e]=t,this}setInputs(e){return Object.keys(e).forEach(t=>{this.compRef.instance[t]=e[t]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let fa=(()=>{class n{constructor(t,i,r){this.resolver=t,this.injector=i,this.appRef=r}createComponent(t,i={}){return new ir({component:t,vcr:i.vcr,injector:i.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(t,i={}){return new ts({vcr:i.vcr,appRef:this.appRef,tpl:t,context:i.context})}createView(t,i={}){if(oc(t))return this.createTemplate(t,i);if(sc(t))return this.createComponent(t,i);if(ac(t))return new ha(t);throw"Type of content is not supported"}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eh=(()=>{class n{constructor(t,i,r){this.defaultTpl=t,this.vcr=i,this.viewService=r}ngOnInit(){this.resolveContentType()}ngOnChanges(t){t.view&&!t.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){this.viewRef?.destroy(),ac(this.view)?(this.viewRef=this.viewService.createComponent(zl,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:this.injector??this.vcr.injector,context:this.context})}ngOnDestroy(){this.viewRef?.destroy()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36(fa))},n.\u0275dir=l.lG2({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[l.TTD]}),n})(),xs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var jn=Q(8645),rr=Q(5592),So=Q(4829);const{isArray:Hl}=Array;var ci=Q(8251);function Lc(n){return new rr.y(e=>{(0,So.Xf)(n()).subscribe(e)})}var kr=Q(9360);function or(n,e){return(0,kr.e)((t,i)=>{let r=0;t.subscribe((0,ci.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var Qi=Q(9397);const Kf=["*"],Is=function(n,e){return{"border-color":n,"border-right-color":e}};function nd(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1,"\n        "),l._UZ(2,"hot-toast-error",2),l._uU(3,"\n      "),l.qZA()),2&n){const t=l.oxw(3);l.xp6(2),l.Q6J("theme",t.theme)}}function um(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1,"\n        "),l._UZ(2,"hot-toast-checkmark",2),l._uU(3,"\n      "),l.qZA()),2&n){const t=l.oxw(3);l.xp6(2),l.Q6J("theme",t.theme)}}function id(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1,"\n        "),l._UZ(2,"hot-toast-warning",2),l._uU(3,"\n      "),l.qZA()),2&n){const t=l.oxw(3);l.xp6(2),l.Q6J("theme",t.theme)}}function rd(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1,"\n        "),l._UZ(2,"hot-toast-info",2),l._uU(3,"\n      "),l.qZA()),2&n){const t=l.oxw(3);l.xp6(2),l.Q6J("theme",t.theme)}}function Yf(n,e){if(1&n&&(l.TgZ(0,"div",4),l._uU(1,"\n    "),l.TgZ(2,"div",5),l._uU(3,"\n      "),l.YNc(4,nd,4,1,"div",6),l._uU(5,"\n      "),l.YNc(6,um,4,1,"div",6),l._uU(7,"\n      "),l.YNc(8,id,4,1,"div",6),l._uU(9,"\n      "),l.YNc(10,rd,4,1,"div",6),l._uU(11,"\n    "),l.qZA(),l._uU(12,"\n  "),l.qZA()),2&n){const t=l.oxw(2);l.xp6(2),l.Q6J("ngSwitch",t.type),l.xp6(2),l.Q6J("ngSwitchCase","error"),l.xp6(2),l.Q6J("ngSwitchCase","success"),l.xp6(2),l.Q6J("ngSwitchCase","warning"),l.xp6(2),l.Q6J("ngSwitchCase","info")}}function od(n,e){if(1&n&&(l.TgZ(0,"div",1),l._uU(1,"\n  "),l._UZ(2,"hot-toast-loader",2),l._uU(3,"\n  "),l.YNc(4,Yf,13,5,"div",3),l._uU(5,"\n"),l.qZA()),2&n){const t=l.oxw();l.xp6(2),l.Q6J("theme",t.theme),l.xp6(2),l.Q6J("ngIf","loading"!==t.type)}}const $l=["hotToastBarBase"];function jh(n,e){if(1&n&&(l.ynx(0),l._uU(1,"\n          "),l.TgZ(2,"hot-toast-animated-icon",10),l._uU(3),l.qZA(),l._uU(4,"\n        "),l.BQk()),2&n){const t=l.oxw(2);l.xp6(2),l.Q6J("iconTheme",t.toast.iconTheme),l.xp6(1),l.Oqu(t.toast.icon)}}function th(n,e){if(1&n&&(l._uU(0,"\n          "),l.TgZ(1,"div"),l._uU(2,"\n            "),l.GkF(3,11),l._uU(4,"\n          "),l.qZA(),l._uU(5,"\n        ")),2&n){const t=l.oxw(2);l.xp6(3),l.Q6J("dynamicView",t.toast.icon)}}function Uc(n,e){if(1&n&&(l.ynx(0),l._uU(1,"\n        "),l.YNc(2,jh,5,2,"ng-container",4),l._uU(3,"\n        "),l.YNc(4,th,6,1,"ng-template",null,9,l.W1O),l._uU(6,"\n      "),l.BQk()),2&n){const t=l.MAs(5),i=l.oxw();l.xp6(2),l.Q6J("ngIf",i.isIconString)("ngIfElse",t)}}function Vc(n,e){if(1&n&&(l._uU(0,"\n        "),l._UZ(1,"hot-toast-indicator",12),l._uU(2,"\n      ")),2&n){const t=l.oxw();l.xp6(1),l.Q6J("theme",t.toast.iconTheme)("type",t.toast.type)}}function sd(n,e){1&n&&l.GkF(0)}function dl(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",13),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.close())}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("ngStyle",t.toast.closeStyle)}}function Eu(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"hot-toast",3),l.NdJ("height",function(r){const u=l.CHM(t).$implicit,m=l.oxw();return l.KtG(m.updateHeight(r,u))})("beforeClosed",function(){const s=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.beforeClosed(s))})("afterClosed",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.afterClosed(r))}),l.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=l.oxw();l.Q6J("toast",t)("offset",r.calculateOffset(t.id,t.position))("toastRef",r.toastRefs[i])}}const us={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class $h{constructor(e){this.toast=e,this._onClosed=new jn.x}get data(){return this.toast.data}set dispose(e){this._dispose=e}getToast(){return this.toast}appendTo(e){const{dispose:t,updateMessage:i,updateToast:r,afterClosed:s}=e.addToast(this);return this.dispose=t,this.updateMessage=i,this.updateToast=r,this.afterClosed=function ka(...n){return 1===(n=function cc(n){return 1===n.length&&Hl(n[0])?n[0]:n}(n)).length?(0,So.Xf)(n[0]):new rr.y(function jr(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,So.Xf)(n[i]).subscribe((0,ci.x)(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}(n))}(this._onClosed.asObservable(),s),this}close(e={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:e.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}}let ad=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:Kf,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0),l._uU(1,"\n  "),l.Hsn(2),l._uU(3,"\n"),l.qZA(),l._uU(4,"\n")),2&t&&l.Udp("color",null==i.iconTheme?null:i.iconTheme.primary)},encapsulation:2,changeDetection:0}),n})(),Hs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(t,i){1&t&&(l._UZ(0,"div",0),l._uU(1,"\n")),2&t&&l.Udp("--check-primary",null==i.theme?null:i.theme.primary)("--check-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),Gl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(t,i){1&t&&(l._UZ(0,"div",0),l._uU(1,"\n")),2&t&&l.Udp("--error-primary",null==i.theme?null:i.theme.primary)("--error-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),Cu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(t,i){1&t&&(l._UZ(0,"div",0),l._uU(1,"\n")),2&t&&l.Q6J("ngStyle",l.WLB(1,Is,null==i.theme?null:i.theme.primary,null==i.theme?null:i.theme.secondary))},dependencies:[Ns],encapsulation:2,changeDetection:0}),n})(),ql=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(t,i){1&t&&(l._UZ(0,"div",0),l._uU(1,"\n")),2&t&&l.Udp("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),Wl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(t,i){1&t&&(l._UZ(0,"div",0),l._uU(1,"\n")),2&t&&l.Udp("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),cd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,i){1&t&&(l.YNc(0,od,6,2,"div",0),l._uU(1,"\n")),2&t&&l.Q6J("ngIf","blank"!==i.type)},dependencies:[er,ks,Ya,Hs,Gl,Cu,ql,Wl],encapsulation:2,changeDetection:0}),n})(),Zl=(()=>{class n{constructor(t,i,r){this.injector=t,this.renderer=i,this.ngZone=r,this.offset=0,this.height=new l.vpe,this.beforeClosed=new l.vpe,this.afterClosed=new l.vpe,this.isManualClose=!1,this.unlisteners=[]}get toastBarBaseHeight(){return this.toastBarBase.nativeElement.offsetHeight}get containerPositionStyle(){const t=this.toast.position.includes("top"),i=t?{top:0}:{bottom:0},r=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return{transform:`translateY(${this.offset*(t?1:-1)}px)`,...i,...r}}get toastBarBaseStyles(){const t=this.toast.position.includes("top"),i=`hotToastEnterAnimation${t?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`;return{...this.toast.style,animation:this.toast.autoClose?`${i}, hotToastExitAnimation${t?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:i}}get isIconString(){return"string"==typeof this.toast.icon}ngOnChanges(t){t.toast&&!t.toast.firstChange&&t.toast.currentValue?.message&&requestAnimationFrame(()=>{this.height.emit(this.toastBarBase.nativeElement.offsetHeight)})}ngOnInit(){oc(this.toast.message)&&(this.context={$implicit:this.toastRef}),sc(this.toast.message)&&(this.toastComponentInjector=l.zs3.create({providers:[{provide:$h,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const t=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(t.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(t,"animationstart",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(t,"animationend",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}close(){this.isManualClose=!0;((n,e)=>{this.toastBarBase.nativeElement.style.animation=e})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(t){return t.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const t=this.toast.attributes;for(const[i,r]of Object.entries(t))this.renderer.setAttribute(this.toastBarBase.nativeElement,i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.zs3),l.Y36(l.Qsj),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast"]],viewQuery:function(t,i){if(1&t&&l.Gf($l,5),2&t){let r;l.iGM(r=l.CRH())&&(i.toastBarBase=r.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},features:[l.TTD],decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(t,i){if(1&t&&(l.TgZ(0,"div",0),l._uU(1,"\n  "),l.TgZ(2,"div",1,2),l._uU(4,"\n    "),l.TgZ(5,"div",3),l._uU(6,"\n      "),l.YNc(7,Uc,7,2,"ng-container",4),l._uU(8,"\n\n      "),l.YNc(9,Vc,3,2,"ng-template",null,5,l.W1O),l._uU(11,"\n    "),l.qZA(),l._uU(12,"\n\n    "),l.TgZ(13,"div",6),l._uU(14,"\n      "),l.TgZ(15,"div"),l._uU(16,"\n        "),l.YNc(17,sd,1,0,"ng-container",7),l._uU(18,"\n      "),l.qZA(),l._uU(19,"\n    "),l.qZA(),l._uU(20,"\n\n    "),l.YNc(21,dl,1,1,"button",8),l._uU(22,"\n  "),l.qZA(),l._uU(23,"\n"),l.qZA(),l._uU(24,"\n")),2&t){const r=l.MAs(10);l.Q6J("ngStyle",i.containerPositionStyle)("ngClass","hot-toast-theme-"+i.toast.theme),l.xp6(2),l.Udp("--hot-toast-animation-state",i.isManualClose?"running":"paused"),l.Q6J("ngStyle",i.toastBarBaseStyles)("ngClass",i.toast.className),l.uIk("aria-live",i.toast.ariaLive)("role",i.toast.role),l.xp6(5),l.Q6J("ngIf",void 0!==i.toast.icon)("ngIfElse",r),l.xp6(10),l.Q6J("dynamicView",i.toast.message)("dynamicViewContext",i.context)("dynamicViewInjector",i.toastComponentInjector),l.xp6(4),l.Q6J("ngIf",i.toast.dismissible)}},dependencies:[Ko,er,Ns,eh,ad,cd],encapsulation:2,changeDetection:0}),n})(),Kl=(()=>{class n{constructor(t){this.cdr=t,this.toasts=[],this.toastRefs=[],this._onClosed=new jn.x,this.onClosed$=this._onClosed.asObservable()}trackById(t,i){return i.id}calculateOffset(t,i){const r=this.toasts.filter(m=>m.visible&&m.position===i),s=r.findIndex(m=>m.id===t);return-1!==s?r.slice(...this.defaultConfig.reverseOrder?[s+1]:[0,s]).reduce((m,v)=>m+(v.height||0)+8,0):0}updateHeight(t,i){i.height=t,this.cdr.detectChanges()}addToast(t){this.toastRefs.push(t);const i=t.getToast();return this.toasts.push(t.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(i.id)},updateMessage:r=>{i.message=r,this.updateToasts(i),this.cdr.detectChanges()},updateToast:r=>{this.updateToasts(i,r),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(i)}}closeToast(t){if(t){const i=this.hotToastComponentList.find(r=>r.toast.id===t);i&&i.close()}else this.hotToastComponentList.forEach(i=>i.close())}beforeClosed(t){t.visible=!1}afterClosed(t){this.toasts.findIndex(r=>r.id===t.id)>-1&&(this._onClosed.next(t),this.toasts=this.toasts.filter(r=>r.id!==t.id),this.toastRefs=this.toastRefs.filter(r=>r.getToast().id!==t.id),this.cdr.detectChanges())}hasToast(t){return this.toasts.findIndex(i=>i.id===t)>-1}getAfterClosed(t){return this.onClosed$.pipe(or(i=>i.id===t.id))}updateToasts(t,i){this.toasts=this.toasts.map(r=>({...r,...r.id===t.id&&{...t,...i}}))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["hot-toast-container"]],viewQuery:function(t,i){if(1&t&&l.Gf(Zl,5),2&t){let r;l.iGM(r=l.CRH())&&(i.hotToastComponentList=r)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l._uU(1,"\n  "),l.TgZ(2,"div",1),l._uU(3,"\n    "),l.YNc(4,Eu,1,3,"hot-toast",2),l._uU(5,"\n  "),l.qZA(),l._uU(6,"\n"),l.qZA(),l._uU(7,"\n")),2&t&&(l.xp6(4),l.Q6J("ngForOf",i.toasts)("ngForTrackBy",i.trackById))},dependencies:[ai,Zl],encapsulation:2,changeDetection:0}),n})();class $s{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.info={content:""},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class ld{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let Na=(()=>{class n{constructor(t,i,r){this._viewService=t,this.platformId=i,this._isInitialized=!1,this._defaultConfig=new $s,this._defaultPersistConfig=new ld,r&&(this._defaultConfig={...this._defaultConfig,...r})}get defaultConfig(){return this._defaultConfig}set defaultConfig(t){this._defaultConfig={...this._defaultConfig,...t},this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(t,i){return this.createToast(t||this._defaultConfig.blank.content,"blank",{...this._defaultConfig,...i})}error(t,i){return this.createToast(t||this._defaultConfig.error.content,"error",{...this._defaultConfig,...this._defaultConfig?.error,...i})}success(t,i){return this.createToast(t||this._defaultConfig.success.content,"success",{...this._defaultConfig,...this._defaultConfig?.success,...i})}loading(t,i){return this.createToast(t||this._defaultConfig.loading.content,"loading",{...this._defaultConfig,...this._defaultConfig?.loading,...i})}warning(t,i){return this.createToast(t||this._defaultConfig.warning.content,"warning",{...this._defaultConfig,...this._defaultConfig?.warning,...i})}info(t,i){return this.createToast(t||this._defaultConfig.info.content,"info",{...this._defaultConfig,...this._defaultConfig?.info,...i})}observe(t){return i=>{let r,s=0;const u=t.loading??this._defaultConfig.loading?.content,m=t.success??this._defaultConfig.success?.content,v=t.error??this._defaultConfig.error?.content;return Lc(()=>(u&&(r=this.createLoadingToast(u),s=Date.now()),i.pipe((0,Qi.b)({...m&&{next:C=>{r=this.createOrUpdateToast(t,C,r,"success",0===s?s:Date.now()-s)}},...v&&{error:C=>{r=this.createOrUpdateToast(t,C,r,"error",0===s?s:Date.now()-s)}}}))))}}close(t){this._componentRef&&this._componentRef.ref.instance.closeToast(t)}init(){wr(this.platformId)||(this._componentRef=this._viewService.createComponent(Kl).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(t,i,r,s,u){let m=null,v={};if(({content:m,options:v}=this.getContentAndOptions(s,t[s]||(this._defaultConfig[s]?this._defaultConfig[s].content:""))),m=((n,e)=>(n=>"function"==typeof n)(n)?n(e):n)(m,i),r){r.updateMessage(m);const C={type:s,duration:u+us[s],...v,...v.duration&&{duration:u+v.duration}};r.updateToast(C)}else this.createToast(m,s,v);return r}createToast(t,i,r,s){this._isInitialized||(this._isInitialized=!0,this.init());const u=Date.now(),m=r?.id??u.toString();if(!this.isDuplicate(m)&&(!r.persist?.enabled||r.persist?.enabled&&this.handleStorageValue(m,r))){const v={ariaLive:r?.ariaLive??"polite",createdAt:u,duration:r?.duration??us[i],id:m,message:t,role:r?.role??"status",type:i,visible:!0,observableMessages:s??void 0,...r};return new $h(v).appendTo(this._componentRef.ref.instance)}}isDuplicate(t){return this._componentRef.ref.instance.hasToast(t)}handleStorageValue(t,i){let r=1;const s={...this._defaultPersistConfig,...i.persist},u="local"===s.storage?localStorage:sessionStorage,m=s.key.replace(/\${id}/g,t);let v=u.getItem(m);return v?(v=parseInt(v,10),r=v>0?v-1:v):r=s.count,u.setItem(m,r.toString()),r}getContentAndOptions(t,i){let r,s={...this._defaultConfig,...this._defaultConfig[t]};if("string"==typeof i||oc(i)||sc(i))r=i;else{let u;({content:r,...u}=i),s={...s,...u}}return{content:r,options:s}}createLoadingToast(t){let i=null,r={};return({content:i,options:r}=this.getContentAndOptions("loading",t)),this.loading(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fa),l.LFG(l.Lbi),l.LFG($s,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ih=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:$s,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Oi,xs]}),n})();class rh{}class hl{}const ns="*";function fl(n,e){return{type:7,name:n,definitions:e,options:{}}}function sr(n,e=null){return{type:4,styles:e,timings:n}}function ud(n,e=null){return{type:2,steps:n,options:e}}function dr(n){return{type:6,styles:n,offset:null}}function Gh(n,e,t){return{type:0,name:n,styles:e,options:t}}function Xf(n){return{type:5,steps:n}}function Gs(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class H{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class oe{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==s&&this._onFinish()}),u.onDestroy(()=>{++i==s&&this._onDestroy()}),u.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,m)=>Math.max(u,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function rt(n){return new l.vHH(3e3,!1)}function Nt(n){switch(n.length){case 0:return new H;case 1:return n[0];default:return new oe(n)}}function pn(n,e,t=new Map,i=new Map){const r=[],s=[];let u=-1,m=null;if(e.forEach(v=>{const C=v.get("offset"),M=C==u,L=M&&m||new Map;v.forEach((G,ne)=>{let ae=ne,ye=G;if("offset"!==ne)switch(ae=n.normalizePropertyName(ae,r),ye){case"!":ye=t.get(ne);break;case ns:ye=i.get(ne);break;default:ye=n.normalizeStyleValue(ne,ae,ye,r)}L.set(ae,ye)}),M||s.push(L),m=L,u=C}),r.length)throw function n_(n){return new l.vHH(3502,!1)}();return s}function qn(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&eo(t,"start",n)));break;case"done":n.onDone(()=>i(t&&eo(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&eo(t,"destroy",n)))}}function eo(n,e,t){const s=pa(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(s._data=u),s}function pa(n,e,t,i,r="",s=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!u}}function to(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function ep(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Zh=(()=>typeof document>"u"?null:document.documentElement)();function jc(n){const e=n.parentNode||n.host||null;return e===Zh?null:e}let _l=null,Kh=!1;function Ql(n,e){for(;e;){if(e===n)return!0;e=jc(e)}return!1}function sh(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let ah=(()=>{class n{validateStyleProperty(t){return function oh(n){_l||(_l=function hm(){return typeof document<"u"?document.body:null}()||{},Kh=!!_l.style&&"WebkitAppearance"in _l.style);let e=!0;return _l.style&&!function Iu(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in _l.style,!e&&Kh&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in _l.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return Ql(t,i)}getParentElement(t){return jc(t)}query(t,i,r){return sh(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,u,m=[],v){return new H(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})(),pd=(()=>{class n{static#e=this.NOOP=new ah}return n})();const o_=1e3,fm="ng-enter",s_="ng-leave",pm="ng-trigger",md=".ng-trigger",np="ng-animating",a_=".ng-animating";function Tu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ch(parseFloat(e[1]),e[2])}function ch(n,e){return"s"===e?n*o_:n}function mm(n,e,t){return n.hasOwnProperty("duration")?n:function gw(n,e,t){let r,s=0,u="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(rt()),{duration:0,delay:0,easing:""};r=ch(parseFloat(m[1]),m[2]);const v=m[3];null!=v&&(s=ch(parseFloat(v),m[4]));const C=m[5];C&&(u=C)}else r=n;if(!t){let m=!1,v=e.length;r<0&&(e.push(function Bt(){return new l.vHH(3100,!1)}()),m=!0),s<0&&(e.push(function Ft(){return new l.vHH(3101,!1)}()),m=!0),m&&e.splice(v,0,rt())}return{duration:r,delay:s,easing:u}}(n,e,t)}function vl(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ay(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function yl(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function lc(n,e,t){e.forEach((i,r)=>{const s=uh(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function Du(n,e){e.forEach((t,i)=>{const r=uh(i);n.style[r]=""})}function lh(n){return Array.isArray(n)?1==n.length?n[0]:ud(n):n}const Su=new RegExp("{{\\s*(.+?)\\s*}}","g");function Xh(n){let e=[];if("string"==typeof n){let t;for(;t=Su.exec(n);)e.push(t[1]);Su.lastIndex=0}return e}function gd(n,e,t){const i=n.toString(),r=i.replace(Su,(s,u)=>{let m=e[u];return null==m&&(t.push(function Ln(n){return new l.vHH(3003,!1)}()),m=""),m.toString()});return r==i?n:r}function Xl(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Jh=/-+([a-z0-9])/g;function uh(n){return n.replace(Jh,(...e)=>e[1].toUpperCase())}function Ws(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Sn(n){return new l.vHH(3004,!1)}()}}function _m(n,e){return window.getComputedStyle(n)[e]}const y="*";function x(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function D(n,e,t){if(":"==n[0]){const v=function k(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Sy(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof v)return void e.push(v);n=v}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function dm(n){return new l.vHH(3015,!1)}()),e;const r=i[1],s=i[2],u=i[3];e.push(re(r,u));"<"==s[0]&&!(r==y&&u==y)&&e.push(re(u,r))}(i,t,e)):t.push(n),t}const V=new Set(["true","1"]),Z=new Set(["false","0"]);function re(n,e){const t=V.has(n)||Z.has(n),i=V.has(e)||Z.has(e);return(r,s)=>{let u=n==y||n==r,m=e==y||e==s;return!u&&t&&"boolean"==typeof r&&(u=r?V.has(n):Z.has(n)),!m&&i&&"boolean"==typeof s&&(m=s?V.has(e):Z.has(e)),u&&m}}const _e=new RegExp("s*:selfs*,?","g");function Re(n,e,t,i){return new ht(n).build(e,t,i)}class ht{constructor(e){this._driver=e}build(e,t,i){const r=new Rn(t);return this._resetContextStyleTimingState(r),Ws(this,lh(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function Ao(){return new l.vHH(3006,!1)}()),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const v=m,C=v.name;C.toString().split(/\s*,\s*/).forEach(M=>{v.name=M,s.push(this.visitState(v,t))}),v.name=C}else if(1==m.type){const v=this.visitTransition(m,t);i+=v.queryCount,r+=v.depCount,u.push(v)}else t.errors.push(function Ki(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,u=r||{};i.styles.forEach(m=>{m instanceof Map&&m.forEach(v=>{Xh(v).forEach(C=>{u.hasOwnProperty(C)||s.add(C)})})}),s.size&&(Xl(s.values()),t.errors.push(function xu(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ws(this,lh(e.animation),t);return{type:1,matchers:x(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:bi(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ws(this,i,t)),options:bi(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(u=>{t.currentTime=i;const m=Ws(this,u,t);return r=Math.max(r,t.currentTime),m});return t.currentTime=r,{type:3,steps:s,options:bi(e.options)}}visitAnimate(e,t){const i=function gi(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return hr(mm(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=hr(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=mm(t,e);return hr(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:dr({});if(5==s.type)r=this.visitKeyframes(s,t);else{let u=e.styles,m=!1;if(!u){m=!0;const C={};i.easing&&(C.easing=i.easing),u=dr(C)}t.currentTime+=i.duration+i.delay;const v=this.visitStyle(u,t);v.isEmptyStep=m,r=v}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let m of r)"string"==typeof m?m===ns?i.push(m):t.errors.push(new l.vHH(3002,!1)):i.push(Ay(m));let s=!1,u=null;return i.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(u=m.get("easing"),m.delete("easing")),!s))for(let v of m.values())if(v.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((m,v)=>{const C=t.collectedStyles.get(t.currentQuerySelector),M=C.get(v);let L=!0;M&&(s!=r&&s>=M.startTime&&r<=M.endTime&&(t.errors.push(function Nr(n,e,t,i,r){return new l.vHH(3010,!1)}()),L=!1),s=M.startTime),L&&C.set(v,{startTime:s,endTime:r}),t.options&&function c_(n,e,t){const i=e.params||{},r=Xh(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function hn(n){return new l.vHH(3001,!1)}())})}(m,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function gl(){return new l.vHH(3011,!1)}()),i;let s=0;const u=[];let m=!1,v=!1,C=0;const M=e.steps.map(wt=>{const Ot=this._makeStyleAst(wt,t);let Mt=null!=Ot.offset?Ot.offset:function Qn(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ot.styles),Lt=0;return null!=Mt&&(s++,Lt=Ot.offset=Mt),v=v||Lt<0||Lt>1,m=m||Lt<C,C=Lt,u.push(Lt),Ot});v&&t.errors.push(function e_(){return new l.vHH(3012,!1)}()),m&&t.errors.push(function dd(){return new l.vHH(3200,!1)}());const L=e.steps.length;let G=0;s>0&&s<L?t.errors.push(function hd(){return new l.vHH(3202,!1)}()):0==s&&(G=1/(L-1));const ne=L-1,ae=t.currentTime,ye=t.currentAnimateTimings,We=ye.duration;return M.forEach((wt,Ot)=>{const Mt=G>0?Ot==ne?1:G*Ot:u[Ot],Lt=Mt*We;t.currentTime=ae+ye.delay+Lt,ye.duration=Lt,this._validateStyleAst(wt,t),wt.offset=Mt,i.styles.push(wt)}),i}visitReference(e,t){return{type:8,animation:Ws(this,lh(e.animation),t),options:bi(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:bi(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:bi(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,u]=function an(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(_e,"")),n=n.replace(/@\*/g,md).replace(/@\w+/g,t=>md+"-"+t.slice(1)).replace(/:animating/g,a_),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,to(t.collectedStyles,t.currentQuerySelector,new Map);const m=Ws(this,lh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:m,originalSelector:e.selector,options:bi(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function qh(){return new l.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:mm(e.timings,t.errors,!0);return{type:12,animation:Ws(this,lh(e.animation),t),timings:i,options:null}}}class Rn{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function bi(n){return n?(n=vl(n)).params&&(n.params=function Xt(n){return n?vl(n):null}(n.params)):n={},n}function hr(n,e,t){return{duration:n,delay:e,easing:t}}function Zs(n,e,t,i,r,s,u=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:u,subTimeline:m}}class zc{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const tf=new RegExp(":enter","g"),_d=new RegExp(":leave","g");function vd(n,e,t,i,r,s=new Map,u=new Map,m,v,C=[]){return(new My).buildKeyframes(n,e,t,i,r,s,u,m,v,C)}class My{buildKeyframes(e,t,i,r,s,u,m,v,C,M=[]){C=C||new zc;const L=new uc(e,t,C,r,s,M,[]);L.options=v;const G=v.delay?Tu(v.delay):0;L.currentTimeline.delayNextStep(G),L.currentTimeline.setStyles([u],null,L.errors,v),Ws(this,i,L);const ne=L.timelines.filter(ae=>ae.containsAnimation());if(ne.length&&m.size){let ae;for(let ye=ne.length-1;ye>=0;ye--){const We=ne[ye];if(We.element===t){ae=We;break}}ae&&!ae.allowOnlyTimelineStyles()&&ae.setStyles([m],null,L.errors,v)}return ne.length?ne.map(ae=>ae.buildKeyframes()):[Zs(t,[],[],[],0,G,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);s!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const u="number"==typeof s?s:Tu(gd(s,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const u=null!=i.duration?Tu(i.duration):null,m=null!=i.delay?Tu(i.delay):null;return 0!==u&&e.forEach(v=>{const C=t.appendInstructionToTimeline(v,u,m);s=Math.max(s,C.duration+C.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Ws(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ks);const u=Tu(s.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Ws(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Tu(e.options.delay):0;e.steps.forEach(u=>{const m=t.createSubContext(e.options);s&&m.delayNextStep(s),Ws(this,u,m),r=Math.max(r,m.currentTimeline.currentTime),i.push(m.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return mm(t.params?gd(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,m=t.createSubContext().currentTimeline;m.easing=i.easing,e.styles.forEach(v=>{m.forwardTime((v.offset||0)*s),m.setStyles(v.styles,v.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Tu(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ks);let u=i;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=m.length;let v=null;m.forEach((C,M)=>{t.currentQueryIndex=M;const L=t.createSubContext(e.options,C);s&&L.delayNextStep(s),C===t.element&&(v=L.currentTimeline),Ws(this,e.animation,L),L.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,L.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,u=Math.abs(s.duration),m=u*(t.currentQueryTotal-1);let v=u*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":v=m-v;break;case"full":v=i.currentStaggerTime}const M=t.currentTimeline;v&&M.delayNextStep(v);const L=M.currentTime;Ws(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-L+(r.startTime-i.currentTimeline.startTime)}}const Ks={};class uc{constructor(e,t,i,r,s,u,m,v){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=u,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ks,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new Oy(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Tu(i.duration)),null!=i.delay&&(r.delay=Tu(i.delay));const s=i.params;if(s){let u=r.params;u||(u=this.options.params={}),Object.keys(s).forEach(m=>{(!t||!u.hasOwnProperty(m))&&(u[m]=gd(s[m],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new uc(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Ks,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new vO(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,u){let m=[];if(r&&m.push(this.element),e.length>0){e=(e=e.replace(tf,"."+this._enterClassName)).replace(_d,"."+this._leaveClassName);let C=this._driver.query(this.element,e,1!=i);0!==i&&(C=i<0?C.slice(C.length+i,C.length):C.slice(0,i)),m.push(...C)}return!s&&0==m.length&&u.push(function t_(n){return new l.vHH(3014,!1)}()),m}}class Oy{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Oy(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ns),this._currentKeyframe.set(t,ns);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},u=function yO(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,ns)}else yl(r,t)}),t}(e,this._globalTimelineStyles);for(let[m,v]of u){const C=gd(v,s,i);this._pendingStyles.set(m,C),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??ns),this._updateStyle(m,C)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((m,v)=>{const C=yl(m,new Map,this._backFill);C.forEach((M,L)=>{"!"===M?e.add(L):M===ns&&t.add(L)}),i||C.set("offset",v/this.duration),r.push(C)});const s=e.size?Xl(e.values()):[],u=t.size?Xl(t.values()):[];if(i){const m=r[0],v=new Map(m);m.set("offset",0),v.set("offset",1),r=[m,v]}return Zs(this.element,r,s,u,this.duration,this.startTime,this.easing,!1)}}class vO extends Oy{constructor(e,t,i,r,s,u,m=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=m,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],u=i+t,m=t/u,v=yl(e[0]);v.set("offset",0),s.push(v);const C=yl(e[0]);C.set("offset",hT(m)),s.push(C);const M=e.length-1;for(let L=1;L<=M;L++){let G=yl(e[L]);const ne=G.get("offset");G.set("offset",hT((t+ne*i)/u)),s.push(G)}i=u,t=0,r="",e=s}return Zs(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function hT(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class bw{}const Ry=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ww extends bw{normalizePropertyName(e,t){return uh(e)}normalizeStyleValue(e,t,i,r){let s="";const u=i.toString().trim();if(Ry.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const m=i.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&r.push(function ds(n,e){return new l.vHH(3005,!1)}())}return u+s}}function Py(n,e,t,i,r,s,u,m,v,C,M,L,G){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:u,timelines:m,queriedElements:v,preStyleProps:C,postStyleProps:M,totalTime:L,errors:G}}const Ew={};class fT{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function mT(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,u,m,v,C,M){const L=[],G=this.ast.options&&this.ast.options.params||Ew,ae=this.buildStyles(i,m&&m.params||Ew,L),ye=v&&v.params||Ew,We=this.buildStyles(r,ye,L),wt=new Set,Ot=new Map,Mt=new Map,Lt="void"===r,Mn={params:rp(ye,G),delay:this.ast.options?.delay},Pn=M?[]:vd(e,t,this.ast.animation,s,u,ae,We,Mn,C,L);let Ui=0;if(Pn.forEach(Xc=>{Ui=Math.max(Xc.duration+Xc.delay,Ui)}),L.length)return Py(t,this._triggerName,i,r,Lt,ae,We,[],[],Ot,Mt,Ui,L);Pn.forEach(Xc=>{const cm=Xc.element,X6=to(Ot,cm,new Set);Xc.preStyleProps.forEach(Ty=>X6.add(Ty));const uT=to(Mt,cm,new Set);Xc.postStyleProps.forEach(Ty=>uT.add(Ty)),cm!==t&&wt.add(cm)});const Wo=Xl(wt.values());return Py(t,this._triggerName,i,r,Lt,ae,We,Pn,Wo,Ot,Mt,Ui)}}function rp(n,e){const t=vl(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class gT{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=vl(this.defaultParams);return Object.keys(e).forEach(s=>{const u=e[s];null!==u&&(r[s]=u)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((u,m)=>{u&&(u=gd(u,r,t));const v=this.normalizer.normalizePropertyName(m,t);u=this.normalizer.normalizeStyleValue(m,v,u,t),i.set(m,u)})}),i}}class wO{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new gT(r.style,r.options&&r.options.params||{},i))}),l_(this.states,"true","1"),l_(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new fT(e,r,this.states))}),this.fallbackTransition=function m2(n,e,t){return new fT(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function l_(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const EO=new zc;class vT{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=Re(this._driver,t,i,[]);if(i.length)throw function fd(n){return new l.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=pn(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let u;const m=new Map;if(s?(u=vd(this._driver,t,s,fm,s_,new Map,new Map,i,EO,r),u.forEach(M=>{const L=to(m,M.element,new Map);M.postStyleProps.forEach(G=>L.set(G,null))})):(r.push(function i_(){return new l.vHH(3300,!1)}()),u=[]),r.length)throw function Wh(n){return new l.vHH(3504,!1)}();m.forEach((M,L)=>{M.forEach((G,ne)=>{M.set(ne,this._driver.computeStyle(L,ne,ns))})});const C=Nt(u.map(M=>{const L=m.get(M.element);return this._buildPlayer(M,new Map,L)}));return this._playersById.set(e,C),C.onDestroy(()=>this.destroy(e)),this.players.push(C),C}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function A(n){return new l.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=pa(t,"","","");return qn(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Cw="ng-animate-queued",u_="ng-animate-disabled",wT=[],Ny={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Fy={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jl="__ng_removed";class h_{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function CT(n){return n??null}(i?e.value:e),i){const s=vl(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const hh="void",xw=new h_(hh);class ET{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,eu(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function w(n,e){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function I(n){return new l.vHH(3303,!1)}();if(!function Ly(n){return"start"==n||"done"==n}(i))throw function R(n,e){return new l.vHH(3400,!1)}();const s=to(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};s.push(u);const m=to(this._engine.statesByElement,e,new Map);return m.has(t)||(eu(e,pm),eu(e,pm+"-"+t),m.set(t,xw)),()=>{this._engine.afterFlush(()=>{const v=s.indexOf(u);v>=0&&s.splice(v,1),this._triggers.has(t)||m.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function $(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),u=new Iw(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(eu(e,pm),eu(e,pm+"-"+t),this._engine.statesByElement.set(e,m=new Map));let v=m.get(t);const C=new h_(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&v&&C.absorbOptions(v.options),m.set(t,C),v||(v=xw),C.value!==hh&&v.value===C.value){if(!function vm(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(v.params,C.params)){const ye=[],We=s.matchStyles(v.value,v.params,ye),wt=s.matchStyles(C.value,C.params,ye);ye.length?this._engine.reportError(ye):this._engine.afterFlush(()=>{Du(e,We),lc(e,wt)})}return}const G=to(this._engine.playersByElement,e,[]);G.forEach(ye=>{ye.namespaceId==this.id&&ye.triggerName==t&&ye.queued&&ye.destroy()});let ne=s.matchTransition(v.value,C.value,e,C.params),ae=!1;if(!ne){if(!r)return;ne=s.fallbackTransition,ae=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:ne,fromState:v,toState:C,player:u,isFallbackTransition:ae}),ae||(eu(e,Cw),u.onStart(()=>{p_(e,Cw)})),u.onDone(()=>{let ye=this.players.indexOf(u);ye>=0&&this.players.splice(ye,1);const We=this._engine.playersByElement.get(e);if(We){let wt=We.indexOf(u);wt>=0&&We.splice(wt,1)}}),this.players.push(u),G.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,md,!0);i.forEach(r=>{if(r[Jl])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),u=new Map;if(s){const m=[];if(s.forEach((v,C)=>{if(u.set(C,v.value),this._triggers.has(C)){const M=this.trigger(e,C,hh,r);M&&m.push(M)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Nt(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const u=s.name;if(r.has(u))return;r.add(u);const v=this._triggers.get(u).fallbackTransition,C=i.get(u)||xw,M=new h_(hh),L=new Iw(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:v,fromState:C,toState:M,player:L,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Jl];(!s||s===Ny)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){eu(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,u=this._elementListeners.get(s);u&&u.forEach(m=>{if(m.name==i.triggerName){const v=pa(s,i.triggerName,i.fromState.value,i.toState.value);v._data=e,qn(i.player,m.phase,v,m.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class CO{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new ET(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,m=this.driver.getParentElement(t);for(;m;){const v=r.get(m);if(v){const C=i.indexOf(v);i.splice(C+1,0,e),u=!0;break}m=this.driver.getParentElement(m)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(f_(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!f_(t))return;const s=t[Jl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),eu(e,u_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),p_(e,u_))}removeNode(e,t,i){if(f_(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Jl]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return f_(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,md,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,a_,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Nt(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Jl];if(t&&t.setForRemoval){if(e[Jl]=Ny,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(u_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)eu(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Nt(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function X(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new zc,r=[],s=new Map,u=[],m=new Map,v=new Map,C=new Map,M=new Set;this.disabledNodes.forEach(wn=>{M.add(wn);const Vn=this.driver.query(wn,".ng-animate-queued",!0);for(let Yn=0;Yn<Vn.length;Yn++)M.add(Vn[Yn])});const L=this.bodyNode,G=Array.from(this.statesByElement.keys()),ne=xT(G,this.collectedEnterElements),ae=new Map;let ye=0;ne.forEach((wn,Vn)=>{const Yn=fm+ye++;ae.set(Vn,Yn),wn.forEach(Ji=>eu(Ji,Yn))});const We=[],wt=new Set,Ot=new Set;for(let wn=0;wn<this.collectedLeaveElements.length;wn++){const Vn=this.collectedLeaveElements[wn],Yn=Vn[Jl];Yn&&Yn.setForRemoval&&(We.push(Vn),wt.add(Vn),Yn.hasAnimation?this.driver.query(Vn,".ng-star-inserted",!0).forEach(Ji=>wt.add(Ji)):Ot.add(Vn))}const Mt=new Map,Lt=xT(G,Array.from(wt));Lt.forEach((wn,Vn)=>{const Yn=s_+ye++;Mt.set(Vn,Yn),wn.forEach(Ji=>eu(Ji,Yn))}),e.push(()=>{ne.forEach((wn,Vn)=>{const Yn=ae.get(Vn);wn.forEach(Ji=>p_(Ji,Yn))}),Lt.forEach((wn,Vn)=>{const Yn=Mt.get(Vn);wn.forEach(Ji=>p_(Ji,Yn))}),We.forEach(wn=>{this.processLeaveNode(wn)})});const Mn=[],Pn=[];for(let wn=this._namespaceList.length-1;wn>=0;wn--)this._namespaceList[wn].drainQueuedTransitions(t).forEach(Yn=>{const Ji=Yn.player,Za=Yn.element;if(Mn.push(Ji),this.collectedEnterElements.length){const Jc=Za[Jl];if(Jc&&Jc.setForMove){if(Jc.previousTriggersValues&&Jc.previousTriggersValues.has(Yn.triggerName)){const Dy=Jc.previousTriggersValues.get(Yn.triggerName),Hd=this.statesByElement.get(Yn.element);if(Hd&&Hd.has(Yn.triggerName)){const _O=Hd.get(Yn.triggerName);_O.value=Dy,Hd.set(Yn.triggerName,_O)}}return void Ji.destroy()}}const $f=!L||!this.driver.containsElement(L,Za),Wu=Mt.get(Za),Xg=ae.get(Za),as=this._buildInstruction(Yn,i,Xg,Wu,$f);if(as.errors&&as.errors.length)return void Pn.push(as);if($f)return Ji.onStart(()=>Du(Za,as.fromStyles)),Ji.onDestroy(()=>lc(Za,as.toStyles)),void r.push(Ji);if(Yn.isFallbackTransition)return Ji.onStart(()=>Du(Za,as.fromStyles)),Ji.onDestroy(()=>lc(Za,as.toStyles)),void r.push(Ji);const t$=[];as.timelines.forEach(Jc=>{Jc.stretchStartingKeyframe=!0,this.disabledNodes.has(Jc.element)||t$.push(Jc)}),as.timelines=t$,i.append(Za,as.timelines),u.push({instruction:as,player:Ji,element:Za}),as.queriedElements.forEach(Jc=>to(m,Jc,[]).push(Ji)),as.preStyleProps.forEach((Jc,Dy)=>{if(Jc.size){let Hd=v.get(Dy);Hd||v.set(Dy,Hd=new Set),Jc.forEach((_O,h2)=>Hd.add(h2))}}),as.postStyleProps.forEach((Jc,Dy)=>{let Hd=C.get(Dy);Hd||C.set(Dy,Hd=new Set),Jc.forEach((_O,h2)=>Hd.add(h2))})});if(Pn.length){const wn=[];Pn.forEach(Vn=>{wn.push(function Je(n,e){return new l.vHH(3505,!1)}())}),Mn.forEach(Vn=>Vn.destroy()),this.reportError(wn)}const Ui=new Map,Wo=new Map;u.forEach(wn=>{const Vn=wn.element;i.has(Vn)&&(Wo.set(Vn,Vn),this._beforeAnimationBuild(wn.player.namespaceId,wn.instruction,Ui))}),r.forEach(wn=>{const Vn=wn.element;this._getPreviousPlayers(Vn,!1,wn.namespaceId,wn.triggerName,null).forEach(Ji=>{to(Ui,Vn,[]).push(Ji),Ji.destroy()})});const Xc=We.filter(wn=>m_(wn,v,C)),cm=new Map;op(cm,this.driver,Ot,C,ns).forEach(wn=>{m_(wn,v,C)&&Xc.push(wn)});const uT=new Map;ne.forEach((wn,Vn)=>{op(uT,this.driver,new Set(wn),v,"!")}),Xc.forEach(wn=>{const Vn=cm.get(wn),Yn=uT.get(wn);cm.set(wn,new Map([...Vn?.entries()??[],...Yn?.entries()??[]]))});const Ty=[],J6=[],e$={};u.forEach(wn=>{const{element:Vn,player:Yn,instruction:Ji}=wn;if(i.has(Vn)){if(M.has(Vn))return Yn.onDestroy(()=>lc(Vn,Ji.toStyles)),Yn.disabled=!0,Yn.overrideTotalTime(Ji.totalTime),void r.push(Yn);let Za=e$;if(Wo.size>1){let Wu=Vn;const Xg=[];for(;Wu=Wu.parentNode;){const as=Wo.get(Wu);if(as){Za=as;break}Xg.push(Wu)}Xg.forEach(as=>Wo.set(as,Za))}const $f=this._buildAnimation(Yn.namespaceId,Ji,Ui,s,uT,cm);if(Yn.setRealPlayer($f),Za===e$)Ty.push(Yn);else{const Wu=this.playersByElement.get(Za);Wu&&Wu.length&&(Yn.parentPlayer=Nt(Wu)),r.push(Yn)}}else Du(Vn,Ji.fromStyles),Yn.onDestroy(()=>lc(Vn,Ji.toStyles)),J6.push(Yn),M.has(Vn)&&r.push(Yn)}),J6.forEach(wn=>{const Vn=s.get(wn.element);if(Vn&&Vn.length){const Yn=Nt(Vn);wn.setRealPlayer(Yn)}}),r.forEach(wn=>{wn.parentPlayer?wn.syncPlayerEvents(wn.parentPlayer):wn.destroy()});for(let wn=0;wn<We.length;wn++){const Vn=We[wn],Yn=Vn[Jl];if(p_(Vn,s_),Yn&&Yn.hasAnimation)continue;let Ji=[];if(m.size){let $f=m.get(Vn);$f&&$f.length&&Ji.push(...$f);let Wu=this.driver.query(Vn,a_,!0);for(let Xg=0;Xg<Wu.length;Xg++){let as=m.get(Wu[Xg]);as&&as.length&&Ji.push(...as)}}const Za=Ji.filter($f=>!$f.destroyed);Za.length?IO(this,Vn,Za):this.processLeaveNode(Vn)}return We.length=0,Ty.forEach(wn=>{this.players.push(wn),wn.onDone(()=>{wn.destroy();const Vn=this.players.indexOf(wn);this.players.splice(Vn,1)}),wn.play()}),Ty}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let u=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(u=m)}else{const m=this.playersByElement.get(e);if(m){const v=!s||s==hh;m.forEach(C=>{C.queued||!v&&C.triggerName!=r||u.push(C)})}}return(i||r)&&(u=u.filter(m=>!(i&&i!=m.namespaceId||r&&r!=m.triggerName))),u}_beforeAnimationBuild(e,t,i){const s=t.element,u=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const v of t.timelines){const C=v.element,M=C!==s,L=to(i,C,[]);this._getPreviousPlayers(C,M,u,m,t.toState).forEach(ne=>{const ae=ne.getRealPlayer();ae.beforeDestroy&&ae.beforeDestroy(),ne.destroy(),L.push(ne)})}Du(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,u){const m=t.triggerName,v=t.element,C=[],M=new Set,L=new Set,G=t.timelines.map(ae=>{const ye=ae.element;M.add(ye);const We=ye[Jl];if(We&&We.removedBeforeQueried)return new H(ae.duration,ae.delay);const wt=ye!==v,Ot=function Tw(n){const e=[];return IT(n,e),e}((i.get(ye)||wT).map(Ui=>Ui.getRealPlayer())).filter(Ui=>!!Ui.element&&Ui.element===ye),Mt=s.get(ye),Lt=u.get(ye),Mn=pn(this._normalizer,ae.keyframes,Mt,Lt),Pn=this._buildPlayer(ae,Mn,Ot);if(ae.subTimeline&&r&&L.add(ye),wt){const Ui=new Iw(e,m,ye);Ui.setRealPlayer(Pn),C.push(Ui)}return Pn});C.forEach(ae=>{to(this.playersByQueriedElement,ae.element,[]).push(ae),ae.onDone(()=>function xO(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,ae.element,ae))}),M.forEach(ae=>eu(ae,np));const ne=Nt(G);return ne.onDestroy(()=>{M.forEach(ae=>p_(ae,np)),lc(v,t.toStyles)}),L.forEach(ae=>{to(r,ae,[]).push(ne)}),ne}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new H(e.duration,e.delay)}}class Iw{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new H,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>qn(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){to(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function f_(n){return n&&1===n.nodeType}function Uy(n,e){const t=n.style.display;return n.style.display=e??"none",t}function op(n,e,t,i,r){const s=[];t.forEach(v=>s.push(Uy(v)));const u=[];i.forEach((v,C)=>{const M=new Map;v.forEach(L=>{const G=e.computeStyle(C,L,r);M.set(L,G),(!G||0==G.length)&&(C[Jl]=Fy,u.push(C))}),n.set(C,M)});let m=0;return t.forEach(v=>Uy(v,s[m++])),u}function xT(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const r=new Set(e),s=new Map;function u(m){if(!m)return 1;let v=s.get(m);if(v)return v;const C=m.parentNode;return v=t.has(C)?C:r.has(C)?1:u(C),s.set(m,v),v}return e.forEach(m=>{const v=u(m);1!==v&&t.get(v).push(m)}),t}function eu(n,e){n.classList?.add(e)}function p_(n,e){n.classList?.remove(e)}function IO(n,e,t){Nt(t).onDone(()=>n.processLeaveNode(e))}function IT(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof oe?IT(i.players,e):e.push(i)}}function m_(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class ym{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new CO(e,t,i),this._timelineEngine=new vT(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const u=e+"-"+r;let m=this._triggerCache[u];if(!m){const v=[],M=Re(this._driver,s,v,[]);if(v.length)throw function Yl(n,e){return new l.vHH(3404,!1)}();m=function _T(n,e,t){return new wO(n,e,t)}(r,M,this._normalizer),this._triggerCache[u]=m}this._transitionEngine.registerTrigger(t,r,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,u]=ep(i);this._timelineEngine.command(s,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[u,m]=ep(i);return this._timelineEngine.listen(u,t,m,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let DT=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&lc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(lc(this._element,this._initialStyles),this._endStyles&&(lc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Du(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Du(this._element,this._endStyles),this._endStyles=null),lc(this._element,this._initialStyles),this._state=3)}}return n})();function Vy(n){let e=null;return n.forEach((t,i)=>{(function sp(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class ST{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:_m(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class TO{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Ql(e,t)}getParentElement(e){return jc(e)}query(e,t,i){return sh(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,u=[]){const v={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(v.easing=s);const C=new Map,M=u.filter(ne=>ne instanceof ST);(function Au(n,e){return 0===n||0===e})(i,r)&&M.forEach(ne=>{ne.currentSnapshot.forEach((ae,ye)=>C.set(ye,ae))});let L=function Qh(n){return n.length?n[0]instanceof Map?n:n.map(e=>Ay(e)):[]}(t).map(ne=>yl(ne));L=function vw(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,u)=>{i.has(u)||r.push(u),i.set(u,s)}),r.length)for(let s=1;s<e.length;s++){let u=e[s];r.forEach(m=>u.set(m,_m(n,m)))}}return e}(e,L,C);const G=function TT(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Vy(e[0]),e.length>1&&(i=Vy(e[e.length-1]))):e instanceof Map&&(t=Vy(e)),t||i?new DT(n,t,i):null}(e,L);return new ST(e,L,v,G)}}let DO=(()=>{class n extends rh{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?ud(t):t;return yd(this._renderer,null,i,"register",[r]),new SO(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(l.FYo),l.LFG(Pe))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();class SO extends hl{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new AO(this._id,e,t||{},this._renderer)}}class AO{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return yd(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function yd(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const AT="@.disabled";let MO=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,u)=>{const m=u?.parentNode(s);m&&u.removeChild(m,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let M=this._rendererCache.get(s);return M||(M=new MT("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,M)),M}const u=i.id,m=i.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const v=M=>{Array.isArray(M)?M.forEach(v):this.engine.registerTrigger(u,m,t,M.name,M)};return i.data.animation.forEach(v),new OO(this,m,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,m]=s;u(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(l.FYo),l.LFG(ym),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();class MT{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==AT?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class OO extends MT{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==AT?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function RO(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),u="";return"@"!=s.charAt(0)&&([s,u]=function PO(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,u,m=>{this.factory.scheduleListenerCallback(m._data||-1,i,m)})}return this.delegate.listen(e,t,i)}}let OT=(()=>{class n extends ym{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Pe),l.LFG(pd),l.LFG(bw),l.LFG(l.z2F))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const RT=[{provide:rh,useClass:DO},{provide:bw,useFactory:function kO(){return new ww}},{provide:ym,useClass:OT},{provide:l.FYo,useFactory:function NO(n,e,t){return new MO(n,e,t)},deps:[sl,ym,l.R0b]}],Dw=[{provide:pd,useFactory:()=>new TO},{provide:l.QbO,useValue:"BrowserAnimations"},...RT],g_=[{provide:pd,useClass:ah},{provide:l.QbO,useValue:"NoopAnimations"},...RT];let ph=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?g_:Dw}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:Dw,imports:[Fc]})}return n})();var bd=Q(4097),An=Q(2793);class bm{constructor(e){return e}}class Sw{constructor(){return(0,bd.C6)()}}const kT=new l.OlP("angularfire2._apps"),g2={provide:bm,useFactory:function Aw(n){return n&&1===n.length?n[0]:new bm((0,bd.Mq)())},deps:[[new l.FiY,kT]]},NT={provide:Sw,deps:[[new l.FiY,kT]]};function UO(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new bm(i)}}let VO=(()=>{class n{constructor(t){(0,bd.KN)("angularfire",An.q4.full,"core"),(0,bd.KN)("angularfire",An.q4.full,"app"),(0,bd.KN)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[g2,NT]}),n})();function BO(n,...e){return{ngModule:VO,providers:[{provide:kT,useFactory:UO(n),multi:!0,deps:[l.R0b,l.zs3,An.HU,...e]}]}}const FT=(0,An.u3)(bd.ZF,!0);var dt=Q(5861),Ds=Q(534),tu=Q(4537),ie=Q(9058),Mu=Q(7879);const Ow=new Map,UT={activated:!1,tokenObservers:[]},zO={initialized:!1,enabled:!1};function Mo(n){return Ow.get(n)||Object.assign({},UT)}function Rw(){return zO}const ap="https://content-firebaseappcheck.googleapis.com/v1",VT="exchangeDebugToken",Pw={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class BT{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,dt.Z)(function*(){t.stop();try{t.pending=new ie.BH,yield function HO(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ie.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ys=new ie.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function zT(n){if(!Mo(n).activated)throw Ys.create("use-before-activation",{appName:n.name})}function Em(n,e){return zy.apply(this,arguments)}function zy(){return(zy=(0,dt.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const L=yield r.getHeartbeatsHeader();L&&(i["X-Firebase-Client"]=L)}const s={method:"POST",body:JSON.stringify(e),headers:i};let u,m;try{u=yield fetch(n,s)}catch(L){throw Ys.create("fetch-network-error",{originalErrorMessage:L?.message})}if(200!==u.status)throw Ys.create("fetch-status-error",{httpStatus:u.status});try{m=yield u.json()}catch(L){throw Ys.create("fetch-parse-error",{originalErrorMessage:L?.message})}const v=m.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Ys.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const C=1e3*Number(v[1]),M=Date.now();return{token:m.token,expireTimeMillis:M+C,issuedAtTimeMillis:M}})).apply(this,arguments)}function $T(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${ap}/projects/${t}/apps/${i}:${VT}?key=${r}`,body:{debug_token:e}}}const Nw="firebase-app-check-database",Hy=1,y_="firebase-app-check-store";let up=null;function nf(){return(nf=(0,dt.Z)(function*(n,e){const i=(yield function Ou(){return up||(up=new Promise((n,e)=>{try{const t=indexedDB.open(Nw,Hy);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Ys.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(y_,{keyPath:"compositeKey"})}}catch(t){e(Ys.create("storage-open",{originalErrorMessage:t?.message}))}}),up)}()).transaction(y_,"readwrite"),s=i.objectStore(y_).put({compositeKey:n,value:e});return new Promise((u,m)=>{s.onsuccess=v=>{u()},i.onerror=v=>{var C;m(Ys.create("storage-set",{originalErrorMessage:null===(C=v.target.error)||void 0===C?void 0:C.message}))}})})).apply(this,arguments)}const dp=new Mu.Yd("@firebase/app-check");function qy(n,e){return(0,ie.hl)()?function Fw(n,e){return function Lw(n,e){return nf.apply(this,arguments)}(function qT(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{dp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function jw(){return Rw().enabled}function zw(){return Hw.apply(this,arguments)}function Hw(){return(Hw=(0,dt.Z)(function*(){const n=Rw();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const w2={error:"UNKNOWN_ERROR"};function Wy(n){return ie.US.encodeString(JSON.stringify(n),!1)}function Zy(n){return b_.apply(this,arguments)}function b_(){return(b_=(0,dt.Z)(function*(n,e=!1){const t=n.app;zT(t);const i=Mo(t);let s,r=i.token;if(r&&!sf(r)&&(i.token=void 0,r=void 0),!r){const v=yield i.cachedTokenPromise;v&&(sf(v)?r=v:yield qy(t,void 0))}if(!e&&r&&sf(r))return{token:r.token};let m,u=!1;if(jw()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Em($T(t,yield zw()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const v=yield i.exchangeTokenPromise;return yield qy(t,v),i.token=v,{token:v.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield Mo(t).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?dp.warn(v.message):dp.error(v),s=v}return r?s?m=sf(r)?{token:r.token,internalError:s}:Qy(s):(m={token:r.token},i.token=r,yield qy(t,r)):m=Qy(s),u&&function hp(n,e){const t=Mo(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,m),m})).apply(this,arguments)}function Ky(n){return rf.apply(this,arguments)}function rf(){return(rf=(0,dt.Z)(function*(n){const e=n.app;zT(e);const{provider:t}=Mo(e);if(jw()){const i=yield zw(),{token:r}=yield Em($T(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function E_(n,e){const t=Mo(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Cm(n){const{app:e}=n,t=Mo(e);let i=t.tokenRefresher;i||(i=function Yy(n){const{app:e}=n;return new BT((0,dt.Z)(function*(){let i;if(i=Mo(e).token?yield Zy(n,!0):yield Zy(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Mo(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},Pw.RETRIAL_MIN_WAIT,Pw.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function sf(n){return n.expireTimeMillis-Date.now()>0}function Qy(n){return{token:Wy(w2),error:n}}class Xy{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Mo(this.app);for(const t of e)E_(this.app,t.next);return Promise.resolve()}}const Im="app-check-internal";!function JO(){(0,Ds._registerComponent)(new tu.wA("app-check",n=>function E2(n,e){return new Xy(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Im).initialize()})),(0,Ds._registerComponent)(new tu.wA(Im,n=>function $w(n){return{getToken:e=>Zy(n,e),getLimitedUseToken:()=>Ky(n),addTokenListener:e=>function w_(n,e,t,i){const{app:r}=n,s=Mo(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&sf(s.token)){const m=s.token;Promise.resolve().then(()=>{t({token:m.token}),Cm(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Cm(n))}(n,"INTERNAL",e),removeTokenListener:e=>E_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ds.registerVersion)("@firebase/app-check","0.8.0")}();class fp{constructor(){return(0,An.vb)("app-check")}}typeof window<"u"&&window;var pp=Q(6710);function iD(n){return new rr.y(function(e){return{unsubscribe:(0,pp.x)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}function nu(n){return new rr.y(function(e){return{unsubscribe:(0,pp.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class mp{constructor(e){return e}}class wd{constructor(){return(0,An.vb)("auth")}}const Jw=new l.OlP("angularfire2.auth-instances");function rR(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new mp(i)}}const eE={provide:wd,deps:[[new l.FiY,Jw]]},Ed={provide:mp,useFactory:function M2(n,e){const t=(0,An.JM)("auth",n,e);return t&&new mp(t)},deps:[[new l.FiY,Jw],bm]};let oD=(()=>{class n{constructor(){(0,bd.KN)("angularfire",An.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Ed,eE]}),n})();function oR(n,...e){return{ngModule:oD,providers:[{provide:Jw,useFactory:rR(n),multi:!0,deps:[l.R0b,l.zs3,An.HU,Sw,[new l.FiY,fp],...e]}]}}const O2=(0,An.u3)(iD,!0),Qs=(0,An.u3)(nu,!0),cD=(0,An.u3)(pp.a8,!0),lR=(0,An.u3)(pp.o,!0),$2=(0,An.u3)(pp.a9,!0),Tm=(0,An.u3)(pp.ai,!0);var $t,Dm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bl={},rb=rb||{},Wn=Dm||self;function Sm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function gp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var S_="closure_uid_"+(1e9*Math.random()>>>0),TR=0;function DR(n,e,t){return n.call.apply(n.bind,arguments)}function SR(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function ma(n,e,t){return(ma=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?DR:SR).apply(null,arguments)}function ob(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Xs(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,s){for(var u=Array(arguments.length-2),m=2;m<arguments.length;m++)u[m-2]=arguments[m];return e.prototype[r].apply(i,u)}}function cf(){this.s=this.s,this.o=this.o}cf.prototype.s=!1,cf.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function uD(n){Object.prototype.hasOwnProperty.call(n,S_)&&n[S_]||(n[S_]=++TR)}(this)},cf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function sb(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function dD(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Sm(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let u=0;u<s;u++)n[r+u]=i[u]}else n.push(i)}}function Va(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Va.prototype.h=function(){this.defaultPrevented=!0};var wl=function(){if(!Wn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Wn.addEventListener("test",()=>{},e),Wn.removeEventListener("test",()=>{},e)}catch{}return n}();function A_(n){return/^[\s\xa0]*$/.test(n)}function ab(){var n=Wn.navigator;return n&&(n=n.userAgent)?n:""}function mh(n){return-1!=ab().indexOf(n)}function M_(n){return M_[" "](n),n}M_[" "]=function(){};var oE,n,MR=mh("Opera"),Am=mh("Trident")||mh("MSIE"),fD=mh("Edge"),cb=fD||Am,pD=mh("Gecko")&&!(-1!=ab().toLowerCase().indexOf("webkit")&&!mh("Edge"))&&!(mh("Trident")||mh("MSIE"))&&!mh("Edge"),OR=-1!=ab().toLowerCase().indexOf("webkit")&&!mh("Edge");function lb(){var n=Wn.document;return n?n.documentMode:void 0}e:{var sE="",aE=(n=ab(),pD?/rv:([^\);]+)(\)|;)/.exec(n):fD?/Edge\/([\d\.]+)/.exec(n):Am?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):OR?/WebKit\/(\S+)/.exec(n):MR?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(aE&&(sE=aE?aE[1]:""),Am){var cE=lb();if(null!=cE&&cE>parseFloat(sE)){oE=String(cE);break e}}oE=sE}var uE=Wn.document&&Am&&(lb()||parseInt(oE,10))||void 0;function O_(n,e){if(Va.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(pD){e:{try{M_(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:mD[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&O_.$.h.call(this)}}Xs(O_,Va);var mD={2:"touch",3:"pen",4:"mouse"};O_.prototype.h=function(){O_.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var R_="closure_listenable_"+(1e6*Math.random()|0),gD=0;function _D(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++gD,this.fa=this.ia=!1}function _p(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function P_(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function dE(n){const e={};for(const t in n)e[t]=n[t];return e}const hE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fE(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<hE.length;s++)t=hE[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function k_(n){this.src=n,this.g={},this.h=0}function N_(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=rE(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(_p(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Pu(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==i)return r}return-1}k_.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=Pu(n,e,i,r);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new _D(e,this.src,s,!!i,r)).ia=t,n.push(e)),e};var pE="closure_lm_"+(1e6*Math.random()|0),mE={};function ub(n,e,t,i,r){if(i&&i.once)return bD(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ub(n,e[s],t,i,r);return null}return t=hb(t),n&&n[R_]?n.O(e,t,gp(i)?!!i.capture:!!i,r):vD(n,e,t,!1,i,r)}function vD(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var u=gp(r)?!!r.capture:!!r,m=wD(n);if(m||(n[pE]=m=new k_(n)),(t=m.add(e,t,i,u,s)).proxy)return t;if(i=function yD(){const e=db;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)wl||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(gE(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function bD(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)bD(n,e[s],t,i,r);return null}return t=hb(t),n&&n[R_]?n.P(e,t,gp(i)?!!i.capture:!!i,r):vD(n,e,t,!0,i,r)}function F_(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)F_(n,e[s],t,i,r);else i=gp(i)?!!i.capture:!!i,t=hb(t),n&&n[R_]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Pu(s=n.g[e],t,i,r))&&(_p(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=wD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Pu(e,t,i,r)),(t=-1<n?e[n]:null)&&vp(t))}function vp(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[R_])N_(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(gE(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=wD(e))?(N_(t,n),0==t.h&&(t.src=null,e[pE]=null)):_p(n)}}}function gE(n){return n in mE?mE[n]:mE[n]="on"+n}function db(n,e){if(n.fa)n=!0;else{e=new O_(e,this);var t=n.listener,i=n.la||n.src;n.ia&&vp(n),n=t.call(i,e)}return n}function wD(n){return(n=n[pE])instanceof k_?n:null}var _E="__closure_events_fn_"+(1e9*Math.random()>>>0);function hb(n){return"function"==typeof n?n:(n[_E]||(n[_E]=function(e){return n.handleEvent(e)}),n[_E])}function Ss(){cf.call(this),this.i=new k_(this),this.S=this,this.J=null}function ga(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Va(e,n);else if(e instanceof Va)e.target=e.target||n;else{var r=e;fE(e=new Va(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var u=e.g=t[s];r=fb(u,i,!0,e)&&r}if(r=fb(u=e.g=n,i,!0,e)&&r,r=fb(u,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=fb(u=e.g=t[s],i,!1,e)&&r}function fb(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var u=e[s];if(u&&!u.fa&&u.capture==t){var m=u.listener,v=u.la||u.src;u.ia&&N_(n.i,u),r=!1!==m.call(v,i)&&r}}return r&&!i.defaultPrevented}Xs(Ss,cf),Ss.prototype[R_]=!0,Ss.prototype.removeEventListener=function(n,e,t,i){F_(this,n,e,t,i)},Ss.prototype.N=function(){if(Ss.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)_p(t[i]);delete n.g[e],n.h--}}this.J=null},Ss.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ss.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var pb=Wn.JSON.stringify;function L_(){var n=yE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var vE=new class ED{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new CD,n=>n.reset());class CD{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function PR(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function kR(n){Wn.setTimeout(()=>{throw n},0)}let gh,U_=!1,yE=new class RR{constructor(){this.h=this.g=null}add(e,t){const i=vE.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},xD=()=>{const n=Wn.Promise.resolve(void 0);gh=()=>{n.then(NR)}};var NR=()=>{for(var n;n=L_();){try{n.h.call(n.g)}catch(t){kR(t)}var e=vE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}U_=!1};function mb(n,e){Ss.call(this),this.h=n||1,this.g=e||Wn,this.j=ma(this.qb,this),this.l=Date.now()}function bE(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function wE(n,e,t){if("function"==typeof n)t&&(n=ma(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ma(n.handleEvent,n)}return 2147483647<Number(e)?-1:Wn.setTimeout(n,e||0)}function ID(n){n.g=wE(()=>{n.g=null,n.i&&(n.i=!1,ID(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Xs(mb,Ss),($t=mb.prototype).ga=!1,$t.T=null,$t.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ga(this,"tick"),this.ga&&(bE(this),this.start()))}},$t.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$t.N=function(){mb.$.N.call(this),bE(this),delete this.g};class TD extends cf{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ID(this)}N(){super.N(),this.g&&(Wn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yp(n){cf.call(this),this.h=n,this.g={}}Xs(yp,cf);var DD=[];function V_(n,e,t,i){Array.isArray(t)||(t&&(DD[0]=t.toString()),t=DD);for(var r=0;r<t.length;r++){var s=ub(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function SD(n){P_(n.g,function(e,t){this.g.hasOwnProperty(t)&&vp(e)},n),n.g={}}function gb(){this.g=!0}function Mm(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function VR(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<r.length;u++)r[u]=""}}}return pb(t)}catch{return e}}(n,t)+(i?" "+i:"")})}yp.prototype.N=function(){yp.$.N.call(this),SD(this)},yp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},gb.prototype.Ea=function(){this.g=!1},gb.prototype.info=function(){};var lf={},EE=null;function _b(){return EE=EE||new Ss}function BR(n){Va.call(this,lf.Ta,n)}function Om(n){const e=_b();ga(e,new BR(e))}function CE(n,e){Va.call(this,lf.STAT_EVENT,n),this.stat=e}function Hc(n){const e=_b();ga(e,new CE(e,n))}function B_(n,e){Va.call(this,lf.Ua,n),this.size=e}function j_(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Wn.setTimeout(function(){n()},e)}lf.Ta="serverreachability",Xs(BR,Va),lf.STAT_EVENT="statevent",Xs(CE,Va),lf.Ua="timingevent",Xs(B_,Va);var vb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},yb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xE(){}function Rm(){}xE.prototype.h=null;var $c,hs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _h(){Va.call(this,"d")}function Pm(){Va.call(this,"c")}function km(){}function Cd(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new yp(this),this.P=Nm,this.V=new mb(n=cb?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new bp}function bp(){this.i=null,this.g="",this.h=!1}Xs(_h,Va),Xs(Pm,Va),Xs(km,xE),km.prototype.g=function(){return new XMLHttpRequest},km.prototype.i=function(){return{}},$c=new km;var Nm=45e3,uf={},vh={};function df(n,e,t){n.L=1,n.v=Cb(yh(e)),n.s=t,n.S=!0,wp(n,null)}function wp(n,e){n.G=Date.now(),Fm(n),n.A=yh(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),FD(t.i,"t",i),n.C=0,t=n.l.J,n.h=new bp,n.g=GE(n.l,t?e:null,!n.s),0<n.O&&(n.M=new TD(ma(n.Pa,n,n.g),n.O)),V_(n.U,n.g,"readystatechange",n.nb),e=n.I?dE(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Om(),function FR(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var u="",m=s.split("&"),v=0;v<m.length;v++){var C=m[v].split("=");if(1<C.length){var M=C[0];C=C[1];var L=M.split("_");u=2<=L.length&&"type"==L[1]?u+(M+"=")+C+"&":u+(M+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Ep(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Cp(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=AD(n,t),r==vh){4==e&&(n.o=4,Hc(14),i=!1),Mm(n.j,n.m,null,"[Incomplete Response]");break}if(r==uf){n.o=4,Hc(15),Mm(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Mm(n.j,n.m,r,null),bb(n,r)}Ep(n)&&r!=vh&&r!=uf&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Hc(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),nv(e),e.M=!0,Hc(11))):(Mm(n.j,n.m,t,"[Invalid Chunked Response]"),hf(n),Lm(n))}function AD(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?vh:(t=Number(e.substring(t,i)),isNaN(t)?uf:(i+=1)+t>e.length?vh:(e=e.slice(i,i+t),n.C=i+t,e))}function Fm(n){n.Y=Date.now()+n.P,IE(n,n.P)}function IE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=j_(ma(n.lb,n),e)}function z_(n){n.B&&(Wn.clearTimeout(n.B),n.B=null)}function Lm(n){0==n.l.H||n.J||jE(n.l,n)}function hf(n){z_(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,bE(n.V),SD(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function bb(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||ME(t.i,n)))if(!n.K&&ME(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;iv(t),Mb(t)}tv(t),Hc(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=j_(ma(t.ib,t),6e3));if(1>=LD(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else pf(t,11)}else if((n.K||t.g==n)&&iv(t),!A_(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let C=r[e];if(t.V=C[0],C=C[1],2==t.H)if("c"==C[0]){t.K=C[1],t.pa=C[2];const M=C[3];null!=M&&(t.ra=M,t.l.info("VER="+t.ra));const L=C[4];null!=L&&(t.Ga=L,t.l.info("SVER="+t.Ga));const G=C[5];null!=G&&"number"==typeof G&&0<G&&(t.L=i=1.5*G,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const ne=n.g;if(ne){const ae=ne.g?ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ae){var s=i.i;s.g||-1==ae.indexOf("spdy")&&-1==ae.indexOf("quic")&&-1==ae.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(W_(s,s.h),s.h=null))}if(i.F){const ye=ne.g?ne.g.getResponseHeader("X-HTTP-Session-Id"):null;ye&&(i.Da=ye,lo(i.I,i.F,ye))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var u=n;if((i=t).wa=$E(i,i.J?i.pa:null,i.Y),u.K){UD(i.i,u);var m=u,v=i.L;v&&m.setTimeout(v),m.B&&(z_(m),Fm(m)),i.g=u}else VE(i);0<t.j.length&&J_(t)}else"stop"!=C[0]&&"close"!=C[0]||pf(t,7);else 3==t.H&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?pf(t,7):Ab(t):"noop"!=C[0]&&t.h&&t.h.Aa(C),t.A=0)}Om()}catch{}}function wb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Sm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function OD(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Sm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function MD(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Sm(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}($t=Cd.prototype).setTimeout=function(n){this.P=n},$t.nb=function(n){n=n.target;const e=this.M;e&&3==Nu(n)?e.l():this.Pa(n)},$t.Pa=function(n){try{if(n==this.g)e:{const M=Nu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>M)&&(3!=M||cb||this.g&&(this.h.h||this.g.ja()||$D(this.g)))){this.J||4!=M||7==e||Om(),z_(this);var t=this.g.da();this.ca=t;t:if(Ep(this)){var i=$D(this.g);n="";var r=i.length,s=4==Nu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){hf(this),Lm(this);var u="";break t}this.h.i=new Wn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function LR(n,e,t,i,r,s,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.W,M,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A_(m)){var C=m;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,Hc(12),hf(this),Lm(this);break e}Mm(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bb(this,t)}this.S?(Cp(this,M,u),cb&&this.i&&3==M&&(V_(this.U,this.V,"tick",this.mb),this.V.start())):(Mm(this.j,this.m,u,null),bb(this,u)),4==M&&hf(this),this.i&&!this.J&&(4==M?jE(this.l,this):(this.i=!1,Fm(this)))}else(function WR(n){const e={};n=(n.g&&2<=Nu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(A_(n[i]))continue;var t=PR(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[r]||[];e[r]=s,s.push(t)}!function W2(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Hc(12)):(this.o=0,Hc(13)),hf(this),Lm(this)}}}catch{}},$t.mb=function(){if(this.g){var n=Nu(this.g),e=this.g.ja();this.C<e.length&&(z_(this),Cp(this,n,e),this.i&&4!=n&&Fm(this))}},$t.cancel=function(){this.J=!0,hf(this)},$t.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function UR(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Om(),Hc(17)),hf(this),this.o=2,Lm(this)):IE(this,this.Y-n)};var RD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Um(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Um){this.h=n.h,Eb(this,n.j),this.s=n.s,this.g=n.g,TE(this,n.m),this.l=n.l;var e=n.i,t=new Bm;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),PD(this,t),this.o=n.o}else n&&(e=String(n).match(RD))?(this.h=!1,Eb(this,e[1]||"",!0),this.s=H_(e[2]||""),this.g=H_(e[3]||"",!0),TE(this,e[4]),this.l=H_(e[5]||"",!0),PD(this,e[6]||"",!0),this.o=H_(e[7]||"")):(this.h=!1,this.i=new Bm(null,this.h))}function yh(n){return new Um(n)}function Eb(n,e,t){n.j=t?H_(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function TE(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function PD(n,e,t){e instanceof Bm?(n.i=e,function jR(n,e){e&&!n.j&&(ff(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(jm(this,i),FD(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=$_(e,kD)),n.i=new Bm(e,n.h))}function lo(n,e,t){n.i.set(e,t)}function Cb(n){return lo(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function H_(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function $_(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,DE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function DE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Um.prototype.toString=function(){var n=[],e=this.j;e&&n.push($_(e,Vm,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push($_(e,Vm,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push($_(t,"/"==t.charAt(0)?xb:SE,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",$_(t,G_)),n.join("")};var Vm=/[#\/\?@]/g,SE=/[#\?:]/g,xb=/[#\?]/g,kD=/[#\?@]/g,G_=/#/g;function Bm(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ff(n){n.g||(n.g=new Map,n.h=0,n.i&&function Z2(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function jm(n,e){ff(n),e=zm(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function ND(n,e){return ff(n),e=zm(n,e),n.g.has(e)}function FD(n,e,t){jm(n,e),0<t.length&&(n.i=null,n.g.set(zm(n,e),sb(t)),n.h+=t.length)}function zm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function q_(n){this.l=n||Ib,n=Wn.PerformanceNavigationTiming?0<(n=Wn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Wn.g&&Wn.g.Ka&&Wn.g.Ka()&&Wn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($t=Bm.prototype).add=function(n,e){ff(this),this.i=null,n=zm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},$t.forEach=function(n,e){ff(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},$t.ta=function(){ff(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},$t.Z=function(n){ff(this);let e=[];if("string"==typeof n)ND(this,n)&&(e=e.concat(this.g.get(zm(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},$t.set=function(n,e){return ff(this),this.i=null,ND(this,n=zm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},$t.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},$t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),u=this.Z(i);for(i=0;i<u.length;i++){var r=s;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var Ib=10;function zR(n){return!!n.h||!!n.g&&n.g.size>=n.j}function LD(n){return n.h?1:n.g?n.g.size:0}function ME(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function W_(n,e){n.g?n.g.add(e):n.h=e}function UD(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function OE(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return sb(n.i)}q_.prototype.cancel=function(){if(this.i=OE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var HR=class{stringify(n){return Wn.JSON.stringify(n,void 0)}parse(n){return Wn.JSON.parse(n,void 0)}};function $R(){this.g=new HR}function VD(n,e,t){const i=t||"";try{wb(n,function(r,s){let u=r;gp(r)&&(u=pb(r)),e.push(i+s+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Z_(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function K_(n){this.l=n.fc||null,this.j=n.ob||!1}function Tb(n,e){Ss.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=RE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xs(K_,xE),K_.prototype.g=function(){return new Tb(this.l,this.j)},K_.prototype.i=function(n){return function(){return n}}({}),Xs(Tb,Ss);var RE=0;function PE(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function xp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ip(n)}function Ip(n){n.onreadystatechange&&n.onreadystatechange.call(n)}($t=Tb.prototype).open=function(n,e){if(this.readyState!=RE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ip(this)},$t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Wn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},$t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xp(this)),this.readyState=RE},$t.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ip(this)),this.g&&(this.readyState=3,Ip(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Wn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;PE(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},$t.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?xp(this):Ip(this),3==this.readyState&&PE(this)}},$t.Za=function(n){this.g&&(this.response=this.responseText=n,xp(this))},$t.Ya=function(n){this.g&&(this.response=n,xp(this))},$t.ka=function(){this.g&&xp(this)},$t.setRequestHeader=function(n,e){this.v.append(n,e)},$t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},$t.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Tb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var GR=Wn.JSON.parse;function no(n){Ss.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Y_,this.L=this.M=!1}Xs(no,Ss);var Y_="",kE=/^https?$/i,jD=["POST","PUT"];function zD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,HD(n),Tp(n)}function HD(n){n.F||(n.F=!0,ga(n,"complete"),ga(n,"error"))}function Q_(n){if(n.h&&typeof rb<"u"&&(!n.C[1]||4!=Nu(n)||2!=n.da()))if(n.v&&4==Nu(n))wE(n.La,0,n);else if(ga(n,"readystatechange"),4==Nu(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===u){var r=String(n.I).match(RD)[1]||null;!r&&Wn.self&&Wn.self.location&&(r=Wn.self.location.protocol.slice(0,-1)),i=!kE.test(r?r.toLowerCase():"")}t=i}if(t)ga(n,"complete"),ga(n,"success");else{n.m=6;try{var s=2<Nu(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",HD(n)}}finally{Tp(n)}}}function Tp(n,e){if(n.g){Db(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ga(n,"ready");try{t.onreadystatechange=i}catch{}}}function Db(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Wn.clearTimeout(n.A),n.A=null)}function Nu(n){return n.g?n.g.readyState:0}function $D(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Y_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function NE(n){let e="";return P_(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function X_(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=NE(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):lo(n,e,t))}function Hm(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Sb(n){this.Ga=0,this.j=[],this.l=new gb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Hm("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Hm("baseRetryDelayMs",5e3,n),this.hb=Hm("retryDelaySeedMs",1e4,n),this.eb=Hm("forwardChannelMaxRetries",2,n),this.xa=Hm("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new q_(n&&n.concurrentRequestLimit),this.Ja=new $R,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ab(n){if(FE(n),3==n.H){var e=n.W++,t=yh(n.I);if(lo(t,"SID",n.K),lo(t,"RID",e),lo(t,"TYPE","terminate"),ev(n,t),(e=new Cd(n,n.l,e)).L=2,e.v=Cb(yh(t)),t=!1,Wn.navigator&&Wn.navigator.sendBeacon)try{t=Wn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Wn.Image&&((new Image).src=e.v,t=!0),t||(e.g=GE(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Fm(e)}HE(n)}function Mb(n){n.g&&(nv(n),n.g.cancel(),n.g=null)}function FE(n){Mb(n),n.u&&(Wn.clearTimeout(n.u),n.u=null),iv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Wn.clearTimeout(n.m),n.m=null)}function J_(n){if(!zR(n.i)&&!n.m){n.m=!0;var e=n.Na;gh||xD(),U_||(gh(),U_=!0),yE.add(e,n),n.C=0}}function LE(n,e){var t;t=e?e.m:n.W++;const i=yh(n.I);lo(i,"SID",n.K),lo(i,"RID",t),lo(i,"AID",n.V),ev(n,i),n.o&&n.s&&X_(i,n.o,n.s),t=new Cd(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=UE(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),W_(n.i,t),df(t,i,e)}function ev(n,e){n.na&&P_(n.na,function(t,i){lo(e,i,t)}),n.h&&wb({},function(t,i){lo(e,i,t)})}function UE(n,e,t){t=Math.min(n.j.length,t);var i=n.h?ma(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const u=["count="+t];-1==s?0<t?(s=r[0].g,u.push("ofs="+s)):s=0:u.push("ofs="+s);let m=!0;for(let v=0;v<t;v++){let C=r[v].g;const M=r[v].map;if(C-=s,0>C)s=Math.max(0,r[v].g-100),m=!1;else try{VD(M,u,"req"+C+"_")}catch{i&&i(M)}}if(m){i=u.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function VE(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;gh||xD(),U_||(gh(),U_=!0),yE.add(e,n),n.A=0}}function tv(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=j_(ma(n.Ma,n),zE(n,n.A)),n.A++,0))}function nv(n){null!=n.B&&(Wn.clearTimeout(n.B),n.B=null)}function BE(n){n.g=new Cd(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=yh(n.wa);lo(e,"RID","rpc"),lo(e,"SID",n.K),lo(e,"AID",n.V),lo(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&lo(e,"TO",n.qa),lo(e,"TYPE","xmlhttp"),ev(n,e),n.o&&n.s&&X_(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Cb(yh(e)),t.s=null,t.S=!0,wp(t,n)}function iv(n){null!=n.v&&(Wn.clearTimeout(n.v),n.v=null)}function jE(n,e){var t=null;if(n.g==e){iv(n),nv(n),n.g=null;var i=2}else{if(!ME(n.i,e))return;t=e.F,UD(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;ga(i=_b(),new B_(i,t)),J_(n)}else VE(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function GD(n,e){return!(LD(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=j_(ma(n.Na,n,e),zE(n,n.C)),n.C++,0)))}(n,e)||2==i&&tv(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:pf(n,5);break;case 4:pf(n,10);break;case 3:pf(n,6);break;default:pf(n,2)}}function zE(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function pf(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=ma(n.pb,n);t||(t=new Um("//www.google.com/images/cleardot.gif"),Wn.location&&"http"==Wn.location.protocol||Eb(t,"https"),Cb(t)),function BD(n,e){const t=new gb;if(Wn.Image){const i=new Image;i.onload=ob(Z_,t,i,"TestLoadImage: loaded",!0,e),i.onerror=ob(Z_,t,i,"TestLoadImage: error",!1,e),i.onabort=ob(Z_,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=ob(Z_,t,i,"TestLoadImage: timeout",!1,e),Wn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Hc(2);n.H=0,n.h&&n.h.za(e),HE(n),FE(n)}function HE(n){if(n.H=0,n.ma=[],n.h){const e=OE(n.i);(0!=e.length||0!=n.j.length)&&(dD(n.ma,e),dD(n.ma,n.j),n.i.i.length=0,sb(n.j),n.j.length=0),n.h.ya()}}function $E(n,e,t){var i=t instanceof Um?yh(t):new Um(t);if(""!=i.g)e&&(i.g=e+"."+i.g),TE(i,i.m);else{var r=Wn.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Um(null);i&&Eb(s,i),e&&(s.g=e),r&&TE(s,r),t&&(s.l=t),i=s}return e=n.Da,(t=n.F)&&e&&lo(i,t,e),lo(i,"VER",n.ra),ev(n,i),i}function GE(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new no(t&&n.Ha&&!n.va?new K_({ob:!0}):n.va)).Oa(n.J),e}function rv(){}function Fu(){if(Am&&!(10<=Number(uE)))throw Error("Environmental error: no available transport.")}function El(n,e){Ss.call(this),this.g=new Sb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!A_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!A_(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new iu(this)}function qD(n){_h.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Ob(){Pm.call(this),this.status=1}function iu(n){this.g=n}function Lu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ov(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],u=(e=n.g[0])+(s^(t=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;u=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=t+(u<<7&4294967295|u>>>25))+((u=s+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^s&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=s+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^s&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=s+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^s&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=s+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^s&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(r^s&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^s&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^s&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^s&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^s)+i[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^e^t)+i[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(r^(t|~s))+i[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(s|~t))+i[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~s))+i[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(s|~t))+i[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~s))+i[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(s|~t))+i[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((s=(e=t+((u=e+(r^(t|~s))+i[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((r=s+((u=r+(e^(s|~t))+i[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Tr(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==e||(t[r]=s,i=!1)}this.g=t}($t=no.prototype).Oa=function(n){this.M=n},$t.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$c.g(),this.C=function ku(n){return n.h||(n.h=n.i())}(this.u?this.u:$c),this.g.onreadystatechange=ma(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void zD(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=Wn.FormData&&n instanceof Wn.FormData,!(0<=rE(jD,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,u]of t)this.g.setRequestHeader(s,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Db(this),0<this.B&&((this.L=function qR(n){return Am&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ma(this.ua,this)):this.A=wE(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){zD(this,s)}},$t.ua=function(){typeof rb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ga(this,"timeout"),this.abort(8))},$t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ga(this,"complete"),ga(this,"abort"),Tp(this))},$t.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tp(this,!0)),no.$.N.call(this)},$t.La=function(){this.s||(this.G||this.v||this.l?Q_(this):this.kb())},$t.kb=function(){Q_(this)},$t.isActive=function(){return!!this.g},$t.da=function(){try{return 2<Nu(this)?this.g.status:-1}catch{return-1}},$t.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},$t.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),GR(e)}},$t.Ia=function(){return this.m},$t.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},($t=Sb.prototype).ra=8,$t.H=1,$t.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Cd(this,this.l,n);let s=this.s;if(this.U&&(s?(s=dE(s),fE(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=UE(this,r,e),lo(t=yh(this.I),"RID",n),lo(t,"CVER",22),this.F&&lo(t,"X-HTTP-Session-Id",this.F),ev(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(NE(s)))+"&"+e:this.o&&X_(t,this.o,s)),W_(this.i,r),this.bb&&lo(t,"TYPE","init"),this.P?(lo(t,"$req",e),lo(t,"SID","null"),r.aa=!0,df(r,t,null)):df(r,t,e),this.H=2}}else 3==this.H&&(n?LE(this,n):0==this.j.length||zR(this.i)||LE(this))},$t.Ma=function(){if(this.u=null,BE(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=j_(ma(this.jb,this),n)}},$t.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Hc(10),Mb(this),BE(this))},$t.ib=function(){null!=this.v&&(this.v=null,Mb(this),tv(this),Hc(19))},$t.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Hc(2)):(this.l.info("Failed to ping google.com"),Hc(1))},$t.isActive=function(){return!!this.h&&this.h.isActive(this)},($t=rv.prototype).Ba=function(){},$t.Aa=function(){},$t.za=function(){},$t.ya=function(){},$t.isActive=function(){return!0},$t.Va=function(){},Fu.prototype.g=function(n,e){return new El(n,e)},Xs(El,Ss),El.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Hc(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=$E(n,null,n.Y),J_(n)},El.prototype.close=function(){Ab(this.g)},El.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=pb(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&J_(e)},El.prototype.N=function(){this.g.h=null,delete this.j,Ab(this.g),delete this.g,El.$.N.call(this)},Xs(qD,_h),Xs(Ob,Pm),Xs(iu,rv),iu.prototype.Ba=function(){ga(this.g,"a")},iu.prototype.Aa=function(n){ga(this.g,new qD(n))},iu.prototype.za=function(n){ga(this.g,new Ob)},iu.prototype.ya=function(){ga(this.g,"b")},Xs(Lu,function qE(){this.blockSize=-1}),Lu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Lu.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=t;)ov(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){ov(this,i),r=0;break}}else for(;s<e;)if(i[r++]=n[s++],r==this.blockSize){ov(this,i),r=0;break}}this.h=r,this.i+=e},Lu.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var K2={};function WE(n){return-128<=n&&128>n?function hD(n,e){var t=K2;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Tr([0|e],0>e?-1:0)}):new Tr([0|n],0>n?-1:0)}function xd(n){if(isNaN(n)||!isFinite(n))return uo;if(0>n)return _a(xd(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=KE;return new Tr(e,0)}var KE=4294967296,uo=WE(0),Rb=WE(1),WD=WE(16777216);function bh(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Cl(n){return-1==n.h}function _a(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Tr(t,~n.h).add(Rb)}function sv(n,e){return n.add(_a(e))}function av(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Id(n,e){this.g=n,this.h=e}function Pb(n,e){if(bh(e))throw Error("division by zero");if(bh(n))return new Id(uo,uo);if(Cl(n))return e=Pb(_a(n),e),new Id(_a(e.g),_a(e.h));if(Cl(e))return e=Pb(n,_a(e)),new Id(_a(e.g),e.h);if(30<n.g.length){if(Cl(n)||Cl(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Rb,i=e;0>=i.X(n);)t=ZD(t),i=ZD(i);var r=Dp(t,1),s=Dp(i,1);for(i=Dp(i,2),t=Dp(t,2);!bh(i);){var u=s.add(i);0>=u.X(n)&&(r=r.add(t),s=u),i=Dp(i,1),t=Dp(t,1)}return e=sv(n,r.R(e)),new Id(r,e)}for(r=uo;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),u=(s=xd(t)).R(e);Cl(u)||0<u.X(n);)u=(s=xd(t-=i)).R(e);bh(s)&&(s=Rb),r=r.add(s),n=sv(n,u)}return new Id(r,n)}function ZD(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Tr(t,n.h)}function Dp(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],s=0;s<i;s++)r[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Tr(r,n.h)}($t=Tr.prototype).ea=function(){if(Cl(this))return-_a(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:KE+i)*e,e*=KE}return n},$t.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(bh(this))return"0";if(Cl(this))return"-"+_a(this).toString(n);for(var e=xd(Math.pow(n,6)),t=this,i="";;){var r=Pb(t,e).g,s=((0<(t=sv(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(bh(t=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},$t.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},$t.X=function(n){return Cl(n=sv(this,n))?-1:bh(n)?0:1},$t.abs=function(){return Cl(this)?_a(this):this},$t.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),u=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=u>>>16,t[r]=(u&=65535)<<16|(s&=65535)}return new Tr(t,-2147483648&t[t.length-1]?-1:0)},$t.R=function(n){if(bh(this)||bh(n))return uo;if(Cl(this))return Cl(n)?_a(this).R(_a(n)):_a(_a(this).R(n));if(Cl(n))return _a(this.R(_a(n)));if(0>this.X(WD)&&0>n.X(WD))return xd(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,u=65535&this.D(i),m=n.D(r)>>>16,v=65535&n.D(r);t[2*i+2*r]+=u*v,av(t,2*i+2*r),t[2*i+2*r+1]+=s*v,av(t,2*i+2*r+1),t[2*i+2*r+1]+=u*m,av(t,2*i+2*r+1),t[2*i+2*r+2]+=s*m,av(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Tr(t,0)},$t.gb=function(n){return Pb(this,n).h},$t.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Tr(t,this.h&n.h)},$t.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Tr(t,this.h|n.h)},$t.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Tr(t,this.h^n.h)},Fu.prototype.createWebChannel=Fu.prototype.g,El.prototype.send=El.prototype.u,El.prototype.open=El.prototype.m,El.prototype.close=El.prototype.close,vb.NO_ERROR=0,vb.TIMEOUT=8,vb.HTTP_ERROR=6,yb.COMPLETE="complete",Rm.EventType=hs,hs.OPEN="a",hs.CLOSE="b",hs.ERROR="c",hs.MESSAGE="d",Ss.prototype.listen=Ss.prototype.O,no.prototype.listenOnce=no.prototype.P,no.prototype.getLastError=no.prototype.Sa,no.prototype.getLastErrorCode=no.prototype.Ia,no.prototype.getStatus=no.prototype.da,no.prototype.getResponseJson=no.prototype.Wa,no.prototype.getResponseText=no.prototype.ja,no.prototype.send=no.prototype.ha,no.prototype.setWithCredentials=no.prototype.Oa,Lu.prototype.digest=Lu.prototype.l,Lu.prototype.reset=Lu.prototype.reset,Lu.prototype.update=Lu.prototype.j,Tr.prototype.add=Tr.prototype.add,Tr.prototype.multiply=Tr.prototype.R,Tr.prototype.modulo=Tr.prototype.gb,Tr.prototype.compare=Tr.prototype.X,Tr.prototype.toNumber=Tr.prototype.ea,Tr.prototype.toString=Tr.prototype.toString,Tr.prototype.getBits=Tr.prototype.D,Tr.fromNumber=xd,Tr.fromString=function ZE(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return _a(ZE(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=xd(Math.pow(e,8)),i=uo,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),u=parseInt(n.substring(r,r+s),e);8>s?(s=xd(Math.pow(e,s)),i=i.R(s).add(xd(u))):i=(i=i.R(t)).add(xd(u))}return i};var ZR=bl.createWebChannelTransport=function(){return new Fu},KD=bl.getStatEventTarget=function(){return _b()},YD=bl.ErrorCode=vb,YE=bl.EventType=yb,QE=bl.Event=lf,Uu=bl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},KR=bl.FetchXmlHttpFactory=K_,cv=bl.WebChannel=Rm,Td=bl.XhrIo=no,Vu=bl.Md5=Lu,Ba=bl.Integer=Tr;const XE="@firebase/firestore";class As{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}As.UNAUTHENTICATED=new As(null),As.GOOGLE_CREDENTIALS=new As("google-credentials-uid"),As.FIRST_PARTY=new As("first-party-uid"),As.MOCK_USER=new As("mock-user");let $m="9.23.0";const mf=new Mu.Yd("@firebase/firestore");function JE(){return mf.logLevel}function Tt(n,...e){if(mf.logLevel<=Mu.in.DEBUG){const t=e.map(kb);mf.debug(`Firestore (${$m}): ${n}`,...t)}}function io(n,...e){if(mf.logLevel<=Mu.in.ERROR){const t=e.map(kb);mf.error(`Firestore (${$m}): ${n}`,...t)}}function ru(n,...e){if(mf.logLevel<=Mu.in.WARN){const t=e.map(kb);mf.warn(`Firestore (${$m}): ${n}`,...t)}}function kb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ln(n="Unexpected state"){const e=`FIRESTORE (${$m}) INTERNAL ASSERTION FAILED: `+n;throw io(e),new Error(e)}function bn(n,e){n||ln()}function qt(n,e){return n}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends ie.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class eC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(As.UNAUTHENTICATED))}shutdown(){}}class QR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class XR{constructor(e){this.t=e,this.currentUser=As.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=C=>this.i!==r?(r=this.i,t(C)):Promise.resolve();let u=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fs,e.enqueueRetryable(()=>s(this.currentUser))};const m=()=>{const C=u;e.enqueueRetryable((0,dt.Z)(function*(){yield C.promise,yield s(i.currentUser)}))},v=C=>{Tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(C=>v(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?v(C):(Tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fs)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(bn("string"==typeof i.accessToken),new eC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bn(null===e||"string"==typeof e),new As(e)}}class tC{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=As.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Nb{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new tC(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(As.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JD{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=s=>{null!=s.error&&Tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.T;return this.T=s.token,Tt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):Tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(bn("string"==typeof t.token),this.T=t.token,new nC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function eS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class iC{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=eS(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function Zn(n,e){return n<e?-1:n>e?1:0}function Sp(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function rC(n){return n+"\0"}class ho{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new vt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new vt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new vt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ho.fromMillis(Date.now())}static fromDate(e){return ho.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new ho(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zn(this.nanoseconds,e.nanoseconds):Zn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class In{constructor(e){this.timestamp=e}static fromTimestamp(e){return new In(e)}static min(){return new In(new ho(0,0))}static max(){return new In(new ho(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class lv{constructor(e,t,i){void 0===t?t=0:t>e.length&&ln(),void 0===i?i=e.length-t:i>e.length-t&&ln(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===lv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof lv?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),u=t.get(r);if(s<u)return-1;if(s>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ji extends lv{construct(e,t,i){return new ji(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new vt(tt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new ji(t)}static emptyPath(){return new ji([])}}const eP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ho extends lv{construct(e,t,i){return new Ho(e,t,i)}static isValidIdentifier(e){return eP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ho.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ho(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new vt(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const m=e[r];if("\\"===m){if(r+1===e.length)throw new vt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[r+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new vt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=v,r+=2}else"`"===m?(u=!u,r++):"."!==m||u?(i+=m,r++):(s(),r++)}if(s(),u)throw new vt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ho(t)}static emptyPath(){return new Ho([])}}class Gt{constructor(e){this.path=e}static fromPath(e){return new Gt(ji.fromString(e))}static fromName(e){return new Gt(ji.fromString(e).popFirst(5))}static empty(){return new Gt(ji.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ji.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ji.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Gt(new ji(e.slice()))}}class Fb{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function oC(n){return n.fields.find(e=>2===e.kind)}function Ap(n){return n.fields.filter(e=>2!==e.kind)}Fb.UNKNOWN_ID=-1;class Lb{constructor(e,t){this.fieldPath=e,this.kind=t}}class uv{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new uv(0,xl.min())}}function tS(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=In.fromTimestamp(1e9===i?new ho(t+1,0):new ho(t,i));return new xl(r,Gt.empty(),e)}function nS(n){return new xl(n.readTime,n.key,-1)}class xl{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new xl(In.min(),Gt.empty(),-1)}static max(){return new xl(In.max(),Gt.empty(),-1)}}function sC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Gt.comparator(n.documentKey,e.documentKey),0!==t?t:Zn(n.largestBatchId,e.largestBatchId))}const aC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function wh(n){return Ub.apply(this,arguments)}function Ub(){return Ub=(0,dt.Z)(function*(n){if(n.code!==tt.FAILED_PRECONDITION||n.message!==aC)throw n;Tt("LocalStore","Unexpectedly lost primary lease")}),Ub.apply(this,arguments)}class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ln(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ke((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ke?t:Ke.resolve(t)}catch(t){return Ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ke.reject(t)}static resolve(e){return new Ke((t,i)=>{t(e)})}static reject(e){return new Ke((t,i)=>{i(e)})}static waitFor(e){return new Ke((t,i)=>{let r=0,s=0,u=!1;e.forEach(m=>{++r,m.next(()=>{++s,u&&s===r&&t()},v=>i(v))}),u=!0,s===r&&t()})}static or(e){let t=Ke.resolve(!1);for(const i of e)t=t.next(r=>r?Ke.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new Ke((i,r)=>{const s=e.length,u=new Array(s);let m=0;for(let v=0;v<s;v++){const C=v;t(e[C]).next(M=>{u[C]=M,++m,m===s&&i(u)},M=>r(M))}})}static doWhile(e,t){return new Ke((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class dv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new fs,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Gm(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=lC(i.target.error);this.v.reject(new Gm(e,r))}}static open(e,t,i,r){try{return new dv(t,e.transaction(r,i))}catch(s){throw new Gm(t,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Tt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new rS(t)}}class ou{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===ou.S((0,ie.z$)())&&io("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Tt("SimpleDb","Removing database:",e),Il(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ie.hl)())return!1;if(ou.C())return!0;const e=(0,ie.z$)(),t=ou.S(e),i=0<t&&t<10,r=ou.N(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,dt.Z)(function*(){return t.db||(Tt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=u=>{i(u.target.result)},s.onblocked=()=>{r(new Gm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=u=>{const m=u.target.error;r("VersionError"===m.name?new vt(tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new vt(tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Gm(e,m))},s.onupgradeneeded=u=>{Tt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.V.O(u.target.result,s.transaction,u.oldVersion,t.version).next(()=>{Tt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,dt.Z)(function*(){const u="readonly"===t;let m=0;for(;;){++m;try{s.db=yield s.$(e);const v=dv.open(s.db,e,u?"readonly":"readwrite",i),C=r(v).next(M=>(v.P(),M)).catch(M=>(v.abort(M),Ke.reject(M))).toPromise();return C.catch(()=>{}),yield v.R,C}catch(v){const C=v,M="FirebaseError"!==C.name&&m<3;if(Tt("SimpleDb","Transaction failed with error:",C.message,"Retrying:",M),s.close(),!M)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class iS{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Il(this.L.delete())}}class Gm extends vt{constructor(e,t){super(tt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Dd(n){return"IndexedDbTransactionError"===n.name}class rS{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Tt("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Tt("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Il(i)}add(e){return Tt("SimpleDb","ADD",this.store.name,e,e),Il(this.store.add(e))}get(e){return Il(this.store.get(e)).next(t=>(void 0===t&&(t=null),Tt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Tt("SimpleDb","DELETE",this.store.name,e),Il(this.store.delete(e))}count(){return Tt("SimpleDb","COUNT",this.store.name),Il(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(u,m)=>{s.push(m)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Ke((s,u)=>{r.onerror=m=>{u(m.target.error)},r.onsuccess=m=>{s(m.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Ke((r,s)=>{i.onerror=u=>{s(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}J(e,t){Tt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,u,m)=>m.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new Ke((i,r)=>{t.onerror=s=>{const u=lC(s.target.error);r(u)},t.onsuccess=s=>{const u=s.target.result;u?e(u.primaryKey,u.value).next(m=>{m?u.continue():i()}):i()}})}W(e,t){const i=[];return new Ke((r,s)=>{e.onerror=u=>{s(u.target.error)},e.onsuccess=u=>{const m=u.target.result;if(!m)return void r();const v=new iS(m),C=t(m.primaryKey,m.value,v);if(C instanceof Ke){const M=C.catch(L=>(v.done(),Ke.reject(L)));i.push(M)}v.isDone?r():null===v.K?m.continue():m.continue(v.K)}}).next(()=>Ke.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Il(n){return new Ke((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=lC(i.target.error);t(r)}})}let oS=!1;function lC(n){const e=ou.S((0,ie.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new vt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return oS||(oS=!0,setTimeout(()=>{throw i},0)),i}}return n}class qm{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Tt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,dt.Z)(function*(){t.task=null;try{Tt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){Dd(i)?Tt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield wh(i)}yield t.et(6e4)}))}}class Y2{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,dt.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,s=!0;return Ke.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Tt("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,r).next(m=>{r-=m,i.add(u)});s=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const u=s.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(r,s)).next(m=>(Tt("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>u.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,s)=>{const u=nS(s);sC(u,i)>0&&(i=u)}),new xl(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let dc=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Vb(n){return null==n}function Wm(n){return 0===n&&1/n==-1/0}function uC(n){return"number"==typeof n&&Number.isInteger(n)&&!Wm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function hc(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=sS(e)),e=Zm(n.get(t),e);return sS(e)}function Zm(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function sS(n){return n+"\x01\x01"}function Sd(n){const e=n.length;if(bn(e>=2),2===e)return bn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ji.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const u=n.indexOf("\x01",s);switch((u<0||u>t)&&ln(),n.charAt(u+1)){case"\x01":const m=n.substring(s,u);let v;0===r.length?v=m:(r+=m,v=r,r=""),i.push(v);break;case"\x10":r+=n.substring(s,u),r+="\0";break;case"\x11":r+=n.substring(s,u+1);break;default:ln()}s=u+2}return new ji(i)}const aS=["userId","batchId"];function Eh(n,e){return[n,hc(e)]}function cS(n,e,t){return[n,hc(e),t]}const Bb={},jb=["prefixPath","collectionGroup","readTime","documentId"],Gc=["prefixPath","collectionGroup","documentId"],Q2=["collectionGroup","readTime","prefixPath","documentId"],lS=["canonicalId","targetId"],uS=["targetId","path"],iP=["path","targetId"],dS=["collectionId","parent"],hS=["indexId","uid"],fS=["uid","sequenceNumber"],pS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rP=["indexId","uid","orderedDocumentKey"],oP=["userId","collectionPath","documentId"],sP=["userId","collectionPath","largestBatchId"],hv=["userId","collectionGroup","largestBatchId"],mS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],aP=[...mS,"documentOverlays"],gS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fv=gS,_S=[...fv,"indexConfiguration","indexState","indexEntries"];class zb extends cC{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Ms(n,e){const t=qt(n);return ou.M(t.ht,e)}function vS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function su(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Km(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class zr{constructor(e,t){this.comparator=e,this.root=t||va.EMPTY}insert(e,t){return new zr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,va.BLACK,null,null))}remove(e){return new zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,va.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hb(this.root,e,this.comparator,!0)}}class Hb{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class va{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??va.RED,this.left=r??va.EMPTY,this.right=s??va.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new va(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return va.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return va.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,va.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,va.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ln();const e=this.left.check();if(e!==this.right.check())throw ln();return e+(this.isRed()?0:1)}}va.EMPTY=null,va.RED=!0,va.BLACK=!1,va.EMPTY=new class{constructor(){this.size=0}get key(){throw ln()}get value(){throw ln()}get color(){throw ln()}get left(){throw ln()}get right(){throw ln()}copy(n,e,t,i,r){return this}insert(n,e,t){return new va(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hr{constructor(e){this.comparator=e,this.data=new zr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dC(this.data.getIterator())}getIteratorFrom(e){return new dC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Hr)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Hr(this.comparator);return t.data=e,t}}class dC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Mp(n){return n.hasNext()?n.getNext():void 0}class qc{constructor(e){this.fields=e,e.sort(Ho.comparator)}static empty(){return new qc([])}unionWith(e){let t=new Hr(Ho.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new qc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sp(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class hC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Os{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new hC("Invalid base64 string: "+r):r}}(e);return new Os(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Os(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Os.EMPTY_BYTE_STRING=new Os("");const X2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Op(n){if(bn(!!n),"string"==typeof n){let e=0;const t=X2.exec(n);if(bn(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:is(n.seconds),nanos:is(n.nanos)}}function is(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function gf(n){return"string"==typeof n?Os.fromBase64String(n):Os.fromUint8Array(n)}function pv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Rp(n){const e=n.mapValue.fields.__previous_value__;return pv(e)?Rp(e):e}function mv(n){const e=Op(n.mapValue.fields.__local_write_time__.timestampValue);return new ho(e.seconds,e.nanos)}class lP{constructor(e,t,i,r,s,u,m,v,C){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=v,this.useFetchStreams=C}}class Ch{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ch("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ch&&e.projectId===this.projectId&&e.database===this.database}}const au={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$b={nullValue:"NULL_VALUE"};function _f(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pv(n)?4:wS(n)?9007199254740991:10:ln()}function Ad(n,e){if(n===e)return!0;const t=_f(n);if(t!==_f(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mv(n).isEqual(mv(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Op(i.timestampValue),u=Op(r.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,gf(n.bytesValue).isEqual(gf(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return is(i.geoPointValue.latitude)===is(r.geoPointValue.latitude)&&is(i.geoPointValue.longitude)===is(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return is(i.integerValue)===is(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=is(i.doubleValue),u=is(r.doubleValue);return s===u?Wm(s)===Wm(u):isNaN(s)&&isNaN(u)}return!1}(n,e);case 9:return Sp(n.arrayValue.values||[],e.arrayValue.values||[],Ad);case 10:return function(i,r){const s=i.mapValue.fields||{},u=r.mapValue.fields||{};if(vS(s)!==vS(u))return!1;for(const m in s)if(s.hasOwnProperty(m)&&(void 0===u[m]||!Ad(s[m],u[m])))return!1;return!0}(n,e);default:return ln()}var r}function gv(n,e){return void 0!==(n.values||[]).find(t=>Ad(t,e))}function Pp(n,e){if(n===e)return 0;const t=_f(n),i=_f(e);if(t!==i)return Zn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zn(n.booleanValue,e.booleanValue);case 2:return function(r,s){const u=is(r.integerValue||r.doubleValue),m=is(s.integerValue||s.doubleValue);return u<m?-1:u>m?1:u===m?0:isNaN(u)?isNaN(m)?0:-1:1}(n,e);case 3:return yS(n.timestampValue,e.timestampValue);case 4:return yS(mv(n),mv(e));case 5:return Zn(n.stringValue,e.stringValue);case 6:return function(r,s){const u=gf(r),m=gf(s);return u.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const u=r.split("/"),m=s.split("/");for(let v=0;v<u.length&&v<m.length;v++){const C=Zn(u[v],m[v]);if(0!==C)return C}return Zn(u.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const u=Zn(is(r.latitude),is(s.latitude));return 0!==u?u:Zn(is(r.longitude),is(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const u=r.values||[],m=s.values||[];for(let v=0;v<u.length&&v<m.length;++v){const C=Pp(u[v],m[v]);if(C)return C}return Zn(u.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===au.mapValue&&s===au.mapValue)return 0;if(r===au.mapValue)return 1;if(s===au.mapValue)return-1;const u=r.fields||{},m=Object.keys(u),v=s.fields||{},C=Object.keys(v);m.sort(),C.sort();for(let M=0;M<m.length&&M<C.length;++M){const L=Zn(m[M],C[M]);if(0!==L)return L;const G=Pp(u[m[M]],v[C[M]]);if(0!==G)return G}return Zn(m.length,C.length)}(n.mapValue,e.mapValue);default:throw ln()}}function yS(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zn(n,e);const t=Op(n),i=Op(e),r=Zn(t.seconds,i.seconds);return 0!==r?r:Zn(t.nanos,i.nanos)}function kp(n){return fC(n)}function fC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Op(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?gf(n.bytesValue).toBase64():"referenceValue"in n?Gt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const u of i.values||[])s?s=!1:r+=",",r+=fC(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",u=!0;for(const m of r)u?u=!1:s+=",",s+=`${m}:${fC(i.fields[m])}`;return s+"}"}(n.mapValue):ln();var e}function Bu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function pC(n){return!!n&&"integerValue"in n}function Ym(n){return!!n&&"arrayValue"in n}function bS(n){return!!n&&"nullValue"in n}function mC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qb(n){return!!n&&"mapValue"in n}function Qm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return su(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Qm(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function wS(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function gC(n){return"nullValue"in n?$b:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Bu(Ch.empty(),Gt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ln()}function uP(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Bu(Ch.empty(),Gt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?au:ln()}function _C(n,e){const t=Pp(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function vC(n,e){const t=Pp(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ya{constructor(e){this.value=e}static empty(){return new ya({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!qb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qm(t)}setAll(e){let t=Ho.emptyPath(),i={},r=[];e.forEach((u,m)=>{if(!t.isImmediateParentOf(m)){const v=this.getFieldsMap(t);this.applyChanges(v,i,r),i={},r=[],t=m.popLast()}u?i[m.lastSegment()]=Qm(u):r.push(m.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());qb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ad(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];qb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){su(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new ya(Qm(this.value))}}function ES(n){const e=[];return su(n.fields,(t,i)=>{const r=new Ho([t]);if(qb(i)){const s=ES(i.mapValue).fields;if(0===s.length)e.push(r);else for(const u of s)e.push(r.child(u))}else e.push(r)}),new qc(e)}class ro{constructor(e,t,i,r,s,u,m){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=u,this.documentState=m}static newInvalidDocument(e){return new ro(e,0,In.min(),In.min(),In.min(),ya.empty(),0)}static newFoundDocument(e,t,i,r){return new ro(e,1,t,In.min(),i,r,0)}static newNoDocument(e,t){return new ro(e,2,t,In.min(),In.min(),ya.empty(),0)}static newUnknownDocument(e,t){return new ro(e,3,t,In.min(),In.min(),ya.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(In.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ya.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ya.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=In.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ro&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ro(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Md{constructor(e,t){this.position=e,this.inclusive=t}}function CS(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],u=n.position[r];if(i=s.field.isKeyField()?Gt.comparator(Gt.fromName(u.referenceValue),t.key):Pp(u,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function yC(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ad(n.position[t],e.position[t]))return!1;return!0}class Xm{constructor(e,t="asc"){this.field=e,this.dir=t}}function dP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class xS{}class Ri extends xS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new hP(e,t,i):"array-contains"===t?new xC(e,i):"in"===t?new Zb(e,i):"not-in"===t?new SS(e,i):"array-contains-any"===t?new IC(e,i):new Ri(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new fP(e,i):new pP(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Pp(t,this.value)):null!==t&&_f(this.value)===_f(t)&&this.matchesComparison(Pp(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ln()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class fr extends xS{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new fr(e,t)}matches(e){return Jm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Jm(n){return"and"===n.op}function bC(n){return"or"===n.op}function wC(n){return EC(n)&&Jm(n)}function EC(n){for(const e of n.filters)if(e instanceof fr)return!1;return!0}function Wb(n){if(n instanceof Ri)return n.field.canonicalString()+n.op.toString()+kp(n.value);if(wC(n))return n.filters.map(e=>Wb(e)).join(",");{const e=n.filters.map(t=>Wb(t)).join(",");return`${n.op}(${e})`}}function IS(n,e){return n instanceof Ri?(t=n,(i=e)instanceof Ri&&t.op===i.op&&t.field.isEqual(i.field)&&Ad(t.value,i.value)):n instanceof fr?function(t,i){return i instanceof fr&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,u)=>r&&IS(s,i.filters[u]),!0)}(n,e):void ln();var t,i}function TS(n,e){const t=n.filters.concat(e);return fr.create(t,n.op)}function CC(n){return n instanceof Ri?`${(e=n).field.canonicalString()} ${e.op} ${kp(e.value)}`:n instanceof fr?function(e){return e.op.toString()+" {"+e.getFilters().map(CC).join(" ,")+"}"}(n):"Filter";var e}class hP extends Ri{constructor(e,t,i){super(e,t,i),this.key=Gt.fromName(i.referenceValue)}matches(e){const t=Gt.comparator(e.key,this.key);return this.matchesComparison(t)}}class fP extends Ri{constructor(e,t){super(e,"in",t),this.keys=DS(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pP extends Ri{constructor(e,t){super(e,"not-in",t),this.keys=DS(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function DS(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Gt.fromName(i.referenceValue))}class xC extends Ri{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ym(t)&&gv(t.arrayValue,this.value)}}class Zb extends Ri{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&gv(this.value.arrayValue,t)}}class SS extends Ri{constructor(e,t){super(e,"not-in",t)}matches(e){if(gv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!gv(this.value.arrayValue,t)}}class IC extends Ri{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ym(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>gv(this.value.arrayValue,i))}}class mP{constructor(e,t=null,i=[],r=[],s=null,u=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=u,this.endAt=m,this.dt=null}}function TC(n,e=null,t=[],i=[],r=null,s=null,u=null){return new mP(n,e,t,i,r,s,u)}function xh(n){const e=qt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Wb(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Vb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>kp(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>kp(i)).join(",")),e.dt=t}return e.dt}function _v(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!IS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!yC(n.startAt,e.startAt)&&yC(n.endAt,e.endAt)}function vv(n){return Gt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Od(n,e){return n.filters.filter(t=>t instanceof Ri&&t.field.isEqual(e))}function DC(n,e,t){let i=$b,r=!0;for(const s of Od(n,e)){let u=$b,m=!0;switch(s.op){case"<":case"<=":u=gC(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,m=!1;break;case"!=":case"not-in":u=$b}_C({value:i,inclusive:r},{value:u,inclusive:m})<0&&(i=u,r=m)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];_C({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function AS(n,e,t){let i=au,r=!0;for(const s of Od(n,e)){let u=au,m=!0;switch(s.op){case">=":case">":u=uP(s.value),m=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,m=!1;break;case"!=":case"not-in":u=au}vC({value:i,inclusive:r},{value:u,inclusive:m})>0&&(i=u,r=m)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];vC({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class vf{constructor(e,t=null,i=[],r=[],s=null,u="F",m=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=u,this.startAt=m,this.endAt=v,this.wt=null,this._t=null}}function Kb(n,e,t,i,r,s,u,m){return new vf(n,e,t,i,r,s,u,m)}function yf(n){return new vf(n)}function MS(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Yb(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function yv(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function SC(n){return null!==n.collectionGroup}function bf(n){const e=qt(n);if(null===e.wt){e.wt=[];const t=yv(e),i=Yb(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Xm(t)),e.wt.push(new Xm(Ho.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Xm(Ho.keyField(),s))}}}return e.wt}function ba(n){const e=qt(n);if(!e._t)if("F"===e.limitType)e._t=TC(e.path,e.collectionGroup,bf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of bf(e))t.push(new Xm(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Md(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Md(e.startAt.position,e.startAt.inclusive):null;e._t=TC(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function Qb(n,e){e.getFirstInequalityField(),yv(n);const t=n.filters.concat([e]);return new vf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function bv(n,e,t){return new vf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function eg(n,e){return _v(ba(n),ba(e))&&n.limitType===e.limitType}function AC(n){return`${xh(ba(n))}|lt:${n.limitType}`}function MC(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>CC(i)).join(", ")}]`),Vb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>kp(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>kp(i)).join(",")),`Target(${t})`}(ba(n))}; limitType=${n.limitType})`}function wv(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Gt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of bf(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,u){const m=CS(r,s,u);return r.inclusive?m<=0:m<0}(t.startAt,bf(t),i)||t.endAt&&!function(r,s,u){const m=CS(r,s,u);return r.inclusive?m>=0:m>0}(t.endAt,bf(t),i)));var t,i}function OS(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function RS(n){return(e,t)=>{let i=!1;for(const r of bf(n)){const s=PS(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function PS(n,e,t){const i=n.field.isKeyField()?Gt.comparator(e.key,t.key):function(r,s,u){const m=s.data.field(r),v=u.data.field(r);return null!==m&&null!==v?Pp(m,v):ln()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ln()}}class wf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){su(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return Km(this.inner)}size(){return this.innerSize}}const kS=new zr(Gt.comparator);function Wc(){return kS}const NS=new zr(Gt.comparator);function Xb(...n){let e=NS;for(const t of n)e=e.insert(t.key,t);return e}function FS(n){let e=NS;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Rd(){return tg()}function OC(){return tg()}function tg(){return new wf(n=>n.toString(),(n,e)=>n.isEqual(e))}const LS=new zr(Gt.comparator),gP=new Hr(Gt.comparator);function li(...n){let e=gP;for(const t of n)e=e.add(t);return e}const _P=new Hr(Zn);function RC(){return _P}function US(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wm(e)?"-0":e}}function VS(n){return{integerValue:""+n}}function BS(n,e){return uC(e)?VS(e):US(n,e)}class Ef{constructor(){this._=void 0}}function jS(n,e,t){return n instanceof Np?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&pv(r)&&(r=Rp(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof Cf?kC(n,e):n instanceof Fp?vP(n,e):function(i,r){const s=PC(i,r),u=NC(s)+NC(i.gt);return pC(s)&&pC(i.gt)?VS(u):US(i.serializer,u)}(n,e)}function zS(n,e,t){return n instanceof Cf?kC(n,e):n instanceof Fp?vP(n,e):t}function PC(n,e){return n instanceof Ev?pC(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Np extends Ef{}class Cf extends Ef{constructor(e){super(),this.elements=e}}function kC(n,e){const t=FC(e);for(const i of n.elements)t.some(r=>Ad(r,i))||t.push(i);return{arrayValue:{values:t}}}class Fp extends Ef{constructor(e){super(),this.elements=e}}function vP(n,e){let t=FC(e);for(const i of n.elements)t=t.filter(r=>!Ad(r,i));return{arrayValue:{values:t}}}class Ev extends Ef{constructor(e,t){super(),this.serializer=e,this.gt=t}}function NC(n){return is(n.integerValue||n.doubleValue)}function FC(n){return Ym(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Cv{constructor(e,t){this.field=e,this.transform=t}}class bP{constructor(e,t){this.version=e,this.transformResults=t}}class Dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Lp{}function HS(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new rg(n.key,Dr.none()):new ig(n.key,n.data,Dr.none());{const t=n.data,i=ya.empty();let r=new Hr(Ho.comparator);for(let s of e.fields)if(!r.has(s)){let u=t.field(s);null===u&&s.length>1&&(s=s.popLast(),u=t.field(s)),null===u?i.delete(s):i.set(s,u),r=r.add(s)}return new Ih(n.key,i,new qc(r.toArray()),Dr.none())}}function J2(n,e,t){n instanceof ig?function(i,r,s){const u=i.value.clone(),m=Iv(i.fieldTransforms,r,s.transformResults);u.setAll(m),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Ih?function(i,r,s){if(!Jb(i.precondition,r))return void r.convertToUnknownDocument(s.version);const u=Iv(i.fieldTransforms,r,s.transformResults),m=r.data;m.setAll($S(i)),m.setAll(u),r.convertToFoundDocument(s.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function xv(n,e,t,i){return n instanceof ig?function(r,s,u,m){if(!Jb(r.precondition,s))return u;const v=r.value.clone(),C=LC(r.fieldTransforms,m,s);return v.setAll(C),s.convertToFoundDocument(s.version,v).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ih?function(r,s,u,m){if(!Jb(r.precondition,s))return u;const v=LC(r.fieldTransforms,m,s),C=s.data;return C.setAll($S(r)),C.setAll(v),s.convertToFoundDocument(s.version,C).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(M=>M.field))}(n,e,t,i):(u=t,Jb(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u);var s,u}function eU(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=PC(i.transform,r||null);null!=s&&(null===t&&(t=ya.empty()),t.set(i.field,s))}return t||null}function ng(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Sp(t,i,(r,s)=>function yP(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Cf&&i instanceof Cf||t instanceof Fp&&i instanceof Fp?Sp(t.elements,i.elements,Ad):t instanceof Ev&&i instanceof Ev?Ad(t.gt,i.gt):t instanceof Np&&i instanceof Np);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class ig extends Lp{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ih extends Lp{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $S(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Iv(n,e,t){const i=new Map;bn(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],u=s.transform,m=e.data.field(s.field);i.set(s.field,zS(u,m,t[r]))}return i}function LC(n,e,t){const i=new Map;for(const r of n){const s=r.transform,u=t.data.field(r.field);i.set(r.field,jS(s,u,e))}return i}class rg extends Lp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e0 extends Lp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class og{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&J2(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=xv(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=xv(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=OC();return this.mutations.forEach(r=>{const s=e.get(r.key),u=s.overlayedDocument;let m=this.applyToLocalView(u,s.mutatedFields);m=t.has(r.key)?null:m;const v=HS(u,m);null!==v&&i.set(r.key,v),u.isValidDocument()||u.convertToNoDocument(In.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),li())}isEqual(e){return this.batchId===e.batchId&&Sp(this.mutations,e.mutations,(t,i)=>ng(t,i))&&Sp(this.baseMutations,e.baseMutations,(t,i)=>ng(t,i))}}class UC{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){bn(e.mutations.length===i.length);let r=LS;const s=e.mutations;for(let u=0;u<s.length;u++)r=r.insert(s[u].key,i[u].version);return new UC(e,t,i,r)}}class VC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wP{constructor(e,t){this.count=e,this.unchangedNames=t}}var ps,Li;function Tv(n){switch(n){default:return ln();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0}}function qS(n){if(void 0===n)return io("GRPC error has no .code"),tt.UNKNOWN;switch(n){case ps.OK:return tt.OK;case ps.CANCELLED:return tt.CANCELLED;case ps.UNKNOWN:return tt.UNKNOWN;case ps.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case ps.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case ps.INTERNAL:return tt.INTERNAL;case ps.UNAVAILABLE:return tt.UNAVAILABLE;case ps.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case ps.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case ps.NOT_FOUND:return tt.NOT_FOUND;case ps.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case ps.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case ps.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case ps.ABORTED:return tt.ABORTED;case ps.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case ps.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case ps.DATA_LOSS:return tt.DATA_LOSS;default:return ln()}}(Li=ps||(ps={}))[Li.OK=0]="OK",Li[Li.CANCELLED=1]="CANCELLED",Li[Li.UNKNOWN=2]="UNKNOWN",Li[Li.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Li[Li.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Li[Li.NOT_FOUND=5]="NOT_FOUND",Li[Li.ALREADY_EXISTS=6]="ALREADY_EXISTS",Li[Li.PERMISSION_DENIED=7]="PERMISSION_DENIED",Li[Li.UNAUTHENTICATED=16]="UNAUTHENTICATED",Li[Li.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Li[Li.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Li[Li.ABORTED=10]="ABORTED",Li[Li.OUT_OF_RANGE=11]="OUT_OF_RANGE",Li[Li.UNIMPLEMENTED=12]="UNIMPLEMENTED",Li[Li.INTERNAL=13]="INTERNAL",Li[Li.UNAVAILABLE=14]="UNAVAILABLE",Li[Li.DATA_LOSS=15]="DATA_LOSS";class BC{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Dv}static getOrCreateInstance(){return null===Dv&&(Dv=new BC),Dv}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Dv=null;function jC(){return new TextEncoder}const zC=new Ba([4294967295,4294967295],0);function HC(n){const e=jC().encode(n),t=new Vu;return t.update(e),new Uint8Array(t.digest())}function WS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ba([t,i],0),new Ba([r,s],0)]}class t0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new sg(`Invalid padding: ${t}`);if(i<0)throw new sg(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new sg(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new sg(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Ba.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(Ba.fromNumber(i)));return 1===r.compare(zC)&&(r=new Ba([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=HC(e),[i,r]=WS(t);for(let s=0;s<this.hashCount;s++){const u=this.Et(i,r,s);if(!this.At(u))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),u=new t0(s,r,t);return i.forEach(m=>u.insert(m)),u}insert(e){if(0===this.It)return;const t=HC(e),[i,r]=WS(t);for(let s=0;s<this.hashCount;s++){const u=this.Et(i,r,s);this.Rt(u)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class sg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sv{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Av.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Sv(In.min(),r,new zr(Zn),Wc(),li())}}class Av{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Av(i,t,li(),li(),li())}}class ag{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class n0{constructor(e,t){this.targetId=e,this.Vt=t}}class $C{constructor(e,t,i=Os.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class r0{constructor(){this.St=0,this.Dt=KS(),this.Ct=Os.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=li(),t=li(),i=li();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ln()}}),new Av(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=KS()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class GC{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Wc(),this.zt=ZS(),this.Wt=new zr(Zn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:ln()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,s=this.se(i);if(s){const u=s.target;if(vv(u))if(0===r){const m=new Gt(u.path);this.Yt(i,m,ro.newNoDocument(m,In.min()))}else bn(1===r);else{const m=this.ie(i);if(m!==r){const v=this.re(e,m);0!==v&&(this.ee(i),this.Wt=this.Wt.insert(i,2===v?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=BC.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(C,M,L){var G,ne,ae,ye,We,wt;const Ot={localCacheCount:M,existenceFilterCount:L.count},Mt=L.unchangedNames;return Mt&&(Ot.bloomFilter={applied:0===C,hashCount:null!==(G=Mt?.hashCount)&&void 0!==G?G:0,bitmapLength:null!==(ye=null===(ae=null===(ne=Mt?.bits)||void 0===ne?void 0:ne.bitmap)||void 0===ae?void 0:ae.length)&&void 0!==ye?ye:0,padding:null!==(wt=null===(We=Mt?.bits)||void 0===We?void 0:We.padding)&&void 0!==wt?wt:0}),Ot}(v,m,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:u=0},hashCount:m=0}=i;let v,C;try{v=gf(s).toUint8Array()}catch(M){if(M instanceof hC)return ru("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw M}try{C=new t0(v,u,m)}catch(M){return ru(M instanceof sg?"BloomFilter error: ":"Applying bloom filter failed: ",M),1}return 0===C.It?1:r!==t-this.oe(e.targetId,C)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const u=this.Gt.ue(),m=`projects/${u.projectId}/databases/${u.database}/documents/${s.path.canonicalString()}`;t.vt(m)||(this.Yt(e,s,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((s,u)=>{const m=this.se(u);if(m){if(s.current&&vv(m.target)){const v=new Gt(m.target.path);null!==this.jt.get(v)||this.ae(u,v)||this.Yt(u,v,ro.newNoDocument(v,e))}s.Mt&&(t.set(u,s.Ot()),s.Ft())}});let i=li();this.zt.forEach((s,u)=>{let m=!0;u.forEachWhile(v=>{const C=this.se(v);return!C||"TargetPurposeLimboResolution"===C.purpose||(m=!1,!1)}),m&&(i=i.add(s))}),this.jt.forEach((s,u)=>u.setReadTime(e));const r=new Sv(e,t,this.Wt,this.jt,i);return this.jt=Wc(),this.zt=ZS(),this.Wt=new zr(Zn),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new r0,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Hr(Zn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Tt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new r0),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function ZS(){return new zr(Gt.comparator)}function KS(){return new zr(Gt.comparator)}const EP={asc:"ASCENDING",desc:"DESCENDING"},CP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YS={and:"AND",or:"OR"};class qC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function o0(n,e){return n.useProto3Json||Vb(e)?e:{value:e}}function Up(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function QS(n,e){return Up(n,e.toTimestamp())}function rs(n){return bn(!!n),In.fromTimestamp(function(e){const t=Op(e);return new ho(t.seconds,t.nanos)}(n))}function s0(n,e){return(t=n,new ji(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ZC(n){const e=ji.fromString(n);return bn(Ov(e)),e}function Mv(n,e){return s0(n.databaseId,e.path)}function ju(n,e){const t=ZC(e);if(t.get(1)!==n.databaseId.projectId)throw new vt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new vt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Gt(XS(t))}function a0(n,e){return s0(n.databaseId,e)}function ja(n){const e=ZC(n);return 4===e.length?ji.emptyPath():XS(e)}function Pd(n){return new ji(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function XS(n){return bn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function JS(n,e,t){return{name:Mv(n,e),fields:t.value.mapValue.fields}}function xP(n,e,t){const i=ju(n,e.name),r=rs(e.updateTime),s=e.createTime?rs(e.createTime):In.min(),u=new ya({mapValue:{fields:e.fields}}),m=ro.newFoundDocument(i,r,s,u);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function Vp(n,e){let t;if(e instanceof ig)t={update:JS(n,e.key,e.value)};else if(e instanceof rg)t={delete:Mv(n,e.key)};else if(e instanceof Ih)t={update:JS(n,e.key,e.data),updateMask:SP(e.fieldMask)};else{if(!(e instanceof e0))return ln();t={verify:Mv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const u=s.transform;if(u instanceof Np)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Cf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Fp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ev)return{fieldPath:s.field.canonicalString(),increment:u.gt};throw ln()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:QS(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ln()),t;var r}function tA(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Dr.updateTime(rs(r.updateTime)):void 0!==r.exists?Dr.exists(r.exists):Dr.none():Dr.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,u){let m=null;"setToServerValue"in u?(bn("REQUEST_TIME"===u.setToServerValue),m=new Np):"appendMissingElements"in u?m=new Cf(u.appendMissingElements.values||[]):"removeAllFromArray"in u?m=new Fp(u.removeAllFromArray.values||[]):"increment"in u?m=new Ev(s,u.increment):ln();const v=Ho.fromServerFormat(u.fieldPath);return new Cv(v,m)}(n,r)):[];var r;if(e.update){const r=ju(n,e.update.name),s=new ya({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new qc((e.updateMask.fieldPaths||[]).map(C=>Ho.fromServerFormat(C)));return new Ih(r,s,u,t,i)}return new ig(r,s,t,i)}if(e.delete){const r=ju(n,e.delete);return new rg(r,t)}if(e.verify){const r=ju(n,e.verify);return new e0(r,t)}return ln()}function IP(n,e){return{documents:[a0(n,e.path)]}}function Bp(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=a0(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=a0(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(v){if(0!==v.length)return YC(fr.create(v,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(v){if(0!==v.length)return v.map(C=>{return{field:xf((M=C).field),direction:rA(M.dir)};var M})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=o0(n,e.limit);var m,v;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function nA(n){let e=ja(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){bn(1===i);const M=t.from[0];M.allDescendants?r=M.collectionId:e=e.child(M.collectionId)}let s=[];t.where&&(s=function(M){const L=iA(M);return L instanceof fr&&wC(L)?L.getFilters():[L]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(M=>{return new Xm(If((L=M).field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction));var L}));let m=null;t.limit&&(m=function(M){let L;return L="object"==typeof M?M.value:M,Vb(L)?null:L}(t.limit));let v=null;var M;t.startAt&&(v=new Md((M=t.startAt).values||[],!!M.before));let C=null;return t.endAt&&(C=function(M){return new Md(M.values||[],!M.before)}(t.endAt)),Kb(e,r,u,s,m,"F",v,C)}function iA(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=If(e.unaryFilter.field);return Ri.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=If(e.unaryFilter.field);return Ri.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=If(e.unaryFilter.field);return Ri.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=If(e.unaryFilter.field);return Ri.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ln()}}(n):void 0!==n.fieldFilter?Ri.create(If((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ln()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return fr.create(e.compositeFilter.filters.map(t=>iA(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ln()}}(e.compositeFilter.op))}(n):ln();var e}function rA(n){return EP[n]}function TP(n){return CP[n]}function DP(n){return YS[n]}function xf(n){return{fieldPath:n.canonicalString()}}function If(n){return Ho.fromServerFormat(n.fieldPath)}function YC(n){return n instanceof Ri?function(e){if("=="===e.op){if(mC(e.value))return{unaryFilter:{field:xf(e.field),op:"IS_NAN"}};if(bS(e.value))return{unaryFilter:{field:xf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(mC(e.value))return{unaryFilter:{field:xf(e.field),op:"IS_NOT_NAN"}};if(bS(e.value))return{unaryFilter:{field:xf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xf(e.field),op:TP(e.op),value:e.value}}}(n):n instanceof fr?function(e){const t=e.getFilters().map(i=>YC(i));return 1===t.length?t[0]:{compositeFilter:{op:DP(e.op),filters:t}}}(n):ln()}function SP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ov(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class zu{constructor(e,t,i,r,s=In.min(),u=In.min(),m=Os.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=v}withSequenceNumber(e){return new zu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class AP{constructor(e){this.fe=e}}function sA(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Rv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Mv(r=n.fe,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Up(r,s.version.toTimestamp()),createTime:Up(r,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:cu(e.version)};else{if(!e.isUnknownDocument())return ln();i.unknownDocument={path:t.path.toArray(),version:cu(e.version)}}var r,s;return i}function Rv(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function cu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function jp(n){const e=new ho(n.seconds,n.nanoseconds);return In.fromTimestamp(e)}function Tf(n,e){const t=(e.baseMutations||[]).map(s=>tA(n.fe,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const i=e.mutations.map(s=>tA(n.fe,s)),r=ho.fromMillis(e.localWriteTimeMs);return new og(e.batchId,r,t,i)}function zp(n){const e=jp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?jp(n.lastLimboFreeSnapshotVersion):In.min();let i;var r;return void 0!==n.query.documents?(bn(1===(r=n.query).documents.length),i=ba(yf(ja(r.documents[0])))):i=ba(nA(n.query)),new zu(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Os.fromBase64String(n.resumeToken))}function MP(n,e){const t=cu(e.snapshotVersion),i=cu(e.lastLimboFreeSnapshotVersion);let r;r=vv(e.target)?IP(n.fe,e.target):Bp(n.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xh(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function QC(n){const e=nA({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?bv(e,e.limit,"L"):e}function aA(n,e){return new VC(e.largestBatchId,tA(n.fe,e.overlayMutation))}function cA(n,e){const t=e.path.lastSegment();return[n,hc(e.path.popLast()),t]}function lA(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:cu(i.readTime),documentKey:hc(i.documentKey.path),largestBatchId:i.largestBatchId}}class OP{getBundleMetadata(e,t){return XC(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:jp(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return XC(e).put({bundleId:(i=t).id,createTime:cu(rs(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return JC(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:QC(r.bundledQuery),readTime:jp(r.readTime)};var r})}saveNamedQuery(e,t){return JC(e).put({name:(i=t).name,readTime:cu(rs(i.readTime)),bundledQuery:i.bundledQuery});var i}}function XC(n){return Ms(n,"bundles")}function JC(n){return Ms(n,"namedQueries")}class c0{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new c0(e,t.uid||"")}getOverlay(e,t){return cg(e).get(cA(this.userId,t)).next(i=>i?aA(this.serializer,i):null)}getOverlays(e,t){const i=Rd();return Ke.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,u)=>{const m=new VC(t,u);r.push(this.we(e,m))}),Ke.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(hc(u.getCollectionPath())));const s=[];return r.forEach(u=>{const m=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);s.push(cg(e).J("collectionPathOverlayIndex",m))}),Ke.waitFor(s)}getOverlaysForCollection(e,t,i){const r=Rd(),s=hc(t),u=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return cg(e).j("collectionPathOverlayIndex",u).next(m=>{for(const v of m){const C=aA(this.serializer,v);r.set(C.getKey(),C)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=Rd();let u;const m=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return cg(e).X({index:"collectionGroupOverlayIndex",range:m},(v,C,M)=>{const L=aA(this.serializer,C);s.size()<r||L.largestBatchId===u?(s.set(L.getKey(),L),u=L.largestBatchId):M.done()}).next(()=>s)}we(e,t){return cg(e).put(function(i,r,s){const[u,m,v]=cA(r,s.mutation.key);return{userId:r,collectionPath:m,documentId:v,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Vp(i.fe,s.mutation)}}(this.serializer,this.userId,t))}}function cg(n){return Ms(n,"documentOverlays")}class Df{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(is(e.integerValue));else if("doubleValue"in e){const i=is(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Wm(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(gf(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?wS(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ln()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),Gt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function RP(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function uA(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=RP(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}Df.Ve=new Df;class dA{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=uA(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=uA(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class PP{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class hA{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class lg{constructor(){this.je=new dA,this.ze=new PP(this.je),this.We=new hA(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Sf{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Sf(this.indexId,this.documentKey,this.arrayValue,i)}}function Th(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=fA(n.arrayValue,e.arrayValue),0!==t?t:(t=fA(n.directionalValue,e.directionalValue),0!==t?t:Gt.comparator(n.documentKey,e.documentKey)))}function fA(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class kP{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){bn(e.collectionGroup===this.collectionId);const t=oC(e);if(void 0!==t&&!this.en(t))return!1;const i=Ap(e);let r=new Set,s=0,u=0;for(;s<i.length&&this.en(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const m=i[s];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[u++],m))return!1}++s}for(;s<i.length;++s)if(u>=this.Ye.length||!this.sn(this.Ye[u++],i[s]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function NP(n){var e,t;if(bn(n instanceof Ri||n instanceof fr),n instanceof Ri){if(n instanceof Zb){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>Ri.create(n.field,"==",s)))||[];return fr.create(r,"or")}return n}const i=n.filters.map(r=>NP(r));return fr.create(i,n.op)}function pA(n){if(0===n.getFilters().length)return[];const e=_A(NP(n));return bn(FP(e)),mA(e)||gA(e)?[e]:e.getFilters()}function mA(n){return n instanceof Ri}function gA(n){return n instanceof fr&&wC(n)}function FP(n){return mA(n)||gA(n)||function(e){if(e instanceof fr&&bC(e)){for(const t of e.getFilters())if(!mA(t)&&!gA(t))return!1;return!0}return!1}(n)}function _A(n){if(bn(n instanceof Ri||n instanceof fr),n instanceof Ri)return n;if(1===n.filters.length)return _A(n.filters[0]);const e=n.filters.map(i=>_A(i));let t=fr.create(e,n.op);return t=ex(t),FP(t)?t:(bn(t instanceof fr),bn(Jm(t)),bn(t.filters.length>1),t.filters.reduce((i,r)=>vA(i,r)))}function vA(n,e){let t;return bn(n instanceof Ri||n instanceof fr),bn(e instanceof Ri||e instanceof fr),t=n instanceof Ri?e instanceof Ri?fr.create([n,e],"and"):LP(n,e):e instanceof Ri?LP(e,n):function(i,r){if(bn(i.filters.length>0&&r.filters.length>0),Jm(i)&&Jm(r))return TS(i,r.getFilters());const s=bC(i)?i:r,u=bC(i)?r:i,m=s.filters.map(v=>vA(v,u));return fr.create(m,"or")}(n,e),ex(t)}function LP(n,e){if(Jm(e))return TS(e,n.getFilters());{const t=e.filters.map(i=>vA(n,i));return fr.create(t,"or")}}function ex(n){if(bn(n instanceof Ri||n instanceof fr),n instanceof Ri)return n;const e=n.getFilters();if(1===e.length)return ex(e[0]);if(EC(n))return n;const t=e.map(r=>ex(r)),i=[];return t.forEach(r=>{r instanceof Ri?i.push(r):r instanceof fr&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:fr.create(i,n.op)}class iU{constructor(){this.rn=new yA}addToCollectionParentIndex(e,t){return this.rn.add(t),Ke.resolve()}getCollectionParents(e,t){return Ke.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ke.resolve()}deleteFieldIndex(e,t){return Ke.resolve()}getDocumentsMatchingTarget(e,t){return Ke.resolve(null)}getIndexType(e,t){return Ke.resolve(0)}getFieldIndexes(e,t){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,t){return Ke.resolve(xl.min())}getMinOffsetFromCollectionGroup(e,t){return Ke.resolve(xl.min())}updateCollectionGroup(e,t,i){return Ke.resolve()}updateIndexEntries(e,t){return Ke.resolve()}}class yA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Hr(ji.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Hr(ji.comparator)).toArray()}}const Pv=new Uint8Array(0);class tx{constructor(e,t){this.user=e,this.databaseId=t,this.on=new yA,this.un=new wf(i=>xh(i),(i,r)=>_v(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const s={collectionId:i,parent:hc(r)};return nx(e).put(s)}return Ke.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[rC(t),""],!1,!0);return nx(e).j(r).next(s=>{for(const u of s){if(u.collectionId!==t)break;i.push(Sd(u.parent))}return i})}addFieldIndex(e,t){const i=Hp(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var u;delete r.indexId;const s=i.add(r);if(t.indexState){const u=Nv(e);return s.next(m=>{u.put(lA(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=Hp(e),r=Nv(e),s=kv(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=kv(e);let r=!0;const s=new Map;return Ke.forEach(this.cn(t),u=>this.an(e,u).next(m=>{r&&(r=!!m),s.set(u,m)})).next(()=>{if(r){let u=li();const m=[];return Ke.forEach(s,(v,C)=>{var M;Tt("IndexedDbIndexManager",`Using index ${M=v,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(Mt=>`${Mt.fieldPath}:${Mt.kind}`).join(",")}`} to execute ${xh(t)}`);const L=function(Mt,Lt){const Mn=oC(Lt);if(void 0===Mn)return null;for(const Pn of Od(Mt,Mn.fieldPath))switch(Pn.op){case"array-contains-any":return Pn.value.arrayValue.values||[];case"array-contains":return[Pn.value]}return null}(C,v),G=function(Mt,Lt){const Mn=new Map;for(const Pn of Ap(Lt))for(const Ui of Od(Mt,Pn.fieldPath))switch(Ui.op){case"==":case"in":Mn.set(Pn.fieldPath.canonicalString(),Ui.value);break;case"not-in":case"!=":return Mn.set(Pn.fieldPath.canonicalString(),Ui.value),Array.from(Mn.values())}return null}(C,v),ne=function(Mt,Lt){const Mn=[];let Pn=!0;for(const Ui of Ap(Lt)){const Wo=0===Ui.kind?DC(Mt,Ui.fieldPath,Mt.startAt):AS(Mt,Ui.fieldPath,Mt.startAt);Mn.push(Wo.value),Pn&&(Pn=Wo.inclusive)}return new Md(Mn,Pn)}(C,v),ae=function(Mt,Lt){const Mn=[];let Pn=!0;for(const Ui of Ap(Lt)){const Wo=0===Ui.kind?AS(Mt,Ui.fieldPath,Mt.endAt):DC(Mt,Ui.fieldPath,Mt.endAt);Mn.push(Wo.value),Pn&&(Pn=Wo.inclusive)}return new Md(Mn,Pn)}(C,v),ye=this.hn(v,C,ne),We=this.hn(v,C,ae),wt=this.ln(v,C,G),Ot=this.fn(v.indexId,L,ye,ne.inclusive,We,ae.inclusive,wt);return Ke.forEach(Ot,Mt=>i.H(Mt,t.limit).next(Lt=>{Lt.forEach(Mn=>{const Pn=Gt.fromSegments(Mn.documentKey);u.has(Pn)||(u=u.add(Pn),m.push(Pn))})}))}).next(()=>m)}return Ke.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:pA(fr.create(e.filters,"and")).map(i=>TC(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,s,u,m){const v=(null!=t?t.length:1)*Math.max(i.length,s.length),C=v/(null!=t?t.length:1),M=[];for(let L=0;L<v;++L){const G=t?this.dn(t[L/C]):Pv,ne=this.wn(e,G,i[L%C],r),ae=this._n(e,G,s[L%C],u),ye=m.map(We=>this.wn(e,G,We,!0));M.push(...this.createRange(ne,ae,ye))}return M}wn(e,t,i,r){const s=new Sf(e,Gt.empty(),t,i);return r?s:s.Je()}_n(e,t,i,r){const s=new Sf(e,Gt.empty(),t,i);return r?s.Je():s}an(e,t){const i=new kP(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let u=null;for(const m of s)i.tn(m)&&(!u||m.fields.length>u.fields.length)&&(u=m);return u})}getIndexType(e,t){let i=2;const r=this.cn(t);return Ke.forEach(r,s=>this.an(e,s).next(u=>{u?0!==i&&u.fields.length<function(m){let v=new Hr(Ho.comparator),C=!1;for(const M of m.filters)for(const L of M.getFlattenedFilters())L.field.isKeyField()||("array-contains"===L.op||"array-contains-any"===L.op?C=!0:v=v.add(L.field));for(const M of m.orderBy)M.field.isKeyField()||(v=v.add(M.field));return v.size+(C?1:0)}(s)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new lg;for(const r of Ap(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const u=i.He(r.kind);Df.Ve._e(s,u)}return i.Qe()}dn(e){const t=new lg;return Df.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new lg;return Df.Ve._e(Bu(this.databaseId,t),i.He(function(r){const s=Ap(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new lg);let s=0;for(const u of Ap(e)){const m=i[s++];for(const v of r)if(this.yn(t,u.fieldPath)&&Ym(m))r=this.pn(r,u,m);else{const C=v.He(u.kind);Df.Ve._e(m,C)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],s=[];for(const u of i.arrayValue.values||[])for(const m of r){const v=new lg;v.seed(m.Qe()),Df.Ve._e(u,v.He(t.kind)),s.push(v)}return s}yn(e,t){return!!e.filters.find(i=>i instanceof Ri&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Hp(e),r=Nv(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(s=>{const u=[];return Ke.forEach(s,m=>r.get([m.indexId,this.uid]).next(v=>{u.push(function(C,M){const L=M?new uv(M.sequenceNumber,new xl(jp(M.readTime),new Gt(Sd(M.documentKey)),M.largestBatchId)):uv.empty(),G=C.fields.map(([ne,ae])=>new Lb(Ho.fromServerFormat(ne),ae));return new Fb(C.indexId,C.collectionGroup,G,L)}(m,v))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Zn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Hp(e),s=Nv(e);return this.Tn(e).next(u=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>Ke.forEach(m,v=>s.put(lA(v.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return Ke.forEach(t,(r,s)=>{const u=i.get(r.collectionGroup);return(u?Ke.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(m=>(i.set(r.collectionGroup,m),Ke.forEach(m,v=>this.En(e,r,v).next(C=>{const M=this.An(s,v);return C.isEqual(M)?Ke.resolve():this.vn(e,s,v,C,M)}))))})}Rn(e,t,i,r){return kv(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return kv(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=kv(e);let s=new Hr(Th);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(u,m)=>{s=s.add(new Sf(i.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>s)}An(e,t){let i=new Hr(Th);const r=this.mn(t,e);if(null==r)return i;const s=oC(t);if(null!=s){const u=e.data.field(s.fieldPath);if(Ym(u))for(const m of u.arrayValue.values||[])i=i.add(new Sf(t.indexId,e.key,this.dn(m),r))}else i=i.add(new Sf(t.indexId,e.key,Pv,r));return i}vn(e,t,i,r,s){Tt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(m,v,C,M,L){const G=m.getIterator(),ne=v.getIterator();let ae=Mp(G),ye=Mp(ne);for(;ae||ye;){let We=!1,wt=!1;if(ae&&ye){const Ot=C(ae,ye);Ot<0?wt=!0:Ot>0&&(We=!0)}else null!=ae?wt=!0:We=!0;We?(M(ye),ye=Mp(ne)):wt?(L(ae),ae=Mp(G)):(ae=Mp(G),ye=Mp(ne))}}(r,s,Th,m=>{u.push(this.Rn(e,t,i,m))},m=>{u.push(this.Pn(e,t,i,m))}),Ke.waitFor(u)}Tn(e){let t=1;return Nv(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,m)=>Th(u,m)).filter((u,m,v)=>!m||0!==Th(u,v[m-1]));const r=[];r.push(e);for(const u of i){const m=Th(u,e),v=Th(u,t);if(0===m)r[0]=e.Je();else if(m>0&&v<0)r.push(u),r.push(u.Je());else if(v>0)break}r.push(t);const s=[];for(let u=0;u<r.length;u+=2){if(this.bn(r[u],r[u+1]))return[];s.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,Pv,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,Pv,[]]))}return s}bn(e,t){return Th(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(UP)}getMinOffset(e,t){return Ke.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||ln())).next(UP)}}function nx(n){return Ms(n,"collectionParents")}function kv(n){return Ms(n,"indexEntries")}function Hp(n){return Ms(n,"indexConfiguration")}function Nv(n){return Ms(n,"indexState")}function UP(n){bn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;sC(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new xl(e.readTime,e.documentKey,t)}const VP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class za{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new za(e,za.DEFAULT_COLLECTION_PERCENTILE,za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ix(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],u=IDBKeyRange.only(t.batchId);let m=0;const v=i.X({range:u},(M,L,G)=>(m++,G.delete()));s.push(v.next(()=>{bn(1===m)}));const C=[];for(const M of t.mutations){const L=cS(e,M.key.path,t.batchId);s.push(r.delete(L)),C.push(M.key)}return Ke.waitFor(s).next(()=>C)}function l0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ln();e=n.noDocument}return JSON.stringify(e).length}za.DEFAULT_COLLECTION_PERCENTILE=10,za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,za.DEFAULT=new za(41943040,za.DEFAULT_COLLECTION_PERCENTILE,za.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),za.DISABLED=new za(-1,0,0);class u0{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){bn(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new u0(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $p(e).X({index:"userMutationsIndex",range:i},(r,s,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=ug(e),u=$p(e);return u.add({}).next(m=>{bn("number"==typeof m);const v=new og(m,t,i,r),C=function(G,ne,ae){const ye=ae.baseMutations.map(wt=>Vp(G.fe,wt)),We=ae.mutations.map(wt=>Vp(G.fe,wt));return{userId:ne,batchId:ae.batchId,localWriteTimeMs:ae.localWriteTime.toMillis(),baseMutations:ye,mutations:We}}(this.serializer,this.userId,v),M=[];let L=new Hr((G,ne)=>Zn(G.canonicalString(),ne.canonicalString()));for(const G of r){const ne=cS(this.userId,G.key.path,m);L=L.add(G.key.path.popLast()),M.push(u.put(C)),M.push(s.put(ne,Bb))}return L.forEach(G=>{M.push(this.indexManager.addToCollectionParentIndex(e,G))}),e.addOnCommittedListener(()=>{this.Vn[m]=v.keys()}),Ke.waitFor(M).next(()=>v)})}lookupMutationBatch(e,t){return $p(e).get(t).next(i=>i?(bn(i.userId===this.userId),Tf(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?Ke.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return $p(e).X({index:"userMutationsIndex",range:r},(u,m,v)=>{m.userId===this.userId&&(bn(m.batchId>=i),s=Tf(this.serializer,m)),v.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return $p(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,s,u)=>{i=s.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $p(e).j("userMutationsIndex",t).next(i=>i.map(r=>Tf(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Eh(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return ug(e).X({range:r},(u,m,v)=>{const[C,M,L]=u,G=Sd(M);if(C===this.userId&&t.path.isEqual(G))return $p(e).get(L).next(ne=>{if(!ne)throw ln();bn(ne.userId===this.userId),s.push(Tf(this.serializer,ne))});v.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Hr(Zn);const r=[];return t.forEach(s=>{const u=Eh(this.userId,s.path),m=IDBKeyRange.lowerBound(u),v=ug(e).X({range:m},(C,M,L)=>{const[G,ne,ae]=C,ye=Sd(ne);G===this.userId&&s.path.isEqual(ye)?i=i.add(ae):L.done()});r.push(v)}),Ke.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=Eh(this.userId,i),u=IDBKeyRange.lowerBound(s);let m=new Hr(Zn);return ug(e).X({range:u},(v,C,M)=>{const[L,G,ne]=v,ae=Sd(G);L===this.userId&&i.isPrefixOf(ae)?ae.length===r&&(m=m.add(ne)):M.done()}).next(()=>this.Dn(e,m))}Dn(e,t){const i=[],r=[];return t.forEach(s=>{r.push($p(e).get(s).next(u=>{if(null===u)throw ln();bn(u.userId===this.userId),i.push(Tf(this.serializer,u))}))}),Ke.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return ix(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Ke.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ke.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return ug(e).X({range:i},(s,u,m)=>{if(s[0]===this.userId){const v=Sd(s[1]);r.push(v)}else m.done()}).next(()=>{bn(0===r.length)})})}containsKey(e,t){return bA(e,this.userId,t)}xn(e){return dg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function bA(n,e,t){const i=Eh(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let u=!1;return ug(n).X({range:s,Y:!0},(m,v,C)=>{const[M,L,G]=m;M===e&&L===r&&(u=!0),C.done()}).next(()=>u)}function $p(n){return Ms(n,"mutations")}function ug(n){return Ms(n,"documentMutations")}function dg(n){return Ms(n,"mutationQueues")}class kd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new kd(0)}static Mn(){return new kd(-1)}}class BP{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new kd(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>In.fromTimestamp(new ho(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>hg(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(bn(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return hg(e).X((u,m)=>{const v=zp(m);v.sequenceNumber<=t&&null===i.get(v.targetId)&&(r++,s.push(this.removeTargetData(e,v)))}).next(()=>Ke.waitFor(s)).next(()=>r)}forEachTarget(e,t){return hg(e).X((i,r)=>{const s=zp(r);t(s)})}$n(e){return wA(e).get("targetGlobalKey").next(t=>(bn(null!==t),t))}On(e,t){return wA(e).put("targetGlobalKey",t)}Fn(e,t){return hg(e).put(MP(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=xh(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return hg(e).X({range:r,index:"queryTargetsIndex"},(u,m,v)=>{const C=zp(m);_v(t,C.target)&&(s=C,v.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=Af(e);return t.forEach(u=>{const m=hc(u.path);r.push(s.put({targetId:i,path:m})),r.push(this.referenceDelegate.addReference(e,i,u))}),Ke.waitFor(r)}removeMatchingKeys(e,t,i){const r=Af(e);return Ke.forEach(t,s=>{const u=hc(s.path);return Ke.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=Af(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Af(e);let s=li();return r.X({range:i,Y:!0},(u,m,v)=>{const C=Sd(u[1]),M=new Gt(C);s=s.add(M)}).next(()=>s)}containsKey(e,t){const i=hc(t.path),r=IDBKeyRange.bound([i],[rC(i)],!1,!0);let s=0;return Af(e).X({index:"documentTargetsIndex",Y:!0,range:r},([u,m],v,C)=>{0!==u&&(s++,C.done())}).next(()=>s>0)}le(e,t){return hg(e).get(t).next(i=>i?zp(i):null)}}function hg(n){return Ms(n,"targets")}function wA(n){return Ms(n,"targetGlobal")}function Af(n){return Ms(n,"targetDocuments")}function EA([n,e],[t,i]){const r=Zn(n,t);return 0===r?Zn(e,i):r}class jP{constructor(e){this.Ln=e,this.buffer=new Hr(EA),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();EA(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class d0{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Tt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,dt.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Dd(i)?Tt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield wh(i)}yield t.Qn(3e5)}))}}class zP{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Ke.resolve(dc.ct);const i=new jP(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(VP)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VP):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,s,u,m,v,C;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(L=>(L>this.params.maximumSequenceNumbersToCollect?(Tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),r=this.params.maximumSequenceNumbersToCollect):r=L,u=Date.now(),this.nthSequenceNumber(e,r))).next(L=>(i=L,m=Date.now(),this.removeTargets(e,i,t))).next(L=>(s=L,v=Date.now(),this.removeOrphanedDocuments(e,i))).next(L=>(C=Date.now(),JE()<=Mu.in.DEBUG&&Tt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-M}ms\n\tDetermined least recently used ${r} in `+(m-u)+`ms\n\tRemoved ${s} targets in `+(v-m)+`ms\n\tRemoved ${L} documents in `+(C-v)+`ms\nTotal Duration: ${C-M}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:L})))}}class HP{constructor(e,t){this.db=e,this.garbageCollector=function CA(n,e){return new zP(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return h0(e,i)}removeReference(e,t,i){return h0(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return h0(e,t)}Xn(e,t){return function(i,r){let s=!1;return dg(i).Z(u=>bA(i,u,r).next(m=>(m&&(s=!0),Ke.resolve(!m)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(e,(u,m)=>{if(m<=t){const v=this.Xn(e,u).next(C=>{if(!C)return s++,i.getEntry(e,u).next(()=>(i.removeEntry(u,In.min()),Af(e).delete([0,hc(u.path)])))});r.push(v)}}).next(()=>Ke.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return h0(e,t)}Yn(e,t){const i=Af(e);let r,s=dc.ct;return i.X({index:"documentTargetsIndex"},([u,m],{path:v,sequenceNumber:C})=>{0===u?(s!==dc.ct&&t(new Gt(Sd(r)),s),s=C,r=v):s=dc.ct}).next(()=>{s!==dc.ct&&t(new Gt(Sd(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function h0(n,e){return Af(n).put((i=n.currentSequenceNumber,{targetId:0,path:hc(e.path),sequenceNumber:i}));var i}class xA{constructor(){this.changes=new wf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ro.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Ke.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $P{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Mf(e).put(i)}removeEntry(e,t,i){return Mf(e).delete(function(r,s){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Rv(s),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=ro.newInvalidDocument(t);return Mf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Gp(t))},(r,s)=>{i=this.ts(t,s)}).next(()=>i)}es(e,t){let i={size:0,document:ro.newInvalidDocument(t)};return Mf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Gp(t))},(r,s)=>{i={document:this.ts(t,s),size:l0(s)}}).next(()=>i)}getEntries(e,t){let i=Wc();return this.ns(e,t,(r,s)=>{const u=this.ts(r,s);i=i.insert(r,u)}).next(()=>i)}ss(e,t){let i=Wc(),r=new zr(Gt.comparator);return this.ns(e,t,(s,u)=>{const m=this.ts(s,u);i=i.insert(s,m),r=r.insert(s,l0(u))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return Ke.resolve();let r=new Hr(SA);t.forEach(v=>r=r.add(v));const s=IDBKeyRange.bound(Gp(r.first()),Gp(r.last())),u=r.getIterator();let m=u.getNext();return Mf(e).X({index:"documentKeyIndex",range:s},(v,C,M)=>{const L=Gt.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;m&&SA(m,L)<0;)i(m,null),m=u.getNext();m&&m.isEqual(L)&&(i(m,C),m=u.hasNext()?u.getNext():null),m?M.G(Gp(m)):M.done()}).next(()=>{for(;m;)i(m,null),m=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const s=t.path,u=[s.popLast().toArray(),s.lastSegment(),Rv(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],m=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Mf(e).j(IDBKeyRange.bound(u,m,!0)).next(v=>{let C=Wc();for(const M of v){const L=this.ts(Gt.fromSegments(M.prefixPath.concat(M.collectionGroup,M.documentId)),M);L.isFoundDocument()&&(wv(t,L)||r.has(L.key))&&(C=C.insert(L.key,L))}return C})}getAllFromCollectionGroup(e,t,i,r){let s=Wc();const u=DA(t,i),m=DA(t,xl.max());return Mf(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,m,!0)},(v,C,M)=>{const L=this.ts(Gt.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);s=s.insert(L.key,L),s.size===r&&M.done()}).next(()=>s)}newChangeBuffer(e){return new GP(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return TA(e).get("remoteDocumentGlobalKey").next(t=>(bn(!!t),t))}Zn(e,t){return TA(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function oA(n,e){let t;if(e.document)t=xP(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Gt.fromSegments(e.noDocument.path),r=jp(e.noDocument.readTime);t=ro.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ln();{const i=Gt.fromSegments(e.unknownDocument.path),r=jp(e.unknownDocument.version);t=ro.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new ho(i[0],i[1]);return In.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(In.min()))return i}return ro.newInvalidDocument(e)}}function IA(n){return new $P(n)}class GP extends xA{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new wf(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Hr((s,u)=>Zn(s.canonicalString(),u.canonicalString()));return this.changes.forEach((s,u)=>{const m=this.us.get(s);if(t.push(this.os.removeEntry(e,s,m.readTime)),u.isValidDocument()){const v=sA(this.os.serializer,u);r=r.add(s.path.popLast());const C=l0(v);i+=C-m.size,t.push(this.os.addEntry(e,s,v))}else if(i-=m.size,this.trackRemovals){const v=sA(this.os.serializer,u.convertToNoDocument(In.min()));t.push(this.os.addEntry(e,s,v))}}),r.forEach(s=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.os.updateMetadata(e,i)),Ke.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((s,u)=>{this.us.set(s,{size:u,readTime:i.get(s).readTime})}),i))}}function TA(n){return Ms(n,"remoteDocumentGlobal")}function Mf(n){return Ms(n,"remoteDocumentsV14")}function Gp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function DA(n,e){const t=e.documentKey.path.toArray();return[n,Rv(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function SA(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=Zn(t[s],i[s]),r)return r;return r=Zn(t.length,i.length),r||(r=Zn(t[t.length-2],i[i.length-2]),r||Zn(t[t.length-1],i[i.length-1]))}class AA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class rx{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&xv(i.mutation,r,qc.empty(),ho.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,li()).next(()=>i))}getLocalViewOfDocuments(e,t,i=li()){const r=Rd();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let u=Xb();return s.forEach((m,v)=>{u=u.insert(m,v.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Rd();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,li()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((u,m)=>{t.set(u,m)})})}computeViews(e,t,i,r){let s=Wc();const u=tg(),m=tg();return t.forEach((v,C)=>{const M=i.get(C.key);r.has(C.key)&&(void 0===M||M.mutation instanceof Ih)?s=s.insert(C.key,C):void 0!==M?(u.set(C.key,M.mutation.getFieldMask()),xv(M.mutation,C,M.mutation.getFieldMask(),ho.now())):u.set(C.key,qc.empty())}),this.recalculateAndSaveOverlays(e,s).next(v=>(v.forEach((C,M)=>u.set(C,M)),t.forEach((C,M)=>{var L;return m.set(C,new AA(M,null!==(L=u.get(C))&&void 0!==L?L:null))}),m))}recalculateAndSaveOverlays(e,t){const i=tg();let r=new zr((u,m)=>u-m),s=li();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const m of u)m.keys().forEach(v=>{const C=t.get(v);if(null===C)return;let M=i.get(v)||qc.empty();M=m.applyToLocalView(C,M),i.set(v,M);const L=(r.get(m.batchId)||li()).add(v);r=r.insert(m.batchId,L)})}).next(()=>{const u=[],m=r.getReverseIterator();for(;m.hasNext();){const v=m.getNext(),C=v.key,M=v.value,L=OC();M.forEach(G=>{if(!s.has(G)){const ne=HS(t.get(G),i.get(G));null!==ne&&L.set(G,ne),s=s.add(G)}}),u.push(this.documentOverlayCache.saveOverlays(e,C,L))}return Ke.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Gt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):SC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const u=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):Ke.resolve(Rd());let m=-1,v=s;return u.next(C=>Ke.forEach(C,(M,L)=>(m<L.largestBatchId&&(m=L.largestBatchId),s.get(M)?Ke.resolve():this.remoteDocumentCache.getEntry(e,M).next(G=>{v=v.insert(M,G)}))).next(()=>this.populateOverlays(e,C,s)).next(()=>this.computeViews(e,v,C,li())).next(M=>({batchId:m,changes:FS(M)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Gt(t)).next(i=>{let r=Xb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=Xb();return this.indexManager.getCollectionParents(e,r).next(u=>Ke.forEach(u,m=>{const v=(C=t,M=m.child(r),new vf(M,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,M;return this.getDocumentsMatchingCollectionQuery(e,v,i).next(C=>{C.forEach((M,L)=>{s=s.insert(M,L)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((m,v)=>{const C=v.getKey();null===s.get(C)&&(s=s.insert(C,ro.newInvalidDocument(C)))});let u=Xb();return s.forEach((m,v)=>{const C=r.get(m);void 0!==C&&xv(C.mutation,v,qc.empty(),ho.now()),wv(t,v)&&(u=u.insert(m,v))}),u})}}class rU{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ke.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:rs(i.createTime)}),Ke.resolve()}getNamedQuery(e,t){return Ke.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:QC(i.bundledQuery),readTime:rs(i.readTime)}),Ke.resolve();var i}}class Zc{constructor(){this.overlays=new zr(Gt.comparator),this.ls=new Map}getOverlay(e,t){return Ke.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Rd();return Ke.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.we(e,t,s)}),Ke.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),Ke.resolve()}getOverlaysForCollection(e,t,i){const r=Rd(),s=t.length+1,u=new Gt(t.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const v=m.getNext().value,C=v.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===s&&v.largestBatchId>i&&r.set(v.getKey(),v)}return Ke.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new zr((C,M)=>C-M);const u=this.overlays.getIterator();for(;u.hasNext();){const C=u.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>i){let M=s.get(C.largestBatchId);null===M&&(M=Rd(),s=s.insert(C.largestBatchId,M)),M.set(C.getKey(),C)}}const m=Rd(),v=s.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((C,M)=>m.set(C,M)),!(m.size()>=r)););return Ke.resolve(m)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new VC(t,i));let s=this.ls.get(t);void 0===s&&(s=li(),this.ls.set(t,s)),this.ls.set(t,s.add(i.key))}}class f0{constructor(){this.fs=new Hr(Rs.ds),this.ws=new Hr(Rs._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Rs(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Rs(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new Gt(new ji([])),i=new Rs(t,e),r=new Rs(t,e+1),s=[];return this.ws.forEachInRange([i,r],u=>{this.ys(u),s.push(u.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Gt(new ji([])),i=new Rs(t,e),r=new Rs(t,e+1);let s=li();return this.ws.forEachInRange([i,r],u=>{s=s.add(u.key)}),s}containsKey(e){const t=new Rs(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Rs{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Gt.comparator(e.key,t.key)||Zn(e.As,t.As)}static _s(e,t){return Zn(e.As,t.As)||Gt.comparator(e.key,t.key)}}class qP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Hr(Rs.ds)}checkEmpty(e){return Ke.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.vs;this.vs++;const u=new og(s,t,i,r);this.mutationQueue.push(u);for(const m of r)this.Rs=this.Rs.add(new Rs(m.key,s)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Ke.resolve(u)}lookupMutationBatch(e,t){return Ke.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),s=r<0?0:r;return Ke.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Rs(t,0),r=new Rs(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],u=>{const m=this.Ps(u.As);s.push(m)}),Ke.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Hr(Zn);return t.forEach(r=>{const s=new Rs(r,0),u=new Rs(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,u],m=>{i=i.add(m.As)})}),Ke.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;Gt.isDocumentKey(s)||(s=s.child(""));const u=new Rs(new Gt(s),0);let m=new Hr(Zn);return this.Rs.forEachWhile(v=>{const C=v.key.path;return!!i.isPrefixOf(C)&&(C.length===r&&(m=m.add(v.As)),!0)},u),Ke.resolve(this.Vs(m))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){bn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return Ke.forEach(t.mutations,r=>{const s=new Rs(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Rs(t,0),r=this.Rs.firstAfterOrEqual(i);return Ke.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Ke.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class MA{constructor(e){this.Ds=e,this.docs=new zr(Gt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,u=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ke.resolve(i?i.document.mutableCopy():ro.newInvalidDocument(t))}getEntries(e,t){let i=Wc();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ro.newInvalidDocument(r))}),Ke.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Wc();const u=t.path,m=new Gt(u.child("")),v=this.docs.getIteratorFrom(m);for(;v.hasNext();){const{key:C,value:{document:M}}=v.getNext();if(!u.isPrefixOf(C.path))break;C.path.length>u.length+1||sC(nS(M),i)<=0||(r.has(M.key)||wv(t,M))&&(s=s.insert(M.key,M.mutableCopy()))}return Ke.resolve(s)}getAllFromCollectionGroup(e,t,i,r){ln()}Cs(e,t){return Ke.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new WP(this)}getSize(e){return Ke.resolve(this.size)}}class WP extends xA{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),Ke.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class ox{constructor(e){this.persistence=e,this.xs=new wf(t=>xh(t),_v),this.lastRemoteSnapshotVersion=In.min(),this.highestTargetId=0,this.Ns=0,this.ks=new f0,this.targetCount=0,this.Ms=kd.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),Ke.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new kd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ke.resolve()}updateTargetData(e,t){return this.Fn(t),Ke.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.xs.forEach((u,m)=>{m.sequenceNumber<=t&&null===i.get(m.targetId)&&(this.xs.delete(u),s.push(this.removeMatchingKeysForTargetId(e,m.targetId)),r++)}),Ke.waitFor(s).next(()=>r)}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return Ke.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),Ke.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(u=>{s.push(r.markPotentiallyOrphaned(e,u))}),Ke.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ke.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return Ke.resolve(i)}containsKey(e,t){return Ke.resolve(this.ks.containsKey(t))}}class Nd{constructor(e,t){this.$s={},this.overlays={},this.Os=new dc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new ox(this),this.indexManager=new iU,this.remoteDocumentCache=new MA(i=>this.referenceDelegate.Ls(i)),this.serializer=new AP(t),this.qs=new rU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new qP(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Tt("MemoryPersistence","Starting transaction:",e);const r=new OA(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,t){return Ke.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class OA extends cC{constructor(e){super(),this.currentSequenceNumber=e}}class fg{constructor(e){this.persistence=e,this.Qs=new f0,this.js=null}static zs(e){return new fg(e)}get Ws(){if(this.js)return this.js;throw ln()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),Ke.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),Ke.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ke.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.Ws,i=>{const r=Gt.fromPath(i);return this.Hs(e,r).next(s=>{s||t.removeEntry(r,In.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ke.or([()=>Ke.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class ZP{constructor(e){this.serializer=e}O(e,t,i,r){const s=new dv("createOrUpgrade",t);var m;i<1&&r>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",aS,{unique:!0}),m.createObjectStore("documentMutations"),KP(e),function(m){m.createObjectStore("remoteDocuments")}(e));let u=Ke.resolve();return i<3&&r>=3&&(0!==i&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),KP(e)),u=u.next(()=>function(m){const v=m.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:In.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",C)}(s))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(m,v){return v.store("mutations").j().next(C=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",aS,{unique:!0});const M=v.store("mutations"),L=C.map(G=>M.put(G));return Ke.waitFor(L)})}(e,s))),u=u.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Ys(s))),i<6&&r>=6&&(u=u.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),i<7&&r>=7&&(u=u.next(()=>this.Zs(s))),i<8&&r>=8&&(u=u.next(()=>this.ti(e,s))),i<9&&r>=9&&(u=u.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.ei(s))),i<11&&r>=11&&(u=u.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(m){const v=m.createObjectStore("documentOverlays",{keyPath:oP});v.createIndex("collectionPathOverlayIndex",sP,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",hv,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(m){const v=m.createObjectStore("remoteDocumentsV14",{keyPath:jb});v.createIndex("documentKeyIndex",Gc),v.createIndex("collectionGroupIndex",Q2)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.si(e,s))),i<15&&r>=15&&(u=u.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:hS}).createIndex("sequenceNumberIndex",fS,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:pS}).createIndex("documentKeyIndex",rP,{unique:!1})}(e))),u}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=l0(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>Ke.forEach(r,s=>{const u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",u).next(m=>Ke.forEach(m,v=>{bn(v.userId===s.userId);const C=Tf(this.serializer,v);return ix(e,s.userId,C).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((u,m)=>{const v=new ji(u),C=[0,hc(v)];s.push(t.get(C).next(M=>M?Ke.resolve():t.put({targetId:0,path:hc(v),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ke.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:dS});const i=t.store("collectionParents"),r=new yA,s=u=>{if(r.add(u)){const m=u.lastSegment(),v=u.popLast();return i.put({collectionId:m,parent:hc(v)})}};return t.store("remoteDocuments").X({Y:!0},(u,m)=>{const v=new ji(u);return s(v.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([u,m,v],C)=>{const M=Sd(m);return s(M.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const s=zp(r),u=MP(this.serializer,s);return t.put(u)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((s,u)=>{const m=t.store("remoteDocumentsV14"),v=(C=u,C.document?new Gt(ji.fromString(C.document.name).popFirst(5)):C.noDocument?Gt.fromSegments(C.noDocument.path):C.unknownDocument?Gt.fromSegments(C.unknownDocument.path):ln()).path.toArray();var C;const M={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(m.put(M))}).next(()=>Ke.waitFor(r))}si(e,t){const i=t.store("mutations"),r=IA(this.serializer),s=new Nd(fg.zs,this.serializer.fe);return i.j().next(u=>{const m=new Map;return u.forEach(v=>{var C;let M=null!==(C=m.get(v.userId))&&void 0!==C?C:li();Tf(this.serializer,v).keys().forEach(L=>M=M.add(L)),m.set(v.userId,M)}),Ke.forEach(m,(v,C)=>{const M=new As(C),L=c0.de(this.serializer,M),G=s.getIndexManager(M),ne=u0.de(M,this.serializer,G,s.referenceDelegate);return new rx(r,ne,L,G).recalculateAndSaveOverlaysForDocumentKeys(new zb(t,dc.ct),v).next()})})}}function KP(n){n.createObjectStore("targetDocuments",{keyPath:uS}).createIndex("documentTargetsIndex",iP,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",lS,{unique:!0}),n.createObjectStore("targetGlobal")}const p0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sx{constructor(e,t,i,r,s,u,m,v,C,M,L=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=s,this.window=u,this.document=m,this.ri=C,this.oi=M,this.ui=L,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=G=>Promise.resolve(),!sx.D())throw new vt(tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new HP(this,r),this.di=t+"main",this.serializer=new AP(v),this.wi=new ou(this.di,this.ui,new ZP(this.serializer)),this.Bs=new BP(this.referenceDelegate,this.serializer),this.remoteDocumentCache=IA(this.serializer),this.qs=new OP,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===M&&io("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new vt(tt.FAILED_PRECONDITION,p0);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new dc(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,dt.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,dt.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,dt.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>m0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Dd(e))return Tt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Tt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Fv(e).get("owner").next(t=>Ke.resolve(this.Ri(t)))}Pi(e){return m0(e).delete(this.clientId)}bi(){var e=this;return(0,dt.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ms(i,"clientMetadata");return r.j().next(s=>{const u=e.Si(s,18e5),m=s.filter(v=>-1===u.indexOf(v));return Ke.forEach(m,v=>r.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Ke.resolve(!0):Fv(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new vt(tt.FAILED_PRECONDITION,p0);return!1}}return!(!this.networkEnabled||!this.inForeground)||m0(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Tt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,dt.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new zb(t,dc.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>m0(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return u0.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new tx(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return c0.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){Tt("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(u=this.ui)?_S:14===u?fv:13===u?gS:12===u?aP:11===u?mS:void ln();var u;let m;return this.wi.runTransaction(e,r,s,v=>(m=new zb(v,this.Os?this.Os.next():dc.ct),"readwrite-primary"===t?this.Ti(m).next(C=>!!C||this.Ei(m)).next(C=>{if(!C)throw io(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new vt(tt.FAILED_PRECONDITION,aC);return i(m)}).next(C=>this.vi(m).next(()=>C)):this.Oi(m).next(()=>i(m)))).then(v=>(m.raiseOnCommittedEvent(),v))}Oi(e){return Fv(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new vt(tt.FAILED_PRECONDITION,p0)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fv(e).put("owner",t)}static D(){return ou.D()}Ai(e){const t=Fv(e);return t.get("owner").next(i=>this.Ri(i)?(Tt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ke.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(io(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,ie.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Tt("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return io("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){io("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fv(n){return Ms(n,"owner")}function m0(n){return Ms(n,"clientMetadata")}function ax(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class g0{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=li(),r=li();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new g0(e,t.fromCache,i,r)}}class YP{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(s=>s||this.Gi(e,t,r,i)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(MS(t))return Ke.resolve(null);let i=ba(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=bv(t,null,"F"),i=ba(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const u=li(...s);return this.Ui.getDocuments(e,u).next(m=>this.indexManager.getMinOffset(e,i).next(v=>{const C=this.ji(t,m);return this.zi(t,C,u,v.readTime)?this.Ki(e,bv(t,null,"F")):this.Wi(e,C,t,v)}))})))}Gi(e,t,i,r){return MS(t)||r.isEqual(In.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(s=>{const u=this.ji(t,s);return this.zi(t,u,i,r)?this.Qi(e,t):(JE()<=Mu.in.DEBUG&&Tt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),MC(t)),this.Wi(e,u,t,tS(r,-1)))})}ji(e,t){let i=new Hr(RS(e));return t.forEach((r,s)=>{wv(e,s)&&(i=i.add(s))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return JE()<=Mu.in.DEBUG&&Tt("QueryEngine","Using full collection scan to execute query:",MC(t)),this.Ui.getDocumentsMatchingQuery(e,t,xl.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(u=>{s=s.insert(u.key,u)}),s))}}class RA{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new zr(Zn),this.Yi=new wf(s=>xh(s),_v),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rx(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function PA(n,e,t,i){return new RA(n,e,t,i)}function cx(n,e){return kA.apply(this,arguments)}function kA(){return kA=(0,dt.Z)(function*(n,e){const t=qt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const u=[],m=[];let v=li();for(const C of r){u.push(C.batchId);for(const M of C.mutations)v=v.add(M.key)}for(const C of s){m.push(C.batchId);for(const M of C.mutations)v=v.add(M.key)}return t.localDocuments.getDocuments(i,v).next(C=>({er:C,removedBatchIds:u,addedBatchIds:m}))})})}),kA.apply(this,arguments)}function ux(n){const e=qt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function FA(n,e,t){let i=li(),r=li();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let u=Wc();return t.forEach((m,v)=>{const C=s.get(m);v.isFoundDocument()!==C.isFoundDocument()&&(r=r.add(m)),v.isNoDocument()&&v.version.isEqual(In.min())?(e.removeEntry(m,v.readTime),u=u.insert(m,v)):!C.isValidDocument()||v.version.compareTo(C.version)>0||0===v.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(v),u=u.insert(m,v)):Tt("LocalStore","Ignoring outdated watch update for ",m,". Current version:",C.version," Watch version:",v.version)}),{nr:u,sr:r}})}function LA(n,e){const t=qt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function qp(n,e){const t=qt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(s=>s?(r=s,Ke.resolve(r)):t.Bs.allocateTargetId(i).next(u=>(r=new zu(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function Hu(n,e,t){return mg.apply(this,arguments)}function mg(){return mg=(0,dt.Z)(function*(n,e,t){const i=qt(n),r=i.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Dd(u))throw u;Tt("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),mg.apply(this,arguments)}function Lv(n,e,t){const i=qt(n);let r=In.min(),s=li();return i.persistence.runTransaction("Execute query","readonly",u=>function(m,v,C){const M=qt(m),L=M.Yi.get(C);return void 0!==L?Ke.resolve(M.Ji.get(L)):M.Bs.getTargetData(v,C)}(i,u,ba(e)).next(m=>{if(m)return r=m.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(u,m.targetId).next(v=>{s=v})}).next(()=>i.Hi.getDocumentsMatchingQuery(u,e,t?r:In.min(),t?s:li())).next(m=>(VA(i,OS(e),m),{documents:m,ir:s})))}function dx(n,e){const t=qt(n),i=qt(t.Bs),r=t.Ji.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.le(s,e).next(u=>u?u.target:null))}function UA(n,e){const t=qt(n),i=t.Xi.get(e)||In.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Zi.getAllFromCollectionGroup(r,e,tS(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(VA(t,e,r),r))}function VA(n,e,t){let i=n.Xi.get(e)||In.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(e,i)}function _0(){return _0=(0,dt.Z)(function*(n,e,t,i){const r=qt(n);let s=li(),u=Wc();for(const C of t){const M=e.rr(C.metadata.name);C.document&&(s=s.add(M));const L=e.ur(C);L.setReadTime(e.cr(C.metadata.readTime)),u=u.insert(M,L)}const m=r.Zi.newChangeBuffer({trackRemovals:!0}),v=yield qp(r,(C=i,ba(yf(ji.fromString(`__bundle__/docs/${C}`)))));var C;return r.persistence.runTransaction("Apply bundle documents","readwrite",C=>FA(C,m,u).next(M=>(m.apply(C),M)).next(M=>r.Bs.removeMatchingKeysForTargetId(C,v.targetId).next(()=>r.Bs.addMatchingKeys(C,s,v.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(C,M.nr,M.sr)).next(()=>M.nr)))}),_0.apply(this,arguments)}function QP(n,e){return hx.apply(this,arguments)}function hx(){return hx=(0,dt.Z)(function*(n,e,t=li()){const i=yield qp(n,ba(QC(e.bundledQuery))),r=qt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const u=rs(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.qs.saveNamedQuery(s,e);const m=i.withResumeToken(Os.EMPTY_BYTE_STRING,u);return r.Ji=r.Ji.insert(m.targetId,m),r.Bs.updateTargetData(s,m).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,t,i.targetId)).next(()=>r.qs.saveNamedQuery(s,e))})}),hx.apply(this,arguments)}function XP(n,e){return`firestore_clients_${n}_${e}`}function JP(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function BA(n,e){return`firestore_targets_${n}_${e}`}class Uv{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static ar(e,t,i){const r=JSON.parse(i);let s,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new vt(r.error.code,r.error.message))),u?new Uv(e,t,r.state,s):(io("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vv{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new vt(i.error.code,i.error.message))),s?new Vv(e,i.state,r):(io("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class v0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=RC();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=uC(i.activeTargetIds[u]),s=s.add(i.activeTargetIds[u]);return r?new v0(e,s):(io("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class fx{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new fx(t.clientId,t.onlineState):(io("SharedClientState",`Failed to parse online state: ${e}`),null)}}class jA{constructor(){this.activeTargetIds=RC()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zA{constructor(e,t,i,r,s){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new zr(Zn),this.started=!1,this.yr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=XP(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new jA),this.Tr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,dt.Z)(function*(){const t=yield e.syncEngine.$i();for(const r of t){if(r===e.wr)continue;const s=e.getItem(XP(e.persistenceKey,r));if(s){const u=v0.ar(r,s);u&&(e.gr=e.gr.insert(u.clientId,u))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(BA(this.persistenceKey,e));if(i){const r=Vv.ar(e,i);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(BA(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Tt("SharedClientState","READ",e,t),t}setItem(e,t){Tt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Tt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Tt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void io("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,dt.Z)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.Fr(r,null)}{const r=t.Br(i.key,i.newValue);if(r)return t.Fr(r.clientId,r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.Lr(i.key,i.newValue);if(r)return t.qr(r)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const r=t.Ur(i.key,i.newValue);if(r)return t.Kr(r)}}else if(i.key===t.vr){if(null!==i.newValue){const r=t.br(i.newValue);if(r)return t.Vr(r)}}else if(i.key===t.Ir){const r=function(s){let u=dc.ct;if(null!=s)try{const m=JSON.parse(s);bn("number"==typeof m),u=m}catch(m){io("SharedClientState","Failed to read sequence number from WebStorage",m)}return u}(i.newValue);r!==dc.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Gr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Qr(s)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const r=new Uv(this.currentUser,e,t,i),s=JP(this.persistenceKey,this.currentUser,e);this.setItem(s,r.hr())}Cr(e){const t=JP(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const r=BA(this.persistenceKey,e),s=new Vv(e,t,i);this.setItem(r,s.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return v0.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return Uv.ar(new As(void 0!==i[2]?i[2]:null),r,t)}Ur(e,t){const i=this.Ar.exec(e),r=Number(i[1]);return Vv.ar(r,t)}br(e){return fx.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,dt.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Tt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),s=this.Sr(i),u=[],m=[];return s.forEach(v=>{r.has(v)||u.push(v)}),r.forEach(v=>{s.has(v)||m.push(v)}),this.syncEngine.Wr(u,m).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=RC();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class ek{constructor(){this.Hr=new jA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new jA,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sU{Yr(e){}shutdown(){}}class tk{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let y0=null;function gg(){return null===y0?y0=268435456+Math.round(2147483648*Math.random()):y0++,"0x"+y0.toString(16)}const nk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ik{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const wa="WebChannelConnection";class Wp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,s){const u=gg(),m=this.To(e,t);Tt("RestConnection",`Sending RPC '${e}' ${u}:`,m,i);const v={};return this.Eo(v,r,s),this.Ao(e,m,v,i).then(C=>(Tt("RestConnection",`Received RPC '${e}' ${u}: `,C),C),C=>{throw ru("RestConnection",`RPC '${e}' ${u} failed with error: `,C,"url: ",m,"request:",i),C})}vo(e,t,i,r,s,u){return this.Io(e,t,i,r,s)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+$m,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}To(e,t){return`${this.mo}/v1/${t}:${nk[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const s=gg();return new Promise((u,m)=>{const v=new Td;v.setWithCredentials(!0),v.listenOnce(YE.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case YD.NO_ERROR:const M=v.getResponseJson();Tt(wa,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(M)),u(M);break;case YD.TIMEOUT:Tt(wa,`RPC '${e}' ${s} timed out`),m(new vt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case YD.HTTP_ERROR:const L=v.getStatus();if(Tt(wa,`RPC '${e}' ${s} failed with status:`,L,"response text:",v.getResponseText()),L>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const ne=G?.error;if(ne&&ne.status&&ne.message){const ae=function(ye){const We=ye.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(We)>=0?We:tt.UNKNOWN}(ne.status);m(new vt(ae,ne.message))}else m(new vt(tt.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new vt(tt.UNAVAILABLE,"Connection failed."));break;default:ln()}}finally{Tt(wa,`RPC '${e}' ${s} completed.`)}});const C=JSON.stringify(r);Tt(wa,`RPC '${e}' ${s} sending request:`,r),v.send(t,"POST",C,i,15)})}Ro(e,t,i){const r=gg(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ZR(),m=KD(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},C=this.longPollingOptions.timeoutSeconds;void 0!==C&&(v.longPollingTimeout=Math.round(1e3*C)),this.useFetchStreams&&(v.xmlHttpFactory=new KR({})),this.Eo(v.initMessageHeaders,t,i),v.encodeInitMessageHeaders=!0;const M=s.join("");Tt(wa,`Creating RPC '${e}' stream ${r}: ${M}`,v);const L=u.createWebChannel(M,v);let G=!1,ne=!1;const ae=new ik({ro:We=>{ne?Tt(wa,`Not sending because RPC '${e}' stream ${r} is closed:`,We):(G||(Tt(wa,`Opening RPC '${e}' stream ${r} transport.`),L.open(),G=!0),Tt(wa,`RPC '${e}' stream ${r} sending:`,We),L.send(We))},oo:()=>L.close()}),ye=(We,wt,Ot)=>{We.listen(wt,Mt=>{try{Ot(Mt)}catch(Lt){setTimeout(()=>{throw Lt},0)}})};return ye(L,cv.EventType.OPEN,()=>{ne||Tt(wa,`RPC '${e}' stream ${r} transport opened.`)}),ye(L,cv.EventType.CLOSE,()=>{ne||(ne=!0,Tt(wa,`RPC '${e}' stream ${r} transport closed`),ae.wo())}),ye(L,cv.EventType.ERROR,We=>{ne||(ne=!0,ru(wa,`RPC '${e}' stream ${r} transport errored:`,We),ae.wo(new vt(tt.UNAVAILABLE,"The operation could not be completed")))}),ye(L,cv.EventType.MESSAGE,We=>{var wt;if(!ne){const Ot=We.data[0];bn(!!Ot);const Lt=Ot.error||(null===(wt=Ot[0])||void 0===wt?void 0:wt.error);if(Lt){Tt(wa,`RPC '${e}' stream ${r} received error:`,Lt);const Mn=Lt.status;let Pn=function(Wo){const Xc=ps[Wo];if(void 0!==Xc)return qS(Xc)}(Mn),Ui=Lt.message;void 0===Pn&&(Pn=tt.INTERNAL,Ui="Unknown error status: "+Mn+" with message "+Lt.message),ne=!0,ae.wo(new vt(Pn,Ui)),L.close()}else Tt(wa,`RPC '${e}' stream ${r} received:`,Ot),ae._o(Ot)}}),ye(m,QE.STAT_EVENT,We=>{We.stat===Uu.PROXY?Tt(wa,`RPC '${e}' stream ${r} detected buffering proxy`):We.stat===Uu.NOPROXY&&Tt(wa,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{ae.fo()},0),ae}}function px(){return typeof window<"u"?window:null}function _g(){return typeof document<"u"?document:null}function Zp(n){return new qC(n,!0)}class mx{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&Tt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class b0{constructor(e,t,i,r,s,u,m,v){this.ii=e,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new mx(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,dt.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,dt.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,dt.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===tt.RESOURCE_EXHAUSTED?(io(t.toString()),io("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===tt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new vt(tt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,dt.Z)(function*(){e.state=0,e.start()}))}tu(e){return Tt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gx extends b0{constructor(e,t,i,r,s,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function eA(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:ln(),r=e.targetChange.targetIds||[],s=function(v,C){return v.useProto3Json?(bn(void 0===C||"string"==typeof C),Os.fromBase64String(C||"")):(bn(void 0===C||C instanceof Uint8Array),Os.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&function(v){const C=void 0===v.code?tt.UNKNOWN:qS(v.code);return new vt(C,v.message||"")}(u);t=new $C(i,r,s,m||null)}else if("documentChange"in e){const i=e.documentChange,r=ju(n,i.document.name),s=rs(i.document.updateTime),u=i.document.createTime?rs(i.document.createTime):In.min(),m=new ya({mapValue:{fields:i.document.fields}}),v=ro.newFoundDocument(r,s,u,m);t=new ag(i.targetIds||[],i.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const i=e.documentDelete,r=ju(n,i.document),s=i.readTime?rs(i.readTime):In.min(),u=ro.newNoDocument(r,s);t=new ag([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=ju(n,i.document);t=new ag([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return ln();{const i=e.filter,{count:r=0,unchangedNames:s}=i,u=new wP(r,s);t=new n0(i.targetId,u)}}var v;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return In.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?In.min():s.readTime?rs(s.readTime):In.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Pd(this.serializer),t.addTarget=function(r,s){let u;const m=s.target;if(u=vv(m)?{documents:IP(r,m)}:{query:Bp(r,m)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=WC(r,s.resumeToken);const v=o0(r,s.expectedCount);null!==v&&(u.expectedCount=v)}else if(s.snapshotVersion.compareTo(In.min())>0){u.readTime=Up(r,s.snapshotVersion.toTimestamp());const v=o0(r,s.expectedCount);null!==v&&(u.expectedCount=v)}return u}(this.serializer,e);const i=function KC(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ln()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Pd(this.serializer),t.removeTarget=e,this.Wo(t)}}class w0 extends b0{constructor(e,t,i,r,s,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(bn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function nU(n,e){return n&&n.length>0?(bn(void 0!==e),n.map(t=>function(i,r){let s=rs(i.updateTime?i.updateTime:r);return s.isEqual(In.min())&&(s=rs(r)),new bP(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=rs(e.commitTime);return this.listener.cu(i,t)}return bn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Pd(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Vp(this.serializer,i))};this.Wo(t)}}class aU extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new vt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new vt(tt.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.vo(e,t,i,s,u,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new vt(tt.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class $A{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(io(t),this.mu=!1):Tt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class rk{constructor(e,t,i,r,s){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(m=>{i.enqueueAndForget((0,dt.Z)(function*(){var v;Kp(u)&&(Tt("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,dt.Z)(function*(C){const M=qt(C);M.vu.add(4),yield vg(M),M.bu.set("Unknown"),M.vu.delete(4),yield Bv(M)}),function(C){return v.apply(this,arguments)})(u))}))}),this.bu=new $A(i,r)}}function Bv(n){return _x.apply(this,arguments)}function _x(){return _x=(0,dt.Z)(function*(n){if(Kp(n))for(const e of n.Ru)yield e(!0)}),_x.apply(this,arguments)}function vg(n){return E0.apply(this,arguments)}function E0(){return E0=(0,dt.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),E0.apply(this,arguments)}function jv(n,e){const t=qt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),zv(t)?C0(t):$v(t).Ko()&&vx(t,e))}function yg(n,e){const t=qt(n),i=$v(t);t.Au.delete(e),i.Ko()&&GA(t,e),0===t.Au.size&&(i.Ko()?i.jo():Kp(t)&&t.bu.set("Unknown"))}function vx(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(In.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$v(n).su(e)}function GA(n,e){n.Vu.qt(e),$v(n).iu(e)}function C0(n){n.Vu=new GC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),$v(n).start(),n.bu.gu()}function zv(n){return Kp(n)&&!$v(n).Uo()&&n.Au.size>0}function Kp(n){return 0===qt(n).vu.size}function yx(n){n.Vu=void 0}function bx(n){return wx.apply(this,arguments)}function wx(){return wx=(0,dt.Z)(function*(n){n.Au.forEach((e,t)=>{vx(n,e)})}),wx.apply(this,arguments)}function ok(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,dt.Z)(function*(n,e){yx(n),zv(n)?(n.bu.Iu(e),C0(n)):n.bu.set("Unknown")}),qA.apply(this,arguments)}function lU(n,e,t){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,dt.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof $C&&2===e.state&&e.cause)try{yield(i=(0,dt.Z)(function*(r,s){const u=s.cause;for(const m of s.targetIds)r.Au.has(m)&&(yield r.remoteSyncer.rejectListen(m,u),r.Au.delete(m),r.Vu.removeTarget(m))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Tt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield x0(n,i)}else if(e instanceof ag?n.Vu.Ht(e):e instanceof n0?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(In.min()))try{const i=yield ux(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const u=r.Vu.ce(s);return u.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const C=r.Au.get(v);C&&r.Au.set(v,C.withResumeToken(m.resumeToken,s))}}),u.targetMismatches.forEach((m,v)=>{const C=r.Au.get(m);if(!C)return;r.Au.set(m,C.withResumeToken(Os.EMPTY_BYTE_STRING,C.snapshotVersion)),GA(r,m);const M=new zu(C.target,m,v,C.sequenceNumber);vx(r,M)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Tt("RemoteStore","Failed to raise snapshot:",i),yield x0(n,i)}var i}),Ex.apply(this,arguments)}function x0(n,e,t){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,dt.Z)(function*(n,e,t){if(!Dd(e))throw e;n.vu.add(1),yield vg(n),n.bu.set("Offline"),t||(t=()=>ux(n.localStore)),n.asyncQueue.enqueueRetryable((0,dt.Z)(function*(){Tt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Bv(n)}))}),Cx.apply(this,arguments)}function WA(n,e){return e().catch(t=>x0(n,t,e))}function Yp(n){return I0.apply(this,arguments)}function I0(){return I0=(0,dt.Z)(function*(n){const e=qt(n),t=Of(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;sk(e);)try{const r=yield LA(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,ZA(e,r)}catch(r){yield x0(e,r)}xx(e)&&ak(e)}),I0.apply(this,arguments)}function sk(n){return Kp(n)&&n.Eu.length<10}function ZA(n,e){n.Eu.push(e);const t=Of(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function xx(n){return Kp(n)&&!Of(n).Uo()&&n.Eu.length>0}function ak(n){Of(n).start()}function ck(n){return Hv.apply(this,arguments)}function Hv(){return Hv=(0,dt.Z)(function*(n){Of(n).hu()}),Hv.apply(this,arguments)}function KA(n){return T0.apply(this,arguments)}function T0(){return T0=(0,dt.Z)(function*(n){const e=Of(n);for(const t of n.Eu)e.uu(t.mutations)}),T0.apply(this,arguments)}function lk(n,e,t){return bg.apply(this,arguments)}function bg(){return bg=(0,dt.Z)(function*(n,e,t){const i=n.Eu.shift(),r=UC.from(i,e,t);yield WA(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Yp(n)}),bg.apply(this,arguments)}function uk(n,e){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,dt.Z)(function*(n,e){var t;e&&Of(n).ou&&(yield(t=(0,dt.Z)(function*(i,r){if(Tv(s=r.code)&&s!==tt.ABORTED){const u=i.Eu.shift();Of(i).Qo(),yield WA(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield Yp(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),xx(n)&&ak(n)}),Ix.apply(this,arguments)}function Tx(n,e){return D0.apply(this,arguments)}function D0(){return D0=(0,dt.Z)(function*(n,e){const t=qt(n);t.asyncQueue.verifyOperationInProgress(),Tt("RemoteStore","RemoteStore received new credentials");const i=Kp(t);t.vu.add(3),yield vg(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Bv(t)}),D0.apply(this,arguments)}function YA(n,e){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,dt.Z)(function*(n,e){const t=qt(n);e?(t.vu.delete(2),yield Bv(t)):e||(t.vu.add(2),yield vg(t),t.bu.set("Unknown"))}),Dx.apply(this,arguments)}function $v(n){return n.Su||(n.Su=function(e,t,i){const r=qt(e);return r.fu(),new gx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:bx.bind(null,n),ao:ok.bind(null,n),nu:lU.bind(null,n)}),n.Ru.push(function(){var e=(0,dt.Z)(function*(t){t?(n.Su.Qo(),zv(n)?C0(n):n.bu.set("Unknown")):(yield n.Su.stop(),yx(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Of(n){return n.Du||(n.Du=function(e,t,i){const r=qt(e);return r.fu(),new w0(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:ck.bind(null,n),ao:uk.bind(null,n),au:KA.bind(null,n),cu:lk.bind(null,n)}),n.Ru.push(function(){var e=(0,dt.Z)(function*(t){t?(n.Du.Qo(),yield Yp(n)):(yield n.Du.stop(),n.Eu.length>0&&(Tt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class QA{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,s){const u=Date.now()+i,m=new QA(e,t,u,r,s);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vt(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gv(n,e){if(io("AsyncQueue",`${e}: ${n}`),Dd(n))return new vt(tt.UNAVAILABLE,`${e}: ${n}`);throw n}class wg{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Gt.comparator(t.key,i.key):(t,i)=>Gt.comparator(t.key,i.key),this.keyedMap=Xb(),this.sortedSet=new zr(this.comparator)}static emptySet(e){return new wg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new wg;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class XA{constructor(){this.Cu=new zr(Gt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ln():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class qv{constructor(e,t,i,r,s,u,m,v,C){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=v,this.hasCachedResults=C}static fromInitialDocuments(e,t,i,r,s){const u=[];return t.forEach(m=>{u.push({type:0,doc:m})}),new qv(e,t,wg.emptySet(t),u,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class uU{constructor(){this.Nu=void 0,this.listeners=[]}}class dU{constructor(){this.queries=new wf(e=>AC(e),eg),this.onlineState="Unknown",this.ku=new Set}}function JA(n,e){return eM.apply(this,arguments)}function eM(){return eM=(0,dt.Z)(function*(n,e){const t=qt(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new uU),r)try{s.Nu=yield t.onListen(i)}catch(u){const m=Gv(u,`Initialization of query '${MC(e.query)}' failed`);return void e.onError(m)}t.queries.set(i,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&nM(t)}),eM.apply(this,arguments)}function Sx(n,e){return tM.apply(this,arguments)}function tM(){return tM=(0,dt.Z)(function*(n,e){const t=qt(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const u=s.listeners.indexOf(e);u>=0&&(s.listeners.splice(u,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),tM.apply(this,arguments)}function hU(n,e){const t=qt(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const m of u.listeners)m.$u(r)&&(i=!0);u.Nu=r}}i&&nM(t)}function fU(n,e,t){const i=qt(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function nM(n){n.ku.forEach(e=>{e.next()})}class iM{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new qv(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=qv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class dk{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class hk{constructor(e){this.serializer=e}rr(e){return ju(this.serializer,e)}ur(e){return e.metadata.exists?xP(this.serializer,e.document,!1):ro.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return rs(e)}}class o{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=a(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=ji.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new hk(this.serializer);for(const r of e)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const u of r.metadata.queries){const m=(t.get(u)||li()).add(s);t.set(u,m)}}return t}complete(){var e=this;return(0,dt.Z)(function*(){const t=yield function oU(n,e,t,i){return _0.apply(this,arguments)}(e.localStore,new hk(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield QP(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function a(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class d{constructor(e){this.key=e}}class p{constructor(e){this.key=e}}class _{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=li(),this.mutatedKeys=li(),this.tc=RS(e),this.ec=new wg(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new XA,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,u=r,m=!1;const v="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,C="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((M,L)=>{const G=r.get(M),ne=wv(this.query,L)?L:null,ae=!!G&&this.mutatedKeys.has(G.key),ye=!!ne&&(ne.hasLocalMutations||this.mutatedKeys.has(ne.key)&&ne.hasCommittedMutations);let We=!1;G&&ne?G.data.isEqual(ne.data)?ae!==ye&&(i.track({type:3,doc:ne}),We=!0):this.rc(G,ne)||(i.track({type:2,doc:ne}),We=!0,(v&&this.tc(ne,v)>0||C&&this.tc(ne,C)<0)&&(m=!0)):!G&&ne?(i.track({type:0,doc:ne}),We=!0):G&&!ne&&(i.track({type:1,doc:G}),We=!0,(v||C)&&(m=!0)),We&&(ne?(u=u.add(ne),s=ye?s.add(M):s.delete(M)):(u=u.delete(M),s=s.delete(M)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const M="F"===this.query.limitType?u.last():u.first();u=u.delete(M.key),s=s.delete(M.key),i.track({type:1,doc:M})}return{ec:u,ic:i,zi:m,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((C,M)=>function(L,G){const ne=ae=>{switch(ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ln()}};return ne(L)-ne(G)}(C.type,M.type)||this.tc(C.doc,M.doc)),this.oc(i);const u=t?this.uc():[],m=0===this.Zu.size&&this.current?1:0,v=m!==this.Xu;return this.Xu=m,0!==s.length||v?{snapshot:new qv(this.query,e.ec,r,s,e.mutatedKeys,0===m,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new XA,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=li(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new p(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new d(i))}),t}hc(e){this.Yu=e.ir,this.Zu=li();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return qv.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class b{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class T{constructor(e){this.key=e,this.fc=!1}}class S{constructor(e,t,i,r,s,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new wf(m=>AC(m),eg),this._c=new Map,this.mc=new Set,this.gc=new zr(Gt.comparator),this.yc=new Map,this.Ic=new f0,this.Tc={},this.Ec=new Map,this.Ac=kd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function P(n,e){return B.apply(this,arguments)}function B(){return B=(0,dt.Z)(function*(n,e){const t=Ik(n);let i,r;const s=t.wc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const u=yield qp(t.localStore,ba(e)),m=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield W(t,e,i,"current"===m,u.resumeToken),t.isPrimaryClient&&jv(t.remoteStore,u)}return r}),B.apply(this,arguments)}function W(n,e,t,i,r){return se.apply(this,arguments)}function se(){return se=(0,dt.Z)(function*(n,e,t,i,r){n.Rc=(L,G,ne)=>{return(ae=(0,dt.Z)(function*(ye,We,wt,Ot){let Mt=We.view.sc(wt);Mt.zi&&(Mt=yield Lv(ye.localStore,We.query,!1).then(({documents:Pn})=>We.view.sc(Pn,Mt)));const Lt=Ot&&Ot.targetChanges.get(We.targetId),Mn=We.view.applyChanges(Mt,ye.isPrimaryClient,Lt);return pk(ye,We.targetId,Mn.cc),Mn.snapshot}),function(ye,We,wt,Ot){return ae.apply(this,arguments)})(n,L,G,ne);var ae};const s=yield Lv(n.localStore,e,!0),u=new _(e,s.ir),m=u.sc(s.documents),v=Av.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),C=u.applyChanges(m,n.isPrimaryClient,v);pk(n,t,C.cc);const M=new b(e,t,u);return n.wc.set(e,M),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),C.snapshot}),se.apply(this,arguments)}function Ie(n,e){return Be.apply(this,arguments)}function Be(){return Be=(0,dt.Z)(function*(n,e){const t=qt(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(s=>!eg(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Hu(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),yg(t.remoteStore,i.targetId),S0(t,i.targetId)}).catch(wh))):(S0(t,i.targetId),yield Hu(t.localStore,i.targetId,!0))}),Be.apply(this,arguments)}function Dt(){return Dt=(0,dt.Z)(function*(n,e,t){const i=Tk(n);try{const r=yield function(s,u){const m=qt(s),v=ho.now(),C=u.reduce((G,ne)=>G.add(ne.key),li());let M,L;return m.persistence.runTransaction("Locally write mutations","readwrite",G=>{let ne=Wc(),ae=li();return m.Zi.getEntries(G,C).next(ye=>{ne=ye,ne.forEach((We,wt)=>{wt.isValidDocument()||(ae=ae.add(We))})}).next(()=>m.localDocuments.getOverlayedDocuments(G,ne)).next(ye=>{M=ye;const We=[];for(const wt of u){const Ot=eU(wt,M.get(wt.key).overlayedDocument);null!=Ot&&We.push(new Ih(wt.key,Ot,ES(Ot.value.mapValue),Dr.exists(!0)))}return m.mutationQueue.addMutationBatch(G,v,We,u)}).next(ye=>{L=ye;const We=ye.applyToLocalDocumentSet(M,ae);return m.documentOverlayCache.saveOverlays(G,ye.batchId,We)})}).then(()=>({batchId:L.batchId,changes:FS(M)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,u,m){let v=s.Tc[s.currentUser.toKey()];v||(v=new zr(Zn)),v=v.insert(u,m),s.Tc[s.currentUser.toKey()]=v}(i,r.batchId,t),yield Qp(i,r.changes),yield Yp(i.remoteStore)}catch(r){const s=Gv(r,"Failed to persist write");t.reject(s)}}),Dt.apply(this,arguments)}function Wt(n,e){return vn.apply(this,arguments)}function vn(){return vn=(0,dt.Z)(function*(n,e){const t=qt(n);try{const i=yield function NA(n,e){const t=qt(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const m=[];e.targetChanges.forEach((M,L)=>{const G=r.get(L);if(!G)return;m.push(t.Bs.removeMatchingKeys(s,M.removedDocuments,L).next(()=>t.Bs.addMatchingKeys(s,M.addedDocuments,L)));let ne=G.withSequenceNumber(s.currentSequenceNumber);var ae,ye,We;null!==e.targetMismatches.get(L)?ne=ne.withResumeToken(Os.EMPTY_BYTE_STRING,In.min()).withLastLimboFreeSnapshotVersion(In.min()):M.resumeToken.approximateByteSize()>0&&(ne=ne.withResumeToken(M.resumeToken,i)),r=r.insert(L,ne),ye=ne,We=M,(0===(ae=G).resumeToken.approximateByteSize()||ye.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=3e8||We.addedDocuments.size+We.modifiedDocuments.size+We.removedDocuments.size>0)&&m.push(t.Bs.updateTargetData(s,ne))});let v=Wc(),C=li();if(e.documentUpdates.forEach(M=>{e.resolvedLimboDocuments.has(M)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(s,M))}),m.push(FA(s,u,e.documentUpdates).next(M=>{v=M.nr,C=M.sr})),!i.isEqual(In.min())){const M=t.Bs.getLastRemoteSnapshotVersion(s).next(L=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));m.push(M)}return Ke.waitFor(m).next(()=>u.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,v,C)).next(()=>v)}).then(s=>(t.Ji=r,s))}(t.localStore,e);e.targetChanges.forEach((r,s)=>{const u=t.yc.get(s);u&&(bn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.fc=!0:r.modifiedDocuments.size>0?bn(u.fc):r.removedDocuments.size>0&&(bn(u.fc),u.fc=!1))}),yield Qp(t,i,e)}catch(i){yield wh(i)}}),vn.apply(this,arguments)}function yt(n,e,t){const i=qt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((s,u)=>{const m=u.view.Mu(e);m.snapshot&&r.push(m.snapshot)}),function(s,u){const m=qt(s);m.onlineState=u;let v=!1;m.queries.forEach((C,M)=>{for(const L of M.listeners)L.Mu(u)&&(v=!0)}),v&&nM(m)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Kn(n,e,t){return ui.apply(this,arguments)}function ui(){return ui=(0,dt.Z)(function*(n,e,t){const i=qt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),s=r&&r.key;if(s){let u=new zr(Gt.comparator);u=u.insert(s,ro.newNoDocument(s,In.min()));const m=li().add(s),v=new Sv(In.min(),new Map,new zr(Zn),u,m);yield Wt(i,v),i.gc=i.gc.remove(s),i.yc.delete(e),mk(i)}else yield Hu(i.localStore,e,!1).then(()=>S0(i,e,t)).catch(wh)}),ui.apply(this,arguments)}function pr(n,e){return Ha.apply(this,arguments)}function Ha(){return Ha=(0,dt.Z)(function*(n,e){const t=qt(n),i=e.batch.batchId;try{const r=yield function lx(n,e){const t=qt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(u,m,v,C){const M=v.batch,L=M.keys();let G=Ke.resolve();return L.forEach(ne=>{G=G.next(()=>C.getEntry(m,ne)).next(ae=>{const ye=v.docVersions.get(ne);bn(null!==ye),ae.version.compareTo(ye)<0&&(M.applyToRemoteDocument(ae,v),ae.isValidDocument()&&(ae.setReadTime(v.commitVersion),C.addEntry(ae)))})}),G.next(()=>u.mutationQueue.removeMutationBatch(m,M))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let m=li();for(let v=0;v<u.mutationResults.length;++v)u.mutationResults[v].transformResults.length>0&&(m=m.add(u.batch.mutations[v].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);fk(t,i,null),Ox(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Qp(t,r)}catch(r){yield wh(r)}}),Ha.apply(this,arguments)}function Dh(n,e,t){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,dt.Z)(function*(n,e,t){const i=qt(n);try{const r=yield function(s,u){const m=qt(s);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let C;return m.mutationQueue.lookupMutationBatch(v,u).next(M=>(bn(null!==M),C=M.keys(),m.mutationQueue.removeMutationBatch(v,M))).next(()=>m.mutationQueue.performConsistencyCheck(v)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(v,C,u)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,C)).next(()=>m.localDocuments.getDocuments(v,C))})}(i.localStore,e);fk(i,e,t),Ox(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Qp(i,r)}catch(r){yield wh(r)}}),Rf.apply(this,arguments)}function Mx(){return Mx=(0,dt.Z)(function*(n,e){const t=qt(n);Kp(t.remoteStore)||Tt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const u=qt(s);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>u.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Ec.get(i)||[];r.push(e),t.Ec.set(i,r)}catch(i){const r=Gv(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),Mx.apply(this,arguments)}function Ox(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function fk(n,e,t){const i=qt(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function S0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||pU(n,i)})}function pU(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(yg(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),mk(n))}function pk(n,e,t){for(const i of t)i instanceof d?(n.Ic.addReference(i.key,e),l$(n,i)):i instanceof p?(Tt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||pU(n,i.key)):ln()}function l$(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Tt("SyncEngine","New document in limbo: "+t),n.mc.add(i),mk(n))}function mk(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Gt(ji.fromString(e)),i=n.Ac.next();n.yc.set(i,new T(t)),n.gc=n.gc.insert(t,i),jv(n.remoteStore,new zu(ba(yf(t.path)),i,"TargetPurposeLimboResolution",dc.ct))}}function Qp(n,e,t){return gk.apply(this,arguments)}function gk(){return gk=(0,dt.Z)(function*(n,e,t){const i=qt(n),r=[],s=[],u=[];var m;i.wc.isEmpty()||(i.wc.forEach((m,v)=>{u.push(i.Rc(v,e,t).then(C=>{if((C||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(v.targetId,C?.fromCache?"not-current":"current"),C){r.push(C);const M=g0.Li(v.targetId,C);s.push(M)}}))}),yield Promise.all(u),i.dc.nu(r),yield(m=(0,dt.Z)(function*(v,C){const M=qt(v);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",L=>Ke.forEach(C,G=>Ke.forEach(G.Fi,ne=>M.persistence.referenceDelegate.addReference(L,G.targetId,ne)).next(()=>Ke.forEach(G.Bi,ne=>M.persistence.referenceDelegate.removeReference(L,G.targetId,ne)))))}catch(L){if(!Dd(L))throw L;Tt("LocalStore","Failed to update sequence numbers: "+L)}for(const L of C){const G=L.targetId;if(!L.fromCache){const ne=M.Ji.get(G),ye=ne.withLastLimboFreeSnapshotVersion(ne.snapshotVersion);M.Ji=M.Ji.insert(G,ye)}}}),function(v,C){return m.apply(this,arguments)})(i.localStore,s))}),gk.apply(this,arguments)}function u$(n,e){return _k.apply(this,arguments)}function _k(){return _k=(0,dt.Z)(function*(n,e){const t=qt(n);if(!t.currentUser.isEqual(e)){Tt("SyncEngine","User change. New user:",e.toKey());const i=yield cx(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(u=>{u.forEach(m=>{m.reject(new vt(tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Qp(t,i.er)}var r}),_k.apply(this,arguments)}function d$(n,e){const t=qt(n),i=t.yc.get(e);if(i&&i.fc)return li().add(i.key);{let r=li();const s=t._c.get(e);if(!s)return r;for(const u of s){const m=t.wc.get(u);r=r.unionWith(m.view.nc)}return r}}function h$(n,e){return vk.apply(this,arguments)}function vk(){return vk=(0,dt.Z)(function*(n,e){const t=qt(n),i=yield Lv(t.localStore,e.query,!0),r=e.view.hc(i);return t.isPrimaryClient&&pk(t,e.targetId,r.cc),r}),vk.apply(this,arguments)}function f$(n,e){return yk.apply(this,arguments)}function yk(){return yk=(0,dt.Z)(function*(n,e){const t=qt(n);return UA(t.localStore,e).then(i=>Qp(t,i))}),yk.apply(this,arguments)}function p$(n,e,t,i){return bk.apply(this,arguments)}function bk(){return bk=(0,dt.Z)(function*(n,e,t,i){const r=qt(n),s=yield function(u,m){const v=qt(u),C=qt(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",M=>C.Sn(M,m).next(L=>L?v.localDocuments.getDocuments(M,L):Ke.resolve(null)))}(r.localStore,e);var m;null!==s?("pending"===t?yield Yp(r.remoteStore):"acknowledged"===t||"rejected"===t?(fk(r,e,i||null),Ox(r,e),m=e,qt(qt(r.localStore).mutationQueue).Cn(m)):ln(),yield Qp(r,s)):Tt("SyncEngine","Cannot apply mutation batch with id: "+e)}),bk.apply(this,arguments)}function wk(){return wk=(0,dt.Z)(function*(n,e){const t=qt(n);if(Ik(t),Tk(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield mU(t,i.toArray());t.vc=!0,yield YA(t.remoteStore,!0);for(const s of r)jv(t.remoteStore,s)}else if(!1===e&&!1!==t.vc){const i=[];let r=Promise.resolve();t._c.forEach((s,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(S0(t,u),Hu(t.localStore,u,!0))),yg(t.remoteStore,u)}),yield r,yield mU(t,i),function(s){const u=qt(s);u.yc.forEach((m,v)=>{yg(u.remoteStore,v)}),u.Ic.Ts(),u.yc=new Map,u.gc=new zr(Gt.comparator)}(t),t.vc=!1,yield YA(t.remoteStore,!1)}}),wk.apply(this,arguments)}function mU(n,e,t){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,dt.Z)(function*(n,e,t){const i=qt(n),r=[],s=[];for(const u of e){let m;const v=i._c.get(u);if(v&&0!==v.length){m=yield qp(i.localStore,ba(v[0]));for(const C of v){const M=i.wc.get(C),L=yield h$(i,M);L.snapshot&&s.push(L.snapshot)}}else{const C=yield dx(i.localStore,u);m=yield qp(i.localStore,C),yield W(i,gU(C),u,!1,m.resumeToken)}r.push(m)}return i.dc.nu(s),r}),Ek.apply(this,arguments)}function gU(n){return Kb(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function g$(n){const e=qt(n);return qt(qt(e.localStore).persistence).$i()}function _$(n,e,t,i){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,dt.Z)(function*(n,e,t,i){const r=qt(n);if(r.vc)return void Tt("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const u=yield UA(r.localStore,OS(s[0])),m=Sv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Os.EMPTY_BYTE_STRING);yield Qp(r,u,m);break}case"rejected":yield Hu(r.localStore,e,!0),S0(r,e,i);break;default:ln()}}),Ck.apply(this,arguments)}function v$(n,e,t){return xk.apply(this,arguments)}function xk(){return xk=(0,dt.Z)(function*(n,e,t){const i=Ik(n);if(i.vc){for(const r of e){if(i._c.has(r)){Tt("SyncEngine","Adding an already active target "+r);continue}const s=yield dx(i.localStore,r),u=yield qp(i.localStore,s);yield W(i,gU(s),u.targetId,!1,u.resumeToken),jv(i.remoteStore,u)}for(const r of t)i._c.has(r)&&(yield Hu(i.localStore,r,!1).then(()=>{yg(i.remoteStore,r),S0(i,r)}).catch(wh))}}),xk.apply(this,arguments)}function Ik(n){const e=qt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wt.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kn.bind(null,e),e.dc.nu=hU.bind(null,e.eventManager),e.dc.Pc=fU.bind(null,e.eventManager),e}function Tk(n){const e=qt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pr.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dh.bind(null,e),e}class Rx{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,dt.Z)(function*(){t.serializer=Zp(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return PA(this.persistence,new YP,e.initialUser,this.serializer)}createPersistence(e){return new Nd(fg.zs,this.serializer)}createSharedClientState(e){return new ek}terminate(){var e=this;return(0,dt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Dk extends Rx{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,dt.Z)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield Tk(i.Vc.syncEngine),yield Yp(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return PA(this.persistence,new YP,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new d0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new Y2(t,this.persistence);return new qm(e.asyncQueue,i)}createPersistence(e){const t=ax(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?za.withCacheSize(this.cacheSizeBytes):za.DEFAULT;return new sx(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,px(),_g(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ek}}class _U extends Dk{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,dt.Z)(function*(){yield t().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof zA&&(i.sharedClientState.syncEngine={jr:p$.bind(null,r),zr:_$.bind(null,r),Wr:v$.bind(null,r),$i:g$.bind(null,r),Qr:f$.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,dt.Z)(function*(u){yield function m$(n,e){return wk.apply(this,arguments)}(i.Vc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=px();if(!zA.D(t))throw new vt(tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=ax(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zA(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class A0{initialize(e,t){var i=this;return(0,dt.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>yt(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=u$.bind(null,i.syncEngine),yield YA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new dU}createDatastore(e){const t=Zp(e.databaseInfo.databaseId),i=new Wp(e.databaseInfo);return new aU(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=m=>yt(this.syncEngine,m,0),u=tk.D()?new tk:new sU,new rk(t,i,r,s,u);var t,i,r,s,u}createSyncEngine(e,t){return function(i,r,s,u,m,v,C){const M=new S(i,r,s,u,m,v);return C&&(M.vc=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,dt.Z)(function*(t){const i=qt(t);Tt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield vg(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function vU(n,e=10240){let t=0;return{read:()=>(0,dt.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,dt.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class rM{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):io("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class w${constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new fs,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,dt.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,dt.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,dt.Z)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const s=yield e.$c(r);return new dk(JSON.parse(s),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,dt.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,dt.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,dt.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class E${constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,dt.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new vt(tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,dt.Z)(function*(s,u){const m=qt(s),v=Pd(m.serializer)+"/documents",C={documents:u.map(ne=>Mv(m.serializer,ne))},M=yield m.vo("BatchGetDocuments",v,C,u.length),L=new Map;M.forEach(ne=>{const ae=function tU(n,e){return"found"in e?function(t,i){bn(!!i.found);const r=ju(t,i.found.name),s=rs(i.found.updateTime),u=i.found.createTime?rs(i.found.createTime):In.min(),m=new ya({mapValue:{fields:i.found.fields}});return ro.newFoundDocument(r,s,u,m)}(n,e):"missing"in e?function(t,i){bn(!!i.missing),bn(!!i.readTime);const r=ju(t,i.missing),s=rs(i.readTime);return ro.newNoDocument(r,s)}(n,e):ln()}(m.serializer,ne);L.set(ae.key.toString(),ae)});const G=[];return u.forEach(ne=>{const ae=L.get(ne.toString());bn(!!ae),G.push(ae)}),G}),function(s,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new rg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,dt.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=Gt.fromPath(r);e.mutations.push(new e0(s,e.precondition(s)))}),yield(i=(0,dt.Z)(function*(r,s){const u=qt(r),m=Pd(u.serializer)+"/documents",v={writes:s.map(C=>Vp(u.serializer,C))};yield u.Io("Commit",m,v)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ln();t=In.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new vt(tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(In.min())?Dr.exists(!1):Dr.updateTime(t):Dr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(In.min()))throw new vt(tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dr.updateTime(t)}return Dr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class C${constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new mx(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,dt.Z)(function*(){const t=new E$(e.datastore),i=e.qc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Uc(s)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const t=this.updateFunction(e);return!Vb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Tv(t)}return!1}}class x${constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=As.UNAUTHENTICATED,this.clientId=iC.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,dt.Z)(function*(m){Tt("FirestoreClient","Received user=",m.uid),yield s.authCredentialListener(m),s.user=m});return function(m){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Tt("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,dt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,dt.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Gv(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function oM(n,e){return Sk.apply(this,arguments)}function Sk(){return Sk=(0,dt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Tt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,dt.Z)(function*(s){i.isEqual(s)||(yield cx(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),Sk.apply(this,arguments)}function Ak(n,e){return Mk.apply(this,arguments)}function Mk(){return Mk=(0,dt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Ok(n);Tt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>Tx(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Tx(e.remoteStore,s)),n._onlineComponents=e}),Mk.apply(this,arguments)}function yU(n){return"FirebaseError"===n.name?n.code===tt.FAILED_PRECONDITION||n.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function Ok(n){return Rk.apply(this,arguments)}function Rk(){return Rk=(0,dt.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Tt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield oM(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!yU(t))throw t;ru("Error using user provided cache. Falling back to memory cache: "+t),yield oM(n,new Rx)}}else Tt("FirestoreClient","Using default OfflineComponentProvider"),yield oM(n,new Rx);return n._offlineComponents}),Rk.apply(this,arguments)}function sM(n){return Pk.apply(this,arguments)}function Pk(){return Pk=(0,dt.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Tt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ak(n,n._uninitializedComponentsProvider._online)):(Tt("FirestoreClient","Using default OnlineComponentProvider"),yield Ak(n,new A0))),n._onlineComponents}),Pk.apply(this,arguments)}function bU(n){return Ok(n).then(e=>e.persistence)}function aM(n){return Ok(n).then(e=>e.localStore)}function wU(n){return sM(n).then(e=>e.remoteStore)}function kk(n){return sM(n).then(e=>e.syncEngine)}function M0(n){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,dt.Z)(function*(n){const e=yield sM(n),t=e.eventManager;return t.onListen=P.bind(null,e.syncEngine),t.onUnlisten=Ie.bind(null,e.syncEngine),t}),Nk.apply(this,arguments)}function CU(n,e,t={}){const i=new fs;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function(r,s,u,m,v){const C=new rM({next:L=>{s.enqueueAndForget(()=>Sx(r,M));const G=L.docs.has(u);!G&&L.fromCache?v.reject(new vt(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&L.fromCache&&m&&"server"===m.source?v.reject(new vt(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(L)},error:L=>v.reject(L)}),M=new iM(yf(u.path),C,{includeMetadataChanges:!0,Ku:!0});return JA(r,M)}(yield M0(n),n.asyncQueue,e,t,i)})),i.promise}function xU(n,e,t={}){const i=new fs;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function(r,s,u,m,v){const C=new rM({next:L=>{s.enqueueAndForget(()=>Sx(r,M)),L.fromCache&&"server"===m.source?v.reject(new vt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(L)},error:L=>v.reject(L)}),M=new iM(u,C,{includeMetadataChanges:!0,Ku:!0});return JA(r,M)}(yield M0(n),n.asyncQueue,e,t,i)})),i.promise}function IU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const TU=new Map;function Fk(n,e,t){if(!t)throw new vt(tt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DU(n,e,t,i){if(!0===e&&!0===i)throw new vt(tt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function SU(n){if(!Gt.isDocumentKey(n))throw new vt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function AU(n){if(Gt.isDocumentKey(n))throw new vt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cM(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ln()}function zi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new vt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cM(n);throw new vt(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function MU(n,e){if(e<=0)throw new vt(tt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class OU{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new vt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=IU(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new vt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new vt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new vt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Px{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OU(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new XD;switch(t.type){case"firstParty":return new Nb(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new vt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=TU.get(e);t&&(Tt("ComponentProvider","Removing Datastore"),TU.delete(e),t.terminate())}(this),Promise.resolve()}}function RU(n,e,t,i={}){var r;const s=(n=zi(n,Px))._getSettings(),u=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==u&&ru("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:u,ssl:!1})),i.mockUserToken){let m,v;if("string"==typeof i.mockUserToken)m=i.mockUserToken,v=As.MOCK_USER;else{m=(0,ie.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const C=i.mockUserToken.sub||i.mockUserToken.user_id;if(!C)throw new vt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new As(C)}n._authCredentials=new QR(new eC(m,v))}}class Oo{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Oo(this.firestore,e,this._key)}}class fc{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new fc(this.firestore,e,this._query)}}class Pf extends fc{constructor(e,t,i){super(e,t,yf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Oo(this.firestore,null,new Gt(e))}withConverter(e){return new Pf(this.firestore,e,this._path)}}function Lk(n,e,...t){if(n=(0,ie.m9)(n),Fk("collection","path",e),n instanceof Px){const i=ji.fromString(e,...t);return AU(i),new Pf(n,null,i)}{if(!(n instanceof Oo||n instanceof Pf))throw new vt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ji.fromString(e,...t));return AU(i),new Pf(n.firestore,null,i)}}function kx(n,e,...t){if(n=(0,ie.m9)(n),1===arguments.length&&(e=iC.A()),Fk("doc","path",e),n instanceof Px){const i=ji.fromString(e,...t);return SU(i),new Oo(n,null,new Gt(i))}{if(!(n instanceof Oo||n instanceof Pf))throw new vt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ji.fromString(e,...t));return SU(i),new Oo(n.firestore,n instanceof Pf?n.converter:null,new Gt(i))}}function PU(n,e){return n=(0,ie.m9)(n),e=(0,ie.m9)(e),(n instanceof Oo||n instanceof Pf)&&(e instanceof Oo||e instanceof Pf)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Uk(n,e){return n=(0,ie.m9)(n),e=(0,ie.m9)(e),n instanceof fc&&e instanceof fc&&n.firestore===e.firestore&&eg(n._query,e._query)&&n.converter===e.converter}class k${constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new mx(this,"async_queue_retry"),this.Xc=()=>{const t=_g();t&&Tt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=_g();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=_g();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new fs;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,dt.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Dd(t))throw t;Tt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,io("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=QA.createAndSchedule(this,e,t,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&ln()}verifyOperationInProgress(){}sa(){var e=this;return(0,dt.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Vk(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class N${constructor(){this._progressObserver={},this._taskCompletionResolver=new fs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ro extends Px{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new k$,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||kU(this),this._firestoreClient.terminate()}}function L$(n,e){const t="object"==typeof n?n:(0,Ds.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,Ds._getProvider)(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(0,ie.P0)("firestore");s&&RU(r,...s)}return r}function Ps(n){return n._firestoreClient||kU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function kU(n){var e,t,i;const r=n._freezeSettings(),s=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new lP(n._databaseId,m,n._persistenceKey,(C=r).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,IU(C.experimentalLongPollingOptions),C.useFetchStreams));var m,C;n._firestoreClient=new x$(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function NU(n,e,t){const i=new fs;return n.asyncQueue.enqueue((0,dt.Z)(function*(){try{yield oM(n,t),yield Ak(n,e),i.resolve()}catch(r){const s=r;if(!yU(s))throw s;ru("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function FU(n){if(n._initialized||n._terminated)throw new vt(tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class kf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kf(Os.fromBase64String(e))}catch(t){throw new vt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new kf(Os.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xp{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new vt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ho(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wv{constructor(e){this._methodName=e}}class lM{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new vt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new vt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zn(this._lat,e._lat)||Zn(this._long,e._long)}}const W$=/^__.*__$/;class Z${constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ih(e,this.data,this.fieldMask,t,this.fieldTransforms):new ig(e,this.data,t,this.fieldTransforms)}}class LU{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ih(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function UU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ln()}}class uM{constructor(e,t,i,r,s,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new uM(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return fM(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(UU(this.ca)&&W$.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class K${constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Zp(e)}ya(e,t,i,r=!1){return new uM({ca:e,methodName:t,ga:i,path:Ho.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zv(n){const e=n._freezeSettings(),t=Zp(n._databaseId);return new K$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dM(n,e,t,i,r,s={}){const u=n.ya(s.merge||s.mergeFields?2:0,e,t,r);Hk("Data must be an object, but it was:",u,i);const m=jU(i,u);let v,C;if(s.merge)v=new qc(u.fieldMask),C=u.fieldTransforms;else if(s.mergeFields){const M=[];for(const L of s.mergeFields){const G=Lx(e,L,t);if(!u.contains(G))throw new vt(tt.INVALID_ARGUMENT,`Field '${G}' is specified in your field mask but missing from your input data.`);HU(M,G)||M.push(G)}v=new qc(M),C=u.fieldTransforms.filter(L=>v.covers(L.field))}else v=null,C=u.fieldTransforms;return new Z$(new ya(m),v,C)}class Fx extends Wv{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fx}}function VU(n,e,t){return new uM({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Bk extends Wv{_toFieldTransform(e){return new Cv(e.path,new Np)}isEqual(e){return e instanceof Bk}}class Y$ extends Wv{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=VU(this,e,!0),i=this.pa.map(s=>Kv(s,t)),r=new Cf(i);return new Cv(e.path,r)}isEqual(e){return this===e}}class Q$ extends Wv{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=VU(this,e,!0),i=this.pa.map(s=>Kv(s,t)),r=new Fp(i);return new Cv(e.path,r)}isEqual(e){return this===e}}class X$ extends Wv{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Ev(e.serializer,BS(e.serializer,this.Ia));return new Cv(e.path,t)}isEqual(e){return this===e}}function jk(n,e,t,i){const r=n.ya(1,e,t);Hk("Data must be an object, but it was:",r,i);const s=[],u=ya.empty();su(i,(v,C)=>{const M=hM(e,v,t);C=(0,ie.m9)(C);const L=r.da(M);if(C instanceof Fx)s.push(M);else{const G=Kv(C,L);null!=G&&(s.push(M),u.set(M,G))}});const m=new qc(s);return new LU(u,m,r.fieldTransforms)}function zk(n,e,t,i,r,s){const u=n.ya(1,e,t),m=[Lx(e,i,t)],v=[r];if(s.length%2!=0)throw new vt(tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let G=0;G<s.length;G+=2)m.push(Lx(e,s[G])),v.push(s[G+1]);const C=[],M=ya.empty();for(let G=m.length-1;G>=0;--G)if(!HU(C,m[G])){const ne=m[G];let ae=v[G];ae=(0,ie.m9)(ae);const ye=u.da(ne);if(ae instanceof Fx)C.push(ne);else{const We=Kv(ae,ye);null!=We&&(C.push(ne),M.set(ne,We))}}const L=new qc(C);return new LU(M,L,u.fieldTransforms)}function BU(n,e,t,i=!1){return Kv(t,n.ya(i?4:3,e))}function Kv(n,e){if(zU(n=(0,ie.m9)(n)))return Hk("Unsupported field value:",e,n),jU(n,e);if(n instanceof Wv)return function(t,i){if(!UU(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const u of t){let m=Kv(u,i.wa(s));null==m&&(m={nullValue:"NULL_VALUE"}),r.push(m),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,ie.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return BS(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=ho.fromDate(t);return{timestampValue:Up(i.serializer,r)}}if(t instanceof ho){const r=new ho(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Up(i.serializer,r)}}if(t instanceof lM)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof kf)return{bytesValue:WC(i.serializer,t._byteString)};if(t instanceof Oo){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:s0(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${cM(t)}`)}(n,e)}function jU(n,e){const t={};return Km(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):su(n,(i,r)=>{const s=Kv(r,e.ha(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function zU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ho||n instanceof lM||n instanceof kf||n instanceof Oo||n instanceof Wv)}function Hk(n,e,t){if(!zU(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=cM(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function Lx(n,e,t){if((e=(0,ie.m9)(e))instanceof Xp)return e._internalPath;if("string"==typeof e)return hM(n,e);throw fM("Field path arguments must be of type string or ",n,!1,void 0,t)}const J$=new RegExp("[~\\*/\\[\\]]");function hM(n,e,t){if(e.search(J$)>=0)throw fM(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xp(...e.split("."))._internalPath}catch{throw fM(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function fM(n,e,t,i,r){const s=i&&!i.isEmpty(),u=void 0!==r;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(s||u)&&(v+=" (found",s&&(v+=` in field ${i}`),u&&(v+=` in document ${r}`),v+=")"),new vt(tt.INVALID_ARGUMENT,m+n+v)}function HU(n,e){return n.some(t=>t.isEqual(e))}class Ux{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Oo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new e5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pM("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class e5 extends Ux{data(){return super.data()}}function pM(n,e){return"string"==typeof e?hM(n,e):e instanceof Xp?e._internalPath:e._delegate._internalPath}function $U(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new vt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $k{}class Vx extends $k{}function Eg(n,e,...t){let i=[];e instanceof $k&&i.push(e),i=i.concat(t),function(r){const s=r.filter(m=>m instanceof O0).length,u=r.filter(m=>m instanceof Bx).length;if(s>1||s>0&&u>0)throw new vt(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Bx extends Vx{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Bx(e,t,i)}_apply(e){const t=this._parse(e);return ZU(e._query,t),new fc(e.firestore,e.converter,Qb(e._query,t))}_parse(e){const t=Zv(e.firestore);return function(r,s,u,m,v,C,M){let L;if(v.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new vt(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){WU(M,C);const G=[];for(const ne of M)G.push(qU(m,r,ne));L={arrayValue:{values:G}}}else L=qU(m,r,M)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||WU(M,C),L=BU(u,"where",M,"in"===C||"not-in"===C);return Ri.create(v,C,L)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class O0 extends $k{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new O0(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:fr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let s=i;const u=r.getFlattenedFilters();for(const m of u)ZU(s,m),s=Qb(s,m)}(e._query,t),new fc(e.firestore,e.converter,Qb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Gk extends Vx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Gk(e,t)}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new vt(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new vt(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Xm(r,s);return function(m,v){if(null===Yb(m)){const C=yv(m);null!==C&&KU(0,C,v.field)}}(i,u),u}(e._query,this._field,this._direction);return new fc(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new vf(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class mM extends Vx{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new mM(e,t,i)}_apply(e){return new fc(e.firestore,e.converter,bv(e._query,this._limit,this._limitType))}}class gM extends Vx{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new gM(e,t,i)}_apply(e){const t=GU(e,this.type,this._docOrFields,this._inclusive);return new fc(e.firestore,e.converter,(r=t,new vf((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class _M extends Vx{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new _M(e,t,i)}_apply(e){const t=GU(e,this.type,this._docOrFields,this._inclusive);return new fc(e.firestore,e.converter,(r=t,new vf((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function GU(n,e,t,i){if(t[0]=(0,ie.m9)(t[0]),t[0]instanceof Ux)return function(r,s,u,m,v){if(!m)throw new vt(tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const C=[];for(const M of bf(r))if(M.field.isKeyField())C.push(Bu(s,m.key));else{const L=m.data.field(M.field);if(pv(L))throw new vt(tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===L){const G=M.field.canonicalString();throw new vt(tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${G}' (used as the orderBy) does not exist.`)}C.push(L)}return new Md(C,v)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Zv(n.firestore);return function(s,u,m,v,C,M){const L=s.explicitOrderBy;if(C.length>L.length)throw new vt(tt.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const G=[];for(let ne=0;ne<C.length;ne++){const ae=C[ne];if(L[ne].field.isKeyField()){if("string"!=typeof ae)throw new vt(tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof ae}`);if(!SC(s)&&-1!==ae.indexOf("/"))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${ae}' contains a slash.`);const ye=s.path.child(ji.fromString(ae));if(!Gt.isDocumentKey(ye))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${ye}' is not because it contains an odd number of segments.`);const We=new Gt(ye);G.push(Bu(u,We))}else{const ye=BU(m,v,ae);G.push(ye)}}return new Md(G,M)}(n._query,n.firestore._databaseId,r,e,t,i)}}function qU(n,e,t){if("string"==typeof(t=(0,ie.m9)(t))){if(""===t)throw new vt(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SC(e)&&-1!==t.indexOf("/"))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ji.fromString(t));if(!Gt.isDocumentKey(i))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Bu(n,new Gt(i))}if(t instanceof Oo)return Bu(n,t._key);throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cM(t)}.`)}function WU(n,e){if(!Array.isArray(n)||0===n.length)throw new vt(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZU(n,e){if(e.isInequality()){const i=yv(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=Yb(n);null!==s&&KU(0,r,s)}const t=function(i,r){for(const s of i)for(const u of s.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new vt(tt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function KU(n,e,t){if(!t.isEqual(e))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class qk{convertValue(e,t="none"){switch(_f(e)){case 0:return null;case 1:return e.booleanValue;case 2:return is(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ln()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return su(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new lM(is(e.latitude),is(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Rp(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(mv(e));default:return null}}convertTimestamp(e){const t=Op(e);return new ho(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ji.fromString(e);bn(Ov(i));const r=new Ch(i.get(1),i.get(3)),s=new Gt(i.popFirst(5));return r.isEqual(t)||io(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function vM(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class u5 extends qk{constructor(e){super(),this.firestore=e}convertBytes(e){return new kf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Oo(this.firestore,null,t)}}class Yv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jp extends Ux{constructor(e,t,i,r,s,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(pM("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class jx extends Jp{data(e={}){return super.data(e)}}class Cg{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Yv(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new jx(this._firestore,this._userDataWriter,i.key,i,new Yv(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new vt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new jx(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Yv(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const m=new jx(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Yv(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let v=-1,C=-1;return 0!==u.type&&(v=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),C=s.indexOf(u.doc.key)),{type:h5(u.type),doc:m,oldIndex:v,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function h5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ln()}}function QU(n,e){return n instanceof Jp&&e instanceof Jp?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Cg&&e instanceof Cg&&n._firestore===e._firestore&&Uk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class xg extends qk{constructor(e){super(),this.firestore=e}convertBytes(e){return new kf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Oo(this.firestore,null,t)}}function Wk(n,e,t){n=zi(n,Oo);const i=zi(n.firestore,Ro),r=vM(n.converter,e,t);return R0(i,[dM(Zv(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Dr.none())])}function Zk(n,e,t,...i){n=zi(n,Oo);const r=zi(n.firestore,Ro),s=Zv(r);let u;return u="string"==typeof(e=(0,ie.m9)(e))||e instanceof Xp?zk(s,"updateDoc",n._key,e,t,i):jk(s,"updateDoc",n._key,e),R0(r,[u.toMutation(n._key,Dr.exists(!0))])}function XU(n,e){const t=zi(n.firestore,Ro),i=kx(n),r=vM(n.converter,e);return R0(t,[dM(Zv(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Dr.exists(!1))]).then(()=>i)}function Kk(n,...e){var t,i,r;n=(0,ie.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||Vk(e[u])||(s=e[u],u++);const m={includeMetadataChanges:s.includeMetadataChanges};if(Vk(e[u])){const L=e[u];e[u]=null===(t=L.next)||void 0===t?void 0:t.bind(L),e[u+1]=null===(i=L.error)||void 0===i?void 0:i.bind(L),e[u+2]=null===(r=L.complete)||void 0===r?void 0:r.bind(L)}let v,C,M;if(n instanceof Oo)C=zi(n.firestore,Ro),M=yf(n._key.path),v={next:L=>{e[u]&&e[u](Yk(C,n,L))},error:e[u+1],complete:e[u+2]};else{const L=zi(n,fc);C=zi(L.firestore,Ro),M=L._query;const G=new xg(C);v={next:ne=>{e[u]&&e[u](new Cg(C,G,L,ne))},error:e[u+1],complete:e[u+2]},$U(n._query)}return function(L,G,ne,ae){const ye=new rM(ae),We=new iM(G,ye,ne);return L.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return JA(yield M0(L),We)})),()=>{ye.Dc(),L.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return Sx(yield M0(L),We)}))}}(Ps(C),M,m,v)}function R0(n,e){return function(t,i){const r=new fs;return t.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function ft(n,e,t){return Dt.apply(this,arguments)}(yield kk(t),i,r)})),r.promise}(Ps(n),e)}function Yk(n,e,t){const i=t.docs.get(e._key),r=new xg(n);return new Jp(n,r,e._key,i,new Yv(t.hasPendingWrites,t.fromCache),e.converter)}const A5={maxAttempts:5};class JU{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Zv(e)}set(e,t,i){this._verifyNotCommitted();const r=Ig(e,this._firestore),s=vM(r.converter,t,i),u=dM(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Dr.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Ig(e,this._firestore);let u;return u="string"==typeof(t=(0,ie.m9)(t))||t instanceof Xp?zk(this._dataReader,"WriteBatch.update",s._key,t,i,r):jk(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(u.toMutation(s._key,Dr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ig(e,this._firestore);return this._mutations=this._mutations.concat(new rg(t._key,Dr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vt(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ig(n,e){if((n=(0,ie.m9)(n)).firestore!==e)throw new vt(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class M5 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Zv(e)}get(e){const t=Ig(e,this._firestore),i=new u5(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return ln();const s=r[0];if(s.isFoundDocument())return new Ux(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new Ux(this._firestore,i,t._key,null,t.converter);throw ln()})}set(e,t,i){const r=Ig(e,this._firestore),s=vM(r.converter,t,i),u=dM(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const s=Ig(e,this._firestore);let u;return u="string"==typeof(t=(0,ie.m9)(t))||t instanceof Xp?zk(this._dataReader,"Transaction.update",s._key,t,i,r):jk(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,u),this}delete(e){const t=Ig(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ig(e,this._firestore),i=new xg(this._firestore);return super.get(e).then(r=>new Jp(this._firestore,i,t._key,r._document,new Yv(!1,!1),t.converter))}}!function(n,e=!0){$m=Ds.SDK_VERSION,(0,Ds._registerComponent)(new tu.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),u=new Ro(new XR(t.getProvider("auth-internal")),new JD(t.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new vt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ch(m.options.projectId,v)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Ds.registerVersion)(XE,"3.13.0",n),(0,Ds.registerVersion)(XE,"3.13.0","esm2017")}();var gn=Q(7398),yM=function(){return yM=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},yM.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var L5={includeMetadataChanges:!1};function Xk(n,e){return void 0===e&&(e=L5),new rr.y(function(t){return{unsubscribe:Kk(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)})}})}function V5(n,e){return void 0===e&&(e={}),function U5(n){return Xk(n,{includeMetadataChanges:!0})}(n).pipe((0,gn.U)(function(t){return tV(t,e)}))}function tV(n,e){var t;void 0===e&&(e={});var i=n.data(e);return n.exists()&&"object"==typeof i&&null!==i&&e.idField?yM(yM({},i),((t={})[e.idField]=n.id,t)):i}function G5(n,e){return void 0===e&&(e={}),function $5(n){return Xk(n,{includeMetadataChanges:!0}).pipe((0,gn.U)(function(e){return e.docs}))}(n).pipe((0,gn.U)(function(t){return t.map(function(i){return tV(i,e)})}))}class Qv{constructor(e){return e}}const oV="firestore",tN=new l.OlP("angularfire2.firestore-instances");function K5(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Qv(i)}}const Y5={provide:class W5{constructor(){return(0,An.vb)(oV)}},deps:[[new l.FiY,tN]]},Q5={provide:Qv,useFactory:function Z5(n,e){const t=(0,An.JM)(oV,n,e);return t&&new Qv(t)},deps:[[new l.FiY,tN],bm]};let sV=(()=>{class n{constructor(){(0,bd.KN)("angularfire",An.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Q5,Y5]}),n})();function X5(n,...e){return{ngModule:sV,providers:[{provide:tN,useFactory:K5(n),multi:!0,deps:[l.R0b,l.zs3,An.HU,Sw,[new l.FiY,wd],[new l.FiY,fp],...e]}]}}const aV=(0,An.u3)(G5,!0),J5=(0,An.u3)(V5,!0),eG=(0,An.u3)(XU,!0),bM=(0,An.u3)(Lk,!0),wM=(0,An.u3)(kx,!0),tG=(0,An.u3)(L$,!0),cV=(0,An.u3)(Wk,!0),nG=(0,An.u3)(Zk,!0),lV="firebasestorage.googleapis.com",uV="storageBucket";class os extends ie.ZR{constructor(e,t,i=0){super(nN(e),`Firebase Storage: ${t} (${nN(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,os.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nN(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var $o=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}($o||{});function nN(n){return"storage/"+n}function iN(){return new os($o.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function rN(n){return new os($o.INVALID_ARGUMENT,n)}function pV(){return new os($o.APP_DELETED,"The Firebase app was deleted.")}function zx(n,e){return new os($o.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Hx(n){throw new os($o.INTERNAL_ERROR,"Internal error: "+n)}class Tl{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Tl.makeFromUrl(e,t)}catch{return new Tl(e,"")}if(""===i.path)return i;throw function hG(n){return new os($o.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+r+"(/(.*))?$","i");function C(Lt){Lt.path_=decodeURIComponent(Lt.path)}const L=t.replace(/[.]/g,"\\."),Mt=[{regex:m,indices:{bucket:1,path:3},postModify:function s(Lt){"/"===Lt.path.charAt(Lt.path.length-1)&&(Lt.path_=Lt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${L}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:C},{regex:new RegExp(`^https?://${t===lV?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:C}];for(let Lt=0;Lt<Mt.length;Lt++){const Mn=Mt[Lt],Pn=Mn.regex.exec(e);if(Pn){let Wo=Pn[Mn.indices.path];Wo||(Wo=""),i=new Tl(Pn[Mn.indices.bucket],Wo),Mn.postModify(i);break}}if(null==i)throw function dG(n){return new os($o.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class vG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function EM(n){return"string"==typeof n||n instanceof String}function mV(n){return oN()&&n instanceof Blob}function oN(){return typeof Blob<"u"&&!(0,ie.UG)()}function sN(n,e,t,i){if(i<e)throw rN(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw rN(`Invalid value for '${n}'. Expected ${t} or less.`)}function em(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function gV(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var P0=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(P0||{});class xG{constructor(e,t,i,r,s,u,m,v,C,M,L,G=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=v,this.timeout_=C,this.progressCallback_=M,this.connectionFactory_=L,this.retry=G,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ne,ae)=>{this.resolve_=ne,this.reject_=ae,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,u=this.reject_,m=r.connection;if(r.wasSuccessCode)try{const v=this.callback_(m,m.getResponse());!function wG(n){return void 0!==n}(v)?s():s(v)}catch(v){u(v)}else if(null!==m){const v=iN();v.serverResponse=m.getErrorText(),u(this.errorCallback_?this.errorCallback_(m,v):v)}else u(r.canceled?this.appDelete_?pV():function hV(){return new os($o.CANCELED,"User canceled the upload/download.")}():function dV(){return new os($o.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new CM(!1,null,!0)):this.backoffId_=function yG(n,e,t){let i=1,r=null,s=null,u=!1,m=0;function v(){return 2===m}let C=!1;function M(...We){C||(C=!0,e.apply(null,We))}function L(We){r=setTimeout(()=>{r=null,n(ne,v())},We)}function G(){s&&clearTimeout(s)}function ne(We,...wt){if(C)return void G();if(We)return G(),void M.call(null,We,...wt);if(v()||u)return G(),void M.call(null,We,...wt);let Mt;i<64&&(i*=2),1===m?(m=2,Mt=0):Mt=1e3*(i+Math.random()),L(Mt)}let ae=!1;function ye(We){ae||(ae=!0,G(),!C&&(null!==r?(We||(m=2),clearTimeout(r),L(0)):We||(m=1)))}return L(0),s=setTimeout(()=>{u=!0,ye(!0)},t),ye}((i,r)=>{if(r)return void i(!1,new CM(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const u=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(u),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(u),this.pendingConnection_=null;const m=s.getErrorCode()===P0.NO_ERROR,v=s.getStatus();if(!m||function _V(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}(v,this.additionalRetryCodes_)&&this.retry){const M=s.getErrorCode()===P0.ABORT;return void i(!1,new CM(!1,null,M))}const C=-1!==this.successCodes_.indexOf(v);i(!0,new CM(C,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function bG(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class CM{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function OG(...n){const e=function MG(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(oN())return new Blob(n);throw new os($o.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Sh={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class aN{constructor(e,t){this.data=e,this.contentType=t||null}}function yV(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function bV(n,e){switch(n){case Sh.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw zx(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Sh.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw zx(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function PG(n){if(typeof atob>"u")throw function gG(n){return new os($o.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:zx(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class wV{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw zx(Sh.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function LG(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class tm{constructor(e,t){let i=0,r="";mV(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(mV(this.data_)){const r=function RG(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new tm(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new tm(i,!0)}}static getBlob(...e){if(oN()){const t=e.map(i=>i instanceof tm?i.data_:i);return new tm(OG.apply(null,t))}{const t=e.map(u=>EM(u)?function vV(n,e){switch(n){case Sh.RAW:return new aN(yV(e));case Sh.BASE64:case Sh.BASE64URL:return new aN(bV(n,e));case Sh.DATA_URL:return new aN(function NG(n){const e=new wV(n);return e.base64?bV(Sh.BASE64,e.rest):function kG(n){let e;try{e=decodeURIComponent(n)}catch{throw zx(Sh.DATA_URL,"Malformed data URL.")}return yV(e)}(e.rest)}(e),function FG(n){return new wV(n).contentType}(e))}throw iN()}(Sh.RAW,u).data:u.data_);let i=0;t.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(u=>{for(let m=0;m<u.length;m++)r[s++]=u[m]}),new tm(r,!0)}}uploadData(){return this.data_}}function cN(n){let e;try{e=JSON.parse(n)}catch{return null}return function CG(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function EV(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function BG(n,e){return e}class Dl{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||BG}}let xM=null;function $x(){if(xM)return xM;const n=[];n.push(new Dl("bucket")),n.push(new Dl("generation")),n.push(new Dl("metageneration")),n.push(new Dl("name","fullPath",!0));const t=new Dl("name");t.xform=function e(s,u){return function jG(n){return!EM(n)||n.length<2?n:EV(n)}(u)},n.push(t);const r=new Dl("size");return r.xform=function i(s,u){return void 0!==u?Number(u):u},n.push(r),n.push(new Dl("timeCreated")),n.push(new Dl("updated")),n.push(new Dl("md5Hash",null,!0)),n.push(new Dl("cacheControl",null,!0)),n.push(new Dl("contentDisposition",null,!0)),n.push(new Dl("contentEncoding",null,!0)),n.push(new Dl("contentLanguage",null,!0)),n.push(new Dl("contentType",null,!0)),n.push(new Dl("metadata","customMetadata",!0)),xM=n,xM}function CV(n,e,t){const i=cN(e);return null===i?null:function HG(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const u=t[s];i[u.local]=u.xform(i,e[u.server])}return function zG(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Tl(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}class Nf{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ff(n){if(!n)throw iN()}function k0(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function lG(){return new os($o.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function cG(){return new os($o.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function aG(n){return new os($o.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function uG(n){return new os($o.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function AV(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},v=function m(){let Mt="";for(let Lt=0;Lt<2;Lt++)Mt+=Math.random().toString().slice(2);return Mt}();u["Content-Type"]="multipart/related; boundary="+v;const C=function SV(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function JG(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}(e,i,r),M=function lN(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}(C,t),ne=tm.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+M+"\r\n--"+v+"\r\nContent-Type: "+C.contentType+"\r\n\r\n",i,"\r\n--"+v+"--");if(null===ne)throw function fV(){return new os($o.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const ae={name:C.fullPath},ye=em(s,n.host,n._protocol),wt=n.maxUploadRetryTime,Ot=new Nf(ye,"POST",function IM(n,e){return function t(i,r){const s=CV(n,r,e);return Ff(null!==s),s}}(n,t),wt);return Ot.urlParams=ae,Ot.headers=u,Ot.body=ne.uploadData(),Ot.errorHandler=k0(e),Ot}let OV=null;class rq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=P0.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=P0.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=P0.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw Hx("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hx("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hx("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Hx("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hx("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class oq extends rq{initXhr(){this.xhr_.responseType="text"}}function Ah(){return OV?OV():new oq}class Xv{constructor(e,t){this._service=e,this._location=t instanceof Tl?t:Tl.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Xv(e,t)}get root(){const e=new Tl(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return EV(this._location.path)}get storage(){return this._service}get parent(){const e=function UG(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Tl(this._location.bucket,e);return new Xv(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function _G(n){return new os($o.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function vq(n){n._throwIfRoot("getDownloadURL");const e=function YG(n,e,t){const r=em(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,m=new Nf(r,"GET",function ZG(n,e){return function t(i,r){const s=CV(n,r,e);return Ff(null!==s),function $G(n,e,t,i){const r=cN(e);if(null===r||!EM(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const u=encodeURIComponent;return s.split(",").map(C=>{const L=n.fullPath;return em("/b/"+u(n.bucket)+"/o/"+u(L),t,i)+gV({alt:"media",token:C})})[0]}(s,r,n.host,n._protocol)}}(n,t),u);return m.errorHandler=function Gx(n){const e=k0(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function sG(n){return new os($o.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}(e),m}(n.storage,n._location,$x());return n.storage.makeRequestWithTokens(e,Ah).then(t=>{if(null===t)throw function mG(){return new os($o.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function FV(n,e){if(n instanceof fN){const t=n;if(null==t._bucket)throw function fG(){return new os($o.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+uV+"' property when initializing the app?")}();const i=new Xv(t,t._bucket);return null!=e?FV(i,e):i}return void 0!==e?function NV(n,e){const t=function VG(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Tl(n._location.bucket,t);return new Xv(n.storage,i)}(n,e):n}function LV(n,e){const t=e?.[uV];return null==t?null:Tl.makeFromBucketSpec(t,n)}class fN{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=lV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Tl.makeFromBucketSpec(r,this._host):LV(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Tl.makeFromBucketSpec(this._url,e):LV(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,dt.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,dt.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xv(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new vG(pV());{const u=function AG(n,e,t,i,r,s,u=!0){const m=gV(n.urlParams),v=n.url+m,C=Object.assign({},n.headers);return function DG(n,e){e&&(n["X-Firebase-GMPID"]=e)}(C,e),function IG(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(C,t),function TG(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(C,s),function SG(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(C,i),new xG(v,n.method,C,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,u)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var i=this;return(0,dt.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const UV="@firebase/storage",BV="storage";function xq(n,e,t){return function RV(n,e,t){n._throwIfRoot("uploadBytes");const i=AV(n.storage,n._location,$x(),new tm(e,!0),t);return n.storage.makeRequestWithTokens(i,Ah).then(r=>({metadata:r,ref:n}))}(n=(0,ie.m9)(n),e,t)}function Iq(n){return vq(n=(0,ie.m9)(n))}function Tq(n,e){return function Eq(n,e){if(e&&function bq(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof fN)return function wq(n,e){return new Xv(n,e)}(n,e);throw rN("To use ref(service, url), the first argument must be a Storage instance.")}return FV(n,e)}(n=(0,ie.m9)(n),e)}function Dq(n=(0,Ds.getApp)(),e){n=(0,ie.m9)(n);const i=(0,Ds._getProvider)(n,BV).getImmediate({identifier:e}),r=(0,ie.P0)("storage");return r&&function Sq(n,e,t,i={}){!function Cq(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,ie.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(i,...r),i}function Aq(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new fN(t,i,r,e,Ds.SDK_VERSION)}!function Mq(){(0,Ds._registerComponent)(new tu.wA(BV,Aq,"PUBLIC").setMultipleInstances(!0)),(0,Ds.registerVersion)(UV,"0.11.2",""),(0,Ds.registerVersion)(UV,"0.11.2","esm2017")}();class DM{constructor(e){return e}}const jV="storage",pN=new l.OlP("angularfire2.storage-instances");function Pq(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new DM(i)}}const kq={provide:class Oq{constructor(){return(0,An.vb)(jV)}},deps:[[new l.FiY,pN]]},Nq={provide:DM,useFactory:function Rq(n,e){const t=(0,An.JM)(jV,n,e);return t&&new DM(t)},deps:[[new l.FiY,pN],bm]};let Fq=(()=>{class n{constructor(){(0,bd.KN)("angularfire",An.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Nq,kq]}),n})();function Lq(n,...e){return{ngModule:Fq,providers:[{provide:pN,useFactory:Pq(n),multi:!0,deps:[l.R0b,l.zs3,An.HU,Sw,[new l.FiY,wd],[new l.FiY,fp],...e]}]}}const Uq=(0,An.u3)(Iq,!0),Vq=(0,An.u3)(Dq,!0),Bq=(0,An.u3)(Tq,!0),jq=(0,An.u3)(xq,!0);var Fd=Q(4674),Sr=Q(2459),_n=Q(2096),Ld=Q(5619);const{isArray:Hq}=Array,{getPrototypeOf:$q,prototype:Gq,keys:qq}=Object;function zV(n){if(1===n.length){const e=n[0];if(Hq(e))return{args:e,keys:null};if(function Wq(n){return n&&"object"==typeof n&&$q(n)===Gq}(e)){const t=qq(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var qx=Q(2737);const{isArray:Zq}=Array;function mN(n){return(0,gn.U)(e=>function Kq(n,e){return Zq(e)?n(...e):n(e)}(n,e))}var F0=Q(9940);function HV(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var Yq=Q(7103);function SM(...n){const e=(0,F0.yG)(n),t=(0,F0.jO)(n),{args:i,keys:r}=zV(n);if(0===i.length)return(0,Sr.D)([],e);const s=new rr.y(function Qq(n,e,t=qx.y){return i=>{$V(e,()=>{const{length:r}=n,s=new Array(r);let u=r,m=r;for(let v=0;v<r;v++)$V(e,()=>{const C=(0,Sr.D)(n[v],e);let M=!1;C.subscribe((0,ci.x)(i,L=>{s[v]=L,M||(M=!0,m--),m||i.next(t(s.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>HV(r,u):qx.y));return t?s.pipe(mN(t)):s}function $V(n,e,t){n?(0,Yq.f)(t,n,e):e()}const AM=(0,Q(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Wx=Q(7537);function Zx(...n){return function Jq(){return(0,Wx.J)(1)}()((0,Sr.D)(n,(0,F0.yG)(n)))}var gN=Q(8407);function L0(n,e){const t=(0,Fd.m)(n)?n:()=>n,i=r=>r.error(t());return new rr.y(e?r=>e.schedule(i,0,r):i)}var Lf=Q(6232),$u=Q(7394);function _N(){return(0,kr.e)((n,e)=>{let t=null;n._refCount++;const i=(0,ci.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class GV extends rr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,kr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $u.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ci.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$u.w0.EMPTY)}return e}refCount(){return _N()(this)}}var Go=Q(4664);function Kc(n){return n<=0?()=>Lf.E:(0,kr.e)((e,t)=>{let i=0;e.subscribe((0,ci.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Tg(...n){const e=(0,F0.yG)(n);return(0,kr.e)((t,i)=>{(e?Zx(n,t,e):Zx(n,t)).subscribe(i)})}var Ea=Q(1631);function MM(n){return(0,kr.e)((e,t)=>{let i=!1;e.subscribe((0,ci.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function qV(n=eW){return(0,kr.e)((e,t)=>{let i=!1;e.subscribe((0,ci.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function eW(){return new AM}function Dg(n,e){const t=arguments.length>=2;return i=>i.pipe(n?or((r,s)=>n(r,s,i)):qx.y,Kc(1),t?MM(e):qV(()=>new AM))}function Jv(n,e){return(0,Fd.m)(e)?(0,Ea.z)(n,e,1):(0,Ea.z)(n,1)}function Sg(n){return(0,kr.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,ci.x)(t,void 0,void 0,u=>{s=(0,So.Xf)(n(u,Sg(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function U0(n,e){return(0,kr.e)(function tW(n,e,t,i,r){return(s,u)=>{let m=t,v=e,C=0;s.subscribe((0,ci.x)(u,M=>{const L=C++;v=m?n(v,M,L):(m=!0,M),i&&u.next(v)},r&&(()=>{m&&u.next(v),u.complete()})))}}(n,e,arguments.length>=2,!0))}function vN(n){return n<=0?()=>Lf.E:(0,kr.e)((e,t)=>{let i=[];e.subscribe((0,ci.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function WV(n){return(0,gn.U)(()=>n)}function OM(n){return(0,kr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var yN=Q(2420);function Ud(n){return(0,kr.e)((e,t)=>{(0,So.Xf)(n).subscribe((0,ci.x)(t,()=>t.complete(),yN.Z)),!t.closed&&e.subscribe(t)})}const _i="primary",Kx=Symbol("RouteTitle");class iW{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function V0(n){return new iW(n)}function rW(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const u=i[s],m=n[s];if(u.startsWith(":"))r[u.substring(1)]=m;else if(u!==m.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Uf(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!ZV(n[r],e[r]))return!1;return!0}function ZV(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function KV(n){return n.length>0?n[n.length-1]:null}function Ag(n){return function zq(n){return!!n&&(n instanceof rr.y||(0,Fd.m)(n.lift)&&(0,Fd.m)(n.subscribe))}(n)?n:(0,l.QGY)(n)?(0,Sr.D)(Promise.resolve(n)):(0,_n.of)(n)}const sW={exact:function XV(n,e,t){if(!ey(n.segments,e.segments)||!RM(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!XV(n.children[i],e.children[i],t))return!1;return!0},subset:JV},YV={exact:function aW(n,e){return Uf(n,e)},subset:function cW(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ZV(n[t],e[t]))},ignored:()=>!0};function QV(n,e,t){return sW[t.paths](n.root,e.root,t.matrixParams)&&YV[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function JV(n,e,t){return eB(n,e,e.segments,t)}function eB(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!ey(r,t)||e.hasChildren()||!RM(r,t,i))}if(n.segments.length===t.length){if(!ey(n.segments,t)||!RM(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!JV(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(ey(n.segments,r)&&RM(n.segments,r,i)&&n.children[_i])&&eB(n.children[_i],e,s,i)}}function RM(n,e,t){return e.every((i,r)=>YV[t](n[r].parameters,i.parameters))}class B0{constructor(e=new Fr([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=V0(this.queryParams)),this._queryParamMap}toString(){return dW.serialize(this)}}class Fr{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return PM(this)}}class Yx{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=V0(this.parameters)),this._parameterMap}toString(){return iB(this)}}function ey(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Qx=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return new bN},providedIn:"root"})}return n})();class bN{parse(e){const t=new EW(e);return new B0(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Xx(e.root,!0)}`,i=function pW(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${kM(t)}=${kM(r)}`).join("&"):`${kM(t)}=${kM(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),r="string"==typeof e.fragment?`#${function hW(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${i}${r}`}}const dW=new bN;function PM(n){return n.segments.map(e=>iB(e)).join("/")}function Xx(n,e){if(!n.hasChildren())return PM(n);if(e){const t=n.children[_i]?Xx(n.children[_i],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==_i&&i.push(`${r}:${Xx(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function uW(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===_i&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==_i&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===_i?[Xx(n.children[_i],!1)]:[`${r}:${Xx(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[_i]?`${PM(n)}/${t[0]}`:`${PM(n)}/(${t.join("//")})`}}function tB(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kM(n){return tB(n).replace(/%3B/gi,";")}function wN(n){return tB(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function NM(n){return decodeURIComponent(n)}function nB(n){return NM(n.replace(/\+/g,"%20"))}function iB(n){return`${wN(n.path)}${function fW(n){return Object.keys(n).map(e=>`;${wN(e)}=${wN(n[e])}`).join("")}(n.parameters)}`}const mW=/^[^\/()?;#]+/;function EN(n){const e=n.match(mW);return e?e[0]:""}const gW=/^[^\/()?;=#]+/,vW=/^[^=?&#]+/,bW=/^[^&#]+/;class EW{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fr([],{}):new Fr([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[_i]=new Fr(e,t)),i}parseSegment(){const e=EN(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(e),new Yx(NM(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function _W(n){const e=n.match(gW);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=EN(this.remaining);r&&(i=r,this.capture(i))}e[NM(t)]=NM(i)}parseQueryParam(e){const t=function yW(n){const e=n.match(vW);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function wW(n){const e=n.match(bW);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=nB(t),s=nB(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=EN(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=_i);const u=this.parseChildren();t[s]=1===Object.keys(u).length?u[_i]:new Fr([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,!1)}}function rB(n){return n.segments.length>0?new Fr([],{[_i]:n}):n}function oB(n){const e={};for(const i of Object.keys(n.children)){const s=oB(n.children[i]);if(i===_i&&0===s.segments.length&&s.hasChildren())for(const[u,m]of Object.entries(s.children))e[u]=m;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function CW(n){if(1===n.numberOfChildren&&n.children[_i]){const e=n.children[_i];return new Fr(n.segments.concat(e.segments),e.children)}return n}(new Fr(n.segments,e))}function ty(n){return n instanceof B0}function sB(n){let e;const r=rB(function t(s){const u={};for(const v of s.children){const C=t(v);u[v.outlet]=C}const m=new Fr(s.url,u);return s===n&&(e=m),m}(n.root));return e??r}function aB(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return CN(r,r,r,t,i);const s=function IW(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new lB(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const m={};return Object.entries(s.outlets).forEach(([v,C])=>{m[v]="string"==typeof C?C.split("/"):C}),[...r,{outlets:m}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===u?(s.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?t=!0:".."===m?e++:""!=m&&r.push(m))}),r):[...r,s]},[]);return new lB(t,e,i)}(e);if(s.toRoot())return CN(r,r,new Fr([],{}),t,i);const u=function TW(n,e,t){if(n.isAbsolute)return new LM(e,!0,0);if(!t)return new LM(e,!1,NaN);if(null===t.parent)return new LM(t,!0,0);const i=FM(n.commands[0])?0:1;return function DW(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new l.vHH(4005,!1);r=i.segments.length}return new LM(i,!1,r-s)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),m=u.processChildren?eI(u.segmentGroup,u.index,s.commands):uB(u.segmentGroup,u.index,s.commands);return CN(r,u.segmentGroup,m,t,i)}function FM(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Jx(n){return"object"==typeof n&&null!=n&&n.outlets}function CN(n,e,t,i,r){let u,s={};i&&Object.entries(i).forEach(([v,C])=>{s[v]=Array.isArray(C)?C.map(M=>`${M}`):`${C}`}),u=n===e?t:cB(n,e,t);const m=rB(oB(u));return new B0(m,s,r)}function cB(n,e,t){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===e?t:cB(s,e,t)}),new Fr(n.segments,i)}class lB{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&FM(i[0]))throw new l.vHH(4003,!1);const r=i.find(Jx);if(r&&r!==KV(i))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class LM{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function uB(n,e,t){if(n||(n=new Fr([],{})),0===n.segments.length&&n.hasChildren())return eI(n,e,t);const i=function AW(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const u=n.segments[r],m=t[i];if(Jx(m))break;const v=`${m}`,C=i<t.length-1?t[i+1]:null;if(r>0&&void 0===v)break;if(v&&C&&"object"==typeof C&&void 0===C.outlets){if(!hB(v,C,u))return s;i+=2}else{if(!hB(v,{},u))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Fr(n.segments.slice(0,i.pathIndex),{});return s.children[_i]=new Fr(n.segments.slice(i.pathIndex),n.children),eI(s,0,r)}return i.match&&0===r.length?new Fr(n.segments,{}):i.match&&!n.hasChildren()?xN(n,e,t):i.match?eI(n,0,r):xN(n,e,t)}function eI(n,e,t){if(0===t.length)return new Fr(n.segments,{});{const i=function SW(n){return Jx(n[0])?n[0].outlets:{[_i]:n}}(t),r={};if(Object.keys(i).some(s=>s!==_i)&&n.children[_i]&&1===n.numberOfChildren&&0===n.children[_i].segments.length){const s=eI(n.children[_i],e,t);return new Fr(n.segments,s.children)}return Object.entries(i).forEach(([s,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(r[s]=uB(n.children[s],e,u))}),Object.entries(n.children).forEach(([s,u])=>{void 0===i[s]&&(r[s]=u)}),new Fr(n.segments,r)}}function xN(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Jx(s)){const v=MW(s.outlets);return new Fr(i,v)}if(0===r&&FM(t[0])){i.push(new Yx(n.segments[e].path,dB(t[0]))),r++;continue}const u=Jx(s)?s.outlets[_i]:`${s}`,m=r<t.length-1?t[r+1]:null;u&&m&&FM(m)?(i.push(new Yx(u,dB(m))),r+=2):(i.push(new Yx(u,{})),r++)}return new Fr(i,{})}function MW(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=xN(new Fr([],{}),0,i))}),e}function dB(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function hB(n,e,t){return n==t.path&&Uf(e,t.parameters)}const tI="imperative";class Vf{constructor(e,t){this.id=e,this.url=t}}class UM extends Vf{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mg extends Vf{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nI extends Vf{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class j0 extends Vf{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class VM extends Vf{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fB extends Vf{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OW extends Vf{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RW extends Vf{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class PW extends Vf{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kW extends Vf{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NW{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class FW{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class LW{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UW{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VW{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BW{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pB{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class IN{}class TN{constructor(e){this.url=e}}class jW{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new iI,this.attachRef=null}}let iI=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new jW,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class mB{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=DN(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=DN(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=SN(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return SN(e,this._root).map(t=>t.value)}}function DN(n,e){if(n===e.value)return e;for(const t of e.children){const i=DN(n,t);if(i)return i}return null}function SN(n,e){if(n===e.value)return[e];for(const t of e.children){const i=SN(n,t);if(i.length)return i.unshift(e),i}return[]}class nm{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function z0(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class gB extends mB{constructor(e,t){super(e),this.snapshot=t,AN(this,e)}toString(){return this.snapshot.toString()}}function _B(n,e){const t=function zW(n,e){const u=new BM([],{},{},"",{},_i,e,null,{});return new yB("",new nm(u,[]))}(0,e),i=new Ld.X([new Yx("",{})]),r=new Ld.X({}),s=new Ld.X({}),u=new Ld.X({}),m=new Ld.X(""),v=new H0(i,r,u,m,s,_i,e,t.root);return v.snapshot=t.root,new gB(new nm(v,[]),t)}class H0{constructor(e,t,i,r,s,u,m,v){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=u,this.component=m,this._futureSnapshot=v,this.title=this.dataSubject?.pipe((0,gn.U)(C=>C[Kx]))??(0,_n.of)(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gn.U)(e=>V0(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gn.U)(e=>V0(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vB(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function HW(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class BM{get title(){return this.data?.[Kx]}constructor(e,t,i,r,s,u,m,v,C){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=m,this.routeConfig=v,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=V0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=V0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yB extends mB{constructor(e,t){super(t),this.url=e,AN(this,t)}toString(){return bB(this._root)}}function AN(n,e){e.value._routerState=n,e.children.forEach(t=>AN(n,t))}function bB(n){const e=n.children.length>0?` { ${n.children.map(bB).join(", ")} } `:"";return`${n.value}${e}`}function MN(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Uf(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Uf(e.params,t.params)||n.paramsSubject.next(t.params),function oW(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Uf(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Uf(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ON(n,e){const t=Uf(n.params,e.params)&&function lW(n,e){return ey(n,e)&&n.every((t,i)=>Uf(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ON(n.parent,e.parent))}let jM=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=_i,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(iI),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(zM,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=t;const r=this.location,u=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,v=new $W(t,m,r.injector);this.activated=r.createComponent(u,{index:r.length,injector:v,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]})}return n})();class $W{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===H0?this.route:e===iI?this.childContexts:this.parent.get(e,t)}}const zM=new l.OlP("");let wB=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=SM([i.queryParams,i.params,i.data]).pipe((0,Go.w)(([s,u,m],v)=>(m={...s,...u,...m},0===v?(0,_n.of)(m):Promise.resolve(m)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const u=(0,l.qFp)(i.component);if(u)for(const{templateName:m}of u.inputs)t.activatedComponentRef.setInput(m,s[m]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();function rI(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function qW(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return rI(n,i,r);return rI(n,i)})}(n,e,t);return new nm(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(m=>rI(n,m)),u}}const i=function WW(n){return new H0(new Ld.X(n.url),new Ld.X(n.params),new Ld.X(n.queryParams),new Ld.X(n.fragment),new Ld.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>rI(n,s));return new nm(i,r)}}const RN="ngNavigationCancelingError";function EB(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=ty(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=CB(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function CB(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[RN]=!0,i.cancellationCode=e,t&&(i.url=t),i}function xB(n){return n&&n[RN]}let IB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(i,r){1&i&&l._UZ(0,"router-outlet")},dependencies:[jM],encapsulation:2})}return n})();function PN(n){const e=n.children&&n.children.map(PN),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==_i&&(t.component=IB),t}function Mh(n){return n.outlet||_i}function oI(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class t9{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),MN(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=z0(t);e.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,r[u],i),delete r[u]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=z0(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);if(i&&i.outlet){const u=i.outlet.detach(),m=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=z0(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=z0(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new BW(s.value.snapshot))}),e.children.length&&this.forwardEvent(new UW(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(MN(r),r===s)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const m=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(m.contexts),u.attachRef=m.componentRef,u.route=m.route.value,u.outlet&&u.outlet.attach(m.componentRef,m.route.value),MN(m.route.value),this.activateChildRoutes(e,null,u.children)}else{const m=oI(r.snapshot);u.attachRef=null,u.route=r,u.injector=m,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class TB{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class HM{constructor(e,t){this.component=e,this.route=t}}function n9(n,e,t){const i=n._root;return sI(i,e?e._root:null,t,[i.value])}function $0(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:i}function sI(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=z0(e);return n.children.forEach(u=>{(function r9(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const v=function o9(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ey(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ey(n.url,e.url)||!Uf(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ON(n,e)||!Uf(n.queryParams,e.queryParams);default:return!ON(n,e)}}(u,s,s.routeConfig.runGuardsAndResolvers);v?r.canActivateChecks.push(new TB(i)):(s.data=u.data,s._resolvedData=u._resolvedData),sI(n,e,s.component?m?m.children:null:t,i,r),v&&m&&m.outlet&&m.outlet.isActivated&&r.canDeactivateChecks.push(new HM(m.outlet.component,u))}else u&&aI(e,m,r),r.canActivateChecks.push(new TB(i)),sI(n,null,s.component?m?m.children:null:t,i,r)})(u,s[u.value.outlet],t,i.concat([u.value]),r),delete s[u.value.outlet]}),Object.entries(s).forEach(([u,m])=>aI(m,t.getContext(u),r)),r}function aI(n,e,t){const i=z0(n),r=n.value;Object.entries(i).forEach(([s,u])=>{aI(u,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new HM(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function cI(n){return"function"==typeof n}function DB(n){return n instanceof AM||"EmptyError"===n?.name}const $M=Symbol("INITIAL_VALUE");function G0(){return(0,Go.w)(n=>SM(n.map(e=>e.pipe(Kc(1),Tg($M)))).pipe((0,gn.U)(e=>{for(const t of e)if(!0!==t){if(t===$M)return $M;if(!1===t||t instanceof B0)return t}return!0}),or(e=>e!==$M),Kc(1)))}function SB(n){return(0,gN.z)((0,Qi.b)(e=>{if(ty(e))throw EB(0,e)}),(0,gn.U)(e=>!0===e))}class GM{constructor(e){this.segmentGroup=e||null}}class AB{constructor(e){this.urlTree=e}}function q0(n){return L0(new GM(n))}function MB(n){return L0(new AB(n))}class I9{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new l.vHH(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,_n.of)(i);if(r.numberOfChildren>1||!r.children[_i])return L0(new l.vHH(4e3,!1));r=r.children[_i]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new B0(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);i[r]=t[m]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let u={};return Object.entries(t.children).forEach(([m,v])=>{u[m]=this.createSegmentGroup(e,v,i,r)}),new Fr(s,u)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new l.vHH(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const kN={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function T9(n,e,t,i,r){const s=NN(n,e,t);return s.matched?(i=function KW(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function E9(n,e,t,i){const r=e.canMatch;if(!r||0===r.length)return(0,_n.of)(!0);const s=r.map(u=>{const m=$0(u,n);return Ag(function d9(n){return n&&cI(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))});return(0,_n.of)(s).pipe(G0(),SB())}(i,e,t).pipe((0,gn.U)(u=>!0===u?s:{...kN}))):(0,_n.of)(s)}function NN(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...kN}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||rW)(t,n,e);if(!r)return{...kN};const s={};Object.entries(r.posParams??{}).forEach(([m,v])=>{s[m]=v.path});const u=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function OB(n,e,t,i){return t.length>0&&function A9(n,e,t){return t.some(i=>qM(n,e,i)&&Mh(i)!==_i)}(n,t,i)?{segmentGroup:new Fr(e,S9(i,new Fr(t,n.children))),slicedSegments:[]}:0===t.length&&function M9(n,e,t){return t.some(i=>qM(n,e,i))}(n,t,i)?{segmentGroup:new Fr(n.segments,D9(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Fr(n.segments,n.children),slicedSegments:t}}function D9(n,e,t,i,r){const s={};for(const u of i)if(qM(n,t,u)&&!r[Mh(u)]){const m=new Fr([],{});s[Mh(u)]=m}return{...r,...s}}function S9(n,e){const t={};t[_i]=e;for(const i of n)if(""===i.path&&Mh(i)!==_i){const r=new Fr([],{});t[Mh(i)]=r}return t}function qM(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class k9{constructor(e,t,i,r,s,u,m){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=u,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new I9(this.urlSerializer,this.urlTree)}noMatchError(e){return new l.vHH(4002,!1)}recognize(){const e=OB(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,_i).pipe(Sg(t=>{if(t instanceof AB)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof GM?this.noMatchError(t):t}),(0,gn.U)(t=>{const i=new BM([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},_i,this.rootComponentType,null,{}),r=new nm(i,t),s=new yB("",r),u=function xW(n,e,t=null,i=null){return aB(sB(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(s._root),{state:s,tree:u}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,_i).pipe(Sg(i=>{throw i instanceof GM?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=vB(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Sr.D)(r).pipe(Jv(s=>{const u=i.children[s],m=function JW(n,e){const t=n.filter(i=>Mh(i)===e);return t.push(...n.filter(i=>Mh(i)!==e)),t}(t,s);return this.processSegmentGroup(e,m,u,s)}),U0((s,u)=>(s.push(...u),s)),MM(null),function nW(n,e){const t=arguments.length>=2;return i=>i.pipe(n?or((r,s)=>n(r,s,i)):qx.y,vN(1),t?MM(e):qV(()=>new AM))}(),(0,Ea.z)(s=>{if(null===s)return q0(i);const u=RB(s);return function N9(n){n.sort((e,t)=>e.value.outlet===_i?-1:t.value.outlet===_i?1:e.value.outlet.localeCompare(t.value.outlet))}(u),(0,_n.of)(u)}))}processSegment(e,t,i,r,s,u){return(0,Sr.D)(t).pipe(Jv(m=>this.processSegmentAgainstRoute(m._injector??e,t,m,i,r,s,u).pipe(Sg(v=>{if(v instanceof GM)return(0,_n.of)(null);throw v}))),Dg(m=>!!m),Sg(m=>{if(DB(m))return function R9(n,e,t){return 0===e.length&&!n.children[t]}(i,r,s)?(0,_n.of)([]):q0(i);throw m}))}processSegmentAgainstRoute(e,t,i,r,s,u,m){return function O9(n,e,t,i){return!!(Mh(n)===i||i!==_i&&qM(e,t,n))&&("**"===n.path||NN(e,n,t).matched)}(i,r,s,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,u,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,u):q0(r):q0(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?MB(s):this.applyRedirects.lineralizeSegments(i,s).pipe((0,Ea.z)(u=>{const m=new Fr(u,{});return this.processSegment(e,t,m,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u){const{matched:m,consumedSegments:v,remainingSegments:C,positionalParamSegments:M}=NN(t,r,s);if(!m)return q0(t);const L=this.applyRedirects.applyRedirectCommands(v,r.redirectTo,M);return r.redirectTo.startsWith("/")?MB(L):this.applyRedirects.lineralizeSegments(r,L).pipe((0,Ea.z)(G=>this.processSegment(e,i,t,G.concat(C),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,s,u){let m;if("**"===i.path){const v=r.length>0?KV(r).parameters:{},C=new BM(r,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,PB(i),Mh(i),i.component??i._loadedComponent??null,i,kB(i));m=(0,_n.of)({snapshot:C,consumedSegments:[],remainingSegments:[]}),t.children={}}else m=T9(t,i,r,e).pipe((0,gn.U)(({matched:v,consumedSegments:C,remainingSegments:M,parameters:L})=>v?{snapshot:new BM(C,L,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,PB(i),Mh(i),i.component??i._loadedComponent??null,i,kB(i)),consumedSegments:C,remainingSegments:M}:null));return m.pipe((0,Go.w)(v=>null===v?q0(t):this.getChildConfig(e=i._injector??e,i,r).pipe((0,Go.w)(({routes:C})=>{const M=i._loadedInjector??e,{snapshot:L,consumedSegments:G,remainingSegments:ne}=v,{segmentGroup:ae,slicedSegments:ye}=OB(t,G,ne,C);if(0===ye.length&&ae.hasChildren())return this.processChildren(M,C,ae).pipe((0,gn.U)(wt=>null===wt?null:[new nm(L,wt)]));if(0===C.length&&0===ye.length)return(0,_n.of)([new nm(L,[])]);const We=Mh(i)===s;return this.processSegment(M,C,ae,ye,We?_i:s,!0).pipe((0,gn.U)(wt=>[new nm(L,wt)]))}))))}getChildConfig(e,t,i){return t.children?(0,_n.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,_n.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function w9(n,e,t,i){const r=e.canLoad;if(void 0===r||0===r.length)return(0,_n.of)(!0);const s=r.map(u=>{const m=$0(u,n);return Ag(function a9(n){return n&&cI(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))});return(0,_n.of)(s).pipe(G0(),SB())}(e,t,i).pipe((0,Ea.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Qi.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function x9(n){return L0(CB(!1,3))}())):(0,_n.of)({routes:[],injector:e})}}function F9(n){const e=n.value.routeConfig;return e&&""===e.path}function RB(n){const e=[],t=new Set;for(const i of n){if(!F9(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=RB(i.children);e.push(new nm(i.value,r))}return e.filter(i=>!t.has(i))}function PB(n){return n.data||{}}function kB(n){return n.resolve||{}}function NB(n){return"string"==typeof n.title||null===n.title}function FN(n){return(0,Go.w)(e=>{const t=n(e);return t?(0,Sr.D)(t).pipe((0,gn.U)(()=>e)):(0,_n.of)(e)})}const W0=new l.OlP("ROUTES");let LN=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,_n.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Ag(t.loadComponent()).pipe((0,gn.U)(FB),(0,Qi.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),OM(()=>{this.componentLoaders.delete(t)})),r=new GV(i,()=>new jn.x).pipe(_N());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,_n.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function H9(n,e,t,i){return Ag(n.loadChildren()).pipe((0,gn.U)(FB),(0,Ea.z)(r=>r instanceof l.YKP||Array.isArray(r)?(0,_n.of)(r):(0,Sr.D)(e.compileModuleAsync(r))),(0,gn.U)(r=>{i&&i(n);let s,u,m=!1;return Array.isArray(r)?(u=r,!0):(s=r.create(t).injector,u=s.get(W0,[],{optional:!0,self:!0}).flat()),{routes:u.map(PN),injector:s}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(OM(()=>{this.childrenLoaders.delete(i)})),u=new GV(s,()=>new jn.x).pipe(_N());return this.childrenLoaders.set(i,u),u}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function FB(n){return function $9(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let WM=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new jn.x,this.transitionAbortSubject=new jn.x,this.configLoader=(0,l.f3M)(LN),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(Qx),this.rootContexts=(0,l.f3M)(iI),this.inputBindingEnabled=null!==(0,l.f3M)(zM,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,_n.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new FW(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new NW(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new Ld.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:tI,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(or(s=>0!==s.id),(0,gn.U)(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),(0,Go.w)(s=>{this.currentTransition=s;let u=!1,m=!1;return(0,_n.of)(s).pipe((0,Qi.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.rawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Go.w)(v=>{const C=v.currentBrowserUrl.toString(),M=!t.navigated||v.extractedUrl.toString()!==C||C!==v.currentUrlTree.toString();if(!M&&"reload"!==(v.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const G="";return this.events.next(new j0(v.id,this.urlSerializer.serialize(v.rawUrl),G,0)),v.resolve(null),Lf.E}if(t.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return(0,_n.of)(v).pipe((0,Go.w)(G=>{const ne=this.transitions?.getValue();return this.events.next(new UM(G.id,this.urlSerializer.serialize(G.extractedUrl),G.source,G.restoredState)),ne!==this.transitions?.getValue()?Lf.E:Promise.resolve(G)}),function L9(n,e,t,i,r,s){return(0,Ea.z)(u=>function P9(n,e,t,i,r,s,u="emptyOnly"){return new k9(n,e,t,i,r,u,s).recognize()}(n,e,t,i,u.extractedUrl,r,s).pipe((0,gn.U)(({state:m,tree:v})=>({...u,targetSnapshot:m,urlAfterRedirects:v}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Qi.b)(G=>{s.targetSnapshot=G.targetSnapshot,s.urlAfterRedirects=G.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:G.urlAfterRedirects};const ne=new fB(G.id,this.urlSerializer.serialize(G.extractedUrl),this.urlSerializer.serialize(G.urlAfterRedirects),G.targetSnapshot);this.events.next(ne)}));if(M&&t.urlHandlingStrategy.shouldProcessUrl(v.currentRawUrl)){const{id:G,extractedUrl:ne,source:ae,restoredState:ye,extras:We}=v,wt=new UM(G,this.urlSerializer.serialize(ne),ae,ye);this.events.next(wt);const Ot=_B(0,this.rootComponentType).snapshot;return this.currentTransition=s={...v,targetSnapshot:Ot,urlAfterRedirects:ne,extras:{...We,skipLocationChange:!1,replaceUrl:!1}},(0,_n.of)(s)}{const G="";return this.events.next(new j0(v.id,this.urlSerializer.serialize(v.extractedUrl),G,1)),v.resolve(null),Lf.E}}),(0,Qi.b)(v=>{const C=new OW(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(C)}),(0,gn.U)(v=>(this.currentTransition=s={...v,guards:n9(v.targetSnapshot,v.currentSnapshot,this.rootContexts)},s)),function f9(n,e){return(0,Ea.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:u}}=t;return 0===u.length&&0===s.length?(0,_n.of)({...t,guardsResult:!0}):function p9(n,e,t,i){return(0,Sr.D)(n).pipe((0,Ea.z)(r=>function b9(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,_n.of)(!0);const u=s.map(m=>{const v=oI(e)??r,C=$0(m,v);return Ag(function u9(n){return n&&cI(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,i):v.runInContext(()=>C(n,e,t,i))).pipe(Dg())});return(0,_n.of)(u).pipe(G0())}(r.component,r.route,t,e,i)),Dg(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Ea.z)(m=>m&&function s9(n){return"boolean"==typeof n}(m)?function m9(n,e,t,i){return(0,Sr.D)(e).pipe(Jv(r=>Zx(function _9(n,e){return null!==n&&e&&e(new LW(n)),(0,_n.of)(!0)}(r.route.parent,i),function g9(n,e){return null!==n&&e&&e(new VW(n)),(0,_n.of)(!0)}(r.route,i),function y9(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(u=>function i9(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Lc(()=>{const m=u.guards.map(v=>{const C=oI(u.node)??t,M=$0(v,C);return Ag(function l9(n){return n&&cI(n.canActivateChild)}(M)?M.canActivateChild(i,n):C.runInContext(()=>M(i,n))).pipe(Dg())});return(0,_n.of)(m).pipe(G0())}));return(0,_n.of)(s).pipe(G0())}(n,r.path,t),function v9(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,_n.of)(!0);const r=i.map(s=>Lc(()=>{const u=oI(e)??t,m=$0(s,u);return Ag(function c9(n){return n&&cI(n.canActivate)}(m)?m.canActivate(e,n):u.runInContext(()=>m(e,n))).pipe(Dg())}));return(0,_n.of)(r).pipe(G0())}(n,r.route,t))),Dg(r=>!0!==r,!0))}(i,s,n,e):(0,_n.of)(m)),(0,gn.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,v=>this.events.next(v)),(0,Qi.b)(v=>{if(s.guardsResult=v.guardsResult,ty(v.guardsResult))throw EB(0,v.guardsResult);const C=new RW(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.events.next(C)}),or(v=>!!v.guardsResult||(this.cancelNavigationTransition(v,"",3),!1)),FN(v=>{if(v.guards.canActivateChecks.length)return(0,_n.of)(v).pipe((0,Qi.b)(C=>{const M=new PW(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(M)}),(0,Go.w)(C=>{let M=!1;return(0,_n.of)(C).pipe(function U9(n,e){return(0,Ea.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,_n.of)(t);let s=0;return(0,Sr.D)(r).pipe(Jv(u=>function V9(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!NB(r)&&(s[Kx]=r.title),function B9(n,e,t,i){const r=function j9(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,_n.of)({});const s={};return(0,Sr.D)(r).pipe((0,Ea.z)(u=>function z9(n,e,t,i){const r=oI(e)??i,s=$0(n,r);return Ag(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[u],e,t,i).pipe(Dg(),(0,Qi.b)(m=>{s[u]=m}))),vN(1),WV(s),Sg(u=>DB(u)?Lf.E:L0(u)))}(s,n,e,i).pipe((0,gn.U)(u=>(n._resolvedData=u,n.data=vB(n,t).resolve,r&&NB(r)&&(n.data[Kx]=r.title),null)))}(u.route,i,n,e)),(0,Qi.b)(()=>s++),vN(1),(0,Ea.z)(u=>s===r.length?(0,_n.of)(t):Lf.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Qi.b)({next:()=>M=!0,complete:()=>{M||this.cancelNavigationTransition(C,"",2)}}))}),(0,Qi.b)(C=>{const M=new kW(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(M)}))}),FN(v=>{const C=M=>{const L=[];M.routeConfig?.loadComponent&&!M.routeConfig._loadedComponent&&L.push(this.configLoader.loadComponent(M.routeConfig).pipe((0,Qi.b)(G=>{M.component=G}),(0,gn.U)(()=>{})));for(const G of M.children)L.push(...C(G));return L};return SM(C(v.targetSnapshot.root)).pipe(MM(),Kc(1))}),FN(()=>this.afterPreactivation()),(0,gn.U)(v=>{const C=function GW(n,e,t){const i=rI(n,e._root,t?t._root:void 0);return new gB(i,e)}(t.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return this.currentTransition=s={...v,targetRouterState:C},s}),(0,Qi.b)(()=>{this.events.next(new IN)}),((n,e,t,i)=>(0,gn.U)(r=>(new t9(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,v=>this.events.next(v),this.inputBindingEnabled),Kc(1),(0,Qi.b)({next:v=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mg(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects))),t.titleStrategy?.updateTitle(v.targetRouterState.snapshot),v.resolve(!0)},complete:()=>{u=!0}}),Ud(this.transitionAbortSubject.pipe((0,Qi.b)(v=>{throw v}))),OM(()=>{u||m||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Sg(v=>{if(m=!0,xB(v))this.events.next(new nI(s.id,this.urlSerializer.serialize(s.extractedUrl),v.message,v.cancellationCode)),function ZW(n){return xB(n)&&ty(n.url)}(v)?this.events.next(new TN(v.url)):s.resolve(!1);else{this.events.next(new VM(s.id,this.urlSerializer.serialize(s.extractedUrl),v,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(v))}catch(C){s.reject(C)}}return Lf.E}))}))}cancelNavigationTransition(t,i,r){const s=new nI(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LB(n){return n!==tI}let UB=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===_i);return i}getResolvedTitleForRoute(t){return t.data[Kx]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(G9)},providedIn:"root"})}return n})(),G9=(()=>{class n extends UB{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(pt))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),q9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Z9)},providedIn:"root"})}return n})();class W9{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Z9=(()=>{class n extends W9{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}();static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ZM=new l.OlP("",{providedIn:"root",factory:()=>({})});let K9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Y9)},providedIn:"root"})}return n})(),Y9=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var lI=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(lI||{});function VB(n,e){n.events.pipe(or(t=>t instanceof Mg||t instanceof nI||t instanceof VM||t instanceof j0),(0,gn.U)(t=>t instanceof Mg||t instanceof j0?lI.COMPLETE:t instanceof nI&&(0===t.code||1===t.code)?lI.REDIRECTING:lI.FAILED),or(t=>t!==lI.REDIRECTING),Kc(1)).subscribe(()=>{e()})}function Q9(n){throw n}function X9(n,e,t){return e.parse("/")}const J9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},e8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let pc=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this._events=new jn.x,this.options=(0,l.f3M)(ZM,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.errorHandler=this.options.errorHandler||Q9,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||X9,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(K9),this.routeReuseStrategy=(0,l.f3M)(q9),this.titleStrategy=(0,l.f3M)(UB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.f3M)(W0,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.f3M)(WM),this.urlSerializer=(0,l.f3M)(Qx),this.location=(0,l.f3M)(mt),this.componentInputBindingEnabled=!!(0,l.f3M)(zM,{optional:!0}),this.eventsSubscription=new $u.w0,this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new B0,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_B(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(BB(i)&&this._events.next(i));if(i instanceof UM)LB(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof j0)this.rawUrlTree=r.rawUrl;else if(i instanceof fB){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof IN)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof nI)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof TN){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||LB(r.source)};this.scheduleNavigation(s,tI,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof VM&&this.restoreHistory(r,!0),i instanceof Mg&&(this.navigated=!0),BB(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),tI,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},u=r?.navigationId?r:null;if(r){const v={...r};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(s.state=v)}const m=this.parseUrl(t);this.scheduleNavigation(m,i,u,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(PN),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:u,queryParamsHandling:m,preserveFragment:v}=i,C=v?this.currentUrlTree.fragment:u;let L,M=null;switch(m){case"merge":M={...this.currentUrlTree.queryParams,...s};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=s||null}null!==M&&(M=this.removeEmptyProps(M));try{L=sB(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),L=this.currentUrlTree.root}return aB(L,t,M,C??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=ty(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,tI,null,i)}navigate(t,i={skipLocationChange:!1}){return function t8(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new l.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...J9}:!1===i?{...e8}:i,ty(t))return QV(this.currentUrlTree,t,r);const s=this.parseUrl(t);return QV(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,u){if(this.disposed)return Promise.resolve(!1);let m,v,C;u?(m=u.resolve,v=u.reject,C=u.promise):C=new Promise((L,G)=>{m=L,v=G});const M=this.pendingTasks.add();return VB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(M))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:m,reject:v,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(L=>Promise.reject(L))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const u={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",u)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function BB(n){return!(n instanceof IN||n instanceof TN)}let Og=(()=>{class n{constructor(t,i,r,s,u,m){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=u,this.locationStrategy=m,this.href=null,this.commands=null,this.onChanges=new jn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const v=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===v||"area"===v,this.isAnchorElement?this.subscription=t.events.subscribe(C=>{C instanceof Mg&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(pc),l.Y36(H0),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Ne))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&l.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&i&&l.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",l.VuI],replaceUrl:["replaceUrl","replaceUrl",l.VuI],routerLink:"routerLink"},standalone:!0,features:[l.Xq5,l.TTD]})}return n})(),jB=(()=>{class n{get isActive(){return this._isActive}constructor(t,i,r,s,u){this.router=t,this.element=i,this.renderer=r,this.cdr=s,this.link=u,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=t.events.subscribe(m=>{m instanceof Mg&&this.update()})}ngAfterContentInit(){(0,_n.of)(this.links.changes,(0,_n.of)(null)).pipe((0,Wx.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Sr.D)(t).pipe((0,Wx.J)()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function n8(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(pc),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(Og,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,s){if(1&i&&l.Suo(s,Og,5),2&i){let u;l.iGM(u=l.CRH())&&(r.links=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]})}return n})();class zB{}let i8=(()=>{class n{constructor(t,i,r,s,u){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(or(t=>t instanceof Mg),Jv(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,l.MMx)(s.providers,t,`Route: ${s.path}`));const u=s._injector??t,m=s._loadedInjector??u;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(u,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(m,s.children??s._loadedRoutes))}return(0,Sr.D)(r).pipe((0,Wx.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):(0,_n.of)(null);const s=r.pipe((0,Ea.z)(u=>null===u?(0,_n.of)(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,Sr.D)([s,u]).pipe((0,Wx.J)())}return s})}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(pc),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(zB),l.LFG(LN))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const UN=new l.OlP("");let HB=(()=>{class n{constructor(t,i,r,s,u={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof UM?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Mg?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof j0&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof pB&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new pB(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){l.$Z()};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();function im(n,e){return{\u0275kind:n,\u0275providers:e}}function GB(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const i=n.get(pc),r=n.get(qB);1===n.get(VN)&&i.initialNavigation(),n.get(WB,null,l.XFs.Optional)?.setUpPreloading(),n.get(UN,null,l.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const qB=new l.OlP("",{factory:()=>new jn.x}),VN=new l.OlP("",{providedIn:"root",factory:()=>1}),WB=new l.OlP("");function a8(n){return im(0,[{provide:WB,useExisting:i8},{provide:zB,useExisting:n}])}const ZB=new l.OlP("ROUTER_FORROOT_GUARD"),l8=[mt,{provide:Qx,useClass:bN},pc,iI,{provide:H0,useFactory:function $B(n){return n.routerState.root},deps:[pc]},LN,[]];function u8(){return new l.PXZ("Router",pc)}let KB=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[l8,[],{provide:W0,multi:!0,useValue:t},{provide:ZB,useFactory:p8,deps:[[pc,new l.FiY,new l.tp0]]},{provide:ZM,useValue:i||{}},i?.useHash?{provide:Ne,useClass:st}:{provide:Ne,useClass:lt},{provide:UN,useFactory:()=>{const n=(0,l.f3M)(Cr),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(ZM),i=(0,l.f3M)(WM),r=(0,l.f3M)(Qx);return t.scrollOffset&&n.setOffset(t.scrollOffset),new HB(r,i,n,e,t)}},i?.preloadingStrategy?a8(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:u8},i?.initialNavigation?m8(i):[],i?.bindToComponentInputs?im(8,[wB,{provide:zM,useExisting:wB}]).\u0275providers:[],[{provide:YB,useFactory:GB},{provide:l.tb,multi:!0,useExisting:YB}]]}}static forChild(t){return{ngModule:n,providers:[{provide:W0,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(ZB,8))};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})();function p8(n){return"guarded"}function m8(n){return["disabled"===n.initialNavigation?im(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(pc);return()=>{e.setUpLocationChangeListener()}}},{provide:VN,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?im(2,[{provide:VN,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(ut,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(pc),s=e.get(qB);VB(r,()=>{i(!0)}),e.get(WM).afterPreactivation=()=>(i(!0),s.closed?(0,_n.of)(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const YB=new l.OlP(""),_8=function(n){return{"image-active":n}};function v8(n,e){if(1&n&&l._UZ(0,"img",6),2&n){const t=e.$implicit,i=e.index,r=l.oxw(2);l.Q6J("src",t.imageSrc,l.LSH)("alt",t.imageAlt)("ngClass",l.VKq(3,_8,r.selectedIndex===i))}}const y8=function(n){return{active:n}};function b8(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",9),l.NdJ("click",function(){const s=l.CHM(t).index,u=l.oxw(3);return l.KtG(u.selectImage(s))}),l.qZA()}if(2&n){const t=e.index,i=l.oxw(3);l.Q6J("ngClass",l.VKq(1,y8,i.selectedIndex===t))}}function w8(n,e){if(1&n&&(l.TgZ(0,"div",7),l.YNc(1,b8,1,3,"span",8),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngForOf",t.images)}}function E8(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",10)(1,"i",11),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.onPrevClick())}),l.qZA()()}}function C8(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12)(1,"i",13),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.onNextClick())}),l.qZA()()}}function x8(n,e){if(1&n&&(l.TgZ(0,"div",1),l.YNc(1,v8,1,5,"img",2),l.YNc(2,w8,2,1,"div",3),l.YNc(3,E8,2,0,"div",4),l.YNc(4,C8,2,0,"div",5),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.images),l.xp6(1),l.Q6J("ngIf",t.indicators),l.xp6(1),l.Q6J("ngIf",t.controls),l.xp6(1),l.Q6J("ngIf",t.controls)}}let I8=(()=>{class n{constructor(){this.images=[],this.indicators=!0,this.controls=!0,this.autoSlide=!1,this.slideInterval=5e3,this.selectedIndex=0}ngOnInit(){this.autoSlide&&this.autoSlideImages()}autoSlideImages(){setInterval(()=>{this.onNextClick()},this.slideInterval)}selectImage(t){this.selectedIndex=t}onPrevClick(){0===this.selectedIndex?this.selectedIndex=this.images.length-1:this.selectedIndex--}onNextClick(){this.selectedIndex===this.images.length-1?this.selectedIndex=0:this.selectedIndex++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-carousel"]],inputs:{images:"images",indicators:"indicators",controls:"controls",autoSlide:"autoSlide",slideInterval:"slideInterval"},decls:1,vars:1,consts:[["class","carousel-container",4,"ngIf"],[1,"carousel-container"],["class","fade",3,"src","alt","ngClass",4,"ngFor","ngForOf"],["class","carousel-dot-container",4,"ngIf"],["class","btn-carousel btn-prev",4,"ngIf"],["class","btn-carousel btn-next",4,"ngIf"],[1,"fade",3,"src","alt","ngClass"],[1,"carousel-dot-container"],["class","dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dot",3,"ngClass","click"],[1,"btn-carousel","btn-prev"],[1,"fas","fa-arrow-circle-left","icon-carousel","icon-prev",3,"click"],[1,"btn-carousel","btn-next"],[1,"fas","fa-arrow-circle-right","icon-carousel","icon-next",3,"click"]],template:function(i,r){1&i&&l.YNc(0,x8,5,4,"div",0),2&i&&l.Q6J("ngIf",r.images&&r.images.length>0)},dependencies:[Ko,ai,er],styles:[".carousel-container[_ngcontent-%COMP%]{position:relative;margin:auto;text-align:center;width:1000px;border-radius:15px;box-shadow:0 6px 12px #dce1e1}.carousel-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none;border-radius:15px}.carousel-container[_ngcontent-%COMP%]   img.image-active[_ngcontent-%COMP%]{display:block;width:100%;height:100%}.carousel-dot-container[_ngcontent-%COMP%]{position:absolute;right:0;left:0;bottom:0;display:flex;justify-content:center;padding:0;margin-bottom:1rem}.dot[_ngcontent-%COMP%]{cursor:pointer;height:13px;width:13px;margin:0 5px;background-color:#fff;border-radius:50%;display:inline-block;transition:opacitiy .6s ease;opacity:.5}.active[_ngcontent-%COMP%], .dot[_ngcontent-%COMP%]:hover{opacity:1}.fade[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fade;animation-duration:.7s}@keyframes _ngcontent-%COMP%_fade{0%{opacity:.8}to{opacity:1}}.btn-carousel[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:0 0;cursor:pointer}.icon-carousel[_ngcontent-%COMP%]{opacity:.5;transition:all .15s ease}.icon-carousel[_ngcontent-%COMP%]:hover{color:#fff;opacity:.9}.icon-carousel[_ngcontent-%COMP%]:active{opacity:.5}.icon-prev[_ngcontent-%COMP%], .icon-next[_ngcontent-%COMP%]{font-size:35px}.btn-prev[_ngcontent-%COMP%]{left:0}.btn-next[_ngcontent-%COMP%]{right:0}"]})}return n})(),T8=(()=>{class n{constructor(){this.images=[{imageSrc:"./assets/images/commercial/scandal_commercial_ps_copy.jpg",imageAlt:"scandal"},{imageSrc:"./assets/images/commercial/sauvage_commercial.jpg",imageAlt:"sauvage"}]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-dashboard"]],decls:1,vars:2,consts:[[3,"images","autoSlide"]],template:function(i,r){1&i&&l._UZ(0,"app-carousel",0),2&i&&l.Q6J("images",r.images)("autoSlide",!1)},dependencies:[I8],styles:['@charset "UTF-8";']})}return n})();const uI=[{routerLink:"dashboard",icon:"fal fa-home",label:"F\u0151oldal",badge:0},{routerLink:"products",icon:"fal fa-duotone fa-glasses",label:"Napszem\xfcvegek",badge:0},{routerLink:"accessories",icon:"fal fa-gem",label:"Kieg\xe9sz\xedt\u0151k",badge:0},{routerLink:"fragrances",icon:" fa fa-spray-can-sparkles",label:"Parf\xfcm\xf6k",badge:0},{routerLink:"media",icon:"fal fa-camera",label:"Media",badge:0},{routerLink:"user",icon:"fal fa-user",label:"Profil",badge:0},{routerLink:"shopping-cart",icon:"fal fa-cart-shopping",label:"Kos\xe1r",badge:0}];let Rg=(()=>{class n{constructor(t){this.fs=t,this.cartItems=[],this.currentProduct=[]}getCollectionData(t){let i=bM(this.fs,t);return aV(i,{idField:"id"})}refreshData(t,i){t().subscribe(r=>{i.push(...r)})}getHawkers(){return this.getCollectionData("hawkers")}getJPG(){return this.getCollectionData("JPG")}getOrders(){return this.getCollectionData("*orders")}getUsers(){return this.getCollectionData("*users")}addToCart(t){const i=this.cartItems.find(r=>r.product.id===t.id&&r.selectedSize===t.selectedSize);i?i.quantity++:this.cartItems.push({product:t,quantity:1})}getCurrentProduct(t){return this.currentProduct.push([t]),this.currentProduct}getCartItems(){return this.cartItems}exit(){window.location.reload()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Qv))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),D8=(()=>{class n{constructor(){this.currentPrice=2}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["my-button"]],inputs:{currentPrice:"currentPrice"},decls:7,vars:1,consts:[[1,"button"],[1,"button-wrapper"],[1,"text"],[1,"icon"],["viewBox","0 0 16 16","fill","currentColor","height","16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-cart2"],["d","M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l1.25 5h8.22l1.25-5H3.14zM5 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l._uU(3),l.qZA(),l.TgZ(4,"span",3),l.O4$(),l.TgZ(5,"svg",4),l._UZ(6,"path",5),l.qZA()()()()),2&i&&(l.xp6(3),l.Oqu(r.currentPrice))},styles:['.button[_ngcontent-%COMP%]{--width: 100px;--height: 35px;--tooltip-height: 35px;--tooltip-width: 90px;--gap-between-tooltip-to-button: 18px;--button-color: #092c3d;--tooltip-color: #fff;width:var(--width);height:var(--height);background:var(--button-color);position:relative;text-align:center;border-radius:.45em;font-family:Arial;transition:background .3s;cursor:pointer;box-shadow:0 .15rem .25rem #000}.button[_ngcontent-%COMP%]:before{position:absolute;content:attr(data-tooltip);width:var(--tooltip-width);height:var(--tooltip-height);background-color:#555;font-size:.9rem;color:#fff;border-radius:.25em;line-height:var(--tooltip-height);bottom:calc(var(--height) + var(--gap-between-tooltip-to-button) + 10px);left:calc(50% - var(--tooltip-width) / 2)}.button[_ngcontent-%COMP%]:after{position:absolute;content:"";width:0;height:0;border:10px solid transparent;border-top-color:#092c3d;left:calc(50% - 10px);bottom:calc(100% + var(--gap-between-tooltip-to-button) - 10px)}.button[_ngcontent-%COMP%]:after, .button[_ngcontent-%COMP%]:before{opacity:0;visibility:hidden;transition:all .5s}.text[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.button-wrapper[_ngcontent-%COMP%], .text[_ngcontent-%COMP%], .icon[_ngcontent-%COMP%]{overflow:hidden;position:absolute;width:100%;height:100%;left:0;color:#fff}.text[_ngcontent-%COMP%]{top:0}.text[_ngcontent-%COMP%], .icon[_ngcontent-%COMP%]{transition:top .5s}.icon[_ngcontent-%COMP%]{color:#fff;top:100%;display:flex;align-items:center;justify-content:center}.icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.button[_ngcontent-%COMP%]:hover{background:#17455c}.button[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{top:-100%}.button[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{top:0}.button[_ngcontent-%COMP%]:hover:after{bottom:calc(var(--height) + var(--gap-between-tooltip-to-button) - 20px)}.button[_ngcontent-%COMP%]:hover:before{bottom:calc(var(--height) + var(--gap-between-tooltip-to-button))}']})}return n})();function S8(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",6)(1,"div",7),l._uU(2),l.qZA(),l._UZ(3,"img",8),l.TgZ(4,"div",9),l._uU(5),l.qZA(),l.TgZ(6,"div",10)(7,"my-button",11),l.NdJ("click",function(){const s=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.addToCart(s))}),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.productName),l.xp6(1),l.Q6J("src",t.imagePath,l.LSH),l.xp6(2),l.Oqu(t.description),l.xp6(2),l.Q6J("currentPrice",t.price)}}let A8=(()=>{class n{constructor(t){this.services=t,this.cartItems=[],this.hawkers=[],this.navbarData=uI}ngOnInit(){this.services.refreshData(()=>this.services.getHawkers(),this.hawkers),this.cartItems=this.services.getCartItems()}addToCart(t){const i=this.services.getCartItems(),r=i.find(u=>u.product.id===t.id);r?r.quantity<5&&r.quantity++:this.services.addToCart(t);const s=uI.find(u=>"shopping-cart"===u.routerLink);if(s){const u=i.reduce((m,v)=>m+v.quantity,0);s.badge=u}}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Rg))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-products"]],decls:10,vars:1,consts:[[1,"product-background",2,"background-image","url('./assets/images/sunglasses/sunglasses-background2.jpg')"],[1,"glitch-wrapper"],["data-glitch","#Hawkers",1,"glitch"],["data-glitch","#Hawkers",1,"glitch","margin-left"],[1,"product-card-container"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[1,"product-card-head"],[1,"sunglasses",3,"src"],[1,"product-card-body"],[1,"product-card-price"],[1,"add-to-cart",3,"currentPrice","click"]],template:function(i,r){1&i&&(l._UZ(0,"div",0),l.TgZ(1,"div",1)(2,"div",2),l._uU(3,"#Hawkers"),l.qZA(),l.TgZ(4,"div",3),l._uU(5,"#Hawkers"),l.qZA(),l.TgZ(6,"div",2),l._uU(7,"#Hawkers"),l.qZA()(),l.TgZ(8,"div",4),l.YNc(9,S8,8,4,"div",5),l.qZA()),2&i&&(l.xp6(9),l.Q6J("ngForOf",r.hawkers))},dependencies:[ai,D8],styles:['@charset "UTF-8";.sunglasses[_ngcontent-%COMP%]{padding:10px;width:auto;border-radius:1rem}h1[_ngcontent-%COMP%]{font-weight:100}.product-background[_ngcontent-%COMP%]{position:fixed;inset:0;background-size:cover;z-index:-1}.product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem 0;box-shadow:0 .25rem .5rem #000;width:calc(33.33% - 20px);margin:10px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #edf1f7;font-size:1.2rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:25px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:30px;font-weight:100;padding:10px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}.product-card-price[_ngcontent-%COMP%]{padding-top:25px}@media screen and (max-width: 1200px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(50% - 20px)}}@media screen and (max-width: 768px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:95%}}.margin-left[_ngcontent-%COMP%]{margin-left:200px}.glitch-wrapper[_ngcontent-%COMP%]{width:100%;height:150vh;position:fixed;background-color:#1a1a1a;align-items:center;justify-content:center;text-align:center;inset:-100px 0 0;background-size:cover;z-index:-1}.glitch[_ngcontent-%COMP%]{position:relative;font-size:230px;font-weight:700;line-height:1.2;color:#838383;letter-spacing:15px;z-index:1}.glitch[_ngcontent-%COMP%]:before{content:attr(data-glitch);position:absolute;top:0;left:-2px;width:100%;color:#838383;overflow:hidden;clip:rect(0,900px,0,0);animation:_ngcontent-%COMP%_noise-before 3s infinite linear alternate-reverse}.glitch[_ngcontent-%COMP%]:after{content:attr(data-glitch);position:absolute;top:0;left:2px;width:100%;color:#838383;overflow:hidden;clip:rect(0,900px,0,0);animation:_ngcontent-%COMP%_noise-after 2s infinite linear alternate-reverse}@keyframes _ngcontent-%COMP%_noise-before{0%{clip:rect(61px,9999px,52px,0)}5%{clip:rect(33px,9999px,144px,0)}10%{clip:rect(121px,9999px,115px,0)}15%{clip:rect(144px,9999px,162px,0)}20%{clip:rect(62px,9999px,180px,0)}25%{clip:rect(34px,9999px,42px,0)}30%{clip:rect(147px,9999px,179px,0)}35%{clip:rect(99px,9999px,63px,0)}40%{clip:rect(188px,9999px,122px,0)}45%{clip:rect(154px,9999px,14px,0)}50%{clip:rect(63px,9999px,37px,0)}55%{clip:rect(161px,9999px,147px,0)}60%{clip:rect(109px,9999px,175px,0)}65%{clip:rect(157px,9999px,88px,0)}70%{clip:rect(173px,9999px,131px,0)}75%{clip:rect(62px,9999px,70px,0)}80%{clip:rect(24px,9999px,153px,0)}85%{clip:rect(138px,9999px,40px,0)}90%{clip:rect(79px,9999px,136px,0)}95%{clip:rect(25px,9999px,34px,0)}to{clip:rect(173px,9999px,166px,0)}}@keyframes _ngcontent-%COMP%_noise-after{0%{clip:rect(26px,9999px,33px,0)}5%{clip:rect(140px,9999px,198px,0)}10%{clip:rect(184px,9999px,89px,0)}15%{clip:rect(121px,9999px,6px,0)}20%{clip:rect(181px,9999px,99px,0)}25%{clip:rect(154px,9999px,133px,0)}30%{clip:rect(134px,9999px,169px,0)}35%{clip:rect(26px,9999px,187px,0)}40%{clip:rect(147px,9999px,137px,0)}45%{clip:rect(31px,9999px,52px,0)}50%{clip:rect(191px,9999px,109px,0)}55%{clip:rect(74px,9999px,54px,0)}60%{clip:rect(145px,9999px,75px,0)}65%{clip:rect(153px,9999px,198px,0)}70%{clip:rect(99px,9999px,136px,0)}75%{clip:rect(118px,9999px,192px,0)}80%{clip:rect(1px,9999px,83px,0)}85%{clip:rect(145px,9999px,98px,0)}90%{clip:rect(121px,9999px,154px,0)}95%{clip:rect(156px,9999px,44px,0)}to{clip:rect(67px,9999px,122px,0)}}']})}return n})(),M8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-coupens"]],decls:2,vars:0,template:function(i,r){1&i&&(l.TgZ(0,"h1"),l._uU(1,"Kieg\xe9sz\xedt\u0151k"),l.qZA())}})}return n})(),O8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-media"]],decls:2,vars:0,template:function(i,r){1&i&&(l.TgZ(0,"h1"),l._uU(1,"K\xf6z\xf6ss\xe9gi oldal"),l.qZA())}})}return n})(),QB=(()=>{class n{constructor(t){this.services=t,this.navbarData=uI,this.insuranceIsChecked=!0,this.giftIsChecked=!1,this.shippingPrice=1390}getTotalPrice(){let t=0;for(const i of this.services.getCartItems())t+=i.product.price*i.quantity;return t}calculateShippingPrice(){return this.shippingPrice=this.getTotalPrice()>=5e4?0:1390}calculateInsurance(){return this.insuranceIsChecked?500:0}calculateGiftFee(){return this.giftIsChecked?1590:0}calculateTotalPayment(){return this.calculateShippingPrice()+this.getTotalPrice()+this.calculateInsurance()+this.calculateGiftFee()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Rg))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function XB(...n){const e=(0,F0.jO)(n),{args:t,keys:i}=zV(n),r=new rr.y(s=>{const{length:u}=t;if(!u)return void s.complete();const m=new Array(u);let v=u,C=u;for(let M=0;M<u;M++){let L=!1;(0,So.Xf)(t[M]).subscribe((0,ci.x)(s,G=>{L||(L=!0,C--),m[M]=G},()=>v--,void 0,()=>{(!v||!L)&&(C||s.next(i?HV(i,m):m),s.complete())}))}});return e?r.pipe(mN(e)):r}let JB=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.Qsj),l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:n})}return n})(),ny=(()=>{class n extends JB{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}();static#t=this.\u0275dir=l.lG2({type:n,features:[l.qOj]})}return n})();const Oh=new l.OlP("NgValueAccessor"),P8={provide:Oh,useExisting:(0,l.Gpc)(()=>iy),multi:!0},N8=new l.OlP("CompositionEventMode");let iy=(()=>{class n extends JB{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function k8(){const n=K()?K().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(N8,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&l.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[l._Bn([P8]),l.qOj]})}return n})();function Pg(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function tj(n){return null!=n&&"number"==typeof n.length}const mc=new l.OlP("NgValidators"),kg=new l.OlP("NgAsyncValidators"),F8=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class $a{static min(e){return function nj(n){return e=>{if(Pg(e.value)||Pg(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function ij(n){return e=>{if(Pg(e.value)||Pg(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function rj(n){return Pg(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function oj(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function sj(n){return Pg(n.value)||F8.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function aj(n){return e=>Pg(e.value)||!tj(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function cj(n){return e=>tj(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function lj(n){if(!n)return KM;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Pg(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return mj(e)}static composeAsync(e){return gj(e)}}function KM(n){return null}function uj(n){return null!=n}function dj(n){return(0,l.QGY)(n)?(0,Sr.D)(n):n}function hj(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function fj(n,e){return e.map(t=>t(n))}function pj(n){return n.map(e=>function L8(n){return!n.validate}(e)?e:t=>e.validate(t))}function mj(n){if(!n)return null;const e=n.filter(uj);return 0==e.length?null:function(t){return hj(fj(t,e))}}function BN(n){return null!=n?mj(pj(n)):null}function gj(n){if(!n)return null;const e=n.filter(uj);return 0==e.length?null:function(t){return XB(fj(t,e).map(dj)).pipe((0,gn.U)(hj))}}function jN(n){return null!=n?gj(pj(n)):null}function _j(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function vj(n){return n._rawValidators}function yj(n){return n._rawAsyncValidators}function zN(n){return n?Array.isArray(n)?n:[n]:[]}function YM(n,e){return Array.isArray(n)?n.includes(e):n===e}function bj(n,e){const t=zN(e);return zN(n).forEach(r=>{YM(t,r)||t.push(r)}),t}function wj(n,e){return zN(e).filter(t=>!YM(n,t))}class Ej{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=BN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=jN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Sl extends Ej{get formDirective(){return null}get path(){return null}}class rm extends Ej{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Cj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Z0=(()=>{class n extends Cj{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(rm,2))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]})}return n})(),dI=(()=>{class n extends Cj{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Sl,10))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]})}return n})();const hI="VALID",XM="INVALID",K0="PENDING",fI="DISABLED";function GN(n){return(JM(n)?n.validators:n)||null}function qN(n,e){return(JM(e)?e.asyncValidators:n)||null}function JM(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Ij(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[t])throw new l.vHH(1001,"")}function Tj(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,"")})}class e1{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===hI}get invalid(){return this.status===XM}get pending(){return this.status==K0}get disabled(){return this.status===fI}get enabled(){return this.status!==fI}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(bj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wj(e,this._rawAsyncValidators))}hasValidator(e){return YM(this._rawValidators,e)}hasAsyncValidator(e){return YM(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=K0,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fI,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=hI,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hI||this.status===K0)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fI:hI}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=K0,this._hasOwnPendingAsyncValidator=!0;const t=dj(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?fI:this.errors?XM:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(K0)?K0:this._anyControlsHaveStatus(XM)?XM:hI}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){JM(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function j8(n){return Array.isArray(n)?BN(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function z8(n){return Array.isArray(n)?jN(n):n||null}(this._rawAsyncValidators)}}class pI extends e1{constructor(e,t,i){super(GN(t),qN(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Tj(this,0,e),Object.keys(e).forEach(i=>{Ij(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Dj extends pI{}const ry=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>mI}),mI="always";function t1(n,e){return[...e.path,n]}function gI(n,e,t=mI){WN(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function $8(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Sj(n,e)})}(n,e),function q8(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function G8(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Sj(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function H8(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function n1(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),o1(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function r1(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function WN(n,e){const t=vj(n);null!==e.validator?n.setValidators(_j(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=yj(n);null!==e.asyncValidator?n.setAsyncValidators(_j(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();r1(e._rawValidators,r),r1(e._rawAsyncValidators,r)}function o1(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=vj(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=yj(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return r1(e._rawValidators,i),r1(e._rawAsyncValidators,i),t}function Sj(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Aj(n,e){WN(n,e)}function KN(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Mj(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function YN(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===iy?t=s:function K8(n){return Object.getPrototypeOf(n.constructor)===ny}(s)?i=s:r=s}),r||i||t||null}const Q8={provide:Sl,useExisting:(0,l.Gpc)(()=>s1)},_I=(()=>Promise.resolve())();let s1=(()=>{class n extends Sl{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new pI({},BN(t),jN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){_I.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),gI(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){_I.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){_I.then(()=>{const i=this._findContainer(t.path),r=new pI({});Aj(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){_I.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){_I.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Mj(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(mc,10),l.Y36(kg,10),l.Y36(ry,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&l.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Q8]),l.qOj]})}return n})();function Oj(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Rj(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const vI=class extends e1{constructor(e=null,t,i){super(GN(t),qN(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),JM(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Rj(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Oj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Oj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Rj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},eZ={provide:rm,useExisting:(0,l.Gpc)(()=>QN)},Nj=(()=>Promise.resolve())();let QN=(()=>{class n extends rm{constructor(t,i,r,s,u,m){super(),this._changeDetectorRef=u,this.callSetDisabledState=m,this.control=new vI,this._registered=!1,this.name="",this.update=new l.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=YN(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),KN(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gI(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Nj.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,l.VuI)(i);Nj.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?t1(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Sl,9),l.Y36(mc,10),l.Y36(kg,10),l.Y36(Oh,10),l.Y36(l.sBO,8),l.Y36(ry,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([eZ]),l.qOj,l.TTD]})}return n})(),yI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const tZ={provide:Oh,useExisting:(0,l.Gpc)(()=>bI),multi:!0};let bI=(()=>{class n extends ny{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}();static#t=this.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&l.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[l._Bn([tZ]),l.qOj]})}return n})(),Fj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})();const XN=new l.OlP("NgModelWithFormControlWarning"),sZ={provide:Sl,useExisting:(0,l.Gpc)(()=>Ng)};let Ng=(()=>{class n extends Sl{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(o1(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return gI(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){n1(t.control||null,t,!1),function Y8(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Mj(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(n1(i||null,t),(n=>n instanceof vI)(r)&&(gI(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);Aj(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function W8(n,e){return o1(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){WN(this.form,this),this._oldForm&&o1(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(mc,10),l.Y36(kg,10),l.Y36(ry,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&l.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([sZ]),l.qOj,l.TTD]})}return n})();const lZ={provide:rm,useExisting:(0,l.Gpc)(()=>Y0)};let Y0=(()=>{class n extends rm{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,i,r,s,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.name=null,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=YN(0,s)}ngOnChanges(t){this._added||this._setUpControl(),KN(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t1(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(l.Y36(Sl,13),l.Y36(mc,10),l.Y36(kg,10),l.Y36(Oh,10),l.Y36(XN,8))};static#n=this.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([lZ]),l.qOj,l.TTD]})}return n})(),Qj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[Fj]})}return n})();class Xj extends e1{constructor(e,t,i){super(GN(t),qN(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Tj(this,0,e),e.forEach((i,r)=>{Ij(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Jj(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let oF,e3=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let s={};return Jj(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new pI(r,s)}record(t,i=null){const r=this._reduceControls(t);return new Dj(r,i)}control(t,i,r){let s={};return this.useNonNullable?(Jj(i)?s=i:(s.validators=i,s.asyncValidators=r),new vI(t,{...s,nonNullable:!0})):new vI(t,i,r)}array(t,i,r){const s=t.map(u=>this._createControl(u));return new Xj(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof vI||t instanceof e1?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),a1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(e3).nonNullable},providedIn:"root"})}return n})(),xZ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ry,useValue:t.callSetDisabledState??mI}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[Qj]})}return n})(),t3=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:XN,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ry,useValue:t.callSetDisabledState??mI}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[Qj]})}return n})();try{oF=typeof Intl<"u"&&Intl.v8BreakIterator}catch{oF=!1}let Q0,Ca=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Pl(n){return n===ra}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!oF)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(l.Lbi))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const n3=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function r3(){if(Q0)return Q0;if("object"!=typeof document||!document)return Q0=new Set(n3),Q0;let n=document.createElement("input");return Q0=new Set(n3.filter(e=>(n.setAttribute("type",e),n.type===e))),Q0}let wI,sy,sF;function X0(n){return function IZ(){if(null==wI&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>wI=!0}))}finally{wI=wI||!1}return wI}()?n:!!n.capture}function TZ(){if(null==sy){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return sy=!1,sy;if("scrollBehavior"in document.documentElement.style)sy=!0;else{const n=Element.prototype.scrollTo;sy=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return sy}function Fg(n){return n.composedPath?n.composedPath()[0]:n.target}function aF(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function a3(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var J0=Q(6321);function c3(n,e=J0.z){return(0,kr.e)((t,i)=>{let r=null,s=null,u=null;const m=()=>{if(r){r.unsubscribe(),r=null;const C=s;s=null,i.next(C)}};function v(){const C=u+n,M=e.now();if(M<C)return r=this.schedule(void 0,C-M),void i.add(r);m()}t.subscribe((0,ci.x)(i,C=>{s=C,u=e.now(),r||(r=e.schedule(v,n),i.add(r))},()=>{m(),i.complete()},void 0,()=>{s=r=null}))})}function l3(n){return or((e,t)=>n<=t)}var uF=Q(3997);function Yc(n){return null!=n&&"false"!=`${n}`}function l1(n){return Array.isArray(n)?n:[n]}function Js(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Lg(n){return n instanceof l.SBq?n.nativeElement:n}let ZZ=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),u3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[ZZ]})}return n})();const d3=new Set;let ay,KZ=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):QZ}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function YZ(n,e){if(!d3.has(n))try{ay||(ay=document.createElement("style"),e&&(ay.nonce=e),ay.setAttribute("type","text/css"),document.head.appendChild(ay)),ay.sheet&&(ay.sheet.insertRule(`@media ${n} {body{ }}`,0),d3.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Ca),l.LFG(l.Ojb,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QZ(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let XZ=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new jn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return h3(l1(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=SM(h3(l1(t)).map(u=>this._registerQuery(u).observable));return s=Zx(s.pipe(Kc(1)),s.pipe(l3(1),c3(0))),s.pipe((0,gn.U)(u=>{const m={matches:!1,breakpoints:{}};return u.forEach(({matches:v,query:C})=>{m.matches=m.matches||v,m.breakpoints[C]=v}),m}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new rr.y(u=>{const m=v=>this._zone.run(()=>u.next(v));return i.addListener(m),()=>{i.removeListener(m)}}).pipe(Tg(i),(0,gn.U)(({matches:u})=>({query:t,matches:u})),Ud(this._destroySubject)),mql:i};return this._queries.set(t,s),s}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(KZ),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function h3(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function u1(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const p3="cdk-describedby-message",d1="cdk-describedby-host";let dF=0,t7=(()=>{class n{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+dF++,this._document=t,this._id=(0,l.f3M)(l.AFp)+"-"+dF++}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const s=hF(i,r);"string"!=typeof i?(m3(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,i,r){if(!i||!this._isElementNode(t))return;const s=hF(i,r);if(this._isElementDescribedByMessage(t,s)&&this._removeMessageReference(t,s),"string"==typeof i){const u=this._messageRegistry.get(s);u&&0===u.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${d1}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(d1);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");m3(r,this._id),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(hF(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const i=u1(t,"aria-describedby").filter(r=>0!=r.indexOf(p3));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=this._messageRegistry.get(i);(function JZ(n,e,t){const i=u1(n,e);i.some(r=>r.trim()==t.trim())||(i.push(t.trim()),n.setAttribute(e,i.join(" ")))})(t,"aria-describedby",r.messageElement.id),t.setAttribute(d1,this._id),r.referenceCount++}_removeMessageReference(t,i){const r=this._messageRegistry.get(i);r.referenceCount--,function e7(n,e,t){const r=u1(n,e).filter(s=>s!=t.trim());r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",r.messageElement.id),t.removeAttribute(d1)}_isElementDescribedByMessage(t,i){const r=u1(t,"aria-describedby"),s=this._messageRegistry.get(i),u=s&&s.messageElement.id;return!!u&&-1!=r.indexOf(u)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=t.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Pe),l.LFG(Ca))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hF(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function m3(n,e){n.id||(n.id=`${p3}-${e}-${dF++}`)}class n7{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new jn.x,this._typeaheadSubscription=$u.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new jn.x,this.change=new jn.x,e instanceof l.n_E&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Qi.b)(t=>this._pressedLetters.push(t)),c3(e),or(()=>this._pressedLetters.length>0),(0,gn.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,u=i[s];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,u=this._getItemsArray().length;this._setActiveItemByIndex(s<u?s:u-1,-1);break}return;default:return void((r||a3(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}class i7 extends n7{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let r7=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function s7(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function o7(n){try{return n.frameElement}catch{return null}}(function p7(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===_3(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=_3(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function h7(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function f7(n){return!function c7(n){return function u7(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function a7(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function l7(n){return function d7(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||g3(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Ca))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function g3(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function _3(n){if(!g3(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function fF(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function pF(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const m7=new l.OlP("cdk-input-modality-detector-options"),g7={ignoreKeys:[18,17,224,91,16]},ew=X0({passive:!0,capture:!0});let _7=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Ld.X(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(m=>m===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Fg(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(fF(u)?"keyboard":"mouse"),this._mostRecentTarget=Fg(u))},this._onTouchstart=u=>{pF(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Fg(u))},this._options={...g7,...s},this.modalityDetected=this._modality.pipe(l3(1)),this.modalityChanged=this.modalityDetected.pipe((0,uF.x)()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,ew),r.addEventListener("mousedown",this._onMousedown,ew),r.addEventListener("touchstart",this._onTouchstart,ew)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ew),document.removeEventListener("mousedown",this._onMousedown,ew),document.removeEventListener("touchstart",this._onTouchstart,ew))}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Ca),l.LFG(l.R0b),l.LFG(Pe),l.LFG(m7,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const y7=new l.OlP("cdk-focus-monitor-default-options"),h1=X0({passive:!0,capture:!0});let f1=(()=>{class n{constructor(t,i,r,s,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new jn.x,this._rootNodeFocusAndBlurListener=m=>{for(let C=Fg(m);C;C=C.parentElement)"focus"===m.type?this._onFocus(m,C):this._onBlur(m,C)},this._document=s,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=Lg(t);if(!this._platform.isBrowser||1!==r.nodeType)return(0,_n.of)();const s=function SZ(n){if(function DZ(){if(null==sF){const n=typeof document<"u"?document.head:null;sF=!(!n||!n.createShadowRoot&&!n.attachShadow)}return sF}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const m={checkChildren:i,subject:new jn.x,rootNode:s};return this._elementInfo.set(r,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(t){const i=Lg(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=Lg(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([m,v])=>this._originChanged(m,i,v)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=Fg(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,h1),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,h1)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ud(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,h1),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,h1),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let u=0;u<s.length;u++)if(s[u].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(l.R0b),l.LFG(Ca),l.LFG(_7),l.LFG(Pe,8),l.LFG(y7,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const y3="cdk-high-contrast-black-on-white",b3="cdk-high-contrast-white-on-black",mF="cdk-high-contrast-active";let w3=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,l.f3M)(XZ).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(mF,y3,b3),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(mF,y3):2===i&&t.add(mF,b3)}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Ca),l.LFG(Pe))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),b7=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(w3))};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[u3]})}return n})();const w7=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function E7(){return(0,l.f3M)(Pe)}}),C7=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let gF=(()=>{class n{constructor(t){this.value="ltr",this.change=new l.vpe,t&&(this.value=function x7(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?C7.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(w7,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),EI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})();const T7=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function I7(){return!0}});let Ga=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!aF()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(w3),l.LFG(T7,8),l.LFG(Pe))};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[EI,EI]})}return n})();function p1(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Yc(e)}constructor(...e){super(...e),this._disabled=!1}}}function m1(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function _F(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Yc(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function D7(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?function qZ(n,e=0){return function WZ(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}function S7(n){return class extends n{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let M7=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class O7{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const x3=X0({passive:!0,capture:!0});class R7{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Fg(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){const s=this._events.get(t);if(s){const u=s.get(i);u?u.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,x3)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const s=r.get(t);s&&(s.delete(i),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,x3)))}}const I3={enterDuration:225,exitDuration:150},T3=X0({passive:!0,capture:!0}),D3=["mousedown","touchstart"],S3=["mouseup","mouseleave","touchend","touchcancel"];class g1{static#e=this._eventManager=new R7;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Lg(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...I3,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function k7(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),m=e-r.left,v=t-r.top,C=s.enterDuration,M=document.createElement("div");M.classList.add("mat-ripple-element"),M.style.left=m-u+"px",M.style.top=v-u+"px",M.style.height=2*u+"px",M.style.width=2*u+"px",null!=i.color&&(M.style.backgroundColor=i.color),M.style.transitionDuration=`${C}ms`,this._containerElement.appendChild(M);const L=window.getComputedStyle(M),ne=L.transitionDuration,ae="none"===L.transitionProperty||"0s"===ne||"0s, 0s"===ne||0===r.width&&0===r.height,ye=new O7(this,M,i,ae);M.style.transform="scale3d(1, 1, 1)",ye.state=0,i.persistent||(this._mostRecentTransientRipple=ye);let We=null;return!ae&&(C||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const wt=()=>this._finishRippleTransition(ye),Ot=()=>this._destroyRipple(ye);M.addEventListener("transitionend",wt),M.addEventListener("transitioncancel",Ot),We={onTransitionEnd:wt,onTransitionCancel:Ot}}),this._activeRipples.set(ye,We),(ae||!C)&&this._finishRippleTransition(ye),ye}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...I3,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Lg(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,D3.forEach(i=>{g1._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{S3.forEach(t=>{this._triggerElement.addEventListener(t,this,T3)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=fF(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!pF(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(D3.forEach(t=>g1._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&S3.forEach(t=>e.removeEventListener(t,this,T3)))}}const A3=new l.OlP("mat-ripple-global-options");let vF=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,s,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new g1(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Ca),l.Y36(A3,8),l.Y36(l.QbO,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&l.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),yF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[Ga,Ga]})}return n})();const M3={capture:!0},O3=["focus","click","mouseenter","touchstart"],bF="mat-ripple-loader-uninitialized",wF="mat-ripple-loader-class-name",R3="mat-ripple-loader-centered",_1="mat-ripple-loader-disabled";let N7=(()=>{class n{constructor(){this._document=(0,l.f3M)(Pe,{optional:!0}),this._animationMode=(0,l.f3M)(l.QbO,{optional:!0}),this._globalRippleOptions=(0,l.f3M)(A3,{optional:!0}),this._platform=(0,l.f3M)(Ca),this._ngZone=(0,l.f3M)(l.R0b),this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${bF}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of O3)this._document?.addEventListener(t,this._onInteraction,M3)})}ngOnDestroy(){for(const t of O3)this._document?.removeEventListener(t,this._onInteraction,M3)}configureRipple(t,i){t.setAttribute(bF,""),(i.className||!t.hasAttribute(wF))&&t.setAttribute(wF,i.className||""),i.centered&&t.setAttribute(R3,""),i.disabled&&t.setAttribute(_1,"")}getRipple(t){return t.matRipple?t.matRipple:this.createRipple(t)}setDisabled(t,i){const r=t.matRipple;r?r.disabled=i:i?t.setAttribute(_1,""):t.removeAttribute(_1)}createRipple(t){if(!this._document)return;t.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",t.getAttribute(wF)),t.append(i);const r=new vF(new l.SBq(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=t,r.centered=t.hasAttribute(R3),r.disabled=t.hasAttribute(_1),this.attachRipple(t,r),r}attachRipple(t,i){t.removeAttribute(bF),t.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const F7=["switch"];function L7(n,e){1&n&&(l.TgZ(0,"div",12),l.O4$(),l.TgZ(1,"svg",13),l._UZ(2,"path",14),l.qZA(),l.TgZ(3,"svg",15),l._UZ(4,"path",16),l.qZA()())}const U7=["*"],V7=new l.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),B7={provide:Oh,useExisting:(0,l.Gpc)(()=>k3),multi:!0};class P3{constructor(e,t){this.source=e,this.checked=t}}let j7=0;const z7=D7(m1(_F(p1(class{constructor(n){this._elementRef=n}}))));let H7=(()=>{class n extends z7{get required(){return this._required}set required(t){this._required=Yc(t)}get checked(){return this._checked}set checked(t){this._checked=Yc(t),this._changeDetectorRef.markForCheck()}get hideIcon(){return this._hideIcon}set hideIcon(t){this._hideIcon=Yc(t)}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,s,u,m,v){super(t),this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=u,this._onChange=C=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this._hideIcon=!1,this.change=new l.vpe,this.toggleChange=new l.vpe,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=u.color||"accent",this._noopAnimations="NoopAnimations"===m,this.id=this._uniqueId=`${v}${++j7}`,this._hideIcon=u.hideIcon??!1}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}static#e=this.\u0275fac=function(i){l.$Z()};static#t=this.\u0275dir=l.lG2({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked",hideIcon:"hideIcon"},outputs:{change:"change",toggleChange:"toggleChange"},features:[l.qOj]})}return n})(),k3=(()=>{class n extends H7{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(t,i,r,s,u,m){super(t,i,r,s,u,m,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new P3(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(t){return new P3(this,t)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(f1),l.Y36(l.sBO),l.$8M("tabindex"),l.Y36(V7),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(1&i&&l.Gf(F7,5),2&i){let s;l.iGM(s=l.CRH())&&(r._switchElement=s.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(i,r){2&i&&(l.Ikx("id",r.id),l.uIk("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),l.ekj("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[l._Bn([B7]),l.qOj],ngContentSelectors:U7,decls:13,vars:25,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],["class","mdc-switch__icons",4,"ngIf"],[1,"mdc-label",3,"for","click"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(1&i&&(l.F$t(),l.TgZ(0,"div",0)(1,"button",1,2),l.NdJ("click",function(){return r._handleClick()}),l._UZ(3,"div",3),l.TgZ(4,"div",4)(5,"div",5)(6,"div",6),l._UZ(7,"div",7),l.qZA(),l.TgZ(8,"div",8),l._UZ(9,"div",9),l.qZA(),l.YNc(10,L7,5,0,"div",10),l.qZA()()(),l.TgZ(11,"label",11),l.NdJ("click",function(u){return u.stopPropagation()}),l.Hsn(12),l.qZA()()),2&i){const s=l.MAs(2);l.ekj("mdc-form-field--align-end","before"==r.labelPosition),l.xp6(1),l.ekj("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),l.Q6J("tabIndex",r.tabIndex)("disabled",r.disabled),l.uIk("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),l.xp6(8),l.Q6J("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),l.xp6(1),l.Q6J("ngIf",!r.hideIcon),l.xp6(1),l.Q6J("for",r.buttonId),l.uIk("id",r._labelId)}},dependencies:[vF,er],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mdc-switch{width:var(--mdc-switch-track-width);--mdc-switch-disabled-handle-opacity:0.38;--mdc-switch-disabled-selected-icon-opacity:0.38;--mdc-switch-disabled-track-opacity:0.12;--mdc-switch-disabled-unselected-icon-opacity:0.38;--mdc-switch-handle-height:20px;--mdc-switch-handle-shape:10px;--mdc-switch-handle-width:20px;--mdc-switch-selected-icon-size:18px;--mdc-switch-track-height:14px;--mdc-switch-track-shape:7px;--mdc-switch-track-width:36px;--mdc-switch-unselected-icon-size:18px;--mdc-switch-state-layer-size:40px;--mdc-switch-selected-focus-state-layer-opacity:0.12;--mdc-switch-selected-hover-state-layer-opacity:0.04;--mdc-switch-selected-pressed-state-layer-opacity:0.1;--mdc-switch-unselected-focus-state-layer-opacity:0.12;--mdc-switch-unselected-hover-state-layer-opacity:0.04;--mdc-switch-unselected-pressed-state-layer-opacity:0.1}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle .mdc-label{font-family:var(--mat-slide-toggle-label-text-font);font-size:var(--mat-slide-toggle-label-text-size);letter-spacing:var(--mat-slide-toggle-label-text-tracking);line-height:var(--mat-slide-toggle-label-text-line-height);font-weight:var(--mat-slide-toggle-label-text-weight)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}'],encapsulation:2,changeDetection:0})}return n})(),N3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})(),F3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[N3,Ga,yF,Oi,N3,Ga]})}return n})();const q7=function(){return["/products"]};function W7(n,e){1&n&&(l.TgZ(0,"div",2),l._UZ(1,"img",3),l.TgZ(2,"div",4),l._uU(3,"A kosara \xfcres!"),l.TgZ(4,"p",5),l._uU(5,"Vissza a term\xe9kekhez!"),l.qZA()()()),2&n&&(l.xp6(4),l.Q6J("routerLink",l.DdM(1,q7)))}const L3=function(n){return{"disabled-button":n}};function Z7(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",22),l._UZ(1,"img",23),l.TgZ(2,"div",24),l._uU(3),l.qZA(),l.TgZ(4,"div",25),l._uU(5),l.qZA(),l.TgZ(6,"div",26),l.NdJ("click",function(){const s=l.CHM(t).$implicit,u=l.oxw(2);return l.KtG(u.decreaseQuantity(s))}),l._uU(7,"-"),l.qZA(),l.TgZ(8,"div",27),l._uU(9),l.qZA(),l.TgZ(10,"div",28),l.NdJ("click",function(){const s=l.CHM(t).$implicit,u=l.oxw(2);return l.KtG(u.increaseQuantity(s))}),l._uU(11,"+"),l.qZA(),l.TgZ(12,"div",29),l._uU(13),l.qZA(),l.TgZ(14,"div",30),l.NdJ("click",function(){const s=l.CHM(t).$implicit,u=l.oxw(2);return l.KtG(u.removeFromCart(s))}),l._uU(15,"X"),l.qZA()()}if(2&n){const t=e.$implicit;l.xp6(1),l.Q6J("src",t.product.imagePath,l.LSH),l.xp6(2),l.Oqu(t.product.productName),l.xp6(2),l.Oqu(t.product.selectedSize),l.xp6(1),l.Q6J("ngClass",l.VKq(7,L3,1===t.quantity)),l.xp6(3),l.Oqu(t.quantity),l.xp6(1),l.Q6J("ngClass",l.VKq(9,L3,5===t.quantity)),l.xp6(3),l.Oqu(t.product.price*t.quantity)}}const U3=function(n){return{active:n}},V3=function(n){return{opacity:n}};function K7(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",6)(1,"div",7)(2,"div",8),l.YNc(3,Z7,16,11,"div",9),l.qZA()(),l.TgZ(4,"div",10)(5,"div",11)(6,"mat-slide-toggle",12),l.NdJ("ngModelChange",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.shoppingService.insuranceIsChecked=r)}),l.qZA(),l.TgZ(7,"h3",13),l._uU(8,"500 Ft"),l.qZA(),l._uU(9," K\xfcldem\xe9ny biztos\xedt\xe1sa "),l.TgZ(10,"p",14),l._uU(11,"A k\xfcldem\xe9ny megs\xe9r\xfcl\xe9se vagy elveszt\xe9se eset\xe9n nem kell v\xe1rnia a helyzet t\xf6rv\xe9nyileg el\u0151\xedrt hat\xe1rid\u0151n bel\xfcli rendez\xe9s\xe9re. El\xe9g, ha bejelenti nek\xfcnk \xe9s dokument\xe1lja a k\xfcldem\xe9ny megs\xe9r\xfcl\xe9s\xe9t vagy elveszt\xe9s\xe9t, \xe9s mi postafordult\xe1val teljesen \xfaj \xe1rut k\xfcld\xfcnk \xf6nnek. "),l.qZA()(),l.TgZ(12,"div",15)(13,"mat-slide-toggle",12),l.NdJ("ngModelChange",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.shoppingService.giftIsChecked=r)}),l.qZA(),l.TgZ(14,"h3",13),l._uU(15,"1590 Ft"),l.qZA(),l._uU(16," Luxus csomagol\xe1s "),l.TgZ(17,"p",14),l._uU(18,"Sz\xedvesen luxus kivitel\u0171 aj\xe1nd\xe9kcsomagol\xe1sba csomagolunk \xf6nnek mindent. "),l.qZA()(),l.TgZ(19,"div",16),l._uU(20,"H\xe1zhoz sz\xe1ll\xedt\xe1s "),l.TgZ(21,"h3"),l._uU(22,"1390 Ft "),l.qZA()(),l.TgZ(23,"div",17),l._uU(24,"100% Kedvezm\xe9ny a kisz\xe1ll\xedt\xe1sra! "),l.TgZ(25,"p",18),l._uU(26,"50.000 Forint v\xe1s\xe1rl\xe1s eset\xe9n ingyenesen h\xe1zhoz sz\xe1ll\xedtjuk! "),l.qZA()(),l.TgZ(27,"div",19)(28,"div",20)(29,"h3"),l._uU(30,"\xd6sszesen fizetend\u0151: "),l.TgZ(31,"p"),l._uU(32),l.qZA()()()(),l.TgZ(33,"button",21),l._uU(34,"Tov\xe1bb a sz\xe1ll\xedt\xe1sra!"),l.qZA()()()}if(2&n){const t=l.oxw();l.xp6(3),l.Q6J("ngForOf",t.services.getCartItems()),l.xp6(3),l.Q6J("ngModel",t.shoppingService.insuranceIsChecked),l.xp6(1),l.Q6J("ngClass",l.VKq(9,U3,t.shoppingService.insuranceIsChecked)),l.xp6(6),l.Q6J("ngModel",t.shoppingService.giftIsChecked),l.xp6(1),l.Q6J("ngClass",l.VKq(11,U3,t.shoppingService.giftIsChecked)),l.xp6(5),l.Q6J("ngStyle",l.VKq(13,V3,t.getTotalPrice()<5e4?1:.5)),l.xp6(4),l.Q6J("ngStyle",l.VKq(15,V3,t.getTotalPrice()>49999?1:.5)),l.xp6(9),l.hij("",t.calculateShippingPrice()+t.getTotalPrice()+(t.shoppingService.insuranceIsChecked?500:0)+(t.shoppingService.giftIsChecked?1590:0)," Ft"),l.xp6(1),l.Q6J("disabled",0===t.services.getCartItems().length)}}let Y7=(()=>{class n{constructor(t,i){this.services=t,this.shoppingService=i,this.cartItems=[],this.selectedProducts=[],this.navbarData=uI,this.insuranceIsChecked=!0,this.giftIsChecked=!1,this.shippingPrice=1390}ngOnInit(){this.cartItems=this.services.getCartItems()}addToCart(){const t=this.navbarData.find(i=>"shopping-cart"===i.routerLink);t&&(t.badge=(t.badge||0)+1)}increaseQuantity(t){t.quantity++;const i=this.navbarData.find(r=>"shopping-cart"===r.routerLink);i&&(i.badge=(i.badge||0)+1)}decreaseQuantity(t){if(t.quantity>1){t.quantity--;const i=this.navbarData.find(r=>"shopping-cart"===r.routerLink);i&&(i.badge=(i.badge||0)-1)}}removeFromCart(t){const i=this.services.getCartItems().indexOf(t);if(-1!==i){const r=t.quantity;this.services.getCartItems().splice(i,1);const s=this.navbarData.find(u=>"shopping-cart"===u.routerLink);s&&(s.badge=Math.max((s.badge||0)-r,0))}}calculateShippingPrice(){return this.shippingPrice=this.getTotalPrice()>=5e4?0:1390}getTotalPrice(){let t=0;for(const i of this.services.getCartItems())t+=i.product.price*i.quantity;return t}calculateTotalPayment(){return this.calculateShippingPrice()+this.getTotalPrice()+(this.insuranceIsChecked?500:0)+(this.giftIsChecked?1590:0)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Rg),l.Y36(QB))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-shopping-cart"]],decls:2,vars:2,consts:[["class","empty-cart",4,"ngIf"],["class","shopping-cart-component",4,"ngIf"],[1,"empty-cart"],["src","./assets/images/empty-cart.jpg",1,"empty-cart-img"],[1,"empty-cart-desc"],[1,"empty-cart-button",3,"routerLink"],[1,"shopping-cart-component"],[1,"shopping-cart-card-container"],[1,"shopping-cart-card"],["class","cart-item",4,"ngFor","ngForOf"],[1,"checkout-container"],[1,"insurance"],[3,"ngModel","ngModelChange"],[3,"ngClass"],[1,"checkout-container-desc"],[1,"gift"],[1,"shipping",3,"ngStyle"],[1,"bonus",3,"ngStyle"],[1,"bonus-desc"],[1,"checkout-card"],[1,"total-price"],["routerLink","/shipping",1,"btn-hover","color-8",3,"disabled"],[1,"cart-item"],[1,"product-image",3,"src"],[1,"shopping-cart-head"],[1,"size"],[1,"decreaseQuantity",3,"ngClass","click"],[1,"product-quantity"],[1,"increaseQuantity",3,"ngClass","click"],[1,"shopping-cart-price"],[1,"removeFromCart",3,"click"]],template:function(i,r){1&i&&(l.YNc(0,W7,6,2,"div",0),l.YNc(1,K7,35,17,"div",1)),2&i&&(l.Q6J("ngIf",0===r.services.getCartItems().length),l.xp6(1),l.Q6J("ngIf",r.services.getCartItems().length>0))},dependencies:[Ko,ai,er,Ns,Og,k3,Z0,QN],styles:['@charset "UTF-8";.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:auto;position:relative;-webkit-user-select:none;user-select:none}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{color:#f0f8ff;font-size:15px;margin-bottom:5px;display:flex;flex:1}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{color:#f0f8ff;font-size:18px;flex:0 0 100px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{color:#f0f8ff;border-radius:10px;background-color:#092c3d;flex:1;display:flex;align-items:center;margin:10px 10px 5px;border-bottom:1px solid #ccc;position:relative;gap:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:120px;height:auto;border-radius:5px;margin-right:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{font-size:15px;margin-right:30px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{font-size:18px;overflow:hidden;margin-left:50px;flex:0 0 70px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:15px;display:flex;align-items:center;margin-left:auto;color:#f0f8ff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:30px;height:30px;font-size:30px;display:flex;justify-content:center;align-items:center;font-size:20px;margin:0 5px;border-radius:50%;padding:10px;border:1px solid #a5beda;cursor:pointer;color:#f0f8ff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{cursor:pointer;font-size:15px;margin-right:15px;margin-left:40px;color:#f0f8ff}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;margin:0;gap:0px;width:auto}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:0;margin-left:-5px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{margin-left:-25px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{margin-left:0}}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{gap:2px;margin:0}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{margin-right:5px;font-size:10px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{padding-left:5px}}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:25px;height:25px;font-size:18px;padding:0;margin:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{margin-left:4px;font-size:11.5px;flex:0 0 40px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;font-size:12px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{margin-right:0;width:70px}}@media screen and (max-width: 700px) and (max-width: 300px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{display:none}}.empty-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.empty-cart-img[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-22%);width:100%;max-width:600px;display:flex;overflow:hidden}.empty-cart-desc[_ngcontent-%COMP%]{text-align:center;position:absolute;width:300px;top:55%;left:50%;transform:translate(-50%,-10%);font-size:26px;font-weight:300;border-top:1px solid #ccc;padding-top:15px;transition:all .4s ease-in-out}.empty-cart-button[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer;transition:all .3s ease-in-out;font-weight:100}.empty-cart-button[_ngcontent-%COMP%]:after{background:none repeat scroll 0 0 transparent;bottom:0;content:"";display:block;height:1px;left:50%;position:absolute;background:#191818;transition:width .3s ease 0s,left .3s ease 0s;width:0}.empty-cart-button[_ngcontent-%COMP%]:hover:after{width:100%;left:0}@media screen and (max-width: 500px){.empty-cart-desc[_ngcontent-%COMP%]{top:41%;left:50%}.empty-cart-button[_ngcontent-%COMP%]{top:48%;left:50%;font-size:22px}}.bonus[_ngcontent-%COMP%]   .bonus-desc[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;font-size:13px;margin-top:15px;width:600px}.insurance[_ngcontent-%COMP%], .gift[_ngcontent-%COMP%], .bonus[_ngcontent-%COMP%], .shipping[_ngcontent-%COMP%]{font-size:15px;border-top:1px solid #ccc;margin-top:20px;padding-top:10px}.checkout-container-desc[_ngcontent-%COMP%]{font-size:13px;margin-top:15px;opacity:.5;width:600px}.shipping[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1}h3[_ngcontent-%COMP%]{float:right;opacity:.5;font-weight:800}h3.active[_ngcontent-%COMP%]{opacity:1}.disabled-button[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.checkout-container[_ngcontent-%COMP%]{background-color:#f4f7fa;padding:10px;height:100px;display:grid;position:relative;max-width:1000px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]{padding-top:20px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1;font-size:18px;font-weight:200}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:800;float:right;top:0;margin-left:40px}@media screen and (max-width: 750px){.checkout-container[_ngcontent-%COMP%]{padding:2px;display:block}.checkout-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:100%}.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:14px;margin-top:20px;padding-top:10px}}@media screen and (max-width: 750px) and (max-width: 340px){.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width: 750px){.checkout-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:-4px}.checkout-container[_ngcontent-%COMP%]   .btn-hover[_ngcontent-%COMP%]{float:right}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:100%;font-size:16px}}.btn-hover[_ngcontent-%COMP%]{width:200px;font-size:16px;font-weight:400;color:#f0f8ff;cursor:pointer;margin-left:auto;height:55px;text-align:center;border:none;background-size:300% 100%;border-radius:5px;transition:all .4s ease-in-out}[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;background-position:100% 0;transition:all .4s ease-in-out}.btn-hover[_ngcontent-%COMP%]:hover{background-position:100% 0;transition:all .4s ease-in-out}.btn-hover[_ngcontent-%COMP%]:focus{outline:none}.btn-hover.color-8[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#455669,#485563,#203542,#092c3d);box-shadow:0 4px 15px #2d3641bf}']})}return n})(),cy=(()=>{class n{constructor(t){this.auth=t,this.currentUser$=O2(this.auth)}login(t,i){return(0,Sr.D)($2(this.auth,t,i))}logout(){return(0,Sr.D)(this.auth.signOut())}signUp(t,i){return(0,Sr.D)(cD(this.auth,t,i))}updateProfileData(t){return(0,_n.of)(this.auth.currentUser).pipe(Jv(r=>{if(!r)throw new Error("Nincs hiteles\xedtve!");return Tm(r,t)}))}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(mp))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xI=(()=>{class n{get currentUserProfile$(){return this.authService.currentUser$.pipe((0,Go.w)(t=>{if(!t?.uid)return(0,_n.of)(null);const i=wM(this.firestore,"*users",t?.uid);return J5(i)}))}constructor(t,i){this.firestore=t,this.authService=i}addUser(t){const i=wM(this.firestore,"*users",t?.uid);return(0,Sr.D)(cV(i,t))}addGuest(t){const i=wM(this.firestore,"*guests",t?.uid);return(0,Sr.D)(cV(i,t))}updateUser(t){const i=wM(this.firestore,"*users",t?.uid);return(0,Sr.D)(nG(i,{...t}))}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Qv),l.LFG(cy))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Q7=["mat-button",""],B3=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],j3=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],X7=["mat-mini-fab",""],eK=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],tK=m1(p1(_F(class{constructor(n){this._elementRef=n}})));let z3=(()=>{class n extends tK{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Yc(t),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=Yc(t),this._updateRippleDisabled()}constructor(t,i,r,s){super(t),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,l.f3M)(f1),this._rippleLoader=(0,l.f3M)(N7),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const u=t.nativeElement.classList;for(const m of eK)this._hasHostAttributes(m.selector)&&m.mdcClasses.forEach(v=>{u.add(v)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){l.$Z()};static#t=this.\u0275dir=l.lG2({type:n,features:[l.qOj]})}return n})(),II=(()=>{class n extends z3{constructor(t,i,r,s){super(t,i,r,s)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(Ca),l.Y36(l.R0b),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(l.uIk("disabled",r.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:Q7,ngContentSelectors:j3,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(l.F$t(B3),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&i&&l.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})();const iK=new l.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:H3});function H3(){return{color:"accent"}}const $3=H3();let rK=(()=>{class n extends z3{constructor(t,i,r,s,u){super(t,i,r,s),this._options=u,this._isFab=!0,this._options=this._options||$3,this.color=this.defaultColor=this._options.color||$3.color}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(Ca),l.Y36(l.R0b),l.Y36(l.QbO,8),l.Y36(iK,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-mini-fab",""]],hostVars:7,hostBindings:function(i,r){2&i&&(l.uIk("disabled",r.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:X7,ngContentSelectors:j3,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(l.F$t(B3),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&i&&l.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab:hover{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab.mdc-ripple-upgraded--background-focused,.mdc-fab:not(.mdc-ripple-upgraded):focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-button-font-family);font-size:var(--mdc-typography-button-font-size);line-height:var(--mdc-typography-button-line-height);font-weight:var(--mdc-typography-button-font-weight);letter-spacing:var(--mdc-typography-button-letter-spacing);text-decoration:var(--mdc-typography-button-text-decoration);text-transform:var(--mdc-typography-button-text-transform);border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-fab,.mat-mdc-mini-fab{background-color:var(--mdc-fab-container-color);--mdc-fab-container-shape:50%;--mdc-fab-icon-size:24px}.mat-mdc-fab .mdc-fab__icon,.mat-mdc-mini-fab .mdc-fab__icon{width:var(--mdc-fab-icon-size);height:var(--mdc-fab-icon-size);font-size:var(--mdc-fab-icon-size)}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape)}.mat-mdc-extended-fab{font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return n})(),G3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[Ga,yF,Ga]})}return n})();var EF=Q(3020);class CF{}class om{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof om?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new om;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof om?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let u=this.headers.get(t);if(!u)return;u=u.filter(m=>-1===s.indexOf(m)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class oK{encodeKey(e){return q3(e)}encodeValue(e){return q3(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const aK=/%(\d[a-f0-9])/gi,cK={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function q3(n){return encodeURIComponent(n).replace(aK,(e,t)=>cK[t]??e)}function v1(n){return`${n}`}class Ug{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new oK,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function sK(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[u,m]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],v=t.get(u)||[];v.push(m),t.set(u,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(v1):[v1(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ug({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(v1(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(v1(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class lK{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function W3(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Z3(n){return typeof Blob<"u"&&n instanceof Blob}function K3(n){return typeof FormData<"u"&&n instanceof FormData}class TI{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function uK(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new om),this.context||(this.context=new lK),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+u}}else this.params=new Ug,this.urlWithParams=t}serializeBody(){return null===this.body?null:W3(this.body)||Z3(this.body)||K3(this.body)||function dK(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ug?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||K3(this.body)?null:Z3(this.body)?this.body.type||null:W3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ug?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let v=e.headers||this.headers,C=e.params||this.params;const M=e.context??this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce((L,G)=>L.set(G,e.setHeaders[G]),v)),e.setParams&&(C=Object.keys(e.setParams).reduce((L,G)=>L.set(G,e.setParams[G]),C)),new TI(t,i,s,{params:C,headers:v,context:M,reportProgress:m,responseType:r,withCredentials:u})}}var IF=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(IF||{});class hK{constructor(e,t=200,i="OK"){this.headers=e.headers||new om,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class DI extends hK{constructor(e={}){super(e),this.type=IF.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new DI({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function TF(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let DF=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof TI)s=t;else{let v,C;v=r.headers instanceof om?r.headers:new om(r.headers),r.params&&(C=r.params instanceof Ug?r.params:new Ug({fromObject:r.params})),s=new TI(t,i,void 0!==r.body?r.body:null,{headers:v,context:r.context,params:C,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=(0,_n.of)(s).pipe(Jv(v=>this.handler.handle(v)));if(t instanceof TI||"events"===r.observe)return u;const m=u.pipe(or(v=>v instanceof DI));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return m.pipe((0,gn.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return m.pipe((0,gn.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return m.pipe((0,gn.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return m.pipe((0,gn.U)(v=>v.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Ug).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,TF(r,i))}post(t,i,r={}){return this.request("POST",t,TF(r,i))}put(t,i,r={}){return this.request("PUT",t,TF(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(CF))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const RK=["*"];let w1;function SI(n){return function PK(){if(void 0===w1&&(w1=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(w1=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return w1}()?.createHTML(n)||n}function oz(n){return Error(`Unable to find icon with the name "${n}"`)}function sz(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function az(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class uy{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let E1=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new uy(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const u=this._sanitizer.sanitize(l.q3G.HTML,r);if(!u)throw az(r);const m=SI(u);return this._addSvgIconConfig(t,i,new uy("",m,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new uy(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(l.q3G.HTML,i);if(!s)throw az(i);const u=SI(s);return this._addSvgIconSetConfig(t,new uy("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,t);if(!i)throw sz(t);const r=this._cachedIconsByUrl.get(i);return r?(0,_n.of)(C1(r)):this._loadSvgIconFromConfig(new uy(t,null)).pipe((0,Qi.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,gn.U)(s=>C1(s)))}getNamedSvgIcon(t,i=""){const r=cz(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):L0(oz(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,_n.of)(C1(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,gn.U)(i=>C1(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?(0,_n.of)(r):XB(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Sg(m=>{const C=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,u.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(C)),(0,_n.of)(null)})))).pipe((0,gn.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw oz(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(s),m=this._extractSvgIconFromSet(u,t,s.options);if(m)return m}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Qi.b)(i=>t.svgText=i),(0,gn.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,_n.of)(null):this._fetchIcon(t).pipe((0,Qi.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const u=s.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const m=this._svgElementFromString(SI("<svg></svg>"));return m.appendChild(u),this._setSvgAttributes(m,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(SI("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:u,value:m}=r[s];"id"!==u&&i.setAttribute(u,m)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function kK(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,i);if(!u)throw sz(i);const m=this._inProgressUrlFetches.get(u);if(m)return m;const v=this._httpClient.get(u,{responseType:"text",withCredentials:s}).pipe((0,gn.U)(C=>SI(C)),OM(()=>this._inProgressUrlFetches.delete(u)),(0,EF.B)());return this._inProgressUrlFetches.set(u,v),v}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(cz(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return FK(s)?new uy(s.url,null,s.options):new uy(s,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(DF,8),l.LFG(Jr),l.LFG(Pe,8),l.LFG(l.qLn))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function C1(n){return n.cloneNode(!0)}function cz(n,e){return n+":"+e}function FK(n){return!(!n.url||!n.options)}const LK=m1(class{constructor(n){this._elementRef=n}}),UK=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),VK=new l.OlP("mat-icon-location",{providedIn:"root",factory:function BK(){const n=(0,l.f3M)(Pe),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),lz=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],jK=lz.map(n=>`[${n}]`).join(", "),zK=/^url\(['"]?#(.*?)['"]?\)$/;let AF=(()=>{class n extends LK{get inline(){return this._inline}set inline(t){this._inline=Yc(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,s,u,m){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=$u.w0.EMPTY,m&&(m.color&&(this.color=this.defaultColor=m.color),m.fontSet&&(this.fontSet=m.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(u=>{s.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(jK),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)lz.forEach(u=>{const m=i[s],v=m.getAttribute(u),C=v?v.match(zK):null;if(C){let M=r.get(m);M||(M=[],r.set(m,M)),M.push({name:u,value:C[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Kc(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(E1),l.$8M("aria-hidden"),l.Y36(VK),l.Y36(l.qLn),l.Y36(UK,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(l.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),l.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:RK,decls:1,vars:0,template:function(i,r){1&i&&(l.F$t(),l.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),uz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[Ga,Ga]})}return n})();const HK=["*",[["mat-toolbar-row"]]],$K=["*","mat-toolbar-row"],GK=m1(class{constructor(n){this._elementRef=n}});let qK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),WK=(()=>{class n extends GK{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(Ca),l.Y36(Pe))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,s){if(1&i&&l.Suo(s,qK,5),2&i){let u;l.iGM(u=l.CRH())&&(r._toolbarRows=u)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&l.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:$K,decls:2,vars:0,template:function(i,r){1&i&&(l.F$t(HK),l.Hsn(0),l.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),dz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[Ga,Ga]})}return n})();var Bg=Q(3019),hz=Q(1954);let MF,ZK=1;const x1={};function fz(n){return n in x1&&(delete x1[n],!0)}const KK={setImmediate(n){const e=ZK++;return x1[e]=!0,MF||(MF=Promise.resolve()),MF.then(()=>fz(e)&&n()),e},clearImmediate(n){fz(n)}},{setImmediate:YK,clearImmediate:QK}=KK,I1={setImmediate(...n){const{delegate:e}=I1;return(e?.setImmediate||YK)(...n)},clearImmediate(n){const{delegate:e}=I1;return(e?.clearImmediate||QK)(n)},delegate:void 0};var pz=Q(2631);const OF=new class JK extends pz.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class XK extends hz.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=I1.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(I1.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function mz(n,e){return e?t=>Zx(e.pipe(Kc(1),function eY(){return(0,kr.e)((n,e)=>{n.subscribe((0,ci.x)(e,yN.Z))})}()),t.pipe(mz(n))):(0,Ea.z)((t,i)=>(0,So.Xf)(n(t,i)).pipe(Kc(1),WV(t)))}var tY=Q(671);function gz(n=0,e,t=J0.P){let i=-1;return null!=e&&((0,tY.K)(e)?t=e:i=e),new rr.y(r=>{let s=function nY(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function _z(n,e=J0.z){const t=gz(n,e);return mz(()=>t)}class RF{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class iY extends RF{constructor(e,t,i,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class vz extends RF{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class rY extends RF{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class oY{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof iY?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof vz?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof rY?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class sY extends oY{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const m=u.element,v=this._document.createComment("dom-portal");m.parentNode.insertBefore(v,m),this.outletElement.appendChild(m),this._attachedPortal=u,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(m,v)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let aY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})();var cY=Q(4266);const lY=["addListener","removeListener"],uY=["addEventListener","removeEventListener"],dY=["on","off"];function PF(n,e,t,i){if((0,Fd.m)(t)&&(i=t,t=void 0),i)return PF(n,e,t).pipe(mN(i));const[r,s]=function pY(n){return(0,Fd.m)(n.addEventListener)&&(0,Fd.m)(n.removeEventListener)}(n)?uY.map(u=>m=>n[u](e,m,t)):function hY(n){return(0,Fd.m)(n.addListener)&&(0,Fd.m)(n.removeListener)}(n)?lY.map(yz(n,e)):function fY(n){return(0,Fd.m)(n.on)&&(0,Fd.m)(n.off)}(n)?dY.map(yz(n,e)):[];if(!r&&(0,cY.z)(n))return(0,Ea.z)(u=>PF(u,e,t))((0,So.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new rr.y(u=>{const m=(...v)=>u.next(1<v.length?v:v[0]);return r(m),()=>s(m)})}function yz(n,e){return t=>i=>n[t](e,i)}const AI={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=AI;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new $u.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=AI;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=AI;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class gY extends pz.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class mY extends hz.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=AI.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(AI.cancelAnimationFrame(t),e._scheduled=void 0)}});function bz(n,e=J0.z){return function vY(n){return(0,kr.e)((e,t)=>{let i=!1,r=null,s=null,u=!1;const m=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const C=r;r=null,t.next(C)}u&&t.complete()},v=()=>{s=null,u&&t.complete()};e.subscribe((0,ci.x)(t,C=>{i=!0,r=C,s||(0,So.Xf)(n(C)).subscribe(s=(0,ci.x)(t,m,v))},()=>{u=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>gz(n,e))}let bY=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new jn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new rr.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(bz(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,_n.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(or(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Lg(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>PF(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(l.R0b),l.LFG(Ca),l.LFG(Pe,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wz=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new jn.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(bz(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Ca),l.LFG(l.R0b),l.LFG(Pe,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})(),Ez=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[EI,kF,EI,kF]})}return n})();const Cz=TZ();class EY{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Js(-this._previousScrollPosition.left),e.style.top=Js(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Cz&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Cz&&(i.scrollBehavior=s,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class CY{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(or(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class xz{enable(){}disable(){}attach(){}}function NF(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Iz(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class xY{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();NF(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let IY=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new xz,this.close=u=>new CY(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new EY(this._viewportRuler,this._document),this.reposition=u=>new xY(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=s}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(bY),l.LFG(wz),l.LFG(l.R0b),l.LFG(Pe))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Tz{constructor(e){if(this.scrollStrategy=new xz,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class TY{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let Dz=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Pe))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DY=(()=>{class n extends Dz{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let u=s.length-1;u>-1;u--)if(s[u]._keydownEvents.observers.length>0){const m=s[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>m.next(r)):m.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Pe),l.LFG(l.R0b,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),SY=(()=>{class n extends Dz{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Fg(s)},this._clickListener=s=>{const u=Fg(s),m="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const v=this._attachedOverlays.slice();for(let C=v.length-1;C>-1;C--){const M=v[C];if(M._outsidePointerEvents.observers.length<1||!M.hasAttached())continue;if(M.overlayElement.contains(u)||M.overlayElement.contains(m))break;const L=M._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>L.next(s)):L.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Pe),l.LFG(Ca),l.LFG(l.R0b,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sz=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||aF()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),aF()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Pe),l.LFG(Ca))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class AY{constructor(e,t,i,r,s,u,m,v,C,M=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=u,this._document=m,this._location=v,this._outsideClickDispatcher=C,this._animationsDisabled=M,this._backdropElement=null,this._backdropClick=new jn.x,this._attachments=new jn.x,this._detachments=new jn.x,this._locationChanges=$u.w0.EMPTY,this._backdropClickHandler=L=>this._backdropClick.next(L),this._backdropTransitionendHandler=L=>{this._disposeBackdrop(L.target)},this._keydownEvents=new jn.x,this._outsidePointerEvents=new jn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Kc(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Js(this._config.width),e.height=Js(this._config.height),e.minWidth=Js(this._config.minWidth),e.minHeight=Js(this._config.minHeight),e.maxWidth=Js(this._config.maxWidth),e.maxHeight=Js(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=l1(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ud((0,Bg.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Az="cdk-overlay-connected-position-bounding-box",MY=/([A-Za-z%]+)$/;class OY{get positions(){return this._preferredPositions}constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new jn.x,this._resizeSubscription=$u.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(Az),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let u;for(let m of this._preferredPositions){let v=this._getOriginPoint(e,r,m),C=this._getOverlayPoint(v,t,m),M=this._getOverlayFit(C,t,i,m);if(M.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,v);this._canFitWithFlexibleDimensions(M,C,i)?s.push({position:m,origin:v,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(v,m)}):(!u||u.overlayFit.visibleArea<M.visibleArea)&&(u={overlayFit:M,overlayPoint:C,originPoint:v,position:m,overlayRect:t})}if(s.length){let m=null,v=-1;for(const C of s){const M=C.boundingBoxRect.width*C.boundingBoxRect.height*(C.position.weight||1);M>v&&(v=M,m=C)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&dy(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Az),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,m=this._isRtl()?e.left:e.right;r="start"==i.originX?u:m}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=Oz(t);let{x:u,y:m}=e,v=this._getOffset(r,"x"),C=this._getOffset(r,"y");v&&(u+=v),C&&(m+=C);let G=0-m,ne=m+s.height-i.height,ae=this._subtractOverflows(s.width,0-u,u+s.width-i.width),ye=this._subtractOverflows(s.height,G,ne),We=ae*ye;return{visibleArea:We,isCompletelyWithinViewport:s.width*s.height===We,fitsInViewportVertically:ye===s.height,fitsInViewportHorizontally:ae==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,u=Mz(this._overlayRef.getConfig().minHeight),m=Mz(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=u&&u<=r)&&(e.fitsInViewportHorizontally||null!=m&&m<=s)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=Oz(t),s=this._viewportRect,u=Math.max(e.x+r.width-s.width,0),m=Math.max(e.y+r.height-s.height,0),v=Math.max(s.top-i.top-e.y,0),C=Math.max(s.left-i.left-e.x,0);let M=0,L=0;return M=r.width<=s.width?C||-u:e.x<this._viewportMargin?s.left-i.left-e.x:0,L=r.height<=s.height?v||-m:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:M,y:L},{x:e.x+M,y:e.y+L}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new TY(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,u,m,M,L,G;if("top"===t.overlayY)u=e.y,s=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)m=i.height-e.y+2*this._viewportMargin,s=i.height-m+this._viewportMargin;else{const ne=Math.min(i.bottom-e.y+i.top,e.y),ae=this._lastBoundingBoxSize.height;s=2*ne,u=e.y-ne,s>ae&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-ae/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)G=i.width-e.x+this._viewportMargin,M=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)L=e.x,M=i.right-e.x;else{const ne=Math.min(i.right-e.x+i.left,e.x),ae=this._lastBoundingBoxSize.width;M=2*ne,L=e.x-ne,M>ae&&!this._isInitialRender&&!this._growAfterOpen&&(L=e.x-ae/2)}return{top:u,left:L,bottom:m,right:G,width:M,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=Js(i.height),r.top=Js(i.top),r.bottom=Js(i.bottom),r.width=Js(i.width),r.left=Js(i.left),r.right=Js(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Js(s)),u&&(r.maxWidth=Js(u))}this._lastBoundingBoxSize=i,dy(this._boundingBox.style,r)}_resetBoundingBoxStyles(){dy(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){dy(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const M=this._viewportRuler.getViewportScrollPosition();dy(i,this._getExactOverlayY(t,e,M)),dy(i,this._getExactOverlayX(t,e,M))}else i.position="static";let m="",v=this._getOffset(t,"x"),C=this._getOffset(t,"y");v&&(m+=`translateX(${v}px) `),C&&(m+=`translateY(${C}px)`),i.transform=m.trim(),u.maxHeight&&(r?i.maxHeight=Js(u.maxHeight):s&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=Js(u.maxWidth):s&&(i.maxWidth="")),dy(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Js(s.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Js(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Iz(e,i),isOriginOutsideView:NF(e,i),isOverlayClipped:Iz(t,i),isOverlayOutsideView:NF(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&l1(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function dy(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Mz(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(MY);return t&&"px"!==t?null:parseFloat(e)}return n||null}function Oz(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Rz="cdk-global-overlay-wrapper";class RY{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Rz),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:u,maxHeight:m}=i,v=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),C=!("100%"!==s&&"100vh"!==s||m&&"100%"!==m&&"100vh"!==m),M=this._xPosition,L=this._xOffset,G="rtl"===this._overlayRef.getConfig().direction;let ne="",ae="",ye="";v?ye="flex-start":"center"===M?(ye="center",G?ae=L:ne=L):G?"left"===M||"end"===M?(ye="flex-end",ne=L):("right"===M||"start"===M)&&(ye="flex-start",ae=L):"left"===M||"start"===M?(ye="flex-start",ne=L):("right"===M||"end"===M)&&(ye="flex-end",ae=L),e.position=this._cssPosition,e.marginLeft=v?"0":ne,e.marginTop=C?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=v?"0":ae,t.justifyContent=ye,t.alignItems=C?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Rz),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let PY=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new RY}flexibleConnectedTo(t){return new OY(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(wz),l.LFG(Pe),l.LFG(Ca),l.LFG(Sz))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kY=0,T1=(()=>{class n{constructor(t,i,r,s,u,m,v,C,M,L,G,ne){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=u,this._injector=m,this._ngZone=v,this._document=C,this._directionality=M,this._location=L,this._outsideClickDispatcher=G,this._animationsModuleType=ne}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),u=new Tz(t);return u.direction=u.direction||this._directionality.value,new AY(s,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+kY++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new sY(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(IY),l.LFG(Sz),l.LFG(l._Vd),l.LFG(PY),l.LFG(DY),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(Pe),l.LFG(gF),l.LFG(mt),l.LFG(SY),l.LFG(l.QbO,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const LY={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[T1],useFactory:function FY(n){return()=>n.scrollStrategies.reposition()}};let UY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[T1,LY],imports:[EI,aY,Ez,Ez]})}return n})();const VY=["mat-menu-item",""];function BY(n,e){1&n&&(l.O4$(),l.TgZ(0,"svg",3),l._UZ(1,"polygon",4),l.qZA())}const jY=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],zY=["mat-icon, [matMenuItemIcon]","*"];function HY(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",0),l.NdJ("keydown",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s._handleKeydown(r))})("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s._onAnimationDone(r))}),l.TgZ(1,"div",1),l.Hsn(2),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),l.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const $Y=["*"],FF=new l.OlP("MAT_MENU_PANEL"),GY=_F(p1(class{}));let D1=(()=>{class n extends GY{constructor(t,i,r,s,u){super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new jn.x,this._focused=new jn.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(Pe),l.Y36(f1),l.Y36(FF,8),l.Y36(l.sBO))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(i,r){1&i&&l.NdJ("click",function(u){return r._checkDisabled(u)})("mouseenter",function(){return r._handleMouseEnter()}),2&i&&(l.uIk("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),l.ekj("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[l.qOj],attrs:VY,ngContentSelectors:zY,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){1&i&&(l.F$t(jY),l.Hsn(0),l.TgZ(1,"span",0),l.Hsn(2,1),l.qZA(),l._UZ(3,"div",1),l.YNc(4,BY,2,0,"svg",2)),2&i&&(l.xp6(3),l.Q6J("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),l.xp6(1),l.Q6J("ngIf",r._triggersSubmenu))},dependencies:[er,vF],encapsulation:2,changeDetection:0})}return n})();const qY=new l.OlP("MatMenuContent"),S1={transformMenu:fl("transformMenu",[Gh("void",dr({opacity:0,transform:"scale(0.8)"})),Gs("void => enter",sr("120ms cubic-bezier(0, 0, 0.2, 1)",dr({opacity:1,transform:"scale(1)"}))),Gs("* => void",sr("100ms 25ms linear",dr({opacity:0})))]),fadeInItems:fl("fadeInItems",[Gh("showing",dr({opacity:1})),Gs("void => *",[dr({opacity:0}),sr("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let WY=0;const Pz=new l.OlP("mat-menu-default-options",{providedIn:"root",factory:function ZY(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let MI=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Yc(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Yc(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,i,r,s){this._elementRef=t,this._ngZone=i,this._changeDetectorRef=s,this._directDescendantItems=new l.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new jn.x,this.closed=new l.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+WY++,this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this._overlapTrigger=r.overlapTrigger,this._hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new i7(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Tg(this._directDescendantItems),(0,Go.w)(t=>(0,Bg.T)(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Tg(this._directDescendantItems),(0,Go.w)(i=>(0,Bg.T)(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:a3(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(Kc(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Tg(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Pz),l.Y36(l.sBO))};static#t=this.\u0275dir=l.lG2({type:n,contentQueries:function(i,r,s){if(1&i&&(l.Suo(s,qY,5),l.Suo(s,D1,5),l.Suo(s,D1,4)),2&i){let u;l.iGM(u=l.CRH())&&(r.lazyContent=u.first),l.iGM(u=l.CRH())&&(r._allItems=u),l.iGM(u=l.CRH())&&(r.items=u)}},viewQuery:function(i,r){if(1&i&&l.Gf(l.Rgc,5),2&i){let s;l.iGM(s=l.CRH())&&(r.templateRef=s.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}})}return n})(),KY=(()=>{class n extends MI{constructor(t,i,r,s){super(t,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Pz),l.Y36(l.sBO))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(i,r){2&i&&l.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[l._Bn([{provide:FF,useExisting:n}]),l.qOj],ngContentSelectors:$Y,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(i,r){1&i&&(l.F$t(),l.YNc(0,HY,3,6,"ng-template"))},dependencies:[Ko],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{--mat-menu-container-shape:4px;min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[S1.transformMenu,S1.fadeInItems]},changeDetection:0})}return n})();const kz=new l.OlP("mat-menu-scroll-strategy"),QY={provide:kz,deps:[T1],useFactory:function YY(n){return()=>n.scrollStrategies.reposition()}},Nz=X0({passive:!0});let XY=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,i,r,s,u,m,v,C,M){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=m,this._dir=v,this._focusMonitor=C,this._ngZone=M,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=$u.w0.EMPTY,this._hoverSubscription=$u.w0.EMPTY,this._menuCloseSubscription=$u.w0.EMPTY,this._changeDetectorRef=(0,l.f3M)(l.sBO),this._handleTouchStart=L=>{pF(L)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new l.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new l.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=u instanceof MI?u:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,Nz)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Nz),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),s=r.positionStrategy;this._setPosition(t,s),r.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof MI&&(t._startAnimation(),t._directDescendantItems.changes.pipe(Ud(t.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof MI?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(or(r=>"void"===r.toState),Kc(1),Ud(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new Tz({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",u="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(s,u)):t.setPositionClasses(s,u)})}_setPosition(t,i){let[r,s]="before"===t.xPosition?["end","start"]:["start","end"],[u,m]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[v,C]=[u,m],[M,L]=[r,s],G=0;if(this.triggersSubmenu()){if(L=r="before"===t.xPosition?"start":"end",s=M="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const ne=this._parentMaterialMenu.items.first;this._parentInnerPadding=ne?ne._getHostElement().offsetTop:0}G="bottom"===u?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(v="top"===u?"bottom":"top",C="top"===m?"bottom":"top");i.withPositions([{originX:r,originY:v,overlayX:M,overlayY:u,offsetY:G},{originX:s,originY:v,overlayX:L,overlayY:u,offsetY:G},{originX:r,originY:C,overlayX:M,overlayY:m,offsetY:-G},{originX:s,originY:C,overlayX:L,overlayY:m,offsetY:-G}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,_n.of)(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(or(u=>u!==this._menuItemInstance),or(()=>this._menuOpen)):(0,_n.of)();return(0,Bg.T)(t,r,s,i)}_handleMousedown(t){fF(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(or(t=>t===this._menuItemInstance&&!t.disabled),_z(0,OF)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof MI&&this.menu._isAnimating?this.menu._animationDone.pipe(Kc(1),_z(0,OF),Ud(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new vz(t.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(T1),l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(kz),l.Y36(FF,8),l.Y36(D1,10),l.Y36(gF,8),l.Y36(f1),l.Y36(l.R0b))};static#t=this.\u0275dir=l.lG2({type:n,hostVars:3,hostBindings:function(i,r){1&i&&l.NdJ("click",function(u){return r._handleClick(u)})("mousedown",function(u){return r._handleMousedown(u)})("keydown",function(u){return r._handleKeydown(u)}),2&i&&l.uIk("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}})}return n})(),JY=(()=>{class n extends XY{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}();static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[l.qOj]})}return n})(),Fz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[QY],imports:[Oi,yF,Ga,UY,kF,Ga]})}return n})();function eQ(n,e){1&n&&(l.TgZ(0,"h1"),l._uU(1," El\u0151bb jelentkezzen be!"),l.qZA())}function tQ(n,e){if(1&n&&(l.TgZ(0,"h1"),l._uU(1),l.qZA()),2&n){const t=e.ngIf;l.xp6(1),l.hij(" \xdcdv\xf6z\xf6lj\xfck, ",t.displayName,"!")}}function nQ(n,e){if(1&n&&(l.ynx(0),l.TgZ(1,"button",9),l._UZ(2,"img",10),l.TgZ(3,"mat-icon"),l._uU(4,"expand_more"),l.qZA()(),l.BQk()),2&n){const t=e.ngIf;l.oxw();const i=l.MAs(12);let r;l.xp6(1),l.Q6J("matMenuTriggerFor",i),l.xp6(1),l.Q6J("src",null!==(r=t.photoURL)&&void 0!==r?r:"assets/image-placeholder.png",l.LSH)}}function iQ(n,e){1&n&&(l.TgZ(0,"button",11)(1,"mat-icon"),l._uU(2,"login"),l.qZA(),l._uU(3," Bejelentkez\xe9s "),l.qZA())}let Lz=(()=>{class n{constructor(t,i,r,s){this.authService=t,this.router=i,this.usersService=r,this.services=s,this.user$=this.usersService.currentUserProfile$,this.items=[],this.users=[],this.userOrders=[]}ngOnInit(){}logout(){this.authService.logout().subscribe(()=>{this.router.navigate(["/user"])})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(cy),l.Y36(pc),l.Y36(xI),l.Y36(Rg))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-user"]],decls:19,vars:10,consts:[["color","primary"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["loginButton",""],[1,"content"],["userMenu","matMenu"],["mat-menu-item","","routerLink","/home"],["mat-menu-item","","routerLink","/user/profile"],["mat-menu-item","",3,"click"],["mat-button","",3,"matMenuTriggerFor"],["width","30","height","30",1,"profile-image-toolbar",3,"src"],["mat-button","","routerLink","login"]],template:function(i,r){if(1&i&&(l.TgZ(0,"mat-toolbar",0),l.YNc(1,eQ,2,0,"h1",1),l.ALo(2,"async"),l.YNc(3,tQ,2,1,"h1",1),l.ALo(4,"async"),l.YNc(5,nQ,5,2,"ng-container",2),l.ALo(6,"async"),l.YNc(7,iQ,4,0,"ng-template",null,3,l.W1O),l.qZA(),l.TgZ(9,"div",4),l._UZ(10,"router-outlet"),l.qZA(),l.TgZ(11,"mat-menu",null,5)(13,"button",6),l._uU(14,"Rendel\xe9sek"),l.qZA(),l.TgZ(15,"button",7),l._uU(16,"Profil"),l.qZA(),l.TgZ(17,"button",8),l.NdJ("click",function(){return r.logout()}),l._uU(18,"Kijelentkez\xe9s"),l.qZA()()),2&i){const s=l.MAs(8);l.xp6(1),l.Q6J("ngIf",!l.lcZ(2,4,r.user$)),l.xp6(2),l.Q6J("ngIf",l.lcZ(4,6,r.user$)),l.xp6(2),l.Q6J("ngIf",l.lcZ(6,8,r.user$))("ngIfElse",s)}},dependencies:[er,jM,Og,II,AF,WK,KY,D1,JY,Ur],styles:["mat-toolbar[_ngcontent-%COMP%]{justify-content:space-between;margin-top:-15px;background-color:#17455c;border-radius:15px;box-shadow:0 6px 20px #00000063}.conent[_ngcontent-%COMP%]{padding:32px}.profile-image-toolbar[_ngcontent-%COMP%]{border-radius:100%;margin-right:8px;margin-top:10px}"]})}return n})();const Uz=X0({passive:!0});let rQ=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Lf.E;const i=Lg(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new jn.x,u="cdk-text-field-autofilled",m=v=>{"cdk-text-field-autofill-start"!==v.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===v.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>s.next({target:v.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>s.next({target:v.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",m,Uz),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",m,Uz)}}),s}stopMonitoring(t){const i=Lg(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Ca),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})();var sQ=Q(4552);class aQ extends jn.x{constructor(e=1/0,t=1/0,i=sQ.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:u}=this;t||(i.push(e),!r&&i.push(s.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let u=0;u<s.length&&!e.closed;u+=i?1:2)e.next(s[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const u=t.now();let m=0;for(let v=1;v<i.length&&i[v]<=u;v+=2)m=v;m&&i.splice(0,m+1)}}}function LF(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,EF.B)({connector:()=>new aQ(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}class cQ{constructor(e){this._box=e,this._destroyed=new jn.x,this._resizeSubject=new jn.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new rr.y(t=>{const i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(or(t=>t.some(i=>i.target===e)),LF({bufferSize:1,refCount:!0}),Ud(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let lQ=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,l.f3M)(l.R0b)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new cQ(r)),this._observers.get(r).observe(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const uQ=["notch"],dQ=["matFormFieldNotchedOutline",""],hQ=["*"],fQ=["textField"],pQ=["iconPrefixContainer"],mQ=["textPrefixContainer"];function gQ(n,e){1&n&&l._UZ(0,"span",19)}function _Q(n,e){if(1&n&&(l.TgZ(0,"label",17),l.Hsn(1,1),l.YNc(2,gQ,1,0,"span",18),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),l.uIk("for",t._control.id),l.xp6(2),l.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function vQ(n,e){if(1&n&&l.YNc(0,_Q,3,5,"label",16),2&n){const t=l.oxw();l.Q6J("ngIf",t._hasFloatingLabel())}}function yQ(n,e){1&n&&l._UZ(0,"div",20)}function bQ(n,e){}function wQ(n,e){if(1&n&&l.YNc(0,bQ,0,0,"ng-template",22),2&n){l.oxw(2);const t=l.MAs(1);l.Q6J("ngTemplateOutlet",t)}}function EQ(n,e){if(1&n&&(l.TgZ(0,"div",21),l.YNc(1,wQ,1,1,"ng-template",9),l.qZA()),2&n){const t=l.oxw();l.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),l.xp6(1),l.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function CQ(n,e){1&n&&(l.TgZ(0,"div",23,24),l.Hsn(2,2),l.qZA())}function xQ(n,e){1&n&&(l.TgZ(0,"div",25,26),l.Hsn(2,3),l.qZA())}function IQ(n,e){}function TQ(n,e){if(1&n&&l.YNc(0,IQ,0,0,"ng-template",22),2&n){l.oxw();const t=l.MAs(1);l.Q6J("ngTemplateOutlet",t)}}function DQ(n,e){1&n&&(l.TgZ(0,"div",27),l.Hsn(1,4),l.qZA())}function SQ(n,e){1&n&&(l.TgZ(0,"div",28),l.Hsn(1,5),l.qZA())}function AQ(n,e){1&n&&l._UZ(0,"div",29)}function MQ(n,e){if(1&n&&(l.TgZ(0,"div",30),l.Hsn(1,6),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState)}}function OQ(n,e){if(1&n&&(l.TgZ(0,"mat-hint",34),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("id",t._hintLabelId),l.xp6(1),l.Oqu(t.hintLabel)}}function RQ(n,e){if(1&n&&(l.TgZ(0,"div",31),l.YNc(1,OQ,2,2,"mat-hint",32),l.Hsn(2,7),l._UZ(3,"div",33),l.Hsn(4,8),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",t.hintLabel)}}const PQ=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],kQ=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let tw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]})}return n})(),NQ=0;const Vz=new l.OlP("MatError");let Bz=(()=>{class n{constructor(t,i){this.id="mat-mdc-error-"+NQ++,t||i.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(i){return new(i||n)(l.$8M("aria-live"),l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){2&i&&l.Ikx("id",r.id)},inputs:{id:"id"},features:[l._Bn([{provide:Vz,useExisting:n}])]})}return n})(),FQ=0,jz=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+FQ++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(l.Ikx("id",r.id),l.uIk("align",null),l.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const LQ=new l.OlP("MatPrefix"),UQ=new l.OlP("MatSuffix"),zz=new l.OlP("FloatingLabelParent");let Hz=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,l.f3M)(lQ),this._ngZone=(0,l.f3M)(l.R0b),this._parent=(0,l.f3M)(zz),this._resizeSubscription=new $u.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function VQ(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&l.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const $z="mdc-line-ripple--active",A1="mdc-line-ripple--deactivating";let Gz=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,u=s.contains(A1);"opacity"===r.propertyName&&u&&s.remove($z,A1)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(A1),t.add($z)}deactivate(){this._elementRef.nativeElement.classList.add(A1)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),qz=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&l.Gf(uQ,5),2&i){let s;l.iGM(s=l.CRH())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&l.ekj("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:dQ,ngContentSelectors:hQ,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(l.F$t(),l._UZ(0,"div",0),l.TgZ(1,"div",1,2),l.Hsn(3),l.qZA(),l._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const BQ={transitionMessages:fl("transitionMessages",[Gh("enter",dr({opacity:1,transform:"translateY(0%)"})),Gs("void => enter",[dr({opacity:0,transform:"translateY(-5px)"}),sr("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Wz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n})}return n})();const Zz=new l.OlP("MatFormField"),jQ=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Kz=0,M1=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Yc(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,s,u,m,v,C){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=u,this._defaults=m,this._animationMode=v,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Kz++,this._hintLabelId="mat-mdc-hint-"+Kz++,this._subscriptAnimationState="",this._destroyed=new jn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,m&&(m.appearance&&(this.appearance=m.appearance),this._hideRequiredMarker=!!m?.hideRequiredMarker,m.color&&(this.color=m.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Ud(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Bg.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ud(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Ud(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,u=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+u}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(gF),l.Y36(Ca),l.Y36(jQ,8),l.Y36(l.QbO,8),l.Y36(Pe))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(1&i&&(l.Suo(s,tw,5),l.Suo(s,tw,7),l.Suo(s,Wz,5),l.Suo(s,LQ,5),l.Suo(s,UQ,5),l.Suo(s,Vz,5),l.Suo(s,jz,5)),2&i){let u;l.iGM(u=l.CRH())&&(r._labelChildNonStatic=u.first),l.iGM(u=l.CRH())&&(r._labelChildStatic=u.first),l.iGM(u=l.CRH())&&(r._formFieldControl=u.first),l.iGM(u=l.CRH())&&(r._prefixChildren=u),l.iGM(u=l.CRH())&&(r._suffixChildren=u),l.iGM(u=l.CRH())&&(r._errorChildren=u),l.iGM(u=l.CRH())&&(r._hintChildren=u)}},viewQuery:function(i,r){if(1&i&&(l.Gf(fQ,5),l.Gf(pQ,5),l.Gf(mQ,5),l.Gf(Hz,5),l.Gf(qz,5),l.Gf(Gz,5)),2&i){let s;l.iGM(s=l.CRH())&&(r._textField=s.first),l.iGM(s=l.CRH())&&(r._iconPrefixContainer=s.first),l.iGM(s=l.CRH())&&(r._textPrefixContainer=s.first),l.iGM(s=l.CRH())&&(r._floatingLabel=s.first),l.iGM(s=l.CRH())&&(r._notchedOutline=s.first),l.iGM(s=l.CRH())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&l.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:Zz,useExisting:n},{provide:zz,useExisting:n}])],ngContentSelectors:kQ,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(l.F$t(PQ),l.YNc(0,vQ,1,1,"ng-template",null,0,l.W1O),l.TgZ(2,"div",1,2),l.NdJ("click",function(u){return r._control.onContainerClick(u)}),l.YNc(4,yQ,1,0,"div",3),l.TgZ(5,"div",4),l.YNc(6,EQ,2,2,"div",5),l.YNc(7,CQ,3,0,"div",6),l.YNc(8,xQ,3,0,"div",7),l.TgZ(9,"div",8),l.YNc(10,TQ,1,1,"ng-template",9),l.Hsn(11),l.qZA(),l.YNc(12,DQ,2,0,"div",10),l.YNc(13,SQ,2,0,"div",11),l.qZA(),l.YNc(14,AQ,1,0,"div",12),l.qZA(),l.TgZ(15,"div",13),l.YNc(16,MQ,2,1,"div",14),l.YNc(17,RQ,5,2,"div",15),l.qZA()),2&i&&(l.xp6(2),l.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),l.xp6(2),l.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),l.xp6(2),l.Q6J("ngIf",r._hasOutline()),l.xp6(1),l.Q6J("ngIf",r._hasIconPrefix),l.xp6(1),l.Q6J("ngIf",r._hasTextPrefix),l.xp6(2),l.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),l.xp6(2),l.Q6J("ngIf",r._hasTextSuffix),l.xp6(1),l.Q6J("ngIf",r._hasIconSuffix),l.xp6(1),l.Q6J("ngIf",!r._hasOutline()),l.xp6(1),l.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),l.Q6J("ngSwitch",r._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[er,ta,ks,Ya,jz,Hz,qz,Gz],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[BQ.transitionMessages]},changeDetection:0})}return n})(),OI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[Ga,Oi,u3,Ga]})}return n})();const $Q=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),GQ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let qQ=0;const WQ=S7(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new jn.x}});let O1=(()=>{class n extends WQ{get disabled(){return this._disabled}set disabled(t){this._disabled=Yc(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator($a.required)??!1}set required(t){this._required=Yc(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&r3().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Yc(t)}constructor(t,i,r,s,u,m,v,C,M,L){super(m,s,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=C,this._formField=L,this._uid="mat-input-"+qQ++,this.focused=!1,this.stateChanges=new jn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ae=>r3().has(ae)),this._iOSKeyupListener=ae=>{const ye=ae.target;!ye.value&&0===ye.selectionStart&&0===ye.selectionEnd&&(ye.setSelectionRange(1,1),ye.setSelectionRange(0,0))};const G=this._elementRef.nativeElement,ne=G.nodeName.toLowerCase();this._inputValueAccessor=v||G,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&M.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===ne,this._isTextarea="textarea"===ne,this._isInFormField=!!L,this._isNativeSelect&&(this.controlType=G.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){GQ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(Ca),l.Y36(rm,10),l.Y36(s1,8),l.Y36(Ng,8),l.Y36(M7),l.Y36($Q,10),l.Y36(rQ),l.Y36(l.R0b),l.Y36(Zz,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&l.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(l.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),l.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),l.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:Wz,useExisting:n}]),l.qOj,l.TTD]})}return n})(),Xz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[Ga,OI,OI,oQ,Ga]})}return n})();function ZQ(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," E-mail sz\xfcks\xe9ges "),l.qZA())}function KQ(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Jelsz\xf3 sz\xfcks\xe9ges "),l.qZA())}let YQ=(()=>{class n{constructor(t,i,r,s){this.authService=t,this.toast=i,this.router=r,this.fb=s,this.loginForm=this.fb.group({email:["",[$a.required,$a.email]],password:["",$a.required]})}ngOnInit(){}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}submit(){const{email:t,password:i}=this.loginForm.value;!this.loginForm.valid||!t||!i||this.authService.login(t,i).pipe(this.toast.observe({success:"Sikeres bejelentkez\xe9s",loading:"Bejelentkez\xe9s...",error:"Hiba a bejelentkez\xe9sn\xe9l!"})).subscribe(()=>{this.router.navigate(["/user"])})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(cy),l.Y36(Na),l.Y36(pc),l.Y36(a1))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:21,vars:3,consts:[[1,"form-container","mat-elevation-z5"],[3,"formGroup","ngSubmit"],["matInput","","formControlName","email"],[4,"ngIf"],["matInput","","formControlName","password","type","password"],[1,"center","margin-top"],["mat-raised-button","","color","primary","type","submit"],["routerLink","/user/sign-up",1,"sign-up-link"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0)(1,"h1"),l._uU(2,"Bejelentkez\xe9s"),l.qZA(),l.TgZ(3,"form",1),l.NdJ("ngSubmit",function(){return r.submit()}),l.TgZ(4,"mat-form-field")(5,"mat-label"),l._uU(6,"E-mail c\xedm"),l.qZA(),l._UZ(7,"input",2),l.YNc(8,ZQ,2,0,"mat-error",3),l.qZA(),l.TgZ(9,"mat-form-field")(10,"mat-label"),l._uU(11,"Jelsz\xf3"),l.qZA(),l._UZ(12,"input",4),l.YNc(13,KQ,2,0,"mat-error",3),l.qZA(),l.TgZ(14,"div",5)(15,"button",6),l._uU(16," Bejelentkez\xe9s "),l.qZA()(),l.TgZ(17,"span",5),l._uU(18,"\xdaj az oldalunkon? "),l.TgZ(19,"a",7),l._uU(20,"Regisztr\xe1ljon!"),l.qZA()()()()),2&i&&(l.xp6(3),l.Q6J("formGroup",r.loginForm),l.xp6(5),l.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),l.xp6(5),l.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.email))},dependencies:[er,Og,II,yI,iy,Z0,dI,Ng,Y0,O1,M1,tw,Bz],styles:[".form-container[_ngcontent-%COMP%]{display:block;max-width:600px;margin:auto;background:#eceff1;padding:48px;border-radius:16px}.form-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;background:#eceff1}.mdc-text-field--filled[_ngcontent-%COMP%]:not(.mdc-text-field--disabled){background-color:#eceff1}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.text-center[_ngcontent-%COMP%]{text-align:center}"]})}return n})();function QQ(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Adja meg a vezet\xe9knev\xe9t! "),l.qZA())}function XQ(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Adja meg a keresztnev\xe9t! "),l.qZA())}function JQ(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Adja meg az E-mail c\xedm\xe9t! "),l.qZA())}function eX(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," K\xe9rem, val\xf3di E-mail c\xedmet haszn\xe1ljon! "),l.qZA())}function tX(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Adja meg a telefonsz\xe1m\xe1t! "),l.qZA())}function nX(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Adja meg a Sz\xe1ll\xedt\xe1si c\xedm\xe9t! "),l.qZA())}function iX(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Adjon meg egy jelsz\xf3t! "),l.qZA())}function rX(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Adja meg m\xe9gegyszer! "),l.qZA())}function oX(n,e){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," A jelsz\xf3nak egyeznie kell! "),l.qZA())}let aX=(()=>{class n{constructor(t,i,r,s,u){this.authService=t,this.fb=i,this.router=r,this.toast=s,this.usersService=u,this.signUpForm=this.fb.group({firstName:["",$a.required],lastName:["",$a.required],email:["",[$a.required,$a.email]],phone:["",$a.required],address:["",$a.required],password:["",$a.required],confirmPassword:["",$a.required]},{validators:n=>{const e=n.get("password")?.value,t=n.get("confirmPassword")?.value;return e&&t&&e!==t?{passwordsDontMatch:!0}:null}})}ngOnInit(){}get email(){return this.signUpForm.get("email")}get password(){return this.signUpForm.get("password")}get confirmPassword(){return this.signUpForm.get("confirmPassword")}get name(){return this.signUpForm.get("name")}submit(){const{lastName:t,firstName:i,address:r,phone:s,email:u,password:m}=this.signUpForm.value;!this.signUpForm.valid||!i||!i||!m||!u||this.authService.signUp(u,m).pipe((0,Go.w)(({user:{uid:v}})=>this.usersService.addUser({uid:v,email:u,lastName:t,firstName:i,address:r,phone:s,displayName:t})),this.toast.observe({success:"Sikeres regisztr\xe1ci\xf3!",loading:"Bejelentkez\xe9s",error:({message:v})=>`${v}`})).subscribe(()=>{this.router.navigate(["/user"])})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(cy),l.Y36(a1),l.Y36(pc),l.Y36(Na),l.Y36(xI))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-sign-up"]],decls:40,vars:10,consts:[[1,"form-container","mat-elevation-z5"],[3,"formGroup","ngSubmit"],["matInput","","formControlName","firstName"],[4,"ngIf"],["matInput","","formControlName","lastName"],["matInput","","formControlName","email","formControlName","email"],["type","number","matInput","","formControlName","phone"],["matInput","","formControlName","address"],["matInput","","type","password","placeholder","Jelsz\xf3","formControlName","password"],["matInput","","type","password","placeholder","Jelsz\xf3 \xfajra","formControlName","confirmPassword"],[1,"center","margin-top"],["type","submit","mat-raised-button","","color","primary"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0)(1,"h1"),l._uU(2,"\xdaj fi\xf3k l\xe9trehoz\xe1sa!"),l.qZA(),l.TgZ(3,"form",1),l.NdJ("ngSubmit",function(){return r.submit()}),l.TgZ(4,"mat-form-field")(5,"mat-label"),l._uU(6,"Vezet\xe9kn\xe9v"),l.qZA(),l._UZ(7,"input",2),l.YNc(8,QQ,2,0,"mat-error",3),l.qZA(),l.TgZ(9,"mat-form-field")(10,"mat-label"),l._uU(11,"Keresztn\xe9v"),l.qZA(),l._UZ(12,"input",4),l.YNc(13,XQ,2,0,"mat-error",3),l.qZA(),l.TgZ(14,"mat-form-field")(15,"mat-label"),l._uU(16,"E-mail c\xedm"),l.qZA(),l._UZ(17,"input",5),l.YNc(18,JQ,2,0,"mat-error",3),l.YNc(19,eX,2,0,"mat-error",3),l.qZA(),l.TgZ(20,"mat-form-field")(21,"mat-label"),l._uU(22,"Telefonsz\xe1m"),l.qZA(),l._UZ(23,"input",6),l.YNc(24,tX,2,0,"mat-error",3),l.qZA(),l.TgZ(25,"mat-form-field")(26,"mat-label"),l._uU(27,"Sz\xe1ll\xedt\xe1si c\xedm"),l.qZA(),l._UZ(28,"input",7),l.YNc(29,nX,2,0,"mat-error",3),l.qZA(),l.TgZ(30,"mat-form-field"),l._UZ(31,"input",8),l.YNc(32,iX,2,0,"mat-error",3),l.qZA(),l.TgZ(33,"mat-form-field"),l._UZ(34,"input",9),l.YNc(35,rX,2,0,"mat-error",3),l.qZA(),l.YNc(36,oX,2,0,"mat-error",3),l.TgZ(37,"div",10)(38,"button",11),l._uU(39,"Regisztr\xe1ci\xf3!"),l.qZA()()()()),2&i&&(l.xp6(3),l.Q6J("formGroup",r.signUpForm),l.xp6(5),l.Q6J("ngIf",null==r.name||null==r.name.errors?null:r.name.errors.required),l.xp6(5),l.Q6J("ngIf",null==r.name||null==r.name.errors?null:r.name.errors.required),l.xp6(5),l.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),l.xp6(1),l.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.email),l.xp6(5),l.Q6J("ngIf",null==r.name||null==r.name.errors?null:r.name.errors.required),l.xp6(5),l.Q6J("ngIf",null==r.name||null==r.name.errors?null:r.name.errors.required),l.xp6(3),l.Q6J("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required),l.xp6(3),l.Q6J("ngIf",null==r.confirmPassword||null==r.confirmPassword.errors?null:r.confirmPassword.errors.required),l.xp6(1),l.Q6J("ngIf",null==r.signUpForm.errors?null:r.signUpForm.errors.passwordsDontMatch))},dependencies:[er,II,yI,iy,bI,Z0,dI,Ng,Y0,O1,M1,tw,Bz],styles:[".form-container[_ngcontent-%COMP%]{display:block;max-width:600px;margin:auto;background:#eceff1;padding:48px;border-radius:16px}.form-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;background:#eceff1}.mdc-text-field--filled[_ngcontent-%COMP%]:not(.mdc-text-field--disabled){background-color:#eceff1}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.text-center[_ngcontent-%COMP%]{text-align:center}"]})}return n})(),cX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-landing"]],decls:2,vars:0,template:function(i,r){1&i&&(l.TgZ(0,"p"),l._uU(1,"landing works!"),l.qZA())}})}return n})();function lX(n,e){if(1&n&&(l.TgZ(0,"div",14)(1,"div",15),l._UZ(2,"img",16),l.qZA(),l.TgZ(3,"div",17),l._uU(4),l.qZA(),l.TgZ(5,"div",18),l._uU(6),l.qZA(),l.TgZ(7,"div",19),l._uU(8),l.qZA()()),2&n){const t=e.$implicit;l.xp6(2),l.Q6J("src",t.product.imagePath,l.LSH),l.xp6(2),l.Oqu(t.product.description),l.xp6(2),l.hij("",t.quantity," db"),l.xp6(2),l.hij("",t.product.price," Ft/db")}}function uX(n,e){if(1&n&&(l.TgZ(0,"div",6),l.YNc(1,lX,9,4,"div",7),l.TgZ(2,"div",8)(3,"p",9),l._uU(4),l.qZA(),l.TgZ(5,"p",10),l._uU(6),l.qZA(),l.TgZ(7,"p",11),l._uU(8),l.qZA(),l.TgZ(9,"p",12),l._uU(10),l.ALo(11,"date"),l.qZA(),l.TgZ(12,"p",13),l._uU(13),l.qZA()()()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("ngForOf",t.items),l.xp6(3),l.hij("Aj\xe1nd\xe9kcsomagol\xe1s: ",t.gift?"Igen, +1590 Ft":"Nem",""),l.xp6(2),l.hij("K\xfcldem\xe9ny biztos\xedt\xe1sa: ",t.insurance?"Igen, +500 Ft":"Nem",""),l.xp6(2),l.hij("Sz\xe1ll\xedt\xe1s d\xedja: ",t.shippingPrice," Ft"),l.xp6(2),l.hij("Rendel\xe9s d\xe1tuma: ",l.xi3(11,6,t.orderDate.toDate(),"yyyy-MM-dd"),""),l.xp6(3),l.hij("\xd6sszesen: ",t.price," Ft")}}function dX(n,e){if(1&n&&(l.TgZ(0,"div",4),l.YNc(1,uX,14,9,"div",5),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngForOf",t.userOrders)}}function hX(n,e){if(1&n&&(l.TgZ(0,"div",1)(1,"div",2),l._uU(2,"Kor\xe1bbi rendel\xe9sek"),l.qZA(),l.YNc(3,dX,2,1,"div",3),l.ALo(4,"async"),l.qZA()),2&n){const t=l.oxw();l.xp6(3),l.Q6J("ngIf",l.lcZ(4,1,t.user$))}}let fX=(()=>{class n{constructor(t,i,r){this.authService=t,this.usersService=i,this.services=r,this.user$=this.authService.currentUser$,this.items=[],this.users=[],this.userOrders=[]}ngOnInit(){this.services.refreshData(()=>this.services.getOrders(),this.items),this.services.refreshData(()=>this.services.getUsers(),this.users),this.getUser()}getUser(){this.usersService.currentUserProfile$.subscribe(t=>{t&&t.email&&(this.userEmail=t.email,this.userOrders=this.findUserOrders(t.email))})}findUserOrders(t){return this.items.filter(i=>i.email===t)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(cy),l.Y36(xI),l.Y36(Rg))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-home"]],decls:3,vars:3,consts:[["class","orders-container",4,"ngIf"],[1,"orders-container"],[1,"orders-head"],["class","order-table",4,"ngIf"],[1,"order-table"],["class","order-row",4,"ngFor","ngForOf"],[1,"order-row"],["class","item-container",4,"ngFor","ngForOf"],[1,"order-data"],[1,"gift"],[1,"insurance"],[1,"shipping-price"],[1,"order-date"],[1,"total-price"],[1,"item-container"],[1,"product-image"],[3,"src"],[1,"description"],[1,"quantity"],[1,"product-price"]],template:function(i,r){1&i&&(l._UZ(0,"app-user"),l.YNc(1,hX,5,3,"div",0),l.ALo(2,"async")),2&i&&(l.xp6(1),l.Q6J("ngIf",l.lcZ(2,1,r.user$)))},dependencies:[ai,er,Lz,Ur,Ia],styles:[".order-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-weight:100}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]{background-color:#fff;margin:20px 0 50px;box-shadow:0 6px 20px #00000030;border-radius:1rem;overflow:hidden;border:transparent}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .order-data[_ngcontent-%COMP%]{padding:10px 10px 40px}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .order-data[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]{width:300px;padding-top:10px;text-align:center;border-top:1px solid #edf1f7;float:right;font-size:16px}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #edf1f7}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1;text-align:center}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:120px;float:left}"]})}return n})();const UF=(0,gn.U)(n=>!!n);let pX=(()=>{class n{constructor(t,i){this.router=t,this.auth=i,this.canActivate=(r,s)=>{const u=r.data.authGuardPipe||(()=>UF);return Qs(this.auth).pipe(Kc(1),u(r,s),(0,gn.U)(m=>"boolean"==typeof m?m:Array.isArray(m)?this.router.createUrlTree(m):this.router.parseUrl(m)))}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(pc),l.LFG(mp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const R1=n=>({canActivate:[pX],data:{authGuardPipe:n}});var vX=Q(7582);const yX=l.GuJ,wX=Symbol("__destroy"),Jz=Symbol("__decoratorApplied");function eH(n){return"string"==typeof n?Symbol(`__destroy__${n}`):wX}function tH(n,e){n[e]||(n[e]=new jn.x)}function nH(n,e){n[e]&&(n[e].next(),n[e].complete(),n[e]=null)}function iH(n){n instanceof $u.w0&&n.unsubscribe()}function rH(n,e){return function(){if(n&&n.call(this),nH(this,eH()),e.arrayName&&function CX(n){Array.isArray(n)&&n.forEach(iH)}(this[e.arrayName]),e.checkProperties)for(const t in this)e.blackList?.includes(t)||iH(this[t])}}Symbol("CheckerHasBeenSet");function OX(n,e){return t=>{const i=eH(e);"string"==typeof e?function MX(n,e,t){const i=n[e];tH(n,t),n[e]=function(){i.apply(this,arguments),nH(this,t),n[e]=i}}(n,e,i):tH(n,i);const r=n[i];return t.pipe(Ud(r))}}let PX=(()=>{class n{constructor(t){this.storage=t}uploadImage(t,i){const r=Bq(this.storage,i);return(0,Sr.D)(jq(r,t)).pipe((0,Go.w)(u=>Uq(u.ref)))}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(DM))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kX(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",1)(1,"h1"),l._uU(2,"Profil"),l.qZA(),l.TgZ(3,"div",2),l._UZ(4,"img",3),l.TgZ(5,"button",4),l.NdJ("click",function(){l.CHM(t);const r=l.MAs(9);return l.KtG(r.click())}),l.TgZ(6,"mat-icon"),l._uU(7,"edit"),l.qZA()()(),l.TgZ(8,"input",5,6),l.NdJ("change",function(r){const u=l.CHM(t).ngIf,m=l.oxw();return l.KtG(m.uploadImage(r,u))}),l.qZA(),l.TgZ(10,"form",7),l.NdJ("ngSubmit",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.saveProfile())}),l.TgZ(11,"div",8)(12,"mat-form-field")(13,"mat-label"),l._uU(14,"Vezet\xe9kn\xe9v"),l.qZA(),l._UZ(15,"input",9),l.qZA(),l.TgZ(16,"mat-form-field")(17,"mat-label"),l._uU(18,"Keresztn\xe9v"),l.qZA(),l._UZ(19,"input",10),l.qZA()(),l.TgZ(20,"div",8)(21,"mat-form-field")(22,"mat-label"),l._uU(23,"Profiln\xe9v"),l.qZA(),l._UZ(24,"input",11),l.qZA(),l.TgZ(25,"mat-form-field")(26,"mat-label"),l._uU(27,"Telefonsz\xe1m"),l.qZA(),l._UZ(28,"input",12),l.qZA()(),l.TgZ(29,"mat-form-field")(30,"mat-label"),l._uU(31,"Sz\xe1ll\xedt\xe1si c\xedm"),l.qZA(),l._UZ(32,"input",13),l.qZA(),l.TgZ(33,"button",14),l._uU(34," Ment\xe9s "),l.qZA()()()}if(2&n){const t=e.ngIf,i=l.oxw();let r;l.xp6(4),l.Q6J("src",null!==(r=t.photoURL)&&void 0!==r?r:"assets/image-placeholder.png",l.LSH),l.xp6(6),l.Q6J("formGroup",i.profileForm)}}let BF=class f2{constructor(e,t,i,r,s){this.authService=e,this.imageUploadService=t,this.toast=i,this.usersService=r,this.fb=s,this.user$=this.usersService.currentUserProfile$,this.profileForm=this.fb.group({uid:[""],displayName:[""],firstName:[""],lastName:[""],phone:[""],address:[""]})}ngOnInit(){this.usersService.currentUserProfile$.pipe(OX(this),(0,Qi.b)(console.log)).subscribe(e=>{this.profileForm.patchValue({...e})})}uploadImage(e,t){this.imageUploadService.uploadImage(e.target.files[0],`images/profile/${t.uid}`).pipe(this.toast.observe({loading:"A k\xe9p t\xf6lt\u0151dik...",success:"A k\xe9p sikeresen felt\xf6ltve!",error:"Hiba a k\xe9p felt\xf6lt\xe9se k\xf6zben"}),(0,Go.w)(i=>this.usersService.updateUser({uid:t.uid,photoURL:i}))).subscribe()}saveProfile(){const{uid:e,...t}=this.profileForm.value;e&&this.usersService.updateUser({uid:e,...t}).pipe(this.toast.observe({loading:"Profil ment\xe9se...",success:"Sikeres ment\xe9s!",error:"Hiba t\xf6rt\xe9nt a profil ment\xe9se sor\xe1n!"})).subscribe()}static#e=this.\u0275fac=function(t){return new(t||f2)(l.Y36(cy),l.Y36(PX),l.Y36(Na),l.Y36(xI),l.Y36(a1))};static#t=this.\u0275cmp=l.Xpm({type:f2,selectors:[["app-profile"]],decls:2,vars:3,consts:[["class","form-container mat-elevation-z5 text-center",4,"ngIf"],[1,"form-container","mat-elevation-z5","text-center"],[1,"profile-image"],["width","120","height","120",3,"src"],["mat-mini-fab","",3,"click"],["type","file","hidden","",3,"change"],["inputField",""],[1,"margin-top",3,"formGroup","ngSubmit"],[1,"row"],["type","text","matInput","","formControlName","firstName"],["type","text","matInput","","formControlName","lastName"],["type","text","matInput","","formControlName","displayName"],["type","number","matInput","","formControlName","phone"],["type","text","matInput","","formControlName","address"],["type","submit","mat-raised-button","","color","primary",1,"save-button","margin-top"]],template:function(t,i){1&t&&(l.YNc(0,kX,35,2,"div",0),l.ALo(1,"async")),2&t&&l.Q6J("ngIf",l.lcZ(1,1,i.user$))},dependencies:[er,II,rK,AF,yI,iy,bI,Z0,dI,Ng,Y0,O1,M1,tw,Ur],styles:[".profile-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{border-radius:100%;object-fit:cover;object-position:center;box-shadow:0 .25rem .5rem #000}.profile-image[_ngcontent-%COMP%]{position:relative}.profile-image[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:35%}.form-container[_ngcontent-%COMP%]{max-width:600px;margin-top:25px}.row[_ngcontent-%COMP%]{display:flex;gap:16px}.save-button[_ngcontent-%COMP%]{background-color:#17455c}.test[_ngcontent-%COMP%]{background:yellow}"]})};BF=(0,vX.gn)([function TX(n={}){return e=>{!function bX(n){return!!n[yX]}(e)?function xX(n,e){n.prototype.ngOnDestroy=rH(n.prototype.ngOnDestroy,e)}(e,n):function IX(n,e){const t=n.\u0275pipe;t.onDestroy=rH(t.onDestroy,e)}(e,n),function EX(n){n.prototype[Jz]=!0}(e)}}()],BF);const NX=function(){return["/products"]};function FX(n,e){1&n&&(l.TgZ(0,"div",2),l._UZ(1,"img",3),l.TgZ(2,"div",4),l._uU(3,"A kosara \xfcres!"),l.TgZ(4,"p",5),l._uU(5,"Vissza a term\xe9kekhez!"),l.qZA()()()),2&n&&(l.xp6(4),l.Q6J("routerLink",l.DdM(1,NX)))}function LX(n,e){1&n&&(l.TgZ(0,"mat-form-field")(1,"mat-label"),l._uU(2,"Vezet\xe9kn\xe9v"),l.qZA(),l._UZ(3,"input",16),l.qZA())}function UX(n,e){1&n&&(l.TgZ(0,"mat-form-field")(1,"mat-label"),l._uU(2,"Keresztn\xe9v"),l.qZA(),l._UZ(3,"input",17),l.qZA())}function VX(n,e){1&n&&(l.TgZ(0,"mat-form-field")(1,"mat-label"),l._uU(2,"E-mail c\xedm"),l.qZA(),l._UZ(3,"input",18),l.qZA())}function BX(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",6)(1,"div",7)(2,"form",8,9),l.NdJ("ngSubmit",function(){l.CHM(t);const r=l.MAs(3),s=l.oxw();return l.KtG(s.rendelesFormSubmit(r.value))}),l.YNc(4,LX,4,0,"mat-form-field",10),l.ALo(5,"async"),l.YNc(6,UX,4,0,"mat-form-field",10),l.ALo(7,"async"),l.YNc(8,VX,4,0,"mat-form-field",10),l.ALo(9,"async"),l.TgZ(10,"mat-form-field")(11,"mat-label"),l._uU(12,"Telefonsz\xe1m"),l.qZA(),l._UZ(13,"input",11),l.qZA(),l.TgZ(14,"mat-form-field")(15,"mat-label"),l._uU(16,"Szall\xedt\xe1si c\xedm"),l.qZA(),l._UZ(17,"input",12),l.qZA(),l.TgZ(18,"div",13)(19,"button",14),l._uU(20,"Rendel\xe9s meger\u0151s\xedt\xe9se"),l.qZA(),l.TgZ(21,"p",15),l._uU(22),l.qZA()()()()()}if(2&n){const t=l.oxw();l.xp6(2),l.Q6J("formGroup",t.shippingForm),l.xp6(2),l.Q6J("ngIf",!l.lcZ(5,5,t.user$)),l.xp6(2),l.Q6J("ngIf",!l.lcZ(7,7,t.user$)),l.xp6(2),l.Q6J("ngIf",!l.lcZ(9,9,t.user$)),l.xp6(14),l.hij("v\xe9g\xf6sszeg: ",t.price," Ft")}}let jX=(()=>{class n{constructor(t,i,r,s,u,m,v,C,M){this.fb=t,this.services=i,this.authService=r,this.shoppingService=s,this.usersService=u,this.toast=m,this.router=v,this.firestore=C,this.formbuilder=M,this.shippingForm=this.fb.group({firstName:["",$a.required],lastName:["",$a.required],email:["",[$a.required,$a.email]],phone:["",$a.required],address:["",$a.required]}),this.user$=this.usersService.currentUserProfile$,this.price=this.shoppingService.calculateTotalPayment(),this.items=this.services.getCartItems(),this.gift=this.shoppingService.giftIsChecked,this.insurance=this.shoppingService.insuranceIsChecked,this.shippingPrice=this.shoppingService.shippingPrice,this.orderDate=new Date}ngOnInit(){this.user$.subscribe(t=>{t&&this.shippingForm.patchValue({firstName:t.firstName,lastName:t.lastName,email:t.email,phone:t.phone,address:t.address})})}rendelesFormSubmit(t){var i=this;return(0,dt.Z)(function*(){const{firstName:r,lastName:s,email:u,phone:m,address:v}=i.shippingForm.value;if(i.shippingForm.valid&&r&&s&&u&&m&&v)try{const C=yield i.user$.pipe(Kc(1)).toPromise();let M;M=bM(i.firestore,C?"*orders":"*guest"),t.items=i.items,t.gift=i.gift,t.insurance=i.insurance,t.shippingPrice=i.shippingPrice,t.price=i.price,t.orderDate=i.orderDate,yield eG(M,t),console.log("Rendel\xe9s elk\xfcldve a Firestore-ba"),i.router.navigate(["/dashboard"]),i.shippingForm.reset(),i.services.exit()}catch(C){console.error("Hiba t\xf6rt\xe9nt a rendel\xe9s elk\xfcld\xe9se sor\xe1n: ",C)}})()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(a1),l.Y36(Rg),l.Y36(cy),l.Y36(QB),l.Y36(xI),l.Y36(Na),l.Y36(pc),l.Y36(Qv),l.Y36(e3))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-shipping"]],decls:2,vars:2,consts:[["class","empty-cart",4,"ngIf"],["class","shopping-cart-component",4,"ngIf"],[1,"empty-cart"],["src","./assets/images/empty-cart.jpg",1,"empty-cart-img"],[1,"empty-cart-desc"],[1,"empty-cart-button",3,"routerLink"],[1,"shopping-cart-component"],[1,"shipping-container"],[3,"formGroup","ngSubmit"],["rendelesForm","ngForm"],[4,"ngIf"],["type","number","matInput","","formControlName","phone"],["type","text","matInput","","formControlName","address"],[1,"button-container"],["type","submit","mat-raised-button","button-submit","color","primary"],[1,"price"],["type","text","matInput","","formControlName","firstName"],["type","text","matInput","","formControlName","lastName"],["type","email","matInput","","formControlName","email"]],template:function(i,r){1&i&&(l.YNc(0,FX,6,2,"div",0),l.YNc(1,BX,23,11,"div",1)),2&i&&(l.Q6J("ngIf",0===r.services.getCartItems().length),l.xp6(1),l.Q6J("ngIf",r.services.getCartItems().length>0))},dependencies:[er,Og,II,yI,iy,bI,Z0,dI,Ng,Y0,O1,M1,tw,Ur],styles:[".shipping-container[_ngcontent-%COMP%]{display:block;max-width:600px;margin:auto;background:#eceff1;padding:48px;border-radius:16px}.shipping-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;background:#eceff1}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.text-center[_ngcontent-%COMP%]{text-align:center}.button-container[_ngcontent-%COMP%]{margin-top:25px}.button-container[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{float:right;font-size:18px;font-weight:100}",'@charset "UTF-8";.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:auto;position:relative;-webkit-user-select:none;user-select:none}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{color:#f0f8ff;font-size:15px;margin-bottom:5px;display:flex;flex:1}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{color:#f0f8ff;font-size:18px;flex:0 0 100px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{color:#f0f8ff;border-radius:10px;background-color:#092c3d;flex:1;display:flex;align-items:center;margin:10px 10px 5px;border-bottom:1px solid #ccc;position:relative;gap:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:120px;height:auto;border-radius:5px;margin-right:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{font-size:15px;margin-right:30px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{font-size:18px;overflow:hidden;margin-left:50px;flex:0 0 70px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:15px;display:flex;align-items:center;margin-left:auto;color:#f0f8ff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:30px;height:30px;font-size:30px;display:flex;justify-content:center;align-items:center;font-size:20px;margin:0 5px;border-radius:50%;padding:10px;border:1px solid #a5beda;cursor:pointer;color:#f0f8ff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{cursor:pointer;font-size:15px;margin-right:15px;margin-left:40px;color:#f0f8ff}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;margin:0;gap:0px;width:auto}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:0;margin-left:-5px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{margin-left:-25px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{margin-left:0}}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{gap:2px;margin:0}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{margin-right:5px;font-size:10px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{padding-left:5px}}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:25px;height:25px;font-size:18px;padding:0;margin:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{margin-left:4px;font-size:11.5px;flex:0 0 40px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;font-size:12px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{margin-right:0;width:70px}}@media screen and (max-width: 700px) and (max-width: 300px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{display:none}}.empty-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.empty-cart-img[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-22%);width:100%;max-width:600px;display:flex;overflow:hidden}.empty-cart-desc[_ngcontent-%COMP%]{text-align:center;position:absolute;width:300px;top:55%;left:50%;transform:translate(-50%,-10%);font-size:26px;font-weight:300;border-top:1px solid #ccc;padding-top:15px;transition:all .4s ease-in-out}.empty-cart-button[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer;transition:all .3s ease-in-out;font-weight:100}.empty-cart-button[_ngcontent-%COMP%]:after{background:none repeat scroll 0 0 transparent;bottom:0;content:"";display:block;height:1px;left:50%;position:absolute;background:#191818;transition:width .3s ease 0s,left .3s ease 0s;width:0}.empty-cart-button[_ngcontent-%COMP%]:hover:after{width:100%;left:0}@media screen and (max-width: 500px){.empty-cart-desc[_ngcontent-%COMP%]{top:41%;left:50%}.empty-cart-button[_ngcontent-%COMP%]{top:48%;left:50%;font-size:22px}}.bonus[_ngcontent-%COMP%]   .bonus-desc[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;font-size:13px;margin-top:15px;width:600px}.insurance[_ngcontent-%COMP%], .gift[_ngcontent-%COMP%], .bonus[_ngcontent-%COMP%], .shipping[_ngcontent-%COMP%]{font-size:15px;border-top:1px solid #ccc;margin-top:20px;padding-top:10px}.checkout-container-desc[_ngcontent-%COMP%]{font-size:13px;margin-top:15px;opacity:.5;width:600px}.shipping[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1}h3[_ngcontent-%COMP%]{float:right;opacity:.5;font-weight:800}h3.active[_ngcontent-%COMP%]{opacity:1}.disabled-button[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.checkout-container[_ngcontent-%COMP%]{background-color:#f4f7fa;padding:10px;height:100px;display:grid;position:relative;max-width:1000px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]{padding-top:20px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1;font-size:18px;font-weight:200}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:800;float:right;top:0;margin-left:40px}@media screen and (max-width: 750px){.checkout-container[_ngcontent-%COMP%]{padding:2px;display:block}.checkout-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:100%}.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:14px;margin-top:20px;padding-top:10px}}@media screen and (max-width: 750px) and (max-width: 340px){.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width: 750px){.checkout-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:-4px}.checkout-container[_ngcontent-%COMP%]   .btn-hover[_ngcontent-%COMP%]{float:right}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:100%;font-size:16px}}.btn-hover[_ngcontent-%COMP%]{width:200px;font-size:16px;font-weight:400;color:#f0f8ff;cursor:pointer;margin-left:auto;height:55px;text-align:center;border:none;background-size:300% 100%;border-radius:5px;transition:all .4s ease-in-out}[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;background-position:100% 0;transition:all .4s ease-in-out}.btn-hover[_ngcontent-%COMP%]:hover{background-position:100% 0;transition:all .4s ease-in-out}.btn-hover[_ngcontent-%COMP%]:focus{outline:none}.btn-hover.color-8[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#455669,#485563,#203542,#092c3d);box-shadow:0 4px 15px #2d3641bf}']})}return n})();Q(4467);var Al=Q(6304),cH=(Q(8661),Q(3106));const lH="@firebase/database";let jF="";function dH(n){jF=n}class $X{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,ie.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,ie.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class GX{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,ie.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const hH=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new $X(e)}}catch{}return new GX},hy=hH("localStorage"),zF=hH("sessionStorage"),nw=new Mu.Yd("@firebase/database"),fH=function(){let n=1;return function(){return n++}}(),pH=function(n){const e=(0,ie.dS)(n),t=new ie.gQ;t.update(e);const i=t.digest();return ie.US.encodeByteArray(i)},RI=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=RI.apply(null,i):e+="object"==typeof i?(0,ie.Wl)(i):i,e+=" "}return e};let fy=null,mH=!0;const gH=function(n,e){(0,ie.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(nw.logLevel=Mu.in.VERBOSE,fy=nw.log.bind(nw),e&&zF.set("logging_enabled",!0)):"function"==typeof n?fy=n:(fy=null,zF.remove("logging_enabled"))},qa=function(...n){if(!0===mH&&(mH=!1,null===fy&&!0===zF.get("logging_enabled")&&gH(!0)),fy){const e=RI.apply(null,n);fy(e)}},PI=function(n){return function(...e){qa(n,...e)}},HF=function(...n){const e="FIREBASE INTERNAL ERROR: "+RI(...n);nw.error(e)},Bf=function(...n){const e=`FIREBASE FATAL ERROR: ${RI(...n)}`;throw nw.error(e),new Error(e)},Qc=function(...n){const e="FIREBASE WARNING: "+RI(...n);nw.warn(e)},P1=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},jg="[MIN_NAME]",sm="[MAX_NAME]",py=function(n,e){if(n===e)return 0;if(n===jg||e===sm)return-1;if(e===jg||n===sm)return 1;{const t=yH(n),i=yH(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},ZX=function(n,e){return n===e?0:n<e?-1:1},kI=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,ie.Wl)(e))},$F=function(n){if("object"!=typeof n||null===n)return(0,ie.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,ie.Wl)(e[i]),t+=":",t+=$F(n[e[i]]);return t+="}",t},_H=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Wa(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const vH=function(n){(0,ie.hu)(!P1(n),"Invalid JSON number");const i=1023;let r,s,u,m,v;0===n?(s=0,u=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(m=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=m+i,u=Math.round(n*Math.pow(2,52-m)-Math.pow(2,52))):(s=0,u=Math.round(n/Math.pow(2,-1074))));const C=[];for(v=52;v;v-=1)C.push(u%2?1:0),u=Math.floor(u/2);for(v=11;v;v-=1)C.push(s%2?1:0),s=Math.floor(s/2);C.push(r?1:0),C.reverse();const M=C.join("");let L="";for(v=0;v<64;v+=8){let G=parseInt(M.substr(v,8),2).toString(16);1===G.length&&(G="0"+G),L+=G}return L.toLowerCase()},XX=new RegExp("^-?(0*)\\d{1,10}$"),yH=function(n){if(XX.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},iw=function(n){try{n()}catch(e){setTimeout(()=>{throw Qc("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},NI=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class nJ{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Qc(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class iJ{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(qa("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Qc(e)}}let FI=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const xH=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,DH="websocket",SH="long_polling";class qF{constructor(e,t,i,r,s=!1,u="",m=!1,v=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=u,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=v,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=hy.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&hy.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function AH(n,e,t){let i;if((0,ie.hu)("string"==typeof e,"typeof type must == string"),(0,ie.hu)("object"==typeof t,"typeof params must == object"),e===DH)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==SH)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function rJ(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Wa(t,(s,u)=>{r.push(s+"="+u)}),i+r.join("&")}class oJ{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,ie.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,ie.p$)(this.counters_)}}const WF={},ZF={};function KF(n){const e=n.toString();return WF[e]||(WF[e]=new oJ),WF[e]}class aJ{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&iw(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class zg{constructor(e,t,i,r,s,u,m){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=u,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=PI(e),this.stats_=KF(t),this.urlFn=v=>(this.appCheckToken&&(v.ac=this.appCheckToken),AH(t,SH,v))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new aJ(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,ie.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new YF((...s)=>{const[u,m,v,C,M]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=m,this.password=v;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[u,m]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(u,m)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&xH.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){zg.forceAllow_=!0}static forceDisallow(){zg.forceDisallow_=!0}static isAvailable(){return!((0,ie.Yr)()||!zg.forceAllow_&&(zg.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,ie.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,ie.h$)(t),r=_H(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,ie.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,ie.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class YF{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ie.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=fH(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=YF.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(m){qa("frame writing exception"),m.stack&&qa(m.stack),qa(m)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||qa("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const u=this.pendingSegs.shift();i=i+"&seg"+r+"="+u.seg+"&ts"+r+"="+u.ts+"&d"+r+"="+u.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,ie.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{qa("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let N1=null;typeof MozWebSocket<"u"?N1=MozWebSocket:typeof WebSocket<"u"&&(N1=WebSocket);let rw=(()=>{class n{constructor(t,i,r,s,u,m,v){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=PI(this.connId),this.stats_=KF(i),this.connURL=n.connectionURL_(i,m,v,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,u){const m={v:"5"};return!(0,ie.Yr)()&&typeof location<"u"&&location.hostname&&xH.test(location.hostname)&&(m.r="f"),i&&(m.s=i),r&&(m.ls=r),s&&(m.ac=s),u&&(m.p=u),AH(t,DH,m)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,hy.set("previous_websocket_failure",!0);try{let r;if((0,ie.Yr)()){r={headers:{"User-Agent":`Firebase/5/${jF}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,m=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;m&&(r.proxy={origin:m})}this.mySock=new N1(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==N1&&!n.forceDisallow_}static previouslyFailed(){return hy.isInMemoryStorage||!0===hy.get("previous_websocket_failure")}markConnectionHealthy(){hy.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,ie.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,ie.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,ie.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=_H(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),FH=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[zg,rw]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=rw&&rw.isAvailable();let r=i&&!rw.previouslyFailed();if(t.webSocketOnly&&(i||Qc("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[rw];else{const s=this.transports_=[];for(const u of n.ALL_TRANSPORTS)u&&u.isAvailable()&&s.push(u);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class HH{constructor(e,t,i,r,s,u,m,v,C,M){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=u,this.onReady_=m,this.onDisconnect_=v,this.onKill_=C,this.lastSessionId=M,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=PI("c:"+this.id+":"),this.transportManager_=new FH(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=NI(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=kI("t",e),i=kI("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=kI("t",e),i=kI("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=kI("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?HF("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):HF("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Qc("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),NI(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):NI(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(hy.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class $H{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class GH{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,ie.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,ie.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class F1 extends GH{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ie.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new F1}getInitialEvent(e){return(0,ie.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ar{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ar(){return new Ar("")}function Ti(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Hg(n){return n.pieces_.length-n.pieceNum_}function oo(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ar(n.pieces_,e)}function XF(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function LI(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function ZH(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ar(e,0)}function qo(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Ar)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Ar(t,0)}function Di(n){return n.pieceNum_>=n.pieces_.length}function Ml(n,e){const t=Ti(n),i=Ti(e);if(null===t)return e;if(t===i)return Ml(oo(n),oo(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function AJ(n,e){const t=LI(n,0),i=LI(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=py(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function JF(n,e){if(Hg(n)!==Hg(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Vd(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Hg(n)>Hg(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class MJ{constructor(e,t){this.errorPrefix_=t,this.parts_=LI(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,ie.ug)(this.parts_[i]);KH(this)}}function KH(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+my(n))}function my(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class eL extends GH{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new eL}getInitialEvent(e){return(0,ie.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const UI=1e3;let U1,gy=(()=>{class n extends $H{constructor(t,i,r,s,u,m,v,C){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=u,this.authTokenProvider_=m,this.appCheckTokenProvider_=v,this.authOverride_=C,this.id=n.nextPersistentConnectionId_++,this.log_=PI("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=UI,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,C&&!(0,ie.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");eL.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&F1.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,u={r:s,a:t,b:i};this.log_((0,ie.Wl)(u)),(0,ie.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new ie.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:m=>{const v=m.d;"ok"===m.s?i.resolve(v):i.reject(v)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const u=t._queryIdentifier,m=t._path.toString();this.log_("Listen called for "+m+" "+u),this.listens.has(m)||this.listens.set(m,new Map),(0,ie.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ie.hu)(!this.listens.get(m).has(u),"listen() called twice for same path/queryId.");const v={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(m).set(u,v),this.connected_&&this.sendListen_(v)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const u={p:r};t.tag&&(u.q=i._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest("q",u,v=>{const C=v.d,M=v.s;n.warnOnListenWarnings_(C,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",v),"ok"!==M&&this.removeListen_(r,s),t.onComplete&&t.onComplete(M,C))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,ie.r3)(t,"w")){const r=(0,ie.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();Qc(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,ie.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,ie.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const u=s.s,m=s.d||"error";this.authToken_===t&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,ie.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const u={p:t};s&&(u.q=r,u.t=s),this.sendRequest("n",u)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const u={p:i,d:r};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,m=>{s&&setTimeout(()=>{s(m.s,m.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,u){this.initConnection_();const m={p:i,d:r};void 0!==u&&(m.h=u),this.outstandingPuts_.push({action:t,request:m,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(u.s,u.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,ie.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):HF("Unrecognized action received from server: "+(0,ie.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,ie.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=UI,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=UI,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=UI),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,dt.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),u=t.id+":"+n.nextConnectionId_++,m=t.lastSessionId;let v=!1,C=null;const M=function(){C?C.close():(v=!0,s())};t.realtime_={close:M,sendRequest:function(ne){(0,ie.hu)(C,"sendRequest call when we're not connected not allowed."),C.sendRequest(ne)}};const G=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[ne,ae]=yield Promise.all([t.authTokenProvider_.getToken(G),t.appCheckTokenProvider_.getToken(G)]);v?qa("getToken() completed but was canceled"):(qa("getToken() completed. Creating connection."),t.authToken_=ne&&ne.accessToken,t.appCheckToken_=ae&&ae.token,C=new HH(u,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,ye=>{Qc(ye+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},m))}catch(ne){t.log_("Failed to get token: "+ne),v||(t.repoInfo_.nodeAdmin&&Qc(ne),M())}}})()}interrupt(t){qa("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){qa("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,ie.xb)(this.interruptReasons_)&&(this.reconnectDelay_=UI,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(u=>$F(u)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new Ar(t).toString();let s;if(this.listens.has(r)){const u=this.listens.get(r);s=u.get(i),u.delete(i),0===u.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){qa("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){qa("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,ie.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+jF.replace(/\./g,"-")]=1,(0,ie.uI)()?t["framework.cordova"]=1:(0,ie.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=F1.getInstance().currentlyOnline();return(0,ie.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Pi{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Pi(e,t)}}class L1{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Pi(jg,e),r=new Pi(jg,t);return 0!==this.compare(i,r)}minPost(){return Pi.MIN}}class XH extends L1{static get __EMPTY_NODE(){return U1}static set __EMPTY_NODE(e){U1=e}compare(e,t){return py(e.name,t.name)}isDefinedOn(e){throw(0,ie.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Pi.MIN}maxPost(){return new Pi(sm,U1)}makePost(e,t){return(0,ie.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Pi(e,U1)}toString(){return".key"}}const jf=new XH;class V1{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,r&&(u*=-1),u<0)e=this.isReverse_?e.left:e.right;else{if(0===u){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let nL,Rh=(()=>{class n{constructor(t,i,r,s,u){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??uu.EMPTY_NODE,this.right=u??uu.EMPTY_NODE}copy(t,i,r,s,u){return new n(t??this.key,i??this.value,r??this.color,s??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const u=r(t,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===u?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return uu.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return uu.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class uu{constructor(e,t=uu.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new uu(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Rh.BLACK,null,null))}remove(e){return new uu(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Rh.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new V1(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new V1(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new V1(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new V1(this.root_,null,this.comparator_,!0,e)}}function UJ(n,e){return py(n.name,e.name)}function tL(n,e){return py(n,e)}uu.EMPTY_NODE=new class LJ{copy(e,t,i,r,s){return this}insert(e,t,i){return new Rh(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const JH=function(n){return"number"==typeof n?"number:"+vH(n):"string:"+n},e4=function(n){if(n.isLeafNode()){const e=n.val();(0,ie.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,ie.r3)(e,".sv"),"Priority must be a string or number.")}else(0,ie.hu)(n===nL||n.isEmpty(),"priority of unexpected type.");(0,ie.hu)(n===nL||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let t4,n4,i4,ow=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,ie.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),e4(this.priorityNode_)}static set __childrenNodeConstructor(t){t4=t}static get __childrenNodeConstructor(){return t4}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Di(t)?this:".priority"===Ti(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Ti(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,ie.hu)(".priority"!==r||1===Hg(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(oo(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+JH(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?vH(this.value_):this.value_,this.lazyHash_=pH(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,ie.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),u=n.VALUE_TYPE_ORDER.indexOf(r);return(0,ie.hu)(s>=0,"Unknown leaf type: "+i),(0,ie.hu)(u>=0,"Unknown leaf type: "+r),s===u?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const fo=new class zJ extends L1{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?py(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Pi.MIN}maxPost(){return new Pi(sm,new ow("[PRIORITY-POST]",i4))}makePost(e,t){const i=n4(e);return new Pi(t,new ow("[PRIORITY-POST]",i))}toString(){return".priority"}},HJ=Math.log(2);class $J{constructor(e){this.count=parseInt(Math.log(e+1)/HJ,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const B1=function(n,e,t,i){n.sort(e);const r=function(v,C){const M=C-v;let L,G;if(0===M)return null;if(1===M)return L=n[v],G=t?t(L):L,new Rh(G,L.node,Rh.BLACK,null,null);{const ne=parseInt(M/2,10)+v,ae=r(v,ne),ye=r(ne+1,C);return L=n[ne],G=t?t(L):L,new Rh(G,L.node,Rh.BLACK,ae,ye)}},m=function(v){let C=null,M=null,L=n.length;const G=function(ae,ye){const We=L-ae,wt=L;L-=ae;const Ot=r(We+1,wt),Mt=n[We],Lt=t?t(Mt):Mt;ne(new Rh(Lt,Mt.node,ye,null,Ot))},ne=function(ae){C?(C.left=ae,C=ae):(M=ae,C=ae)};for(let ae=0;ae<v.count;++ae){const ye=v.nextBitIsOne(),We=Math.pow(2,v.count-(ae+1));ye?G(We,Rh.BLACK):(G(We,Rh.BLACK),G(We,Rh.RED))}return M}(new $J(n.length));return new uu(i||e,m)};let iL;const sw={};class am{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,ie.hu)(sw&&fo,"ChildrenNode.ts has not been loaded"),iL=iL||new am({".priority":sw},{".priority":fo}),iL}get(e){const t=(0,ie.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof uu?t:null}hasIndex(e){return(0,ie.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,ie.hu)(e!==jf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(Pi.Wrap);let m,u=s.getNext();for(;u;)r=r||e.isDefinedOn(u.node),i.push(u),u=s.getNext();m=r?B1(i,e.getCompare()):sw;const v=e.toString(),C=Object.assign({},this.indexSet_);C[v]=e;const M=Object.assign({},this.indexes_);return M[v]=m,new am(M,C)}addToIndexes(e,t){const i=(0,ie.UI)(this.indexes_,(r,s)=>{const u=(0,ie.DV)(this.indexSet_,s);if((0,ie.hu)(u,"Missing index implementation for "+s),r===sw){if(u.isDefinedOn(e.node)){const m=[],v=t.getIterator(Pi.Wrap);let C=v.getNext();for(;C;)C.name!==e.name&&m.push(C),C=v.getNext();return m.push(e),B1(m,u.getCompare())}return sw}{const m=t.get(e.name);let v=r;return m&&(v=v.remove(new Pi(e.name,m))),v.insert(e,e.node)}});return new am(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,ie.UI)(this.indexes_,r=>{if(r===sw)return r;{const s=t.get(e.name);return s?r.remove(new Pi(e.name,s)):r}});return new am(i,this.indexSet_)}}let VI,hi=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&e4(this.priorityNode_),this.children_.isEmpty()&&(0,ie.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return VI||(VI=new n(new uu(tL),null,am.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||VI}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?VI:i}}getChild(t){const i=Ti(t);return null===i?this:this.getImmediateChild(i).getChild(oo(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,ie.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Pi(t,i);let s,u;i.isEmpty()?(s=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(r,this.children_));const m=s.isEmpty()?VI:this.priorityNode_;return new n(s,m,u)}}updateChild(t,i){const r=Ti(t);if(null===r)return i;{(0,ie.hu)(".priority"!==Ti(t)||1===Hg(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(oo(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,u=!0;if(this.forEachChild(fo,(m,v)=>{i[m]=v.val(t),r++,u&&n.INTEGER_REGEXP_.test(m)?s=Math.max(s,Number(m)):u=!1}),!t&&u&&s<2*r){const m=[];for(const v in i)m[v]=i[v];return m}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+JH(this.getPriority().val())+":"),this.forEachChild(fo,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":pH(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const u=s.getPredecessorKey(new Pi(t,i));return u?u.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Pi(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Pi(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Pi.Wrap);let u=s.peek();for(;null!=u&&i.compare(u,t)<0;)s.getNext(),u=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Pi.Wrap);let u=s.peek();for(;null!=u&&i.compare(u,t)>0;)s.getNext(),u=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===BI?-1:0}withIndex(t){if(t===jf||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===jf||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(fo),s=i.getIterator(fo);let u=r.getNext(),m=s.getNext();for(;u&&m;){if(u.name!==m.name||!u.node.equals(m.node))return!1;u=r.getNext(),m=s.getNext()}return null===u&&null===m}return!1}return!1}}resolveIndex_(t){return t===jf?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const BI=new class GJ extends hi{constructor(){super(new uu(tL),hi.EMPTY_NODE,am.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return hi.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Pi,{MIN:{value:new Pi(jg,hi.EMPTY_NODE)},MAX:{value:new Pi(sm,BI)}}),XH.__EMPTY_NODE=hi.EMPTY_NODE,ow.__childrenNodeConstructor=hi,function VJ(n){nL=n}(BI),function jJ(n){i4=n}(BI);const qJ=!0;function ss(n,e=null){if(null===n)return hi.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,ie.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new ow(n,ss(e));if(n instanceof Array||!qJ){let t=hi.EMPTY_NODE;return Wa(n,(i,r)=>{if((0,ie.r3)(n,i)&&"."!==i.substring(0,1)){const s=ss(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(ss(e))}{const t=[];let i=!1;if(Wa(n,(u,m)=>{if("."!==u.substring(0,1)){const v=ss(m);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),t.push(new Pi(u,v)))}}),0===t.length)return hi.EMPTY_NODE;const s=B1(t,UJ,u=>u.name,tL);if(i){const u=B1(t,fo.getCompare());return new hi(s,ss(e),new am({".priority":u},{".priority":fo}))}return new hi(s,ss(e),am.Default)}}!function BJ(n){n4=n}(ss);class rL extends L1{constructor(e){super(),this.indexPath_=e,(0,ie.hu)(!Di(e)&&".priority"!==Ti(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?py(e.name,t.name):s}makePost(e,t){const i=ss(e),r=hi.EMPTY_NODE.updateChild(this.indexPath_,i);return new Pi(t,r)}maxPost(){const e=hi.EMPTY_NODE.updateChild(this.indexPath_,BI);return new Pi(sm,e)}toString(){return LI(this.indexPath_,0).join("/")}}const oL=new class WJ extends L1{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?py(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Pi.MIN}maxPost(){return Pi.MAX}makePost(e,t){const i=ss(e);return new Pi(t,i)}toString(){return".value"}};function r4(n){return{type:"value",snapshotNode:n}}function aw(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function jI(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function zI(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class sL{constructor(e){this.index_=e}updateChild(e,t,i,r,s,u){(0,ie.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=e.getImmediateChild(t);return m.getChild(r).equals(i.getChild(r))&&m.isEmpty()===i.isEmpty()||(null!=u&&(i.isEmpty()?e.hasChild(t)?u.trackChildChange(jI(t,m)):(0,ie.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?u.trackChildChange(aw(t,i)):u.trackChildChange(zI(t,i,m))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(fo,(r,s)=>{t.hasChild(r)||i.trackChildChange(jI(r,s))}),t.isLeafNode()||t.forEachChild(fo,(r,s)=>{if(e.hasChild(r)){const u=e.getImmediateChild(r);u.equals(s)||i.trackChildChange(zI(r,s,u))}else i.trackChildChange(aw(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?hi.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class HI{constructor(e){this.indexedFilter_=new sL(e.getIndex()),this.index_=e.getIndex(),this.startPost_=HI.getStartPost_(e),this.endPost_=HI.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,s,u){return this.matches(new Pi(t,i))||(i=hi.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,u)}updateFullNode(e,t,i){t.isLeafNode()&&(t=hi.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(hi.EMPTY_NODE);const s=this;return t.forEachChild(fo,(u,m)=>{s.matches(new Pi(u,m))||(r=r.updateImmediateChild(u,hi.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class KJ{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new HI(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,s,u){return this.rangedFilter_.matches(new Pi(t,i))||(i=hi.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,u):this.fullLimitUpdateChild_(e,t,i,s,u)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=hi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=hi.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;s.hasNext()&&u<this.limit_;){const m=s.getNext();if(this.withinDirectionalStart(m)){if(!this.withinDirectionalEnd(m))break;r=r.updateImmediateChild(m.name,m.node),u++}}}else{let s;r=t.withIndex(this.index_),r=r.updatePriority(hi.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let u=0;for(;s.hasNext();){const m=s.getNext();u<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?u++:r=r.updateImmediateChild(m.name,hi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let u;if(this.reverse_){const L=this.index_.getCompare();u=(G,ne)=>L(ne,G)}else u=this.index_.getCompare();const m=e;(0,ie.hu)(m.numChildren()===this.limit_,"");const v=new Pi(t,i),C=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),M=this.rangedFilter_.matches(v);if(m.hasChild(t)){const L=m.getImmediateChild(t);let G=r.getChildAfterChild(this.index_,C,this.reverse_);for(;null!=G&&(G.name===t||m.hasChild(G.name));)G=r.getChildAfterChild(this.index_,G,this.reverse_);const ne=null==G?1:u(G,v);if(M&&!i.isEmpty()&&ne>=0)return s?.trackChildChange(zI(t,i,L)),m.updateImmediateChild(t,i);{s?.trackChildChange(jI(t,L));const ye=m.updateImmediateChild(t,hi.EMPTY_NODE);return null!=G&&this.rangedFilter_.matches(G)?(s?.trackChildChange(aw(G.name,G.node)),ye.updateImmediateChild(G.name,G.node)):ye}}return i.isEmpty()?e:M&&u(C,v)>=0?(null!=s&&(s.trackChildChange(jI(C.name,C.node)),s.trackChildChange(aw(t,i))),m.updateImmediateChild(t,i).updateImmediateChild(C.name,hi.EMPTY_NODE)):e}}class j1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fo}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ie.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ie.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jg}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ie.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ie.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:sm}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ie.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===fo}copy(){const e=new j1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function aL(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function cL(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function z1(n,e){const t=n.copy();return t.index_=e,t}function o4(n){const e={};if(n.isDefault())return e;let t;if(n.index_===fo?t="$priority":n.index_===oL?t="$value":n.index_===jf?t="$key":((0,ie.hu)(n.index_ instanceof rL,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,ie.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,ie.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,ie.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,ie.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,ie.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function s4(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==fo&&(e.i=n.index_.toString()),e}class H1 extends $H{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=PI("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,ie.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const u=H1.getListenId_(e,i),m={};this.listens_[u]=m;const v=o4(e._queryParams);this.restRequest_(s+".json",v,(C,M)=>{let L=M;if(404===C&&(L=null,C=null),null===C&&this.onDataUpdate_(s,L,!1,i),(0,ie.DV)(this.listens_,u)===m){let G;G=C?401===C?"permission_denied":"rest_error:"+C:"ok",r(G,null)}})}unlisten(e,t){const i=H1.getListenId_(e,t);delete this.listens_[i]}get(e){const t=o4(e._queryParams),i=e._path.toString(),r=new ie.BH;return this.restRequest_(i+".json",t,(s,u)=>{let m=u;404===s&&(m=null,s=null),null===s?(this.onDataUpdate_(i,m,!1,null),r.resolve(m)):r.reject(new Error(m))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,ie.xO)(t);this.log_("Sending REST request for "+u);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(i&&4===m.readyState){this.log_("REST Response for "+u+" received. status:",m.status,"response:",m.responseText);let v=null;if(m.status>=200&&m.status<300){try{v=(0,ie.cI)(m.responseText)}catch{Qc("Failed to parse JSON response for "+u+": "+m.responseText)}i(null,v)}else 401!==m.status&&404!==m.status&&Qc("Got unsuccessful REST response for "+u+" Status: "+m.status),i(m.status);i=null}},m.open("GET",u,!0),m.send()})}}class tee{constructor(){this.rootNode_=hi.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function $1(){return{value:null,children:new Map}}function cw(n,e,t){if(Di(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Ti(e);n.children.has(i)||n.children.set(i,$1()),cw(n.children.get(i),e=oo(e),t)}}function lL(n,e){if(Di(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(fo,(i,r)=>{cw(n,new Ar(i),r)}),lL(n,e)}}if(n.children.size>0){const t=Ti(e);return e=oo(e),n.children.has(t)&&lL(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function uL(n,e,t){null!==n.value?t(e,n.value):function nee(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{uL(r,new Ar(e.toString()+"/"+i),t)})}class iee{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Wa(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class see{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new iee(e);const i=1e4+2e4*Math.random();NI(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Wa(e,(r,s)=>{s>0&&(0,ie.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),NI(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var zf=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(zf||{});function fL(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class G1{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=zf.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Di(this.path)){if(null!=this.affectedTree.value)return(0,ie.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ar(e));return new G1(ar(),t,this.revert)}}return(0,ie.hu)(Ti(this.path)===e,"operationForChild called for unrelated child."),new G1(oo(this.path),this.affectedTree,this.revert)}}class $I{constructor(e,t){this.source=e,this.path=t,this.type=zf.LISTEN_COMPLETE}operationForChild(e){return Di(this.path)?new $I(this.source,ar()):new $I(this.source,oo(this.path))}}class _y{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=zf.OVERWRITE}operationForChild(e){return Di(this.path)?new _y(this.source,ar(),this.snap.getImmediateChild(e)):new _y(this.source,oo(this.path),this.snap)}}class lw{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=zf.MERGE}operationForChild(e){if(Di(this.path)){const t=this.children.subtree(new Ar(e));return t.isEmpty()?null:t.value?new _y(this.source,ar(),t.value):new lw(this.source,ar(),t)}return(0,ie.hu)(Ti(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new lw(this.source,oo(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class $g{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Di(e))return this.isFullyInitialized()&&!this.filtered_;const t=Ti(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class aee{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function GI(n,e,t,i,r,s){const u=i.filter(m=>m.type===t);u.sort((m,v)=>function uee(n,e,t){if(null==e.childName||null==t.childName)throw(0,ie.g5)("Should only compare child_ events.");const i=new Pi(e.childName,e.snapshotNode),r=new Pi(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,m,v)),u.forEach(m=>{const v=function lee(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,m,s);r.forEach(C=>{C.respondsTo(m.type)&&e.push(C.createEvent(v,n.query_))})})}function q1(n,e){return{eventCache:n,serverCache:e}}function qI(n,e,t,i){return q1(new $g(e,t,i),n.serverCache)}function c4(n,e,t,i){return q1(n.eventCache,new $g(e,t,i))}function W1(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function vy(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let pL;class po{constructor(e,t=(()=>(pL||(pL=new uu(ZX)),pL))()){this.value=e,this.children=t}static fromObject(e){let t=new po(null);return Wa(e,(i,r)=>{t=t.set(new Ar(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ar(),value:this.value};if(Di(e))return null;{const i=Ti(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(oo(e),t);return null!=s?{path:qo(new Ar(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Di(e))return this;{const t=Ti(e),i=this.children.get(t);return null!==i?i.subtree(oo(e)):new po(null)}}set(e,t){if(Di(e))return new po(t,this.children);{const i=Ti(e),s=(this.children.get(i)||new po(null)).set(oo(e),t),u=this.children.insert(i,s);return new po(this.value,u)}}remove(e){if(Di(e))return this.children.isEmpty()?new po(null):new po(null,this.children);{const t=Ti(e),i=this.children.get(t);if(i){const r=i.remove(oo(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new po(null):new po(this.value,s)}return this}}get(e){if(Di(e))return this.value;{const t=Ti(e),i=this.children.get(t);return i?i.get(oo(e)):null}}setTree(e,t){if(Di(e))return t;{const i=Ti(e),s=(this.children.get(i)||new po(null)).setTree(oo(e),t);let u;return u=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new po(this.value,u)}}fold(e){return this.fold_(ar(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(qo(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,ar(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(Di(e))return null;{const s=Ti(e),u=this.children.get(s);return u?u.findOnPath_(oo(e),qo(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ar(),t)}foreachOnPath_(e,t,i){if(Di(e))return this;{this.value&&i(t,this.value);const r=Ti(e),s=this.children.get(r);return s?s.foreachOnPath_(oo(e),qo(t,r),i):new po(null)}}foreach(e){this.foreach_(ar(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(qo(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Ph{constructor(e){this.writeTree_=e}static empty(){return new Ph(new po(null))}}function WI(n,e,t){if(Di(e))return new Ph(new po(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const u=Ml(r,e);return s=s.updateChild(u,t),new Ph(n.writeTree_.set(r,s))}{const r=new po(t),s=n.writeTree_.setTree(e,r);return new Ph(s)}}}function mL(n,e,t){let i=n;return Wa(t,(r,s)=>{i=WI(i,qo(e,r),s)}),i}function l4(n,e){if(Di(e))return Ph.empty();{const t=n.writeTree_.setTree(e,new po(null));return new Ph(t)}}function gL(n,e){return null!=yy(n,e)}function yy(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Ml(t.path,e)):null}function u4(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(fo,(i,r)=>{e.push(new Pi(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new Pi(i,r.value))}),e}function Gg(n,e){if(Di(e))return n;{const t=yy(n,e);return new Ph(null!=t?new po(t):n.writeTree_.subtree(e))}}function _L(n){return n.writeTree_.isEmpty()}function uw(n,e){return d4(ar(),n.writeTree_,e)}function d4(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,ie.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=d4(qo(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(qo(n,".priority"),i)),t}}function Z1(n,e){return g4(e,n)}function gee(n,e){if(n.snap)return Vd(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Vd(qo(n.path,t),e))return!0;return!1}function vee(n){return n.visible}function h4(n,e,t){let i=Ph.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const u=s.path;let m;if(s.snap)Vd(t,u)?(m=Ml(t,u),i=WI(i,m,s.snap)):Vd(u,t)&&(m=Ml(u,t),i=WI(i,ar(),s.snap.getChild(m)));else{if(!s.children)throw(0,ie.g5)("WriteRecord should have .snap or .children");if(Vd(t,u))m=Ml(t,u),i=mL(i,m,s.children);else if(Vd(u,t))if(m=Ml(u,t),Di(m))i=mL(i,ar(),s.children);else{const v=(0,ie.DV)(s.children,Ti(m));if(v){const C=v.getChild(oo(m));i=WI(i,ar(),C)}}}}}return i}function f4(n,e,t,i,r){if(i||r){const s=Gg(n.visibleWrites,e);return!r&&_L(s)?t:r||null!=t||gL(s,ar())?uw(h4(n.allWrites,function(C){return(C.visible||r)&&(!i||!~i.indexOf(C.writeId))&&(Vd(C.path,e)||Vd(e,C.path))},e),t||hi.EMPTY_NODE):null}{const s=yy(n.visibleWrites,e);if(null!=s)return s;{const u=Gg(n.visibleWrites,e);return _L(u)?t:null!=t||gL(u,ar())?uw(u,t||hi.EMPTY_NODE):null}}}function K1(n,e,t,i){return f4(n.writeTree,n.treePath,e,t,i)}function vL(n,e){return function yee(n,e,t){let i=hi.EMPTY_NODE;const r=yy(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(fo,(s,u)=>{i=i.updateImmediateChild(s,u)}),i;if(t){const s=Gg(n.visibleWrites,e);return t.forEachChild(fo,(u,m)=>{const v=uw(Gg(s,new Ar(u)),m);i=i.updateImmediateChild(u,v)}),u4(s).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}return u4(Gg(n.visibleWrites,e)).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}(n.writeTree,n.treePath,e)}function p4(n,e,t,i){return function bee(n,e,t,i,r){(0,ie.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=qo(e,t);if(gL(n.visibleWrites,s))return null;{const u=Gg(n.visibleWrites,s);return _L(u)?r.getChild(t):uw(u,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function Y1(n,e){return function Eee(n,e){return yy(n.visibleWrites,e)}(n.writeTree,qo(n.treePath,e))}function yL(n,e,t){return function wee(n,e,t,i){const r=qo(e,t),s=yy(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?uw(Gg(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function m4(n,e){return g4(qo(n.treePath,e),n.writeTree)}function g4(n,e){return{treePath:n,writeTree:e}}class Tee{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,ie.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,ie.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,zI(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,jI(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,aw(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,ie.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,zI(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const _4=new class Dee{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class bL{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new $g(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return yL(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:vy(this.viewCache_),s=function Iee(n,e,t,i,r,s){return function Cee(n,e,t,i,r,s,u){let m;const v=Gg(n.visibleWrites,e),C=yy(v,ar());if(null!=C)m=C;else{if(null==t)return[];m=uw(v,t)}if(m=m.withIndex(u),m.isEmpty()||m.isLeafNode())return[];{const M=[],L=u.getCompare(),G=s?m.getReverseIteratorFrom(i,u):m.getIteratorFrom(i,u);let ne=G.getNext();for(;ne&&M.length<r;)0!==L(ne,i)&&M.push(ne),ne=G.getNext();return M}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function v4(n,e,t,i,r,s){const u=e.eventCache;if(null!=Y1(i,t))return e;{let m,v;if(Di(t))if((0,ie.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const C=vy(e),L=vL(i,C instanceof hi?C:hi.EMPTY_NODE);m=n.filter.updateFullNode(e.eventCache.getNode(),L,s)}else{const C=K1(i,vy(e));m=n.filter.updateFullNode(e.eventCache.getNode(),C,s)}else{const C=Ti(t);if(".priority"===C){(0,ie.hu)(1===Hg(t),"Can't have a priority with additional path components");const M=u.getNode();v=e.serverCache.getNode();const L=p4(i,t,M,v);m=null!=L?n.filter.updatePriority(M,L):u.getNode()}else{const M=oo(t);let L;if(u.isCompleteForChild(C)){v=e.serverCache.getNode();const G=p4(i,t,u.getNode(),v);L=null!=G?u.getNode().getImmediateChild(C).updateChild(M,G):u.getNode().getImmediateChild(C)}else L=yL(i,C,e.serverCache);m=null!=L?n.filter.updateChild(u.getNode(),C,L,M,r,s):u.getNode()}}return qI(e,m,u.isFullyInitialized()||Di(t),n.filter.filtersNodes())}}function Q1(n,e,t,i,r,s,u,m){const v=e.serverCache;let C;const M=u?n.filter:n.filter.getIndexedFilter();if(Di(t))C=M.updateFullNode(v.getNode(),i,null);else if(M.filtersNodes()&&!v.isFiltered()){const ne=v.getNode().updateChild(t,i);C=M.updateFullNode(v.getNode(),ne,null)}else{const ne=Ti(t);if(!v.isCompleteForPath(t)&&Hg(t)>1)return e;const ae=oo(t),We=v.getNode().getImmediateChild(ne).updateChild(ae,i);C=".priority"===ne?M.updatePriority(v.getNode(),We):M.updateChild(v.getNode(),ne,We,ae,_4,null)}const L=c4(e,C,v.isFullyInitialized()||Di(t),M.filtersNodes());return v4(n,L,t,r,new bL(r,L,s),m)}function wL(n,e,t,i,r,s,u){const m=e.eventCache;let v,C;const M=new bL(r,e,s);if(Di(t))C=n.filter.updateFullNode(e.eventCache.getNode(),i,u),v=qI(e,C,!0,n.filter.filtersNodes());else{const L=Ti(t);if(".priority"===L)C=n.filter.updatePriority(e.eventCache.getNode(),i),v=qI(e,C,m.isFullyInitialized(),m.isFiltered());else{const G=oo(t),ne=m.getNode().getImmediateChild(L);let ae;if(Di(G))ae=i;else{const ye=M.getCompleteChild(L);ae=null!=ye?".priority"===XF(G)&&ye.getChild(ZH(G)).isEmpty()?ye:ye.updateChild(G,i):hi.EMPTY_NODE}v=ne.equals(ae)?e:qI(e,n.filter.updateChild(m.getNode(),L,ae,G,M,u),m.isFullyInitialized(),n.filter.filtersNodes())}}return v}function y4(n,e){return n.eventCache.isCompleteForChild(e)}function b4(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function EL(n,e,t,i,r,s,u,m){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let C,v=e;C=Di(t)?i:new po(null).setTree(t,i);const M=e.serverCache.getNode();return C.children.inorderTraversal((L,G)=>{if(M.hasChild(L)){const ae=b4(0,e.serverCache.getNode().getImmediateChild(L),G);v=Q1(n,v,new Ar(L),ae,r,s,u,m)}}),C.children.inorderTraversal((L,G)=>{const ne=!e.serverCache.isCompleteForChild(L)&&null===G.value;if(!M.hasChild(L)&&!ne){const ye=b4(0,e.serverCache.getNode().getImmediateChild(L),G);v=Q1(n,v,new Ar(L),ye,r,s,u,m)}}),v}class Fee{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new sL(i.getIndex()),s=function YJ(n){return n.loadsAllData()?new sL(n.getIndex()):n.hasLimit()?new KJ(n):new HI(n)}(i);this.processor_=function See(n){return{filter:n}}(s);const u=t.serverCache,m=t.eventCache,v=r.updateFullNode(hi.EMPTY_NODE,u.getNode(),null),C=s.updateFullNode(hi.EMPTY_NODE,m.getNode(),null),M=new $g(v,u.isFullyInitialized(),r.filtersNodes()),L=new $g(C,m.isFullyInitialized(),s.filtersNodes());this.viewCache_=q1(L,M),this.eventGenerator_=new aee(this.query_)}get query(){return this.query_}}function Vee(n,e){const t=vy(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Di(e)&&!t.getImmediateChild(Ti(e)).isEmpty())?t.getChild(e):null}function w4(n){return 0===n.eventRegistrations_.length}function E4(n,e,t){const i=[];if(t){(0,ie.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const u=s.createCancelEvent(t,r);u&&i.push(u)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const u=n.eventRegistrations_[s];if(u.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(u)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function C4(n,e,t,i){e.type===zf.MERGE&&null!==e.source.queryId&&((0,ie.hu)(vy(n.viewCache_),"We should always have a full cache before handling merges"),(0,ie.hu)(W1(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function Mee(n,e,t,i,r){const s=new Tee;let u,m;if(t.type===zf.OVERWRITE){const C=t;C.source.fromUser?u=wL(n,e,C.path,C.snap,i,r,s):((0,ie.hu)(C.source.fromServer,"Unknown source."),m=C.source.tagged||e.serverCache.isFiltered()&&!Di(C.path),u=Q1(n,e,C.path,C.snap,i,r,m,s))}else if(t.type===zf.MERGE){const C=t;C.source.fromUser?u=function Ree(n,e,t,i,r,s,u){let m=e;return i.foreach((v,C)=>{const M=qo(t,v);y4(e,Ti(M))&&(m=wL(n,m,M,C,r,s,u))}),i.foreach((v,C)=>{const M=qo(t,v);y4(e,Ti(M))||(m=wL(n,m,M,C,r,s,u))}),m}(n,e,C.path,C.children,i,r,s):((0,ie.hu)(C.source.fromServer,"Unknown source."),m=C.source.tagged||e.serverCache.isFiltered(),u=EL(n,e,C.path,C.children,i,r,m,s))}else if(t.type===zf.ACK_USER_WRITE){const C=t;u=C.revert?function Nee(n,e,t,i,r,s){let u;if(null!=Y1(i,t))return e;{const m=new bL(i,e,r),v=e.eventCache.getNode();let C;if(Di(t)||".priority"===Ti(t)){let M;if(e.serverCache.isFullyInitialized())M=K1(i,vy(e));else{const L=e.serverCache.getNode();(0,ie.hu)(L instanceof hi,"serverChildren would be complete if leaf node"),M=vL(i,L)}C=n.filter.updateFullNode(v,M,s)}else{const M=Ti(t);let L=yL(i,M,e.serverCache);null==L&&e.serverCache.isCompleteForChild(M)&&(L=v.getImmediateChild(M)),C=null!=L?n.filter.updateChild(v,M,L,oo(t),m,s):e.eventCache.getNode().hasChild(M)?n.filter.updateChild(v,M,hi.EMPTY_NODE,oo(t),m,s):v,C.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=K1(i,vy(e)),u.isLeafNode()&&(C=n.filter.updateFullNode(C,u,s)))}return u=e.serverCache.isFullyInitialized()||null!=Y1(i,ar()),qI(e,C,u,n.filter.filtersNodes())}}(n,e,C.path,i,r,s):function Pee(n,e,t,i,r,s,u){if(null!=Y1(r,t))return e;const m=e.serverCache.isFiltered(),v=e.serverCache;if(null!=i.value){if(Di(t)&&v.isFullyInitialized()||v.isCompleteForPath(t))return Q1(n,e,t,v.getNode().getChild(t),r,s,m,u);if(Di(t)){let C=new po(null);return v.getNode().forEachChild(jf,(M,L)=>{C=C.set(new Ar(M),L)}),EL(n,e,t,C,r,s,m,u)}return e}{let C=new po(null);return i.foreach((M,L)=>{const G=qo(t,M);v.isCompleteForPath(G)&&(C=C.set(M,v.getNode().getChild(G)))}),EL(n,e,t,C,r,s,m,u)}}(n,e,C.path,C.affectedTree,i,r,s)}else{if(t.type!==zf.LISTEN_COMPLETE)throw(0,ie.g5)("Unknown operation type: "+t.type);u=function kee(n,e,t,i,r){const s=e.serverCache;return v4(n,c4(e,s.getNode(),s.isFullyInitialized()||Di(t),s.isFiltered()),t,i,_4,r)}(n,e,t.path,i,s)}const v=s.getChanges();return function Oee(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=W1(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(r4(W1(e)))}}(e,u,v),{viewCache:u,changes:v}}(n.processor_,r,e,t,i);return function Aee(n,e){(0,ie.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,ie.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,ie.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,x4(n,s.changes,s.viewCache.eventCache.getNode(),null)}function x4(n,e,t,i){return function cee(n,e,t,i){const r=[],s=[];return e.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&s.push(function ZJ(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(u.childName,u.snapshotNode))}),GI(n,r,"child_removed",e,i,t),GI(n,r,"child_added",e,i,t),GI(n,r,"child_moved",s,i,t),GI(n,r,"child_changed",e,i,t),GI(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let X1,eO;class I4{constructor(){this.views=new Map}}function CL(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,ie.hu)(null!=s,"SyncTree gave us an op for an invalid query."),C4(s,e,t,i)}{let s=[];for(const u of n.views.values())s=s.concat(C4(u,e,t,i));return s}}function T4(n,e,t,i,r){const u=n.views.get(e._queryIdentifier);if(!u){let m=K1(t,r?i:null),v=!1;m?v=!0:i instanceof hi?(m=vL(t,i),v=!1):(m=hi.EMPTY_NODE,v=!1);const C=q1(new $g(m,v,!1),new $g(i,r,!1));return new Fee(e,C)}return u}function D4(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function qg(n,e){let t=null;for(const i of n.views.values())t=t||Vee(i,e);return t}function S4(n,e){return e._queryParams.loadsAllData()?J1(n):n.views.get(e._queryIdentifier)}function A4(n,e){return null!=S4(n,e)}function Wg(n){return null!=J1(n)}function J1(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Kee=1;class M4{constructor(e){this.listenProvider_=e,this.syncPointTree_=new po(null),this.pendingWriteTree_=function xee(){return{visibleWrites:Ph.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function xL(n,e,t,i,r){return function hee(n,e,t,i,r){(0,ie.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=WI(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?dw(n,new _y({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Zg(n,e,t=!1){const i=function pee(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function mee(n,e){const t=n.allWrites.findIndex(m=>m.writeId===e);(0,ie.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,u=n.allWrites.length-1;for(;r&&u>=0;){const m=n.allWrites[u];m.visible&&(u>=t&&gee(m,i.path)?r=!1:Vd(i.path,m.path)&&(s=!0)),u--}return!!r&&(s?(function _ee(n){n.visibleWrites=h4(n.allWrites,vee,ar()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=l4(n.visibleWrites,i.path):Wa(i.children,v=>{n.visibleWrites=l4(n.visibleWrites,qo(i.path,v))}),!0))}(n.pendingWriteTree_,e)){let s=new po(null);return null!=i.snap?s=s.set(ar(),!0):Wa(i.children,u=>{s=s.set(new Ar(u),!0)}),dw(n,new G1(i.path,s,t))}return[]}function ZI(n,e,t){return dw(n,new _y({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function tO(n,e,t,i,r=!1){const s=e._path,u=n.syncPointTree_.get(s);let m=[];if(u&&("default"===e._queryIdentifier||A4(u,e))){const v=function qee(n,e,t,i){const r=e._queryIdentifier,s=[];let u=[];const m=Wg(n);if("default"===r)for(const[v,C]of n.views.entries())u=u.concat(E4(C,t,i)),w4(C)&&(n.views.delete(v),C.query._queryParams.loadsAllData()||s.push(C.query));else{const v=n.views.get(r);v&&(u=u.concat(E4(v,t,i)),w4(v)&&(n.views.delete(r),v.query._queryParams.loadsAllData()||s.push(v.query)))}return m&&!Wg(n)&&s.push(new(function Hee(){return(0,ie.hu)(X1,"Reference.ts has not been loaded"),X1}())(e._repo,e._path)),{removed:s,events:u}}(u,e,t,i);(function $ee(n){return 0===n.views.size})(u)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const C=v.removed;if(m=v.events,!r){const M=-1!==C.findIndex(G=>G._queryParams.loadsAllData()),L=n.syncPointTree_.findOnPath(s,(G,ne)=>Wg(ne));if(M&&!L){const G=n.syncPointTree_.subtree(s);if(!G.isEmpty()){const ne=function nte(n){return n.fold((e,t,i)=>{if(t&&Wg(t))return[J1(t)];{let r=[];return t&&(r=D4(t)),Wa(i,(s,u)=>{r=r.concat(u)}),r}})}(G);for(let ae=0;ae<ne.length;++ae){const ye=ne[ae],We=ye.query,wt=k4(n,ye);n.listenProvider_.startListening(YI(We),KI(n,We),wt.hashFn,wt.onComplete)}}}!L&&C.length>0&&!i&&(M?n.listenProvider_.stopListening(YI(e),null):C.forEach(G=>{const ne=n.queryToTagMap.get(iO(G));n.listenProvider_.stopListening(YI(G),ne)}))}!function ite(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=iO(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,C)}return m}function O4(n,e,t,i){const r=TL(n,i);if(null!=r){const s=DL(r),u=s.path,m=s.queryId,v=Ml(u,e);return SL(n,u,new _y(fL(m),v,t))}return[]}function IL(n,e,t,i=!1){const r=e._path;let s=null,u=!1;n.syncPointTree_.foreachOnPath(r,(G,ne)=>{const ae=Ml(G,r);s=s||qg(ne,ae),u=u||Wg(ne)});let v,m=n.syncPointTree_.get(r);m?(u=u||Wg(m),s=s||qg(m,ar())):(m=new I4,n.syncPointTree_=n.syncPointTree_.set(r,m)),null!=s?v=!0:(v=!1,s=hi.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((ne,ae)=>{const ye=qg(ae,ar());ye&&(s=s.updateImmediateChild(ne,ye))}));const C=A4(m,e);if(!C&&!e._queryParams.loadsAllData()){const G=iO(e);(0,ie.hu)(!n.queryToTagMap.has(G),"View does not exist, but we have a tag");const ne=function rte(){return Kee++}();n.queryToTagMap.set(G,ne),n.tagToQueryMap.set(ne,G)}let L=function Gee(n,e,t,i,r,s){const u=T4(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,u),function Bee(n,e){n.eventRegistrations_.push(e)}(u,t),function jee(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(fo,(s,u)=>{i.push(aw(s,u))}),t.isFullyInitialized()&&i.push(r4(t.getNode())),x4(n,i,t.getNode(),e)}(u,t)}(m,e,t,Z1(n.pendingWriteTree_,r),s,v);if(!C&&!u&&!i){const G=S4(m,e);L=L.concat(function ote(n,e,t){const i=e._path,r=KI(n,e),s=k4(n,t),u=n.listenProvider_.startListening(YI(e),r,s.hashFn,s.onComplete),m=n.syncPointTree_.subtree(i);if(r)(0,ie.hu)(!Wg(m.value),"If we're adding a query, it shouldn't be shadowed");else{const v=m.fold((C,M,L)=>{if(!Di(C)&&M&&Wg(M))return[J1(M).query];{let G=[];return M&&(G=G.concat(D4(M).map(ne=>ne.query))),Wa(L,(ne,ae)=>{G=G.concat(ae)}),G}});for(let C=0;C<v.length;++C){const M=v[C];n.listenProvider_.stopListening(YI(M),KI(n,M))}}return u}(n,e,G))}return L}function nO(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(u,m)=>{const C=qg(m,Ml(u,e));if(C)return C});return f4(r,e,s,t,!0)}function dw(n,e){return R4(e,n.syncPointTree_,null,Z1(n.pendingWriteTree_,ar()))}function R4(n,e,t,i){if(Di(n.path))return P4(n,e,t,i);{const r=e.get(ar());null==t&&null!=r&&(t=qg(r,ar()));let s=[];const u=Ti(n.path),m=n.operationForChild(u),v=e.children.get(u);if(v&&m){const C=t?t.getImmediateChild(u):null,M=m4(i,u);s=s.concat(R4(m,v,C,M))}return r&&(s=s.concat(CL(r,n,i,t))),s}}function P4(n,e,t,i){const r=e.get(ar());null==t&&null!=r&&(t=qg(r,ar()));let s=[];return e.children.inorderTraversal((u,m)=>{const v=t?t.getImmediateChild(u):null,C=m4(i,u),M=n.operationForChild(u);M&&(s=s.concat(P4(M,m,v,C)))}),r&&(s=s.concat(CL(r,n,i,t))),s}function k4(n,e){const t=e.query,i=KI(n,t);return{hashFn:()=>(function Lee(n){return n.viewCache_.serverCache.getNode()}(e)||hi.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Jee(n,e,t){const i=TL(n,t);if(i){const r=DL(i),s=r.path,u=r.queryId,m=Ml(s,e);return SL(n,s,new $I(fL(u),m))}return[]}(n,t._path,i):function Xee(n,e){return dw(n,new $I({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function QX(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return tO(n,t,null,s)}}}}function KI(n,e){const t=iO(e);return n.queryToTagMap.get(t)}function iO(n){return n._path.toString()+"$"+n._queryIdentifier}function TL(n,e){return n.tagToQueryMap.get(e)}function DL(n){const e=n.indexOf("$");return(0,ie.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ar(n.substr(0,e))}}function SL(n,e,t){const i=n.syncPointTree_.get(e);return(0,ie.hu)(i,"Missing sync point for query tag that we're tracking"),CL(i,t,Z1(n.pendingWriteTree_,e),null)}function YI(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Zee(){return(0,ie.hu)(eO,"Reference.ts has not been loaded"),eO}())(n._repo,n._path):n}class AL{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new AL(t)}node(){return this.node_}}class ML{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=qo(this.path_,e);return new ML(this.syncTree_,t)}node(){return nO(this.syncTree_,this.path_)}}const ste=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},N4=function(n,e,t){return n&&"object"==typeof n?((0,ie.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?ate(n[".sv"],e,t):"object"==typeof n[".sv"]?cte(n[".sv"],e):void(0,ie.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},ate=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,ie.hu)(!1,"Unexpected server value: "+n)},cte=function(n,e,t){n.hasOwnProperty("increment")||(0,ie.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,ie.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,ie.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const u=r.getValue();return"number"!=typeof u?i:u+i},F4=function(n,e,t,i){return RL(e,new ML(t,n),i)},OL=function(n,e,t){return RL(n,new AL(e),t)};function RL(n,e,t){const i=n.getPriority().val(),r=N4(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const u=n,m=N4(u.getValue(),e,t);return m!==u.getValue()||r!==u.getPriority().val()?new ow(m,ss(r)):n}{const u=n;return s=u,r!==u.getPriority().val()&&(s=s.updatePriority(new ow(r))),u.forEachChild(fo,(m,v)=>{const C=RL(v,e.getImmediateChild(m),t);C!==v&&(s=s.updateImmediateChild(m,C))}),s}}class PL{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function rO(n,e){let t=e instanceof Ar?e:new Ar(e),i=n,r=Ti(t);for(;null!==r;){const s=(0,ie.DV)(i.node.children,r)||{children:{},childCount:0};i=new PL(r,i,s),t=oo(t),r=Ti(t)}return i}function by(n){return n.node.value}function kL(n,e){n.node.value=e,NL(n)}function L4(n){return n.node.childCount>0}function oO(n,e){Wa(n.node.children,(t,i)=>{e(new PL(t,n,i))})}function U4(n,e,t,i){t&&!i&&e(n),oO(n,r=>{U4(r,e,!0,i)}),t&&i&&e(n)}function QI(n){return new Ar(null===n.parent?n.name:QI(n.parent)+"/"+n.name)}function NL(n){null!==n.parent&&function dte(n,e,t){const i=function lte(n){return void 0===by(n)&&!L4(n)}(t),r=(0,ie.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,NL(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,NL(n))}(n.parent,n.name,n)}const hte=/[\[\].#$\/\u0000-\u001F\u007F]/,fte=/[\[\].#$\u0000-\u001F\u007F]/,FL=10485760,sO=function(n){return"string"==typeof n&&0!==n.length&&!hte.test(n)},V4=function(n){return"string"==typeof n&&0!==n.length&&!fte.test(n)},XI=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!P1(n)||n&&"object"==typeof n&&(0,ie.r3)(n,".sv")},Hf=function(n,e,t,i){i&&void 0===e||JI((0,ie.gK)(n,"value"),e,t)},JI=function(n,e,t){const i=t instanceof Ar?new MJ(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+my(i));if("function"==typeof e)throw new Error(n+"contains a function "+my(i)+" with contents = "+e.toString());if(P1(e))throw new Error(n+"contains "+e.toString()+" "+my(i));if("string"==typeof e&&e.length>FL/3&&(0,ie.ug)(e)>FL)throw new Error(n+"contains a string greater than "+FL+" utf8 bytes "+my(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(Wa(e,(u,m)=>{if(".value"===u)r=!0;else if(".priority"!==u&&".sv"!==u&&(s=!0,!sO(u)))throw new Error(n+" contains an invalid key ("+u+") "+my(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function OJ(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,ie.ug)(e),KH(n)})(i,u),JI(n,m,i),function RJ(n){const e=n.parts_.pop();n.byteLength_-=(0,ie.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+my(i)+" in addition to actual children.")}},B4=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,ie.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];Wa(e,(u,m)=>{const v=new Ar(u);if(JI(r,m,qo(t,v)),".priority"===XF(v)&&!XI(m))throw new Error(r+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(v)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=LI(i);for(let u=0;u<s.length;u++)if((".priority"!==s[u]||u!==s.length-1)&&!sO(s[u]))throw new Error(n+"contains an invalid key ("+s[u]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(AJ);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&Vd(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},LL=function(n,e,t){if(!t||void 0!==e){if(P1(e))throw new Error((0,ie.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!XI(e))throw new Error((0,ie.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},eT=function(n,e,t,i){if(!(i&&void 0===t||sO(t)))throw new Error((0,ie.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},tT=function(n,e,t,i){if(!(i&&void 0===t||V4(t)))throw new Error((0,ie.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},gte=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),tT(n,e,t,i)},Bd=function(n,e){if(".info"===Ti(e))throw new Error(n+" failed = Can't modify data under /.info/")},j4=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!sO(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),V4(n)}(t))throw new Error((0,ie.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class _te{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function aO(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!JF(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function z4(n,e,t){aO(n,t),H4(n,i=>JF(i,e))}function Gu(n,e,t){aO(n,t),H4(n,i=>Vd(i,e)||Vd(e,i))}function H4(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(vte(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function vte(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();fy&&qa("event: "+t.toString()),iw(i)}}}const $4="repo_interrupt",yte=25;class bte{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _te,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=$1(),this.transactionQueueTree_=new PL,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function G4(n){const t=n.infoData_.getNode(new Ar(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function nT(n){return ste({timestamp:G4(n)})}function q4(n,e,t,i,r){n.dataUpdateCount++;const s=new Ar(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let u=[];if(r)if(i){const v=(0,ie.UI)(t,C=>ss(C));u=function ete(n,e,t,i){const r=TL(n,i);if(r){const s=DL(r),u=s.path,m=s.queryId,v=Ml(u,e),C=po.fromObject(t);return SL(n,u,new lw(fL(m),v,C))}return[]}(n.serverSyncTree_,s,v,r)}else{const v=ss(t);u=O4(n.serverSyncTree_,s,v,r)}else if(i){const v=(0,ie.UI)(t,C=>ss(C));u=function Qee(n,e,t){const i=po.fromObject(t);return dw(n,new lw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,v)}else{const v=ss(t);u=ZI(n.serverSyncTree_,s,v)}let m=s;u.length>0&&(m=fw(n,s)),Gu(n.eventQueue_,m,u)}function W4(n,e){UL(n,"connected",e),!1===e&&function Ite(n){hw(n,"onDisconnectEvents");const e=nT(n),t=$1();uL(n.onDisconnect_,ar(),(r,s)=>{const u=F4(r,s,n.serverSyncTree_,e);cw(t,r,u)});let i=[];uL(t,ar(),(r,s)=>{i=i.concat(ZI(n.serverSyncTree_,r,s));const u=zL(n,r);fw(n,u)}),n.onDisconnect_=$1(),Gu(n.eventQueue_,ar(),i)}(n)}function UL(n,e,t){const i=new Ar("/.info/"+e),r=ss(t);n.infoData_.updateSnapshot(i,r);const s=ZI(n.infoSyncTree_,i,r);Gu(n.eventQueue_,i,s)}function cO(n){return n.nextWriteId_++}function VL(n,e,t,i,r){hw(n,"set",{path:e.toString(),value:t,priority:i});const s=nT(n),u=ss(t,i),m=nO(n.serverSyncTree_,e),v=OL(u,m,s),C=cO(n),M=xL(n.serverSyncTree_,e,v,C,!0);aO(n.eventQueue_,M),n.server_.put(e.toString(),u.val(!0),(G,ne)=>{const ae="ok"===G;ae||Qc("set at "+e+" failed: "+G);const ye=Zg(n.serverSyncTree_,C,!ae);Gu(n.eventQueue_,e,ye),Kg(0,r,G,ne)});const L=zL(n,e);fw(n,L),Gu(n.eventQueue_,L,[])}function Tte(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&lL(n.onDisconnect_,e),Kg(0,t,i,r)})}function Z4(n,e,t,i){const r=ss(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,u)=>{"ok"===s&&cw(n.onDisconnect_,e,r),Kg(0,i,s,u)})}function BL(n,e,t){let i;i=".info"===Ti(e._path)?tO(n.infoSyncTree_,e,t):tO(n.serverSyncTree_,e,t),z4(n.eventQueue_,e._path,i)}function K4(n){n.persistentConnection_&&n.persistentConnection_.interrupt($4)}function hw(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),qa(t,...e)}function Kg(n,e,t,i){e&&iw(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const u=new Error(s);u.code=r,e(u)}})}function jL(n,e,t){return nO(n.serverSyncTree_,e,t)||hi.EMPTY_NODE}function lO(n,e=n.transactionQueueTree_){if(e||uO(n,e),by(e)){const t=Q4(n,e);(0,ie.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function Rte(n,e,t){const i=t.map(C=>C.currentWriteId),r=jL(n,e,i);let s=r;const u=r.hash();for(let C=0;C<t.length;C++){const M=t[C];(0,ie.hu)(0===M.status,"tryToSendTransactionQueue_: items in queue should all be run."),M.status=1,M.retryCount++;const L=Ml(e,M.path);s=s.updateChild(L,M.currentOutputSnapshotRaw)}const m=s.val(!0),v=e;n.server_.put(v.toString(),m,C=>{hw(n,"transaction put response",{path:v.toString(),status:C});let M=[];if("ok"===C){const L=[];for(let G=0;G<t.length;G++)t[G].status=2,M=M.concat(Zg(n.serverSyncTree_,t[G].currentWriteId)),t[G].onComplete&&L.push(()=>t[G].onComplete(null,!0,t[G].currentOutputSnapshotResolved)),t[G].unwatcher();uO(n,rO(n.transactionQueueTree_,e)),lO(n,n.transactionQueueTree_),Gu(n.eventQueue_,e,M);for(let G=0;G<L.length;G++)iw(L[G])}else{if("datastale"===C)for(let L=0;L<t.length;L++)t[L].status=3===t[L].status?4:0;else{Qc("transaction at "+v.toString()+" failed: "+C);for(let L=0;L<t.length;L++)t[L].status=4,t[L].abortReason=C}fw(n,e)}},u)}(n,QI(e),t)}else L4(e)&&oO(e,t=>{lO(n,t)})}function fw(n,e){const t=Y4(n,e),i=QI(t);return function Pte(n,e,t){if(0===e.length)return;const i=[];let r=[];const u=e.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<e.length;m++){const v=e[m],C=Ml(t,v.path);let L,M=!1;if((0,ie.hu)(null!==C,"rerunTransactionsUnderNode_: relativePath should not be null."),4===v.status)M=!0,L=v.abortReason,r=r.concat(Zg(n.serverSyncTree_,v.currentWriteId,!0));else if(0===v.status)if(v.retryCount>=yte)M=!0,L="maxretry",r=r.concat(Zg(n.serverSyncTree_,v.currentWriteId,!0));else{const G=jL(n,v.path,u);v.currentInputSnapshot=G;const ne=e[m].update(G.val());if(void 0!==ne){JI("transaction failed: Data returned ",ne,v.path);let ae=ss(ne);"object"==typeof ne&&null!=ne&&(0,ie.r3)(ne,".priority")||(ae=ae.updatePriority(G.getPriority()));const We=v.currentWriteId,wt=nT(n),Ot=OL(ae,G,wt);v.currentOutputSnapshotRaw=ae,v.currentOutputSnapshotResolved=Ot,v.currentWriteId=cO(n),u.splice(u.indexOf(We),1),r=r.concat(xL(n.serverSyncTree_,v.path,Ot,v.currentWriteId,v.applyLocally)),r=r.concat(Zg(n.serverSyncTree_,We,!0))}else M=!0,L="nodata",r=r.concat(Zg(n.serverSyncTree_,v.currentWriteId,!0))}Gu(n.eventQueue_,t,r),r=[],M&&(e[m].status=2,setTimeout(e[m].unwatcher,Math.floor(0)),e[m].onComplete&&i.push("nodata"===L?()=>e[m].onComplete(null,!1,e[m].currentInputSnapshot):()=>e[m].onComplete(new Error(L),!1,null)))}uO(n,n.transactionQueueTree_);for(let m=0;m<i.length;m++)iw(i[m]);lO(n,n.transactionQueueTree_)}(n,Q4(n,t),i),i}function Y4(n,e){let t,i=n.transactionQueueTree_;for(t=Ti(e);null!==t&&void 0===by(i);)i=rO(i,t),t=Ti(e=oo(e));return i}function Q4(n,e){const t=[];return X4(n,e,t),t.sort((i,r)=>i.order-r.order),t}function X4(n,e,t){const i=by(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);oO(e,r=>{X4(n,r,t)})}function uO(n,e){const t=by(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,kL(e,t.length>0?t:void 0)}oO(e,i=>{uO(n,i)})}function zL(n,e){const t=QI(Y4(n,e)),i=rO(n.transactionQueueTree_,e);return function ute(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{HL(n,r)}),HL(n,i),U4(i,r=>{HL(n,r)}),t}function HL(n,e){const t=by(e);if(t){const i=[];let r=[],s=-1;for(let u=0;u<t.length;u++)3===t[u].status||(1===t[u].status?((0,ie.hu)(s===u-1,"All SENT items should be at beginning of queue."),s=u,t[u].status=3,t[u].abortReason="set"):((0,ie.hu)(0===t[u].status,"Unexpected transaction status in abort"),t[u].unwatcher(),r=r.concat(Zg(n.serverSyncTree_,t[u].currentWriteId,!0)),t[u].onComplete&&i.push(t[u].onComplete.bind(null,new Error("set"),!1,null))));-1===s?kL(e,void 0):t.length=s+1,Gu(n.eventQueue_,QI(e),r);for(let u=0;u<i.length;u++)iw(i[u])}}const $L=function(n,e){const t=Fte(n),i=t.namespace;return"firebase.com"===t.domain&&Bf(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Bf("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Qc("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new qF(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Ar(t.pathString)}},Fte=function(n){let e="",t="",i="",r="",s="",u=!0,m="https",v=443;if("string"==typeof n){let C=n.indexOf("//");C>=0&&(m=n.substring(0,C-1),n=n.substring(C+2));let M=n.indexOf("/");-1===M&&(M=n.length);let L=n.indexOf("?");-1===L&&(L=n.length),e=n.substring(0,Math.min(M,L)),M<L&&(r=function kte(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(M,L)));const G=function Nte(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Qc(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,L)));C=e.indexOf(":"),C>=0?(u="https"===m||"wss"===m,v=parseInt(e.substring(C+1),10)):C=e.length;const ne=e.slice(0,C);if("localhost"===ne.toLowerCase())t="localhost";else if(ne.split(".").length<=2)t=ne;else{const ae=e.indexOf(".");i=e.substring(0,ae).toLowerCase(),t=e.substring(ae+1),s=i}"ns"in G&&(s=G.ns)}return{host:e,port:v,domain:t,subdomain:i,secure:u,scheme:m,pathString:r,namespace:s}},J4="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Lte=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=J4.charAt(t%64),t=Math.floor(t/64);(0,ie.hu)(0===t,"Cannot push at time == 0");let u=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)u+=J4.charAt(e[r]);return(0,ie.hu)(20===u.length,"nextPushId: Length should be 20."),u}}();class e6{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ie.Wl)(this.snapshot.exportVal())}}class t6{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class GL{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,ie.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class n6{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new ie.BH;return Tte(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Bd("OnDisconnect.remove",this._path);const e=new ie.BH;return Z4(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Bd("OnDisconnect.set",this._path),Hf("OnDisconnect.set",e,this._path,!1);const t=new ie.BH;return Z4(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Bd("OnDisconnect.setWithPriority",this._path),Hf("OnDisconnect.setWithPriority",e,this._path,!1),LL("OnDisconnect.setWithPriority",t,!1);const i=new ie.BH;return function Dte(n,e,t,i,r){const s=ss(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(u,m)=>{"ok"===u&&cw(n.onDisconnect_,e,s),Kg(0,r,u,m)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){Bd("OnDisconnect.update",this._path),B4("OnDisconnect.update",e,this._path,!1);const t=new ie.BH;return function Ste(n,e,t,i){if((0,ie.xb)(t))return qa("onDisconnect().update() called with empty data.  Don't do anything."),void Kg(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&Wa(t,(u,m)=>{const v=ss(m);cw(n.onDisconnect_,qo(e,u),v)}),Kg(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class du{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Di(this._path)?null:XF(this._path)}get ref(){return new jd(this._repo,this._path)}get _queryIdentifier(){const e=s4(this._queryParams),t=$F(e);return"{}"===t?"default":t}get _queryObject(){return s4(this._queryParams)}isEqual(e){if(!((e=(0,ie.m9)(e))instanceof du))return!1;const t=this._repo===e._repo,i=JF(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function SJ(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function dO(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Yg(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===jf){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==jg)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==sm)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===fo){if(null!=e&&!XI(e)||null!=t&&!XI(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ie.hu)(n.getIndex()instanceof rL||n.getIndex()===oL,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function hO(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class jd extends du{constructor(e,t){super(e,t,new j1,!1)}get parent(){const e=ZH(this._path);return null===e?null:new jd(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class wy{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ar(e),i=Ey(this.ref,e);return new wy(this._node.getChild(t),i,fo)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new wy(r,Ey(this.ref,i),fo)))}hasChild(e){const t=new Ar(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function i6(n,e){return(n=(0,ie.m9)(n))._checkNotDeleted("ref"),void 0!==e?Ey(n._root,e):n._root}function r6(n,e){(n=(0,ie.m9)(n))._checkNotDeleted("refFromURL");const t=$L(e,n._repo.repoInfo_.nodeAdmin);j4("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Bf("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),i6(n,t.path.toString())}function Ey(n,e){return null===Ti((n=(0,ie.m9)(n))._path)?gte("child","path",e,!1):tT("child","path",e,!1),new jd(n._repo,qo(n._path,e))}function qL(n,e){n=(0,ie.m9)(n),Bd("set",n._path),Hf("set",e,n._path,!1);const t=new ie.BH;return VL(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function zte(n,e){B4("update",e,n._path,!1);const t=new ie.BH;return function xte(n,e,t,i){hw(n,"update",{path:e.toString(),value:t});let r=!0;const s=nT(n),u={};if(Wa(t,(m,v)=>{r=!1,u[m]=F4(qo(e,m),ss(v),n.serverSyncTree_,s)}),r)qa("update() called with empty data.  Don't do anything."),Kg(0,i,"ok",void 0);else{const m=cO(n),v=function Yee(n,e,t,i){!function fee(n,e,t,i){(0,ie.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=mL(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=po.fromObject(t);return dw(n,new lw({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,u,m);aO(n.eventQueue_,v),n.server_.merge(e.toString(),t,(C,M)=>{const L="ok"===C;L||Qc("update at "+e+" failed: "+C);const G=Zg(n.serverSyncTree_,m,!L),ne=G.length>0?fw(n,e):e;Gu(n.eventQueue_,ne,G),Kg(0,i,C,M)}),Wa(t,C=>{const M=zL(n,qo(e,C));fw(n,M)}),Gu(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function Hte(n){n=(0,ie.m9)(n);const e=new GL(()=>{}),t=new iT(e);return function Cte(n,e,t){const i=function tte(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(C,M)=>{const L=Ml(C,t);i=i||qg(M,L)});let r=n.syncPointTree_.get(t);r?i=i||qg(r,ar()):(r=new I4,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,u=s?new $g(i,!0,!1):null;return function Uee(n){return W1(n.viewCache_)}(T4(r,e,Z1(n.pendingWriteTree_,e._path),s?u.getNode():hi.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const s=ss(r).withIndex(e._queryParams.getIndex());let u;if(IL(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())u=ZI(n.serverSyncTree_,e._path,s);else{const m=KI(n.serverSyncTree_,e);u=O4(n.serverSyncTree_,e._path,s,m)}return Gu(n.eventQueue_,e._path,u),tO(n.serverSyncTree_,e,t,null,!0),s},r=>(hw(n,"get for query "+(0,ie.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new wy(i,new jd(n._repo,n._path),n._queryParams.getIndex()))}class iT{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new e6("value",this,new wy(e.snapshotNode,new jd(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new t6(this,e,t):null}matches(e){return e instanceof iT&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class fO{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new t6(this,e,t):null}createEvent(e,t){(0,ie.hu)(null!=e.childName,"Child events should have a childName.");const i=Ey(new jd(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new e6(e.type,this,new wy(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof fO&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function rT(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const v=t,C=(M,L)=>{BL(n._repo,n,m),v(M,L)};C.userCallback=t.userCallback,C.context=t.context,t=C}const u=new GL(t,s||void 0),m="value"===e?new iT(u):new fO(e,u);return function Ate(n,e,t){let i;i=".info"===Ti(e._path)?IL(n.infoSyncTree_,e,t):IL(n.serverSyncTree_,e,t),z4(n.eventQueue_,e._path,i)}(n._repo,n,m),()=>BL(n._repo,n,m)}function WL(n,e,t,i){return rT(n,"value",e,t,i)}function o6(n,e,t,i){return rT(n,"child_added",e,t,i)}function s6(n,e,t,i){return rT(n,"child_changed",e,t,i)}function a6(n,e,t,i){return rT(n,"child_moved",e,t,i)}function c6(n,e,t,i){return rT(n,"child_removed",e,t,i)}function l6(n,e,t){let i=null;const r=t?new GL(t):null;"value"===e?i=new iT(r):e&&(i=new fO(e,r)),BL(n._repo,n,i)}class kh{}class u6 extends kh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Hf("endAt",this._value,e._path,!0);const t=cL(e._queryParams,this._value,this._key);if(hO(t),Yg(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new du(e._repo,e._path,t,e._orderByCalled)}}class Gte extends kh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Hf("endBefore",this._value,e._path,!1);const t=function eee(n,e,t){let i;return i=cL(n,e,n.index_===jf||t?t:jg),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(hO(t),Yg(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new du(e._repo,e._path,t,e._orderByCalled)}}class d6 extends kh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Hf("startAt",this._value,e._path,!0);const t=aL(e._queryParams,this._value,this._key);if(hO(t),Yg(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new du(e._repo,e._path,t,e._orderByCalled)}}class Zte extends kh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Hf("startAfter",this._value,e._path,!1);const t=function JJ(n,e,t){let i;return i=aL(n,e,n.index_===jf||t?t:sm),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(hO(t),Yg(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new du(e._repo,e._path,t,e._orderByCalled)}}class Yte extends kh{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new du(e._repo,e._path,function QJ(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class Xte extends kh{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new du(e._repo,e._path,function XJ(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class ene extends kh{constructor(e){super(),this._path=e}_apply(e){dO(e,"orderByChild");const t=new Ar(this._path);if(Di(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new rL(t),r=z1(e._queryParams,i);return Yg(r),new du(e._repo,e._path,r,!0)}}class nne extends kh{_apply(e){dO(e,"orderByKey");const t=z1(e._queryParams,jf);return Yg(t),new du(e._repo,e._path,t,!0)}}class rne extends kh{_apply(e){dO(e,"orderByPriority");const t=z1(e._queryParams,fo);return Yg(t),new du(e._repo,e._path,t,!0)}}class sne extends kh{_apply(e){dO(e,"orderByValue");const t=z1(e._queryParams,oL);return Yg(t),new du(e._repo,e._path,t,!0)}}class cne extends kh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Hf("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new u6(this._value,this._key)._apply(new d6(this._value,this._key)._apply(e))}}function Nh(n,...e){let t=(0,ie.m9)(n);for(const i of e)t=i._apply(t);return t}(function zee(n){(0,ie.hu)(!X1,"__referenceConstructor has already been defined"),X1=n})(jd),function Wee(n){(0,ie.hu)(!eO,"__referenceConstructor has already been defined"),eO=n}(jd);const ZL={};function f6(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Bf("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qa("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let v,C,u=$L(s,r),m=u.repoInfo;typeof process<"u"&&process.env&&(C=process.env.FIREBASE_DATABASE_EMULATOR_HOST),C?(v=!0,s=`http://${C}?ns=${m.namespace}`,u=$L(s,r),m=u.repoInfo):v=!u.repoInfo.secure;const M=r&&v?new FI(FI.OWNER):new iJ(n.name,n.options,e);j4("Invalid Firebase Database URL",u),Di(u.path)||Bf("Database URL must point to the root of a Firebase Database (not including a child path).");const L=function fne(n,e,t,i){let r=ZL[e.name];r||(r={},ZL[e.name]=r);let s=r[n.toURLString()];return s&&Bf("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new bte(n,false,t,i),r[n.toURLString()]=s,s}(m,n,M,new nJ(n.name,t));return new mne(L,n)}class mne{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function wte(n,e,t){if(n.stats_=KF(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new H1(n.repoInfo_,(i,r,s,u)=>{q4(n,i,r,s,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>W4(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ie.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new gy(n.repoInfo_,e,(i,r,s,u)=>{q4(n,i,r,s,u)},i=>{W4(n,i)},i=>{!function Ete(n,e){Wa(e,(t,i)=>{UL(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function sJ(n,e){const t=n.toString();return ZF[t]||(ZF[t]=e()),ZF[t]}(n.repoInfo_,()=>new see(n.stats_,n.server_)),n.infoData_=new tee,n.infoSyncTree_=new M4({startListening:(i,r,s,u)=>{let m=[];const v=n.infoData_.getNode(i._path);return v.isEmpty()||(m=ZI(n.infoSyncTree_,i._path,v),setTimeout(()=>{u("ok")},0)),m},stopListening:()=>{}}),UL(n,"connected",!1),n.serverSyncTree_=new M4({startListening:(i,r,s,u)=>(n.server_.listen(i,s,r,(m,v)=>{const C=u(m,v);Gu(n.eventQueue_,i._path,C)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new jd(this._repo,ar())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function hne(n,e){const t=ZL[e];(!t||t[n.key]!==n)&&Bf(`Database ${e}(${n.repoInfo_}) has already been deleted.`),K4(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Bf("Cannot call "+e+" on a deleted database.")}}function p6(){FH.IS_TRANSPORT_INITIALIZED&&Qc("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function gne(){p6(),zg.forceDisallow()}function _ne(){p6(),rw.forceDisallow(),zg.forceAllow()}function bne(n,e){gH(n,e)}const Ene={".sv":"timestamp"};class Ine{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}gy.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},gy.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function wne(n){dH(Ds.SDK_VERSION),(0,Ds._registerComponent)(new tu.wA("database",(e,{instanceIdentifier:t})=>f6(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Ds.registerVersion)(lH,"0.14.4",n),(0,Ds.registerVersion)(lH,"0.14.4","esm2017")}();const Ane=new Mu.Yd("@firebase/database-compat"),g6=function(n){Ane.warn("FIREBASE WARNING: "+n)};class Rne{constructor(e){this._delegate=e}cancel(e){(0,ie.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ie.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,ie.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ie.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,ie.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ie.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,ie.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ie.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,ie.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,g6("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ie.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class Pne{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,ie.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Qg{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,ie.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ie.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ie.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ie.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,ie.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),tT("DataSnapshot.child","path",e,!1),new Qg(this._database,this._delegate.child(e))}hasChild(e){return(0,ie.Dv)("DataSnapshot.hasChild",1,1,arguments.length),tT("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,ie.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,ie.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ie.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Qg(this._database,t)))}hasChildren(){return(0,ie.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ie.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ie.Dv)("DataSnapshot.ref",0,0,arguments.length),new qu(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class gc{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,ie.Dv)("Query.on",2,4,arguments.length),(0,ie.Wj)("Query.on","callback",t,!1);const u=gc.getCancelAndContextArgs_("Query.on",i,r),m=(C,M)=>{t.call(u.context,new Qg(this.database,C),M)};m.userCallback=t,m.context=u.context;const v=null===(s=u.cancel)||void 0===s?void 0:s.bind(u.context);switch(e){case"value":return WL(this._delegate,m,v),t;case"child_added":return o6(this._delegate,m,v),t;case"child_removed":return c6(this._delegate,m,v),t;case"child_changed":return s6(this._delegate,m,v),t;case"child_moved":return a6(this._delegate,m,v),t;default:throw new Error((0,ie.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,ie.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ie.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,ie.Wj)("Query.off","callback",t,!0),(0,ie.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,l6(this._delegate,e,r)}else l6(this._delegate,e)}get(){return Hte(this._delegate).then(e=>new Qg(this.database,e))}once(e,t,i,r){(0,ie.Dv)("Query.once",1,4,arguments.length),(0,ie.Wj)("Query.once","callback",t,!0);const s=gc.getCancelAndContextArgs_("Query.once",i,r),u=new ie.BH,m=(C,M)=>{const L=new Qg(this.database,C);t&&t.call(s.context,L,M),u.resolve(L)};m.userCallback=t,m.context=s.context;const v=C=>{s.cancel&&s.cancel.call(s.context,C),u.reject(C)};switch(e){case"value":WL(this._delegate,m,v,{onlyOnce:!0});break;case"child_added":o6(this._delegate,m,v,{onlyOnce:!0});break;case"child_removed":c6(this._delegate,m,v,{onlyOnce:!0});break;case"child_changed":s6(this._delegate,m,v,{onlyOnce:!0});break;case"child_moved":a6(this._delegate,m,v,{onlyOnce:!0});break;default:throw new Error((0,ie.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}limitToFirst(e){return(0,ie.Dv)("Query.limitToFirst",1,1,arguments.length),new gc(this.database,Nh(this._delegate,function Qte(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Yte(n)}(e)))}limitToLast(e){return(0,ie.Dv)("Query.limitToLast",1,1,arguments.length),new gc(this.database,Nh(this._delegate,function Jte(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Xte(n)}(e)))}orderByChild(e){return(0,ie.Dv)("Query.orderByChild",1,1,arguments.length),new gc(this.database,Nh(this._delegate,function tne(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return tT("orderByChild","path",n,!1),new ene(n)}(e)))}orderByKey(){return(0,ie.Dv)("Query.orderByKey",0,0,arguments.length),new gc(this.database,Nh(this._delegate,function ine(){return new nne}()))}orderByPriority(){return(0,ie.Dv)("Query.orderByPriority",0,0,arguments.length),new gc(this.database,Nh(this._delegate,function one(){return new rne}()))}orderByValue(){return(0,ie.Dv)("Query.orderByValue",0,0,arguments.length),new gc(this.database,Nh(this._delegate,function ane(){return new sne}()))}startAt(e=null,t){return(0,ie.Dv)("Query.startAt",0,2,arguments.length),new gc(this.database,Nh(this._delegate,function Wte(n=null,e){return eT("startAt","key",e,!0),new d6(n,e)}(e,t)))}startAfter(e=null,t){return(0,ie.Dv)("Query.startAfter",0,2,arguments.length),new gc(this.database,Nh(this._delegate,function Kte(n,e){return eT("startAfter","key",e,!0),new Zte(n,e)}(e,t)))}endAt(e=null,t){return(0,ie.Dv)("Query.endAt",0,2,arguments.length),new gc(this.database,Nh(this._delegate,function $te(n,e){return eT("endAt","key",e,!0),new u6(n,e)}(e,t)))}endBefore(e=null,t){return(0,ie.Dv)("Query.endBefore",0,2,arguments.length),new gc(this.database,Nh(this._delegate,function qte(n,e){return eT("endBefore","key",e,!0),new Gte(n,e)}(e,t)))}equalTo(e,t){return(0,ie.Dv)("Query.equalTo",1,2,arguments.length),new gc(this.database,Nh(this._delegate,function lne(n,e){return eT("equalTo","key",e,!0),new cne(n,e)}(e,t)))}toString(){return(0,ie.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ie.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,ie.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof gc))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,ie.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,ie.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,ie.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new qu(this.database,new jd(this._delegate._repo,this._delegate._path))}}class qu extends gc{constructor(e,t){super(e,new du(t._repo,t._path,new j1,!1)),this.database=e,this._delegate=t}getKey(){return(0,ie.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,ie.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new qu(this.database,Ey(this._delegate,e))}getParent(){(0,ie.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new qu(this.database,e):null}getRoot(){return(0,ie.Dv)("Reference.root",0,0,arguments.length),new qu(this.database,this._delegate.root)}set(e,t){(0,ie.Dv)("Reference.set",1,2,arguments.length),(0,ie.Wj)("Reference.set","onComplete",t,!0);const i=qL(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,ie.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,g6("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Bd("Reference.update",this._delegate._path),(0,ie.Wj)("Reference.update","onComplete",t,!0);const i=zte(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,ie.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ie.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function jte(n,e,t){if(Bd("setWithPriority",n._path),Hf("setWithPriority",e,n._path,!1),LL("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new ie.BH;return VL(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,ie.Dv)("Reference.remove",0,1,arguments.length),(0,ie.Wj)("Reference.remove","onComplete",e,!0);const t=function Vte(n){return Bd("remove",n._path),qL(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,ie.Dv)("Reference.transaction",1,3,arguments.length),(0,ie.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,ie.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,ie.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function Tne(n,e,t){var i;if(n=(0,ie.m9)(n),Bd("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,s=new ie.BH,m=WL(n,()=>{});return function Ote(n,e,t,i,r,s){hw(n,"transaction on "+e);const u={path:e,update:t,onComplete:i,status:null,order:fH(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=jL(n,e,void 0);u.currentInputSnapshot=m;const v=u.update(m.val());if(void 0===v)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{JI("transaction failed: Data returned ",v,u.path),u.status=0;const C=rO(n.transactionQueueTree_,e),M=by(C)||[];let L;M.push(u),kL(C,M),"object"==typeof v&&null!==v&&(0,ie.r3)(v,".priority")?(L=(0,ie.DV)(v,".priority"),(0,ie.hu)(XI(L),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):L=(nO(n.serverSyncTree_,e)||hi.EMPTY_NODE).getPriority().val();const G=nT(n),ne=ss(v,L),ae=OL(ne,m,G);u.currentOutputSnapshotRaw=ne,u.currentOutputSnapshotResolved=ae,u.currentWriteId=cO(n);const ye=xL(n.serverSyncTree_,e,ae,u.currentWriteId,u.applyLocally);Gu(n.eventQueue_,e,ye),lO(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(v,C,M)=>{let L=null;v?s.reject(v):(L=new wy(M,new jd(n._repo,n._path),fo),s.resolve(new Ine(C,L)))},m,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new Pne(s.committed,new Qg(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,ie.Dv)("Reference.setPriority",1,2,arguments.length),(0,ie.Wj)("Reference.setPriority","onComplete",t,!0);const i=function Bte(n,e){n=(0,ie.m9)(n),Bd("setPriority",n._path),LL("setPriority",e,!1);const t=new ie.BH;return VL(n._repo,qo(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,ie.Dv)("Reference.push",0,2,arguments.length),(0,ie.Wj)("Reference.push","onComplete",t,!0);const i=function Ute(n,e){n=(0,ie.m9)(n),Bd("push",n._path),Hf("push",e,n._path,!0);const t=G4(n._repo),i=Lte(t),r=Ey(n,i),s=Ey(n,i);let u;return u=null!=e?qL(s,e).then(()=>s):Promise.resolve(s),r.then=u.then.bind(u),r.catch=u.then.bind(u,void 0),r}(this._delegate,e),r=i.then(u=>new qu(this.database,u));t&&r.then(()=>t(null),u=>t(u));const s=new qu(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Bd("Reference.onDisconnect",this._delegate._path),new Rne(new n6(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class oT{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:gne,forceLongPolling:_ne}}useEmulator(e,t,i={}){!function m6(n,e,t,i={}){(n=(0,ie.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Bf("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Bf('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new FI(FI.OWNER);else if(i.mockUserToken){const u="string"==typeof i.mockUserToken?i.mockUserToken:(0,ie.Sg)(i.mockUserToken,n.app.options.projectId);s=new FI(u)}!function dne(n,e,t,i){n.repoInfo_=new qF(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,ie.Dv)("database.ref",0,1,arguments.length),e instanceof qu){const t=r6(this._delegate,e.toString());return new qu(this,t)}{const t=i6(this._delegate,e);return new qu(this,t)}}refFromURL(e){(0,ie.Dv)("database.refFromURL",1,1,arguments.length);const i=r6(this._delegate,e);return new qu(this,i)}goOffline(){return(0,ie.Dv)("database.goOffline",0,0,arguments.length),function vne(n){(n=(0,ie.m9)(n))._checkNotDeleted("goOffline"),K4(n._repo)}(this._delegate)}goOnline(){return(0,ie.Dv)("database.goOnline",0,0,arguments.length),function yne(n){(n=(0,ie.m9)(n))._checkNotDeleted("goOnline"),function Mte(n){n.persistentConnection_&&n.persistentConnection_.resume($4)}(n._repo)}(this._delegate)}}oT.ServerValue={TIMESTAMP:function Cne(){return Ene}(),increment:n=>function xne(n){return{".sv":{increment:n}}}(n)};var Nne=Object.freeze({__proto__:null,initStandalone:function kne({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){dH(t);const u=new tu.zt("auth-internal",new tu.H0("database-standalone"));return u.setComponent(new tu.wA("auth-internal",()=>i,"PRIVATE")),{instance:new oT(f6(n,u,void 0,e,s),n),namespace:r}}});const Fne=oT.ServerValue;!function Lne(n){n.INTERNAL.registerComponent(new tu.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new oT(r,i)},"PUBLIC").setServiceProps({Reference:qu,Query:gc,Database:oT,DataSnapshot:Qg,enableLogging:bne,INTERNAL:Nne,ServerValue:Fne}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(cH.Z);var pO=Q(3093);function _6(n,e){return(0,Fd.m)(e)?(0,Go.w)(()=>n,e):(0,Go.w)(()=>n)}var KL=Q(5137),v6=Q(120);const YL=new l.OlP("angularfire2.auth.use-emulator"),QL=new l.OlP("angularfire2.auth.settings"),XL=new l.OlP("angularfire2.auth.tenant-id"),JL=new l.OlP("angularfire2.auth.langugage-code"),e2=new l.OlP("angularfire2.auth.use-device-language"),t2=new l.OlP("angularfire.auth.persistence"),n2=(n,e,t,i,r,s,u,m)=>(0,Al.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),i&&(v.tenantId=i),v.languageCode=r,s&&v.useDeviceLanguage(),u)for(const[C,M]of Object.entries(u))v.settings[C]=M;return m&&v.setPersistence(m),v},[t,i,r,s,u,m]);let r2=(()=>{class n{constructor(t,i,r,s,u,m,v,C,M,L,G,ne){const ae=new jn.x,ye=(0,_n.of)(void 0).pipe((0,pO.Q)(u.outsideAngular),(0,Go.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(Q.bind(Q,8661)))),(0,gn.U)(()=>(0,Al.on)(t,s,i)),(0,gn.U)(We=>n2(We,s,m,C,M,L,v,G)),LF({bufferSize:1,refCount:!1}));if(wr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,_n.of)(null);else{ye.pipe(Dg()).subscribe();const wt=ye.pipe((0,Go.w)(Lt=>Lt.getRedirectResult().then(Mn=>Mn,()=>null)),An.iC,LF({bufferSize:1,refCount:!1})),Ot=ye.pipe((0,Go.w)(Lt=>new rr.y(Mn=>({unsubscribe:s.runOutsideAngular(()=>Lt.onAuthStateChanged(Pn=>Mn.next(Pn),Pn=>Mn.error(Pn),()=>Mn.complete()))})))),Mt=ye.pipe((0,Go.w)(Lt=>new rr.y(Mn=>({unsubscribe:s.runOutsideAngular(()=>Lt.onIdTokenChanged(Pn=>Mn.next(Pn),Pn=>Mn.error(Pn),()=>Mn.complete()))}))));this.authState=wt.pipe(_6(Ot),(0,KL.R)(u.outsideAngular),(0,pO.Q)(u.insideAngular)),this.user=wt.pipe(_6(Mt),(0,KL.R)(u.outsideAngular),(0,pO.Q)(u.insideAngular)),this.idToken=this.user.pipe((0,Go.w)(Lt=>Lt?(0,Sr.D)(Lt.getIdToken()):(0,_n.of)(null))),this.idTokenResult=this.user.pipe((0,Go.w)(Lt=>Lt?(0,Sr.D)(Lt.getIdTokenResult()):(0,_n.of)(null))),this.credential=(0,Bg.T)(wt,ae,this.authState.pipe(or(Lt=>!Lt))).pipe((0,gn.U)(Lt=>Lt?.user?Lt:null),(0,KL.R)(u.outsideAngular),(0,pO.Q)(u.insideAngular))}return(0,Al.pX)(this,ye,s,{spy:{apply:(We,wt,Ot)=>{(We.startsWith("signIn")||We.startsWith("createUser"))&&Ot.then(Mt=>ae.next(Mt))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Al.Dh),l.LFG(Al.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(An.HU),l.LFG(YL,8),l.LFG(QL,8),l.LFG(XL,8),l.LFG(JL,8),l.LFG(e2,8),l.LFG(t2,8),l.LFG(fp,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function y6(n){return null==n}function b6(n){return"function"==typeof n.set}function w6(n,e){return b6(e)?e:n.ref(e)}function E6(n,e){if(function Vne(n){return"string"==typeof n}(n))return e.stringCase();if(b6(n))return e.firebaseCase();if(function Bne(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function sT(n,e,t="on",i=J0.z){return new rr.y(r=>{let s=null;return s=n[t](e,(u,m)=>{i.schedule(()=>{r.next({snapshot:u,prevKey:m})}),"once"===t&&i.schedule(()=>r.complete())},u=>{i.schedule(()=>r.error(u))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,gn.U)(r=>{const{snapshot:s,prevKey:u}=r;let m=null;return s.exists()&&(m=s.key),{type:e,payload:s,prevKey:u,key:m}}),(0,EF.B)())}function C6(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function Hne(n,e){const{payload:t,prevKey:i,key:r}=e,s=C6(n,r),u=function zne(n,e){if(y6(e))return 0;{const t=C6(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let m=null;e.payload.forEach(v=>{const C={payload:v,type:"value",prevKey:m,key:v.key};return m=v.key,n=[...n,C],!1})}return n;case"child_added":if(s>-1){const m=n[s-1];(m&&m.key||null)!==i&&(n=n.filter(v=>v.payload.key!==t.key)).splice(u,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(u,0,e)}return n;case"child_removed":return n.filter(m=>m.payload.key!==t.key);case"child_changed":return n.map(m=>m.payload.key===r?e:m);case"child_moved":if(s>-1){const m=n.splice(s,1)[0];return(n=n.slice()).splice(u,0,m),n}return n;default:return n}}function x6(n){return(y6(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function I6(n,e,t){return function jne(n,e,t){return sT(n,"value","once",t).pipe((0,Go.w)(i=>{const r=[(0,_n.of)(i)];return e.forEach(s=>r.push(sT(n,s,"on",t))),(0,Bg.T)(...r).pipe(U0(Hne,[]))}),(0,uF.x)())}(n,e=x6(e),t)}function T6(n,e,t){const i=(e=x6(e)).map(r=>sT(n,r,"on",t));return(0,Bg.T)(...i)}function D6(n,e){return function(i,r){return E6(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function Wne(n){return function(t){return t?E6(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function S6(n,e){return function(){return sT(n,"value","on",e)}}const Yne=new l.OlP("angularfire2.realtimeDatabaseURL"),Qne=new l.OlP("angularfire2.database.use-emulator");let A6=(()=>{class n{constructor(t,i,r,s,u,m,v,C,M,L,G,ne,ae,ye,We){this.schedulers=m;const wt=v,Ot=(0,Al.on)(t,u,i);C&&n2(Ot,u,M,G,ne,ae,L,ye),this.database=(0,Al.cc)(`${Ot.name}.database.${r}`,"AngularFireDatabase",Ot.name,()=>{const Mt=u.runOutsideAngular(()=>Ot.database(r||void 0));return wt&&Mt.useEmulator(...wt),Mt},[wt])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>w6(this.database,t));let s=r;return i&&(s=i(r)),function Zne(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:D6(i,"update"),set:D6(i,"set"),push:r=>i.push(r),remove:Wne(i),snapshotChanges:r=>I6(n,r,t).pipe(An.iC),stateChanges:r=>T6(n,r,t).pipe(An.iC),auditTrail:r=>function $ne(n,e,t){return function qne(n,e,t){return function Gne(n,e){return sT(n,"value","on",e).pipe((0,gn.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function zX(...n){const e=(0,F0.jO)(n);return(0,kr.e)((t,i)=>{const r=n.length,s=new Array(r);let u=n.map(()=>!1),m=!1;for(let v=0;v<r;v++)(0,So.Xf)(n[v]).subscribe((0,ci.x)(i,C=>{s[v]=C,!m&&!u[v]&&(u[v]=!0,(m=u.every(qx.y))&&(u=null))},yN.Z));t.subscribe((0,ci.x)(i,v=>{if(m){const C=[v,...s];i.next(e?e(...C):C)}}))})}(e),(0,gn.U)(([r,s])=>{const u=r.lastKeyToLoad,m=s.map(v=>v.key);return{actions:s,lastKeyToLoad:u,loadedKeys:m}}),function HX(n){return(0,kr.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,ci.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,gn.U)(r=>r.actions))}(n,T6(n,e).pipe(U0((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(An.iC),valueChanges:(r,s)=>I6(n,r,t).pipe((0,gn.U)(m=>m.map(v=>s&&s.idField?Object.assign(Object.assign({},v.payload.val()),{[s.idField]:v.key}):v.payload.val())),An.iC)}}(s,this)}object(t){return function Kne(n,e){return{query:n,snapshotChanges:()=>S6(n,e.schedulers.outsideAngular)().pipe(An.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>S6(n,e.schedulers.outsideAngular)().pipe(An.iC,(0,gn.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>w6(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Al.Dh),l.LFG(Al.xv,8),l.LFG(Yne,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(An.HU),l.LFG(Qne,8),l.LFG(r2,8),l.LFG(YL,8),l.LFG(QL,8),l.LFG(XL,8),l.LFG(JL,8),l.LFG(e2,8),l.LFG(t2,8),l.LFG(fp,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),M6=(()=>{class n{constructor(){v6.Z.registerVersion("angularfire",An.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[A6]}),n})(),Xne=(()=>{class n{constructor(t){this.db=t,this.closeModalEvent=new l.vpe}ngOnInit(){}closeModal(){this.closeModalEvent.emit()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(A6))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-modal"]],inputs:{product:"product"},outputs:{closeModalEvent:"closeModalEvent"},decls:11,vars:4,consts:[[1,"modal-container"],[1,"modal-content"],[1,"modal-image",3,"src"],[3,"click"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0)(1,"div",1)(2,"p"),l._uU(3),l.qZA(),l.TgZ(4,"p"),l._uU(5),l.qZA(),l.TgZ(6,"p"),l._uU(7),l.qZA(),l._UZ(8,"img",2),l.TgZ(9,"button",3),l.NdJ("click",function(){return r.closeModal()}),l._uU(10,"Bez\xe1r\xe1s"),l.qZA()()()),2&i&&(l.xp6(3),l.hij(" ",r.product.productName,""),l.xp6(2),l.hij("\xc1r: ",r.product.price," "),l.xp6(2),l.hij("Le\xedr\xe1s: ",r.product.description," "),l.xp6(1),l.Q6J("src",r.product.imagePath,l.LSH))},styles:['@charset "UTF-8";.modal-container[_ngcontent-%COMP%]{background-color:#00000080;display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 10px #0003;max-width:400px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#666}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:200px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}']})}return n})();function Jne(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",3),l.NdJ("click",function(){const s=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.openModal(s))}),l.TgZ(1,"div",4),l._uU(2),l.qZA(),l._UZ(3,"img",5),l.TgZ(4,"div",6),l._uU(5),l.qZA(),l.TgZ(6,"div",7),l._uU(7),l.qZA()()}if(2&n){const t=e.$implicit;l.xp6(2),l.hij(" ",t.productName,""),l.xp6(1),l.Q6J("src",t.imagePath,l.LSH),l.xp6(2),l.Oqu(t.description),l.xp6(2),l.Oqu(t.price)}}function eie(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"app-modal",8),l.NdJ("closeModalEvent",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.closeModal())}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("product",t.selectedProduct)}}let tie=(()=>{class n{constructor(t,i){this.services=t,this.firestore=i,this.task$=aV(bM(this.firestore,"JPG")),this.isModalOpen=!1}closeModal(){this.isModalOpen=!1}ngOnInit(){this.task$.subscribe(t=>console.log("task$ observable:",t))}openModal(t){this.selectedProduct=t,this.isModalOpen=!0,console.log("Kiv\xe1lasztott term\xe9k:",t)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Rg),l.Y36(Qv))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-fragrances"]],decls:4,vars:4,consts:[[1,"product-card-container"],["class","product-card",3,"click",4,"ngFor","ngForOf"],[3,"product","closeModalEvent",4,"ngIf"],[1,"product-card",3,"click"],[1,"product-card-head"],[1,"sunglasses",3,"src"],[1,"product-description"],[1,"product-card-price"],[3,"product","closeModalEvent"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0),l.YNc(1,Jne,8,4,"div",1),l.ALo(2,"async"),l.qZA(),l.YNc(3,eie,1,1,"app-modal",2)),2&i&&(l.xp6(1),l.Q6J("ngForOf",l.lcZ(2,2,r.task$)),l.xp6(2),l.Q6J("ngIf",r.isModalOpen))},dependencies:[ai,er,Xne,Ur],styles:['@charset "UTF-8";.product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem 0;box-shadow:0 .25rem .5rem #000;width:calc(33.33% - 20px);margin:10px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #edf1f7;font-size:1.2rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:25px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:30px;font-weight:100;padding:10px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}.product-card-price[_ngcontent-%COMP%]{padding-top:25px}@media screen and (max-width: 1200px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(50% - 20px)}}@media screen and (max-width: 768px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:95%}}']})}return n})();const O6=()=>(n=>(0,gN.z)(UF,(0,gn.U)(e=>e||n)))(["login"]),R6=()=>(n=>(0,gN.z)(UF,(0,gn.U)(e=>e&&n||!0)))(["user"]),nie=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:T8},{path:"products",component:A8},{path:"accessories",component:M8},{path:"fragrances",component:tie},{path:"media",component:O8},{path:"shopping-cart",component:Y7},{path:"shipping",component:jX},{path:"user",component:Lz,children:[{path:"profile",component:BF,...R1(O6)}]},{path:"user/login",component:YQ,...R1(R6)},{path:"user/sign-up",component:aX,...R1(R6)},{path:"home",component:fX,...R1(O6)},{path:"",component:cX,pathMatch:"full"}];let iie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[KB.forRoot(nie,{useHash:!0}),KB]})}return n})(),rie=(()=>{class n{constructor(){this.collapsed=!1,this.screenWidth=0}getBodyClass(){let t="";return this.collapsed&&this.screenWidth>968?t="body-trimmed":this.collapsed&&this.screenWidth<=968&&this.screenWidth>0&&(t="body-md-screen"),t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-body"]],inputs:{collapsed:"collapsed",screenWidth:"screenWidth"},decls:2,vars:1,consts:[[1,"body",3,"ngClass"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0),l._UZ(1,"router-outlet"),l.qZA()),2&i&&l.Q6J("ngClass",r.getBodyClass())},dependencies:[Ko,jM],styles:[".body[_ngcontent-%COMP%]{width:calc(100% - 5rem);height:100%;margin-left:5rem;z-index:0;position:relative;top:0;transition:all .5s ease;padding:3rem;background:linear-gradient(to bottom,#f4f7fa,#f4f7fa);background-attachment:fixed;overflow:auto}.body-trimmed[_ngcontent-%COMP%]{width:calc(100% - 16.5625rem);margin-left:16.5625rem}.body-md-screen[_ngcontent-%COMP%]{width:calc(100% - 5rem);margin-left:5rem}@media screen and (max-width: 450px){.body[_ngcontent-%COMP%]{padding:1rem .5rem .25rem .25rem;width:calc(100% - 3rem);margin-left:3rem}}@media screen and (max-width: 1000px){.body[_ngcontent-%COMP%]{padding:1rem .5rem .25rem .25rem}}"]})}return n})(),oie=0;const sie=p1(class{}),P6="mat-badge-content";let aie=(()=>{class n extends sie{get color(){return this._color}set color(t){this._setColor(t),this._color=t}get overlap(){return this._overlap}set overlap(t){this._overlap=Yc(t)}get content(){return this._content}set content(t){this._updateRenderedContent(t)}get description(){return this._description}set description(t){this._updateDescription(t)}get hidden(){return this._hidden}set hidden(t){this._hidden=Yc(t)}constructor(t,i,r,s,u){super(),this._ngZone=t,this._elementRef=i,this._ariaDescriber=r,this._renderer=s,this._animationMode=u,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=oie++,this._isInitialized=!1,this._interactivityChecker=(0,l.f3M)(r7),this._document=(0,l.f3M)(Pe)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){const t=this._renderer.createElement("span"),i="mat-badge-active";return t.setAttribute("id",`mat-badge-content-${this._id}`),t.setAttribute("aria-hidden","true"),t.classList.add(P6),"NoopAnimations"===this._animationMode&&t.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(t),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add(i)})}):t.classList.add(i),t}_updateRenderedContent(t){const i=`${t??""}`.trim();this._isInitialized&&i&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=i),this._content=i}_updateDescription(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!t||this._isHostInteractive())&&this._removeInlineDescription(),this._description=t,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,t):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(t){const i=this._elementRef.nativeElement.classList;i.remove(`mat-badge-${this._color}`),t&&i.add(`mat-badge-${t}`)}_clearExistingBadges(){const t=this._elementRef.nativeElement.querySelectorAll(`:scope > .${P6}`);for(const i of Array.from(t))i!==this._badgeElement&&i.remove()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(t7),l.Y36(l.Qsj),l.Y36(l.QbO,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(i,r){2&i&&l.ekj("mat-badge-overlap",r.overlap)("mat-badge-above",r.isAbove())("mat-badge-below",!r.isAbove())("mat-badge-before",!r.isAfter())("mat-badge-after",r.isAfter())("mat-badge-small","small"===r.size)("mat-badge-medium","medium"===r.size)("mat-badge-large","large"===r.size)("mat-badge-hidden",r.hidden||!r.content)("mat-badge-disabled",r.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],position:["matBadgePosition","position"],content:["matBadge","content"],description:["matBadgeDescription","description"],size:["matBadgeSize","size"],hidden:["matBadgeHidden","hidden"]},features:[l.qOj]})}return n})(),k6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[b7,Ga,Ga]})}return n})();function cie(n,e){1&n&&(l.TgZ(0,"div",7),l._uU(1,"Astra"),l.qZA()),2&n&&l.Q6J("@fadeInOut",void 0)}function lie(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",8),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.closeSidenav())}),l._UZ(1,"i",9),l.qZA()}2&n&&l.Q6J("@rotate",void 0)}function uie(n,e){if(1&n&&(l.TgZ(0,"span",15),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit;l.Q6J("@fadeInOut",void 0),l.xp6(1),l.hij(" ",t.label," ")}}const die=function(n){return[n]},hie=function(){return{exact:!0}};function fie(n,e){if(1&n&&(l.TgZ(0,"li",10)(1,"a",11),l._UZ(2,"i",12),l.YNc(3,uie,2,2,"span",13),l._UZ(4,"mat-icon",14),l.qZA()()),2&n){const t=e.$implicit,i=l.oxw();l.xp6(1),l.Q6J("routerLink",l.VKq(7,die,t.routerLink))("routerLinkActiveOptions",l.DdM(9,hie)),l.xp6(1),l.Tol(t.icon),l.xp6(1),l.Q6J("ngIf",i.collapsed),l.xp6(1),l.s9C("matBadge",t.badge),l.Q6J("matBadgeHidden",!t.badge)}}let pie=(()=>{class n{constructor(){this.onToggleSideNav=new l.vpe,this.collapsed=!1,this.screenwidth=0,this.navData=uI}onResize(t){this.screenwidth=window.innerWidth,this.screenwidth<=968&&(this.collapsed=!1,this.onToggleSideNav.emit({collapsed:this.collapsed,screenwidth:this.screenwidth}))}ngOnInit(){this.screenwidth=window.innerWidth}toggleCollapse(){this.collapsed=!this.collapsed,this.onToggleSideNav.emit({collapsed:this.collapsed,screenwidth:this.screenwidth})}closeSidenav(){this.collapsed=!1,this.onToggleSideNav.emit({collapsed:this.collapsed,screenwidth:this.screenwidth})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-sidenav"]],hostBindings:function(i,r){1&i&&l.NdJ("resize",function(u){return r.onResize(u)},!1,l.Jf7)},outputs:{onToggleSideNav:"onToggleSideNav"},decls:8,vars:4,consts:[[1,"sidenav",3,"ngClass"],[1,"logo-container"],[1,"logo",3,"click"],["class","logo-text",4,"ngIf"],["class","btn-close",3,"click",4,"ngIf"],[1,"sidenav-nav"],["class","sidenav-nav-item",4,"ngFor","ngForOf"],[1,"logo-text"],[1,"btn-close",3,"click"],[1,"fal","fa-times","close-icon"],[1,"sidenav-nav-item"],["href","","routerLinkActive","active",1,"sidenav-nav-link",3,"routerLink","routerLinkActiveOptions"],[1,"sidenav-link-icon"],["class","sidenav-link-text",4,"ngIf"],["matBadgeColor","warn","matBadgeOverlap","false",1,"cart-badge",3,"matBadge","matBadgeHidden"],[1,"sidenav-link-text"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0)(1,"div",1)(2,"button",2),l.NdJ("click",function(){return r.toggleCollapse()}),l._uU(3,">"),l.qZA(),l.YNc(4,cie,2,1,"div",3),l.YNc(5,lie,2,1,"button",4),l.qZA(),l.TgZ(6,"ul",5),l.YNc(7,fie,5,10,"li",6),l.qZA()()),2&i&&(l.Q6J("ngClass",r.collapsed?"sidenav-collapsed":""),l.xp6(4),l.Q6J("ngIf",r.collapsed),l.xp6(1),l.Q6J("ngIf",r.collapsed),l.xp6(2),l.Q6J("ngForOf",r.navData))},dependencies:[Ko,ai,er,Og,jB,aie,AF],styles:[".sidenav[_ngcontent-%COMP%]{background:#092c3d;-webkit-user-select:none;user-select:none;transition:all .5s ease;position:fixed;z-index:1;top:0;width:5rem;height:100vh;box-shadow:.063rem 0 1.25rem #000}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.938rem .938rem 0;width:100%}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{background:#fff;text-align:center;width:3rem;min-width:3rem;border-radius:.313rem;padding:.313rem;font-size:24px;font-weight:900;cursor:pointer;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{margin-left:1.5rem;font-size:24px;font-weight:700;color:#fff}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{margin-left:auto;cursor:pointer;width:2rem;height:2rem;border-radius:50%;background-color:transparent;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#fff;font-size:24px}@media screen and (max-width: 450px){.sidenav[_ngcontent-%COMP%]{width:3rem}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0rem;margin-top:5px;margin-left:4px;margin-bottom:15px;width:100%}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{background:#fff;text-align:center;width:2.5rem;min-width:2.5rem;border-radius:.613rem;padding:.313rem;font-size:24px;font-weight:900;cursor:pointer;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{margin-left:1.5rem;font-size:24px;font-weight:700;color:#fff}}.sidenav-collapsed[_ngcontent-%COMP%]{width:16.55625rem}.sidenav-nav[_ngcontent-%COMP%]{list-style:none;padding:.938rem;margin:0;display:flex;flex-direction:column;align-items:center;height:calc(100% - 3.65rem);cursor:pointer}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]{width:100%;margin-bottom:.625rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem;color:#f3f3f3;text-decoration:none;border-radius:.625rem;transition:all .3s ease}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%]{font-size:22px;width:2rem;min-width:2rem;margin:0 .5rem;text-align:center}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .cart-badge[_ngcontent-%COMP%]{position:fixed}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{margin-left:1.5rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]:hover   .sidenav-nav-link[_ngcontent-%COMP%]{background-color:#fff;color:#000}.active[_ngcontent-%COMP%]{background-color:#fff}.active[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{color:#000}@media screen and (max-width: 450px){.sidenav-nav[_ngcontent-%COMP%]{padding:.2rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]{height:2.6rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%]{font-size:18px;text-align:center;margin-left:5px}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .cart-badge[_ngcontent-%COMP%]{position:fixed}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{margin-left:1.5rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]:hover   .sidenav-nav-link[_ngcontent-%COMP%]{background-color:#fff;color:#000}}"],data:{animation:[fl("fadeInOut",[Gs(":enter",[dr({opacity:0}),sr("90ms 300ms",dr({opacity:1}))]),Gs(":leave",[dr({opacity:1}),sr("90ms",dr({opacity:0}))])]),fl("rotate",[Gs(":enter",[sr("430ms",Xf([dr({transform:"rotate(0deg)",offset:"0"}),dr({transform:"rotate(0.5turn)",offset:"1"})]))])])]}})}return n})(),mie=(()=>{class n{constructor(){this.title="webshop",this.isSideNavCollapsed=!1,this.screenWidth=0}onToggleSideNav(t){this.screenWidth=t.screenwidth,this.isSideNavCollapsed=t.collapsed}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:2,consts:[[3,"onToggleSideNav"],[3,"collapsed","screenWidth"]],template:function(i,r){1&i&&(l.TgZ(0,"app-sidenav",0),l.NdJ("onToggleSideNav",function(u){return r.onToggleSideNav(u)}),l.qZA(),l._UZ(1,"app-body",1)),2&i&&(l.xp6(1),l.Q6J("collapsed",r.isSideNavCollapsed)("screenWidth",r.screenWidth))},dependencies:[rie,pie]})}return n})(),gie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[Oi,F3,G3,k6,uz,t3,dz,Xz,OI,Fz,G3,F3,k6,uz,t3,dz,Xz,OI,Fz]})}return n})();function o2(){return(0,kr.e)((n,e)=>{let t,i=!1;n.subscribe((0,ci.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}function s2(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new vt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function N6(){if(typeof Uint8Array>"u")throw new vt("unimplemented","Uint8Arrays are not available in this environment.")}function F6(){if(!function cP(){return typeof atob<"u"}())throw new vt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class aT{constructor(e){this._delegate=e}static fromBase64String(e){return F6(),new aT(kf.fromBase64String(e))}static fromUint8Array(e){return N6(),new aT(kf.fromUint8Array(e))}toBase64(){return F6(),this._delegate.toBase64()}toUint8Array(){return N6(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function a2(n){return function yie(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class bie{enableIndexedDbPersistence(e,t){return function U$(n,e){FU(n=zi(n,Ro));const t=Ps(n);if(t._uninitializedComponentsProvider)throw new vt(tt.FAILED_PRECONDITION,"SDK cache is already specified.");ru("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new A0;return NU(t,r,new Dk(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function V$(n){FU(n=zi(n,Ro));const e=Ps(n);if(e._uninitializedComponentsProvider)throw new vt(tt.FAILED_PRECONDITION,"SDK cache is already specified.");ru("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new A0;return NU(e,i,new _U(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function B$(n){if(n._initialized&&!n._terminated)throw new vt(tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new fs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,dt.Z)(function*(){try{yield(t=(0,dt.Z)(function*(i){if(!ou.D())return Promise.resolve();const r=i+"main";yield ou.delete(r)}),function(i){return t.apply(this,arguments)})(ax(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class L6{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ch||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ru("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){RU(this._delegate,e,t,i)}enableNetwork(){return function z$(n){return function I$(n){return n.asyncQueue.enqueue((0,dt.Z)(function*(){const e=yield bU(n),t=yield wU(n);return e.setNetworkEnabled(!0),function(i){const r=qt(i);return r.vu.delete(0),Bv(r)}(t)}))}(Ps(n=zi(n,Ro)))}(this._delegate)}disableNetwork(){return function H$(n){return function T$(n){return n.asyncQueue.enqueue((0,dt.Z)(function*(){const e=yield bU(n),t=yield wU(n);return e.setNetworkEnabled(!1),(i=(0,dt.Z)(function*(r){const s=qt(r);s.vu.add(0),yield vg(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Ps(n=zi(n,Ro)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,DU("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function j$(n){return function(e){const t=new fs;return e.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function Ax(n,e){return Mx.apply(this,arguments)}(yield kk(e),t)})),t.promise}(Ps(n=zi(n,Ro)))}(this._delegate)}onSnapshotsInSync(e){return function b5(n,e){return function A$(n,e){const t=new rM(e);return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return i=yield M0(n),r=t,qt(i).ku.add(r),void r.next();var i,r})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return i=yield M0(n),r=t,void qt(i).ku.delete(r);var i,r}))}}(Ps(n=zi(n,Ro)),Vk(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new vt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new pw(this,Lk(this._delegate,e))}catch(t){throw Ol(t,"collection()","Firestore.collection()")}}doc(e){try{return new zd(this,kx(this._delegate,e))}catch(t){throw Ol(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Rl(this,function P$(n,e){if(n=zi(n,Px),Fk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new vt(tt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fc(n,null,(t=e,new vf(ji.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ol(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function O5(n,e,t){n=zi(n,Ro);const i=Object.assign(Object.assign({},A5),t);return function(r){if(r.maxAttempts<1)throw new vt(tt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,u){const m=new fs;return r.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){const v=yield function EU(n){return sM(n).then(e=>e.datastore)}(r);new C$(r.asyncQueue,v,u,s,m).run()})),m.promise}(Ps(n),r=>e(new M5(n,r)),i)}(this._delegate,t=>e(new U6(this,t)))}batch(){return Ps(this._delegate),new V6(new JU(this._delegate,e=>R0(this._delegate,e)))}loadBundle(e){return function $$(n,e){const t=Ps(n=zi(n,Ro)),i=new N$;return function M$(n,e,t,i){const r=function(s,u){let m;return m="string"==typeof s?jC().encode(s):s,v=function(v,C){if(v instanceof Uint8Array)return vU(v,C);if(v instanceof ArrayBuffer)return vU(new Uint8Array(v),C);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new w$(v,u);var v}(t,Zp(e));n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){!function y$(n,e,t){const i=qt(n);var r;(r=(0,dt.Z)(function*(s,u,m){try{const v=yield u.getMetadata();if(yield function(G,ne){const ae=qt(G),ye=rs(ne.createTime);return ae.persistence.runTransaction("hasNewerBundle","readonly",We=>ae.qs.getBundleMetadata(We,ne.id)).then(We=>!!We&&We.createTime.compareTo(ye)>=0)}(s.localStore,v))return yield u.close(),m._completeWith({taskState:"Success",documentsLoaded:(G=v).totalDocuments,bytesLoaded:G.totalBytes,totalDocuments:G.totalDocuments,totalBytes:G.totalBytes}),Promise.resolve(new Set);m._updateProgress(a(v));const C=new o(v,s.localStore,u.serializer);let M=yield u.bc();for(;M;){const G=yield C.zu(M);G&&m._updateProgress(G),M=yield u.bc()}const L=yield C.complete();return yield Qp(s,L.Ju,void 0),yield function(G,ne){const ae=qt(G);return ae.persistence.runTransaction("Save bundle","readwrite",ye=>ae.qs.saveBundleMetadata(ye,ne))}(s.localStore,v),m._completeWith(L.progress),Promise.resolve(L.Hu)}catch(v){return ru("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v),Promise.resolve(new Set)}var G}),function(s,u,m){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield kk(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function G$(n,e){return function O$(n,e){return n.asyncQueue.enqueue((0,dt.Z)(function*(){return function(t,i){const r=qt(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield aM(n),e)}))}(Ps(n=zi(n,Ro)),e).then(t=>t?new fc(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Rl(this,t):null)}}class mO extends qk{constructor(e){super(),this.firestore=e}convertBytes(e){return new aT(new kf(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return zd.forKey(t,this.firestore,null)}}class U6{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new mO(e)}get(e){const t=xy(e);return this._delegate.get(t).then(i=>new cT(this._firestore,new Jp(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=xy(e);return i?(s2("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=xy(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=xy(e);return this._delegate.delete(t),this}}class V6{constructor(e){this._delegate=e}set(e,t,i){const r=xy(e);return i?(s2("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=xy(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=xy(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Cy{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new jx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lT(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Cy.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new Cy(e,new mO(e),t),r.set(t,s)),s}}Cy.INSTANCES=new WeakMap;class zd{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mO(e)}static forPath(e,t,i){if(e.length%2!=0)throw new vt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new zd(t,new Oo(t._delegate,i,new Gt(e)))}static forKey(e,t,i){return new zd(t,new Oo(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new pw(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new pw(this.firestore,Lk(this._delegate,e))}catch(t){throw Ol(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ie.m9)(e))instanceof Oo&&PU(this._delegate,e)}set(e,t){t=s2("DocumentReference.set",t);try{return t?Wk(this._delegate,e,t):Wk(this._delegate,e)}catch(i){throw Ol(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?Zk(this._delegate,e):Zk(this._delegate,e,t,...i)}catch(r){throw Ol(r,"updateDoc()","DocumentReference.update()")}}delete(){return function y5(n){return R0(zi(n.firestore,Ro),[new rg(n._key,Dr.none())])}(this._delegate)}onSnapshot(...e){const t=B6(e),i=j6(e,r=>new cT(this.firestore,new Jp(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Kk(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function p5(n){n=zi(n,Oo);const e=zi(n.firestore,Ro),t=Ps(e),i=new xg(e);return function D$(n,e){const t=new fs;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return(i=(0,dt.Z)(function*(r,s,u){try{const m=yield function(v,C){const M=qt(v);return M.persistence.runTransaction("read document","readonly",L=>M.localDocuments.getDocument(L,C))}(r,s);m.isFoundDocument()?u.resolve(m):m.isNoDocument()?u.resolve(null):u.reject(new vt(tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=Gv(m,`Failed to get document '${s} from cache`);u.reject(v)}}),function(r,s,u){return i.apply(this,arguments)})(yield aM(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Jp(e,i,n._key,r,new Yv(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function m5(n){n=zi(n,Oo);const e=zi(n.firestore,Ro);return CU(Ps(e),n._key,{source:"server"}).then(t=>Yk(e,n,t))}(this._delegate):function f5(n){n=zi(n,Oo);const e=zi(n.firestore,Ro);return CU(Ps(e),n._key).then(t=>Yk(e,n,t))}(this._delegate),t.then(i=>new cT(this.firestore,new Jp(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new zd(this.firestore,this._delegate.withConverter(e?Cy.getInstance(this.firestore,e):null))}}function Ol(n,e,t){return n.message=n.message.replace(e,t),n}function B6(n){for(const e of n)if("object"==typeof e&&!a2(e))return e;return{}}function j6(n,e){var t,i;let r;return r=a2(n[0])?n[0]:a2(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class cT{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new zd(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return QU(this._delegate,e._delegate)}}class lT extends cT{data(e){const t=this._delegate.data(e);return function QD(n,e){n||ln()}(void 0!==t),t}}class Rl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mO(e)}where(e,t,i){try{return new Rl(this.firestore,Eg(this._delegate,function t5(n,e,t){const i=e,r=pM("where",n);return Bx._create(r,i,t)}(e,t,i)))}catch(r){throw Ol(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Rl(this.firestore,Eg(this._delegate,function n5(n,e="asc"){const t=e,i=pM("orderBy",n);return Gk._create(i,t)}(e,t)))}catch(i){throw Ol(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Rl(this.firestore,Eg(this._delegate,function r5(n){return MU("limit",n),mM._create("limit",n,"F")}(e)))}catch(t){throw Ol(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Rl(this.firestore,Eg(this._delegate,function o5(n){return MU("limitToLast",n),mM._create("limitToLast",n,"L")}(e)))}catch(t){throw Ol(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Rl(this.firestore,Eg(this._delegate,function s5(...n){return gM._create("startAt",n,!0)}(...e)))}catch(t){throw Ol(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Rl(this.firestore,Eg(this._delegate,function a5(...n){return gM._create("startAfter",n,!1)}(...e)))}catch(t){throw Ol(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Rl(this.firestore,Eg(this._delegate,function c5(...n){return _M._create("endBefore",n,!1)}(...e)))}catch(t){throw Ol(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Rl(this.firestore,Eg(this._delegate,function l5(...n){return _M._create("endAt",n,!0)}(...e)))}catch(t){throw Ol(t,"endAt()","Query.endAt()")}}isEqual(e){return Uk(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function _5(n){n=zi(n,fc);const e=zi(n.firestore,Ro),t=Ps(e),i=new xg(e);return function S$(n,e){const t=new fs;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return(i=(0,dt.Z)(function*(r,s,u){try{const m=yield Lv(r,s,!0),v=new _(s,m.ir),C=v.sc(m.documents),M=v.applyChanges(C,!1);u.resolve(M.snapshot)}catch(m){const v=Gv(m,`Failed to execute query '${s} against cache`);u.reject(v)}}),function(r,s,u){return i.apply(this,arguments)})(yield aM(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Cg(e,i,n,r))}(this._delegate):"server"===e?.source?function v5(n){n=zi(n,fc);const e=zi(n.firestore,Ro),t=Ps(e),i=new xg(e);return xU(t,n._query,{source:"server"}).then(r=>new Cg(e,i,n,r))}(this._delegate):function g5(n){n=zi(n,fc);const e=zi(n.firestore,Ro),t=Ps(e),i=new xg(e);return $U(n._query),xU(t,n._query).then(r=>new Cg(e,i,n,r))}(this._delegate),t.then(i=>new c2(this.firestore,new Cg(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=B6(e),i=j6(e,r=>new c2(this.firestore,new Cg(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Kk(this._delegate,t,i)}withConverter(e){return new Rl(this.firestore,this._delegate.withConverter(e?Cy.getInstance(this.firestore,e):null))}}class Eie{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new lT(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class c2{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Rl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new lT(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Eie(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new lT(this._firestore,i))})}isEqual(e){return QU(this._delegate,e._delegate)}}class pw extends Rl{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new zd(this.firestore,e):null}doc(e){try{return new zd(this.firestore,void 0===e?kx(this._delegate):kx(this._delegate,e))}catch(t){throw Ol(t,"doc()","CollectionReference.doc()")}}add(e){return XU(this._delegate,e).then(t=>new zd(this.firestore,t))}isEqual(e){return PU(this._delegate,e._delegate)}withConverter(e){return new pw(this.firestore,this._delegate.withConverter(e?Cy.getInstance(this.firestore,e):null))}}function xy(n){return zi(n,Oo)}class l2{constructor(...e){this._delegate=new Xp(...e)}static documentId(){return new l2(Ho.keyField().canonicalString())}isEqual(e){return(e=(0,ie.m9)(e))instanceof Xp&&this._delegate._internalPath.isEqual(e._internalPath)}}class Iy{constructor(e){this._delegate=e}static serverTimestamp(){const e=function P5(){return new Bk("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Iy(e)}static delete(){const e=function R5(){return new Fx("deleteField")}();return e._methodName="FieldValue.delete",new Iy(e)}static arrayUnion(...e){const t=function k5(...n){return new Y$("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Iy(t)}static arrayRemove(...e){const t=function N5(...n){return new Q$("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Iy(t)}static increment(e){const t=function F5(n){return new X$("increment",n)}(e);return t._methodName="FieldValue.increment",new Iy(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Cie={Firestore:L6,GeoPoint:lM,Timestamp:ho,Blob:aT,Transaction:U6,WriteBatch:V6,DocumentReference:zd,DocumentSnapshot:cT,Query:Rl,QueryDocumentSnapshot:lT,QuerySnapshot:c2,CollectionReference:pw,FieldPath:l2,FieldValue:Iy,setLogLevel:function wie(n){!function YR(n){mf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function z6(n,e){return function Tie(n,e=J0.z){return new rr.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function u2(n,e){return z6(n,e).pipe((0,gn.U)(t=>({payload:t,type:"query"})))}function gO(n,e){return u2(n,e).pipe(Tg(void 0),o2(),(0,gn.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,m)=>{const v=r.find(M=>M.doc.ref.isEqual(u.ref)),C=t?.payload.docs.find(M=>M.ref.isEqual(u.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(u.metadata)||!v&&C&&JSON.stringify(C.metadata)===JSON.stringify(u.metadata)||s.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:u}})}),s}))}function H6(n,e,t){return gO(n,t).pipe(U0((i,r)=>function Sie(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Aie(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return d2(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return d2(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return d2(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),(0,uF.x)(),(0,gn.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function d2(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function $6(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function Iie(n){(function xie(n,e){n.INTERNAL.registerComponent(new tu.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},Cie)))})(n,(e,t)=>new L6(e,t,new bie)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(cH.Z);class G6{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=gO(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,gn.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Tg(void 0),o2(),or(([i,r])=>r.length>0||!i),(0,gn.U)(([i,r])=>r),An.iC)}auditTrail(e){return this.stateChanges(e).pipe(U0((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=$6(e);return H6(this.query,t,this.afs.schedulers.outsideAngular).pipe(An.iC)}valueChanges(e={}){return u2(this.query,this.afs.schedulers.outsideAngular).pipe((0,gn.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),An.iC)}get(e){return(0,Sr.D)(this.query.get(e)).pipe(An.iC)}add(e){return this.ref.add(e)}doc(e){return new q6(this.ref.doc(e),this.afs)}}class q6{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=K6(i,t);return new G6(r,s,this.afs)}snapshotChanges(){return function Die(n,e){return z6(n,e).pipe(Tg(void 0),o2(),(0,gn.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(An.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,gn.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Sr.D)(this.ref.get(e)).pipe(An.iC)}}class Mie{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?gO(this.query,this.afs.schedulers.outsideAngular).pipe((0,gn.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),or(t=>t.length>0),An.iC):gO(this.query,this.afs.schedulers.outsideAngular).pipe(An.iC)}auditTrail(e){return this.stateChanges(e).pipe(U0((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=$6(e);return H6(this.query,t,this.afs.schedulers.outsideAngular).pipe(An.iC)}valueChanges(e={}){return u2(this.query,this.afs.schedulers.outsideAngular).pipe((0,gn.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),An.iC)}get(e){return(0,Sr.D)(this.query.get(e)).pipe(An.iC)}}const W6=new l.OlP("angularfire2.enableFirestorePersistence"),Z6=new l.OlP("angularfire2.firestore.persistenceSettings"),Oie=new l.OlP("angularfire2.firestore.settings"),Rie=new l.OlP("angularfire2.firestore.use-emulator");function K6(n,e=(t=>t)){return{query:e(n),ref:n}}let Y6=(()=>{class n{constructor(t,i,r,s,u,m,v,C,M,L,G,ne,ae,ye,We,wt,Ot){this.schedulers=v;const Mt=(0,Al.on)(t,m,i),Lt=M;L&&n2(Mt,m,G,ae,ye,We,ne,wt),[this.firestore,this.persistenceEnabled$]=(0,Al.cc)(`${Mt.name}.firestore`,"AngularFirestore",Mt.name,()=>{const Mn=m.runOutsideAngular(()=>Mt.firestore());if(s&&Mn.settings(s),Lt&&Mn.useEmulator(...Lt),r&&!wr(u)){const Pn=()=>{try{return(0,Sr.D)(Mn.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(Ui){return typeof console<"u"&&console.warn(Ui),(0,_n.of)(!1)}};return[Mn,m.runOutsideAngular(Pn)]}return[Mn,(0,_n.of)(!1)]},[s,Lt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:u}=K6(r,i),m=this.schedulers.ngZone.run(()=>s);return new G6(m,u,this)}collectionGroup(t,i){const r=i||(u=>u),s=this.firestore.collectionGroup(t);return new Mie(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new q6(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Al.Dh),l.LFG(Al.xv,8),l.LFG(W6,8),l.LFG(Oie,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(An.HU),l.LFG(Z6,8),l.LFG(Rie,8),l.LFG(r2,8),l.LFG(YL,8),l.LFG(QL,8),l.LFG(XL,8),l.LFG(JL,8),l.LFG(e2,8),l.LFG(t2,8),l.LFG(fp,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Pie=(()=>{class n{constructor(){v6.Z.registerVersion("angularfire",An.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:W6,useValue:!0},{provide:Z6,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Y6]}),n})(),kie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[Oi]})}return n})();const Q6={apiKey:"AIzaSyBUhtsLE6mKhnLFA4hrTdgtPRvT9DFPews",authDomain:"pelda-4422f.firebaseapp.com",projectId:"pelda-4422f",storageBucket:"pelda-4422f.appspot.com",messagingSenderId:"999999888137",appId:"1:999999888137:web:c55fe757b0ce70c8fcd1d8",useEmulator:!0,experimentalForceLongPolling:!0};let Nie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n,bootstrap:[mie]});static#n=this.\u0275inj=l.cJS({providers:[Rg,Y6],imports:[BO(()=>FT(Q6)),X5(()=>tG()),Lq(()=>Vq()),ih.forRoot(),Fc,ph,iie,gie,xZ,OI,sV,Oi,kie,M6,Pie,Al.hO.initializeApp(Q6),M6,oR(()=>lR())]})}return n})();Br().bootstrapModule(Nie).catch(n=>console.error(n))},3219:(en,Ae,Q)=>{Object.defineProperty(Ae,"__esModule",{value:!0});var ce,Ce,l=Q(8005),U=Q(3661),K=Q(6553),pe=Q(8836),Pe=((ce={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ce["bad-app-name"]="Illegal App name: '{$appName}",ce["duplicate-app"]="Firebase App named '{$appName}' already exists",ce["app-deleted"]="Firebase App named '{$appName}' already deleted",ce["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ce["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ce),Oe=new U.ErrorFactory("app","Firebase",Pe),ut="@firebase/app",nt="[DEFAULT]",$e=((Ce={})[ut]="fire-core",Ce["@firebase/analytics"]="fire-analytics",Ce["@firebase/auth"]="fire-auth",Ce["@firebase/database"]="fire-rtdb",Ce["@firebase/functions"]="fire-fn",Ce["@firebase/installations"]="fire-iid",Ce["@firebase/messaging"]="fire-fcm",Ce["@firebase/performance"]="fire-perf",Ce["@firebase/remote-config"]="fire-rc",Ce["@firebase/storage"]="fire-gcs",Ce["@firebase/firestore"]="fire-fst",Ce["fire-js"]="fire-js",Ce["firebase-wrapper"]="fire-js-all",Ce),it=new pe.Logger("@firebase/app"),he=function(){function De(Ee,He,je){var ct,gt,At=this;this.firebase_=je,this.isDeleted_=!1,this.name_=He.name,this.automaticDataCollectionEnabled_=He.automaticDataCollectionEnabled||!1,this.options_=U.deepCopy(Ee),this.container=new K.ComponentContainer(He.name),this._addComponent(new K.Component("app",function(){return At},"PUBLIC"));try{for(var bt=l.__values(this.firebase_.INTERNAL.components.values()),Tn=bt.next();!Tn.done;Tn=bt.next())this._addComponent(Tn.value)}catch(Nn){ct={error:Nn}}finally{try{Tn&&!Tn.done&&(gt=bt.return)&&gt.call(bt)}finally{if(ct)throw ct.error}}}return Object.defineProperty(De.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Ee){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Ee},enumerable:!1,configurable:!0}),Object.defineProperty(De.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(De.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),De.prototype.delete=function(){var Ee=this;return new Promise(function(He){Ee.checkDestroyed_(),He()}).then(function(){return Ee.firebase_.INTERNAL.removeApp(Ee.name_),Promise.all(Ee.container.getProviders().map(function(He){return He.delete()}))}).then(function(){Ee.isDeleted_=!0})},De.prototype._getService=function(Ee,He){return void 0===He&&(He=nt),this.checkDestroyed_(),this.container.getProvider(Ee).getImmediate({identifier:He})},De.prototype._removeServiceInstance=function(Ee,He){void 0===He&&(He=nt),this.container.getProvider(Ee).clearInstance(He)},De.prototype._addComponent=function(Ee){try{this.container.addComponent(Ee)}catch(He){it.debug("Component "+Ee.name+" failed to register with FirebaseApp "+this.name,He)}},De.prototype._addOrOverwriteComponent=function(Ee){this.container.addOrOverwriteComponent(Ee)},De.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Oe.create("app-deleted",{appName:this.name_})},De}();he.prototype.name&&he.prototype.options||he.prototype.delete||console.log("dc");var Et=function Le(){var De=function qe(De){var Ee={},He=new Map,je={__esModule:!0,initializeApp:function At(tn,Dn){void 0===Dn&&(Dn={}),("object"!=typeof Dn||null===Dn)&&(Dn={name:Dn});var cn=Dn;void 0===cn.name&&(cn.name=nt);var Fn=cn.name;if("string"!=typeof Fn||!Fn)throw Oe.create("bad-app-name",{appName:String(Fn)});if(U.contains(Ee,Fn))throw Oe.create("duplicate-app",{appName:Fn});var Un=new De(tn,cn,je);return Ee[Fn]=Un,Un},app:gt,registerVersion:function dn(tn,Dn,Ut){var cn,Fn=null!==(cn=$e[tn])&&void 0!==cn?cn:tn;Ut&&(Fn+="-"+Ut);var Un=Fn.match(/\s|\//),wi=Dn.match(/\s|\//);if(Un||wi){var Si=['Unable to register library "'+Fn+'" with version "'+Dn+'":'];return Un&&Si.push('library name "'+Fn+'" contains illegal characters (whitespace or "/")'),Un&&wi&&Si.push("and"),wi&&Si.push('version name "'+Dn+'" contains illegal characters (whitespace or "/")'),void it.warn(Si.join(" "))}Tn(new K.Component(Fn+"-version",function(){return{library:Fn,version:Dn}},"VERSION"))},setLogLevel:pe.setLogLevel,onLog:function Nn(tn,Dn){if(null!==tn&&"function"!=typeof tn)throw Oe.create("invalid-log-argument",{appName:name});pe.setUserLogHandler(tn,Dn)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:Tn,removeApp:function ct(tn){delete Ee[tn]},components:He,useAsService:function fn(tn,Dn){return"serverAuth"===Dn?null:Dn}}};function gt(tn){if(!U.contains(Ee,tn=tn||nt))throw Oe.create("no-app",{appName:tn});return Ee[tn]}function Tn(tn){var Dn,Ut,cn=tn.name;if(He.has(cn))return it.debug("There were multiple attempts to register component "+cn+"."),"PUBLIC"===tn.type?je[cn]:null;if(He.set(cn,tn),"PUBLIC"===tn.type){var Fn=function(ti){if(void 0===ti&&(ti=gt()),"function"!=typeof ti[cn])throw Oe.create("invalid-app-argument",{appName:cn});return ti[cn]()};void 0!==tn.serviceProps&&U.deepExtend(Fn,tn.serviceProps),je[cn]=Fn,De.prototype[cn]=function(){for(var ti=[],Vi=0;Vi<arguments.length;Vi++)ti[Vi]=arguments[Vi];return this._getService.bind(this,cn).apply(this,tn.multipleInstances?ti:[])}}try{for(var Un=l.__values(Object.keys(Ee)),wi=Un.next();!wi.done;wi=Un.next())Ee[wi.value]._addComponent(tn)}catch(ti){Dn={error:ti}}finally{try{wi&&!wi.done&&(Ut=Un.return)&&Ut.call(Un)}finally{if(Dn)throw Dn.error}}return"PUBLIC"===tn.type?je[cn]:null}return je.default=je,Object.defineProperty(je,"apps",{get:function bt(){return Object.keys(Ee).map(function(tn){return Ee[tn]})}}),gt.App=De,je}(he);return De.INTERNAL=l.__assign(l.__assign({},De.INTERNAL),{createFirebaseNamespace:Le,extendNamespace:function Ee(He){U.deepExtend(De,He)},createSubscribe:U.createSubscribe,ErrorFactory:U.ErrorFactory,deepExtend:U.deepExtend}),De}(),ot=function(){function De(Ee){this.container=Ee}return De.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(He){if(function Kt(De){var Ee=De.getComponent();return"VERSION"===Ee?.type}(He)){var je=He.getImmediate();return je.library+"/"+je.version}return null}).filter(function(He){return He}).join(" ")},De}();if(U.isBrowser()&&void 0!==self.firebase){it.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var un=self.firebase.SDK_VERSION;un&&un.indexOf("LITE")>=0&&it.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var rn=Et.initializeApp;Et.initializeApp=function(){for(var De=[],Ee=0;Ee<arguments.length;Ee++)De[Ee]=arguments[Ee];return U.isNode()&&it.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),rn.apply(void 0,De)};var fi=Et;(function nn(De,Ee){De.INTERNAL.registerComponent(new K.Component("platform-logger",function(He){return new ot(He)},"PRIVATE")),De.registerVersion(ut,"0.6.11",Ee),De.registerVersion("fire-js","")})(fi),Ae.default=fi,Ae.firebase=fi},6553:(en,Ae,Q)=>{Object.defineProperty(Ae,"__esModule",{value:!0});var l=Q(8005),U=Q(3661),K=function(){function Ve(z,q,de){this.name=z,this.instanceFactory=q,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return Ve.prototype.setInstantiationMode=function(z){return this.instantiationMode=z,this},Ve.prototype.setMultipleInstances=function(z){return this.multipleInstances=z,this},Ve.prototype.setServiceProps=function(z){return this.serviceProps=z,this},Ve}(),pe="[DEFAULT]",ce=function(){function Ve(z,q){this.name=z,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return Ve.prototype.get=function(z){void 0===z&&(z=pe);var q=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(q)){var de=new U.Deferred;this.instancesDeferred.set(q,de);try{var Ne=this.getOrInitializeService(q);Ne&&de.resolve(Ne)}catch{}}return this.instancesDeferred.get(q).promise},Ve.prototype.getImmediate=function(z){var q=l.__assign({identifier:pe,optional:!1},z),Ne=q.optional,me=this.normalizeInstanceIdentifier(q.identifier);try{var lt=this.getOrInitializeService(me);if(!lt){if(Ne)return null;throw Error("Service "+this.name+" is not available")}return lt}catch(st){if(Ne)return null;throw st}},Ve.prototype.getComponent=function(){return this.component},Ve.prototype.setComponent=function(z){var q,de;if(z.name!==this.name)throw Error("Mismatching Component "+z.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=z,function Oe(Ve){return"EAGER"===Ve.instantiationMode}(z))try{this.getOrInitializeService(pe)}catch{}try{for(var Ne=l.__values(this.instancesDeferred.entries()),me=Ne.next();!me.done;me=Ne.next()){var lt=l.__read(me.value,2),mt=lt[1],ke=this.normalizeInstanceIdentifier(lt[0]);try{var at=this.getOrInitializeService(ke);mt.resolve(at)}catch{}}}catch(Ze){q={error:Ze}}finally{try{me&&!me.done&&(de=Ne.return)&&de.call(Ne)}finally{if(q)throw q.error}}},Ve.prototype.clearInstance=function(z){void 0===z&&(z=pe),this.instancesDeferred.delete(z),this.instances.delete(z)},Ve.prototype.delete=function(){return l.__awaiter(this,void 0,void 0,function(){var z;return l.__generator(this,function(q){switch(q.label){case 0:return z=Array.from(this.instances.values()),[4,Promise.all(l.__spread(z.filter(function(de){return"INTERNAL"in de}).map(function(de){return de.INTERNAL.delete()}),z.filter(function(de){return"_delete"in de}).map(function(de){return de._delete()})))];case 1:return q.sent(),[2]}})})},Ve.prototype.isComponentSet=function(){return null!=this.component},Ve.prototype.getOrInitializeService=function(z){var q=this.instances.get(z);return!q&&this.component&&(q=this.component.instanceFactory(this.container,function Pe(Ve){return Ve===pe?void 0:Ve}(z)),this.instances.set(z,q)),q||null},Ve.prototype.normalizeInstanceIdentifier=function(z){return this.component?this.component.multipleInstances?z:pe:z},Ve}(),ut=function(){function Ve(z){this.name=z,this.providers=new Map}return Ve.prototype.addComponent=function(z){var q=this.getProvider(z.name);if(q.isComponentSet())throw new Error("Component "+z.name+" has already been registered with "+this.name);q.setComponent(z)},Ve.prototype.addOrOverwriteComponent=function(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)},Ve.prototype.getProvider=function(z){if(this.providers.has(z))return this.providers.get(z);var q=new ce(z,this);return this.providers.set(z,q),q},Ve.prototype.getProviders=function(){return Array.from(this.providers.values())},Ve}();Ae.Component=K,Ae.ComponentContainer=ut,Ae.Provider=ce},4467:(en,Ae,Q)=>{var U=Q(8005),K=Q(3219),pe=Q(8836),ce=Q(3661),Pe=Q(8602),Oe=Q(6553),Ve=function ut(f){return f&&"object"==typeof f&&"default"in f?f:{default:f}}(K),z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=function(f){function c(h,g){var y=this;return(y=f.call(this,g)||this).code=h,y.message=g,y.name="FirebaseError",y.toString=function(){return y.name+": [code="+y.code+"]: "+y.message},y}return U.__extends(c,f),c}(Error),de=new pe.Logger("@firebase/firestore");function Ne(){return de.logLevel}function me(f){for(var c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];if(de.logLevel<=pe.LogLevel.DEBUG){var g=c.map(mt);de.debug.apply(de,U.__spreadArrays(["Firestore (7.24.0): "+f],g))}}function lt(f){for(var c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];if(de.logLevel<=pe.LogLevel.ERROR){var g=c.map(mt);de.error.apply(de,U.__spreadArrays(["Firestore (7.24.0): "+f],g))}}function st(f){for(var c=[],h=1;h<arguments.length;h++)c[h-1]=arguments[h];if(de.logLevel<=pe.LogLevel.WARN){var g=c.map(mt);de.warn.apply(de,U.__spreadArrays(["Firestore (7.24.0): "+f],g))}}function mt(f){if("string"==typeof f)return f;try{return JSON.stringify(f)}catch{return f}}function ke(f){void 0===f&&(f="Unexpected state");var c="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+f;throw lt(c),new Error(c)}function at(f,c){f||ke()}function Ze(f,c){return f}function Ce(f){var c=0;for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&c++;return c}function nt(f,c){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&c(h,f[h])}function $e(f){for(var c in f)if(Object.prototype.hasOwnProperty.call(f,c))return!1;return!0}var it=function(){function f(c,h,g){void 0===h?h=0:h>c.length&&ke(),void 0===g?g=c.length-h:g>c.length-h&&ke(),this.segments=c,this.offset=h,this.t=g}return Object.defineProperty(f.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(c){return 0===f.i(this,c)},f.prototype.child=function(c){var h=this.segments.slice(this.offset,this.limit());return c instanceof f?c.forEach(function(g){h.push(g)}):h.push(c),this.o(h)},f.prototype.limit=function(){return this.offset+this.length},f.prototype.u=function(c){return this.o(this.segments,this.offset+(c=void 0===c?1:c),this.length-c)},f.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},f.prototype.l=function(){return this.segments[this.offset]},f.prototype._=function(){return this.get(this.length-1)},f.prototype.get=function(c){return this.segments[this.offset+c]},f.prototype.m=function(){return 0===this.length},f.prototype.T=function(c){if(c.length<this.length)return!1;for(var h=0;h<this.length;h++)if(this.get(h)!==c.get(h))return!1;return!0},f.prototype.I=function(c){if(this.length+1!==c.length)return!1;for(var h=0;h<this.length;h++)if(this.get(h)!==c.get(h))return!1;return!0},f.prototype.forEach=function(c){for(var h=this.offset,g=this.limit();h<g;h++)c(this.segments[h])},f.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},f.i=function(c,h){for(var g=Math.min(c.length,h.length),y=0;y<g;y++){var x=c.get(y),D=h.get(y);if(x<D)return-1;if(x>D)return 1}return c.length<h.length?-1:c.length>h.length?1:0},f}(),he=function(f){function c(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(c,f),c.prototype.o=function(h,g,y){return new c(h,g,y)},c.prototype.R=function(){return this.A().join("/")},c.prototype.toString=function(){return this.R()},c.g=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];for(var y=[],x=0,D=h;x<D.length;x++){var k=D[x];if(k.indexOf("//")>=0)throw new q(z.INVALID_ARGUMENT,"Invalid segment ("+k+"). Paths must not contain // in them.");y.push.apply(y,k.split("/").filter(function(V){return V.length>0}))}return new c(y)},c.P=function(){return new c([])},c}(it),ue=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qe=function(f){function c(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(c,f),c.prototype.o=function(h,g,y){return new c(h,g,y)},c.V=function(h){return ue.test(h)},c.prototype.R=function(){return this.A().map(function(h){return h=h.replace("\\","\\\\").replace("`","\\`"),c.V(h)||(h="`"+h+"`"),h}).join(".")},c.prototype.toString=function(){return this.R()},c.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},c.v=function(){return new c(["__name__"])},c.S=function(h){for(var g=[],y="",x=0,D=function(){if(0===y.length)throw new q(z.INVALID_ARGUMENT,"Invalid field path ("+h+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");g.push(y),y=""},k=!1;x<h.length;){var V=h[x];if("\\"===V){if(x+1===h.length)throw new q(z.INVALID_ARGUMENT,"Path has trailing escape character: "+h);var Z=h[x+1];if("\\"!==Z&&"."!==Z&&"`"!==Z)throw new q(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+h);y+=Z,x+=2}else"`"===V?(k=!k,x++):"."!==V||k?(y+=V,x++):(D(),x++)}if(D(),k)throw new q(z.INVALID_ARGUMENT,"Unterminated ` in path: "+h);return new c(g)},c.P=function(){return new c([])},c}(it),Le=function(){function f(c){this.path=c}return f.D=function(c){return new f(he.g(c))},f.C=function(c){return new f(he.g(c).u(5))},f.prototype.N=function(c){return this.path.length>=2&&this.path.get(this.path.length-2)===c},f.prototype.isEqual=function(c){return null!==c&&0===he.i(this.path,c.path)},f.prototype.toString=function(){return this.path.toString()},f.i=function(c,h){return he.i(c.path,h.path)},f.F=function(c){return c.length%2==0},f.$=function(c){return new f(new he(c.slice()))},f}();function Et(f,c){if(0!==c.length)throw new q(z.INVALID_ARGUMENT,"Function "+f+"() does not support arguments, but was called with "+fn(c.length,"argument")+".")}function ot(f,c,h){if(c.length!==h)throw new q(z.INVALID_ARGUMENT,"Function "+f+"() requires "+fn(h,"argument")+", but was called with "+fn(c.length,"argument")+".")}function Kt(f,c,h){if(c.length<h)throw new q(z.INVALID_ARGUMENT,"Function "+f+"() requires at least "+fn(h,"argument")+", but was called with "+fn(c.length,"argument")+".")}function nn(f,c,h,g){if(c.length<h||c.length>g)throw new q(z.INVALID_ARGUMENT,"Function "+f+"() requires between "+h+" and "+g+" arguments, but was called with "+fn(c.length,"argument")+".")}function un(f,c,h,g){je(f,c,Nn(h)+" argument",g)}function rn(f,c,h,g){void 0!==g&&un(f,c,h,g)}function fi(f,c,h,g){je(f,c,h+" option",g)}function De(f,c,h,g){void 0!==g&&fi(f,c,h,g)}function Ee(f,c,h,g,y){void 0!==g&&function(x,D,k,V,Z){for(var re=[],ge=0,_e=Z;ge<_e.length;ge++){var Re=_e[ge];if(Re===V)return;re.push(gt(Re))}var et=gt(V);throw new q(z.INVALID_ARGUMENT,"Invalid value "+et+" provided to function "+x+'() for option "'+k+'". Acceptable values: '+re.join(", "))}(f,0,h,g,y)}function He(f,c,h,g){if(!c.some(function(y){return y===g}))throw new q(z.INVALID_ARGUMENT,"Invalid value "+gt(g)+" provided to function "+f+"() for its "+Nn(h)+" argument. Acceptable values: "+c.join(", "));return g}function je(f,c,h,g){if(!("object"===c?ct(g):"non-empty string"===c?"string"==typeof g&&""!==g:typeof g===c)){var y=gt(g);throw new q(z.INVALID_ARGUMENT,"Function "+f+"() requires its "+h+" to be of type "+c+", but it was: "+y)}}function ct(f){return"object"==typeof f&&null!==f&&(Object.getPrototypeOf(f)===Object.prototype||null===Object.getPrototypeOf(f))}function gt(f){if(void 0===f)return"undefined";if(null===f)return"null";if("string"==typeof f)return f.length>20&&(f=f.substring(0,20)+"..."),JSON.stringify(f);if("number"==typeof f||"boolean"==typeof f)return""+f;if("object"==typeof f){if(f instanceof Array)return"an array";var c=function(h){if(h.constructor){var g=/function\s+([^\s(]+)\s*\(/.exec(h.constructor.toString());if(g&&g.length>1)return g[1]}return null}(f);return c?"a custom "+c+" object":"an object"}return"function"==typeof f?"a function":ke()}function At(f,c,h){if(void 0===h)throw new q(z.INVALID_ARGUMENT,"Function "+f+"() requires a valid "+Nn(c)+" argument, but it was undefined.")}function bt(f,c,h){nt(c,function(g,y){if(h.indexOf(g)<0)throw new q(z.INVALID_ARGUMENT,"Unknown option '"+g+"' passed to function "+f+"(). Available options: "+h.join(", "))})}function Tn(f,c,h,g){var y=gt(g);return new q(z.INVALID_ARGUMENT,"Function "+f+"() requires its "+Nn(h)+" argument to be a "+c+", but it was: "+y)}function dn(f,c,h){if(h<=0)throw new q(z.INVALID_ARGUMENT,"Function "+f+"() requires its "+Nn(c)+" argument to be a positive number, but it was: "+h+".")}function Nn(f){switch(f){case 1:return"first";case 2:return"second";case 3:return"third";default:return f+"th"}}function fn(f,c){return f+" "+c+(1===f?"":"s")}function tn(f){var c=typeof self<"u"&&(self.crypto||self.msCrypto),h=new Uint8Array(f);if(c&&"function"==typeof c.getRandomValues)c.getRandomValues(h);else for(var g=0;g<f;g++)h[g]=Math.floor(256*Math.random());return h}var Dn=function(){function f(){}return f.k=function(){for(var h=62*Math.floor(256/62),g="";g.length<20;)for(var y=tn(40),x=0;x<y.length;++x)g.length<20&&y[x]<h&&(g+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(y[x]%62));return g},f}();function Ut(f,c){return f<c?-1:f>c?1:0}function cn(f,c,h){return f.length===c.length&&f.every(function(g,y){return h(g,c[y])})}function Fn(f){return f+"\0"}var Un=function(){function f(c){this.M=c}return f.fromBase64String=function(c){return new f(atob(c))},f.fromUint8Array=function(c){return new f(function(h){for(var g="",y=0;y<h.length;++y)g+=String.fromCharCode(h[y]);return g}(c))},f.prototype.toBase64=function(){return btoa(this.M)},f.prototype.toUint8Array=function(){return function(c){for(var h=new Uint8Array(c.length),g=0;g<c.length;g++)h[g]=c.charCodeAt(g);return h}(this.M)},f.prototype.O=function(){return 2*this.M.length},f.prototype.L=function(c){return Ut(this.M,c.M)},f.prototype.isEqual=function(c){return this.M===c.M},f}();Un.B=new Un("");var wi=function(){function f(c){this.q=c}return f.fromBase64String=function(c){try{return new f(Un.fromBase64String(c))}catch(h){throw new q(z.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+h)}},f.fromUint8Array=function(c){return new f(Un.fromUint8Array(c))},f.prototype.toBase64=function(){return this.q.toBase64()},f.prototype.toUint8Array=function(){return this.q.toUint8Array()},f.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},f.prototype.isEqual=function(c){return this.q.isEqual(c.q)},f}();function Si(){if(typeof Uint8Array>"u")throw new q(z.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ti(){if(typeof atob>"u")throw new q(z.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Vi=function(f){function c(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(c,f),c.fromBase64String=function(h){ot("Blob.fromBase64String",arguments,1),un("Blob.fromBase64String","string",1,h),ti();try{return new c(Un.fromBase64String(h))}catch(g){throw new q(z.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+g)}},c.fromUint8Array=function(h){if(ot("Blob.fromUint8Array",arguments,1),Si(),!(h instanceof Uint8Array))throw Tn("Blob.fromUint8Array","Uint8Array",1,h);return new c(Un.fromUint8Array(h))},c.prototype.toBase64=function(){return ot("Blob.toBase64",arguments,0),ti(),f.prototype.toBase64.call(this)},c.prototype.toUint8Array=function(){return ot("Blob.toUint8Array",arguments,0),Si(),f.prototype.toUint8Array.call(this)},c.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},c}(wi),Po=function(f,c,h,g,y,x){this.U=f,this.persistenceKey=c,this.host=h,this.ssl=g,this.forceLongPolling=y,this.W=x},sn=function(){function f(c,h){this.projectId=c,this.database=h||"(default)"}return Object.defineProperty(f.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(c){return c instanceof f&&c.projectId===this.projectId&&c.database===this.database},f.prototype.L=function(c){return Ut(this.projectId,c.projectId)||Ut(this.database,c.database)},f}(),Yt=function(){function f(c,h){this.K=c,this.G=h,this.H={}}return f.prototype.get=function(c){var h=this.K(c),g=this.H[h];if(void 0!==g)for(var y=0,x=g;y<x.length;y++){var D=x[y],V=D[1];if(this.G(D[0],c))return V}},f.prototype.has=function(c){return void 0!==this.get(c)},f.prototype.set=function(c,h){var g=this.K(c),y=this.H[g];if(void 0!==y){for(var x=0;x<y.length;x++)if(this.G(y[x][0],c))return void(y[x]=[c,h]);y.push([c,h])}else this.H[g]=[[c,h]]},f.prototype.delete=function(c){var h=this.K(c),g=this.H[h];if(void 0===g)return!1;for(var y=0;y<g.length;y++)if(this.G(g[y][0],c))return 1===g.length?delete this.H[h]:g.splice(y,1),!0;return!1},f.prototype.forEach=function(c){nt(this.H,function(h,g){for(var y=0,x=g;y<x.length;y++){var D=x[y];c(D[0],D[1])}})},f.prototype.m=function(){return $e(this.H)},f}(),Qt=function(){function f(c,h){if(this.seconds=c,this.nanoseconds=h,h<0)throw new q(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+h);if(h>=1e9)throw new q(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+h);if(c<-62135596800)throw new q(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+c);if(c>=253402300800)throw new q(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+c)}return f.now=function(){return f.fromMillis(Date.now())},f.fromDate=function(c){return f.fromMillis(c.getTime())},f.fromMillis=function(c){var h=Math.floor(c/1e3);return new f(h,1e6*(c-1e3*h))},f.prototype.toDate=function(){return new Date(this.toMillis())},f.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},f.prototype.Y=function(c){return this.seconds===c.seconds?Ut(this.nanoseconds,c.nanoseconds):Ut(this.seconds,c.seconds)},f.prototype.isEqual=function(c){return c.seconds===this.seconds&&c.nanoseconds===this.nanoseconds},f.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},f.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},f.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},f}(),zt=function(){function f(c){this.timestamp=c}return f.J=function(c){return new f(c)},f.min=function(){return new f(new Qt(0,0))},f.prototype.L=function(c){return this.timestamp.Y(c.timestamp)},f.prototype.isEqual=function(c){return this.timestamp.isEqual(c.timestamp)},f.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},f.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},f.prototype.Z=function(){return this.timestamp},f}();function Te(f){return null==f}function we(f){return 0===f&&1/f==-1/0}function xe(f){return"number"==typeof f&&Number.isInteger(f)&&!we(f)&&f<=Number.MAX_SAFE_INTEGER&&f>=Number.MIN_SAFE_INTEGER}var Ge=function(f,c,h,g,y,x,D){void 0===c&&(c=null),void 0===h&&(h=[]),void 0===g&&(g=[]),void 0===y&&(y=null),void 0===x&&(x=null),void 0===D&&(D=null),this.path=f,this.collectionGroup=c,this.orderBy=h,this.filters=g,this.limit=y,this.startAt=x,this.endAt=D,this.tt=null};function Fe(f,c,h,g,y,x,D){return void 0===c&&(c=null),void 0===h&&(h=[]),void 0===g&&(g=[]),void 0===y&&(y=null),void 0===x&&(x=null),void 0===D&&(D=null),new Ge(f,c,h,g,y,x,D)}function Ct(f){var c=Ze(f);if(null===c.tt){var h=c.path.R();null!==c.collectionGroup&&(h+="|cg:"+c.collectionGroup),h+="|f:",h+=c.filters.map(function(g){return(y=g).field.R()+y.op.toString()+cs(y.value);var y}).join(","),h+="|ob:",h+=c.orderBy.map(function(g){return(y=g).field.R()+y.dir;var y}).join(","),Te(c.limit)||(h+="|l:",h+=c.limit),c.startAt&&(h+="|lb:",h+=nc(c.startAt)),c.endAt&&(h+="|ub:",h+=nc(c.endAt)),c.tt=h}return c.tt}function mn(f,c){if(f.limit!==c.limit||f.orderBy.length!==c.orderBy.length)return!1;for(var h=0;h<f.orderBy.length;h++)if(!yi(f.orderBy[h],c.orderBy[h]))return!1;if(f.filters.length!==c.filters.length)return!1;for(var g=0;g<f.filters.length;g++)if((y=f.filters[g]).op!==(x=c.filters[g]).op||!y.field.isEqual(x.field)||!Lr(y.value,x.value))return!1;var y,x;return f.collectionGroup===c.collectionGroup&&!!f.path.isEqual(c.path)&&!!Vs(f.startAt,c.startAt)&&Vs(f.endAt,c.endAt)}function jt(f){return Le.F(f.path)&&null===f.collectionGroup&&0===f.filters.length}var Jt,Ht,Ei=function(){function f(c,h,g,y,x,D,k){void 0===x&&(x=zt.min()),void 0===D&&(D=zt.min()),void 0===k&&(k=Un.B),this.target=c,this.targetId=h,this.et=g,this.sequenceNumber=y,this.nt=x,this.lastLimboFreeSnapshotVersion=D,this.resumeToken=k}return f.prototype.st=function(c){return new f(this.target,this.targetId,this.et,c,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},f.prototype.it=function(c,h){return new f(this.target,this.targetId,this.et,this.sequenceNumber,h,this.lastLimboFreeSnapshotVersion,c)},f.prototype.rt=function(c){return new f(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,c,this.resumeToken)},f}(),vi=function(f){this.count=f};function zn(f){switch(f){case z.OK:return ke();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return ke()}}function ki(f){if(void 0===f)return lt("GRPC error has no .code"),z.UNKNOWN;switch(f){case Jt.OK:return z.OK;case Jt.CANCELLED:return z.CANCELLED;case Jt.UNKNOWN:return z.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return z.INTERNAL;case Jt.UNAVAILABLE:return z.UNAVAILABLE;case Jt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Jt.NOT_FOUND:return z.NOT_FOUND;case Jt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Jt.ABORTED:return z.ABORTED;case Jt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Jt.DATA_LOSS:return z.DATA_LOSS;default:return ke()}}(Ht=Jt||(Jt={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";var Hn=function(){function f(c,h){this.i=c,this.root=h||pi.EMPTY}return f.prototype.ot=function(c,h){return new f(this.i,this.root.ot(c,h,this.i).copy(null,null,pi.at,null,null))},f.prototype.remove=function(c){return new f(this.i,this.root.remove(c,this.i).copy(null,null,pi.at,null,null))},f.prototype.get=function(c){for(var h=this.root;!h.m();){var g=this.i(c,h.key);if(0===g)return h.value;g<0?h=h.left:g>0&&(h=h.right)}return null},f.prototype.indexOf=function(c){for(var h=0,g=this.root;!g.m();){var y=this.i(c,g.key);if(0===y)return h+g.left.size;y<0?g=g.left:(h+=g.left.size+1,g=g.right)}return-1},f.prototype.m=function(){return this.root.m()},Object.defineProperty(f.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),f.prototype.ct=function(){return this.root.ct()},f.prototype.ut=function(){return this.root.ut()},f.prototype.ht=function(c){return this.root.ht(c)},f.prototype.forEach=function(c){this.ht(function(h,g){return c(h,g),!1})},f.prototype.toString=function(){var c=[];return this.ht(function(h,g){return c.push(h+":"+g),!1}),"{"+c.join(", ")+"}"},f.prototype.lt=function(c){return this.root.lt(c)},f.prototype._t=function(){return new mr(this.root,null,this.i,!1)},f.prototype.ft=function(c){return new mr(this.root,c,this.i,!1)},f.prototype.dt=function(){return new mr(this.root,null,this.i,!0)},f.prototype.wt=function(c){return new mr(this.root,c,this.i,!0)},f}(),mr=function(){function f(c,h,g,y){this.Tt=y,this.Et=[];for(var x=1;!c.m();)if(x=h?g(c.key,h):1,y&&(x*=-1),x<0)c=this.Tt?c.left:c.right;else{if(0===x){this.Et.push(c);break}this.Et.push(c),c=this.Tt?c.right:c.left}}return f.prototype.It=function(){var c=this.Et.pop(),h={key:c.key,value:c.value};if(this.Tt)for(c=c.left;!c.m();)this.Et.push(c),c=c.right;else for(c=c.right;!c.m();)this.Et.push(c),c=c.left;return h},f.prototype.At=function(){return this.Et.length>0},f.prototype.Rt=function(){if(0===this.Et.length)return null;var c=this.Et[this.Et.length-1];return{key:c.key,value:c.value}},f}(),pi=function(){function f(c,h,g,y,x){this.key=c,this.value=h,this.color=g??f.RED,this.left=y??f.EMPTY,this.right=x??f.EMPTY,this.size=this.left.size+1+this.right.size}return f.prototype.copy=function(c,h,g,y,x){return new f(c??this.key,h??this.value,g??this.color,y??this.left,x??this.right)},f.prototype.m=function(){return!1},f.prototype.ht=function(c){return this.left.ht(c)||c(this.key,this.value)||this.right.ht(c)},f.prototype.lt=function(c){return this.right.lt(c)||c(this.key,this.value)||this.left.lt(c)},f.prototype.min=function(){return this.left.m()?this:this.left.min()},f.prototype.ct=function(){return this.min().key},f.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},f.prototype.ot=function(c,h,g){var y=this,x=g(c,y.key);return(y=x<0?y.copy(null,null,null,y.left.ot(c,h,g),null):0===x?y.copy(null,h,null,null,null):y.copy(null,null,null,null,y.right.ot(c,h,g))).gt()},f.prototype.Pt=function(){if(this.left.m())return f.EMPTY;var c=this;return c.left.yt()||c.left.left.yt()||(c=c.Vt()),(c=c.copy(null,null,null,c.left.Pt(),null)).gt()},f.prototype.remove=function(c,h){var g,y=this;if(h(c,y.key)<0)y.left.m()||y.left.yt()||y.left.left.yt()||(y=y.Vt()),y=y.copy(null,null,null,y.left.remove(c,h),null);else{if(y.left.yt()&&(y=y.bt()),y.right.m()||y.right.yt()||y.right.left.yt()||(y=y.vt()),0===h(c,y.key)){if(y.right.m())return f.EMPTY;g=y.right.min(),y=y.copy(g.key,g.value,null,null,y.right.Pt())}y=y.copy(null,null,null,null,y.right.remove(c,h))}return y.gt()},f.prototype.yt=function(){return this.color},f.prototype.gt=function(){var c=this;return c.right.yt()&&!c.left.yt()&&(c=c.St()),c.left.yt()&&c.left.left.yt()&&(c=c.bt()),c.left.yt()&&c.right.yt()&&(c=c.Dt()),c},f.prototype.Vt=function(){var c=this.Dt();return c.right.left.yt()&&(c=(c=(c=c.copy(null,null,null,null,c.right.bt())).St()).Dt()),c},f.prototype.vt=function(){var c=this.Dt();return c.left.left.yt()&&(c=(c=c.bt()).Dt()),c},f.prototype.St=function(){var c=this.copy(null,null,f.RED,null,this.right.left);return this.right.copy(null,null,this.color,c,null)},f.prototype.bt=function(){var c=this.copy(null,null,f.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,c)},f.prototype.Dt=function(){var c=this.left.copy(null,null,!this.left.color,null,null),h=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,c,h)},f.prototype.Ct=function(){var c=this.Nt();return Math.pow(2,c)<=this.size+1},f.prototype.Nt=function(){if(this.yt()&&this.left.yt()||this.right.yt())throw ke();var c=this.left.Nt();if(c!==this.right.Nt())throw ke();return c+(this.yt()?0:1)},f}();pi.EMPTY=null,pi.RED=!0,pi.at=!1,pi.EMPTY=new(function(){function f(){this.size=0}return Object.defineProperty(f.prototype,"key",{get:function(){throw ke()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"value",{get:function(){throw ke()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"color",{get:function(){throw ke()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"left",{get:function(){throw ke()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"right",{get:function(){throw ke()},enumerable:!1,configurable:!0}),f.prototype.copy=function(c,h,g,y,x){return this},f.prototype.ot=function(c,h,g){return new pi(c,h)},f.prototype.remove=function(c,h){return this},f.prototype.m=function(){return!0},f.prototype.ht=function(c){return!1},f.prototype.lt=function(c){return!1},f.prototype.ct=function(){return null},f.prototype.ut=function(){return null},f.prototype.yt=function(){return!1},f.prototype.Ct=function(){return!0},f.prototype.Nt=function(){return 0},f}());var Ci=function(){function f(c){this.i=c,this.data=new Hn(this.i)}return f.prototype.has=function(c){return null!==this.data.get(c)},f.prototype.first=function(){return this.data.ct()},f.prototype.last=function(){return this.data.ut()},Object.defineProperty(f.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),f.prototype.indexOf=function(c){return this.data.indexOf(c)},f.prototype.forEach=function(c){this.data.ht(function(h,g){return c(h),!1})},f.prototype.Ft=function(c,h){for(var g=this.data.ft(c[0]);g.At();){var y=g.It();if(this.i(y.key,c[1])>=0)return;h(y.key)}},f.prototype.xt=function(c,h){var g;for(g=void 0!==h?this.data.ft(h):this.data._t();g.At();)if(!c(g.It().key))return},f.prototype.$t=function(c){var h=this.data.ft(c);return h.At()?h.It().key:null},f.prototype._t=function(){return new gr(this.data._t())},f.prototype.ft=function(c){return new gr(this.data.ft(c))},f.prototype.add=function(c){return this.copy(this.data.remove(c).ot(c,!0))},f.prototype.delete=function(c){return this.has(c)?this.copy(this.data.remove(c)):this},f.prototype.m=function(){return this.data.m()},f.prototype.kt=function(c){var h=this;return h.size<c.size&&(h=c,c=this),c.forEach(function(g){h=h.add(g)}),h},f.prototype.isEqual=function(c){if(!(c instanceof f)||this.size!==c.size)return!1;for(var h=this.data._t(),g=c.data._t();h.At();){var y=h.It().key,x=g.It().key;if(0!==this.i(y,x))return!1}return!0},f.prototype.A=function(){var c=[];return this.forEach(function(h){c.push(h)}),c},f.prototype.toString=function(){var c=[];return this.forEach(function(h){return c.push(h)}),"SortedSet("+c.toString()+")"},f.prototype.copy=function(c){var h=new f(this.i);return h.data=c,h},f}(),gr=function(){function f(c){this.Mt=c}return f.prototype.It=function(){return this.Mt.It().key},f.prototype.At=function(){return this.Mt.At()},f}(),mo=new Hn(Le.i);function fe(){return mo}function le(){return fe()}var J=new Hn(Le.i);function te(){return J}var Y=new Hn(Le.i),Me=new Ci(Le.i);function Qe(){for(var f=[],c=0;c<arguments.length;c++)f[c]=arguments[c];for(var h=Me,g=0,y=f;g<y.length;g++)h=h.add(y[g]);return h}var St=new Ci(Ut);function yn(){return St}var Vt=function(){function f(c){this.i=c?function(h,g){return c(h,g)||Le.i(h.key,g.key)}:function(h,g){return Le.i(h.key,g.key)},this.Ot=te(),this.Lt=new Hn(this.i)}return f.Bt=function(c){return new f(c.i)},f.prototype.has=function(c){return null!=this.Ot.get(c)},f.prototype.get=function(c){return this.Ot.get(c)},f.prototype.first=function(){return this.Lt.ct()},f.prototype.last=function(){return this.Lt.ut()},f.prototype.m=function(){return this.Lt.m()},f.prototype.indexOf=function(c){var h=this.Ot.get(c);return h?this.Lt.indexOf(h):-1},Object.defineProperty(f.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),f.prototype.forEach=function(c){this.Lt.ht(function(h,g){return c(h),!1})},f.prototype.add=function(c){var h=this.delete(c.key);return h.copy(h.Ot.ot(c.key,c),h.Lt.ot(c,null))},f.prototype.delete=function(c){var h=this.get(c);return h?this.copy(this.Ot.remove(c),this.Lt.remove(h)):this},f.prototype.isEqual=function(c){if(!(c instanceof f)||this.size!==c.size)return!1;for(var h=this.Lt._t(),g=c.Lt._t();h.At();){var y=h.It().key,x=g.It().key;if(!y.isEqual(x))return!1}return!0},f.prototype.toString=function(){var c=[];return this.forEach(function(h){c.push(h.toString())}),0===c.length?"DocumentSet ()":"DocumentSet (\n  "+c.join("  \n")+"\n)"},f.prototype.copy=function(c,h){var g=new f;return g.i=this.i,g.Ot=c,g.Lt=h,g},f}(),Xn=function(){function f(){this.qt=new Hn(Le.i)}return f.prototype.track=function(c){var h=c.doc.key,g=this.qt.get(h);g?0!==c.type&&3===g.type?this.qt=this.qt.ot(h,c):3===c.type&&1!==g.type?this.qt=this.qt.ot(h,{type:g.type,doc:c.doc}):2===c.type&&2===g.type?this.qt=this.qt.ot(h,{type:2,doc:c.doc}):2===c.type&&0===g.type?this.qt=this.qt.ot(h,{type:0,doc:c.doc}):1===c.type&&0===g.type?this.qt=this.qt.remove(h):1===c.type&&2===g.type?this.qt=this.qt.ot(h,{type:1,doc:g.doc}):0===c.type&&1===g.type?this.qt=this.qt.ot(h,{type:2,doc:c.doc}):ke():this.qt=this.qt.ot(h,c)},f.prototype.Ut=function(){var c=[];return this.qt.ht(function(h,g){c.push(g)}),c},f}(),En=function(){function f(c,h,g,y,x,D,k,V){this.query=c,this.docs=h,this.Qt=g,this.docChanges=y,this.Wt=x,this.fromCache=D,this.jt=k,this.Kt=V}return f.Gt=function(c,h,g,y){var x=[];return h.forEach(function(D){x.push({type:0,doc:D})}),new f(c,h,Vt.Bt(h),x,g,y,!0,!1)},Object.defineProperty(f.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(c){if(!(this.fromCache===c.fromCache&&this.jt===c.jt&&this.Wt.isEqual(c.Wt)&&tc(this.query,c.query)&&this.docs.isEqual(c.docs)&&this.Qt.isEqual(c.Qt)))return!1;var h=this.docChanges,g=c.docChanges;if(h.length!==g.length)return!1;for(var y=0;y<h.length;y++)if(h[y].type!==g[y].type||!h[y].doc.isEqual(g[y].doc))return!1;return!0},f}(),si=function(){function f(c,h,g,y,x){this.nt=c,this.zt=h,this.Ht=g,this.Yt=y,this.Jt=x}return f.Xt=function(c,h){var g=new Map;return g.set(c,kn.Zt(c,h)),new f(zt.min(),g,yn(),fe(),Qe())},f}(),kn=function(){function f(c,h,g,y,x){this.resumeToken=c,this.te=h,this.ee=g,this.ne=y,this.se=x}return f.Zt=function(c,h){return new f(Un.B,h,Qe(),Qe(),Qe())},f}(),_r=function(f,c,h,g){this.ie=f,this.removedTargetIds=c,this.key=h,this.re=g},Zo=function(f,c){this.targetId=f,this.oe=c},Xe=function(f,c,h,g){void 0===h&&(h=Un.B),void 0===g&&(g=null),this.state=f,this.targetIds=c,this.resumeToken=h,this.cause=g},ze=function(){function f(){this.ae=0,this.ce=Pt(),this.ue=Un.B,this.he=!1,this.le=!0}return Object.defineProperty(f.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),f.prototype.de=function(c){c.O()>0&&(this.le=!0,this.ue=c)},f.prototype.we=function(){var c=Qe(),h=Qe(),g=Qe();return this.ce.forEach(function(y,x){switch(x){case 0:c=c.add(y);break;case 2:h=h.add(y);break;case 1:g=g.add(y);break;default:ke()}}),new kn(this.ue,this.he,c,h,g)},f.prototype.me=function(){this.le=!1,this.ce=Pt()},f.prototype.Te=function(c,h){this.le=!0,this.ce=this.ce.ot(c,h)},f.prototype.Ee=function(c){this.le=!0,this.ce=this.ce.remove(c)},f.prototype.Ie=function(){this.ae+=1},f.prototype.Ae=function(){this.ae-=1},f.prototype.Re=function(){this.le=!0,this.he=!0},f}(),_t=function(){function f(c){this.ge=c,this.Pe=new Map,this.ye=fe(),this.Ve=Zt(),this.pe=new Ci(Ut)}return f.prototype.be=function(c){for(var h=0,g=c.ie;h<g.length;h++){var y=g[h];c.re instanceof ri?this.ve(y,c.re):c.re instanceof Rr&&this.Se(y,c.key,c.re)}for(var x=0,D=c.removedTargetIds;x<D.length;x++)this.Se(D[x],c.key,c.re)},f.prototype.De=function(c){var h=this;this.Ce(c,function(g){var y=h.Ne(g);switch(c.state){case 0:h.Fe(g)&&y.de(c.resumeToken);break;case 1:y.Ae(),y._e||y.me(),y.de(c.resumeToken);break;case 2:y.Ae(),y._e||h.removeTarget(g);break;case 3:h.Fe(g)&&(y.Re(),y.de(c.resumeToken));break;case 4:h.Fe(g)&&(h.xe(g),y.de(c.resumeToken));break;default:ke()}})},f.prototype.Ce=function(c,h){var g=this;c.targetIds.length>0?c.targetIds.forEach(h):this.Pe.forEach(function(y,x){g.Fe(x)&&h(x)})},f.prototype.$e=function(c){var h=c.targetId,g=c.oe.count,y=this.ke(h);if(y){var x=y.target;if(jt(x))if(0===g){var D=new Le(x.path);this.Se(h,D,new Rr(D,zt.min()))}else at(1===g);else this.Me(h)!==g&&(this.xe(h),this.pe=this.pe.add(h))}},f.prototype.Oe=function(c){var h=this,g=new Map;this.Pe.forEach(function(D,k){var V=h.ke(k);if(V){if(D.te&&jt(V.target)){var Z=new Le(V.target.path);null!==h.ye.get(Z)||h.Le(k,Z)||h.Se(k,Z,new Rr(Z,c))}D.fe&&(g.set(k,D.we()),D.me())}});var y=Qe();this.Ve.forEach(function(D,k){var V=!0;k.xt(function(Z){var re=h.ke(Z);return!re||2===re.et||(V=!1,!1)}),V&&(y=y.add(D))});var x=new si(c,g,this.pe,this.ye,y);return this.ye=fe(),this.Ve=Zt(),this.pe=new Ci(Ut),x},f.prototype.ve=function(c,h){if(this.Fe(c)){var g=this.Le(c,h.key)?2:0;this.Ne(c).Te(h.key,g),this.ye=this.ye.ot(h.key,h),this.Ve=this.Ve.ot(h.key,this.Be(h.key).add(c))}},f.prototype.Se=function(c,h,g){if(this.Fe(c)){var y=this.Ne(c);this.Le(c,h)?y.Te(h,1):y.Ee(h),this.Ve=this.Ve.ot(h,this.Be(h).delete(c)),g&&(this.ye=this.ye.ot(h,g))}},f.prototype.removeTarget=function(c){this.Pe.delete(c)},f.prototype.Me=function(c){var h=this.Ne(c).we();return this.ge.qe(c).size+h.ee.size-h.se.size},f.prototype.Ie=function(c){this.Ne(c).Ie()},f.prototype.Ne=function(c){var h=this.Pe.get(c);return h||(h=new ze,this.Pe.set(c,h)),h},f.prototype.Be=function(c){var h=this.Ve.get(c);return h||(h=new Ci(Ut),this.Ve=this.Ve.ot(c,h)),h},f.prototype.Fe=function(c){var h=null!==this.ke(c);return h||me("WatchChangeAggregator","Detected inactive target",c),h},f.prototype.ke=function(c){var h=this.Pe.get(c);return h&&h._e?null:this.ge.Ue(c)},f.prototype.xe=function(c){var h=this;this.Pe.set(c,new ze),this.ge.qe(c).forEach(function(g){h.Se(c,g,null)})},f.prototype.Le=function(c,h){return this.ge.qe(c).has(h)},f}();function Zt(){return new Hn(Le.i)}function Pt(){return new Hn(Le.i)}function On(f){var c,h;return"server_timestamp"===(null===(h=((null===(c=f?.mapValue)||void 0===c?void 0:c.fields)||{}).__type__)||void 0===h?void 0:h.stringValue)}function ii(f){var c=f.mapValue.fields.__previous_value__;return On(c)?ii(c):c}function Hi(f){var c=Yo(f.mapValue.fields.__local_write_time__.timestampValue);return new Qt(c.seconds,c.nanos)}var Gi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(f){return"nullValue"in f?0:"booleanValue"in f?1:"integerValue"in f||"doubleValue"in f?2:"timestampValue"in f?3:"stringValue"in f?5:"bytesValue"in f?6:"referenceValue"in f?7:"geoPointValue"in f?8:"arrayValue"in f?9:"mapValue"in f?On(f)?4:10:ke()}function Lr(f,c){var y,h=Yi(f);if(h!==Yi(c))return!1;switch(h){case 0:return!0;case 1:return f.booleanValue===c.booleanValue;case 4:return Hi(f).isEqual(Hi(c));case 3:return function(g,y){if("string"==typeof g.timestampValue&&"string"==typeof y.timestampValue&&g.timestampValue.length===y.timestampValue.length)return g.timestampValue===y.timestampValue;var x=Yo(g.timestampValue),D=Yo(y.timestampValue);return x.seconds===D.seconds&&x.nanos===D.nanos}(f,c);case 5:return f.stringValue===c.stringValue;case 6:return y=c,Ai(f.bytesValue).isEqual(Ai(y.bytesValue));case 7:return f.referenceValue===c.referenceValue;case 8:return function(g,y){return ai(g.geoPointValue.latitude)===ai(y.geoPointValue.latitude)&&ai(g.geoPointValue.longitude)===ai(y.geoPointValue.longitude)}(f,c);case 2:return function(g,y){if("integerValue"in g&&"integerValue"in y)return ai(g.integerValue)===ai(y.integerValue);if("doubleValue"in g&&"doubleValue"in y){var x=ai(g.doubleValue),D=ai(y.doubleValue);return x===D?we(x)===we(D):isNaN(x)&&isNaN(D)}return!1}(f,c);case 9:return cn(f.arrayValue.values||[],c.arrayValue.values||[],Lr);case 10:return function(g,y){var x=g.mapValue.fields||{},D=y.mapValue.fields||{};if(Ce(x)!==Ce(D))return!1;for(var k in x)if(x.hasOwnProperty(k)&&(void 0===D[k]||!Lr(x[k],D[k])))return!1;return!0}(f,c);default:return ke()}}function go(f,c){return void 0!==(f.values||[]).find(function(h){return Lr(h,c)})}function xa(f,c){var y,x,D,k,h=Yi(f),g=Yi(c);if(h!==g)return Ut(h,g);switch(h){case 0:return 0;case 1:return Ut(f.booleanValue,c.booleanValue);case 2:return x=c,(D=ai((y=f).integerValue||y.doubleValue))<(k=ai(x.integerValue||x.doubleValue))?-1:D>k?1:D===k?0:isNaN(D)?isNaN(k)?0:-1:1;case 3:return Ko(f.timestampValue,c.timestampValue);case 4:return Ko(Hi(f),Hi(c));case 5:return Ut(f.stringValue,c.stringValue);case 6:return function(y,x){var D=Ai(y),k=Ai(x);return D.L(k)}(f.bytesValue,c.bytesValue);case 7:return function(y,x){for(var D=y.split("/"),k=x.split("/"),V=0;V<D.length&&V<k.length;V++){var Z=Ut(D[V],k[V]);if(0!==Z)return Z}return Ut(D.length,k.length)}(f.referenceValue,c.referenceValue);case 8:return function(y,x){var D=Ut(ai(y.latitude),ai(x.latitude));return 0!==D?D:Ut(ai(y.longitude),ai(x.longitude))}(f.geoPointValue,c.geoPointValue);case 9:return function(y,x){for(var D=y.values||[],k=x.values||[],V=0;V<D.length&&V<k.length;++V){var Z=xa(D[V],k[V]);if(Z)return Z}return Ut(D.length,k.length)}(f.arrayValue,c.arrayValue);case 10:return function(y,x){var D=y.fields||{},k=Object.keys(D),V=x.fields||{},Z=Object.keys(V);k.sort(),Z.sort();for(var re=0;re<k.length&&re<Z.length;++re){var ge=Ut(k[re],Z[re]);if(0!==ge)return ge;var _e=xa(D[k[re]],V[Z[re]]);if(0!==_e)return _e}return Ut(k.length,Z.length)}(f.mapValue,c.mapValue);default:throw ke()}}function Ko(f,c){if("string"==typeof f&&"string"==typeof c&&f.length===c.length)return Ut(f,c);var h=Yo(f),g=Yo(c),y=Ut(h.seconds,g.seconds);return 0!==y?y:Ut(h.nanos,g.nanos)}function cs(f){return ms(f)}function ms(f){return"nullValue"in f?"null":"booleanValue"in f?""+f.booleanValue:"integerValue"in f?""+f.integerValue:"doubleValue"in f?""+f.doubleValue:"timestampValue"in f?"time("+(y=Yo(f.timestampValue)).seconds+","+y.nanos+")":"stringValue"in f?f.stringValue:"bytesValue"in f?Ai(f.bytesValue).toBase64():"referenceValue"in f?Le.C(f.referenceValue).toString():"geoPointValue"in f?"geo("+(c=f.geoPointValue).latitude+","+c.longitude+")":"arrayValue"in f?function(g){for(var y="[",x=!0,D=0,k=g.values||[];D<k.length;D++)x?x=!1:y+=",",y+=ms(k[D]);return y+"]"}(f.arrayValue):"mapValue"in f?function(g){for(var y="{",x=!0,D=0,k=Object.keys(g.fields||{}).sort();D<k.length;D++){var V=k[D];x?x=!1:y+=",",y+=V+":"+ms(g.fields[V])}return y+"}"}(f.mapValue):ke();var y,c}function Yo(f){if(at(!!f),"string"==typeof f){var c=0,h=Gi.exec(f);if(at(!!h),h[1]){var g=h[1];g=(g+"000000000").substr(0,9),c=Number(g)}var y=new Date(f);return{seconds:Math.floor(y.getTime()/1e3),nanos:c}}return{seconds:ai(f.seconds),nanos:ai(f.nanos)}}function ai(f){return"number"==typeof f?f:"string"==typeof f?Number(f):0}function Ai(f){return"string"==typeof f?Un.fromBase64String(f):Un.fromUint8Array(f)}function _o(f,c){return{referenceValue:"projects/"+f.projectId+"/databases/"+f.database+"/documents/"+c.path.R()}}function er(f){return!!f&&"integerValue"in f}function _c(f){return!!f&&"arrayValue"in f}function Ka(f){return!!f&&"nullValue"in f}function $r(f){return!!f&&"doubleValue"in f&&isNaN(Number(f.doubleValue))}function ks(f){return!!f&&"mapValue"in f}var Ya={asc:"ASCENDING",desc:"DESCENDING"},Zu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ea=function(f,c){this.U=f,this.Qe=c};function vc(f){return{integerValue:""+f}}function yc(f,c){if(f.Qe){if(isNaN(c))return{doubleValue:"NaN"};if(c===1/0)return{doubleValue:"Infinity"};if(c===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:we(c)?"-0":c}}function Ns(f,c){return xe(c)?vc(c):yc(f,c)}function ta(f,c){return f.Qe?new Date(1e3*c.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+c.nanoseconds).slice(-9)+"Z":{seconds:""+c.seconds,nanos:c.nanoseconds}}function el(f,c){return f.Qe?c.toBase64():c.toUint8Array()}function ko(f,c){return ta(f,c.Z())}function vo(f){return at(!!f),zt.J((h=Yo(f),new Qt(h.seconds,h.nanos)));var h}function vr(f,c){return(h=f,new he(["projects",h.projectId,"databases",h.database])).child("documents").child(c).R();var h}function Qa(f){var c=he.g(f);return at($n(c)),c}function na(f,c){return vr(f.U,c.path)}function Ur(f,c){var h=Qa(c);return at(h.get(1)===f.U.projectId),at(!h.get(3)&&!f.U.database||h.get(3)===f.U.database),new Le(Xa(h))}function bc(f,c){return vr(f.U,c)}function ia(f){var c=Qa(f);return 4===c.length?he.P():Xa(c)}function gs(f){return new he(["projects",f.U.projectId,"databases",f.U.database]).R()}function Xa(f){return at(f.length>4&&"documents"===f.get(4)),f.u(5)}function Bn(f,c,h){return{name:na(f,c),fields:h.proto.mapValue.fields}}function Ni(f,c){var h,y;if(c instanceof tr)h={update:Bn(f,c.key,c.value)};else if(c instanceof Ir)h={delete:na(f,c.key)};else if(c instanceof Wr)h={update:Bn(f,c.key,c.data),updateMask:Ls(c.We)};else if(c instanceof Bi)h={transform:{document:na(f,c.key),fieldTransforms:c.fieldTransforms.map(function(g){return function(y,x){var D=x.transform;if(D instanceof on)return{fieldPath:x.field.R(),setToServerValue:"REQUEST_TIME"};if(D instanceof Gr)return{fieldPath:x.field.R(),appendMissingElements:{values:D.elements}};if(D instanceof wr)return{fieldPath:x.field.R(),removeAllFromArray:{values:D.elements}};if(D instanceof _s)return{fieldPath:x.field.R(),increment:D.je};throw ke()}(0,g)})}};else{if(!(c instanceof nl))return ke();h={verify:na(f,c.key)}}return c.Ge.Ke||(h.currentDocument=void 0!==(y=c.Ge).updateTime?{updateTime:ko(f,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:ke()),h}function yr(f,c){var re,h=c.currentDocument?void 0!==(re=c.currentDocument).updateTime?Fi.updateTime(vo(re.updateTime)):void 0!==re.exists?Fi.exists(re.exists):Fi.ze():Fi.ze();if(c.update){var g=Ur(f,c.update.name),y=new Or({mapValue:{fields:c.update.fields}});if(c.updateMask){var x=function(re){return new xr((re.fieldPaths||[]).map(function(_e){return qe.S(_e)}))}(c.updateMask);return new Wr(g,y,x,h)}return new tr(g,y,h)}if(c.delete){var D=Ur(f,c.delete);return new Ir(D,h)}if(c.transform){var k=Ur(f,c.transform.document),V=c.transform.fieldTransforms.map(function(re){return function(ge,_e){var Re=null;"setToServerValue"in _e?(at("REQUEST_TIME"===_e.setToServerValue),Re=new on):"appendMissingElements"in _e?Re=new Gr(_e.appendMissingElements.values||[]):"removeAllFromArray"in _e?Re=new wr(_e.removeAllFromArray.values||[]):"increment"in _e?Re=new _s(ge,_e.increment):ke();var an=qe.S(_e.fieldPath);return new oa(an,Re)}(f,re)});return at(!0===h.exists),new Bi(k,V)}if(c.verify){var Z=Ur(f,c.verify);return new nl(Z,h)}return ke()}function Ia(f,c){return{documents:[bc(f,c.path)]}}function br(f,c){var h={structuredQuery:{}},g=c.path;null!==c.collectionGroup?(h.parent=bc(f,g),h.structuredQuery.from=[{collectionId:c.collectionGroup,allDescendants:!0}]):(h.parent=bc(f,g.h()),h.structuredQuery.from=[{collectionId:g._()}]);var y=function(k){if(0!==k.length){var V=k.map(function(Z){return function(re){if("=="===re.op){if($r(re.value))return{unaryFilter:{field:xt(re.field),op:"IS_NAN"}};if(Ka(re.value))return{unaryFilter:{field:xt(re.field),op:"IS_NULL"}}}else if("!="===re.op){if($r(re.value))return{unaryFilter:{field:xt(re.field),op:"IS_NOT_NAN"}};if(Ka(re.value))return{unaryFilter:{field:xt(re.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xt(re.field),op:Mi(re.op),value:re.value}}}(Z)});return 1===V.length?V[0]:{compositeFilter:{op:"AND",filters:V}}}}(c.filters);y&&(h.structuredQuery.where=y);var x=function(k){if(0!==k.length)return k.map(function(V){return{field:xt((Z=V).field),direction:Cc(Z.dir)};var Z})}(c.orderBy);x&&(h.structuredQuery.orderBy=x);var V,D=(V=c.limit,f.Qe||Te(V)?V:{value:V});return null!==D&&(h.structuredQuery.limit=D),c.startAt&&(h.structuredQuery.startAt=No(c.startAt)),c.endAt&&(h.structuredQuery.endAt=No(c.endAt)),h}function wc(f){var c=ia(f.parent),h=f.structuredQuery,g=h.from?h.from.length:0,y=null;if(g>0){at(1===g);var x=h.from[0];x.allDescendants?y=x.collectionId:c=c.child(x.collectionId)}var D=[];h.where&&(D=Ec(h.where));var k=[];h.orderBy&&(k=h.orderBy.map(function(ge){return new ua(Cn((_e=ge).field),function(Re){switch(Re){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_e.direction));var _e}));var ge,_e,V=null;h.limit&&(V=Te(_e="object"==typeof(ge=h.limit)?ge.value:ge)?null:_e);var Z=null;h.startAt&&(Z=Fs(h.startAt));var re=null;return h.endAt&&(re=Fs(h.endAt)),Uo(Ic(c,y,k,D,V,"F",Z,re))}function Ec(f){return f?void 0!==f.unaryFilter?[so(f)]:void 0!==f.fieldFilter?[xi(f)]:void 0!==f.compositeFilter?f.compositeFilter.filters.map(function(c){return Ec(c)}).reduce(function(c,h){return c.concat(h)}):ke():[]}function No(f){return{before:f.before,values:f.position}}function Fs(f){return new bo(f.values||[],!!f.before)}function Cc(f){return Ya[f]}function Mi(f){return Zu[f]}function xt(f){return{fieldPath:f.R()}}function Cn(f){return qe.S(f.fieldPath)}function xi(f){return Pr.create(Cn(f.fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(f.fieldFilter.op),f.fieldFilter.value)}function so(f){switch(f.unaryFilter.op){case"IS_NAN":var c=Cn(f.unaryFilter.field);return Pr.create(c,"==",{doubleValue:NaN});case"IS_NULL":var h=Cn(f.unaryFilter.field);return Pr.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var g=Cn(f.unaryFilter.field);return Pr.create(g,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var y=Cn(f.unaryFilter.field);return Pr.create(y,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}function Ls(f){var c=[];return f.fields.forEach(function(h){return c.push(h.R())}),{fieldPaths:c}}function $n(f){return f.length>=4&&"projects"===f.get(0)&&"databases"===f.get(2)}var Qo=function(){this.He=void 0};function Oi(f,c,h){return f instanceof on?(x={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(g=h).seconds,nanos:g.nanoseconds}}}},(y=c)&&(x.fields.__previous_value__=y),{mapValue:x}):f instanceof Gr?Pl(f,c):f instanceof wr?Er(f,c):function(g,y){var x=Xo(g,y),D=Fo(x)+Fo(g.je);return er(x)&&er(g.je)?vc(D):yc(g.serializer,D)}(f,c);var g,y,x}function ra(f,c,h){return f instanceof Gr?Pl(f,c):f instanceof wr?Er(f,c):h}function Xo(f,c){return f instanceof _s?er(h=c)||(g=h)&&"doubleValue"in g?c:{integerValue:0}:null;var g,h}var on=function(f){function c(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(c,f),c}(Qo),Gr=function(f){function c(h){var g=this;return(g=f.call(this)||this).elements=h,g}return U.__extends(c,f),c}(Qo);function Pl(f,c){for(var h=Cr(c),g=function(D){h.some(function(k){return Lr(k,D)})||h.push(D)},y=0,x=f.elements;y<x.length;y++)g(x[y]);return{arrayValue:{values:h}}}var wr=function(f){function c(h){var g=this;return(g=f.call(this)||this).elements=h,g}return U.__extends(c,f),c}(Qo);function Er(f,c){for(var h=Cr(c),g=function(D){h=h.filter(function(k){return!Lr(k,D)})},y=0,x=f.elements;y<x.length;y++)g(x[y]);return{arrayValue:{values:h}}}var _s=function(f){function c(h,g){var y=this;return(y=f.call(this)||this).serializer=h,y.je=g,y}return U.__extends(c,f),c}(Qo);function Fo(f){return ai(f.integerValue||f.doubleValue)}function Cr(f){return _c(f)&&f.arrayValue.values?f.arrayValue.values.slice():[]}var xr=function(){function f(c){this.fields=c,c.sort(qe.i)}return f.prototype.Ye=function(c){for(var h=0,g=this.fields;h<g.length;h++)if(g[h].T(c))return!0;return!1},f.prototype.isEqual=function(c){return cn(this.fields,c.fields,function(h,g){return h.isEqual(g)})},f}(),oa=function(f,c){this.field=f,this.transform=c},Ta=function(f,c){this.version=f,this.transformResults=c},Fi=function(){function f(c,h){this.updateTime=c,this.exists=h}return f.ze=function(){return new f},f.exists=function(c){return new f(void 0,c)},f.updateTime=function(c){return new f(c)},Object.defineProperty(f.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(c){return this.exists===c.exists&&(this.updateTime?!!c.updateTime&&this.updateTime.isEqual(c.updateTime):!c.updateTime)},f}();function Lo(f,c){return void 0!==f.updateTime?c instanceof ri&&c.version.isEqual(f.updateTime):void 0===f.exists||f.exists===c instanceof ri}var qr=function(){};function Jn(f,c,h){return f instanceof tr?new ri((g=f).key,h.version,g.value,{hasCommittedMutations:!0}):f instanceof Wr?function(g,y,x){if(!Lo(g.Ge,y))return new kl(g.key,x.version);var D=sa(g,y);return new ri(g.key,x.version,D,{hasCommittedMutations:!0})}(f,c,h):f instanceof Bi?function(g,y,x){if(at(null!=x.transformResults),!Lo(g.Ge,y))return new kl(g.key,x.version);var D=tl(0,y),k=function(re,ge,_e){var Re=[];at(re.length===_e.length);for(var et=0;et<_e.length;et++){var ht=re[et],an=ht.transform,Xt=null;ge instanceof ri&&(Xt=ge.field(ht.field)),Re.push(ra(an,Xt,_e[et]))}return Re}(g.fieldTransforms,y,x.transformResults),V=x.version,Z=Zr(g,D.data(),k);return new ri(g.key,V,Z,{hasCommittedMutations:!0})}(f,c,h):function(g,y,x){return new Rr(g.key,x.version,{hasCommittedMutations:!0})}(f,0,h);var g}function xc(f,c,h,g){return f instanceof tr?function(y,x){if(!Lo(y.Ge,x))return x;var D=Mr(x);return new ri(y.key,D,y.value,{Je:!0})}(f,c):f instanceof Wr?function(y,x){if(!Lo(y.Ge,x))return x;var D=Mr(x),k=sa(y,x);return new ri(y.key,D,k,{Je:!0})}(f,c):f instanceof Bi?function(y,x,D,k){if(!Lo(y.Ge,x))return x;var V=tl(0,x),Z=function(ge,_e,Re,et){for(var ht=[],an=0,Xt=ge;an<Xt.length;an++){var Rn=Xt[an],Qn=Rn.transform,gi=null;Re instanceof ri&&(gi=Re.field(Rn.field)),null===gi&&et instanceof ri&&(gi=et.field(Rn.field)),ht.push(Oi(Qn,gi,_e))}return ht}(y.fieldTransforms,D,x,k),re=Zr(y,V.data(),Z);return new ri(y.key,V.version,re,{Je:!0})}(f,c,g,h):Lo((y=f).Ge,x=c)?new Rr(y.key,zt.min()):x;var y,x}function hu(f,c){return f instanceof Bi?function(h,g){for(var y=null,x=0,D=h.fieldTransforms;x<D.length;x++){var k=D[x],V=g instanceof ri?g.field(k.field):void 0,Z=Xo(k.transform,V||null);null!=Z&&(y=null==y?(new Kr).set(k.field,Z):y.set(k.field,Z))}return y?y.Xe():null}(f,c):null}function Da(f,c){return f.type===c.type&&!!f.key.isEqual(c.key)&&!!f.Ge.isEqual(c.Ge)&&(0===f.type?f.value.isEqual(c.value):1===f.type?f.data.isEqual(c.data)&&f.We.isEqual(c.We):2!==f.type||cn(f.fieldTransforms,f.fieldTransforms,function(h,g){return(y=h).field.isEqual((x=g).field)&&(k=x.transform,(D=y.transform)instanceof Gr&&k instanceof Gr||D instanceof wr&&k instanceof wr?cn(D.elements,k.elements,Lr):D instanceof _s&&k instanceof _s?Lr(D.je,k.je):D instanceof on&&k instanceof on);var y,x,D,k}))}function Mr(f){return f instanceof ri?f.version:zt.min()}var tr=function(f){function c(h,g,y){var x=this;return(x=f.call(this)||this).key=h,x.value=g,x.Ge=y,x.type=0,x}return U.__extends(c,f),c}(qr),Wr=function(f){function c(h,g,y,x){var D=this;return(D=f.call(this)||this).key=h,D.data=g,D.We=y,D.Ge=x,D.type=1,D}return U.__extends(c,f),c}(qr);function sa(f,c){return h=f,g=c instanceof ri?c.data():Or.empty(),y=new Kr(g),h.We.fields.forEach(function(x){if(!x.m()){var D=h.data.field(x);null!==D?y.set(x,D):y.delete(x)}}),y.Xe();var h,g,y}var Bi=function(f){function c(h,g){var y=this;return(y=f.call(this)||this).key=h,y.fieldTransforms=g,y.type=2,y.Ge=Fi.exists(!0),y}return U.__extends(c,f),c}(qr);function tl(f,c){return c}function Zr(f,c,h){for(var g=new Kr(c),y=0;y<f.fieldTransforms.length;y++)g.set(f.fieldTransforms[y].field,h[y]);return g.Xe()}var Ir=function(f){function c(h,g){var y=this;return(y=f.call(this)||this).key=h,y.Ge=g,y.type=3,y}return U.__extends(c,f),c}(qr),nl=function(f){function c(h,g){var y=this;return(y=f.call(this)||this).key=h,y.Ge=g,y.type=4,y}return U.__extends(c,f),c}(qr),Or=function(){function f(c){this.proto=c}return f.empty=function(){return new f({mapValue:{}})},f.prototype.field=function(c){if(c.m())return this.proto;for(var h=this.proto,g=0;g<c.length-1;++g)if(!h.mapValue.fields||!ks(h=h.mapValue.fields[c.get(g)]))return null;return(h=(h.mapValue.fields||{})[c._()])||null},f.prototype.isEqual=function(c){return Lr(this.proto,c.proto)},f}(),Kr=function(){function f(c){void 0===c&&(c=Or.empty()),this.Ze=c,this.tn=new Map}return f.prototype.set=function(c,h){return this.en(c,h),this},f.prototype.delete=function(c){return this.en(c,null),this},f.prototype.en=function(c,h){for(var g=this.tn,y=0;y<c.length-1;++y){var x=c.get(y),D=g.get(x);D instanceof Map?g=D:D&&10===Yi(D)?(D=new Map(Object.entries(D.mapValue.fields||{})),g.set(x,D),g=D):(g.set(x,D=new Map),g=D)}g.set(c._(),h)},f.prototype.Xe=function(){var c=this.nn(qe.P(),this.tn);return null!=c?new Or(c):this.Ze},f.prototype.nn=function(c,h){var g=this,y=!1,x=this.Ze.field(c),D=ks(x)?Object.assign({},x.mapValue.fields):{};return h.forEach(function(k,V){if(k instanceof Map){var Z=g.nn(c.child(V),k);null!=Z&&(D[V]=Z,y=!0)}else null!==k?(D[V]=k,y=!0):D.hasOwnProperty(V)&&(delete D[V],y=!0)}),y?{mapValue:{fields:D}}:null},f}();function di(f){var c=[];return nt(f.fields||{},function(h,g){var y=new qe([h]);if(ks(g)){var x=di(g.mapValue).fields;if(0===x.length)c.push(y);else for(var D=0,k=x;D<k.length;D++)c.push(y.child(k[D]))}else c.push(y)}),new xr(c)}var aa=function(f,c){this.key=f,this.version=c},ri=function(f){function c(h,g,y,x){var D=this;return(D=f.call(this,h,g)||this).sn=y,D.Je=!!x.Je,D.hasCommittedMutations=!!x.hasCommittedMutations,D}return U.__extends(c,f),c.prototype.field=function(h){return this.sn.field(h)},c.prototype.data=function(){return this.sn},c.prototype.rn=function(){return this.sn.proto},c.prototype.isEqual=function(h){return h instanceof c&&this.key.isEqual(h.key)&&this.version.isEqual(h.version)&&this.Je===h.Je&&this.hasCommittedMutations===h.hasCommittedMutations&&this.sn.isEqual(h.sn)},c.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(c.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),c}(aa),Rr=function(f){function c(h,g,y){var x=this;return(x=f.call(this,h,g)||this).hasCommittedMutations=!(!y||!y.hasCommittedMutations),x}return U.__extends(c,f),c.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(c.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(h){return h instanceof c&&h.hasCommittedMutations===this.hasCommittedMutations&&h.version.isEqual(this.version)&&h.key.isEqual(this.key)},c}(aa),kl=function(f){function c(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(c,f),c.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(c.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(h){return h instanceof c&&h.version.isEqual(this.version)&&h.key.isEqual(this.key)},c}(aa),vs=function(f,c,h,g,y,x,D,k){void 0===c&&(c=null),void 0===h&&(h=[]),void 0===g&&(g=[]),void 0===y&&(y=null),void 0===x&&(x="F"),void 0===D&&(D=null),void 0===k&&(k=null),this.path=f,this.collectionGroup=c,this.on=h,this.filters=g,this.limit=y,this.an=x,this.startAt=D,this.endAt=k,this.cn=null,this.un=null};function Ic(f,c,h,g,y,x,D,k){return new vs(f,c,h,g,y,x,D,k)}function Sa(f){return new vs(f)}function Tc(f){return!Te(f.limit)&&"F"===f.an}function Ja(f){return!Te(f.limit)&&"L"===f.an}function Nl(f){return f.on.length>0?f.on[0].field:null}function mi(f){for(var c=0,h=f.filters;c<h.length;c++){var g=h[c];if(g.hn())return g.field}return null}function fu(f){return null!==f.collectionGroup}function Dc(f){var c=Ze(f);if(null===c.cn){c.cn=[];var h=mi(c),g=Nl(c);if(null!==h&&null===g)h.p()||c.cn.push(new ua(h)),c.cn.push(new ua(qe.v(),"asc"));else{for(var y=!1,x=0,D=c.on;x<D.length;x++){var k=D[x];c.cn.push(k),k.field.p()&&(y=!0)}if(!y){var V=c.on.length>0?c.on[c.on.length-1].dir:"asc";c.cn.push(new ua(qe.v(),V))}}}return c.cn}function Uo(f){var c=Ze(f);if(!c.un)if("F"===c.an)c.un=Fe(c.path,c.collectionGroup,Dc(c),c.filters,c.limit,c.startAt,c.endAt);else{for(var h=[],g=0,y=Dc(c);g<y.length;g++){var x=y[g];h.push(new ua(x.field,"desc"===x.dir?"asc":"desc"))}var k=c.endAt?new bo(c.endAt.position,!c.endAt.before):null,V=c.startAt?new bo(c.startAt.position,!c.startAt.before):null;c.un=Fe(c.path,c.collectionGroup,h,c.filters,c.limit,k,V)}return c.un}function $d(f,c,h){return new vs(f.path,f.collectionGroup,f.on.slice(),f.filters.slice(),c,h,f.startAt,f.endAt)}function ec(f,c){return new vs(f.path,f.collectionGroup,f.on.slice(),f.filters.slice(),f.limit,f.an,c,f.endAt)}function yo(f,c){return new vs(f.path,f.collectionGroup,f.on.slice(),f.filters.slice(),f.limit,f.an,f.startAt,c)}function tc(f,c){return mn(Uo(f),Uo(c))&&f.an===c.an}function ca(f){return Ct(Uo(f))+"|lt:"+f.an}function ys(f){return"Query(target="+(h=(c=Uo(f)).path.R(),null!==c.collectionGroup&&(h+=" collectionGroup="+c.collectionGroup),c.filters.length>0&&(h+=", filters: ["+c.filters.map(function(g){return(y=g).field.R()+" "+y.op+" "+cs(y.value);var y}).join(", ")+"]"),Te(c.limit)||(h+=", limit: "+c.limit),c.orderBy.length>0&&(h+=", orderBy: ["+c.orderBy.map(function(g){return(y=g).field.R()+" ("+y.dir+")";var y}).join(", ")+"]"),c.startAt&&(h+=", startAt: "+nc(c.startAt)),c.endAt&&(h+=", endAt: "+nc(c.endAt)),"Target("+h+"); limitType=")+f.an+")";var c,h}function Fl(f,c){return y=(g=c).key.path,(null!==(h=f).collectionGroup?g.key.N(h.collectionGroup)&&h.path.T(y):Le.F(h.path)?h.path.isEqual(y):h.path.I(y))&&function(h,g){for(var y=0,x=h.on;y<x.length;y++){var D=x[y];if(!D.field.p()&&null===g.field(D.field))return!1}return!0}(f,c)&&function(h,g){for(var y=0,x=h.filters;y<x.length;y++)if(!x[y].matches(g))return!1;return!0}(f,c)&&function(h,g){return!(h.startAt&&!Ll(h.startAt,Dc(h),g)||h.endAt&&Ll(h.endAt,Dc(h),g))}(f,c);var h,g,y}function pu(f){return function(c,h){for(var g=!1,y=0,x=Dc(f);y<x.length;y++){var D=x[y],k=il(D,c,h);if(0!==k)return k;g=g||D.field.p()}return 0}}var Pr=function(f){function c(h,g,y){var x=this;return(x=f.call(this)||this).field=h,x.op=g,x.value=y,x}return U.__extends(c,f),c.create=function(h,g,y){if(h.p())return"in"===g||"not-in"===g?this.ln(h,g,y):new Us(h,g,y);if(Ka(y)){if("=="!==g&&"!="!==g)throw new q(z.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new c(h,g,y)}if($r(y)){if("=="!==g&&"!="!==g)throw new q(z.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new c(h,g,y)}return"array-contains"===g?new cr(h,y):"in"===g?new Aa(h,y):"not-in"===g?new Yr(h,y):"array-contains-any"===g?new Ac(h,y):new c(h,g,y)},c.ln=function(h,g,y){return"in"===g?new la(h,y):new Sc(h,y)},c.prototype.matches=function(h){var g=h.field(this.field);return"!="===this.op?null!==g&&this._n(xa(g,this.value)):null!==g&&Yi(this.value)===Yi(g)&&this._n(xa(g,this.value))},c.prototype._n=function(h){switch(this.op){case"<":return h<0;case"<=":return h<=0;case"==":return 0===h;case"!=":return 0!==h;case">":return h>0;case">=":return h>=0;default:return ke()}},c.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},c}(function(){}),Us=function(f){function c(h,g,y){var x=this;return(x=f.call(this,h,g,y)||this).key=Le.C(y.referenceValue),x}return U.__extends(c,f),c.prototype.matches=function(h){var g=Le.i(h.key,this.key);return this._n(g)},c}(Pr),la=function(f){function c(h,g){var y=this;return(y=f.call(this,h,"in",g)||this).keys=Vo(0,g),y}return U.__extends(c,f),c.prototype.matches=function(h){return this.keys.some(function(g){return g.isEqual(h.key)})},c}(Pr),Sc=function(f){function c(h,g){var y=this;return(y=f.call(this,h,"not-in",g)||this).keys=Vo(0,g),y}return U.__extends(c,f),c.prototype.matches=function(h){return!this.keys.some(function(g){return g.isEqual(h.key)})},c}(Pr);function Vo(f,c){var h;return((null===(h=c.arrayValue)||void 0===h?void 0:h.values)||[]).map(function(g){return Le.C(g.referenceValue)})}var cr=function(f){function c(h,g){return f.call(this,h,"array-contains",g)||this}return U.__extends(c,f),c.prototype.matches=function(h){var g=h.field(this.field);return _c(g)&&go(g.arrayValue,this.value)},c}(Pr),Aa=function(f){function c(h,g){return f.call(this,h,"in",g)||this}return U.__extends(c,f),c.prototype.matches=function(h){var g=h.field(this.field);return null!==g&&go(this.value.arrayValue,g)},c}(Pr),Yr=function(f){function c(h,g){return f.call(this,h,"not-in",g)||this}return U.__extends(c,f),c.prototype.matches=function(h){if(go(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var g=h.field(this.field);return null!==g&&!go(this.value.arrayValue,g)},c}(Pr),Ac=function(f){function c(h,g){return f.call(this,h,"array-contains-any",g)||this}return U.__extends(c,f),c.prototype.matches=function(h){var g=this,y=h.field(this.field);return!(!_c(y)||!y.arrayValue.values)&&y.arrayValue.values.some(function(x){return go(g.value.arrayValue,x)})},c}(Pr),bo=function(f,c){this.position=f,this.before=c};function nc(f){return(f.before?"b":"a")+":"+f.position.map(function(c){return cs(c)}).join(",")}function Ll(f,c,h){for(var g=0,y=0;y<f.position.length;y++){var x=c[y],D=f.position[y];if(g=x.field.p()?Le.i(Le.C(D.referenceValue),h.key):xa(D,h.field(x.field)),"desc"===x.dir&&(g*=-1),0!==g)break}return f.before?g<=0:g<0}function Vs(f,c){if(null===f)return null===c;if(null===c||f.before!==c.before||f.position.length!==c.position.length)return!1;for(var h=0;h<f.position.length;h++)if(!Lr(f.position[h],c.position[h]))return!1;return!0}var ua=function(f,c){void 0===c&&(c="asc"),this.field=f,this.dir=c};function il(f,c,h){var y,D,k,V,g=f.field.p()?Le.i(c.key,h.key):(D=h,k=c.field(y=f.field),V=D.field(y),null!==k&&null!==V?xa(k,V):ke());switch(f.dir){case"asc":return g;case"desc":return-1*g;default:return ke()}}function yi(f,c){return f.dir===c.dir&&f.field.isEqual(c.field)}var Bo=function(){var f=this;this.promise=new Promise(function(c,h){f.resolve=c,f.reject=h})},Ma=function(){function f(c,h,g,y,x){void 0===g&&(g=1e3),void 0===y&&(y=1.5),void 0===x&&(x=6e4),this.fn=c,this.dn=h,this.wn=g,this.mn=y,this.Tn=x,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return f.prototype.reset=function(){this.En=0},f.prototype.Rn=function(){this.En=this.Tn},f.prototype.gn=function(c){var h=this;this.cancel();var g=Math.floor(this.En+this.Pn()),y=Math.max(0,Date.now()-this.An),x=Math.max(0,g-y);x>0&&me("ExponentialBackoff","Backing off for "+x+" ms (base delay: "+this.En+" ms, delay with jitter: "+g+" ms, last attempt: "+y+" ms ago)"),this.In=this.fn.yn(this.dn,x,function(){return h.An=Date.now(),c()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},f.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},f.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},f.prototype.Pn=function(){return(Math.random()-.5)*this.En},f}(),It=function(){function f(c){var h=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,c(function(g){h.Sn=!0,h.result=g,h.bn&&h.bn(g)},function(g){h.Sn=!0,h.error=g,h.vn&&h.vn(g)})}return f.prototype.catch=function(c){return this.next(void 0,c)},f.prototype.next=function(c,h){var g=this;return this.Dn&&ke(),this.Dn=!0,this.Sn?this.error?this.Cn(h,this.error):this.Nn(c,this.result):new f(function(y,x){g.bn=function(D){g.Nn(c,D).next(y,x)},g.vn=function(D){g.Cn(h,D).next(y,x)}})},f.prototype.Fn=function(){var c=this;return new Promise(function(h,g){c.next(h,g)})},f.prototype.xn=function(c){try{var h=c();return h instanceof f?h:f.resolve(h)}catch(g){return f.reject(g)}},f.prototype.Nn=function(c,h){return c?this.xn(function(){return c(h)}):f.resolve(h)},f.prototype.Cn=function(c,h){return c?this.xn(function(){return c(h)}):f.reject(h)},f.resolve=function(c){return new f(function(h,g){h(c)})},f.reject=function(c){return new f(function(h,g){g(c)})},f.$n=function(c){return new f(function(h,g){var y=0,x=0,D=!1;c.forEach(function(k){++y,k.next(function(){++x,D&&x===y&&h()},function(V){return g(V)})}),D=!0,x===y&&h()})},f.kn=function(c){for(var h=f.resolve(!1),g=function(D){h=h.next(function(k){return k?f.resolve(k):D()})},y=0,x=c;y<x.length;y++)g(x[y]);return h},f.forEach=function(c,h){var g=this,y=[];return c.forEach(function(x,D){y.push(h.call(g,x,D))}),this.$n(y)},f}(),Jo=function(){function f(c,h,g){this.name=c,this.version=h,this.Mn=g,12.2===f.On(ce.getUA())&&lt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return f.delete=function(c){return me("SimpleDb","Removing database:",c),Oa(window.indexedDB.deleteDatabase(c)).Fn()},f.Ln=function(){if(typeof indexedDB>"u")return!1;if(f.Bn())return!0;var c=ce.getUA(),h=f.On(c),g=0<h&&h<10,y=f.qn(c),x=0<y&&y<4.5;return!(c.indexOf("MSIE ")>0||c.indexOf("Trident/")>0||c.indexOf("Edge/")>0||g||x)},f.Bn=function(){var c;return typeof process<"u"&&"YES"===(null===(c=process.env)||void 0===c?void 0:c.Un)},f.Qn=function(c,h){return c.store(h)},f.On=function(c){var h=c.match(/i(?:phone|pad|pod) os ([\d_]+)/i),g=h?h[1].split("_").slice(0,2).join("."):"-1";return Number(g)},f.qn=function(c){var h=c.match(/Android ([\d.]+)/i),g=h?h[1].split(".").slice(0,2).join("."):"-1";return Number(g)},f.prototype.Wn=function(c){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.db?[3,2]:(me("SimpleDb","Opening database:",this.name),h=this,[4,new Promise(function(x,D){var k=indexedDB.open(g.name,g.version);k.onsuccess=function(V){x(V.target.result)},k.onblocked=function(){D(new wo(c,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},k.onerror=function(V){var Z=V.target.error;D("VersionError"===Z.name?new q(z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new wo(c,Z))},k.onupgradeneeded=function(V){me("SimpleDb",'Database "'+g.name+'" requires upgrade from version:',V.oldVersion),g.Mn.createOrUpgrade(V.target.result,k.transaction,V.oldVersion,g.version).next(function(){me("SimpleDb","Database upgrade to version "+g.version+" complete")})}})]);case 1:h.db=y.sent(),y.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(x){return g.jn(x)}),this.db)]}})})},f.prototype.Kn=function(c){this.jn=c,this.db&&(this.db.onversionchange=function(h){return c(h)})},f.prototype.runTransaction=function(c,h,g,y){return U.__awaiter(this,void 0,void 0,function(){var x,D,k,V,Z;return U.__generator(this,function(re){switch(re.label){case 0:x="readonly"===h,D=0,k=function(){var ge,_e,Re,et,ht;return U.__generator(this,function(an){switch(an.label){case 0:++D,an.label=1;case 1:return an.trys.push([1,4,,5]),[4,V.Wn(c)];case 2:return V.db=an.sent(),ge=Oc.open(V.db,c,x?"readonly":"readwrite",g),_e=y(ge).catch(function(Xt){return ge.abort(Xt),It.reject(Xt)}).Fn(),Re={},_e.catch(function(){}),[4,ge.Gn];case 3:return[2,(Re.value=(an.sent(),_e),Re)];case 4:return me("SimpleDb","Transaction failed with error:",(et=an.sent()).message,"Retrying:",ht="FirebaseError"!==et.name&&D<3),V.close(),ht?[3,5]:[2,{value:Promise.reject(et)}];case 5:return[2]}})},V=this,re.label=1;case 1:return[5,k()];case 2:if("object"==typeof(Z=re.sent()))return[2,Z.value];re.label=3;case 3:return[3,1];case 4:return[2]}})})},f.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},f}(),Mc=function(){function f(c){this.zn=c,this.Hn=!1,this.Yn=null}return Object.defineProperty(f.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cursor",{set:function(c){this.zn=c},enumerable:!1,configurable:!0}),f.prototype.done=function(){this.Hn=!0},f.prototype.Xn=function(c){this.Yn=c},f.prototype.delete=function(){return Oa(this.zn.delete())},f}(),wo=function(f){function c(h,g){var y=this;return(y=f.call(this,z.UNAVAILABLE,"IndexedDB transaction '"+h+"' failed: "+g)||this).name="IndexedDbTransactionError",y}return U.__extends(c,f),c}(q);function Bs(f){return"IndexedDbTransactionError"===f.name}var Oc=function(){function f(c,h){var g=this;this.action=c,this.transaction=h,this.aborted=!1,this.Zn=new Bo,this.transaction.oncomplete=function(){g.Zn.resolve()},this.transaction.onabort=function(){h.error?g.Zn.reject(new wo(c,h.error)):g.Zn.resolve()},this.transaction.onerror=function(y){var x=N(y.target.error);g.Zn.reject(new wo(c,x))}}return f.open=function(c,h,g,y){try{return new f(h,c.transaction(y,g))}catch(x){throw new wo(h,x)}},Object.defineProperty(f.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),f.prototype.abort=function(c){c&&this.Zn.reject(c),this.aborted||(me("SimpleDb","Aborting transaction:",c?c.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},f.prototype.store=function(c){var h=this.transaction.objectStore(c);return new Ku(h)},f}(),Ku=function(){function f(c){this.store=c}return f.prototype.put=function(c,h){var g;return void 0!==h?(me("SimpleDb","PUT",this.store.name,c,h),g=this.store.put(h,c)):(me("SimpleDb","PUT",this.store.name,"<auto-key>",c),g=this.store.put(c)),Oa(g)},f.prototype.add=function(c){return me("SimpleDb","ADD",this.store.name,c,c),Oa(this.store.add(c))},f.prototype.get=function(c){var h=this;return Oa(this.store.get(c)).next(function(g){return void 0===g&&(g=null),me("SimpleDb","GET",h.store.name,c,g),g})},f.prototype.delete=function(c){return me("SimpleDb","DELETE",this.store.name,c),Oa(this.store.delete(c))},f.prototype.count=function(){return me("SimpleDb","COUNT",this.store.name),Oa(this.store.count())},f.prototype.ts=function(c,h){var g=this.cursor(this.options(c,h)),y=[];return this.es(g,function(x,D){y.push(D)}).next(function(){return y})},f.prototype.ns=function(c,h){me("SimpleDb","DELETE ALL",this.store.name);var g=this.options(c,h);g.ss=!1;var y=this.cursor(g);return this.es(y,function(x,D,k){return k.delete()})},f.prototype.rs=function(c,h){var g;h?g=c:(g={},h=c);var y=this.cursor(g);return this.es(y,h)},f.prototype.os=function(c){var h=this.cursor({});return new It(function(g,y){h.onerror=function(x){var D=N(x.target.error);y(D)},h.onsuccess=function(x){var D=x.target.result;D?c(D.primaryKey,D.value).next(function(k){k?D.continue():g()}):g()}})},f.prototype.es=function(c,h){var g=[];return new It(function(y,x){c.onerror=function(D){x(D.target.error)},c.onsuccess=function(D){var k=D.target.result;if(k){var V=new Mc(k),Z=h(k.primaryKey,k.value,V);if(Z instanceof It){var re=Z.catch(function(ge){return V.done(),It.reject(ge)});g.push(re)}V.Sn?y():null===V.Jn?k.continue():k.continue(V.Jn)}else y()}}).next(function(){return It.$n(g)})},f.prototype.options=function(c,h){var g=void 0;return void 0!==c&&("string"==typeof c?g=c:h=c),{index:g,range:h}},f.prototype.cursor=function(c){var h="next";if(c.reverse&&(h="prev"),c.index){var g=this.store.index(c.index);return c.ss?g.openKeyCursor(c.range,h):g.openCursor(c.range,h)}return this.store.openCursor(c.range,h)},f}();function Oa(f){return new It(function(c,h){f.onsuccess=function(g){c(g.target.result)},f.onerror=function(g){var y=N(g.target.error);h(y)}})}var E=!1;function N(f){var c=Jo.On(ce.getUA());if(c>=12.2&&c<13){var h="An internal error was encountered in the Indexed Database server";if(f.message.indexOf(h)>=0){var g=new q("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+h+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return E||(E=!0,setTimeout(function(){throw g},0)),g}}return f}function j(){return typeof window<"u"?window:null}function ee(){return typeof document<"u"?document:null}var ve=function(){function f(c,h,g,y,x){this.cs=c,this.dn=h,this.us=g,this.op=y,this.hs=x,this.ls=new Bo,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(D){})}return f._s=function(c,h,g,y,x){var D=new f(c,h,Date.now()+g,y,x);return D.start(g),D},f.prototype.start=function(c){var h=this;this.fs=setTimeout(function(){return h.ds()},c)},f.prototype.pn=function(){return this.ds()},f.prototype.cancel=function(c){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new q(z.CANCELLED,"Operation cancelled"+(c?": "+c:""))))},f.prototype.ds=function(){var c=this;this.cs.ws(function(){return null!==c.fs?(c.clearTimeout(),c.op().then(function(h){return c.ls.resolve(h)})):Promise.resolve()})},f.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},f}(),Ye=function(){function f(){var c=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new Ma(this,"async_queue_retry"),this.Vs=function(){var g=ee();g&&me("AsyncQueue","Visibility state changed to  ",g.visibilityState),c.ys.Vn()};var h=ee();h&&"function"==typeof h.addEventListener&&h.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(f.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),f.prototype.ws=function(c){this.enqueue(c)},f.prototype.bs=function(c){this.vs(),this.Ss(c)},f.prototype.Ds=function(){if(!this.Is){this.Is=!0;var c=ee();c&&"function"==typeof c.removeEventListener&&c.removeEventListener("visibilitychange",this.Vs)}},f.prototype.enqueue=function(c){return this.vs(),this.Is?new Promise(function(h){}):this.Ss(c)},f.prototype.Cs=function(c){var h=this;this.ws(function(){return h.Es.push(c),h.Ns()})},f.prototype.Ns=function(){return U.__awaiter(this,void 0,void 0,function(){var c,h=this;return U.__generator(this,function(g){switch(g.label){case 0:if(0===this.Es.length)return[3,5];g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return g.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!Bs(c=g.sent()))throw c;return me("AsyncQueue","Operation failed with retryable error: "+c),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return h.Ns()}),g.label=5;case 5:return[2]}})})},f.prototype.Ss=function(c){var h=this,g=this.Ts.then(function(){return h.gs=!0,c().catch(function(y){throw h.Rs=y,h.gs=!1,lt("INTERNAL UNHANDLED ERROR: ",(D=(x=y).message||"",x.stack&&(D=x.stack.includes(x.message)?x.stack:x.message+"\n"+x.stack),D)),y;var x,D}).then(function(y){return h.gs=!1,y})});return this.Ts=g,g},f.prototype.yn=function(c,h,g){var y=this;this.vs(),this.Ps.indexOf(c)>-1&&(h=0);var x=ve._s(this,c,h,g,function(D){return y.Fs(D)});return this.As.push(x),x},f.prototype.vs=function(){this.Rs&&ke()},f.prototype.xs=function(){},f.prototype.$s=function(){return U.__awaiter(this,void 0,void 0,function(){var c;return U.__generator(this,function(h){switch(h.label){case 0:return[4,c=this.Ts];case 1:h.sent(),h.label=2;case 2:if(c!==this.Ts)return[3,0];h.label=3;case 3:return[2]}})})},f.prototype.ks=function(c){for(var h=0,g=this.As;h<g.length;h++)if(g[h].dn===c)return!0;return!1},f.prototype.Ms=function(c){var h=this;return this.$s().then(function(){h.As.sort(function(D,k){return D.us-k.us});for(var g=0,y=h.As;g<y.length;g++){var x=y[g];if(x.pn(),"all"!==c&&x.dn===c)break}return h.$s()})},f.prototype.Os=function(c){this.Ps.push(c)},f.prototype.Fs=function(c){var h=this.As.indexOf(c);this.As.splice(h,1)},f}();function kt(f,c){if(lt("AsyncQueue",c+": "+f),Bs(f))return new q(z.UNAVAILABLE,c+": "+f);throw f}var Gn=function(){this.Ls=void 0,this.listeners=[]},ei=function(){this.Bs=new Yt(function(f){return ca(f)},tc),this.onlineState="Unknown",this.qs=new Set};function lr(f,c){return U.__awaiter(this,void 0,void 0,function(){var h,g,y,x,D,k,V;return U.__generator(this,function(Z){switch(Z.label){case 0:if(h=Ze(f),y=!1,(x=h.Bs.get(g=c.query))||(y=!0,x=new Gn),!y)return[3,4];Z.label=1;case 1:return Z.trys.push([1,3,,4]),D=x,[4,h.Us(g)];case 2:return D.Ls=Z.sent(),[3,4];case 3:return k=Z.sent(),V=kt(k,"Initialization of query '"+ys(c.query)+"' failed"),[2,void c.onError(V)];case 4:return h.Bs.set(g,x),x.listeners.push(c),c.Qs(h.onlineState),x.Ls&&c.Ws(x.Ls)&&js(h),[2]}})})}function Eo(f,c){return U.__awaiter(this,void 0,void 0,function(){var h,g,y,x,D;return U.__generator(this,function(k){return h=Ze(f),y=!1,(x=h.Bs.get(g=c.query))&&(D=x.listeners.indexOf(c))>=0&&(x.listeners.splice(D,1),y=0===x.listeners.length),y?[2,(h.Bs.delete(g),h.js(g))]:[2]})})}function es(f,c){for(var h=Ze(f),g=!1,y=0,x=c;y<x.length;y++){var D=x[y],V=h.Bs.get(D.query);if(V){for(var Z=0,re=V.listeners;Z<re.length;Z++)re[Z].Ws(D)&&(g=!0);V.Ls=D}}g&&js(h)}function Rc(f,c,h){var g=Ze(f),y=g.Bs.get(c);if(y)for(var x=0,D=y.listeners;x<D.length;x++)D[x].onError(h);g.Bs.delete(c)}function js(f){f.qs.forEach(function(c){c.next()})}var rl=function(){function f(c,h,g){this.query=c,this.Ks=h,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=g||{}}return f.prototype.Ws=function(c){if(!this.options.includeMetadataChanges){for(var h=[],g=0,y=c.docChanges;g<y.length;g++){var x=y[g];3!==x.type&&h.push(x)}c=new En(c.query,c.docs,c.Qt,h,c.Wt,c.fromCache,c.jt,!0)}var D=!1;return this.Gs?this.Hs(c)&&(this.Ks.next(c),D=!0):this.Ys(c,this.onlineState)&&(this.Js(c),D=!0),this.zs=c,D},f.prototype.onError=function(c){this.Ks.error(c)},f.prototype.Qs=function(c){this.onlineState=c;var h=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,c)&&(this.Js(this.zs),h=!0),h},f.prototype.Ys=function(c,h){return!c.fromCache||!(this.options.Xs&&"Offline"!==h||c.docs.m()&&"Offline"!==h)},f.prototype.Hs=function(c){return c.docChanges.length>0||!!(c.jt||this.zs&&this.zs.hasPendingWrites!==c.hasPendingWrites)&&!0===this.options.includeMetadataChanges},f.prototype.Js=function(c){c=En.Gt(c.query,c.docs,c.Wt,c.fromCache),this.Gs=!0,this.Ks.next(c)},f}(),Co=function(){function f(c){this.uid=c}return f.prototype.Zs=function(){return null!=this.uid},f.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},f.prototype.isEqual=function(c){return c.uid===this.uid},f}();Co.UNAUTHENTICATED=new Co(null),Co.ei=new Co("google-credentials-uid"),Co.ni=new Co("first-party-uid");var xo=function(){function f(c,h){var g=this;this.previousValue=c,h&&(h.si=function(y){return g.ii(y)},this.ri=function(y){return h.oi(y)})}return f.prototype.ii=function(c){return this.previousValue=Math.max(c,this.previousValue),this.previousValue},f.prototype.next=function(){var c=++this.previousValue;return this.ri&&this.ri(c),c},f}();function Yu(f,c){return"firestore_clients_"+f+"_"+c}function Fh(f,c,h){var g="firestore_mutations_"+f+"_"+h;return c.Zs()&&(g+="_"+c.uid),g}function mu(f,c){return"firestore_targets_"+f+"_"+c}xo.ai=-1;var Lh=function(){function f(c,h,g,y){this.user=c,this.batchId=h,this.state=g,this.error=y}return f.ci=function(c,h,g){var y=JSON.parse(g),x="object"==typeof y&&-1!==["pending","acknowledged","rejected"].indexOf(y.state)&&(void 0===y.error||"object"==typeof y.error),D=void 0;return x&&y.error&&(x="string"==typeof y.error.message&&"string"==typeof y.error.code)&&(D=new q(y.error.code,y.error.message)),x?new f(c,h,y.state,D):(lt("SharedClientState","Failed to parse mutation state for ID '"+h+"': "+g),null)},f.prototype.ui=function(){var c={state:this.state,updateTimeMs:Date.now()};return this.error&&(c.error={code:this.error.code,message:this.error.message}),JSON.stringify(c)},f}(),Ul=function(){function f(c,h,g){this.targetId=c,this.state=h,this.error=g}return f.ci=function(c,h){var g=JSON.parse(h),y="object"==typeof g&&-1!==["not-current","current","rejected"].indexOf(g.state)&&(void 0===g.error||"object"==typeof g.error),x=void 0;return y&&g.error&&(y="string"==typeof g.error.message&&"string"==typeof g.error.code)&&(x=new q(g.error.code,g.error.message)),y?new f(c,g.state,x):(lt("SharedClientState","Failed to parse target state for ID '"+c+"': "+h),null)},f.prototype.ui=function(){var c={state:this.state,updateTimeMs:Date.now()};return this.error&&(c.error={code:this.error.code,message:this.error.message}),JSON.stringify(c)},f}(),Vl=function(){function f(c,h){this.clientId=c,this.activeTargetIds=h}return f.ci=function(c,h){for(var g=JSON.parse(h),y="object"==typeof g&&g.activeTargetIds instanceof Array,x=yn(),D=0;y&&D<g.activeTargetIds.length;++D)y=xe(g.activeTargetIds[D]),x=x.add(g.activeTargetIds[D]);return y?new f(c,x):(lt("SharedClientState","Failed to parse client data for instance '"+c+"': "+h),null)},f}(),Qu=function(){function f(c,h){this.clientId=c,this.onlineState=h}return f.ci=function(c){var h=JSON.parse(c);return"object"==typeof h&&-1!==["Unknown","Online","Offline"].indexOf(h.onlineState)&&"string"==typeof h.clientId?new f(h.clientId,h.onlineState):(lt("SharedClientState","Failed to parse online state: "+c),null)},f}(),bs=function(){function f(){this.activeTargetIds=yn()}return f.prototype.hi=function(c){this.activeTargetIds=this.activeTargetIds.add(c)},f.prototype.li=function(c){this.activeTargetIds=this.activeTargetIds.delete(c)},f.prototype.ui=function(){var c={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(c)},f}(),Pc=function(){function f(c,h,g,y,x){this.window=c,this.fn=h,this.persistenceKey=g,this._i=y,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new Hn(Ut),this.Ei=!1,this.Ii=[];var D=g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=x,this.Ai=Yu(this.persistenceKey,this._i),this.Ri="firestore_sequence_number_"+this.persistenceKey,this.Ti=this.Ti.ot(this._i,new bs),this.gi=new RegExp("^firestore_clients_"+D+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+D+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+D+"_(\\d+)$"),this.Vi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.wi)}return f.Ln=function(c){return!(!c||!c.localStorage)},f.prototype.start=function(){return U.__awaiter(this,void 0,void 0,function(){var c,h,g,y,x,D,k,V,Z,re,_e=this;return U.__generator(this,function(Re){switch(Re.label){case 0:return[4,this.fi.pi()];case 1:for(c=Re.sent(),h=0,g=c;h<g.length;h++)(y=g[h])!==this._i&&(x=this.getItem(Yu(this.persistenceKey,y)))&&(D=Vl.ci(y,x))&&(this.Ti=this.Ti.ot(D.clientId,D));for(this.bi(),(k=this.storage.getItem(this.Vi))&&(V=this.vi(k))&&this.Si(V),Z=0,re=this.Ii;Z<re.length;Z++)this.mi(re[Z]);return this.Ii=[],this.window.addEventListener("unload",function(){return _e.Di()}),this.Ei=!0,[2]}})})},f.prototype.oi=function(c){this.setItem(this.Ri,JSON.stringify(c))},f.prototype.Ci=function(){return this.Ni(this.Ti)},f.prototype.Fi=function(c){var h=!1;return this.Ti.forEach(function(g,y){y.activeTargetIds.has(c)&&(h=!0)}),h},f.prototype.xi=function(c){this.$i(c,"pending")},f.prototype.ki=function(c,h,g){this.$i(c,h,g),this.Mi(c)},f.prototype.Oi=function(c){var h="not-current";if(this.Fi(c)){var g=this.storage.getItem(mu(this.persistenceKey,c));if(g){var y=Ul.ci(c,g);y&&(h=y.state)}}return this.Li.hi(c),this.bi(),h},f.prototype.Bi=function(c){this.Li.li(c),this.bi()},f.prototype.qi=function(c){return this.Li.activeTargetIds.has(c)},f.prototype.Ui=function(c){this.removeItem(mu(this.persistenceKey,c))},f.prototype.Qi=function(c,h,g){this.Wi(c,h,g)},f.prototype.ji=function(c,h,g){var y=this;h.forEach(function(x){y.Mi(x)}),this.currentUser=c,g.forEach(function(x){y.xi(x)})},f.prototype.Ki=function(c){this.Gi(c)},f.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},f.prototype.getItem=function(c){var h=this.storage.getItem(c);return me("SharedClientState","READ",c,h),h},f.prototype.setItem=function(c,h){me("SharedClientState","SET",c,h),this.storage.setItem(c,h)},f.prototype.removeItem=function(c){me("SharedClientState","REMOVE",c),this.storage.removeItem(c)},f.prototype.mi=function(c){var h=this,g=c;if(g.storageArea===this.storage){if(me("SharedClientState","EVENT",g.key,g.newValue),g.key===this.Ai)return void lt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return U.__awaiter(h,void 0,void 0,function(){var y,x,D,k,V,Z;return U.__generator(this,function(re){if(this.Ei){if(null!==g.key)if(this.gi.test(g.key)){if(null==g.newValue)return y=this.zi(g.key),[2,this.Hi(y,null)];if(x=this.Yi(g.key,g.newValue))return[2,this.Hi(x.clientId,x)]}else if(this.Pi.test(g.key)){if(null!==g.newValue&&(D=this.Ji(g.key,g.newValue)))return[2,this.Xi(D)]}else if(this.yi.test(g.key)){if(null!==g.newValue&&(k=this.Zi(g.key,g.newValue)))return[2,this.tr(k)]}else if(g.key===this.Vi){if(null!==g.newValue&&(V=this.vi(g.newValue)))return[2,this.Si(V)]}else g.key===this.Ri&&(Z=function(ge){var _e=xo.ai;if(null!=ge)try{var Re=JSON.parse(ge);at("number"==typeof Re),_e=Re}catch(et){lt("SharedClientState","Failed to read sequence number from WebStorage",et)}return _e}(g.newValue))!==xo.ai&&this.si(Z)}else this.Ii.push(g);return[2]})})})}},Object.defineProperty(f.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),f.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},f.prototype.$i=function(c,h,g){var y=new Lh(this.currentUser,c,h,g),x=Fh(this.persistenceKey,this.currentUser,c);this.setItem(x,y.ui())},f.prototype.Mi=function(c){var h=Fh(this.persistenceKey,this.currentUser,c);this.removeItem(h)},f.prototype.Gi=function(c){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:c}))},f.prototype.Wi=function(c,h,g){var y=mu(this.persistenceKey,c),x=new Ul(c,h,g);this.setItem(y,x.ui())},f.prototype.zi=function(c){var h=this.gi.exec(c);return h?h[1]:null},f.prototype.Yi=function(c,h){var g=this.zi(c);return Vl.ci(g,h)},f.prototype.Ji=function(c,h){var g=this.Pi.exec(c),y=Number(g[1]);return Lh.ci(new Co(void 0!==g[2]?g[2]:null),y,h)},f.prototype.Zi=function(c,h){var g=this.yi.exec(c),y=Number(g[1]);return Ul.ci(y,h)},f.prototype.vi=function(c){return Qu.ci(c)},f.prototype.Xi=function(c){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){return c.user.uid===this.currentUser.uid?[2,this.fi.er(c.batchId,c.state,c.error)]:(me("SharedClientState","Ignoring mutation for non-active user "+c.user.uid),[2])})})},f.prototype.tr=function(c){return this.fi.nr(c.targetId,c.state,c.error)},f.prototype.Hi=function(c,h){var g=this,y=h?this.Ti.ot(c,h):this.Ti.remove(c),x=this.Ni(this.Ti),D=this.Ni(y),k=[],V=[];return D.forEach(function(Z){x.has(Z)||k.push(Z)}),x.forEach(function(Z){D.has(Z)||V.push(Z)}),this.fi.sr(k,V).then(function(){g.Ti=y})},f.prototype.Si=function(c){this.Ti.get(c.clientId)&&this.di(c.onlineState)},f.prototype.Ni=function(c){var h=yn();return c.forEach(function(g,y){h=h.kt(y.activeTargetIds)}),h},f}(),ol=function(){function f(){this.ir=new bs,this.rr={},this.di=null,this.si=null}return f.prototype.xi=function(c){},f.prototype.ki=function(c,h,g){},f.prototype.Oi=function(c){return this.ir.hi(c),this.rr[c]||"not-current"},f.prototype.Qi=function(c,h,g){this.rr[c]=h},f.prototype.Bi=function(c){this.ir.li(c)},f.prototype.qi=function(c){return this.ir.activeTargetIds.has(c)},f.prototype.Ui=function(c){delete this.rr[c]},f.prototype.Ci=function(){return this.ir.activeTargetIds},f.prototype.Fi=function(c){return this.ir.activeTargetIds.has(c)},f.prototype.start=function(){return this.ir=new bs,Promise.resolve()},f.prototype.ji=function(c,h,g){},f.prototype.Ki=function(c){},f.prototype.Di=function(){},f.prototype.oi=function(c){},f}(),Xu=function(){function f(c,h,g,y){this.batchId=c,this.ar=h,this.baseMutations=g,this.mutations=y}return f.prototype.cr=function(c,h,g){for(var y=g.ur,x=0;x<this.mutations.length;x++){var D=this.mutations[x];D.key.isEqual(c)&&(h=Jn(D,h,y[x]))}return h},f.prototype.hr=function(c,h){for(var g=0,y=this.baseMutations;g<y.length;g++){var x=y[g];x.key.isEqual(c)&&(h=xc(x,h,h,this.ar))}for(var D=h,k=0,V=this.mutations;k<V.length;k++){var Z=V[k];Z.key.isEqual(c)&&(h=xc(Z,h,D,this.ar))}return h},f.prototype.lr=function(c){var h=this,g=c;return this.mutations.forEach(function(y){var x=h.hr(y.key,c.get(y.key));x&&(g=g.ot(y.key,x))}),g},f.prototype.keys=function(){return this.mutations.reduce(function(c,h){return c.add(h.key)},Qe())},f.prototype.isEqual=function(c){return this.batchId===c.batchId&&cn(this.mutations,c.mutations,function(h,g){return Da(h,g)})&&cn(this.baseMutations,c.baseMutations,function(h,g){return Da(h,g)})},f}(),gu=function(){function f(c,h,g,y){this.batch=c,this._r=h,this.ur=g,this.dr=y}return f.from=function(c,h,g){at(c.mutations.length===g.length);for(var y=Y,x=c.mutations,D=0;D<x.length;D++)y=y.ot(x[D].key,g[D].version);return new f(c,h,g,y)},f}(),Gf=function(){function f(){this.wr=new Yt(function(c){return c.toString()},function(c,h){return c.isEqual(h)}),this.mr=!1}return Object.defineProperty(f.prototype,"readTime",{get:function(){return this.Tr},set:function(c){this.Tr=c},enumerable:!1,configurable:!0}),f.prototype.Er=function(c,h){this.Ir(),this.readTime=h,this.wr.set(c.key,c)},f.prototype.Ar=function(c,h){this.Ir(),h&&(this.readTime=h),this.wr.set(c,null)},f.prototype.Rr=function(c,h){this.Ir();var g=this.wr.get(h);return void 0!==g?It.resolve(g):this.gr(c,h)},f.prototype.getEntries=function(c,h){return this.Pr(c,h)},f.prototype.apply=function(c){return this.Ir(),this.mr=!0,this.yr(c)},f.prototype.Ir=function(){},f}(),ws="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Gd=function(){function f(){this.Vr=[]}return f.prototype.pr=function(c){this.Vr.push(c)},f.prototype.br=function(){this.Vr.forEach(function(c){return c()})},f}(),_u=function(){function f(c,h,g){this.vr=c,this.Sr=h,this.Dr=g}return f.prototype.Cr=function(c,h){var g=this;return this.Sr.Nr(c,h).next(function(y){return g.Fr(c,h,y)})},f.prototype.Fr=function(c,h,g){return this.vr.Rr(c,h).next(function(y){for(var x=0,D=g;x<D.length;x++)y=D[x].hr(h,y);return y})},f.prototype.$r=function(c,h,g){var y=le();return h.forEach(function(x,D){for(var k=0,V=g;k<V.length;k++)D=V[k].hr(x,D);y=y.ot(x,D)}),y},f.prototype.kr=function(c,h){var g=this;return this.vr.getEntries(c,h).next(function(y){return g.Mr(c,y)})},f.prototype.Mr=function(c,h){var g=this;return this.Sr.Or(c,h).next(function(y){var x=g.$r(c,h,y),D=fe();return x.forEach(function(k,V){V||(V=new Rr(k,zt.min())),D=D.ot(k,V)}),D})},f.prototype.Lr=function(c,h,g){return Le.F((y=h).path)&&null===y.collectionGroup&&0===y.filters.length?this.Br(c,h.path):fu(h)?this.qr(c,h,g):this.Ur(c,h,g);var y},f.prototype.Br=function(c,h){return this.Cr(c,new Le(h)).next(function(g){var y=te();return g instanceof ri&&(y=y.ot(g.key,g)),y})},f.prototype.qr=function(c,h,g){var y=this,x=h.collectionGroup,D=te();return this.Dr.Qr(c,x).next(function(k){return It.forEach(k,function(V){var re,ge,Z=(re=h,ge=V.child(x),new vs(ge,null,re.on.slice(),re.filters.slice(),re.limit,re.an,re.startAt,re.endAt));return y.Ur(c,Z,g).next(function(re){re.forEach(function(ge,_e){D=D.ot(ge,_e)})})}).next(function(){return D})})},f.prototype.Ur=function(c,h,g){var y,x,D=this;return this.vr.Lr(c,h,g).next(function(k){return y=k,D.Sr.Wr(c,h)}).next(function(k){return D.jr(c,x=k,y).next(function(V){y=V;for(var Z=0,re=x;Z<re.length;Z++)for(var ge=re[Z],_e=0,Re=ge.mutations;_e<Re.length;_e++){var et=Re[_e],ht=et.key,an=y.get(ht),Xt=xc(et,an,an,ge.ar);y=Xt instanceof ri?y.ot(ht,Xt):y.remove(ht)}})}).next(function(){return y.forEach(function(k,V){Fl(h,V)||(y=y.remove(k))}),y})},f.prototype.jr=function(c,h,g){for(var y=Qe(),x=0,D=h;x<D.length;x++)for(var k=0,V=D[x].mutations;k<V.length;k++){var Z=V[k];Z instanceof Wr&&null===g.get(Z.key)&&(y=y.add(Z.key))}var re=g;return this.vr.getEntries(c,y).next(function(ge){return ge.forEach(function(_e,Re){null!==Re&&Re instanceof ri&&(re=re.ot(_e,Re))}),re})},f}(),Ii=function(){function f(c,h,g,y){this.targetId=c,this.fromCache=h,this.Kr=g,this.Gr=y}return f.zr=function(c,h){for(var g=Qe(),y=Qe(),x=0,D=h.docChanges;x<D.length;x++){var k=D[x];switch(k.type){case 0:g=g.add(k.doc.key);break;case 1:y=y.add(k.doc.key)}}return new f(c,h.fromCache,g,y)},f}();function sl(f,c){var g=f[1],x=c[1],D=Ut(f[0],c[0]);return 0===D?Ut(g,x):D}var Ra=function(){function f(c){this.Hr=c,this.buffer=new Ci(sl),this.Yr=0}return f.prototype.Jr=function(){return++this.Yr},f.prototype.Xr=function(c){var h=[c,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(h);else{var g=this.buffer.last();sl(h,g)<0&&(this.buffer=this.buffer.delete(g).add(h))}},Object.defineProperty(f.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),f}(),jo={Zr:!1,eo:0,no:0,so:0},Qr=function(){function f(c,h,g){this.io=c,this.ro=h,this.oo=g}return f.ao=function(c){return new f(c,f.co,f.uo)},f}();Qr.ho=-1,Qr.lo=1048576,Qr._o=41943040,Qr.co=10,Qr.uo=1e3,Qr.fo=new Qr(Qr._o,Qr.co,Qr.uo),Qr.do=new Qr(Qr.ho,0,0);var qd=function(){function f(c,h){this.wo=c,this.cs=h,this.mo=!1,this.To=null}return f.prototype.start=function(c){this.wo.params.io!==Qr.ho&&this.Eo(c)},f.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(f.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),f.prototype.Eo=function(c){var h=this,g=this.mo?3e5:6e4;me("LruGarbageCollector","Garbage collection scheduled in "+g+"ms"),this.To=this.cs.yn("lru_garbage_collection",g,function(){return U.__awaiter(h,void 0,void 0,function(){var y;return U.__generator(this,function(x){switch(x.label){case 0:this.To=null,this.mo=!0,x.label=1;case 1:return x.trys.push([1,3,,7]),[4,c.Io(this.wo)];case 2:return x.sent(),[3,7];case 3:return Bs(y=x.sent())?(me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",y),[3,6]):[3,4];case 4:return[4,ci(y)];case 5:x.sent(),x.label=6;case 6:return[3,7];case 7:return[4,this.Eo(c)];case 8:return x.sent(),[2]}})})})},f}(),al=function(){function f(c,h){this.Ao=c,this.params=h}return f.prototype.Ro=function(c,h){return this.Ao.Po(c).next(function(g){return Math.floor(h/100*g)})},f.prototype.yo=function(c,h){var g=this;if(0===h)return It.resolve(xo.ai);var y=new Ra(h);return this.Ao.Ce(c,function(x){return y.Xr(x.sequenceNumber)}).next(function(){return g.Ao.Vo(c,function(x){return y.Xr(x)})}).next(function(){return y.maxValue})},f.prototype.po=function(c,h,g){return this.Ao.po(c,h,g)},f.prototype.bo=function(c,h){return this.Ao.bo(c,h)},f.prototype.vo=function(c,h){var g=this;return this.params.io===Qr.ho?(me("LruGarbageCollector","Garbage collection skipped; disabled"),It.resolve(jo)):this.So(c).next(function(y){return y<g.params.io?(me("LruGarbageCollector","Garbage collection skipped; Cache size "+y+" is lower than threshold "+g.params.io),jo):g.Do(c,h)})},f.prototype.So=function(c){return this.Ao.So(c)},f.prototype.Do=function(c,h){var g,y,x,D,k,V,Z,re=this,ge=Date.now();return this.Ro(c,this.params.ro).next(function(_e){return _e>re.params.oo?(me("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+re.params.oo+" from "+_e),y=re.params.oo):y=_e,D=Date.now(),re.yo(c,y)}).next(function(_e){return g=_e,k=Date.now(),re.po(c,g,h)}).next(function(_e){return x=_e,V=Date.now(),re.bo(c,g)}).next(function(_e){return Z=Date.now(),Ne()<=pe.LogLevel.DEBUG&&me("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(D-ge)+"ms\n\tDetermined least recently used "+y+" in "+(k-D)+"ms\n\tRemoved "+x+" targets in "+(V-k)+"ms\n\tRemoved "+_e+" documents in "+(Z-V)+"ms\nTotal Duration: "+(Z-ge)+"ms"),It.resolve({Zr:!0,eo:y,no:x,so:_e})})},f}();function qi(f){for(var c="",h=0;h<f.length;h++)c.length>0&&(c=Zd(c)),c=Wd(f.get(h),c);return Zd(c)}function Wd(f,c){for(var h=c,g=f.length,y=0;y<g;y++){var x=f.charAt(y);switch(x){case"\0":h+="\x01\x10";break;case"\x01":h+="\x01\x11";break;default:h+=x}}return h}function Zd(f){return f+"\x01\x01"}function zs(f){var c=f.length;if(at(c>=2),2===c)return at("\x01"===f.charAt(0)&&"\x01"===f.charAt(1)),he.P();for(var h=c-2,g=[],y="",x=0;x<c;){var D=f.indexOf("\x01",x);switch((D<0||D>h)&&ke(),f.charAt(D+1)){case"\x01":var k=f.substring(x,D),V=void 0;0===y.length?V=k:(V=y+=k,y=""),g.push(V);break;case"\x10":y+=f.substring(x,D),y+="\0";break;case"\x11":y+=f.substring(x,D+1);break;default:ke()}x=D+2}return new he(g)}var cl=function(f){this.Co=f};function Kd(f,c){if(c.document)return V=!!c.hasCommittedMutations,Z=Ur(f.Co,(k=c.document).name),re=vo(k.updateTime),ge=new Or({mapValue:{fields:k.fields}}),new ri(Z,re,ge,{hasCommittedMutations:!!V});var k,V,Z,re,ge;if(c.noDocument){var h=Le.$(c.noDocument.path),g=vu(c.noDocument.readTime);return new Rr(h,g,{hasCommittedMutations:!!c.hasCommittedMutations})}if(c.unknownDocument){var y=Le.$(c.unknownDocument.path),x=vu(c.unknownDocument.version);return new kl(y,x)}return ke()}function kc(f,c,h){var _e,Re,g=Uh(h),y=c.key.path.h().A();if(c instanceof ri){var x={name:na(_e=f.Co,(Re=c).key),fields:Re.rn().mapValue.fields,updateTime:ta(_e,Re.version.Z())};return new nr(null,null,x,c.hasCommittedMutations,g,y)}if(c instanceof Rr){var k=c.key.path.A(),V=ic(c.version),Z=c.hasCommittedMutations;return new nr(null,new Zf(k,V),null,Z,g,y)}if(c instanceof kl){var re=c.key.path.A(),ge=ic(c.version);return new nr(new Jg(re,ge),null,null,!0,g,y)}return ke()}function Uh(f){var c=f.Z();return[c.seconds,c.nanoseconds]}function Vr(f){var c=new Qt(f[0],f[1]);return zt.J(c)}function ic(f){var c=f.Z();return new ed(c.seconds,c.nanoseconds)}function vu(f){var c=new Qt(f.seconds,f.nanoseconds);return zt.J(c)}function xn(f,c){var h=(c.baseMutations||[]).map(function(x){return yr(f.Co,x)}),g=c.mutations.map(function(x){return yr(f.Co,x)}),y=Qt.fromMillis(c.localWriteTimeMs);return new Xu(c.batchId,y,h,g)}function Nc(f){var c,h,g=vu(f.readTime),y=void 0!==f.lastLimboFreeSnapshotVersion?vu(f.lastLimboFreeSnapshotVersion):zt.min();return void 0!==f.query.documents?(at(1===(h=f.query).documents.length),c=Uo(Sa(ia(h.documents[0])))):c=wc(f.query),new Ei(c,f.targetId,0,f.lastListenSequenceNumber,g,y,Un.fromBase64String(f.resumeToken))}function qf(f,c){var h,g=ic(c.nt),y=ic(c.lastLimboFreeSnapshotVersion);h=jt(c.target)?Ia(f.Co,c.target):br(f.Co,c.target);var x=c.resumeToken.toBase64();return new ur(c.targetId,Ct(c.target),g,x,c.sequenceNumber,y,h)}var Ju=function(){function f(c,h,g,y){this.userId=c,this.serializer=h,this.Dr=g,this.No=y,this.Fo={}}return f.xo=function(c,h,g,y){return at(""!==c.uid),new f(c.Zs()?c.uid:"",h,g,y)},f.prototype.$o=function(c){var h=!0,g=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $i(c).rs({index:Wi.userMutationsIndex,range:g},function(y,x,D){h=!1,D.done()}).next(function(){return h})},f.prototype.ko=function(c,h,g,y){var x=this,D=Es(c),k=$i(c);return k.add({}).next(function(V){at("number"==typeof V);for(var Z=new Xu(V,h,g,y),re=function(Xt,Rn,Qn){var gi=Qn.baseMutations.map(function(hr){return Ni(Xt.Co,hr)}),bi=Qn.mutations.map(function(hr){return Ni(Xt.Co,hr)});return new Wi(Rn,Qn.batchId,Qn.ar.toMillis(),gi,bi)}(x.serializer,x.userId,Z),ge=[],_e=new Ci(function(Xt,Rn){return Ut(Xt.R(),Rn.R())}),Re=0,et=y;Re<et.length;Re++){var ht=et[Re],an=ao.key(x.userId,ht.key.path,V);_e=_e.add(ht.key.path.h()),ge.push(k.put(re)),ge.push(D.put(an,ao.PLACEHOLDER))}return _e.forEach(function(Xt){ge.push(x.Dr.Mo(c,Xt))}),c.pr(function(){x.Fo[V]=Z.keys()}),It.$n(ge).next(function(){return Z})})},f.prototype.Oo=function(c,h){var g=this;return $i(c).get(h).next(function(y){return y?(at(y.userId===g.userId),xn(g.serializer,y)):null})},f.prototype.Lo=function(c,h){var g=this;return this.Fo[h]?It.resolve(this.Fo[h]):this.Oo(c,h).next(function(y){if(y){var x=y.keys();return g.Fo[h]=x,x}return null})},f.prototype.Bo=function(c,h){var g=this,y=h+1,x=IDBKeyRange.lowerBound([this.userId,y]),D=null;return $i(c).rs({index:Wi.userMutationsIndex,range:x},function(k,V,Z){V.userId===g.userId&&(at(V.batchId>=y),D=xn(g.serializer,V)),Z.done()}).next(function(){return D})},f.prototype.qo=function(c){var h=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),g=-1;return $i(c).rs({index:Wi.userMutationsIndex,range:h,reverse:!0},function(y,x,D){g=x.batchId,D.done()}).next(function(){return g})},f.prototype.Uo=function(c){var h=this,g=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $i(c).ts(Wi.userMutationsIndex,g).next(function(y){return y.map(function(x){return xn(h.serializer,x)})})},f.prototype.Nr=function(c,h){var g=this,y=ao.prefixForPath(this.userId,h.path),x=IDBKeyRange.lowerBound(y),D=[];return Es(c).rs({range:x},function(k,V,Z){var re=k[0],_e=k[2],Re=zs(k[1]);if(re===g.userId&&h.path.isEqual(Re))return $i(c).get(_e).next(function(et){if(!et)throw ke();at(et.userId===g.userId),D.push(xn(g.serializer,et))});Z.done()}).next(function(){return D})},f.prototype.Or=function(c,h){var g=this,y=new Ci(Ut),x=[];return h.forEach(function(D){var k=ao.prefixForPath(g.userId,D.path),V=IDBKeyRange.lowerBound(k),Z=Es(c).rs({range:V},function(re,ge,_e){var Re=re[0],ht=re[2],an=zs(re[1]);Re===g.userId&&D.path.isEqual(an)?y=y.add(ht):_e.done()});x.push(Z)}),It.$n(x).next(function(){return g.Qo(c,y)})},f.prototype.Wr=function(c,h){var g=this,y=h.path,x=y.length+1,D=ao.prefixForPath(this.userId,y),k=IDBKeyRange.lowerBound(D),V=new Ci(Ut);return Es(c).rs({range:k},function(Z,re,ge){var _e=Z[0],et=Z[2],ht=zs(Z[1]);_e===g.userId&&y.T(ht)?ht.length===x&&(V=V.add(et)):ge.done()}).next(function(){return g.Qo(c,V)})},f.prototype.Qo=function(c,h){var g=this,y=[],x=[];return h.forEach(function(D){x.push($i(c).get(D).next(function(k){if(null===k)throw ke();at(k.userId===g.userId),y.push(xn(g.serializer,k))}))}),It.$n(x).next(function(){return y})},f.prototype.Wo=function(c,h){var g=this;return Vh(c.jo,this.userId,h).next(function(y){return c.pr(function(){g.Ko(h.batchId)}),It.forEach(y,function(x){return g.No.Go(c,x)})})},f.prototype.Ko=function(c){delete this.Fo[c]},f.prototype.zo=function(c){var h=this;return this.$o(c).next(function(g){if(!g)return It.resolve();var y=IDBKeyRange.lowerBound(ao.prefixForUser(h.userId)),x=[];return Es(c).rs({range:y},function(D,k,V){if(D[0]===h.userId){var Z=zs(D[1]);x.push(Z)}else V.done()}).next(function(){at(0===x.length)})})},f.prototype.Ho=function(c,h){return Br(c,this.userId,h)},f.prototype.Yo=function(c){var h=this;return Fc(c).get(this.userId).next(function(g){return g||new Do(h.userId,-1,"")})},f}();function Br(f,c,h){var g=ao.prefixForPath(c,h.path),y=g[1],x=IDBKeyRange.lowerBound(g),D=!1;return Es(f).rs({range:x,ss:!0},function(k,V,Z){k[0]===c&&k[1]===y&&(D=!0),Z.done()}).next(function(){return D})}function Vh(f,c,h){var g=f.store(Wi.store),y=f.store(ao.store),x=[],D=IDBKeyRange.only(h.batchId),k=0,V=g.rs({range:D},function(et,ht,an){return k++,an.delete()});x.push(V.next(function(){at(1===k)}));for(var Z=[],re=0,ge=h.mutations;re<ge.length;re++){var _e=ge[re],Re=ao.key(c,_e.key.path,h.batchId);x.push(y.delete(Re)),Z.push(_e.key)}return It.$n(x).next(function(){return Z})}function $i(f){return ls.Qn(f,Wi.store)}function Es(f){return ls.Qn(f,ao.store)}function Fc(f){return ls.Qn(f,Do.store)}var Yd=function(){function f(c,h){this.serializer=c,this.Dr=h}return f.prototype.Er=function(c,h,g){return rc(c).put(pt(h),g)},f.prototype.Ar=function(c,h){var g=rc(c),y=pt(h);return g.delete(y)},f.prototype.updateMetadata=function(c,h){var g=this;return this.getMetadata(c).next(function(y){return y.byteSize+=h,g.Jo(c,y)})},f.prototype.Rr=function(c,h){var g=this;return rc(c).get(pt(h)).next(function(y){return g.Xo(y)})},f.prototype.Zo=function(c,h){var g=this;return rc(c).get(pt(h)).next(function(y){var x=g.Xo(y);return x?{ta:x,size:ni(y)}:null})},f.prototype.getEntries=function(c,h){var g=this,y=le();return this.ea(c,h,function(x,D){var k=g.Xo(D);y=y.ot(x,k)}).next(function(){return y})},f.prototype.na=function(c,h){var g=this,y=le(),x=new Hn(Le.i);return this.ea(c,h,function(D,k){var V=g.Xo(k);V?(y=y.ot(D,V),x=x.ot(D,ni(k))):(y=y.ot(D,null),x=x.ot(D,0))}).next(function(){return{sa:y,ia:x}})},f.prototype.ea=function(c,h,g){if(h.m())return It.resolve();var y=IDBKeyRange.bound(h.first().path.A(),h.last().path.A()),x=h._t(),D=x.It();return rc(c).rs({range:y},function(k,V,Z){for(var re=Le.$(k);D&&Le.i(D,re)<0;)g(D,null),D=x.It();D&&D.isEqual(re)&&(g(D,V),D=x.At()?x.It():null),D?Z.Xn(D.path.A()):Z.done()}).next(function(){for(;D;)g(D,null),D=x.At()?x.It():null})},f.prototype.Lr=function(c,h,g){var y=this,x=te(),D=h.path.length+1,k={};if(g.isEqual(zt.min())){var V=h.path.A();k.range=IDBKeyRange.lowerBound(V)}else{var Z=h.path.A(),re=Uh(g);k.range=IDBKeyRange.lowerBound([Z,re],!0),k.index=nr.collectionReadTimeIndex}return rc(c).rs(k,function(ge,_e,Re){if(ge.length===D){var et=Kd(y.serializer,_e);h.path.T(et.key.path)?et instanceof ri&&Fl(h,et)&&(x=x.ot(et.key,et)):Re.done()}}).next(function(){return x})},f.prototype.ra=function(c){return new Wf(this,!!c&&c.oa)},f.prototype.aa=function(c){return this.getMetadata(c).next(function(h){return h.byteSize})},f.prototype.getMetadata=function(c){return Qd(c).get(Zi.key).next(function(h){return at(!!h),h})},f.prototype.Jo=function(c,h){return Qd(c).put(Zi.key,h)},f.prototype.Xo=function(c){if(c){var h=Kd(this.serializer,c);return h instanceof Rr&&h.version.isEqual(zt.min())?null:h}return null},f}(),Wf=function(f){function c(h,g){var y=this;return(y=f.call(this)||this).ca=h,y.oa=g,y.ua=new Yt(function(x){return x.toString()},function(x,D){return x.isEqual(D)}),y}return U.__extends(c,f),c.prototype.yr=function(h){var g=this,y=[],x=0,D=new Ci(function(k,V){return Ut(k.R(),V.R())});return this.wr.forEach(function(k,V){var Z=g.ua.get(k);if(V){var re=kc(g.ca.serializer,V,g.readTime);D=D.add(k.path.h());var ge=ni(re);x+=ge-Z,y.push(g.ca.Er(h,k,re))}else if(x-=Z,g.oa){var _e=kc(g.ca.serializer,new Rr(k,zt.min()),g.readTime);y.push(g.ca.Er(h,k,_e))}else y.push(g.ca.Ar(h,k))}),D.forEach(function(k){y.push(g.ca.Dr.Mo(h,k))}),y.push(this.ca.updateMetadata(h,x)),It.$n(y)},c.prototype.gr=function(h,g){var y=this;return this.ca.Zo(h,g).next(function(x){return null===x?(y.ua.set(g,0),null):(y.ua.set(g,x.size),x.ta)})},c.prototype.Pr=function(h,g){var y=this;return this.ca.na(h,g).next(function(x){var D=x.sa;return x.ia.forEach(function(k,V){y.ua.set(k,V)}),D})},c}(Gf);function Qd(f){return ls.Qn(f,Zi.store)}function rc(f){return ls.Qn(f,nr.store)}function pt(f){return f.path.A()}function ni(f){var c;if(f.document)c=f.document;else if(f.unknownDocument)c=f.unknownDocument;else{if(!f.noDocument)throw ke();c=f.noDocument}return JSON.stringify(c).length}var Cs=function(){function f(){this.ha=new yu}return f.prototype.Mo=function(c,h){return this.ha.add(h),It.resolve()},f.prototype.Qr=function(c,h){return It.resolve(this.ha.getEntries(h))},f}(),yu=function(){function f(){this.index={}}return f.prototype.add=function(c){var h=c._(),g=c.h(),y=this.index[h]||new Ci(he.i),x=!y.has(g);return this.index[h]=y.add(g),x},f.prototype.has=function(c){var h=c._(),g=c.h(),y=this.index[h];return y&&y.has(g)},f.prototype.getEntries=function(c){return(this.index[c]||new Ci(he.i)).A()},f}(),Io=function(){function f(c){this.serializer=c}return f.prototype.createOrUpgrade=function(c,h,g,y){var x=this;at(g<y&&g>=0&&y<=10);var V,D=new Oc("createOrUpgrade",h);g<1&&y>=1&&(c.createObjectStore(To.store),(V=c).createObjectStore(Do.store,{keyPath:Do.keyPath}),V.createObjectStore(Wi.store,{keyPath:Wi.keyPath,autoIncrement:!0}).createIndex(Wi.userMutationsIndex,Wi.userMutationsKeyPath,{unique:!0}),V.createObjectStore(ao.store),Bh(c),function(V){V.createObjectStore(nr.store)}(c));var k=It.resolve();return g<3&&y>=3&&(0!==g&&(function(V){V.deleteObjectStore(co.store),V.deleteObjectStore(ur.store),V.deleteObjectStore(Xr.store)}(c),Bh(c)),k=k.next(function(){return function(V){var Z=V.store(Xr.store),re=new Xr(0,0,zt.min().Z(),0);return Z.put(Xr.key,re)}(D)})),g<4&&y>=4&&(0!==g&&(k=k.next(function(){return function(V,Z){return Z.store(Wi.store).ts().next(function(re){V.deleteObjectStore(Wi.store),V.createObjectStore(Wi.store,{keyPath:Wi.keyPath,autoIncrement:!0}).createIndex(Wi.userMutationsIndex,Wi.userMutationsKeyPath,{unique:!0});var ge=Z.store(Wi.store),_e=re.map(function(Re){return ge.put(Re)});return It.$n(_e)})}(c,D)})),k=k.next(function(){!function(V){V.createObjectStore(da.store,{keyPath:da.keyPath})}(c)})),g<5&&y>=5&&(k=k.next(function(){return x.removeAcknowledgedMutations(D)})),g<6&&y>=6&&(k=k.next(function(){return function(V){V.createObjectStore(Zi.store)}(c),x.addDocumentGlobal(D)})),g<7&&y>=7&&(k=k.next(function(){return x.ensureSequenceNumbers(D)})),g<8&&y>=8&&(k=k.next(function(){return x.createCollectionParentIndex(c,D)})),g<9&&y>=9&&(k=k.next(function(){(function(V){V.objectStoreNames.contains("remoteDocumentChanges")&&V.deleteObjectStore("remoteDocumentChanges")})(c),function(V){var Z=V.objectStore(nr.store);Z.createIndex(nr.readTimeIndex,nr.readTimeIndexPath,{unique:!1}),Z.createIndex(nr.collectionReadTimeIndex,nr.collectionReadTimeIndexPath,{unique:!1})}(h)})),g<10&&y>=10&&(k=k.next(function(){return x.rewriteCanonicalIds(D)})),k},f.prototype.addDocumentGlobal=function(c){var h=0;return c.store(nr.store).rs(function(g,y){h+=ni(y)}).next(function(){var g=new Zi(h);return c.store(Zi.store).put(Zi.key,g)})},f.prototype.removeAcknowledgedMutations=function(c){var h=this,g=c.store(Do.store),y=c.store(Wi.store);return g.ts().next(function(x){return It.forEach(x,function(D){var k=IDBKeyRange.bound([D.userId,-1],[D.userId,D.lastAcknowledgedBatchId]);return y.ts(Wi.userMutationsIndex,k).next(function(V){return It.forEach(V,function(Z){at(Z.userId===D.userId);var re=xn(h.serializer,Z);return Vh(c,D.userId,re).next(function(){})})})})})},f.prototype.ensureSequenceNumbers=function(c){var h=c.store(co.store),g=c.store(nr.store);return c.store(Xr.store).get(Xr.key).next(function(y){var x=[];return g.rs(function(D,k){var V=new he(D),Z=[0,qi(V)];x.push(h.get(Z).next(function(re){return re?It.resolve():h.put(new co(0,qi(V),y.highestListenSequenceNumber))}))}).next(function(){return It.$n(x)})})},f.prototype.createCollectionParentIndex=function(c,h){c.createObjectStore(Jr.store,{keyPath:Jr.keyPath});var g=h.store(Jr.store),y=new yu,x=function(D){if(y.add(D)){var k=D._(),V=D.h();return g.put({collectionId:k,parent:qi(V)})}};return h.store(nr.store).rs({ss:!0},function(D,k){var V=new he(D);return x(V.h())}).next(function(){return h.store(ao.store).rs({ss:!0},function(D,k){var Z=zs(D[1]);return x(Z.h())})})},f.prototype.rewriteCanonicalIds=function(c){var h=this,g=c.store(ur.store);return g.rs(function(y,x){var D=Nc(x),k=qf(h.serializer,D);return g.put(k)})},f}(),ed=function(f,c){this.seconds=f,this.nanoseconds=c},To=function(f,c,h){this.ownerId=f,this.allowTabSynchronization=c,this.leaseTimestampMs=h};To.store="owner",To.key="owner";var Do=function(f,c,h){this.userId=f,this.lastAcknowledgedBatchId=c,this.lastStreamToken=h};Do.store="mutationQueues",Do.keyPath="userId";var Wi=function(f,c,h,g,y){this.userId=f,this.batchId=c,this.localWriteTimeMs=h,this.baseMutations=g,this.mutations=y};Wi.store="mutations",Wi.keyPath="batchId",Wi.userMutationsIndex="userMutationsIndex",Wi.userMutationsKeyPath=["userId","batchId"];var ao=function(){function f(){}return f.prefixForUser=function(c){return[c]},f.prefixForPath=function(c,h){return[c,qi(h)]},f.key=function(c,h,g){return[c,qi(h),g]},f}();ao.store="documentMutations",ao.PLACEHOLDER=new ao;var Zf=function(f,c){this.path=f,this.readTime=c},Jg=function(f,c){this.path=f,this.version=c},nr=function(f,c,h,g,y,x){this.unknownDocument=f,this.noDocument=c,this.document=h,this.hasCommittedMutations=g,this.readTime=y,this.parentPath=x};nr.store="remoteDocuments",nr.readTimeIndex="readTimeIndex",nr.readTimeIndexPath="readTime",nr.collectionReadTimeIndex="collectionReadTimeIndex",nr.collectionReadTimeIndexPath=["parentPath","readTime"];var Zi=function(f){this.byteSize=f};Zi.store="remoteDocumentGlobal",Zi.key="remoteDocumentGlobalKey";var ur=function(f,c,h,g,y,x,D){this.targetId=f,this.canonicalId=c,this.readTime=h,this.resumeToken=g,this.lastListenSequenceNumber=y,this.lastLimboFreeSnapshotVersion=x,this.query=D};ur.store="targets",ur.keyPath="targetId",ur.queryTargetsIndexName="queryTargetsIndex",ur.queryTargetsKeyPath=["canonicalId","targetId"];var co=function(f,c,h){this.targetId=f,this.path=c,this.sequenceNumber=h};co.store="targetDocuments",co.keyPath=["targetId","path"],co.documentTargetsIndex="documentTargetsIndex",co.documentTargetsKeyPath=["path","targetId"];var Xr=function(f,c,h,g){this.highestTargetId=f,this.highestListenSequenceNumber=c,this.lastRemoteSnapshotVersion=h,this.targetCount=g};Xr.key="targetGlobalKey",Xr.store="targetGlobal";var Jr=function(f,c){this.collectionId=f,this.parent=c};function Bh(f){f.createObjectStore(co.store,{keyPath:co.keyPath}).createIndex(co.documentTargetsIndex,co.documentTargetsKeyPath,{unique:!0}),f.createObjectStore(ur.store,{keyPath:ur.keyPath}).createIndex(ur.queryTargetsIndexName,ur.queryTargetsKeyPath,{unique:!0}),f.createObjectStore(Xr.store)}Jr.store="collectionParents",Jr.keyPath=["collectionId","parent"];var da=function(f,c,h,g){this.clientId=f,this.updateTimeMs=c,this.networkEnabled=h,this.inForeground=g};da.store="clientMetadata",da.keyPath="clientId";var td=U.__spreadArrays(U.__spreadArrays(U.__spreadArrays([Do.store,Wi.store,ao.store,nr.store,ur.store,To.store,Xr.store,co.store],[da.store]),[Zi.store]),[Jr.store]),lm=function(){function f(){this.la=new yu}return f.prototype.Mo=function(c,h){var g=this;if(!this.la.has(h)){var y=h._(),x=h.h();c.pr(function(){g.la.add(h)});var D={collectionId:y,parent:qi(x)};return bu(c).put(D)}return It.resolve()},f.prototype.Qr=function(c,h){var g=[],y=IDBKeyRange.bound([h,""],[Fn(h),""],!1,!0);return bu(c).ts(y).next(function(x){for(var D=0,k=x;D<k.length;D++){var V=k[D];if(V.collectionId!==h)break;g.push(zs(V.parent))}return g})},f}();function bu(f){return ls.Qn(f,Jr.store)}var Bl=function(){function f(c){this._a=c}return f.prototype.next=function(){return this._a+=2,this._a},f.fa=function(){return new f(0)},f.da=function(){return new f(-1)},f}(),Xd=function(){function f(c,h){this.No=c,this.serializer=h}return f.prototype.wa=function(c){var h=this;return this.ma(c).next(function(g){var y=new Bl(g.highestTargetId);return g.highestTargetId=y.next(),h.Ta(c,g).next(function(){return g.highestTargetId})})},f.prototype.Ea=function(c){return this.ma(c).next(function(h){return zt.J(new Qt(h.lastRemoteSnapshotVersion.seconds,h.lastRemoteSnapshotVersion.nanoseconds))})},f.prototype.Ia=function(c){return this.ma(c).next(function(h){return h.highestListenSequenceNumber})},f.prototype.Aa=function(c,h,g){var y=this;return this.ma(c).next(function(x){return x.highestListenSequenceNumber=h,g&&(x.lastRemoteSnapshotVersion=g.Z()),h>x.highestListenSequenceNumber&&(x.highestListenSequenceNumber=h),y.Ta(c,x)})},f.prototype.Ra=function(c,h){var g=this;return this.ga(c,h).next(function(){return g.ma(c).next(function(y){return y.targetCount+=1,g.Pa(h,y),g.Ta(c,y)})})},f.prototype.ya=function(c,h){return this.ga(c,h)},f.prototype.Va=function(c,h){var g=this;return this.pa(c,h.targetId).next(function(){return ll(c).delete(h.targetId)}).next(function(){return g.ma(c)}).next(function(y){return at(y.targetCount>0),y.targetCount-=1,g.Ta(c,y)})},f.prototype.po=function(c,h,g){var y=this,x=0,D=[];return ll(c).rs(function(k,V){var Z=Nc(V);Z.sequenceNumber<=h&&null===g.get(Z.targetId)&&(x++,D.push(y.Va(c,Z)))}).next(function(){return It.$n(D)}).next(function(){return x})},f.prototype.Ce=function(c,h){return ll(c).rs(function(g,y){var x=Nc(y);h(x)})},f.prototype.ma=function(c){return Jd(c).get(Xr.key).next(function(h){return at(null!==h),h})},f.prototype.Ta=function(c,h){return Jd(c).put(Xr.key,h)},f.prototype.ga=function(c,h){return ll(c).put(qf(this.serializer,h))},f.prototype.Pa=function(c,h){var g=!1;return c.targetId>h.highestTargetId&&(h.highestTargetId=c.targetId,g=!0),c.sequenceNumber>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=c.sequenceNumber,g=!0),g},f.prototype.ba=function(c){return this.ma(c).next(function(h){return h.targetCount})},f.prototype.va=function(c,h){var g=Ct(h),y=IDBKeyRange.bound([g,Number.NEGATIVE_INFINITY],[g,Number.POSITIVE_INFINITY]),x=null;return ll(c).rs({range:y,index:ur.queryTargetsIndexName},function(D,k,V){var Z=Nc(k);mn(h,Z.target)&&(x=Z,V.done())}).next(function(){return x})},f.prototype.Sa=function(c,h,g){var y=this,x=[],D=Pa(c);return h.forEach(function(k){var V=qi(k.path);x.push(D.put(new co(g,V))),x.push(y.No.Da(c,g,k))}),It.$n(x)},f.prototype.Ca=function(c,h,g){var y=this,x=Pa(c);return It.forEach(h,function(D){var k=qi(D.path);return It.$n([x.delete([g,k]),y.No.Na(c,g,D)])})},f.prototype.pa=function(c,h){var g=Pa(c),y=IDBKeyRange.bound([h],[h+1],!1,!0);return g.delete(y)},f.prototype.Fa=function(c,h){var g=IDBKeyRange.bound([h],[h+1],!1,!0),y=Pa(c),x=Qe();return y.rs({range:g,ss:!0},function(D,k,V){var Z=zs(D[1]),re=new Le(Z);x=x.add(re)}).next(function(){return x})},f.prototype.Ho=function(c,h){var g=qi(h.path),y=IDBKeyRange.bound([g],[Fn(g)],!1,!0),x=0;return Pa(c).rs({index:co.documentTargetsIndex,ss:!0,range:y},function(D,k,V){0!==D[0]&&(x++,V.done())}).next(function(){return x>0})},f.prototype.Ue=function(c,h){return ll(c).get(h).next(function(g){return g?Nc(g):null})},f}();function ll(f){return ls.Qn(f,ur.store)}function Jd(f){return ls.Qn(f,Xr.store)}function Pa(f){return ls.Qn(f,co.store)}var jl="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",wu=function(f){function c(h,g){var y=this;return(y=f.call(this)||this).jo=h,y.xa=g,y}return U.__extends(c,f),c}(Gd),ls=function(){function f(c,h,g,y,x,D,k,V,Z,re){if(this.allowTabSynchronization=c,this.persistenceKey=h,this.clientId=g,this.fn=x,this.window=D,this.document=k,this.$a=Z,this.ka=re,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(ge){return Promise.resolve()},!f.Ln())throw new q(z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new sc(this,y),this.Wa=h+"main",this.serializer=new cl(V),this.ja=new Jo(this.Wa,10,new Io(this.serializer)),this.Ka=new Xd(this.No,this.serializer),this.Dr=new lm,this.vr=new Yd(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===re&&lt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return f.Qn=function(c,h){if(c instanceof wu)return Jo.Qn(c.jo,h);throw ke()},f.prototype.start=function(){var c=this;return this.za().then(function(){if(!c.isPrimary&&!c.allowTabSynchronization)throw new q(z.FAILED_PRECONDITION,jl);return c.Ha(),c.Ya(),c.Ja(),c.runTransaction("getHighestListenSequenceNumber","readonly",function(h){return c.Ka.Ia(h)})}).then(function(h){c.Ma=new xo(h,c.$a)}).then(function(){c.Oa=!0}).catch(function(h){return c.ja&&c.ja.close(),Promise.reject(h)})},f.prototype.Xa=function(c){var h=this;return this.Qa=function(g){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){return this.Ei?[2,c(g)]:[2]})})},c(this.isPrimary)},f.prototype.Za=function(c){var h=this;this.ja.Kn(function(g){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){switch(y.label){case 0:return null===g.newVersion?[4,c()]:[3,2];case 1:y.sent(),y.label=2;case 2:return[2]}})})})},f.prototype.tc=function(c){var h=this;this.networkEnabled!==c&&(this.networkEnabled=c,this.fn.ws(function(){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:g.sent(),g.label=2;case 2:return[2]}})})}))},f.prototype.za=function(){var c=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(h){return oc(h).put(new da(c.clientId,Date.now(),c.networkEnabled,c.inForeground)).next(function(){if(c.isPrimary)return c.ec(h).next(function(g){g||(c.isPrimary=!1,c.fn.Cs(function(){return c.Qa(!1)}))})}).next(function(){return c.nc(h)}).next(function(g){return c.isPrimary&&!g?c.sc(h).next(function(){return!1}):!!g&&c.ic(h).next(function(){return!0})})}).catch(function(h){if(Bs(h))return me("IndexedDbPersistence","Failed to extend owner lease: ",h),c.isPrimary;if(!c.allowTabSynchronization)throw h;return me("IndexedDbPersistence","Releasing owner lease after error during lease refresh",h),!1}).then(function(h){c.isPrimary!==h&&c.fn.Cs(function(){return c.Qa(h)}),c.isPrimary=h})},f.prototype.ec=function(c){var h=this;return ul(c).get(To.key).next(function(g){return It.resolve(h.rc(g))})},f.prototype.oc=function(c){return oc(c).delete(this.clientId)},f.prototype.ac=function(){return U.__awaiter(this,void 0,void 0,function(){var c,h,g,x=this;return U.__generator(this,function(D){switch(D.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(k){var V=f.Qn(k,da.store);return V.ts().next(function(Z){var re=x.uc(Z,18e5),ge=Z.filter(function(_e){return-1===re.indexOf(_e)});return It.forEach(ge,function(_e){return V.delete(_e.clientId)}).next(function(){return ge})})}).catch(function(){return[]})]);case 1:if(c=D.sent(),this.Ga)for(h=0,g=c;h<g.length;h++)this.Ga.removeItem(this.hc(g[h].clientId));D.label=2;case 2:return[2]}})})},f.prototype.Ja=function(){var c=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return c.za().then(function(){return c.ac()}).then(function(){return c.Ja()})})},f.prototype.rc=function(c){return!!c&&c.ownerId===this.clientId},f.prototype.nc=function(c){var h=this;return this.ka?It.resolve(!0):ul(c).get(To.key).next(function(g){if(null!==g&&h.cc(g.leaseTimestampMs,5e3)&&!h.lc(g.ownerId)){if(h.rc(g)&&h.networkEnabled)return!0;if(!h.rc(g)){if(!g.allowTabSynchronization)throw new q(z.FAILED_PRECONDITION,jl);return!1}}return!(!h.networkEnabled||!h.inForeground)||oc(c).ts().next(function(y){return void 0===h.uc(y,5e3).find(function(x){return!(h.clientId===x.clientId||!(!h.networkEnabled&&x.networkEnabled||!h.inForeground&&x.inForeground&&h.networkEnabled===x.networkEnabled))})})}).next(function(g){return h.isPrimary!==g&&me("IndexedDbPersistence","Client "+(g?"is":"is not")+" eligible for a primary lease."),g})},f.prototype.Di=function(){return U.__awaiter(this,void 0,void 0,function(){var c=this;return U.__generator(this,function(h){switch(h.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[To.store,da.store],function(g){var y=new wu(g,xo.ai);return c.sc(y).next(function(){return c.oc(y)})})];case 1:return h.sent(),this.ja.close(),this.wc(),[2]}})})},f.prototype.uc=function(c,h){var g=this;return c.filter(function(y){return g.cc(y.updateTimeMs,h)&&!g.lc(y.clientId)})},f.prototype.pi=function(){var c=this;return this.runTransaction("getActiveClients","readonly",function(h){return oc(h).ts().next(function(g){return c.uc(g,18e5).map(function(y){return y.clientId})})})},Object.defineProperty(f.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),f.prototype.mc=function(c){return Ju.xo(c,this.serializer,this.Dr,this.No)},f.prototype.Tc=function(){return this.Ka},f.prototype.Ec=function(){return this.vr},f.prototype.Ic=function(){return this.Dr},f.prototype.runTransaction=function(c,h,g){var x,y=this;return me("IndexedDbPersistence","Starting transaction:",c),this.ja.runTransaction(c,"readonly"===h?"readonly":"readwrite",td,function(k){return x=new wu(k,y.Ma?y.Ma.next():xo.ai),"readwrite-primary"===h?y.ec(x).next(function(V){return!!V||y.nc(x)}).next(function(V){if(!V)throw lt("Failed to obtain primary lease for action '"+c+"'."),y.isPrimary=!1,y.fn.Cs(function(){return y.Qa(!1)}),new q(z.FAILED_PRECONDITION,ws);return g(x)}).next(function(V){return y.ic(x).next(function(){return V})}):y.Ac(x).next(function(){return g(x)})}).then(function(k){return x.br(),k})},f.prototype.Ac=function(c){var h=this;return ul(c).get(To.key).next(function(g){if(null!==g&&h.cc(g.leaseTimestampMs,5e3)&&!h.lc(g.ownerId)&&!h.rc(g)&&!(h.ka||h.allowTabSynchronization&&g.allowTabSynchronization))throw new q(z.FAILED_PRECONDITION,jl)})},f.prototype.ic=function(c){var h=new To(this.clientId,this.allowTabSynchronization,Date.now());return ul(c).put(To.key,h)},f.Ln=function(){return Jo.Ln()},f.prototype.sc=function(c){var h=this,g=ul(c);return g.get(To.key).next(function(y){return h.rc(y)?(me("IndexedDbPersistence","Releasing primary lease."),g.delete(To.key)):It.resolve()})},f.prototype.cc=function(c,h){var g=Date.now();return!(c<g-h||c>g&&(lt("Detected an update time that is in the future: "+c+" > "+g),1))},f.prototype.Ha=function(){var c=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){c.fn.ws(function(){return c.inForeground="visible"===c.document.visibilityState,c.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},f.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},f.prototype.Ya=function(){var c,h=this;"function"==typeof(null===(c=this.window)||void 0===c?void 0:c.addEventListener)&&(this.La=function(){h._c(),h.fn.ws(function(){return h.Di()})},this.window.addEventListener("unload",this.La))},f.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},f.prototype.lc=function(c){var h;try{var g=null!==(null===(h=this.Ga)||void 0===h?void 0:h.getItem(this.hc(c)));return me("IndexedDbPersistence","Client '"+c+"' "+(g?"is":"is not")+" zombied in LocalStorage"),g}catch(y){return lt("IndexedDbPersistence","Failed to get zombied client id.",y),!1}},f.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(c){lt("Failed to set zombie client id.",c)}},f.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch{}},f.prototype.hc=function(c){return"firestore_zombie_"+this.persistenceKey+"_"+c},f}();function ul(f){return ls.Qn(f,To.store)}function oc(f){return ls.Qn(f,da.store)}var sc=function(){function f(c,h){this.db=c,this.wo=new al(this,h)}return f.prototype.Po=function(c){var h=this.Rc(c);return this.db.Tc().ba(c).next(function(g){return h.next(function(y){return g+y})})},f.prototype.Rc=function(c){var h=0;return this.Vo(c,function(g){h++}).next(function(){return h})},f.prototype.Ce=function(c,h){return this.db.Tc().Ce(c,h)},f.prototype.Vo=function(c,h){return this.gc(c,function(g,y){return h(y)})},f.prototype.Da=function(c,h,g){return ac(c,g)},f.prototype.Na=function(c,h,g){return ac(c,g)},f.prototype.po=function(c,h,g){return this.db.Tc().po(c,h,g)},f.prototype.Go=function(c,h){return ac(c,h)},f.prototype.Pc=function(c,h){return y=h,x=!1,Fc(g=c).os(function(D){return Br(g,D,y).next(function(k){return k&&(x=!0),It.resolve(!k)})}).next(function(){return x});var g,y,x},f.prototype.bo=function(c,h){var g=this,y=this.db.Ec().ra(),x=[],D=0;return this.gc(c,function(k,V){if(V<=h){var Z=g.Pc(c,k).next(function(re){if(!re)return D++,y.Rr(c,k).next(function(){return y.Ar(k),Pa(c).delete([0,qi(k.path)])})});x.push(Z)}}).next(function(){return It.$n(x)}).next(function(){return y.apply(c)}).next(function(){return D})},f.prototype.removeTarget=function(c,h){var g=h.st(c.xa);return this.db.Tc().ya(c,g)},f.prototype.yc=function(c,h){return ac(c,h)},f.prototype.gc=function(c,h){var g,y=Pa(c),x=xo.ai;return y.rs({index:co.documentTargetsIndex},function(D,k){var Z=k.path,re=k.sequenceNumber;0===D[0]?(x!==xo.ai&&h(new Le(zs(g)),x),x=re,g=Z):x=xo.ai}).next(function(){x!==xo.ai&&h(new Le(zs(g)),x)})},f.prototype.So=function(c){return this.db.Ec().aa(c)},f}();function ac(f,c){return Pa(f).put((g=f.xa,new co(0,qi(c.path),g)));var g}function zl(f,c){var h=f.projectId;return f.j||(h+="."+f.database),"firestore/"+c+"/"+h+"/"}var ts=function(){function f(c,h,g){this.persistence=c,this.Vc=h,this.bc=new Hn(Ut),this.vc=new Yt(function(y){return Ct(y)},mn),this.Sc=zt.min(),this.Sr=c.mc(g),this.Dc=c.Ec(),this.Ka=c.Tc(),this.Cc=new _u(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return f.prototype.Io=function(c){var h=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(g){return c.vo(g,h.bc)})},f}();function ha(f,c){var h=Ze(f);return h.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(g){var D,k,V,Z,re,ge,_e,y=c.batch.keys(),x=h.Dc.ra({oa:!0});return(D=h,k=g,V=c,Z=x,re=V.batch,ge=re.keys(),_e=It.resolve(),ge.forEach(function(Re){_e=_e.next(function(){return Z.Rr(k,Re)}).next(function(et){var ht=et,an=V.dr.get(Re);at(null!==an),(!ht||ht.version.L(an)<0)&&(ht=re.cr(Re,ht,V))&&Z.Er(ht,V._r)})}),_e.next(function(){return D.Sr.Wo(k,re)})).next(function(){return x.apply(g)}).next(function(){return h.Sr.zo(g)}).next(function(){return h.Cc.kr(g,y)})})}function ir(f){var c=Ze(f);return c.persistence.runTransaction("Get last remote snapshot version","readonly",function(h){return c.Ka.Ea(h)})}function fa(f,c){var h=Ze(f),g=c.nt,y=h.bc;return h.persistence.runTransaction("Apply remote event","readwrite-primary",function(x){var D=h.Dc.ra({oa:!0});y=h.bc;var k=[];c.zt.forEach(function(ge,_e){var an,Xt,Rn,Re=y.get(_e);if(Re){k.push(h.Ka.Ca(x,ge.se,_e).next(function(){return h.Ka.Sa(x,ge.ee,_e)}));var et=ge.resumeToken;if(et.O()>0){var ht=Re.it(et,g).st(x.xa);y=y.ot(_e,ht),an=Re,Rn=ge,at((Xt=ht).resumeToken.O()>0),(0===an.resumeToken.O()||Xt.nt.X()-an.nt.X()>=3e8||Rn.ee.size+Rn.ne.size+Rn.se.size>0)&&k.push(h.Ka.ya(x,ht))}}});var V=fe(),Z=Qe();if(c.Yt.forEach(function(ge,_e){Z=Z.add(ge)}),k.push(D.getEntries(x,Z).next(function(ge){c.Yt.forEach(function(_e,Re){var et=ge.get(_e);Re instanceof Rr&&Re.version.isEqual(zt.min())?(D.Ar(_e,g),V=V.ot(_e,Re)):null==et||Re.version.L(et.version)>0||0===Re.version.L(et.version)&&et.hasPendingWrites?(D.Er(Re,g),V=V.ot(_e,Re)):me("LocalStore","Ignoring outdated watch update for ",_e,". Current version:",et.version," Watch version:",Re.version),c.Jt.has(_e)&&k.push(h.persistence.No.yc(x,_e))})})),!g.isEqual(zt.min())){var re=h.Ka.Ea(x).next(function(ge){return h.Ka.Aa(x,x.xa,g)});k.push(re)}return It.$n(k).next(function(){return D.apply(x)}).next(function(){return h.Cc.Mr(x,V)})}).then(function(x){return h.bc=y,x})}function eh(f,c){var h=Ze(f);return h.persistence.runTransaction("Get next mutation batch","readonly",function(g){return void 0===c&&(c=-1),h.Sr.Bo(g,c)})}function xs(f,c){var h=Ze(f);return h.persistence.runTransaction("Allocate target","readwrite",function(g){var y;return h.Ka.va(g,c).next(function(x){return x?It.resolve(y=x):h.Ka.wa(g).next(function(D){return y=new Ei(c,D,0,g.xa),h.Ka.Ra(g,y).next(function(){return y})})})}).then(function(g){var y=h.bc.get(g.targetId);return(null===y||g.nt.L(y.nt)>0)&&(h.bc=h.bc.ot(g.targetId,g),h.vc.set(c,g.targetId)),g})}function jn(f,c,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,x,D;return U.__generator(this,function(k){switch(k.label){case 0:g=Ze(f),y=g.bc.get(c),x=h?"readwrite":"readwrite-primary",k.label=1;case 1:return k.trys.push([1,4,,5]),h?[3,3]:[4,g.persistence.runTransaction("Release target",x,function(V){return g.persistence.No.removeTarget(V,y)})];case 2:k.sent(),k.label=3;case 3:return[3,5];case 4:if(!Bs(D=k.sent()))throw D;return me("LocalStore","Failed to update sequence numbers for target "+c+": "+D),[3,5];case 5:return g.bc=g.bc.remove(c),g.vc.delete(y.target),[2]}})})}function rr(f,c,h){var g=Ze(f),y=zt.min(),x=Qe();return g.persistence.runTransaction("Execute query","readonly",function(D){return(k=g,V=D,Z=Uo(c),re=Ze(k),ge=re.vc.get(Z),void 0!==ge?It.resolve(re.bc.get(ge)):re.Ka.va(V,Z)).next(function(k){if(k)return y=k.lastLimboFreeSnapshotVersion,g.Ka.Fa(D,k.targetId).next(function(V){x=V})}).next(function(){return g.Vc.Lr(D,c,h?y:zt.min(),h?x:Qe())}).next(function(k){return{documents:k,Fc:x}});var k,V,Z,re,ge})}function So(f,c){var h=Ze(f),g=Ze(h.Ka),y=h.bc.get(c);return y?Promise.resolve(y.target):h.persistence.runTransaction("Get target data","readonly",function(x){return g.Ue(x,c).next(function(D){return D?D.target:null})})}function Hl(f){var c=Ze(f);return c.persistence.runTransaction("Get new document changes","readonly",function(h){return y=h,x=c.Sc,D=Ze(c.Dc),k=fe(),V=Uh(x),Z=rc(y),re=IDBKeyRange.lowerBound(V,!0),Z.rs({index:nr.readTimeIndex,range:re},function(ge,_e){var Re=Kd(D.serializer,_e);k=k.ot(Re.key,Re),V=_e.readTime}).next(function(){return{xc:k,readTime:Vr(V)}});var y,x,D,k,V,Z,re}).then(function(h){var g=h.xc;return c.Sc=h.readTime,g})}function cc(f){return U.__awaiter(this,void 0,void 0,function(){var c;return U.__generator(this,function(h){return[2,(c=Ze(f)).persistence.runTransaction("Synchronize last document change read time","readonly",function(g){return x=rc(g),D=zt.min(),x.rs({index:nr.readTimeIndex,reverse:!0},function(k,V,Z){V.readTime&&(D=Vr(V.readTime)),Z.done()}).next(function(){return D});var x,D}).then(function(g){c.Sc=g})]})})}function ci(f){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(c){if(f.code!==z.FAILED_PRECONDITION||f.message!==ws)throw f;return me("LocalStore","Unexpectedly lost primary lease"),[2]})})}var ka=function(){function f(){this.$c=new Ci(jr.kc),this.Mc=new Ci(jr.Oc)}return f.prototype.m=function(){return this.$c.m()},f.prototype.Da=function(c,h){var g=new jr(c,h);this.$c=this.$c.add(g),this.Mc=this.Mc.add(g)},f.prototype.Lc=function(c,h){var g=this;c.forEach(function(y){return g.Da(y,h)})},f.prototype.Na=function(c,h){this.Bc(new jr(c,h))},f.prototype.qc=function(c,h){var g=this;c.forEach(function(y){return g.Na(y,h)})},f.prototype.Uc=function(c){var h=this,g=new Le(new he([])),y=new jr(g,c),x=new jr(g,c+1),D=[];return this.Mc.Ft([y,x],function(k){h.Bc(k),D.push(k.key)}),D},f.prototype.Qc=function(){var c=this;this.$c.forEach(function(h){return c.Bc(h)})},f.prototype.Bc=function(c){this.$c=this.$c.delete(c),this.Mc=this.Mc.delete(c)},f.prototype.Wc=function(c){var h=new Le(new he([])),g=new jr(h,c),y=new jr(h,c+1),x=Qe();return this.Mc.Ft([g,y],function(D){x=x.add(D.key)}),x},f.prototype.Ho=function(c){var h=new jr(c,0),g=this.$c.$t(h);return null!==g&&c.isEqual(g.key)},f}(),jr=function(){function f(c,h){this.key=c,this.jc=h}return f.kc=function(c,h){return Le.i(c.key,h.key)||Ut(c.jc,h.jc)},f.Oc=function(c,h){return Ut(c.jc,h.jc)||Le.i(c.key,h.key)},f}(),Lc=function(f,c){this.user=c,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+f},kr=function(){function f(){this.Gc=null}return f.prototype.getToken=function(){return Promise.resolve(null)},f.prototype.zc=function(){},f.prototype.Hc=function(c){this.Gc=c,c(Co.UNAUTHENTICATED)},f.prototype.Yc=function(){this.Gc=null},f}(),or=function(){function f(c){var h=this;this.Jc=null,this.currentUser=Co.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){h.Zc++,h.currentUser=h.tu(),h.Xc=!0,h.Gc&&h.Gc(h.currentUser)},this.Zc=0,this.auth=c.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),c.get().then(function(g){h.auth=g,h.Jc&&h.auth.addAuthTokenListener(h.Jc)},function(){}))}return f.prototype.getToken=function(){var c=this,h=this.Zc,g=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(g).then(function(y){return c.Zc!==h?(me("FirebaseCredentialsProvider","getToken aborted due to token change."),c.getToken()):y?(at("string"==typeof y.accessToken),new Lc(y.accessToken,c.currentUser)):null}):Promise.resolve(null)},f.prototype.zc=function(){this.forceRefresh=!0},f.prototype.Hc=function(c){this.Gc=c,this.Xc&&c(this.currentUser)},f.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},f.prototype.tu=function(){var c=this.auth&&this.auth.getUid();return at(null===c||"string"==typeof c),new Co(c)},f}(),Qi=function(){function f(c,h){this.eu=c,this.nu=h,this.type="FirstParty",this.user=Co.ni}return Object.defineProperty(f.prototype,"Kc",{get:function(){var c={"X-Goog-AuthUser":this.nu},h=this.eu.auth.getAuthHeaderValueForFirstParty([]);return h&&(c.Authorization=h),c},enumerable:!1,configurable:!0}),f}(),Kf=function(){function f(c,h){this.eu=c,this.nu=h}return f.prototype.getToken=function(){return Promise.resolve(new Qi(this.eu,this.nu))},f.prototype.Hc=function(c){c(Co.ni)},f.prototype.Yc=function(){},f.prototype.zc=function(){},f}(),Is=function(){function f(c,h,g,y,x,D){this.fn=c,this.su=g,this.iu=y,this.ru=x,this.listener=D,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new Ma(c,h)}return f.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},f.prototype.uu=function(){return 2===this.state},f.prototype.start=function(){3!==this.state?this.auth():this.hu()},f.prototype.stop=function(){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(c){switch(c.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})},f.prototype.lu=function(){this.state=0,this.ys.reset()},f.prototype._u=function(){var c=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,function(){return c.fu()}))},f.prototype.du=function(c){this.wu(),this.stream.send(c)},f.prototype.fu=function(){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(c){return this.uu()?[2,this.close(0)]:[2]})})},f.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},f.prototype.close=function(c,h){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==c?this.ys.reset():h&&h.code===z.RESOURCE_EXHAUSTED?(lt(h.toString()),lt("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):h&&h.code===z.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=c,[4,this.listener.Tu(h)];case 1:return g.sent(),[2]}})})},f.prototype.mu=function(){},f.prototype.auth=function(){var c=this;this.state=1;var h=this.Eu(this.ou),g=this.ou;this.ru.getToken().then(function(y){c.ou===g&&c.Iu(y)},function(y){h(function(){var x=new q(z.UNKNOWN,"Fetching auth token failed: "+y.message);return c.Au(x)})})},f.prototype.Iu=function(c){var h=this,g=this.Eu(this.ou);this.stream=this.Ru(c),this.stream.gu(function(){g(function(){return h.state=2,h.listener.gu()})}),this.stream.Tu(function(y){g(function(){return h.Au(y)})}),this.stream.onMessage(function(y){g(function(){return h.onMessage(y)})})},f.prototype.hu=function(){var c=this;this.state=4,this.ys.gn(function(){return U.__awaiter(c,void 0,void 0,function(){return U.__generator(this,function(h){return this.state=0,this.start(),[2]})})})},f.prototype.Au=function(c){return me("PersistentStream","close with error: "+c),this.stream=null,this.close(3,c)},f.prototype.Eu=function(c){var h=this;return function(g){h.fn.ws(function(){return h.ou===c?g():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},f}(),nd=function(f){function c(h,g,y,x,D){var k=this;return(k=f.call(this,h,"listen_stream_connection_backoff","listen_stream_idle",g,y,D)||this).serializer=x,k}return U.__extends(c,f),c.prototype.Ru=function(h){return this.iu.Pu("Listen",h)},c.prototype.onMessage=function(h){this.ys.reset();var g=function(x,D){var k,Ks;if("targetChange"in D){var V="NO_CHANGE"===(Ks=D.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Ks?1:"REMOVE"===Ks?2:"CURRENT"===Ks?3:"RESET"===Ks?4:ke(),Z=D.targetChange.targetIds||[],re=function(Ks,uc){return Ks.Qe?(at(void 0===uc||"string"==typeof uc),Un.fromBase64String(uc||"")):(at(void 0===uc||uc instanceof Uint8Array),Un.fromUint8Array(uc||new Uint8Array))}(x,D.targetChange.resumeToken),ge=D.targetChange.cause,_e=ge&&function(Ks){var uc=void 0===Ks.code?z.UNKNOWN:ki(Ks.code);return new q(uc,Ks.message||"")}(ge);k=new Xe(V,Z,re,_e||null)}else if("documentChange"in D){var Re=D.documentChange,et=Ur(x,Re.document.name),ht=vo(Re.document.updateTime),an=new Or({mapValue:{fields:Re.document.fields}}),Xt=new ri(et,ht,an,{});k=new _r(Re.targetIds||[],Re.removedTargetIds||[],Xt.key,Xt)}else if("documentDelete"in D){var gi=D.documentDelete,bi=Ur(x,gi.document),hr=gi.readTime?vo(gi.readTime):zt.min(),Zs=new Rr(bi,hr);k=new _r([],gi.removedTargetIds||[],Zs.key,Zs)}else if("documentRemove"in D){var ef=D.documentRemove,ip=Ur(x,ef.document);k=new _r([],ef.removedTargetIds||[],ip,null)}else{if(!("filter"in D))return ke();var dh=D.filter,vd=new vi(dh.count||0);k=new Zo(dh.targetId,vd)}return k}(this.serializer,h),y=function(x){if(!("targetChange"in x))return zt.min();var D=x.targetChange;return D.targetIds&&D.targetIds.length?zt.min():D.readTime?vo(D.readTime):zt.min()}(h);return this.listener.yu(g,y)},c.prototype.Vu=function(h){var x,D,k,V,g={};g.database=gs(this.serializer),g.addTarget=(x=this.serializer,(k=jt(V=(D=h).target)?{documents:Ia(x,V)}:{query:br(x,V)}).targetId=D.targetId,D.resumeToken.O()>0&&(k.resumeToken=el(x,D.resumeToken)),k);var y=function(x,D){var k=function(V,Z){switch(Z){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ke()}}(0,D.et);return null==k?null:{"goog-listen-tags":k}}(0,h);y&&(g.labels=y),this.du(g)},c.prototype.pu=function(h){var g={};g.database=gs(this.serializer),g.removeTarget=h,this.du(g)},c}(Is),um=function(f){function c(h,g,y,x,D){var k=this;return(k=f.call(this,h,"write_stream_connection_backoff","write_stream_idle",g,y,D)||this).serializer=x,k.bu=!1,k}return U.__extends(c,f),Object.defineProperty(c.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),c.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,f.prototype.start.call(this)},c.prototype.mu=function(){this.bu&&this.Su([])},c.prototype.Ru=function(h){return this.iu.Pu("Write",h)},c.prototype.onMessage=function(h){if(at(!!h.streamToken),this.lastStreamToken=h.streamToken,this.bu){this.ys.reset();var g=(D=h.commitTime,(x=h.writeResults)&&x.length>0?(at(void 0!==D),x.map(function(k){return function(V,Z){var re=vo(V.updateTime?V.updateTime:Z);re.isEqual(zt.min())&&(re=vo(Z));var ge=null;return V.transformResults&&V.transformResults.length>0&&(ge=V.transformResults),new Ta(re,ge)}(k,D)})):[]),y=vo(h.commitTime);return this.listener.Du(y,g)}var x,D;return at(!h.writeResults||0===h.writeResults.length),this.bu=!0,this.listener.Cu()},c.prototype.Nu=function(){var h={};h.database=gs(this.serializer),this.du(h)},c.prototype.Su=function(h){var g=this,y={streamToken:this.lastStreamToken,writes:h.map(function(x){return Ni(g.serializer,x)})};this.du(y)},c}(Is),id=function(f){function c(h,g,y){var x=this;return(x=f.call(this)||this).credentials=h,x.iu=g,x.serializer=y,x.Fu=!1,x}return U.__extends(c,f),c.prototype.xu=function(){if(this.Fu)throw new q(z.FAILED_PRECONDITION,"The client has already been terminated.")},c.prototype.$u=function(h,g,y){var x=this;return this.xu(),this.credentials.getToken().then(function(D){return x.iu.$u(h,g,y,D)}).catch(function(D){throw D.code===z.UNAUTHENTICATED&&x.credentials.zc(),D})},c.prototype.ku=function(h,g,y){var x=this;return this.xu(),this.credentials.getToken().then(function(D){return x.iu.ku(h,g,y,D)}).catch(function(D){throw D.code===z.UNAUTHENTICATED&&x.credentials.zc(),D})},c.prototype.terminate=function(){this.Fu=!1},c}(function(){}),rd=function(){function f(c,h){this.cs=c,this.di=h,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return f.prototype.Bu=function(){var c=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return c.Ou=null,c.Uu("Backend didn't respond within 10 seconds."),c.qu("Offline"),Promise.resolve()}))},f.prototype.Qu=function(c){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+c.toString()),this.qu("Offline")))},f.prototype.set=function(c){this.Wu(),this.Mu=0,"Online"===c&&(this.Lu=!1),this.qu(c)},f.prototype.qu=function(c){c!==this.state&&(this.state=c,this.di(c))},f.prototype.Uu=function(c){var h="Could not reach Cloud Firestore backend. "+c+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(lt(h),this.Lu=!1):me("OnlineStateTracker",h)},f.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},f}(),Yf=function(f,c,h,g,y){var x=this;this.ju=f,this.Ku=c,this.cs=h,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=y,this.Xu.Zu(function(D){h.ws(function(){return U.__awaiter(x,void 0,void 0,function(){return U.__generator(this,function(k){switch(k.label){case 0:return us(this)?(me("RemoteStore","Restarting streams for network reachability change."),[4,function(V){return U.__awaiter(this,void 0,void 0,function(){var Z;return U.__generator(this,function(re){switch(re.label){case 0:return(Z=Ze(V)).Yu.add(4),[4,$l(Z)];case 1:return re.sent(),Z.th.set("Unknown"),Z.Yu.delete(4),[4,od(Z)];case 2:return re.sent(),[2]}})})}(this)]):[3,2];case 1:k.sent(),k.label=2;case 2:return[2]}})})})}),this.th=new rd(h,g)};function od(f){return U.__awaiter(this,void 0,void 0,function(){var c,h;return U.__generator(this,function(g){switch(g.label){case 0:if(!us(f))return[3,4];c=0,h=f.Ju,g.label=1;case 1:return c<h.length?[4,(0,h[c])(!0)]:[3,4];case 2:g.sent(),g.label=3;case 3:return c++,[3,1];case 4:return[2]}})})}function $l(f){return U.__awaiter(this,void 0,void 0,function(){var c,h;return U.__generator(this,function(g){switch(g.label){case 0:c=0,h=f.Ju,g.label=1;case 1:return c<h.length?[4,(0,h[c])(!1)]:[3,4];case 2:g.sent(),g.label=3;case 3:return c++,[3,1];case 4:return[2]}})})}function jh(f){return U.__awaiter(this,void 0,void 0,function(){var c;return U.__generator(this,function(h){switch(h.label){case 0:return c=Ze(f),me("RemoteStore","RemoteStore shutting down."),c.Yu.add(5),[4,$l(c)];case 1:return h.sent(),c.Xu.Di(),c.th.set("Unknown"),[2]}})})}function th(f,c){var h=Ze(f);h.Hu.has(c.targetId)||(h.Hu.set(c.targetId,c),Eu(h)?dl(h):$s(h).uu()&&Vc(h,c))}function Uc(f,c){var h=Ze(f),g=$s(h);h.Hu.delete(c),g.uu()&&sd(h,c),0===h.Hu.size&&(g.uu()?g._u():us(h)&&h.th.set("Unknown"))}function Vc(f,c){f.eh.Ie(c.targetId),$s(f).Vu(c)}function sd(f,c){f.eh.Ie(c),$s(f).pu(c)}function dl(f){f.eh=new _t({qe:function(c){return f.Gu.qe(c)},Ue:function(c){return f.Hu.get(c)||null}}),$s(f).start(),f.th.Bu()}function Eu(f){return us(f)&&!$s(f).cu()&&f.Hu.size>0}function us(f){return 0===Ze(f).Yu.size}function zh(f){f.eh=void 0}function Hh(f){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(c){return f.Hu.forEach(function(h,g){Vc(f,h)}),[2]})})}function nh(f,c){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){return zh(f),Eu(f)?(f.th.Qu(c),dl(f)):f.th.set("Unknown"),[2]})})}function $h(f,c,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,x;return U.__generator(this,function(D){switch(D.label){case 0:if(f.th.set("Online"),!(c instanceof Xe&&2===c.state&&c.cause))return[3,6];D.label=1;case 1:return D.trys.push([1,3,,5]),[4,function(k,V){return U.__awaiter(this,void 0,void 0,function(){var Z,re,ge,_e;return U.__generator(this,function(Re){switch(Re.label){case 0:Z=V.cause,re=0,ge=V.targetIds,Re.label=1;case 1:return re<ge.length?k.Hu.has(_e=ge[re])?[4,k.Gu.nh(_e,Z)]:[3,3]:[3,5];case 2:Re.sent(),k.Hu.delete(_e),k.eh.removeTarget(_e),Re.label=3;case 3:Re.label=4;case 4:return re++,[3,1];case 5:return[2]}})})}(f,c)];case 2:return D.sent(),[3,5];case 3:return g=D.sent(),me("RemoteStore","Failed to remove targets %s: %s ",c.targetIds.join(","),g),[4,zo(f,g)];case 4:return D.sent(),[3,5];case 5:return[3,13];case 6:if(c instanceof _r?f.eh.be(c):c instanceof Zo?f.eh.$e(c):f.eh.De(c),h.isEqual(zt.min()))return[3,13];D.label=7;case 7:return D.trys.push([7,11,,13]),[4,ir(f.ju)];case 8:return y=D.sent(),h.L(y)>=0?[4,(k=f,V=h,Z=k.eh.Oe(V),Z.zt.forEach(function(re,ge){if(re.resumeToken.O()>0){var _e=k.Hu.get(ge);_e&&k.Hu.set(ge,_e.it(re.resumeToken,V))}}),Z.Ht.forEach(function(re){var ge=k.Hu.get(re);if(ge){k.Hu.set(re,ge.it(Un.B,ge.nt)),sd(k,re);var _e=new Ei(ge.target,re,1,ge.sequenceNumber);Vc(k,_e)}}),k.Gu.sh(Z))]:[3,10];case 9:D.sent(),D.label=10;case 10:return[3,13];case 11:return me("RemoteStore","Failed to raise snapshot:",x=D.sent()),[4,zo(f,x)];case 12:return D.sent(),[3,13];case 13:return[2]}var k,V,Z})})}function zo(f,c,h){return U.__awaiter(this,void 0,void 0,function(){var g=this;return U.__generator(this,function(y){switch(y.label){case 0:if(!Bs(c))throw c;return f.Yu.add(1),[4,$l(f)];case 1:return y.sent(),f.th.set("Offline"),h||(h=function(){return ir(f.ju)}),f.cs.Cs(function(){return U.__awaiter(g,void 0,void 0,function(){return U.__generator(this,function(x){switch(x.label){case 0:return me("RemoteStore","Retrying IndexedDB access"),[4,h()];case 1:return x.sent(),f.Yu.delete(1),[4,od(f)];case 2:return x.sent(),[2]}})})}),[2]}})})}function ad(f,c){return c().catch(function(h){return zo(f,h,c)})}function Hs(f){return U.__awaiter(this,void 0,void 0,function(){var c,h,g,y,x;return U.__generator(this,function(D){switch(D.label){case 0:c=Ze(f),h=Ts(c),g=c.zu.length>0?c.zu[c.zu.length-1].batchId:-1,D.label=1;case 1:if(!(us(k=c)&&k.zu.length<10))return[3,7];D.label=2;case 2:return D.trys.push([2,4,,6]),[4,eh(c.ju,g)];case 3:return null===(y=D.sent())?(0===c.zu.length&&h._u(),[3,7]):(g=y.batchId,function(k,V){k.zu.push(V);var Z=Ts(k);Z.uu()&&Z.vu&&Z.Su(V.mutations)}(c,y),[3,6]);case 4:return x=D.sent(),[4,zo(c,x)];case 5:return D.sent(),[3,6];case 6:return[3,1];case 7:return Gl(c)&&Cu(c),[2]}var k})})}function Gl(f){return us(f)&&!Ts(f).cu()&&f.zu.length>0}function Cu(f){Ts(f).start()}function ql(f){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(c){return Ts(f).Nu(),[2]})})}function Wl(f){return U.__awaiter(this,void 0,void 0,function(){var c,h,g;return U.__generator(this,function(x){for(c=Ts(f),h=0,g=f.zu;h<g.length;h++)c.Su(g[h].mutations);return[2]})})}function cd(f,c,h){return U.__awaiter(this,void 0,void 0,function(){var g,y;return U.__generator(this,function(x){switch(x.label){case 0:return g=f.zu.shift(),y=gu.from(g,c,h),[4,ad(f,function(){return f.Gu.ih(y)})];case 1:return x.sent(),[4,Hs(f)];case 2:return x.sent(),[2]}})})}function Zl(f,c){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){switch(h.label){case 0:return c&&Ts(f).vu?[4,function(g,y){return U.__awaiter(this,void 0,void 0,function(){var x,D;return U.__generator(this,function(k){switch(k.label){case 0:return zn(D=y.code)&&D!==z.ABORTED?(x=g.zu.shift(),Ts(g).lu(),[4,ad(g,function(){return g.Gu.rh(x.batchId,y)})]):[3,3];case 1:return k.sent(),[4,Hs(g)];case 2:k.sent(),k.label=3;case 3:return[2]}})})}(f,c)]:[3,2];case 1:h.sent(),h.label=2;case 2:return Gl(f)&&Cu(f),[2]}})})}function Kl(f,c){return U.__awaiter(this,void 0,void 0,function(){var h;return U.__generator(this,function(y){switch(y.label){case 0:return h=Ze(f),c?(h.Yu.delete(2),[4,od(h)]):[3,2];case 1:return y.sent(),[3,5];case 2:return c?[3,4]:(h.Yu.add(2),[4,$l(h)]);case 3:y.sent(),h.th.set("Unknown"),y.label=4;case 4:y.label=5;case 5:return[2]}})})}function $s(f){var h,g,y,x,c=this;return f.oh||(f.oh=(h=f.Ku,g=f.cs,y={gu:Hh.bind(null,f),Tu:nh.bind(null,f),yu:$h.bind(null,f)},(x=Ze(h)).xu(),new nd(g,x.iu,x.credentials,x.serializer,y)),f.Ju.push(function(h){return U.__awaiter(c,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return h?(f.oh.lu(),Eu(f)?dl(f):f.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,f.oh.stop()];case 2:g.sent(),zh(f),g.label=3;case 3:return[2]}})})})),f.oh}function Ts(f){var h,g,y,x,c=this;return f.ah||(f.ah=(h=f.Ku,g=f.cs,y={gu:ql.bind(null,f),Tu:Zl.bind(null,f),Cu:Wl.bind(null,f),Du:cd.bind(null,f)},(x=Ze(h)).xu(),new um(g,x.iu,x.credentials,x.serializer,y)),f.Ju.push(function(h){return U.__awaiter(c,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return h?(f.ah.lu(),[4,Hs(f)]):[3,2];case 1:return g.sent(),[3,4];case 2:return[4,f.ah.stop()];case 3:g.sent(),f.zu.length>0&&(me("RemoteStore","Stopping write stream with "+f.zu.length+" pending writes"),f.zu=[]),g.label=4;case 4:return[2]}})})})),f.ah}var Qf=function(f){this.key=f},ld=function(f){this.key=f},Na=function(){function f(c,h){this.query=c,this.uh=h,this.hh=null,this.te=!1,this.lh=Qe(),this.Wt=Qe(),this._h=pu(c),this.fh=new Vt(this._h)}return Object.defineProperty(f.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),f.prototype.wh=function(c,h){var g=this,y=h?h.mh:new Xn,x=h?h.fh:this.fh,D=h?h.Wt:this.Wt,k=x,V=!1,Z=Tc(this.query)&&x.size===this.query.limit?x.last():null,re=Ja(this.query)&&x.size===this.query.limit?x.first():null;if(c.ht(function(_e,Re){var et=x.get(_e),ht=Re instanceof ri?Re:null;ht&&(ht=Fl(g.query,ht)?ht:null);var an=!!et&&g.Wt.has(et.key),Xt=!!ht&&(ht.Je||g.Wt.has(ht.key)&&ht.hasCommittedMutations),Rn=!1;et&&ht?et.data().isEqual(ht.data())?an!==Xt&&(y.track({type:3,doc:ht}),Rn=!0):g.Th(et,ht)||(y.track({type:2,doc:ht}),Rn=!0,(Z&&g._h(ht,Z)>0||re&&g._h(ht,re)<0)&&(V=!0)):!et&&ht?(y.track({type:0,doc:ht}),Rn=!0):et&&!ht&&(y.track({type:1,doc:et}),Rn=!0,(Z||re)&&(V=!0)),Rn&&(ht?(k=k.add(ht),D=Xt?D.add(_e):D.delete(_e)):(k=k.delete(_e),D=D.delete(_e)))}),Tc(this.query)||Ja(this.query))for(;k.size>this.query.limit;){var ge=Tc(this.query)?k.last():k.first();k=k.delete(ge.key),D=D.delete(ge.key),y.track({type:1,doc:ge})}return{fh:k,mh:y,Eh:V,Wt:D}},f.prototype.Th=function(c,h){return c.Je&&h.hasCommittedMutations&&!h.Je},f.prototype.yr=function(c,h,g){var y=this,x=this.fh;this.fh=c.fh,this.Wt=c.Wt;var D=c.mh.Ut();D.sort(function(re,ge){return Re=ge.type,(et=function(ht){switch(ht){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}})(re.type)-et(Re)||y._h(re.doc,ge.doc);var Re,et}),this.Ih(g);var k=h?this.Ah():[],V=0===this.lh.size&&this.te?1:0,Z=V!==this.hh;return this.hh=V,0!==D.length||Z?{snapshot:new En(this.query,c.fh,x,D,c.Wt,0===V,Z,!1),Rh:k}:{Rh:k}},f.prototype.Qs=function(c){return this.te&&"Offline"===c?(this.te=!1,this.yr({fh:this.fh,mh:new Xn,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},f.prototype.gh=function(c){return!this.uh.has(c)&&!!this.fh.has(c)&&!this.fh.get(c).Je},f.prototype.Ih=function(c){var h=this;c&&(c.ee.forEach(function(g){return h.uh=h.uh.add(g)}),c.ne.forEach(function(g){}),c.se.forEach(function(g){return h.uh=h.uh.delete(g)}),this.te=c.te)},f.prototype.Ah=function(){var c=this;if(!this.te)return[];var h=this.lh;this.lh=Qe(),this.fh.forEach(function(y){c.gh(y.key)&&(c.lh=c.lh.add(y.key))});var g=[];return h.forEach(function(y){c.lh.has(y)||g.push(new ld(y))}),this.lh.forEach(function(y){h.has(y)||g.push(new Qf(y))}),g},f.prototype.Ph=function(c){this.uh=c.Fc,this.lh=Qe();var h=this.wh(c.documents);return this.yr(h,!0)},f.prototype.yh=function(){return En.Gt(this.query,this.fh,this.Wt,0===this.hh)},f}(),ih=function(f,c,h){this.query=f,this.targetId=c,this.view=h},rh=function(f){this.key=f,this.Vh=!1},hl=function(){function f(c,h,g,y,x,D){this.ju=c,this.ph=h,this.bh=g,this.Sh=y,this.currentUser=x,this.Dh=D,this.Ch={},this.Nh=new Yt(function(k){return ca(k)},tc),this.Fh=new Map,this.xh=[],this.$h=new Hn(Le.i),this.kh=new Map,this.Mh=new ka,this.Oh={},this.Lh=new Map,this.Bh=Bl.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(f.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),f}();function ns(f,c){return U.__awaiter(this,void 0,void 0,function(){var h,y,x,D,k;return U.__generator(this,function(V){switch(V.label){case 0:return h=Ki(f),(x=h.Nh.get(c))?(h.Sh.Oi(x.targetId),y=x.view.yh(),[3,4]):[3,1];case 1:return[4,xs(h.ju,Uo(c))];case 2:return D=V.sent(),k=h.Sh.Oi(D.targetId),[4,fl(h,c,D.targetId,"current"===k)];case 3:y=V.sent(),h.Uh&&th(h.ph,D),V.label=4;case 4:return[2,y]}})})}function fl(f,c,h,g){return U.__awaiter(this,void 0,void 0,function(){var y,x,D,k,V,Z;return U.__generator(this,function(re){switch(re.label){case 0:return f.Qh=function(ge,_e,Re){return function(et,ht,an,Xt){return U.__awaiter(this,void 0,void 0,function(){var Rn,Qn,gi;return U.__generator(this,function(bi){switch(bi.label){case 0:return(Rn=ht.view.wh(an)).Eh?[4,rr(et.ju,ht.query,!1).then(function(hr){return ht.view.wh(hr.documents,Rn)})]:[3,2];case 1:Rn=bi.sent(),bi.label=2;case 2:return Qn=Xt&&Xt.zt.get(ht.targetId),gi=ht.view.yr(Rn,et.Uh,Qn),[2,(O(et,ht.targetId,gi.Rh),gi.snapshot)]}})})}(f,ge,_e,Re)},[4,rr(f.ju,c,!0)];case 1:return y=re.sent(),x=new Na(c,y.Fc),D=x.wh(y.documents),k=kn.Zt(h,g&&"Offline"!==f.onlineState),V=x.yr(D,f.Uh,k),O(f,h,V.Rh),Z=new ih(c,h,x),[2,(f.Nh.set(c,Z),f.Fh.has(h)?f.Fh.get(h).push(c):f.Fh.set(h,[c]),V.snapshot)]}})})}function sr(f,c){return U.__awaiter(this,void 0,void 0,function(){var h,g,y;return U.__generator(this,function(x){switch(x.label){case 0:return h=Ze(f),g=h.Nh.get(c),(y=h.Fh.get(g.targetId)).length>1?[2,(h.Fh.set(g.targetId,y.filter(function(D){return!tc(D,c)})),void h.Nh.delete(c))]:h.Uh?(h.Sh.Bi(g.targetId),h.Sh.Fi(g.targetId)?[3,2]:[4,jn(h.ju,g.targetId,!1).then(function(){h.Sh.Ui(g.targetId),Uc(h.ph,g.targetId),Fa(h,g.targetId)}).catch(ci)]):[3,3];case 1:x.sent(),x.label=2;case 2:return[3,5];case 3:return Fa(h,g.targetId),[4,jn(h.ju,g.targetId,!0)];case 4:x.sent(),x.label=5;case 5:return[2]}})})}function pl(f,c){return U.__awaiter(this,void 0,void 0,function(){var h,g;return U.__generator(this,function(y){switch(y.label){case 0:h=Ze(f),y.label=1;case 1:return y.trys.push([1,4,,6]),[4,fa(h.ju,c)];case 2:return g=y.sent(),c.zt.forEach(function(x,D){var k=h.kh.get(D);k&&(at(x.ee.size+x.ne.size+x.se.size<=1),x.ee.size>0?k.Vh=!0:x.ne.size>0?at(k.Vh):x.se.size>0&&(at(k.Vh),k.Vh=!1))}),[4,oe(h,g,c)];case 3:return y.sent(),[3,6];case 4:return[4,ci(y.sent())];case 5:return y.sent(),[3,6];case 6:return[2]}})})}function ud(f,c,h){var g=Ze(f);if(g.Uh&&0===h||!g.Uh&&1===h){var y=[];g.Nh.forEach(function(x,D){var k=D.view.Qs(c);k.snapshot&&y.push(k.snapshot)}),function(x,D){var k=Ze(x);k.onlineState=D;var V=!1;k.Bs.forEach(function(Z,re){for(var ge=0,_e=re.listeners;ge<_e.length;ge++)_e[ge].Qs(D)&&(V=!0)}),V&&js(k)}(g.bh,c),y.length&&g.Ch.yu(y),g.onlineState=c,g.Uh&&g.Sh.Ki(c)}}function dr(f,c,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,x,D,k,V;return U.__generator(this,function(Z){switch(Z.label){case 0:return(g=Ze(f)).Sh.Qi(c,"rejected",h),y=g.kh.get(c),(x=y&&y.key)?(D=(D=new Hn(Le.i)).ot(x,new Rr(x,zt.min())),k=Qe().add(x),V=new si(zt.min(),new Map,new Ci(Ut),D,k),[4,pl(g,V)]):[3,2];case 1:return Z.sent(),g.$h=g.$h.remove(x),g.kh.delete(c),H(g),[3,4];case 2:return[4,jn(g.ju,c,!1).then(function(){return Fa(g,c,h)}).catch(ci)];case 3:Z.sent(),Z.label=4;case 4:return[2]}})})}function Gh(f,c){return U.__awaiter(this,void 0,void 0,function(){var h,g,y;return U.__generator(this,function(x){switch(x.label){case 0:h=Ze(f),g=c.batch.batchId,x.label=1;case 1:return x.trys.push([1,4,,6]),[4,ha(h.ju,c)];case 2:return y=x.sent(),ml(h,g,null),Gs(h,g),h.Sh.ki(g,"acknowledged"),[4,oe(h,y)];case 3:return x.sent(),[3,6];case 4:return[4,ci(x.sent())];case 5:return x.sent(),[3,6];case 6:return[2]}})})}function Xf(f,c,h){return U.__awaiter(this,void 0,void 0,function(){var g,y;return U.__generator(this,function(x){switch(x.label){case 0:g=Ze(f),x.label=1;case 1:return x.trys.push([1,4,,6]),[4,(D=g.ju,k=c,V=Ze(D),V.persistence.runTransaction("Reject batch","readwrite-primary",function(Z){var re;return V.Sr.Oo(Z,k).next(function(ge){return at(null!==ge),re=ge.keys(),V.Sr.Wo(Z,ge)}).next(function(){return V.Sr.zo(Z)}).next(function(){return V.Cc.kr(Z,re)})}))];case 2:return y=x.sent(),ml(g,c,h),Gs(g,c),g.Sh.ki(c,"rejected",h),[4,oe(g,y)];case 3:return x.sent(),[3,6];case 4:return[4,ci(x.sent())];case 5:return x.sent(),[3,6];case 6:return[2]}var D,k,V})})}function Gs(f,c){(f.Lh.get(c)||[]).forEach(function(h){h.resolve()}),f.Lh.delete(c)}function ml(f,c,h){var g=Ze(f),y=g.Oh[g.currentUser.ti()];if(y){var x=y.get(c);x&&(h?x.reject(h):x.resolve(),y=y.remove(c)),g.Oh[g.currentUser.ti()]=y}}function Fa(f,c,h){void 0===h&&(h=null),f.Sh.Bi(c);for(var g=0,y=f.Fh.get(c);g<y.length;g++){var x=y[g];f.Nh.delete(x),h&&f.Ch.Wh(x,h)}f.Fh.delete(c),f.Uh&&f.Mh.Uc(c).forEach(function(D){f.Mh.Ho(D)||Bc(f,D)})}function Bc(f,c){var h=f.$h.get(c);null!==h&&(Uc(f.ph,h),f.$h=f.$h.remove(c),f.kh.delete(h),H(f))}function O(f,c,h){for(var g=0,y=h;g<y.length;g++){var x=y[g];x instanceof Qf?(f.Mh.Da(x.key,c),F(f,x)):x instanceof ld?(me("SyncEngine","Document no longer in limbo: "+x.key),f.Mh.Na(x.key,c),f.Mh.Ho(x.key)||Bc(f,x.key)):ke()}}function F(f,c){var h=c.key;f.$h.get(h)||(me("SyncEngine","New document in limbo: "+h),f.xh.push(h),H(f))}function H(f){for(;f.xh.length>0&&f.$h.size<f.Dh;){var c=f.xh.shift(),h=f.Bh.next();f.kh.set(h,new rh(c)),f.$h=f.$h.ot(c,h),th(f.ph,new Ei(Uo(Sa(c.path)),h,2,xo.ai))}}function oe(f,c,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,x,D;return U.__generator(this,function(k){switch(k.label){case 0:return g=Ze(f),y=[],x=[],D=[],g.Nh.m()?[3,3]:(g.Nh.forEach(function(V,Z){D.push(g.Qh(Z,c,h).then(function(re){if(re){g.Uh&&g.Sh.Qi(Z.targetId,re.fromCache?"not-current":"current"),y.push(re);var ge=Ii.zr(Z.targetId,re);x.push(ge)}}))}),[4,Promise.all(D)]);case 1:return k.sent(),g.Ch.yu(y),[4,function(V,Z){return U.__awaiter(this,void 0,void 0,function(){var re,ge,_e,Re,et,ht,an,Rn;return U.__generator(this,function(Qn){switch(Qn.label){case 0:re=Ze(V),Qn.label=1;case 1:return Qn.trys.push([1,3,,4]),[4,re.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(gi){return It.forEach(Z,function(bi){return It.forEach(bi.Kr,function(hr){return re.persistence.No.Da(gi,bi.targetId,hr)}).next(function(){return It.forEach(bi.Gr,function(hr){return re.persistence.No.Na(gi,bi.targetId,hr)})})})})];case 2:return Qn.sent(),[3,4];case 3:if(!Bs(ge=Qn.sent()))throw ge;return me("LocalStore","Failed to update sequence numbers: "+ge),[3,4];case 4:for(_e=0,Re=Z;_e<Re.length;_e++)ht=(et=Re[_e]).targetId,et.fromCache||(an=re.bc.get(ht),Rn=an.rt(an.nt),re.bc=re.bc.ot(ht,Rn));return[2]}})})}(g.ju,x)];case 2:k.sent(),k.label=3;case 3:return[2]}})})}function be(f,c){return U.__awaiter(this,void 0,void 0,function(){var h,g;return U.__generator(this,function(y){switch(y.label){case 0:return(h=Ze(f)).currentUser.isEqual(c)?[3,3]:(me("SyncEngine","User change. New user:",c.ti()),[4,function(x,D){return U.__awaiter(this,void 0,void 0,function(){var k,V,Z,re;return U.__generator(this,function(ge){switch(ge.label){case 0:return k=Ze(x),V=k.Sr,Z=k.Cc,[4,k.persistence.runTransaction("Handle user change","readonly",function(_e){var Re;return k.Sr.Uo(_e).next(function(et){return Re=et,V=k.persistence.mc(D),Z=new _u(k.Dc,V,k.persistence.Ic()),V.Uo(_e)}).next(function(et){for(var ht=[],an=[],Xt=Qe(),Rn=0,Qn=Re;Rn<Qn.length;Rn++){var gi=Qn[Rn];ht.push(gi.batchId);for(var bi=0,hr=gi.mutations;bi<hr.length;bi++)Xt=Xt.add(hr[bi].key)}for(var zc=0,ef=et;zc<ef.length;zc++){var ip=ef[zc];an.push(ip.batchId);for(var tf=0,dh=ip.mutations;tf<dh.length;tf++)Xt=Xt.add(dh[tf].key)}return Z.kr(_e,Xt).next(function(vd){return{jh:vd,Kh:ht,Gh:an}})})})];case 1:return re=ge.sent(),[2,(k.Sr=V,k.Cc=Z,k.Vc.Nc(k.Cc),re)]}})})}(h.ju,c)]);case 1:return g=y.sent(),h.currentUser=c,(x=h).Lh.forEach(function(k){k.forEach(function(V){V.reject(new q(z.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),x.Lh.clear(),h.Sh.ji(c,g.Kh,g.Gh),[4,oe(h,g.jh)];case 2:y.sent(),y.label=3;case 3:return[2]}var x})})}function Ue(f,c){var h=Ze(f),g=h.kh.get(c);if(g&&g.Vh)return Qe().add(g.key);var y=Qe(),x=h.Fh.get(c);if(!x)return y;for(var D=0,k=x;D<k.length;D++){var Z=h.Nh.get(k[D]);y=y.kt(Z.view.dh)}return y}function rt(f,c){return U.__awaiter(this,void 0,void 0,function(){var h,g,y;return U.__generator(this,function(x){switch(x.label){case 0:return[4,rr((h=Ze(f)).ju,c.query,!0)];case 1:return g=x.sent(),y=c.view.Ph(g),[2,(h.Uh&&O(h,c.targetId,y.Rh),y)]}})})}function Bt(f,c,h,g){return U.__awaiter(this,void 0,void 0,function(){var y,x;return U.__generator(this,function(D){switch(D.label){case 0:return[4,(k=(y=Ze(f)).ju,V=c,Z=Ze(k),re=Ze(Z.Sr),Z.persistence.runTransaction("Lookup mutation documents","readonly",function(ge){return re.Lo(ge,V).next(function(_e){return _e?Z.Cc.kr(ge,_e):It.resolve(null)})}))];case 1:return null===(x=D.sent())?[3,6]:"pending"!==h?[3,3]:[4,Hs(y.ph)];case 2:return D.sent(),[3,4];case 3:"acknowledged"===h||"rejected"===h?(ml(y,c,g||null),Gs(y,c),function(k,V){Ze(Ze(k).Sr).Ko(V)}(y.ju,c)):ke(),D.label=4;case 4:return[4,oe(y,x)];case 5:return D.sent(),[3,7];case 6:me("SyncEngine","Cannot apply mutation batch with id: "+c),D.label=7;case 7:return[2]}var k,V,Z,re})})}function Ft(f,c){return U.__awaiter(this,void 0,void 0,function(){var h,g,y,x,D,V,Z;return U.__generator(this,function(re){switch(re.label){case 0:return Ki(h=Ze(f)),xu(h),!0!==c||!0===h.qh?[3,3]:(g=h.Sh.Ci(),[4,hn(h,g.A())]);case 1:return y=re.sent(),h.qh=!0,[4,Kl(h.ph,!0)];case 2:for(re.sent(),x=0,D=y;x<D.length;x++)th(h.ph,D[x]);return[3,7];case 3:return!1!==c||!1===h.qh?[3,7]:(V=[],Z=Promise.resolve(),h.Fh.forEach(function(ge,_e){h.Sh.qi(_e)?V.push(_e):Z=Z.then(function(){return Fa(h,_e),jn(h.ju,_e,!0)}),Uc(h.ph,_e)}),[4,Z]);case 4:return re.sent(),[4,hn(h,V)];case 5:return re.sent(),(_e=Ze(h)).kh.forEach(function(Re,et){Uc(_e.ph,et)}),_e.Mh.Qc(),_e.kh=new Map,_e.$h=new Hn(Le.i),h.qh=!1,[4,Kl(h.ph,!1)];case 6:re.sent(),re.label=7;case 7:return[2]}var _e})})}function hn(f,c,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,x,D,k,V,Z,re,ge,_e,et,ht,an;return U.__generator(this,function(Xt){switch(Xt.label){case 0:g=Ze(f),y=[],x=[],D=0,k=c,Xt.label=1;case 1:return D<k.length?(Z=void 0,(re=g.Fh.get(V=k[D]))&&0!==re.length?[4,xs(g.ju,Uo(re[0]))]:[3,7]):[3,13];case 2:Z=Xt.sent(),ge=0,_e=re,Xt.label=3;case 3:return ge<_e.length?(et=g.Nh.get(_e[ge]),[4,rt(g,et)]):[3,6];case 4:(ht=Xt.sent()).snapshot&&x.push(ht.snapshot),Xt.label=5;case 5:return ge++,[3,3];case 6:return[3,11];case 7:return[4,So(g.ju,V)];case 8:return an=Xt.sent(),[4,xs(g.ju,an)];case 9:return Z=Xt.sent(),[4,fl(g,Ln(an),V,!1)];case 10:Xt.sent(),Xt.label=11;case 11:y.push(Z),Xt.label=12;case 12:return D++,[3,1];case 13:return[2,(g.Ch.yu(x),y)]}})})}function Ln(f){return Ic(f.path,f.collectionGroup,f.orderBy,f.filters,f.limit,"F",f.startAt,f.endAt)}function Sn(f){var c=Ze(f);return Ze(Ze(c.ju).persistence).pi()}function ds(f,c,h,g){return U.__awaiter(this,void 0,void 0,function(){var y,x,D;return U.__generator(this,function(k){switch(k.label){case 0:return(y=Ze(f)).qh?(me("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!y.Fh.has(c))return[3,8];switch(h){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Hl(y.ju)];case 3:return x=k.sent(),D=si.Xt(c,"current"===h),[4,oe(y,x,D)];case 4:return k.sent(),[3,8];case 5:return[4,jn(y.ju,c,!0)];case 6:return k.sent(),Fa(y,c,g),[3,8];case 7:ke(),k.label=8;case 8:return[2]}})})}function Ao(f,c,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,x,D,k,V,Z,re,ge;return U.__generator(this,function(Re){switch(Re.label){case 0:if(!(g=Ki(f)).qh)return[3,10];y=0,x=c,Re.label=1;case 1:return y<x.length?g.Fh.has(D=x[y])?(me("SyncEngine","Adding an already active target "+D),[3,5]):[4,So(g.ju,D)]:[3,6];case 2:return k=Re.sent(),[4,xs(g.ju,k)];case 3:return V=Re.sent(),[4,fl(g,Ln(k),V.targetId,!1)];case 4:Re.sent(),th(g.ph,V),Re.label=5;case 5:return y++,[3,1];case 6:Z=function(et){return U.__generator(this,function(ht){switch(ht.label){case 0:return g.Fh.has(et)?[4,jn(g.ju,et,!1).then(function(){Uc(g.ph,et),Fa(g,et)}).catch(ci)]:[3,2];case 1:ht.sent(),ht.label=2;case 2:return[2]}})},re=0,ge=h,Re.label=7;case 7:return re<ge.length?[5,Z(ge[re])]:[3,10];case 8:Re.sent(),Re.label=9;case 9:return re++,[3,7];case 10:return[2]}})})}function Ki(f){var c=Ze(f);return c.ph.Gu.sh=pl.bind(null,c),c.ph.Gu.qe=Ue.bind(null,c),c.ph.Gu.nh=dr.bind(null,c),c.Ch.yu=es.bind(null,c.bh),c.Ch.Wh=Rc.bind(null,c.bh),c}function xu(f){var c=Ze(f);return c.ph.Gu.ih=Gh.bind(null,c),c.ph.Gu.rh=Xf.bind(null,c),c}var La=function(){function f(){}return f.prototype.Nc=function(c){this.zh=c},f.prototype.Lr=function(c,h,g,y){var D,x=this;return 0===(D=h).filters.length&&null===D.limit&&null==D.startAt&&null==D.endAt&&(0===D.on.length||1===D.on.length&&D.on[0].field.p())||g.isEqual(zt.min())?this.Hh(c,h):this.zh.kr(c,y).next(function(D){var k=x.Yh(h,D);return(Tc(h)||Ja(h))&&x.Eh(h.an,k,y,g)?x.Hh(c,h):(Ne()<=pe.LogLevel.DEBUG&&me("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",g.toString(),ys(h)),x.zh.Lr(c,h,g).next(function(V){return k.forEach(function(Z){V=V.ot(Z.key,Z)}),V}))})},f.prototype.Yh=function(c,h){var g=new Ci(pu(c));return h.forEach(function(y,x){x instanceof ri&&Fl(c,x)&&(g=g.add(x))}),g},f.prototype.Eh=function(c,h,g,y){if(g.size!==h.size)return!0;var x="F"===c?h.last():h.first();return!!x&&(x.hasPendingWrites||x.version.L(y)>0)},f.prototype.Hh=function(c,h){return Ne()<=pe.LogLevel.DEBUG&&me("IndexFreeQueryEngine","Using full collection scan to execute query:",ys(h)),this.zh.Lr(c,h,zt.min())},f}(),Ua=function(){function f(c,h){this.Dr=c,this.No=h,this.Sr=[],this.Jh=1,this.Xh=new Ci(jr.kc)}return f.prototype.$o=function(c){return It.resolve(0===this.Sr.length)},f.prototype.ko=function(c,h,g,y){var x=this.Jh;this.Jh++;var D=new Xu(x,h,g,y);this.Sr.push(D);for(var k=0,V=y;k<V.length;k++){var Z=V[k];this.Xh=this.Xh.add(new jr(Z.key,x)),this.Dr.Mo(c,Z.key.path.h())}return It.resolve(D)},f.prototype.Oo=function(c,h){return It.resolve(this.Zh(h))},f.prototype.Bo=function(c,h){var y=this.tl(h+1),x=y<0?0:y;return It.resolve(this.Sr.length>x?this.Sr[x]:null)},f.prototype.qo=function(){return It.resolve(0===this.Sr.length?-1:this.Jh-1)},f.prototype.Uo=function(c){return It.resolve(this.Sr.slice())},f.prototype.Nr=function(c,h){var g=this,y=new jr(h,0),x=new jr(h,Number.POSITIVE_INFINITY),D=[];return this.Xh.Ft([y,x],function(k){var V=g.Zh(k.jc);D.push(V)}),It.resolve(D)},f.prototype.Or=function(c,h){var g=this,y=new Ci(Ut);return h.forEach(function(x){var D=new jr(x,0),k=new jr(x,Number.POSITIVE_INFINITY);g.Xh.Ft([D,k],function(V){y=y.add(V.jc)})}),It.resolve(this.el(y))},f.prototype.Wr=function(c,h){var g=h.path,y=g.length+1,x=g;Le.F(x)||(x=x.child(""));var D=new jr(new Le(x),0),k=new Ci(Ut);return this.Xh.xt(function(V){var Z=V.key.path;return!!g.T(Z)&&(Z.length===y&&(k=k.add(V.jc)),!0)},D),It.resolve(this.el(k))},f.prototype.el=function(c){var h=this,g=[];return c.forEach(function(y){var x=h.Zh(y);null!==x&&g.push(x)}),g},f.prototype.Wo=function(c,h){var g=this;at(0===this.nl(h.batchId,"removed")),this.Sr.shift();var y=this.Xh;return It.forEach(h.mutations,function(x){var D=new jr(x.key,h.batchId);return y=y.delete(D),g.No.Go(c,x.key)}).next(function(){g.Xh=y})},f.prototype.Ko=function(c){},f.prototype.Ho=function(c,h){var g=new jr(h,0),y=this.Xh.$t(g);return It.resolve(h.isEqual(y&&y.key))},f.prototype.zo=function(c){return It.resolve()},f.prototype.nl=function(c,h){return this.tl(c)},f.prototype.tl=function(c){return 0===this.Sr.length?0:c-this.Sr[0].batchId},f.prototype.Zh=function(c){var h=this.tl(c);return h<0||h>=this.Sr.length?null:this.Sr[h]},f}(),Nr=function(){function f(c,h){this.Dr=c,this.sl=h,this.docs=new Hn(Le.i),this.size=0}return f.prototype.Er=function(c,h,g){var y=h.key,x=this.docs.get(y),D=x?x.size:0,k=this.sl(h);return this.docs=this.docs.ot(y,{ta:h,size:k,readTime:g}),this.size+=k-D,this.Dr.Mo(c,y.path.h())},f.prototype.Ar=function(c){var h=this.docs.get(c);h&&(this.docs=this.docs.remove(c),this.size-=h.size)},f.prototype.Rr=function(c,h){var g=this.docs.get(h);return It.resolve(g?g.ta:null)},f.prototype.getEntries=function(c,h){var g=this,y=le();return h.forEach(function(x){var D=g.docs.get(x);y=y.ot(x,D?D.ta:null)}),It.resolve(y)},f.prototype.Lr=function(c,h,g){for(var y=te(),x=new Le(h.path.child("")),D=this.docs.ft(x);D.At();){var k=D.It(),Z=k.value,re=Z.ta,ge=Z.readTime;if(!h.path.T(k.key.path))break;ge.L(g)<=0||re instanceof ri&&Fl(h,re)&&(y=y.ot(re.key,re))}return It.resolve(y)},f.prototype.il=function(c,h){return It.forEach(this.docs,function(g){return h(g)})},f.prototype.ra=function(c){return new gl(this)},f.prototype.aa=function(c){return It.resolve(this.size)},f}(),gl=function(f){function c(h){var g=this;return(g=f.call(this)||this).ca=h,g}return U.__extends(c,f),c.prototype.yr=function(h){var g=this,y=[];return this.wr.forEach(function(x,D){D?y.push(g.ca.Er(h,D,g.readTime)):g.ca.Ar(x)}),It.$n(y)},c.prototype.gr=function(h,g){return this.ca.Rr(h,g)},c.prototype.Pr=function(h,g){return this.ca.getEntries(h,g)},c}(Gf),e_=function(){function f(c){this.persistence=c,this.rl=new Yt(function(h){return Ct(h)},mn),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.ol=0,this.al=new ka,this.targetCount=0,this.cl=Bl.fa()}return f.prototype.Ce=function(c,h){return this.rl.forEach(function(g,y){return h(y)}),It.resolve()},f.prototype.Ea=function(c){return It.resolve(this.lastRemoteSnapshotVersion)},f.prototype.Ia=function(c){return It.resolve(this.ol)},f.prototype.wa=function(c){return this.highestTargetId=this.cl.next(),It.resolve(this.highestTargetId)},f.prototype.Aa=function(c,h,g){return g&&(this.lastRemoteSnapshotVersion=g),h>this.ol&&(this.ol=h),It.resolve()},f.prototype.ga=function(c){this.rl.set(c.target,c);var h=c.targetId;h>this.highestTargetId&&(this.cl=new Bl(h),this.highestTargetId=h),c.sequenceNumber>this.ol&&(this.ol=c.sequenceNumber)},f.prototype.Ra=function(c,h){return this.ga(h),this.targetCount+=1,It.resolve()},f.prototype.ya=function(c,h){return this.ga(h),It.resolve()},f.prototype.Va=function(c,h){return this.rl.delete(h.target),this.al.Uc(h.targetId),this.targetCount-=1,It.resolve()},f.prototype.po=function(c,h,g){var y=this,x=0,D=[];return this.rl.forEach(function(k,V){V.sequenceNumber<=h&&null===g.get(V.targetId)&&(y.rl.delete(k),D.push(y.pa(c,V.targetId)),x++)}),It.$n(D).next(function(){return x})},f.prototype.ba=function(c){return It.resolve(this.targetCount)},f.prototype.va=function(c,h){var g=this.rl.get(h)||null;return It.resolve(g)},f.prototype.Sa=function(c,h,g){return this.al.Lc(h,g),It.resolve()},f.prototype.Ca=function(c,h,g){this.al.qc(h,g);var y=this.persistence.No,x=[];return y&&h.forEach(function(D){x.push(y.Go(c,D))}),It.$n(x)},f.prototype.pa=function(c,h){return this.al.Uc(h),It.resolve()},f.prototype.Fa=function(c,h){var g=this.al.Wc(h);return It.resolve(g)},f.prototype.Ho=function(c,h){return It.resolve(this.al.Ho(h))},f}(),dd=function(){function f(c){var h=this;this.ul={},this.Ma=new xo(0),this.Oa=!1,this.Oa=!0,this.No=c(this),this.Ka=new e_(this),this.Dr=new Cs,this.vr=new Nr(this.Dr,function(x){return h.No.hl(x)})}return f.prototype.start=function(){return Promise.resolve()},f.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(f.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),f.prototype.Za=function(){},f.prototype.tc=function(){},f.prototype.Ic=function(){return this.Dr},f.prototype.mc=function(c){var h=this.ul[c.ti()];return h||(h=new Ua(this.Dr,this.No),this.ul[c.ti()]=h),h},f.prototype.Tc=function(){return this.Ka},f.prototype.Ec=function(){return this.vr},f.prototype.runTransaction=function(c,h,g){var y=this;me("MemoryPersistence","Starting transaction:",c);var x=new hd(this.Ma.next());return this.No.ll(),g(x).next(function(D){return y.No._l(x).next(function(){return D})}).Fn().then(function(D){return x.br(),D})},f.prototype.fl=function(c,h){return It.kn(Object.values(this.ul).map(function(g){return function(){return g.Ho(c,h)}}))},f}(),hd=function(f){function c(h){var g=this;return(g=f.call(this)||this).xa=h,g}return U.__extends(c,f),c}(Gd),qh=function(){function f(c){this.persistence=c,this.dl=new ka,this.wl=null}return f.ml=function(c){return new f(c)},Object.defineProperty(f.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw ke()},enumerable:!1,configurable:!0}),f.prototype.Da=function(c,h,g){return this.dl.Da(g,h),this.Tl.delete(g.toString()),It.resolve()},f.prototype.Na=function(c,h,g){return this.dl.Na(g,h),this.Tl.add(g.toString()),It.resolve()},f.prototype.Go=function(c,h){return this.Tl.add(h.toString()),It.resolve()},f.prototype.removeTarget=function(c,h){var g=this;this.dl.Uc(h.targetId).forEach(function(x){return g.Tl.add(x.toString())});var y=this.persistence.Tc();return y.Fa(c,h.targetId).next(function(x){x.forEach(function(D){return g.Tl.add(D.toString())})}).next(function(){return y.Va(c,h)})},f.prototype.ll=function(){this.wl=new Set},f.prototype._l=function(c){var h=this,g=this.persistence.Ec().ra();return It.forEach(this.Tl,function(y){var x=Le.D(y);return h.El(c,x).next(function(D){D||g.Ar(x)})}).next(function(){return h.wl=null,g.apply(c)})},f.prototype.yc=function(c,h){var g=this;return this.El(c,h).next(function(y){y?g.Tl.delete(h.toString()):g.Tl.add(h.toString())})},f.prototype.hl=function(c){return 0},f.prototype.El=function(c,h){var g=this;return It.kn([function(){return It.resolve(g.dl.Ho(h))},function(){return g.persistence.Tc().Ho(c,h)},function(){return g.persistence.fl(c,h)}])},f}(),t_=function(){function f(c){this.Il=c.Il,this.Al=c.Al}return f.prototype.gu=function(c){this.Rl=c},f.prototype.Tu=function(c){this.gl=c},f.prototype.onMessage=function(c){this.Pl=c},f.prototype.close=function(){this.Al()},f.prototype.send=function(c){this.Il(c)},f.prototype.yl=function(){this.Rl()},f.prototype.Vl=function(c){this.gl(c)},f.prototype.pl=function(c){this.Pl(c)},f}(),dm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Sy=function(f){function c(h){var g=this;return(g=f.call(this,h)||this).forceLongPolling=h.forceLongPolling,g.W=h.W,g}return U.__extends(c,f),c.prototype.Nl=function(h,g,y,x){return new Promise(function(D,k){var V=new Pe.XhrIo;V.listenOnce(Pe.EventType.COMPLETE,function(){try{switch(V.getLastErrorCode()){case Pe.ErrorCode.NO_ERROR:var re=V.getResponseJson();me("Connection","XHR received:",JSON.stringify(re)),D(re);break;case Pe.ErrorCode.TIMEOUT:me("Connection",'RPC "'+h+'" timed out'),k(new q(z.DEADLINE_EXCEEDED,"Request time out"));break;case Pe.ErrorCode.HTTP_ERROR:var ge=V.getStatus();if(me("Connection",'RPC "'+h+'" failed with status:',ge,"response text:",V.getResponseText()),ge>0){var _e=V.getResponseJson().error;if(_e&&_e.status&&_e.message){var Re=(ht=_e.status.toLowerCase().replace("_","-"),Object.values(z).indexOf(ht)>=0?ht:z.UNKNOWN);k(new q(Re,_e.message))}else k(new q(z.UNKNOWN,"Server responded with status "+V.getStatus()))}else k(new q(z.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{me("Connection",'RPC "'+h+'" completed.')}var ht});var Z=JSON.stringify(x);V.send(g,"POST",Z,y,15)})},c.prototype.Pu=function(h,g){var y=[this.vl,"/","google.firestore.v1.Firestore","/",h,"/channel"],x=Pe.createWebChannelTransport(),D={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(D.initMessageHeaders,g),ce.isMobileCordova()||ce.isReactNative()||ce.isElectron()||ce.isIE()||ce.isUWP()||ce.isBrowserExtension()||(D.httpHeadersOverwriteParam="$httpHeaders");var k=y.join("");me("Connection","Creating WebChannel: "+k,D);var V=x.createWebChannel(k,D),Z=!1,re=!1,ge=new t_({Il:function(Re){re?me("Connection","Not sending because WebChannel is closed:",Re):(Z||(me("Connection","Opening WebChannel transport."),V.open(),Z=!0),me("Connection","WebChannel sending:",Re),V.send(Re))},Al:function(){return V.close()}}),_e=function(Re,et){V.listen(Re,function(ht){try{et(ht)}catch(an){setTimeout(function(){throw an},0)}})};return _e(Pe.WebChannel.EventType.OPEN,function(){re||me("Connection","WebChannel transport opened.")}),_e(Pe.WebChannel.EventType.CLOSE,function(){re||(re=!0,me("Connection","WebChannel transport closed"),ge.Vl())}),_e(Pe.WebChannel.EventType.ERROR,function(Re){re||(re=!0,st("Connection","WebChannel transport errored:",Re),ge.Vl(new q(z.UNAVAILABLE,"The operation could not be completed")))}),_e(Pe.WebChannel.EventType.MESSAGE,function(Re){var et;if(!re){var ht=Re.data[0];at(!!ht);var Xt=ht.error||(null===(et=ht[0])||void 0===et?void 0:et.error);if(Xt){me("Connection","WebChannel received error:",Xt);var Rn=Xt.status,Qn=function(bi){var hr=Jt[bi];if(void 0!==hr)return ki(hr)}(Rn),gi=Xt.message;void 0===Qn&&(Qn=z.INTERNAL,gi="Unknown error status: "+Rn+" with message "+Xt.message),re=!0,ge.Vl(new q(Qn,gi)),V.close()}else me("Connection","WebChannel received:",ht),ge.pl(ht)}}),setTimeout(function(){ge.yl()},0),ge},c}(function(){function f(c){this.bl=c,this.U=c.U,this.vl=(c.ssl?"https":"http")+"://"+c.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return f.prototype.$u=function(c,h,g,y){var x=this.Dl(c,h);me("RestConnection","Sending: ",x,g);var D={};return this.Cl(D,y),this.Nl(c,x,D,g).then(function(k){return me("RestConnection","Received: ",k),k},function(k){throw st("RestConnection",c+" failed with error: ",k,"url: ",x,"request:",g),k})},f.prototype.ku=function(c,h,g,y){return this.$u(c,h,g,y)},f.prototype.Cl=function(c,h){if(c["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",c["Content-Type"]="text/plain",h)for(var g in h.Kc)h.Kc.hasOwnProperty(g)&&(c[g]=h.Kc[g])},f.prototype.Dl=function(c,h){return this.vl+"/v1/"+h+":"+dm[c]},f}()),qs=function(){function f(){var c=this;this.Fl=function(){return c.xl()},this.$l=function(){return c.kl()},this.Ml=[],this.Ol()}return f.prototype.Zu=function(c){this.Ml.push(c)},f.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},f.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},f.prototype.xl=function(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var c=0,h=this.Ml;c<h.length;c++)(0,h[c])(0)},f.prototype.kl=function(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var c=0,h=this.Ml;c<h.length;c++)(0,h[c])(1)},f.Ln=function(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},f}(),Jf=function(){function f(){}return f.prototype.Zu=function(c){},f.prototype.Di=function(){},f}();function Yl(f){return new ea(f,!0)}var n_="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",fd=function(){function f(){}return f.prototype.initialize=function(c){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){switch(h.label){case 0:return this.Sh=this.Ll(c),this.persistence=this.Bl(c),[4,this.persistence.start()];case 1:return h.sent(),this.ql=this.Ul(c),this.ju=this.Ql(c),[2]}})})},f.prototype.Ul=function(c){return null},f.prototype.Ql=function(c){return h=this.persistence,g=new La,new ts(h,g,c.Wl);var h,g},f.prototype.Bl=function(c){if(c.persistenceSettings.jl)throw new q(z.FAILED_PRECONDITION,n_);return new dd(qh.ml)},f.prototype.Ll=function(c){return new ol},f.prototype.terminate=function(){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(c){switch(c.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return c.sent(),[4,this.persistence.Di()];case 2:return c.sent(),[2]}})})},f.prototype.clearPersistence=function(c,h){throw new q(z.FAILED_PRECONDITION,n_)},f}(),i_=function(f){function c(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(c,f),c.prototype.initialize=function(h){return U.__awaiter(this,void 0,void 0,function(){var g,y=this;return U.__generator(this,function(x){switch(x.label){case 0:return[4,f.prototype.initialize.call(this,h)];case 1:return x.sent(),g=this.Kl.fi,this.Sh instanceof Pc?(this.Sh.fi={er:Bt.bind(null,g),nr:ds.bind(null,g),sr:Ao.bind(null,g),pi:Sn.bind(null,g)},[4,this.Sh.start()]):[3,3];case 2:x.sent(),x.label=3;case 3:return[4,this.persistence.Xa(function(D){return U.__awaiter(y,void 0,void 0,function(){return U.__generator(this,function(k){switch(k.label){case 0:return[4,Ft(this.Kl.fi,D)];case 1:return k.sent(),this.ql&&(D&&!this.ql.Ei?this.ql.start(this.ju):D||this.ql.stop()),[2]}})})})];case 4:return x.sent(),[2]}})})},c.prototype.Ll=function(h){if(h.persistenceSettings.jl&&h.persistenceSettings.synchronizeTabs){var g=j();if(!Pc.Ln(g))throw new q(z.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var y=zl(h.bl.U,h.bl.persistenceKey);return new Pc(g,h.cs,y,h.clientId,h.Wl)}return new ol},c}(function(f){function c(h){var g=this;return(g=f.call(this)||this).Kl=h,g}return U.__extends(c,f),c.prototype.initialize=function(h){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return[4,f.prototype.initialize.call(this,h)];case 1:return g.sent(),[4,cc(this.ju)];case 2:return g.sent(),[4,this.Kl.initialize(this,h)];case 3:return g.sent(),[4,xu(this.Kl.fi)];case 4:return g.sent(),[4,Hs(this.Kl.ph)];case 5:return g.sent(),[2]}})})},c.prototype.Ul=function(h){return new qd(this.persistence.No.wo,h.cs)},c.prototype.Bl=function(h){var g=zl(h.bl.U,h.bl.persistenceKey),y=Yl(h.bl.U);return new ls(h.persistenceSettings.synchronizeTabs,g,h.clientId,Qr.ao(h.persistenceSettings.cacheSizeBytes),h.cs,j(),ee(),y,this.Sh,h.persistenceSettings.ka)},c.prototype.Ll=function(h){return new ol},c.prototype.clearPersistence=function(h,g){return function(y){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(D){switch(D.label){case 0:return Jo.Ln()?[4,Jo.delete(y+"main")]:[2,Promise.resolve()];case 1:return D.sent(),[2]}})})}(zl(h,g))},c}(fd)),Wh=function(){function f(){}return f.prototype.initialize=function(c,h){return U.__awaiter(this,void 0,void 0,function(){var g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.ju?[3,2]:(this.ju=c.ju,this.Sh=c.Sh,this.Ku=this.Gl(h),this.ph=this.zl(h),this.bh=this.Hl(h),this.fi=this.Yl(h),this.Sh.di=function(x){return ud(g.fi,x,1)},this.ph.Gu.Jl=be.bind(null,this.fi),[4,Kl(this.ph,this.fi.Uh)]);case 1:y.sent(),y.label=2;case 2:return[2]}})})},f.prototype.Hl=function(c){return new ei},f.prototype.Gl=function(c){var g=Yl(c.bl.U),y=new Sy(c.bl);return new id(c.credentials,y,g)},f.prototype.zl=function(c){var h,g,y,x,D,k=this;return h=this.ju,g=this.Ku,y=c.cs,x=function(V){return ud(k.fi,V,0)},D=qs.Ln()?new qs:new Jf,new Yf(h,g,y,x,D)},f.prototype.Yl=function(c){return V=!c.persistenceSettings.jl||!c.persistenceSettings.synchronizeTabs,Z=new hl(this.ju,this.ph,this.bh,this.Sh,c.Wl,c.Dh),V&&(Z.qh=!0),Z;var V,Z},f.prototype.terminate=function(){return jh(this.ph)},f}(),A=function(){function f(c){this.observer=c,this.muted=!1}return f.prototype.next=function(c){this.observer.next&&this.Xl(this.observer.next,c)},f.prototype.error=function(c){this.observer.error?this.Xl(this.observer.error,c):console.error("Uncaught Error in snapshot listener:",c)},f.prototype.Zl=function(){this.muted=!0},f.prototype.Xl=function(c,h){var g=this;this.muted||setTimeout(function(){g.muted||c(h)},0)},f}(),w=function(f){!function(h,g,y,x){if(!(g instanceof Array)||g.length<1)throw new q(z.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+fn(1,"element")+".")}(0,f);for(var c=0;c<f.length;++c)if(un("FieldPath","string",c,f[c]),0===f[c].length)throw new q(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new qe(f)},I=function(f){function c(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];return f.call(this,h)||this}return U.__extends(c,f),c.documentId=function(){return new c(qe.v().R())},c.prototype.isEqual=function(h){if(!(h instanceof c))throw Tn("isEqual","FieldPath",1,h);return this.t_.isEqual(h.t_)},c}(w),R=new RegExp("[~\\*/\\[\\]]"),$=function(f){this.e_=f},X=function(f){function c(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(c,f),c.prototype.n_=function(h){if(2!==h.s_)throw h.i_(1===h.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return h.We.push(h.path),null},c.prototype.isEqual=function(h){return h instanceof c},c}($);function Se(f,c,h){return new Iu({s_:3,r_:c.settings.r_,methodName:f.e_,o_:h},c.U,c.serializer,c.ignoreUndefinedProperties)}var Je=function(f){function c(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(c,f),c.prototype.n_=function(h){return new oa(h.path,new on)},c.prototype.isEqual=function(h){return h instanceof c},c}($),Rt=function(f){function c(h,g){var y=this;return(y=f.call(this,h)||this).a_=g,y}return U.__extends(c,f),c.prototype.n_=function(h){var g=Se(this,h,!0),y=this.a_.map(function(D){return Ql(D,g)}),x=new Gr(y);return new oa(h.path,x)},c.prototype.isEqual=function(h){return this===h},c}($),Nt=function(f){function c(h,g){var y=this;return(y=f.call(this,h)||this).a_=g,y}return U.__extends(c,f),c.prototype.n_=function(h){var g=Se(this,h,!0),y=this.a_.map(function(D){return Ql(D,g)}),x=new wr(y);return new oa(h.path,x)},c.prototype.isEqual=function(h){return this===h},c}($),pn=function(f){function c(h,g){var y=this;return(y=f.call(this,h)||this).c_=g,y}return U.__extends(c,f),c.prototype.n_=function(h){var g=new _s(h.serializer,Ns(h.serializer,this.c_));return new oa(h.path,g)},c.prototype.isEqual=function(h){return this===h},c}($),qn=function(){function f(c,h){if(ot("GeoPoint",arguments,2),un("GeoPoint","number",1,c),un("GeoPoint","number",2,h),!isFinite(c)||c<-90||c>90)throw new q(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+c);if(!isFinite(h)||h<-180||h>180)throw new q(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+h);this.u_=c,this.h_=h}return Object.defineProperty(f.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(c){return this.u_===c.u_&&this.h_===c.h_},f.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},f.prototype.Y=function(c){return Ut(this.u_,c.u_)||Ut(this.h_,c.h_)},f}(),eo=function(f){this.l_=f},pa=/^__.*__$/,to=function(f,c,h){this.__=f,this.f_=c,this.d_=h},ep=function(){function f(c,h,g){this.data=c,this.We=h,this.fieldTransforms=g}return f.prototype.w_=function(c,h){var g=[];return g.push(null!==this.We?new Wr(c,this.data,this.We,h):new tr(c,this.data,h)),this.fieldTransforms.length>0&&g.push(new Bi(c,this.fieldTransforms)),g},f}(),Zh=function(){function f(c,h,g){this.data=c,this.We=h,this.fieldTransforms=g}return f.prototype.w_=function(c,h){var g=[new Wr(c,this.data,this.We,h)];return this.fieldTransforms.length>0&&g.push(new Bi(c,this.fieldTransforms)),g},f}();function jc(f){switch(f){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}var Iu=function(){function f(c,h,g,y,x,D){this.settings=c,this.U=h,this.serializer=g,this.ignoreUndefinedProperties=y,void 0===x&&this.m_(),this.fieldTransforms=x||[],this.We=D||[]}return Object.defineProperty(f.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),f.prototype.T_=function(c){return new f(Object.assign(Object.assign({},this.settings),c),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},f.prototype.E_=function(c){var h,g=null===(h=this.path)||void 0===h?void 0:h.child(c),y=this.T_({path:g,o_:!1});return y.I_(c),y},f.prototype.A_=function(c){var h,g=null===(h=this.path)||void 0===h?void 0:h.child(c),y=this.T_({path:g,o_:!1});return y.m_(),y},f.prototype.R_=function(c){return this.T_({path:void 0,o_:!0})},f.prototype.i_=function(c){return tp(c,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},f.prototype.contains=function(c){return void 0!==this.We.find(function(h){return c.T(h)})||void 0!==this.fieldTransforms.find(function(h){return c.T(h.field)})},f.prototype.m_=function(){if(this.path)for(var c=0;c<this.path.length;c++)this.I_(this.path.get(c))},f.prototype.I_=function(c){if(0===c.length)throw this.i_("Document fields must not be empty");if(jc(this.s_)&&pa.test(c))throw this.i_('Document fields cannot begin and end with "__"')},f}(),_l=function(){function f(c,h,g){this.U=c,this.ignoreUndefinedProperties=h,this.serializer=g||Yl(c)}return f.prototype.P_=function(c,h,g,y){return void 0===y&&(y=!1),new Iu({s_:c,methodName:h,r_:g,path:qe.P(),o_:!1,g_:y},this.U,this.serializer,this.ignoreUndefinedProperties)},f}();function Kh(f,c,h,g,y,x){void 0===x&&(x={});var D=f.P_(x.merge||x.mergeFields?2:0,c,h,y);ah("Data must be an object, but it was:",D,g);var k,V,Z=sh(g,D);if(x.merge)k=new xr(D.We),V=D.fieldTransforms;else if(x.mergeFields){for(var re=[],ge=0,_e=x.mergeFields;ge<_e.length;ge++){var Re=_e[ge],et=void 0;if(Re instanceof w)et=Re.t_;else{if("string"!=typeof Re)throw ke();et=o_(c,Re,h)}if(!D.contains(et))throw new q(z.INVALID_ARGUMENT,"Field '"+et+"' is specified in your field mask but missing from your input data.");mw(re,et)||re.push(et)}k=new xr(re),V=D.fieldTransforms.filter(function(ht){return k.Ye(ht.field)})}else k=null,V=D.fieldTransforms;return new ep(new Or(Z),k,V)}function oh(f,c,h,g){var y=f.P_(1,c,h);ah("Data must be an object, but it was:",y,g);var x=[],D=new Kr;nt(g,function(V,Z){var re=o_(c,V,h),ge=y.A_(re);if(Z instanceof X||Z instanceof eo&&Z.l_ instanceof X)x.push(re);else{var _e=Ql(Z,ge);null!=_e&&(x.push(re),D.set(re,_e))}});var k=new xr(x);return new Zh(D.Xe(),k,y.fieldTransforms)}function Yh(f,c,h,g,y,x){var D=f.P_(1,c,h),k=[pd(c,g,h)],V=[y];if(x.length%2!=0)throw new q(z.INVALID_ARGUMENT,"Function "+c+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var Z=0;Z<x.length;Z+=2)k.push(pd(c,x[Z])),V.push(x[Z+1]);for(var re=[],ge=new Kr,_e=k.length-1;_e>=0;--_e)if(!mw(re,k[_e])){var Re=k[_e],et=V[_e],ht=D.A_(Re);if(et instanceof X||et instanceof eo&&et.l_ instanceof X)re.push(Re);else{var an=Ql(et,ht);null!=an&&(re.push(Re),ge.set(Re,an))}}var Xt=new xr(re);return new Zh(ge.Xe(),Xt,D.fieldTransforms)}function hm(f,c,h,g){return void 0===g&&(g=!1),Ql(h,f.P_(g?4:3,c))}function Ql(f,c){if(f instanceof eo&&(f=f.l_),r_(f))return ah("Unsupported field value:",c,f),sh(f,c);if(f instanceof $)return function(h,g){if(!jc(g.s_))throw g.i_(h.e_+"() can only be used with update() and set()");if(!g.path)throw g.i_(h.e_+"() is not currently supported inside arrays");var y=h.n_(g);y&&g.fieldTransforms.push(y)}(f,c),null;if(c.path&&c.We.push(c.path),f instanceof Array){if(c.settings.o_&&4!==c.s_)throw c.i_("Nested arrays are not supported");return function(h,g){for(var y=[],x=0,D=0,k=h;D<k.length;D++){var V=Ql(k[D],g.R_(x));null==V&&(V={nullValue:"NULL_VALUE"}),y.push(V),x++}return{arrayValue:{values:y}}}(f,c)}return function(h,g){if(null===h)return{nullValue:"NULL_VALUE"};if("number"==typeof h)return Ns(g.serializer,h);if("boolean"==typeof h)return{booleanValue:h};if("string"==typeof h)return{stringValue:h};if(h instanceof Date){var y=Qt.fromDate(h);return{timestampValue:ta(g.serializer,y)}}if(h instanceof Qt){var x=new Qt(h.seconds,1e3*Math.floor(h.nanoseconds/1e3));return{timestampValue:ta(g.serializer,x)}}if(h instanceof qn)return{geoPointValue:{latitude:h.latitude,longitude:h.longitude}};if(h instanceof wi)return{bytesValue:el(g.serializer,h.q)};if(h instanceof to){var D=g.U,k=h.__;if(!k.isEqual(D))throw g.i_("Document reference is for database "+k.projectId+"/"+k.database+" but should be for database "+D.projectId+"/"+D.database);return{referenceValue:vr(h.__||g.U,h.f_.path)}}if(void 0===h&&g.ignoreUndefinedProperties)return null;throw g.i_("Unsupported field value: "+gt(h))}(f,c)}function sh(f,c){var h={};return $e(f)?c.path&&c.path.length>0&&c.We.push(c.path):nt(f,function(g,y){var x=Ql(y,c.E_(g));null!=x&&(h[g]=x)}),{mapValue:{fields:h}}}function r_(f){return!("object"!=typeof f||null===f||f instanceof Array||f instanceof Date||f instanceof Qt||f instanceof qn||f instanceof wi||f instanceof to||f instanceof $)}function ah(f,c,h){if(!r_(h)||!ct(h)){var g=gt(h);throw c.i_("an object"===g?f+" a custom object":f+" "+g)}}function pd(f,c,h){if(c instanceof w)return c.t_;if("string"==typeof c)return o_(f,c);throw tp("Field path arguments must be of type string or FieldPath.",f,!1,void 0,h)}function o_(f,c,h){try{return function(y){if(y.search(R)>=0)throw new q(z.INVALID_ARGUMENT,"Invalid field path ("+y+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(I.bind.apply(I,U.__spreadArrays([void 0],y.split("."))))}catch{throw new q(z.INVALID_ARGUMENT,"Invalid field path ("+y+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(c).t_}catch(y){throw tp((g=y)instanceof Error?g.message:g.toString(),f,!1,void 0,h)}var g}function tp(f,c,h,g,y){var x=g&&!g.m(),D=void 0!==y,k="Function "+c+"() called with invalid data";h&&(k+=" (via `toFirestore()`)");var V="";return(x||D)&&(V+=" (found",x&&(V+=" in field "+g),D&&(V+=" in document "+y),V+=")"),new q(z.INVALID_ARGUMENT,(k+=". ")+f+V)}function mw(f,c){return f.some(function(h){return h.isEqual(c)})}var fm=function(){function f(c){this.Ku=c,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return f.prototype.v_=function(c){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:if(this.S_(),this.mutations.length>0)throw new q(z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(x,D){return U.__awaiter(this,void 0,void 0,function(){var k,V,Z,re,ge,_e;return U.__generator(this,function(Re){switch(Re.label){case 0:return k=Ze(x),V=gs(k.serializer)+"/documents",Z={documents:D.map(function(et){return na(k.serializer,et)})},[4,k.ku("BatchGetDocuments",V,Z)];case 1:return re=Re.sent(),ge=new Map,re.forEach(function(et){var an,Xt,ht=(an=k.serializer,"found"in(Xt=et)?function(Rn,Qn){at(!!Qn.found);var gi=Ur(Rn,Qn.found.name),bi=vo(Qn.found.updateTime),hr=new Or({mapValue:{fields:Qn.found.fields}});return new ri(gi,bi,hr,{})}(an,Xt):"missing"in Xt?function(Rn,Qn){at(!!Qn.missing),at(!!Qn.readTime);var gi=Ur(Rn,Qn.missing),bi=vo(Qn.readTime);return new Rr(gi,bi)}(an,Xt):ke());ge.set(ht.key.toString(),ht)}),_e=[],[2,(D.forEach(function(et){var ht=ge.get(et.toString());at(!!ht),_e.push(ht)}),_e)]}})})}(this.Ku,c)];case 1:return[2,((h=y.sent()).forEach(function(x){x instanceof Rr||x instanceof ri?g.D_(x):ke()}),h)]}})})},f.prototype.set=function(c,h){this.write(h.w_(c,this.Ge(c))),this.b_.add(c.toString())},f.prototype.update=function(c,h){try{this.write(h.w_(c,this.C_(c)))}catch(g){this.p_=g}this.b_.add(c.toString())},f.prototype.delete=function(c){this.write([new Ir(c,this.Ge(c))]),this.b_.add(c.toString())},f.prototype.commit=function(){return U.__awaiter(this,void 0,void 0,function(){var c,h=this;return U.__generator(this,function(g){switch(g.label){case 0:if(this.S_(),this.p_)throw this.p_;return c=this.y_,this.mutations.forEach(function(y){c.delete(y.key.toString())}),c.forEach(function(y,x){var D=Le.D(x);h.mutations.push(new nl(D,h.Ge(D)))}),[4,function(y,x){return U.__awaiter(this,void 0,void 0,function(){var D,k,V;return U.__generator(this,function(Z){switch(Z.label){case 0:return D=Ze(y),k=gs(D.serializer)+"/documents",V={writes:x.map(function(re){return Ni(D.serializer,re)})},[4,D.$u("Commit",k,V)];case 1:return Z.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return g.sent(),this.V_=!0,[2]}})})},f.prototype.D_=function(c){var h;if(c instanceof ri)h=c.version;else{if(!(c instanceof Rr))throw ke();h=zt.min()}var g=this.y_.get(c.key.toString());if(g){if(!h.isEqual(g))throw new q(z.ABORTED,"Document version changed between two reads.")}else this.y_.set(c.key.toString(),h)},f.prototype.Ge=function(c){var h=this.y_.get(c.toString());return!this.b_.has(c.toString())&&h?Fi.updateTime(h):Fi.ze()},f.prototype.C_=function(c){var h=this.y_.get(c.toString());if(!this.b_.has(c.toString())&&h){if(h.isEqual(zt.min()))throw new q(z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fi.updateTime(h)}return Fi.exists(!0)},f.prototype.write=function(c){this.S_(),this.mutations=this.mutations.concat(c)},f.prototype.S_=function(){},f}(),s_=function(){function f(c,h,g,y){this.cs=c,this.Ku=h,this.updateFunction=g,this.ls=y,this.N_=5,this.ys=new Ma(this.cs,"transaction_retry")}return f.prototype.run=function(){this.F_()},f.prototype.F_=function(){var c=this;this.ys.gn(function(){return U.__awaiter(c,void 0,void 0,function(){var h,g,y=this;return U.__generator(this,function(x){return h=new fm(this.Ku),(g=this.x_(h))&&g.then(function(D){y.cs.ws(function(){return h.commit().then(function(){y.ls.resolve(D)}).catch(function(k){y.k_(k)})})}).catch(function(D){y.k_(D)}),[2]})})})},f.prototype.x_=function(c){try{var h=this.updateFunction(c);return!Te(h)&&h.catch&&h.then?h:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(g){return this.ls.reject(g),null}},f.prototype.k_=function(c){var h=this;this.N_>0&&this.M_(c)?(this.N_-=1,this.cs.ws(function(){return h.F_(),Promise.resolve()})):this.ls.reject(c)},f.prototype.M_=function(c){if("FirebaseError"===c.name){var h=c.code;return"aborted"===h||"failed-precondition"===h||!zn(h)}return!1},f}(),pm=function(){function f(c,h){this.credentials=c,this.cs=h,this.clientId=Dn.k(),this.O_=new Bo}return f.prototype.start=function(c,h,g,y){var x=this;this.L_(),this.bl=c;var D=new Bo,k=!1;return this.credentials.Hc(function(V){if(!k)return k=!0,me("FirestoreClient","Initializing. user=",V.uid),x.B_(h,g,y,V,D).then(x.O_.resolve,x.O_.reject);x.cs.Cs(function(){return function(Z,re){return U.__awaiter(this,void 0,void 0,function(){var ge,_e;return U.__generator(this,function(Re){switch(Re.label){case 0:return(ge=Ze(Z)).cs.xs(),me("RemoteStore","RemoteStore received new credentials"),_e=us(ge),ge.Yu.add(3),[4,$l(ge)];case 1:return Re.sent(),_e&&ge.th.set("Unknown"),[4,ge.Gu.Jl(re)];case 2:return Re.sent(),ge.Yu.delete(3),[4,od(ge)];case 3:return Re.sent(),[2]}})})}(x.ph,V)})}),this.cs.ws(function(){return x.O_.promise}),D.promise},f.prototype.enableNetwork=function(){var c=this;return this.L_(),this.cs.enqueue(function(){return c.persistence.tc(!0),(g=Ze(c.ph)).Yu.delete(0),od(g);var g})},f.prototype.B_=function(c,h,g,y,x){return U.__awaiter(this,void 0,void 0,function(){var D,k,V=this;return U.__generator(this,function(Z){switch(Z.label){case 0:return Z.trys.push([0,3,,4]),[4,c.initialize(D={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:y,Dh:100,persistenceSettings:g})];case 1:return Z.sent(),[4,h.initialize(c,D)];case 2:return Z.sent(),this.persistence=c.persistence,this.Sh=c.Sh,this.ju=c.ju,this.ql=c.ql,this.Ku=h.Ku,this.ph=h.ph,this.fi=h.fi,this.q_=h.bh,this.q_.Us=ns.bind(null,this.fi),this.q_.js=sr.bind(null,this.fi),this.persistence.Za(function(){return U.__awaiter(V,void 0,void 0,function(){return U.__generator(this,function(re){switch(re.label){case 0:return[4,this.terminate()];case 1:return re.sent(),[2]}})})}),x.resolve(),[3,4];case 3:if(k=Z.sent(),x.reject(k),!this.U_(k))throw k;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+k),this.B_(new fd,new Wh,{jl:!1},y,x))];case 4:return[2]}})})},f.prototype.U_=function(c){return"FirebaseError"===c.name?c.code===z.FAILED_PRECONDITION||c.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code},f.prototype.L_=function(){if(this.cs.ps)throw new q(z.FAILED_PRECONDITION,"The client has already been terminated.")},f.prototype.disableNetwork=function(){var c=this;return this.L_(),this.cs.enqueue(function(){return c.persistence.tc(!1),function(h){return U.__awaiter(this,void 0,void 0,function(){var g;return U.__generator(this,function(y){switch(y.label){case 0:return(g=Ze(h)).Yu.add(0),[4,$l(g)];case 1:return y.sent(),g.th.set("Offline"),[2]}})})}(c.ph)})},f.prototype.terminate=function(){var c=this;this.cs.Ds();var h=new Bo;return this.cs.bs(function(){return U.__awaiter(c,void 0,void 0,function(){var g,y;return U.__generator(this,function(x){switch(x.label){case 0:return x.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,jh(this.ph)];case 1:return x.sent(),[4,this.Sh.Di()];case 2:return x.sent(),[4,this.persistence.Di()];case 3:return x.sent(),this.credentials.Yc(),h.resolve(),[3,5];case 4:return g=x.sent(),y=kt(g,"Failed to shutdown persistence"),h.reject(y),[3,5];case 5:return[2]}})})}),h.promise},f.prototype.waitForPendingWrites=function(){var c=this;this.L_();var h=new Bo;return this.cs.ws(function(){return function(g,y){return U.__awaiter(this,void 0,void 0,function(){var x,D,k,V,Z;return U.__generator(this,function(re){switch(re.label){case 0:us((x=Ze(g)).ph)||me("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),re.label=1;case 1:return re.trys.push([1,3,,4]),[4,(ge=x.ju,_e=Ze(ge),_e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(Re){return _e.Sr.qo(Re)}))];case 2:return-1===(D=re.sent())?[2,void y.resolve()]:((k=x.Lh.get(D)||[]).push(y),x.Lh.set(D,k),[3,4]);case 3:return V=re.sent(),Z=kt(V,"Initialization of waitForPendingWrites() operation failed"),y.reject(Z),[3,4];case 4:return[2]}var ge,_e})})}(c.fi,h)}),h.promise},f.prototype.listen=function(c,h,g){var y=this;this.L_();var x=new A(g),D=new rl(c,x,h);return this.cs.ws(function(){return lr(y.q_,D)}),function(){x.Zl(),y.cs.ws(function(){return Eo(y.q_,D)})}},f.prototype.Q_=function(c){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return y.sent(),h=new Bo,[2,(this.cs.ws(function(){return function(x,D,k){return U.__awaiter(this,void 0,void 0,function(){var V,Z,re;return U.__generator(this,function(ge){switch(ge.label){case 0:return ge.trys.push([0,2,,3]),[4,(_e=x,Re=D,et=Ze(_e),et.persistence.runTransaction("read document","readonly",function(ht){return et.Cc.Cr(ht,Re)}))];case 1:return(V=ge.sent())instanceof ri?k.resolve(V):V instanceof Rr?k.resolve(null):k.reject(new q(z.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Z=ge.sent(),re=kt(Z,"Failed to get document '"+D+" from cache"),k.reject(re),[3,3];case 3:return[2]}var _e,Re,et})})}(g.ju,c,h)}),h.promise)]}})})},f.prototype.W_=function(c,h){return void 0===h&&(h={}),U.__awaiter(this,void 0,void 0,function(){var g,y=this;return U.__generator(this,function(x){switch(x.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return x.sent(),g=new Bo,[2,(this.cs.ws(function(){return D=y.q_,k=y.cs,V=c,Z=h,re=g,ge=new A({next:function(Re){k.ws(function(){return Eo(D,_e)});var et=Re.docs.has(V);!et&&Re.fromCache?re.reject(new q(z.UNAVAILABLE,"Failed to get document because the client is offline.")):et&&Re.fromCache&&Z&&"server"===Z.source?re.reject(new q(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):re.resolve(Re)},error:function(Re){return re.reject(Re)}}),_e=new rl(Sa(V.path),ge,{includeMetadataChanges:!0,Xs:!0}),lr(D,_e);var D,k,V,Z,re,ge,_e}),g.promise)]}})})},f.prototype.j_=function(c){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return y.sent(),h=new Bo,[2,(this.cs.ws(function(){return function(x,D,k){return U.__awaiter(this,void 0,void 0,function(){var V,Z,re,ge,_e,Re;return U.__generator(this,function(et){switch(et.label){case 0:return et.trys.push([0,2,,3]),[4,rr(x,D,!0)];case 1:return V=et.sent(),Z=new Na(D,V.Fc),re=Z.wh(V.documents),ge=Z.yr(re,!1),k.resolve(ge.snapshot),[3,3];case 2:return _e=et.sent(),Re=kt(_e,"Failed to execute query '"+D+" against cache"),k.reject(Re),[3,3];case 3:return[2]}})})}(g.ju,c,h)}),h.promise)]}})})},f.prototype.K_=function(c,h){return void 0===h&&(h={}),U.__awaiter(this,void 0,void 0,function(){var g,y=this;return U.__generator(this,function(x){switch(x.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return x.sent(),g=new Bo,[2,(this.cs.ws(function(){return D=y.q_,k=y.cs,V=c,Z=h,re=g,ge=new A({next:function(Re){k.ws(function(){return Eo(D,_e)}),Re.fromCache&&"server"===Z.source?re.reject(new q(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):re.resolve(Re)},error:function(Re){return re.reject(Re)}}),_e=new rl(V,ge,{includeMetadataChanges:!0,Xs:!0}),lr(D,_e);var D,k,V,Z,re,ge,_e}),g.promise)]}})})},f.prototype.write=function(c){var h=this;this.L_();var g=new Bo;return this.cs.ws(function(){return function(y,x,D){return U.__awaiter(this,void 0,void 0,function(){var k,V,Z,re;return U.__generator(this,function(ge){switch(ge.label){case 0:k=xu(y),ge.label=1;case 1:return ge.trys.push([1,5,,6]),[4,(_e=k.ju,Re=x,ht=Ze(_e),an=Qt.now(),Xt=Re.reduce(function(Rn,Qn){return Rn.add(Qn.key)},Qe()),ht.persistence.runTransaction("Locally write mutations","readwrite",function(Rn){return ht.Cc.kr(Rn,Xt).next(function(Qn){et=Qn;for(var gi=[],bi=0,hr=Re;bi<hr.length;bi++){var Zs=hr[bi],zc=hu(Zs,et.get(Zs.key));null!=zc&&gi.push(new Wr(Zs.key,zc,di(zc.proto.mapValue),Fi.exists(!0)))}return ht.Sr.ko(Rn,an,gi,Re)})}).then(function(Rn){var Qn=Rn.lr(et);return{batchId:Rn.batchId,wr:Qn}}))];case 2:return V=ge.sent(),k.Sh.xi(V.batchId),function(_e,Re,et){var ht=_e.Oh[_e.currentUser.ti()];ht||(ht=new Hn(Ut)),ht=ht.ot(Re,et),_e.Oh[_e.currentUser.ti()]=ht}(k,V.batchId,D),[4,oe(k,V.wr)];case 3:return ge.sent(),[4,Hs(k.ph)];case 4:return ge.sent(),[3,6];case 5:return Z=ge.sent(),re=kt(Z,"Failed to persist write"),D.reject(re),[3,6];case 6:return[2]}var _e,Re,et,ht,an,Xt})})}(h.fi,c,g)}),g.promise},f.prototype.U=function(){return this.bl.U},f.prototype.G_=function(c){var h=this;this.L_();var g=new A(c);return this.cs.ws(function(){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){return[2,(x=this.q_,D=g,Ze(x).qs.add(D),void D.next())];var x,D})})}),function(){g.Zl(),h.cs.ws(function(){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){return[2,(x=this.q_,D=g,void Ze(x).qs.delete(D))];var x,D})})})}},Object.defineProperty(f.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),f.prototype.transaction=function(c){var h=this;this.L_();var g=new Bo;return this.cs.ws(function(){return new s_(h.cs,h.Ku,c,g).run(),Promise.resolve()}),g.promise},f}();function md(f){return function(c,h){if("object"!=typeof c||null===c)return!1;for(var g=c,y=0,x=["next","error","complete"];y<x.length;y++){var D=x[y];if(D in g&&"function"==typeof g[D])return!0}return!1}(f)}var np=function(){function f(c,h,g,y,x){this.U=c,this.timestampsInSnapshots=h,this.H_=g,this.Y_=y,this.J_=x}return f.prototype.X_=function(c){switch(Yi(c)){case 0:return null;case 1:return c.booleanValue;case 2:return ai(c.integerValue||c.doubleValue);case 3:return this.Z_(c.timestampValue);case 4:return this.tf(c);case 5:return c.stringValue;case 6:return this.J_(Ai(c.bytesValue));case 7:return this.ef(c.referenceValue);case 8:return this.nf(c.geoPointValue);case 9:return this.sf(c.arrayValue);case 10:return this.if(c.mapValue);default:throw ke()}},f.prototype.if=function(c){var h=this,g={};return nt(c.fields||{},function(y,x){g[y]=h.X_(x)}),g},f.prototype.nf=function(c){return new qn(ai(c.latitude),ai(c.longitude))},f.prototype.sf=function(c){var h=this;return(c.values||[]).map(function(g){return h.X_(g)})},f.prototype.tf=function(c){switch(this.H_){case"previous":var h=ii(c);return null==h?null:this.X_(h);case"estimate":return this.Z_(Hi(c));default:return null}},f.prototype.Z_=function(c){var h=Yo(c),g=new Qt(h.seconds,h.nanos);return this.timestampsInSnapshots?g:g.toDate()},f.prototype.ef=function(c){var h=he.g(c);at($n(h));var g=new sn(h.get(1),h.get(3)),y=new Le(h.u(5));return g.isEqual(this.U)||lt("Document "+y+" contains a document reference within a different database ("+g.projectId+"/"+g.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(y)},f}(),a_=Qr.ho,Tu=function(){function f(c){var h,g,y,x,D;if(void 0===c.host){if(void 0!==c.ssl)throw new q(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else fi("settings","non-empty string","host",c.host),this.host=c.host,De("settings","boolean","ssl",c.ssl),this.ssl=null===(h=c.ssl)||void 0===h||h;if(bt("settings",c,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),De("settings","object","credentials",c.credentials),this.credentials=c.credentials,De("settings","boolean","timestampsInSnapshots",c.timestampsInSnapshots),De("settings","boolean","ignoreUndefinedProperties",c.ignoreUndefinedProperties),!0===c.timestampsInSnapshots?lt("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===c.timestampsInSnapshots&&lt("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(g=c.timestampsInSnapshots)||void 0===g||g,this.ignoreUndefinedProperties=null!==(y=c.ignoreUndefinedProperties)&&void 0!==y&&y,De("settings","number","cacheSizeBytes",c.cacheSizeBytes),void 0===c.cacheSizeBytes)this.cacheSizeBytes=Qr._o;else{if(c.cacheSizeBytes!==a_&&c.cacheSizeBytes<Qr.lo)throw new q(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Qr.lo);this.cacheSizeBytes=c.cacheSizeBytes}De("settings","boolean","experimentalForceLongPolling",c.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(x=c.experimentalForceLongPolling)&&void 0!==x&&x,De("settings","boolean","experimentalAutoDetectLongPolling",c.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(D=c.experimentalAutoDetectLongPolling)&&void 0!==D&&D,function(k,V,Z,re){if(!0===V&&!0===re)throw new q(z.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,c.experimentalForceLongPolling,0,c.experimentalAutoDetectLongPolling)}return f.prototype.isEqual=function(c){return this.host===c.host&&this.ssl===c.ssl&&this.timestampsInSnapshots===c.timestampsInSnapshots&&this.credentials===c.credentials&&this.cacheSizeBytes===c.cacheSizeBytes&&this.experimentalForceLongPolling===c.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===c.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===c.ignoreUndefinedProperties},f}(),ch=function(){function f(c,h,g,y){var x=this;if(void 0===g&&(g=new fd),void 0===y&&(y=new Wh),this.rf=g,this.af=y,this.cf=null,this.uf=new Ye,this.INTERNAL={delete:function(){return U.__awaiter(x,void 0,void 0,function(){return U.__generator(this,function(V){switch(V.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return V.sent(),[2]}})})}},"object"==typeof c.options){var D=c;this.cf=D,this.__=f._f(D),this.ff=D.name,this.df=new or(h)}else{var k=c;if(!k.projectId)throw new q(z.INVALID_ARGUMENT,"Must provide projectId");this.__=new sn(k.projectId,k.database),this.ff="[DEFAULT]",this.df=new kr}this.wf=new Tu({})}return Object.defineProperty(f.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new _l(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),f.prototype.settings=function(c){ot("Firestore.settings",arguments,1),un("Firestore.settings","object",1,c),c.merge&&delete(c=Object.assign(Object.assign({},this.wf),c)).merge;var h=new Tu(c);if(this.lf&&!this.wf.isEqual(h))throw new q(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=h,void 0!==h.credentials&&(this.df=function(g){if(!g)return new kr;switch(g.type){case"gapi":var y=g.client;return at(!("object"!=typeof y||null===y||!y.auth||!y.auth.getAuthHeaderValueForFirstParty)),new Kf(y,g.sessionIndex||"0");case"provider":return g.client;default:throw new q(z.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(h.credentials))},f.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},f.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},f.prototype.enablePersistence=function(c){var h,g;if(this.lf)throw new q(z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var y=!1,x=!1;if(c&&(void 0!==c.experimentalTabSynchronization&&lt("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),y=null!==(g=null!==(h=c.synchronizeTabs)&&void 0!==h?h:c.experimentalTabSynchronization)&&void 0!==g&&g,x=!!c.experimentalForceOwningTab&&c.experimentalForceOwningTab,y&&x))throw new q(z.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:y,ka:x})},f.prototype.clearPersistence=function(){return U.__awaiter(this,void 0,void 0,function(){var c,h=this;return U.__generator(this,function(g){if(void 0!==this.lf&&!this.lf.z_)throw new q(z.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return c=new Bo,[2,(this.uf.bs(function(){return U.__awaiter(h,void 0,void 0,function(){var y;return U.__generator(this,function(x){switch(x.label){case 0:return x.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return x.sent(),c.resolve(),[3,3];case 2:return y=x.sent(),c.reject(y),[3,3];case 3:return[2]}})})}),c.promise)]})})},f.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(f.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),f.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},f.prototype.onSnapshotsInSync=function(c){return this.hf(),md(c)?this.lf.G_(c):(un("Firestore.onSnapshotsInSync","function",1,c),this.lf.G_({next:c}))},f.prototype.hf=function(){return this.lf||this.Ef(new fd,new Wh,{jl:!1}),this.lf},f.prototype.Af=function(){return new Po(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},f.prototype.Ef=function(c,h,g){var y=this.Af();return this.lf=new pm(this.df,this.uf),this.lf.start(y,c,h,g)},f._f=function(c){if(!Object.prototype.hasOwnProperty.call(c.options,"projectId"))throw new q(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var g=c.options.projectId;if(!g||"string"!=typeof g)throw new q(z.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new sn(g)},Object.defineProperty(f.prototype,"app",{get:function(){if(!this.cf)throw new q(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),f.prototype.collection=function(c){return ot("Firestore.collection",arguments,1),un("Firestore.collection","non-empty string",1,c),this.hf(),new Xl(he.g(c),this,null)},f.prototype.doc=function(c){return ot("Firestore.doc",arguments,1),un("Firestore.doc","non-empty string",1,c),this.hf(),vl.Rf(he.g(c),this,null)},f.prototype.collectionGroup=function(c){if(ot("Firestore.collectionGroup",arguments,1),un("Firestore.collectionGroup","non-empty string",1,c),c.indexOf("/")>=0)throw new q(z.INVALID_ARGUMENT,"Invalid collection ID '"+c+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new Xh((h=c,new vs(he.P(),h)),this,null);var h},f.prototype.runTransaction=function(c){var h=this;return ot("Firestore.runTransaction",arguments,1),un("Firestore.runTransaction","function",1,c),this.hf().transaction(function(g){return c(new mm(h,g))})},f.prototype.batch=function(){return this.hf(),new gw(this)},Object.defineProperty(f,"logLevel",{get:function(){switch(Ne()){case pe.LogLevel.DEBUG:return"debug";case pe.LogLevel.ERROR:return"error";case pe.LogLevel.SILENT:return"silent";case pe.LogLevel.WARN:return"warn";case pe.LogLevel.INFO:return"info";case pe.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),f.setLogLevel=function(c){ot("Firestore.setLogLevel",arguments,1),He("setLogLevel",["debug","error","silent","warn","info","verbose"],1,c),de.setLogLevel(c)},f.prototype.gf=function(){return this.wf.timestampsInSnapshots},f.prototype.Pf=function(){return this.wf},f}(),mm=function(){function f(c,h){this.yf=c,this.Vf=h}return f.prototype.get=function(c){var h=this;ot("Transaction.get",arguments,1);var g=Au("Transaction.get",c,this.yf);return this.Vf.v_([g.f_]).then(function(y){if(!y||1!==y.length)return ke();var x=y[0];if(x instanceof Rr)return new Qh(h.yf,g.f_,null,!1,!1,g.d_);if(x instanceof ri)return new Qh(h.yf,g.f_,x,!1,!1,g.d_);throw ke()})},f.prototype.set=function(c,h,g){nn("Transaction.set",arguments,2,3);var y=Au("Transaction.set",c,this.yf);g=Jh("Transaction.set",g);var x=Ws(y.d_,h,g),D=Kh(this.yf.mf,"Transaction.set",y.f_,x,null!==y.d_,g);return this.Vf.set(y.f_,D),this},f.prototype.update=function(c,h,g){for(var y,x,D=[],k=3;k<arguments.length;k++)D[k-3]=arguments[k];return"string"==typeof h||h instanceof I?(Kt("Transaction.update",arguments,3),y=Au("Transaction.update",c,this.yf),x=Yh(this.yf.mf,"Transaction.update",y.f_,h,g,D)):(ot("Transaction.update",arguments,2),y=Au("Transaction.update",c,this.yf),x=oh(this.yf.mf,"Transaction.update",y.f_,h)),this.Vf.update(y.f_,x),this},f.prototype.delete=function(c){ot("Transaction.delete",arguments,1);var h=Au("Transaction.delete",c,this.yf);return this.Vf.delete(h.f_),this},f}(),gw=function(){function f(c){this.yf=c,this.pf=[],this.bf=!1}return f.prototype.set=function(c,h,g){nn("WriteBatch.set",arguments,2,3),this.vf();var y=Au("WriteBatch.set",c,this.yf);g=Jh("WriteBatch.set",g);var x=Ws(y.d_,h,g),D=Kh(this.yf.mf,"WriteBatch.set",y.f_,x,null!==y.d_,g);return this.pf=this.pf.concat(D.w_(y.f_,Fi.ze())),this},f.prototype.update=function(c,h,g){for(var y,x,D=[],k=3;k<arguments.length;k++)D[k-3]=arguments[k];return this.vf(),"string"==typeof h||h instanceof I?(Kt("WriteBatch.update",arguments,3),y=Au("WriteBatch.update",c,this.yf),x=Yh(this.yf.mf,"WriteBatch.update",y.f_,h,g,D)):(ot("WriteBatch.update",arguments,2),y=Au("WriteBatch.update",c,this.yf),x=oh(this.yf.mf,"WriteBatch.update",y.f_,h)),this.pf=this.pf.concat(x.w_(y.f_,Fi.exists(!0))),this},f.prototype.delete=function(c){ot("WriteBatch.delete",arguments,1),this.vf();var h=Au("WriteBatch.delete",c,this.yf);return this.pf=this.pf.concat(new Ir(h.f_,Fi.ze())),this},f.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},f.prototype.vf=function(){if(this.bf)throw new q(z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},f}(),vl=function(f){function c(h,g,y){var x=this;return(x=f.call(this,g.__,h,y)||this).f_=h,x.firestore=g,x.d_=y,x.lf=x.firestore.hf(),x}return U.__extends(c,f),c.Rf=function(h,g,y){if(h.length%2!=0)throw new q(z.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+h.R()+" has "+h.length);return new c(new Le(h),g,y)},Object.defineProperty(c.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"parent",{get:function(){return new Xl(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),c.prototype.collection=function(h){if(ot("DocumentReference.collection",arguments,1),un("DocumentReference.collection","non-empty string",1,h),!h)throw new q(z.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var g=he.g(h);return new Xl(this.f_.path.child(g),this.firestore,null)},c.prototype.isEqual=function(h){if(!(h instanceof c))throw Tn("isEqual","DocumentReference",1,h);return this.firestore===h.firestore&&this.f_.isEqual(h.f_)&&this.d_===h.d_},c.prototype.set=function(h,g){nn("DocumentReference.set",arguments,1,2),g=Jh("DocumentReference.set",g);var y=Ws(this.d_,h,g),x=Kh(this.firestore.mf,"DocumentReference.set",this.f_,y,null!==this.d_,g);return this.lf.write(x.w_(this.f_,Fi.ze()))},c.prototype.update=function(h,g){for(var y,x=[],D=2;D<arguments.length;D++)x[D-2]=arguments[D];return"string"==typeof h||h instanceof I?(Kt("DocumentReference.update",arguments,2),y=Yh(this.firestore.mf,"DocumentReference.update",this.f_,h,g,x)):(ot("DocumentReference.update",arguments,1),y=oh(this.firestore.mf,"DocumentReference.update",this.f_,h)),this.lf.write(y.w_(this.f_,Fi.exists(!0)))},c.prototype.delete=function(){return ot("DocumentReference.delete",arguments,0),this.lf.write([new Ir(this.f_,Fi.ze())])},c.prototype.onSnapshot=function(){for(var h,g,y,x=this,D=[],k=0;k<arguments.length;k++)D[k]=arguments[k];nn("DocumentReference.onSnapshot",arguments,1,4);var V={includeMetadataChanges:!1},Z=0;"object"!=typeof D[Z]||md(D[Z])||(bt("DocumentReference.onSnapshot",V=D[Z],["includeMetadataChanges"]),De("DocumentReference.onSnapshot","boolean","includeMetadataChanges",V.includeMetadataChanges),Z++);var re={includeMetadataChanges:V.includeMetadataChanges};if(md(D[Z])){var ge=D[Z];D[Z]=null===(h=ge.next)||void 0===h?void 0:h.bind(ge),D[Z+1]=null===(g=ge.error)||void 0===g?void 0:g.bind(ge),D[Z+2]=null===(y=ge.complete)||void 0===y?void 0:y.bind(ge)}else un("DocumentReference.onSnapshot","function",Z,D[Z]),rn("DocumentReference.onSnapshot","function",Z+1,D[Z+1]),rn("DocumentReference.onSnapshot","function",Z+2,D[Z+2]);var _e={next:function(Re){D[Z]&&D[Z](x.Sf(Re))},error:D[Z+1],complete:D[Z+2]};return this.lf.listen(Sa(this.f_.path),re,_e)},c.prototype.get=function(h){var g=this;nn("DocumentReference.get",arguments,0,1),_w("DocumentReference.get",h);var y=this.firestore.hf();return h&&"cache"===h.source?y.Q_(this.f_).then(function(x){return new Qh(g.firestore,g.f_,x,!0,x instanceof ri&&x.Je,g.d_)}):y.W_(this.f_,h).then(function(x){return g.Sf(x)})},c.prototype.withConverter=function(h){return new c(this.f_,this.firestore,h)},c.prototype.Sf=function(h){var g=h.docs.get(this.f_);return new Qh(this.firestore,this.f_,g,h.fromCache,h.hasPendingWrites,this.d_)},c}(to),Ay=function(){function f(c,h){this.hasPendingWrites=c,this.fromCache=h}return f.prototype.isEqual=function(c){return this.hasPendingWrites===c.hasPendingWrites&&this.fromCache===c.fromCache},f}(),Qh=function(){function f(c,h,g,y,x,D){this.yf=c,this.f_=h,this.Df=g,this.Cf=y,this.Nf=x,this.d_=D}return f.prototype.data=function(c){var h=this;if(nn("DocumentSnapshot.data",arguments,0,1),c=uh("DocumentSnapshot.data",c),this.Df){if(this.d_){var g=new gm(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(g,c)}return new np(this.yf.__,this.yf.gf(),c.serverTimestamps||"none",function(y){return new vl(y,h.yf,null)},function(y){return new Vi(y)}).X_(this.Df.rn())}},f.prototype.get=function(c,h){var g=this;if(nn("DocumentSnapshot.get",arguments,1,2),h=uh("DocumentSnapshot.get",h),this.Df){var y=this.Df.data().field(pd("DocumentSnapshot.get",c,this.f_));if(null!==y)return new np(this.yf.__,this.yf.gf(),h.serverTimestamps||"none",function(x){return new vl(x,g.yf,g.d_)},function(x){return new Vi(x)}).X_(y)}},Object.defineProperty(f.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ref",{get:function(){return new vl(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"metadata",{get:function(){return new Ay(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(c){if(!(c instanceof f))throw Tn("isEqual","DocumentSnapshot",1,c);return this.yf===c.yf&&this.Cf===c.Cf&&this.f_.isEqual(c.f_)&&(null===this.Df?null===c.Df:this.Df.isEqual(c.Df))&&this.d_===c.d_},f}(),gm=function(f){function c(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(c,f),c.prototype.data=function(h){return f.prototype.data.call(this,h)},c}(Qh);function Du(f,c,h){if("string"==typeof h){if(""===h)throw new q(z.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!fu(c)&&-1!==h.indexOf("/"))throw new q(z.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+h+"' contains a '/' character.");var g=c.path.child(he.g(h));if(!Le.F(g))throw new q(z.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+g+"' is not because it has an odd number of segments ("+g.length+").");return _o(f,new Le(g))}if(h instanceof to)return _o(f,h.f_);throw new q(z.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+gt(h)+".")}function lh(f,c){if(!Array.isArray(f)||0===f.length)throw new q(z.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+c.toString()+"' filters.");if(f.length>10)throw new q(z.INVALID_ARGUMENT,"Invalid Query. '"+c.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===c||"array-contains-any"===c){if(f.indexOf(null)>=0)throw new q(z.INVALID_ARGUMENT,"Invalid Query. '"+c.toString()+"' filters cannot contain 'null' in the value array.");if(f.filter(function(h){return Number.isNaN(h)}).length>0)throw new q(z.INVALID_ARGUMENT,"Invalid Query. '"+c.toString()+"' filters cannot contain 'NaN' in the value array.")}}function c_(f,c,h){if(!h.isEqual(c))throw new q(z.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+c.toString()+"' and so you must also use '"+c.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+h.toString()+"' instead.")}function Su(f){if(Ja(f)&&0===f.on.length)throw new q(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Xh=function(){function f(c,h,g){this.Ff=c,this.firestore=h,this.d_=g}return f.prototype.where=function(c,h,g){ot("Query.where",arguments,3),At("Query.where",3,g);var k,Z,y=He("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,h),x=pd("Query.where",c),D=function yl(f,c,h,g,y,x,D){var k;if(y.p()){if("array-contains"===x||"array-contains-any"===x)throw new q(z.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+x+"' queries on FieldPath.documentId().");if("in"===x||"not-in"===x){lh(D,x);for(var V=[],Z=0,re=D;Z<re.length;Z++)V.push(Du(g,f,re[Z]));k={arrayValue:{values:V}}}else k=Du(g,f,D)}else"in"!==x&&"not-in"!==x&&"array-contains-any"!==x||lh(D,x),k=hm(h,c,D,"in"===x||"not-in"===x);var _e=Pr.create(y,x,k);return function(Re,et){if(et.hn()){var ht=mi(Re);if(null!==ht&&!ht.isEqual(et.field))throw new q(z.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+ht.toString()+"' and '"+et.field.toString()+"'");var an=Nl(Re);null!==an&&c_(0,et.field,an)}var Xt=function(Rn,Qn){for(var gi=0,bi=Rn.filters;gi<bi.length;gi++){var hr=bi[gi];if(Qn.indexOf(hr.op)>=0)return hr.op}return null}(Re,function(Rn){switch(Rn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(et.op));if(null!==Xt)throw new q(z.INVALID_ARGUMENT,Xt===et.op?"Invalid query. You cannot use more than one '"+et.op.toString()+"' filter.":"Invalid query. You cannot use '"+et.op.toString()+"' filters with '"+Xt.toString()+"' filters.")}(f,_e),_e}(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,x,y,g);return new f((Z=(k=this.Ff).filters.concat([D]),new vs(k.path,k.collectionGroup,k.on.slice(),Z,k.limit,k.an,k.startAt,k.endAt)),this.firestore,this.d_)},f.prototype.orderBy=function(c,h){var g;if(nn("Query.orderBy",arguments,1,2),rn("Query.orderBy","non-empty string",2,h),void 0===h||"asc"===h)g="asc";else{if("desc"!==h)throw new q(z.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+h+"', expected 'asc' or 'desc'.");g="desc"}var D,V,y=pd("Query.orderBy",c),x=function lc(f,c,h){if(null!==f.startAt)throw new q(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==f.endAt)throw new q(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var g=new ua(c,h);return function(y,x){if(null===Nl(y)){var D=mi(y);null!==D&&c_(0,D,x.field)}}(f,g),g}(this.Ff,y,g);return new f((V=(D=this.Ff).on.concat([x]),new vs(D.path,D.collectionGroup,V,D.filters.slice(),D.limit,D.an,D.startAt,D.endAt)),this.firestore,this.d_)},f.prototype.limit=function(c){return ot("Query.limit",arguments,1),un("Query.limit","number",1,c),dn("Query.limit",1,c),new f($d(this.Ff,c,"F"),this.firestore,this.d_)},f.prototype.limitToLast=function(c){return ot("Query.limitToLast",arguments,1),un("Query.limitToLast","number",1,c),dn("Query.limitToLast",1,c),new f($d(this.Ff,c,"L"),this.firestore,this.d_)},f.prototype.startAt=function(c){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Kt("Query.startAt",arguments,1);var y=this.xf("Query.startAt",c,h,!0);return new f(ec(this.Ff,y),this.firestore,this.d_)},f.prototype.startAfter=function(c){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Kt("Query.startAfter",arguments,1);var y=this.xf("Query.startAfter",c,h,!1);return new f(ec(this.Ff,y),this.firestore,this.d_)},f.prototype.endBefore=function(c){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Kt("Query.endBefore",arguments,1);var y=this.xf("Query.endBefore",c,h,!0);return new f(yo(this.Ff,y),this.firestore,this.d_)},f.prototype.endAt=function(c){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Kt("Query.endAt",arguments,1);var y=this.xf("Query.endAt",c,h,!1);return new f(yo(this.Ff,y),this.firestore,this.d_)},f.prototype.isEqual=function(c){if(!(c instanceof f))throw Tn("isEqual","Query",1,c);return this.firestore===c.firestore&&tc(this.Ff,c.Ff)&&this.d_===c.d_},f.prototype.withConverter=function(c){return new f(this.Ff,this.firestore,c)},f.prototype.xf=function(c,h,g,y){if(At(c,1,h),h instanceof Qh)return ot(c,U.__spreadArrays([h],g),1),function(D,k,V,Z,re){if(!Z)throw new q(z.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+V+"().");for(var ge=[],_e=0,Re=Dc(D);_e<Re.length;_e++){var et=Re[_e];if(et.field.p())ge.push(_o(k,Z.key));else{var ht=Z.field(et.field);if(On(ht))throw new q(z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+et.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ht){var an=et.field.R();throw new q(z.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+an+"' (used as the orderBy) does not exist.")}ge.push(ht)}}return new bo(ge,re)}(this.Ff,this.firestore.__,c,h.Df,y);var x=[h].concat(g);return function(D,k,V,Z,re,ge){var _e=D.on;if(re.length>_e.length)throw new q(z.INVALID_ARGUMENT,"Too many arguments provided to "+Z+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var Re=[],et=0;et<re.length;et++){var ht=re[et];if(_e[et].field.p()){if("string"!=typeof ht)throw new q(z.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+Z+"(), but got a "+typeof ht);if(!fu(D)&&-1!==ht.indexOf("/"))throw new q(z.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+Z+"() must be a plain document ID, but '"+ht+"' contains a slash.");var an=D.path.child(he.g(ht));if(!Le.F(an))throw new q(z.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+Z+"() must result in a valid document path, but '"+an+"' is not because it contains an odd number of segments.");var Xt=new Le(an);Re.push(_o(k,Xt))}else{var Rn=hm(V,Z,ht);Re.push(Rn)}}return new bo(Re,ge)}(this.Ff,this.firestore.__,this.firestore.mf,c,x,y)},f.prototype.onSnapshot=function(){for(var c,h,g,y=this,x=[],D=0;D<arguments.length;D++)x[D]=arguments[D];nn("Query.onSnapshot",arguments,1,4);var k={},V=0;if("object"!=typeof x[V]||md(x[V])||(bt("Query.onSnapshot",k=x[V],["includeMetadataChanges"]),De("Query.onSnapshot","boolean","includeMetadataChanges",k.includeMetadataChanges),V++),md(x[V])){var Z=x[V];x[V]=null===(c=Z.next)||void 0===c?void 0:c.bind(Z),x[V+1]=null===(h=Z.error)||void 0===h?void 0:h.bind(Z),x[V+2]=null===(g=Z.complete)||void 0===g?void 0:g.bind(Z)}else un("Query.onSnapshot","function",V,x[V]),rn("Query.onSnapshot","function",V+1,x[V+1]),rn("Query.onSnapshot","function",V+2,x[V+2]);var re={next:function(ge){x[V]&&x[V](new gd(y.firestore,y.Ff,ge,y.d_))},error:x[V+1],complete:x[V+2]};return Su(this.Ff),this.firestore.hf().listen(this.Ff,k,re)},f.prototype.get=function(c){var h=this;nn("Query.get",arguments,0,1),_w("Query.get",c),Su(this.Ff);var g=this.firestore.hf();return(c&&"cache"===c.source?g.j_(this.Ff):g.K_(this.Ff,c)).then(function(y){return new gd(h.firestore,h.Ff,y,h.d_)})},f}(),gd=function(){function f(c,h,g,y){this.yf=c,this.$f=h,this.kf=g,this.d_=y,this.Mf=null,this.Of=null,this.metadata=new Ay(g.hasPendingWrites,g.fromCache)}return Object.defineProperty(f.prototype,"docs",{get:function(){var c=[];return this.forEach(function(h){return c.push(h)}),c},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),f.prototype.forEach=function(c,h){var g=this;nn("QuerySnapshot.forEach",arguments,1,2),un("QuerySnapshot.forEach","function",1,c),this.kf.docs.forEach(function(y){c.call(h,g.Lf(y,g.metadata.fromCache,g.kf.Wt.has(y.key)))})},Object.defineProperty(f.prototype,"query",{get:function(){return new Xh(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),f.prototype.docChanges=function(c){c&&(bt("QuerySnapshot.docChanges",c,["includeMetadataChanges"]),De("QuerySnapshot.docChanges","boolean","includeMetadataChanges",c.includeMetadataChanges));var h=!(!c||!c.includeMetadataChanges);if(h&&this.kf.Kt)throw new q(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===h||(this.Mf=function(g,y,x){if(g.Qt.m()){var D=0;return g.docChanges.map(function(V){return{type:"added",doc:x(V.doc,g.fromCache,g.Wt.has(V.doc.key)),oldIndex:-1,newIndex:D++}})}var k=g.Qt;return g.docChanges.filter(function(V){return y||3!==V.type}).map(function(V){var Z=x(V.doc,g.fromCache,g.Wt.has(V.doc.key)),re=-1,ge=-1;return 0!==V.type&&(re=k.indexOf(V.doc.key),k=k.delete(V.doc.key)),1!==V.type&&(ge=(k=k.add(V.doc)).indexOf(V.doc.key)),{type:vw(V.type),doc:Z,oldIndex:re,newIndex:ge}})}(this.kf,h,this.Lf.bind(this)),this.Of=h),this.Mf},f.prototype.isEqual=function(c){if(!(c instanceof f))throw Tn("isEqual","QuerySnapshot",1,c);return this.yf===c.yf&&tc(this.$f,c.$f)&&this.kf.isEqual(c.kf)&&this.d_===c.d_},f.prototype.Lf=function(c,h,g){return new gm(this.yf,c.key,c,h,g,this.d_)},f}(),Xl=function(f){function c(h,g,y){var x=this;if((x=f.call(this,Sa(h),g,y)||this).Bf=h,h.length%2!=1)throw new q(z.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+h.R()+" has "+h.length);return x}return U.__extends(c,f),Object.defineProperty(c.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"parent",{get:function(){var h=this.Ff.path.h();return h.m()?null:new vl(new Le(h),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),c.prototype.doc=function(h){nn("CollectionReference.doc",arguments,0,1),0===arguments.length&&(h=Dn.k()),un("CollectionReference.doc","non-empty string",1,h);var g=he.g(h);return vl.Rf(this.Ff.path.child(g),this.firestore,this.d_)},c.prototype.add=function(h){ot("CollectionReference.add",arguments,1);var g=this.d_?this.d_.toFirestore(h):h;un("CollectionReference.add","object",1,g);var y=this.doc();return new vl(y.f_,this.firestore,null).set(g).then(function(){return y})},c.prototype.withConverter=function(h){return new c(this.Bf,this.firestore,h)},c}(Xh);function Jh(f,c){if(void 0===c)return{merge:!1};if(bt(f,c,["merge","mergeFields"]),De(f,"boolean","merge",c.merge),void 0!==(x=c.mergeFields)&&function(k,V,Z,re,ge){if(!(re instanceof Array))throw new q(z.INVALID_ARGUMENT,"Function "+k+"() requires its "+V+" option to be an array, but it was: "+gt(re));for(var _e=0;_e<re.length;++_e)if(!ge(re[_e]))throw new q(z.INVALID_ARGUMENT,"Function "+k+"() requires all "+V+" elements to be a string or a FieldPath, but the value at index "+_e+" was: "+gt(re[_e]))}(f,"mergeFields",0,x,function(h){return"string"==typeof h||h instanceof I}),void 0!==c.mergeFields&&void 0!==c.merge)throw new q(z.INVALID_ARGUMENT,"Invalid options passed to function "+f+'(): You cannot specify both "merge" and "mergeFields".');var x;return c}function uh(f,c){return void 0===c?{}:(bt(f,c,["serverTimestamps"]),Ee(f,0,"serverTimestamps",c.serverTimestamps,["estimate","previous","none"]),c)}function _w(f,c){rn(f,"object",1,c),c&&(bt(f,c,["source"]),Ee(f,0,"source",c.source,["default","server","cache"]))}function Au(f,c,h){if(c instanceof to){if(c.firestore!==h)throw new q(z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return c}throw Tn(f,"DocumentReference",1,c)}function vw(f){switch(f){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}function Ws(f,c,h){return f?h&&(h.merge||h.mergeFields)?f.toFirestore(c,h):f.toFirestore(c):c}var _m=function(f){function c(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(c,f),c.serverTimestamp=function(){Et("FieldValue.serverTimestamp",arguments);var h=new Je("serverTimestamp");return h.e_="FieldValue.serverTimestamp",new c(h)},c.delete=function(){Et("FieldValue.delete",arguments);var h=new X("deleteField");return h.e_="FieldValue.delete",new c(h)},c.arrayUnion=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];Kt("FieldValue.arrayUnion",arguments,1);var y=function(){for(var x=[],D=0;D<arguments.length;D++)x[D]=arguments[D];return Kt("arrayUnion()",arguments,1),new Rt("arrayUnion",x)}.apply(void 0,h);return y.e_="FieldValue.arrayUnion",new c(y)},c.arrayRemove=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];Kt("FieldValue.arrayRemove",arguments,1);var y=function(){for(var x=[],D=0;D<arguments.length;D++)x[D]=arguments[D];return Kt("arrayRemove()",arguments,1),new Nt("arrayRemove",x)}.apply(void 0,h);return y.e_="FieldValue.arrayRemove",new c(y)},c.increment=function(h){un("FieldValue.increment","number",1,h),ot("FieldValue.increment",arguments,1);var g=new pn("increment",h);return g.e_="FieldValue.increment",new c(g)},c.prototype.isEqual=function(h){return this.l_.isEqual(h.l_)},c}(eo),dT={Firestore:ch,GeoPoint:qn,Timestamp:Qt,Blob:Vi,Transaction:mm,WriteBatch:gw,DocumentReference:vl,DocumentSnapshot:Qh,Query:Xh,QueryDocumentSnapshot:gm,QuerySnapshot:gd,CollectionReference:Xl,FieldPath:I,FieldValue:_m,setLogLevel:ch.setLogLevel,CACHE_SIZE_UNLIMITED:a_};!function yw(f){f.INTERNAL.registerComponent(new Oe.Component("firestore",function(g){return y=g.getProvider("app").getImmediate(),x=g.getProvider("auth-internal"),D=new Wh,k=new i_(D),new ch(y,x,k,D);var y,x,D,k},"PUBLIC").setServiceProps(Object.assign({},dT))),f.registerVersion("@firebase/firestore","1.18.0")}(Ve.default)},8836:(en,Ae,Q)=>{function l(){for(var de=0,Ne=0,me=arguments.length;Ne<me;Ne++)de+=arguments[Ne].length;var lt=Array(de),st=0;for(Ne=0;Ne<me;Ne++)for(var mt=arguments[Ne],ke=0,at=mt.length;ke<at;ke++,st++)lt[st]=mt[ke];return lt}Q.r(Ae),Q.d(Ae,{LogLevel:()=>pe,Logger:()=>Ve,setLogLevel:()=>z,setUserLogHandler:()=>q});var U,K=[],pe=function(de){return de[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",de}(pe||{}),ce={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},Pe=pe.INFO,Oe=((U={})[pe.DEBUG]="log",U[pe.VERBOSE]="log",U[pe.INFO]="info",U[pe.WARN]="warn",U[pe.ERROR]="error",U),ut=function(de,Ne){for(var me=[],lt=2;lt<arguments.length;lt++)me[lt-2]=arguments[lt];if(!(Ne<de.logLevel)){var st=(new Date).toISOString(),mt=Oe[Ne];if(!mt)throw new Error("Attempted to log a message with an invalid logType (value: "+Ne+")");console[mt].apply(console,l(["["+st+"]  "+de.name+":"],me))}},Ve=function(){function de(Ne){this.name=Ne,this._logLevel=Pe,this._logHandler=ut,this._userLogHandler=null,K.push(this)}return Object.defineProperty(de.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Ne){if(!(Ne in pe))throw new TypeError('Invalid value "'+Ne+'" assigned to `logLevel`');this._logLevel=Ne},enumerable:!1,configurable:!0}),de.prototype.setLogLevel=function(Ne){this._logLevel="string"==typeof Ne?ce[Ne]:Ne},Object.defineProperty(de.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Ne){if("function"!=typeof Ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ne},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Ne){this._userLogHandler=Ne},enumerable:!1,configurable:!0}),de.prototype.debug=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,l([this,pe.DEBUG],Ne)),this._logHandler.apply(this,l([this,pe.DEBUG],Ne))},de.prototype.log=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,l([this,pe.VERBOSE],Ne)),this._logHandler.apply(this,l([this,pe.VERBOSE],Ne))},de.prototype.info=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,l([this,pe.INFO],Ne)),this._logHandler.apply(this,l([this,pe.INFO],Ne))},de.prototype.warn=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,l([this,pe.WARN],Ne)),this._logHandler.apply(this,l([this,pe.WARN],Ne))},de.prototype.error=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,l([this,pe.ERROR],Ne)),this._logHandler.apply(this,l([this,pe.ERROR],Ne))},de}();function z(de){K.forEach(function(Ne){Ne.setLogLevel(de)})}function q(de,Ne){for(var me=function(ke){var at=null;Ne&&Ne.level&&(at=ce[Ne.level]),ke.userLogHandler=null===de?null:function(Ze,Ce){for(var nt=[],$e=2;$e<arguments.length;$e++)nt[$e-2]=arguments[$e];var it=nt.map(function(he){if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch{return null}}).filter(function(he){return he}).join(" ");Ce>=(at??Ze.logLevel)&&de({level:pe[Ce].toLowerCase(),message:it,args:nt,type:Ze.name})}},lt=0,st=K;lt<st.length;lt++)me(st[lt])}},3661:(en,Ae,Q)=>{Object.defineProperty(Ae,"__esModule",{value:!0});var l=Q(8005),U={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},K=function(Te,we){if(!Te)throw pe(we)},pe=function(Te){return new Error("Firebase Database ("+U.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Te)},ce=function(Te){for(var we=[],xe=0,Ge=0;Ge<Te.length;Ge++){var Fe=Te.charCodeAt(Ge);Fe<128?we[xe++]=Fe:Fe<2048?(we[xe++]=Fe>>6|192,we[xe++]=63&Fe|128):55296==(64512&Fe)&&Ge+1<Te.length&&56320==(64512&Te.charCodeAt(Ge+1))?(Fe=65536+((1023&Fe)<<10)+(1023&Te.charCodeAt(++Ge)),we[xe++]=Fe>>18|240,we[xe++]=Fe>>12&63|128,we[xe++]=Fe>>6&63|128,we[xe++]=63&Fe|128):(we[xe++]=Fe>>12|224,we[xe++]=Fe>>6&63|128,we[xe++]=63&Fe|128)}return we},Oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Te,we){if(!Array.isArray(Te))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var xe=we?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ge=[],Fe=0;Fe<Te.length;Fe+=3){var Ct=Te[Fe],mn=Fe+1<Te.length,jt=mn?Te[Fe+1]:0,Jt=Fe+2<Te.length,Ht=Jt?Te[Fe+2]:0,zn=(15&jt)<<2|Ht>>6,ki=63&Ht;Jt||(ki=64,mn||(zn=64)),Ge.push(xe[Ct>>2],xe[(3&Ct)<<4|jt>>4],xe[zn],xe[ki])}return Ge.join("")},encodeString:function(Te,we){return this.HAS_NATIVE_SUPPORT&&!we?btoa(Te):this.encodeByteArray(ce(Te),we)},decodeString:function(Te,we){return this.HAS_NATIVE_SUPPORT&&!we?atob(Te):function(Te){for(var we=[],xe=0,Ge=0;xe<Te.length;){var Fe=Te[xe++];if(Fe<128)we[Ge++]=String.fromCharCode(Fe);else if(Fe>191&&Fe<224){var Ct=Te[xe++];we[Ge++]=String.fromCharCode((31&Fe)<<6|63&Ct)}else if(Fe>239&&Fe<365){var Jt=((7&Fe)<<18|(63&(Ct=Te[xe++]))<<12|(63&(mn=Te[xe++]))<<6|63&Te[xe++])-65536;we[Ge++]=String.fromCharCode(55296+(Jt>>10)),we[Ge++]=String.fromCharCode(56320+(1023&Jt))}else{Ct=Te[xe++];var mn=Te[xe++];we[Ge++]=String.fromCharCode((15&Fe)<<12|(63&Ct)<<6|63&mn)}}return we.join("")}(this.decodeStringToByteArray(Te,we))},decodeStringToByteArray:function(Te,we){this.init_();for(var xe=we?this.charToByteMapWebSafe_:this.charToByteMap_,Ge=[],Fe=0;Fe<Te.length;){var Ct=xe[Te.charAt(Fe++)],jt=Fe<Te.length?xe[Te.charAt(Fe)]:0,Ht=++Fe<Te.length?xe[Te.charAt(Fe)]:64,vi=++Fe<Te.length?xe[Te.charAt(Fe)]:64;if(++Fe,null==Ct||null==jt||null==Ht||null==vi)throw Error();Ge.push(Ct<<2|jt>>4),64!==Ht&&(Ge.push(jt<<4&240|Ht>>2),64!==vi&&Ge.push(Ht<<6&192|vi))}return Ge},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Te=0;Te<this.ENCODED_VALS.length;Te++)this.byteToCharMap_[Te]=this.ENCODED_VALS.charAt(Te),this.charToByteMap_[this.byteToCharMap_[Te]]=Te,this.byteToCharMapWebSafe_[Te]=this.ENCODED_VALS_WEBSAFE.charAt(Te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Te]]=Te,Te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Te)]=Te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Te)]=Te)}}},Ve=function(Te){try{return Oe.decodeString(Te,!0)}catch(we){console.error("base64Decode failed: ",we)}return null};function q(Te,we){if(!(we instanceof Object))return we;switch(we.constructor){case Date:return new Date(we.getTime());case Object:void 0===Te&&(Te={});break;case Array:Te=[];break;default:return we}for(var Ge in we)we.hasOwnProperty(Ge)&&(Te[Ge]=q(Te[Ge],we[Ge]));return Te}var de=function(){function Te(){var we=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(xe,Ge){we.resolve=xe,we.reject=Ge})}return Te.prototype.wrapCallback=function(we){var xe=this;return function(Ge,Fe){Ge?xe.reject(Ge):xe.resolve(Fe),"function"==typeof we&&(xe.promise.catch(function(){}),1===we.length?we(Ge):we(Ge,Fe))}},Te}();function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}var Le=function(Te){function we(xe,Ge){var Fe=Te.call(this,Ge)||this;return Fe.code=xe,Fe.name="FirebaseError",Object.setPrototypeOf(Fe,we.prototype),Error.captureStackTrace&&Error.captureStackTrace(Fe,Et.prototype.create),Fe}return l.__extends(we,Te),we}(Error),Et=function(){function Te(we,xe,Ge){this.service=we,this.serviceName=xe,this.errors=Ge}return Te.prototype.create=function(we){for(var xe=[],Ge=1;Ge<arguments.length;Ge++)xe[Ge-1]=arguments[Ge];for(var Fe=xe[0]||{},Ct=this.service+"/"+we,mn=this.errors[we],jt=mn?function ot(Te,we){return Te.replace(Kt,function(xe,Ge){var Fe=we[Ge];return null!=Fe?String(Fe):"<"+Ge+"?>"})}(mn,Fe):"Error",Ht=new Le(Ct,this.serviceName+": "+jt+" ("+Ct+")."),Ei=0,vi=Object.keys(Fe);Ei<vi.length;Ei++){var zn=vi[Ei];"_"!==zn.slice(-1)&&(zn in Ht&&console.warn('Overwriting FirebaseError base field "'+zn+'" can cause unexpected behavior.'),Ht[zn]=Fe[zn])}return Ht},Te}(),Kt=/\{\$([^}]+)}/g;function nn(Te){return JSON.parse(Te)}var rn=function(Te){var we={},xe={},Ge={},Fe="";try{var Ct=Te.split(".");we=nn(Ve(Ct[0])||""),xe=nn(Ve(Ct[1])||""),Fe=Ct[2],Ge=xe.d||{},delete xe.d}catch{}return{header:we,claims:xe,data:Ge,signature:Fe}},dn=function(){function Te(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var we=1;we<this.blockSize;++we)this.pad_[we]=0;this.reset()}return Te.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Te.prototype.compress_=function(we,xe){xe||(xe=0);var Ge=this.W_;if("string"==typeof we)for(var Fe=0;Fe<16;Fe++)Ge[Fe]=we.charCodeAt(xe)<<24|we.charCodeAt(xe+1)<<16|we.charCodeAt(xe+2)<<8|we.charCodeAt(xe+3),xe+=4;else for(Fe=0;Fe<16;Fe++)Ge[Fe]=we[xe]<<24|we[xe+1]<<16|we[xe+2]<<8|we[xe+3],xe+=4;for(Fe=16;Fe<80;Fe++)Ge[Fe]=4294967295&((Ct=Ge[Fe-3]^Ge[Fe-8]^Ge[Fe-14]^Ge[Fe-16])<<1|Ct>>>31);var vi,zn,mn=this.chain_[0],jt=this.chain_[1],Jt=this.chain_[2],Ht=this.chain_[3],Ei=this.chain_[4];for(Fe=0;Fe<80;Fe++){Fe<40?Fe<20?(vi=Ht^jt&(Jt^Ht),zn=1518500249):(vi=jt^Jt^Ht,zn=1859775393):Fe<60?(vi=jt&Jt|Ht&(jt|Jt),zn=2400959708):(vi=jt^Jt^Ht,zn=3395469782);var Ct=(mn<<5|mn>>>27)+vi+Ei+zn+Ge[Fe]&4294967295;Ei=Ht,Ht=Jt,Jt=4294967295&(jt<<30|jt>>>2),jt=mn,mn=Ct}this.chain_[0]=this.chain_[0]+mn&4294967295,this.chain_[1]=this.chain_[1]+jt&4294967295,this.chain_[2]=this.chain_[2]+Jt&4294967295,this.chain_[3]=this.chain_[3]+Ht&4294967295,this.chain_[4]=this.chain_[4]+Ei&4294967295},Te.prototype.update=function(we,xe){if(null!=we){void 0===xe&&(xe=we.length);for(var Ge=xe-this.blockSize,Fe=0,Ct=this.buf_,mn=this.inbuf_;Fe<xe;){if(0===mn)for(;Fe<=Ge;)this.compress_(we,Fe),Fe+=this.blockSize;if("string"==typeof we){for(;Fe<xe;)if(Ct[mn]=we.charCodeAt(Fe),++Fe,++mn===this.blockSize){this.compress_(Ct),mn=0;break}}else for(;Fe<xe;)if(Ct[mn]=we[Fe],++Fe,++mn===this.blockSize){this.compress_(Ct),mn=0;break}}this.inbuf_=mn,this.total_+=xe}},Te.prototype.digest=function(){var we=[],xe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Ge=this.blockSize-1;Ge>=56;Ge--)this.buf_[Ge]=255&xe,xe/=256;this.compress_(this.buf_);var Fe=0;for(Ge=0;Ge<5;Ge++)for(var Ct=24;Ct>=0;Ct-=8)we[Fe]=this.chain_[Ge]>>Ct&255,++Fe;return we},Te}(),fn=function(){function Te(we,xe){var Ge=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=xe,this.task.then(function(){we(Ge)}).catch(function(Fe){Ge.error(Fe)})}return Te.prototype.next=function(we){this.forEachObserver(function(xe){xe.next(we)})},Te.prototype.error=function(we){this.forEachObserver(function(xe){xe.error(we)}),this.close(we)},Te.prototype.complete=function(){this.forEachObserver(function(we){we.complete()}),this.close()},Te.prototype.subscribe=function(we,xe,Ge){var Ct,Fe=this;if(void 0===we&&void 0===xe&&void 0===Ge)throw new Error("Missing Observer.");Ct=function Dn(Te,we){if("object"!=typeof Te||null===Te)return!1;for(var xe=0,Ge=we;xe<Ge.length;xe++){var Fe=Ge[xe];if(Fe in Te&&"function"==typeof Te[Fe])return!0}return!1}(we,["next","error","complete"])?we:{next:we,error:xe,complete:Ge},void 0===Ct.next&&(Ct.next=Ut),void 0===Ct.error&&(Ct.error=Ut),void 0===Ct.complete&&(Ct.complete=Ut);var mn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Fe.finalError?Ct.error(Fe.finalError):Ct.complete()}catch{}}),this.observers.push(Ct),mn},Te.prototype.unsubscribeOne=function(we){void 0===this.observers||void 0===this.observers[we]||(delete this.observers[we],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Te.prototype.forEachObserver=function(we){if(!this.finalized)for(var xe=0;xe<this.observers.length;xe++)this.sendOne(xe,we)},Te.prototype.sendOne=function(we,xe){var Ge=this;this.task.then(function(){if(void 0!==Ge.observers&&void 0!==Ge.observers[we])try{xe(Ge.observers[we])}catch(Fe){typeof console<"u"&&console.error&&console.error(Fe)}})},Te.prototype.close=function(we){var xe=this;this.finalized||(this.finalized=!0,void 0!==we&&(this.finalError=we),this.task.then(function(){xe.observers=void 0,xe.onNoObservers=void 0}))},Te}();function Ut(){}function Fn(Te,we,xe){var Ge="";switch(we){case 1:Ge=xe?"first":"First";break;case 2:Ge=xe?"second":"Second";break;case 3:Ge=xe?"third":"Third";break;case 4:Ge=xe?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return Te+" failed: "+(Ge+" argument ")}Ae.CONSTANTS=U,Ae.Deferred=de,Ae.ErrorFactory=Et,Ae.FirebaseError=Le,Ae.MAX_VALUE_MILLIS=144e5,Ae.RANDOM_FACTOR=.5,Ae.Sha1=dn,Ae.areCookiesEnabled=function ue(){return!(!navigator||!navigator.cookieEnabled)},Ae.assert=K,Ae.assertionError=pe,Ae.async=function tn(Te,we){return function(){for(var xe=[],Ge=0;Ge<arguments.length;Ge++)xe[Ge]=arguments[Ge];Promise.resolve(!0).then(function(){Te.apply(void 0,xe)}).catch(function(Fe){we&&we(Fe)})}},Ae.base64=Oe,Ae.base64Decode=Ve,Ae.base64Encode=function(Te){var we=ce(Te);return Oe.encodeByteArray(we,!0)},Ae.calculateBackoffMillis=function zt(Te,we,xe){void 0===we&&(we=1e3),void 0===xe&&(xe=2);var Ge=we*Math.pow(xe,Te),Fe=Math.round(.5*Ge*(Math.random()-.5)*2);return Math.min(144e5,Ge+Fe)},Ae.contains=function je(Te,we){return Object.prototype.hasOwnProperty.call(Te,we)},Ae.createSubscribe=function Nn(Te,we){var xe=new fn(Te,we);return xe.subscribe.bind(xe)},Ae.decode=rn,Ae.deepCopy=function z(Te){return q(void 0,Te)},Ae.deepExtend=q,Ae.errorPrefix=Fn,Ae.getUA=Ne,Ae.isAdmin=function(Te){var we=rn(Te).claims;return"object"==typeof we&&!0===we.admin},Ae.isBrowser=function st(){return"object"==typeof self&&self.self===self},Ae.isBrowserExtension=function mt(){var Te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Te&&void 0!==Te.id},Ae.isElectron=function at(){return Ne().indexOf("Electron/")>=0},Ae.isEmpty=function gt(Te){for(var we in Te)if(Object.prototype.hasOwnProperty.call(Te,we))return!1;return!0},Ae.isIE=function Ze(){var Te=Ne();return Te.indexOf("MSIE ")>=0||Te.indexOf("Trident/")>=0},Ae.isIndexedDBAvailable=function it(){return"indexedDB"in self&&null!=indexedDB},Ae.isMobileCordova=function me(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())},Ae.isNode=lt,Ae.isNodeSdk=function nt(){return!0===U.NODE_CLIENT||!0===U.NODE_ADMIN},Ae.isReactNative=function ke(){return"object"==typeof navigator&&"ReactNative"===navigator.product},Ae.isSafari=function $e(){return!lt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},Ae.isUWP=function Ce(){return Ne().indexOf("MSAppHost/")>=0},Ae.isValidFormat=function(Te){var xe=rn(Te).claims;return!!xe&&"object"==typeof xe&&xe.hasOwnProperty("iat")},Ae.isValidTimestamp=function(Te){var we=rn(Te).claims,xe=Math.floor((new Date).getTime()/1e3),Ge=0,Fe=0;return"object"==typeof we&&(we.hasOwnProperty("nbf")?Ge=we.nbf:we.hasOwnProperty("iat")&&(Ge=we.iat),Fe=we.hasOwnProperty("exp")?we.exp:Ge+86400),!!xe&&!!Ge&&!!Fe&&xe>=Ge&&xe<=Fe},Ae.issuedAtTime=function(Te){var we=rn(Te).claims;return"object"==typeof we&&we.hasOwnProperty("iat")?we.iat:null},Ae.jsonEval=nn,Ae.map=function At(Te,we,xe){var Ge={};for(var Fe in Te)Object.prototype.hasOwnProperty.call(Te,Fe)&&(Ge[Fe]=we.call(xe,Te[Fe],Fe,Te));return Ge},Ae.querystring=function bt(Te){for(var we=[],xe=function(Jt,Ht){Array.isArray(Ht)?Ht.forEach(function(Ei){we.push(encodeURIComponent(Jt)+"="+encodeURIComponent(Ei))}):we.push(encodeURIComponent(Jt)+"="+encodeURIComponent(Ht))},Ge=0,Fe=Object.entries(Te);Ge<Fe.length;Ge++){var Ct=Fe[Ge];xe(Ct[0],Ct[1])}return we.length?"&"+we.join("&"):""},Ae.querystringDecode=function Tn(Te){var we={};return Te.replace(/^\?/,"").split("&").forEach(function(Ge){if(Ge){var Fe=Ge.split("=");we[Fe[0]]=Fe[1]}}),we},Ae.safeGet=function ct(Te,we){if(Object.prototype.hasOwnProperty.call(Te,we))return Te[we]},Ae.stringLength=function(Te){for(var we=0,xe=0;xe<Te.length;xe++){var Ge=Te.charCodeAt(xe);Ge<128?we++:Ge<2048?we+=2:Ge>=55296&&Ge<=56319?(we+=4,xe++):we+=3}return we},Ae.stringToByteArray=function(Te){for(var we=[],xe=0,Ge=0;Ge<Te.length;Ge++){var Fe=Te.charCodeAt(Ge);if(Fe>=55296&&Fe<=56319){var Ct=Fe-55296;Ge++,K(Ge<Te.length,"Surrogate pair missing trail surrogate."),Fe=65536+(Ct<<10)+(Te.charCodeAt(Ge)-56320)}Fe<128?we[xe++]=Fe:Fe<2048?(we[xe++]=Fe>>6|192,we[xe++]=63&Fe|128):Fe<65536?(we[xe++]=Fe>>12|224,we[xe++]=Fe>>6&63|128,we[xe++]=63&Fe|128):(we[xe++]=Fe>>18|240,we[xe++]=Fe>>12&63|128,we[xe++]=Fe>>6&63|128,we[xe++]=63&Fe|128)}return we},Ae.stringify=function un(Te){return JSON.stringify(Te)},Ae.validateArgCount=function(Te,we,xe,Ge){var Fe;if(Ge<we?Fe="at least "+we:Ge>xe&&(Fe=0===xe?"none":"no more than "+xe),Fe)throw new Error(Te+" failed: Was called with "+Ge+(1===Ge?" argument.":" arguments.")+" Expects "+Fe+".")},Ae.validateCallback=function wi(Te,we,xe,Ge){if((!Ge||xe)&&"function"!=typeof xe)throw new Error(Fn(Te,we,Ge)+"must be a valid function.")},Ae.validateContextObject=function Si(Te,we,xe,Ge){if((!Ge||xe)&&("object"!=typeof xe||null===xe))throw new Error(Fn(Te,we,Ge)+"must be a valid context object.")},Ae.validateIndexedDBOpenable=function he(){return new Promise(function(Te,we){try{var xe=!0,Ge="validate-browser-context-for-indexeddb-analytics-module",Fe=window.indexedDB.open(Ge);Fe.onsuccess=function(){Fe.result.close(),xe||window.indexedDB.deleteDatabase(Ge),Te(!0)},Fe.onupgradeneeded=function(){xe=!1},Fe.onerror=function(){var Ct;we((null===(Ct=Fe.error)||void 0===Ct?void 0:Ct.message)||"")}}catch(Ct){we(Ct)}})},Ae.validateNamespace=function Un(Te,we,xe,Ge){if((!Ge||xe)&&"string"!=typeof xe)throw new Error(Fn(Te,we,Ge)+"must be a valid firebase namespace.")}},8602:(en,Ae,Q)=>{Q.r(Ae),Q.d(Ae,{ErrorCode:()=>Mc,EventType:()=>wo,WebChannel:()=>Bs,XhrIo:()=>Oc,createWebChannelTransport:()=>Jo,default:()=>Oa});var l=function(E,N){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,ee){j.__proto__=ee}||function(j,ee){for(var ve in ee)Object.prototype.hasOwnProperty.call(ee,ve)&&(j[ve]=ee[ve])})(E,N)};function K(E){var N="function"==typeof Symbol&&Symbol.iterator,j=N&&E[N],ee=0;if(j)return j.call(E);if(E&&"number"==typeof E.length)return{next:function(){return E&&ee>=E.length&&(E=void 0),{value:E&&E[ee++],done:!E}}};throw new TypeError(N?"Object is not iterable.":"Symbol.iterator is not defined.")}var ce,pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pe=Pe||{},Oe=pe||self;function ut(){}function Ve(E){var N=typeof E;return"object"!=N?N:E?Array.isArray(E)?"array":N:"null"}function z(E){var N=Ve(E);return"array"==N||"object"==N&&"number"==typeof E.length}function q(E){var N=typeof E;return"object"==N&&null!=E||"function"==N}var Ne="closure_uid_"+(1e9*Math.random()>>>0),me=0;function lt(E,N,j){return E.call.apply(E.bind,arguments)}function st(E,N,j){if(!E)throw Error();if(2<arguments.length){var ee=Array.prototype.slice.call(arguments,2);return function(){var ve=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ve,ee),E.apply(N,ve)}}return function(){return E.apply(N,arguments)}}function mt(E,N,j){return(mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lt:st).apply(null,arguments)}function ke(E,N){var j=Array.prototype.slice.call(arguments,1);return function(){var ee=j.slice();return ee.push.apply(ee,arguments),E.apply(this,ee)}}var at=Date.now;function Ze(E,N){function j(){}j.prototype=N.prototype,E.S=N.prototype,E.prototype=new j,E.prototype.constructor=E}function Ce(){this.j=this.j,this.i=this.i}Ce.prototype.j=!1,Ce.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function de(E){Object.prototype.hasOwnProperty.call(E,Ne)&&E[Ne]||(E[Ne]=++me)}(this)},Ce.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var $e=Array.prototype.indexOf?function(E,N){return Array.prototype.indexOf.call(E,N,void 0)}:function(E,N){if("string"==typeof E)return"string"!=typeof N||1!=N.length?-1:E.indexOf(N,0);for(var j=0;j<E.length;j++)if(j in E&&E[j]===N)return j;return-1},it=Array.prototype.forEach?function(E,N,j){Array.prototype.forEach.call(E,N,j)}:function(E,N,j){for(var ee=E.length,ve="string"==typeof E?E.split(""):E,Ye=0;Ye<ee;Ye++)Ye in ve&&N.call(j,ve[Ye],Ye,E)};function ue(E){return Array.prototype.concat.apply([],arguments)}function qe(E){var N=E.length;if(0<N){for(var j=Array(N),ee=0;ee<N;ee++)j[ee]=E[ee];return j}return[]}function Le(E){return/^[\s\xa0]*$/.test(E)}var nn,Et=String.prototype.trim?function(E){return E.trim()}:function(E){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(E)[1]};function ot(E,N){return-1!=E.indexOf(N)}function Kt(E,N){return E<N?-1:E>N?1:0}e:{var un=Oe.navigator;if(un){var rn=un.userAgent;if(rn){nn=rn;break e}}nn=""}function fi(E,N,j){for(var ee in E)N.call(j,E[ee],ee,E)}function De(E){var N={};for(var j in E)N[j]=E[j];return N}var Ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function He(E,N){for(var j,ee,ve=1;ve<arguments.length;ve++){for(j in ee=arguments[ve])E[j]=ee[j];for(var Ye=0;Ye<Ee.length;Ye++)j=Ee[Ye],Object.prototype.hasOwnProperty.call(ee,j)&&(E[j]=ee[j])}}function je(E){return je[" "](E),E}je[" "]=ut;var tn,E,gt=ot(nn,"Opera"),At=ot(nn,"Trident")||ot(nn,"MSIE"),bt=ot(nn,"Edge"),Tn=bt||At,dn=ot(nn,"Gecko")&&!(ot(nn.toLowerCase(),"webkit")&&!ot(nn,"Edge"))&&!(ot(nn,"Trident")||ot(nn,"MSIE"))&&!ot(nn,"Edge"),Nn=ot(nn.toLowerCase(),"webkit")&&!ot(nn,"Edge");function fn(){var E=Oe.document;return E?E.documentMode:void 0}e:{var Dn="",Ut=(E=nn,dn?/rv:([^\);]+)(\)|;)/.exec(E):bt?/Edge\/([\d\.]+)/.exec(E):At?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(E):Nn?/WebKit\/(\S+)/.exec(E):gt?/(?:Version)[ \/]?(\S+)/.exec(E):void 0);if(Ut&&(Dn=Ut?Ut[1]:""),At){var cn=fn();if(null!=cn&&cn>parseFloat(Dn)){tn=String(cn);break e}}tn=Dn}var Fn={};function Un(E){return function ct(E,N){var j=Fn;return Object.prototype.hasOwnProperty.call(j,E)?j[E]:j[E]=N(E)}(E,function(){for(var N=0,j=Et(String(tn)).split("."),ee=Et(String(E)).split("."),ve=Math.max(j.length,ee.length),Ye=0;0==N&&Ye<ve;Ye++){var kt=j[Ye]||"",Gn=ee[Ye]||"";do{if(kt=/(\d*)(\D*)(.*)/.exec(kt)||["","","",""],Gn=/(\d*)(\D*)(.*)/.exec(Gn)||["","","",""],0==kt[0].length&&0==Gn[0].length)break;N=Kt(0==kt[1].length?0:parseInt(kt[1],10),0==Gn[1].length?0:parseInt(Gn[1],10))||Kt(0==kt[2].length,0==Gn[2].length)||Kt(kt[2],Gn[2]),kt=kt[3],Gn=Gn[3]}while(0==N)}return 0<=N})}var ti=Oe.document&&At&&(fn()||parseInt(tn,10))||void 0,Vi=!At||9<=Number(ti),Po=At&&!Un("9"),sn=function(){if(!Oe.addEventListener||!Object.defineProperty)return!1;var E=!1,N=Object.defineProperty({},"passive",{get:function(){E=!0}});try{Oe.addEventListener("test",ut,N),Oe.removeEventListener("test",ut,N)}catch{}return E}();function Yt(E,N){this.type=E,this.a=this.target=N,this.defaultPrevented=!1}function Qt(E,N){if(Yt.call(this,E?E.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,E){var j=this.type=E.type,ee=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.a=N,N=E.relatedTarget){if(dn){e:{try{je(N.nodeName);var ve=!0;break e}catch{}ve=!1}ve||(N=null)}}else"mouseover"==j?N=E.fromElement:"mouseout"==j&&(N=E.toElement);this.relatedTarget=N,ee?(this.clientX=void 0!==ee.clientX?ee.clientX:ee.pageX,this.clientY=void 0!==ee.clientY?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:zt[E.pointerType]||"",this.c=E,E.defaultPrevented&&this.b()}}Yt.prototype.b=function(){this.defaultPrevented=!0},Ze(Qt,Yt);var zt={2:"touch",3:"pen",4:"mouse"};Qt.prototype.b=function(){Qt.S.b.call(this);var E=this.c;if(E.preventDefault)E.preventDefault();else if(E.returnValue=!1,Po)try{(E.ctrlKey||112<=E.keyCode&&123>=E.keyCode)&&(E.keyCode=-1)}catch{}};var Te="closure_listenable_"+(1e6*Math.random()|0),we=0;function xe(E,N,j,ee,ve){this.listener=E,this.proxy=null,this.src=N,this.type=j,this.capture=!!ee,this.ca=ve,this.key=++we,this.Y=this.Z=!1}function Ge(E){E.Y=!0,E.listener=null,E.proxy=null,E.src=null,E.ca=null}function Fe(E){this.src=E,this.a={},this.b=0}function Ct(E,N){var j=N.type;if(j in E.a){var Ye,ee=E.a[j],ve=$e(ee,N);(Ye=0<=ve)&&Array.prototype.splice.call(ee,ve,1),Ye&&(Ge(N),0==E.a[j].length&&(delete E.a[j],E.b--))}}function mn(E,N,j,ee){for(var ve=0;ve<E.length;++ve){var Ye=E[ve];if(!Ye.Y&&Ye.listener==N&&Ye.capture==!!j&&Ye.ca==ee)return ve}return-1}Fe.prototype.add=function(E,N,j,ee,ve){var Ye=E.toString();(E=this.a[Ye])||(E=this.a[Ye]=[],this.b++);var kt=mn(E,N,ee,ve);return-1<kt?(N=E[kt],j||(N.Z=!1)):((N=new xe(N,this.src,Ye,!!ee,ve)).Z=j,E.push(N)),N};var jt="closure_lm_"+(1e6*Math.random()|0),Jt={};function Ht(E,N,j,ee,ve){if(ee&&ee.once)return zn(E,N,j,ee,ve);if(Array.isArray(N)){for(var Ye=0;Ye<N.length;Ye++)Ht(E,N[Ye],j,ee,ve);return null}return j=fe(j),E&&E[Te]?E.va(N,j,q(ee)?!!ee.capture:!!ee,ve):Ei(E,N,j,!1,ee,ve)}function Ei(E,N,j,ee,ve,Ye){if(!N)throw Error("Invalid event type");var kt=q(ve)?!!ve.capture:!!ve;if(kt&&!Vi)return null;var Gn=gr(E);if(Gn||(E[jt]=Gn=new Fe(E)),(j=Gn.add(N,j,ee,kt,Ye)).proxy)return j;if(ee=function vi(){var E=Ci,N=Vi?function(j){return E.call(N.src,N.listener,j)}:function(j){if(!(j=E.call(N.src,N.listener,j)))return j};return N}(),j.proxy=ee,ee.src=E,ee.listener=j,E.addEventListener)sn||(ve=kt),void 0===ve&&(ve=!1),E.addEventListener(N.toString(),ee,ve);else if(E.attachEvent)E.attachEvent(mr(N.toString()),ee);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(ee)}return j}function zn(E,N,j,ee,ve){if(Array.isArray(N)){for(var Ye=0;Ye<N.length;Ye++)zn(E,N[Ye],j,ee,ve);return null}return j=fe(j),E&&E[Te]?E.wa(N,j,q(ee)?!!ee.capture:!!ee,ve):Ei(E,N,j,!0,ee,ve)}function ki(E,N,j,ee,ve){if(Array.isArray(N))for(var Ye=0;Ye<N.length;Ye++)ki(E,N[Ye],j,ee,ve);else ee=q(ee)?!!ee.capture:!!ee,j=fe(j),E&&E[Te]?(E=E.c,(N=String(N).toString())in E.a&&-1<(j=mn(Ye=E.a[N],j,ee,ve))&&(Ge(Ye[j]),Array.prototype.splice.call(Ye,j,1),0==Ye.length&&(delete E.a[N],E.b--))):E&&(E=gr(E))&&(N=E.a[N.toString()],E=-1,N&&(E=mn(N,j,ee,ve)),(j=-1<E?N[E]:null)&&Hn(j))}function Hn(E){if("number"!=typeof E&&E&&!E.Y){var N=E.src;if(N&&N[Te])Ct(N.c,E);else{var j=E.type,ee=E.proxy;N.removeEventListener?N.removeEventListener(j,ee,E.capture):N.detachEvent?N.detachEvent(mr(j),ee):N.addListener&&N.removeListener&&N.removeListener(ee),(j=gr(N))?(Ct(j,E),0==j.b&&(j.src=null,N[jt]=null)):Ge(E)}}}function mr(E){return E in Jt?Jt[E]:Jt[E]="on"+E}function pi(E,N){var j=E.listener,ee=E.ca||E.src;return E.Z&&Hn(E),j.call(ee,N)}function Ci(E,N){if(E.Y)return!0;if(!Vi){if(!N)e:{N=["window","event"];for(var j=Oe,ee=0;ee<N.length;ee++)if(null==(j=j[N[ee]])){N=null;break e}N=j}return pi(E,N=new Qt(N,this))}return pi(E,new Qt(N,this))}function gr(E){return(E=E[jt])instanceof Fe?E:null}var mo="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(E){return"function"==Ve(E)?E:(E[mo]||(E[mo]=function(N){return E.handleEvent(N)}),E[mo])}function le(){Ce.call(this),this.c=new Fe(this),this.J=this,this.C=null}function J(E,N,j,ee){if(!(N=E.c.a[String(N)]))return!0;N=N.concat();for(var ve=!0,Ye=0;Ye<N.length;++Ye){var kt=N[Ye];if(kt&&!kt.Y&&kt.capture==j){var Gn=kt.listener,ei=kt.ca||kt.src;kt.Z&&Ct(E.c,kt),ve=!1!==Gn.call(ei,ee)&&ve}}return ve&&!ee.defaultPrevented}Ze(le,Ce),le.prototype[Te]=!0,(ce=le.prototype).addEventListener=function(E,N,j,ee){Ht(this,E,N,j,ee)},ce.removeEventListener=function(E,N,j,ee){ki(this,E,N,j,ee)},ce.dispatchEvent=function(E){var N,j=this.C;if(j)for(N=[];j;j=j.C)N.push(j);j=this.J;var ee=E.type||E;if("string"==typeof E)E=new Yt(E,j);else if(E instanceof Yt)E.target=E.target||j;else{var ve=E;He(E=new Yt(ee,j),ve)}if(ve=!0,N)for(var Ye=N.length-1;0<=Ye;Ye--){var kt=E.a=N[Ye];ve=J(kt,ee,!0,E)&&ve}if(ve=J(kt=E.a=j,ee,!0,E)&&ve,ve=J(kt,ee,!1,E)&&ve,N)for(Ye=0;Ye<N.length;Ye++)ve=J(kt=E.a=N[Ye],ee,!1,E)&&ve;return ve},ce.G=function(){if(le.S.G.call(this),this.c){var N,E=this.c;for(N in E.a){for(var j=E.a[N],ee=0;ee<j.length;ee++)Ge(j[ee]);delete E.a[N],E.b--}}this.C=null},ce.va=function(E,N,j,ee){return this.c.add(String(E),N,!1,j,ee)},ce.wa=function(E,N,j,ee){return this.c.add(String(E),N,!0,j,ee)};var te=Oe.JSON.stringify;function Y(){this.b=this.a=null}var Xn,Me=new(function(){function E(N,j,ee){this.f=ee,this.c=N,this.g=j,this.b=0,this.a=null}return E.prototype.get=function(){var N;return 0<this.b?(this.b--,this.a=(N=this.a).next,N.next=null):N=this.c(),N},E}())(function(){return new St},function(E){E.reset()},100);function Qe(){var E=kn,N=null;return E.a&&(N=E.a,E.a=E.a.next,E.a||(E.b=null),N.next=null),N}function St(){this.next=this.b=this.a=null}function yn(E){Oe.setTimeout(function(){throw E},0)}function Vt(E,N){Xn||function En(){var E=Oe.Promise.resolve(void 0);Xn=function(){E.then(_r)}}(),si||(Xn(),si=!0),kn.add(E,N)}Y.prototype.add=function(E,N){var j=Me.get();j.set(E,N),this.b?this.b.next=j:this.a=j,this.b=j},St.prototype.set=function(E,N){this.a=E,this.b=N,this.next=null},St.prototype.reset=function(){this.next=this.b=this.a=null};var si=!1,kn=new Y;function _r(){for(var E;E=Qe();){try{E.a.call(E.b)}catch(j){yn(j)}var N=Me;N.g(E),N.b<N.f&&(N.b++,E.next=N.a,N.a=E)}si=!1}function Zo(E,N){le.call(this),this.b=E||1,this.a=N||Oe,this.f=mt(this.Ya,this),this.g=at()}function Xe(E){E.aa=!1,E.M&&(E.a.clearTimeout(E.M),E.M=null)}function ze(E,N,j){if("function"==Ve(E))j&&(E=mt(E,j));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=mt(E.handleEvent,E)}return 2147483647<Number(N)?-1:Oe.setTimeout(E,N||0)}function _t(E){E.a=ze(function(){E.a=null,E.c&&(E.c=!1,_t(E))},E.h);var N=E.b;E.b=null,E.g.apply(null,N)}Ze(Zo,le),(ce=Zo.prototype).aa=!1,ce.M=null,ce.Ya=function(){if(this.aa){var E=at()-this.g;0<E&&E<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-E):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Xe(this),this.start()))}},ce.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=at())},ce.G=function(){Zo.S.G.call(this),Xe(this),delete this.a};var Zt=function(E){function N(j,ee,ve){var Ye=E.call(this)||this;return Ye.g=null!=ve?j.bind(ve):j,Ye.h=ee,Ye.b=null,Ye.c=!1,Ye.a=null,Ye}return function U(E,N){function j(){this.constructor=E}l(E,N),E.prototype=null===N?Object.create(N):(j.prototype=N.prototype,new j)}(N,E),N.prototype.f=function(j){this.b=arguments,this.a?this.c=!0:_t(this)},N.prototype.G=function(){E.prototype.G.call(this),this.a&&(Oe.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},N}(Ce);function Pt(E){Ce.call(this),this.b=E,this.a={}}Ze(Pt,Ce);var On=[];function ii(E,N,j,ee){Array.isArray(j)||(j&&(On[0]=j.toString()),j=On);for(var ve=0;ve<j.length;ve++){var Ye=Ht(N,j[ve],ee||E.handleEvent,!1,E.b||E);if(!Ye)break;E.a[Ye.key]=Ye}}function Hi(E){fi(E.a,function(N,j){this.a.hasOwnProperty(j)&&Hn(N)},E),E.a={}}function Gi(){this.a=!0}function go(E,N,j,ee){E.info(function(){return"XMLHTTP TEXT ("+N+"): "+function Ko(E,N){if(!E.a)return N;if(!N)return null;try{var j=JSON.parse(N);if(j)for(E=0;E<j.length;E++)if(Array.isArray(j[E])){var ee=j[E];if(!(2>ee.length)){var ve=ee[1];if(Array.isArray(ve)&&!(1>ve.length)){var Ye=ve[0];if("noop"!=Ye&&"stop"!=Ye&&"close"!=Ye)for(var kt=1;kt<ve.length;kt++)ve[kt]=""}}}return te(j)}catch{return N}}(E,j)+(ee?" "+ee:"")})}Pt.prototype.G=function(){Pt.S.G.call(this),Hi(this)},Pt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gi.prototype.info=function(){};var cs=null;function ms(){return cs=cs||new le}function Yo(E){Yt.call(this,"serverreachability",E)}function ai(E){var N=ms();N.dispatchEvent(new Yo(N,E))}function Ai(E){Yt.call(this,"statevent",E)}function _o(E){var N=ms();N.dispatchEvent(new Ai(N,E))}function er(E){Yt.call(this,"timingevent",E)}function _c(E,N){if("function"!=Ve(E))throw Error("Fn must not be null and must be a function");return Oe.setTimeout(function(){E()},N)}Ze(Yo,Yt),Ze(Ai,Yt),Ze(er,Yt);var Ka={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},$r={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function ks(){}function Zu(){}ks.prototype.a=null;var Ns,ea={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function vc(){Yt.call(this,"d")}function yc(){Yt.call(this,"c")}function ta(){}function el(E,N,j,ee){this.g=E,this.c=N,this.f=j,this.T=ee||1,this.J=new Pt(this),this.P=ko,this.R=new Zo(E=Tn?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}Ze(vc,Yt),Ze(yc,Yt),Ze(ta,ks),Ns=new ta;var ko=45e3,vo={},vr={};function Qa(E,N,j){E.H=1,E.i=Qo(xt(N)),E.j=j,E.I=!0,na(E,null)}function na(E,N){E.u=at(),ia(E),E.l=xt(E.i);var j=E.l,ee=E.T;Array.isArray(ee)||(ee=[String(ee)]),Fi(j.b,"t",ee),E.D=0,E.a=Vs(E.g,E.g.C?N:null),0<E.O&&(E.F=new Zt(mt(E.Ca,E,E.a),E.O)),ii(E.J,E.a,"readystatechange",E.Wa),N=E.B?De(E.B):{},E.j?(E.m||(E.m="POST"),N["Content-Type"]="application/x-www-form-urlencoded",E.a.ba(E.l,E.m,E.j,N)):(E.m="GET",E.a.ba(E.l,E.m,null,N)),ai(1),function Yi(E,N,j,ee,ve,Ye){E.info(function(){if(E.a)if(Ye)for(var kt="",Gn=Ye.split("&"),ei=0;ei<Gn.length;ei++){var lr=Gn[ei].split("=");if(1<lr.length){var Eo=lr[0];lr=lr[1];var es=Eo.split("_");kt=2<=es.length&&"type"==es[1]?kt+(Eo+"=")+lr+"&":kt+(Eo+"=redacted&")}}else kt=null;else kt=Ye;return"XMLHTTP REQ ("+ee+") [attempt "+ve+"]: "+N+"\n"+j+"\n"+kt})}(E.c,E.m,E.l,E.f,E.T,E.j)}function Ur(E,N,j){for(var ee=!0;!E.A&&E.D<j.length;){var ve=bc(E,j);if(ve==vr){4==N&&(E.h=4,_o(14),ee=!1),go(E.c,E.f,null,"[Incomplete Response]");break}if(ve==vo){E.h=4,_o(15),go(E.c,E.f,j,"[Invalid Chunk]"),ee=!1;break}go(E.c,E.f,ve,null),yr(E,ve)}4==N&&0==j.length&&(E.h=1,_o(16),ee=!1),E.b=E.b&&ee,ee?0<j.length&&!E.W&&(E.W=!0,(N=E.g).a==E&&N.V&&!N.F&&(N.c.info("Great, no buffering proxy detected. Bytes received: "+j.length),Vo(N),N.F=!0)):(go(E.c,E.f,j,"[Invalid Chunked Response]"),Ni(E),Bn(E))}function bc(E,N){var j=E.D,ee=N.indexOf("\n",j);return-1==ee?vr:(j=Number(N.substring(j,ee)),isNaN(j)?vo:(ee+=1)+j>N.length?vr:(N=N.substr(ee,j),E.D=ee+j,N))}function ia(E){E.U=at()+E.P,gs(E,E.P)}function gs(E,N){if(null!=E.o)throw Error("WatchDog timer not null");E.o=_c(mt(E.Ua,E),N)}function Xa(E){E.o&&(Oe.clearTimeout(E.o),E.o=null)}function Bn(E){0==E.g.v||E.A||Yr(E.g,E)}function Ni(E){Xa(E);var N=E.F;N&&"function"==typeof N.ja&&N.ja(),E.F=null,Xe(E.R),Hi(E.J),E.a&&(N=E.a,E.a=null,N.abort(),N.ja())}function yr(E,N){try{var j=E.g;if(0!=j.v&&(j.a==E||tr(j.b,E)))if(j.I=E.N,!E.C&&tr(j.b,E)&&3==j.v){try{var ee=j.ka.a.parse(N)}catch{ee=null}if(Array.isArray(ee)&&3==ee.length){var ve=ee;if(0==ve[0]){e:if(!j.j){if(j.a){if(!(j.a.u+3e3<E.u))break e;Aa(j),yo(j)}Sc(j),_o(18)}}else j.oa=ve[1],0<j.oa-j.P&&37500>ve[2]&&j.H&&0==j.o&&!j.m&&(j.m=_c(mt(j.Ra,j),6e3));if(1>=Mr(j.b)&&j.ea){try{j.ea()}catch{}j.ea=void 0}}else bo(j,11)}else if((E.C||j.a==E)&&Aa(j),!Le(N))for(N=ee=j.ka.a.parse(N),ee=0;ee<N.length;ee++)if(j.P=(ve=N[ee])[0],ve=ve[1],2==j.v)if("c"==ve[0]){j.J=ve[1],j.ga=ve[2];var Ye=ve[3];null!=Ye&&(j.ha=Ye,j.c.info("VER="+j.ha));var kt=ve[4];null!=kt&&(j.pa=kt,j.c.info("SVER="+j.pa));var Gn=ve[5];if(null!=Gn&&"number"==typeof Gn&&0<Gn){var ei=1.5*Gn;j.D=ei,j.c.info("backChannelRequestTimeoutMs_="+ei)}ei=j;var lr=E.a;if(lr){var Eo=lr.a?lr.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eo){var es=ei.b;!es.a&&(ot(Eo,"spdy")||ot(Eo,"quic")||ot(Eo,"h2"))&&(es.f=es.g,es.a=new Set,es.b&&(Wr(es,es.b),es.b=null))}if(ei.A){var Rc=lr.a?lr.a.getResponseHeader("X-HTTP-Session-Id"):null;Rc&&(ei.na=Rc,$n(ei.B,ei.A,Rc))}}j.v=3,j.f&&j.f.ta(),j.V&&(j.N=at()-E.u,j.c.info("Handshake RTT: "+j.N+"ms"));var js=E;if((ei=j).la=Ll(ei,ei.C?ei.ga:null,ei.fa),js.C){sa(ei.b,js);var rl=js,Co=ei.D;Co&&rl.setTimeout(Co),rl.o&&(Xa(rl),ia(rl)),ei.a=js}else la(ei);0<j.g.length&&ys(j)}else"stop"!=ve[0]&&"close"!=ve[0]||bo(j,7);else 3==j.v&&("stop"==ve[0]||"close"==ve[0]?"stop"==ve[0]?bo(j,7):ec(j):"noop"!=ve[0]&&j.f&&j.f.sa(ve),j.o=0);ai(4)}catch{}}function br(E,N){if(E.forEach&&"function"==typeof E.forEach)E.forEach(N,void 0);else if(z(E)||"string"==typeof E)it(E,N,void 0);else{if(E.L&&"function"==typeof E.L)var j=E.L();else if(E.K&&"function"==typeof E.K)j=void 0;else if(z(E)||"string"==typeof E){j=[];for(var ee=E.length,ve=0;ve<ee;ve++)j.push(ve)}else for(ve in j=[],ee=0,E)j[ee++]=ve;ee=function Ia(E){if(E.K&&"function"==typeof E.K)return E.K();if("string"==typeof E)return E.split("");if(z(E)){for(var N=[],j=E.length,ee=0;ee<j;ee++)N.push(E[ee]);return N}for(ee in N=[],j=0,E)N[j++]=E[ee];return N}(E),ve=ee.length;for(var Ye=0;Ye<ve;Ye++)N.call(void 0,ee[Ye],j&&j[Ye],E)}}function wc(E,N){this.b={},this.a=[],this.c=0;var j=arguments.length;if(1<j){if(j%2)throw Error("Uneven number of arguments");for(var ee=0;ee<j;ee+=2)this.set(arguments[ee],arguments[ee+1])}else if(E)if(E instanceof wc)for(j=E.L(),ee=0;ee<j.length;ee++)this.set(j[ee],E.get(j[ee]));else for(ee in E)this.set(ee,E[ee])}function Ec(E){if(E.c!=E.a.length){for(var N=0,j=0;N<E.a.length;){var ee=E.a[N];No(E.b,ee)&&(E.a[j++]=ee),N++}E.a.length=j}if(E.c!=E.a.length){var ve={};for(j=N=0;N<E.a.length;)No(ve,ee=E.a[N])||(E.a[j++]=ee,ve[ee]=1),N++;E.a.length=j}}function No(E,N){return Object.prototype.hasOwnProperty.call(E,N)}(ce=el.prototype).setTimeout=function(E){this.P=E},ce.Wa=function(E){E=E.target;var N=this.F;N&&3==mi(E)?N.f():this.Ca(E)},ce.Ca=function(E){try{if(E==this.a)e:{var N=mi(this.a),j=this.a.ua(),ee=this.a.X();if(!(3>N||3==N&&!Tn&&!this.a.$())){this.A||4!=N||7==j||ai(8==j||0>=ee?3:2),Xa(this);var ve=this.a.X();this.N=ve;var Ye=this.a.$();if(this.b=200==ve,function Lr(E,N,j,ee,ve,Ye,kt){E.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+ve+"]: "+N+"\n"+j+"\n"+Ye+" "+kt})}(this.c,this.m,this.l,this.f,this.T,N,ve),this.b){if(this.V&&!this.C){t:{if(this.a){var kt,Gn=this.a;if((kt=Gn.a?Gn.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Le(kt)){var ei=kt;break t}}ei=null}if(!ei){this.b=!1,this.h=3,_o(12),Ni(this),Bn(this);break e}go(this.c,this.f,ei,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,yr(this,ei)}this.I?(Ur(this,N,Ye),Tn&&this.b&&3==N&&(ii(this.J,this.R,"tick",this.Va),this.R.start())):(go(this.c,this.f,Ye,null),yr(this,Ye)),4==N&&Ni(this),this.b&&!this.A&&(4==N?Yr(this.g,this):(this.b=!1,ia(this)))}else 400==ve&&0<Ye.indexOf("Unknown SID")?(this.h=3,_o(12)):(this.h=0,_o(13)),Ni(this),Bn(this)}}}catch{}},ce.Va=function(){if(this.a){var E=mi(this.a),N=this.a.$();this.D<N.length&&(Xa(this),Ur(this,E,N),this.b&&4!=E&&ia(this))}},ce.cancel=function(){this.A=!0,Ni(this)},ce.Ua=function(){this.o=null;var E=at();0<=E-this.U?(function xa(E,N){E.info(function(){return"TIMEOUT: "+N})}(this.c,this.l),2!=this.H&&(ai(3),_o(17)),Ni(this),this.h=2,Bn(this)):gs(this,this.U-E)},(ce=wc.prototype).K=function(){Ec(this);for(var E=[],N=0;N<this.a.length;N++)E.push(this.b[this.a[N]]);return E},ce.L=function(){return Ec(this),this.a.concat()},ce.get=function(E,N){return No(this.b,E)?this.b[E]:N},ce.set=function(E,N){No(this.b,E)||(this.c++,this.a.push(E)),this.b[E]=N},ce.forEach=function(E,N){for(var j=this.L(),ee=0;ee<j.length;ee++){var ve=j[ee],Ye=this.get(ve);E.call(N,Ye,ve,this)}};var Fs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mi(E,N){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,E instanceof Mi){this.a=void 0!==N?N:E.a,Cn(this,E.f),this.j=E.j,xi(this,E.c),so(this,E.h),this.g=E.g,N=E.b;var j=new Cr;j.c=N.c,N.a&&(j.a=new wc(N.a),j.b=N.b),Ls(this,j),this.i=E.i}else E&&(j=String(E).match(Fs))?(this.a=!!N,Cn(this,j[1]||"",!0),this.j=Xo(j[2]||""),xi(this,j[3]||"",!0),so(this,j[4]),this.g=Xo(j[5]||"",!0),Ls(this,j[6]||"",!0),this.i=Xo(j[7]||"")):(this.a=!!N,this.b=new Cr(null,this.a))}function xt(E){return new Mi(E)}function Cn(E,N,j){E.f=j?Xo(N,!0):N,E.f&&(E.f=E.f.replace(/:$/,""))}function xi(E,N,j){E.c=j?Xo(N,!0):N}function so(E,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);E.h=N}else E.h=null}function Ls(E,N,j){N instanceof Cr?(E.b=N,function qr(E,N){N&&!E.f&&(xr(E),E.c=null,E.a.forEach(function(j,ee){var ve=ee.toLowerCase();ee!=ve&&(oa(this,ee),Fi(this,ve,j))},E)),E.f=N}(E.b,E.a)):(j||(N=on(N,_s)),E.b=new Cr(N,E.a))}function $n(E,N,j){E.b.set(N,j)}function Qo(E){return $n(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^at()).toString(36)),E}function Xo(E,N){return E?N?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function on(E,N,j){return"string"==typeof E?(E=encodeURI(E).replace(N,Gr),j&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function Gr(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}Mi.prototype.toString=function(){var E=[],N=this.f;N&&E.push(on(N,Pl,!0),":");var j=this.c;return(j||"file"==N)&&(E.push("//"),(N=this.j)&&E.push(on(N,Pl,!0),"@"),E.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(j=this.h)&&E.push(":",String(j))),(j=this.g)&&(this.c&&"/"!=j.charAt(0)&&E.push("/"),E.push(on(j,"/"==j.charAt(0)?Er:wr,!0))),(j=this.b.toString())&&E.push("?",j),(j=this.i)&&E.push("#",on(j,Fo)),E.join("")};var Pl=/[#\/\?@]/g,wr=/[#\?:]/g,Er=/[#\?]/g,_s=/[#\?@]/g,Fo=/#/g;function Cr(E,N){this.b=this.a=null,this.c=E||null,this.f=!!N}function xr(E){E.a||(E.a=new wc,E.b=0,E.c&&function Cc(E,N){if(E){E=E.split("&");for(var j=0;j<E.length;j++){var ee=E[j].indexOf("="),ve=null;if(0<=ee){var Ye=E[j].substring(0,ee);ve=E[j].substring(ee+1)}else Ye=E[j];N(Ye,ve?decodeURIComponent(ve.replace(/\+/g," ")):"")}}}(E.c,function(N,j){E.add(decodeURIComponent(N.replace(/\+/g," ")),j)}))}function oa(E,N){xr(E),N=Lo(E,N),No(E.a.b,N)&&(E.c=null,E.b-=E.a.get(N).length,No((E=E.a).b,N)&&(delete E.b[N],E.c--,E.a.length>2*E.c&&Ec(E)))}function Ta(E,N){return xr(E),N=Lo(E,N),No(E.a.b,N)}function Fi(E,N,j){oa(E,N),0<j.length&&(E.c=null,E.a.set(Lo(E,N),qe(j)),E.b+=j.length)}function Lo(E,N){return N=String(N),E.f&&(N=N.toLowerCase()),N}function Jn(E,N){this.b=E,this.a=N}function xc(E){this.g=E||hu,E=Oe.PerformanceNavigationTiming?0<(E=Oe.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(Oe.ia&&Oe.ia.ya&&Oe.ia.ya()&&Oe.ia.ya().qb),this.f=E?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(ce=Cr.prototype).add=function(E,N){xr(this),this.c=null,E=Lo(this,E);var j=this.a.get(E);return j||this.a.set(E,j=[]),j.push(N),this.b+=1,this},ce.forEach=function(E,N){xr(this),this.a.forEach(function(j,ee){it(j,function(ve){E.call(N,ve,ee,this)},this)},this)},ce.L=function(){xr(this);for(var E=this.a.K(),N=this.a.L(),j=[],ee=0;ee<N.length;ee++)for(var ve=E[ee],Ye=0;Ye<ve.length;Ye++)j.push(N[ee]);return j},ce.K=function(E){xr(this);var N=[];if("string"==typeof E)Ta(this,E)&&(N=ue(N,this.a.get(Lo(this,E))));else{E=this.a.K();for(var j=0;j<E.length;j++)N=ue(N,E[j])}return N},ce.set=function(E,N){return xr(this),this.c=null,Ta(this,E=Lo(this,E))&&(this.b-=this.a.get(E).length),this.a.set(E,[N]),this.b+=1,this},ce.get=function(E,N){return E&&0<(E=this.K(E)).length?String(E[0]):N},ce.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var E=[],N=this.a.L(),j=0;j<N.length;j++){var ee=N[j],ve=encodeURIComponent(String(ee));ee=this.K(ee);for(var Ye=0;Ye<ee.length;Ye++){var kt=ve;""!==ee[Ye]&&(kt+="="+encodeURIComponent(String(ee[Ye]))),E.push(kt)}}return this.c=E.join("&")};var hu=10;function Da(E){return!!E.b||!!E.a&&E.a.size>=E.f}function Mr(E){return E.b?1:E.a?E.a.size:0}function tr(E,N){return E.b?E.b==N:!!E.a&&E.a.has(N)}function Wr(E,N){E.a?E.a.add(N):E.b=N}function sa(E,N){E.b&&E.b==N?E.b=null:E.a&&E.a.has(N)&&E.a.delete(N)}function Bi(E){var N,j;if(null!=E.b)return E.c.concat(E.b.s);if(null!=E.a&&0!==E.a.size){var ee=E.c;try{for(var ve=K(E.a.values()),Ye=ve.next();!Ye.done;Ye=ve.next())ee=ee.concat(Ye.value.s)}catch(Gn){N={error:Gn}}finally{try{Ye&&!Ye.done&&(j=ve.return)&&j.call(ve)}finally{if(N)throw N.error}}return ee}return qe(E.c)}function tl(){}function Zr(){this.a=new tl}function Ir(E,N,j){var ee=j||"";try{br(E,function(ve,Ye){var kt=ve;q(ve)&&(kt=te(ve)),N.push(ee+Ye+"="+encodeURIComponent(kt))})}catch(ve){throw N.push(ee+"type="+encodeURIComponent("_badmap")),ve}}function Or(E,N,j,ee,ve){try{N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null,ve(ee)}catch{}}xc.prototype.cancel=function(){var E,N;if(this.c=Bi(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var j=K(this.a.values()),ee=j.next();!ee.done;ee=j.next())ee.value.cancel()}catch(Ye){E={error:Ye}}finally{try{ee&&!ee.done&&(N=j.return)&&N.call(j)}finally{if(E)throw E.error}}this.a.clear()}},tl.prototype.stringify=function(E){return Oe.JSON.stringify(E,void 0)},tl.prototype.parse=function(E){return Oe.JSON.parse(E,void 0)};var Kr=Oe.JSON.parse;function di(E){le.call(this),this.headers=new wc,this.H=E||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=aa,this.D=this.F=!1}Ze(di,le);var aa="",ri=/^https?$/i,Rr=["POST","PUT"];function vs(E){return"content-type"==E.toLowerCase()}function Ic(E,N){E.b=!1,E.a&&(E.g=!0,E.a.abort(),E.g=!1),E.f=N,E.h=5,Sa(E),Ja(E)}function Sa(E){E.u||(E.u=!0,E.dispatchEvent("complete"),E.dispatchEvent("error"))}function Tc(E){if(E.b&&typeof Pe<"u"&&(!E.s[1]||4!=mi(E)||2!=E.X()))if(E.l&&4==mi(E))ze(E.za,0,E);else if(E.dispatchEvent("readystatechange"),4==mi(E)){E.b=!1;try{var ee,N=E.X();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}if(!(ee=j)){var ve;if(ve=0===N){var Ye=String(E.B).match(Fs)[1]||null;if(!Ye&&Oe.self&&Oe.self.location){var kt=Oe.self.location.protocol;Ye=kt.substr(0,kt.length-1)}ve=!ri.test(Ye?Ye.toLowerCase():"")}ee=ve}if(ee)E.dispatchEvent("complete"),E.dispatchEvent("success");else{E.h=6;try{var Gn=2<mi(E)?E.a.statusText:""}catch{Gn=""}E.f=Gn+" ["+E.X()+"]",Sa(E)}}finally{Ja(E)}}}function Ja(E,N){if(E.a){Nl(E);var j=E.a,ee=E.s[0]?ut:null;E.a=null,E.s=null,N||E.dispatchEvent("ready");try{j.onreadystatechange=ee}catch{}}}function Nl(E){E.a&&E.D&&(E.a.ontimeout=null),E.m&&(Oe.clearTimeout(E.m),E.m=null)}function mi(E){return E.a?E.a.readyState:0}function Dc(E,N,j){e:{for(ee in j){var ee=!1;break e}ee=!0}ee||(j=function fu(E){var N="";return fi(E,function(j,ee){N+=ee,N+=":",N+=j,N+="\r\n"}),N}(j),"string"==typeof E?null!=j&&encodeURIComponent(String(j)):$n(E,N,j))}function Uo(E,N,j){return j&&j.internalChannelParams&&j.internalChannelParams[E]||N}function $d(E){this.pa=0,this.g=[],this.c=new Gi,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Uo("failFast",!1,E),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Uo("baseRetryDelayMs",5e3,E),this.Ma=Uo("retryDelaySeedMs",1e4,E),this.Ja=Uo("forwardChannelMaxRetries",2,E),this.ma=Uo("forwardChannelRequestTimeoutMs",2e4,E),this.Ka=E&&E.g||void 0,this.D=void 0,this.C=E&&E.supportsCrossDomainXhr||!1,this.J="",this.b=new xc(E&&E.concurrentRequestLimit),this.ka=new Zr,this.da=E&&E.fastHandshake||!1,this.Ga=E&&E.b||!1,E&&E.f&&(this.c.a=!1),E&&E.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&E&&E.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function ec(E){if(tc(E),3==E.v){var N=E.R++,j=xt(E.B);$n(j,"SID",E.J),$n(j,"RID",N),$n(j,"TYPE","terminate"),Pr(E,j),(N=new el(E,E.c,N,void 0)).H=2,N.i=Qo(xt(j)),j=!1,Oe.navigator&&Oe.navigator.sendBeacon&&(j=Oe.navigator.sendBeacon(N.i.toString(),"")),!j&&Oe.Image&&((new Image).src=N.i,j=!0),j||(N.a=Vs(N.g,null),N.a.ba(N.i)),N.u=at(),ia(N)}nc(E)}function yo(E){E.a&&(Vo(E),E.a.cancel(),E.a=null)}function tc(E){yo(E),E.j&&(Oe.clearTimeout(E.j),E.j=null),Aa(E),E.b.cancel(),E.h&&("number"==typeof E.h&&Oe.clearTimeout(E.h),E.h=null)}function ca(E,N){E.g.push(new Jn(E.La++,N)),3==E.v&&ys(E)}function ys(E){Da(E.b)||E.h||(E.h=!0,Vt(E.Ba,E),E.u=0)}function pu(E,N){var j;j=N?N.f:E.R++;var ee=xt(E.B);$n(ee,"SID",E.J),$n(ee,"RID",j),$n(ee,"AID",E.P),Pr(E,ee),E.i&&E.l&&Dc(ee,E.i,E.l),j=new el(E,E.c,j,E.u+1),null===E.i&&(j.B=E.l),N&&(E.g=N.s.concat(E.g)),N=Us(E,j,1e3),j.setTimeout(Math.round(.5*E.ma)+Math.round(.5*E.ma*Math.random())),Wr(E.b,j),Qa(j,ee,N)}function Pr(E,N){E.f&&br({},function(j,ee){$n(N,ee,j)})}function Us(E,N,j){j=Math.min(E.g.length,j);var ee=E.f?mt(E.f.Ha,E.f,E):null;e:for(var ve=E.g,Ye=-1;;){var kt=["count="+j];-1==Ye?0<j?kt.push("ofs="+(Ye=ve[0].b)):Ye=0:kt.push("ofs="+Ye);for(var Gn=!0,ei=0;ei<j;ei++){var lr=ve[ei].b,Eo=ve[ei].a;if(0>(lr-=Ye))Ye=Math.max(0,ve[ei].b-100),Gn=!1;else try{Ir(Eo,kt,"req"+lr+"_")}catch{ee&&ee(Eo)}}if(Gn){ee=kt.join("&");break e}}return E=E.g.splice(0,j),N.s=E,ee}function la(E){E.a||E.j||(E.U=1,Vt(E.Aa,E),E.o=0)}function Sc(E){return!(E.a||E.j||3<=E.o||(E.U++,E.j=_c(mt(E.Aa,E),Ac(E,E.o)),E.o++,0))}function Vo(E){null!=E.s&&(Oe.clearTimeout(E.s),E.s=null)}function cr(E){E.a=new el(E,E.c,"rpc",E.U),null===E.i&&(E.a.B=E.l),E.a.O=0;var N=xt(E.la);$n(N,"RID","rpc"),$n(N,"SID",E.J),$n(N,"CI",E.H?"0":"1"),$n(N,"AID",E.P),Pr(E,N),$n(N,"TYPE","xmlhttp"),E.i&&E.l&&Dc(N,E.i,E.l),E.D&&E.a.setTimeout(E.D);var j=E.a;E=E.ga,j.H=1,j.i=Qo(xt(N)),j.j=null,j.I=!0,na(j,E)}function Aa(E){null!=E.m&&(Oe.clearTimeout(E.m),E.m=null)}function Yr(E,N){var j=null;if(E.a==N){Aa(E),Vo(E),E.a=null;var ee=2}else{if(!tr(E.b,N))return;j=N.s,sa(E.b,N),ee=1}if(E.I=N.N,0!=E.v)if(N.b)if(1==ee){j=N.j?N.j.length:0,N=at()-N.u;var ve=E.u;(ee=ms()).dispatchEvent(new er(ee,j,N,ve)),ys(E)}else la(E);else if(3==(ve=N.h)||0==ve&&0<E.I||!(1==ee&&function Fl(E,N){return!(Mr(E.b)>=E.b.f-(E.h?1:0)||(E.h?(E.g=N.s.concat(E.g),0):1==E.v||2==E.v||E.u>=(E.Ia?0:E.Ja)||(E.h=_c(mt(E.Ba,E,N),Ac(E,E.u)),E.u++,0)))}(E,N)||2==ee&&Sc(E)))switch(j&&0<j.length&&(N=E.b,N.c=N.c.concat(j)),ve){case 1:bo(E,5);break;case 4:bo(E,10);break;case 3:bo(E,6);break;default:bo(E,2)}}function Ac(E,N){var j=E.Fa+Math.floor(Math.random()*E.Ma);return E.f||(j*=2),j*N}function bo(E,N){if(E.c.info("Error code "+N),2==N){var j=null;E.f&&(j=null);var ee=mt(E.Xa,E);j||(j=new Mi("//www.google.com/images/cleardot.gif"),Oe.location&&"http"==Oe.location.protocol||Cn(j,"https"),Qo(j)),function nl(E,N){var j=new Gi;if(Oe.Image){var ee=new Image;ee.onload=ke(Or,j,ee,"TestLoadImage: loaded",!0,N),ee.onerror=ke(Or,j,ee,"TestLoadImage: error",!1,N),ee.onabort=ke(Or,j,ee,"TestLoadImage: abort",!1,N),ee.ontimeout=ke(Or,j,ee,"TestLoadImage: timeout",!1,N),Oe.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=E}else N(!1)}(j.toString(),ee)}else _o(2);E.v=0,E.f&&E.f.ra(N),nc(E),tc(E)}function nc(E){E.v=0,E.I=-1,E.f&&((0!=Bi(E.b).length||0!=E.g.length)&&(E.b.c.length=0,qe(E.g),E.g.length=0),E.f.qa())}function Ll(E,N,j){var ee=function Oi(E){return E instanceof Mi?xt(E):new Mi(E,void 0)}(j);if(""!=ee.c)N&&xi(ee,N+"."+ee.c),so(ee,ee.h);else{var ve=Oe.location;ee=function ra(E,N,j,ee){var ve=new Mi(null,void 0);return E&&Cn(ve,E),N&&xi(ve,N),j&&so(ve,j),ee&&(ve.g=ee),ve}(ve.protocol,N?N+"."+ve.hostname:ve.hostname,+ve.port,j)}return E.W&&fi(E.W,function(Ye,kt){$n(ee,kt,Ye)}),j=E.na,(N=E.A)&&j&&$n(ee,N,j),$n(ee,"VER",E.ha),Pr(E,ee),ee}function Vs(E,N){if(N&&!E.C)throw Error("Can't create secondary domain capable XhrIo object.");return(N=new di(E.Ka)).F=E.C,N}function ua(){}function il(){if(At&&!(10<=Number(ti)))throw Error("Environmental error: no available transport.")}function yi(E,N){le.call(this),this.a=new $d(N),this.l=E,this.b=N&&N.messageUrlParams||null,E=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.a.l=E,E=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(E?E["X-WebChannel-Content-Type"]=N.messageContentType:E={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.a&&(E?E["X-WebChannel-Client-Profile"]=N.a:E={"X-WebChannel-Client-Profile":N.a}),this.a.O=E,(E=N&&N.httpHeadersOverwriteParam)&&!Le(E)&&(this.a.i=E),this.h=N&&N.supportsCrossDomainXhr||!1,this.g=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!Le(N)&&(this.a.A=N,null!==(E=this.b)&&N in E&&N in(E=this.b)&&delete E[N]),this.f=new It(this)}function Bo(E){vc.call(this);var N=E.__sm__;if(N){e:{for(var j in N){E=j;break e}E=void 0}(this.c=E)?(E=this.c,this.data=null!==N&&E in N?N[E]:void 0):this.data=N}else this.data=E}function Ma(){yc.call(this),this.status=1}function It(E){this.a=E}(ce=di.prototype).ba=function(E,N,j,ee){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+E);N=N?N.toUpperCase():"GET",this.B=E,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function Ya(E){var N;return(N=E.a)||(N=E.a={}),N}(this.H?this.H:Ns),this.a.onreadystatechange=mt(this.za,this);try{this.A=!0,this.a.open(N,String(E),!0),this.A=!1}catch(Ye){return void Ic(this,Ye)}E=j||"";var ve=new wc(this.headers);ee&&br(ee,function(Ye,kt){ve.set(kt,Ye)}),ee=function he(E){e:{for(var N=vs,j=E.length,ee="string"==typeof E?E.split(""):E,ve=0;ve<j;ve++)if(ve in ee&&N.call(void 0,ee[ve],ve,E)){N=ve;break e}N=-1}return 0>N?null:"string"==typeof E?E.charAt(N):E[N]}(ve.L()),j=Oe.FormData&&E instanceof Oe.FormData,!(0<=$e(Rr,N))||ee||j||ve.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),ve.forEach(function(Ye,kt){this.a.setRequestHeader(kt,Ye)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Nl(this),0<this.o&&((this.D=function kl(E){return At&&Un(9)&&"number"==typeof E.timeout&&void 0!==E.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=mt(this.xa,this)):this.m=ze(this.xa,this.o,this)),this.l=!0,this.a.send(E),this.l=!1}catch(Ye){Ic(this,Ye)}},ce.xa=function(){typeof Pe<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},ce.abort=function(E){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=E||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ja(this))},ce.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ja(this,!0)),di.S.G.call(this)},ce.za=function(){this.j||(this.A||this.l||this.g?Tc(this):this.Ta())},ce.Ta=function(){Tc(this)},ce.X=function(){try{return 2<mi(this)?this.a.status:-1}catch{return-1}},ce.$=function(){try{return this.a?this.a.responseText:""}catch{return""}},ce.Na=function(E){if(this.a){var N=this.a.responseText;return E&&0==N.indexOf(E)&&(N=N.substring(E.length)),Kr(N)}},ce.ua=function(){return this.h},ce.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ce=$d.prototype).ha=8,ce.v=1,ce.Ba=function(E){if(this.h)if(this.h=null,1==this.v){if(!E){this.R=Math.floor(1e5*Math.random()),E=this.R++;var ee,N=new el(this,this.c,E,void 0),j=this.l;if(this.O&&(j?He(j=De(j),this.O):j=this.O),null===this.i&&(N.B=j),this.da)e:{for(var ve=ee=0;ve<this.g.length;ve++){var Ye=this.g[ve];if(void 0===(Ye="__data__"in Ye.a&&"string"==typeof(Ye=Ye.a.__data__)?Ye.length:void 0))break;if(4096<(ee+=Ye)){ee=ve;break e}if(4096===ee||ve===this.g.length-1){ee=ve+1;break e}}ee=1e3}else ee=1e3;ee=Us(this,N,ee),$n(ve=xt(this.B),"RID",E),$n(ve,"CVER",22),this.A&&$n(ve,"X-HTTP-Session-Id",this.A),Pr(this,ve),this.i&&j&&Dc(ve,this.i,j),Wr(this.b,N),this.Ga&&$n(ve,"TYPE","init"),this.da?($n(ve,"$req",ee),$n(ve,"SID","null"),N.V=!0,Qa(N,ve,null)):Qa(N,ve,ee),this.v=2}}else 3==this.v&&(E?pu(this,E):0==this.g.length||Da(this.b)||pu(this))},ce.Aa=function(){if(this.j=null,cr(this),this.V&&!(this.F||null==this.a||0>=this.N)){var E=2*this.N;this.c.info("BP detection timer enabled: "+E),this.s=_c(mt(this.Sa,this),E)}},ce.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,yo(this),cr(this))},ce.Ra=function(){null!=this.m&&(this.m=null,yo(this),Sc(this),_o(19))},ce.Xa=function(E){E?(this.c.info("Successfully pinged google.com"),_o(2)):(this.c.info("Failed to ping google.com"),_o(1))},(ce=ua.prototype).ta=function(){},ce.sa=function(){},ce.ra=function(){},ce.qa=function(){},ce.Ha=function(){},il.prototype.a=function(E,N){return new yi(E,N)},Ze(yi,le),(ce=yi.prototype).addEventListener=function(E,N,j,ee){yi.S.addEventListener.call(this,E,N,j,ee)},ce.removeEventListener=function(E,N,j,ee){yi.S.removeEventListener.call(this,E,N,j,ee)},ce.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var E=this.a,N=this.l,j=this.b||void 0;_o(0),E.fa=N,E.W=j||{},E.H=E.T,E.B=Ll(E,null,E.fa),ys(E)},ce.close=function(){ec(this.a)},ce.Pa=function(E){if("string"==typeof E){var N={};N.__data__=E,ca(this.a,N)}else this.g?((N={}).__data__=te(E),ca(this.a,N)):ca(this.a,E)},ce.G=function(){this.a.f=null,delete this.f,ec(this.a),delete this.a,yi.S.G.call(this)},Ze(Bo,vc),Ze(Ma,yc),Ze(It,ua),It.prototype.ta=function(){this.a.dispatchEvent("a")},It.prototype.sa=function(E){this.a.dispatchEvent(new Bo(E))},It.prototype.ra=function(E){this.a.dispatchEvent(new Ma(E))},It.prototype.qa=function(){this.a.dispatchEvent("b")},il.prototype.createWebChannel=il.prototype.a,yi.prototype.send=yi.prototype.Pa,yi.prototype.open=yi.prototype.Oa,yi.prototype.close=yi.prototype.close,Ka.NO_ERROR=0,Ka.TIMEOUT=8,Ka.HTTP_ERROR=6,$r.COMPLETE="complete",Zu.EventType=ea,ea.OPEN="a",ea.CLOSE="b",ea.ERROR="c",ea.MESSAGE="d",le.prototype.listen=le.prototype.va,di.prototype.listenOnce=di.prototype.wa,di.prototype.getLastError=di.prototype.Qa,di.prototype.getLastErrorCode=di.prototype.ua,di.prototype.getStatus=di.prototype.X,di.prototype.getResponseJson=di.prototype.Na,di.prototype.getResponseText=di.prototype.$,di.prototype.send=di.prototype.ba;var Jo=function(){return new il},Mc=Ka,wo=$r,Bs=Zu,Oc=di;const Oa={createWebChannelTransport:Jo,ErrorCode:Ka,EventType:$r,WebChannel:Zu,XhrIo:di}},5619:(en,Ae,Q)=>{Q.d(Ae,{X:()=>U});var l=Q(8645);class U extends l.x{constructor(pe){super(),this._value=pe}get value(){return this.getValue()}_subscribe(pe){const ce=super._subscribe(pe);return!ce.closed&&pe.next(this._value),ce}getValue(){const{hasError:pe,thrownError:ce,_value:Pe}=this;if(pe)throw ce;return this._throwIfClosed(),Pe}next(pe){super.next(this._value=pe)}}},5592:(en,Ae,Q)=>{Q.d(Ae,{y:()=>ut});var l=Q(305),U=Q(7394),K=Q(4850),pe=Q(8407),ce=Q(2653),Pe=Q(4674),Oe=Q(1441);let ut=(()=>{class de{constructor(me){me&&(this._subscribe=me)}lift(me){const lt=new de;return lt.source=this,lt.operator=me,lt}subscribe(me,lt,st){const mt=function q(de){return de&&de instanceof l.Lv||function z(de){return de&&(0,Pe.m)(de.next)&&(0,Pe.m)(de.error)&&(0,Pe.m)(de.complete)}(de)&&(0,U.Nn)(de)}(me)?me:new l.Hp(me,lt,st);return(0,Oe.x)(()=>{const{operator:ke,source:at}=this;mt.add(ke?ke.call(mt,at):at?this._subscribe(mt):this._trySubscribe(mt))}),mt}_trySubscribe(me){try{return this._subscribe(me)}catch(lt){me.error(lt)}}forEach(me,lt){return new(lt=Ve(lt))((st,mt)=>{const ke=new l.Hp({next:at=>{try{me(at)}catch(Ze){mt(Ze),ke.unsubscribe()}},error:mt,complete:st});this.subscribe(ke)})}_subscribe(me){var lt;return null===(lt=this.source)||void 0===lt?void 0:lt.subscribe(me)}[K.L](){return this}pipe(...me){return(0,pe.U)(me)(this)}toPromise(me){return new(me=Ve(me))((lt,st)=>{let mt;this.subscribe(ke=>mt=ke,ke=>st(ke),()=>lt(mt))})}}return de.create=Ne=>new de(Ne),de})();function Ve(de){var Ne;return null!==(Ne=de??ce.config.Promise)&&void 0!==Ne?Ne:Promise}},8645:(en,Ae,Q)=>{Q.d(Ae,{x:()=>Oe});var l=Q(5592),U=Q(7394);const pe=(0,Q(2306).d)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=Q(9039),Pe=Q(1441);let Oe=(()=>{class Ve extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const de=new ut(this,this);return de.operator=q,de}_throwIfClosed(){if(this.closed)throw new pe}next(q){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const de of this.currentObservers)de.next(q)}})}error(q){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:de}=this;for(;de.length;)de.shift().error(q)}})}complete(){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:de,isStopped:Ne,observers:me}=this;return de||Ne?U.Lc:(this.currentObservers=null,me.push(q),new U.w0(()=>{this.currentObservers=null,(0,ce.P)(me,q)}))}_checkFinalizedStatuses(q){const{hasError:de,thrownError:Ne,isStopped:me}=this;de?q.error(Ne):me&&q.complete()}asObservable(){const q=new l.y;return q.source=this,q}}return Ve.create=(z,q)=>new ut(z,q),Ve})();class ut extends Oe{constructor(z,q){super(),this.destination=z,this.source=q}next(z){var q,de;null===(de=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===de||de.call(q,z)}error(z){var q,de;null===(de=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===de||de.call(q,z)}complete(){var z,q;null===(q=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===q||q.call(z)}_subscribe(z){var q,de;return null!==(de=null===(q=this.source)||void 0===q?void 0:q.subscribe(z))&&void 0!==de?de:U.Lc}}},305:(en,Ae,Q)=>{Q.d(Ae,{Hp:()=>st,Lv:()=>de});var l=Q(4674),U=Q(7394),K=Q(2653),pe=Q(3894),ce=Q(2420);const Pe=Ve("C",void 0,void 0);function Ve(Ce,nt,$e){return{kind:Ce,value:nt,error:$e}}var z=Q(7599),q=Q(1441);class de extends U.w0{constructor(nt){super(),this.isStopped=!1,nt?(this.destination=nt,(0,U.Nn)(nt)&&nt.add(this)):this.destination=Ze}static create(nt,$e,it){return new st(nt,$e,it)}next(nt){this.isStopped?at(function ut(Ce){return Ve("N",Ce,void 0)}(nt),this):this._next(nt)}error(nt){this.isStopped?at(function Oe(Ce){return Ve("E",void 0,Ce)}(nt),this):(this.isStopped=!0,this._error(nt))}complete(){this.isStopped?at(Pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(nt){this.destination.next(nt)}_error(nt){try{this.destination.error(nt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function me(Ce,nt){return Ne.call(Ce,nt)}class lt{constructor(nt){this.partialObserver=nt}next(nt){const{partialObserver:$e}=this;if($e.next)try{$e.next(nt)}catch(it){mt(it)}}error(nt){const{partialObserver:$e}=this;if($e.error)try{$e.error(nt)}catch(it){mt(it)}else mt(nt)}complete(){const{partialObserver:nt}=this;if(nt.complete)try{nt.complete()}catch($e){mt($e)}}}class st extends de{constructor(nt,$e,it){let he;if(super(),(0,l.m)(nt)||!nt)he={next:nt??void 0,error:$e??void 0,complete:it??void 0};else{let ue;this&&K.config.useDeprecatedNextContext?(ue=Object.create(nt),ue.unsubscribe=()=>this.unsubscribe(),he={next:nt.next&&me(nt.next,ue),error:nt.error&&me(nt.error,ue),complete:nt.complete&&me(nt.complete,ue)}):he=nt}this.destination=new lt(he)}}function mt(Ce){K.config.useDeprecatedSynchronousErrorHandling?(0,q.O)(Ce):(0,pe.h)(Ce)}function at(Ce,nt){const{onStoppedNotification:$e}=K.config;$e&&z.z.setTimeout(()=>$e(Ce,nt))}const Ze={closed:!0,next:ce.Z,error:function ke(Ce){throw Ce},complete:ce.Z}},7394:(en,Ae,Q)=>{Q.d(Ae,{Lc:()=>Pe,w0:()=>ce,Nn:()=>Oe});var l=Q(4674);const K=(0,Q(2306).d)(Ve=>function(q){Ve(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((de,Ne)=>`${Ne+1}) ${de.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var pe=Q(9039);class ce{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const me of q)me.remove(this);else q.remove(this);const{initialTeardown:de}=this;if((0,l.m)(de))try{de()}catch(me){z=me instanceof K?me.errors:[me]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const me of Ne)try{ut(me)}catch(lt){z=z??[],lt instanceof K?z=[...z,...lt.errors]:z.push(lt)}}if(z)throw new K(z)}}add(z){var q;if(z&&z!==this)if(this.closed)ut(z);else{if(z instanceof ce){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(z)}}_hasParent(z){const{_parentage:q}=this;return q===z||Array.isArray(q)&&q.includes(z)}_addParent(z){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(z),q):q?[q,z]:z}_removeParent(z){const{_parentage:q}=this;q===z?this._parentage=null:Array.isArray(q)&&(0,pe.P)(q,z)}remove(z){const{_finalizers:q}=this;q&&(0,pe.P)(q,z),z instanceof ce&&z._removeParent(this)}}ce.EMPTY=(()=>{const Ve=new ce;return Ve.closed=!0,Ve})();const Pe=ce.EMPTY;function Oe(Ve){return Ve instanceof ce||Ve&&"closed"in Ve&&(0,l.m)(Ve.remove)&&(0,l.m)(Ve.add)&&(0,l.m)(Ve.unsubscribe)}function ut(Ve){(0,l.m)(Ve)?Ve():Ve.unsubscribe()}},2653:(en,Ae,Q)=>{Q.d(Ae,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(en,Ae,Q)=>{Q.d(Ae,{E:()=>U});const U=new(Q(5592).y)(ce=>ce.complete())},2459:(en,Ae,Q)=>{Q.d(Ae,{D:()=>nt});var l=Q(4829),U=Q(3093),K=Q(5137),Pe=Q(5592),ut=Q(4971),Ve=Q(4674),z=Q(7103);function de($e,it){if(!$e)throw new Error("Iterable cannot be null");return new Pe.y(he=>{(0,z.f)(he,it,()=>{const ue=$e[Symbol.asyncIterator]();(0,z.f)(he,it,()=>{ue.next().then(qe=>{qe.done?he.complete():he.next(qe.value)})},0,!0)})})}var Ne=Q(8382),me=Q(4026),lt=Q(4266),st=Q(3664),mt=Q(5726),ke=Q(9853),at=Q(541);function nt($e,it){return it?function Ce($e,it){if(null!=$e){if((0,Ne.c)($e))return function pe($e,it){return(0,l.Xf)($e).pipe((0,K.R)(it),(0,U.Q)(it))}($e,it);if((0,lt.z)($e))return function Oe($e,it){return new Pe.y(he=>{let ue=0;return it.schedule(function(){ue===$e.length?he.complete():(he.next($e[ue++]),he.closed||this.schedule())})})}($e,it);if((0,me.t)($e))return function ce($e,it){return(0,l.Xf)($e).pipe((0,K.R)(it),(0,U.Q)(it))}($e,it);if((0,mt.D)($e))return de($e,it);if((0,st.T)($e))return function q($e,it){return new Pe.y(he=>{let ue;return(0,z.f)(he,it,()=>{ue=$e[ut.h](),(0,z.f)(he,it,()=>{let qe,Le;try{({value:qe,done:Le}=ue.next())}catch(Et){return void he.error(Et)}Le?he.complete():he.next(qe)},0,!0)}),()=>(0,Ve.m)(ue?.return)&&ue.return()})}($e,it);if((0,at.L)($e))return function Ze($e,it){return de((0,at.Q)($e),it)}($e,it)}throw(0,ke.z)($e)}($e,it):(0,l.Xf)($e)}},4829:(en,Ae,Q)=>{Q.d(Ae,{Xf:()=>Ne});var l=Q(7582),U=Q(4266),K=Q(4026),pe=Q(5592),ce=Q(8382),Pe=Q(5726),Oe=Q(9853),ut=Q(3664),Ve=Q(541),z=Q(4674),q=Q(3894),de=Q(4850);function Ne(Ce){if(Ce instanceof pe.y)return Ce;if(null!=Ce){if((0,ce.c)(Ce))return function me(Ce){return new pe.y(nt=>{const $e=Ce[de.L]();if((0,z.m)($e.subscribe))return $e.subscribe(nt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ce);if((0,U.z)(Ce))return function lt(Ce){return new pe.y(nt=>{for(let $e=0;$e<Ce.length&&!nt.closed;$e++)nt.next(Ce[$e]);nt.complete()})}(Ce);if((0,K.t)(Ce))return function st(Ce){return new pe.y(nt=>{Ce.then($e=>{nt.closed||(nt.next($e),nt.complete())},$e=>nt.error($e)).then(null,q.h)})}(Ce);if((0,Pe.D)(Ce))return ke(Ce);if((0,ut.T)(Ce))return function mt(Ce){return new pe.y(nt=>{for(const $e of Ce)if(nt.next($e),nt.closed)return;nt.complete()})}(Ce);if((0,Ve.L)(Ce))return function at(Ce){return ke((0,Ve.Q)(Ce))}(Ce)}throw(0,Oe.z)(Ce)}function ke(Ce){return new pe.y(nt=>{(function Ze(Ce,nt){var $e,it,he,ue;return(0,l.mG)(this,void 0,void 0,function*(){try{for($e=(0,l.KL)(Ce);!(it=yield $e.next()).done;)if(nt.next(it.value),nt.closed)return}catch(qe){he={error:qe}}finally{try{it&&!it.done&&(ue=$e.return)&&(yield ue.call($e))}finally{if(he)throw he.error}}nt.complete()})})(Ce,nt).catch($e=>nt.error($e))})}},3019:(en,Ae,Q)=>{Q.d(Ae,{T:()=>Pe});var l=Q(7537),U=Q(4829),K=Q(6232),pe=Q(9940),ce=Q(2459);function Pe(...Oe){const ut=(0,pe.yG)(Oe),Ve=(0,pe._6)(Oe,1/0),z=Oe;return z.length?1===z.length?(0,U.Xf)(z[0]):(0,l.J)(Ve)((0,ce.D)(z,ut)):K.E}},2096:(en,Ae,Q)=>{Q.d(Ae,{of:()=>K});var l=Q(9940),U=Q(2459);function K(...pe){const ce=(0,l.yG)(pe);return(0,U.D)(pe,ce)}},8251:(en,Ae,Q)=>{Q.d(Ae,{x:()=>U});var l=Q(305);function U(pe,ce,Pe,Oe,ut){return new K(pe,ce,Pe,Oe,ut)}class K extends l.Lv{constructor(ce,Pe,Oe,ut,Ve,z){super(ce),this.onFinalize=Ve,this.shouldUnsubscribe=z,this._next=Pe?function(q){try{Pe(q)}catch(de){ce.error(de)}}:super._next,this._error=ut?function(q){try{ut(q)}catch(de){ce.error(de)}finally{this.unsubscribe()}}:super._error,this._complete=Oe?function(){try{Oe()}catch(q){ce.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Pe}=this;super.unsubscribe(),!Pe&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},3997:(en,Ae,Q)=>{Q.d(Ae,{x:()=>pe});var l=Q(2737),U=Q(9360),K=Q(8251);function pe(Pe,Oe=l.y){return Pe=Pe??ce,(0,U.e)((ut,Ve)=>{let z,q=!0;ut.subscribe((0,K.x)(Ve,de=>{const Ne=Oe(de);(q||!Pe(z,Ne))&&(q=!1,z=Ne,Ve.next(de))}))})}function ce(Pe,Oe){return Pe===Oe}},7398:(en,Ae,Q)=>{Q.d(Ae,{U:()=>K});var l=Q(9360),U=Q(8251);function K(pe,ce){return(0,l.e)((Pe,Oe)=>{let ut=0;Pe.subscribe((0,U.x)(Oe,Ve=>{Oe.next(pe.call(ce,Ve,ut++))}))})}},7537:(en,Ae,Q)=>{Q.d(Ae,{J:()=>K});var l=Q(1631),U=Q(2737);function K(pe=1/0){return(0,l.z)(U.y,pe)}},1631:(en,Ae,Q)=>{Q.d(Ae,{z:()=>ut});var l=Q(7398),U=Q(4829),K=Q(9360),pe=Q(7103),ce=Q(8251),Oe=Q(4674);function ut(Ve,z,q=1/0){return(0,Oe.m)(z)?ut((de,Ne)=>(0,l.U)((me,lt)=>z(de,me,Ne,lt))((0,U.Xf)(Ve(de,Ne))),q):("number"==typeof z&&(q=z),(0,K.e)((de,Ne)=>function Pe(Ve,z,q,de,Ne,me,lt,st){const mt=[];let ke=0,at=0,Ze=!1;const Ce=()=>{Ze&&!mt.length&&!ke&&z.complete()},nt=it=>ke<de?$e(it):mt.push(it),$e=it=>{me&&z.next(it),ke++;let he=!1;(0,U.Xf)(q(it,at++)).subscribe((0,ce.x)(z,ue=>{Ne?.(ue),me?nt(ue):z.next(ue)},()=>{he=!0},void 0,()=>{if(he)try{for(ke--;mt.length&&ke<de;){const ue=mt.shift();lt?(0,pe.f)(z,lt,()=>$e(ue)):$e(ue)}Ce()}catch(ue){z.error(ue)}}))};return Ve.subscribe((0,ce.x)(z,nt,()=>{Ze=!0,Ce()})),()=>{st?.()}}(de,Ne,Ve,q)))}},3093:(en,Ae,Q)=>{Q.d(Ae,{Q:()=>pe});var l=Q(7103),U=Q(9360),K=Q(8251);function pe(ce,Pe=0){return(0,U.e)((Oe,ut)=>{Oe.subscribe((0,K.x)(ut,Ve=>(0,l.f)(ut,ce,()=>ut.next(Ve),Pe),()=>(0,l.f)(ut,ce,()=>ut.complete(),Pe),Ve=>(0,l.f)(ut,ce,()=>ut.error(Ve),Pe)))})}},3020:(en,Ae,Q)=>{Q.d(Ae,{B:()=>ce});var l=Q(4829),U=Q(8645),K=Q(305),pe=Q(9360);function ce(Oe={}){const{connector:ut=(()=>new U.x),resetOnError:Ve=!0,resetOnComplete:z=!0,resetOnRefCountZero:q=!0}=Oe;return de=>{let Ne,me,lt,st=0,mt=!1,ke=!1;const at=()=>{me?.unsubscribe(),me=void 0},Ze=()=>{at(),Ne=lt=void 0,mt=ke=!1},Ce=()=>{const nt=Ne;Ze(),nt?.unsubscribe()};return(0,pe.e)((nt,$e)=>{st++,!ke&&!mt&&at();const it=lt=lt??ut();$e.add(()=>{st--,0===st&&!ke&&!mt&&(me=Pe(Ce,q))}),it.subscribe($e),!Ne&&st>0&&(Ne=new K.Hp({next:he=>it.next(he),error:he=>{ke=!0,at(),me=Pe(Ze,Ve,he),it.error(he)},complete:()=>{mt=!0,at(),me=Pe(Ze,z),it.complete()}}),(0,l.Xf)(nt).subscribe(Ne))})(de)}}function Pe(Oe,ut,...Ve){if(!0===ut)return void Oe();if(!1===ut)return;const z=new K.Hp({next:()=>{z.unsubscribe(),Oe()}});return(0,l.Xf)(ut(...Ve)).subscribe(z)}},5137:(en,Ae,Q)=>{Q.d(Ae,{R:()=>U});var l=Q(9360);function U(K,pe=0){return(0,l.e)((ce,Pe)=>{Pe.add(K.schedule(()=>ce.subscribe(Pe),pe))})}},4664:(en,Ae,Q)=>{Q.d(Ae,{w:()=>pe});var l=Q(4829),U=Q(9360),K=Q(8251);function pe(ce,Pe){return(0,U.e)((Oe,ut)=>{let Ve=null,z=0,q=!1;const de=()=>q&&!Ve&&ut.complete();Oe.subscribe((0,K.x)(ut,Ne=>{Ve?.unsubscribe();let me=0;const lt=z++;(0,l.Xf)(ce(Ne,lt)).subscribe(Ve=(0,K.x)(ut,st=>ut.next(Pe?Pe(Ne,st,lt,me++):st),()=>{Ve=null,de()}))},()=>{q=!0,de()}))})}},9397:(en,Ae,Q)=>{Q.d(Ae,{b:()=>ce});var l=Q(4674),U=Q(9360),K=Q(8251),pe=Q(2737);function ce(Pe,Oe,ut){const Ve=(0,l.m)(Pe)||Oe||ut?{next:Pe,error:Oe,complete:ut}:Pe;return Ve?(0,U.e)((z,q)=>{var de;null===(de=Ve.subscribe)||void 0===de||de.call(Ve);let Ne=!0;z.subscribe((0,K.x)(q,me=>{var lt;null===(lt=Ve.next)||void 0===lt||lt.call(Ve,me),q.next(me)},()=>{var me;Ne=!1,null===(me=Ve.complete)||void 0===me||me.call(Ve),q.complete()},me=>{var lt;Ne=!1,null===(lt=Ve.error)||void 0===lt||lt.call(Ve,me),q.error(me)},()=>{var me,lt;Ne&&(null===(me=Ve.unsubscribe)||void 0===me||me.call(Ve)),null===(lt=Ve.finalize)||void 0===lt||lt.call(Ve)}))}):pe.y}},1954:(en,Ae,Q)=>{Q.d(Ae,{o:()=>ce});var l=Q(7394);class U extends l.w0{constructor(Oe,ut){super()}schedule(Oe,ut=0){return this}}const K={setInterval(Pe,Oe,...ut){const{delegate:Ve}=K;return Ve?.setInterval?Ve.setInterval(Pe,Oe,...ut):setInterval(Pe,Oe,...ut)},clearInterval(Pe){const{delegate:Oe}=K;return(Oe?.clearInterval||clearInterval)(Pe)},delegate:void 0};var pe=Q(9039);class ce extends U{constructor(Oe,ut){super(Oe,ut),this.scheduler=Oe,this.work=ut,this.pending=!1}schedule(Oe,ut=0){var Ve;if(this.closed)return this;this.state=Oe;const z=this.id,q=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(q,z,ut)),this.pending=!0,this.delay=ut,this.id=null!==(Ve=this.id)&&void 0!==Ve?Ve:this.requestAsyncId(q,this.id,ut),this}requestAsyncId(Oe,ut,Ve=0){return K.setInterval(Oe.flush.bind(Oe,this),Ve)}recycleAsyncId(Oe,ut,Ve=0){if(null!=Ve&&this.delay===Ve&&!1===this.pending)return ut;null!=ut&&K.clearInterval(ut)}execute(Oe,ut){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(Oe,ut);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Oe,ut){let z,Ve=!1;try{this.work(Oe)}catch(q){Ve=!0,z=q||new Error("Scheduled action threw falsy error")}if(Ve)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:Oe,scheduler:ut}=this,{actions:Ve}=ut;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(Ve,this),null!=Oe&&(this.id=this.recycleAsyncId(ut,Oe,null)),this.delay=null,super.unsubscribe()}}}},2631:(en,Ae,Q)=>{Q.d(Ae,{v:()=>K});var l=Q(4552);class U{constructor(ce,Pe=U.now){this.schedulerActionCtor=ce,this.now=Pe}schedule(ce,Pe=0,Oe){return new this.schedulerActionCtor(this,ce).schedule(Oe,Pe)}}U.now=l.l.now;class K extends U{constructor(ce,Pe=U.now){super(ce,Pe),this.actions=[],this._active=!1}flush(ce){const{actions:Pe}=this;if(this._active)return void Pe.push(ce);let Oe;this._active=!0;do{if(Oe=ce.execute(ce.state,ce.delay))break}while(ce=Pe.shift());if(this._active=!1,Oe){for(;ce=Pe.shift();)ce.unsubscribe();throw Oe}}}},6321:(en,Ae,Q)=>{Q.d(Ae,{P:()=>pe,z:()=>K});var l=Q(1954);const K=new(Q(2631).v)(l.o),pe=K},4552:(en,Ae,Q)=>{Q.d(Ae,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},7599:(en,Ae,Q)=>{Q.d(Ae,{z:()=>l});const l={setTimeout(U,K,...pe){const{delegate:ce}=l;return ce?.setTimeout?ce.setTimeout(U,K,...pe):setTimeout(U,K,...pe)},clearTimeout(U){const{delegate:K}=l;return(K?.clearTimeout||clearTimeout)(U)},delegate:void 0}},4971:(en,Ae,Q)=>{Q.d(Ae,{h:()=>U});const U=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(en,Ae,Q)=>{Q.d(Ae,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(en,Ae,Q)=>{Q.d(Ae,{_6:()=>Pe,jO:()=>pe,yG:()=>ce});var l=Q(4674),U=Q(671);function K(Oe){return Oe[Oe.length-1]}function pe(Oe){return(0,l.m)(K(Oe))?Oe.pop():void 0}function ce(Oe){return(0,U.K)(K(Oe))?Oe.pop():void 0}function Pe(Oe,ut){return"number"==typeof K(Oe)?Oe.pop():ut}},9039:(en,Ae,Q)=>{function l(U,K){if(U){const pe=U.indexOf(K);0<=pe&&U.splice(pe,1)}}Q.d(Ae,{P:()=>l})},2306:(en,Ae,Q)=>{function l(U){const pe=U(ce=>{Error.call(ce),ce.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}Q.d(Ae,{d:()=>l})},1441:(en,Ae,Q)=>{Q.d(Ae,{O:()=>pe,x:()=>K});var l=Q(2653);let U=null;function K(ce){if(l.config.useDeprecatedSynchronousErrorHandling){const Pe=!U;if(Pe&&(U={errorThrown:!1,error:null}),ce(),Pe){const{errorThrown:Oe,error:ut}=U;if(U=null,Oe)throw ut}}else ce()}function pe(ce){l.config.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=ce)}},7103:(en,Ae,Q)=>{function l(U,K,pe,ce=0,Pe=!1){const Oe=K.schedule(function(){pe(),Pe?U.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(U.add(Oe),!Pe)return Oe}Q.d(Ae,{f:()=>l})},2737:(en,Ae,Q)=>{function l(U){return U}Q.d(Ae,{y:()=>l})},4266:(en,Ae,Q)=>{Q.d(Ae,{z:()=>l});const l=U=>U&&"number"==typeof U.length&&"function"!=typeof U},5726:(en,Ae,Q)=>{Q.d(Ae,{D:()=>U});var l=Q(4674);function U(K){return Symbol.asyncIterator&&(0,l.m)(K?.[Symbol.asyncIterator])}},4674:(en,Ae,Q)=>{function l(U){return"function"==typeof U}Q.d(Ae,{m:()=>l})},8382:(en,Ae,Q)=>{Q.d(Ae,{c:()=>K});var l=Q(4850),U=Q(4674);function K(pe){return(0,U.m)(pe[l.L])}},3664:(en,Ae,Q)=>{Q.d(Ae,{T:()=>K});var l=Q(4971),U=Q(4674);function K(pe){return(0,U.m)(pe?.[l.h])}},4026:(en,Ae,Q)=>{Q.d(Ae,{t:()=>U});var l=Q(4674);function U(K){return(0,l.m)(K?.then)}},541:(en,Ae,Q)=>{Q.d(Ae,{L:()=>pe,Q:()=>K});var l=Q(7582),U=Q(4674);function K(ce){return(0,l.FC)(this,arguments,function*(){const Oe=ce.getReader();try{for(;;){const{value:ut,done:Ve}=yield(0,l.qq)(Oe.read());if(Ve)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ut)}}finally{Oe.releaseLock()}})}function pe(ce){return(0,U.m)(ce?.getReader)}},671:(en,Ae,Q)=>{Q.d(Ae,{K:()=>U});var l=Q(4674);function U(K){return K&&(0,l.m)(K.schedule)}},9360:(en,Ae,Q)=>{Q.d(Ae,{A:()=>U,e:()=>K});var l=Q(4674);function U(pe){return(0,l.m)(pe?.lift)}function K(pe){return ce=>{if(U(ce))return ce.lift(function(Pe){try{return pe(Pe,this)}catch(Oe){this.error(Oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(en,Ae,Q)=>{function l(){}Q.d(Ae,{Z:()=>l})},8407:(en,Ae,Q)=>{Q.d(Ae,{U:()=>K,z:()=>U});var l=Q(2737);function U(...pe){return K(pe)}function K(pe){return 0===pe.length?l.y:1===pe.length?pe[0]:function(Pe){return pe.reduce((Oe,ut)=>ut(Oe),Pe)}}},3894:(en,Ae,Q)=>{Q.d(Ae,{h:()=>K});var l=Q(2653),U=Q(7599);function K(pe){U.z.setTimeout(()=>{const{onUnhandledError:ce}=l.config;if(!ce)throw pe;ce(pe)})}},9853:(en,Ae,Q)=>{function l(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Q.d(Ae,{z:()=>l})},8005:(en,Ae,Q)=>{Q.r(Ae),Q.d(Ae,{__assign:()=>K,__asyncDelegator:()=>ke,__asyncGenerator:()=>mt,__asyncValues:()=>at,__await:()=>st,__awaiter:()=>ut,__classPrivateFieldGet:()=>$e,__classPrivateFieldSet:()=>it,__createBinding:()=>z,__decorate:()=>ce,__exportStar:()=>q,__extends:()=>U,__generator:()=>Ve,__importDefault:()=>nt,__importStar:()=>Ce,__makeTemplateObject:()=>Ze,__metadata:()=>Oe,__param:()=>Pe,__read:()=>Ne,__rest:()=>pe,__spread:()=>me,__spreadArrays:()=>lt,__values:()=>de});var l=function(he,ue){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(qe,Le){qe.__proto__=Le}||function(qe,Le){for(var Et in Le)Le.hasOwnProperty(Et)&&(qe[Et]=Le[Et])})(he,ue)};function U(he,ue){function qe(){this.constructor=he}l(he,ue),he.prototype=null===ue?Object.create(ue):(qe.prototype=ue.prototype,new qe)}var K=function(){return K=Object.assign||function(ue){for(var qe,Le=1,Et=arguments.length;Le<Et;Le++)for(var ot in qe=arguments[Le])Object.prototype.hasOwnProperty.call(qe,ot)&&(ue[ot]=qe[ot]);return ue},K.apply(this,arguments)};function pe(he,ue){var qe={};for(var Le in he)Object.prototype.hasOwnProperty.call(he,Le)&&ue.indexOf(Le)<0&&(qe[Le]=he[Le]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var Et=0;for(Le=Object.getOwnPropertySymbols(he);Et<Le.length;Et++)ue.indexOf(Le[Et])<0&&Object.prototype.propertyIsEnumerable.call(he,Le[Et])&&(qe[Le[Et]]=he[Le[Et]])}return qe}function ce(he,ue,qe,Le){var Kt,Et=arguments.length,ot=Et<3?ue:null===Le?Le=Object.getOwnPropertyDescriptor(ue,qe):Le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ot=Reflect.decorate(he,ue,qe,Le);else for(var nn=he.length-1;nn>=0;nn--)(Kt=he[nn])&&(ot=(Et<3?Kt(ot):Et>3?Kt(ue,qe,ot):Kt(ue,qe))||ot);return Et>3&&ot&&Object.defineProperty(ue,qe,ot),ot}function Pe(he,ue){return function(qe,Le){ue(qe,Le,he)}}function Oe(he,ue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(he,ue)}function ut(he,ue,qe,Le){return new(qe||(qe=Promise))(function(ot,Kt){function nn(fi){try{rn(Le.next(fi))}catch(De){Kt(De)}}function un(fi){try{rn(Le.throw(fi))}catch(De){Kt(De)}}function rn(fi){fi.done?ot(fi.value):function Et(ot){return ot instanceof qe?ot:new qe(function(Kt){Kt(ot)})}(fi.value).then(nn,un)}rn((Le=Le.apply(he,ue||[])).next())})}function Ve(he,ue){var Le,Et,ot,Kt,qe={label:0,sent:function(){if(1&ot[0])throw ot[1];return ot[1]},trys:[],ops:[]};return Kt={next:nn(0),throw:nn(1),return:nn(2)},"function"==typeof Symbol&&(Kt[Symbol.iterator]=function(){return this}),Kt;function nn(rn){return function(fi){return function un(rn){if(Le)throw new TypeError("Generator is already executing.");for(;qe;)try{if(Le=1,Et&&(ot=2&rn[0]?Et.return:rn[0]?Et.throw||((ot=Et.return)&&ot.call(Et),0):Et.next)&&!(ot=ot.call(Et,rn[1])).done)return ot;switch(Et=0,ot&&(rn=[2&rn[0],ot.value]),rn[0]){case 0:case 1:ot=rn;break;case 4:return qe.label++,{value:rn[1],done:!1};case 5:qe.label++,Et=rn[1],rn=[0];continue;case 7:rn=qe.ops.pop(),qe.trys.pop();continue;default:if(!(ot=(ot=qe.trys).length>0&&ot[ot.length-1])&&(6===rn[0]||2===rn[0])){qe=0;continue}if(3===rn[0]&&(!ot||rn[1]>ot[0]&&rn[1]<ot[3])){qe.label=rn[1];break}if(6===rn[0]&&qe.label<ot[1]){qe.label=ot[1],ot=rn;break}if(ot&&qe.label<ot[2]){qe.label=ot[2],qe.ops.push(rn);break}ot[2]&&qe.ops.pop(),qe.trys.pop();continue}rn=ue.call(he,qe)}catch(fi){rn=[6,fi],Et=0}finally{Le=ot=0}if(5&rn[0])throw rn[1];return{value:rn[0]?rn[1]:void 0,done:!0}}([rn,fi])}}}function z(he,ue,qe,Le){void 0===Le&&(Le=qe),he[Le]=ue[qe]}function q(he,ue){for(var qe in he)"default"!==qe&&!ue.hasOwnProperty(qe)&&(ue[qe]=he[qe])}function de(he){var ue="function"==typeof Symbol&&Symbol.iterator,qe=ue&&he[ue],Le=0;if(qe)return qe.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&Le>=he.length&&(he=void 0),{value:he&&he[Le++],done:!he}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(he,ue){var qe="function"==typeof Symbol&&he[Symbol.iterator];if(!qe)return he;var Et,Kt,Le=qe.call(he),ot=[];try{for(;(void 0===ue||ue-- >0)&&!(Et=Le.next()).done;)ot.push(Et.value)}catch(nn){Kt={error:nn}}finally{try{Et&&!Et.done&&(qe=Le.return)&&qe.call(Le)}finally{if(Kt)throw Kt.error}}return ot}function me(){for(var he=[],ue=0;ue<arguments.length;ue++)he=he.concat(Ne(arguments[ue]));return he}function lt(){for(var he=0,ue=0,qe=arguments.length;ue<qe;ue++)he+=arguments[ue].length;var Le=Array(he),Et=0;for(ue=0;ue<qe;ue++)for(var ot=arguments[ue],Kt=0,nn=ot.length;Kt<nn;Kt++,Et++)Le[Et]=ot[Kt];return Le}function st(he){return this instanceof st?(this.v=he,this):new st(he)}function mt(he,ue,qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Et,Le=qe.apply(he,ue||[]),ot=[];return Et={},Kt("next"),Kt("throw"),Kt("return"),Et[Symbol.asyncIterator]=function(){return this},Et;function Kt(Ee){Le[Ee]&&(Et[Ee]=function(He){return new Promise(function(je,ct){ot.push([Ee,He,je,ct])>1||nn(Ee,He)})})}function nn(Ee,He){try{!function un(Ee){Ee.value instanceof st?Promise.resolve(Ee.value.v).then(rn,fi):De(ot[0][2],Ee)}(Le[Ee](He))}catch(je){De(ot[0][3],je)}}function rn(Ee){nn("next",Ee)}function fi(Ee){nn("throw",Ee)}function De(Ee,He){Ee(He),ot.shift(),ot.length&&nn(ot[0][0],ot[0][1])}}function ke(he){var ue,qe;return ue={},Le("next"),Le("throw",function(Et){throw Et}),Le("return"),ue[Symbol.iterator]=function(){return this},ue;function Le(Et,ot){ue[Et]=he[Et]?function(Kt){return(qe=!qe)?{value:st(he[Et](Kt)),done:"return"===Et}:ot?ot(Kt):Kt}:ot}}function at(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,ue=he[Symbol.asyncIterator];return ue?ue.call(he):(he=de(he),qe={},Le("next"),Le("throw"),Le("return"),qe[Symbol.asyncIterator]=function(){return this},qe);function Le(ot){qe[ot]=he[ot]&&function(Kt){return new Promise(function(nn,un){!function Et(ot,Kt,nn,un){Promise.resolve(un).then(function(rn){ot({value:rn,done:nn})},Kt)}(nn,un,(Kt=he[ot](Kt)).done,Kt.value)})}}}function Ze(he,ue){return Object.defineProperty?Object.defineProperty(he,"raw",{value:ue}):he.raw=ue,he}function Ce(he){if(he&&he.__esModule)return he;var ue={};if(null!=he)for(var qe in he)Object.hasOwnProperty.call(he,qe)&&(ue[qe]=he[qe]);return ue.default=he,ue}function nt(he){return he&&he.__esModule?he:{default:he}}function $e(he,ue){if(!ue.has(he))throw new TypeError("attempted to get private field on non-instance");return ue.get(he)}function it(he,ue,qe){if(!ue.has(he))throw new TypeError("attempted to set private field on non-instance");return ue.set(he,qe),qe}},5879:(en,Ae,Q)=>{Q.d(Ae,{$8M:()=>Gs,$WT:()=>Ia,$Z:()=>IR,AFp:()=>WT,ALo:()=>kC,AaK:()=>de,BQk:()=>Tp,CHM:()=>Cs,CRH:()=>QS,DdM:()=>OC,EEQ:()=>y,EJc:()=>Nv,EiD:()=>FT,EpF:()=>NE,F$t:()=>UE,F4k:()=>Hm,FYo:()=>Kw,FiY:()=>Je,Gf:()=>Up,GfV:()=>nb,GkF:()=>Db,Gpc:()=>lt,GuJ:()=>Hi,HDt:()=>ix,Hsn:()=>VE,Ikx:()=>Dd,JOm:()=>uh,JVY:()=>MO,JZr:()=>Ze,Jf7:()=>uR,KtG:()=>yu,L6k:()=>MT,LAX:()=>RO,LFG:()=>St,LSH:()=>tu,Lbi:()=>Bw,Lck:()=>AS,MAs:()=>PE,MMx:()=>yv,NdJ:()=>Sb,O4$:()=>fa,Ojb:()=>zw,OlP:()=>Xi,Oqu:()=>tC,P3R:()=>Mo,PXZ:()=>Fv,Q6J:()=>xp,QGY:()=>X_,QbO:()=>jw,Qsj:()=>Yw,R0b:()=>Qs,RDi:()=>IT,Rgc:()=>ng,SBq:()=>Im,Sil:()=>u0,Suo:()=>WC,TTD:()=>Ul,TgZ:()=>no,Tol:()=>cv,Udp:()=>YE,VKq:()=>tg,VuI:()=>XA,W1O:()=>a0,WLB:()=>LS,X6Q:()=>hx,XFs:()=>sn,Xpm:()=>vo,Xq5:()=>CE,Xts:()=>__,Y36:()=>Tm,YKP:()=>DC,YNc:()=>VD,Yjl:()=>Xa,Yz7:()=>fn,Z0I:()=>cn,ZZ4:()=>zv,_Bn:()=>vv,_UZ:()=>kE,_Vd:()=>tb,_c5:()=>Ex,_uU:()=>eC,aQg:()=>bx,c2e:()=>nx,cJS:()=>Dn,cg1:()=>dc,dDg:()=>qP,dqk:()=>xe,eBb:()=>OO,eFA:()=>RA,eJc:()=>Vp,ekj:()=>QE,eoX:()=>MA,f3M:()=>Vt,g9A:()=>qy,h0i:()=>Od,hGG:()=>x0,hij:()=>Nb,iGM:()=>o0,ifc:()=>_t,ip1:()=>Pv,jDz:()=>bf,kL8:()=>Wm,lG2:()=>gs,lcZ:()=>NC,lqb:()=>Ou,lri:()=>f0,mCW:()=>g_,n5z:()=>ud,n_E:()=>Lp,oAB:()=>Ur,oJD:()=>dt,oxw:()=>LE,pB0:()=>PO,q3G:()=>wm,q4F:()=>eR,qFp:()=>dk,qLn:()=>wd,qOj:()=>yp,qZA:()=>Y_,qzn:()=>fh,rWj:()=>Rs,rg0:()=>Co,s9C:()=>tv,sBO:()=>Vv,s_b:()=>Tv,soG:()=>Hp,tb:()=>pg,tp0:()=>Nt,uIk:()=>km,vHH:()=>Ce,vpe:()=>Ed,wAp:()=>Zm,xi3:()=>FC,xp6:()=>CR,ynx:()=>Q_,z2F:()=>Hu,z3N:()=>yd,zSh:()=>Nw,zs3:()=>nu});var l=Q(8645),U=Q(7394),K=Q(5592),pe=Q(3019),ce=Q(5619),Pe=Q(2096),Oe=Q(3020),ut=Q(4664),Ve=Q(3997);function z(o){for(let a in o)if(o[a]===z)return a;throw Error("Could not find renamed property on target object.")}function q(o,a){for(const d in a)a.hasOwnProperty(d)&&!o.hasOwnProperty(d)&&(o[d]=a[d])}function de(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(de).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const d=a.indexOf("\n");return-1===d?a:a.substring(0,d)}function Ne(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const me=z({__forward_ref__:z});function lt(o){return o.__forward_ref__=lt,o.toString=function(){return de(this())},o}function st(o){return mt(o)?o():o}function mt(o){return"function"==typeof o&&o.hasOwnProperty(me)&&o.__forward_ref__===lt}function ke(o){return o&&!!o.\u0275providers}const Ze="https://g.co/ng/security#xss";class Ce extends Error{constructor(a,d){super(function nt(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,d)),this.code=a}}function $e(o){return"string"==typeof o?o:null==o?"":String(o)}function Le(o,a){throw new Ce(-201,!1)}function At(o,a){null==o&&function bt(o,a,d,p){throw new Error(`ASSERTION ERROR: ${o}`+(null==p?"":` [Expected=> ${d} ${p} ${a} <=Actual]`))}(a,o,null,"!=")}function fn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Dn(o){return{providers:o.providers||[],imports:o.imports||[]}}function Ut(o){return Fn(o,Si)||Fn(o,Vi)}function cn(o){return null!==Ut(o)}function Fn(o,a){return o.hasOwnProperty(a)?o[a]:null}function wi(o){return o&&(o.hasOwnProperty(ti)||o.hasOwnProperty(Po))?o[ti]:null}const Si=z({\u0275prov:z}),ti=z({\u0275inj:z}),Vi=z({ngInjectableDef:z}),Po=z({ngInjectorDef:z});var sn=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(sn||{});let Yt;function zt(o){const a=Yt;return Yt=o,a}function Te(o,a,d){const p=Ut(o);return p&&"root"==p.providedIn?void 0===p.value?p.value=p.factory():p.value:d&sn.Optional?null:void 0!==a?a:void Le(de(o))}const xe=globalThis,pi={},Ci="__NG_DI_FLAG__",gr="ngTempTokenPath",fe=/\n/gm,J="__source";let te;function Me(o){const a=te;return te=o,a}function Qe(o,a=sn.Default){if(void 0===te)throw new Ce(-203,!1);return null===te?Te(o,void 0,a):te.get(o,a&sn.Optional?null:void 0,a)}function St(o,a=sn.Default){return(function Qt(){return Yt}()||Qe)(st(o),a)}function Vt(o,a=sn.Default){return St(o,Xn(a))}function Xn(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function En(o){const a=[];for(let d=0;d<o.length;d++){const p=st(o[d]);if(Array.isArray(p)){if(0===p.length)throw new Ce(900,!1);let _,b=sn.Default;for(let T=0;T<p.length;T++){const S=p[T],P=kn(S);"number"==typeof P?-1===P?_=S.token:b|=P:_=S}a.push(St(_,b))}else a.push(St(p))}return a}function si(o,a){return o[Ci]=a,o.prototype[Ci]=a,o}function kn(o){return o[Ci]}function Xe(o){return{toString:o}.toString()}var ze=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(ze||{}),_t=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(_t||{});const Zt={},Pt=[],On=z({\u0275cmp:z}),ii=z({\u0275dir:z}),Hi=z({\u0275pipe:z}),Gi=z({\u0275mod:z}),Yi=z({\u0275fac:z}),Lr=z({__NG_ELEMENT_ID__:z}),go=z({__NG_ENV_ID__:z});function xa(o,a,d){let p=o.length;for(;;){const _=o.indexOf(a,d);if(-1===_)return _;if(0===_||o.charCodeAt(_-1)<=32){const b=a.length;if(_+b===p||o.charCodeAt(_+b)<=32)return _}d=_+1}}function Ko(o,a,d){let p=0;for(;p<d.length;){const _=d[p];if("number"==typeof _){if(0!==_)break;p++;const b=d[p++],T=d[p++],S=d[p++];o.setAttribute(a,T,S,b)}else{const b=_,T=d[++p];ms(b)?o.setProperty(a,b,T):o.setAttribute(a,b,T),p++}}return p}function cs(o){return 3===o||4===o||6===o}function ms(o){return 64===o.charCodeAt(0)}function Yo(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let d=-1;for(let p=0;p<a.length;p++){const _=a[p];"number"==typeof _?d=_:0===d||ai(o,d,_,null,-1===d||2===d?a[++p]:null)}}return o}function ai(o,a,d,p,_){let b=0,T=o.length;if(-1===a)T=-1;else for(;b<o.length;){const S=o[b++];if("number"==typeof S){if(S===a){T=-1;break}if(S>a){T=b-1;break}}}for(;b<o.length;){const S=o[b];if("number"==typeof S)break;if(S===d){if(null===p)return void(null!==_&&(o[b+1]=_));if(p===o[b+1])return void(o[b+2]=_)}b++,null!==p&&b++,null!==_&&b++}-1!==T&&(o.splice(T,0,a),b=T+1),o.splice(b++,0,d),null!==p&&o.splice(b++,0,p),null!==_&&o.splice(b++,0,_)}const Ai="ng-template";function _o(o,a,d){let p=0,_=!0;for(;p<o.length;){let b=o[p++];if("string"==typeof b&&_){const T=o[p++];if(d&&"class"===b&&-1!==xa(T.toLowerCase(),a,0))return!0}else{if(1===b){for(;p<o.length&&"string"==typeof(b=o[p++]);)if(b.toLowerCase()===a)return!0;return!1}"number"==typeof b&&(_=!1)}}return!1}function er(o){return 4===o.type&&o.value!==Ai}function _c(o,a,d){return a===(4!==o.type||d?o.value:Ai)}function Ka(o,a,d){let p=4;const _=o.attrs||[],b=function ea(o){for(let a=0;a<o.length;a++)if(cs(o[a]))return a;return o.length}(_);let T=!1;for(let S=0;S<a.length;S++){const P=a[S];if("number"!=typeof P){if(!T)if(4&p){if(p=2|1&p,""!==P&&!_c(o,P,d)||""===P&&1===a.length){if($r(p))return!1;T=!0}}else{const B=8&p?P:a[++S];if(8&p&&null!==o.attrs){if(!_o(o.attrs,B,d)){if($r(p))return!1;T=!0}continue}const se=ks(8&p?"class":P,_,er(o),d);if(-1===se){if($r(p))return!1;T=!0;continue}if(""!==B){let Ie;Ie=se>b?"":_[se+1].toLowerCase();const Be=8&p?Ie:null;if(Be&&-1!==xa(Be,B,0)||2&p&&B!==Ie){if($r(p))return!1;T=!0}}}}else{if(!T&&!$r(p)&&!$r(P))return!1;if(T&&$r(P))continue;T=!1,p=P|1&p}}return $r(p)||T}function $r(o){return 0==(1&o)}function ks(o,a,d,p){if(null===a)return-1;let _=0;if(p||!d){let b=!1;for(;_<a.length;){const T=a[_];if(T===o)return _;if(3===T||6===T)b=!0;else{if(1===T||2===T){let S=a[++_];for(;"string"==typeof S;)S=a[++_];continue}if(4===T)break;if(0===T){_+=4;continue}}_+=b?1:2}return-1}return function vc(o,a){let d=o.indexOf(4);if(d>-1)for(d++;d<o.length;){const p=o[d];if("number"==typeof p)return-1;if(p===a)return d;d++}return-1}(a,o)}function Ya(o,a,d=!1){for(let p=0;p<a.length;p++)if(Ka(o,a[p],d))return!0;return!1}function yc(o,a){e:for(let d=0;d<a.length;d++){const p=a[d];if(o.length===p.length){for(let _=0;_<o.length;_++)if(o[_]!==p[_])continue e;return!0}}return!1}function Ns(o,a){return o?":not("+a.trim()+")":a}function ta(o){let a=o[0],d=1,p=2,_="",b=!1;for(;d<o.length;){let T=o[d];if("string"==typeof T)if(2&p){const S=o[++d];_+="["+T+(S.length>0?'="'+S+'"':"")+"]"}else 8&p?_+="."+T:4&p&&(_+=" "+T);else""!==_&&!$r(T)&&(a+=Ns(b,_),_=""),p=T,b=b||!$r(p);d++}return""!==_&&(a+=Ns(b,_)),a}function vo(o){return Xe(()=>{const a=wc(o),d={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===ze.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||_t.Emulated,styles:o.styles||Pt,_:null,schemas:o.schemas||null,tView:null,id:""};Ec(d);const p=o.dependencies;return d.directiveDefs=No(p,!1),d.pipeDefs=No(p,!0),d.id=function Cc(o){let a=0;const d=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const _ of d)a=Math.imul(31,a)+_.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(d),d})}function Qa(o){return Bn(o)||Ni(o)}function na(o){return null!==o}function Ur(o){return Xe(()=>({type:o.type,bootstrap:o.bootstrap||Pt,declarations:o.declarations||Pt,imports:o.imports||Pt,exports:o.exports||Pt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function ia(o,a){if(null==o)return Zt;const d={};for(const p in o)if(o.hasOwnProperty(p)){let _=o[p],b=_;Array.isArray(_)&&(b=_[1],_=_[0]),d[_]=p,a&&(a[_]=b)}return d}function gs(o){return Xe(()=>{const a=wc(o);return Ec(a),a})}function Xa(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Bn(o){return o[On]||null}function Ni(o){return o[ii]||null}function yr(o){return o[Hi]||null}function Ia(o){const a=Bn(o)||Ni(o)||yr(o);return null!==a&&a.standalone}function br(o,a){const d=o[Gi]||null;if(!d&&!0===a)throw new Error(`Type ${de(o)} does not have '\u0275mod' property.`);return d}function wc(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:o.inputs||Zt,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||Pt,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ia(o.inputs,a),outputs:ia(o.outputs)}}function Ec(o){o.features?.forEach(a=>a(o))}function No(o,a){if(!o)return null;const d=a?yr:Qa;return()=>("function"==typeof o?o():o).map(p=>d(p)).filter(na)}const Mi=0,xt=1,Cn=2,xi=3,so=4,Ls=5,$n=6,Qo=7,Oi=8,ra=9,Xo=10,on=11,Gr=12,Pl=13,wr=14,Er=15,_s=16,Fo=17,Cr=18,xr=19,oa=20,Ta=21,Fi=22,Lo=23,qr=24,Jn=25,hu=1,Da=2,Mr=7,Wr=9,Bi=11;function Zr(o){return Array.isArray(o)&&"object"==typeof o[hu]}function Ir(o){return Array.isArray(o)&&!0===o[hu]}function nl(o){return 0!=(4&o.flags)}function Or(o){return o.componentOffset>-1}function Kr(o){return 1==(1&o.flags)}function di(o){return!!o.template}function aa(o){return 0!=(512&o[Cn])}function Us(o,a){return o.hasOwnProperty(Yi)?o[Yi]:null}let cr=null,Aa=!1;function Yr(o){const a=cr;return cr=o,a}const Ac={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function nc(o){if(!Mc(o)||o.dirty){if(!o.producerMustRecompute(o)&&!Bo(o))return void(o.dirty=!1);o.producerRecomputeValue(o),o.dirty=!1}}function ua(o){o.dirty=!0,function Ll(o){if(void 0===o.liveConsumerNode)return;const a=Aa;Aa=!0;try{for(const d of o.liveConsumerNode)d.dirty||ua(d)}finally{Aa=a}}(o),o.consumerMarkedDirty?.(o)}function il(o){return o&&(o.nextProducerIndex=0),Yr(o)}function yi(o,a){if(Yr(a),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(Mc(o))for(let d=o.nextProducerIndex;d<o.producerNode.length;d++)Jo(o.producerNode[d],o.producerIndexOfThis[d]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function Bo(o){wo(o);for(let a=0;a<o.producerNode.length;a++){const d=o.producerNode[a],p=o.producerLastReadVersion[a];if(p!==d.version||(nc(d),p!==d.version))return!0}return!1}function Ma(o){if(wo(o),Mc(o))for(let a=0;a<o.producerNode.length;a++)Jo(o.producerNode[a],o.producerIndexOfThis[a]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function Jo(o,a){if(function Bs(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}(o),wo(o),1===o.liveConsumerNode.length)for(let p=0;p<o.producerNode.length;p++)Jo(o.producerNode[p],o.producerIndexOfThis[p]);const d=o.liveConsumerNode.length-1;if(o.liveConsumerNode[a]=o.liveConsumerNode[d],o.liveConsumerIndexOfThis[a]=o.liveConsumerIndexOfThis[d],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,a<o.liveConsumerNode.length){const p=o.liveConsumerIndexOfThis[a],_=o.liveConsumerNode[a];wo(_),_.producerIndexOfThis[p]=a}}function Mc(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function wo(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}let ee=null;function Co(o){const a=Yr(null);try{return o()}finally{Yr(a)}}const Yu=()=>{},Fh=(()=>({...Ac,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{o.schedule(o.ref)},hasRun:!1,cleanupFn:Yu}))();class Lh{constructor(a,d,p){this.previousValue=a,this.currentValue=d,this.firstChange=p}isFirstChange(){return this.firstChange}}function Ul(){return Vl}function Vl(o){return o.type.prototype.ngOnChanges&&(o.setInput=bs),Qu}function Qu(){const o=ol(this),a=o?.current;if(a){const d=o.previous;if(d===Zt)o.previous=a;else for(let p in a)d[p]=a[p];o.current=null,this.ngOnChanges(a)}}function bs(o,a,d,p){const _=this.declaredInputs[d],b=ol(o)||function Xu(o,a){return o[Pc]=a}(o,{previous:Zt,current:null}),T=b.current||(b.current={}),S=b.previous,P=S[_];T[_]=new Lh(P&&P.currentValue,a,S===Zt),o[p]=a}Ul.ngInherit=!0;const Pc="__ngSimpleChanges__";function ol(o){return o[Pc]||null}const ws=function(o,a,d){},Gd="svg";function Ii(o){for(;Array.isArray(o);)o=o[Mi];return o}function Ra(o,a){return Ii(a[o])}function jo(o,a){return Ii(a[o.index])}function qd(o,a){return o.data[a]}function al(o,a){return o[a]}function qi(o,a){const d=a[o];return Zr(d)?d:d[Mi]}function cl(o,a){return null==a?null:o[a]}function Kd(o){o[Fo]=0}function kc(o){1024&o[Cn]||(o[Cn]|=1024,Vr(o,1))}function Uh(o){1024&o[Cn]&&(o[Cn]&=-1025,Vr(o,-1))}function Vr(o,a){let d=o[xi];if(null===d)return;d[Ls]+=a;let p=d;for(d=d[xi];null!==d&&(1===a&&1===p[Ls]||-1===a&&0===p[Ls]);)d[Ls]+=a,p=d,d=d[xi]}const xn={lFrame:ls(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function $i(){return xn.bindingsEnabled}function Es(){return null!==xn.skipHydrationRootTNode}function pt(){return xn.lFrame.lView}function ni(){return xn.lFrame.tView}function Cs(o){return xn.lFrame.contextLView=o,o[Oi]}function yu(o){return xn.lFrame.contextLView=null,o}function Io(){let o=ed();for(;null!==o&&64===o.type;)o=o.parent;return o}function ed(){return xn.lFrame.currentTNode}function Do(o,a){const d=xn.lFrame;d.currentTNode=o,d.isParent=a}function Wi(){return xn.lFrame.isParent}function ao(){xn.lFrame.isParent=!1}function Zi(){const o=xn.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Xr(){return xn.lFrame.bindingIndex++}function Jr(o){const a=xn.lFrame,d=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,d}function td(o,a){const d=xn.lFrame;d.bindingIndex=d.bindingRootIndex=o,bu(a)}function bu(o){xn.lFrame.currentDirectiveIndex=o}function Xd(){return xn.lFrame.currentQueryIndex}function ll(o){xn.lFrame.currentQueryIndex=o}function Jd(o){const a=o[xt];return 2===a.type?a.declTNode:1===a.type?o[$n]:null}function Pa(o,a,d){if(d&sn.SkipSelf){let _=a,b=o;for(;!(_=_.parent,null!==_||d&sn.Host||(_=Jd(b),null===_||(b=b[wr],10&_.type))););if(null===_)return!1;a=_,o=b}const p=xn.lFrame=wu();return p.currentTNode=a,p.lView=o,!0}function jl(o){const a=wu(),d=o[xt];xn.lFrame=a,a.currentTNode=d.firstChild,a.lView=o,a.tView=d,a.contextLView=o,a.bindingIndex=d.bindingStartIndex,a.inI18n=!1}function wu(){const o=xn.lFrame,a=null===o?null:o.child;return null===a?ls(o):a}function ls(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function ul(){const o=xn.lFrame;return xn.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const oc=ul;function sc(){const o=ul();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function ts(){return xn.lFrame.selectedIndex}function ha(o){xn.lFrame.selectedIndex=o}function ir(){const o=xn.lFrame;return qd(o.tView,o.selectedIndex)}function fa(){xn.lFrame.currentNamespace=Gd}let So=!0;function Hl(){return So}function cc(o){So=o}function ka(o,a){for(let d=a.directiveStart,p=a.directiveEnd;d<p;d++){const b=o.data[d].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:S,ngAfterViewInit:P,ngAfterViewChecked:B,ngOnDestroy:W}=b;T&&(o.contentHooks??=[]).push(-d,T),S&&((o.contentHooks??=[]).push(d,S),(o.contentCheckHooks??=[]).push(d,S)),P&&(o.viewHooks??=[]).push(-d,P),B&&((o.viewHooks??=[]).push(d,B),(o.viewCheckHooks??=[]).push(d,B)),null!=W&&(o.destroyHooks??=[]).push(d,W)}}function jr(o,a,d){or(o,a,3,d)}function Lc(o,a,d,p){(3&o[Cn])===d&&or(o,a,d,p)}function kr(o,a){let d=o[Cn];(3&d)===a&&(d&=8191,d+=1,o[Cn]=d)}function or(o,a,d,p){const b=p??-1,T=a.length-1;let S=0;for(let P=void 0!==p?65535&o[Fo]:0;P<T;P++)if("number"==typeof a[P+1]){if(S=a[P],null!=p&&S>=p)break}else a[P]<0&&(o[Fo]+=65536),(S<b||-1==b)&&(Kf(o,d,a,P),o[Fo]=(4294901760&o[Fo])+P+2),P++}function Qi(o,a){ws(4,o,a);const d=Yr(null);try{a.call(o)}finally{Yr(d),ws(5,o,a)}}function Kf(o,a,d,p){const _=d[p]<0,b=d[p+1],S=o[_?-d[p]:d[p]];_?o[Cn]>>13<o[Fo]>>16&&(3&o[Cn])===a&&(o[Cn]+=8192,Qi(S,b)):Qi(S,b)}const Is=-1;class nd{constructor(a,d,p){this.factory=a,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=p}}function Uc(o){return o!==Is}function Vc(o){return 32767&o}function dl(o,a){let d=function sd(o){return o>>16}(o),p=a;for(;d>0;)p=p[wr],d--;return p}let Eu=!0;function us(o){const a=Eu;return Eu=o,a}const Hh=255,nh=5;let $h=0;const zo={};function Hs(o,a){const d=Cu(o,a);if(-1!==d)return d;const p=a[xt];p.firstCreatePass&&(o.injectorIndex=a.length,Gl(p.data,o),Gl(a,null),Gl(p.blueprint,null));const _=ql(o,a),b=o.injectorIndex;if(Uc(_)){const T=Vc(_),S=dl(_,a),P=S[xt].data;for(let B=0;B<8;B++)a[b+B]=S[T+B]|P[T+B]}return a[b+8]=_,b}function Gl(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Cu(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function ql(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let d=0,p=null,_=a;for(;null!==_;){if(p=Xf(_),null===p)return Is;if(d++,_=_[wr],-1!==p.injectorIndex)return p.injectorIndex|d<<16}return Is}function Wl(o,a,d){!function ad(o,a,d){let p;"string"==typeof d?p=d.charCodeAt(0)||0:d.hasOwnProperty(Lr)&&(p=d[Lr]),null==p&&(p=d[Lr]=$h++);const _=p&Hh;a.data[o+(_>>nh)]|=1<<_}(o,a,d)}function Zl(o,a,d){if(d&sn.Optional||void 0!==o)return o;Le()}function Kl(o,a,d,p){if(d&sn.Optional&&void 0===p&&(p=null),!(d&(sn.Self|sn.Host))){const _=o[ra],b=zt(void 0);try{return _?_.get(a,p,d&sn.Optional):Te(a,p,d&sn.Optional)}finally{zt(b)}}return Zl(p,0,d)}function $s(o,a,d,p=sn.Default,_){if(null!==o){if(2048&a[Cn]&&!(p&sn.Self)){const T=function Gh(o,a,d,p,_){let b=o,T=a;for(;null!==b&&null!==T&&2048&T[Cn]&&!(512&T[Cn]);){const S=Ts(b,T,d,p|sn.Self,zo);if(S!==zo)return S;let P=b.parent;if(!P){const B=T[oa];if(B){const W=B.get(d,zo,p);if(W!==zo)return W}P=Xf(T),T=T[wr]}b=P}return _}(o,a,d,p,zo);if(T!==zo)return T}const b=Ts(o,a,d,p,zo);if(b!==zo)return b}return Kl(a,d,p,_)}function Ts(o,a,d,p,_){const b=function ih(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Lr)?o[Lr]:void 0;return"number"==typeof a?a>=0?a&Hh:pl:a}(d);if("function"==typeof b){if(!Pa(a,o,p))return p&sn.Host?Zl(_,0,p):Kl(a,d,p,_);try{let T;if(T=b(p),null!=T||p&sn.Optional)return T;Le()}finally{oc()}}else if("number"==typeof b){let T=null,S=Cu(o,a),P=Is,B=p&sn.Host?a[Er][$n]:null;for((-1===S||p&sn.SkipSelf)&&(P=-1===S?ql(o,a):a[S+8],P!==Is&&hl(p,!1)?(T=a[xt],S=Vc(P),a=dl(P,a)):S=-1);-1!==S;){const W=a[xt];if(rh(b,S,W.data)){const se=Qf(S,a,d,T,p,B);if(se!==zo)return se}P=a[S+8],P!==Is&&hl(p,a[xt].data[S+8]===B)&&rh(b,S,a)?(T=W,S=Vc(P),a=dl(P,a)):S=-1}}return _}function Qf(o,a,d,p,_,b){const T=a[xt],S=T.data[o+8],W=ld(S,T,d,null==p?Or(S)&&Eu:p!=T&&0!=(3&S.type),_&sn.Host&&b===S);return null!==W?Na(a,T,W,S):zo}function ld(o,a,d,p,_){const b=o.providerIndexes,T=a.data,S=1048575&b,P=o.directiveStart,W=b>>20,Ie=_?S+W:o.directiveEnd;for(let Be=p?S:S+W;Be<Ie;Be++){const ft=T[Be];if(Be<P&&d===ft||Be>=P&&ft.type===d)return Be}if(_){const Be=T[P];if(Be&&di(Be)&&Be.type===d)return P}return null}function Na(o,a,d,p){let _=o[d];const b=a.data;if(function um(o){return o instanceof nd}(_)){const T=_;T.resolving&&function he(o,a){const d=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${o}${d}`)}(function it(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():$e(o)}(b[d]));const S=us(T.canSeeViewProviders);T.resolving=!0;const B=T.injectImpl?zt(T.injectImpl):null;Pa(o,p,sn.Default);try{_=o[d]=T.factory(void 0,b,o,p),a.firstCreatePass&&d>=p.directiveStart&&function ci(o,a,d){const{ngOnChanges:p,ngOnInit:_,ngDoCheck:b}=a.type.prototype;if(p){const T=Vl(a);(d.preOrderHooks??=[]).push(o,T),(d.preOrderCheckHooks??=[]).push(o,T)}_&&(d.preOrderHooks??=[]).push(0-o,_),b&&((d.preOrderHooks??=[]).push(o,b),(d.preOrderCheckHooks??=[]).push(o,b))}(d,b[d],a)}finally{null!==B&&zt(B),us(S),T.resolving=!1,oc()}}return _}function rh(o,a,d){return!!(d[a+(o>>nh)]&1<<o)}function hl(o,a){return!(o&sn.Self||o&sn.Host&&a)}class sr{constructor(a,d){this._tNode=a,this._lView=d}get(a,d,p){return $s(this._tNode,this._lView,a,Xn(p),d)}}function pl(){return new sr(Io(),pt())}function ud(o){return Xe(()=>{const a=o.prototype.constructor,d=a[Yi]||dr(a),p=Object.prototype;let _=Object.getPrototypeOf(o.prototype).constructor;for(;_&&_!==p;){const b=_[Yi]||dr(_);if(b&&b!==d)return b;_=Object.getPrototypeOf(_)}return b=>new b})}function dr(o){return mt(o)?()=>{const a=dr(st(o));return a&&a()}:Us(o)}function Xf(o){const a=o[xt],d=a.type;return 2===d?a.declTNode:1===d?o[$n]:null}function Gs(o){return function cd(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const d=o.attrs;if(d){const p=d.length;let _=0;for(;_<p;){const b=d[_];if(cs(b))break;if(0===b)_+=2;else if("number"==typeof b)for(_++;_<p&&"string"==typeof d[_];)_++;else{if(b===a)return d[_+1];_+=2}}}return null}(Io(),o)}const Fa="__parameters__";function H(o,a,d){return Xe(()=>{const p=function F(o){return function(...d){if(o){const p=o(...d);for(const _ in p)this[_]=p[_]}}}(a);function _(...b){if(this instanceof _)return p.apply(this,b),this;const T=new _(...b);return S.annotation=T,S;function S(P,B,W){const se=P.hasOwnProperty(Fa)?P[Fa]:Object.defineProperty(P,Fa,{value:[]})[Fa];for(;se.length<=W;)se.push(null);return(se[W]=se[W]||[]).push(T),P}}return d&&(_.prototype=Object.create(d.prototype)),_.prototype.ngMetadataName=o,_.annotationCls=_,_})}function gl(o,a){o.forEach(d=>Array.isArray(d)?gl(d,a):a(d))}function e_(o,a,d){a>=o.length?o.push(d):o.splice(a,0,d)}function dd(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function hd(o,a){const d=[];for(let p=0;p<o;p++)d.push(a);return d}function qs(o,a,d){let p=Yl(o,a);return p>=0?o[1|p]=d:(p=~p,function dm(o,a,d,p){let _=o.length;if(_==a)o.push(d,p);else if(1===_)o.push(p,o[0]),o[0]=d;else{for(_--,o.push(o[_-1],o[_]);_>a;)o[_]=o[_-2],_--;o[a]=d,o[a+1]=p}}(o,p,a,d)),p}function Jf(o,a){const d=Yl(o,a);if(d>=0)return o[1|d]}function Yl(o,a){return function fd(o,a,d){let p=0,_=o.length>>d;for(;_!==p;){const b=p+(_-p>>1),T=o[b<<d];if(a===T)return b<<d;T>a?_=b:p=b+1}return~(_<<d)}(o,a,1)}const Je=si(H("Optional"),8),Nt=si(H("SkipSelf"),4);function Xl(o){return 128==(128&o.flags)}var uh=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(uh||{});const _w=/^>|^->|<!--|-->|--!>|<!-$/g,Au=/(<|>)/g,vw="\u200b$1\u200b";const _m=new Map;let dT=0;function c(o){return _m.get(o)||null}class g{get lView(){return c(this.lViewId)}constructor(a,d,p){this.lViewId=a,this.nodeIndex=d,this.native=p}}function y(o){let a=Z(o);if(a){if(Zr(a)){const d=a;let p,_,b;if(ge(o)){if(p=function ht(o,a){const d=o[xt].components;if(d)for(let p=0;p<d.length;p++){const _=d[p];if(qi(_,o)[Oi]===a)return _}else if(qi(Jn,o)[Oi]===a)return Jn;return-1}(d,o),-1==p)throw new Error("The provided component was not found in the application");_=o}else if(function _e(o){return o&&o.constructor&&o.constructor.\u0275dir}(o)){if(p=function an(o,a){let d=o[xt].firstChild;for(;d;){const _=d.directiveEnd;for(let b=d.directiveStart;b<_;b++)if(o[b]===a)return d.index;d=et(d)}return-1}(d,o),-1==p)throw new Error("The provided directive was not found in the application");b=function Xt(o,a){const d=a[xt].data[o];if(0===d.directiveStart)return Pt;const p=[];for(let _=d.directiveStart;_<d.directiveEnd;_++){const b=a[_];ge(b)||p.push(b)}return p}(p,d)}else if(p=Re(d,o),-1==p)return null;const T=Ii(d[p]),S=Z(T),P=S&&!Array.isArray(S)?S:x(d,p,T);if(_&&void 0===P.component&&(P.component=_,V(P.component,P)),b&&void 0===P.directives){P.directives=b;for(let B=0;B<b.length;B++)V(b[B],P)}V(P.native,P),a=P}}else{const d=o;let p=d;for(;p=p.parentNode;){const _=Z(p);if(_){const b=Array.isArray(_)?_:_.lView;if(!b)return null;const T=Re(b,d);if(T>=0){const S=Ii(b[T]),P=x(b,T,S);V(S,P),a=P;break}}}}return a||null}function x(o,a,d){return new g(o[xr],a,d)}const k="__ngContext__";function V(o,a){Zr(a)?(o[k]=a[xr],function f(o){_m.set(o[xr],o)}(a)):o[k]=a}function Z(o){const a=o[k];return"number"==typeof a?c(a):a||null}function ge(o){return o&&o.constructor&&o.constructor.\u0275cmp}function Re(o,a){const d=o[xt];for(let p=Jn;p<d.bindingStartIndex;p++)if(Ii(o[p])===a)return p;return-1}function et(o){if(o.child)return o.child;if(o.next)return o.next;for(;o.parent&&!o.parent.next;)o=o.parent;return o.parent&&o.parent.next}let gi;function bi(o,a){return gi(o,a)}function Zs(o){const a=o[xi];return Ir(a)?a[xi]:a}function ip(o){return dh(o[Gr])}function tf(o){return dh(o[so])}function dh(o){for(;null!==o&&!Ir(o);)o=o[so];return o}function _d(o,a,d,p,_){if(null!=p){let b,T=!1;Ir(p)?b=p:Zr(p)&&(T=!0,p=p[Mi]);const S=Ii(p);0===o&&null!==d?null==_?gT(a,d,S):rp(a,d,S,_||null,!0):1===o&&null!==d?rp(a,d,S,_||null,!0):2===o?function Fy(o,a,d){const p=l_(o,a);p&&function wO(o,a,d,p){o.removeChild(a,d,p)}(o,p,a,d)}(a,S,T):3===o&&a.destroyNode(S),null!=b&&function CO(o,a,d,p,_){const b=d[Mr];b!==Ii(d)&&_d(a,o,p,b,_);for(let S=Bi;S<d.length;S++){const P=d[S];hh(P[xt],P,o,a,p,b)}}(a,o,b,d,_)}}function Ks(o,a){return o.createComment(function Ws(o){return o.replace(_w,a=>a.replace(Au,vw))}(a))}function uc(o,a,d){return o.createElement(a,d)}function bO(o,a){const d=o[Wr],p=d.indexOf(a);Uh(a),d.splice(p,1)}function Ry(o,a){if(o.length<=Bi)return;const d=Bi+a,p=o[d];if(p){const _=p[_s];null!==_&&_!==o&&bO(_,p),a>0&&(o[d-1][so]=p[so]);const b=dd(o,Bi+a);!function Oy(o,a){hh(o,a,a[on],2,null,null),a[Mi]=null,a[$n]=null}(p[xt],p);const T=b[Cr];null!==T&&T.detachView(b[xt]),p[xi]=null,p[so]=null,p[Cn]&=-129}return p}function ww(o,a){if(!(256&a[Cn])){const d=a[on];a[Lo]&&Ma(a[Lo]),a[qr]&&Ma(a[qr]),d.destroyNode&&hh(o,a,d,3,null,null),function yO(o){let a=o[Gr];if(!a)return Py(o[xt],o);for(;a;){let d=null;if(Zr(a))d=a[Gr];else{const p=a[Bi];p&&(d=p)}if(!d){for(;a&&!a[so]&&a!==o;)Zr(a)&&Py(a[xt],a),a=a[xi];null===a&&(a=o),Zr(a)&&Py(a[xt],a),d=a&&a[so]}a=d}}(a)}}function Py(o,a){if(!(256&a[Cn])){a[Cn]&=-129,a[Cn]|=256,function fT(o,a){let d;if(null!=o&&null!=(d=o.destroyHooks))for(let p=0;p<d.length;p+=2){const _=a[d[p]];if(!(_ instanceof nd)){const b=d[p+1];if(Array.isArray(b))for(let T=0;T<b.length;T+=2){const S=_[b[T]],P=b[T+1];ws(4,S,P);try{P.call(S)}finally{ws(5,S,P)}}else{ws(4,_,b);try{b.call(_)}finally{ws(5,_,b)}}}}}(o,a),function Ew(o,a){const d=o.cleanup,p=a[Qo];if(null!==d)for(let b=0;b<d.length-1;b+=2)if("string"==typeof d[b]){const T=d[b+3];T>=0?p[T]():p[-T].unsubscribe(),b+=2}else d[b].call(p[d[b+1]]);null!==p&&(a[Qo]=null);const _=a[Ta];if(null!==_){a[Ta]=null;for(let b=0;b<_.length;b++)(0,_[b])()}}(o,a),1===a[xt].type&&a[on].destroy();const d=a[_s];if(null!==d&&Ir(a[xi])){d!==a[xi]&&bO(d,a);const p=a[Cr];null!==p&&p.detachView(o)}!function h(o){_m.delete(o[xr])}(a)}}function pT(o,a,d){return function mT(o,a,d){let p=a;for(;null!==p&&40&p.type;)p=(a=p).parent;if(null===p)return d[Mi];{const{componentOffset:_}=p;if(_>-1){const{encapsulation:b}=o.data[p.directiveStart+_];if(b===_t.None||b===_t.Emulated)return null}return jo(p,d)}}(o,a.parent,d)}function rp(o,a,d,p,_){o.insertBefore(a,d,p,_)}function gT(o,a,d){o.appendChild(a,d)}function _T(o,a,d,p,_){null!==p?rp(o,a,d,p,_):gT(o,a,d)}function l_(o,a){return o.parentNode(a)}function vT(o,a,d){return yT(o,a,d)}let u_,Ly,Tw,m_,yT=function Cw(o,a,d){return 40&o.type?jo(o,d):null};function ky(o,a,d,p){const _=pT(o,p,a),b=a[on],S=vT(p.parent||a[$n],p,a);if(null!=_)if(Array.isArray(d))for(let P=0;P<d.length;P++)_T(b,_,d[P],S,!1);else _T(b,_,d,S,!1);void 0!==u_&&u_(b,p,a,d,_)}function d_(o,a){if(null!==a){const d=a.type;if(3&d)return jo(a,o);if(4&d)return Ny(-1,o[a.index]);if(8&d){const p=a.child;if(null!==p)return d_(o,p);{const _=o[a.index];return Ir(_)?Ny(-1,_):Ii(_)}}if(32&d)return bi(a,o)()||Ii(o[a.index]);{const p=wT(o,a);return null!==p?Array.isArray(p)?p[0]:d_(Zs(o[Er]),p):d_(o,a.next)}}return null}function wT(o,a){return null!==a?o[Er][$n].projection[a.projection]:null}function Ny(o,a){const d=Bi+o+1;if(d<a.length){const p=a[d],_=p[xt].firstChild;if(null!==_)return d_(p,_)}return a[Mr]}function h_(o,a,d,p,_,b,T){for(;null!=d;){const S=p[d.index],P=d.type;if(T&&0===a&&(S&&V(Ii(S),p),d.flags|=2),32!=(32&d.flags))if(8&P)h_(o,a,d.child,p,_,b,!1),_d(a,o,_,S,b);else if(32&P){const B=bi(d,p);let W;for(;W=B();)_d(a,o,_,W,b);_d(a,o,_,S,b)}else 16&P?ET(o,a,p,d,_,b):_d(a,o,_,S,b);d=T?d.projectionNext:d.next}}function hh(o,a,d,p,_,b){h_(d,p,o.firstChild,a,_,b,!1)}function ET(o,a,d,p,_,b){const T=d[Er],P=T[$n].projection[p.projection];if(Array.isArray(P))for(let B=0;B<P.length;B++)_d(a,o,_,P[B],b);else{let B=P;const W=T[xi];Xl(p)&&(B.flags|=128),h_(o,a,B,W,_,b,!0)}}function CT(o,a,d){""===d?o.removeAttribute(a,"class"):o.setAttribute(a,"class",d)}function f_(o,a,d){const{mergedAttrs:p,classes:_,styles:b}=d;null!==p&&Ko(o,a,p),null!==_&&CT(o,a,_),null!==b&&function xO(o,a,d){o.setAttribute(a,"style",d)}(o,a,b)}function op(o){return function Uy(){if(void 0===Ly&&(Ly=null,xe.trustedTypes))try{Ly=xe.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Ly}()?.createHTML(o)||o}function IT(o){Tw=o}function vm(){if(void 0!==Tw)return Tw;if(typeof document<"u")return document;throw new Ce(210,!1)}function ym(){if(void 0===m_&&(m_=null,xe.trustedTypes))try{m_=xe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return m_}function TT(o){return ym()?.createHTML(o)||o}function Vy(o){return ym()?.createScriptURL(o)||o}class sp{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ze})`}}class ST extends sp{getTypeName(){return"HTML"}}class TO extends sp{getTypeName(){return"Style"}}class DO extends sp{getTypeName(){return"Script"}}class SO extends sp{getTypeName(){return"URL"}}class AO extends sp{getTypeName(){return"ResourceURL"}}function yd(o){return o instanceof sp?o.changingThisBreaksApplicationSecurity:o}function fh(o,a){const d=function AT(o){return o instanceof sp&&o.getTypeName()||null}(o);if(null!=d&&d!==a){if("ResourceURL"===d&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${d} (see ${Ze})`)}return d===a}function MO(o){return new ST(o)}function MT(o){return new TO(o)}function OO(o){return new DO(o)}function RO(o){return new SO(o)}function PO(o){return new AO(o)}class kO{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const d=(new window.DOMParser).parseFromString(op(a),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(a):(d.removeChild(d.firstChild),d)}catch{return null}}}class NO{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const d=this.inertDocument.createElement("template");return d.innerHTML=op(a),d}}const Dw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function g_(o){return(o=String(o)).match(Dw)?o:"unsafe:"+o}function ph(o){const a={};for(const d of o.split(","))a[d]=!0;return a}function By(...o){const a={};for(const d of o)for(const p in d)d.hasOwnProperty(p)&&(a[p]=!0);return a}const FO=ph("area,br,col,hr,img,wbr"),LO=ph("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bd=ph("rp,rt"),PT=By(FO,By(LO,ph("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),By(bd,ph("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),By(bd,LO)),Aw=ph("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),NT=By(Aw,ph("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ph("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),UO=ph("script,style,template");class VO{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let d=a.firstChild,p=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?p=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,p&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let _=this.checkClobberedElement(d,d.nextSibling);if(_){d=_;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(a){const d=a.nodeName.toLowerCase();if(!PT.hasOwnProperty(d))return this.sanitizedSomething=!0,!UO.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const p=a.attributes;for(let _=0;_<p.length;_++){const b=p.item(_),T=b.name,S=T.toLowerCase();if(!NT.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let P=b.value;Aw[S]&&(P=g_(P)),this.buf.push(" ",T,'="',jO(P),'"')}return this.buf.push(">"),!0}endElement(a){const d=a.nodeName.toLowerCase();PT.hasOwnProperty(d)&&!FO.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(a){this.buf.push(jO(a))}checkClobberedElement(a,d){if(d&&(a.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return d}}const BO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_2=/([^\#-~ |!])/g;function jO(o){return o.replace(/&/g,"&amp;").replace(BO,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(_2,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Mw;function FT(o,a){let d=null;try{Mw=Mw||function OT(o){const a=new NO(o);return function RT(){try{return!!(new window.DOMParser).parseFromString(op(""),"text/html")}catch{return!1}}()?new kO(a):a}(o);let p=a?String(a):"";d=Mw.getInertBodyElement(p);let _=5,b=p;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,p=b,b=d.innerHTML,d=Mw.getInertBodyElement(p)}while(p!==b);return op((new VO).sanitizeChildren(LT(d)||d))}finally{if(d){const p=LT(d)||d;for(;p.firstChild;)p.removeChild(p.firstChild)}}}function LT(o){return"content"in o&&function v2(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var wm=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(wm||{});function dt(o){const a=ap();return a?TT(a.sanitize(wm.HTML,o)||""):fh(o,"HTML")?TT(yd(o)):FT(vm(),$e(o))}function tu(o){const a=ap();return a?a.sanitize(wm.URL,o)||"":fh(o,"URL")?yd(o):g_($e(o))}function ie(o){const a=ap();if(a)return Vy(a.sanitize(wm.RESOURCE_URL,o)||"");if(fh(o,"ResourceURL"))return Vy(yd(o));throw new Ce(904,!1)}function Mo(o,a,d){return function zO(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?ie:tu}(a,d)(o)}function ap(){const o=pt();return o&&o[Xo].sanitizer}class Xi{constructor(a,d){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=fn({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const __=new Xi("ENVIRONMENT_INITIALIZER"),VT=new Xi("INJECTOR",-1),Pw=new Xi("INJECTOR_DEF_TYPES");class kw{get(a,d=pi){if(d===pi){const p=new Error(`NullInjectorError: No provider for ${de(a)}!`);throw p.name="NullInjectorError",p}return d}}function HO(...o){return{\u0275providers:jT(0,o),\u0275fromNgModule:!0}}function jT(o,...a){const d=[],p=new Set;let _;const b=T=>{d.push(T)};return gl(a,T=>{const S=T;cp(S,b,[],p)&&(_||=[],_.push(S))}),void 0!==_&&Ys(_,b),d}function Ys(o,a){for(let d=0;d<o.length;d++){const{ngModule:p,providers:_}=o[d];v_(_,b=>{a(b,p)})}}function cp(o,a,d,p){if(!(o=st(o)))return!1;let _=null,b=wi(o);const T=!b&&Bn(o);if(b||T){if(T&&!T.standalone)return!1;_=o}else{const P=o.ngModule;if(b=wi(P),!b)return!1;_=P}const S=p.has(_);if(T){if(S)return!1;if(p.add(_),T.dependencies){const P="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const B of P)cp(B,a,d,p)}}else{if(!b)return!1;{if(null!=b.imports&&!S){let B;p.add(_);try{gl(b.imports,W=>{cp(W,a,d,p)&&(B||=[],B.push(W))})}finally{}void 0!==B&&Ys(B,a)}if(!S){const B=Us(_)||(()=>new _);a({provide:_,useFactory:B,deps:Pt},_),a({provide:Pw,useValue:_,multi:!0},_),a({provide:__,useValue:()=>St(_),multi:!0},_)}const P=b.providers;if(null!=P&&!S){const B=o;v_(P,W=>{a(W,B)})}}}return _!==o&&void 0!==o.providers}function v_(o,a){for(let d of o)ke(d)&&(d=d.\u0275providers),Array.isArray(d)?v_(d,a):a(d)}const jy=z({provide:String,useValue:z});function Em(o){return null!==o&&"object"==typeof o&&jy in o}function lp(o){return"function"==typeof o}const Nw=new Xi("Set Injector scope."),Hy={},y_={};let $y;function up(){return void 0===$y&&($y=new kw),$y}class Ou{}class Gy extends Ou{get destroyed(){return this._destroyed}constructor(a,d,p,_){super(),this.parent=d,this.source=p,this.scopes=_,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dp(a,T=>this.processProvider(T)),this.records.set(VT,nf(void 0,this)),_.has("environment")&&this.records.set(Ou,nf(void 0,this));const b=this.records.get(Nw);null!=b&&"string"==typeof b.value&&this.scopes.add(b.value),this.injectorDefTypes=new Set(this.get(Pw.multi,Pt,sn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const d of this._ngOnDestroyHooks)d.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const d of a)d()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const d=Me(this),p=zt(void 0);try{return a()}finally{Me(d),zt(p)}}get(a,d=pi,p=sn.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(go))return a[go](this);p=Xn(p);const b=Me(this),T=zt(void 0);try{if(!(p&sn.SkipSelf)){let P=this.records.get(a);if(void 0===P){const B=function qT(o){return"function"==typeof o||"object"==typeof o&&o instanceof Xi}(a)&&Ut(a);P=B&&this.injectableDefInScope(B)?nf(Fw(a),Hy):null,this.records.set(a,P)}if(null!=P)return this.hydrate(a,P)}return(p&sn.Self?up():this.parent).get(a,d=p&sn.Optional&&d===pi?null:d)}catch(S){if("NullInjectorError"===S.name){if((S[gr]=S[gr]||[]).unshift(de(a)),b)throw S;return function _r(o,a,d,p){const _=o[gr];throw a[J]&&_.unshift(a[J]),o.message=function Zo(o,a,d,p=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let _=de(a);if(Array.isArray(a))_=a.map(de).join(" -> ");else if("object"==typeof a){let b=[];for(let T in a)if(a.hasOwnProperty(T)){let S=a[T];b.push(T+":"+("string"==typeof S?JSON.stringify(S):de(S)))}_=`{${b.join(", ")}}`}return`${d}${p?"("+p+")":""}[${_}]: ${o.replace(fe,"\n  ")}`}("\n"+o.message,_,d,p),o.ngTokenPath=_,o[gr]=null,o}(S,a,"R3InjectorError",this.source)}throw S}finally{zt(T),Me(b)}}resolveInjectorInitializers(){const a=Me(this),d=zt(void 0);try{const _=this.get(__.multi,Pt,sn.Self);for(const b of _)b()}finally{Me(a),zt(d)}}toString(){const a=[],d=this.records;for(const p of d.keys())a.push(de(p));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(a){let d=lp(a=st(a))?a:st(a&&a.provide);const p=function GO(o){return Em(o)?nf(void 0,o.useValue):nf(Lw(o),Hy)}(a);if(lp(a)||!0!==a.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=nf(void 0,Hy,!0),_.factory=()=>En(_.multi),this.records.set(d,_)),d=a,_.multi.push(a)}this.records.set(d,p)}hydrate(a,d){return d.value===Hy&&(d.value=y_,d.value=d.factory()),"object"==typeof d.value&&d.value&&function Uw(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(a){if(!a.providedIn)return!1;const d=st(a.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}removeOnDestroy(a){const d=this._onDestroyHooks.indexOf(a);-1!==d&&this._onDestroyHooks.splice(d,1)}}function Fw(o){const a=Ut(o),d=null!==a?a.factory:Us(o);if(null!==d)return d;if(o instanceof Xi)throw new Ce(204,!1);if(o instanceof Function)return function $O(o){const a=o.length;if(a>0)throw hd(a,"?"),new Ce(204,!1);const d=function Un(o){return o&&(o[Si]||o[Vi])||null}(o);return null!==d?()=>d.factory(o):()=>new o}(o);throw new Ce(204,!1)}function Lw(o,a,d){let p;if(lp(o)){const _=st(o);return Us(_)||Fw(_)}if(Em(o))p=()=>st(o.useValue);else if(function HT(o){return!(!o||!o.useFactory)}(o))p=()=>o.useFactory(...En(o.deps||[]));else if(function zy(o){return!(!o||!o.useExisting)}(o))p=()=>St(st(o.useExisting));else{const _=st(o&&(o.useClass||o.provide));if(!function GT(o){return!!o.deps}(o))return Us(_)||Fw(_);p=()=>new _(...En(o.deps))}return p}function nf(o,a,d=!1){return{factory:o,value:a,multi:d?[]:void 0}}function dp(o,a){for(const d of o)Array.isArray(d)?dp(d,a):d&&ke(d)?dp(d.\u0275providers,a):a(d)}const WT=new Xi("AppId",{providedIn:"root",factory:()=>Vw}),Vw="ng",qy=new Xi("Platform Initializer"),Bw=new Xi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),jw=new Xi("AnimationModuleType"),zw=new Xi("CSP nonce",{providedIn:"root",factory:()=>vm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let KT=(o,a,d)=>null;function Gw(o,a,d=!1){return KT(o,a,d)}class eD{}class YO{}class Zw{resolveComponentFactory(a){throw function QO(o){const a=Error(`No component factory found for ${de(o)}.`);return a.ngComponent=o,a}(a)}}let tb=(()=>{class o{static#e=this.NULL=new Zw}return o})();function C2(){return xm(Io(),pt())}function xm(o,a){return new Im(jo(o,a))}let Im=(()=>{class o{constructor(d){this.nativeElement=d}static#e=this.__NG_ELEMENT_ID__=C2}return o})();function JO(o){return o instanceof Im?o.nativeElement:o}class Kw{}let Yw=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function fp(){const o=pt(),d=qi(Io().index,o);return(Zr(d)?d:o)[on]}()}return o})(),x2=(()=>{class o{static#e=this.\u0275prov=fn({token:o,providedIn:"root",factory:()=>null})}return o})();class nb{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const eR=new nb("16.2.7"),Qw={};function pp(o,a=null,d=null,p){const _=iD(o,a,d,p);return _.resolveInjectorInitializers(),_}function iD(o,a=null,d=null,p,_=new Set){const b=[d||Pt,HO(o)];return p=p||("object"==typeof o?void 0:de(o)),new Gy(b,a||up(),p||null,_)}let nu=(()=>{class o{static#e=this.THROW_IF_NOT_FOUND=pi;static#t=this.NULL=new kw;static create(d,p){if(Array.isArray(d))return pp({name:""},p,d,"");{const _=d.name??"";return pp({name:_},d.parent,d.providers,_)}}static#n=this.\u0275prov=fn({token:o,providedIn:"any",factory:()=>St(VT)});static#i=this.__NG_ELEMENT_ID__=-1}return o})();function mp(o){return o.ngOriginalError}class wd{constructor(){this._console=console}handleError(a){const d=this._findOriginalError(a);this._console.error("ERROR",a),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(a){let d=a&&mp(a);for(;d&&mp(d);)d=mp(d);return d||null}}function eE(o){return a=>{setTimeout(o,void 0,a)}}const Ed=class rR extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,d,p){let _=a,b=d||(()=>null),T=p;if(a&&"object"==typeof a){const P=a;_=P.next?.bind(P),b=P.error?.bind(P),T=P.complete?.bind(P)}this.__isAsync&&(b=eE(b),_&&(_=eE(_)),T&&(T=eE(T)));const S=super.subscribe({next:_,error:b,complete:T});return a instanceof U.w0&&a.add(S),S}};function oD(...o){}class Qs{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:p=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ed(!1),this.onMicrotaskEmpty=new Ed(!1),this.onStable=new Ed(!1),this.onError=new Ed(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const _=this;_._nesting=0,_._outer=_._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(_._inner=_._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(_._inner=_._inner.fork(Zone.longStackTraceZoneSpec)),_.shouldCoalesceEventChangeDetection=!p&&d,_.shouldCoalesceRunChangeDetection=p,_.lastRequestAnimationFrameId=-1,_.nativeRequestAnimationFrame=function oR(){const o="function"==typeof xe.requestAnimationFrame;let a=xe[o?"requestAnimationFrame":"setTimeout"],d=xe[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&d){const p=a[Zone.__symbol__("OriginalDelegate")];p&&(a=p);const _=d[Zone.__symbol__("OriginalDelegate")];_&&(d=_)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function k2(o){const a=()=>{!function P2(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(xe,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,aD(o),o.isCheckStableRunning=!0,sD(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),aD(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,p,_,b,T,S)=>{if(function lR(o){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0].data?.__ignore_ng_zone__}(S))return d.invokeTask(_,b,T,S);try{return sR(o),d.invokeTask(_,b,T,S)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||o.shouldCoalesceRunChangeDetection)&&a(),cD(o)}},onInvoke:(d,p,_,b,T,S,P)=>{try{return sR(o),d.invoke(_,b,T,S,P)}finally{o.shouldCoalesceRunChangeDetection&&a(),cD(o)}},onHasTask:(d,p,_,b)=>{d.hasTask(_,b),p===_&&("microTask"==b.change?(o._hasPendingMicrotasks=b.microTask,aD(o),sD(o)):"macroTask"==b.change&&(o.hasPendingMacrotasks=b.macroTask))},onHandleError:(d,p,_,b)=>(d.handleError(_,b),o.runOutsideAngular(()=>o.onError.emit(b)),!1)})}(_)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qs.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(Qs.isInAngularZone())throw new Ce(909,!1)}run(a,d,p){return this._inner.run(a,d,p)}runTask(a,d,p,_){const b=this._inner,T=b.scheduleEventTask("NgZoneEvent: "+_,a,R2,oD,oD);try{return b.runTask(T,d,p)}finally{b.cancelTask(T)}}runGuarded(a,d,p){return this._inner.runGuarded(a,d,p)}runOutsideAngular(a){return this._outer.run(a)}}const R2={};function sD(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function aD(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function sR(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function cD(o){o._nesting--,sD(o)}class N2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ed,this.onMicrotaskEmpty=new Ed,this.onStable=new Ed,this.onError=new Ed}run(a,d,p){return a.apply(d,p)}runGuarded(a,d,p){return a.apply(d,p)}runOutsideAngular(a){return a()}runTask(a,d,p,_){return a.apply(d,p)}}const aR=new Xi("",{providedIn:"root",factory:cR});function cR(){const o=Vt(Qs);let a=!0;const d=new K.y(_=>{a=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{_.next(a),_.complete()})}),p=new K.y(_=>{let b;o.runOutsideAngular(()=>{b=o.onStable.subscribe(()=>{Qs.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(a=!0,_.next(!0))})})});const T=o.onUnstable.subscribe(()=>{Qs.assertInAngularZone(),a&&(a=!1,o.runOutsideAngular(()=>{_.next(!1)}))});return()=>{b.unsubscribe(),T.unsubscribe()}});return(0,pe.T)(d,p.pipe((0,Oe.B)()))}function uR(o){return o.ownerDocument.defaultView}function af(o){return o instanceof Function?o():o}let lD=(()=>{class o{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=fn({token:o,providedIn:"root",factory:()=>new o})}return o})();function ib(o){for(;o;){o[Cn]|=64;const a=Zs(o);if(aa(o)&&!a)return o;o=a}return null}const mR=new Xi("",{providedIn:"root",factory:()=>!1});let nE=null;function yR(o,a){return o[a]??ER()}function bR(o,a){const d=ER();d.producerNode?.length&&(o[a]=nE,d.lView=o,nE=wR())}const G2={...Ac,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{ib(o.lView)},lView:null};function wR(){return Object.create(G2)}function ER(){return nE??=wR(),nE}const oi={};function CR(o){xR(ni(),pt(),ts()+o,!1)}function xR(o,a,d,p){if(!p)if(3==(3&a[Cn])){const b=o.preOrderCheckHooks;null!==b&&jr(a,b,d)}else{const b=o.preOrderHooks;null!==b&&Lc(a,b,0,d)}ha(d)}function Tm(o,a=sn.Default){const d=pt();return null===d?St(o,a):$s(Io(),d,st(o),a)}function IR(){throw new Error("invalid")}function iE(o,a,d,p,_,b,T,S,P,B,W){const se=a.blueprint.slice();return se[Mi]=_,se[Cn]=140|p,(null!==B||o&&2048&o[Cn])&&(se[Cn]|=2048),Kd(se),se[xi]=se[wr]=o,se[Oi]=d,se[Xo]=T||o&&o[Xo],se[on]=S||o&&o[on],se[ra]=P||o&&o[ra]||null,se[$n]=b,se[xr]=function yw(){return dT++}(),se[Fi]=W,se[oa]=B,se[Er]=2==a.type?o[Er]:se,se}function Dm(o,a,d,p,_){let b=o.data[a];if(null===b)b=function bl(o,a,d,p,_){const b=ed(),T=Wi(),P=o.data[a]=function AR(o,a,d,p,_,b){let T=a?a.injectorIndex:-1,S=0;return Es()&&(S|=128),{type:d,index:p,insertBeforeIndex:null,injectorIndex:T,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:S,providerIndexes:0,value:_,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?b:b&&b.parent,d,a,p,_);return null===o.firstChild&&(o.firstChild=P),null!==b&&(T?null==b.child&&null!==P.parent&&(b.child=P):null===b.next&&(b.next=P,P.prev=b)),P}(o,a,d,p,_),function Bh(){return xn.lFrame.inI18n}()&&(b.flags|=32);else if(64&b.type){b.type=d,b.value=p,b.attrs=_;const T=function To(){const o=xn.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();b.injectorIndex=null===T?-1:T.injectorIndex}return Do(b,!0),b}function $t(o,a,d,p){if(0===d)return-1;const _=a.length;for(let b=0;b<d;b++)a.push(p),o.blueprint.push(p),o.data.push(null);return _}function rb(o,a,d,p,_){const b=yR(a,Lo),T=ts(),S=2&p;try{ha(-1),S&&a.length>Jn&&xR(o,a,Jn,!1),ws(S?2:0,_);const B=S?b:null,W=il(B);try{null!==B&&(B.dirty=!1),d(p,_)}finally{yi(B,W)}}finally{S&&null===a[Lo]&&bR(a,Lo),ha(T),ws(S?3:1,_)}}function Wn(o,a,d){if(nl(a)){const p=Yr(null);try{const b=a.directiveEnd;for(let T=a.directiveStart;T<b;T++){const S=o.data[T];S.contentQueries&&S.contentQueries(1,d[T],T)}}finally{Yr(p)}}}function Sm(o,a,d){$i()&&(function fD(o,a,d,p){const _=d.directiveStart,b=d.directiveEnd;Or(d)&&function lE(o,a,d){const p=jo(a,o),_=uD(d);let T=16;d.signals?T=4096:d.onPush&&(T=64);const S=_p(o,iE(o,_,null,T,p,a,null,o[Xo].rendererFactory.createRenderer(p,d),null,null,null));o[a.index]=S}(a,d,o.data[_+d.componentOffset]),o.firstCreatePass||Hs(d,a),V(p,a);const T=d.initialInputs;for(let S=_;S<b;S++){const P=o.data[S],B=Na(a,o,S,d);V(B,a),null!==T&&O_(0,S-_,B,P,0,T),di(P)&&(qi(d.index,a)[Oi]=Na(a,o,S,d))}}(o,a,d,jo(d,a)),64==(64&d.flags)&&cb(o,a,d))}function gp(o,a,d=jo){const p=a.localNames;if(null!==p){let _=a.index+1;for(let b=0;b<p.length;b+=2){const T=p[b+1],S=-1===T?d(a,o):o[T];o[_++]=S}}}function uD(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=S_(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):a}function S_(o,a,d,p,_,b,T,S,P,B,W){const se=Jn+p,Ie=se+_,Be=function TR(o,a){const d=[];for(let p=0;p<a;p++)d.push(p<o?null:oi);return d}(se,Ie),ft="function"==typeof B?B():B;return Be[xt]={type:o,blueprint:Be,template:d,queries:null,viewQuery:S,declTNode:a,data:Be.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:Ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:P,consts:ft,incompleteFirstPass:!1,ssrId:W}}let ma=o=>null;function rE(o,a,d,p){for(let _ in o)if(o.hasOwnProperty(_)){d=null===d?{}:d;const b=o[_];null===p?sb(d,a,_,b):p.hasOwnProperty(_)&&sb(d,a,p[_],b)}return d}function sb(o,a,d,p){o.hasOwnProperty(d)?o[d].push(a,p):o[d]=[a,p]}function wl(o,a,d,p,_,b,T,S){const P=jo(a,d);let W,B=a.inputs;!S&&null!=B&&(W=B[p])?(N_(o,d,W,p,_),Or(a)&&function A_(o,a){const d=qi(a,o);16&d[Cn]||(d[Cn]|=64)}(d,a.index)):3&a.type&&(p=function Va(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(p),_=null!=T?T(_,a.value||"",p):_,b.setProperty(P,p,_))}function M_(o,a,d,p){if($i()){const _=null===p?null:{"":-1},b=function OR(o,a){const d=o.directiveRegistry;let p=null,_=null;if(d)for(let b=0;b<d.length;b++){const T=d[b];if(Ya(a,T.selectors,!1))if(p||(p=[]),di(T))if(null!==T.findHostDirectiveDefs){const S=[];_=_||new Map,T.findHostDirectiveDefs(T,S,_),p.unshift(...S,T),lb(o,a,S.length)}else p.unshift(T),lb(o,a,0);else _=_||new Map,T.findHostDirectiveDefs?.(T,p,_),p.push(T)}return null===p?null:[p,_]}(o,d);let T,S;null===b?T=S=null:[T,S]=b,null!==T&&hD(o,a,d,T,_,S),_&&function oE(o,a,d){if(a){const p=o.localNames=[];for(let _=0;_<a.length;_+=2){const b=d[a[_+1]];if(null==b)throw new Ce(-301,!1);p.push(a[_],b)}}}(d,p,_)}d.mergedAttrs=Yo(d.mergedAttrs,d.attrs)}function hD(o,a,d,p,_,b){for(let B=0;B<p.length;B++)Wl(Hs(d,a),o,p[B].type);!function aE(o,a,d){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+d,o.providerIndexes=a}(d,o.data.length,p.length);for(let B=0;B<p.length;B++){const W=p[B];W.providersResolver&&W.providersResolver(W)}let T=!1,S=!1,P=$t(o,a,p.length,null);for(let B=0;B<p.length;B++){const W=p[B];d.mergedAttrs=Yo(d.mergedAttrs,W.hostAttrs),cE(o,d,a,P,W),sE(P,W,_),null!==W.contentQueries&&(d.flags|=4),(null!==W.hostBindings||null!==W.hostAttrs||0!==W.hostVars)&&(d.flags|=64);const se=W.type.prototype;!T&&(se.ngOnChanges||se.ngOnInit||se.ngDoCheck)&&((o.preOrderHooks??=[]).push(d.index),T=!0),!S&&(se.ngOnChanges||se.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(d.index),S=!0),P++}!function dD(o,a,d){const _=a.directiveEnd,b=o.data,T=a.attrs,S=[];let P=null,B=null;for(let W=a.directiveStart;W<_;W++){const se=b[W],Ie=d?d.get(se):null,ft=Ie?Ie.outputs:null;P=rE(se.inputs,W,P,Ie?Ie.inputs:null),B=rE(se.outputs,W,B,ft);const Dt=null===P||null===T||er(a)?null:R_(P,W,T);S.push(Dt)}null!==P&&(P.hasOwnProperty("class")&&(a.flags|=8),P.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=S,a.inputs=P,a.outputs=B}(o,d,b)}function cb(o,a,d){const p=d.directiveStart,_=d.directiveEnd,b=d.index,T=function lm(){return xn.lFrame.currentDirectiveIndex}();try{ha(b);for(let S=p;S<_;S++){const P=o.data[S],B=a[S];bu(S),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&pD(P,B)}}finally{ha(-1),bu(T)}}function pD(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function lb(o,a,d){a.componentOffset=d,(o.components??=[]).push(a.index)}function sE(o,a,d){if(d){if(a.exportAs)for(let p=0;p<a.exportAs.length;p++)d[a.exportAs[p]]=o;di(a)&&(d[""]=o)}}function cE(o,a,d,p,_){o.data[p]=_;const b=_.factory||(_.factory=Us(_.type)),T=new nd(b,di(_),Tm);o.blueprint[p]=T,d[p]=T,function MR(o,a,d,p,_){const b=_.hostBindings;if(b){let T=o.hostBindingOpCodes;null===T&&(T=o.hostBindingOpCodes=[]);const S=~a.index;(function Am(o){let a=o.length;for(;a>0;){const d=o[--a];if("number"==typeof d&&d<0)return d}return 0})(T)!=S&&T.push(S),T.push(d,p,b)}}(o,a,p,$t(o,d,_.hostVars,oi),_)}function Ru(o,a,d,p,_,b){const T=jo(o,a);!function uE(o,a,d,p,_,b,T){if(null==b)o.removeAttribute(a,_,d);else{const S=null==T?$e(b):T(b,p||"",_);o.setAttribute(a,_,S,d)}}(a[on],T,b,o.value,d,p,_)}function O_(o,a,d,p,_,b){const T=b[a];if(null!==T)for(let S=0;S<T.length;)mD(p,d,T[S++],T[S++],T[S++])}function mD(o,a,d,p,_){const b=Yr(null);try{const T=o.inputTransforms;null!==T&&T.hasOwnProperty(p)&&(_=T[p].call(a,_)),null!==o.setInput?o.setInput(a,_,d,p):a[p]=_}finally{Yr(b)}}function R_(o,a,d){let p=null,_=0;for(;_<d.length;){const b=d[_];if(0!==b)if(5!==b){if("number"==typeof b)break;if(o.hasOwnProperty(b)){null===p&&(p=[]);const T=o[b];for(let S=0;S<T.length;S+=2)if(T[S]===a){p.push(b,T[S+1],d[_+1]);break}}_+=2}else _+=2;else _+=4}return p}function gD(o,a,d,p){return[o,!0,!1,a,null,0,p,d,null,null,null]}function _D(o,a){const d=o.contentQueries;if(null!==d)for(let p=0;p<d.length;p+=2){const b=d[p+1];if(-1!==b){const T=o.data[b];ll(d[p]),T.contentQueries(2,a[b],b)}}}function _p(o,a){return o[Gr]?o[Pl][so]=a:o[Gr]=a,o[Pl]=a,a}function P_(o,a,d){ll(0);const p=Yr(null);try{a(o,d)}finally{Yr(p)}}function dE(o){return o[Qo]||(o[Qo]=[])}function hE(o){return o.cleanup||(o.cleanup=[])}function k_(o,a){const d=o[ra],p=d?d.get(wd,null):null;p&&p.handleError(a)}function N_(o,a,d,p,_){for(let b=0;b<d.length;){const T=d[b++],S=d[b++];mD(o.data[T],a[T],p,S,_)}}function pE(o,a){const d=qi(a,o),p=d[xt];!function mE(o,a){for(let d=a.length;d<o.blueprint.length;d++)a.push(o.blueprint[d])}(p,d);const _=d[Mi];null!==_&&null===d[Fi]&&(d[Fi]=Gw(_,d[ra])),ub(p,d,d[Oi])}function ub(o,a,d){jl(a);try{const p=o.viewQuery;null!==p&&P_(1,p,d);const _=o.template;null!==_&&rb(o,a,_,1,d),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&_D(o,a),o.staticViewQueries&&P_(2,o.viewQuery,d);const b=o.components;null!==b&&function vD(o,a){for(let d=0;d<a.length;d++)pE(o,a[d])}(a,b)}catch(p){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),p}finally{a[Cn]&=-5,sc()}}let yD=(()=>{class o{constructor(){this.all=new Set,this.queue=new Map}create(d,p,_){const b=typeof Zone>"u"?null:Zone.current,T=function xo(o,a,d){const p=Object.create(Fh);d&&(p.consumerAllowSignalWrites=!0),p.fn=o,p.schedule=a;const _=T=>{p.cleanupFn=T};return p.ref={notify:()=>ua(p),run:()=>{if(p.dirty=!1,p.hasRun&&!Bo(p))return;p.hasRun=!0;const T=il(p);try{p.cleanupFn(),p.cleanupFn=Yu,p.fn(_)}finally{yi(p,T)}},cleanup:()=>p.cleanupFn()},p.ref}(d,B=>{this.all.has(B)&&this.queue.set(B,b)},_);let S;this.all.add(T),T.notify();const P=()=>{T.cleanup(),S?.(),this.all.delete(T),this.queue.delete(T)};return S=p?.onDestroy(P),{destroy:P}}flush(){if(0!==this.queue.size)for(const[d,p]of this.queue)this.queue.delete(d),p?p.run(()=>d.run()):d.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=fn({token:o,providedIn:"root",factory:()=>new o})}return o})();function F_(o,a,d){let p=d?o.styles:null,_=d?o.classes:null,b=0;if(null!==a)for(let T=0;T<a.length;T++){const S=a[T];"number"==typeof S?b=S:1==b?_=Ne(_,S):2==b&&(p=Ne(p,S+": "+a[++T]+";"))}d?o.styles=p:o.stylesWithoutHost=p,d?o.classes=_:o.classesWithoutHost=_}function vp(o,a,d,p,_=!1){for(;null!==d;){const b=a[d.index];null!==b&&p.push(Ii(b)),Ir(b)&&gE(b,p);const T=d.type;if(8&T)vp(o,a,d.child,p);else if(32&T){const S=bi(d,a);let P;for(;P=S();)p.push(P)}else if(16&T){const S=wT(a,d);if(Array.isArray(S))p.push(...S);else{const P=Zs(a[Er]);vp(P[xt],P,S,p,!0)}}d=_?d.projectionNext:d.next}return p}function gE(o,a){for(let d=Bi;d<o.length;d++){const p=o[d],_=p[xt].firstChild;null!==_&&vp(p[xt],p,_,a)}o[Mr]!==o[Mi]&&a.push(o[Mr])}function db(o,a,d,p=!0){const _=a[Xo],b=_.rendererFactory,T=_.afterRenderEventManager;b.begin?.(),T?.begin();try{hb(o,a,o.template,d)}catch(P){throw p&&k_(a,P),P}finally{b.end?.(),_.effectManager?.flush(),T?.end()}}function hb(o,a,d,p){const _=a[Cn];if(256!=(256&_)){a[Xo].effectManager?.flush(),jl(a);try{Kd(a),function co(o){return xn.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==d&&rb(o,a,d,2,p);const T=3==(3&_);if(T){const B=o.preOrderCheckHooks;null!==B&&jr(a,B,null)}else{const B=o.preOrderHooks;null!==B&&Lc(a,B,0,null),kr(a,0)}if(function ga(o){for(let a=ip(o);null!==a;a=tf(a)){if(!a[Da])continue;const d=a[Wr];for(let p=0;p<d.length;p++){kc(d[p])}}}(a),Ss(a,2),null!==o.contentQueries&&_D(o,a),T){const B=o.contentCheckHooks;null!==B&&jr(a,B)}else{const B=o.contentHooks;null!==B&&Lc(a,B,1),kr(a,1)}!function q2(o,a){const d=o.hostBindingOpCodes;if(null===d)return;const p=yR(a,qr);try{for(let _=0;_<d.length;_++){const b=d[_];if(b<0)ha(~b);else{const T=b,S=d[++_],P=d[++_];td(S,T),p.dirty=!1;const B=il(p);try{P(2,a[T])}finally{yi(p,B)}}}}finally{null===a[qr]&&bR(a,qr),ha(-1)}}(o,a);const S=o.components;null!==S&&ED(a,S,0);const P=o.viewQuery;if(null!==P&&P_(2,P,p),T){const B=o.viewCheckHooks;null!==B&&jr(a,B)}else{const B=o.viewHooks;null!==B&&Lc(a,B,2),kr(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[Cn]&=-73,Uh(a)}finally{sc()}}}function Ss(o,a){for(let d=ip(o);null!==d;d=tf(d))for(let p=Bi;p<d.length;p++)pb(d[p],a)}function fb(o,a,d){pb(qi(a,o),d)}function pb(o,a){if(!function Zd(o){return 128==(128&o[Cn])}(o))return;const d=o[xt],p=o[Cn];if(80&p&&0===a||1024&p||2===a)hb(d,o,d.template,o[Oi]);else if(o[Ls]>0){Ss(o,1);const _=d.components;null!==_&&ED(o,_,1)}}function ED(o,a,d){for(let p=0;p<a.length;p++)fb(o,a[p],d)}class L_{get rootNodes(){const a=this._lView,d=a[xt];return vp(d,a,d.firstChild,[])}constructor(a,d){this._lView=a,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Oi]}set context(a){this._lView[Oi]=a}get destroyed(){return 256==(256&this._lView[Cn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[xi];if(Ir(a)){const d=a[8],p=d?d.indexOf(this):-1;p>-1&&(Ry(a,p),dd(d,p))}this._attachedToViewContainer=!1}ww(this._lView[xt],this._lView)}onDestroy(a){!function ic(o,a){if(256==(256&o[Cn]))throw new Ce(911,!1);null===o[Ta]&&(o[Ta]=[]),o[Ta].push(a)}(this._lView,a)}markForCheck(){ib(this._cdRefInjectingView||this._lView)}detach(){this._lView[Cn]&=-129}reattach(){this._lView[Cn]|=128}detectChanges(){db(this._lView[xt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hT(o,a){hh(o,a,a[on],2,null,null)}(this._lView[xt],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=a}}class RR extends L_{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;db(a[xt],a,a[Oi],!1)}checkNoChanges(){}get context(){return null}}class vE extends tb{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const d=Bn(a);return new gh(d,this.ngModule)}}function CD(o){const a=[];for(let d in o)o.hasOwnProperty(d)&&a.push({propName:o[d],templateName:d});return a}class kR{constructor(a,d){this.injector=a,this.parentInjector=d}get(a,d,p){p=Xn(p);const _=this.injector.get(a,Qw,p);return _!==Qw||d===Qw?_:this.parentInjector.get(a,d,p)}}class gh extends YO{get inputs(){const a=this.componentDef,d=a.inputTransforms,p=CD(a.inputs);if(null!==d)for(const _ of p)d.hasOwnProperty(_.propName)&&(_.transform=d[_.propName]);return p}get outputs(){return CD(this.componentDef.outputs)}constructor(a,d){super(),this.componentDef=a,this.ngModule=d,this.componentType=a.type,this.selector=function el(o){return o.map(ta).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!d}create(a,d,p,_){let b=(_=_||this.ngModule)instanceof Ou?_:_?.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const T=b?new kR(a,b):a,S=T.get(Kw,null);if(null===S)throw new Ce(407,!1);const se={rendererFactory:S,sanitizer:T.get(x2,null),effectManager:T.get(yD,null),afterRenderEventManager:T.get(lD,null)},Ie=S.createRenderer(null,this.componentDef),Be=this.componentDef.selectors[0][0]||"div",ft=p?function DR(o,a,d,p){const b=p.get(mR,!1)||d===_t.ShadowDom,T=o.selectRootElement(a,b);return function SR(o){ma(o)}(T),T}(Ie,p,this.componentDef.encapsulation,T):uc(Ie,Be,function PR(o){const a=o.toLowerCase();return"svg"===a?Gd:"math"===a?"math":null}(Be)),vn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let yt=null;null!==ft&&(yt=Gw(ft,T,!0));const Kn=S_(0,null,null,1,0,null,null,null,null,null,null),ui=iE(null,Kn,null,vn,null,null,se,Ie,T,null,yt);let pr,Ha;jl(ui);try{const Dh=this.componentDef;let Rf,Ax=null;Dh.findHostDirectiveDefs?(Rf=[],Ax=new Map,Dh.findHostDirectiveDefs(Dh,Rf,Ax),Rf.push(Dh)):Rf=[Dh];const Mx=function yE(o,a){const d=o[xt],p=Jn;return o[p]=a,Dm(d,p,2,"#host",null)}(ui,ft),Ox=function xD(o,a,d,p,_,b,T){const S=_[xt];!function NR(o,a,d,p){for(const _ of o)a.mergedAttrs=Yo(a.mergedAttrs,_.hostAttrs);null!==a.mergedAttrs&&(F_(a,a.mergedAttrs,!0),null!==d&&f_(p,d,a))}(p,o,a,T);let P=null;null!==a&&(P=Gw(a,_[ra]));const B=b.rendererFactory.createRenderer(a,d);let W=16;d.signals?W=4096:d.onPush&&(W=64);const se=iE(_,uD(d),null,W,_[o.index],o,b,B,null,null,P);return S.firstCreatePass&&lb(S,o,p.length-1),_p(_,se),_[o.index]=se}(Mx,ft,Dh,Rf,ui,se,Ie);Ha=qd(Kn,Jn),ft&&function bE(o,a,d,p){if(p)Ko(o,d,["ng-version",eR.full]);else{const{attrs:_,classes:b}=function ko(o){const a=[],d=[];let p=1,_=2;for(;p<o.length;){let b=o[p];if("string"==typeof b)2===_?""!==b&&a.push(b,o[++p]):8===_&&d.push(b);else{if(!$r(_))break;_=b}p++}return{attrs:a,classes:d}}(a.selectors[0]);_&&Ko(o,d,_),b&&b.length>0&&CT(o,d,b.join(" "))}}(Ie,Dh,ft,p),void 0!==d&&function wE(o,a,d){const p=o.projection=[];for(let _=0;_<a.length;_++){const b=d[_];p.push(null!=b?Array.from(b):null)}}(Ha,this.ngContentSelectors,d),pr=function mb(o,a,d,p,_,b){const T=Io(),S=_[xt],P=jo(T,_);hD(S,_,T,d,null,p);for(let W=0;W<d.length;W++)V(Na(_,S,T.directiveStart+W,T),_);cb(S,_,T),P&&V(P,_);const B=Na(_,S,T.directiveStart+T.componentOffset,T);if(o[Oi]=_[Oi]=B,null!==b)for(const W of b)W(B,a);return Wn(S,T,o),B}(Ox,Dh,Rf,Ax,ui,[ID]),ub(Kn,ui,null)}finally{sc()}return new U_(this.componentType,pr,xm(Ha,ui),ui,Ha)}}class U_ extends eD{constructor(a,d,p,_,b){super(),this.location=p,this._rootLView=_,this._tNode=b,this.previousInputValues=null,this.instance=d,this.hostView=this.changeDetectorRef=new RR(_),this.componentType=a}setInput(a,d){const p=this._tNode.inputs;let _;if(null!==p&&(_=p[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),d))return;const b=this._rootLView;N_(b[xt],b,_,a,d),this.previousInputValues.set(a,d),ib(qi(this._tNode.index,b))}}get injector(){return new sr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function ID(){const o=Io();ka(pt()[xt],o)}function yp(o){let a=function TD(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),d=!0;const p=[o];for(;a;){let _;if(di(o))_=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ce(903,!1);_=a.\u0275dir}if(_){if(d){p.push(_);const T=o;T.inputs=V_(o.inputs),T.inputTransforms=V_(o.inputTransforms),T.declaredInputs=V_(o.declaredInputs),T.outputs=V_(o.outputs);const S=_.hostBindings;S&&FR(o,S);const P=_.viewQuery,B=_.contentQueries;if(P&&SD(o,P),B&&gb(o,B),q(o.inputs,_.inputs),q(o.declaredInputs,_.declaredInputs),q(o.outputs,_.outputs),null!==_.inputTransforms&&(null===T.inputTransforms&&(T.inputTransforms={}),q(T.inputTransforms,_.inputTransforms)),di(_)&&_.data.animation){const W=o.data;W.animation=(W.animation||[]).concat(_.data.animation)}}const b=_.features;if(b)for(let T=0;T<b.length;T++){const S=b[T];S&&S.ngInherit&&S(o),S===yp&&(d=!1)}}a=Object.getPrototypeOf(a)}!function DD(o){let a=0,d=null;for(let p=o.length-1;p>=0;p--){const _=o[p];_.hostVars=a+=_.hostVars,_.hostAttrs=Yo(_.hostAttrs,d=Yo(d,_.hostAttrs))}}(p)}function V_(o){return o===Zt?{}:o===Pt?[]:o}function SD(o,a){const d=o.viewQuery;o.viewQuery=d?(p,_)=>{a(p,_),d(p,_)}:a}function gb(o,a){const d=o.contentQueries;o.contentQueries=d?(p,_,b)=>{a(p,_,b),d(p,_,b)}:a}function FR(o,a){const d=o.hostBindings;o.hostBindings=d?(p,_)=>{a(p,_),d(p,_)}:a}function CE(o){const a=o.inputConfig,d={};for(const p in a)if(a.hasOwnProperty(p)){const _=a[p];Array.isArray(_)&&_[2]&&(d[p]=_[2])}o.inputTransforms=d}function B_(o){return!!yb(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function yb(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function ku(o,a,d){return o[a]=d}function hs(o,a,d){return!Object.is(o[a],d)&&(o[a]=d,!0)}function km(o,a,d,p){const _=pt();return hs(_,Xr(),a)&&(ni(),Ru(ir(),_,o,a,d,p)),km}function bp(o,a,d,p){return hs(o,Xr(),d)?a+$e(d)+p:oi}function VD(o,a,d,p,_,b,T,S){const P=pt(),B=ni(),W=o+Jn,se=B.firstCreatePass?function $R(o,a,d,p,_,b,T,S,P){const B=a.consts,W=Dm(a,o,4,T||null,cl(B,S));M_(a,d,W,cl(B,P)),ka(a,W);const se=W.tView=S_(2,W,p,_,b,a.directiveRegistry,a.pipeRegistry,null,a.schemas,B,null);return null!==a.queries&&(a.queries.template(a,W),se.queries=a.queries.embeddedTView(W)),W}(W,B,P,a,d,p,_,b,T):B.data[W];Do(se,!1);const Ie=BD(B,P,se,o);Hl()&&ky(B,P,Ie,se),V(Ie,P),_p(P,P[W]=gD(Ie,P,Ie,se)),Kr(se)&&Sm(B,P,se),null!=T&&gp(P,se,S)}let BD=function Z_(o,a,d,p){return cc(!0),a[on].createComment("")};function PE(o){return al(function Zf(){return xn.lFrame.contextLView}(),Jn+o)}function xp(o,a,d){const p=pt();return hs(p,Xr(),a)&&wl(ni(),ir(),p,o,a,p[on],d,!1),xp}function Ip(o,a,d,p,_){const T=_?"class":"style";N_(o,d,a.inputs[T],T,p)}function no(o,a,d,p){const _=pt(),b=ni(),T=Jn+o,S=_[on],P=b.firstCreatePass?function GR(o,a,d,p,_,b){const T=a.consts,P=Dm(a,o,2,p,cl(T,_));return M_(a,d,P,cl(T,b)),null!==P.attrs&&F_(P,P.attrs,!1),null!==P.mergedAttrs&&F_(P,P.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,P),P}(T,b,_,a,d,p):b.data[T],B=jD(b,_,P,S,a,o);_[T]=B;const W=Kr(P);return Do(P,!0),f_(S,B,P),32!=(32&P.flags)&&Hl()&&ky(b,_,B,P),0===function Ju(){return xn.lFrame.elementDepthCount}()&&V(B,_),function Br(){xn.lFrame.elementDepthCount++}(),W&&(Sm(b,_,P),Wn(b,P,_)),null!==p&&gp(_,P),no}function Y_(){let o=Io();Wi()?ao():(o=o.parent,Do(o,!1));const a=o;(function Fc(o){return xn.skipHydrationRootTNode===o})(a)&&function rc(){xn.skipHydrationRootTNode=null}(),function Vh(){xn.lFrame.elementDepthCount--}();const d=ni();return d.firstCreatePass&&(ka(d,o),nl(o)&&d.queries.elementEnd(o)),null!=a.classesWithoutHost&&function od(o){return 0!=(8&o.flags)}(a)&&Ip(d,a,pt(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function $l(o){return 0!=(16&o.flags)}(a)&&Ip(d,a,pt(),a.stylesWithoutHost,!1),Y_}function kE(o,a,d,p){return no(o,a,d,p),Y_(),kE}let jD=(o,a,d,p,_,b)=>(cc(!0),uc(p,_,function rr(){return xn.lFrame.currentNamespace}()));function Q_(o,a,d){const p=pt(),_=ni(),b=o+Jn,T=_.firstCreatePass?function HD(o,a,d,p,_){const b=a.consts,T=cl(b,p),S=Dm(a,o,8,"ng-container",T);return null!==T&&F_(S,T,!0),M_(a,d,S,cl(b,_)),null!==a.queries&&a.queries.elementStart(a,S),S}(b,_,p,a,d):_.data[b];Do(T,!0);const S=Nu(_,p,T,o);return p[b]=S,Hl()&&ky(_,p,S,T),V(S,p),Kr(T)&&(Sm(_,p,T),Wn(_,T,p)),null!=d&&gp(p,T),Q_}function Tp(){let o=Io();const a=ni();return Wi()?ao():(o=o.parent,Do(o,!1)),a.firstCreatePass&&(ka(a,o),nl(o)&&a.queries.elementEnd(o)),Tp}function Db(o,a,d){return Q_(o,a,d),Tp(),Db}let Nu=(o,a,d,p)=>(cc(!0),Ks(a[on],""));function NE(){return pt()}function X_(o){return!!o&&"function"==typeof o.then}function Hm(o){return!!o&&"function"==typeof o.subscribe}function Sb(o,a,d,p){const _=pt(),b=ni(),T=Io();return function FE(o,a,d,p,_,b,T){const S=Kr(p),B=o.firstCreatePass&&hE(o),W=a[Oi],se=dE(a);let Ie=!0;if(3&p.type||T){const Dt=jo(p,a),Wt=T?T(Dt):Dt,vn=se.length,yt=T?ui=>T(Ii(ui[p.index])):p.index;let Kn=null;if(!T&&S&&(Kn=function Mb(o,a,d,p){const _=o.cleanup;if(null!=_)for(let b=0;b<_.length-1;b+=2){const T=_[b];if(T===d&&_[b+1]===p){const S=a[Qo],P=_[b+2];return S.length>P?S[P]:null}"string"==typeof T&&(b+=2)}return null}(o,a,_,p.index)),null!==Kn)(Kn.__ngLastListenerFn__||Kn).__ngNextListenerFn__=b,Kn.__ngLastListenerFn__=b,Ie=!1;else{b=GD(p,a,W,b,!1);const ui=d.listen(Wt,_,b);se.push(b,ui),B&&B.push(_,yt,vn,vn+1)}}else b=GD(p,a,W,b,!1);const Be=p.outputs;let ft;if(Ie&&null!==Be&&(ft=Be[_])){const Dt=ft.length;if(Dt)for(let Wt=0;Wt<Dt;Wt+=2){const pr=a[ft[Wt]][ft[Wt+1]].subscribe(b),Ha=se.length;se.push(b,pr),B&&B.push(_,p.index,Ha,-(Ha+1))}}}(b,_,_[on],T,o,a,p),Sb}function J_(o,a,d,p){try{return ws(6,a,d),!1!==d(p)}catch(_){return k_(o,_),!1}finally{ws(7,a,d)}}function GD(o,a,d,p,_){return function b(T){if(T===Function)return p;ib(o.componentOffset>-1?qi(o.index,a):a);let P=J_(a,d,p,T),B=b.__ngNextListenerFn__;for(;B;)P=J_(a,d,B,T)&&P,B=B.__ngNextListenerFn__;return _&&!1===P&&T.preventDefault(),P}}function LE(o=1){return function ac(o){return(xn.lFrame.contextLView=function zl(o,a){for(;o>0;)a=a[wr],o--;return a}(o,xn.lFrame.contextLView))[Oi]}(o)}function ev(o,a){let d=null;const p=function Zu(o){const a=o.attrs;if(null!=a){const d=a.indexOf(5);if(!(1&d))return a[d+1]}return null}(o);for(let _=0;_<a.length;_++){const b=a[_];if("*"!==b){if(null===p?Ya(o,b,!0):yc(p,b))return _}else d=_}return d}function UE(o){const a=pt()[Er][$n];if(!a.projection){const p=a.projection=hd(o?o.length:1,null),_=p.slice();let b=a.child;for(;null!==b;){const T=o?ev(b,o):0;null!==T&&(_[T]?_[T].projectionNext=b:p[T]=b,_[T]=b),b=b.next}}}function VE(o,a=0,d){const p=pt(),_=ni(),b=Dm(_,Jn+o,16,null,d||null);null===b.projection&&(b.projection=a),ao(),(!p[Fi]||Es())&&32!=(32&b.flags)&&function xw(o,a,d){ET(a[on],0,a,d,pT(o,d,a),vT(d.parent||a[$n],d,a))}(_,p,b)}function tv(o,a,d){return nv(o,"",a,"",d),tv}function nv(o,a,d,p,_){const b=pt(),T=bp(b,a,d,p);return T!==oi&&wl(ni(),ir(),b,o,T,b[on],_,!1),nv}function rv(o,a){return o<<17|a<<2}function Fu(o){return o>>17&32767}function Ob(o){return 2|o}function iu(o){return(131068&o)>>2}function qE(o,a){return-131069&o|a<<2}function ov(o){return 1|o}function ZE(o,a,d,p,_){const b=o[d+1],T=null===a;let S=p?Fu(b):iu(b),P=!1;for(;0!==S&&(!1===P||T);){const W=o[S+1];KE(o[S],a)&&(P=!0,o[S+1]=p?ov(W):Ob(W)),S=p?Fu(W):iu(W)}P&&(o[d+1]=p?Ob(b):ov(b))}function KE(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Yl(o,a)>=0}const uo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Rb(o){return o.substring(uo.key,uo.keyEnd)}function Cl(o,a){const d=uo.textEnd;return d===a?-1:(a=uo.keyEnd=function Pb(o,a,d){for(;a<d&&o.charCodeAt(a)>32;)a++;return a}(o,uo.key=a,d),Id(o,a,d))}function Id(o,a,d){for(;a<d&&o.charCodeAt(a)<=32;)a++;return a}function YE(o,a,d){return Vu(o,a,d,!1),YE}function QE(o,a){return Vu(o,a,null,!0),QE}function cv(o){!function Ba(o,a,d,p){const _=ni(),b=Jr(2);_.firstUpdatePass&&As(_,null,b,p);const T=pt();if(d!==oi&&hs(T,b,d)){const S=_.data[ts()];if(fs(S,p)&&!XE(_,b)){let P=p?S.classesWithoutHost:S.stylesWithoutHost;null!==P&&(d=Ne(P,d||"")),Ip(_,S,T,d,p)}else!function bn(o,a,d,p,_,b,T,S){_===oi&&(_=Pt);let P=0,B=0,W=0<_.length?_[0]:null,se=0<b.length?b[0]:null;for(;null!==W||null!==se;){const Ie=P<_.length?_[P+1]:void 0,Be=B<b.length?b[B+1]:void 0;let Dt,ft=null;W===se?(P+=2,B+=2,Ie!==Be&&(ft=se,Dt=Be)):null===se||null!==W&&W<se?(P+=2,ft=W):(B+=2,ft=se,Dt=Be),null!==ft&&QD(o,a,d,p,ft,Dt,T,S),W=P<_.length?_[P]:null,se=B<b.length?b[B]:null}}(_,S,T,T[on],T[b+1],T[b+1]=function ru(o,a,d){if(null==d||""===d)return Pt;const p=[],_=yd(d);if(Array.isArray(_))for(let b=0;b<_.length;b++)o(p,_[b],!0);else if("object"==typeof _)for(const b in _)_.hasOwnProperty(b)&&o(p,b,_[b]);else"string"==typeof _&&a(p,_);return p}(o,a,d),p,b)}}(ln,Td,o,!0)}function Td(o,a){for(let d=function bh(o){return function av(o){uo.key=0,uo.keyEnd=0,uo.value=0,uo.valueEnd=0,uo.textEnd=o.length}(o),Cl(o,Id(o,0,uo.textEnd))}(a);d>=0;d=Cl(a,d))qs(o,Rb(a),!0)}function Vu(o,a,d,p){const _=pt(),b=ni(),T=Jr(2);b.firstUpdatePass&&As(b,o,T,p),a!==oi&&hs(_,T,a)&&QD(b,b.data[ts()],_,_[on],o,_[T+1]=function vt(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=de(yd(o)))),o}(a,d),p,T)}function XE(o,a){return a>=o.expandoStartIndex}function As(o,a,d,p){const _=o.data;if(null===_[d+1]){const b=_[ts()],T=XE(o,d);fs(b,p)&&null===a&&!T&&(a=!1),a=function $m(o,a,d,p){const _=function Bl(o){const a=xn.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let b=p?a.residualClasses:a.residualStyles;if(null===_)0===(p?a.classBindings:a.styleBindings)&&(d=io(d=Tt(null,o,a,d,p),a.attrs,p),b=null);else{const T=a.directiveStylingLast;if(-1===T||o[T]!==_)if(d=Tt(_,o,a,d,p),null===b){let P=function mf(o,a,d){const p=d?a.classBindings:a.styleBindings;if(0!==iu(p))return o[Fu(p)]}(o,a,p);void 0!==P&&Array.isArray(P)&&(P=Tt(null,o,a,P[1],p),P=io(P,a.attrs,p),function JE(o,a,d,p){o[Fu(d?a.classBindings:a.styleBindings)]=p}(o,a,p,P))}else b=function YR(o,a,d){let p;const _=a.directiveEnd;for(let b=1+a.directiveStylingLast;b<_;b++)p=io(p,o[b].hostAttrs,d);return io(p,a.attrs,d)}(o,a,p)}return void 0!==b&&(p?a.residualClasses=b:a.residualStyles=b),d}(_,b,a,p),function WE(o,a,d,p,_,b){let T=b?a.classBindings:a.styleBindings,S=Fu(T),P=iu(T);o[p]=d;let W,B=!1;if(Array.isArray(d)?(W=d[1],(null===W||Yl(d,W)>0)&&(B=!0)):W=d,_)if(0!==P){const Ie=Fu(o[S+1]);o[p+1]=rv(Ie,S),0!==Ie&&(o[Ie+1]=qE(o[Ie+1],p)),o[S+1]=function qD(o,a){return 131071&o|a<<17}(o[S+1],p)}else o[p+1]=rv(S,0),0!==S&&(o[S+1]=qE(o[S+1],p)),S=p;else o[p+1]=rv(P,0),0===S?S=p:o[P+1]=qE(o[P+1],p),P=p;B&&(o[p+1]=Ob(o[p+1])),ZE(o,W,p,!0),ZE(o,W,p,!1),function xd(o,a,d,p,_){const b=_?o.residualClasses:o.residualStyles;null!=b&&"string"==typeof a&&Yl(b,a)>=0&&(d[p+1]=ov(d[p+1]))}(a,W,o,p,b),T=rv(S,P),b?a.classBindings=T:a.styleBindings=T}(_,b,a,d,T,p)}}function Tt(o,a,d,p,_){let b=null;const T=d.directiveEnd;let S=d.directiveStylingLast;for(-1===S?S=d.directiveStart:S++;S<T&&(b=a[S],p=io(p,b.hostAttrs,_),b!==o);)S++;return null!==o&&(d.directiveStylingLast=S),p}function io(o,a,d){const p=d?1:2;let _=-1;if(null!==a)for(let b=0;b<a.length;b++){const T=a[b];"number"==typeof T?_=T:_===p&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),qs(o,T,!!d||a[++b]))}return void 0===o?null:o}function ln(o,a,d){const p=String(a);""!==p&&!p.includes(" ")&&qs(o,p,d)}function QD(o,a,d,p,_,b,T,S){if(!(3&a.type))return;const P=o.data,B=P[S+1],W=function Lu(o){return 1==(1&o)}(B)?qt(P,a,d,_,iu(B),T):void 0;tt(W)||(tt(b)||function El(o){return 2==(2&o)}(B)&&(b=qt(P,null,d,_,S,T)),function Iw(o,a,d,p,_){if(a)_?o.addClass(d,p):o.removeClass(d,p);else{let b=-1===p.indexOf("-")?void 0:uh.DashCase;null==_?o.removeStyle(d,p,b):("string"==typeof _&&_.endsWith("!important")&&(_=_.slice(0,-10),b|=uh.Important),o.setStyle(d,p,_,b))}}(p,T,Ra(ts(),d),_,b))}function qt(o,a,d,p,_,b){const T=null===a;let S;for(;_>0;){const P=o[_],B=Array.isArray(P),W=B?P[1]:P,se=null===W;let Ie=d[_+1];Ie===oi&&(Ie=se?Pt:void 0);let Be=se?Jf(Ie,p):W===p?Ie:void 0;if(B&&!tt(Be)&&(Be=Jf(P,p)),tt(Be)&&(S=Be,T))return S;const ft=o[_+1];_=T?Fu(ft):iu(ft)}if(null!==a){let P=b?a.residualClasses:a.residualStyles;null!=P&&(S=Jf(P,p))}return S}function tt(o){return void 0!==o}function fs(o,a){return 0!=(o.flags&(a?8:16))}function eC(o,a=""){const d=pt(),p=ni(),_=o+Jn,b=p.firstCreatePass?Dm(p,_,1,a,null):p.data[_],T=XD(p,d,b,a,o);d[_]=T,Hl()&&ky(p,d,T,b),Do(b,!1)}let XD=(o,a,d,p,_)=>(cc(!0),function vd(o,a){return o.createText(a)}(a[on],p));function tC(o){return Nb("",o,""),tC}function Nb(o,a,d){const p=pt(),_=bp(p,o,a,d);return _!==oi&&function Pu(o,a,d){const p=Ra(a,o);!function My(o,a,d){o.setValue(a,d)}(o[on],p,d)}(p,ts(),_),Nb}function Dd(o,a,d){const p=pt();return hs(p,Xr(),a)&&wl(ni(),ir(),p,o,a,p[on],d,!0),Dd}const Il=void 0;var lC=["en",[["a","p"],["AM","PM"],Il],[["AM","PM"],Il,Il],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Il,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Il,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Il,"{1} 'at' {0}",Il],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function oS(o){const d=Math.floor(Math.abs(o)),p=o.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===p?1:5}];let qm={};function dc(o){const a=function sS(o){return o.toLowerCase().replace(/_/g,"-")}(o);let d=uC(a);if(d)return d;const p=a.split("-")[0];if(d=uC(p),d)return d;if("en"===p)return lC;throw new Ce(701,!1)}function Wm(o){return dc(o)[Zm.PluralCase]}function uC(o){return o in qm||(qm[o]=xe.ng&&xe.ng.common&&xe.ng.common.locales&&xe.ng.common.locales[o]),qm[o]}var Zm=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(Zm||{});const Eh="en-US";let lS=Eh;function xC(o,a,d,p,_){if(o=st(o),Array.isArray(o))for(let b=0;b<o.length;b++)xC(o[b],a,d,p,_);else{const b=ni(),T=pt(),S=Io();let P=lp(o)?o:st(o.provide);const B=Lw(o),W=1048575&S.providerIndexes,se=S.directiveStart,Ie=S.providerIndexes>>20;if(lp(o)||!o.multi){const Be=new nd(B,_,Tm),ft=IC(P,a,_?W:W+Ie,se);-1===ft?(Wl(Hs(S,T),b,P),Zb(b,o,a.length),a.push(P),S.directiveStart++,S.directiveEnd++,_&&(S.providerIndexes+=1048576),d.push(Be),T.push(Be)):(d[ft]=Be,T[ft]=Be)}else{const Be=IC(P,a,W+Ie,se),ft=IC(P,a,W,W+Ie),Wt=ft>=0&&d[ft];if(_&&!Wt||!_&&!(Be>=0&&d[Be])){Wl(Hs(S,T),b,P);const vn=function _v(o,a,d,p,_){const b=new nd(o,d,Tm);return b.multi=[],b.index=a,b.componentProviders=0,SS(b,_,p&&!d),b}(_?TC:mP,d.length,_,p,B);!_&&Wt&&(d[ft].providerFactory=vn),Zb(b,o,a.length,0),a.push(P),S.directiveStart++,S.directiveEnd++,_&&(S.providerIndexes+=1048576),d.push(vn),T.push(vn)}else Zb(b,o,Be>-1?Be:ft,SS(d[_?ft:Be],B,!_&&p));!_&&p&&Wt&&d[ft].componentProviders++}}}function Zb(o,a,d,p){const _=lp(a),b=function $T(o){return!!o.useClass}(a);if(_||b){const P=(b?st(a.useClass):a).prototype.ngOnDestroy;if(P){const B=o.destroyHooks||(o.destroyHooks=[]);if(!_&&a.multi){const W=B.indexOf(d);-1===W?B.push(d,[p,P]):B[W+1].push(p,P)}else B.push(d,P)}}}function SS(o,a,d){return d&&o.componentProviders++,o.multi.push(a)-1}function IC(o,a,d,p){for(let _=d;_<p;_++)if(a[_]===o)return _;return-1}function mP(o,a,d,p){return xh(this.multi,[])}function TC(o,a,d,p){const _=this.multi;let b;if(this.providerFactory){const T=this.providerFactory.componentProviders,S=Na(d,d[xt],this.providerFactory.index,p);b=S.slice(0,T),xh(_,b);for(let P=T;P<S.length;P++)b.push(S[P])}else b=[],xh(_,b);return b}function xh(o,a){for(let d=0;d<o.length;d++)a.push((0,o[d])());return a}function vv(o,a=[]){return d=>{d.providersResolver=(p,_)=>function DS(o,a,d){const p=ni();if(p.firstCreatePass){const _=di(o);xC(d,p.data,p.blueprint,_,!0),xC(a,p.data,p.blueprint,_,!1)}}(p,_?_(o):o,a)}}class Od{}class DC{}function AS(o,a){return new Kb(o,a??null,[])}class Kb extends Od{constructor(a,d,p){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vE(this);const _=br(a);this._bootstrapComponents=af(_.bootstrap),this._r3Injector=iD(a,d,[{provide:Od,useValue:this},{provide:tb,useValue:this.componentFactoryResolver},...p],de(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class yf extends DC{constructor(a){super(),this.moduleType=a}create(a){return new Kb(this.moduleType,a,[])}}class Yb extends Od{constructor(a){super(),this.componentFactoryResolver=new vE(this),this.instance=null;const d=new Gy([...a.providers,{provide:Od,useValue:this},{provide:tb,useValue:this.componentFactoryResolver}],a.parent||up(),a.debugName,new Set(["environment"]));this.injector=d,a.runEnvironmentInitializers&&d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function yv(o,a,d=null){return new Yb({providers:o,parent:a,debugName:d,runEnvironmentInitializers:!0}).injector}let SC=(()=>{class o{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d)){const p=jT(0,d.type),_=p.length>0?yv([p],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d,_)}return this.cachedInjectors.get(d)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=fn({token:o,providedIn:"environment",factory:()=>new o(St(Ou))})}return o})();function bf(o){o.getStandaloneInjector=a=>a.get(SC).getOrCreateStandaloneInjector(o)}function OC(o,a,d){const p=Zi()+o,_=pt();return _[p]===oi?ku(_,p,d?a.call(d):a()):function Rm(o,a){return o[a]}(_,p)}function tg(o,a,d,p){return jS(pt(),Zi(),o,a,d,p)}function LS(o,a,d,p,_){return zS(pt(),Zi(),o,a,d,p,_)}function Ef(o,a){const d=o[a];return d===oi?void 0:d}function jS(o,a,d,p,_,b){const T=a+d;return hs(o,T,_)?ku(o,T+1,b?p.call(b,_):p(_)):Ef(o,T+1)}function zS(o,a,d,p,_,b,T){const S=a+d;return function _h(o,a,d,p){const _=hs(o,a,d);return hs(o,a+1,p)||_}(o,S,_,b)?ku(o,S+2,T?p.call(T,_,b):p(_,b)):Ef(o,S+2)}function kC(o,a){const d=ni();let p;const _=o+Jn;d.firstCreatePass?(p=function Fp(o,a){if(a)for(let d=a.length-1;d>=0;d--){const p=a[d];if(o===p.name)return p}}(a,d.pipeRegistry),d.data[_]=p,p.onDestroy&&(d.destroyHooks??=[]).push(_,p.onDestroy)):p=d.data[_];const b=p.factory||(p.factory=Us(p.type)),S=zt(Tm);try{const P=us(!1),B=b();return us(P),function RE(o,a,d,p){d>=o.data.length&&(o.data[d]=null,o.blueprint[d]=null),a[d]=p}(d,pt(),_,B),B}finally{zt(S)}}function NC(o,a,d){const p=o+Jn,_=pt(),b=al(_,p);return Dr(_,p)?jS(_,Zi(),a,b.transform,d,b):b.transform(d)}function FC(o,a,d,p){const _=o+Jn,b=pt(),T=al(b,_);return Dr(b,_)?zS(b,Zi(),a,T.transform,d,p,T):T.transform(d,p)}function Dr(o,a){return o[xt].data[a].pure}function Jb(){return this._results[Symbol.iterator]()}class Lp{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ed)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Lp.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=Jb)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,d){return this._results.reduce(a,d)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,d){const p=this;p.dirty=!1;const _=function Nr(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Ua(o,a,d){if(o.length!==a.length)return!1;for(let p=0;p<o.length;p++){let _=o[p],b=a[p];if(d&&(_=d(_),b=d(b)),b!==_)return!1}return!0}(p._results,_,d))&&(p._results=_,p.length=_.length,p.last=_[this.length-1],p.first=_[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function xv(o,a,d,p=!0){const _=a[xt];if(function p2(o,a,d,p){const _=Bi+p,b=d.length;p>0&&(d[_-1][so]=a),p<b-Bi?(a[so]=d[_],e_(d,Bi+p,a)):(d.push(a),a[so]=null),a[xi]=d;const T=a[_s];null!==T&&d!==T&&function bw(o,a){const d=o[Wr];a[Er]!==a[xi][xi][Er]&&(o[Da]=!0),null===d?o[Wr]=[a]:d.push(a)}(T,a);const S=a[Cr];null!==S&&S.insertView(o),a[Cn]|=128}(_,a,o,d),p){const b=Ny(d,o),T=a[on],S=l_(T,o[Mr]);null!==S&&function vO(o,a,d,p,_,b){p[Mi]=_,p[$n]=a,hh(o,p,d,1,_,b)}(_,o[$n],T,a,S,b)}}let ng=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=$S}return o})();const ig=ng,Ih=class extends ig{constructor(a,d,p){super(),this._declarationLView=a,this._declarationTContainer=d,this.elementRef=p}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,d){return this.createEmbeddedViewImpl(a,d)}createEmbeddedViewImpl(a,d,p){const _=function HS(o,a,d,p){const _=a.tView,S=iE(o,_,d,4096&o[Cn]?4096:16,null,a,null,null,null,p?.injector??null,p?.hydrationInfo??null);S[_s]=o[a.index];const B=o[Cr];return null!==B&&(S[Cr]=B.createEmbeddedView(_)),ub(_,S,d),S}(this._declarationLView,this._declarationTContainer,a,{injector:d,hydrationInfo:p});return new L_(_)}};function $S(){return Iv(Io(),pt())}function Iv(o,a){return 4&o.type?new Ih(a,o,xm(o,a)):null}let Tv=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=qS}return o})();function qS(){return HC(Io(),pt())}const BC=Tv,Dv=class extends BC{constructor(a,d,p){super(),this._lContainer=a,this._hostTNode=d,this._hostLView=p}get element(){return xm(this._hostTNode,this._hostLView)}get injector(){return new sr(this._hostTNode,this._hostLView)}get parentInjector(){const a=ql(this._hostTNode,this._hostLView);if(Uc(a)){const d=dl(a,this._hostLView),p=Vc(a);return new sr(d[xt].data[p+8],d)}return new sr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const d=jC(this._lContainer);return null!==d&&d[a]||null}get length(){return this._lContainer.length-Bi}createEmbeddedView(a,d,p){let _,b;"number"==typeof p?_=p:null!=p&&(_=p.index,b=p.injector);const S=a.createEmbeddedViewImpl(d||{},b,null);return this.insertImpl(S,_,false),S}createComponent(a,d,p,_,b){const T=a&&!function La(o){return"function"==typeof o}(a);let S;if(T)S=d;else{const Dt=d||{};S=Dt.index,p=Dt.injector,_=Dt.projectableNodes,b=Dt.environmentInjector||Dt.ngModuleRef}const P=T?a:new gh(Bn(a)),B=p||this.parentInjector;if(!b&&null==P.ngModule){const Wt=(T?B:this.parentInjector).get(Ou,null);Wt&&(b=Wt)}Bn(P.componentType??{});const Be=P.create(B,_,null,b);return this.insertImpl(Be.hostView,S,false),Be}insert(a,d){return this.insertImpl(a,d,!1)}insertImpl(a,d,p){const _=a._lView;if(function zs(o){return Ir(o[xi])}(_)){const P=this.indexOf(a);if(-1!==P)this.detach(P);else{const B=_[xi],W=new Dv(B,B[$n],B[xi]);W.detach(W.indexOf(a))}}const T=this._adjustIndex(d),S=this._lContainer;return xv(S,_,T,!p),a.attachToViewContainerRef(),e_(zC(S),T,a),a}move(a,d){return this.insert(a,d)}indexOf(a){const d=jC(this._lContainer);return null!==d?d.indexOf(a):-1}remove(a){const d=this._adjustIndex(a,-1),p=Ry(this._lContainer,d);p&&(dd(zC(this._lContainer),d),ww(p[xt],p))}detach(a){const d=this._adjustIndex(a,-1),p=Ry(this._lContainer,d);return p&&null!=dd(zC(this._lContainer),d)?new L_(p):null}_adjustIndex(a,d=0){return a??this.length+d}};function jC(o){return o[8]}function zC(o){return o[8]||(o[8]=[])}function HC(o,a){let d;const p=a[o.index];return Ir(p)?d=p:(d=gD(p,a,null,o),a[o.index]=d,_p(a,d)),t0(d,a,o,p),new Dv(d,o,a)}let t0=function sg(o,a,d,p){if(o[Mr])return;let _;_=8&d.type?Ii(p):function WS(o,a){const d=o[on],p=d.createComment(""),_=jo(a,o);return rp(d,l_(d,_),p,function EO(o,a){return o.nextSibling(a)}(d,_),!1),p}(a,d),o[Mr]=_};class ag{constructor(a){this.queryList=a,this.matches=null}clone(){return new ag(this.queryList)}setDirty(){this.queryList.setDirty()}}class n0{constructor(a=[]){this.queries=a}createEmbeddedView(a){const d=a.queries;if(null!==d){const p=null!==a.contentQueries?a.contentQueries[0]:d.length,_=[];for(let b=0;b<p;b++){const T=d.getByIndex(b);_.push(this.queries[T.indexInDeclarationView].clone())}return new n0(_)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let d=0;d<this.queries.length;d++)null!==ju(a,d).matches&&this.queries[d].setDirty()}}class $C{constructor(a,d,p=null){this.predicate=a,this.flags=d,this.read=p}}class r0{constructor(a=[]){this.queries=a}elementStart(a,d){for(let p=0;p<this.queries.length;p++)this.queries[p].elementStart(a,d)}elementEnd(a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(a)}embeddedTView(a){let d=null;for(let p=0;p<this.length;p++){const _=null!==d?d.length:0,b=this.getByIndex(p).embeddedTView(a,_);b&&(b.indexInDeclarationView=p,null!==d?d.push(b):d=[b])}return null!==d?new r0(d):null}template(a,d){for(let p=0;p<this.queries.length;p++)this.queries[p].template(a,d)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class GC{constructor(a,d=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(a,d){this.isApplyingToNode(d)&&this.matchTNode(a,d)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,d){this.elementStart(a,d)}embeddedTView(a,d){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,d),new GC(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let p=a.parent;for(;null!==p&&8&p.type&&p.index!==d;)p=p.parent;return d===(null!==p?p.index:-1)}return this._appliesToNextNode}matchTNode(a,d){const p=this.metadata.predicate;if(Array.isArray(p))for(let _=0;_<p.length;_++){const b=p[_];this.matchTNodeWithReadOption(a,d,ZS(d,b)),this.matchTNodeWithReadOption(a,d,ld(d,a,b,!1,!1))}else p===ng?4&d.type&&this.matchTNodeWithReadOption(a,d,-1):this.matchTNodeWithReadOption(a,d,ld(d,a,p,!1,!1))}matchTNodeWithReadOption(a,d,p){if(null!==p){const _=this.metadata.read;if(null!==_)if(_===Im||_===Tv||_===ng&&4&d.type)this.addMatch(d.index,-2);else{const b=ld(d,a,_,!1,!1);null!==b&&this.addMatch(d.index,b)}else this.addMatch(d.index,p)}}addMatch(a,d){null===this.matches?this.matches=[a,d]:this.matches.push(a,d)}}function ZS(o,a){const d=o.localNames;if(null!==d)for(let p=0;p<d.length;p+=2)if(d[p]===a)return d[p+1];return null}function EP(o,a,d,p){return-1===d?function KS(o,a){return 11&o.type?xm(o,a):4&o.type?Iv(o,a):null}(a,o):-2===d?function CP(o,a,d){return d===Im?xm(a,o):d===ng?Iv(a,o):d===Tv?HC(a,o):void 0}(o,a,p):Na(o,o[xt],d,a)}function YS(o,a,d,p){const _=a[Cr].queries[p];if(null===_.matches){const b=o.data,T=d.matches,S=[];for(let P=0;P<T.length;P+=2){const B=T[P];S.push(B<0?null:EP(a,b[B],T[P+1],d.metadata.read))}_.matches=S}return _.matches}function qC(o,a,d,p){const _=o.queries.getByIndex(d),b=_.matches;if(null!==b){const T=YS(o,a,_,d);for(let S=0;S<b.length;S+=2){const P=b[S];if(P>0)p.push(T[S/2]);else{const B=b[S+1],W=a[-P];for(let se=Bi;se<W.length;se++){const Ie=W[se];Ie[_s]===Ie[xi]&&qC(Ie[xt],Ie,B,p)}if(null!==W[Wr]){const se=W[Wr];for(let Ie=0;Ie<se.length;Ie++){const Be=se[Ie];qC(Be[xt],Be,B,p)}}}}}return p}function o0(o){const a=pt(),d=ni(),p=Xd();ll(p+1);const _=ju(d,p);if(o.dirty&&function Wd(o){return 4==(4&o[Cn])}(a)===(2==(2&_.metadata.flags))){if(null===_.matches)o.reset([]);else{const b=_.crossesNgTemplate?qC(d,a,p,[]):YS(d,a,_,p);o.reset(b,JO),o.notifyOnChanges()}return!0}return!1}function Up(o,a,d){const p=ni();p.firstCreatePass&&(ZC(p,new $C(o,a,d),-1),2==(2&a)&&(p.staticViewQueries=!0)),s0(p,pt(),a)}function WC(o,a,d,p){const _=ni();if(_.firstCreatePass){const b=Io();ZC(_,new $C(a,d,p),b.index),function Mv(o,a){const d=o.contentQueries||(o.contentQueries=[]);a!==(d.length?d[d.length-1]:-1)&&d.push(o.queries.length-1,a)}(_,o),2==(2&d)&&(_.staticContentQueries=!0)}s0(_,pt(),d)}function QS(){return function rs(o,a){return o[Cr].queries[a].queryList}(pt(),Xd())}function s0(o,a,d){const p=new Lp(4==(4&d));(function cf(o,a,d,p){const _=dE(a);_.push(d),o.firstCreatePass&&hE(o).push(p,_.length-1)})(o,a,p,p.destroy),null===a[Cr]&&(a[Cr]=new n0),a[Cr].queries.push(new ag(p))}function ZC(o,a,d){null===o.queries&&(o.queries=new r0),o.queries.track(new GC(a,d))}function ju(o,a){return o.queries.getByIndex(a)}function a0(o,a){return Iv(o,a)}function Vp(o){return!!br(o)}const Pv=new Xi("Application Initializer");let tx=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p}),this.appInits=Vt(Pv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const d=[];for(const _ of this.appInits){const b=_();if(X_(b))d.push(b);else if(Hm(b)){const T=new Promise((S,P)=>{b.subscribe({complete:S,error:P})});d.push(T)}}const p=()=>{this.done=!0,this.resolve()};Promise.all(d).then(()=>{p()}).catch(_=>{this.reject(_)}),0===d.length&&p(),this.initialized=!0}static#e=this.\u0275fac=function(p){return new(p||o)};static#t=this.\u0275prov=fn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),nx=(()=>{class o{log(d){console.log(d)}warn(d){console.warn(d)}static#e=this.\u0275fac=function(p){return new(p||o)};static#t=this.\u0275prov=fn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const Hp=new Xi("LocaleId",{providedIn:"root",factory:()=>Vt(Hp,sn.Optional|sn.SkipSelf)||function kv(){return typeof $localize<"u"&&$localize.locale||Eh}()}),Nv=new Xi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let ix=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ce.X(!1)}add(){this.hasPendingTasks.next(!0);const d=this.taskId++;return this.pendingTasks.add(d),d}remove(d){this.pendingTasks.delete(d),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(p){return new(p||o)};static#t=this.\u0275prov=fn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class l0{constructor(a,d){this.ngModuleFactory=a,this.componentFactories=d}}let u0=(()=>{class o{compileModuleSync(d){return new yf(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const p=this.compileModuleSync(d),b=af(br(d).declarations).reduce((T,S)=>{const P=Bn(S);return P&&T.push(new gh(P)),T},[]);return new l0(p,b)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}static#e=this.\u0275fac=function(p){return new(p||o)};static#t=this.\u0275prov=fn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const f0=new Xi(""),Rs=new Xi("");let ox,qP=(()=>{class o{constructor(d,p,_){this._ngZone=d,this.registry=p,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ox||(function WP(o){ox=o}(_),_.addToWindow(p)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(p=>!p.updateCb||!p.updateCb(d)||(clearTimeout(p.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,p,_){let b=-1;p&&p>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==b),d(this._didWork,this.getPendingTasks())},p)),this._callbacks.push({doneCb:d,timeoutId:b,updateCb:_})}whenStable(d,p,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,p,_),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,p,_){return[]}static#e=this.\u0275fac=function(p){return new(p||o)(St(Qs),St(MA),St(Rs))};static#t=this.\u0275prov=fn({token:o,factory:o.\u0275fac})}return o})(),MA=(()=>{class o{constructor(){this._applications=new Map}registerApplication(d,p){this._applications.set(d,p)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,p=!0){return ox?.findTestabilityInTree(this,d,p)??null}static#e=this.\u0275fac=function(p){return new(p||o)};static#t=this.\u0275prov=fn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})(),Nd=null;const OA=new Xi("AllowMultipleToken"),fg=new Xi("PlatformDestroyListeners"),pg=new Xi("appBootstrapListener");class Fv{constructor(a,d){this.name=a,this.token=d}}function RA(o,a,d=[]){const p=`Platform: ${a}`,_=new Xi(p);return(b=[])=>{let T=lx();if(!T||T.injector.get(OA,!1)){const S=[...d,...b,{provide:_,useValue:!0}];o?o(S):function m0(o){if(Nd&&!Nd.get(OA,!1))throw new Ce(400,!1);(function p0(){!function Ye(o){ee=o}(()=>{throw new Ce(600,!1)})})(),Nd=o;const a=o.get(ux);(function g0(o){o.get(qy,null)?.forEach(d=>d())})(o)}(function cx(o=[],a){return nu.create({name:a,providers:[{provide:Nw,useValue:"platform"},{provide:fg,useValue:new Set([()=>Nd=null])},...o]})}(S,p))}return function PA(o){const a=lx();if(!a)throw new Ce(401,!1);return a}()}}function lx(){return Nd?.get(ux)??null}let ux=(()=>{class o{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,p){const _=function FA(o="zone.js",a){return"noop"===o?new N2:"zone.js"===o?new Qs(a):o}(p?.ngZone,function NA(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:p?.ngZoneEventCoalescing,runCoalescing:p?.ngZoneRunCoalescing}));return _.run(()=>{const b=function MS(o,a,d){return new Kb(o,a,d)}(d.moduleType,this.injector,function _0(o){return[{provide:Qs,useFactory:o},{provide:__,multi:!0,useFactory:()=>{const a=Vt(VA,{optional:!0});return()=>a.initialize()}},{provide:dx,useFactory:UA},{provide:aR,useFactory:cR}]}(()=>_)),T=b.injector.get(wd,null);return _.runOutsideAngular(()=>{const S=_.onError.subscribe({next:P=>{T.handleError(P)}});b.onDestroy(()=>{mg(this._modules,b),S.unsubscribe()})}),function LA(o,a,d){try{const p=d();return X_(p)?p.catch(_=>{throw a.runOutsideAngular(()=>o.handleError(_)),_}):p}catch(p){throw a.runOutsideAngular(()=>o.handleError(p)),p}}(T,_,()=>{const S=b.injector.get(tx);return S.runInitializers(),S.donePromise.then(()=>(function uS(o){At(o,"Expected localeId to be defined"),"string"==typeof o&&(lS=o.toLowerCase().replace(/_/g,"-"))}(b.injector.get(Hp,Eh)||Eh),this._moduleDoBootstrap(b),b))})})}bootstrapModule(d,p=[]){const _=qp({},p);return function ZP(o,a,d){const p=new yf(d);return Promise.resolve(p)}(0,0,d).then(b=>this.bootstrapModuleFactory(b,_))}_moduleDoBootstrap(d){const p=d.injector.get(Hu);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(_=>p.bootstrap(_));else{if(!d.instance.ngDoBootstrap)throw new Ce(-403,!1);d.instance.ngDoBootstrap(p)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(p=>p.destroy()),this._destroyListeners.forEach(p=>p());const d=this._injector.get(fg,null);d&&(d.forEach(p=>p()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(p){return new(p||o)(St(nu))};static#t=this.\u0275prov=fn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function qp(o,a){return Array.isArray(a)?a.reduce(qp,o):{...o,...a}}let Hu=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Vt(dx),this.zoneIsStable=Vt(aR),this.componentTypes=[],this.components=[],this.isStable=Vt(ix).hasPendingTasks.pipe((0,ut.w)(d=>d?(0,Pe.of)(!1):this.zoneIsStable),(0,Ve.x)(),(0,Oe.B)()),this._injector=Vt(Ou)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,p){const _=d instanceof YO;if(!this._injector.get(tx).done)throw!_&&Ia(d),new Ce(405,!1);let T;T=_?d:this._injector.get(tb).resolveComponentFactory(d),this.componentTypes.push(T.componentType);const S=function sx(o){return o.isBoundToModule}(T)?void 0:this._injector.get(Od),B=T.create(nu.NULL,[],p||T.selector,S),W=B.location.nativeElement,se=B.injector.get(f0,null);return se?.registerApplication(W),B.onDestroy(()=>{this.detachView(B.hostView),mg(this.components,B),se?.unregisterApplication(W)}),this._loadComponent(B),B}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1}}attachView(d){const p=d;this._views.push(p),p.attachToAppRef(this)}detachView(d){const p=d;mg(this._views,p),p.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const p=this._injector.get(pg,[]);p.push(...this._bootstrapListeners),p.forEach(_=>_(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>mg(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new Ce(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(p){return new(p||o)};static#t=this.\u0275prov=fn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function mg(o,a){const d=o.indexOf(a);d>-1&&o.splice(d,1)}const dx=new Xi("",{providedIn:"root",factory:()=>Vt(wd).handleError.bind(void 0)});function UA(){const o=Vt(Qs),a=Vt(wd);return d=>o.runOutsideAngular(()=>a.handleError(d))}let VA=(()=>{class o{constructor(){this.zone=Vt(Qs),this.applicationRef=Vt(Hu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(p){return new(p||o)};static#t=this.\u0275prov=fn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function hx(){return!1}let Vv=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=v0}return o})();function v0(o){return function fx(o,a,d){if(Or(o)&&!d){const p=qi(o.index,a);return new L_(p,p)}return 47&o.type?new L_(a[Er],a):null}(Io(),pt(),16==(16&o))}class $A{constructor(){}supports(a){return B_(a)}create(a){return new Bv(a)}}const rk=(o,a)=>a;class Bv{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||rk}forEachItem(a){let d;for(d=this._itHead;null!==d;d=d._next)a(d)}forEachOperation(a){let d=this._itHead,p=this._removalsHead,_=0,b=null;for(;d||p;){const T=!p||d&&d.currentIndex<jv(p,_,b)?d:p,S=jv(T,_,b),P=T.currentIndex;if(T===p)_--,p=p._nextRemoved;else if(d=d._next,null==T.previousIndex)_++;else{b||(b=[]);const B=S-_,W=P-_;if(B!=W){for(let Ie=0;Ie<B;Ie++){const Be=Ie<b.length?b[Ie]:b[Ie]=0,ft=Be+Ie;W<=ft&&ft<B&&(b[Ie]=Be+1)}b[T.previousIndex]=W-B}}S!==P&&a(T,S,P)}}forEachPreviousItem(a){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachMovedItem(a){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}forEachIdentityChange(a){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)a(d)}diff(a){if(null==a&&(a=[]),!B_(a))throw new Ce(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let _,b,T,d=this._itHead,p=!1;if(Array.isArray(a)){this.length=a.length;for(let S=0;S<this.length;S++)b=a[S],T=this._trackByFn(S,b),null!==d&&Object.is(d.trackById,T)?(p&&(d=this._verifyReinsertion(d,b,T,S)),Object.is(d.item,b)||this._addIdentityChange(d,b)):(d=this._mismatch(d,b,T,S),p=!0),d=d._next}else _=0,function vb(o,a){if(Array.isArray(o))for(let d=0;d<o.length;d++)a(o[d]);else{const d=o[Symbol.iterator]();let p;for(;!(p=d.next()).done;)a(p.value)}}(a,S=>{T=this._trackByFn(_,S),null!==d&&Object.is(d.trackById,T)?(p&&(d=this._verifyReinsertion(d,S,T,_)),Object.is(d.item,S)||this._addIdentityChange(d,S)):(d=this._mismatch(d,S,T,_),p=!0),d=d._next,_++}),this.length=_;return this._truncate(d),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,d,p,_){let b;return null===a?b=this._itTail:(b=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._reinsertAfter(a,b,_)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(p,_))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._moveAfter(a,b,_)):a=this._addAfter(new _x(d,p),b,_),a}_verifyReinsertion(a,d,p,_){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null);return null!==b?a=this._reinsertAfter(b,a._prev,_):a.currentIndex!=_&&(a.currentIndex=_,this._addToMoves(a,_)),a}_truncate(a){for(;null!==a;){const d=a._next;this._addToRemovals(this._unlink(a)),a=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,d,p){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const _=a._prevRemoved,b=a._nextRemoved;return null===_?this._removalsHead=b:_._nextRemoved=b,null===b?this._removalsTail=_:b._prevRemoved=_,this._insertAfter(a,d,p),this._addToMoves(a,p),a}_moveAfter(a,d,p){return this._unlink(a),this._insertAfter(a,d,p),this._addToMoves(a,p),a}_addAfter(a,d,p){return this._insertAfter(a,d,p),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,d,p){const _=null===d?this._itHead:d._next;return a._next=_,a._prev=d,null===_?this._itTail=a:_._prev=a,null===d?this._itHead=a:d._next=a,null===this._linkedRecords&&(this._linkedRecords=new E0),this._linkedRecords.put(a),a.currentIndex=p,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const d=a._prev,p=a._next;return null===d?this._itHead=p:d._next=p,null===p?this._itTail=d:p._prev=d,a}_addToMoves(a,d){return a.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new E0),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,d){return a.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class _x{constructor(a,d){this.item=a,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vg{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,d){let p;for(p=this._head;null!==p;p=p._nextDup)if((null===d||d<=p.currentIndex)&&Object.is(p.trackById,a))return p;return null}remove(a){const d=a._prevDup,p=a._nextDup;return null===d?this._head=p:d._nextDup=p,null===p?this._tail=d:p._prevDup=d,null===this._head}}class E0{constructor(){this.map=new Map}put(a){const d=a.trackById;let p=this.map.get(d);p||(p=new vg,this.map.set(d,p)),p.add(a)}get(a,d){const _=this.map.get(a);return _?_.get(a,d):null}remove(a){const d=a.trackById;return this.map.get(d).remove(a)&&this.map.delete(d),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jv(o,a,d){const p=o.previousIndex;if(null===p)return p;let _=0;return d&&p<d.length&&(_=d[p]),p+a+_}class yg{constructor(){}supports(a){return a instanceof Map||yb(a)}create(){return new vx}}class vx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let d;for(d=this._mapHead;null!==d;d=d._next)a(d)}forEachPreviousItem(a){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)a(d)}forEachChangedItem(a){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}diff(a){if(a){if(!(a instanceof Map||yb(a)))throw new Ce(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(a,(p,_)=>{if(d&&d.key===_)this._maybeAddToChanges(d,p),this._appendAfter=d,d=d._next;else{const b=this._getOrCreateRecordForKey(_,p);d=this._insertBeforeOrAppend(d,b)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let p=d;null!==p;p=p._nextRemoved)p===this._mapHead&&(this._mapHead=null),this._records.delete(p.key),p._nextRemoved=p._next,p.previousValue=p.currentValue,p.currentValue=null,p._prev=null,p._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,d){if(a){const p=a._prev;return d._next=a,d._prev=p,a._prev=d,p&&(p._next=d),a===this._mapHead&&(this._mapHead=d),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(a,d){if(this._records.has(a)){const _=this._records.get(a);this._maybeAddToChanges(_,d);const b=_._prev,T=_._next;return b&&(b._next=T),T&&(T._prev=b),_._next=null,_._prev=null,_}const p=new GA(a);return this._records.set(a,p),p.currentValue=d,this._addToAdditions(p),p}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,d){Object.is(d,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=d,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,d){a instanceof Map?a.forEach(d):Object.keys(a).forEach(p=>d(a[p],p))}}class GA{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function C0(){return new zv([new $A])}let zv=(()=>{class o{static#e=this.\u0275prov=fn({token:o,providedIn:"root",factory:C0});constructor(d){this.factories=d}static create(d,p){if(null!=p){const _=p.factories.slice();d=d.concat(_)}return new o(d)}static extend(d){return{provide:o,useFactory:p=>o.create(d,p||C0()),deps:[[o,new Nt,new Je]]}}find(d){const p=this.factories.find(_=>_.supports(d));if(null!=p)return p;throw new Ce(901,!1)}}return o})();function yx(){return new bx([new yg])}let bx=(()=>{class o{static#e=this.\u0275prov=fn({token:o,providedIn:"root",factory:yx});constructor(d){this.factories=d}static create(d,p){if(p){const _=p.factories.slice();d=d.concat(_)}return new o(d)}static extend(d){return{provide:o,useFactory:p=>o.create(d,p||yx()),deps:[[o,new Nt,new Je]]}}find(d){const p=this.factories.find(_=>_.supports(d));if(p)return p;throw new Ce(901,!1)}}return o})();const Ex=RA(null,"core",[]);let x0=(()=>{class o{constructor(d){}static#e=this.\u0275fac=function(p){return new(p||o)(St(Hu))};static#t=this.\u0275mod=Ur({type:o});static#n=this.\u0275inj=Dn({})}return o})();function XA(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function dk(o){const a=Bn(o);if(!a)return null;const d=new gh(a);return{get selector(){return d.selector},get type(){return d.componentType},get inputs(){return d.inputs},get outputs(){return d.outputs},get ngContentSelectors(){return d.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},4097:(en,Ae,Q)=>{Q.d(Ae,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=Q(534);(0,l.registerVersion)("firebase","9.23.0","app")},120:(en,Ae,Q)=>{Q.d(Ae,{Z:()=>l.Z});var l=Q(3106);l.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(en,Ae,Q)=>{Q.r(Ae);var l=Q(5861),U=Q(3106),K=Q(6710),pe=Q(9058),Oe=(Q(534),Q(7879),Q(4537));function ut(){return window}function q(){return q=(0,l.Z)(function*(J,te,Y){var Me;const{BuildInfo:Qe}=ut();(0,K.as)(te.sessionId,"AuthEvent did not contain a session ID");const St=yield function ke(J){return at.apply(this,arguments)}(te.sessionId),yn={};return(0,K.at)()?yn.ibi=Qe.packageName:(0,K.au)()?yn.apn=Qe.packageName:(0,K.av)(J,"operation-not-supported-in-this-environment"),Qe.displayName&&(yn.appDisplayName=Qe.displayName),yn.sessionId=St,(0,K.aw)(J,Y,te.type,void 0,null!==(Me=te.eventId)&&void 0!==Me?Me:void 0,yn)}),q.apply(this,arguments)}function Ne(){return(Ne=(0,l.Z)(function*(J){const{BuildInfo:te}=ut(),Y={};(0,K.at)()?Y.iosBundleId=te.packageName:(0,K.au)()?Y.androidPackageName=te.packageName:(0,K.av)(J,"operation-not-supported-in-this-environment"),yield(0,K.ax)(J,Y)})).apply(this,arguments)}function st(){return(st=(0,l.Z)(function*(J,te,Y){const{cordova:Me}=ut();let Qe=()=>{};try{yield new Promise((St,yn)=>{let Vt=null;function Xn(){var kn;St();const _r=null===(kn=Me.plugins.browsertab)||void 0===kn?void 0:kn.close;"function"==typeof _r&&_r(),"function"==typeof Y?.close&&Y.close()}function En(){Vt||(Vt=window.setTimeout(()=>{yn((0,K.az)(J,"redirect-cancelled-by-user"))},2e3))}function si(){"visible"===document?.visibilityState&&En()}te.addPassiveListener(Xn),document.addEventListener("resume",En,!1),(0,K.au)()&&document.addEventListener("visibilitychange",si,!1),Qe=()=>{te.removePassiveListener(Xn),document.removeEventListener("resume",En,!1),document.removeEventListener("visibilitychange",si,!1),Vt&&window.clearTimeout(Vt)}})}finally{Qe()}})).apply(this,arguments)}function at(){return(at=(0,l.Z)(function*(J){const te=function Ze(J){if((0,K.as)(/[0-9a-zA-Z]+/.test(J),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(J);const te=new ArrayBuffer(J.length),Y=new Uint8Array(te);for(let Me=0;Me<J.length;Me++)Y[Me]=J.charCodeAt(Me);return Y}(J),Y=yield crypto.subtle.digest("SHA-256",te);return Array.from(new Uint8Array(Y)).map(Qe=>Qe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class nt extends K.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(te=>{this.resolveInialized=te})}addPassiveListener(te){this.passiveListeners.add(te)}removePassiveListener(te){this.passiveListeners.delete(te)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(te){return this.resolveInialized(),this.passiveListeners.forEach(Y=>Y(te)),super.onEvent(te)}initialized(){var te=this;return(0,l.Z)(function*(){yield te.initPromise})()}}function he(J){return ue.apply(this,arguments)}function ue(){return(ue=(0,l.Z)(function*(J){const te=yield Et()._get(ot(J));return te&&(yield Et()._remove(ot(J))),te})).apply(this,arguments)}function Le(){const J=[];for(let Y=0;Y<20;Y++){const Me=Math.floor(62*Math.random());J.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Me))}return J.join("")}function Et(){return(0,K.aC)(K.b)}function ot(J){return(0,K.aD)("authEvent",J.config.apiKey,J.name)}function un(J){if(!J?.includes("?"))return{};const[te,...Y]=J.split("?");return(0,pe.zd)(Y.join("?"))}const De=class fi{constructor(){this._redirectPersistence=K.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=K.aE,this._overrideRedirectResult=K.aF}_initialize(te){var Y=this;return(0,l.Z)(function*(){const Me=te._key();let Qe=Y.eventManagers.get(Me);return Qe||(Qe=new nt(te),Y.eventManagers.set(Me,Qe),Y.attachCallbackListeners(te,Qe)),Qe})()}_openPopup(te){(0,K.av)(te,"operation-not-supported-in-this-environment")}_openRedirect(te,Y,Me,Qe){var St=this;return(0,l.Z)(function*(){!function mt(J){var te,Y,Me,Qe,St,yn,Vt,Xn,En,si;const kn=ut();(0,K.aA)("function"==typeof(null===(te=kn?.universalLinks)||void 0===te?void 0:te.subscribe),J,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,K.aA)(typeof(null===(Y=kn?.BuildInfo)||void 0===Y?void 0:Y.packageName)<"u",J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,K.aA)("function"==typeof(null===(St=null===(Qe=null===(Me=kn?.cordova)||void 0===Me?void 0:Me.plugins)||void 0===Qe?void 0:Qe.browsertab)||void 0===St?void 0:St.openUrl),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,K.aA)("function"==typeof(null===(Xn=null===(Vt=null===(yn=kn?.cordova)||void 0===yn?void 0:yn.plugins)||void 0===Vt?void 0:Vt.browsertab)||void 0===Xn?void 0:Xn.isAvailable),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,K.aA)("function"==typeof(null===(si=null===(En=kn?.cordova)||void 0===En?void 0:En.InAppBrowser)||void 0===si?void 0:si.open),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(te);const yn=yield St._initialize(te);yield yn.initialized(),yn.resetRedirect(),(0,K.aG)(),yield St._originValidation(te);const Vt=function $e(J,te,Y=null){return{type:te,eventId:Y,urlResponse:null,sessionId:Le(),postBody:null,tenantId:J.tenantId,error:(0,K.az)(J,"no-auth-event")}}(te,Me,Qe);yield function it(J,te){return Et()._set(ot(J),te)}(te,Vt);const Xn=yield function z(J,te,Y){return q.apply(this,arguments)}(te,Vt,Y),En=yield function me(J){const{cordova:te}=ut();return new Promise(Y=>{te.plugins.browsertab.isAvailable(Me=>{let Qe=null;Me?te.plugins.browsertab.openUrl(J):Qe=te.InAppBrowser.open(J,(0,K.ay)()?"_blank":"_system","location=yes"),Y(Qe)})})}(Xn);return function lt(J,te,Y){return st.apply(this,arguments)}(te,yn,En)})()}_isIframeWebStorageSupported(te,Y){throw new Error("Method not implemented.")}_originValidation(te){const Y=te._key();return this.originValidationPromises[Y]||(this.originValidationPromises[Y]=function de(J){return Ne.apply(this,arguments)}(te)),this.originValidationPromises[Y]}attachCallbackListeners(te,Y){const{universalLinks:Me,handleOpenURL:Qe,BuildInfo:St}=ut(),yn=setTimeout((0,l.Z)(function*(){yield he(te),Y.onEvent(Ee())}),500),Vt=function(){var si=(0,l.Z)(function*(kn){clearTimeout(yn);const _r=yield he(te);let Zo=null;_r&&kn?.url&&(Zo=function qe(J,te){var Y,Me;const Qe=function nn(J){const te=un(J),Y=te.link?decodeURIComponent(te.link):void 0,Me=un(Y).link,Qe=te.deep_link_id?decodeURIComponent(te.deep_link_id):void 0;return un(Qe).link||Qe||Me||Y||J}(te);if(Qe.includes("/__/auth/callback")){const St=un(Qe),yn=St.firebaseError?function Kt(J){try{return JSON.parse(J)}catch{return null}}(decodeURIComponent(St.firebaseError)):null,Vt=null===(Me=null===(Y=yn?.code)||void 0===Y?void 0:Y.split("auth/"))||void 0===Me?void 0:Me[1],Xn=Vt?(0,K.az)(Vt):null;return Xn?{type:J.type,eventId:J.eventId,tenantId:J.tenantId,error:Xn,urlResponse:null,sessionId:null,postBody:null}:{type:J.type,eventId:J.eventId,tenantId:J.tenantId,sessionId:J.sessionId,urlResponse:Qe,postBody:null}}return null}(_r,kn.url)),Y.onEvent(Zo||Ee())});return function(_r){return si.apply(this,arguments)}}();typeof Me<"u"&&"function"==typeof Me.subscribe&&Me.subscribe(null,Vt);const Xn=Qe,En=`${St.packageName.toLowerCase()}://`;ut().handleOpenURL=function(){var si=(0,l.Z)(function*(kn){if(kn.toLowerCase().startsWith(En)&&Vt({url:kn}),"function"==typeof Xn)try{Xn(kn)}catch(_r){console.error(_r)}});return function(kn){return si.apply(this,arguments)}}()}};function Ee(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,K.az)("no-auth-event")}}function At(){var J;return(null===(J=self?.location)||void 0===J?void 0:J.protocol)||null}function Tn(J=(0,pe.z$)()){return!("file:"!==At()&&"ionic:"!==At()&&"capacitor:"!==At()||!J.toLowerCase().match(/iphone|ipad|ipod|android/))}function Dn(){try{const J=self.localStorage,te=K.aL();if(J)return J.setItem(te,"1"),J.removeItem(te),!function tn(J=(0,pe.z$)()){return function Nn(){return(0,pe.w1)()&&11===document?.documentMode}()||function fn(J=(0,pe.z$)()){return/Edge\/\d+/.test(J)}(J)}()||(0,pe.hl)()}catch{return Ut()&&(0,pe.hl)()}return!1}function Ut(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function cn(){return(function bt(){return"http:"===At()||"https:"===At()}()||(0,pe.ru)()||Tn())&&!function dn(){return(0,pe.b$)()||(0,pe.UG)()}()&&Dn()&&!Ut()}function Fn(){return Tn()&&typeof document<"u"}function wi(){return(wi=(0,l.Z)(function*(){return!!Fn()&&new Promise(J=>{const te=setTimeout(()=>{J(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(te),J(!0)})})})).apply(this,arguments)}const ti={LOCAL:"local",NONE:"none",SESSION:"session"},Vi=K.aA,Po="persistence";function Yt(J){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,l.Z)(function*(J){yield J._initializationPromise;const te=Te(),Y=K.aD(Po,J.config.apiKey,J.name);te&&te.setItem(Y,J._getPersistence())})).apply(this,arguments)}function Te(){var J;try{return(null===(J=function Si(){return typeof window<"u"?window:null}())||void 0===J?void 0:J.sessionStorage)||null}catch{return null}}const we=K.aA;class xe{constructor(){this.browserResolver=K.aC(K.k),this.cordovaResolver=K.aC(De),this.underlyingResolver=null,this._redirectPersistence=K.a,this._completeRedirectFn=K.aE,this._overrideRedirectResult=K.aF}_initialize(te){var Y=this;return(0,l.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._initialize(te)})()}_openPopup(te,Y,Me,Qe){var St=this;return(0,l.Z)(function*(){return yield St.selectUnderlyingResolver(),St.assertedUnderlyingResolver._openPopup(te,Y,Me,Qe)})()}_openRedirect(te,Y,Me,Qe){var St=this;return(0,l.Z)(function*(){return yield St.selectUnderlyingResolver(),St.assertedUnderlyingResolver._openRedirect(te,Y,Me,Qe)})()}_isIframeWebStorageSupported(te,Y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(te,Y)}_originValidation(te){return this.assertedUnderlyingResolver._originValidation(te)}get _shouldInitProactively(){return Fn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return we(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var te=this;return(0,l.Z)(function*(){if(te.underlyingResolver)return;const Y=yield function Un(){return wi.apply(this,arguments)}();te.underlyingResolver=Y?te.cordovaResolver:te.browserResolver})()}}function Ge(J){return J.unwrap()}function Ct(J){return jt(J)}function jt(J){const{_tokenResponse:te}=J instanceof pe.ZR?J.customData:J;if(!te)return null;if(!(J instanceof pe.ZR)&&"temporaryProof"in te&&"phoneNumber"in te)return K.P.credentialFromResult(J);const Y=te.providerId;if(!Y||Y===K.p.PASSWORD)return null;let Me;switch(Y){case K.p.GOOGLE:Me=K.V;break;case K.p.FACEBOOK:Me=K.U;break;case K.p.GITHUB:Me=K.W;break;case K.p.TWITTER:Me=K.Z;break;default:const{oauthIdToken:Qe,oauthAccessToken:St,oauthTokenSecret:yn,pendingToken:Vt,nonce:Xn}=te;return St||yn||Qe||Vt?Vt?Y.startsWith("saml.")?K.aO._create(Y,Vt):K.L._fromParams({providerId:Y,signInMethod:Y,pendingToken:Vt,idToken:Qe,accessToken:St}):new K.X(Y).credential({idToken:Qe,accessToken:St,rawNonce:Xn}):null}return J instanceof pe.ZR?Me.credentialFromError(J):Me.credentialFromResult(J)}function Jt(J,te){return te.catch(Y=>{throw Y instanceof pe.ZR&&function mn(J,te){var Y;const Me=null===(Y=te.customData)||void 0===Y?void 0:Y._tokenResponse;if("auth/multi-factor-auth-required"===te?.code)te.resolver=new vi(J,K.aq(J,te));else if(Me){const Qe=jt(te),St=te;Qe&&(St.credential=Qe,St.tenantId=Me.tenantId||void 0,St.email=Me.email||void 0,St.phoneNumber=Me.phoneNumber||void 0)}}(J,Y),Y}).then(Y=>{const Qe=Y.user;return{operationType:Y.operationType,credential:Ct(Y),additionalUserInfo:K.ao(Y),user:zn.getOrCreate(Qe)}})}function Ht(J,te){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,l.Z)(function*(J,te){const Y=yield te;return{verificationId:Y.verificationId,confirm:Me=>Jt(J,Y.confirm(Me))}})).apply(this,arguments)}class vi{constructor(te,Y){this.resolver=Y,this.auth=function Fe(J){return J.wrapped()}(te)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(te){return Jt(Ge(this.auth),this.resolver.resolveSignIn(te))}}class zn{constructor(te){this._delegate=te,this.multiFactor=K.ar(te)}static getOrCreate(te){return zn.USER_MAP.has(te)||zn.USER_MAP.set(te,new zn(te)),zn.USER_MAP.get(te)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(te){return this._delegate.getIdTokenResult(te)}getIdToken(te){return this._delegate.getIdToken(te)}linkAndRetrieveDataWithCredential(te){return this.linkWithCredential(te)}linkWithCredential(te){var Y=this;return(0,l.Z)(function*(){return Jt(Y.auth,K.a0(Y._delegate,te))})()}linkWithPhoneNumber(te,Y){var Me=this;return(0,l.Z)(function*(){return Ht(Me.auth,K.l(Me._delegate,te,Y))})()}linkWithPopup(te){var Y=this;return(0,l.Z)(function*(){return Jt(Y.auth,K.d(Y._delegate,te,xe))})()}linkWithRedirect(te){var Y=this;return(0,l.Z)(function*(){return yield Yt(K.aH(Y.auth)),K.g(Y._delegate,te,xe)})()}reauthenticateAndRetrieveDataWithCredential(te){return this.reauthenticateWithCredential(te)}reauthenticateWithCredential(te){var Y=this;return(0,l.Z)(function*(){return Jt(Y.auth,K.a1(Y._delegate,te))})()}reauthenticateWithPhoneNumber(te,Y){return Ht(this.auth,K.r(this._delegate,te,Y))}reauthenticateWithPopup(te){return Jt(this.auth,K.e(this._delegate,te,xe))}reauthenticateWithRedirect(te){var Y=this;return(0,l.Z)(function*(){return yield Yt(K.aH(Y.auth)),K.h(Y._delegate,te,xe)})()}sendEmailVerification(te){return K.ae(this._delegate,te)}unlink(te){var Y=this;return(0,l.Z)(function*(){return yield K.an(Y._delegate,te),Y})()}updateEmail(te){return K.aj(this._delegate,te)}updatePassword(te){return K.ak(this._delegate,te)}updatePhoneNumber(te){return K.u(this._delegate,te)}updateProfile(te){return K.ai(this._delegate,te)}verifyBeforeUpdateEmail(te,Y){return K.af(this._delegate,te,Y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}zn.USER_MAP=new WeakMap;const ki=K.aA;let Hn=(()=>{class J{constructor(Y,Me){if(this.app=Y,Me.isInitialized())return this._delegate=Me.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Qe}=Y.options;ki(Qe,"invalid-api-key",{appName:Y.name}),ki(Qe,"invalid-api-key",{appName:Y.name});const St=typeof window<"u"?xe:void 0;this._delegate=Me.initialize({options:{persistence:pi(Qe,Y.name),popupRedirectResolver:St}}),this._delegate._updateErrorMap(K.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?zn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Y){this._delegate.languageCode=Y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Y){this._delegate.tenantId=Y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Y,Me){K.I(this._delegate,Y,Me)}applyActionCode(Y){return K.a5(this._delegate,Y)}checkActionCode(Y){return K.a6(this._delegate,Y)}confirmPasswordReset(Y,Me){return K.a4(this._delegate,Y,Me)}createUserWithEmailAndPassword(Y,Me){var Qe=this;return(0,l.Z)(function*(){return Jt(Qe._delegate,K.a8(Qe._delegate,Y,Me))})()}fetchProvidersForEmail(Y){return this.fetchSignInMethodsForEmail(Y)}fetchSignInMethodsForEmail(Y){return K.ad(this._delegate,Y)}isSignInWithEmailLink(Y){return K.ab(this._delegate,Y)}getRedirectResult(){var Y=this;return(0,l.Z)(function*(){ki(cn(),Y._delegate,"operation-not-supported-in-this-environment");const Me=yield K.j(Y._delegate,xe);return Me?Jt(Y._delegate,Promise.resolve(Me)):{credential:null,user:null}})()}addFrameworkForLogging(Y){!function He(J,te){(0,K.aH)(J)._logFramework(te)}(this._delegate,Y)}onAuthStateChanged(Y,Me,Qe){const{next:St,error:yn,complete:Vt}=mr(Y,Me,Qe);return this._delegate.onAuthStateChanged(St,yn,Vt)}onIdTokenChanged(Y,Me,Qe){const{next:St,error:yn,complete:Vt}=mr(Y,Me,Qe);return this._delegate.onIdTokenChanged(St,yn,Vt)}sendSignInLinkToEmail(Y,Me){return K.aa(this._delegate,Y,Me)}sendPasswordResetEmail(Y,Me){return K.a3(this._delegate,Y,Me||void 0)}setPersistence(Y){var Me=this;return(0,l.Z)(function*(){let Qe;switch(function sn(J,te){Vi(Object.values(ti).includes(te),J,"invalid-persistence-type"),(0,pe.b$)()?Vi(te!==ti.SESSION,J,"unsupported-persistence-type"):(0,pe.UG)()?Vi(te===ti.NONE,J,"unsupported-persistence-type"):Ut()?Vi(te===ti.NONE||te===ti.LOCAL&&(0,pe.hl)(),J,"unsupported-persistence-type"):Vi(te===ti.NONE||Dn(),J,"unsupported-persistence-type")}(Me._delegate,Y),Y){case ti.SESSION:Qe=K.a;break;case ti.LOCAL:Qe=(yield K.aC(K.i)._isAvailable())?K.i:K.b;break;case ti.NONE:Qe=K.N;break;default:return K.av("argument-error",{appName:Me._delegate.name})}return Me._delegate.setPersistence(Qe)})()}signInAndRetrieveDataWithCredential(Y){return this.signInWithCredential(Y)}signInAnonymously(){return Jt(this._delegate,K._(this._delegate))}signInWithCredential(Y){return Jt(this._delegate,K.$(this._delegate,Y))}signInWithCustomToken(Y){return Jt(this._delegate,K.a2(this._delegate,Y))}signInWithEmailAndPassword(Y,Me){return Jt(this._delegate,K.a9(this._delegate,Y,Me))}signInWithEmailLink(Y,Me){return Jt(this._delegate,K.ac(this._delegate,Y,Me))}signInWithPhoneNumber(Y,Me){return Ht(this._delegate,K.s(this._delegate,Y,Me))}signInWithPopup(Y){var Me=this;return(0,l.Z)(function*(){return ki(cn(),Me._delegate,"operation-not-supported-in-this-environment"),Jt(Me._delegate,K.c(Me._delegate,Y,xe))})()}signInWithRedirect(Y){var Me=this;return(0,l.Z)(function*(){return ki(cn(),Me._delegate,"operation-not-supported-in-this-environment"),yield Yt(Me._delegate),K.f(Me._delegate,Y,xe)})()}updateCurrentUser(Y){return this._delegate.updateCurrentUser(Y)}verifyPasswordResetCode(Y){return K.a7(this._delegate,Y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return J.Persistence=ti,J})();function mr(J,te,Y){let Me=J;"function"!=typeof J&&({next:Me,error:te,complete:Y}=J);const Qe=Me;return{next:yn=>Qe(yn&&zn.getOrCreate(yn)),error:te,complete:Y}}function pi(J,te){const Y=function zt(J,te){const Y=Te();if(!Y)return[];const Me=K.aD(Po,J,te);switch(Y.getItem(Me)){case ti.NONE:return[K.N];case ti.LOCAL:return[K.i,K.a];case ti.SESSION:return[K.a];default:return[]}}(J,te);if(typeof self<"u"&&!Y.includes(K.i)&&Y.push(K.i),typeof window<"u")for(const Me of[K.b,K.a])Y.includes(Me)||Y.push(Me);return Y.includes(K.N)||Y.push(K.N),Y}class Ci{constructor(){this.providerId="phone",this._delegate=new K.P(Ge(U.Z.auth()))}static credential(te,Y){return K.P.credential(te,Y)}verifyPhoneNumber(te,Y){return this._delegate.verifyPhoneNumber(te,Y)}unwrap(){return this._delegate}}Ci.PHONE_SIGN_IN_METHOD=K.P.PHONE_SIGN_IN_METHOD,Ci.PROVIDER_ID=K.P.PROVIDER_ID;const gr=K.aA;class mo{constructor(te,Y,Me=U.Z.app()){var Qe;gr(null===(Qe=Me.options)||void 0===Qe?void 0:Qe.apiKey,"invalid-api-key",{appName:Me.name}),this._delegate=new K.R(te,Y,Me.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function le(J){J.INTERNAL.registerComponent(new Oe.wA("auth-compat",te=>{const Y=te.getProvider("app-compat").getImmediate(),Me=te.getProvider("auth");return new Hn(Y,Me)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:K.A.EMAIL_SIGNIN,PASSWORD_RESET:K.A.PASSWORD_RESET,RECOVER_EMAIL:K.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:K.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:K.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:K.A.VERIFY_EMAIL}},EmailAuthProvider:K.Q,FacebookAuthProvider:K.U,GithubAuthProvider:K.W,GoogleAuthProvider:K.V,OAuthProvider:K.X,SAMLAuthProvider:K.Y,PhoneAuthProvider:Ci,PhoneMultiFactorGenerator:K.m,RecaptchaVerifier:mo,TwitterAuthProvider:K.Z,Auth:Hn,AuthCredential:K.J,Error:pe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),J.registerVersion("@firebase/auth-compat","0.4.2")}(U.Z)},3106:(en,Ae,Q)=>{Q.d(Ae,{Z:()=>lt});var l=Q(9058),U=Q(4537),K=Q(534),pe=Q(7879);class ce{constructor(mt,ke){this._delegate=mt,this.firebase=ke,(0,K._addComponent)(mt,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=mt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(mt){this._delegate.automaticDataCollectionEnabled=mt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(mt=>{this._delegate.checkDestroyed(),mt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,K.deleteApp)(this._delegate)))}_getService(mt,ke=K._DEFAULT_ENTRY_NAME){var at;this._delegate.checkDestroyed();const Ze=this._delegate.container.getProvider(mt);return!Ze.isInitialized()&&"EXPLICIT"===(null===(at=Ze.getComponent())||void 0===at?void 0:at.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:ke})}_removeServiceInstance(mt,ke=K._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(mt).clearInstance(ke)}_addComponent(mt){(0,K._addComponent)(this._delegate,mt)}_addOrOverwriteComponent(mt){(0,K._addOrOverwriteComponent)(this._delegate,mt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Oe=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function Ve(){const st=function ut(st){const mt={},ke={__esModule:!0,initializeApp:function Ce(he,ue={}){const qe=K.initializeApp(he,ue);if((0,l.r3)(mt,qe.name))return mt[qe.name];const Le=new st(qe,ke);return mt[qe.name]=Le,Le},app:Ze,registerVersion:K.registerVersion,setLogLevel:K.setLogLevel,onLog:K.onLog,apps:null,SDK_VERSION:K.SDK_VERSION,INTERNAL:{registerComponent:function $e(he){const ue=he.name,qe=ue.replace("-compat","");if(K._registerComponent(he)&&"PUBLIC"===he.type){const Le=(Et=Ze())=>{if("function"!=typeof Et[qe])throw Oe.create("invalid-app-argument",{appName:ue});return Et[qe]()};void 0!==he.serviceProps&&(0,l.ZB)(Le,he.serviceProps),ke[qe]=Le,st.prototype[qe]=function(...Et){return this._getService.bind(this,ue).apply(this,he.multipleInstances?Et:[])}}return"PUBLIC"===he.type?ke[qe]:null},removeApp:function at(he){delete mt[he]},useAsService:function it(he,ue){return"serverAuth"===ue?null:ue},modularAPIs:K}};function Ze(he){if(!(0,l.r3)(mt,he=he||K._DEFAULT_ENTRY_NAME))throw Oe.create("no-app",{appName:he});return mt[he]}return ke.default=ke,Object.defineProperty(ke,"apps",{get:function nt(){return Object.keys(mt).map(he=>mt[he])}}),Ze.App=st,ke}(ce);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:Ve,extendNamespace:function mt(ke){(0,l.ZB)(st,ke)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),st}(),q=new pe.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const lt=z;!function me(st){(0,K.registerVersion)("@firebase/app-compat","0.2.13",st)}()},534:(en,Ae,Q)=>{Q.r(Ae),Q.d(Ae,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>Ht,_DEFAULT_ENTRY_NAME:()=>sn,_addComponent:()=>Te,_addOrOverwriteComponent:()=>we,_apps:()=>Qt,_clearComponents:()=>Ct,_components:()=>zt,_getProvider:()=>Ge,_registerComponent:()=>xe,_removeServiceInstance:()=>Fe,deleteApp:()=>ki,getApp:()=>vi,getApps:()=>zn,initializeApp:()=>Ei,onLog:()=>pi,registerVersion:()=>mr,setLogLevel:()=>Ci});var l=Q(5861),U=Q(4537),K=Q(7879),pe=Q(9058);const ce=(Xe,ze)=>ze.some(_t=>Xe instanceof _t);let Pe,Oe;const z=new WeakMap,q=new WeakMap,de=new WeakMap,Ne=new WeakMap,me=new WeakMap;let mt={get(Xe,ze,_t){if(Xe instanceof IDBTransaction){if("done"===ze)return q.get(Xe);if("objectStoreNames"===ze)return Xe.objectStoreNames||de.get(Xe);if("store"===ze)return _t.objectStoreNames[1]?void 0:_t.objectStore(_t.objectStoreNames[0])}return Ce(Xe[ze])},set:(Xe,ze,_t)=>(Xe[ze]=_t,!0),has:(Xe,ze)=>Xe instanceof IDBTransaction&&("done"===ze||"store"===ze)||ze in Xe};function Ze(Xe){return"function"==typeof Xe?function at(Xe){return Xe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ve(){return Oe||(Oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Xe)?function(...ze){return Xe.apply(nt(this),ze),Ce(z.get(this))}:function(...ze){return Ce(Xe.apply(nt(this),ze))}:function(ze,..._t){const Zt=Xe.call(nt(this),ze,..._t);return de.set(Zt,ze.sort?ze.sort():[ze]),Ce(Zt)}}(Xe):(Xe instanceof IDBTransaction&&function st(Xe){if(q.has(Xe))return;const ze=new Promise((_t,Zt)=>{const Pt=()=>{Xe.removeEventListener("complete",On),Xe.removeEventListener("error",ii),Xe.removeEventListener("abort",ii)},On=()=>{_t(),Pt()},ii=()=>{Zt(Xe.error||new DOMException("AbortError","AbortError")),Pt()};Xe.addEventListener("complete",On),Xe.addEventListener("error",ii),Xe.addEventListener("abort",ii)});q.set(Xe,ze)}(Xe),ce(Xe,function ut(){return Pe||(Pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Xe,mt):Xe)}function Ce(Xe){if(Xe instanceof IDBRequest)return function lt(Xe){const ze=new Promise((_t,Zt)=>{const Pt=()=>{Xe.removeEventListener("success",On),Xe.removeEventListener("error",ii)},On=()=>{_t(Ce(Xe.result)),Pt()},ii=()=>{Zt(Xe.error),Pt()};Xe.addEventListener("success",On),Xe.addEventListener("error",ii)});return ze.then(_t=>{_t instanceof IDBCursor&&z.set(_t,Xe)}).catch(()=>{}),me.set(ze,Xe),ze}(Xe);if(Ne.has(Xe))return Ne.get(Xe);const ze=Ze(Xe);return ze!==Xe&&(Ne.set(Xe,ze),me.set(ze,Xe)),ze}const nt=Xe=>me.get(Xe),he=["get","getKey","getAll","getAllKeys","count"],ue=["put","add","delete","clear"],qe=new Map;function Le(Xe,ze){if(!(Xe instanceof IDBDatabase)||ze in Xe||"string"!=typeof ze)return;if(qe.get(ze))return qe.get(ze);const _t=ze.replace(/FromIndex$/,""),Zt=ze!==_t,Pt=ue.includes(_t);if(!(_t in(Zt?IDBIndex:IDBObjectStore).prototype)||!Pt&&!he.includes(_t))return;const On=function(){var ii=(0,l.Z)(function*(Hi,...Gi){const Yi=this.transaction(Hi,Pt?"readwrite":"readonly");let Lr=Yi.store;return Zt&&(Lr=Lr.index(Gi.shift())),(yield Promise.all([Lr[_t](...Gi),Pt&&Yi.done]))[0]});return function(Gi){return ii.apply(this,arguments)}}();return qe.set(ze,On),On}!function ke(Xe){mt=Xe(mt)}(Xe=>({...Xe,get:(ze,_t,Zt)=>Le(ze,_t)||Xe.get(ze,_t,Zt),has:(ze,_t)=>!!Le(ze,_t)||Xe.has(ze,_t)}));class Et{constructor(ze){this.container=ze}getPlatformInfoString(){return this.container.getProviders().map(_t=>{if(function ot(Xe){const ze=Xe.getComponent();return"VERSION"===ze?.type}(_t)){const Zt=_t.getImmediate();return`${Zt.library}/${Zt.version}`}return null}).filter(_t=>_t).join(" ")}}const Kt="@firebase/app",un=new K.Yd("@firebase/app"),sn="[DEFAULT]",Yt={[Kt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qt=new Map,zt=new Map;function Te(Xe,ze){try{Xe.container.addComponent(ze)}catch(_t){un.debug(`Component ${ze.name} failed to register with FirebaseApp ${Xe.name}`,_t)}}function we(Xe,ze){Xe.container.addOrOverwriteComponent(ze)}function xe(Xe){const ze=Xe.name;if(zt.has(ze))return un.debug(`There were multiple attempts to register component ${ze}.`),!1;zt.set(ze,Xe);for(const _t of Qt.values())Te(_t,Xe);return!0}function Ge(Xe,ze){const _t=Xe.container.getProvider("heartbeat").getImmediate({optional:!0});return _t&&_t.triggerHeartbeat(),Xe.container.getProvider(ze)}function Fe(Xe,ze,_t=sn){Ge(Xe,ze).clearInstance(_t)}function Ct(){zt.clear()}const jt=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Jt{constructor(ze,_t,Zt){this._isDeleted=!1,this._options=Object.assign({},ze),this._config=Object.assign({},_t),this._name=_t.name,this._automaticDataCollectionEnabled=_t.automaticDataCollectionEnabled,this._container=Zt,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this.checkDestroyed(),this._automaticDataCollectionEnabled=ze}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ze){this._isDeleted=ze}checkDestroyed(){if(this.isDeleted)throw jt.create("app-deleted",{appName:this._name})}}const Ht="9.23.0";function Ei(Xe,ze={}){let _t=Xe;"object"!=typeof ze&&(ze={name:ze});const Zt=Object.assign({name:sn,automaticDataCollectionEnabled:!1},ze),Pt=Zt.name;if("string"!=typeof Pt||!Pt)throw jt.create("bad-app-name",{appName:String(Pt)});if(_t||(_t=(0,pe.aH)()),!_t)throw jt.create("no-options");const On=Qt.get(Pt);if(On){if((0,pe.vZ)(_t,On.options)&&(0,pe.vZ)(Zt,On.config))return On;throw jt.create("duplicate-app",{appName:Pt})}const ii=new U.H0(Pt);for(const Gi of zt.values())ii.addComponent(Gi);const Hi=new Jt(_t,Zt,ii);return Qt.set(Pt,Hi),Hi}function vi(Xe=sn){const ze=Qt.get(Xe);if(!ze&&Xe===sn&&(0,pe.aH)())return Ei();if(!ze)throw jt.create("no-app",{appName:Xe});return ze}function zn(){return Array.from(Qt.values())}function ki(Xe){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,l.Z)(function*(Xe){const ze=Xe.name;Qt.has(ze)&&(Qt.delete(ze),yield Promise.all(Xe.container.getProviders().map(_t=>_t.delete())),Xe.isDeleted=!0)})).apply(this,arguments)}function mr(Xe,ze,_t){var Zt;let Pt=null!==(Zt=Yt[Xe])&&void 0!==Zt?Zt:Xe;_t&&(Pt+=`-${_t}`);const On=Pt.match(/\s|\//),ii=ze.match(/\s|\//);if(On||ii){const Hi=[`Unable to register library "${Pt}" with version "${ze}":`];return On&&Hi.push(`library name "${Pt}" contains illegal characters (whitespace or "/")`),On&&ii&&Hi.push("and"),ii&&Hi.push(`version name "${ze}" contains illegal characters (whitespace or "/")`),void un.warn(Hi.join(" "))}xe(new U.wA(`${Pt}-version`,()=>({library:Pt,version:ze}),"VERSION"))}function pi(Xe,ze){if(null!==Xe&&"function"!=typeof Xe)throw jt.create("invalid-log-argument");(0,K.Am)(Xe,ze)}function Ci(Xe){(0,K.Ub)(Xe)}const gr="firebase-heartbeat-database",mo=1,fe="firebase-heartbeat-store";let le=null;function J(){return le||(le=function $e(Xe,ze,{blocked:_t,upgrade:Zt,blocking:Pt,terminated:On}={}){const ii=indexedDB.open(Xe,ze),Hi=Ce(ii);return Zt&&ii.addEventListener("upgradeneeded",Gi=>{Zt(Ce(ii.result),Gi.oldVersion,Gi.newVersion,Ce(ii.transaction),Gi)}),_t&&ii.addEventListener("blocked",Gi=>_t(Gi.oldVersion,Gi.newVersion,Gi)),Hi.then(Gi=>{On&&Gi.addEventListener("close",()=>On()),Pt&&Gi.addEventListener("versionchange",Yi=>Pt(Yi.oldVersion,Yi.newVersion,Yi))}).catch(()=>{}),Hi}(gr,mo,{upgrade:(Xe,ze)=>{0===ze&&Xe.createObjectStore(fe)}}).catch(Xe=>{throw jt.create("idb-open",{originalErrorMessage:Xe.message})})),le}function Y(){return(Y=(0,l.Z)(function*(Xe){try{return yield(yield J()).transaction(fe).objectStore(fe).get(St(Xe))}catch(ze){if(ze instanceof pe.ZR)un.warn(ze.message);else{const _t=jt.create("idb-get",{originalErrorMessage:ze?.message});un.warn(_t.message)}}})).apply(this,arguments)}function Me(Xe,ze){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,l.Z)(function*(Xe,ze){try{const Zt=(yield J()).transaction(fe,"readwrite");yield Zt.objectStore(fe).put(ze,St(Xe)),yield Zt.done}catch(_t){if(_t instanceof pe.ZR)un.warn(_t.message);else{const Zt=jt.create("idb-set",{originalErrorMessage:_t?.message});un.warn(Zt.message)}}})).apply(this,arguments)}function St(Xe){return`${Xe.name}!${Xe.options.appId}`}class Xn{constructor(ze){this.container=ze,this._heartbeatsCache=null;const _t=this.container.getProvider("app").getImmediate();this._storage=new kn(_t),this._heartbeatsCachePromise=this._storage.read().then(Zt=>(this._heartbeatsCache=Zt,Zt))}triggerHeartbeat(){var ze=this;return(0,l.Z)(function*(){const Zt=ze.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pt=En();if(null===ze._heartbeatsCache&&(ze._heartbeatsCache=yield ze._heartbeatsCachePromise),ze._heartbeatsCache.lastSentHeartbeatDate!==Pt&&!ze._heartbeatsCache.heartbeats.some(On=>On.date===Pt))return ze._heartbeatsCache.heartbeats.push({date:Pt,agent:Zt}),ze._heartbeatsCache.heartbeats=ze._heartbeatsCache.heartbeats.filter(On=>{const ii=new Date(On.date).valueOf();return Date.now()-ii<=2592e6}),ze._storage.overwrite(ze._heartbeatsCache)})()}getHeartbeatsHeader(){var ze=this;return(0,l.Z)(function*(){if(null===ze._heartbeatsCache&&(yield ze._heartbeatsCachePromise),null===ze._heartbeatsCache||0===ze._heartbeatsCache.heartbeats.length)return"";const _t=En(),{heartbeatsToSend:Zt,unsentEntries:Pt}=function si(Xe,ze=1024){const _t=[];let Zt=Xe.slice();for(const Pt of Xe){const On=_t.find(ii=>ii.agent===Pt.agent);if(On){if(On.dates.push(Pt.date),_r(_t)>ze){On.dates.pop();break}}else if(_t.push({agent:Pt.agent,dates:[Pt.date]}),_r(_t)>ze){_t.pop();break}Zt=Zt.slice(1)}return{heartbeatsToSend:_t,unsentEntries:Zt}}(ze._heartbeatsCache.heartbeats),On=(0,pe.L)(JSON.stringify({version:2,heartbeats:Zt}));return ze._heartbeatsCache.lastSentHeartbeatDate=_t,Pt.length>0?(ze._heartbeatsCache.heartbeats=Pt,yield ze._storage.overwrite(ze._heartbeatsCache)):(ze._heartbeatsCache.heartbeats=[],ze._storage.overwrite(ze._heartbeatsCache)),On})()}}function En(){return(new Date).toISOString().substring(0,10)}class kn{constructor(ze){this.app=ze,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ze=this;return(0,l.Z)(function*(){return(yield ze._canUseIndexedDBPromise)&&(yield function te(Xe){return Y.apply(this,arguments)}(ze.app))||{heartbeats:[]}})()}overwrite(ze){var _t=this;return(0,l.Z)(function*(){var Zt;if(yield _t._canUseIndexedDBPromise){const On=yield _t.read();return Me(_t.app,{lastSentHeartbeatDate:null!==(Zt=ze.lastSentHeartbeatDate)&&void 0!==Zt?Zt:On.lastSentHeartbeatDate,heartbeats:ze.heartbeats})}})()}add(ze){var _t=this;return(0,l.Z)(function*(){var Zt;if(yield _t._canUseIndexedDBPromise){const On=yield _t.read();return Me(_t.app,{lastSentHeartbeatDate:null!==(Zt=ze.lastSentHeartbeatDate)&&void 0!==Zt?Zt:On.lastSentHeartbeatDate,heartbeats:[...On.heartbeats,...ze.heartbeats]})}})()}}function _r(Xe){return(0,pe.L)(JSON.stringify({version:2,heartbeats:Xe})).length}!function Zo(Xe){xe(new U.wA("platform-logger",ze=>new Et(ze),"PRIVATE")),xe(new U.wA("heartbeat",ze=>new Xn(ze),"PRIVATE")),mr(Kt,"0.9.13",Xe),mr(Kt,"0.9.13","esm2017"),mr("fire-js","")}("")},4537:(en,Ae,Q)=>{Q.d(Ae,{H0:()=>ut,wA:()=>K,zt:()=>ce});var l=Q(5861),U=Q(9058);class K{constructor(z,q,de){this.name=z,this.instanceFactory=q,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const pe="[DEFAULT]";class ce{constructor(z,q){this.name=z,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const q=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(q)){const de=new U.BH;if(this.instancesDeferred.set(q,de),this.isInitialized(q)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:q});Ne&&de.resolve(Ne)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(z){var q;const de=this.normalizeInstanceIdentifier(z?.identifier),Ne=null!==(q=z?.optional)&&void 0!==q&&q;if(!this.isInitialized(de)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:de})}catch(me){if(Ne)return null;throw me}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function Oe(Ve){return"EAGER"===Ve.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:pe})}catch{}for(const[q,de]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(q);try{const me=this.getOrInitializeService({instanceIdentifier:Ne});de.resolve(me)}catch{}}}}clearInstance(z=pe){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,l.Z)(function*(){const q=Array.from(z.instances.values());yield Promise.all([...q.filter(de=>"INTERNAL"in de).map(de=>de.INTERNAL.delete()),...q.filter(de=>"_delete"in de).map(de=>de._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=pe){return this.instances.has(z)}getOptions(z=pe){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:q={}}=z,de=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(de))throw Error(`${this.name}(${de}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:de,options:q});for(const[me,lt]of this.instancesDeferred.entries())de===this.normalizeInstanceIdentifier(me)&&lt.resolve(Ne);return Ne}onInit(z,q){var de;const Ne=this.normalizeInstanceIdentifier(q),me=null!==(de=this.onInitCallbacks.get(Ne))&&void 0!==de?de:new Set;me.add(z),this.onInitCallbacks.set(Ne,me);const lt=this.instances.get(Ne);return lt&&z(lt,Ne),()=>{me.delete(z)}}invokeOnInitCallbacks(z,q){const de=this.onInitCallbacks.get(q);if(de)for(const Ne of de)try{Ne(z,q)}catch{}}getOrInitializeService({instanceIdentifier:z,options:q={}}){let de=this.instances.get(z);if(!de&&this.component&&(de=this.component.instanceFactory(this.container,{instanceIdentifier:(Ve=z,Ve===pe?void 0:Ve),options:q}),this.instances.set(z,de),this.instancesOptions.set(z,q),this.invokeOnInitCallbacks(de,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,de)}catch{}var Ve;return de||null}normalizeInstanceIdentifier(z=pe){return this.component?this.component.multipleInstances?z:pe:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ut{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const q=this.getProvider(z.name);if(q.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);q.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const q=new ce(z,this);return this.providers.set(z,q),q}getProviders(){return Array.from(this.providers.values())}}},7879:(en,Ae,Q)=>{Q.d(Ae,{Am:()=>Ve,Ub:()=>ut,Yd:()=>Oe,in:()=>U});const l=[];var U=function(z){return z[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",z}(U||{});const K={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},pe=U.INFO,ce={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},Pe=(z,q,...de)=>{if(q<z.logLevel)return;const Ne=(new Date).toISOString(),me=ce[q];if(!me)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[me](`[${Ne}]  ${z.name}:`,...de)};class Oe{constructor(q){this.name=q,this._logLevel=pe,this._logHandler=Pe,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in U))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?K[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...q),this._logHandler(this,U.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...q),this._logHandler(this,U.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,U.INFO,...q),this._logHandler(this,U.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,U.WARN,...q),this._logHandler(this,U.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...q),this._logHandler(this,U.ERROR,...q)}}function ut(z){l.forEach(q=>{q.setLogLevel(z)})}function Ve(z,q){for(const de of l){let Ne=null;q&&q.level&&(Ne=K[q.level]),de.userLogHandler=null===z?null:(me,lt,...st)=>{const mt=st.map(ke=>{if(null==ke)return null;if("string"==typeof ke)return ke;if("number"==typeof ke||"boolean"==typeof ke)return ke.toString();if(ke instanceof Error)return ke.message;try{return JSON.stringify(ke)}catch{return null}}).filter(ke=>ke).join(" ");lt>=(Ne??me.logLevel)&&z({level:U[lt].toLowerCase(),message:mt,args:st,type:me.name})}}}},5861:(en,Ae,Q)=>{function l(K,pe,ce,Pe,Oe,ut,Ve){try{var z=K[ut](Ve),q=z.value}catch(de){return void ce(de)}z.done?pe(q):Promise.resolve(q).then(Pe,Oe)}function U(K){return function(){var pe=this,ce=arguments;return new Promise(function(Pe,Oe){var ut=K.apply(pe,ce);function Ve(q){l(ut,Pe,Oe,Ve,z,"next",q)}function z(q){l(ut,Pe,Oe,Ve,z,"throw",q)}Ve(void 0)})}}Q.d(Ae,{Z:()=>U})},7582:(en,Ae,Q)=>{function pe(De,Ee){var He={};for(var je in De)Object.prototype.hasOwnProperty.call(De,je)&&Ee.indexOf(je)<0&&(He[je]=De[je]);if(null!=De&&"function"==typeof Object.getOwnPropertySymbols){var ct=0;for(je=Object.getOwnPropertySymbols(De);ct<je.length;ct++)Ee.indexOf(je[ct])<0&&Object.prototype.propertyIsEnumerable.call(De,je[ct])&&(He[je[ct]]=De[je[ct]])}return He}function ce(De,Ee,He,je){var At,ct=arguments.length,gt=ct<3?Ee:null===je?je=Object.getOwnPropertyDescriptor(Ee,He):je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)gt=Reflect.decorate(De,Ee,He,je);else for(var bt=De.length-1;bt>=0;bt--)(At=De[bt])&&(gt=(ct<3?At(gt):ct>3?At(Ee,He,gt):At(Ee,He))||gt);return ct>3&&gt&&Object.defineProperty(Ee,He,gt),gt}function de(De,Ee,He,je){return new(He||(He=Promise))(function(gt,At){function bt(Nn){try{dn(je.next(Nn))}catch(fn){At(fn)}}function Tn(Nn){try{dn(je.throw(Nn))}catch(fn){At(fn)}}function dn(Nn){Nn.done?gt(Nn.value):function ct(gt){return gt instanceof He?gt:new He(function(At){At(gt)})}(Nn.value).then(bt,Tn)}dn((je=je.apply(De,Ee||[])).next())})}function Ce(De){return this instanceof Ce?(this.v=De,this):new Ce(De)}function nt(De,Ee,He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct,je=He.apply(De,Ee||[]),gt=[];return ct={},At("next"),At("throw"),At("return"),ct[Symbol.asyncIterator]=function(){return this},ct;function At(tn){je[tn]&&(ct[tn]=function(Dn){return new Promise(function(Ut,cn){gt.push([tn,Dn,Ut,cn])>1||bt(tn,Dn)})})}function bt(tn,Dn){try{!function Tn(tn){tn.value instanceof Ce?Promise.resolve(tn.value.v).then(dn,Nn):fn(gt[0][2],tn)}(je[tn](Dn))}catch(Ut){fn(gt[0][3],Ut)}}function dn(tn){bt("next",tn)}function Nn(tn){bt("throw",tn)}function fn(tn,Dn){tn(Dn),gt.shift(),gt.length&&bt(gt[0][0],gt[0][1])}}function it(De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,Ee=De[Symbol.asyncIterator];return Ee?Ee.call(De):(De=function st(De){var Ee="function"==typeof Symbol&&Symbol.iterator,He=Ee&&De[Ee],je=0;if(He)return He.call(De);if(De&&"number"==typeof De.length)return{next:function(){return De&&je>=De.length&&(De=void 0),{value:De&&De[je++],done:!De}}};throw new TypeError(Ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(De),He={},je("next"),je("throw"),je("return"),He[Symbol.asyncIterator]=function(){return this},He);function je(gt){He[gt]=De[gt]&&function(At){return new Promise(function(bt,Tn){!function ct(gt,At,bt,Tn){Promise.resolve(Tn).then(function(dn){gt({value:dn,done:bt})},At)}(bt,Tn,(At=De[gt](At)).done,At.value)})}}}Q.d(Ae,{FC:()=>nt,KL:()=>it,_T:()=>pe,gn:()=>ce,mG:()=>de,qq:()=>Ce}),"function"==typeof SuppressedError&&SuppressedError}},en=>{en(en.s=4329)}]);