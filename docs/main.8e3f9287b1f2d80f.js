"use strict";(self.webpackChunkwebshop=self.webpackChunkwebshop||[]).push([[179],{6304:(en,Me,Q)=>{Q.d(Me,{Dh:()=>ut,GT:()=>Pe,cc:()=>me,hO:()=>Ne,on:()=>z,pX:()=>ce,xv:()=>Ve});var a=Q(5879),U=Q(120),K=Q(2793);en=Q.hmd(en);const pe=["ngOnDestroy"],ce=(Re,at,Ze,xe={})=>new Proxy(Re,{get:(nt,$e)=>Ze.runOutsideAngular(()=>{var it;if(Re[$e])return!(null===(it=xe?.spy)||void 0===it)&&it.get&&xe.spy.get($e,Re[$e]),Re[$e];if(pe.indexOf($e)>-1)return()=>{};const he=at.toPromise().then(ue=>{const Ge=ue&&ue[$e];return"function"==typeof Ge?Ge.bind(ue):Ge&&Ge.then?Ge.then(Le=>Ze.run(()=>Le)):Ze.run(()=>Ge)});return new Proxy(()=>{},{get:(ue,Ge)=>he[Ge],apply:(ue,Ge,Le)=>he.then(Ct=>{var ot;const Kt=Ct&&Ct(...Le);return!(null===(ot=xe?.spy)||void 0===ot)&&ot.apply&&xe.spy.apply($e,Le,Kt),Kt})})})}),Pe=(Re,at)=>{at.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach(xe=>{Object.defineProperty(Re.prototype,xe,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,xe))})})};class ke{constructor(at){return at}}const ut=new a.OlP("angularfire2.app.options"),Ve=new a.OlP("angularfire2.app.name");function z(Re,at,Ze){const nt="object"==typeof Ze&&Ze||{};nt.name=nt.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const it=U.Z.apps.filter(he=>he&&he.name===nt.name)[0]||at.runOutsideAngular(()=>U.Z.initializeApp(Re,nt));try{JSON.stringify(Re)!==JSON.stringify(it.options)&&G("error",`${it.name} Firebase App already initialized with different options${en.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ke(it)}const G=(Re,...at)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Re](...at)},de={provide:ke,useFactory:z,deps:[ut,a.R0b,[new a.FiY,Ve]]};let Ne=(()=>{class Re{constructor(Ze){U.Z.registerVersion("angularfire",K.q4.full,"core"),U.Z.registerVersion("angularfire",K.q4.full,"app-compat"),U.Z.registerVersion("angular",a.q4F.full,Ze.toString())}static initializeApp(Ze,xe){return{ngModule:Re,providers:[{provide:ut,useValue:Ze},{provide:Ve,useValue:xe}]}}}return Re.\u0275fac=function(Ze){return new(Ze||Re)(a.LFG(a.Lbi))},Re.\u0275mod=a.oAB({type:Re}),Re.\u0275inj=a.cJS({providers:[de]}),Re})();function me(Re,at,Ze,xe,nt){const[,$e,it]=globalThis.\u0275AngularfireInstanceCache.find(he=>he[0]===Re)||[];if($e)return function lt(Re,at){try{return Re.toString()===at.toString()}catch{return Re===at}}(nt,it)||(mt("error",`${at} was already initialized on the ${Ze} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),mt("warn",{is:nt,was:it})),$e;{const he=xe();return globalThis.\u0275AngularfireInstanceCache.push([Re,he,nt]),he}}const st=!!en.hot,mt=(Re,...at)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Re](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(en,Me,Q)=>{Q.d(Me,{q4:()=>Su,iC:()=>hs,HU:()=>Ri,vb:()=>dh,JM:()=>uh,u3:()=>$c});var a=Q(5879),U=Q(4097),K=Q(5861),pe=Q(534),ce=Q(9058),Pe=Q(4537),ke=Q(7879);const ut=(k,F)=>F.some(H=>k instanceof H);let Ve,z;const Ne=new WeakMap,me=new WeakMap,lt=new WeakMap,st=new WeakMap,mt=new WeakMap;let Ze={get(k,F,H){if(k instanceof IDBTransaction){if("done"===F)return me.get(k);if("objectStoreNames"===F)return k.objectStoreNames||lt.get(k);if("store"===F)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return it(k[F])},set:(k,F,H)=>(k[F]=H,!0),has:(k,F)=>k instanceof IDBTransaction&&("done"===F||"store"===F)||F in k};function $e(k){return"function"==typeof k?function nt(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...F){return k.apply(he(this),F),it(Ne.get(this))}:function(...F){return it(k.apply(he(this),F))}:function(F,...H){const oe=k.call(he(this),F,...H);return lt.set(oe,F.sort?F.sort():[F]),it(oe)}}(k):(k instanceof IDBTransaction&&function at(k){if(me.has(k))return;const F=new Promise((H,oe)=>{const be=()=>{k.removeEventListener("complete",Ue),k.removeEventListener("error",rt),k.removeEventListener("abort",rt)},Ue=()=>{H(),be()},rt=()=>{oe(k.error||new DOMException("AbortError","AbortError")),be()};k.addEventListener("complete",Ue),k.addEventListener("error",rt),k.addEventListener("abort",rt)});me.set(k,F)}(k),ut(k,function G(){return Ve||(Ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,Ze):k)}function it(k){if(k instanceof IDBRequest)return function Re(k){const F=new Promise((H,oe)=>{const be=()=>{k.removeEventListener("success",Ue),k.removeEventListener("error",rt)},Ue=()=>{H(it(k.result)),be()},rt=()=>{oe(k.error),be()};k.addEventListener("success",Ue),k.addEventListener("error",rt)});return F.then(H=>{H instanceof IDBCursor&&Ne.set(H,k)}).catch(()=>{}),mt.set(F,k),F}(k);if(st.has(k))return st.get(k);const F=$e(k);return F!==k&&(st.set(k,F),mt.set(F,k)),F}const he=k=>mt.get(k),Le=["get","getKey","getAll","getAllKeys","count"],Ct=["put","add","delete","clear"],ot=new Map;function Kt(k,F){if(!(k instanceof IDBDatabase)||F in k||"string"!=typeof F)return;if(ot.get(F))return ot.get(F);const H=F.replace(/FromIndex$/,""),oe=F!==H,be=Ct.includes(H);if(!(H in(oe?IDBIndex:IDBObjectStore).prototype)||!be&&!Le.includes(H))return;const Ue=function(){var rt=(0,K.Z)(function*(Bt,...Ft){const hn=this.transaction(Bt,be?"readwrite":"readonly");let Ln=hn.store;return oe&&(Ln=Ln.index(Ft.shift())),(yield Promise.all([Ln[H](...Ft),be&&hn.done]))[0]});return function(Ft){return rt.apply(this,arguments)}}();return ot.set(F,Ue),Ue}!function xe(k){Ze=k(Ze)}(k=>({...k,get:(F,H,oe)=>Kt(F,H)||k.get(F,H,oe),has:(F,H)=>!!Kt(F,H)||k.has(F,H)}));const nn="@firebase/installations",un="0.6.4",rn=1e4,fi=`w:${un}`,Se="FIS_v2",Ce="https://firebaseinstallations.googleapis.com/v1",He=36e5,Mt=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function bt(k){return k instanceof ce.ZR&&k.code.includes("request-failed")}function Sn({projectId:k}){return`${Ce}/projects/${k}/installations`}function dn(k){return{token:k.token,requestStatus:2,expiresIn:Fn(k.expiresIn),creationTime:Date.now()}}function Nn(k,F){return fn.apply(this,arguments)}function fn(){return(fn=(0,K.Z)(function*(k,F){const oe=(yield F.json()).error;return Mt.create("request-failed",{requestName:k,serverCode:oe.code,serverMessage:oe.message,serverStatus:oe.status})})).apply(this,arguments)}function tn({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function Ut(k){return cn.apply(this,arguments)}function cn(){return(cn=(0,K.Z)(function*(k){const F=yield k();return F.status>=500&&F.status<600?k():F})).apply(this,arguments)}function Fn(k){return Number(k.replace("s","000"))}function Mi(){return(Mi=(0,K.Z)(function*({appConfig:k,heartbeatServiceProvider:F},{fid:H}){const oe=Sn(k),be=tn(k),Ue=F.getImmediate({optional:!0});if(Ue){const hn=yield Ue.getHeartbeatsHeader();hn&&be.append("x-firebase-client",hn)}const Bt={method:"POST",headers:be,body:JSON.stringify({fid:H,authVersion:Se,appId:k.appId,sdkVersion:fi})},Ft=yield Ut(()=>fetch(oe,Bt));if(Ft.ok){const hn=yield Ft.json();return{fid:hn.fid||H,registrationStatus:2,refreshToken:hn.refreshToken,authToken:dn(hn.authToken)}}throw yield Nn("Create Installation",Ft)})).apply(this,arguments)}function ni(k){return new Promise(F=>{setTimeout(F,k)})}const Po=/^[cdef][\w-]{21}$/,sn="";function Yt(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const H=function Qt(k){return function zi(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return Po.test(H)?H:sn}catch{return sn}}function zt(k){return`${k.appName}!${k.appId}`}const Te=new Map;function we(k,F){const H=zt(k);Fe(H,F),function xt(k,F){const H=function jt(){return!mn&&"BroadcastChannel"in self&&(mn=new BroadcastChannel("[Firebase] FID Change"),mn.onmessage=k=>{Fe(k.data.key,k.data.fid)}),mn}();H&&H.postMessage({key:k,fid:F}),function Jt(){0===Te.size&&mn&&(mn.close(),mn=null)}()}(H,F)}function Fe(k,F){const H=Te.get(k);if(H)for(const oe of H)oe(F)}let mn=null;const Ht="firebase-installations-database",Ci=1,vi="firebase-installations-store";let Hn=null;function Li(){return Hn||(Hn=function ue(k,F,{blocked:H,upgrade:oe,blocking:be,terminated:Ue}={}){const rt=indexedDB.open(k,F),Bt=it(rt);return oe&&rt.addEventListener("upgradeneeded",Ft=>{oe(it(rt.result),Ft.oldVersion,Ft.newVersion,it(rt.transaction))}),H&&rt.addEventListener("blocked",()=>H()),Bt.then(Ft=>{Ue&&Ft.addEventListener("close",()=>Ue()),be&&Ft.addEventListener("versionchange",()=>be())}).catch(()=>{}),Bt}(Ht,Ci,{upgrade:(k,F)=>{0===F&&k.createObjectStore(vi)}})),Hn}function $n(k,F){return gr.apply(this,arguments)}function gr(){return(gr=(0,K.Z)(function*(k,F){const H=zt(k),be=(yield Li()).transaction(vi,"readwrite"),Ue=be.objectStore(vi),rt=yield Ue.get(H);return yield Ue.put(F,H),yield be.done,(!rt||rt.fid!==F.fid)&&we(k,F.fid),F})).apply(this,arguments)}function pi(k){return xi.apply(this,arguments)}function xi(){return(xi=(0,K.Z)(function*(k){const F=zt(k),oe=(yield Li()).transaction(vi,"readwrite");yield oe.objectStore(vi).delete(F),yield oe.done})).apply(this,arguments)}function _r(k,F){return mo.apply(this,arguments)}function mo(){return(mo=(0,K.Z)(function*(k,F){const H=zt(k),be=(yield Li()).transaction(vi,"readwrite"),Ue=be.objectStore(vi),rt=yield Ue.get(H),Bt=F(rt);return void 0===Bt?yield Ue.delete(H):yield Ue.put(Bt,H),yield be.done,Bt&&(!rt||rt.fid!==Bt.fid)&&we(k,Bt.fid),Bt})).apply(this,arguments)}function fe(k){return le.apply(this,arguments)}function le(){return le=(0,K.Z)(function*(k){let F;const H=yield _r(k.appConfig,oe=>{const be=function J(k){return Vt(k||{fid:Yt(),registrationStatus:0})}(oe),Ue=function te(k,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(Mt.create("app-offline"))};const H={fid:F.fid,registrationStatus:1,registrationTime:Date.now()},oe=function Y(k,F){return Ae.apply(this,arguments)}(k,H);return{installationEntry:H,registrationPromise:oe}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:Qe(k)}:{installationEntry:F}}(k,be);return F=Ue.registrationPromise,Ue.installationEntry});return H.fid===sn?{installationEntry:yield F}:{installationEntry:H,registrationPromise:F}}),le.apply(this,arguments)}function Ae(){return Ae=(0,K.Z)(function*(k,F){try{const H=yield function wi(k,F){return Mi.apply(this,arguments)}(k,F);return $n(k.appConfig,H)}catch(H){throw bt(H)&&409===H.customData.serverCode?yield pi(k.appConfig):yield $n(k.appConfig,{fid:F.fid,registrationStatus:0}),H}}),Ae.apply(this,arguments)}function Qe(k){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,K.Z)(function*(k){let F=yield yn(k.appConfig);for(;1===F.registrationStatus;)yield ni(100),F=yield yn(k.appConfig);if(0===F.registrationStatus){const{installationEntry:H,registrationPromise:oe}=yield fe(k);return oe||H}return F})).apply(this,arguments)}function yn(k){return _r(k,F=>{if(!F)throw Mt.create("installation-not-found");return Vt(F)})}function Vt(k){return function Jn(k){return 1===k.registrationStatus&&k.registrationTime+rn<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function ai(){return(ai=(0,K.Z)(function*({appConfig:k,heartbeatServiceProvider:F},H){const oe=function Rn(k,{fid:F}){return`${Sn(k)}/${F}/authTokens:generate`}(k,H),be=function Dn(k,{refreshToken:F}){const H=tn(k);return H.append("Authorization",function Un(k){return`${Se} ${k}`}(F)),H}(k,H),Ue=F.getImmediate({optional:!0});if(Ue){const hn=yield Ue.getHeartbeatsHeader();hn&&be.append("x-firebase-client",hn)}const Bt={method:"POST",headers:be,body:JSON.stringify({installation:{sdkVersion:fi,appId:k.appId}})},Ft=yield Ut(()=>fetch(oe,Bt));if(Ft.ok)return dn(yield Ft.json());throw yield Nn("Generate Auth Token",Ft)})).apply(this,arguments)}function vr(k){return Zo.apply(this,arguments)}function Zo(){return Zo=(0,K.Z)(function*(k,F=!1){let H;const oe=yield _r(k.appConfig,Ue=>{if(!kn(Ue))throw Mt.create("not-registered");const rt=Ue.authToken;if(!F&&function ri(k){return 2===k.requestStatus&&!function Gi(k){const F=Date.now();return F<k.creationTime||k.creationTime+k.expiresIn<F+He}(k)}(rt))return Ue;if(1===rt.requestStatus)return H=function Xe(k,F){return ze.apply(this,arguments)}(k,F),Ue;{if(!navigator.onLine)throw Mt.create("app-offline");const Bt=function Zi(k){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:F})}(Ue);return H=function Zt(k,F){return Pt.apply(this,arguments)}(k,Bt),Bt}});return H?yield H:oe.authToken}),Zo.apply(this,arguments)}function ze(){return(ze=(0,K.Z)(function*(k,F){let H=yield _t(k.appConfig);for(;1===H.authToken.requestStatus;)yield ni(100),H=yield _t(k.appConfig);const oe=H.authToken;return 0===oe.requestStatus?vr(k,F):oe})).apply(this,arguments)}function _t(k){return _r(k,F=>{if(!kn(F))throw Mt.create("not-registered");return function Ji(k){return 1===k.requestStatus&&k.requestTime+rn<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function Pt(){return Pt=(0,K.Z)(function*(k,F){try{const H=yield function xn(k,F){return ai.apply(this,arguments)}(k,F),oe=Object.assign(Object.assign({},F),{authToken:H});return yield $n(k.appConfig,oe),H}catch(H){if(!bt(H)||401!==H.customData.serverCode&&404!==H.customData.serverCode){const oe=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield $n(k.appConfig,oe)}else yield pi(k.appConfig);throw H}}),Pt.apply(this,arguments)}function kn(k){return void 0!==k&&2===k.registrationStatus}function go(){return(go=(0,K.Z)(function*(k){const F=k,{installationEntry:H,registrationPromise:oe}=yield fe(F);return oe?oe.catch(console.error):vr(F).catch(console.error),H.fid})).apply(this,arguments)}function Ko(){return Ko=(0,K.Z)(function*(k,F=!1){const H=k;return yield function cs(k){return _s.apply(this,arguments)}(H),(yield vr(H,F)).token}),Ko.apply(this,arguments)}function _s(){return(_s=(0,K.Z)(function*(k){const{registrationPromise:F}=yield fe(k);F&&(yield F)})).apply(this,arguments)}function Ns(k){return Mt.create("missing-app-config-values",{valueName:k})}const Ja="installations",na=k=>{const F=k.getProvider("app").getImmediate(),H=function $r(k){if(!k||!k.options)throw Ns("App Configuration");if(!k.name)throw Ns("App Name");const F=["projectId","apiKey","appId"];for(const H of F)if(!k.options[H])throw Ns(H);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(F);return{app:F,appConfig:H,heartbeatServiceProvider:(0,pe._getProvider)(F,"heartbeat"),_delete:()=>Promise.resolve()}},wc=k=>{const F=k.getProvider("app").getImmediate(),H=(0,pe._getProvider)(F,Ja).getImmediate();return{getId:()=>function Ur(k){return go.apply(this,arguments)}(H),getToken:be=>function Ta(k){return Ko.apply(this,arguments)}(H,be)}};(function Cc(){(0,pe._registerComponent)(new Pe.wA(Ja,na,"PUBLIC")),(0,pe._registerComponent)(new Pe.wA("installations-internal",wc,"PRIVATE"))})(),(0,pe.registerVersion)(nn,un),(0,pe.registerVersion)(nn,un,"esm2017");const Fs="@firebase/remote-config",yr=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class En{constructor(F,H,oe,be){this.client=F,this.storage=H,this.storageCache=oe,this.logger=be}isCachedDataFresh(F,H){if(!H)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const oe=Date.now()-H,be=oe<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${oe}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${be}.`),be}fetch(F){var H=this;return(0,K.Z)(function*(){const[oe,be]=yield Promise.all([H.storage.getLastSuccessfulFetchTimestampMillis(),H.storage.getLastSuccessfulFetchResponse()]);if(be&&H.isCachedDataFresh(F.cacheMaxAgeMillis,oe))return be;F.eTag=be&&be.eTag;const Ue=yield H.client.fetch(F),rt=[H.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ue.status&&rt.push(H.storage.setLastSuccessfulFetchResponse(Ue)),yield Promise.all(rt),Ue})()}}function Ei(k=navigator){return k.languages&&k.languages[0]||k.language}class so{constructor(F,H,oe,be,Ue,rt){this.firebaseInstallations=F,this.sdkVersion=H,this.namespace=oe,this.projectId=be,this.apiKey=Ue,this.appId=rt}fetch(F){var H=this;return(0,K.Z)(function*(){const[oe,be]=yield Promise.all([H.firebaseInstallations.getId(),H.firebaseInstallations.getToken()]),rt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${H.projectId}/namespaces/${H.namespace}:fetch?key=${H.apiKey}`,Bt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},Ft={sdk_version:H.sdkVersion,app_instance_id:oe,app_instance_id_token:be,app_id:H.appId,language_code:Ei()},hn={method:"POST",headers:Bt,body:JSON.stringify(Ft)},Ln=fetch(rt,hn),Mn=new Promise((Ba,Fr)=>{F.signal.addEventListener(()=>{const yl=new Error("The operation was aborted.");yl.name="AbortError",Fr(yl)})});let fs;try{yield Promise.race([Ln,Mn]),fs=yield Ln}catch(Ba){let Fr="fetch-client-network";throw"AbortError"===Ba?.name&&(Fr="fetch-timeout"),yr.create(Fr,{originalErrorMessage:Ba?.message})}let Mo=fs.status;const Xi=fs.headers.get("ETag")||void 0;let Du,Va;if(200===fs.status){let Ba;try{Ba=yield fs.json()}catch(Fr){throw yr.create("fetch-client-parse",{originalErrorMessage:Fr?.message})}Du=Ba.entries,Va=Ba.state}if("INSTANCE_STATE_UNSPECIFIED"===Va?Mo=500:"NO_CHANGE"===Va?Mo=304:("NO_TEMPLATE"===Va||"EMPTY_CONFIG"===Va)&&(Du={}),304!==Mo&&200!==Mo)throw yr.create("fetch-status",{httpStatus:Mo});return{status:Mo,eTag:Xi,config:Du}})()}}class Qo{constructor(F,H){this.client=F,this.storage=H}fetch(F){var H=this;return(0,K.Z)(function*(){const oe=(yield H.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return H.attemptFetch(F,oe)})()}attemptFetch(F,{throttleEndTimeMillis:H,backoffCount:oe}){var be=this;return(0,K.Z)(function*(){yield function Us(k,F){return new Promise((H,oe)=>{const be=Math.max(F-Date.now(),0),Ue=setTimeout(H,be);k.addEventListener(()=>{clearTimeout(Ue),oe(yr.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,H);try{const Ue=yield be.client.fetch(F);return yield be.storage.deleteThrottleMetadata(),Ue}catch(Ue){if(!function Bn(k){if(!(k instanceof ce.ZR&&k.customData))return!1;const F=Number(k.customData.httpStatus);return 429===F||500===F||503===F||504===F}(Ue))throw Ue;const rt={throttleEndTimeMillis:Date.now()+(0,ce.$s)(oe),backoffCount:oe+1};return yield be.storage.setThrottleMetadata(rt),be.attemptFetch(F,rt)}})()}}class Xo{constructor(F,H,oe,be,Ue){this.app=F,this._client=H,this._storageCache=oe,this._storage=be,this._logger=Ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function on(k,F){const H=k.target.error||void 0;return yr.create(F,{originalErrorMessage:H&&H?.message})}const qr="app_namespace_store";class ys{constructor(F,H,oe,be=function xr(){return new Promise((k,F)=>{try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=oe=>{F(on(oe,"storage-open"))},H.onsuccess=oe=>{k(oe.target.result)},H.onupgradeneeded=oe=>{0===oe.oldVersion&&oe.target.result.createObjectStore(qr,{keyPath:"compositeKey"})}}catch(H){F(yr.create("storage-open",{originalErrorMessage:H?.message}))}})}()){this.appId=F,this.appName=H,this.namespace=oe,this.openDbPromise=be}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var H=this;return(0,K.Z)(function*(){const oe=yield H.openDbPromise;return new Promise((be,Ue)=>{const Bt=oe.transaction([qr],"readonly").objectStore(qr),Ft=H.createCompositeKey(F);try{const hn=Bt.get(Ft);hn.onerror=Ln=>{Ue(on(Ln,"storage-get"))},hn.onsuccess=Ln=>{const Mn=Ln.target.result;be(Mn?Mn.value:void 0)}}catch(hn){Ue(yr.create("storage-get",{originalErrorMessage:hn?.message}))}})})()}set(F,H){var oe=this;return(0,K.Z)(function*(){const be=yield oe.openDbPromise;return new Promise((Ue,rt)=>{const Ft=be.transaction([qr],"readwrite").objectStore(qr),hn=oe.createCompositeKey(F);try{const Ln=Ft.put({compositeKey:hn,value:H});Ln.onerror=Mn=>{rt(on(Mn,"storage-set"))},Ln.onsuccess=()=>{Ue()}}catch(Ln){rt(yr.create("storage-set",{originalErrorMessage:Ln?.message}))}})})()}delete(F){var H=this;return(0,K.Z)(function*(){const oe=yield H.openDbPromise;return new Promise((be,Ue)=>{const Bt=oe.transaction([qr],"readwrite").objectStore(qr),Ft=H.createCompositeKey(F);try{const hn=Bt.delete(Ft);hn.onerror=Ln=>{Ue(on(Ln,"storage-delete"))},hn.onsuccess=()=>{be()}}catch(hn){Ue(yr.create("storage-delete",{originalErrorMessage:hn?.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class Fo{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,K.Z)(function*(){const H=F.storage.getLastFetchStatus(),oe=F.storage.getLastSuccessfulFetchTimestampMillis(),be=F.storage.getActiveConfig(),Ue=yield H;Ue&&(F.lastFetchStatus=Ue);const rt=yield oe;rt&&(F.lastSuccessfulFetchTimestampMillis=rt);const Bt=yield be;Bt&&(F.activeConfig=Bt)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function Da(){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,K.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function Er(){(0,pe._registerComponent)(new Pe.wA("remote-config",function k(F,{instanceIdentifier:H}){const oe=F.getProvider("app").getImmediate(),be=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw yr.create("registration-window");if(!(0,ce.hl)())throw yr.create("indexed-db-unavailable");const{projectId:Ue,apiKey:rt,appId:Bt}=oe.options;if(!Ue)throw yr.create("registration-project-id");if(!rt)throw yr.create("registration-api-key");if(!Bt)throw yr.create("registration-app-id");const Ft=new ys(Bt,oe.name,H=H||"firebase"),hn=new Fo(Ft),Ln=new ke.Yd(Fs);Ln.logLevel=ke.in.ERROR;const Mn=new so(be,pe.SDK_VERSION,H,Ue,rt,Bt),fs=new Qo(Mn,Ft),Mo=new En(fs,Ft,hn,Ln),Xi=new Xo(oe,Mo,hn,Ft,Ln);return function br(k){const F=(0,ce.m9)(k);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(Xi),Xi},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(Fs,"0.4.4"),(0,pe.registerVersion)(Fs,"0.4.4","esm2017")}();const Lo=(k,F)=>F.some(H=>k instanceof H);let Gr,ei;const Ma=new WeakMap,kr=new WeakMap,rr=new WeakMap,Wr=new WeakMap,ca=new WeakMap;let Zr={get(k,F,H){if(k instanceof IDBTransaction){if("done"===F)return kr.get(k);if("objectStoreNames"===F)return k.objectStoreNames||rr.get(k);if("store"===F)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return Kr(k[F])},set:(k,F,H)=>(k[F]=H,!0),has:(k,F)=>k instanceof IDBTransaction&&("done"===F||"store"===F)||F in k};function Or(k){return"function"==typeof k?function al(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function gu(){return ei||(ei=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...F){return k.apply(di(this),F),Kr(Ma.get(this))}:function(...F){return Kr(k.apply(di(this),F))}:function(F,...H){const oe=k.call(di(this),F,...H);return rr.set(oe,F.sort?F.sort():[F]),Kr(oe)}}(k):(k instanceof IDBTransaction&&function sl(k){if(kr.has(k))return;const F=new Promise((H,oe)=>{const be=()=>{k.removeEventListener("complete",Ue),k.removeEventListener("error",rt),k.removeEventListener("abort",rt)},Ue=()=>{H(),be()},rt=()=>{oe(k.error||new DOMException("AbortError","AbortError")),be()};k.addEventListener("complete",Ue),k.addEventListener("error",rt),k.addEventListener("abort",rt)});kr.set(k,F)}(k),Lo(k,function Sc(){return Gr||(Gr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,Zr):k)}function Kr(k){if(k instanceof IDBRequest)return function Hi(k){const F=new Promise((H,oe)=>{const be=()=>{k.removeEventListener("success",Ue),k.removeEventListener("error",rt)},Ue=()=>{H(Kr(k.result)),be()},rt=()=>{oe(k.error),be()};k.addEventListener("success",Ue),k.addEventListener("error",rt)});return F.then(H=>{H instanceof IDBCursor&&Ma.set(H,k)}).catch(()=>{}),ca.set(F,k),F}(k);if(Wr.has(k))return Wr.get(k);const F=Or(k);return F!==k&&(Wr.set(k,F),ca.set(F,k)),F}const di=k=>ca.get(k);function la(k,F,{blocked:H,upgrade:oe,blocking:be,terminated:Ue}={}){const rt=indexedDB.open(k,F),Bt=Kr(rt);return oe&&rt.addEventListener("upgradeneeded",Ft=>{oe(Kr(rt.result),Ft.oldVersion,Ft.newVersion,Kr(rt.transaction))}),H&&rt.addEventListener("blocked",()=>H()),Bt.then(Ft=>{Ue&&Ft.addEventListener("close",()=>Ue()),be&&Ft.addEventListener("versionchange",()=>be())}).catch(()=>{}),Bt}function oi(k,{blocked:F}={}){const H=indexedDB.deleteDatabase(k);return F&&H.addEventListener("blocked",()=>F()),Kr(H).then(()=>{})}const Pr=["get","getKey","getAll","getAllKeys","count"],Ul=["put","add","delete","clear"],bs=new Map;function Dc(k,F){if(!(k instanceof IDBDatabase)||F in k||"string"!=typeof F)return;if(bs.get(F))return bs.get(F);const H=F.replace(/FromIndex$/,""),oe=F!==H,be=Ul.includes(H);if(!(H in(oe?IDBIndex:IDBObjectStore).prototype)||!be&&!Pr.includes(H))return;const Ue=function(){var rt=(0,K.Z)(function*(Bt,...Ft){const hn=this.transaction(Bt,be?"readwrite":"readonly");let Ln=hn.store;return oe&&(Ln=Ln.index(Ft.shift())),(yield Promise.all([Ln[H](...Ft),be&&hn.done]))[0]});return function(Ft){return rt.apply(this,arguments)}}();return bs.set(F,Ue),Ue}!function Tr(k){Zr=k(Zr)}(k=>({...k,get:(F,H,oe)=>Dc(F,H)||k.get(F,H,oe),has:(F,H)=>!!Dc(F,H)||k.has(F,H)}));const Aa="/firebase-messaging-sw.js",Mc="/firebase-cloud-messaging-push-scope",nc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Vl="https://fcmregistrations.googleapis.com/v1",mi="google.c.a.c_id",_u="google.c.a.c_l",Ac="google.c.a.ts";var ic=function(k){return k.PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",k}(ic||{});function yo(k){const F=new Uint8Array(k);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rc(k){const H=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),oe=atob(H),be=new Uint8Array(oe.length);for(let Ue=0;Ue<oe.length;++Ue)be[Ue]=oe.charCodeAt(Ue);return be}const ua="fcm_token_details_db",ws=5,Bl="fcm_token_object_Store";function Rr(){return Rr=(0,K.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ue=>Ue.name).includes(ua))return null;let F=null;return(yield la(ua,ws,{upgrade:(oe=(0,K.Z)(function*(be,Ue,rt,Bt){var Ft;if(Ue<2||!be.objectStoreNames.contains(Bl))return;const hn=Bt.objectStore(Bl),Ln=yield hn.index("fcmSenderId").get(k);if(yield hn.clear(),Ln)if(2===Ue){const Mn=Ln;if(!Mn.auth||!Mn.p256dh||!Mn.endpoint)return;F={token:Mn.fcmToken,createTime:null!==(Ft=Mn.createTime)&&void 0!==Ft?Ft:Date.now(),subscriptionOptions:{auth:Mn.auth,p256dh:Mn.p256dh,endpoint:Mn.endpoint,swScope:Mn.swScope,vapidKey:"string"==typeof Mn.vapidKey?Mn.vapidKey:yo(Mn.vapidKey)}}}else if(3===Ue){const Mn=Ln;F={token:Mn.fcmToken,createTime:Mn.createTime,subscriptionOptions:{auth:yo(Mn.auth),p256dh:yo(Mn.p256dh),endpoint:Mn.endpoint,swScope:Mn.swScope,vapidKey:yo(Mn.vapidKey)}}}else if(4===Ue){const Mn=Ln;F={token:Mn.fcmToken,createTime:Mn.createTime,subscriptionOptions:{auth:yo(Mn.auth),p256dh:yo(Mn.p256dh),endpoint:Mn.endpoint,swScope:Mn.swScope,vapidKey:yo(Mn.vapidKey)}}}}),function(Ue,rt,Bt,Ft){return oe.apply(this,arguments)})})).close(),yield oi(ua),yield oi("fcm_vapid_details_db"),yield oi("undefined"),function Vs(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:F}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}(F)?F:null;var oe}),Rr.apply(this,arguments)}const da="firebase-messaging-database",kc=1,Vo="firebase-messaging-store";let ur=null;function ka(){return ur||(ur=la(da,kc,{upgrade:(k,F)=>{0===F&&k.createObjectStore(Vo)}})),ur}function Yr(k){return Oc.apply(this,arguments)}function Oc(){return Oc=(0,K.Z)(function*(k){const F=ha(k),oe=yield(yield ka()).transaction(Vo).objectStore(Vo).get(F);if(oe)return oe;{const be=yield function vu(k){return Rr.apply(this,arguments)}(k.appConfig.senderId);if(be)return yield bo(k,be),be}}),Oc.apply(this,arguments)}function bo(k,F){return oc.apply(this,arguments)}function oc(){return(oc=(0,K.Z)(function*(k,F){const H=ha(k),be=(yield ka()).transaction(Vo,"readwrite");return yield be.objectStore(Vo).put(F,H),yield be.done,F})).apply(this,arguments)}function Bs(){return(Bs=(0,K.Z)(function*(k){const F=ha(k),oe=(yield ka()).transaction(Vo,"readwrite");yield oe.objectStore(Vo).delete(F),yield oe.done})).apply(this,arguments)}function ha({appConfig:k}){return k.appId}const yi=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Bo(k,F){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,K.Z)(function*(k,F){const H=yield Rc(k),oe=Pa(F),be={method:"POST",headers:H,body:JSON.stringify(oe)};let Ue;try{Ue=yield(yield fetch(js(k.appConfig),be)).json()}catch(rt){throw yi.create("token-subscribe-failed",{errorInfo:rt?.toString()})}if(Ue.error)throw yi.create("token-subscribe-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw yi.create("token-subscribe-no-token");return Ue.token})).apply(this,arguments)}function Jo(){return(Jo=(0,K.Z)(function*(k,F){const H=yield Rc(k),oe=Pa(F.subscriptionOptions),be={method:"PATCH",headers:H,body:JSON.stringify(oe)};let Ue;try{Ue=yield(yield fetch(`${js(k.appConfig)}/${F.token}`,be)).json()}catch(rt){throw yi.create("token-update-failed",{errorInfo:rt?.toString()})}if(Ue.error)throw yi.create("token-update-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw yi.create("token-update-no-token");return Ue.token})).apply(this,arguments)}function Pc(k,F){return wo.apply(this,arguments)}function wo(){return(wo=(0,K.Z)(function*(k,F){const oe={method:"DELETE",headers:yield Rc(k)};try{const Ue=yield(yield fetch(`${js(k.appConfig)}/${F}`,oe)).json();if(Ue.error)throw yi.create("token-unsubscribe-failed",{errorInfo:Ue.error.message})}catch(be){throw yi.create("token-unsubscribe-failed",{errorInfo:be?.toString()})}})).apply(this,arguments)}function js({projectId:k}){return`${Vl}/projects/${k}/registrations`}function Rc(k){return ed.apply(this,arguments)}function ed(){return(ed=(0,K.Z)(function*({appConfig:k,installations:F}){const H=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${H}`})})).apply(this,arguments)}function Pa({p256dh:k,auth:F,endpoint:H,vapidKey:oe}){const be={web:{endpoint:H,auth:F,p256dh:k}};return oe!==nc&&(be.web.applicationPubKey=oe),be}const C=6048e5;function j(){return j=(0,K.Z)(function*(k){const F=yield function dr(k,F){return Co.apply(this,arguments)}(k.swRegistration,k.vapidKey),H={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:F.endpoint,auth:yo(F.getKey("auth")),p256dh:yo(F.getKey("p256dh"))},oe=yield Yr(k.firebaseDependencies);if(oe){if(function es(k,F){return F.vapidKey===k.vapidKey&&F.endpoint===k.endpoint&&F.auth===k.auth&&F.p256dh===k.p256dh}(oe.subscriptionOptions,H))return Date.now()>=oe.createTime+C?function Ye(k,F){return Rt.apply(this,arguments)}(k,{token:oe.token,createTime:Date.now(),subscriptionOptions:H}):oe.token;try{yield Pc(k.firebaseDependencies,oe.token)}catch(be){console.warn(be)}return Gn(k.firebaseDependencies,H)}return Gn(k.firebaseDependencies,H)}),j.apply(this,arguments)}function ve(){return ve=(0,K.Z)(function*(k){const F=yield Yr(k.firebaseDependencies);F&&(yield Pc(k.firebaseDependencies,F.token),yield function jl(k){return Bs.apply(this,arguments)}(k.firebaseDependencies));const H=yield k.swRegistration.pushManager.getSubscription();return!H||H.unsubscribe()}),ve.apply(this,arguments)}function Rt(){return Rt=(0,K.Z)(function*(k,F){try{const H=yield function It(k,F){return Jo.apply(this,arguments)}(k.firebaseDependencies,F),oe=Object.assign(Object.assign({},F),{token:H,createTime:Date.now()});return yield bo(k.firebaseDependencies,oe),H}catch(H){throw yield function ee(k){return ve.apply(this,arguments)}(k),H}}),Rt.apply(this,arguments)}function Gn(k,F){return ti.apply(this,arguments)}function ti(){return(ti=(0,K.Z)(function*(k,F){const oe={token:yield Bo(k,F),createTime:Date.now(),subscriptionOptions:F};return yield bo(k,oe),oe.token})).apply(this,arguments)}function Co(){return(Co=(0,K.Z)(function*(k,F){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rc(F)})})).apply(this,arguments)}function Nc(k){const F={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function zs(k,F){if(!F.notification)return;k.notification={};const H=F.notification.title;H&&(k.notification.title=H);const oe=F.notification.body;oe&&(k.notification.body=oe);const be=F.notification.image;be&&(k.notification.image=be);const Ue=F.notification.icon;Ue&&(k.notification.icon=Ue)}(F,k),function ll(k,F){F.data&&(k.data=F.data)}(F,k),function xo(k,F){var H,oe,be,Ue,rt;if(!(F.fcmOptions||null!==(H=F.notification)&&void 0!==H&&H.click_action))return;k.fcmOptions={};const Bt=null!==(be=null===(oe=F.fcmOptions)||void 0===oe?void 0:oe.link)&&void 0!==be?be:null===(Ue=F.notification)||void 0===Ue?void 0:Ue.click_action;Bt&&(k.fcmOptions.link=Bt);const Ft=null===(rt=F.fcmOptions)||void 0===rt?void 0:rt.analytics_label;Ft&&(k.fcmOptions.analyticsLabel=Ft)}(F,k),F}function td(k,F){const H=[];for(let oe=0;oe<k.length;oe++)H.push(k.charAt(oe)),oe<F.length&&H.push(F.charAt(oe));return H.join("")}function yu(k){return yi.create("missing-app-config-values",{valueName:k})}td("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),td("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hh{constructor(F,H,oe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const be=function zh(k){if(!k||!k.options)throw yu("App Configuration Object");if(!k.name)throw yu("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:H}=k;for(const oe of F)if(!H[oe])throw yu(oe);return{appName:k.name,projectId:H.projectId,apiKey:H.apiKey,appId:H.appId,senderId:H.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:be,installations:H,analyticsProvider:oe}}_delete(){return Promise.resolve()}}function Hl(){return(Hl=(0,K.Z)(function*(k){try{k.swRegistration=yield navigator.serviceWorker.register(Aa,{scope:Mc}),k.swRegistration.update().catch(()=>{})}catch(F){throw yi.create("failed-service-worker-registration",{browserErrorMessage:F?.message})}})).apply(this,arguments)}function Cs(){return(Cs=(0,K.Z)(function*(k,F){if(!F&&!k.swRegistration&&(yield function zl(k){return Hl.apply(this,arguments)}(k)),F||!k.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw yi.create("invalid-sw-registration");k.swRegistration=F}})).apply(this,arguments)}function ul(){return(ul=(0,K.Z)(function*(k,F){F?k.vapidKey=F:k.vapidKey||(k.vapidKey=nc)})).apply(this,arguments)}function bu(){return bu=(0,K.Z)(function*(k,F){if(!navigator)throw yi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yi.create("permission-blocked");return yield function Fc(k,F){return ul.apply(this,arguments)}(k,F?.vapidKey),yield function nd(k,F){return Cs.apply(this,arguments)}(k,F?.serviceWorkerRegistration),function N(k){return j.apply(this,arguments)}(k)}),bu.apply(this,arguments)}function xs(){return(xs=(0,K.Z)(function*(k,F,H){const oe=function Xd(k){switch(k){case ic.NOTIFICATION_CLICKED:return"notification_open";case ic.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(F);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(oe,{message_id:H[mi],message_name:H[_u],message_time:H[Ac],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ii(){return Ii=(0,K.Z)(function*(k,F){const H=F.data;if(!H.isFirebaseMessaging)return;k.onMessageHandler&&H.messageType===ic.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(Nc(H)):k.onMessageHandler.next(Nc(H)));const oe=H.data;(function Eo(k){return"object"==typeof k&&!!k&&mi in k})(oe)&&"1"===oe["google.c.a.e"]&&(yield function Qf(k,F,H){return xs.apply(this,arguments)}(k,H.messageType,oe))}),Ii.apply(this,arguments)}const dl="@firebase/messaging",jo=k=>{const F=new Hh(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",H=>function wu(k,F){return Ii.apply(this,arguments)}(F,H)),F},Qr=k=>{const F=k.getProvider("messaging").getImmediate();return{getToken:oe=>function id(k,F){return bu.apply(this,arguments)}(F,oe)}};function hl(){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,K.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Jd(){(0,pe._registerComponent)(new Pe.wA("messaging",jo,"PUBLIC")),(0,pe._registerComponent)(new Pe.wA("messaging-internal",Qr,"PRIVATE")),(0,pe.registerVersion)(dl,"0.12.4"),(0,pe.registerVersion)(dl,"0.12.4","esm2017")}();const sc="analytics",Cu="firebase_id",In="origin",Uc=6e4,Xf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rd="https://www.googletagmanager.com/gtag/js",Br=new ke.Yd("@firebase/analytics"),Wi=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Es(k){if(!k.startsWith(rd)){const F=Wi.create("invalid-gtag-resource",{gtagURL:k});return Br.warn(F.message),""}return k}function Vc(k){return Promise.all(k.map(F=>F.catch(H=>H)))}function pt(){return(pt=(0,K.Z)(function*(k,F,H,oe,be,Ue){const rt=oe[be];try{if(rt)yield F[rt];else{const Ft=(yield Vc(H)).find(hn=>hn.measurementId===be);Ft&&(yield F[Ft.appId])}}catch(Bt){Br.error(Bt)}k("config",be,Ue)})).apply(this,arguments)}function Is(){return(Is=(0,K.Z)(function*(k,F,H,oe,be){try{let Ue=[];if(be&&be.send_to){let rt=be.send_to;Array.isArray(rt)||(rt=[rt]);const Bt=yield Vc(H);for(const Ft of rt){const hn=Bt.find(Mn=>Mn.measurementId===Ft),Ln=hn&&F[hn.appId];if(!Ln){Ue=[];break}Ue.push(Ln)}}0===Ue.length&&(Ue=Object.values(F)),yield Promise.all(Ue),k("event",oe,be||{})}catch(Ue){Br.error(Ue)}})).apply(this,arguments)}const To=30,ao=new class Yi{constructor(F={},H=1e3){this.throttleMetadata=F,this.intervalMillis=H}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,H){this.throttleMetadata[F]=H}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function ep(k){return new Headers({Accept:"application/json","x-goog-api-key":k})}function or(){return(or=(0,K.Z)(function*(k){var F;const{appId:H,apiKey:oe}=k,be={method:"GET",headers:ep(oe)},Ue=Xf.replace("{app-id}",H),rt=yield fetch(Ue,be);if(200!==rt.status&&304!==rt.status){let Bt="";try{const Ft=yield rt.json();null!==(F=Ft.error)&&void 0!==F&&F.message&&(Bt=Ft.error.message)}catch{}throw Wi.create("config-fetch-failed",{httpStatus:rt.status,responseMessage:Bt})}return rt.json()})).apply(this,arguments)}function hr(){return(hr=(0,K.Z)(function*(k,F=ao,H){const{appId:oe,apiKey:be,measurementId:Ue}=k.options;if(!oe)throw Wi.create("no-app-id");if(!be){if(Ue)return{measurementId:Ue,appId:oe};throw Wi.create("no-api-key")}const rt=F.getThrottleMetadata(oe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Bt=new fa;return setTimeout((0,K.Z)(function*(){Bt.abort()}),void 0!==H?H:Uc),co({appId:oe,apiKey:be,measurementId:Ue},rt,Bt,F)})).apply(this,arguments)}function co(k,F,H){return Xr.apply(this,arguments)}function Xr(){return Xr=(0,K.Z)(function*(k,{throttleEndTimeMillis:F,backoffCount:H},oe,be=ao){var Ue;const{appId:rt,measurementId:Bt}=k;try{yield function Jr(k,F){return new Promise((H,oe)=>{const be=Math.max(F-Date.now(),0),Ue=setTimeout(H,be);k.addEventListener(()=>{clearTimeout(Ue),oe(Wi.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(oe,F)}catch(Ft){if(Bt)return Br.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bt} provided in the "measurementId" field in the local Firebase config. [${Ft?.message}]`),{appId:rt,measurementId:Bt};throw Ft}try{const Ft=yield function s_(k){return or.apply(this,arguments)}(k);return be.deleteThrottleMetadata(rt),Ft}catch(Ft){const hn=Ft;if(!function Gh(k){if(!(k instanceof ce.ZR&&k.customData))return!1;const F=Number(k.customData.httpStatus);return 429===F||500===F||503===F||504===F}(hn)){if(be.deleteThrottleMetadata(rt),Bt)return Br.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bt} provided in the "measurementId" field in the local Firebase config. [${hn?.message}]`),{appId:rt,measurementId:Bt};throw Ft}const Ln=503===Number(null===(Ue=hn?.customData)||void 0===Ue?void 0:Ue.httpStatus)?(0,ce.$s)(H,be.intervalMillis,To):(0,ce.$s)(H,be.intervalMillis),Mn={throttleEndTimeMillis:Date.now()+Ln,backoffCount:H+1};return be.setThrottleMetadata(rt,Mn),Br.debug(`Calling attemptFetch again in ${Ln} millis`),co(k,Mn,oe,be)}}),Xr.apply(this,arguments)}class fa{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}let sd,lc;function Eu(){return(Eu=(0,K.Z)(function*(k,F,H,oe,be){if(be&&be.global)k("event",H,oe);else{const Ue=yield F;k("event",H,Object.assign(Object.assign({},oe),{send_to:Ue}))}})).apply(this,arguments)}function pa(){return(pa=(0,K.Z)(function*(){if(!(0,ce.hl)())return Br.warn(Wi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(k){return Br.warn(Wi.create("indexeddb-unavailable",{errorInfo:k?.toString()}).message),!1}return!0})).apply(this,arguments)}function ma(){return ma=(0,K.Z)(function*(k,F,H,oe,be,Ue,rt){var Bt;const Ft=function Qi(k){return hr.apply(this,arguments)}(k);Ft.then(Mo=>{H[Mo.measurementId]=Mo.appId,k.options.measurementId&&Mo.measurementId!==k.options.measurementId&&Br.warn(`The measurement ID in the local Firebase config (${k.options.measurementId}) does not match the measurement ID fetched from the server (${Mo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Mo=>Br.error(Mo)),F.push(Ft);const hn=function ts(){return pa.apply(this,arguments)}().then(Mo=>{if(Mo)return oe.getId()}),[Ln,Mn]=yield Promise.all([Ft,hn]);(function od(k){const F=window.document.getElementsByTagName("script");for(const H of Object.values(F))if(H.src&&H.src.includes(rd)&&H.src.includes(k))return H;return null})(Ue)||function Jf(k,F){const H=function ih(k,F){let H;return window.trustedTypes&&(H=window.trustedTypes.createPolicy(k,F)),H}("firebase-js-sdk-policy",{createScriptURL:Es}),oe=document.createElement("script"),be=`${rd}?l=${k}&id=${F}`;oe.src=H?H?.createScriptURL(be):be,oe.async=!0,document.head.appendChild(oe)}(Ue,Ln.measurementId),lc&&(be("consent","default",lc),function uc(k){lc=k}(void 0)),be("js",new Date);const fs=null!==(Bt=rt?.config)&&void 0!==Bt?Bt:{};return fs[In]="firebase",fs.update=!0,null!=Mn&&(fs[Cu]=Mn),be("config",Ln.measurementId,fs),sd&&(be("set",sd),function Gl(k){sd=k}(void 0)),Ln.measurementId}),ma.apply(this,arguments)}class ah{constructor(F){this.app=F}_delete(){return delete us[this.app.options.appId],Promise.resolve()}}let us={},zn=[];const ar={};let dc,ci,Do="dataLayer",Fa=!1;function Nr(k,F,H){!function Bc(){const k=[];if((0,ce.ru)()&&k.push("This is a browser extension environment."),(0,ce.zI)()||k.push("Cookies are not available."),k.length>0){const F=k.map((oe,be)=>`(${be+1}) ${oe}`).join(" "),H=Wi.create("invalid-analytics-context",{errorInfo:F});Br.warn(H.message)}}();const oe=k.options.appId;if(!oe)throw Wi.create("no-app-id");if(!k.options.apiKey){if(!k.options.measurementId)throw Wi.create("no-api-key");Br.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${k.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=us[oe])throw Wi.create("already-exists",{id:oe});if(!Fa){!function rh(k){let F=[];Array.isArray(window[k])?F=window[k]:window[k]=F}(Do);const{wrappedGtag:Ue,gtagCore:rt}=function Io(k,F,H,oe,be){let Ue=function(...rt){window[oe].push(arguments)};return window[be]&&"function"==typeof window[be]&&(Ue=window[be]),window[be]=function xu(k,F,H,oe){function Ue(){return Ue=(0,K.Z)(function*(rt,...Bt){try{if("event"===rt){const[Ft,hn]=Bt;yield function ii(k,F,H,oe,be){return Is.apply(this,arguments)}(k,F,H,Ft,hn)}else if("config"===rt){const[Ft,hn]=Bt;yield function ac(k,F,H,oe,be,Ue){return pt.apply(this,arguments)}(k,F,H,oe,Ft,hn)}else if("consent"===rt){const[Ft]=Bt;k("consent","update",Ft)}else if("get"===rt){const[Ft,hn,Ln]=Bt;k("get",Ft,hn,Ln)}else if("set"===rt){const[Ft]=Bt;k("set",Ft)}else k(rt,...Bt)}catch(Ft){Br.error(Ft)}}),Ue.apply(this,arguments)}return function be(rt){return Ue.apply(this,arguments)}}(Ue,k,F,H),{gtagCore:Ue,wrappedGtag:window[be]}}(us,zn,ar,Do,"gtag");ci=Ue,dc=rt,Fa=!0}return us[oe]=function sr(k,F,H,oe,be,Ue,rt){return ma.apply(this,arguments)}(k,zn,ar,F,dc,Do,H),new ah(k)}function tp(){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,K.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const jc="@firebase/analytics";!function dd(){(0,pe._registerComponent)(new Pe.wA(sc,(F,{options:H})=>Nr(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),H),"PUBLIC")),(0,pe._registerComponent)(new Pe.wA("analytics-internal",function k(F){try{const H=F.getProvider(sc).getImmediate();return{logEvent:(oe,be,Ue)=>function Wh(k,F,H,oe){k=(0,ce.m9)(k),function _m(k,F,H,oe,be){return Eu.apply(this,arguments)}(ci,us[k.app.options.appId],F,H,oe).catch(be=>Br.error(be))}(H,oe,be,Ue)}}catch(H){throw Wi.create("interop-component-reg-failed",{reason:H})}},"PRIVATE")),(0,pe.registerVersion)(jc,"0.10.0"),(0,pe.registerVersion)(jc,"0.10.0","esm2017")}();var gl=Q(1954),ds=Q(2631);const Kh=new class Zh extends ds.v{}(class Tu extends gl.o{constructor(F,H){super(F,H),this.scheduler=F,this.work=H}schedule(F,H=0){return H>0?super.schedule(F,H):(this.delay=H,this.state=F,this.scheduler.flush(this),this)}execute(F,H){return H>0||this.closed?super.execute(F,H):this._execute(F,H)}requestAsyncId(F,H,oe=0){return null!=oe&&oe>0||null==oe&&this.delay>0?super.requestAsyncId(F,H,oe):(F.flush(this),0)}});var Yh=Q(6321),zo=Q(5592),hd=Q(9397),$s=Q(5137),Kl=Q(3093);const Su=new a.GfV("7.6.1"),Yl="__angularfire_symbol__analyticsIsSupportedValue",Ql="__angularfire_symbol__analyticsIsSupported",fd="__angularfire_symbol__remoteConfigIsSupportedValue",Xl="__angularfire_symbol__remoteConfigIsSupported",Jl="__angularfire_symbol__messagingIsSupportedValue",qs="__angularfire_symbol__messagingIsSupported";function uh(k,F,H){if(F){if(1===F.length)return F[0];const Ue=F.filter(rt=>rt.app===H);if(1===Ue.length)return Ue[0]}return H.container.getProvider(k).getImmediate({optional:!0})}globalThis[Ql]||(globalThis[Ql]=tp().then(k=>globalThis[Yl]=k).catch(()=>globalThis[Yl]=!1)),globalThis[qs]||(globalThis[qs]=hl().then(k=>globalThis[Jl]=k).catch(()=>globalThis[Jl]=!1)),globalThis[Xl]||(globalThis[Xl]=Da().then(k=>globalThis[fd]=k).catch(()=>globalThis[fd]=!1));const dh=(k,F)=>{const H=F?[F]:(0,U.C6)(),oe=[];return H.forEach(be=>{be.container.getProvider(k).instances.forEach(rt=>{oe.includes(rt)||oe.push(rt)})}),oe};function _l(){}class ns{constructor(F,H=Kh){this.zone=F,this.delegate=H}now(){return this.delegate.now()}schedule(F,H,oe){const be=this.zone;return this.delegate.schedule(function(rt){be.runGuarded(()=>{F.apply(this,[rt])})},H,oe)}}class Hc{constructor(F){this.zone=F,this.task=null}call(F,H){const oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_l,{},_l,_l)),H.pipe((0,hd.b)({next:oe,complete:oe,error:oe})).subscribe(F).add(oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ri=(()=>{class k{constructor(H){this.ngZone=H,this.outsideAngular=H.runOutsideAngular(()=>new ns(Zone.current)),this.insideAngular=H.run(()=>new ns(Zone.current,Yh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(H){return new(H||k)(a.LFG(a.R0b))},k.\u0275prov=a.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function hc(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function Ti(k){return hc().ngZone.run(()=>k())}function hs(k){return hc(),function vl(k){return function(H){return(H=H.lift(new Hc(k.ngZone))).pipe((0,$s.R)(k.outsideAngular),(0,Kl.Q)(k.insideAngular))}}(hc())(k)}const Ua=(k,F)=>function(){const oe=arguments;return F&&setTimeout(()=>{"scheduled"===F.state&&F.invoke()},10),Ti(()=>k.apply(void 0,oe))},$c=(k,F)=>function(){let H;const oe=arguments;for(let Ue=0;Ue<arguments.length;Ue++)"function"==typeof oe[Ue]&&(F&&(H||(H=Ti(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_l,{},_l,_l)))),oe[Ue]=Ua(oe[Ue],H));const be=function md(k){return hc().ngZone.runOutsideAngular(()=>k())}(()=>k.apply(this,oe));if(!F){if(be instanceof zo.y){const Ue=hc();return be.pipe((0,$s.R)(Ue.outsideAngular),(0,Kl.Q)(Ue.insideAngular))}return Ti(()=>be)}return be instanceof zo.y?be.pipe(hs):be instanceof Promise?Ti(()=>new Promise((Ue,rt)=>be.then(Bt=>Ti(()=>Ue(Bt)),Bt=>Ti(()=>rt(Bt))))):"function"==typeof be&&H?function(){return setTimeout(()=>{H&&"scheduled"===H.state&&H.invoke()},10),be.apply(this,arguments)}:Ti(()=>be)}},6710:(en,Me,Q)=>{Q.d(Me,{$:()=>Aa,A:()=>G,D:()=>me,I:()=>Xa,J:()=>na,L:()=>Et,N:()=>_r,P:()=>sr,Q:()=>ys,R:()=>pl,U:()=>aa,V:()=>Da,W:()=>Vi,X:()=>Ir,Y:()=>Sc,Z:()=>gu,_:()=>ca,a:()=>Hs,a0:()=>nc,a1:()=>mi,a2:()=>Qd,a3:()=>Bl,a4:()=>Rr,a5:()=>da,a6:()=>Vo,a7:()=>ka,a8:()=>Oc,a9:()=>oc,aA:()=>ue,aB:()=>Ql,aC:()=>pi,aD:()=>mo,aE:()=>hd,aF:()=>Zl,aG:()=>ud,aH:()=>Ai,aL:()=>Lc,aO:()=>Gr,aa:()=>jl,ab:()=>ha,ac:()=>cl,ad:()=>It,ae:()=>Pc,af:()=>js,ai:()=>C,aj:()=>j,ak:()=>ee,an:()=>al,ao:()=>zs,aq:()=>ul,ar:()=>dl,as:()=>Le,at:()=>Vt,au:()=>Qe,av:()=>xe,aw:()=>Mn,ax:()=>qs,ay:()=>Jn,az:()=>nt,b:()=>eh,c:()=>ci,d:()=>Nr,e:()=>jr,f:()=>jc,g:()=>Zh,h:()=>gl,i:()=>So,j:()=>Yh,k:()=>Va,l:()=>ls,m:()=>yl,o:()=>Xh,p:()=>ut,r:()=>cc,s:()=>ql,u:()=>ts,v:()=>Eo,x:()=>zh});var a=Q(5861),U=Q(9058),K=Q(534),pe=Q(7582),ce=Q(7879),Pe=Q(4537);const ut={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const me=function de(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},lt=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},st=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Re=new ce.Yd("@firebase/auth");function Ze(M,...w){Re.logLevel<=ce.in.ERROR&&Re.error(`Auth (${K.SDK_VERSION}): ${M}`,...w)}function xe(M,...w){throw he(M,...w)}function nt(M,...w){return he(M,...w)}function $e(M,w,I){const O=Object.assign(Object.assign({},lt()),{[w]:I});return new U.LL("auth","Firebase",O).create(w,{appName:M.name})}function it(M,w,I){if(!(w instanceof I))throw I.name!==w.constructor.name&&xe(M,"argument-error"),$e(M,"argument-error",`Type of ${w.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function he(M,...w){if("string"!=typeof M){const I=w[0],O=[...w.slice(1)];return O[0]&&(O[0].appName=M.name),M._errorFactory.create(I,...O)}return st.create(M,...w)}function ue(M,w,...I){if(!M)throw he(w,...I)}function Ge(M){const w="INTERNAL ASSERTION FAILED: "+M;throw Ze(w),new Error(w)}function Le(M,w){M||Ge(w)}function Ct(){var M;return typeof self<"u"&&(null===(M=self.location)||void 0===M?void 0:M.href)||""}function ot(){return"http:"===Kt()||"https:"===Kt()}function Kt(){var M;return typeof self<"u"&&(null===(M=self.location)||void 0===M?void 0:M.protocol)||null}class rn{constructor(w,I){this.shortDelay=w,this.longDelay=I,Le(I>w,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function nn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ot()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fi(M,w){Le(M.emulator,"Emulator should always be set here");const{url:I}=M.emulator;return w?`${I}${w.startsWith("/")?w.slice(1):w}`:I}class Se{static initialize(w,I,O){this.fetchImpl=w,I&&(this.headersImpl=I),O&&(this.responseImpl=O)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},He=new rn(3e4,6e4);function je(M,w){return M.tenantId&&!w.tenantId?Object.assign(Object.assign({},w),{tenantId:M.tenantId}):w}function ct(M,w,I,O){return gt.apply(this,arguments)}function gt(){return(gt=(0,a.Z)(function*(M,w,I,O,$={}){return Mt(M,$,(0,a.Z)(function*(){let X={},De={};O&&("GET"===w?De=O:X={body:JSON.stringify(O)});const Je=(0,U.xO)(Object.assign({key:M.config.apiKey},De)).slice(1),Ot=yield M._getAdditionalHeaders();return Ot["Content-Type"]="application/json",M.languageCode&&(Ot["X-Firebase-Locale"]=M.languageCode),Se.fetch()(Nn(M,M.config.apiHost,I,Je),Object.assign({method:w,headers:Ot,referrerPolicy:"no-referrer"},X))}))})).apply(this,arguments)}function Mt(M,w,I){return bt.apply(this,arguments)}function bt(){return(bt=(0,a.Z)(function*(M,w,I){M._canInitEmulator=!1;const O=Object.assign(Object.assign({},Ce),w);try{const $=new fn(M),X=yield Promise.race([I(),$.promise]);$.clearNetworkTimeout();const De=yield X.json();if("needConfirmation"in De)throw tn(M,"account-exists-with-different-credential",De);if(X.ok&&!("errorMessage"in De))return De;{const Je=X.ok?De.errorMessage:De.error.message,[Ot,Nt]=Je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ot)throw tn(M,"credential-already-in-use",De);if("EMAIL_EXISTS"===Ot)throw tn(M,"email-already-in-use",De);if("USER_DISABLED"===Ot)throw tn(M,"user-disabled",De);const pn=O[Ot]||Ot.toLowerCase().replace(/[_\s]+/g,"-");if(Nt)throw $e(M,pn,Nt);xe(M,pn)}}catch($){if($ instanceof U.ZR)throw $;xe(M,"network-request-failed",{message:String($)})}})).apply(this,arguments)}function Sn(M,w,I,O){return dn.apply(this,arguments)}function dn(){return(dn=(0,a.Z)(function*(M,w,I,O,$={}){const X=yield ct(M,w,I,O,$);return"mfaPendingCredential"in X&&xe(M,"multi-factor-auth-required",{_serverResponse:X}),X})).apply(this,arguments)}function Nn(M,w,I,O){const $=`${w}${I}?${O}`;return M.config.emulator?fi(M.config,$):`${M.config.apiScheme}://${$}`}class fn{constructor(w){this.auth=w,this.timer=null,this.promise=new Promise((I,O)=>{this.timer=setTimeout(()=>O(nt(this.auth,"network-request-failed")),He.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tn(M,w,I){const O={appName:M.name};I.email&&(O.email=I.email),I.phoneNumber&&(O.phoneNumber=I.phoneNumber);const $=nt(M,w,O);return $.customData._tokenResponse=I,$}function Ut(){return(Ut=(0,a.Z)(function*(M,w){return ct(M,"POST","/v1/accounts:delete",w)})).apply(this,arguments)}function Fn(){return(Fn=(0,a.Z)(function*(M,w){return ct(M,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function wi(){return(wi=(0,a.Z)(function*(M,w){return ct(M,"POST","/v1/accounts:lookup",w)})).apply(this,arguments)}function Mi(M){if(M)try{const w=new Date(Number(M));if(!isNaN(w.getTime()))return w.toUTCString()}catch{}}function Po(){return(Po=(0,a.Z)(function*(M,w=!1){const I=(0,U.m9)(M),O=yield I.getIdToken(w),$=Yt(O);ue($&&$.exp&&$.auth_time&&$.iat,I.auth,"internal-error");const X="object"==typeof $.firebase?$.firebase:void 0,De=X?.sign_in_provider;return{claims:$,token:O,authTime:Mi(sn($.auth_time)),issuedAtTime:Mi(sn($.iat)),expirationTime:Mi(sn($.exp)),signInProvider:De||null,signInSecondFactor:X?.sign_in_second_factor||null}})).apply(this,arguments)}function sn(M){return 1e3*Number(M)}function Yt(M){const[w,I,O]=M.split(".");if(void 0===w||void 0===I||void 0===O)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,U.tV)(I);return $?JSON.parse($):(Ze("Failed to decode base64 JWT payload"),null)}catch($){return Ze("Caught error parsing JWT payload as JSON",$?.toString()),null}}function zt(M,w){return Te.apply(this,arguments)}function Te(){return(Te=(0,a.Z)(function*(M,w,I=!1){if(I)return w;try{return yield w}catch(O){throw O instanceof U.ZR&&function we({code:M}){return"auth/user-disabled"===M||"auth/user-token-expired"===M}(O)&&M.auth.currentUser===M&&(yield M.auth.signOut()),O}})).apply(this,arguments)}class Ee{constructor(w){this.user=w,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(w){var I;if(w){const O=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),O}{this.errorBackoff=3e4;const $=(null!==(I=this.user.stsTokenManager.expirationTime)&&void 0!==I?I:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(w=!1){var I=this;if(!this.isRunning)return;const O=this.getInterval(w);this.timerId=setTimeout((0,a.Z)(function*(){yield I.iteration()}),O)}iteration(){var w=this;return(0,a.Z)(function*(){try{yield w.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===I?.code&&w.schedule(!0))}w.schedule()})()}}class qe{constructor(w,I){this.createdAt=w,this.lastLoginAt=I,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mi(this.lastLoginAt),this.creationTime=Mi(this.createdAt)}_copy(w){this.createdAt=w.createdAt,this.lastLoginAt=w.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fe(M){return xt.apply(this,arguments)}function xt(){return xt=(0,a.Z)(function*(M){var w;const I=M.auth,O=yield M.getIdToken(),$=yield zt(M,function Un(M,w){return wi.apply(this,arguments)}(I,{idToken:O}));ue($?.users.length,I,"internal-error");const X=$.users[0];M._notifyReloadListener(X);const De=null!==(w=X.providerUserInfo)&&void 0!==w&&w.length?function Ht(M){return M.map(w=>{var{providerId:I}=w,O=(0,pe._T)(w,["providerId"]);return{providerId:I,uid:O.rawId||"",displayName:O.displayName||null,email:O.email||null,phoneNumber:O.phoneNumber||null,photoURL:O.photoUrl||null}})}(X.providerUserInfo):[],Je=function Jt(M,w){return[...M.filter(O=>!w.some($=>$.providerId===O.providerId)),...w]}(M.providerData,De),pn=!!M.isAnonymous&&!(M.email&&X.passwordHash||Je?.length),Wn={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:Je,metadata:new qe(X.createdAt,X.lastLoginAt),isAnonymous:pn};Object.assign(M,Wn)}),xt.apply(this,arguments)}function jt(){return(jt=(0,a.Z)(function*(M){const w=(0,U.m9)(M);yield Fe(w),yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)})).apply(this,arguments)}function vi(){return(vi=(0,a.Z)(function*(M,w){const I=yield Mt(M,{},(0,a.Z)(function*(){const O=(0,U.xO)({grant_type:"refresh_token",refresh_token:w}).slice(1),{tokenApiHost:$,apiKey:X}=M.config,De=Nn(M,$,"/v1/token",`key=${X}`),Je=yield M._getAdditionalHeaders();return Je["Content-Type"]="application/x-www-form-urlencoded",Se.fetch()(De,{method:"POST",headers:Je,body:O})}));return{accessToken:I.access_token,expiresIn:I.expires_in,refreshToken:I.refresh_token}})).apply(this,arguments)}class Hn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(w){ue(w.idToken,"internal-error"),ue(typeof w.idToken<"u","internal-error"),ue(typeof w.refreshToken<"u","internal-error");const I="expiresIn"in w&&typeof w.expiresIn<"u"?Number(w.expiresIn):function Qt(M){const w=Yt(M);return ue(w,"internal-error"),ue(typeof w.exp<"u","internal-error"),ue(typeof w.iat<"u","internal-error"),Number(w.exp)-Number(w.iat)}(w.idToken);this.updateTokensAndExpiration(w.idToken,w.refreshToken,I)}getToken(w,I=!1){var O=this;return(0,a.Z)(function*(){return ue(!O.accessToken||O.refreshToken,w,"user-token-expired"),I||!O.accessToken||O.isExpired?O.refreshToken?(yield O.refresh(w,O.refreshToken),O.accessToken):null:O.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(w,I){var O=this;return(0,a.Z)(function*(){const{accessToken:$,refreshToken:X,expiresIn:De}=yield function Ci(M,w){return vi.apply(this,arguments)}(w,I);O.updateTokensAndExpiration($,X,Number(De))})()}updateTokensAndExpiration(w,I,O){this.refreshToken=I||null,this.accessToken=w||null,this.expirationTime=Date.now()+1e3*O}static fromJSON(w,I){const{refreshToken:O,accessToken:$,expirationTime:X}=I,De=new Hn;return O&&(ue("string"==typeof O,"internal-error",{appName:w}),De.refreshToken=O),$&&(ue("string"==typeof $,"internal-error",{appName:w}),De.accessToken=$),X&&(ue("number"==typeof X,"internal-error",{appName:w}),De.expirationTime=X),De}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(w){this.accessToken=w.accessToken,this.refreshToken=w.refreshToken,this.expirationTime=w.expirationTime}_clone(){return Object.assign(new Hn,this.toJSON())}_performRefresh(){return Ge("not implemented")}}function Li(M,w){ue("string"==typeof M||typeof M>"u","internal-error",{appName:w})}class $n{constructor(w){var{uid:I,auth:O,stsTokenManager:$}=w,X=(0,pe._T)(w,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=I,this.auth=O,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=X.displayName||null,this.email=X.email||null,this.emailVerified=X.emailVerified||!1,this.phoneNumber=X.phoneNumber||null,this.photoURL=X.photoURL||null,this.isAnonymous=X.isAnonymous||!1,this.tenantId=X.tenantId||null,this.providerData=X.providerData?[...X.providerData]:[],this.metadata=new qe(X.createdAt||void 0,X.lastLoginAt||void 0)}getIdToken(w){var I=this;return(0,a.Z)(function*(){const O=yield zt(I,I.stsTokenManager.getToken(I.auth,w));return ue(O,I.auth,"internal-error"),I.accessToken!==O&&(I.accessToken=O,yield I.auth._persistUserIfCurrent(I),I.auth._notifyListenersIfCurrent(I)),O})()}getIdTokenResult(w){return function zi(M){return Po.apply(this,arguments)}(this,w)}reload(){return function mn(M){return jt.apply(this,arguments)}(this)}_assign(w){this!==w&&(ue(this.uid===w.uid,this.auth,"internal-error"),this.displayName=w.displayName,this.photoURL=w.photoURL,this.email=w.email,this.emailVerified=w.emailVerified,this.phoneNumber=w.phoneNumber,this.isAnonymous=w.isAnonymous,this.tenantId=w.tenantId,this.providerData=w.providerData.map(I=>Object.assign({},I)),this.metadata._copy(w.metadata),this.stsTokenManager._assign(w.stsTokenManager))}_clone(w){const I=new $n(Object.assign(Object.assign({},this),{auth:w,stsTokenManager:this.stsTokenManager._clone()}));return I.metadata._copy(this.metadata),I}_onReload(w){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=w,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(w){this.reloadListener?this.reloadListener(w):this.reloadUserInfo=w}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(w,I=!1){var O=this;return(0,a.Z)(function*(){let $=!1;w.idToken&&w.idToken!==O.stsTokenManager.accessToken&&(O.stsTokenManager.updateFromServerResponse(w),$=!0),I&&(yield Fe(O)),yield O.auth._persistUserIfCurrent(O),$&&O.auth._notifyListenersIfCurrent(O)})()}delete(){var w=this;return(0,a.Z)(function*(){const I=yield w.getIdToken();return yield zt(w,function Dn(M,w){return Ut.apply(this,arguments)}(w.auth,{idToken:I})),w.stsTokenManager.clearRefreshToken(),w.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(w=>Object.assign({},w)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(w,I){var O,$,X,De,Je,Ot,Nt,pn;const Wn=null!==(O=I.displayName)&&void 0!==O?O:void 0,eo=null!==($=I.email)&&void 0!==$?$:void 0,ga=null!==(X=I.phoneNumber)&&void 0!==X?X:void 0,to=null!==(De=I.photoURL)&&void 0!==De?De:void 0,sp=null!==(Je=I.tenantId)&&void 0!==Je?Je:void 0,Jh=null!==(Ot=I._redirectEventId)&&void 0!==Ot?Ot:void 0,qc=null!==(Nt=I.createdAt)&&void 0!==Nt?Nt:void 0,Mu=null!==(pn=I.lastLoginAt)&&void 0!==pn?pn:void 0,{uid:bl,emailVerified:ef,isAnonymous:hh,providerData:tf,stsTokenManager:bm}=I;ue(bl&&bm,w,"internal-error");const tu=Hn.fromJSON(this.name,bm);ue("string"==typeof bl,w,"internal-error"),Li(Wn,w.name),Li(eo,w.name),ue("boolean"==typeof ef,w,"internal-error"),ue("boolean"==typeof hh,w,"internal-error"),Li(ga,w.name),Li(to,w.name),Li(sp,w.name),Li(Jh,w.name),Li(qc,w.name),Li(Mu,w.name);const fh=new $n({uid:bl,auth:w,email:eo,emailVerified:ef,displayName:Wn,isAnonymous:hh,photoURL:to,phoneNumber:ga,tenantId:sp,stsTokenManager:tu,createdAt:qc,lastLoginAt:Mu});return tf&&Array.isArray(tf)&&(fh.providerData=tf.map(d_=>Object.assign({},d_))),Jh&&(fh._redirectEventId=Jh),fh}static _fromIdTokenResponse(w,I,O=!1){return(0,a.Z)(function*(){const $=new Hn;$.updateFromServerResponse(I);const X=new $n({uid:I.localId,auth:w,stsTokenManager:$,isAnonymous:O});return yield Fe(X),X})()}}const gr=new Map;function pi(M){Le(M instanceof Function,"Expected a class definition");let w=gr.get(M);return w?(Le(w instanceof M,"Instance stored in cache mismatched with class"),w):(w=new M,gr.set(M,w),w)}const _r=(()=>{class M{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(I,O){var $=this;return(0,a.Z)(function*(){$.storage[I]=O})()}_get(I){var O=this;return(0,a.Z)(function*(){const $=O.storage[I];return void 0===$?null:$})()}_remove(I){var O=this;return(0,a.Z)(function*(){delete O.storage[I]})()}_addListener(I,O){}_removeListener(I,O){}}return M.type="NONE",M})();function mo(M,w,I){return`firebase:${M}:${w}:${I}`}class fe{constructor(w,I,O){this.persistence=w,this.auth=I,this.userKey=O;const{config:$,name:X}=this.auth;this.fullUserKey=mo(this.userKey,$.apiKey,X),this.fullPersistenceKey=mo("persistence",$.apiKey,X),this.boundEventHandler=I._onStorageEvent.bind(I),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(w){return this.persistence._set(this.fullUserKey,w.toJSON())}getCurrentUser(){var w=this;return(0,a.Z)(function*(){const I=yield w.persistence._get(w.fullUserKey);return I?$n._fromJSON(w.auth,I):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(w){var I=this;return(0,a.Z)(function*(){if(I.persistence===w)return;const O=yield I.getCurrentUser();return yield I.removeCurrentUser(),I.persistence=w,O?I.setCurrentUser(O):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(w,I,O="authUser"){return(0,a.Z)(function*(){if(!I.length)return new fe(pi(_r),w,O);const $=(yield Promise.all(I.map(function(){var Nt=(0,a.Z)(function*(pn){if(yield pn._isAvailable())return pn});return function(pn){return Nt.apply(this,arguments)}}()))).filter(Nt=>Nt);let X=$[0]||pi(_r);const De=mo(O,w.config.apiKey,w.name);let Je=null;for(const Nt of I)try{const pn=yield Nt._get(De);if(pn){const Wn=$n._fromJSON(w,pn);Nt!==X&&(Je=Wn),X=Nt;break}}catch{}const Ot=$.filter(Nt=>Nt._shouldAllowMigration);return X._shouldAllowMigration&&Ot.length?(X=Ot[0],Je&&(yield X._set(De,Je.toJSON())),yield Promise.all(I.map(function(){var Nt=(0,a.Z)(function*(pn){if(pn!==X)try{yield pn._remove(De)}catch{}});return function(pn){return Nt.apply(this,arguments)}}())),new fe(X,w,O)):new fe(X,w,O)})()}}function le(M){const w=M.toLowerCase();if(w.includes("opera/")||w.includes("opr/")||w.includes("opios/"))return"Opera";if(Ae(w))return"IEMobile";if(w.includes("msie")||w.includes("trident/"))return"IE";if(w.includes("edge/"))return"Edge";if(J(w))return"Firefox";if(w.includes("silk/"))return"Silk";if(Dt(w))return"Blackberry";if(yn(w))return"Webos";if(te(w))return"Safari";if((w.includes("chrome/")||Y(w))&&!w.includes("edge/"))return"Chrome";if(Qe(w))return"Android";{const O=M.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===O?.length)return O[1]}return"Other"}function J(M=(0,U.z$)()){return/firefox\//i.test(M)}function te(M=(0,U.z$)()){const w=M.toLowerCase();return w.includes("safari/")&&!w.includes("chrome/")&&!w.includes("crios/")&&!w.includes("android")}function Y(M=(0,U.z$)()){return/crios\//i.test(M)}function Ae(M=(0,U.z$)()){return/iemobile/i.test(M)}function Qe(M=(0,U.z$)()){return/android/i.test(M)}function Dt(M=(0,U.z$)()){return/blackberry/i.test(M)}function yn(M=(0,U.z$)()){return/webos/i.test(M)}function Vt(M=(0,U.z$)()){return/iphone|ipad|ipod/i.test(M)||/macintosh/i.test(M)&&/mobile/i.test(M)}function Jn(M=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(M)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(M)}function Rn(M=(0,U.z$)()){return Vt(M)||Qe(M)||yn(M)||Dt(M)||/windows phone/i.test(M)||Ae(M)}function Zo(M,w=[]){let I;switch(M){case"Browser":I=le((0,U.z$)());break;case"Worker":I=`${le((0,U.z$)())}-${M}`;break;default:I=M}const O=w.length?w.join(","):"FirebaseCore-web";return`${I}/JsCore/${K.SDK_VERSION}/${O}`}function ze(){return(ze=(0,a.Z)(function*(M){return(yield ct(M,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _t(M,w){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,a.Z)(function*(M,w){return ct(M,"GET","/v2/recaptchaConfig",je(M,w))})).apply(this,arguments)}function Pt(M){return void 0!==M&&void 0!==M.getResponse}function kn(M){return void 0!==M&&void 0!==M.enterprise}class ri{constructor(w){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===w.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=w.recaptchaKey.split("/")[3],this.emailPasswordEnabled=w.recaptchaEnforcementState.some(I=>"EMAIL_PASSWORD_PROVIDER"===I.provider&&"OFF"!==I.enforcementState)}}function Zi(M){return new Promise((w,I)=>{const O=document.createElement("script");O.setAttribute("src",M),O.onload=w,O.onerror=$=>{const X=nt("internal-error");X.customData=$,I(X)},O.type="text/javascript",O.charset="UTF-8",function Gi(){var M,w;return null!==(w=null===(M=document.getElementsByTagName("head"))||void 0===M?void 0:M[0])&&void 0!==w?w:document}().appendChild(O)})}function Ji(M){return`__${M}${Math.floor(1e6*Math.random())}`}class Ko{constructor(w){this.type="recaptcha-enterprise",this.auth=Ai(w)}verify(w="verify",I=!1){var O=this;return(0,a.Z)(function*(){function X(){return X=(0,a.Z)(function*(Je){if(!I){if(null==Je.tenantId&&null!=Je._agentRecaptchaConfig)return Je._agentRecaptchaConfig.siteKey;if(null!=Je.tenantId&&void 0!==Je._tenantRecaptchaConfigs[Je.tenantId])return Je._tenantRecaptchaConfigs[Je.tenantId].siteKey}return new Promise(function(){var Ot=(0,a.Z)(function*(Nt,pn){_t(Je,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Wn=>{if(void 0!==Wn.recaptchaKey){const eo=new ri(Wn);return null==Je.tenantId?Je._agentRecaptchaConfig=eo:Je._tenantRecaptchaConfigs[Je.tenantId]=eo,Nt(eo.siteKey)}pn(new Error("recaptcha Enterprise site key undefined"))}).catch(Wn=>{pn(Wn)})});return function(Nt,pn){return Ot.apply(this,arguments)}}())}),X.apply(this,arguments)}function De(Je,Ot,Nt){const pn=window.grecaptcha;kn(pn)?pn.enterprise.ready(()=>{pn.enterprise.execute(Je,{action:w}).then(Wn=>{Ot(Wn)}).catch(()=>{Ot("NO_RECAPTCHA")})}):Nt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Je,Ot)=>{(function $(Je){return X.apply(this,arguments)})(O.auth).then(Nt=>{if(!I&&kn(window.grecaptcha))De(Nt,Je,Ot);else{if(typeof window>"u")return void Ot(new Error("RecaptchaVerifier is only supported in browser"));Zi("https://www.google.com/recaptcha/enterprise.js?render="+Nt).then(()=>{De(Nt,Je,Ot)}).catch(pn=>{Ot(pn)})}}).catch(Nt=>{Ot(Nt)})})})()}}function cs(M,w,I){return _s.apply(this,arguments)}function _s(){return(_s=(0,a.Z)(function*(M,w,I,O=!1){const $=new Ko(M);let X;try{X=yield $.verify(I)}catch{X=yield $.verify(I,!0)}const De=Object.assign({},w);return Object.assign(De,O?{captchaResp:X}:{captchaResponse:X}),Object.assign(De,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(De,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),De})).apply(this,arguments)}class Yo{constructor(w){this.auth=w,this.queue=[]}pushCallback(w,I){const O=X=>new Promise((De,Je)=>{try{De(w(X))}catch(Ot){Je(Ot)}});O.onAbort=I,this.queue.push(O);const $=this.queue.length-1;return()=>{this.queue[$]=()=>Promise.resolve()}}runMiddleware(w){var I=this;return(0,a.Z)(function*(){if(I.auth.currentUser===w)return;const O=[];try{for(const $ of I.queue)yield $(w),$.onAbort&&O.push($.onAbort)}catch($){O.reverse();for(const X of O)try{X()}catch{}throw I.auth._errorFactory.create("login-blocked",{originalMessage:$?.message})}})()}}class qn{constructor(w,I,O,$){this.app=w,this.heartbeatServiceProvider=I,this.appCheckServiceProvider=O,this.config=$,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _o(this),this.idTokenSubscription=new _o(this),this.beforeStateQueue=new Yo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=st,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=w.name,this.clientVersion=$.sdkClientVersion}_initializeWithPersistence(w,I){var O=this;return I&&(this._popupRedirectResolver=pi(I)),this._initializationPromise=this.queue((0,a.Z)(function*(){var $,X;if(!O._deleted&&(O.persistenceManager=yield fe.create(O,w),!O._deleted)){if(null!==($=O._popupRedirectResolver)&&void 0!==$&&$._shouldInitProactively)try{yield O._popupRedirectResolver._initialize(O)}catch{}yield O.initializeCurrentUser(I),O.lastNotifiedUid=(null===(X=O.currentUser)||void 0===X?void 0:X.uid)||null,!O._deleted&&(O._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var w=this;return(0,a.Z)(function*(){if(w._deleted)return;const I=yield w.assertedPersistence.getCurrentUser();if(w.currentUser||I){if(w.currentUser&&I&&w.currentUser.uid===I.uid)return w._currentUser._assign(I),void(yield w.currentUser.getIdToken());yield w._updateCurrentUser(I,!0)}})()}initializeCurrentUser(w){var I=this;return(0,a.Z)(function*(){var O;const $=yield I.assertedPersistence.getCurrentUser();let X=$,De=!1;if(w&&I.config.authDomain){yield I.getOrInitRedirectPersistenceManager();const Je=null===(O=I.redirectUser)||void 0===O?void 0:O._redirectEventId,Ot=X?._redirectEventId,Nt=yield I.tryRedirectSignIn(w);(!Je||Je===Ot)&&Nt?.user&&(X=Nt.user,De=!0)}if(!X)return I.directlySetCurrentUser(null);if(!X._redirectEventId){if(De)try{yield I.beforeStateQueue.runMiddleware(X)}catch(Je){X=$,I._popupRedirectResolver._overrideRedirectResult(I,()=>Promise.reject(Je))}return X?I.reloadAndSetCurrentUserOrClear(X):I.directlySetCurrentUser(null)}return ue(I._popupRedirectResolver,I,"argument-error"),yield I.getOrInitRedirectPersistenceManager(),I.redirectUser&&I.redirectUser._redirectEventId===X._redirectEventId?I.directlySetCurrentUser(X):I.reloadAndSetCurrentUserOrClear(X)})()}tryRedirectSignIn(w){var I=this;return(0,a.Z)(function*(){let O=null;try{O=yield I._popupRedirectResolver._completeRedirectFn(I,w,!0)}catch{yield I._setRedirectUser(null)}return O})()}reloadAndSetCurrentUserOrClear(w){var I=this;return(0,a.Z)(function*(){try{yield Fe(w)}catch(O){if("auth/network-request-failed"!==O?.code)return I.directlySetCurrentUser(null)}return I.directlySetCurrentUser(w)})()}useDeviceLanguage(){this.languageCode=function un(){if(typeof navigator>"u")return null;const M=navigator;return M.languages&&M.languages[0]||M.language||null}()}_delete(){var w=this;return(0,a.Z)(function*(){w._deleted=!0})()}updateCurrentUser(w){var I=this;return(0,a.Z)(function*(){const O=w?(0,U.m9)(w):null;return O&&ue(O.auth.config.apiKey===I.config.apiKey,I,"invalid-user-token"),I._updateCurrentUser(O&&O._clone(I))})()}_updateCurrentUser(w,I=!1){var O=this;return(0,a.Z)(function*(){if(!O._deleted)return w&&ue(O.tenantId===w.tenantId,O,"tenant-id-mismatch"),I||(yield O.beforeStateQueue.runMiddleware(w)),O.queue((0,a.Z)(function*(){yield O.directlySetCurrentUser(w),O.notifyAuthListeners()}))})()}signOut(){var w=this;return(0,a.Z)(function*(){return yield w.beforeStateQueue.runMiddleware(null),(w.redirectPersistenceManager||w._popupRedirectResolver)&&(yield w._setRedirectUser(null)),w._updateCurrentUser(null,!0)})()}setPersistence(w){var I=this;return this.queue((0,a.Z)(function*(){yield I.assertedPersistence.setPersistence(pi(w))}))}initializeRecaptchaConfig(){var w=this;return(0,a.Z)(function*(){const I=yield _t(w,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),O=new ri(I);null==w.tenantId?w._agentRecaptchaConfig=O:w._tenantRecaptchaConfigs[w.tenantId]=O,O.emailPasswordEnabled&&new Ko(w).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(w){this._errorFactory=new U.LL("auth","Firebase",w())}onAuthStateChanged(w,I,O){return this.registerStateListener(this.authStateSubscription,w,I,O)}beforeAuthStateChanged(w,I){return this.beforeStateQueue.pushCallback(w,I)}onIdTokenChanged(w,I,O){return this.registerStateListener(this.idTokenSubscription,w,I,O)}toJSON(){var w;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(w=this._currentUser)||void 0===w?void 0:w.toJSON()}}_setRedirectUser(w,I){var O=this;return(0,a.Z)(function*(){const $=yield O.getOrInitRedirectPersistenceManager(I);return null===w?$.removeCurrentUser():$.setCurrentUser(w)})()}getOrInitRedirectPersistenceManager(w){var I=this;return(0,a.Z)(function*(){if(!I.redirectPersistenceManager){const O=w&&pi(w)||I._popupRedirectResolver;ue(O,I,"argument-error"),I.redirectPersistenceManager=yield fe.create(I,[pi(O._redirectPersistence)],"redirectUser"),I.redirectUser=yield I.redirectPersistenceManager.getCurrentUser()}return I.redirectPersistenceManager})()}_redirectUserForId(w){var I=this;return(0,a.Z)(function*(){var O,$;return I._isInitialized&&(yield I.queue((0,a.Z)(function*(){}))),(null===(O=I._currentUser)||void 0===O?void 0:O._redirectEventId)===w?I._currentUser:(null===($=I.redirectUser)||void 0===$?void 0:$._redirectEventId)===w?I.redirectUser:null})()}_persistUserIfCurrent(w){var I=this;return(0,a.Z)(function*(){if(w===I.currentUser)return I.queue((0,a.Z)(function*(){return I.directlySetCurrentUser(w)}))})()}_notifyListenersIfCurrent(w){w===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var w,I;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const O=null!==(I=null===(w=this.currentUser)||void 0===w?void 0:w.uid)&&void 0!==I?I:null;this.lastNotifiedUid!==O&&(this.lastNotifiedUid=O,this.authStateSubscription.next(this.currentUser))}registerStateListener(w,I,O,$){if(this._deleted)return()=>{};const X="function"==typeof I?I:I.next.bind(I),De=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(De,this,"internal-error"),De.then(()=>X(this.currentUser)),"function"==typeof I?w.addObserver(I,O,$):w.addObserver(I)}directlySetCurrentUser(w){var I=this;return(0,a.Z)(function*(){I.currentUser&&I.currentUser!==w&&I._currentUser._stopProactiveRefresh(),w&&I.isProactiveRefreshEnabled&&w._startProactiveRefresh(),I.currentUser=w,w?yield I.assertedPersistence.setCurrentUser(w):yield I.assertedPersistence.removeCurrentUser()})()}queue(w){return this.operations=this.operations.then(w,w),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(w){!w||this.frameworks.includes(w)||(this.frameworks.push(w),this.frameworks.sort(),this.clientVersion=Zo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var w=this;return(0,a.Z)(function*(){var I;const O={"X-Client-Version":w.clientVersion};w.app.options.appId&&(O["X-Firebase-gmpid"]=w.app.options.appId);const $=yield null===(I=w.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getHeartbeatsHeader();$&&(O["X-Firebase-Client"]=$);const X=yield w._getAppCheckToken();return X&&(O["X-Firebase-AppCheck"]=X),O})()}_getAppCheckToken(){var w=this;return(0,a.Z)(function*(){var I;const O=yield null===(I=w.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getToken();return O?.error&&function at(M,...w){Re.logLevel<=ce.in.WARN&&Re.warn(`Auth (${K.SDK_VERSION}): ${M}`,...w)}(`Error while retrieving App Check token: ${O.error}`),O?.token})()}}function Ai(M){return(0,U.m9)(M)}class _o{constructor(w){this.auth=w,this.observer=null,this.addObserver=(0,U.ne)(I=>this.observer=I)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xa(M,w,I){const O=Ai(M);ue(O._canInitEmulator,O,"emulator-config-failed"),ue(/^https?:\/\//.test(w),O,"invalid-emulator-scheme");const $=!!I?.disableWarnings,X=$r(w),{host:De,port:Je}=function Ns(M){const w=$r(M),I=/(\/\/)?([^?#/]+)/.exec(M.substr(w.length));if(!I)return{host:"",port:null};const O=I[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(O);if($){const X=$[1];return{host:X,port:Ja(O.substr(X.length+1))}}{const[X,De]=O.split(":");return{host:X,port:Ja(De)}}}(w);O.config.emulator={url:`${X}//${De}${null===Je?"":`:${Je}`}/`},O.settings.appVerificationDisabledForTesting=!0,O.emulatorConfig=Object.freeze({host:De,port:Je,protocol:X.replace(":",""),options:Object.freeze({disableWarnings:$})}),$||function Ju(){function M(){const w=document.createElement("p"),I=w.style;w.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",w.classList.add("firebase-emulator-warning"),document.body.appendChild(w)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",M):M())}()}function $r(M){const w=M.indexOf(":");return w<0?"":M.substr(0,w+1)}function Ja(M){if(!M)return null;const w=Number(M);return isNaN(w)?null:w}class na{constructor(w,I){this.providerId=w,this.signInMethod=I}toJSON(){return Ge("not implemented")}_getIdTokenResponse(w){return Ge("not implemented")}_linkToIdToken(w,I){return Ge("not implemented")}_getReauthenticationResolver(w){return Ge("not implemented")}}function wc(M,w){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,a.Z)(function*(M,w){return ct(M,"POST","/v1/accounts:resetPassword",je(M,w))})).apply(this,arguments)}function Fs(M,w){return ia.apply(this,arguments)}function ia(){return(ia=(0,a.Z)(function*(M,w){return ct(M,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function Ro(){return(Ro=(0,a.Z)(function*(M,w){return ct(M,"POST","/v1/accounts:update",je(M,w))})).apply(this,arguments)}function vo(M,w){return yr.apply(this,arguments)}function yr(){return(yr=(0,a.Z)(function*(M,w){return Sn(M,"POST","/v1/accounts:signInWithPassword",je(M,w))})).apply(this,arguments)}function ec(M,w){return ra.apply(this,arguments)}function ra(){return(ra=(0,a.Z)(function*(M,w){return ct(M,"POST","/v1/accounts:sendOobCode",je(M,w))})).apply(this,arguments)}function xc(){return(xc=(0,a.Z)(function*(M,w){return ec(M,w)})).apply(this,arguments)}function oa(M,w){return vs.apply(this,arguments)}function vs(){return(vs=(0,a.Z)(function*(M,w){return ec(M,w)})).apply(this,arguments)}function tc(M,w){return jn.apply(this,arguments)}function jn(){return(jn=(0,a.Z)(function*(M,w){return ec(M,w)})).apply(this,arguments)}function br(){return(br=(0,a.Z)(function*(M,w){return ec(M,w)})).apply(this,arguments)}function wr(){return(wr=(0,a.Z)(function*(M,w){return Sn(M,"POST","/v1/accounts:signInWithEmailLink",je(M,w))})).apply(this,arguments)}function Ic(){return(Ic=(0,a.Z)(function*(M,w){return Sn(M,"POST","/v1/accounts:signInWithEmailLink",je(M,w))})).apply(this,arguments)}class No extends na{constructor(w,I,O,$=null){super("password",O),this._email=w,this._password=I,this._tenantId=$}static _fromEmailAndPassword(w,I){return new No(w,I,"password")}static _fromEmailAndCode(w,I,O=null){return new No(w,I,"emailLink",O)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(w){const I="string"==typeof w?JSON.parse(w):w;if(I?.email&&I?.password){if("password"===I.signInMethod)return this._fromEmailAndPassword(I.email,I.password);if("emailLink"===I.signInMethod)return this._fromEmailAndCode(I.email,I.password,I.tenantId)}return null}_getIdTokenResponse(w){var I=this;return(0,a.Z)(function*(){var O;switch(I.signInMethod){case"password":const $={returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(O=w._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const X=yield cs(w,$,"signInWithPassword");return vo(w,X)}return vo(w,$).catch(function(){var X=(0,a.Z)(function*(De){if("auth/missing-recaptcha-token"===De.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Je=yield cs(w,$,"signInWithPassword");return vo(w,Je)}return Promise.reject(De)});return function(De){return X.apply(this,arguments)}}());case"emailLink":return function Sa(M,w){return wr.apply(this,arguments)}(w,{email:I._email,oobCode:I._password});default:xe(w,"internal-error")}})()}_linkToIdToken(w,I){var O=this;return(0,a.Z)(function*(){switch(O.signInMethod){case"password":return Fs(w,{idToken:I,returnSecureToken:!0,email:O._email,password:O._password});case"emailLink":return function Ec(M,w){return Ic.apply(this,arguments)}(w,{idToken:I,email:O._email,oobCode:O._password});default:xe(w,"internal-error")}})()}_getReauthenticationResolver(w){return this._getIdTokenResponse(w)}}function Ls(M,w){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,a.Z)(function*(M,w){return Sn(M,"POST","/v1/accounts:signInWithIdp",je(M,w))})).apply(this,arguments)}class Et extends na{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(w){const I=new Et(w.providerId,w.signInMethod);return w.idToken||w.accessToken?(w.idToken&&(I.idToken=w.idToken),w.accessToken&&(I.accessToken=w.accessToken),w.nonce&&!w.pendingToken&&(I.nonce=w.nonce),w.pendingToken&&(I.pendingToken=w.pendingToken)):w.oauthToken&&w.oauthTokenSecret?(I.accessToken=w.oauthToken,I.secret=w.oauthTokenSecret):xe("argument-error"),I}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(w){const I="string"==typeof w?JSON.parse(w):w,{providerId:O,signInMethod:$}=I,X=(0,pe._T)(I,["providerId","signInMethod"]);if(!O||!$)return null;const De=new Et(O,$);return De.idToken=X.idToken||void 0,De.accessToken=X.accessToken||void 0,De.secret=X.secret,De.nonce=X.nonce,De.pendingToken=X.pendingToken||null,De}_getIdTokenResponse(w){return Ls(w,this.buildRequest())}_linkToIdToken(w,I){const O=this.buildRequest();return O.idToken=I,Ls(w,O)}_getReauthenticationResolver(w){const I=this.buildRequest();return I.autoCreate=!1,Ls(w,I)}buildRequest(){const w={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)w.pendingToken=this.pendingToken;else{const I={};this.idToken&&(I.id_token=this.idToken),this.accessToken&&(I.access_token=this.accessToken),this.secret&&(I.oauth_token_secret=this.secret),I.providerId=this.providerId,this.nonce&&!this.pendingToken&&(I.nonce=this.nonce),w.postBody=(0,U.xO)(I)}return w}}function Ei(){return(Ei=(0,a.Z)(function*(M,w){return ct(M,"POST","/v1/accounts:sendVerificationCode",je(M,w))})).apply(this,arguments)}function Us(){return(Us=(0,a.Z)(function*(M,w){return Sn(M,"POST","/v1/accounts:signInWithPhoneNumber",je(M,w))})).apply(this,arguments)}function Qo(){return(Qo=(0,a.Z)(function*(M,w){const I=yield Sn(M,"POST","/v1/accounts:signInWithPhoneNumber",je(M,w));if(I.temporaryProof)throw tn(M,"account-exists-with-different-credential",I);return I})).apply(this,arguments)}const Pi={USER_NOT_FOUND:"user-not-found"};function Xo(){return(Xo=(0,a.Z)(function*(M,w){return Sn(M,"POST","/v1/accounts:signInWithPhoneNumber",je(M,Object.assign(Object.assign({},w),{operation:"REAUTH"})),Pi)})).apply(this,arguments)}class on extends na{constructor(w){super("phone","phone"),this.params=w}static _fromVerification(w,I){return new on({verificationId:w,verificationCode:I})}static _fromTokenResponse(w,I){return new on({phoneNumber:w,temporaryProof:I})}_getIdTokenResponse(w){return function so(M,w){return Us.apply(this,arguments)}(w,this._makeVerificationRequest())}_linkToIdToken(w,I){return function Bn(M,w){return Qo.apply(this,arguments)}(w,Object.assign({idToken:I},this._makeVerificationRequest()))}_getReauthenticationResolver(w){return function sa(M,w){return Xo.apply(this,arguments)}(w,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:w,phoneNumber:I,verificationId:O,verificationCode:$}=this.params;return w&&I?{temporaryProof:w,phoneNumber:I}:{sessionInfo:O,code:$}}toJSON(){const w={providerId:this.providerId};return this.params.phoneNumber&&(w.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(w.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(w.verificationCode=this.params.verificationCode),this.params.verificationId&&(w.verificationId=this.params.verificationId),w}static fromJSON(w){"string"==typeof w&&(w=JSON.parse(w));const{verificationId:I,verificationCode:O,phoneNumber:$,temporaryProof:X}=w;return O||I||$||X?new on({verificationId:I,verificationCode:O,phoneNumber:$,temporaryProof:X}):null}}class Cr{constructor(w){var I,O,$,X,De,Je;const Ot=(0,U.zd)((0,U.pd)(w)),Nt=null!==(I=Ot.apiKey)&&void 0!==I?I:null,pn=null!==(O=Ot.oobCode)&&void 0!==O?O:null,Wn=function qr(M){switch(M){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=Ot.mode)&&void 0!==$?$:null);ue(Nt&&pn&&Wn,"argument-error"),this.apiKey=Nt,this.operation=Wn,this.code=pn,this.continueUrl=null!==(X=Ot.continueUrl)&&void 0!==X?X:null,this.languageCode=null!==(De=Ot.languageCode)&&void 0!==De?De:null,this.tenantId=null!==(Je=Ot.tenantId)&&void 0!==Je?Je:null}static parseLink(w){const I=function Ll(M){const w=(0,U.zd)((0,U.pd)(M)).link,I=w?(0,U.zd)((0,U.pd)(w)).deep_link_id:null,O=(0,U.zd)((0,U.pd)(M)).deep_link_id;return(O?(0,U.zd)((0,U.pd)(O)).link:null)||O||I||w||M}(w);try{return new Cr(I)}catch{return null}}}let ys=(()=>{class M{constructor(){this.providerId=M.PROVIDER_ID}static credential(I,O){return No._fromEmailAndPassword(I,O)}static credentialWithLink(I,O){const $=Cr.parseLink(O);return ue($,"argument-error"),No._fromEmailAndCode(I,$.code,$.tenantId)}}return M.PROVIDER_ID="password",M.EMAIL_PASSWORD_SIGN_IN_METHOD="password",M.EMAIL_LINK_SIGN_IN_METHOD="emailLink",M})();class Fo{constructor(w){this.providerId=w,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(w){this.defaultLanguageCode=w}setCustomParameters(w){return this.customParameters=w,this}getCustomParameters(){return this.customParameters}}class Er extends Fo{constructor(){super(...arguments),this.scopes=[]}addScope(w){return this.scopes.includes(w)||this.scopes.push(w),this}getScopes(){return[...this.scopes]}}class Ir extends Er{static credentialFromJSON(w){const I="string"==typeof w?JSON.parse(w):w;return ue("providerId"in I&&"signInMethod"in I,"argument-error"),Et._fromParams(I)}credential(w){return this._credential(Object.assign(Object.assign({},w),{nonce:w.rawNonce}))}_credential(w){return ue(w.idToken||w.accessToken,"argument-error"),Et._fromParams(Object.assign(Object.assign({},w),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(w){return Ir.oauthCredentialFromTaggedObject(w)}static credentialFromError(w){return Ir.oauthCredentialFromTaggedObject(w.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:I,oauthAccessToken:O,oauthTokenSecret:$,pendingToken:X,nonce:De,providerId:Je}=w;if(!O&&!$&&!I&&!X||!Je)return null;try{return new Ir(Je)._credential({idToken:I,accessToken:O,nonce:De,pendingToken:X})}catch{return null}}}let aa=(()=>{class M extends Er{constructor(){super("facebook.com")}static credential(I){return Et._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.FACEBOOK_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return M.credentialFromTaggedObject(I)}static credentialFromError(I){return M.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return M.credential(I.oauthAccessToken)}catch{return null}}}return M.FACEBOOK_SIGN_IN_METHOD="facebook.com",M.PROVIDER_ID="facebook.com",M})(),Da=(()=>{class M extends Er{constructor(){super("google.com"),this.addScope("profile")}static credential(I,O){return Et._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.GOOGLE_SIGN_IN_METHOD,idToken:I,accessToken:O})}static credentialFromResult(I){return M.credentialFromTaggedObject(I)}static credentialFromError(I){return M.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthIdToken:O,oauthAccessToken:$}=I;if(!O&&!$)return null;try{return M.credential(O,$)}catch{return null}}}return M.GOOGLE_SIGN_IN_METHOD="google.com",M.PROVIDER_ID="google.com",M})(),Vi=(()=>{class M extends Er{constructor(){super("github.com")}static credential(I){return Et._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.GITHUB_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return M.credentialFromTaggedObject(I)}static credentialFromError(I){return M.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return M.credential(I.oauthAccessToken)}catch{return null}}}return M.GITHUB_SIGN_IN_METHOD="github.com",M.PROVIDER_ID="github.com",M})();class Gr extends na{constructor(w,I){super(w,w),this.pendingToken=I}_getIdTokenResponse(w){return Ls(w,this.buildRequest())}_linkToIdToken(w,I){const O=this.buildRequest();return O.idToken=I,Ls(w,O)}_getReauthenticationResolver(w){const I=this.buildRequest();return I.autoCreate=!1,Ls(w,I)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(w){const I="string"==typeof w?JSON.parse(w):w,{providerId:O,signInMethod:$,pendingToken:X}=I;return O&&$&&X&&O===$?new Gr(O,X):null}static _create(w,I){return new Gr(w,I)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Sc extends Fo{constructor(w){ue(w.startsWith("saml."),"argument-error"),super(w)}static credentialFromResult(w){return Sc.samlCredentialFromTaggedObject(w)}static credentialFromError(w){return Sc.samlCredentialFromTaggedObject(w.customData||{})}static credentialFromJSON(w){const I=Gr.fromJSON(w);return ue(I,"argument-error"),I}static samlCredentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{pendingToken:I,providerId:O}=w;if(!I||!O)return null;try{return Gr._create(O,I)}catch{return null}}}let gu=(()=>{class M extends Er{constructor(){super("twitter.com")}static credential(I,O){return Et._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.TWITTER_SIGN_IN_METHOD,oauthToken:I,oauthTokenSecret:O})}static credentialFromResult(I){return M.credentialFromTaggedObject(I)}static credentialFromError(I){return M.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthAccessToken:O,oauthTokenSecret:$}=I;if(!O||!$)return null;try{return M.credential(O,$)}catch{return null}}}return M.TWITTER_SIGN_IN_METHOD="twitter.com",M.PROVIDER_ID="twitter.com",M})();function Ma(M,w){return kr.apply(this,arguments)}function kr(){return(kr=(0,a.Z)(function*(M,w){return Sn(M,"POST","/v1/accounts:signUp",je(M,w))})).apply(this,arguments)}class rr{constructor(w){this.user=w.user,this.providerId=w.providerId,this._tokenResponse=w._tokenResponse,this.operationType=w.operationType}static _fromIdTokenResponse(w,I,O,$=!1){return(0,a.Z)(function*(){const X=yield $n._fromIdTokenResponse(w,O,$),De=Wr(O);return new rr({user:X,providerId:De,_tokenResponse:O,operationType:I})})()}static _forOperation(w,I,O){return(0,a.Z)(function*(){yield w._updateTokensIfNecessary(O,!0);const $=Wr(O);return new rr({user:w,providerId:$,_tokenResponse:O,operationType:I})})()}}function Wr(M){return M.providerId?M.providerId:"phoneNumber"in M?"phone":null}function ca(M){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,a.Z)(function*(M){var w;const I=Ai(M);if(yield I._initializationPromise,null!==(w=I.currentUser)&&void 0!==w&&w.isAnonymous)return new rr({user:I.currentUser,providerId:null,operationType:"signIn"});const O=yield Ma(I,{returnSecureToken:!0}),$=yield rr._fromIdTokenResponse(I,"signIn",O,!0);return yield I._updateCurrentUser($.user),$})).apply(this,arguments)}class sl extends U.ZR{constructor(w,I,O,$){var X;super(I.code,I.message),this.operationType=O,this.user=$,Object.setPrototypeOf(this,sl.prototype),this.customData={appName:w.name,tenantId:null!==(X=w.tenantId)&&void 0!==X?X:void 0,_serverResponse:I.customData._serverResponse,operationType:O}}static _fromErrorAndOperation(w,I,O,$){return new sl(w,I,O,$)}}function Zr(M,w,I,O){return("reauthenticate"===w?I._getReauthenticationResolver(M):I._getIdTokenResponse(M)).catch(X=>{throw"auth/multi-factor-auth-required"===X.code?sl._fromErrorAndOperation(M,X,w,O):X})}function Tr(M){return new Set(M.map(({providerId:w})=>w).filter(w=>!!w))}function al(M,w){return Or.apply(this,arguments)}function Or(){return Or=(0,a.Z)(function*(M,w){const I=(0,U.m9)(M);yield la(!0,I,w);const{providerUserInfo:O}=yield function cn(M,w){return Fn.apply(this,arguments)}(I.auth,{idToken:yield I.getIdToken(),deleteProvider:[w]}),$=Tr(O||[]);return I.providerData=I.providerData.filter(X=>$.has(X.providerId)),$.has("phone")||(I.phoneNumber=null),yield I.auth._persistUserIfCurrent(I),I}),Or.apply(this,arguments)}function Kr(M,w){return di.apply(this,arguments)}function di(){return(di=(0,a.Z)(function*(M,w,I=!1){const O=yield zt(M,w._linkToIdToken(M.auth,yield M.getIdToken()),I);return rr._forOperation(M,"link",O)})).apply(this,arguments)}function la(M,w,I){return oi.apply(this,arguments)}function oi(){return(oi=(0,a.Z)(function*(M,w,I){yield Fe(w);const $=!1===M?"provider-already-linked":"no-such-provider";ue(Tr(w.providerData).has(I)===M,w.auth,$)})).apply(this,arguments)}function Pr(M,w){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,a.Z)(function*(M,w,I=!1){const{auth:O}=M,$="reauthenticate";try{const X=yield zt(M,Zr(O,$,w,M),I);ue(X.idToken,O,"internal-error");const De=Yt(X.idToken);ue(De,O,"internal-error");const{sub:Je}=De;return ue(M.uid===Je,O,"user-mismatch"),rr._forOperation(M,$,X)}catch(X){throw"auth/user-not-found"===X?.code&&xe(O,"user-mismatch"),X}})).apply(this,arguments)}function bs(M,w){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,a.Z)(function*(M,w,I=!1){const O="signIn",$=yield Zr(M,O,w),X=yield rr._fromIdTokenResponse(M,O,$);return I||(yield M._updateCurrentUser(X.user)),X})).apply(this,arguments)}function Aa(M,w){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,a.Z)(function*(M,w){return bs(Ai(M),w)})).apply(this,arguments)}function nc(M,w){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,a.Z)(function*(M,w){const I=(0,U.m9)(M);return yield la(!1,I,w.providerId),Kr(I,w)})).apply(this,arguments)}function mi(M,w){return _u.apply(this,arguments)}function _u(){return(_u=(0,a.Z)(function*(M,w){return Pr((0,U.m9)(M),w)})).apply(this,arguments)}function Uo(){return(Uo=(0,a.Z)(function*(M,w){return Sn(M,"POST","/v1/accounts:signInWithCustomToken",je(M,w))})).apply(this,arguments)}function Qd(M,w){return ic.apply(this,arguments)}function ic(){return ic=(0,a.Z)(function*(M,w){const I=Ai(M),O=yield function Ac(M,w){return Uo.apply(this,arguments)}(I,{token:w,returnSecureToken:!0}),$=yield rr._fromIdTokenResponse(I,"signIn",O);return yield I._updateCurrentUser($.user),$}),ic.apply(this,arguments)}class yo{constructor(w,I){this.factorId=w,this.uid=I.mfaEnrollmentId,this.enrollmentTime=new Date(I.enrolledAt).toUTCString(),this.displayName=I.displayName}static _fromServerResponse(w,I){return"phoneInfo"in I?rc._fromServerResponse(w,I):"totpInfo"in I?ua._fromServerResponse(w,I):xe(w,"internal-error")}}class rc extends yo{constructor(w){super("phone",w),this.phoneNumber=w.phoneInfo}static _fromServerResponse(w,I){return new rc(I)}}class ua extends yo{constructor(w){super("totp",w)}static _fromServerResponse(w,I){return new ua(I)}}function ws(M,w,I){var O;ue((null===(O=I.url)||void 0===O?void 0:O.length)>0,M,"invalid-continue-uri"),ue(typeof I.dynamicLinkDomain>"u"||I.dynamicLinkDomain.length>0,M,"invalid-dynamic-link-domain"),w.continueUrl=I.url,w.dynamicLinkDomain=I.dynamicLinkDomain,w.canHandleCodeInApp=I.handleCodeInApp,I.iOS&&(ue(I.iOS.bundleId.length>0,M,"missing-ios-bundle-id"),w.iOSBundleId=I.iOS.bundleId),I.android&&(ue(I.android.packageName.length>0,M,"missing-android-pkg-name"),w.androidInstallApp=I.android.installApp,w.androidMinimumVersionCode=I.android.minimumVersion,w.androidPackageName=I.android.packageName)}function Bl(M,w,I){return vu.apply(this,arguments)}function vu(){return vu=(0,a.Z)(function*(M,w,I){var O;const $=Ai(M),X={requestType:"PASSWORD_RESET",email:w,clientType:"CLIENT_TYPE_WEB"};if(null!==(O=$._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const De=yield cs($,X,"getOobCode",!0);I&&ws($,De,I),yield oa($,De)}else I&&ws($,X,I),yield oa($,X).catch(function(){var De=(0,a.Z)(function*(Je){if("auth/missing-recaptcha-token"!==Je.code)return Promise.reject(Je);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ot=yield cs($,X,"getOobCode",!0);I&&ws($,Ot,I),yield oa($,Ot)}});return function(Je){return De.apply(this,arguments)}}())}),vu.apply(this,arguments)}function Rr(M,w,I){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,a.Z)(function*(M,w,I){yield wc((0,U.m9)(M),{oobCode:w,newPassword:I})})).apply(this,arguments)}function da(M,w){return kc.apply(this,arguments)}function kc(){return kc=(0,a.Z)(function*(M,w){yield function ol(M,w){return Ro.apply(this,arguments)}((0,U.m9)(M),{oobCode:w})}),kc.apply(this,arguments)}function Vo(M,w){return ur.apply(this,arguments)}function ur(){return(ur=(0,a.Z)(function*(M,w){const I=(0,U.m9)(M),O=yield wc(I,{oobCode:w}),$=O.requestType;switch(ue($,I,"internal-error"),$){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ue(O.newEmail,I,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ue(O.mfaInfo,I,"internal-error");default:ue(O.email,I,"internal-error")}let X=null;return O.mfaInfo&&(X=yo._fromServerResponse(Ai(I),O.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.newEmail:O.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.email:O.newEmail)||null,multiFactorInfo:X},operation:$}})).apply(this,arguments)}function ka(M,w){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,a.Z)(function*(M,w){const{data:I}=yield Vo((0,U.m9)(M),w);return I.email})).apply(this,arguments)}function Oc(M,w,I){return bo.apply(this,arguments)}function bo(){return bo=(0,a.Z)(function*(M,w,I){var O;const $=Ai(M),X={returnSecureToken:!0,email:w,password:I,clientType:"CLIENT_TYPE_WEB"};let De;if(null!==(O=$._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const Nt=yield cs($,X,"signUpPassword");De=Ma($,Nt)}else De=Ma($,X).catch(function(){var Nt=(0,a.Z)(function*(pn){if("auth/missing-recaptcha-token"===pn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Wn=yield cs($,X,"signUpPassword");return Ma($,Wn)}return Promise.reject(pn)});return function(pn){return Nt.apply(this,arguments)}}());const Je=yield De.catch(Nt=>Promise.reject(Nt)),Ot=yield rr._fromIdTokenResponse($,"signIn",Je);return yield $._updateCurrentUser(Ot.user),Ot}),bo.apply(this,arguments)}function oc(M,w,I){return Aa((0,U.m9)(M),ys.credential(w,I))}function jl(M,w,I){return Bs.apply(this,arguments)}function Bs(){return Bs=(0,a.Z)(function*(M,w,I){var O;const $=Ai(M),X={requestType:"EMAIL_SIGNIN",email:w,clientType:"CLIENT_TYPE_WEB"};function De(Je,Ot){ue(Ot.handleCodeInApp,$,"argument-error"),Ot&&ws($,Je,Ot)}if(null!==(O=$._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const Je=yield cs($,X,"getOobCode",!0);De(Je,I),yield tc($,Je)}else De(X,I),yield tc($,X).catch(function(){var Je=(0,a.Z)(function*(Ot){if("auth/missing-recaptcha-token"!==Ot.code)return Promise.reject(Ot);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Nt=yield cs($,X,"getOobCode",!0);De(Nt,I),yield tc($,Nt)}});return function(Ot){return Je.apply(this,arguments)}}())}),Bs.apply(this,arguments)}function ha(M,w){const I=Cr.parseLink(w);return"EMAIL_SIGNIN"===I?.operation}function cl(M,w,I){return yi.apply(this,arguments)}function yi(){return(yi=(0,a.Z)(function*(M,w,I){const O=(0,U.m9)(M),$=ys.credentialWithLink(w,I||Ct());return ue($._tenantId===(O.tenantId||null),O,"tenant-id-mismatch"),Aa(O,$)})).apply(this,arguments)}function Oa(){return(Oa=(0,a.Z)(function*(M,w){return ct(M,"POST","/v1/accounts:createAuthUri",je(M,w))})).apply(this,arguments)}function It(M,w){return Jo.apply(this,arguments)}function Jo(){return Jo=(0,a.Z)(function*(M,w){const O={identifier:w,continueUri:ot()?Ct():"http://localhost"},{signinMethods:$}=yield function Bo(M,w){return Oa.apply(this,arguments)}((0,U.m9)(M),O);return $||[]}),Jo.apply(this,arguments)}function Pc(M,w){return wo.apply(this,arguments)}function wo(){return wo=(0,a.Z)(function*(M,w){const I=(0,U.m9)(M),$={requestType:"VERIFY_EMAIL",idToken:yield M.getIdToken()};w&&ws(I.auth,$,w);const{email:X}=yield function er(M,w){return xc.apply(this,arguments)}(I.auth,$);X!==M.email&&(yield M.reload())}),wo.apply(this,arguments)}function js(M,w,I){return Rc.apply(this,arguments)}function Rc(){return Rc=(0,a.Z)(function*(M,w,I){const O=(0,U.m9)(M),X={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield M.getIdToken(),newEmail:w};I&&ws(O.auth,X,I);const{email:De}=yield function Ui(M,w){return br.apply(this,arguments)}(O.auth,X);De!==M.email&&(yield M.reload())}),Rc.apply(this,arguments)}function Pa(){return(Pa=(0,a.Z)(function*(M,w){return ct(M,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function C(M,w){return N.apply(this,arguments)}function N(){return N=(0,a.Z)(function*(M,{displayName:w,photoURL:I}){if(void 0===w&&void 0===I)return;const O=(0,U.m9)(M),X={idToken:yield O.getIdToken(),displayName:w,photoUrl:I,returnSecureToken:!0},De=yield zt(O,function ed(M,w){return Pa.apply(this,arguments)}(O.auth,X));O.displayName=De.displayName||null,O.photoURL=De.photoUrl||null;const Je=O.providerData.find(({providerId:Ot})=>"password"===Ot);Je&&(Je.displayName=O.displayName,Je.photoURL=O.photoURL),yield O._updateTokensIfNecessary(De)}),N.apply(this,arguments)}function j(M,w){return ve((0,U.m9)(M),w,null)}function ee(M,w){return ve((0,U.m9)(M),null,w)}function ve(M,w,I){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,a.Z)(function*(M,w,I){const{auth:O}=M,X={idToken:yield M.getIdToken(),returnSecureToken:!0};w&&(X.email=w),I&&(X.password=I);const De=yield zt(M,Fs(O,X));yield M._updateTokensIfNecessary(De,!0)})).apply(this,arguments)}class Gn{constructor(w,I,O={}){this.isNewUser=w,this.providerId=I,this.profile=O}}class ti extends Gn{constructor(w,I,O,$){super(w,I,O),this.username=$}}class dr extends Gn{constructor(w,I){super(w,"facebook.com",I)}}class Co extends ti{constructor(w,I){super(w,"github.com",I,"string"==typeof I?.login?I?.login:null)}}class es extends Gn{constructor(w,I){super(w,"google.com",I)}}class Nc extends ti{constructor(w,I,O){super(w,"twitter.com",I,O)}}function zs(M){const{user:w,_tokenResponse:I}=M;return w.isAnonymous&&!I?{providerId:null,isNewUser:!1,profile:null}:function Rt(M){var w,I;if(!M)return null;const{providerId:O}=M,$=M.rawUserInfo?JSON.parse(M.rawUserInfo):{},X=M.isNewUser||"identitytoolkit#SignupNewUserResponse"===M.kind;if(!O&&M?.idToken){const De=null===(I=null===(w=Yt(M.idToken))||void 0===w?void 0:w.firebase)||void 0===I?void 0:I.sign_in_provider;if(De)return new Gn(X,"anonymous"!==De&&"custom"!==De?De:null)}if(!O)return null;switch(O){case"facebook.com":return new dr(X,$);case"github.com":return new Co(X,$);case"google.com":return new es(X,$);case"twitter.com":return new Nc(X,$,M.screenName||null);case"custom":case"anonymous":return new Gn(X,null);default:return new Gn(X,O,$)}}(I)}function Eo(M,w,I,O){return(0,U.m9)(M).onIdTokenChanged(w,I,O)}function zh(M,w,I,O){return(0,U.m9)(M).onAuthStateChanged(w,I,O)}class Cs{constructor(w,I,O){this.type=w,this.credential=I,this.auth=O}static _fromIdtoken(w,I){return new Cs("enroll",w,I)}static _fromMfaPendingCredential(w){return new Cs("signin",w)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(w){var I,O;if(w?.multiFactorSession){if(null!==(I=w.multiFactorSession)&&void 0!==I&&I.pendingCredential)return Cs._fromMfaPendingCredential(w.multiFactorSession.pendingCredential);if(null!==(O=w.multiFactorSession)&&void 0!==O&&O.idToken)return Cs._fromIdtoken(w.multiFactorSession.idToken)}return null}}class Fc{constructor(w,I,O){this.session=w,this.hints=I,this.signInResolver=O}static _fromError(w,I){const O=Ai(w),$=I.customData._serverResponse,X=($.mfaInfo||[]).map(Je=>yo._fromServerResponse(O,Je));ue($.mfaPendingCredential,O,"internal-error");const De=Cs._fromMfaPendingCredential($.mfaPendingCredential);return new Fc(De,X,function(){var Je=(0,a.Z)(function*(Ot){const Nt=yield Ot._process(O,De);delete $.mfaInfo,delete $.mfaPendingCredential;const pn=Object.assign(Object.assign({},$),{idToken:Nt.idToken,refreshToken:Nt.refreshToken});switch(I.operationType){case"signIn":const Wn=yield rr._fromIdTokenResponse(O,I.operationType,pn);return yield O._updateCurrentUser(Wn.user),Wn;case"reauthenticate":return ue(I.user,O,"internal-error"),rr._forOperation(I.user,I.operationType,pn);default:xe(O,"internal-error")}});return function(Ot){return Je.apply(this,arguments)}}())}resolveSignIn(w){var I=this;return(0,a.Z)(function*(){return I.signInResolver(w)})()}}function ul(M,w){var I;const O=(0,U.m9)(M),$=w;return ue(w.customData.operationType,O,"argument-error"),ue(null===(I=$.customData._serverResponse)||void 0===I?void 0:I.mfaPendingCredential,O,"argument-error"),Fc._fromError(O,$)}class wu{constructor(w){this.user=w,this.enrolledFactors=[],w._onReload(I=>{I.mfaInfo&&(this.enrolledFactors=I.mfaInfo.map(O=>yo._fromServerResponse(w.auth,O)))})}static _fromUser(w){return new wu(w)}getSession(){var w=this;return(0,a.Z)(function*(){return Cs._fromIdtoken(yield w.user.getIdToken(),w.user.auth)})()}enroll(w,I){var O=this;return(0,a.Z)(function*(){const $=w,X=yield O.getSession(),De=yield zt(O.user,$._process(O.user.auth,X,I));return yield O.user._updateTokensIfNecessary(De),O.user.reload()})()}unenroll(w){var I=this;return(0,a.Z)(function*(){const O="string"==typeof w?w:w.uid,$=yield I.user.getIdToken();try{const X=yield zt(I.user,function Xd(M,w){return ct(M,"POST","/v2/accounts/mfaEnrollment:withdraw",je(M,w))}(I.user.auth,{idToken:$,mfaEnrollmentId:O}));I.enrolledFactors=I.enrolledFactors.filter(({uid:De})=>De!==O),yield I.user._updateTokensIfNecessary(X),yield I.user.reload()}catch(X){throw X}})()}}const Ii=new WeakMap;function dl(M){const w=(0,U.m9)(M);return Ii.has(w)||Ii.set(w,wu._fromUser(w)),Ii.get(w)}const Ra="__sak";class jo{constructor(w,I){this.storageRetriever=w,this.type=I}_isAvailable(){try{return this.storage?(this.storage.setItem(Ra,"1"),this.storage.removeItem(Ra),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(w,I){return this.storage.setItem(w,JSON.stringify(I)),Promise.resolve()}_get(w){const I=this.storage.getItem(w);return Promise.resolve(I?JSON.parse(I):null)}_remove(w){return this.storage.removeItem(w),Promise.resolve()}get storage(){return this.storageRetriever()}}const eh=(()=>{class M extends jo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(I,O)=>this.onStorageEvent(I,O),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qr(){const M=(0,U.z$)();return te(M)||Vt(M)}()&&function vr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Rn(),this._shouldAllowMigration=!0}forAllChangedKeys(I){for(const O of Object.keys(this.listeners)){const $=this.storage.getItem(O),X=this.localCache[O];$!==X&&I(O,X,$)}}onStorageEvent(I,O=!1){if(!I.key)return void this.forAllChangedKeys((Je,Ot,Nt)=>{this.notifyListeners(Je,Nt)});const $=I.key;if(O?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Je=this.storage.getItem($);if(I.newValue!==Je)null!==I.newValue?this.storage.setItem($,I.newValue):this.storage.removeItem($);else if(this.localCache[$]===I.newValue&&!O)return}const X=()=>{const Je=this.storage.getItem($);!O&&this.localCache[$]===Je||this.notifyListeners($,Je)},De=this.storage.getItem($);!function ai(){return(0,U.w1)()&&10===document.documentMode}()||De===I.newValue||I.newValue===I.oldValue?X():setTimeout(X,10)}notifyListeners(I,O){this.localCache[I]=O;const $=this.listeners[I];if($)for(const X of Array.from($))X(O&&JSON.parse(O))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((I,O,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:I,oldValue:O,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(I,O){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[I]||(this.listeners[I]=new Set,this.localCache[I]=this.storage.getItem(I)),this.listeners[I].add(O)}_removeListener(I,O){this.listeners[I]&&(this.listeners[I].delete(O),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(I,O){var $=()=>super._set,X=this;return(0,a.Z)(function*(){yield $().call(X,I,O),X.localCache[I]=JSON.stringify(O)})()}_get(I){var O=()=>super._get,$=this;return(0,a.Z)(function*(){const X=yield O().call($,I);return $.localCache[I]=JSON.stringify(X),X})()}_remove(I){var O=()=>super._remove,$=this;return(0,a.Z)(function*(){yield O().call($,I),delete $.localCache[I]})()}}return M.type="LOCAL",M})(),Hs=(()=>{class M extends jo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(I,O){}_removeListener(I,O){}}return M.type="SESSION",M})();let nh=(()=>{class M{constructor(I){this.eventTarget=I,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(I){const O=this.receivers.find(X=>X.isListeningto(I));if(O)return O;const $=new M(I);return this.receivers.push($),$}isListeningto(I){return this.eventTarget===I}handleEvent(I){var O=this;return(0,a.Z)(function*(){const $=I,{eventId:X,eventType:De,data:Je}=$.data,Ot=O.handlersMap[De];if(!Ot?.size)return;$.ports[0].postMessage({status:"ack",eventId:X,eventType:De});const Nt=Array.from(Ot).map(function(){var Wn=(0,a.Z)(function*(eo){return eo($.origin,Je)});return function(eo){return Wn.apply(this,arguments)}}()),pn=yield function fl(M){return Promise.all(M.map(function(){var w=(0,a.Z)(function*(I){try{return{fulfilled:!0,value:yield I}}catch(O){return{fulfilled:!1,reason:O}}});return function(I){return w.apply(this,arguments)}}()))}(Nt);$.ports[0].postMessage({status:"done",eventId:X,eventType:De,response:pn})})()}_subscribe(I,O){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[I]||(this.handlersMap[I]=new Set),this.handlersMap[I].add(O)}_unsubscribe(I,O){this.handlersMap[I]&&O&&this.handlersMap[I].delete(O),(!O||0===this.handlersMap[I].size)&&delete this.handlersMap[I],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return M.receivers=[],M})();function Lc(M="",w=10){let I="";for(let O=0;O<w;O++)I+=Math.floor(10*Math.random());return M+I}class $h{constructor(w){this.target=w,this.handlers=new Set}removeMessageHandler(w){w.messageChannel&&(w.messageChannel.port1.removeEventListener("message",w.onMessage),w.messageChannel.port1.close()),this.handlers.delete(w)}_send(w,I,O=50){var $=this;return(0,a.Z)(function*(){const X=typeof MessageChannel<"u"?new MessageChannel:null;if(!X)throw new Error("connection_unavailable");let De,Je;return new Promise((Ot,Nt)=>{const pn=Lc("",20);X.port1.start();const Wn=setTimeout(()=>{Nt(new Error("unsupported_event"))},O);Je={messageChannel:X,onMessage(eo){const ga=eo;if(ga.data.eventId===pn)switch(ga.data.status){case"ack":clearTimeout(Wn),De=setTimeout(()=>{Nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(De),Ot(ga.data.response);break;default:clearTimeout(Wn),clearTimeout(De),Nt(new Error("invalid_response"))}}},$.handlers.add(Je),X.port1.addEventListener("message",Je.onMessage),$.target.postMessage({eventType:w,eventId:pn,data:I},[X.port2])}).finally(()=>{Je&&$.removeMessageHandler(Je)})})()}}function Vr(){return window}function Cu(){return typeof Vr().WorkerGlobalScope<"u"&&"function"==typeof Vr().importScripts}function Uc(){return(Uc=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Br="firebaseLocalStorageDb",Wi="firebaseLocalStorage",Es="fbase_key";class Vc{constructor(w){this.request=w}toPromise(){return new Promise((w,I)=>{this.request.addEventListener("success",()=>{w(this.request.result)}),this.request.addEventListener("error",()=>{I(this.request.error)})})}}function ih(M,w){return M.transaction([Wi],w?"readwrite":"readonly").objectStore(Wi)}function rh(){const M=indexedDB.open(Br,1);return new Promise((w,I)=>{M.addEventListener("error",()=>{I(M.error)}),M.addEventListener("upgradeneeded",()=>{const O=M.result;try{O.createObjectStore(Wi,{keyPath:Es})}catch($){I($)}}),M.addEventListener("success",(0,a.Z)(function*(){const O=M.result;O.objectStoreNames.contains(Wi)?w(O):(O.close(),yield function Jf(){const M=indexedDB.deleteDatabase(Br);return new Vc(M).toPromise()}(),w(yield rh()))}))})}function ac(M,w,I){return pt.apply(this,arguments)}function pt(){return(pt=(0,a.Z)(function*(M,w,I){const O=ih(M,!0).put({[Es]:w,value:I});return new Vc(O).toPromise()})).apply(this,arguments)}function Is(){return(Is=(0,a.Z)(function*(M,w){const I=ih(M,!1).get(w),O=yield new Vc(I).toPromise();return void 0===O?null:O.value})).apply(this,arguments)}function xu(M,w){const I=ih(M,!0).delete(w);return new Vc(I).toPromise()}const So=(()=>{class M{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var I=this;return(0,a.Z)(function*(){return I.db||(I.db=yield rh()),I.db})()}_withRetries(I){var O=this;return(0,a.Z)(function*(){let $=0;for(;;)try{const X=yield O._openDb();return yield I(X)}catch(X){if($++>3)throw X;O.db&&(O.db.close(),O.db=void 0)}})()}initializeServiceWorkerMessaging(){var I=this;return(0,a.Z)(function*(){return Cu()?I.initializeReceiver():I.initializeSender()})()}initializeReceiver(){var I=this;return(0,a.Z)(function*(){I.receiver=nh._getInstance(function rd(){return Cu()?self:null}()),I.receiver._subscribe("keyChanged",function(){var O=(0,a.Z)(function*($,X){return{keyProcessed:(yield I._poll()).includes(X.key)}});return function($,X){return O.apply(this,arguments)}}()),I.receiver._subscribe("ping",function(){var O=(0,a.Z)(function*($,X){return["keyChanged"]});return function($,X){return O.apply(this,arguments)}}())})()}initializeSender(){var I=this;return(0,a.Z)(function*(){var O,$;if(I.activeServiceWorker=yield function In(){return Uc.apply(this,arguments)}(),!I.activeServiceWorker)return;I.sender=new $h(I.activeServiceWorker);const X=yield I.sender._send("ping",{},800);X&&null!==(O=X[0])&&void 0!==O&&O.fulfilled&&null!==($=X[0])&&void 0!==$&&$.value.includes("keyChanged")&&(I.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(I){var O=this;return(0,a.Z)(function*(){if(O.sender&&O.activeServiceWorker&&function Xf(){var M;return(null===(M=navigator?.serviceWorker)||void 0===M?void 0:M.controller)||null}()===O.activeServiceWorker)try{yield O.sender._send("keyChanged",{key:I},O.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const I=yield rh();return yield ac(I,Ra,"1"),yield xu(I,Ra),!0}catch{}return!1})()}_withPendingWrite(I){var O=this;return(0,a.Z)(function*(){O.pendingWrites++;try{yield I()}finally{O.pendingWrites--}})()}_set(I,O){var $=this;return(0,a.Z)(function*(){return $._withPendingWrite((0,a.Z)(function*(){return yield $._withRetries(X=>ac(X,I,O)),$.localCache[I]=O,$.notifyServiceWorker(I)}))})()}_get(I){var O=this;return(0,a.Z)(function*(){const $=yield O._withRetries(X=>function ii(M,w){return Is.apply(this,arguments)}(X,I));return O.localCache[I]=$,$})()}_remove(I){var O=this;return(0,a.Z)(function*(){return O._withPendingWrite((0,a.Z)(function*(){return yield O._withRetries($=>xu($,I)),delete O.localCache[I],O.notifyServiceWorker(I)}))})()}_poll(){var I=this;return(0,a.Z)(function*(){const O=yield I._withRetries(De=>{const Je=ih(De,!1).getAll();return new Vc(Je).toPromise()});if(!O)return[];if(0!==I.pendingWrites)return[];const $=[],X=new Set;for(const{fbase_key:De,value:Je}of O)X.add(De),JSON.stringify(I.localCache[De])!==JSON.stringify(Je)&&(I.notifyListeners(De,Je),$.push(De));for(const De of Object.keys(I.localCache))I.localCache[De]&&!X.has(De)&&(I.notifyListeners(De,null),$.push(De));return $})()}notifyListeners(I,O){this.localCache[I]=O;const $=this.listeners[I];if($)for(const X of Array.from($))X(O)}startPolling(){var I=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return I._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(I,O){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[I]||(this.listeners[I]=new Set,this._get(I)),this.listeners[I].add(O)}_removeListener(I,O){this.listeners[I]&&(this.listeners[I].delete(O),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return M.type="LOCAL",M})(),Qi=1e12;class hr{constructor(w){this.auth=w,this.counter=Qi,this._widgets=new Map}render(w,I){const O=this.counter;return this._widgets.set(O,new co(w,this.auth.name,I||{})),this.counter++,O}reset(w){var I;const O=w||Qi;null===(I=this._widgets.get(O))||void 0===I||I.delete(),this._widgets.delete(O)}getResponse(w){var I;return(null===(I=this._widgets.get(w||Qi))||void 0===I?void 0:I.getResponse())||""}execute(w){var I=this;return(0,a.Z)(function*(){var O;return null===(O=I._widgets.get(w||Qi))||void 0===O||O.execute(),""})()}}class co{constructor(w,I,O){this.params=O,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const $="string"==typeof w?document.getElementById(w):w;ue($,"argument-error",{appName:I}),this.container=$,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xr(M){const w=[],I="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<M;O++)w.push(I.charAt(Math.floor(62*Math.random())));return w.join("")}(50);const{callback:w,"expired-callback":I}=this.params;if(w)try{w(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,I)try{I()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Jr=Ji("rcb"),Gh=new rn(3e4,6e4);class sd{constructor(){var w;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(w=Vr().grecaptcha)||void 0===w||!w.render)}load(w,I=""){return ue(function _m(M){return M.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(M)}(I),w,"argument-error"),this.shouldResolveImmediately(I)&&Pt(Vr().grecaptcha)?Promise.resolve(Vr().grecaptcha):new Promise((O,$)=>{const X=Vr().setTimeout(()=>{$(nt(w,"network-request-failed"))},Gh.get());Vr()[Jr]=()=>{Vr().clearTimeout(X),delete Vr()[Jr];const Je=Vr().grecaptcha;if(!Je||!Pt(Je))return void $(nt(w,"internal-error"));const Ot=Je.render;Je.render=(Nt,pn)=>{const Wn=Ot(Nt,pn);return this.counter++,Wn},this.hostLanguage=I,O(Je)},Zi(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:Jr,render:"explicit",hl:I})}`).catch(()=>{clearTimeout(X),$(nt(w,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(w){var I;return!(null===(I=Vr().grecaptcha)||void 0===I||!I.render)&&(w===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Eu{load(w){return(0,a.Z)(function*(){return new hr(w)})()}clearedOneInstance(){}}const $l="recaptcha",oh={theme:"light",type:"image"};class pl{constructor(w,I=Object.assign({},oh),O){this.parameters=I,this.type=$l,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ai(O),this.isInvisible="invisible"===this.parameters.size,ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const $="string"==typeof w?document.getElementById(w):w;ue($,this.auth,"argument-error"),this.container=$,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Eu:new sd,this.validateStartingState()}verify(){var w=this;return(0,a.Z)(function*(){w.assertNotDestroyed();const I=yield w.render(),O=w.getAssertedRecaptcha();return O.getResponse(I)||new Promise(X=>{const De=Je=>{Je&&(w.tokenChangeListeners.delete(De),X(Je))};w.tokenChangeListeners.add(De),w.isInvisible&&O.execute(I)})})()}render(){try{this.assertNotDestroyed()}catch(w){return Promise.reject(w)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(w=>{throw this.renderPromise=null,w})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(w=>{this.container.removeChild(w)})}validateStartingState(){ue(!this.parameters.sitekey,this.auth,"argument-error"),ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(w){return I=>{if(this.tokenChangeListeners.forEach(O=>O(I)),"function"==typeof w)w(I);else if("string"==typeof w){const O=Vr()[w];"function"==typeof O&&O(I)}}}assertNotDestroyed(){ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var w=this;return(0,a.Z)(function*(){if(yield w.init(),!w.widgetId){let I=w.container;if(!w.isInvisible){const O=document.createElement("div");I.appendChild(O),I=O}w.widgetId=w.getAssertedRecaptcha().render(I,w.parameters)}return w.widgetId})()}init(){var w=this;return(0,a.Z)(function*(){ue(ot()&&!Cu(),w.auth,"internal-error"),yield function sh(){let M=null;return new Promise(w=>{"complete"!==document.readyState?(M=()=>w(),window.addEventListener("load",M)):w()}).catch(w=>{throw M&&window.removeEventListener("load",M),w})}(),w.recaptcha=yield w._recaptchaLoader.load(w.auth,w.auth.languageCode||void 0);const I=yield function Xe(M){return ze.apply(this,arguments)}(w.auth);ue(I,w.auth,"internal-error"),w.parameters.sitekey=I})()}getAssertedRecaptcha(){return ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Na{constructor(w,I){this.verificationId=w,this.onConfirmation=I}confirm(w){const I=on._fromVerification(this.verificationId,w);return this.onConfirmation(I)}}function ql(M,w,I){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,a.Z)(function*(M,w,I){const O=Ai(M),$=yield uc(O,w,(0,U.m9)(I));return new Na($,X=>Aa(O,X))})).apply(this,arguments)}function ls(M,w,I){return ml.apply(this,arguments)}function ml(){return(ml=(0,a.Z)(function*(M,w,I){const O=(0,U.m9)(M);yield la(!1,O,"phone");const $=yield uc(O.auth,w,(0,U.m9)(I));return new Na($,X=>nc(O,X))})).apply(this,arguments)}function cc(M,w,I){return lc.apply(this,arguments)}function lc(){return(lc=(0,a.Z)(function*(M,w,I){const O=(0,U.m9)(M),$=yield uc(O.auth,w,(0,U.m9)(I));return new Na($,X=>mi(O,X))})).apply(this,arguments)}function uc(M,w,I){return Gl.apply(this,arguments)}function Gl(){return Gl=(0,a.Z)(function*(M,w,I){var O;const $=yield I.verify();try{let X;if(ue("string"==typeof $,M,"argument-error"),ue(I.type===$l,M,"argument-error"),X="string"==typeof w?{phoneNumber:w}:w,"session"in X){const De=X.session;if("phoneNumber"in X)return ue("enroll"===De.type,M,"internal-error"),(yield function id(M,w){return ct(M,"POST","/v2/accounts/mfaEnrollment:start",je(M,w))}(M,{idToken:De.credential,phoneEnrollmentInfo:{phoneNumber:X.phoneNumber,recaptchaToken:$}})).phoneSessionInfo.sessionInfo;{ue("signin"===De.type,M,"internal-error");const Je=(null===(O=X.multiFactorHint)||void 0===O?void 0:O.uid)||X.multiFactorUid;return ue(Je,M,"missing-multi-factor-info"),(yield function Yi(M,w){return ct(M,"POST","/v2/accounts/mfaSignIn:start",je(M,w))}(M,{mfaPendingCredential:De.credential,mfaEnrollmentId:Je,phoneSignInInfo:{recaptchaToken:$}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:De}=yield function En(M,w){return Ei.apply(this,arguments)}(M,{phoneNumber:X.phoneNumber,recaptchaToken:$});return De}}finally{I._reset()}}),Gl.apply(this,arguments)}function ts(M,w){return pa.apply(this,arguments)}function pa(){return(pa=(0,a.Z)(function*(M,w){yield Kr((0,U.m9)(M),w)})).apply(this,arguments)}let sr=(()=>{class M{constructor(I){this.providerId=M.PROVIDER_ID,this.auth=Ai(I)}verifyPhoneNumber(I,O){return uc(this.auth,I,(0,U.m9)(O))}static credential(I,O){return on._fromVerification(I,O)}static credentialFromResult(I){return M.credentialFromTaggedObject(I)}static credentialFromError(I){return M.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{phoneNumber:O,temporaryProof:$}=I;return O&&$?on._fromTokenResponse(O,$):null}}return M.PROVIDER_ID="phone",M.PHONE_SIGN_IN_METHOD="phone",M})();function ma(M,w){return w?pi(w):(ue(M._popupRedirectResolver,M,"argument-error"),M._popupRedirectResolver)}class ah extends na{constructor(w){super("custom","custom"),this.params=w}_getIdTokenResponse(w){return Ls(w,this._buildIdpRequest())}_linkToIdToken(w,I){return Ls(w,this._buildIdpRequest(I))}_getReauthenticationResolver(w){return Ls(w,this._buildIdpRequest())}_buildIdpRequest(w){const I={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return w&&(I.idToken=w),I}}function us(M){return bs(M.auth,new ah(M),M.bypassAuthState)}function zn(M){const{auth:w,user:I}=M;return ue(I,w,"internal-error"),Pr(I,new ah(M),M.bypassAuthState)}function ar(M){return Do.apply(this,arguments)}function Do(){return(Do=(0,a.Z)(function*(M){const{auth:w,user:I}=M;return ue(I,w,"internal-error"),Kr(I,new ah(M),M.bypassAuthState)})).apply(this,arguments)}class Wl{constructor(w,I,O,$,X=!1){this.auth=w,this.resolver=O,this.user=$,this.bypassAuthState=X,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(I)?I:[I]}execute(){var w=this;return new Promise(function(){var I=(0,a.Z)(function*(O,$){w.pendingPromise={resolve:O,reject:$};try{w.eventManager=yield w.resolver._initialize(w.auth),yield w.onExecution(),w.eventManager.registerConsumer(w)}catch(X){w.reject(X)}});return function(O,$){return I.apply(this,arguments)}}())}onAuthEvent(w){var I=this;return(0,a.Z)(function*(){const{urlResponse:O,sessionId:$,postBody:X,tenantId:De,error:Je,type:Ot}=w;if(Je)return void I.reject(Je);const Nt={auth:I.auth,requestUri:O,sessionId:$,tenantId:De||void 0,postBody:X||void 0,user:I.user,bypassAuthState:I.bypassAuthState};try{I.resolve(yield I.getIdpTask(Ot)(Nt))}catch(pn){I.reject(pn)}})()}onError(w){this.reject(w)}getIdpTask(w){switch(w){case"signInViaPopup":case"signInViaRedirect":return us;case"linkViaPopup":case"linkViaRedirect":return ar;case"reauthViaPopup":case"reauthViaRedirect":return zn;default:xe(this.auth,"internal-error")}}resolve(w){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(w),this.unregisterAndCleanUp()}reject(w){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(w),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dc=new rn(2e3,1e4);function ci(M,w,I){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,a.Z)(function*(M,w,I){const O=Ai(M);it(M,w,Fo);const $=ma(O,I);return new tr(O,"signInViaPopup",w,$).executeNotNull()})).apply(this,arguments)}function jr(M,w,I){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,a.Z)(function*(M,w,I){const O=(0,U.m9)(M);it(O.auth,w,Fo);const $=ma(O.auth,I);return new tr(O.auth,"reauthViaPopup",w,$,O).executeNotNull()})).apply(this,arguments)}function Nr(M,w,I){return cr.apply(this,arguments)}function cr(){return(cr=(0,a.Z)(function*(M,w,I){const O=(0,U.m9)(M);it(O.auth,w,Fo);const $=ma(O.auth,I);return new tr(O.auth,"linkViaPopup",w,$,O).executeNotNull()})).apply(this,arguments)}let tr=(()=>{class M extends Wl{constructor(I,O,$,X,De){super(I,O,X,De),this.provider=$,this.authWindow=null,this.pollId=null,M.currentPopupAction&&M.currentPopupAction.cancel(),M.currentPopupAction=this}executeNotNull(){var I=this;return(0,a.Z)(function*(){const O=yield I.execute();return ue(O,I.auth,"internal-error"),O})()}onExecution(){var I=this;return(0,a.Z)(function*(){Le(1===I.filter.length,"Popup operations only handle one event");const O=Lc();I.authWindow=yield I.resolver._openPopup(I.auth,I.provider,I.filter[0],O),I.authWindow.associatedEvent=O,I.resolver._originValidation(I.auth).catch($=>{I.reject($)}),I.resolver._isIframeWebStorageSupported(I.auth,$=>{$||I.reject(nt(I.auth,"web-storage-unsupported"))}),I.pollUserCancellation()})()}get eventId(){var I;return(null===(I=this.authWindow)||void 0===I?void 0:I.associatedEvent)||null}cancel(){this.reject(nt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,M.currentPopupAction=null}pollUserCancellation(){const I=()=>{var O,$;this.pollId=null!==($=null===(O=this.authWindow)||void 0===O?void 0:O.window)&&void 0!==$&&$.closed?window.setTimeout(()=>{this.pollId=null,this.reject(nt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(I,dc.get())};I()}}return M.currentPopupAction=null,M})();const tp="pendingRedirect",Ts=new Map;class ad extends Wl{constructor(w,I,O=!1){super(w,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],I,void 0,O),this.eventId=null}execute(){var w=()=>super.execute,I=this;return(0,a.Z)(function*(){let O=Ts.get(I.auth._key());if(!O){try{const X=(yield function vm(M,w){return cd.apply(this,arguments)}(I.resolver,I.auth))?yield w().call(I):null;O=()=>Promise.resolve(X)}catch($){O=()=>Promise.reject($)}Ts.set(I.auth._key(),O)}return I.bypassAuthState||Ts.set(I.auth._key(),()=>Promise.resolve(null)),O()})()}onAuthEvent(w){var I=()=>super.onAuthEvent,O=this;return(0,a.Z)(function*(){if("signInViaRedirect"===w.type)return I().call(O,w);if("unknown"!==w.type){if(w.eventId){const $=yield O.auth._redirectUserForId(w.eventId);if($)return O.user=$,I().call(O,w);O.resolve(null)}}else O.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function cd(){return(cd=(0,a.Z)(function*(M,w){const I=ch(w),O=Wh(M);if(!(yield O._isAvailable()))return!1;const $="true"===(yield O._get(I));return yield O._remove(I),$})).apply(this,arguments)}function ld(M,w){return np.apply(this,arguments)}function np(){return(np=(0,a.Z)(function*(M,w){return Wh(M)._set(ch(w),"true")})).apply(this,arguments)}function ud(){Ts.clear()}function Zl(M,w){Ts.set(M._key(),w)}function Wh(M){return pi(M._redirectPersistence)}function ch(M){return mo(tp,M.config.apiKey,M.name)}function jc(M,w,I){return function zc(M,w,I){return dd.apply(this,arguments)}(M,w,I)}function dd(){return(dd=(0,a.Z)(function*(M,w,I){const O=Ai(M);it(M,w,Fo),yield O._initializationPromise;const $=ma(O,I);return yield ld($,O),$._openRedirect(O,w,"signInViaRedirect")})).apply(this,arguments)}function gl(M,w,I){return function Tu(M,w,I){return ds.apply(this,arguments)}(M,w,I)}function ds(){return(ds=(0,a.Z)(function*(M,w,I){const O=(0,U.m9)(M);it(O.auth,w,Fo),yield O.auth._initializationPromise;const $=ma(O.auth,I);yield ld($,O.auth);const X=yield Kl(O);return $._openRedirect(O.auth,w,"reauthViaRedirect",X)})).apply(this,arguments)}function Zh(M,w,I){return function Kh(M,w,I){return lh.apply(this,arguments)}(M,w,I)}function lh(){return(lh=(0,a.Z)(function*(M,w,I){const O=(0,U.m9)(M);it(O.auth,w,Fo),yield O.auth._initializationPromise;const $=ma(O.auth,I);yield la(!1,O,w.providerId),yield ld($,O.auth);const X=yield Kl(O);return $._openRedirect(O.auth,w,"linkViaRedirect",X)})).apply(this,arguments)}function Yh(M,w){return zo.apply(this,arguments)}function zo(){return(zo=(0,a.Z)(function*(M,w){return yield Ai(M)._initializationPromise,hd(M,w,!1)})).apply(this,arguments)}function hd(M,w){return $s.apply(this,arguments)}function $s(){return($s=(0,a.Z)(function*(M,w,I=!1){const O=Ai(M),$=ma(O,w),De=yield new ad(O,$,I).execute();return De&&!I&&(delete De.user._redirectEventId,yield O._persistUserIfCurrent(De.user),yield O._setRedirectUser(null,w)),De})).apply(this,arguments)}function Kl(M){return Su.apply(this,arguments)}function Su(){return(Su=(0,a.Z)(function*(M){const w=Lc(`${M.uid}:::`);return M._redirectEventId=w,yield M.auth._setRedirectUser(M),yield M.auth._persistUserIfCurrent(M),w})).apply(this,arguments)}class Ql{constructor(w){this.auth=w,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(w){this.consumers.add(w),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,w)&&(this.sendToConsumer(this.queuedRedirectEvent,w),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(w){this.consumers.delete(w)}onEvent(w){if(this.hasEventBeenHandled(w))return!1;let I=!1;return this.consumers.forEach(O=>{this.isEventForConsumer(w,O)&&(I=!0,this.sendToConsumer(w,O),this.saveEventToCache(w))}),this.hasHandledPotentialRedirect||!function Jl(M){switch(M.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xl(M);default:return!1}}(w)||(this.hasHandledPotentialRedirect=!0,I||(this.queuedRedirectEvent=w,I=!0)),I}sendToConsumer(w,I){var O;if(w.error&&!Xl(w)){const $=(null===(O=w.error.code)||void 0===O?void 0:O.split("auth/")[1])||"internal-error";I.onError(nt(this.auth,$))}else I.onAuthEvent(w)}isEventForConsumer(w,I){const O=null===I.eventId||!!w.eventId&&w.eventId===I.eventId;return I.filter.includes(w.type)&&O}hasEventBeenHandled(w){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fd(w))}saveEventToCache(w){this.cachedEventUids.add(fd(w)),this.lastProcessedEventTime=Date.now()}}function fd(M){return[M.type,M.eventId,M.sessionId,M.tenantId].filter(w=>w).join("-")}function Xl({type:M,error:w}){return"unknown"===M&&"auth/no-auth-event"===w?.code}function qs(M){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,a.Z)(function*(M,w={}){return ct(M,"GET","/v1/projects",w)})).apply(this,arguments)}const ip=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pd=/^https?/;function uh(){return(uh=(0,a.Z)(function*(M){if(M.config.emulator)return;const{authorizedDomains:w}=yield qs(M);for(const I of w)try{if(dh(I))return}catch{}xe(M,"unauthorized-domain")})).apply(this,arguments)}function dh(M){const w=Ct(),{protocol:I,hostname:O}=new URL(w);if(M.startsWith("chrome-extension://")){const De=new URL(M);return""===De.hostname&&""===O?"chrome-extension:"===I&&M.replace("chrome-extension://","")===w.replace("chrome-extension://",""):"chrome-extension:"===I&&De.hostname===O}if(!pd.test(I))return!1;if(ip.test(M))return O===M;const $=M.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(O)}const _l=new rn(3e4,6e4);function ns(){const M=Vr().___jsl;if(M?.H)for(const w of Object.keys(M.H))if(M.H[w].r=M.H[w].r||[],M.H[w].L=M.H[w].L||[],M.H[w].r=[...M.H[w].L],M.CP)for(let I=0;I<M.CP.length;I++)M.CP[I]=null}let Ri=null;const md=new rn(5e3,15e3),Ti="__/auth/iframe",gd="emulator/auth/iframe",rp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vl(M){const w=M.config;ue(w.authDomain,M,"auth-domain-config-required");const I=w.emulator?fi(w,gd):`https://${M.config.authDomain}/${Ti}`,O={apiKey:w.apiKey,appName:M.name,v:K.SDK_VERSION},$=hs.get(M.config.apiHost);$&&(O.eid=$);const X=M._getFrameworks();return X.length&&(O.fw=X.join(",")),`${I}?${(0,U.xO)(O).slice(1)}`}function $c(){return $c=(0,a.Z)(function*(M){const w=yield function hc(M){return Ri=Ri||function Hc(M){return new Promise((w,I)=>{var O,$,X;function De(){ns(),gapi.load("gapi.iframes",{callback:()=>{w(gapi.iframes.getContext())},ontimeout:()=>{ns(),I(nt(M,"network-request-failed"))},timeout:_l.get()})}if(null!==($=null===(O=Vr().gapi)||void 0===O?void 0:O.iframes)&&void 0!==$&&$.Iframe)w(gapi.iframes.getContext());else{if(null===(X=Vr().gapi)||void 0===X||!X.load){const Je=Ji("iframefcb");return Vr()[Je]=()=>{gapi.load?De():I(nt(M,"network-request-failed"))},Zi(`https://apis.google.com/js/api.js?onload=${Je}`).catch(Ot=>I(Ot))}De()}}).catch(w=>{throw Ri=null,w})}(M),Ri}(M),I=Vr().gapi;return ue(I,M,"internal-error"),w.open({where:document.body,url:vl(M),messageHandlersFilter:I.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rp,dontclear:!0},O=>new Promise(function(){var $=(0,a.Z)(function*(X,De){yield O.restyle({setHideOnLeave:!1});const Je=nt(M,"network-request-failed"),Ot=Vr().setTimeout(()=>{De(Je)},md.get());function Nt(){Vr().clearTimeout(Ot),X(O)}O.ping(Nt).then(Nt,()=>{De(Je)})});return function(X,De){return $.apply(this,arguments)}}()))}),$c.apply(this,arguments)}const k={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ue{constructor(w){this.window=w,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ft="__/auth/handler",hn="emulator/auth/handler",Ln=encodeURIComponent("fac");function Mn(M,w,I,O,$,X){return fs.apply(this,arguments)}function fs(){return(fs=(0,a.Z)(function*(M,w,I,O,$,X){ue(M.config.authDomain,M,"auth-domain-config-required"),ue(M.config.apiKey,M,"invalid-api-key");const De={apiKey:M.config.apiKey,appName:M.name,authType:I,redirectUrl:O,v:K.SDK_VERSION,eventId:$};if(w instanceof Fo){w.setDefaultLanguage(M.languageCode),De.providerId=w.providerId||"",(0,U.xb)(w.getCustomParameters())||(De.customParameters=JSON.stringify(w.getCustomParameters()));for(const[pn,Wn]of Object.entries(X||{}))De[pn]=Wn}if(w instanceof Er){const pn=w.getScopes().filter(Wn=>""!==Wn);pn.length>0&&(De.scopes=pn.join(","))}M.tenantId&&(De.tid=M.tenantId);const Je=De;for(const pn of Object.keys(Je))void 0===Je[pn]&&delete Je[pn];const Ot=yield M._getAppCheckToken(),Nt=Ot?`#${Ln}=${encodeURIComponent(Ot)}`:"";return`${function Mo({config:M}){return M.emulator?fi(M,hn):`https://${M.authDomain}/${Ft}`}(M)}?${(0,U.xO)(Je).slice(1)}${Nt}`})).apply(this,arguments)}const Xi="webStorageSupport",Va=class Du{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hs,this._completeRedirectFn=hd,this._overrideRedirectResult=Zl}_openPopup(w,I,O,$){var X=this;return(0,a.Z)(function*(){var De;Le(null===(De=X.eventManagers[w._key()])||void 0===De?void 0:De.manager,"_initialize() not called before _openPopup()");const Je=yield Mn(w,I,O,Ct(),$);return function rt(M,w,I,O=500,$=600){const X=Math.max((window.screen.availHeight-$)/2,0).toString(),De=Math.max((window.screen.availWidth-O)/2,0).toString();let Je="";const Ot=Object.assign(Object.assign({},k),{width:O.toString(),height:$.toString(),top:X,left:De}),Nt=(0,U.z$)().toLowerCase();I&&(Je=Y(Nt)?"_blank":I),J(Nt)&&(w=w||"http://localhost",Ot.scrollbars="yes");const pn=Object.entries(Ot).reduce((eo,[ga,to])=>`${eo}${ga}=${to},`,"");if(function xn(M=(0,U.z$)()){var w;return Vt(M)&&!(null===(w=window.navigator)||void 0===w||!w.standalone)}(Nt)&&"_self"!==Je)return function Bt(M,w){const I=document.createElement("a");I.href=M,I.target=w;const O=document.createEvent("MouseEvent");O.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),I.dispatchEvent(O)}(w||"",Je),new Ue(null);const Wn=window.open(w||"",Je,pn);ue(Wn,M,"popup-blocked");try{Wn.focus()}catch{}return new Ue(Wn)}(w,Je,Lc())})()}_openRedirect(w,I,O,$){var X=this;return(0,a.Z)(function*(){return yield X._originValidation(w),function sc(M){Vr().location.href=M}(yield Mn(w,I,O,Ct(),$)),new Promise(()=>{})})()}_initialize(w){const I=w._key();if(this.eventManagers[I]){const{manager:$,promise:X}=this.eventManagers[I];return $?Promise.resolve($):(Le(X,"If manager is not set, promise should be"),X)}const O=this.initAndGetManager(w);return this.eventManagers[I]={promise:O},O.catch(()=>{delete this.eventManagers[I]}),O}initAndGetManager(w){var I=this;return(0,a.Z)(function*(){const O=yield function Ua(M){return $c.apply(this,arguments)}(w),$=new Ql(w);return O.register("authEvent",X=>(ue(X?.authEvent,w,"invalid-auth-event"),{status:$.onEvent(X.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),I.eventManagers[w._key()]={manager:$},I.iframes[w._key()]=O,$})()}_isIframeWebStorageSupported(w,I){this.iframes[w._key()].send(Xi,{type:Xi},$=>{var X;const De=null===(X=$?.[0])||void 0===X?void 0:X[Xi];void 0!==De&&I(!!De),xe(w,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(w){const I=w._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=function La(M){return uh.apply(this,arguments)}(w)),this.originValidationPromises[I]}get _shouldInitProactively(){return Rn()||te()||Vt()}};class Ba{constructor(w){this.factorId=w}_process(w,I,O){switch(I.type){case"enroll":return this._finalizeEnroll(w,I.credential,O);case"signin":return this._finalizeSignIn(w,I.credential);default:return Ge("unexpected MultiFactorSessionType")}}}class Fr extends Ba{constructor(w){super("phone"),this.credential=w}static _fromCredential(w){return new Fr(w)}_finalizeEnroll(w,I,O){return function bu(M,w){return ct(M,"POST","/v2/accounts/mfaEnrollment:finalize",je(M,w))}(w,{idToken:I,displayName:O,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(w,I){return function ao(M,w){return ct(M,"POST","/v2/accounts/mfaSignIn:finalize",je(M,w))}(w,{mfaPendingCredential:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let yl=(()=>{class M{constructor(){}static assertion(I){return Fr._fromCredential(I)}}return M.FACTOR_ID="phone",M})();var c_="@firebase/auth";class Ry{constructor(w){this.auth=w,this.internalListeners=new Map}getUid(){var w;return this.assertAuthConfigured(),(null===(w=this.auth.currentUser)||void 0===w?void 0:w.uid)||null}getToken(w){var I=this;return(0,a.Z)(function*(){return I.assertAuthConfigured(),yield I.auth._initializationPromise,I.auth.currentUser?{accessToken:yield I.auth.currentUser.getIdToken(w)}:null})()}addAuthTokenListener(w){if(this.assertAuthConfigured(),this.internalListeners.has(w))return;const I=this.auth.onIdTokenChanged(O=>{w(O?.stsTokenManager.accessToken||null)});this.internalListeners.set(w,I),this.updateProactiveRefresh()}removeAuthTokenListener(w){this.assertAuthConfigured();const I=this.internalListeners.get(w);I&&(this.internalListeners.delete(w),I(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const l_=(0,U.Pz)("authIdTokenMaxAge")||300;let yd=null;const u_=M=>function(){var w=(0,a.Z)(function*(I){const O=I&&(yield I.getIdTokenResult()),$=O&&((new Date).getTime()-Date.parse(O.issuedAtTime))/1e3;if($&&$>l_)return;const X=O?.token;yd!==X&&(yd=X,yield fetch(M,{method:X?"POST":"DELETE",headers:X?{Authorization:`Bearer ${X}`}:{}}))});return function(I){return w.apply(this,arguments)}}();function Xh(M=(0,K.getApp)()){const w=(0,K._getProvider)(M,"auth");if(w.isInitialized())return w.getImmediate();const I=function ki(M,w){const I=(0,K._getProvider)(M,"auth");if(I.isInitialized()){const $=I.getImmediate(),X=I.getOptions();if((0,U.vZ)(X,w??{}))return $;xe($,"already-initialized")}return I.initialize({options:w})}(M,{popupRedirectResolver:Va,persistence:[So,eh,Hs]}),O=(0,U.Pz)("authTokenSyncURL");if(O){const X=u_(O);(function td(M,w,I){(0,U.m9)(M).beforeAuthStateChanged(w,I)})(I,X,()=>X(I.currentUser)),Eo(I,De=>X(De))}const $=(0,U.q4)("auth");return $&&Xa(I,`http://${$}`),I}!function op(M){(0,K._registerComponent)(new Pe.wA("auth",(w,{options:I})=>{const O=w.getProvider("app").getImmediate(),$=w.getProvider("heartbeat"),X=w.getProvider("app-check-internal"),{apiKey:De,authDomain:Je}=O.options;ue(De&&!De.includes(":"),"invalid-api-key",{appName:O.name});const Ot={apiKey:De,authDomain:Je,clientPlatform:M,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zo(M)},Nt=new qn(O,$,X,Ot);return function bc(M,w){const I=w?.persistence||[],O=(Array.isArray(I)?I:[I]).map(pi);w?.errorMap&&M._updateErrorMap(w.errorMap),M._initializeWithPersistence(O,w?.popupRedirectResolver)}(Nt,I),Nt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((w,I,O)=>{w.getProvider("auth-internal").initialize()})),(0,K._registerComponent)(new Pe.wA("auth-internal",w=>{const I=Ai(w.getProvider("auth").getImmediate());return new Ry(I)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,K.registerVersion)(c_,"0.23.2",function Gs(M){switch(M){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(M)),(0,K.registerVersion)(c_,"0.23.2","esm2017")}("Browser")},9058:(en,Me,Q)=>{Q.d(Me,{$s:()=>pi,BH:()=>$e,DV:()=>Fn,Dv:()=>Fe,G6:()=>fi,GJ:()=>Ut,L:()=>Ve,LL:()=>gt,P0:()=>Ze,Pz:()=>nt,Sg:()=>it,UG:()=>Ge,UI:()=>wi,US:()=>Pe,Wj:()=>jt,Wl:()=>dn,Yr:()=>rn,ZB:()=>de,ZR:()=>ct,aH:()=>xe,b$:()=>ot,cI:()=>Sn,dS:()=>Ht,eu:()=>Ce,g5:()=>K,gK:()=>xt,gQ:()=>Qt,h$:()=>ut,hl:()=>Se,hu:()=>U,jU:()=>Le,lb:()=>Jt,m9:()=>mo,ne:()=>zt,p$:()=>G,pd:()=>Yt,q4:()=>at,r3:()=>cn,ru:()=>Ct,tV:()=>z,uI:()=>ue,ug:()=>Ci,vZ:()=>Mi,w1:()=>nn,w9:()=>Dn,xO:()=>Po,xb:()=>Un,z$:()=>he,zI:()=>He,zd:()=>sn});const a={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},U=function(fe,le){if(!fe)throw K(le)},K=function(fe){return new Error("Firebase Database ("+a.SDK_VERSION+") INTERNAL ASSERT FAILED: "+fe)},pe=function(fe){const le=[];let J=0;for(let te=0;te<fe.length;te++){let Y=fe.charCodeAt(te);Y<128?le[J++]=Y:Y<2048?(le[J++]=Y>>6|192,le[J++]=63&Y|128):55296==(64512&Y)&&te+1<fe.length&&56320==(64512&fe.charCodeAt(te+1))?(Y=65536+((1023&Y)<<10)+(1023&fe.charCodeAt(++te)),le[J++]=Y>>18|240,le[J++]=Y>>12&63|128,le[J++]=Y>>6&63|128,le[J++]=63&Y|128):(le[J++]=Y>>12|224,le[J++]=Y>>6&63|128,le[J++]=63&Y|128)}return le},Pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(fe,le){if(!Array.isArray(fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=le?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let Y=0;Y<fe.length;Y+=3){const Ae=fe[Y],Qe=Y+1<fe.length,Dt=Qe?fe[Y+1]:0,yn=Y+2<fe.length,Vt=yn?fe[Y+2]:0;let ai=(15&Dt)<<2|Vt>>6,Rn=63&Vt;yn||(Rn=64,Qe||(ai=64)),te.push(J[Ae>>2],J[(3&Ae)<<4|Dt>>4],J[ai],J[Rn])}return te.join("")},encodeString(fe,le){return this.HAS_NATIVE_SUPPORT&&!le?btoa(fe):this.encodeByteArray(pe(fe),le)},decodeString(fe,le){return this.HAS_NATIVE_SUPPORT&&!le?atob(fe):function(fe){const le=[];let J=0,te=0;for(;J<fe.length;){const Y=fe[J++];if(Y<128)le[te++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Ae=fe[J++];le[te++]=String.fromCharCode((31&Y)<<6|63&Ae)}else if(Y>239&&Y<365){const yn=((7&Y)<<18|(63&fe[J++])<<12|(63&fe[J++])<<6|63&fe[J++])-65536;le[te++]=String.fromCharCode(55296+(yn>>10)),le[te++]=String.fromCharCode(56320+(1023&yn))}else{const Ae=fe[J++],Qe=fe[J++];le[te++]=String.fromCharCode((15&Y)<<12|(63&Ae)<<6|63&Qe)}}return le.join("")}(this.decodeStringToByteArray(fe,le))},decodeStringToByteArray(fe,le){this.init_();const J=le?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let Y=0;Y<fe.length;){const Ae=J[fe.charAt(Y++)],Dt=Y<fe.length?J[fe.charAt(Y)]:0;++Y;const Vt=Y<fe.length?J[fe.charAt(Y)]:64;++Y;const xn=Y<fe.length?J[fe.charAt(Y)]:64;if(++Y,null==Ae||null==Dt||null==Vt||null==xn)throw new ke;te.push(Ae<<2|Dt>>4),64!==Vt&&(te.push(Dt<<4&240|Vt>>2),64!==xn&&te.push(Vt<<6&192|xn))}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let fe=0;fe<this.ENCODED_VALS.length;fe++)this.byteToCharMap_[fe]=this.ENCODED_VALS.charAt(fe),this.charToByteMap_[this.byteToCharMap_[fe]]=fe,this.byteToCharMapWebSafe_[fe]=this.ENCODED_VALS_WEBSAFE.charAt(fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[fe]]=fe,fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(fe)]=fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(fe)]=fe)}}};class ke extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ut=function(fe){const le=pe(fe);return Pe.encodeByteArray(le,!0)},Ve=function(fe){return ut(fe).replace(/\./g,"")},z=function(fe){try{return Pe.decodeString(fe,!0)}catch(le){console.error("base64Decode failed: ",le)}return null};function G(fe){return de(void 0,fe)}function de(fe,le){if(!(le instanceof Object))return le;switch(le.constructor){case Date:return new Date(le.getTime());case Object:void 0===fe&&(fe={});break;case Array:fe=[];break;default:return le}for(const J in le)!le.hasOwnProperty(J)||!Ne(J)||(fe[J]=de(fe[J],le[J]));return fe}function Ne(fe){return"__proto__"!==fe}const Re=()=>{try{return function me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const fe=process.env.__FIREBASE_DEFAULTS__;return fe?JSON.parse(fe):void 0})()||(()=>{if(typeof document>"u")return;let fe;try{fe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const le=fe&&z(fe[1]);return le&&JSON.parse(le)})()}catch(fe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${fe}`)}},at=fe=>{var le,J;return null===(J=null===(le=Re())||void 0===le?void 0:le.emulatorHosts)||void 0===J?void 0:J[fe]},Ze=fe=>{const le=at(fe);if(!le)return;const J=le.lastIndexOf(":");if(J<=0||J+1===le.length)throw new Error(`Invalid host ${le} with no separate hostname and port!`);const te=parseInt(le.substring(J+1),10);return"["===le[0]?[le.substring(1,J-1),te]:[le.substring(0,J),te]},xe=()=>{var fe;return null===(fe=Re())||void 0===fe?void 0:fe.config},nt=fe=>{var le;return null===(le=Re())||void 0===le?void 0:le[`_${fe}`]};class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((le,J)=>{this.resolve=le,this.reject=J})}wrapCallback(le){return(J,te)=>{J?this.reject(J):this.resolve(te),"function"==typeof le&&(this.promise.catch(()=>{}),1===le.length?le(J):le(J,te))}}}function it(fe,le){if(fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const te=le||"demo-project",Y=fe.iat||0,Ae=fe.sub||fe.user_id;if(!Ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qe=Object.assign({iss:`https://securetoken.google.com/${te}`,aud:te,iat:Y,exp:Y+3600,auth_time:Y,sub:Ae,user_id:Ae,firebase:{sign_in_provider:"custom",identities:{}}},fe);return[Ve(JSON.stringify({alg:"none",type:"JWT"})),Ve(JSON.stringify(Qe)),""].join(".")}function he(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(he())}function Ge(){var fe;const le=null===(fe=Re())||void 0===fe?void 0:fe.forceEnvironment;if("node"===le)return!0;if("browser"===le)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Le(){return"object"==typeof self&&self.self===self}function Ct(){const fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof fe&&void 0!==fe.id}function ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function nn(){const fe=he();return fe.indexOf("MSIE ")>=0||fe.indexOf("Trident/")>=0}function rn(){return!0===a.NODE_CLIENT||!0===a.NODE_ADMIN}function fi(){return!Ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Se(){try{return"object"==typeof indexedDB}catch{return!1}}function Ce(){return new Promise((fe,le)=>{try{let J=!0;const te="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(te);Y.onsuccess=()=>{Y.result.close(),J||self.indexedDB.deleteDatabase(te),fe(!0)},Y.onupgradeneeded=()=>{J=!1},Y.onerror=()=>{var Ae;le((null===(Ae=Y.error)||void 0===Ae?void 0:Ae.message)||"")}}catch(J){le(J)}})}function He(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ct extends Error{constructor(le,J,te){super(J),this.code=le,this.customData=te,this.name="FirebaseError",Object.setPrototypeOf(this,ct.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gt.prototype.create)}}class gt{constructor(le,J,te){this.service=le,this.serviceName=J,this.errors=te}create(le,...J){const te=J[0]||{},Y=`${this.service}/${le}`,Ae=this.errors[le],Qe=Ae?function Mt(fe,le){return fe.replace(bt,(J,te)=>{const Y=le[te];return null!=Y?String(Y):`<${te}?>`})}(Ae,te):"Error";return new ct(Y,`${this.serviceName}: ${Qe} (${Y}).`,te)}}const bt=/\{\$([^}]+)}/g;function Sn(fe){return JSON.parse(fe)}function dn(fe){return JSON.stringify(fe)}const Nn=function(fe){let le={},J={},te={},Y="";try{const Ae=fe.split(".");le=Sn(z(Ae[0])||""),J=Sn(z(Ae[1])||""),Y=Ae[2],te=J.d||{},delete J.d}catch{}return{header:le,claims:J,data:te,signature:Y}},Dn=function(fe){const J=Nn(fe).claims;return!!J&&"object"==typeof J&&J.hasOwnProperty("iat")},Ut=function(fe){const le=Nn(fe).claims;return"object"==typeof le&&!0===le.admin};function cn(fe,le){return Object.prototype.hasOwnProperty.call(fe,le)}function Fn(fe,le){if(Object.prototype.hasOwnProperty.call(fe,le))return fe[le]}function Un(fe){for(const le in fe)if(Object.prototype.hasOwnProperty.call(fe,le))return!1;return!0}function wi(fe,le,J){const te={};for(const Y in fe)Object.prototype.hasOwnProperty.call(fe,Y)&&(te[Y]=le.call(J,fe[Y],Y,fe));return te}function Mi(fe,le){if(fe===le)return!0;const J=Object.keys(fe),te=Object.keys(le);for(const Y of J){if(!te.includes(Y))return!1;const Ae=fe[Y],Qe=le[Y];if(ni(Ae)&&ni(Qe)){if(!Mi(Ae,Qe))return!1}else if(Ae!==Qe)return!1}for(const Y of te)if(!J.includes(Y))return!1;return!0}function ni(fe){return null!==fe&&"object"==typeof fe}function Po(fe){const le=[];for(const[J,te]of Object.entries(fe))Array.isArray(te)?te.forEach(Y=>{le.push(encodeURIComponent(J)+"="+encodeURIComponent(Y))}):le.push(encodeURIComponent(J)+"="+encodeURIComponent(te));return le.length?"&"+le.join("&"):""}function sn(fe){const le={};return fe.replace(/^\?/,"").split("&").forEach(te=>{if(te){const[Y,Ae]=te.split("=");le[decodeURIComponent(Y)]=decodeURIComponent(Ae)}}),le}function Yt(fe){const le=fe.indexOf("?");if(!le)return"";const J=fe.indexOf("#",le);return fe.substring(le,J>0?J:void 0)}class Qt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let le=1;le<this.blockSize;++le)this.pad_[le]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(le,J){J||(J=0);const te=this.W_;if("string"==typeof le)for(let xn=0;xn<16;xn++)te[xn]=le.charCodeAt(J)<<24|le.charCodeAt(J+1)<<16|le.charCodeAt(J+2)<<8|le.charCodeAt(J+3),J+=4;else for(let xn=0;xn<16;xn++)te[xn]=le[J]<<24|le[J+1]<<16|le[J+2]<<8|le[J+3],J+=4;for(let xn=16;xn<80;xn++){const ai=te[xn-3]^te[xn-8]^te[xn-14]^te[xn-16];te[xn]=4294967295&(ai<<1|ai>>>31)}let Vt,Jn,Y=this.chain_[0],Ae=this.chain_[1],Qe=this.chain_[2],Dt=this.chain_[3],yn=this.chain_[4];for(let xn=0;xn<80;xn++){xn<40?xn<20?(Vt=Dt^Ae&(Qe^Dt),Jn=1518500249):(Vt=Ae^Qe^Dt,Jn=1859775393):xn<60?(Vt=Ae&Qe|Dt&(Ae|Qe),Jn=2400959708):(Vt=Ae^Qe^Dt,Jn=3395469782);const ai=(Y<<5|Y>>>27)+Vt+yn+Jn+te[xn]&4294967295;yn=Dt,Dt=Qe,Qe=4294967295&(Ae<<30|Ae>>>2),Ae=Y,Y=ai}this.chain_[0]=this.chain_[0]+Y&4294967295,this.chain_[1]=this.chain_[1]+Ae&4294967295,this.chain_[2]=this.chain_[2]+Qe&4294967295,this.chain_[3]=this.chain_[3]+Dt&4294967295,this.chain_[4]=this.chain_[4]+yn&4294967295}update(le,J){if(null==le)return;void 0===J&&(J=le.length);const te=J-this.blockSize;let Y=0;const Ae=this.buf_;let Qe=this.inbuf_;for(;Y<J;){if(0===Qe)for(;Y<=te;)this.compress_(le,Y),Y+=this.blockSize;if("string"==typeof le){for(;Y<J;)if(Ae[Qe]=le.charCodeAt(Y),++Qe,++Y,Qe===this.blockSize){this.compress_(Ae),Qe=0;break}}else for(;Y<J;)if(Ae[Qe]=le[Y],++Qe,++Y,Qe===this.blockSize){this.compress_(Ae),Qe=0;break}}this.inbuf_=Qe,this.total_+=J}digest(){const le=[];let J=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Y=this.blockSize-1;Y>=56;Y--)this.buf_[Y]=255&J,J/=256;this.compress_(this.buf_);let te=0;for(let Y=0;Y<5;Y++)for(let Ae=24;Ae>=0;Ae-=8)le[te]=this.chain_[Y]>>Ae&255,++te;return le}}function zt(fe,le){const J=new Te(fe,le);return J.subscribe.bind(J)}class Te{constructor(le,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{le(this)}).catch(te=>{this.error(te)})}next(le){this.forEachObserver(J=>{J.next(le)})}error(le){this.forEachObserver(J=>{J.error(le)}),this.close(le)}complete(){this.forEachObserver(le=>{le.complete()}),this.close()}subscribe(le,J,te){let Y;if(void 0===le&&void 0===J&&void 0===te)throw new Error("Missing Observer.");Y=function Ee(fe,le){if("object"!=typeof fe||null===fe)return!1;for(const J of le)if(J in fe&&"function"==typeof fe[J])return!0;return!1}(le,["next","error","complete"])?le:{next:le,error:J,complete:te},void 0===Y.next&&(Y.next=qe),void 0===Y.error&&(Y.error=qe),void 0===Y.complete&&(Y.complete=qe);const Ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Ae}unsubscribeOne(le){void 0===this.observers||void 0===this.observers[le]||(delete this.observers[le],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(le){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,le)}sendOne(le,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[le])try{J(this.observers[le])}catch(te){typeof console<"u"&&console.error&&console.error(te)}})}close(le){this.finalized||(this.finalized=!0,void 0!==le&&(this.finalError=le),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qe(){}const Fe=function(fe,le,J,te){let Y;if(te<le?Y="at least "+le:te>J&&(Y=0===J?"none":"no more than "+J),Y)throw new Error(fe+" failed: Was called with "+te+(1===te?" argument.":" arguments.")+" Expects "+Y+".")};function xt(fe,le){return`${fe} failed: ${le} argument `}function jt(fe,le,J,te){if((!te||J)&&"function"!=typeof J)throw new Error(xt(fe,le)+"must be a valid function.")}function Jt(fe,le,J,te){if((!te||J)&&("object"!=typeof J||null===J))throw new Error(xt(fe,le)+"must be a valid context object.")}const Ht=function(fe){const le=[];let J=0;for(let te=0;te<fe.length;te++){let Y=fe.charCodeAt(te);if(Y>=55296&&Y<=56319){const Ae=Y-55296;te++,U(te<fe.length,"Surrogate pair missing trail surrogate."),Y=65536+(Ae<<10)+(fe.charCodeAt(te)-56320)}Y<128?le[J++]=Y:Y<2048?(le[J++]=Y>>6|192,le[J++]=63&Y|128):Y<65536?(le[J++]=Y>>12|224,le[J++]=Y>>6&63|128,le[J++]=63&Y|128):(le[J++]=Y>>18|240,le[J++]=Y>>12&63|128,le[J++]=Y>>6&63|128,le[J++]=63&Y|128)}return le},Ci=function(fe){let le=0;for(let J=0;J<fe.length;J++){const te=fe.charCodeAt(J);te<128?le++:te<2048?le+=2:te>=55296&&te<=56319?(le+=4,J++):le+=3}return le},Hn=1e3,Li=2,$n=144e5,gr=.5;function pi(fe,le=Hn,J=Li){const te=le*Math.pow(J,fe),Y=Math.round(gr*te*(Math.random()-.5)*2);return Math.min($n,te+Y)}function mo(fe){return fe&&fe._delegate?fe._delegate:fe}},849:(en,Me,Q)=>{var a=Q(5879);let U=null;function K(){return U}class ce{}const Pe=new a.OlP("DocumentToken");let ke=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Ve)},providedIn:"platform"})}return n})();const ut=new a.OlP("Location Initialized");let Ve=(()=>{class n extends ke{constructor(){super(),this._doc=(0,a.f3M)(Pe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(t){const i=K().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=K().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function z(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function G(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function de(n){return n&&"?"!==n[0]?"?"+n:n}let Ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(lt)},providedIn:"root"})}return n})();const me=new a.OlP("appBaseHref");let lt=(()=>{class n extends Ne{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(Pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return z(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+de(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const u=this.prepareExternalUrl(r+de(o));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,o){const u=this.prepareExternalUrl(r+de(o));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(ke),a.LFG(me,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),st=(()=>{class n extends Ne{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=z(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let u=this.prepareExternalUrl(r+de(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,o){let u=this.prepareExternalUrl(r+de(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(ke),a.LFG(me,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})(),mt=(()=>{class n{constructor(t){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function xe(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(G(Ze(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+de(i))}normalize(t){return n.stripTrailingSlash(function at(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+de(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+de(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=de;static#t=this.joinWithSlash=z;static#n=this.stripTrailingSlash=G;static#i=this.\u0275fac=function(i){return new(i||n)(a.LFG(Ne))};static#r=this.\u0275prov=a.Yz7({token:n,factory:function(){return function Re(){return new mt((0,a.LFG)(Ne))}()},providedIn:"root"})}return n})();function Ze(n){return n.replace(/\/index.html$/,"")}var he=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(he||{}),ue=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(ue||{}),Ge=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Ge||{}),Le=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Le||{});function Ce(n,e){return cn((0,a.cg1)(n)[a.wAp.DateFormat],e)}function He(n,e){return cn((0,a.cg1)(n)[a.wAp.TimeFormat],e)}function je(n,e){return cn((0,a.cg1)(n)[a.wAp.DateTimeFormat],e)}function ct(n,e){const t=(0,a.cg1)(n),i=t[a.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===Le.CurrencyDecimal)return t[a.wAp.NumberSymbols][Le.Decimal];if(e===Le.CurrencyGroup)return t[a.wAp.NumberSymbols][Le.Group]}return i}function fn(n){if(!n[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function cn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Fn(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const ni=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,zi={},Po=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var sn=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(sn||{}),Yt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Yt||{}),Qt=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Qt||{});function zt(n,e,t,i){let r=function le(n){if(te(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,u=1]=n.split("-").map(m=>+m);return Te(r,o-1,u)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(ni))return function J(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-t,m=Number(n[5]||0)-i,v=Number(n[6]||0),x=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,u,m,v,x),e}(i)}const e=new Date(n);if(!te(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=we(t,e)||e;let m,u=[];for(;e;){if(m=Po.exec(e),!m){u.push(e);break}{u=u.concat(m.slice(1));const A=u.pop();if(!A)break;e=A}}let v=r.getTimezoneOffset();i&&(v=_r(i,v),r=function fe(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function mo(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(_r(e,r)-r))}(r,i,!0));let x="";return u.forEach(A=>{const L=function xi(n){if(pi[n])return pi[n];let e;switch(n){case"G":case"GG":case"GGG":e=jt(Qt.Eras,ue.Abbreviated);break;case"GGGG":e=jt(Qt.Eras,ue.Wide);break;case"GGGGG":e=jt(Qt.Eras,ue.Narrow);break;case"y":e=xt(Yt.FullYear,1,0,!1,!0);break;case"yy":e=xt(Yt.FullYear,2,0,!0,!0);break;case"yyy":e=xt(Yt.FullYear,3,0,!1,!0);break;case"yyyy":e=xt(Yt.FullYear,4,0,!1,!0);break;case"Y":e=gr(1);break;case"YY":e=gr(2,!0);break;case"YYY":e=gr(3);break;case"YYYY":e=gr(4);break;case"M":case"L":e=xt(Yt.Month,1,1);break;case"MM":case"LL":e=xt(Yt.Month,2,1);break;case"MMM":e=jt(Qt.Months,ue.Abbreviated);break;case"MMMM":e=jt(Qt.Months,ue.Wide);break;case"MMMMM":e=jt(Qt.Months,ue.Narrow);break;case"LLL":e=jt(Qt.Months,ue.Abbreviated,he.Standalone);break;case"LLLL":e=jt(Qt.Months,ue.Wide,he.Standalone);break;case"LLLLL":e=jt(Qt.Months,ue.Narrow,he.Standalone);break;case"w":e=$n(1);break;case"ww":e=$n(2);break;case"W":e=$n(1,!0);break;case"d":e=xt(Yt.Date,1);break;case"dd":e=xt(Yt.Date,2);break;case"c":case"cc":e=xt(Yt.Day,1);break;case"ccc":e=jt(Qt.Days,ue.Abbreviated,he.Standalone);break;case"cccc":e=jt(Qt.Days,ue.Wide,he.Standalone);break;case"ccccc":e=jt(Qt.Days,ue.Narrow,he.Standalone);break;case"cccccc":e=jt(Qt.Days,ue.Short,he.Standalone);break;case"E":case"EE":case"EEE":e=jt(Qt.Days,ue.Abbreviated);break;case"EEEE":e=jt(Qt.Days,ue.Wide);break;case"EEEEE":e=jt(Qt.Days,ue.Narrow);break;case"EEEEEE":e=jt(Qt.Days,ue.Short);break;case"a":case"aa":case"aaa":e=jt(Qt.DayPeriods,ue.Abbreviated);break;case"aaaa":e=jt(Qt.DayPeriods,ue.Wide);break;case"aaaaa":e=jt(Qt.DayPeriods,ue.Narrow);break;case"b":case"bb":case"bbb":e=jt(Qt.DayPeriods,ue.Abbreviated,he.Standalone,!0);break;case"bbbb":e=jt(Qt.DayPeriods,ue.Wide,he.Standalone,!0);break;case"bbbbb":e=jt(Qt.DayPeriods,ue.Narrow,he.Standalone,!0);break;case"B":case"BB":case"BBB":e=jt(Qt.DayPeriods,ue.Abbreviated,he.Format,!0);break;case"BBBB":e=jt(Qt.DayPeriods,ue.Wide,he.Format,!0);break;case"BBBBB":e=jt(Qt.DayPeriods,ue.Narrow,he.Format,!0);break;case"h":e=xt(Yt.Hours,1,-12);break;case"hh":e=xt(Yt.Hours,2,-12);break;case"H":e=xt(Yt.Hours,1);break;case"HH":e=xt(Yt.Hours,2);break;case"m":e=xt(Yt.Minutes,1);break;case"mm":e=xt(Yt.Minutes,2);break;case"s":e=xt(Yt.Seconds,1);break;case"ss":e=xt(Yt.Seconds,2);break;case"S":e=xt(Yt.FractionalSeconds,1);break;case"SS":e=xt(Yt.FractionalSeconds,2);break;case"SSS":e=xt(Yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ht(sn.Short);break;case"ZZZZZ":e=Ht(sn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ht(sn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ht(sn.Long);break;default:return null}return pi[n]=e,e}(A);x+=L?L(r,t,v):"''"===A?"'":A.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),x}function Te(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function we(n,e){const t=function ot(n){return(0,a.cg1)(n)[a.wAp.LocaleId]}(n);if(zi[t]=zi[t]||{},zi[t][e])return zi[t][e];let i="";switch(e){case"shortDate":i=Ce(n,Ge.Short);break;case"mediumDate":i=Ce(n,Ge.Medium);break;case"longDate":i=Ce(n,Ge.Long);break;case"fullDate":i=Ce(n,Ge.Full);break;case"shortTime":i=He(n,Ge.Short);break;case"mediumTime":i=He(n,Ge.Medium);break;case"longTime":i=He(n,Ge.Long);break;case"fullTime":i=He(n,Ge.Full);break;case"short":const r=we(n,"shortTime"),o=we(n,"shortDate");i=Ee(je(n,Ge.Short),[r,o]);break;case"medium":const u=we(n,"mediumTime"),m=we(n,"mediumDate");i=Ee(je(n,Ge.Medium),[u,m]);break;case"long":const v=we(n,"longTime"),x=we(n,"longDate");i=Ee(je(n,Ge.Long),[v,x]);break;case"full":const A=we(n,"fullTime"),L=we(n,"fullDate");i=Ee(je(n,Ge.Full),[A,L])}return i&&(zi[t][e]=i),i}function Ee(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function qe(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=t));let u=String(n);for(;u.length<e;)u="0"+u;return i&&(u=u.slice(u.length-e)),o+u}function xt(n,e,t=0,i=!1,r=!1){return function(o,u){let m=function mn(n,e){switch(n){case Yt.FullYear:return e.getFullYear();case Yt.Month:return e.getMonth();case Yt.Date:return e.getDate();case Yt.Hours:return e.getHours();case Yt.Minutes:return e.getMinutes();case Yt.Seconds:return e.getSeconds();case Yt.FractionalSeconds:return e.getMilliseconds();case Yt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||m>-t)&&(m+=t),n===Yt.Hours)0===m&&-12===t&&(m=12);else if(n===Yt.FractionalSeconds)return function Fe(n,e){return qe(n,3).substring(0,e)}(m,e);const v=ct(u,Le.MinusSign);return qe(m,e,v,i,r)}}function jt(n,e,t=he.Format,i=!1){return function(r,o){return function Jt(n,e,t,i,r,o){switch(t){case Qt.Months:return function un(n,e,t){const i=(0,a.cg1)(n),o=cn([i[a.wAp.MonthsFormat],i[a.wAp.MonthsStandalone]],e);return cn(o,t)}(e,r,i)[n.getMonth()];case Qt.Days:return function nn(n,e,t){const i=(0,a.cg1)(n),o=cn([i[a.wAp.DaysFormat],i[a.wAp.DaysStandalone]],e);return cn(o,t)}(e,r,i)[n.getDay()];case Qt.DayPeriods:const u=n.getHours(),m=n.getMinutes();if(o){const x=function tn(n){const e=(0,a.cg1)(n);return fn(e),(e[a.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Fn(i):[Fn(i[0]),Fn(i[1])])}(e),A=function Dn(n,e,t){const i=(0,a.cg1)(n);fn(i);const o=cn([i[a.wAp.ExtraData][0],i[a.wAp.ExtraData][1]],e)||[];return cn(o,t)||[]}(e,r,i),L=x.findIndex(q=>{if(Array.isArray(q)){const[ne,ae]=q,ye=u>=ne.hours&&m>=ne.minutes,We=u<ae.hours||u===ae.hours&&m<ae.minutes;if(ne.hours<ae.hours){if(ye&&We)return!0}else if(ye||We)return!0}else if(q.hours===u&&q.minutes===m)return!0;return!1});if(-1!==L)return A[L]}return function Kt(n,e,t){const i=(0,a.cg1)(n),o=cn([i[a.wAp.DayPeriodsFormat],i[a.wAp.DayPeriodsStandalone]],e);return cn(o,t)}(e,r,i)[u<12?0:1];case Qt.Eras:return function rn(n,e){return cn((0,a.cg1)(n)[a.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,o,n,e,t,i)}}function Ht(n){return function(e,t,i){const r=-1*i,o=ct(t,Le.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case sn.Short:return(r>=0?"+":"")+qe(u,2,o)+qe(Math.abs(r%60),2,o);case sn.ShortGMT:return"GMT"+(r>=0?"+":"")+qe(u,1,o);case sn.Long:return"GMT"+(r>=0?"+":"")+qe(u,2,o)+":"+qe(Math.abs(r%60),2,o);case sn.Extended:return 0===i?"Z":(r>=0?"+":"")+qe(u,2,o)+":"+qe(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const Ci=0,vi=4;function Li(n){return Te(n.getFullYear(),n.getMonth(),n.getDate()+(vi-n.getDay()))}function $n(n,e=!1){return function(t,i){let r;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,u=t.getDate();r=1+Math.floor((u+o)/7)}else{const o=Li(t),u=function Hn(n){const e=Te(n,Ci,1).getDay();return Te(n,0,1+(e<=vi?vi:vi+7)-e)}(o.getFullYear()),m=o.getTime()-u.getTime();r=1+Math.round(m/6048e5)}return qe(r,n,ct(i,Le.MinusSign))}}function gr(n,e=!1){return function(t,i){return qe(Li(t).getFullYear(),n,ct(i,Le.MinusSign),e)}}const pi={};function _r(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function te(n){return n instanceof Date&&!isNaN(n.valueOf())}const go=/\s+/,Ta=[];let Ko=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=Ta,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(go):Ta}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(go):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(go).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class Yo{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Yo(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const m=i.get(o);i.move(m,u),Ai(m,r)}});for(let r=0,o=i.length;r<o;r++){const m=i.get(r).context;m.index=r,m.count=o,m.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Ai(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Ai(n,e){n.context.$implicit=e.item}let ki=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new bc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Xa("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Xa("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.s_b),a.Y36(a.Rgc))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class bc{constructor(){this.$implicit=null,this.ngIf=null}}function Xa(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}class $r{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ns=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),Ja=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new $r(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Ns,9))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),Fs=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,o]=t.split("."),u=-1===r.indexOf("-")?void 0:a.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,u):this._renderer.removeStyle(this._ngEl.nativeElement,r,u)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),ia=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,o,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.s_b))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]})}return n})();function Ro(n,e){return new a.vHH(2100,!1)}class vo{createSubscription(e,t){return(0,a.rg0)(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){(0,a.rg0)(()=>e.unsubscribe())}}class yr{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const ec=new yr,ra=new vo;let er=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,a.QGY)(t))return ec;if((0,a.F4k)(t))return ra;throw Ro()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.sBO,16))};static#t=this.\u0275pipe=a.Yjl({name:"async",type:n,pure:!1,standalone:!0})}return n})();const Ui=new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),br=new a.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Sa=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(null==t||""===t||t!=t)return null;try{return zt(t,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(u){throw Ro()}}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.soG,16),a.Y36(Ui,24),a.Y36(br,24))};static#t=this.\u0275pipe=a.Yjl({name:"date",type:n,pure:!0,standalone:!0})}return n})(),Bn=(()=>{class n{transform(t,i,r){if(null==t)return null;if(!this.supports(t))throw Ro();return t.slice(i,r)}supports(t){return"string"==typeof t||Array.isArray(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=a.Yjl({name:"slice",type:n,pure:!1,standalone:!0})}return n})(),Pi=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();const sa="browser";function Cr(n){return"server"===n}let Er=(()=>{class n{static#e=this.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new Ir((0,a.LFG)(Pe),window)})}return n})();class Ir{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function aa(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class es extends ce{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Nc extends es{static makeCurrent(){!function pe(n){U||(U=n)}(new Nc)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ll(){return zs=zs||document.querySelector("base"),zs?zs.getAttribute("href"):null}();return null==t?null:function Eo(n){xo=xo||document.createElement("a"),xo.setAttribute("href",n);const e=xo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){zs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ur(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let xo,zs=null,zh=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const yu=new a.OlP("EventManagerPlugins");let Hh=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new a.vHH(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(yu),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();class zl{constructor(e){this._doc=e}}const Hl="ng-app-id";let nd=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Cr(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Hl}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(Hl),o;{const u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=i,this.platformIsServer&&u.setAttribute(Hl,this.appId),u}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const o=this.styleRef,u=o.get(i)?.elements;u?u.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Pe),a.LFG(a.AFp),a.LFG(a.Ojb,8),a.LFG(a.Lbi))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const Cs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Fc=/%COMP%/g,xs=new a.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ii(n,e){return e.map(t=>t.replace(Fc,n))}let dl=(()=>{class n{constructor(t,i,r,o,u,m,v,x=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=u,this.platformId=m,this.ngZone=v,this.nonce=x,this.rendererByCompId=new Map,this.platformIsServer=Cr(m),this.defaultRenderer=new Ra(t,u,v,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===a.ifc.ShadowDom&&(i={...i,encapsulation:a.ifc.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof eh?r.applyToHost(t):r instanceof Ki&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const u=this.doc,m=this.ngZone,v=this.eventManager,x=this.sharedStylesHost,A=this.removeStylesOnCompDestroy,L=this.platformIsServer;switch(i.encapsulation){case a.ifc.Emulated:o=new eh(v,x,i,this.appId,A,u,m,L);break;case a.ifc.ShadowDom:return new hl(v,x,t,i,u,m,this.nonce,L);default:o=new Ki(v,x,i,A,u,m,L)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Hh),a.LFG(nd),a.LFG(a.AFp),a.LFG(xs),a.LFG(Pe),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(a.Ojb))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();class Ra{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Cs[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Jd(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Jd(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new a.vHH(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=Cs[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Cs[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,i,r&a.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=K().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Jd(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class hl extends Ra{constructor(e,t,i,r,o,u,m,v){super(e,o,u,v),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const x=Ii(r.id,r.styles);for(const A of x){const L=document.createElement("style");m&&L.setAttribute("nonce",m),L.textContent=A,this.shadowRoot.appendChild(L)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ki extends Ra{constructor(e,t,i,r,o,u,m,v){super(e,o,u,m),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=v?Ii(v,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class eh extends Ki{constructor(e,t,i,r,o,u,m,v){const x=r+"-"+i.id;super(e,t,i,o,u,m,v,x),this.contentAttr=function Xd(n){return"_ngcontent-%COMP%".replace(Fc,n)}(x),this.hostAttr=function wu(n){return"_nghost-%COMP%".replace(Fc,n)}(x)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let th=(()=>{class n extends zl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Pe))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const Hs=["alt","control","meta","shift"],fl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nh={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Lc=(()=>{class n extends zl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>K().onAndCancel(t,o.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="",m=i.indexOf("code");if(m>-1&&(i.splice(m,1),u="code."),Hs.forEach(x=>{const A=i.indexOf(x);A>-1&&(i.splice(A,1),u+=x+".")}),u+=o,0!=i.length||0===o.length)return null;const v={};return v.domEventName=r,v.fullKey=u,v}static matchEventFullKeyCode(t,i){let r=fl[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Hs.forEach(u=>{u!==r&&(0,nh[u])(t)&&(o+=u+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Pe))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const Br=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:sa},{provide:a.g9A,useValue:function In(){Nc.makeCurrent()},multi:!0},{provide:Pe,useFactory:function Xf(){return(0,a.RDi)(document),document},deps:[]}]),qh=new a.OlP(""),Wi=[{provide:a.rWj,useClass:class td{addToWindow(e){a.dqk.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new a.vHH(5103,!1);return o},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const m=function(v){u=u||v,o--,0==o&&i(u)};r.forEach(v=>{v.whenStable(m)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?K().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Es=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Uc(){return new a.qLn},deps:[]},{provide:yu,useClass:th,multi:!0,deps:[Pe,a.R0b,a.Lbi]},{provide:yu,useClass:Lc,multi:!0,deps:[Pe]},dl,nd,Hh,{provide:a.FYo,useExisting:dl},{provide:class Vi{},useClass:zh,deps:[]},[]];let Vc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(qh,12))};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:[...Es,...Wi],imports:[Pi,a.hGG]})}return n})(),pt=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Pe))};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function ac(){return new pt((0,a.LFG)(Pe))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let Jr=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(i){let r=null;return r=i?new(i||n):a.LFG(fa),r},providedIn:"root"})}return n})(),fa=(()=>{class n extends Jr{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case a.q3G.NONE:return i;case a.q3G.HTML:return(0,a.qzn)(i,"HTML")?(0,a.z3N)(i):(0,a.EiD)(this._doc,String(i)).toString();case a.q3G.STYLE:return(0,a.qzn)(i,"Style")?(0,a.z3N)(i):i;case a.q3G.SCRIPT:if((0,a.qzn)(i,"Script"))return(0,a.z3N)(i);throw new a.vHH(5200,!1);case a.q3G.URL:return(0,a.qzn)(i,"URL")?(0,a.z3N)(i):(0,a.mCW)(String(i));case a.q3G.RESOURCE_URL:if((0,a.qzn)(i,"ResourceURL"))return(0,a.z3N)(i);throw new a.vHH(5201,!1);default:throw new a.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,a.JVY)(t)}bypassSecurityTrustStyle(t){return(0,a.L6k)(t)}bypassSecurityTrustScript(t){return(0,a.eBb)(t)}bypassSecurityTrustUrl(t){return(0,a.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,a.pB0)(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Pe))};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function Gh(n){return new fa(n.get(Pe))}(a.LFG(a.zs3)),r},providedIn:"root"})}return n})();function cc(n){return n instanceof a.Rgc}function lc(n){return"function"==typeof n}function uc(n){return"string"==typeof n}let Gl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,i){1&t&&a._UZ(0,"div",0),2&t&&a.Q6J("innerHTML",i.content,a.oJD)},encapsulation:2}),n})();class ts{constructor(e){this.args=e,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const e=this.viewRef.rootNodes;return 1===e.length&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){1!==this.viewRef.rootNodes[0]&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class pa{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){}destroy(){}}class sr{constructor(e){if(this.options=e,e.vcr)this.compRef=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector});else{const t=e.resolver.resolveComponentFactory(e.component);this.compRef=t.create(e.injector),e.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(e,t){return this.compRef.instance[e]=t,this}setInputs(e){return Object.keys(e).forEach(t=>{this.compRef.instance[t]=e[t]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let ma=(()=>{class n{constructor(t,i,r){this.resolver=t,this.injector=i,this.appRef=r}createComponent(t,i={}){return new sr({component:t,vcr:i.vcr,injector:i.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(t,i={}){return new ts({vcr:i.vcr,appRef:this.appRef,tpl:t,context:i.context})}createView(t,i={}){if(cc(t))return this.createTemplate(t,i);if(lc(t))return this.createComponent(t,i);if(uc(t))return new pa(t);throw"Type of content is not supported"}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a._Vd),a.LFG(a.zs3),a.LFG(a.z2F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ah=(()=>{class n{constructor(t,i,r){this.defaultTpl=t,this.vcr=i,this.viewService=r}ngOnInit(){this.resolveContentType()}ngOnChanges(t){t.view&&!t.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){this.viewRef?.destroy(),uc(this.view)?(this.viewRef=this.viewService.createComponent(Gl,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:this.injector??this.vcr.injector,context:this.context})}ngOnDestroy(){this.viewRef?.destroy()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc),a.Y36(a.s_b),a.Y36(ma))},n.\u0275dir=a.lG2({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[a.TTD]}),n})(),us=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();var zn=Q(8645),ar=Q(5592),Do=Q(4829);const{isArray:Wl}=Array;var ci=Q(8251);function Bc(n){return new ar.y(e=>{(0,Do.Xf)(n()).subscribe(e)})}var Nr=Q(9360);function cr(n,e){return(0,Nr.e)((t,i)=>{let r=0;t.subscribe((0,ci.x)(i,o=>n.call(e,o,r++)&&i.next(o)))})}var tr=Q(9397);const tp=["*"],Ts=function(n,e){return{"border-color":n,"border-right-color":e}};function ad(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1,"\n        "),a._UZ(2,"hot-toast-error",2),a._uU(3,"\n      "),a.qZA()),2&n){const t=a.oxw(3);a.xp6(2),a.Q6J("theme",t.theme)}}function vm(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1,"\n        "),a._UZ(2,"hot-toast-checkmark",2),a._uU(3,"\n      "),a.qZA()),2&n){const t=a.oxw(3);a.xp6(2),a.Q6J("theme",t.theme)}}function cd(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1,"\n        "),a._UZ(2,"hot-toast-warning",2),a._uU(3,"\n      "),a.qZA()),2&n){const t=a.oxw(3);a.xp6(2),a.Q6J("theme",t.theme)}}function ld(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1,"\n        "),a._UZ(2,"hot-toast-info",2),a._uU(3,"\n      "),a.qZA()),2&n){const t=a.oxw(3);a.xp6(2),a.Q6J("theme",t.theme)}}function np(n,e){if(1&n&&(a.TgZ(0,"div",4),a._uU(1,"\n    "),a.TgZ(2,"div",5),a._uU(3,"\n      "),a.YNc(4,ad,4,1,"div",6),a._uU(5,"\n      "),a.YNc(6,vm,4,1,"div",6),a._uU(7,"\n      "),a.YNc(8,cd,4,1,"div",6),a._uU(9,"\n      "),a.YNc(10,ld,4,1,"div",6),a._uU(11,"\n    "),a.qZA(),a._uU(12,"\n  "),a.qZA()),2&n){const t=a.oxw(2);a.xp6(2),a.Q6J("ngSwitch",t.type),a.xp6(2),a.Q6J("ngSwitchCase","error"),a.xp6(2),a.Q6J("ngSwitchCase","success"),a.xp6(2),a.Q6J("ngSwitchCase","warning"),a.xp6(2),a.Q6J("ngSwitchCase","info")}}function ud(n,e){if(1&n&&(a.TgZ(0,"div",1),a._uU(1,"\n  "),a._UZ(2,"hot-toast-loader",2),a._uU(3,"\n  "),a.YNc(4,np,13,5,"div",3),a._uU(5,"\n"),a.qZA()),2&n){const t=a.oxw();a.xp6(2),a.Q6J("theme",t.theme),a.xp6(2),a.Q6J("ngIf","loading"!==t.type)}}const Zl=["hotToastBarBase"];function Wh(n,e){if(1&n&&(a.ynx(0),a._uU(1,"\n          "),a.TgZ(2,"hot-toast-animated-icon",10),a._uU(3),a.qZA(),a._uU(4,"\n        "),a.BQk()),2&n){const t=a.oxw(2);a.xp6(2),a.Q6J("iconTheme",t.toast.iconTheme),a.xp6(1),a.Oqu(t.toast.icon)}}function ch(n,e){if(1&n&&(a._uU(0,"\n          "),a.TgZ(1,"div"),a._uU(2,"\n            "),a.GkF(3,11),a._uU(4,"\n          "),a.qZA(),a._uU(5,"\n        ")),2&n){const t=a.oxw(2);a.xp6(3),a.Q6J("dynamicView",t.toast.icon)}}function jc(n,e){if(1&n&&(a.ynx(0),a._uU(1,"\n        "),a.YNc(2,Wh,5,2,"ng-container",4),a._uU(3,"\n        "),a.YNc(4,ch,6,1,"ng-template",null,9,a.W1O),a._uU(6,"\n      "),a.BQk()),2&n){const t=a.MAs(5),i=a.oxw();a.xp6(2),a.Q6J("ngIf",i.isIconString)("ngIfElse",t)}}function zc(n,e){if(1&n&&(a._uU(0,"\n        "),a._UZ(1,"hot-toast-indicator",12),a._uU(2,"\n      ")),2&n){const t=a.oxw();a.xp6(1),a.Q6J("theme",t.toast.iconTheme)("type",t.toast.type)}}function dd(n,e){1&n&&a.GkF(0)}function gl(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",13),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.close())}),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("ngStyle",t.toast.closeStyle)}}function Tu(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"hot-toast",3),a.NdJ("height",function(r){const u=a.CHM(t).$implicit,m=a.oxw();return a.KtG(m.updateHeight(r,u))})("beforeClosed",function(){const o=a.CHM(t).$implicit,u=a.oxw();return a.KtG(u.beforeClosed(o))})("afterClosed",function(r){a.CHM(t);const o=a.oxw();return a.KtG(o.afterClosed(r))}),a.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=a.oxw();a.Q6J("toast",t)("offset",r.calculateOffset(t.id,t.position))("toastRef",r.toastRefs[i])}}const ds={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class Yh{constructor(e){this.toast=e,this._onClosed=new zn.x}get data(){return this.toast.data}set dispose(e){this._dispose=e}getToast(){return this.toast}appendTo(e){const{dispose:t,updateMessage:i,updateToast:r,afterClosed:o}=e.addToast(this);return this.dispose=t,this.updateMessage=i,this.updateToast=r,this.afterClosed=function Fa(...n){return 1===(n=function dc(n){return 1===n.length&&Wl(n[0])?n[0]:n}(n)).length?(0,Do.Xf)(n[0]):new ar.y(function jr(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,Do.Xf)(n[i]).subscribe((0,ci.x)(e,r=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}e.next(r)})))}}(n))}(this._onClosed.asObservable(),o),this}close(e={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:e.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}}let hd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:tp,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(t,i){1&t&&(a.F$t(),a.TgZ(0,"div",0),a._uU(1,"\n  "),a.Hsn(2),a._uU(3,"\n"),a.qZA(),a._uU(4,"\n")),2&t&&a.Udp("color",null==i.iconTheme?null:i.iconTheme.primary)},encapsulation:2,changeDetection:0}),n})(),$s=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(t,i){1&t&&(a._UZ(0,"div",0),a._uU(1,"\n")),2&t&&a.Udp("--check-primary",null==i.theme?null:i.theme.primary)("--check-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),Kl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(t,i){1&t&&(a._UZ(0,"div",0),a._uU(1,"\n")),2&t&&a.Udp("--error-primary",null==i.theme?null:i.theme.primary)("--error-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),Su=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(t,i){1&t&&(a._UZ(0,"div",0),a._uU(1,"\n")),2&t&&a.Q6J("ngStyle",a.WLB(1,Ts,null==i.theme?null:i.theme.primary,null==i.theme?null:i.theme.secondary))},dependencies:[Fs],encapsulation:2,changeDetection:0}),n})(),Yl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(t,i){1&t&&(a._UZ(0,"div",0),a._uU(1,"\n")),2&t&&a.Udp("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),Ql=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(t,i){1&t&&(a._UZ(0,"div",0),a._uU(1,"\n")),2&t&&a.Udp("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),fd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,i){1&t&&(a.YNc(0,ud,6,2,"div",0),a._uU(1,"\n")),2&t&&a.Q6J("ngIf","blank"!==i.type)},dependencies:[ki,Ns,Ja,$s,Kl,Su,Yl,Ql],encapsulation:2,changeDetection:0}),n})(),Xl=(()=>{class n{constructor(t,i,r){this.injector=t,this.renderer=i,this.ngZone=r,this.offset=0,this.height=new a.vpe,this.beforeClosed=new a.vpe,this.afterClosed=new a.vpe,this.isManualClose=!1,this.unlisteners=[]}get toastBarBaseHeight(){return this.toastBarBase.nativeElement.offsetHeight}get containerPositionStyle(){const t=this.toast.position.includes("top"),i=t?{top:0}:{bottom:0},r=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return{transform:`translateY(${this.offset*(t?1:-1)}px)`,...i,...r}}get toastBarBaseStyles(){const t=this.toast.position.includes("top"),i=`hotToastEnterAnimation${t?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`;return{...this.toast.style,animation:this.toast.autoClose?`${i}, hotToastExitAnimation${t?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:i}}get isIconString(){return"string"==typeof this.toast.icon}ngOnChanges(t){t.toast&&!t.toast.firstChange&&t.toast.currentValue?.message&&requestAnimationFrame(()=>{this.height.emit(this.toastBarBase.nativeElement.offsetHeight)})}ngOnInit(){cc(this.toast.message)&&(this.context={$implicit:this.toastRef}),lc(this.toast.message)&&(this.toastComponentInjector=a.zs3.create({providers:[{provide:Yh,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const t=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(t.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(t,"animationstart",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(t,"animationend",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}close(){this.isManualClose=!0;((n,e)=>{this.toastBarBase.nativeElement.style.animation=e})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(t){return t.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const t=this.toast.attributes;for(const[i,r]of Object.entries(t))this.renderer.setAttribute(this.toastBarBase.nativeElement,i,r)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.zs3),a.Y36(a.Qsj),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast"]],viewQuery:function(t,i){if(1&t&&a.Gf(Zl,5),2&t){let r;a.iGM(r=a.CRH())&&(i.toastBarBase=r.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},features:[a.TTD],decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(t,i){if(1&t&&(a.TgZ(0,"div",0),a._uU(1,"\n  "),a.TgZ(2,"div",1,2),a._uU(4,"\n    "),a.TgZ(5,"div",3),a._uU(6,"\n      "),a.YNc(7,jc,7,2,"ng-container",4),a._uU(8,"\n\n      "),a.YNc(9,zc,3,2,"ng-template",null,5,a.W1O),a._uU(11,"\n    "),a.qZA(),a._uU(12,"\n\n    "),a.TgZ(13,"div",6),a._uU(14,"\n      "),a.TgZ(15,"div"),a._uU(16,"\n        "),a.YNc(17,dd,1,0,"ng-container",7),a._uU(18,"\n      "),a.qZA(),a._uU(19,"\n    "),a.qZA(),a._uU(20,"\n\n    "),a.YNc(21,gl,1,1,"button",8),a._uU(22,"\n  "),a.qZA(),a._uU(23,"\n"),a.qZA(),a._uU(24,"\n")),2&t){const r=a.MAs(10);a.Q6J("ngStyle",i.containerPositionStyle)("ngClass","hot-toast-theme-"+i.toast.theme),a.xp6(2),a.Udp("--hot-toast-animation-state",i.isManualClose?"running":"paused"),a.Q6J("ngStyle",i.toastBarBaseStyles)("ngClass",i.toast.className),a.uIk("aria-live",i.toast.ariaLive)("role",i.toast.role),a.xp6(5),a.Q6J("ngIf",void 0!==i.toast.icon)("ngIfElse",r),a.xp6(10),a.Q6J("dynamicView",i.toast.message)("dynamicViewContext",i.context)("dynamicViewInjector",i.toastComponentInjector),a.xp6(4),a.Q6J("ngIf",i.toast.dismissible)}},dependencies:[Ko,ki,Fs,ah,hd,fd],encapsulation:2,changeDetection:0}),n})(),Jl=(()=>{class n{constructor(t){this.cdr=t,this.toasts=[],this.toastRefs=[],this._onClosed=new zn.x,this.onClosed$=this._onClosed.asObservable()}trackById(t,i){return i.id}calculateOffset(t,i){const r=this.toasts.filter(m=>m.visible&&m.position===i),o=r.findIndex(m=>m.id===t);return-1!==o?r.slice(...this.defaultConfig.reverseOrder?[o+1]:[0,o]).reduce((m,v)=>m+(v.height||0)+8,0):0}updateHeight(t,i){i.height=t,this.cdr.detectChanges()}addToast(t){this.toastRefs.push(t);const i=t.getToast();return this.toasts.push(t.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(i.id)},updateMessage:r=>{i.message=r,this.updateToasts(i),this.cdr.detectChanges()},updateToast:r=>{this.updateToasts(i,r),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(i)}}closeToast(t){if(t){const i=this.hotToastComponentList.find(r=>r.toast.id===t);i&&i.close()}else this.hotToastComponentList.forEach(i=>i.close())}beforeClosed(t){t.visible=!1}afterClosed(t){this.toasts.findIndex(r=>r.id===t.id)>-1&&(this._onClosed.next(t),this.toasts=this.toasts.filter(r=>r.id!==t.id),this.toastRefs=this.toastRefs.filter(r=>r.getToast().id!==t.id),this.cdr.detectChanges())}hasToast(t){return this.toasts.findIndex(i=>i.id===t)>-1}getAfterClosed(t){return this.onClosed$.pipe(cr(i=>i.id===t.id))}updateToasts(t,i){this.toasts=this.toasts.map(r=>({...r,...r.id===t.id&&{...t,...i}}))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-container"]],viewQuery:function(t,i){if(1&t&&a.Gf(Xl,5),2&t){let r;a.iGM(r=a.CRH())&&(i.hotToastComponentList=r)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0),a._uU(1,"\n  "),a.TgZ(2,"div",1),a._uU(3,"\n    "),a.YNc(4,Tu,1,3,"hot-toast",2),a._uU(5,"\n  "),a.qZA(),a._uU(6,"\n"),a.qZA(),a._uU(7,"\n")),2&t&&(a.xp6(4),a.Q6J("ngForOf",i.toasts)("ngForTrackBy",i.trackById))},dependencies:[qn,Xl],encapsulation:2,changeDetection:0}),n})();class qs{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.info={content:""},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class pd{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let La=(()=>{class n{constructor(t,i,r){this._viewService=t,this.platformId=i,this._isInitialized=!1,this._defaultConfig=new qs,this._defaultPersistConfig=new pd,r&&(this._defaultConfig={...this._defaultConfig,...r})}get defaultConfig(){return this._defaultConfig}set defaultConfig(t){this._defaultConfig={...this._defaultConfig,...t},this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(t,i){return this.createToast(t||this._defaultConfig.blank.content,"blank",{...this._defaultConfig,...i})}error(t,i){return this.createToast(t||this._defaultConfig.error.content,"error",{...this._defaultConfig,...this._defaultConfig?.error,...i})}success(t,i){return this.createToast(t||this._defaultConfig.success.content,"success",{...this._defaultConfig,...this._defaultConfig?.success,...i})}loading(t,i){return this.createToast(t||this._defaultConfig.loading.content,"loading",{...this._defaultConfig,...this._defaultConfig?.loading,...i})}warning(t,i){return this.createToast(t||this._defaultConfig.warning.content,"warning",{...this._defaultConfig,...this._defaultConfig?.warning,...i})}info(t,i){return this.createToast(t||this._defaultConfig.info.content,"info",{...this._defaultConfig,...this._defaultConfig?.info,...i})}observe(t){return i=>{let r,o=0;const u=t.loading??this._defaultConfig.loading?.content,m=t.success??this._defaultConfig.success?.content,v=t.error??this._defaultConfig.error?.content;return Bc(()=>(u&&(r=this.createLoadingToast(u),o=Date.now()),i.pipe((0,tr.b)({...m&&{next:x=>{r=this.createOrUpdateToast(t,x,r,"success",0===o?o:Date.now()-o)}},...v&&{error:x=>{r=this.createOrUpdateToast(t,x,r,"error",0===o?o:Date.now()-o)}}}))))}}close(t){this._componentRef&&this._componentRef.ref.instance.closeToast(t)}init(){Cr(this.platformId)||(this._componentRef=this._viewService.createComponent(Jl).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(t,i,r,o,u){let m=null,v={};if(({content:m,options:v}=this.getContentAndOptions(o,t[o]||(this._defaultConfig[o]?this._defaultConfig[o].content:""))),m=((n,e)=>(n=>"function"==typeof n)(n)?n(e):n)(m,i),r){r.updateMessage(m);const x={type:o,duration:u+ds[o],...v,...v.duration&&{duration:u+v.duration}};r.updateToast(x)}else this.createToast(m,o,v);return r}createToast(t,i,r,o){this._isInitialized||(this._isInitialized=!0,this.init());const u=Date.now(),m=r?.id??u.toString();if(!this.isDuplicate(m)&&(!r.persist?.enabled||r.persist?.enabled&&this.handleStorageValue(m,r))){const v={ariaLive:r?.ariaLive??"polite",createdAt:u,duration:r?.duration??ds[i],id:m,message:t,role:r?.role??"status",type:i,visible:!0,observableMessages:o??void 0,...r};return new Yh(v).appendTo(this._componentRef.ref.instance)}}isDuplicate(t){return this._componentRef.ref.instance.hasToast(t)}handleStorageValue(t,i){let r=1;const o={...this._defaultPersistConfig,...i.persist},u="local"===o.storage?localStorage:sessionStorage,m=o.key.replace(/\${id}/g,t);let v=u.getItem(m);return v?(v=parseInt(v,10),r=v>0?v-1:v):r=o.count,u.setItem(m,r.toString()),r}getContentAndOptions(t,i){let r,o={...this._defaultConfig,...this._defaultConfig[t]};if("string"==typeof i||cc(i)||lc(i))r=i;else{let u;({content:r,...u}=i),o={...o,...u}}return{content:r,options:o}}createLoadingToast(t){let i=null,r={};return({content:i,options:r}=this.getContentAndOptions("loading",t)),this.loading(i,r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ma),a.LFG(a.Lbi),a.LFG(qs,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uh=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:qs,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Pi,us]}),n})();class dh{}class _l{}const ns="*";function Hc(n,e){return{type:7,name:n,definitions:e,options:{}}}function Ri(n,e=null){return{type:4,styles:e,timings:n}}function hc(n,e=null){return{type:3,steps:n,options:e}}function md(n,e=null){return{type:2,steps:n,options:e}}function Ti(n){return{type:6,styles:n,offset:null}}function gd(n,e,t){return{type:0,name:n,styles:e,options:t}}function rp(n){return{type:5,steps:n}}function hs(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class H{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class oe{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,m)=>Math.max(u,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function rt(n){return new a.vHH(3e3,!1)}function Nt(n){switch(n.length){case 0:return new H;case 1:return n[0];default:return new oe(n)}}function pn(n,e,t=new Map,i=new Map){const r=[],o=[];let u=-1,m=null;if(e.forEach(v=>{const x=v.get("offset"),A=x==u,L=A&&m||new Map;v.forEach((q,ne)=>{let ae=ne,ye=q;if("offset"!==ne)switch(ae=n.normalizePropertyName(ae,r),ye){case"!":ye=t.get(ne);break;case ns:ye=i.get(ne);break;default:ye=n.normalizeStyleValue(ne,ae,ye,r)}L.set(ae,ye)}),A||o.push(L),m=L,u=x}),r.length)throw function l_(n){return new a.vHH(3502,!1)}();return o}function Wn(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&eo(t,"start",n)));break;case"done":n.onDone(()=>i(t&&eo(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&eo(t,"destroy",n)))}}function eo(n,e,t){const o=ga(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(o._data=u),o}function ga(n,e,t,i,r="",o=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function to(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function sp(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Jh=(()=>typeof document>"u"?null:document.documentElement)();function qc(n){const e=n.parentNode||n.host||null;return e===Jh?null:e}let bl=null,ef=!1;function tu(n,e){for(;e;){if(e===n)return!0;e=qc(e)}return!1}function fh(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let ph=(()=>{class n{validateStyleProperty(t){return function hh(n){bl||(bl=function bm(){return typeof document<"u"?document.body:null}()||{},ef=!!bl.style&&"WebkitAppearance"in bl.style);let e=!0;return bl.style&&!function Mu(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in bl.style,!e&&ef&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in bl.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return tu(t,i)}getParentElement(t){return qc(t)}query(t,i,r){return fh(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,u,m=[],v){return new H(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})(),bd=(()=>{class n{static#e=this.NOOP=new ph}return n})();const h_=1e3,wm="ng-enter",f_="ng-leave",Cm="ng-trigger",wd=".ng-trigger",cp="ng-animating",p_=".ng-animating";function Au(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:mh(parseFloat(e[1]),e[2])}function mh(n,e){return"s"===e?n*h_:n}function xm(n,e,t){return n.hasOwnProperty("duration")?n:function Cw(n,e,t){let r,o=0,u="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(rt()),{duration:0,delay:0,easing:""};r=mh(parseFloat(m[1]),m[2]);const v=m[3];null!=v&&(o=mh(parseFloat(v),m[4]));const x=m[5];x&&(u=x)}else r=n;if(!t){let m=!1,v=e.length;r<0&&(e.push(function Bt(){return new a.vHH(3100,!1)}()),m=!0),o<0&&(e.push(function Ft(){return new a.vHH(3101,!1)}()),m=!0),m&&e.splice(v,0,rt())}return{duration:r,delay:o,easing:u}}(n,e,t)}function wl(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ny(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Cl(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function fc(n,e,t){e.forEach((i,r)=>{const o=_h(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function ku(n,e){e.forEach((t,i)=>{const r=_h(i);n.style[r]=""})}function gh(n){return Array.isArray(n)?1==n.length?n[0]:md(n):n}const Ou=new RegExp("{{\\s*(.+?)\\s*}}","g");function rf(n){let e=[];if("string"==typeof n){let t;for(;t=Ou.exec(n);)e.push(t[1]);Ou.lastIndex=0}return e}function Cd(n,e,t){const i=n.toString(),r=i.replace(Ou,(o,u)=>{let m=e[u];return null==m&&(t.push(function Ln(n){return new a.vHH(3003,!1)}()),m=""),m.toString()});return r==i?n:r}function nu(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const sf=/-+([a-z0-9])/g;function _h(n){return n.replace(sf,(...e)=>e[1].toUpperCase())}function Ws(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Mn(n){return new a.vHH(3004,!1)}()}}function Im(n,e){return window.getComputedStyle(n)[e]}const y="*";function E(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function S(n,e,t){if(":"==n[0]){const v=function R(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Ry(n){return new a.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof v)return void e.push(v);n=v}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function ym(n){return new a.vHH(3015,!1)}()),e;const r=i[1],o=i[2],u=i[3];e.push(re(r,u));"<"==o[0]&&!(r==y&&u==y)&&e.push(re(u,r))}(i,t,e)):t.push(n),t}const V=new Set(["true","1"]),Z=new Set(["false","0"]);function re(n,e){const t=V.has(n)||Z.has(n),i=V.has(e)||Z.has(e);return(r,o)=>{let u=n==y||n==r,m=e==y||e==o;return!u&&t&&"boolean"==typeof r&&(u=r?V.has(n):Z.has(n)),!m&&i&&"boolean"==typeof o&&(m=o?V.has(e):Z.has(e)),u&&m}}const _e=new RegExp("s*:selfs*,?","g");function Oe(n,e,t,i){return new ht(n).build(e,t,i)}class ht{constructor(e){this._driver=e}build(e,t,i){const r=new On(t);return this._resetContextStyleTimingState(r),Ws(this,gh(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function Mo(){return new a.vHH(3006,!1)}()),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const v=m,x=v.name;x.toString().split(/\s*,\s*/).forEach(A=>{v.name=A,o.push(this.visitState(v,t))}),v.name=x}else if(1==m.type){const v=this.visitTransition(m,t);i+=v.queryCount,r+=v.depCount,u.push(v)}else t.errors.push(function Xi(){return new a.vHH(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(m=>{m instanceof Map&&m.forEach(v=>{rf(v).forEach(x=>{u.hasOwnProperty(x)||o.add(x)})})}),o.size&&(nu(o.values()),t.errors.push(function Du(n,e){return new a.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ws(this,gh(e.animation),t);return{type:1,matchers:E(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:bi(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ws(this,i,t)),options:bi(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(u=>{t.currentTime=i;const m=Ws(this,u,t);return r=Math.max(r,t.currentTime),m});return t.currentTime=r,{type:3,steps:o,options:bi(e.options)}}visitAnimate(e,t){const i=function gi(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return fr(xm(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=fr(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=xm(t,e);return fr(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Ti({});if(5==o.type)r=this.visitKeyframes(o,t);else{let u=e.styles,m=!1;if(!u){m=!0;const x={};i.easing&&(x.easing=i.easing),u=Ti(x)}t.currentTime+=i.duration+i.delay;const v=this.visitStyle(u,t);v.isEmptyStep=m,r=v}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let m of r)"string"==typeof m?m===ns?i.push(m):t.errors.push(new a.vHH(3002,!1)):i.push(Ny(m));let o=!1,u=null;return i.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(u=m.get("easing"),m.delete("easing")),!o))for(let v of m.values())if(v.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((m,v)=>{const x=t.collectedStyles.get(t.currentQuerySelector),A=x.get(v);let L=!0;A&&(o!=r&&o>=A.startTime&&r<=A.endTime&&(t.errors.push(function Fr(n,e,t,i,r){return new a.vHH(3010,!1)}()),L=!1),o=A.startTime),L&&x.set(v,{startTime:o,endTime:r}),t.options&&function m_(n,e,t){const i=e.params||{},r=rf(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function hn(n){return new a.vHH(3001,!1)}())})}(m,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function yl(){return new a.vHH(3011,!1)}()),i;let o=0;const u=[];let m=!1,v=!1,x=0;const A=e.steps.map(wt=>{const kt=this._makeStyleAst(wt,t);let At=null!=kt.offset?kt.offset:function Xn(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(kt.styles),Lt=0;return null!=At&&(o++,Lt=kt.offset=At),v=v||Lt<0||Lt>1,m=m||Lt<x,x=Lt,u.push(Lt),kt});v&&t.errors.push(function a_(){return new a.vHH(3012,!1)}()),m&&t.errors.push(function _d(){return new a.vHH(3200,!1)}());const L=e.steps.length;let q=0;o>0&&o<L?t.errors.push(function vd(){return new a.vHH(3202,!1)}()):0==o&&(q=1/(L-1));const ne=L-1,ae=t.currentTime,ye=t.currentAnimateTimings,We=ye.duration;return A.forEach((wt,kt)=>{const At=q>0?kt==ne?1:q*kt:u[kt],Lt=At*We;t.currentTime=ae+ye.delay+Lt,ye.duration=Lt,this._validateStyleAst(wt,t),wt.offset=At,i.styles.push(wt)}),i}visitReference(e,t){return{type:8,animation:Ws(this,gh(e.animation),t),options:bi(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:bi(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:bi(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,u]=function an(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(_e,"")),n=n.replace(/@\*/g,wd).replace(/@\w+/g,t=>wd+"-"+t.slice(1)).replace(/:animating/g,p_),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,to(t.collectedStyles,t.currentQuerySelector,new Map);const m=Ws(this,gh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:m,originalSelector:e.selector,options:bi(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Qh(){return new a.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:xm(e.timings,t.errors,!0);return{type:12,animation:Ws(this,gh(e.animation),t),timings:i,options:null}}}class On{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function bi(n){return n?(n=wl(n)).params&&(n.params=function Xt(n){return n?wl(n):null}(n.params)):n={},n}function fr(n,e,t){return{duration:n,delay:e,easing:t}}function Zs(n,e,t,i,r,o,u=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:m}}class Gc{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const cf=new RegExp(":enter","g"),xd=new RegExp(":leave","g");function Ed(n,e,t,i,r,o=new Map,u=new Map,m,v,x=[]){return(new Fy).buildKeyframes(n,e,t,i,r,o,u,m,v,x)}class Fy{buildKeyframes(e,t,i,r,o,u,m,v,x,A=[]){x=x||new Gc;const L=new pc(e,t,x,r,o,A,[]);L.options=v;const q=v.delay?Au(v.delay):0;L.currentTimeline.delayNextStep(q),L.currentTimeline.setStyles([u],null,L.errors,v),Ws(this,i,L);const ne=L.timelines.filter(ae=>ae.containsAnimation());if(ne.length&&m.size){let ae;for(let ye=ne.length-1;ye>=0;ye--){const We=ne[ye];if(We.element===t){ae=We;break}}ae&&!ae.allowOnlyTimelineStyles()&&ae.setStyles([m],null,L.errors,v)}return ne.length?ne.map(ae=>ae.buildKeyframes()):[Zs(t,[],[],[],0,q,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const u="number"==typeof o?o:Au(Cd(o,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const u=null!=i.duration?Au(i.duration):null,m=null!=i.delay?Au(i.delay):null;return 0!==u&&e.forEach(v=>{const x=t.appendInstructionToTimeline(v,u,m);o=Math.max(o,x.duration+x.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Ws(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ks);const u=Au(o.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Ws(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Au(e.options.delay):0;e.steps.forEach(u=>{const m=t.createSubContext(e.options);o&&m.delayNextStep(o),Ws(this,u,m),r=Math.max(r,m.currentTimeline.currentTime),i.push(m.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return xm(t.params?Cd(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,m=t.createSubContext().currentTimeline;m.easing=i.easing,e.styles.forEach(v=>{m.forwardTime((v.offset||0)*o),m.setStyles(v.styles,v.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Au(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ks);let u=i;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=m.length;let v=null;m.forEach((x,A)=>{t.currentQueryIndex=A;const L=t.createSubContext(e.options,x);o&&L.delayNextStep(o),x===t.element&&(v=L.currentTimeline),Ws(this,e.animation,L),L.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,L.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,u=Math.abs(o.duration),m=u*(t.currentQueryTotal-1);let v=u*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":v=m-v;break;case"full":v=i.currentStaggerTime}const A=t.currentTimeline;v&&A.delayNextStep(v);const L=A.currentTime;Ws(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-L+(r.startTime-i.currentTimeline.startTime)}}const Ks={};class pc{constructor(e,t,i,r,o,u,m,v){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ks,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new Ly(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Au(i.duration)),null!=i.delay&&(r.delay=Au(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(m=>{(!t||!u.hasOwnProperty(m))&&(u[m]=Cd(o[m],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new pc(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Ks,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new Sk(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,u){let m=[];if(r&&m.push(this.element),e.length>0){e=(e=e.replace(cf,"."+this._enterClassName)).replace(xd,"."+this._leaveClassName);let x=this._driver.query(this.element,e,1!=i);0!==i&&(x=i<0?x.slice(x.length+i,x.length):x.slice(0,i)),m.push(...x)}return!o&&0==m.length&&u.push(function c_(n){return new a.vHH(3014,!1)}()),m}}class Ly{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Ly(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ns),this._currentKeyframe.set(t,ns);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},u=function Dk(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,ns)}else Cl(r,t)}),t}(e,this._globalTimelineStyles);for(let[m,v]of u){const x=Cd(v,o,i);this._pendingStyles.set(m,x),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??ns),this._updateStyle(m,x)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((m,v)=>{const x=Cl(m,new Map,this._backFill);x.forEach((A,L)=>{"!"===A?e.add(L):A===ns&&t.add(L)}),i||x.set("offset",v/this.duration),r.push(x)});const o=e.size?nu(e.values()):[],u=t.size?nu(t.values()):[];if(i){const m=r[0],v=new Map(m);m.set("offset",0),v.set("offset",1),r=[m,v]}return Zs(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class Sk extends Ly{constructor(e,t,i,r,o,u,m=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=m,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],u=i+t,m=t/u,v=Cl(e[0]);v.set("offset",0),o.push(v);const x=Cl(e[0]);x.set("offset",yT(m)),o.push(x);const A=e.length-1;for(let L=1;L<=A;L++){let q=Cl(e[L]);const ne=q.get("offset");q.set("offset",yT((t+ne*i)/u)),o.push(q)}i=u,t=0,r="",e=o}return Zs(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function yT(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Tw{}const Uy=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Sw extends Tw{normalizePropertyName(e,t){return _h(e)}normalizeStyleValue(e,t,i,r){let o="";const u=i.toString().trim();if(Uy.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const m=i.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&r.push(function fs(n,e){return new a.vHH(3005,!1)}())}return u+o}}function Vy(n,e,t,i,r,o,u,m,v,x,A,L,q){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:u,timelines:m,queriedElements:v,preStyleProps:x,postStyleProps:A,totalTime:L,errors:q}}const Dw={};class bT{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function CT(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,u,m,v,x,A){const L=[],q=this.ast.options&&this.ast.options.params||Dw,ae=this.buildStyles(i,m&&m.params||Dw,L),ye=v&&v.params||Dw,We=this.buildStyles(r,ye,L),wt=new Set,kt=new Map,At=new Map,Lt="void"===r,An={params:up(ye,q),delay:this.ast.options?.delay},Pn=A?[]:Ed(e,t,this.ast.animation,o,u,ae,We,An,x,L);let ji=0;if(Pn.forEach(il=>{ji=Math.max(il.duration+il.delay,ji)}),L.length)return Vy(t,this._triggerName,i,r,Lt,ae,We,[],[],kt,At,ji,L);Pn.forEach(il=>{const gm=il.element,u5=to(kt,gm,new Set);il.preStyleProps.forEach(Oy=>u5.add(Oy));const _T=to(At,gm,new Set);il.postStyleProps.forEach(Oy=>_T.add(Oy)),gm!==t&&wt.add(gm)});const Wo=nu(wt.values());return Vy(t,this._triggerName,i,r,Lt,ae,We,Pn,Wo,kt,At,ji)}}function up(n,e){const t=wl(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class xT{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=wl(this.defaultParams);return Object.keys(e).forEach(o=>{const u=e[o];null!==u&&(r[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,m)=>{u&&(u=Cd(u,r,t));const v=this.normalizer.normalizePropertyName(m,t);u=this.normalizer.normalizeStyleValue(m,v,u,t),i.set(m,u)})}),i}}class Ak{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new xT(r.style,r.options&&r.options.params||{},i))}),g_(this.states,"true","1"),g_(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new bT(e,r,this.states))}),this.fallbackTransition=function y2(n,e,t){return new bT(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function g_(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const kk=new Gc;class IT{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=Oe(this._driver,t,i,[]);if(i.length)throw function yd(n){return new a.vHH(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=pn(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let u;const m=new Map;if(o?(u=Ed(this._driver,t,o,wm,f_,new Map,new Map,i,kk,r),u.forEach(A=>{const L=to(m,A.element,new Map);A.postStyleProps.forEach(q=>L.set(q,null))})):(r.push(function u_(){return new a.vHH(3300,!1)}()),u=[]),r.length)throw function Xh(n){return new a.vHH(3504,!1)}();m.forEach((A,L)=>{A.forEach((q,ne)=>{A.set(ne,this._driver.computeStyle(L,ne,ns))})});const x=Nt(u.map(A=>{const L=m.get(A.element);return this._buildPlayer(A,new Map,L)}));return this._playersById.set(e,x),x.onDestroy(()=>this.destroy(e)),this.players.push(x),x}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function M(n){return new a.vHH(3301,!1)}();return t}listen(e,t,i,r){const o=ga(t,"","","");return Wn(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Mw="ng-animate-queued",__="ng-animate-disabled",DT=[],jy={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zy={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},iu="__ng_removed";class y_{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function AT(n){return n??null}(i?e.value:e),i){const o=wl(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const yh="void",Aw=new y_(yh);class MT{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ru(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function w(n,e){return new a.vHH(3302,!1)}();if(null==i||0==i.length)throw function I(n){return new a.vHH(3303,!1)}();if(!function Hy(n){return"start"==n||"done"==n}(i))throw function O(n,e){return new a.vHH(3400,!1)}();const o=to(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};o.push(u);const m=to(this._engine.statesByElement,e,new Map);return m.has(t)||(ru(e,Cm),ru(e,Cm+"-"+t),m.set(t,Aw)),()=>{this._engine.afterFlush(()=>{const v=o.indexOf(u);v>=0&&o.splice(v,1),this._triggers.has(t)||m.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function $(n){return new a.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),u=new kw(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(ru(e,Cm),ru(e,Cm+"-"+t),this._engine.statesByElement.set(e,m=new Map));let v=m.get(t);const x=new y_(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&v&&x.absorbOptions(v.options),m.set(t,x),v||(v=Aw),x.value!==yh&&v.value===x.value){if(!function Tm(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(v.params,x.params)){const ye=[],We=o.matchStyles(v.value,v.params,ye),wt=o.matchStyles(x.value,x.params,ye);ye.length?this._engine.reportError(ye):this._engine.afterFlush(()=>{ku(e,We),fc(e,wt)})}return}const q=to(this._engine.playersByElement,e,[]);q.forEach(ye=>{ye.namespaceId==this.id&&ye.triggerName==t&&ye.queued&&ye.destroy()});let ne=o.matchTransition(v.value,x.value,e,x.params),ae=!1;if(!ne){if(!r)return;ne=o.fallbackTransition,ae=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:ne,fromState:v,toState:x,player:u,isFallbackTransition:ae}),ae||(ru(e,Mw),u.onStart(()=>{w_(e,Mw)})),u.onDone(()=>{let ye=this.players.indexOf(u);ye>=0&&this.players.splice(ye,1);const We=this._engine.playersByElement.get(e);if(We){let wt=We.indexOf(u);wt>=0&&We.splice(wt,1)}}),this.players.push(u),q.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,wd,!0);i.forEach(r=>{if(r[iu])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),u=new Map;if(o){const m=[];if(o.forEach((v,x)=>{if(u.set(x,v.value),this._triggers.has(x)){const A=this.trigger(e,x,yh,r);A&&m.push(A)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Nt(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const v=this._triggers.get(u).fallbackTransition,x=i.get(u)||Aw,A=new y_(yh),L=new kw(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:v,fromState:x,toState:A,player:L,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[iu];(!o||o===jy)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){ru(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(m=>{if(m.name==i.triggerName){const v=ga(o,i.triggerName,i.fromState.value,i.toState.value);v._data=e,Wn(i.player,m.phase,v,m.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Ok{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new MT(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,m=this.driver.getParentElement(t);for(;m;){const v=r.get(m);if(v){const x=i.indexOf(v);i.splice(x+1,0,e),u=!0;break}m=this.driver.getParentElement(m)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(b_(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!b_(t))return;const o=t[iu];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ru(e,__)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),w_(e,__))}removeNode(e,t,i){if(b_(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[iu]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return b_(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,wd,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,p_,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Nt(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[iu];if(t&&t.setForRemoval){if(e[iu]=jy,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(__)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ru(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Nt(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function X(n){return new a.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new Gc,r=[],o=new Map,u=[],m=new Map,v=new Map,x=new Map,A=new Set;this.disabledNodes.forEach(Cn=>{A.add(Cn);const Vn=this.driver.query(Cn,".ng-animate-queued",!0);for(let Qn=0;Qn<Vn.length;Qn++)A.add(Vn[Qn])});const L=this.bodyNode,q=Array.from(this.statesByElement.keys()),ne=kT(q,this.collectedEnterElements),ae=new Map;let ye=0;ne.forEach((Cn,Vn)=>{const Qn=wm+ye++;ae.set(Vn,Qn),Cn.forEach(ir=>ru(ir,Qn))});const We=[],wt=new Set,kt=new Set;for(let Cn=0;Cn<this.collectedLeaveElements.length;Cn++){const Vn=this.collectedLeaveElements[Cn],Qn=Vn[iu];Qn&&Qn.setForRemoval&&(We.push(Vn),wt.add(Vn),Qn.hasAnimation?this.driver.query(Vn,".ng-star-inserted",!0).forEach(ir=>wt.add(ir)):kt.add(Vn))}const At=new Map,Lt=kT(q,Array.from(wt));Lt.forEach((Cn,Vn)=>{const Qn=f_+ye++;At.set(Vn,Qn),Cn.forEach(ir=>ru(ir,Qn))}),e.push(()=>{ne.forEach((Cn,Vn)=>{const Qn=ae.get(Vn);Cn.forEach(ir=>w_(ir,Qn))}),Lt.forEach((Cn,Vn)=>{const Qn=At.get(Vn);Cn.forEach(ir=>w_(ir,Qn))}),We.forEach(Cn=>{this.processLeaveNode(Cn)})});const An=[],Pn=[];for(let Cn=this._namespaceList.length-1;Cn>=0;Cn--)this._namespaceList[Cn].drainQueuedTransitions(t).forEach(Qn=>{const ir=Qn.player,Qa=Qn.element;if(An.push(ir),this.collectedEnterElements.length){const rl=Qa[iu];if(rl&&rl.setForMove){if(rl.previousTriggersValues&&rl.previousTriggersValues.has(Qn.triggerName)){const Py=rl.previousTriggersValues.get(Qn.triggerName),Yd=this.statesByElement.get(Qn.element);if(Yd&&Yd.has(Qn.triggerName)){const Tk=Yd.get(Qn.triggerName);Tk.value=Py,Yd.set(Qn.triggerName,Tk)}}return void ir.destroy()}}const Yf=!L||!this.driver.containsElement(L,Qa),Xu=At.get(Qa),o_=ae.get(Qa),as=this._buildInstruction(Qn,i,o_,Xu,Yf);if(as.errors&&as.errors.length)return void Pn.push(as);if(Yf)return ir.onStart(()=>ku(Qa,as.fromStyles)),ir.onDestroy(()=>fc(Qa,as.toStyles)),void r.push(ir);if(Qn.isFallbackTransition)return ir.onStart(()=>ku(Qa,as.fromStyles)),ir.onDestroy(()=>fc(Qa,as.toStyles)),void r.push(ir);const f5=[];as.timelines.forEach(rl=>{rl.stretchStartingKeyframe=!0,this.disabledNodes.has(rl.element)||f5.push(rl)}),as.timelines=f5,i.append(Qa,as.timelines),u.push({instruction:as,player:ir,element:Qa}),as.queriedElements.forEach(rl=>to(m,rl,[]).push(ir)),as.preStyleProps.forEach((rl,Py)=>{if(rl.size){let Yd=v.get(Py);Yd||v.set(Py,Yd=new Set),rl.forEach((Tk,g2)=>Yd.add(g2))}}),as.postStyleProps.forEach((rl,Py)=>{let Yd=x.get(Py);Yd||x.set(Py,Yd=new Set),rl.forEach((Tk,g2)=>Yd.add(g2))})});if(Pn.length){const Cn=[];Pn.forEach(Vn=>{Cn.push(function Je(n,e){return new a.vHH(3505,!1)}())}),An.forEach(Vn=>Vn.destroy()),this.reportError(Cn)}const ji=new Map,Wo=new Map;u.forEach(Cn=>{const Vn=Cn.element;i.has(Vn)&&(Wo.set(Vn,Vn),this._beforeAnimationBuild(Cn.player.namespaceId,Cn.instruction,ji))}),r.forEach(Cn=>{const Vn=Cn.element;this._getPreviousPlayers(Vn,!1,Cn.namespaceId,Cn.triggerName,null).forEach(ir=>{to(ji,Vn,[]).push(ir),ir.destroy()})});const il=We.filter(Cn=>C_(Cn,v,x)),gm=new Map;dp(gm,this.driver,kt,x,ns).forEach(Cn=>{C_(Cn,v,x)&&il.push(Cn)});const _T=new Map;ne.forEach((Cn,Vn)=>{dp(_T,this.driver,new Set(Cn),v,"!")}),il.forEach(Cn=>{const Vn=gm.get(Cn),Qn=_T.get(Cn);gm.set(Cn,new Map([...Vn?.entries()??[],...Qn?.entries()??[]]))});const Oy=[],d5=[],h5={};u.forEach(Cn=>{const{element:Vn,player:Qn,instruction:ir}=Cn;if(i.has(Vn)){if(A.has(Vn))return Qn.onDestroy(()=>fc(Vn,ir.toStyles)),Qn.disabled=!0,Qn.overrideTotalTime(ir.totalTime),void r.push(Qn);let Qa=h5;if(Wo.size>1){let Xu=Vn;const o_=[];for(;Xu=Xu.parentNode;){const as=Wo.get(Xu);if(as){Qa=as;break}o_.push(Xu)}o_.forEach(as=>Wo.set(as,Qa))}const Yf=this._buildAnimation(Qn.namespaceId,ir,ji,o,_T,gm);if(Qn.setRealPlayer(Yf),Qa===h5)Oy.push(Qn);else{const Xu=this.playersByElement.get(Qa);Xu&&Xu.length&&(Qn.parentPlayer=Nt(Xu)),r.push(Qn)}}else ku(Vn,ir.fromStyles),Qn.onDestroy(()=>fc(Vn,ir.toStyles)),d5.push(Qn),A.has(Vn)&&r.push(Qn)}),d5.forEach(Cn=>{const Vn=o.get(Cn.element);if(Vn&&Vn.length){const Qn=Nt(Vn);Cn.setRealPlayer(Qn)}}),r.forEach(Cn=>{Cn.parentPlayer?Cn.syncPlayerEvents(Cn.parentPlayer):Cn.destroy()});for(let Cn=0;Cn<We.length;Cn++){const Vn=We[Cn],Qn=Vn[iu];if(w_(Vn,f_),Qn&&Qn.hasAnimation)continue;let ir=[];if(m.size){let Yf=m.get(Vn);Yf&&Yf.length&&ir.push(...Yf);let Xu=this.driver.query(Vn,p_,!0);for(let o_=0;o_<Xu.length;o_++){let as=m.get(Xu[o_]);as&&as.length&&ir.push(...as)}}const Qa=ir.filter(Yf=>!Yf.destroyed);Qa.length?Rk(this,Vn,Qa):this.processLeaveNode(Vn)}return We.length=0,Oy.forEach(Cn=>{this.players.push(Cn),Cn.onDone(()=>{Cn.destroy();const Vn=this.players.indexOf(Cn);this.players.splice(Vn,1)}),Cn.play()}),Oy}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let u=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(u=m)}else{const m=this.playersByElement.get(e);if(m){const v=!o||o==yh;m.forEach(x=>{x.queued||!v&&x.triggerName!=r||u.push(x)})}}return(i||r)&&(u=u.filter(m=>!(i&&i!=m.namespaceId||r&&r!=m.triggerName))),u}_beforeAnimationBuild(e,t,i){const o=t.element,u=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const v of t.timelines){const x=v.element,A=x!==o,L=to(i,x,[]);this._getPreviousPlayers(x,A,u,m,t.toState).forEach(ne=>{const ae=ne.getRealPlayer();ae.beforeDestroy&&ae.beforeDestroy(),ne.destroy(),L.push(ne)})}ku(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,u){const m=t.triggerName,v=t.element,x=[],A=new Set,L=new Set,q=t.timelines.map(ae=>{const ye=ae.element;A.add(ye);const We=ye[iu];if(We&&We.removedBeforeQueried)return new H(ae.duration,ae.delay);const wt=ye!==v,kt=function Ow(n){const e=[];return OT(n,e),e}((i.get(ye)||DT).map(ji=>ji.getRealPlayer())).filter(ji=>!!ji.element&&ji.element===ye),At=o.get(ye),Lt=u.get(ye),An=pn(this._normalizer,ae.keyframes,At,Lt),Pn=this._buildPlayer(ae,An,kt);if(ae.subTimeline&&r&&L.add(ye),wt){const ji=new kw(e,m,ye);ji.setRealPlayer(Pn),x.push(ji)}return Pn});x.forEach(ae=>{to(this.playersByQueriedElement,ae.element,[]).push(ae),ae.onDone(()=>function Pk(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,ae.element,ae))}),A.forEach(ae=>ru(ae,cp));const ne=Nt(q);return ne.onDestroy(()=>{A.forEach(ae=>w_(ae,cp)),fc(v,t.toStyles)}),L.forEach(ae=>{to(r,ae,[]).push(ne)}),ne}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new H(e.duration,e.delay)}}class kw{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new H,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>Wn(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){to(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function b_(n){return n&&1===n.nodeType}function $y(n,e){const t=n.style.display;return n.style.display=e??"none",t}function dp(n,e,t,i,r){const o=[];t.forEach(v=>o.push($y(v)));const u=[];i.forEach((v,x)=>{const A=new Map;v.forEach(L=>{const q=e.computeStyle(x,L,r);A.set(L,q),(!q||0==q.length)&&(x[iu]=zy,u.push(x))}),n.set(x,A)});let m=0;return t.forEach(v=>$y(v,o[m++])),u}function kT(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const r=new Set(e),o=new Map;function u(m){if(!m)return 1;let v=o.get(m);if(v)return v;const x=m.parentNode;return v=t.has(x)?x:r.has(x)?1:u(x),o.set(m,v),v}return e.forEach(m=>{const v=u(m);1!==v&&t.get(v).push(m)}),t}function ru(n,e){n.classList?.add(e)}function w_(n,e){n.classList?.remove(e)}function Rk(n,e,t){Nt(t).onDone(()=>n.processLeaveNode(e))}function OT(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof oe?OT(i.players,e):e.push(i)}}function C_(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class Sm{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Ok(e,t,i),this._timelineEngine=new IT(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const u=e+"-"+r;let m=this._triggerCache[u];if(!m){const v=[],A=Oe(this._driver,o,v,[]);if(v.length)throw function eu(n,e){return new a.vHH(3404,!1)}();m=function ET(n,e,t){return new Ak(n,e,t)}(r,A,this._normalizer),this._triggerCache[u]=m}this._transitionEngine.registerTrigger(t,r,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,u]=sp(i);this._timelineEngine.command(o,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[u,m]=sp(i);return this._timelineEngine.listen(u,t,m,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let RT=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&fc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fc(this._element,this._initialStyles),this._endStyles&&(fc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ku(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ku(this._element,this._endStyles),this._endStyles=null),fc(this._element,this._initialStyles),this._state=3)}}return n})();function qy(n){let e=null;return n.forEach((t,i)=>{(function hp(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class NT{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Im(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Nk{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return tu(e,t)}getParentElement(e){return qc(e)}query(e,t,i){return fh(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,u=[]){const v={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(v.easing=o);const x=new Map,A=u.filter(ne=>ne instanceof NT);(function Pu(n,e){return 0===n||0===e})(i,r)&&A.forEach(ne=>{ne.currentSnapshot.forEach((ae,ye)=>x.set(ye,ae))});let L=function nf(n){return n.length?n[0]instanceof Map?n:n.map(e=>Ny(e)):[]}(t).map(ne=>Cl(ne));L=function Ew(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,u)=>{i.has(u)||r.push(u),i.set(u,o)}),r.length)for(let o=1;o<e.length;o++){let u=e[o];r.forEach(m=>u.set(m,Im(n,m)))}}return e}(e,L,x);const q=function PT(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=qy(e[0]),e.length>1&&(i=qy(e[e.length-1]))):e instanceof Map&&(t=qy(e)),t||i?new RT(n,t,i):null}(e,L);return new NT(e,L,v,q)}}let Fk=(()=>{class n extends dh{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?md(t):t;return Id(this._renderer,null,i,"register",[r]),new Lk(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.FYo),a.LFG(Pe))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();class Lk extends _l{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Uk(this._id,e,t||{},this._renderer)}}class Uk{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Id(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Id(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const FT="@.disabled";let Vk=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,u)=>{const m=u?.parentNode(o);m&&u.removeChild(m,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let A=this._rendererCache.get(o);return A||(A=new LT("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,A)),A}const u=i.id,m=i.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const v=A=>{Array.isArray(A)?A.forEach(v):this.engine.registerTrigger(u,m,t,A.name,A)};return i.data.animation.forEach(v),new Bk(this,m,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,m]=o;u(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.FYo),a.LFG(Sm),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();class LT{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==FT?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Bk extends LT{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==FT?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function jk(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function zk(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,m=>{this.factory.scheduleListenerCallback(m._data||-1,i,m)})}return this.delegate.listen(e,t,i)}}let UT=(()=>{class n extends Sm{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Pe),a.LFG(bd),a.LFG(Tw),a.LFG(a.z2F))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const VT=[{provide:dh,useClass:Fk},{provide:Tw,useFactory:function Hk(){return new Sw}},{provide:Sm,useClass:UT},{provide:a.FYo,useFactory:function $k(n,e,t){return new Vk(n,e,t)},deps:[dl,Sm,a.R0b]}],Pw=[{provide:bd,useFactory:()=>new Nk},{provide:a.QbO,useValue:"BrowserAnimations"},...VT],x_=[{provide:bd,useClass:ph},{provide:a.QbO,useValue:"NoopAnimations"},...VT];let wh=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?x_:Pw}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:Pw,imports:[Vc]})}return n})();var Td=Q(4097),bn=Q(2793);class Dm{constructor(e){return e}}class Rw{constructor(){return(0,Td.C6)()}}const jT=new a.OlP("angularfire2._apps"),b2={provide:Dm,useFactory:function Nw(n){return n&&1===n.length?n[0]:new Dm((0,Td.Mq)())},deps:[[new a.FiY,jT]]},zT={provide:Rw,deps:[[new a.FiY,jT]]};function Wk(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Dm(i)}}let Zk=(()=>{class n{constructor(t){(0,Td.KN)("angularfire",bn.q4.full,"core"),(0,Td.KN)("angularfire",bn.q4.full,"app"),(0,Td.KN)("angular",a.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[b2,zT]}),n})();function Kk(n,...e){return{ngModule:Zk,providers:[{provide:jT,useFactory:Wk(n),multi:!0,deps:[a.R0b,a.zs3,bn.HU,...e]}]}}const HT=(0,bn.u3)(Td.ZF,!0);var dt=Q(5861),Ds=Q(534),ou=Q(4537),ie=Q(9058),Ru=Q(7879);const Lw=new Map,qT={activated:!1,tokenObservers:[]},Qk={initialized:!1,enabled:!1};function Ao(n){return Lw.get(n)||Object.assign({},qT)}function Uw(){return Qk}const fp="https://content-firebaseappcheck.googleapis.com/v1",GT="exchangeDebugToken",Vw={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class WT{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,dt.Z)(function*(){t.stop();try{t.pending=new ie.BH,yield function Xk(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ie.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ys=new ie.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function KT(n){if(!Ao(n).activated)throw Ys.create("use-before-activation",{appName:n.name})}function Am(n,e){return Zy.apply(this,arguments)}function Zy(){return(Zy=(0,dt.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const L=yield r.getHeartbeatsHeader();L&&(i["X-Firebase-Client"]=L)}const o={method:"POST",body:JSON.stringify(e),headers:i};let u,m;try{u=yield fetch(n,o)}catch(L){throw Ys.create("fetch-network-error",{originalErrorMessage:L?.message})}if(200!==u.status)throw Ys.create("fetch-status-error",{httpStatus:u.status});try{m=yield u.json()}catch(L){throw Ys.create("fetch-parse-error",{originalErrorMessage:L?.message})}const v=m.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Ys.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const x=1e3*Number(v[1]),A=Date.now();return{token:m.token,expireTimeMillis:A+x,issuedAtTimeMillis:A}})).apply(this,arguments)}function QT(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${fp}/projects/${t}/apps/${i}:${GT}?key=${r}`,body:{debug_token:e}}}const jw="firebase-app-check-database",Ky=1,T_="firebase-app-check-store";let gp=null;function lf(){return(lf=(0,dt.Z)(function*(n,e){const i=(yield function Nu(){return gp||(gp=new Promise((n,e)=>{try{const t=indexedDB.open(jw,Ky);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Ys.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(T_,{keyPath:"compositeKey"})}}catch(t){e(Ys.create("storage-open",{originalErrorMessage:t?.message}))}}),gp)}()).transaction(T_,"readwrite"),o=i.objectStore(T_).put({compositeKey:n,value:e});return new Promise((u,m)=>{o.onsuccess=v=>{u()},i.onerror=v=>{var x;m(Ys.create("storage-set",{originalErrorMessage:null===(x=v.target.error)||void 0===x?void 0:x.message}))}})})).apply(this,arguments)}const _p=new Ru.Yd("@firebase/app-check");function Xy(n,e){return(0,ie.hl)()?function zw(n,e){return function Hw(n,e){return lf.apply(this,arguments)}(function JT(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{_p.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Ww(){return Uw().enabled}function Zw(){return Kw.apply(this,arguments)}function Kw(){return(Kw=(0,dt.Z)(function*(){const n=Uw();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const I2={error:"UNKNOWN_ERROR"};function Jy(n){return ie.US.encodeString(JSON.stringify(n),!1)}function eb(n){return S_.apply(this,arguments)}function S_(){return(S_=(0,dt.Z)(function*(n,e=!1){const t=n.app;KT(t);const i=Ao(t);let o,r=i.token;if(r&&!df(r)&&(i.token=void 0,r=void 0),!r){const v=yield i.cachedTokenPromise;v&&(df(v)?r=v:yield Xy(t,void 0))}if(!e&&r&&df(r))return{token:r.token};let m,u=!1;if(Ww()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Am(QT(t,yield Zw()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const v=yield i.exchangeTokenPromise;return yield Xy(t,v),i.token=v,{token:v.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield Ao(t).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?_p.warn(v.message):_p.error(v),o=v}return r?o?m=df(r)?{token:r.token,internalError:o}:ib(o):(m={token:r.token},i.token=r,yield Xy(t,r)):m=ib(o),u&&function vp(n,e){const t=Ao(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,m),m})).apply(this,arguments)}function tb(n){return uf.apply(this,arguments)}function uf(){return(uf=(0,dt.Z)(function*(n){const e=n.app;KT(e);const{provider:t}=Ao(e);if(Ww()){const i=yield Zw(),{token:r}=yield Am(QT(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function M_(n,e){const t=Ao(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function km(n){const{app:e}=n,t=Ao(e);let i=t.tokenRefresher;i||(i=function nb(n){const{app:e}=n;return new WT((0,dt.Z)(function*(){let i;if(i=Ao(e).token?yield eb(n,!0):yield eb(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Ao(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},Vw.RETRIAL_MIN_WAIT,Vw.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function df(n){return n.expireTimeMillis-Date.now()>0}function ib(n){return{token:Jy(I2),error:n}}class rb{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ao(this.app);for(const t of e)M_(this.app,t.next);return Promise.resolve()}}const Pm="app-check-internal";!function cO(){(0,Ds._registerComponent)(new ou.wA("app-check",n=>function T2(n,e){return new rb(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Pm).initialize()})),(0,Ds._registerComponent)(new ou.wA(Pm,n=>function Yw(n){return{getToken:e=>eb(n,e),getLimitedUseToken:()=>tb(n),addTokenListener:e=>function D_(n,e,t,i){const{app:r}=n,o=Ao(r);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:i,type:e}],o.token&&df(o.token)){const m=o.token;Promise.resolve().then(()=>{t({token:m.token}),km(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>km(n))}(n,"INTERNAL",e),removeTokenListener:e=>M_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ds.registerVersion)("@firebase/app-check","0.8.0")}();class yp{constructor(){return(0,bn.vb)("app-check")}}typeof window<"u"&&window;var bp=Q(6710);function uS(n){return new ar.y(function(e){return{unsubscribe:(0,bp.x)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}function su(n){return new ar.y(function(e){return{unsubscribe:(0,bp.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class wp{constructor(e){return e}}class Sd{constructor(){return(0,bn.vb)("auth")}}const oC=new a.OlP("angularfire2.auth-instances");function fO(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new wp(i)}}const sC={provide:Sd,deps:[[new a.FiY,oC]]},Dd={provide:wp,useFactory:function R2(n,e){const t=(0,bn.JM)("auth",n,e);return t&&new wp(t)},deps:[[new a.FiY,oC],Dm]};let hS=(()=>{class n{constructor(){(0,Td.KN)("angularfire",bn.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Dd,sC]}),n})();function pO(n,...e){return{ngModule:hS,providers:[{provide:oC,useFactory:fO(n),multi:!0,deps:[a.R0b,a.zs3,bn.HU,Rw,[new a.FiY,yp],...e]}]}}const N2=(0,bn.u3)(uS,!0),Qs=(0,bn.u3)(su,!0),mS=(0,bn.u3)(bp.a8,!0),vO=(0,bn.u3)(bp.o,!0),Z2=(0,bn.u3)(bp.a9,!0),Rm=(0,bn.u3)(bp.ai,!0);var $t,Nm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xl={},ub=ub||{},Zn=Nm||self;function Fm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Cp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var N_="closure_uid_"+(1e9*Math.random()>>>0),NO=0;function FO(n,e,t){return n.call.apply(n.bind,arguments)}function LO(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function _a(n,e,t){return(_a=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?FO:LO).apply(null,arguments)}function db(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Xs(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var u=Array(arguments.length-2),m=2;m<arguments.length;m++)u[m-2]=arguments[m];return e.prototype[r].apply(i,u)}}function ff(){this.s=this.s,this.o=this.o}ff.prototype.s=!1,ff.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function _S(n){Object.prototype.hasOwnProperty.call(n,N_)&&n[N_]||(n[N_]=++NO)}(this)},ff.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uC=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function hb(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function vS(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Fm(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let u=0;u<o;u++)n[r+u]=i[u]}else n.push(i)}}function ja(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ja.prototype.h=function(){this.defaultPrevented=!0};var El=function(){if(!Zn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Zn.addEventListener("test",()=>{},e),Zn.removeEventListener("test",()=>{},e)}catch{}return n}();function F_(n){return/^[\s\xa0]*$/.test(n)}function fb(){var n=Zn.navigator;return n&&(n=n.userAgent)?n:""}function Ch(n){return-1!=fb().indexOf(n)}function L_(n){return L_[" "](n),n}L_[" "]=function(){};var dC,n,VO=Ch("Opera"),Lm=Ch("Trident")||Ch("MSIE"),bS=Ch("Edge"),pb=bS||Lm,wS=Ch("Gecko")&&!(-1!=fb().toLowerCase().indexOf("webkit")&&!Ch("Edge"))&&!(Ch("Trident")||Ch("MSIE"))&&!Ch("Edge"),BO=-1!=fb().toLowerCase().indexOf("webkit")&&!Ch("Edge");function mb(){var n=Zn.document;return n?n.documentMode:void 0}e:{var hC="",fC=(n=fb(),wS?/rv:([^\);]+)(\)|;)/.exec(n):bS?/Edge\/([\d\.]+)/.exec(n):Lm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):BO?/WebKit\/(\S+)/.exec(n):VO?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(fC&&(hC=fC?fC[1]:""),Lm){var pC=mb();if(null!=pC&&pC>parseFloat(hC)){dC=String(pC);break e}}dC=hC}var gC=Zn.document&&Lm&&(mb()||parseInt(dC,10))||void 0;function U_(n,e){if(ja.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(wS){e:{try{L_(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:CS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&U_.$.h.call(this)}}Xs(U_,ja);var CS={2:"touch",3:"pen",4:"mouse"};U_.prototype.h=function(){U_.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var V_="closure_listenable_"+(1e6*Math.random()|0),xS=0;function ES(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++xS,this.fa=this.ia=!1}function xp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function B_(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function _C(n){const e={};for(const t in n)e[t]=n[t];return e}const vC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yC(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<vC.length;o++)t=vC[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function j_(n){this.src=n,this.g={},this.h=0}function z_(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=uC(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(xp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Lu(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}j_.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=Lu(n,e,i,r);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new ES(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var bC="closure_lm_"+(1e6*Math.random()|0),wC={};function gb(n,e,t,i,r){if(i&&i.once)return SS(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)gb(n,e[o],t,i,r);return null}return t=vb(t),n&&n[V_]?n.O(e,t,Cp(i)?!!i.capture:!!i,r):IS(n,e,t,!1,i,r)}function IS(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var u=Cp(r)?!!r.capture:!!r,m=DS(n);if(m||(n[bC]=m=new j_(n)),(t=m.add(e,t,i,u,o)).proxy)return t;if(i=function TS(){const e=_b;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)El||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(CC(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function SS(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)SS(n,e[o],t,i,r);return null}return t=vb(t),n&&n[V_]?n.P(e,t,Cp(i)?!!i.capture:!!i,r):IS(n,e,t,!0,i,r)}function H_(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)H_(n,e[o],t,i,r);else i=Cp(i)?!!i.capture:!!i,t=vb(t),n&&n[V_]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Lu(o=n.g[e],t,i,r))&&(xp(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=DS(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Lu(e,t,i,r)),(t=-1<n?e[n]:null)&&Ep(t))}function Ep(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[V_])z_(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(CC(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=DS(e))?(z_(t,n),0==t.h&&(t.src=null,e[bC]=null)):xp(n)}}}function CC(n){return n in wC?wC[n]:wC[n]="on"+n}function _b(n,e){if(n.fa)n=!0;else{e=new U_(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Ep(n),n=t.call(i,e)}return n}function DS(n){return(n=n[bC])instanceof j_?n:null}var xC="__closure_events_fn_"+(1e9*Math.random()>>>0);function vb(n){return"function"==typeof n?n:(n[xC]||(n[xC]=function(e){return n.handleEvent(e)}),n[xC])}function Ms(){ff.call(this),this.i=new j_(this),this.S=this,this.J=null}function va(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new ja(e,n);else if(e instanceof ja)e.target=e.target||n;else{var r=e;yC(e=new ja(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var u=e.g=t[o];r=yb(u,i,!0,e)&&r}if(r=yb(u=e.g=n,i,!0,e)&&r,r=yb(u,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=yb(u=e.g=t[o],i,!1,e)&&r}function yb(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var u=e[o];if(u&&!u.fa&&u.capture==t){var m=u.listener,v=u.la||u.src;u.ia&&z_(n.i,u),r=!1!==m.call(v,i)&&r}}return r&&!i.defaultPrevented}Xs(Ms,ff),Ms.prototype[V_]=!0,Ms.prototype.removeEventListener=function(n,e,t,i){H_(this,n,e,t,i)},Ms.prototype.N=function(){if(Ms.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)xp(t[i]);delete n.g[e],n.h--}}this.J=null},Ms.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ms.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var bb=Zn.JSON.stringify;function $_(){var n=IC;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var EC=new class MS{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new AS,n=>n.reset());class AS{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function zO(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function HO(n){Zn.setTimeout(()=>{throw n},0)}let xh,q_=!1,IC=new class jO{constructor(){this.h=this.g=null}add(e,t){const i=EC.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},kS=()=>{const n=Zn.Promise.resolve(void 0);xh=()=>{n.then($O)}};var $O=()=>{for(var n;n=$_();){try{n.h.call(n.g)}catch(t){HO(t)}var e=EC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}q_=!1};function wb(n,e){Ms.call(this),this.h=n||1,this.g=e||Zn,this.j=_a(this.qb,this),this.l=Date.now()}function TC(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function SC(n,e,t){if("function"==typeof n)t&&(n=_a(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=_a(n.handleEvent,n)}return 2147483647<Number(e)?-1:Zn.setTimeout(n,e||0)}function OS(n){n.g=SC(()=>{n.g=null,n.i&&(n.i=!1,OS(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Xs(wb,Ms),($t=wb.prototype).ga=!1,$t.T=null,$t.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),va(this,"tick"),this.ga&&(TC(this),this.start()))}},$t.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$t.N=function(){wb.$.N.call(this),TC(this),delete this.g};class PS extends ff{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:OS(this)}N(){super.N(),this.g&&(Zn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ip(n){ff.call(this),this.h=n,this.g={}}Xs(Ip,ff);var RS=[];function G_(n,e,t,i){Array.isArray(t)||(t&&(RS[0]=t.toString()),t=RS);for(var r=0;r<t.length;r++){var o=gb(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function NS(n){B_(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ep(e)},n),n.g={}}function Cb(){this.g=!0}function Um(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ZO(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return bb(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Ip.prototype.N=function(){Ip.$.N.call(this),NS(this)},Ip.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cb.prototype.Ea=function(){this.g=!1},Cb.prototype.info=function(){};var pf={},DC=null;function xb(){return DC=DC||new Ms}function KO(n){ja.call(this,pf.Ta,n)}function Vm(n){const e=xb();va(e,new KO(e))}function MC(n,e){ja.call(this,pf.STAT_EVENT,n),this.stat=e}function Wc(n){const e=xb();va(e,new MC(e,n))}function W_(n,e){ja.call(this,pf.Ua,n),this.size=e}function Z_(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Zn.setTimeout(function(){n()},e)}pf.Ta="serverreachability",Xs(KO,ja),pf.STAT_EVENT="statevent",Xs(MC,ja),pf.Ua="timingevent",Xs(W_,ja);var Eb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ib={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function AC(){}function Bm(){}AC.prototype.h=null;var Zc,ps={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Eh(){ja.call(this,"d")}function jm(){ja.call(this,"c")}function zm(){}function Md(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Ip(this),this.P=Hm,this.V=new wb(n=pb?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Tp}function Tp(){this.i=null,this.g="",this.h=!1}Xs(Eh,ja),Xs(jm,ja),Xs(zm,AC),zm.prototype.g=function(){return new XMLHttpRequest},zm.prototype.i=function(){return{}},Zc=new zm;var Hm=45e3,mf={},Ih={};function gf(n,e,t){n.L=1,n.v=Mb(Th(e)),n.s=t,n.S=!0,Sp(n,null)}function Sp(n,e){n.G=Date.now(),$m(n),n.A=Th(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),HS(t.i,"t",i),n.C=0,t=n.l.J,n.h=new Tp,n.g=QC(n.l,t?e:null,!n.s),0<n.O&&(n.M=new PS(_a(n.Pa,n,n.g),n.O)),G_(n.U,n.g,"readystatechange",n.nb),e=n.I?_C(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Vm(),function qO(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",m=o.split("&"),v=0;v<m.length;v++){var x=m[v].split("=");if(1<x.length){var A=x[0];x=x[1];var L=A.split("_");u=2<=L.length&&"type"==L[1]?u+(A+"=")+x+"&":u+(A+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Dp(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Mp(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=FS(n,t),r==Ih){4==e&&(n.o=4,Wc(14),i=!1),Um(n.j,n.m,null,"[Incomplete Response]");break}if(r==mf){n.o=4,Wc(15),Um(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Um(n.j,n.m,r,null),Tb(n,r)}Dp(n)&&r!=Ih&&r!=mf&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Wc(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),lv(e),e.M=!0,Wc(11))):(Um(n.j,n.m,t,"[Invalid Chunked Response]"),_f(n),qm(n))}function FS(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Ih:(t=Number(e.substring(t,i)),isNaN(t)?mf:(i+=1)+t>e.length?Ih:(e=e.slice(i,i+t),n.C=i+t,e))}function $m(n){n.Y=Date.now()+n.P,kC(n,n.P)}function kC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Z_(_a(n.lb,n),e)}function K_(n){n.B&&(Zn.clearTimeout(n.B),n.B=null)}function qm(n){0==n.l.H||n.J||WC(n.l,n)}function _f(n){K_(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,TC(n.V),NS(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Tb(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||FC(t.i,n)))if(!n.K&&FC(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;uv(t),Fb(t)}cv(t),Wc(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=Z_(_a(t.ib,t),6e3));if(1>=$S(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else yf(t,11)}else if((n.K||t.g==n)&&uv(t),!F_(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let x=r[e];if(t.V=x[0],x=x[1],2==t.H)if("c"==x[0]){t.K=x[1],t.pa=x[2];const A=x[3];null!=A&&(t.ra=A,t.l.info("VER="+t.ra));const L=x[4];null!=L&&(t.Ga=L,t.l.info("SVER="+t.Ga));const q=x[5];null!=q&&"number"==typeof q&&0<q&&(t.L=i=1.5*q,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const ne=n.g;if(ne){const ae=ne.g?ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ae){var o=i.i;o.g||-1==ae.indexOf("spdy")&&-1==ae.indexOf("quic")&&-1==ae.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(ev(o,o.h),o.h=null))}if(i.F){const ye=ne.g?ne.g.getResponseHeader("X-HTTP-Session-Id"):null;ye&&(i.Da=ye,lo(i.I,i.F,ye))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var u=n;if((i=t).wa=YC(i,i.J?i.pa:null,i.Y),u.K){qS(i.i,u);var m=u,v=i.L;v&&m.setTimeout(v),m.B&&(K_(m),$m(m)),i.g=u}else qC(i);0<t.j.length&&sv(t)}else"stop"!=x[0]&&"close"!=x[0]||yf(t,7);else 3==t.H&&("stop"==x[0]||"close"==x[0]?"stop"==x[0]?yf(t,7):Nb(t):"noop"!=x[0]&&t.h&&t.h.Aa(x),t.A=0)}Vm()}catch{}}function Sb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Fm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function US(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Fm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function LS(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Fm(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}($t=Md.prototype).setTimeout=function(n){this.P=n},$t.nb=function(n){n=n.target;const e=this.M;e&&3==Vu(n)?e.l():this.Pa(n)},$t.Pa=function(n){try{if(n==this.g)e:{const A=Vu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>A)&&(3!=A||pb||this.g&&(this.h.h||this.g.ja()||QS(this.g)))){this.J||4!=A||7==e||Vm(),K_(this);var t=this.g.da();this.ca=t;t:if(Dp(this)){var i=QS(this.g);n="";var r=i.length,o=4==Vu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){_f(this),qm(this);var u="";break t}this.h.i=new Zn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function GO(n,e,t,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.W,A,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F_(m)){var x=m;break t}}x=null}if(!(t=x)){this.i=!1,this.o=3,Wc(12),_f(this),qm(this);break e}Um(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tb(this,t)}this.S?(Mp(this,A,u),pb&&this.i&&3==A&&(G_(this.U,this.V,"tick",this.mb),this.V.start())):(Um(this.j,this.m,u,null),Tb(this,u)),4==A&&_f(this),this.i&&!this.J&&(4==A?WC(this.l,this):(this.i=!1,$m(this)))}else(function nP(n){const e={};n=(n.g&&2<=Vu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(F_(n[i]))continue;var t=zO(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function Q2(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Wc(12)):(this.o=0,Wc(13)),_f(this),qm(this)}}}catch{}},$t.mb=function(){if(this.g){var n=Vu(this.g),e=this.g.ja();this.C<e.length&&(K_(this),Mp(this,n,e),this.i&&4!=n&&$m(this))}},$t.cancel=function(){this.J=!0,_f(this)},$t.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function WO(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Vm(),Wc(17)),_f(this),this.o=2,qm(this)):kC(this,this.Y-n)};var VS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gm(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Gm){this.h=n.h,Db(this,n.j),this.s=n.s,this.g=n.g,OC(this,n.m),this.l=n.l;var e=n.i,t=new Zm;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),BS(this,t),this.o=n.o}else n&&(e=String(n).match(VS))?(this.h=!1,Db(this,e[1]||"",!0),this.s=Y_(e[2]||""),this.g=Y_(e[3]||"",!0),OC(this,e[4]),this.l=Y_(e[5]||"",!0),BS(this,e[6]||"",!0),this.o=Y_(e[7]||"")):(this.h=!1,this.i=new Zm(null,this.h))}function Th(n){return new Gm(n)}function Db(n,e,t){n.j=t?Y_(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function OC(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function BS(n,e,t){e instanceof Zm?(n.i=e,function YO(n,e){e&&!n.j&&(vf(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(Km(this,i),HS(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Q_(e,jS)),n.i=new Zm(e,n.h))}function lo(n,e,t){n.i.set(e,t)}function Mb(n){return lo(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Y_(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Q_(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,PC),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function PC(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Gm.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Q_(e,Wm,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Q_(e,Wm,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Q_(t,"/"==t.charAt(0)?Ab:RC,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Q_(t,X_)),n.join("")};var Wm=/[#\/\?@]/g,RC=/[#\?:]/g,Ab=/[#\?]/g,jS=/[#\?@]/g,X_=/#/g;function Zm(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function vf(n){n.g||(n.g=new Map,n.h=0,n.i&&function X2(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Km(n,e){vf(n),e=Ym(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function zS(n,e){return vf(n),e=Ym(n,e),n.g.has(e)}function HS(n,e,t){Km(n,e),0<t.length&&(n.i=null,n.g.set(Ym(n,e),hb(t)),n.h+=t.length)}function Ym(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function J_(n){this.l=n||kb,n=Zn.PerformanceNavigationTiming?0<(n=Zn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Zn.g&&Zn.g.Ka&&Zn.g.Ka()&&Zn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($t=Zm.prototype).add=function(n,e){vf(this),this.i=null,n=Ym(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},$t.forEach=function(n,e){vf(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},$t.ta=function(){vf(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},$t.Z=function(n){vf(this);let e=[];if("string"==typeof n)zS(this,n)&&(e=e.concat(this.g.get(Ym(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},$t.set=function(n,e){return vf(this),this.i=null,zS(this,n=Ym(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},$t.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},$t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),u=this.Z(i);for(i=0;i<u.length;i++){var r=o;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var kb=10;function QO(n){return!!n.h||!!n.g&&n.g.size>=n.j}function $S(n){return n.h?1:n.g?n.g.size:0}function FC(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ev(n,e){n.g?n.g.add(e):n.h=e}function qS(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function LC(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return hb(n.i)}J_.prototype.cancel=function(){if(this.i=LC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var XO=class{stringify(n){return Zn.JSON.stringify(n,void 0)}parse(n){return Zn.JSON.parse(n,void 0)}};function JO(){this.g=new XO}function GS(n,e,t){const i=t||"";try{Sb(n,function(r,o){let u=r;Cp(r)&&(u=bb(r)),e.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function tv(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function nv(n){this.l=n.fc||null,this.j=n.ob||!1}function Ob(n,e){Ms.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=UC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xs(nv,AC),nv.prototype.g=function(){return new Ob(this.l,this.j)},nv.prototype.i=function(n){return function(){return n}}({}),Xs(Ob,Ms);var UC=0;function VC(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Ap(n){n.readyState=4,n.l=null,n.j=null,n.A=null,kp(n)}function kp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}($t=Ob.prototype).open=function(n,e){if(this.readyState!=UC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,kp(this)},$t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Zn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},$t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ap(this)),this.readyState=UC},$t.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,kp(this)),this.g&&(this.readyState=3,kp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Zn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;VC(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},$t.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ap(this):kp(this),3==this.readyState&&VC(this)}},$t.Za=function(n){this.g&&(this.response=this.responseText=n,Ap(this))},$t.Ya=function(n){this.g&&(this.response=n,Ap(this))},$t.ka=function(){this.g&&Ap(this)},$t.setRequestHeader=function(n,e){this.v.append(n,e)},$t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},$t.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ob.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var eP=Zn.JSON.parse;function no(n){Ms.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=iv,this.L=this.M=!1}Xs(no,Ms);var iv="",BC=/^https?$/i,ZS=["POST","PUT"];function KS(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,YS(n),Op(n)}function YS(n){n.F||(n.F=!0,va(n,"complete"),va(n,"error"))}function rv(n){if(n.h&&typeof ub<"u"&&(!n.C[1]||4!=Vu(n)||2!=n.da()))if(n.v&&4==Vu(n))SC(n.La,0,n);else if(va(n,"readystatechange"),4==Vu(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===u){var r=String(n.I).match(VS)[1]||null;!r&&Zn.self&&Zn.self.location&&(r=Zn.self.location.protocol.slice(0,-1)),i=!BC.test(r?r.toLowerCase():"")}t=i}if(t)va(n,"complete"),va(n,"success");else{n.m=6;try{var o=2<Vu(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",YS(n)}}finally{Op(n)}}}function Op(n,e){if(n.g){Pb(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||va(n,"ready");try{t.onreadystatechange=i}catch{}}}function Pb(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Zn.clearTimeout(n.A),n.A=null)}function Vu(n){return n.g?n.g.readyState:0}function QS(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case iv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function jC(n){let e="";return B_(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function ov(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=jC(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):lo(n,e,t))}function Qm(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Rb(n){this.Ga=0,this.j=[],this.l=new Cb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Qm("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Qm("baseRetryDelayMs",5e3,n),this.hb=Qm("retryDelaySeedMs",1e4,n),this.eb=Qm("forwardChannelMaxRetries",2,n),this.xa=Qm("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new J_(n&&n.concurrentRequestLimit),this.Ja=new JO,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Nb(n){if(zC(n),3==n.H){var e=n.W++,t=Th(n.I);if(lo(t,"SID",n.K),lo(t,"RID",e),lo(t,"TYPE","terminate"),av(n,t),(e=new Md(n,n.l,e)).L=2,e.v=Mb(Th(t)),t=!1,Zn.navigator&&Zn.navigator.sendBeacon)try{t=Zn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Zn.Image&&((new Image).src=e.v,t=!0),t||(e.g=QC(e.l,null),e.g.ha(e.v)),e.G=Date.now(),$m(e)}KC(n)}function Fb(n){n.g&&(lv(n),n.g.cancel(),n.g=null)}function zC(n){Fb(n),n.u&&(Zn.clearTimeout(n.u),n.u=null),uv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Zn.clearTimeout(n.m),n.m=null)}function sv(n){if(!QO(n.i)&&!n.m){n.m=!0;var e=n.Na;xh||kS(),q_||(xh(),q_=!0),IC.add(e,n),n.C=0}}function HC(n,e){var t;t=e?e.m:n.W++;const i=Th(n.I);lo(i,"SID",n.K),lo(i,"RID",t),lo(i,"AID",n.V),av(n,i),n.o&&n.s&&ov(i,n.o,n.s),t=new Md(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=$C(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),ev(n.i,t),gf(t,i,e)}function av(n,e){n.na&&B_(n.na,function(t,i){lo(e,i,t)}),n.h&&Sb({},function(t,i){lo(e,i,t)})}function $C(n,e,t){t=Math.min(n.j.length,t);var i=n.h?_a(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const u=["count="+t];-1==o?0<t?(o=r[0].g,u.push("ofs="+o)):o=0:u.push("ofs="+o);let m=!0;for(let v=0;v<t;v++){let x=r[v].g;const A=r[v].map;if(x-=o,0>x)o=Math.max(0,r[v].g-100),m=!1;else try{GS(A,u,"req"+x+"_")}catch{i&&i(A)}}if(m){i=u.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function qC(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;xh||kS(),q_||(xh(),q_=!0),IC.add(e,n),n.A=0}}function cv(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Z_(_a(n.Ma,n),ZC(n,n.A)),n.A++,0))}function lv(n){null!=n.B&&(Zn.clearTimeout(n.B),n.B=null)}function GC(n){n.g=new Md(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Th(n.wa);lo(e,"RID","rpc"),lo(e,"SID",n.K),lo(e,"AID",n.V),lo(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&lo(e,"TO",n.qa),lo(e,"TYPE","xmlhttp"),av(n,e),n.o&&n.s&&ov(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Mb(Th(e)),t.s=null,t.S=!0,Sp(t,n)}function uv(n){null!=n.v&&(Zn.clearTimeout(n.v),n.v=null)}function WC(n,e){var t=null;if(n.g==e){uv(n),lv(n),n.g=null;var i=2}else{if(!FC(n.i,e))return;t=e.F,qS(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;va(i=xb(),new W_(i,t)),sv(n)}else qC(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function XS(n,e){return!($S(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Z_(_a(n.Na,n,e),ZC(n,n.C)),n.C++,0)))}(n,e)||2==i&&cv(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:yf(n,5);break;case 4:yf(n,10);break;case 3:yf(n,6);break;default:yf(n,2)}}function ZC(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function yf(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=_a(n.pb,n);t||(t=new Gm("//www.google.com/images/cleardot.gif"),Zn.location&&"http"==Zn.location.protocol||Db(t,"https"),Mb(t)),function WS(n,e){const t=new Cb;if(Zn.Image){const i=new Image;i.onload=db(tv,t,i,"TestLoadImage: loaded",!0,e),i.onerror=db(tv,t,i,"TestLoadImage: error",!1,e),i.onabort=db(tv,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=db(tv,t,i,"TestLoadImage: timeout",!1,e),Zn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Wc(2);n.H=0,n.h&&n.h.za(e),KC(n),zC(n)}function KC(n){if(n.H=0,n.ma=[],n.h){const e=LC(n.i);(0!=e.length||0!=n.j.length)&&(vS(n.ma,e),vS(n.ma,n.j),n.i.i.length=0,hb(n.j),n.j.length=0),n.h.ya()}}function YC(n,e,t){var i=t instanceof Gm?Th(t):new Gm(t);if(""!=i.g)e&&(i.g=e+"."+i.g),OC(i,i.m);else{var r=Zn.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Gm(null);i&&Db(o,i),e&&(o.g=e),r&&OC(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&lo(i,t,e),lo(i,"VER",n.ra),av(n,i),i}function QC(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new no(t&&n.Ha&&!n.va?new nv({ob:!0}):n.va)).Oa(n.J),e}function dv(){}function Bu(){if(Lm&&!(10<=Number(gC)))throw Error("Environmental error: no available transport.")}function Il(n,e){Ms.call(this),this.g=new Rb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!F_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!F_(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new au(this)}function JS(n){Eh.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Lb(){jm.call(this),this.status=1}function au(n){this.g=n}function ju(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function hv(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],u=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;u=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(u<<7&4294967295|u>>>25))+((u=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((o=(e=t+((u=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((r=o+((u=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Sr(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}($t=no.prototype).Oa=function(n){this.M=n},$t.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zc.g(),this.C=function Uu(n){return n.h||(n.h=n.i())}(this.u?this.u:Zc),this.g.onreadystatechange=_a(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void KS(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=Zn.FormData&&n instanceof Zn.FormData,!(0<=uC(ZS,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,u]of t)this.g.setRequestHeader(o,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Pb(this),0<this.B&&((this.L=function tP(n){return Lm&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_a(this.ua,this)):this.A=SC(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){KS(this,o)}},$t.ua=function(){typeof ub<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,va(this,"timeout"),this.abort(8))},$t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,va(this,"complete"),va(this,"abort"),Op(this))},$t.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Op(this,!0)),no.$.N.call(this)},$t.La=function(){this.s||(this.G||this.v||this.l?rv(this):this.kb())},$t.kb=function(){rv(this)},$t.isActive=function(){return!!this.g},$t.da=function(){try{return 2<Vu(this)?this.g.status:-1}catch{return-1}},$t.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},$t.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),eP(e)}},$t.Ia=function(){return this.m},$t.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},($t=Rb.prototype).ra=8,$t.H=1,$t.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Md(this,this.l,n);let o=this.s;if(this.U&&(o?(o=_C(o),yC(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=$C(this,r,e),lo(t=Th(this.I),"RID",n),lo(t,"CVER",22),this.F&&lo(t,"X-HTTP-Session-Id",this.F),av(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(jC(o)))+"&"+e:this.o&&ov(t,this.o,o)),ev(this.i,r),this.bb&&lo(t,"TYPE","init"),this.P?(lo(t,"$req",e),lo(t,"SID","null"),r.aa=!0,gf(r,t,null)):gf(r,t,e),this.H=2}}else 3==this.H&&(n?HC(this,n):0==this.j.length||QO(this.i)||HC(this))},$t.Ma=function(){if(this.u=null,GC(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Z_(_a(this.jb,this),n)}},$t.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Wc(10),Fb(this),GC(this))},$t.ib=function(){null!=this.v&&(this.v=null,Fb(this),cv(this),Wc(19))},$t.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Wc(2)):(this.l.info("Failed to ping google.com"),Wc(1))},$t.isActive=function(){return!!this.h&&this.h.isActive(this)},($t=dv.prototype).Ba=function(){},$t.Aa=function(){},$t.za=function(){},$t.ya=function(){},$t.isActive=function(){return!0},$t.Va=function(){},Bu.prototype.g=function(n,e){return new Il(n,e)},Xs(Il,Ms),Il.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Wc(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=YC(n,null,n.Y),sv(n)},Il.prototype.close=function(){Nb(this.g)},Il.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=bb(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&sv(e)},Il.prototype.N=function(){this.g.h=null,delete this.j,Nb(this.g),delete this.g,Il.$.N.call(this)},Xs(JS,Eh),Xs(Lb,jm),Xs(au,dv),au.prototype.Ba=function(){va(this.g,"a")},au.prototype.Aa=function(n){va(this.g,new JS(n))},au.prototype.za=function(n){va(this.g,new Lb)},au.prototype.ya=function(){va(this.g,"b")},Xs(ju,function XC(){this.blockSize=-1}),ju.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ju.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)hv(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){hv(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){hv(this,i),r=0;break}}this.h=r,this.i+=e},ju.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var J2={};function JC(n){return-128<=n&&128>n?function yS(n,e){var t=J2;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Sr([0|e],0>e?-1:0)}):new Sr([0|n],0>n?-1:0)}function Ad(n){if(isNaN(n)||!isFinite(n))return uo;if(0>n)return ya(Ad(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=tx;return new Sr(e,0)}var tx=4294967296,uo=JC(0),Ub=JC(1),eD=JC(16777216);function Sh(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Tl(n){return-1==n.h}function ya(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Sr(t,~n.h).add(Ub)}function fv(n,e){return n.add(ya(e))}function pv(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function kd(n,e){this.g=n,this.h=e}function Vb(n,e){if(Sh(e))throw Error("division by zero");if(Sh(n))return new kd(uo,uo);if(Tl(n))return e=Vb(ya(n),e),new kd(ya(e.g),ya(e.h));if(Tl(e))return e=Vb(n,ya(e)),new kd(ya(e.g),e.h);if(30<n.g.length){if(Tl(n)||Tl(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Ub,i=e;0>=i.X(n);)t=tD(t),i=tD(i);var r=Pp(t,1),o=Pp(i,1);for(i=Pp(i,2),t=Pp(t,2);!Sh(i);){var u=o.add(i);0>=u.X(n)&&(r=r.add(t),o=u),i=Pp(i,1),t=Pp(t,1)}return e=fv(n,r.R(e)),new kd(r,e)}for(r=uo;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),u=(o=Ad(t)).R(e);Tl(u)||0<u.X(n);)u=(o=Ad(t-=i)).R(e);Sh(o)&&(o=Ub),r=r.add(o),n=fv(n,u)}return new kd(r,n)}function tD(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Sr(t,n.h)}function Pp(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Sr(r,n.h)}($t=Sr.prototype).ea=function(){if(Tl(this))return-ya(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:tx+i)*e,e*=tx}return n},$t.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Sh(this))return"0";if(Tl(this))return"-"+ya(this).toString(n);for(var e=Ad(Math.pow(n,6)),t=this,i="";;){var r=Vb(t,e).g,o=((0<(t=fv(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Sh(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},$t.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},$t.X=function(n){return Tl(n=fv(this,n))?-1:Sh(n)?0:1},$t.abs=function(){return Tl(this)?ya(this):this},$t.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),u=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=u>>>16,t[r]=(u&=65535)<<16|(o&=65535)}return new Sr(t,-2147483648&t[t.length-1]?-1:0)},$t.R=function(n){if(Sh(this)||Sh(n))return uo;if(Tl(this))return Tl(n)?ya(this).R(ya(n)):ya(ya(this).R(n));if(Tl(n))return ya(this.R(ya(n)));if(0>this.X(eD)&&0>n.X(eD))return Ad(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,u=65535&this.D(i),m=n.D(r)>>>16,v=65535&n.D(r);t[2*i+2*r]+=u*v,pv(t,2*i+2*r),t[2*i+2*r+1]+=o*v,pv(t,2*i+2*r+1),t[2*i+2*r+1]+=u*m,pv(t,2*i+2*r+1),t[2*i+2*r+2]+=o*m,pv(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Sr(t,0)},$t.gb=function(n){return Vb(this,n).h},$t.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Sr(t,this.h&n.h)},$t.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Sr(t,this.h|n.h)},$t.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Sr(t,this.h^n.h)},Bu.prototype.createWebChannel=Bu.prototype.g,Il.prototype.send=Il.prototype.u,Il.prototype.open=Il.prototype.m,Il.prototype.close=Il.prototype.close,Eb.NO_ERROR=0,Eb.TIMEOUT=8,Eb.HTTP_ERROR=6,Ib.COMPLETE="complete",Bm.EventType=ps,ps.OPEN="a",ps.CLOSE="b",ps.ERROR="c",ps.MESSAGE="d",Ms.prototype.listen=Ms.prototype.O,no.prototype.listenOnce=no.prototype.P,no.prototype.getLastError=no.prototype.Sa,no.prototype.getLastErrorCode=no.prototype.Ia,no.prototype.getStatus=no.prototype.da,no.prototype.getResponseJson=no.prototype.Wa,no.prototype.getResponseText=no.prototype.ja,no.prototype.send=no.prototype.ha,no.prototype.setWithCredentials=no.prototype.Oa,ju.prototype.digest=ju.prototype.l,ju.prototype.reset=ju.prototype.reset,ju.prototype.update=ju.prototype.j,Sr.prototype.add=Sr.prototype.add,Sr.prototype.multiply=Sr.prototype.R,Sr.prototype.modulo=Sr.prototype.gb,Sr.prototype.compare=Sr.prototype.X,Sr.prototype.toNumber=Sr.prototype.ea,Sr.prototype.toString=Sr.prototype.toString,Sr.prototype.getBits=Sr.prototype.D,Sr.fromNumber=Ad,Sr.fromString=function ex(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ya(ex(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ad(Math.pow(e,8)),i=uo,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),u=parseInt(n.substring(r,r+o),e);8>o?(o=Ad(Math.pow(e,o)),i=i.R(o).add(Ad(u))):i=(i=i.R(t)).add(Ad(u))}return i};var iP=xl.createWebChannelTransport=function(){return new Bu},nD=xl.getStatEventTarget=function(){return xb()},iD=xl.ErrorCode=Eb,nx=xl.EventType=Ib,ix=xl.Event=pf,zu=xl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},rP=xl.FetchXmlHttpFactory=nv,mv=xl.WebChannel=Bm,Od=xl.XhrIo=no,Hu=xl.Md5=ju,za=xl.Integer=Sr;const rx="@firebase/firestore";class As{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}As.UNAUTHENTICATED=new As(null),As.GOOGLE_CREDENTIALS=new As("google-credentials-uid"),As.FIRST_PARTY=new As("first-party-uid"),As.MOCK_USER=new As("mock-user");let Xm="9.23.0";const bf=new Ru.Yd("@firebase/firestore");function ox(){return bf.logLevel}function Tt(n,...e){if(bf.logLevel<=Ru.in.DEBUG){const t=e.map(Bb);bf.debug(`Firestore (${Xm}): ${n}`,...t)}}function io(n,...e){if(bf.logLevel<=Ru.in.ERROR){const t=e.map(Bb);bf.error(`Firestore (${Xm}): ${n}`,...t)}}function cu(n,...e){if(bf.logLevel<=Ru.in.WARN){const t=e.map(Bb);bf.warn(`Firestore (${Xm}): ${n}`,...t)}}function Bb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ln(n="Unexpected state"){const e=`FIRESTORE (${Xm}) INTERNAL ASSERTION FAILED: `+n;throw io(e),new Error(e)}function wn(n,e){n||ln()}function Gt(n,e){return n}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends ie.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ms{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class sx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(As.UNAUTHENTICATED))}shutdown(){}}class sP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class aP{constructor(e){this.t=e,this.currentUser=As.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=x=>this.i!==r?(r=this.i,t(x)):Promise.resolve();let u=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ms,e.enqueueRetryable(()=>o(this.currentUser))};const m=()=>{const x=u;e.enqueueRetryable((0,dt.Z)(function*(){yield x.promise,yield o(i.currentUser)}))},v=x=>{Tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(x=>v(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?v(x):(Tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ms)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(wn("string"==typeof i.accessToken),new sx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wn(null===e||"string"==typeof e),new As(e)}}class ax{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=As.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class jb{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new ax(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(As.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sD{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=o=>{null!=o.error&&Tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.T;return this.T=o.token,Tt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{Tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):Tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wn("string"==typeof t.token),this.T=t.token,new zb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function aD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class cx{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=aD(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Kn(n,e){return n<e?-1:n>e?1:0}function Rp(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function lx(n){return n+"\0"}class ho{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new vt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new vt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new vt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ho.fromMillis(Date.now())}static fromDate(e){return ho.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new ho(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kn(this.nanoseconds,e.nanoseconds):Kn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Tn(e)}static min(){return new Tn(new ho(0,0))}static max(){return new Tn(new ho(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gv{constructor(e,t,i){void 0===t?t=0:t>e.length&&ln(),void 0===i?i=e.length-t:i>e.length-t&&ln(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===gv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gv?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),u=t.get(r);if(o<u)return-1;if(o>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class $i extends gv{construct(e,t,i){return new $i(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new vt(tt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new $i(t)}static emptyPath(){return new $i([])}}const lP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ho extends gv{construct(e,t,i){return new Ho(e,t,i)}static isValidIdentifier(e){return lP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ho.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ho(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new vt(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const m=e[r];if("\\"===m){if(r+1===e.length)throw new vt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[r+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new vt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=v,r+=2}else"`"===m?(u=!u,r++):"."!==m||u?(i+=m,r++):(o(),r++)}if(o(),u)throw new vt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ho(t)}static emptyPath(){return new Ho([])}}class qt{constructor(e){this.path=e}static fromPath(e){return new qt($i.fromString(e))}static fromName(e){return new qt($i.fromString(e).popFirst(5))}static empty(){return new qt($i.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===$i.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return $i.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qt(new $i(e.slice()))}}class Hb{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function ux(n){return n.fields.find(e=>2===e.kind)}function Np(n){return n.fields.filter(e=>2!==e.kind)}Hb.UNKNOWN_ID=-1;class $b{constructor(e,t){this.fieldPath=e,this.kind=t}}class _v{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new _v(0,Sl.min())}}function cD(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Tn.fromTimestamp(1e9===i?new ho(t+1,0):new ho(t,i));return new Sl(r,qt.empty(),e)}function lD(n){return new Sl(n.readTime,n.key,-1)}class Sl{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Sl(Tn.min(),qt.empty(),-1)}static max(){return new Sl(Tn.max(),qt.empty(),-1)}}function dx(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=qt.comparator(n.documentKey,e.documentKey),0!==t?t:Kn(n.largestBatchId,e.largestBatchId))}const hx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Dh(n){return qb.apply(this,arguments)}function qb(){return qb=(0,dt.Z)(function*(n){if(n.code!==tt.FAILED_PRECONDITION||n.message!==hx)throw n;Tt("LocalStore","Unexpectedly lost primary lease")}),qb.apply(this,arguments)}class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ln(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ke((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ke?t:Ke.resolve(t)}catch(t){return Ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ke.reject(t)}static resolve(e){return new Ke((t,i)=>{t(e)})}static reject(e){return new Ke((t,i)=>{i(e)})}static waitFor(e){return new Ke((t,i)=>{let r=0,o=0,u=!1;e.forEach(m=>{++r,m.next(()=>{++o,u&&o===r&&t()},v=>i(v))}),u=!0,o===r&&t()})}static or(e){let t=Ke.resolve(!1);for(const i of e)t=t.next(r=>r?Ke.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new Ke((i,r)=>{const o=e.length,u=new Array(o);let m=0;for(let v=0;v<o;v++){const x=v;t(e[x]).next(A=>{u[x]=A,++m,m===o&&i(u)},A=>r(A))}})}static doWhile(e,t){return new Ke((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class vv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new ms,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Jm(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=px(i.target.error);this.v.reject(new Jm(e,r))}}static open(e,t,i,r){try{return new vv(t,e.transaction(r,i))}catch(o){throw new Jm(t,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Tt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new dD(t)}}class lu{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===lu.S((0,ie.z$)())&&io("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Tt("SimpleDb","Removing database:",e),Dl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ie.hl)())return!1;if(lu.C())return!0;const e=(0,ie.z$)(),t=lu.S(e),i=0<t&&t<10,r=lu.N(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,dt.Z)(function*(){return t.db||(Tt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new Jm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const m=u.target.error;r("VersionError"===m.name?new vt(tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new vt(tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Jm(e,m))},o.onupgradeneeded=u=>{Tt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.V.O(u.target.result,o.transaction,u.oldVersion,t.version).next(()=>{Tt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,dt.Z)(function*(){const u="readonly"===t;let m=0;for(;;){++m;try{o.db=yield o.$(e);const v=vv.open(o.db,e,u?"readonly":"readwrite",i),x=r(v).next(A=>(v.P(),A)).catch(A=>(v.abort(A),Ke.reject(A))).toPromise();return x.catch(()=>{}),yield v.R,x}catch(v){const x=v,A="FirebaseError"!==x.name&&m<3;if(Tt("SimpleDb","Transaction failed with error:",x.message,"Retrying:",A),o.close(),!A)return Promise.reject(x)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class uD{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Dl(this.L.delete())}}class Jm extends vt{constructor(e,t){super(tt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Pd(n){return"IndexedDbTransactionError"===n.name}class dD{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Tt("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Tt("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Dl(i)}add(e){return Tt("SimpleDb","ADD",this.store.name,e,e),Dl(this.store.add(e))}get(e){return Dl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Tt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Tt("SimpleDb","DELETE",this.store.name,e),Dl(this.store.delete(e))}count(){return Tt("SimpleDb","COUNT",this.store.name),Dl(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(u,m)=>{o.push(m)}).next(()=>o)}{const r=this.store.getAll(i.range);return new Ke((o,u)=>{r.onerror=m=>{u(m.target.error)},r.onsuccess=m=>{o(m.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Ke((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}J(e,t){Tt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,u,m)=>m.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new Ke((i,r)=>{t.onerror=o=>{const u=px(o.target.error);r(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(m=>{m?u.continue():i()}):i()}})}W(e,t){const i=[];return new Ke((r,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const m=u.target.result;if(!m)return void r();const v=new uD(m),x=t(m.primaryKey,m.value,v);if(x instanceof Ke){const A=x.catch(L=>(v.done(),Ke.reject(L)));i.push(A)}v.isDone?r():null===v.K?m.continue():m.continue(v.K)}}).next(()=>Ke.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Dl(n){return new Ke((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=px(i.target.error);t(r)}})}let hD=!1;function px(n){const e=lu.S((0,ie.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new vt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hD||(hD=!0,setTimeout(()=>{throw i},0)),i}}return n}class eg{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Tt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,dt.Z)(function*(){t.task=null;try{Tt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){Pd(i)?Tt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Dh(i)}yield t.et(6e4)}))}}class eU{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,dt.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,o=!0;return Ke.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Tt("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,r).next(m=>{r-=m,i.add(u)});o=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(r,o)).next(m=>(Tt("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>u.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,o)=>{const u=lD(o);dx(u,i)>0&&(i=u)}),new Sl(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let mc=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Gb(n){return null==n}function tg(n){return 0===n&&1/n==-1/0}function mx(n){return"number"==typeof n&&Number.isInteger(n)&&!tg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function gc(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=fD(e)),e=ng(n.get(t),e);return fD(e)}function ng(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function fD(n){return n+"\x01\x01"}function Rd(n){const e=n.length;if(wn(e>=2),2===e)return wn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),$i.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const u=n.indexOf("\x01",o);switch((u<0||u>t)&&ln(),n.charAt(u+1)){case"\x01":const m=n.substring(o,u);let v;0===r.length?v=m:(r+=m,v=r,r=""),i.push(v);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:ln()}o=u+2}return new $i(i)}const pD=["userId","batchId"];function Mh(n,e){return[n,gc(e)]}function mD(n,e,t){return[n,gc(e),t]}const Wb={},Zb=["prefixPath","collectionGroup","readTime","documentId"],Kc=["prefixPath","collectionGroup","documentId"],tU=["collectionGroup","readTime","prefixPath","documentId"],gD=["canonicalId","targetId"],_D=["targetId","path"],hP=["path","targetId"],vD=["collectionId","parent"],yD=["indexId","uid"],bD=["uid","sequenceNumber"],wD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fP=["indexId","uid","orderedDocumentKey"],pP=["userId","collectionPath","documentId"],mP=["userId","collectionPath","largestBatchId"],yv=["userId","collectionGroup","largestBatchId"],CD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],gP=[...CD,"documentOverlays"],xD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bv=xD,ED=[...bv,"indexConfiguration","indexState","indexEntries"];class Kb extends fx{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function ks(n,e){const t=Gt(n);return lu.M(t.ht,e)}function ID(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function uu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ig(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class zr{constructor(e,t){this.comparator=e,this.root=t||ba.EMPTY}insert(e,t){return new zr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ba.BLACK,null,null))}remove(e){return new zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ba.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yb(this.root,e,this.comparator,!0)}}class Yb{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ba{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??ba.RED,this.left=r??ba.EMPTY,this.right=o??ba.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new ba(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ba.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ba.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ba.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ba.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ln();const e=this.left.check();if(e!==this.right.check())throw ln();return e+(this.isRed()?0:1)}}ba.EMPTY=null,ba.RED=!0,ba.BLACK=!1,ba.EMPTY=new class{constructor(){this.size=0}get key(){throw ln()}get value(){throw ln()}get color(){throw ln()}get left(){throw ln()}get right(){throw ln()}copy(n,e,t,i,r){return this}insert(n,e,t){return new ba(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hr{constructor(e){this.comparator=e,this.data=new zr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gx(this.data.getIterator())}getIteratorFrom(e){return new gx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Hr)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Hr(this.comparator);return t.data=e,t}}class gx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fp(n){return n.hasNext()?n.getNext():void 0}class Yc{constructor(e){this.fields=e,e.sort(Ho.comparator)}static empty(){return new Yc([])}unionWith(e){let t=new Hr(Ho.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Yc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rp(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class _x extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Os{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new _x("Invalid base64 string: "+r):r}}(e);return new Os(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new Os(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Os.EMPTY_BYTE_STRING=new Os("");const nU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lp(n){if(wn(!!n),"string"==typeof n){let e=0;const t=nU.exec(n);if(wn(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:is(n.seconds),nanos:is(n.nanos)}}function is(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function wf(n){return"string"==typeof n?Os.fromBase64String(n):Os.fromUint8Array(n)}function wv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Up(n){const e=n.mapValue.fields.__previous_value__;return wv(e)?Up(e):e}function Cv(n){const e=Lp(n.mapValue.fields.__local_write_time__.timestampValue);return new ho(e.seconds,e.nanos)}class vP{constructor(e,t,i,r,o,u,m,v,x){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=v,this.useFetchStreams=x}}class Ah{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ah("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ah&&e.projectId===this.projectId&&e.database===this.database}}const du={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Qb={nullValue:"NULL_VALUE"};function Cf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?wv(n)?4:DD(n)?9007199254740991:10:ln()}function Nd(n,e){if(n===e)return!0;const t=Cf(n);if(t!==Cf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cv(n).isEqual(Cv(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Lp(i.timestampValue),u=Lp(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,wf(n.bytesValue).isEqual(wf(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return is(i.geoPointValue.latitude)===is(r.geoPointValue.latitude)&&is(i.geoPointValue.longitude)===is(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return is(i.integerValue)===is(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=is(i.doubleValue),u=is(r.doubleValue);return o===u?tg(o)===tg(u):isNaN(o)&&isNaN(u)}return!1}(n,e);case 9:return Rp(n.arrayValue.values||[],e.arrayValue.values||[],Nd);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(ID(o)!==ID(u))return!1;for(const m in o)if(o.hasOwnProperty(m)&&(void 0===u[m]||!Nd(o[m],u[m])))return!1;return!0}(n,e);default:return ln()}var r}function xv(n,e){return void 0!==(n.values||[]).find(t=>Nd(t,e))}function Vp(n,e){if(n===e)return 0;const t=Cf(n),i=Cf(e);if(t!==i)return Kn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kn(n.booleanValue,e.booleanValue);case 2:return function(r,o){const u=is(r.integerValue||r.doubleValue),m=is(o.integerValue||o.doubleValue);return u<m?-1:u>m?1:u===m?0:isNaN(u)?isNaN(m)?0:-1:1}(n,e);case 3:return TD(n.timestampValue,e.timestampValue);case 4:return TD(Cv(n),Cv(e));case 5:return Kn(n.stringValue,e.stringValue);case 6:return function(r,o){const u=wf(r),m=wf(o);return u.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const u=r.split("/"),m=o.split("/");for(let v=0;v<u.length&&v<m.length;v++){const x=Kn(u[v],m[v]);if(0!==x)return x}return Kn(u.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const u=Kn(is(r.latitude),is(o.latitude));return 0!==u?u:Kn(is(r.longitude),is(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const u=r.values||[],m=o.values||[];for(let v=0;v<u.length&&v<m.length;++v){const x=Vp(u[v],m[v]);if(x)return x}return Kn(u.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===du.mapValue&&o===du.mapValue)return 0;if(r===du.mapValue)return 1;if(o===du.mapValue)return-1;const u=r.fields||{},m=Object.keys(u),v=o.fields||{},x=Object.keys(v);m.sort(),x.sort();for(let A=0;A<m.length&&A<x.length;++A){const L=Kn(m[A],x[A]);if(0!==L)return L;const q=Vp(u[m[A]],v[x[A]]);if(0!==q)return q}return Kn(m.length,x.length)}(n.mapValue,e.mapValue);default:throw ln()}}function TD(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Kn(n,e);const t=Lp(n),i=Lp(e),r=Kn(t.seconds,i.seconds);return 0!==r?r:Kn(t.nanos,i.nanos)}function Bp(n){return vx(n)}function vx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Lp(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?wf(n.bytesValue).toBase64():"referenceValue"in n?qt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=vx(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const m of r)u?u=!1:o+=",",o+=`${m}:${vx(i.fields[m])}`;return o+"}"}(n.mapValue):ln();var e}function $u(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function yx(n){return!!n&&"integerValue"in n}function rg(n){return!!n&&"arrayValue"in n}function SD(n){return!!n&&"nullValue"in n}function bx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Jb(n){return!!n&&"mapValue"in n}function og(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return uu(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=og(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=og(n.arrayValue.values[t]);return e}return Object.assign({},n)}function DD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function wx(n){return"nullValue"in n?Qb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?$u(Ah.empty(),qt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ln()}function yP(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?$u(Ah.empty(),qt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?du:ln()}function Cx(n,e){const t=Vp(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function xx(n,e){const t=Vp(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class wa{constructor(e){this.value=e}static empty(){return new wa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Jb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=og(t)}setAll(e){let t=Ho.emptyPath(),i={},r=[];e.forEach((u,m)=>{if(!t.isImmediateParentOf(m)){const v=this.getFieldsMap(t);this.applyChanges(v,i,r),i={},r=[],t=m.popLast()}u?i[m.lastSegment()]=og(u):r.push(m.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());Jb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Jb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){uu(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new wa(og(this.value))}}function MD(n){const e=[];return uu(n.fields,(t,i)=>{const r=new Ho([t]);if(Jb(i)){const o=MD(i.mapValue).fields;if(0===o.length)e.push(r);else for(const u of o)e.push(r.child(u))}else e.push(r)}),new Yc(e)}class ro{constructor(e,t,i,r,o,u,m){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=u,this.documentState=m}static newInvalidDocument(e){return new ro(e,0,Tn.min(),Tn.min(),Tn.min(),wa.empty(),0)}static newFoundDocument(e,t,i,r){return new ro(e,1,t,Tn.min(),i,r,0)}static newNoDocument(e,t){return new ro(e,2,t,Tn.min(),Tn.min(),wa.empty(),0)}static newUnknownDocument(e,t){return new ro(e,3,t,Tn.min(),Tn.min(),wa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Tn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ro&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ro(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fd{constructor(e,t){this.position=e,this.inclusive=t}}function AD(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],u=n.position[r];if(i=o.field.isKeyField()?qt.comparator(qt.fromName(u.referenceValue),t.key):Vp(u,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function Ex(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Nd(n.position[t],e.position[t]))return!1;return!0}class sg{constructor(e,t="asc"){this.field=e,this.dir=t}}function bP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class kD{}class Ni extends kD{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new wP(e,t,i):"array-contains"===t?new Mx(e,i):"in"===t?new t0(e,i):"not-in"===t?new ND(e,i):"array-contains-any"===t?new Ax(e,i):new Ni(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new CP(e,i):new xP(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Vp(t,this.value)):null!==t&&Cf(this.value)===Cf(t)&&this.matchesComparison(Vp(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ln()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class pr extends kD{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new pr(e,t)}matches(e){return ag(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ag(n){return"and"===n.op}function Ix(n){return"or"===n.op}function Tx(n){return Sx(n)&&ag(n)}function Sx(n){for(const e of n.filters)if(e instanceof pr)return!1;return!0}function e0(n){if(n instanceof Ni)return n.field.canonicalString()+n.op.toString()+Bp(n.value);if(Tx(n))return n.filters.map(e=>e0(e)).join(",");{const e=n.filters.map(t=>e0(t)).join(",");return`${n.op}(${e})`}}function OD(n,e){return n instanceof Ni?(t=n,(i=e)instanceof Ni&&t.op===i.op&&t.field.isEqual(i.field)&&Nd(t.value,i.value)):n instanceof pr?function(t,i){return i instanceof pr&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,o,u)=>r&&OD(o,i.filters[u]),!0)}(n,e):void ln();var t,i}function PD(n,e){const t=n.filters.concat(e);return pr.create(t,n.op)}function Dx(n){return n instanceof Ni?`${(e=n).field.canonicalString()} ${e.op} ${Bp(e.value)}`:n instanceof pr?function(e){return e.op.toString()+" {"+e.getFilters().map(Dx).join(" ,")+"}"}(n):"Filter";var e}class wP extends Ni{constructor(e,t,i){super(e,t,i),this.key=qt.fromName(i.referenceValue)}matches(e){const t=qt.comparator(e.key,this.key);return this.matchesComparison(t)}}class CP extends Ni{constructor(e,t){super(e,"in",t),this.keys=RD(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xP extends Ni{constructor(e,t){super(e,"not-in",t),this.keys=RD(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function RD(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>qt.fromName(i.referenceValue))}class Mx extends Ni{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rg(t)&&xv(t.arrayValue,this.value)}}class t0 extends Ni{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xv(this.value.arrayValue,t)}}class ND extends Ni{constructor(e,t){super(e,"not-in",t)}matches(e){if(xv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xv(this.value.arrayValue,t)}}class Ax extends Ni{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>xv(this.value.arrayValue,i))}}class EP{constructor(e,t=null,i=[],r=[],o=null,u=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=m,this.dt=null}}function kx(n,e=null,t=[],i=[],r=null,o=null,u=null){return new EP(n,e,t,i,r,o,u)}function kh(n){const e=Gt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>e0(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Gb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Bp(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Bp(i)).join(",")),e.dt=t}return e.dt}function Ev(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!bP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!OD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ex(n.startAt,e.startAt)&&Ex(n.endAt,e.endAt)}function Iv(n){return qt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ld(n,e){return n.filters.filter(t=>t instanceof Ni&&t.field.isEqual(e))}function Ox(n,e,t){let i=Qb,r=!0;for(const o of Ld(n,e)){let u=Qb,m=!0;switch(o.op){case"<":case"<=":u=wx(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,m=!1;break;case"!=":case"not-in":u=Qb}Cx({value:i,inclusive:r},{value:u,inclusive:m})<0&&(i=u,r=m)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];Cx({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function FD(n,e,t){let i=du,r=!0;for(const o of Ld(n,e)){let u=du,m=!0;switch(o.op){case">=":case">":u=yP(o.value),m=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,m=!1;break;case"!=":case"not-in":u=du}xx({value:i,inclusive:r},{value:u,inclusive:m})>0&&(i=u,r=m)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];xx({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class xf{constructor(e,t=null,i=[],r=[],o=null,u="F",m=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=m,this.endAt=v,this.wt=null,this._t=null}}function n0(n,e,t,i,r,o,u,m){return new xf(n,e,t,i,r,o,u,m)}function Ef(n){return new xf(n)}function LD(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function r0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Tv(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Px(n){return null!==n.collectionGroup}function If(n){const e=Gt(n);if(null===e.wt){e.wt=[];const t=Tv(e),i=r0(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new sg(t)),e.wt.push(new sg(Ho.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new sg(Ho.keyField(),o))}}}return e.wt}function Ca(n){const e=Gt(n);if(!e._t)if("F"===e.limitType)e._t=kx(e.path,e.collectionGroup,If(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of If(e))t.push(new sg(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new Fd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Fd(e.startAt.position,e.startAt.inclusive):null;e._t=kx(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function o0(n,e){e.getFirstInequalityField(),Tv(n);const t=n.filters.concat([e]);return new xf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Sv(n,e,t){return new xf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cg(n,e){return Ev(Ca(n),Ca(e))&&n.limitType===e.limitType}function Rx(n){return`${kh(Ca(n))}|lt:${n.limitType}`}function Nx(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>Dx(i)).join(", ")}]`),Gb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Bp(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Bp(i)).join(",")),`Target(${t})`}(Ca(n))}; limitType=${n.limitType})`}function Dv(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):qt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of If(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,u){const m=AD(r,o,u);return r.inclusive?m<=0:m<0}(t.startAt,If(t),i)||t.endAt&&!function(r,o,u){const m=AD(r,o,u);return r.inclusive?m>=0:m>0}(t.endAt,If(t),i)));var t,i}function UD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function VD(n){return(e,t)=>{let i=!1;for(const r of If(n)){const o=BD(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function BD(n,e,t){const i=n.field.isKeyField()?qt.comparator(e.key,t.key):function(r,o,u){const m=o.data.field(r),v=u.data.field(r);return null!==m&&null!==v?Vp(m,v):ln()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ln()}}class Tf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){uu(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return ig(this.inner)}size(){return this.innerSize}}const jD=new zr(qt.comparator);function Qc(){return jD}const zD=new zr(qt.comparator);function s0(...n){let e=zD;for(const t of n)e=e.insert(t.key,t);return e}function HD(n){let e=zD;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ud(){return lg()}function Fx(){return lg()}function lg(){return new Tf(n=>n.toString(),(n,e)=>n.isEqual(e))}const $D=new zr(qt.comparator),IP=new Hr(qt.comparator);function li(...n){let e=IP;for(const t of n)e=e.add(t);return e}const TP=new Hr(Kn);function Lx(){return TP}function qD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tg(e)?"-0":e}}function GD(n){return{integerValue:""+n}}function WD(n,e){return mx(e)?GD(e):qD(n,e)}class Sf{constructor(){this._=void 0}}function ZD(n,e,t){return n instanceof jp?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&wv(r)&&(r=Up(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof Df?Vx(n,e):n instanceof zp?SP(n,e):function(i,r){const o=Ux(i,r),u=Bx(o)+Bx(i.gt);return yx(o)&&yx(i.gt)?GD(u):qD(i.serializer,u)}(n,e)}function KD(n,e,t){return n instanceof Df?Vx(n,e):n instanceof zp?SP(n,e):t}function Ux(n,e){return n instanceof Mv?yx(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class jp extends Sf{}class Df extends Sf{constructor(e){super(),this.elements=e}}function Vx(n,e){const t=jx(e);for(const i of n.elements)t.some(r=>Nd(r,i))||t.push(i);return{arrayValue:{values:t}}}class zp extends Sf{constructor(e){super(),this.elements=e}}function SP(n,e){let t=jx(e);for(const i of n.elements)t=t.filter(r=>!Nd(r,i));return{arrayValue:{values:t}}}class Mv extends Sf{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Bx(n){return is(n.integerValue||n.doubleValue)}function jx(n){return rg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ug{constructor(e,t){this.field=e,this.transform=t}}class MP{constructor(e,t){this.version=e,this.transformResults=t}}class Dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function a0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Hp{}function YD(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new fg(n.key,Dr.none()):new hg(n.key,n.data,Dr.none());{const t=n.data,i=wa.empty();let r=new Hr(Ho.comparator);for(let o of e.fields)if(!r.has(o)){let u=t.field(o);null===u&&o.length>1&&(o=o.popLast(),u=t.field(o)),null===u?i.delete(o):i.set(o,u),r=r.add(o)}return new Oh(n.key,i,new Yc(r.toArray()),Dr.none())}}function iU(n,e,t){n instanceof hg?function(i,r,o){const u=i.value.clone(),m=kv(i.fieldTransforms,r,o.transformResults);u.setAll(m),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Oh?function(i,r,o){if(!a0(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=kv(i.fieldTransforms,r,o.transformResults),m=r.data;m.setAll(QD(i)),m.setAll(u),r.convertToFoundDocument(o.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Av(n,e,t,i){return n instanceof hg?function(r,o,u,m){if(!a0(r.precondition,o))return u;const v=r.value.clone(),x=zx(r.fieldTransforms,m,o);return v.setAll(x),o.convertToFoundDocument(o.version,v).setHasLocalMutations(),null}(n,e,t,i):n instanceof Oh?function(r,o,u,m){if(!a0(r.precondition,o))return u;const v=zx(r.fieldTransforms,m,o),x=o.data;return x.setAll(QD(r)),x.setAll(v),o.convertToFoundDocument(o.version,x).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(A=>A.field))}(n,e,t,i):(u=t,a0(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function rU(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=Ux(i.transform,r||null);null!=o&&(null===t&&(t=wa.empty()),t.set(i.field,o))}return t||null}function dg(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Rp(t,i,(r,o)=>function DP(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Df&&i instanceof Df||t instanceof zp&&i instanceof zp?Rp(t.elements,i.elements,Nd):t instanceof Mv&&i instanceof Mv?Nd(t.gt,i.gt):t instanceof jp&&i instanceof jp);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class hg extends Hp{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Oh extends Hp{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function QD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function kv(n,e,t){const i=new Map;wn(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],u=o.transform,m=e.data.field(o.field);i.set(o.field,KD(u,m,t[r]))}return i}function zx(n,e,t){const i=new Map;for(const r of n){const o=r.transform,u=t.data.field(r.field);i.set(r.field,ZD(o,u,e))}return i}class fg extends Hp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c0 extends Hp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class pg{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&iU(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Av(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Av(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Fx();return this.mutations.forEach(r=>{const o=e.get(r.key),u=o.overlayedDocument;let m=this.applyToLocalView(u,o.mutatedFields);m=t.has(r.key)?null:m;const v=YD(u,m);null!==v&&i.set(r.key,v),u.isValidDocument()||u.convertToNoDocument(Tn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),li())}isEqual(e){return this.batchId===e.batchId&&Rp(this.mutations,e.mutations,(t,i)=>dg(t,i))&&Rp(this.baseMutations,e.baseMutations,(t,i)=>dg(t,i))}}class Hx{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){wn(e.mutations.length===i.length);let r=$D;const o=e.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new Hx(e,t,i,r)}}class $x{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class AP{constructor(e,t){this.count=e,this.unchangedNames=t}}var gs,Bi;function Ov(n){switch(n){default:return ln();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0}}function JD(n){if(void 0===n)return io("GRPC error has no .code"),tt.UNKNOWN;switch(n){case gs.OK:return tt.OK;case gs.CANCELLED:return tt.CANCELLED;case gs.UNKNOWN:return tt.UNKNOWN;case gs.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case gs.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case gs.INTERNAL:return tt.INTERNAL;case gs.UNAVAILABLE:return tt.UNAVAILABLE;case gs.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case gs.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case gs.NOT_FOUND:return tt.NOT_FOUND;case gs.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case gs.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case gs.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case gs.ABORTED:return tt.ABORTED;case gs.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case gs.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case gs.DATA_LOSS:return tt.DATA_LOSS;default:return ln()}}(Bi=gs||(gs={}))[Bi.OK=0]="OK",Bi[Bi.CANCELLED=1]="CANCELLED",Bi[Bi.UNKNOWN=2]="UNKNOWN",Bi[Bi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bi[Bi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bi[Bi.NOT_FOUND=5]="NOT_FOUND",Bi[Bi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bi[Bi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bi[Bi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bi[Bi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bi[Bi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bi[Bi.ABORTED=10]="ABORTED",Bi[Bi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bi[Bi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bi[Bi.INTERNAL=13]="INTERNAL",Bi[Bi.UNAVAILABLE=14]="UNAVAILABLE",Bi[Bi.DATA_LOSS=15]="DATA_LOSS";class qx{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Pv}static getOrCreateInstance(){return null===Pv&&(Pv=new qx),Pv}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Pv=null;function Gx(){return new TextEncoder}const Wx=new za([4294967295,4294967295],0);function Zx(n){const e=Gx().encode(n),t=new Hu;return t.update(e),new Uint8Array(t.digest())}function eM(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new za([t,i],0),new za([r,o],0)]}class l0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new mg(`Invalid padding: ${t}`);if(i<0)throw new mg(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new mg(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new mg(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=za.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(za.fromNumber(i)));return 1===r.compare(Wx)&&(r=new za([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Zx(e),[i,r]=eM(t);for(let o=0;o<this.hashCount;o++){const u=this.Et(i,r,o);if(!this.At(u))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new l0(o,r,t);return i.forEach(m=>u.insert(m)),u}insert(e){if(0===this.It)return;const t=Zx(e),[i,r]=eM(t);for(let o=0;o<this.hashCount;o++){const u=this.Et(i,r,o);this.Rt(u)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class mg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rv{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Nv.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Rv(Tn.min(),r,new zr(Kn),Qc(),li())}}class Nv{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Nv(i,t,li(),li(),li())}}class gg{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class u0{constructor(e,t){this.targetId=e,this.Vt=t}}class Kx{constructor(e,t,i=Os.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class d0{constructor(){this.St=0,this.Dt=nM(),this.Ct=Os.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=li(),t=li(),i=li();return this.Dt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ln()}}),new Nv(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=nM()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Yx{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Qc(),this.zt=tM(),this.Wt=new zr(Kn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:ln()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,o=this.se(i);if(o){const u=o.target;if(Iv(u))if(0===r){const m=new qt(u.path);this.Yt(i,m,ro.newNoDocument(m,Tn.min()))}else wn(1===r);else{const m=this.ie(i);if(m!==r){const v=this.re(e,m);0!==v&&(this.ee(i),this.Wt=this.Wt.insert(i,2===v?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=qx.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(x,A,L){var q,ne,ae,ye,We,wt;const kt={localCacheCount:A,existenceFilterCount:L.count},At=L.unchangedNames;return At&&(kt.bloomFilter={applied:0===x,hashCount:null!==(q=At?.hashCount)&&void 0!==q?q:0,bitmapLength:null!==(ye=null===(ae=null===(ne=At?.bits)||void 0===ne?void 0:ne.bitmap)||void 0===ae?void 0:ae.length)&&void 0!==ye?ye:0,padding:null!==(wt=null===(We=At?.bits)||void 0===We?void 0:We.padding)&&void 0!==wt?wt:0}),kt}(v,m,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:u=0},hashCount:m=0}=i;let v,x;try{v=wf(o).toUint8Array()}catch(A){if(A instanceof _x)return cu("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw A}try{x=new l0(v,u,m)}catch(A){return cu(A instanceof mg?"BloomFilter error: ":"Applying bloom filter failed: ",A),1}return 0===x.It?1:r!==t-this.oe(e.targetId,x)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const u=this.Gt.ue(),m=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.vt(m)||(this.Yt(e,o,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((o,u)=>{const m=this.se(u);if(m){if(o.current&&Iv(m.target)){const v=new qt(m.target.path);null!==this.jt.get(v)||this.ae(u,v)||this.Yt(u,v,ro.newNoDocument(v,e))}o.Mt&&(t.set(u,o.Ot()),o.Ft())}});let i=li();this.zt.forEach((o,u)=>{let m=!0;u.forEachWhile(v=>{const x=this.se(v);return!x||"TargetPurposeLimboResolution"===x.purpose||(m=!1,!1)}),m&&(i=i.add(o))}),this.jt.forEach((o,u)=>u.setReadTime(e));const r=new Rv(e,t,this.Wt,this.jt,i);return this.jt=Qc(),this.zt=tM(),this.Wt=new zr(Kn),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new d0,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Hr(Kn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Tt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new d0),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function tM(){return new zr(qt.comparator)}function nM(){return new zr(qt.comparator)}const kP={asc:"ASCENDING",desc:"DESCENDING"},OP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iM={and:"AND",or:"OR"};class Qx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function h0(n,e){return n.useProto3Json||Gb(e)?e:{value:e}}function $p(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function rM(n,e){return $p(n,e.toTimestamp())}function rs(n){return wn(!!n),Tn.fromTimestamp(function(e){const t=Lp(e);return new ho(t.seconds,t.nanos)}(n))}function f0(n,e){return(t=n,new $i(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Jx(n){const e=$i.fromString(n);return wn(Lv(e)),e}function Fv(n,e){return f0(n.databaseId,e.path)}function qu(n,e){const t=Jx(e);if(t.get(1)!==n.databaseId.projectId)throw new vt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new vt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qt(oM(t))}function p0(n,e){return f0(n.databaseId,e)}function Ha(n){const e=Jx(n);return 4===e.length?$i.emptyPath():oM(e)}function Vd(n){return new $i(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oM(n){return wn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function sM(n,e,t){return{name:Fv(n,e),fields:t.value.mapValue.fields}}function PP(n,e,t){const i=qu(n,e.name),r=rs(e.updateTime),o=e.createTime?rs(e.createTime):Tn.min(),u=new wa({mapValue:{fields:e.fields}}),m=ro.newFoundDocument(i,r,o,u);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function qp(n,e){let t;if(e instanceof hg)t={update:sM(n,e.key,e.value)};else if(e instanceof fg)t={delete:Fv(n,e.key)};else if(e instanceof Oh)t={update:sM(n,e.key,e.data),updateMask:LP(e.fieldMask)};else{if(!(e instanceof c0))return ln();t={verify:Fv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof jp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Df)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof zp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Mv)return{fieldPath:o.field.canonicalString(),increment:u.gt};throw ln()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:rM(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ln()),t;var r}function cM(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Dr.updateTime(rs(r.updateTime)):void 0!==r.exists?Dr.exists(r.exists):Dr.none():Dr.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,u){let m=null;"setToServerValue"in u?(wn("REQUEST_TIME"===u.setToServerValue),m=new jp):"appendMissingElements"in u?m=new Df(u.appendMissingElements.values||[]):"removeAllFromArray"in u?m=new zp(u.removeAllFromArray.values||[]):"increment"in u?m=new Mv(o,u.increment):ln();const v=Ho.fromServerFormat(u.fieldPath);return new ug(v,m)}(n,r)):[];var r;if(e.update){const r=qu(n,e.update.name),o=new wa({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Yc((e.updateMask.fieldPaths||[]).map(x=>Ho.fromServerFormat(x)));return new Oh(r,o,u,t,i)}return new hg(r,o,t,i)}if(e.delete){const r=qu(n,e.delete);return new fg(r,t)}if(e.verify){const r=qu(n,e.verify);return new c0(r,t)}return ln()}function RP(n,e){return{documents:[p0(n,e.path)]}}function Gp(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=p0(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=p0(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(v){if(0!==v.length)return tE(pr.create(v,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(v){if(0!==v.length)return v.map(x=>{return{field:Mf((A=x).field),direction:dM(A.dir)};var A})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const u=h0(n,e.limit);var m,v;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function lM(n){let e=Ha(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){wn(1===i);const A=t.from[0];A.allDescendants?r=A.collectionId:e=e.child(A.collectionId)}let o=[];t.where&&(o=function(A){const L=uM(A);return L instanceof pr&&Tx(L)?L.getFilters():[L]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(A=>{return new sg(Af((L=A).field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction));var L}));let m=null;t.limit&&(m=function(A){let L;return L="object"==typeof A?A.value:A,Gb(L)?null:L}(t.limit));let v=null;var A;t.startAt&&(v=new Fd((A=t.startAt).values||[],!!A.before));let x=null;return t.endAt&&(x=function(A){return new Fd(A.values||[],!A.before)}(t.endAt)),n0(e,r,u,o,m,"F",v,x)}function uM(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Af(e.unaryFilter.field);return Ni.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Af(e.unaryFilter.field);return Ni.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Af(e.unaryFilter.field);return Ni.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Af(e.unaryFilter.field);return Ni.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ln()}}(n):void 0!==n.fieldFilter?Ni.create(Af((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ln()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return pr.create(e.compositeFilter.filters.map(t=>uM(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ln()}}(e.compositeFilter.op))}(n):ln();var e}function dM(n){return kP[n]}function NP(n){return OP[n]}function FP(n){return iM[n]}function Mf(n){return{fieldPath:n.canonicalString()}}function Af(n){return Ho.fromServerFormat(n.fieldPath)}function tE(n){return n instanceof Ni?function(e){if("=="===e.op){if(bx(e.value))return{unaryFilter:{field:Mf(e.field),op:"IS_NAN"}};if(SD(e.value))return{unaryFilter:{field:Mf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bx(e.value))return{unaryFilter:{field:Mf(e.field),op:"IS_NOT_NAN"}};if(SD(e.value))return{unaryFilter:{field:Mf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mf(e.field),op:NP(e.op),value:e.value}}}(n):n instanceof pr?function(e){const t=e.getFilters().map(i=>tE(i));return 1===t.length?t[0]:{compositeFilter:{op:FP(e.op),filters:t}}}(n):ln()}function LP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Lv(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Gu{constructor(e,t,i,r,o=Tn.min(),u=Tn.min(),m=Os.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=v}withSequenceNumber(e){return new Gu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class UP{constructor(e){this.fe=e}}function fM(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Uv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Fv(r=n.fe,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:$p(r,o.version.toTimestamp()),createTime:$p(r,o.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:hu(e.version)};else{if(!e.isUnknownDocument())return ln();i.unknownDocument={path:t.path.toArray(),version:hu(e.version)}}var r,o;return i}function Uv(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function hu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Wp(n){const e=new ho(n.seconds,n.nanoseconds);return Tn.fromTimestamp(e)}function kf(n,e){const t=(e.baseMutations||[]).map(o=>cM(n.fe,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>cM(n.fe,o)),r=ho.fromMillis(e.localWriteTimeMs);return new pg(e.batchId,r,t,i)}function Zp(n){const e=Wp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Wp(n.lastLimboFreeSnapshotVersion):Tn.min();let i;var r;return void 0!==n.query.documents?(wn(1===(r=n.query).documents.length),i=Ca(Ef(Ha(r.documents[0])))):i=Ca(lM(n.query)),new Gu(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Os.fromBase64String(n.resumeToken))}function VP(n,e){const t=hu(e.snapshotVersion),i=hu(e.lastLimboFreeSnapshotVersion);let r;r=Iv(e.target)?RP(n.fe,e.target):Gp(n.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:kh(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function nE(n){const e=lM({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Sv(e,e.limit,"L"):e}function pM(n,e){return new $x(e.largestBatchId,cM(n.fe,e.overlayMutation))}function mM(n,e){const t=e.path.lastSegment();return[n,gc(e.path.popLast()),t]}function gM(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:hu(i.readTime),documentKey:gc(i.documentKey.path),largestBatchId:i.largestBatchId}}class BP{getBundleMetadata(e,t){return iE(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Wp(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return iE(e).put({bundleId:(i=t).id,createTime:hu(rs(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return rE(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:nE(r.bundledQuery),readTime:Wp(r.readTime)};var r})}saveNamedQuery(e,t){return rE(e).put({name:(i=t).name,readTime:hu(rs(i.readTime)),bundledQuery:i.bundledQuery});var i}}function iE(n){return ks(n,"bundles")}function rE(n){return ks(n,"namedQueries")}class m0{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new m0(e,t.uid||"")}getOverlay(e,t){return _g(e).get(mM(this.userId,t)).next(i=>i?pM(this.serializer,i):null)}getOverlays(e,t){const i=Ud();return Ke.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,u)=>{const m=new $x(t,u);r.push(this.we(e,m))}),Ke.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(gc(u.getCollectionPath())));const o=[];return r.forEach(u=>{const m=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(_g(e).J("collectionPathOverlayIndex",m))}),Ke.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Ud(),o=gc(t),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return _g(e).j("collectionPathOverlayIndex",u).next(m=>{for(const v of m){const x=pM(this.serializer,v);r.set(x.getKey(),x)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Ud();let u;const m=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return _g(e).X({index:"collectionGroupOverlayIndex",range:m},(v,x,A)=>{const L=pM(this.serializer,x);o.size()<r||L.largestBatchId===u?(o.set(L.getKey(),L),u=L.largestBatchId):A.done()}).next(()=>o)}we(e,t){return _g(e).put(function(i,r,o){const[u,m,v]=mM(r,o.mutation.key);return{userId:r,collectionPath:m,documentId:v,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:qp(i.fe,o.mutation)}}(this.serializer,this.userId,t))}}function _g(n){return ks(n,"documentOverlays")}class Of{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(is(e.integerValue));else if("doubleValue"in e){const i=is(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),tg(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(wf(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?DD(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ln()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),qt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function jP(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function _M(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const o=jP(255&t[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}Of.Ve=new Of;class vM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=_M(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=_M(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class zP{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class yM{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class vg{constructor(){this.je=new vM,this.ze=new zP(this.je),this.We=new yM(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Pf{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Pf(this.indexId,this.documentKey,this.arrayValue,i)}}function Ph(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=bM(n.arrayValue,e.arrayValue),0!==t?t:(t=bM(n.directionalValue,e.directionalValue),0!==t?t:qt.comparator(n.documentKey,e.documentKey)))}function bM(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class HP{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){wn(e.collectionGroup===this.collectionId);const t=ux(e);if(void 0!==t&&!this.en(t))return!1;const i=Np(e);let r=new Set,o=0,u=0;for(;o<i.length&&this.en(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const m=i[o];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[u++],m))return!1}++o}for(;o<i.length;++o)if(u>=this.Ye.length||!this.sn(this.Ye[u++],i[o]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function $P(n){var e,t;if(wn(n instanceof Ni||n instanceof pr),n instanceof Ni){if(n instanceof t0){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>Ni.create(n.field,"==",o)))||[];return pr.create(r,"or")}return n}const i=n.filters.map(r=>$P(r));return pr.create(i,n.op)}function wM(n){if(0===n.getFilters().length)return[];const e=EM($P(n));return wn(qP(e)),CM(e)||xM(e)?[e]:e.getFilters()}function CM(n){return n instanceof Ni}function xM(n){return n instanceof pr&&Tx(n)}function qP(n){return CM(n)||xM(n)||function(e){if(e instanceof pr&&Ix(e)){for(const t of e.getFilters())if(!CM(t)&&!xM(t))return!1;return!0}return!1}(n)}function EM(n){if(wn(n instanceof Ni||n instanceof pr),n instanceof Ni)return n;if(1===n.filters.length)return EM(n.filters[0]);const e=n.filters.map(i=>EM(i));let t=pr.create(e,n.op);return t=oE(t),qP(t)?t:(wn(t instanceof pr),wn(ag(t)),wn(t.filters.length>1),t.filters.reduce((i,r)=>IM(i,r)))}function IM(n,e){let t;return wn(n instanceof Ni||n instanceof pr),wn(e instanceof Ni||e instanceof pr),t=n instanceof Ni?e instanceof Ni?pr.create([n,e],"and"):GP(n,e):e instanceof Ni?GP(e,n):function(i,r){if(wn(i.filters.length>0&&r.filters.length>0),ag(i)&&ag(r))return PD(i,r.getFilters());const o=Ix(i)?i:r,u=Ix(i)?r:i,m=o.filters.map(v=>IM(v,u));return pr.create(m,"or")}(n,e),oE(t)}function GP(n,e){if(ag(e))return PD(e,n.getFilters());{const t=e.filters.map(i=>IM(n,i));return pr.create(t,"or")}}function oE(n){if(wn(n instanceof Ni||n instanceof pr),n instanceof Ni)return n;const e=n.getFilters();if(1===e.length)return oE(e[0]);if(Sx(n))return n;const t=e.map(r=>oE(r)),i=[];return t.forEach(r=>{r instanceof Ni?i.push(r):r instanceof pr&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:pr.create(i,n.op)}class aU{constructor(){this.rn=new TM}addToCollectionParentIndex(e,t){return this.rn.add(t),Ke.resolve()}getCollectionParents(e,t){return Ke.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ke.resolve()}deleteFieldIndex(e,t){return Ke.resolve()}getDocumentsMatchingTarget(e,t){return Ke.resolve(null)}getIndexType(e,t){return Ke.resolve(0)}getFieldIndexes(e,t){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,t){return Ke.resolve(Sl.min())}getMinOffsetFromCollectionGroup(e,t){return Ke.resolve(Sl.min())}updateCollectionGroup(e,t,i){return Ke.resolve()}updateIndexEntries(e,t){return Ke.resolve()}}class TM{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Hr($i.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Hr($i.comparator)).toArray()}}const Vv=new Uint8Array(0);class sE{constructor(e,t){this.user=e,this.databaseId=t,this.on=new TM,this.un=new Tf(i=>kh(i),(i,r)=>Ev(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const o={collectionId:i,parent:gc(r)};return aE(e).put(o)}return Ke.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[lx(t),""],!1,!0);return aE(e).j(r).next(o=>{for(const u of o){if(u.collectionId!==t)break;i.push(Rd(u.parent))}return i})}addFieldIndex(e,t){const i=Kp(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var u;delete r.indexId;const o=i.add(r);if(t.indexState){const u=jv(e);return o.next(m=>{u.put(gM(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=Kp(e),r=jv(e),o=Bv(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Bv(e);let r=!0;const o=new Map;return Ke.forEach(this.cn(t),u=>this.an(e,u).next(m=>{r&&(r=!!m),o.set(u,m)})).next(()=>{if(r){let u=li();const m=[];return Ke.forEach(o,(v,x)=>{var A;Tt("IndexedDbIndexManager",`Using index ${A=v,`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(At=>`${At.fieldPath}:${At.kind}`).join(",")}`} to execute ${kh(t)}`);const L=function(At,Lt){const An=ux(Lt);if(void 0===An)return null;for(const Pn of Ld(At,An.fieldPath))switch(Pn.op){case"array-contains-any":return Pn.value.arrayValue.values||[];case"array-contains":return[Pn.value]}return null}(x,v),q=function(At,Lt){const An=new Map;for(const Pn of Np(Lt))for(const ji of Ld(At,Pn.fieldPath))switch(ji.op){case"==":case"in":An.set(Pn.fieldPath.canonicalString(),ji.value);break;case"not-in":case"!=":return An.set(Pn.fieldPath.canonicalString(),ji.value),Array.from(An.values())}return null}(x,v),ne=function(At,Lt){const An=[];let Pn=!0;for(const ji of Np(Lt)){const Wo=0===ji.kind?Ox(At,ji.fieldPath,At.startAt):FD(At,ji.fieldPath,At.startAt);An.push(Wo.value),Pn&&(Pn=Wo.inclusive)}return new Fd(An,Pn)}(x,v),ae=function(At,Lt){const An=[];let Pn=!0;for(const ji of Np(Lt)){const Wo=0===ji.kind?FD(At,ji.fieldPath,At.endAt):Ox(At,ji.fieldPath,At.endAt);An.push(Wo.value),Pn&&(Pn=Wo.inclusive)}return new Fd(An,Pn)}(x,v),ye=this.hn(v,x,ne),We=this.hn(v,x,ae),wt=this.ln(v,x,q),kt=this.fn(v.indexId,L,ye,ne.inclusive,We,ae.inclusive,wt);return Ke.forEach(kt,At=>i.H(At,t.limit).next(Lt=>{Lt.forEach(An=>{const Pn=qt.fromSegments(An.documentKey);u.has(Pn)||(u=u.add(Pn),m.push(Pn))})}))}).next(()=>m)}return Ke.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:wM(pr.create(e.filters,"and")).map(i=>kx(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,o,u,m){const v=(null!=t?t.length:1)*Math.max(i.length,o.length),x=v/(null!=t?t.length:1),A=[];for(let L=0;L<v;++L){const q=t?this.dn(t[L/x]):Vv,ne=this.wn(e,q,i[L%x],r),ae=this._n(e,q,o[L%x],u),ye=m.map(We=>this.wn(e,q,We,!0));A.push(...this.createRange(ne,ae,ye))}return A}wn(e,t,i,r){const o=new Pf(e,qt.empty(),t,i);return r?o:o.Je()}_n(e,t,i,r){const o=new Pf(e,qt.empty(),t,i);return r?o.Je():o}an(e,t){const i=new HP(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let u=null;for(const m of o)i.tn(m)&&(!u||m.fields.length>u.fields.length)&&(u=m);return u})}getIndexType(e,t){let i=2;const r=this.cn(t);return Ke.forEach(r,o=>this.an(e,o).next(u=>{u?0!==i&&u.fields.length<function(m){let v=new Hr(Ho.comparator),x=!1;for(const A of m.filters)for(const L of A.getFlattenedFilters())L.field.isKeyField()||("array-contains"===L.op||"array-contains-any"===L.op?x=!0:v=v.add(L.field));for(const A of m.orderBy)A.field.isKeyField()||(v=v.add(A.field));return v.size+(x?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new vg;for(const r of Np(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const u=i.He(r.kind);Of.Ve._e(o,u)}return i.Qe()}dn(e){const t=new vg;return Of.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new vg;return Of.Ve._e($u(this.databaseId,t),i.He(function(r){const o=Np(r);return 0===o.length?0:o[o.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new vg);let o=0;for(const u of Np(e)){const m=i[o++];for(const v of r)if(this.yn(t,u.fieldPath)&&rg(m))r=this.pn(r,u,m);else{const x=v.He(u.kind);Of.Ve._e(m,x)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],o=[];for(const u of i.arrayValue.values||[])for(const m of r){const v=new vg;v.seed(m.Qe()),Of.Ve._e(u,v.He(t.kind)),o.push(v)}return o}yn(e,t){return!!e.filters.find(i=>i instanceof Ni&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Kp(e),r=jv(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(o=>{const u=[];return Ke.forEach(o,m=>r.get([m.indexId,this.uid]).next(v=>{u.push(function(x,A){const L=A?new _v(A.sequenceNumber,new Sl(Wp(A.readTime),new qt(Rd(A.documentKey)),A.largestBatchId)):_v.empty(),q=x.fields.map(([ne,ae])=>new $b(Ho.fromServerFormat(ne),ae));return new Hb(x.indexId,x.collectionGroup,q,L)}(m,v))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Kn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Kp(e),o=jv(e);return this.Tn(e).next(u=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>Ke.forEach(m,v=>o.put(gM(v.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return Ke.forEach(t,(r,o)=>{const u=i.get(r.collectionGroup);return(u?Ke.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(m=>(i.set(r.collectionGroup,m),Ke.forEach(m,v=>this.En(e,r,v).next(x=>{const A=this.An(o,v);return x.isEqual(A)?Ke.resolve():this.vn(e,o,v,x,A)}))))})}Rn(e,t,i,r){return Bv(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return Bv(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=Bv(e);let o=new Hr(Ph);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(u,m)=>{o=o.add(new Pf(i.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>o)}An(e,t){let i=new Hr(Ph);const r=this.mn(t,e);if(null==r)return i;const o=ux(t);if(null!=o){const u=e.data.field(o.fieldPath);if(rg(u))for(const m of u.arrayValue.values||[])i=i.add(new Pf(t.indexId,e.key,this.dn(m),r))}else i=i.add(new Pf(t.indexId,e.key,Vv,r));return i}vn(e,t,i,r,o){Tt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(m,v,x,A,L){const q=m.getIterator(),ne=v.getIterator();let ae=Fp(q),ye=Fp(ne);for(;ae||ye;){let We=!1,wt=!1;if(ae&&ye){const kt=x(ae,ye);kt<0?wt=!0:kt>0&&(We=!0)}else null!=ae?wt=!0:We=!0;We?(A(ye),ye=Fp(ne)):wt?(L(ae),ae=Fp(q)):(ae=Fp(q),ye=Fp(ne))}}(r,o,Ph,m=>{u.push(this.Rn(e,t,i,m))},m=>{u.push(this.Pn(e,t,i,m))}),Ke.waitFor(u)}Tn(e){let t=1;return jv(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,m)=>Ph(u,m)).filter((u,m,v)=>!m||0!==Ph(u,v[m-1]));const r=[];r.push(e);for(const u of i){const m=Ph(u,e),v=Ph(u,t);if(0===m)r[0]=e.Je();else if(m>0&&v<0)r.push(u),r.push(u.Je());else if(v>0)break}r.push(t);const o=[];for(let u=0;u<r.length;u+=2){if(this.bn(r[u],r[u+1]))return[];o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,Vv,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,Vv,[]]))}return o}bn(e,t){return Ph(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(WP)}getMinOffset(e,t){return Ke.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||ln())).next(WP)}}function aE(n){return ks(n,"collectionParents")}function Bv(n){return ks(n,"indexEntries")}function Kp(n){return ks(n,"indexConfiguration")}function jv(n){return ks(n,"indexState")}function WP(n){wn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;dx(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Sl(e.readTime,e.documentKey,t)}const ZP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $a{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new $a(e,$a.DEFAULT_COLLECTION_PERCENTILE,$a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function cE(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(t.batchId);let m=0;const v=i.X({range:u},(A,L,q)=>(m++,q.delete()));o.push(v.next(()=>{wn(1===m)}));const x=[];for(const A of t.mutations){const L=mD(e,A.key.path,t.batchId);o.push(r.delete(L)),x.push(A.key)}return Ke.waitFor(o).next(()=>x)}function g0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ln();e=n.noDocument}return JSON.stringify(e).length}$a.DEFAULT_COLLECTION_PERCENTILE=10,$a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$a.DEFAULT=new $a(41943040,$a.DEFAULT_COLLECTION_PERCENTILE,$a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$a.DISABLED=new $a(-1,0,0);class _0{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){wn(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new _0(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yp(e).X({index:"userMutationsIndex",range:i},(r,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=yg(e),u=Yp(e);return u.add({}).next(m=>{wn("number"==typeof m);const v=new pg(m,t,i,r),x=function(q,ne,ae){const ye=ae.baseMutations.map(wt=>qp(q.fe,wt)),We=ae.mutations.map(wt=>qp(q.fe,wt));return{userId:ne,batchId:ae.batchId,localWriteTimeMs:ae.localWriteTime.toMillis(),baseMutations:ye,mutations:We}}(this.serializer,this.userId,v),A=[];let L=new Hr((q,ne)=>Kn(q.canonicalString(),ne.canonicalString()));for(const q of r){const ne=mD(this.userId,q.key.path,m);L=L.add(q.key.path.popLast()),A.push(u.put(x)),A.push(o.put(ne,Wb))}return L.forEach(q=>{A.push(this.indexManager.addToCollectionParentIndex(e,q))}),e.addOnCommittedListener(()=>{this.Vn[m]=v.keys()}),Ke.waitFor(A).next(()=>v)})}lookupMutationBatch(e,t){return Yp(e).get(t).next(i=>i?(wn(i.userId===this.userId),kf(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?Ke.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Yp(e).X({index:"userMutationsIndex",range:r},(u,m,v)=>{m.userId===this.userId&&(wn(m.batchId>=i),o=kf(this.serializer,m)),v.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Yp(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yp(e).j("userMutationsIndex",t).next(i=>i.map(r=>kf(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Mh(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return yg(e).X({range:r},(u,m,v)=>{const[x,A,L]=u,q=Rd(A);if(x===this.userId&&t.path.isEqual(q))return Yp(e).get(L).next(ne=>{if(!ne)throw ln();wn(ne.userId===this.userId),o.push(kf(this.serializer,ne))});v.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Hr(Kn);const r=[];return t.forEach(o=>{const u=Mh(this.userId,o.path),m=IDBKeyRange.lowerBound(u),v=yg(e).X({range:m},(x,A,L)=>{const[q,ne,ae]=x,ye=Rd(ne);q===this.userId&&o.path.isEqual(ye)?i=i.add(ae):L.done()});r.push(v)}),Ke.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=Mh(this.userId,i),u=IDBKeyRange.lowerBound(o);let m=new Hr(Kn);return yg(e).X({range:u},(v,x,A)=>{const[L,q,ne]=v,ae=Rd(q);L===this.userId&&i.isPrefixOf(ae)?ae.length===r&&(m=m.add(ne)):A.done()}).next(()=>this.Dn(e,m))}Dn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(Yp(e).get(o).next(u=>{if(null===u)throw ln();wn(u.userId===this.userId),i.push(kf(this.serializer,u))}))}),Ke.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return cE(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Ke.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ke.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return yg(e).X({range:i},(o,u,m)=>{if(o[0]===this.userId){const v=Rd(o[1]);r.push(v)}else m.done()}).next(()=>{wn(0===r.length)})})}containsKey(e,t){return SM(e,this.userId,t)}xn(e){return bg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function SM(n,e,t){const i=Mh(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return yg(n).X({range:o,Y:!0},(m,v,x)=>{const[A,L,q]=m;A===e&&L===r&&(u=!0),x.done()}).next(()=>u)}function Yp(n){return ks(n,"mutations")}function yg(n){return ks(n,"documentMutations")}function bg(n){return ks(n,"mutationQueues")}class Bd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Bd(0)}static Mn(){return new Bd(-1)}}class KP{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new Bd(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Tn.fromTimestamp(new ho(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>wg(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(wn(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return wg(e).X((u,m)=>{const v=Zp(m);v.sequenceNumber<=t&&null===i.get(v.targetId)&&(r++,o.push(this.removeTargetData(e,v)))}).next(()=>Ke.waitFor(o)).next(()=>r)}forEachTarget(e,t){return wg(e).X((i,r)=>{const o=Zp(r);t(o)})}$n(e){return DM(e).get("targetGlobalKey").next(t=>(wn(null!==t),t))}On(e,t){return DM(e).put("targetGlobalKey",t)}Fn(e,t){return wg(e).put(VP(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=kh(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return wg(e).X({range:r,index:"queryTargetsIndex"},(u,m,v)=>{const x=Zp(m);Ev(t,x.target)&&(o=x,v.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=Rf(e);return t.forEach(u=>{const m=gc(u.path);r.push(o.put({targetId:i,path:m})),r.push(this.referenceDelegate.addReference(e,i,u))}),Ke.waitFor(r)}removeMatchingKeys(e,t,i){const r=Rf(e);return Ke.forEach(t,o=>{const u=gc(o.path);return Ke.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=Rf(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Rf(e);let o=li();return r.X({range:i,Y:!0},(u,m,v)=>{const x=Rd(u[1]),A=new qt(x);o=o.add(A)}).next(()=>o)}containsKey(e,t){const i=gc(t.path),r=IDBKeyRange.bound([i],[lx(i)],!1,!0);let o=0;return Rf(e).X({index:"documentTargetsIndex",Y:!0,range:r},([u,m],v,x)=>{0!==u&&(o++,x.done())}).next(()=>o>0)}le(e,t){return wg(e).get(t).next(i=>i?Zp(i):null)}}function wg(n){return ks(n,"targets")}function DM(n){return ks(n,"targetGlobal")}function Rf(n){return ks(n,"targetDocuments")}function MM([n,e],[t,i]){const r=Kn(n,t);return 0===r?Kn(e,i):r}class YP{constructor(e){this.Ln=e,this.buffer=new Hr(MM),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();MM(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class v0{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Tt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,dt.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Pd(i)?Tt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Dh(i)}yield t.Qn(3e5)}))}}class QP{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Ke.resolve(mc.ct);const i=new YP(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(ZP)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZP):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,o,u,m,v,x;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(L=>(L>this.params.maximumSequenceNumbersToCollect?(Tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),r=this.params.maximumSequenceNumbersToCollect):r=L,u=Date.now(),this.nthSequenceNumber(e,r))).next(L=>(i=L,m=Date.now(),this.removeTargets(e,i,t))).next(L=>(o=L,v=Date.now(),this.removeOrphanedDocuments(e,i))).next(L=>(x=Date.now(),ox()<=Ru.in.DEBUG&&Tt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-A}ms\n\tDetermined least recently used ${r} in `+(m-u)+`ms\n\tRemoved ${o} targets in `+(v-m)+`ms\n\tRemoved ${L} documents in `+(x-v)+`ms\nTotal Duration: ${x-A}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:L})))}}class XP{constructor(e,t){this.db=e,this.garbageCollector=function AM(n,e){return new QP(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return y0(e,i)}removeReference(e,t,i){return y0(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return y0(e,t)}Xn(e,t){return function(i,r){let o=!1;return bg(i).Z(u=>SM(i,u,r).next(m=>(m&&(o=!0),Ke.resolve(!m)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(e,(u,m)=>{if(m<=t){const v=this.Xn(e,u).next(x=>{if(!x)return o++,i.getEntry(e,u).next(()=>(i.removeEntry(u,Tn.min()),Rf(e).delete([0,gc(u.path)])))});r.push(v)}}).next(()=>Ke.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return y0(e,t)}Yn(e,t){const i=Rf(e);let r,o=mc.ct;return i.X({index:"documentTargetsIndex"},([u,m],{path:v,sequenceNumber:x})=>{0===u?(o!==mc.ct&&t(new qt(Rd(r)),o),o=x,r=v):o=mc.ct}).next(()=>{o!==mc.ct&&t(new qt(Rd(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function y0(n,e){return Rf(n).put((i=n.currentSequenceNumber,{targetId:0,path:gc(e.path),sequenceNumber:i}));var i}class kM{constructor(){this.changes=new Tf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ro.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Ke.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class JP{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Nf(e).put(i)}removeEntry(e,t,i){return Nf(e).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Uv(o),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=ro.newInvalidDocument(t);return Nf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Qp(t))},(r,o)=>{i=this.ts(t,o)}).next(()=>i)}es(e,t){let i={size:0,document:ro.newInvalidDocument(t)};return Nf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Qp(t))},(r,o)=>{i={document:this.ts(t,o),size:g0(o)}}).next(()=>i)}getEntries(e,t){let i=Qc();return this.ns(e,t,(r,o)=>{const u=this.ts(r,o);i=i.insert(r,u)}).next(()=>i)}ss(e,t){let i=Qc(),r=new zr(qt.comparator);return this.ns(e,t,(o,u)=>{const m=this.ts(o,u);i=i.insert(o,m),r=r.insert(o,g0(u))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return Ke.resolve();let r=new Hr(NM);t.forEach(v=>r=r.add(v));const o=IDBKeyRange.bound(Qp(r.first()),Qp(r.last())),u=r.getIterator();let m=u.getNext();return Nf(e).X({index:"documentKeyIndex",range:o},(v,x,A)=>{const L=qt.fromSegments([...x.prefixPath,x.collectionGroup,x.documentId]);for(;m&&NM(m,L)<0;)i(m,null),m=u.getNext();m&&m.isEqual(L)&&(i(m,x),m=u.hasNext()?u.getNext():null),m?A.G(Qp(m)):A.done()}).next(()=>{for(;m;)i(m,null),m=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const o=t.path,u=[o.popLast().toArray(),o.lastSegment(),Uv(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],m=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Nf(e).j(IDBKeyRange.bound(u,m,!0)).next(v=>{let x=Qc();for(const A of v){const L=this.ts(qt.fromSegments(A.prefixPath.concat(A.collectionGroup,A.documentId)),A);L.isFoundDocument()&&(Dv(t,L)||r.has(L.key))&&(x=x.insert(L.key,L))}return x})}getAllFromCollectionGroup(e,t,i,r){let o=Qc();const u=RM(t,i),m=RM(t,Sl.max());return Nf(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,m,!0)},(v,x,A)=>{const L=this.ts(qt.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);o=o.insert(L.key,L),o.size===r&&A.done()}).next(()=>o)}newChangeBuffer(e){return new eR(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return PM(e).get("remoteDocumentGlobalKey").next(t=>(wn(!!t),t))}Zn(e,t){return PM(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function hM(n,e){let t;if(e.document)t=PP(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=qt.fromSegments(e.noDocument.path),r=Wp(e.noDocument.readTime);t=ro.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ln();{const i=qt.fromSegments(e.unknownDocument.path),r=Wp(e.unknownDocument.version);t=ro.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new ho(i[0],i[1]);return Tn.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Tn.min()))return i}return ro.newInvalidDocument(e)}}function OM(n){return new JP(n)}class eR extends kM{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Tf(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Hr((o,u)=>Kn(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const m=this.us.get(o);if(t.push(this.os.removeEntry(e,o,m.readTime)),u.isValidDocument()){const v=fM(this.os.serializer,u);r=r.add(o.path.popLast());const x=g0(v);i+=x-m.size,t.push(this.os.addEntry(e,o,v))}else if(i-=m.size,this.trackRemovals){const v=fM(this.os.serializer,u.convertToNoDocument(Tn.min()));t.push(this.os.addEntry(e,o,v))}}),r.forEach(o=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.os.updateMetadata(e,i)),Ke.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((o,u)=>{this.us.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function PM(n){return ks(n,"remoteDocumentGlobal")}function Nf(n){return ks(n,"remoteDocumentsV14")}function Qp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function RM(n,e){const t=e.documentKey.path.toArray();return[n,Uv(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function NM(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=Kn(t[o],i[o]),r)return r;return r=Kn(t.length,i.length),r||(r=Kn(t[t.length-2],i[i.length-2]),r||Kn(t[t.length-1],i[i.length-1]))}class FM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class lE{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Av(i.mutation,r,Yc.empty(),ho.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,li()).next(()=>i))}getLocalViewOfDocuments(e,t,i=li()){const r=Ud();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let u=s0();return o.forEach((m,v)=>{u=u.insert(m,v.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Ud();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,li()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((u,m)=>{t.set(u,m)})})}computeViews(e,t,i,r){let o=Qc();const u=lg(),m=lg();return t.forEach((v,x)=>{const A=i.get(x.key);r.has(x.key)&&(void 0===A||A.mutation instanceof Oh)?o=o.insert(x.key,x):void 0!==A?(u.set(x.key,A.mutation.getFieldMask()),Av(A.mutation,x,A.mutation.getFieldMask(),ho.now())):u.set(x.key,Yc.empty())}),this.recalculateAndSaveOverlays(e,o).next(v=>(v.forEach((x,A)=>u.set(x,A)),t.forEach((x,A)=>{var L;return m.set(x,new FM(A,null!==(L=u.get(x))&&void 0!==L?L:null))}),m))}recalculateAndSaveOverlays(e,t){const i=lg();let r=new zr((u,m)=>u-m),o=li();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const m of u)m.keys().forEach(v=>{const x=t.get(v);if(null===x)return;let A=i.get(v)||Yc.empty();A=m.applyToLocalView(x,A),i.set(v,A);const L=(r.get(m.batchId)||li()).add(v);r=r.insert(m.batchId,L)})}).next(()=>{const u=[],m=r.getReverseIterator();for(;m.hasNext();){const v=m.getNext(),x=v.key,A=v.value,L=Fx();A.forEach(q=>{if(!o.has(q)){const ne=YD(t.get(q),i.get(q));null!==ne&&L.set(q,ne),o=o.add(q)}}),u.push(this.documentOverlayCache.saveOverlays(e,x,L))}return Ke.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return qt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Px(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):Ke.resolve(Ud());let m=-1,v=o;return u.next(x=>Ke.forEach(x,(A,L)=>(m<L.largestBatchId&&(m=L.largestBatchId),o.get(A)?Ke.resolve():this.remoteDocumentCache.getEntry(e,A).next(q=>{v=v.insert(A,q)}))).next(()=>this.populateOverlays(e,x,o)).next(()=>this.computeViews(e,v,x,li())).next(A=>({batchId:m,changes:HD(A)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qt(t)).next(i=>{let r=s0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=s0();return this.indexManager.getCollectionParents(e,r).next(u=>Ke.forEach(u,m=>{const v=(x=t,A=m.child(r),new xf(A,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt));var x,A;return this.getDocumentsMatchingCollectionQuery(e,v,i).next(x=>{x.forEach((A,L)=>{o=o.insert(A,L)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(o=>{r.forEach((m,v)=>{const x=v.getKey();null===o.get(x)&&(o=o.insert(x,ro.newInvalidDocument(x)))});let u=s0();return o.forEach((m,v)=>{const x=r.get(m);void 0!==x&&Av(x.mutation,v,Yc.empty(),ho.now()),Dv(t,v)&&(u=u.insert(m,v))}),u})}}class cU{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ke.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:rs(i.createTime)}),Ke.resolve()}getNamedQuery(e,t){return Ke.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:nE(i.bundledQuery),readTime:rs(i.readTime)}),Ke.resolve();var i}}class Xc{constructor(){this.overlays=new zr(qt.comparator),this.ls=new Map}getOverlay(e,t){return Ke.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ud();return Ke.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.we(e,t,o)}),Ke.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),Ke.resolve()}getOverlaysForCollection(e,t,i){const r=Ud(),o=t.length+1,u=new qt(t.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const v=m.getNext().value,x=v.getKey();if(!t.isPrefixOf(x.path))break;x.path.length===o&&v.largestBatchId>i&&r.set(v.getKey(),v)}return Ke.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new zr((x,A)=>x-A);const u=this.overlays.getIterator();for(;u.hasNext();){const x=u.getNext().value;if(x.getKey().getCollectionGroup()===t&&x.largestBatchId>i){let A=o.get(x.largestBatchId);null===A&&(A=Ud(),o=o.insert(x.largestBatchId,A)),A.set(x.getKey(),x)}}const m=Ud(),v=o.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((x,A)=>m.set(x,A)),!(m.size()>=r)););return Ke.resolve(m)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new $x(t,i));let o=this.ls.get(t);void 0===o&&(o=li(),this.ls.set(t,o)),this.ls.set(t,o.add(i.key))}}class b0{constructor(){this.fs=new Hr(Ps.ds),this.ws=new Hr(Ps._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Ps(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Ps(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new qt(new $i([])),i=new Ps(t,e),r=new Ps(t,e+1),o=[];return this.ws.forEachInRange([i,r],u=>{this.ys(u),o.push(u.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new qt(new $i([])),i=new Ps(t,e),r=new Ps(t,e+1);let o=li();return this.ws.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Ps(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ps{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return qt.comparator(e.key,t.key)||Kn(e.As,t.As)}static _s(e,t){return Kn(e.As,t.As)||qt.comparator(e.key,t.key)}}class tR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Hr(Ps.ds)}checkEmpty(e){return Ke.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.vs;this.vs++;const u=new pg(o,t,i,r);this.mutationQueue.push(u);for(const m of r)this.Rs=this.Rs.add(new Ps(m.key,o)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Ke.resolve(u)}lookupMutationBatch(e,t){return Ke.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),o=r<0?0:r;return Ke.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ps(t,0),r=new Ps(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],u=>{const m=this.Ps(u.As);o.push(m)}),Ke.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Hr(Kn);return t.forEach(r=>{const o=new Ps(r,0),u=new Ps(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,u],m=>{i=i.add(m.As)})}),Ke.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;qt.isDocumentKey(o)||(o=o.child(""));const u=new Ps(new qt(o),0);let m=new Hr(Kn);return this.Rs.forEachWhile(v=>{const x=v.key.path;return!!i.isPrefixOf(x)&&(x.length===r&&(m=m.add(v.As)),!0)},u),Ke.resolve(this.Vs(m))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){wn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return Ke.forEach(t.mutations,r=>{const o=new Ps(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Ps(t,0),r=this.Rs.firstAfterOrEqual(i);return Ke.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Ke.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class LM{constructor(e){this.Ds=e,this.docs=new zr(qt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,u=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ke.resolve(i?i.document.mutableCopy():ro.newInvalidDocument(t))}getEntries(e,t){let i=Qc();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():ro.newInvalidDocument(r))}),Ke.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Qc();const u=t.path,m=new qt(u.child("")),v=this.docs.getIteratorFrom(m);for(;v.hasNext();){const{key:x,value:{document:A}}=v.getNext();if(!u.isPrefixOf(x.path))break;x.path.length>u.length+1||dx(lD(A),i)<=0||(r.has(A.key)||Dv(t,A))&&(o=o.insert(A.key,A.mutableCopy()))}return Ke.resolve(o)}getAllFromCollectionGroup(e,t,i,r){ln()}Cs(e,t){return Ke.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new nR(this)}getSize(e){return Ke.resolve(this.size)}}class nR extends kM{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),Ke.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class uE{constructor(e){this.persistence=e,this.xs=new Tf(t=>kh(t),Ev),this.lastRemoteSnapshotVersion=Tn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new b0,this.targetCount=0,this.Ms=Bd.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),Ke.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Bd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ke.resolve()}updateTargetData(e,t){return this.Fn(t),Ke.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.xs.forEach((u,m)=>{m.sequenceNumber<=t&&null===i.get(m.targetId)&&(this.xs.delete(u),o.push(this.removeMatchingKeysForTargetId(e,m.targetId)),r++)}),Ke.waitFor(o).next(()=>r)}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return Ke.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),Ke.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(u=>{o.push(r.markPotentiallyOrphaned(e,u))}),Ke.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ke.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return Ke.resolve(i)}containsKey(e,t){return Ke.resolve(this.ks.containsKey(t))}}class jd{constructor(e,t){this.$s={},this.overlays={},this.Os=new mc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new uE(this),this.indexManager=new aU,this.remoteDocumentCache=new LM(i=>this.referenceDelegate.Ls(i)),this.serializer=new UP(t),this.qs=new cU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Xc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new tR(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Tt("MemoryPersistence","Starting transaction:",e);const r=new UM(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(e,t){return Ke.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class UM extends fx{constructor(e){super(),this.currentSequenceNumber=e}}class Cg{constructor(e){this.persistence=e,this.Qs=new b0,this.js=null}static zs(e){return new Cg(e)}get Ws(){if(this.js)return this.js;throw ln()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),Ke.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),Ke.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ke.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.Ws,i=>{const r=qt.fromPath(i);return this.Hs(e,r).next(o=>{o||t.removeEntry(r,Tn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ke.or([()=>Ke.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class iR{constructor(e){this.serializer=e}O(e,t,i,r){const o=new vv("createOrUpgrade",t);var m;i<1&&r>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pD,{unique:!0}),m.createObjectStore("documentMutations"),rR(e),function(m){m.createObjectStore("remoteDocuments")}(e));let u=Ke.resolve();return i<3&&r>=3&&(0!==i&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),rR(e)),u=u.next(()=>function(m){const v=m.store("targetGlobal"),x={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tn.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",x)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(m,v){return v.store("mutations").j().next(x=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pD,{unique:!0});const A=v.store("mutations"),L=x.map(q=>A.put(q));return Ke.waitFor(L)})}(e,o))),u=u.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Ys(o))),i<6&&r>=6&&(u=u.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),i<7&&r>=7&&(u=u.next(()=>this.Zs(o))),i<8&&r>=8&&(u=u.next(()=>this.ti(e,o))),i<9&&r>=9&&(u=u.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.ei(o))),i<11&&r>=11&&(u=u.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(m){const v=m.createObjectStore("documentOverlays",{keyPath:pP});v.createIndex("collectionPathOverlayIndex",mP,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",yv,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(m){const v=m.createObjectStore("remoteDocumentsV14",{keyPath:Zb});v.createIndex("documentKeyIndex",Kc),v.createIndex("collectionGroupIndex",tU)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.si(e,o))),i<15&&r>=15&&(u=u.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:yD}).createIndex("sequenceNumberIndex",bD,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:wD}).createIndex("documentKeyIndex",fP,{unique:!1})}(e))),u}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=g0(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>Ke.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",u).next(m=>Ke.forEach(m,v=>{wn(v.userId===o.userId);const x=kf(this.serializer,v);return cE(e,o.userId,x).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((u,m)=>{const v=new $i(u),x=[0,gc(v)];o.push(t.get(x).next(A=>A?Ke.resolve():t.put({targetId:0,path:gc(v),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ke.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:vD});const i=t.store("collectionParents"),r=new TM,o=u=>{if(r.add(u)){const m=u.lastSegment(),v=u.popLast();return i.put({collectionId:m,parent:gc(v)})}};return t.store("remoteDocuments").X({Y:!0},(u,m)=>{const v=new $i(u);return o(v.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([u,m,v],x)=>{const A=Rd(m);return o(A.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const o=Zp(r),u=VP(this.serializer,o);return t.put(u)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((o,u)=>{const m=t.store("remoteDocumentsV14"),v=(x=u,x.document?new qt($i.fromString(x.document.name).popFirst(5)):x.noDocument?qt.fromSegments(x.noDocument.path):x.unknownDocument?qt.fromSegments(x.unknownDocument.path):ln()).path.toArray();var x;const A={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(m.put(A))}).next(()=>Ke.waitFor(r))}si(e,t){const i=t.store("mutations"),r=OM(this.serializer),o=new jd(Cg.zs,this.serializer.fe);return i.j().next(u=>{const m=new Map;return u.forEach(v=>{var x;let A=null!==(x=m.get(v.userId))&&void 0!==x?x:li();kf(this.serializer,v).keys().forEach(L=>A=A.add(L)),m.set(v.userId,A)}),Ke.forEach(m,(v,x)=>{const A=new As(x),L=m0.de(this.serializer,A),q=o.getIndexManager(A),ne=_0.de(A,this.serializer,q,o.referenceDelegate);return new lE(r,ne,L,q).recalculateAndSaveOverlaysForDocumentKeys(new Kb(t,mc.ct),v).next()})})}}function rR(n){n.createObjectStore("targetDocuments",{keyPath:_D}).createIndex("documentTargetsIndex",hP,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",gD,{unique:!0}),n.createObjectStore("targetGlobal")}const w0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class dE{constructor(e,t,i,r,o,u,m,v,x,A,L=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=o,this.window=u,this.document=m,this.ri=x,this.oi=A,this.ui=L,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=q=>Promise.resolve(),!dE.D())throw new vt(tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new XP(this,r),this.di=t+"main",this.serializer=new UP(v),this.wi=new lu(this.di,this.ui,new iR(this.serializer)),this.Bs=new KP(this.referenceDelegate,this.serializer),this.remoteDocumentCache=OM(this.serializer),this.qs=new BP,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===A&&io("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new vt(tt.FAILED_PRECONDITION,w0);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new mc(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,dt.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,dt.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,dt.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>C0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Pd(e))return Tt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Tt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return zv(e).get("owner").next(t=>Ke.resolve(this.Ri(t)))}Pi(e){return C0(e).delete(this.clientId)}bi(){var e=this;return(0,dt.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=ks(i,"clientMetadata");return r.j().next(o=>{const u=e.Si(o,18e5),m=o.filter(v=>-1===u.indexOf(v));return Ke.forEach(m,v=>r.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Ke.resolve(!0):zv(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new vt(tt.FAILED_PRECONDITION,w0);return!1}}return!(!this.networkEnabled||!this.inForeground)||C0(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Tt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,dt.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Kb(t,mc.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>C0(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return _0.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new sE(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return m0.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){Tt("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(u=this.ui)?ED:14===u?bv:13===u?xD:12===u?gP:11===u?CD:void ln();var u;let m;return this.wi.runTransaction(e,r,o,v=>(m=new Kb(v,this.Os?this.Os.next():mc.ct),"readwrite-primary"===t?this.Ti(m).next(x=>!!x||this.Ei(m)).next(x=>{if(!x)throw io(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new vt(tt.FAILED_PRECONDITION,hx);return i(m)}).next(x=>this.vi(m).next(()=>x)):this.Oi(m).next(()=>i(m)))).then(v=>(m.raiseOnCommittedEvent(),v))}Oi(e){return zv(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new vt(tt.FAILED_PRECONDITION,w0)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zv(e).put("owner",t)}static D(){return lu.D()}Ai(e){const t=zv(e);return t.get("owner").next(i=>this.Ri(i)?(Tt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ke.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(io(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,ie.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Tt("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return io("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){io("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function zv(n){return ks(n,"owner")}function C0(n){return ks(n,"clientMetadata")}function hE(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class x0{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=li(),r=li();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new x0(e,t.fromCache,i,r)}}class oR{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(o=>o||this.Gi(e,t,r,i)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(LD(t))return Ke.resolve(null);let i=Ca(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Sv(t,null,"F"),i=Ca(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const u=li(...o);return this.Ui.getDocuments(e,u).next(m=>this.indexManager.getMinOffset(e,i).next(v=>{const x=this.ji(t,m);return this.zi(t,x,u,v.readTime)?this.Ki(e,Sv(t,null,"F")):this.Wi(e,x,t,v)}))})))}Gi(e,t,i,r){return LD(t)||r.isEqual(Tn.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(o=>{const u=this.ji(t,o);return this.zi(t,u,i,r)?this.Qi(e,t):(ox()<=Ru.in.DEBUG&&Tt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Nx(t)),this.Wi(e,u,t,cD(r,-1)))})}ji(e,t){let i=new Hr(VD(e));return t.forEach((r,o)=>{Dv(e,o)&&(i=i.add(o))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(e,t){return ox()<=Ru.in.DEBUG&&Tt("QueryEngine","Using full collection scan to execute query:",Nx(t)),this.Ui.getDocumentsMatchingQuery(e,t,Sl.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}class VM{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new zr(Kn),this.Yi=new Tf(o=>kh(o),Ev),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lE(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function BM(n,e,t,i){return new VM(n,e,t,i)}function fE(n,e){return jM.apply(this,arguments)}function jM(){return jM=(0,dt.Z)(function*(n,e){const t=Gt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],m=[];let v=li();for(const x of r){u.push(x.batchId);for(const A of x.mutations)v=v.add(A.key)}for(const x of o){m.push(x.batchId);for(const A of x.mutations)v=v.add(A.key)}return t.localDocuments.getDocuments(i,v).next(x=>({er:x,removedBatchIds:u,addedBatchIds:m}))})})}),jM.apply(this,arguments)}function mE(n){const e=Gt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function HM(n,e,t){let i=li(),r=li();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let u=Qc();return t.forEach((m,v)=>{const x=o.get(m);v.isFoundDocument()!==x.isFoundDocument()&&(r=r.add(m)),v.isNoDocument()&&v.version.isEqual(Tn.min())?(e.removeEntry(m,v.readTime),u=u.insert(m,v)):!x.isValidDocument()||v.version.compareTo(x.version)>0||0===v.version.compareTo(x.version)&&x.hasPendingWrites?(e.addEntry(v),u=u.insert(m,v)):Tt("LocalStore","Ignoring outdated watch update for ",m,". Current version:",x.version," Watch version:",v.version)}),{nr:u,sr:r}})}function $M(n,e){const t=Gt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Xp(n,e){const t=Gt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(o=>o?(r=o,Ke.resolve(r)):t.Bs.allocateTargetId(i).next(u=>(r=new Gu(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function Wu(n,e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,dt.Z)(function*(n,e,t){const i=Gt(n),r=i.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Pd(u))throw u;Tt("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),Eg.apply(this,arguments)}function Hv(n,e,t){const i=Gt(n);let r=Tn.min(),o=li();return i.persistence.runTransaction("Execute query","readonly",u=>function(m,v,x){const A=Gt(m),L=A.Yi.get(x);return void 0!==L?Ke.resolve(A.Ji.get(L)):A.Bs.getTargetData(v,x)}(i,u,Ca(e)).next(m=>{if(m)return r=m.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(u,m.targetId).next(v=>{o=v})}).next(()=>i.Hi.getDocumentsMatchingQuery(u,e,t?r:Tn.min(),t?o:li())).next(m=>(GM(i,UD(e),m),{documents:m,ir:o})))}function gE(n,e){const t=Gt(n),i=Gt(t.Bs),r=t.Ji.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i.le(o,e).next(u=>u?u.target:null))}function qM(n,e){const t=Gt(n),i=t.Xi.get(e)||Tn.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Zi.getAllFromCollectionGroup(r,e,cD(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(GM(t,e,r),r))}function GM(n,e,t){let i=n.Xi.get(e)||Tn.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(e,i)}function E0(){return E0=(0,dt.Z)(function*(n,e,t,i){const r=Gt(n);let o=li(),u=Qc();for(const x of t){const A=e.rr(x.metadata.name);x.document&&(o=o.add(A));const L=e.ur(x);L.setReadTime(e.cr(x.metadata.readTime)),u=u.insert(A,L)}const m=r.Zi.newChangeBuffer({trackRemovals:!0}),v=yield Xp(r,(x=i,Ca(Ef($i.fromString(`__bundle__/docs/${x}`)))));var x;return r.persistence.runTransaction("Apply bundle documents","readwrite",x=>HM(x,m,u).next(A=>(m.apply(x),A)).next(A=>r.Bs.removeMatchingKeysForTargetId(x,v.targetId).next(()=>r.Bs.addMatchingKeys(x,o,v.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(x,A.nr,A.sr)).next(()=>A.nr)))}),E0.apply(this,arguments)}function sR(n,e){return _E.apply(this,arguments)}function _E(){return _E=(0,dt.Z)(function*(n,e,t=li()){const i=yield Xp(n,Ca(nE(e.bundledQuery))),r=Gt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=rs(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.qs.saveNamedQuery(o,e);const m=i.withResumeToken(Os.EMPTY_BYTE_STRING,u);return r.Ji=r.Ji.insert(m.targetId,m),r.Bs.updateTargetData(o,m).next(()=>r.Bs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Bs.addMatchingKeys(o,t,i.targetId)).next(()=>r.qs.saveNamedQuery(o,e))})}),_E.apply(this,arguments)}function aR(n,e){return`firestore_clients_${n}_${e}`}function cR(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function WM(n,e){return`firestore_targets_${n}_${e}`}class $v{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static ar(e,t,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new vt(r.error.code,r.error.message))),u?new $v(e,t,r.state,o):(io("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qv{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new vt(i.error.code,i.error.message))),o?new qv(e,i.state,r):(io("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class I0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=Lx();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=mx(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new I0(e,o):(io("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class vE{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new vE(t.clientId,t.onlineState):(io("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ZM{constructor(){this.activeTargetIds=Lx()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KM{constructor(e,t,i,r,o){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new zr(Kn),this.started=!1,this.yr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=aR(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new ZM),this.Tr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,dt.Z)(function*(){const t=yield e.syncEngine.$i();for(const r of t){if(r===e.wr)continue;const o=e.getItem(aR(e.persistenceKey,r));if(o){const u=I0.ar(r,o);u&&(e.gr=e.gr.insert(u.clientId,u))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(WM(this.persistenceKey,e));if(i){const r=qv.ar(e,i);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(WM(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Tt("SharedClientState","READ",e,t),t}setItem(e,t){Tt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Tt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Tt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void io("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,dt.Z)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.Fr(r,null)}{const r=t.Br(i.key,i.newValue);if(r)return t.Fr(r.clientId,r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.Lr(i.key,i.newValue);if(r)return t.qr(r)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const r=t.Ur(i.key,i.newValue);if(r)return t.Kr(r)}}else if(i.key===t.vr){if(null!==i.newValue){const r=t.br(i.newValue);if(r)return t.Vr(r)}}else if(i.key===t.Ir){const r=function(o){let u=mc.ct;if(null!=o)try{const m=JSON.parse(o);wn("number"==typeof m),u=m}catch(m){io("SharedClientState","Failed to read sequence number from WebStorage",m)}return u}(i.newValue);r!==mc.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Gr(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Qr(o)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const r=new $v(this.currentUser,e,t,i),o=cR(this.persistenceKey,this.currentUser,e);this.setItem(o,r.hr())}Cr(e){const t=cR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const r=WM(this.persistenceKey,e),o=new qv(e,t,i);this.setItem(r,o.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return I0.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return $v.ar(new As(void 0!==i[2]?i[2]:null),r,t)}Ur(e,t){const i=this.Ar.exec(e),r=Number(i[1]);return qv.ar(r,t)}br(e){return vE.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,dt.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Tt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),o=this.Sr(i),u=[],m=[];return o.forEach(v=>{r.has(v)||u.push(v)}),r.forEach(v=>{o.has(v)||m.push(v)}),this.syncEngine.Wr(u,m).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Lx();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class lR{constructor(){this.Hr=new ZM,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new ZM,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uU{Yr(e){}shutdown(){}}class uR{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let T0=null;function Ig(){return null===T0?T0=268435456+Math.round(2147483648*Math.random()):T0++,"0x"+T0.toString(16)}const dR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hR{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const xa="WebChannelConnection";class Jp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,o){const u=Ig(),m=this.To(e,t);Tt("RestConnection",`Sending RPC '${e}' ${u}:`,m,i);const v={};return this.Eo(v,r,o),this.Ao(e,m,v,i).then(x=>(Tt("RestConnection",`Received RPC '${e}' ${u}: `,x),x),x=>{throw cu("RestConnection",`RPC '${e}' ${u} failed with error: `,x,"url: ",m,"request:",i),x})}vo(e,t,i,r,o,u){return this.Io(e,t,i,r,o)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}To(e,t){return`${this.mo}/v1/${t}:${dR[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const o=Ig();return new Promise((u,m)=>{const v=new Od;v.setWithCredentials(!0),v.listenOnce(nx.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case iD.NO_ERROR:const A=v.getResponseJson();Tt(xa,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(A)),u(A);break;case iD.TIMEOUT:Tt(xa,`RPC '${e}' ${o} timed out`),m(new vt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case iD.HTTP_ERROR:const L=v.getStatus();if(Tt(xa,`RPC '${e}' ${o} failed with status:`,L,"response text:",v.getResponseText()),L>0){let q=v.getResponseJson();Array.isArray(q)&&(q=q[0]);const ne=q?.error;if(ne&&ne.status&&ne.message){const ae=function(ye){const We=ye.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(We)>=0?We:tt.UNKNOWN}(ne.status);m(new vt(ae,ne.message))}else m(new vt(tt.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new vt(tt.UNAVAILABLE,"Connection failed."));break;default:ln()}}finally{Tt(xa,`RPC '${e}' ${o} completed.`)}});const x=JSON.stringify(r);Tt(xa,`RPC '${e}' ${o} sending request:`,r),v.send(t,"POST",x,i,15)})}Ro(e,t,i){const r=Ig(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=iP(),m=nD(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;void 0!==x&&(v.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(v.xmlHttpFactory=new rP({})),this.Eo(v.initMessageHeaders,t,i),v.encodeInitMessageHeaders=!0;const A=o.join("");Tt(xa,`Creating RPC '${e}' stream ${r}: ${A}`,v);const L=u.createWebChannel(A,v);let q=!1,ne=!1;const ae=new hR({ro:We=>{ne?Tt(xa,`Not sending because RPC '${e}' stream ${r} is closed:`,We):(q||(Tt(xa,`Opening RPC '${e}' stream ${r} transport.`),L.open(),q=!0),Tt(xa,`RPC '${e}' stream ${r} sending:`,We),L.send(We))},oo:()=>L.close()}),ye=(We,wt,kt)=>{We.listen(wt,At=>{try{kt(At)}catch(Lt){setTimeout(()=>{throw Lt},0)}})};return ye(L,mv.EventType.OPEN,()=>{ne||Tt(xa,`RPC '${e}' stream ${r} transport opened.`)}),ye(L,mv.EventType.CLOSE,()=>{ne||(ne=!0,Tt(xa,`RPC '${e}' stream ${r} transport closed`),ae.wo())}),ye(L,mv.EventType.ERROR,We=>{ne||(ne=!0,cu(xa,`RPC '${e}' stream ${r} transport errored:`,We),ae.wo(new vt(tt.UNAVAILABLE,"The operation could not be completed")))}),ye(L,mv.EventType.MESSAGE,We=>{var wt;if(!ne){const kt=We.data[0];wn(!!kt);const Lt=kt.error||(null===(wt=kt[0])||void 0===wt?void 0:wt.error);if(Lt){Tt(xa,`RPC '${e}' stream ${r} received error:`,Lt);const An=Lt.status;let Pn=function(Wo){const il=gs[Wo];if(void 0!==il)return JD(il)}(An),ji=Lt.message;void 0===Pn&&(Pn=tt.INTERNAL,ji="Unknown error status: "+An+" with message "+Lt.message),ne=!0,ae.wo(new vt(Pn,ji)),L.close()}else Tt(xa,`RPC '${e}' stream ${r} received:`,kt),ae._o(kt)}}),ye(m,ix.STAT_EVENT,We=>{We.stat===zu.PROXY?Tt(xa,`RPC '${e}' stream ${r} detected buffering proxy`):We.stat===zu.NOPROXY&&Tt(xa,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{ae.fo()},0),ae}}function yE(){return typeof window<"u"?window:null}function Tg(){return typeof document<"u"?document:null}function em(n){return new Qx(n,!0)}class bE{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&Tt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class S0{constructor(e,t,i,r,o,u,m,v){this.ii=e,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new bE(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,dt.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,dt.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,dt.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===tt.RESOURCE_EXHAUSTED?(io(t.toString()),io("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===tt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new vt(tt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,dt.Z)(function*(){e.state=0,e.start()}))}tu(e){return Tt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wE extends S0{constructor(e,t,i,r,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function aM(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:ln(),r=e.targetChange.targetIds||[],o=function(v,x){return v.useProto3Json?(wn(void 0===x||"string"==typeof x),Os.fromBase64String(x||"")):(wn(void 0===x||x instanceof Uint8Array),Os.fromUint8Array(x||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&function(v){const x=void 0===v.code?tt.UNKNOWN:JD(v.code);return new vt(x,v.message||"")}(u);t=new Kx(i,r,o,m||null)}else if("documentChange"in e){const i=e.documentChange,r=qu(n,i.document.name),o=rs(i.document.updateTime),u=i.document.createTime?rs(i.document.createTime):Tn.min(),m=new wa({mapValue:{fields:i.document.fields}}),v=ro.newFoundDocument(r,o,u,m);t=new gg(i.targetIds||[],i.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const i=e.documentDelete,r=qu(n,i.document),o=i.readTime?rs(i.readTime):Tn.min(),u=ro.newNoDocument(r,o);t=new gg([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=qu(n,i.document);t=new gg([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return ln();{const i=e.filter,{count:r=0,unchangedNames:o}=i,u=new AP(r,o);t=new u0(i.targetId,u)}}var v;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return Tn.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Tn.min():o.readTime?rs(o.readTime):Tn.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Vd(this.serializer),t.addTarget=function(r,o){let u;const m=o.target;if(u=Iv(m)?{documents:RP(r,m)}:{query:Gp(r,m)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=Xx(r,o.resumeToken);const v=h0(r,o.expectedCount);null!==v&&(u.expectedCount=v)}else if(o.snapshotVersion.compareTo(Tn.min())>0){u.readTime=$p(r,o.snapshotVersion.toTimestamp());const v=h0(r,o.expectedCount);null!==v&&(u.expectedCount=v)}return u}(this.serializer,e);const i=function eE(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ln()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Vd(this.serializer),t.removeTarget=e,this.Wo(t)}}class D0 extends S0{constructor(e,t,i,r,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(wn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function sU(n,e){return n&&n.length>0?(wn(void 0!==e),n.map(t=>function(i,r){let o=rs(i.updateTime?i.updateTime:r);return o.isEqual(Tn.min())&&(o=rs(r)),new MP(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=rs(e.commitTime);return this.listener.cu(i,t)}return wn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Vd(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>qp(this.serializer,i))};this.Wo(t)}}class dU extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new vt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new vt(tt.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.vo(e,t,i,o,u,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new vt(tt.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class QM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(io(t),this.mu=!1):Tt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class fR{constructor(e,t,i,r,o){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(m=>{i.enqueueAndForget((0,dt.Z)(function*(){var v;tm(u)&&(Tt("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,dt.Z)(function*(x){const A=Gt(x);A.vu.add(4),yield Sg(A),A.bu.set("Unknown"),A.vu.delete(4),yield Gv(A)}),function(x){return v.apply(this,arguments)})(u))}))}),this.bu=new QM(i,r)}}function Gv(n){return CE.apply(this,arguments)}function CE(){return CE=(0,dt.Z)(function*(n){if(tm(n))for(const e of n.Ru)yield e(!0)}),CE.apply(this,arguments)}function Sg(n){return M0.apply(this,arguments)}function M0(){return M0=(0,dt.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),M0.apply(this,arguments)}function Wv(n,e){const t=Gt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Zv(t)?A0(t):Yv(t).Ko()&&xE(t,e))}function Dg(n,e){const t=Gt(n),i=Yv(t);t.Au.delete(e),i.Ko()&&XM(t,e),0===t.Au.size&&(i.Ko()?i.jo():tm(t)&&t.bu.set("Unknown"))}function xE(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yv(n).su(e)}function XM(n,e){n.Vu.qt(e),Yv(n).iu(e)}function A0(n){n.Vu=new Yx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Yv(n).start(),n.bu.gu()}function Zv(n){return tm(n)&&!Yv(n).Uo()&&n.Au.size>0}function tm(n){return 0===Gt(n).vu.size}function EE(n){n.Vu=void 0}function IE(n){return TE.apply(this,arguments)}function TE(){return TE=(0,dt.Z)(function*(n){n.Au.forEach((e,t)=>{xE(n,e)})}),TE.apply(this,arguments)}function pR(n,e){return JM.apply(this,arguments)}function JM(){return JM=(0,dt.Z)(function*(n,e){EE(n),Zv(n)?(n.bu.Iu(e),A0(n)):n.bu.set("Unknown")}),JM.apply(this,arguments)}function fU(n,e,t){return SE.apply(this,arguments)}function SE(){return SE=(0,dt.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof Kx&&2===e.state&&e.cause)try{yield(i=(0,dt.Z)(function*(r,o){const u=o.cause;for(const m of o.targetIds)r.Au.has(m)&&(yield r.remoteSyncer.rejectListen(m,u),r.Au.delete(m),r.Vu.removeTarget(m))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){Tt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield k0(n,i)}else if(e instanceof gg?n.Vu.Ht(e):e instanceof u0?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Tn.min()))try{const i=yield mE(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const u=r.Vu.ce(o);return u.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const x=r.Au.get(v);x&&r.Au.set(v,x.withResumeToken(m.resumeToken,o))}}),u.targetMismatches.forEach((m,v)=>{const x=r.Au.get(m);if(!x)return;r.Au.set(m,x.withResumeToken(Os.EMPTY_BYTE_STRING,x.snapshotVersion)),XM(r,m);const A=new Gu(x.target,m,v,x.sequenceNumber);xE(r,A)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Tt("RemoteStore","Failed to raise snapshot:",i),yield k0(n,i)}var i}),SE.apply(this,arguments)}function k0(n,e,t){return DE.apply(this,arguments)}function DE(){return DE=(0,dt.Z)(function*(n,e,t){if(!Pd(e))throw e;n.vu.add(1),yield Sg(n),n.bu.set("Offline"),t||(t=()=>mE(n.localStore)),n.asyncQueue.enqueueRetryable((0,dt.Z)(function*(){Tt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Gv(n)}))}),DE.apply(this,arguments)}function eA(n,e){return e().catch(t=>k0(n,t,e))}function nm(n){return O0.apply(this,arguments)}function O0(){return O0=(0,dt.Z)(function*(n){const e=Gt(n),t=Ff(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;mR(e);)try{const r=yield $M(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,tA(e,r)}catch(r){yield k0(e,r)}ME(e)&&gR(e)}),O0.apply(this,arguments)}function mR(n){return tm(n)&&n.Eu.length<10}function tA(n,e){n.Eu.push(e);const t=Ff(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function ME(n){return tm(n)&&!Ff(n).Uo()&&n.Eu.length>0}function gR(n){Ff(n).start()}function _R(n){return Kv.apply(this,arguments)}function Kv(){return Kv=(0,dt.Z)(function*(n){Ff(n).hu()}),Kv.apply(this,arguments)}function nA(n){return P0.apply(this,arguments)}function P0(){return P0=(0,dt.Z)(function*(n){const e=Ff(n);for(const t of n.Eu)e.uu(t.mutations)}),P0.apply(this,arguments)}function vR(n,e,t){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,dt.Z)(function*(n,e,t){const i=n.Eu.shift(),r=Hx.from(i,e,t);yield eA(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield nm(n)}),Mg.apply(this,arguments)}function yR(n,e){return AE.apply(this,arguments)}function AE(){return AE=(0,dt.Z)(function*(n,e){var t;e&&Ff(n).ou&&(yield(t=(0,dt.Z)(function*(i,r){if(Ov(o=r.code)&&o!==tt.ABORTED){const u=i.Eu.shift();Ff(i).Qo(),yield eA(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield nm(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),ME(n)&&gR(n)}),AE.apply(this,arguments)}function kE(n,e){return R0.apply(this,arguments)}function R0(){return R0=(0,dt.Z)(function*(n,e){const t=Gt(n);t.asyncQueue.verifyOperationInProgress(),Tt("RemoteStore","RemoteStore received new credentials");const i=tm(t);t.vu.add(3),yield Sg(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Gv(t)}),R0.apply(this,arguments)}function iA(n,e){return OE.apply(this,arguments)}function OE(){return OE=(0,dt.Z)(function*(n,e){const t=Gt(n);e?(t.vu.delete(2),yield Gv(t)):e||(t.vu.add(2),yield Sg(t),t.bu.set("Unknown"))}),OE.apply(this,arguments)}function Yv(n){return n.Su||(n.Su=function(e,t,i){const r=Gt(e);return r.fu(),new wE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:IE.bind(null,n),ao:pR.bind(null,n),nu:fU.bind(null,n)}),n.Ru.push(function(){var e=(0,dt.Z)(function*(t){t?(n.Su.Qo(),Zv(n)?A0(n):n.bu.set("Unknown")):(yield n.Su.stop(),EE(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Ff(n){return n.Du||(n.Du=function(e,t,i){const r=Gt(e);return r.fu(),new D0(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:_R.bind(null,n),ao:yR.bind(null,n),au:nA.bind(null,n),cu:vR.bind(null,n)}),n.Ru.push(function(){var e=(0,dt.Z)(function*(t){t?(n.Du.Qo(),yield nm(n)):(yield n.Du.stop(),n.Eu.length>0&&(Tt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class rA{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,o){const u=Date.now()+i,m=new rA(e,t,u,r,o);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vt(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qv(n,e){if(io("AsyncQueue",`${e}: ${n}`),Pd(n))return new vt(tt.UNAVAILABLE,`${e}: ${n}`);throw n}class Ag{constructor(e){this.comparator=e?(t,i)=>e(t,i)||qt.comparator(t.key,i.key):(t,i)=>qt.comparator(t.key,i.key),this.keyedMap=s0(),this.sortedSet=new zr(this.comparator)}static emptySet(e){return new Ag(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ag)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Ag;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class oA{constructor(){this.Cu=new zr(qt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ln():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Xv{constructor(e,t,i,r,o,u,m,v,x){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=v,this.hasCachedResults=x}static fromInitialDocuments(e,t,i,r,o){const u=[];return t.forEach(m=>{u.push({type:0,doc:m})}),new Xv(e,t,Ag.emptySet(t),u,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class pU{constructor(){this.Nu=void 0,this.listeners=[]}}class mU{constructor(){this.queries=new Tf(e=>Rx(e),cg),this.onlineState="Unknown",this.ku=new Set}}function sA(n,e){return aA.apply(this,arguments)}function aA(){return aA=(0,dt.Z)(function*(n,e){const t=Gt(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new pU),r)try{o.Nu=yield t.onListen(i)}catch(u){const m=Qv(u,`Initialization of query '${Nx(e.query)}' failed`);return void e.onError(m)}t.queries.set(i,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&lA(t)}),aA.apply(this,arguments)}function PE(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,dt.Z)(function*(n,e){const t=Gt(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const u=o.listeners.indexOf(e);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),cA.apply(this,arguments)}function gU(n,e){const t=Gt(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const m of u.listeners)m.$u(r)&&(i=!0);u.Nu=r}}i&&lA(t)}function _U(n,e,t){const i=Gt(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function lA(n){n.ku.forEach(e=>{e.next()})}class uA{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Xv(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Xv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class bR{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class wR{constructor(e){this.serializer=e}rr(e){return qu(this.serializer,e)}ur(e){return e.metadata.exists?PP(this.serializer,e.document,!1):ro.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return rs(e)}}class s{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=c(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=$i.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new wR(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.rr(r.metadata.name);for(const u of r.metadata.queries){const m=(t.get(u)||li()).add(o);t.set(u,m)}}return t}complete(){var e=this;return(0,dt.Z)(function*(){const t=yield function lU(n,e,t,i){return E0.apply(this,arguments)}(e.localStore,new wR(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield sR(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function c(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class d{constructor(e){this.key=e}}class p{constructor(e){this.key=e}}class _{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=li(),this.mutatedKeys=li(),this.tc=VD(e),this.ec=new Ag(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new oA,r=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,u=r,m=!1;const v="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,x="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((A,L)=>{const q=r.get(A),ne=Dv(this.query,L)?L:null,ae=!!q&&this.mutatedKeys.has(q.key),ye=!!ne&&(ne.hasLocalMutations||this.mutatedKeys.has(ne.key)&&ne.hasCommittedMutations);let We=!1;q&&ne?q.data.isEqual(ne.data)?ae!==ye&&(i.track({type:3,doc:ne}),We=!0):this.rc(q,ne)||(i.track({type:2,doc:ne}),We=!0,(v&&this.tc(ne,v)>0||x&&this.tc(ne,x)<0)&&(m=!0)):!q&&ne?(i.track({type:0,doc:ne}),We=!0):q&&!ne&&(i.track({type:1,doc:q}),We=!0,(v||x)&&(m=!0)),We&&(ne?(u=u.add(ne),o=ye?o.add(A):o.delete(A)):(u=u.delete(A),o=o.delete(A)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const A="F"===this.query.limitType?u.last():u.first();u=u.delete(A.key),o=o.delete(A.key),i.track({type:1,doc:A})}return{ec:u,ic:i,zi:m,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((x,A)=>function(L,q){const ne=ae=>{switch(ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ln()}};return ne(L)-ne(q)}(x.type,A.type)||this.tc(x.doc,A.doc)),this.oc(i);const u=t?this.uc():[],m=0===this.Zu.size&&this.current?1:0,v=m!==this.Xu;return this.Xu=m,0!==o.length||v?{snapshot:new Xv(this.query,e.ec,r,o,e.mutatedKeys,0===m,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new oA,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=li(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new p(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new d(i))}),t}hc(e){this.Yu=e.ir,this.Zu=li();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Xv.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class b{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class T{constructor(e){this.key=e,this.fc=!1}}class D{constructor(e,t,i,r,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new Tf(m=>Rx(m),cg),this._c=new Map,this.mc=new Set,this.gc=new zr(qt.comparator),this.yc=new Map,this.Ic=new b0,this.Tc={},this.Ec=new Map,this.Ac=Bd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function P(n,e){return B.apply(this,arguments)}function B(){return B=(0,dt.Z)(function*(n,e){const t=RR(n);let i,r;const o=t.wc.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const u=yield Xp(t.localStore,Ca(e)),m=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield W(t,e,i,"current"===m,u.resumeToken),t.isPrimaryClient&&Wv(t.remoteStore,u)}return r}),B.apply(this,arguments)}function W(n,e,t,i,r){return se.apply(this,arguments)}function se(){return se=(0,dt.Z)(function*(n,e,t,i,r){n.Rc=(L,q,ne)=>{return(ae=(0,dt.Z)(function*(ye,We,wt,kt){let At=We.view.sc(wt);At.zi&&(At=yield Hv(ye.localStore,We.query,!1).then(({documents:Pn})=>We.view.sc(Pn,At)));const Lt=kt&&kt.targetChanges.get(We.targetId),An=We.view.applyChanges(At,ye.isPrimaryClient,Lt);return xR(ye,We.targetId,An.cc),An.snapshot}),function(ye,We,wt,kt){return ae.apply(this,arguments)})(n,L,q,ne);var ae};const o=yield Hv(n.localStore,e,!0),u=new _(e,o.ir),m=u.sc(o.documents),v=Nv.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),x=u.applyChanges(m,n.isPrimaryClient,v);xR(n,t,x.cc);const A=new b(e,t,u);return n.wc.set(e,A),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),x.snapshot}),se.apply(this,arguments)}function Ie(n,e){return Be.apply(this,arguments)}function Be(){return Be=(0,dt.Z)(function*(n,e){const t=Gt(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(o=>!cg(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Wu(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Dg(t.remoteStore,i.targetId),N0(t,i.targetId)}).catch(Dh))):(N0(t,i.targetId),yield Wu(t.localStore,i.targetId,!0))}),Be.apply(this,arguments)}function St(){return St=(0,dt.Z)(function*(n,e,t){const i=NR(n);try{const r=yield function(o,u){const m=Gt(o),v=ho.now(),x=u.reduce((q,ne)=>q.add(ne.key),li());let A,L;return m.persistence.runTransaction("Locally write mutations","readwrite",q=>{let ne=Qc(),ae=li();return m.Zi.getEntries(q,x).next(ye=>{ne=ye,ne.forEach((We,wt)=>{wt.isValidDocument()||(ae=ae.add(We))})}).next(()=>m.localDocuments.getOverlayedDocuments(q,ne)).next(ye=>{A=ye;const We=[];for(const wt of u){const kt=rU(wt,A.get(wt.key).overlayedDocument);null!=kt&&We.push(new Oh(wt.key,kt,MD(kt.value.mapValue),Dr.exists(!0)))}return m.mutationQueue.addMutationBatch(q,v,We,u)}).next(ye=>{L=ye;const We=ye.applyToLocalDocumentSet(A,ae);return m.documentOverlayCache.saveOverlays(q,ye.batchId,We)})}).then(()=>({batchId:L.batchId,changes:HD(A)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,m){let v=o.Tc[o.currentUser.toKey()];v||(v=new zr(Kn)),v=v.insert(u,m),o.Tc[o.currentUser.toKey()]=v}(i,r.batchId,t),yield im(i,r.changes),yield nm(i.remoteStore)}catch(r){const o=Qv(r,"Failed to persist write");t.reject(o)}}),St.apply(this,arguments)}function Wt(n,e){return vn.apply(this,arguments)}function vn(){return vn=(0,dt.Z)(function*(n,e){const t=Gt(n);try{const i=yield function zM(n,e){const t=Gt(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const m=[];e.targetChanges.forEach((A,L)=>{const q=r.get(L);if(!q)return;m.push(t.Bs.removeMatchingKeys(o,A.removedDocuments,L).next(()=>t.Bs.addMatchingKeys(o,A.addedDocuments,L)));let ne=q.withSequenceNumber(o.currentSequenceNumber);var ae,ye,We;null!==e.targetMismatches.get(L)?ne=ne.withResumeToken(Os.EMPTY_BYTE_STRING,Tn.min()).withLastLimboFreeSnapshotVersion(Tn.min()):A.resumeToken.approximateByteSize()>0&&(ne=ne.withResumeToken(A.resumeToken,i)),r=r.insert(L,ne),ye=ne,We=A,(0===(ae=q).resumeToken.approximateByteSize()||ye.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=3e8||We.addedDocuments.size+We.modifiedDocuments.size+We.removedDocuments.size>0)&&m.push(t.Bs.updateTargetData(o,ne))});let v=Qc(),x=li();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(o,A))}),m.push(HM(o,u,e.documentUpdates).next(A=>{v=A.nr,x=A.sr})),!i.isEqual(Tn.min())){const A=t.Bs.getLastRemoteSnapshotVersion(o).next(L=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));m.push(A)}return Ke.waitFor(m).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,v,x)).next(()=>v)}).then(o=>(t.Ji=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const u=t.yc.get(o);u&&(wn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.fc=!0:r.modifiedDocuments.size>0?wn(u.fc):r.removedDocuments.size>0&&(wn(u.fc),u.fc=!1))}),yield im(t,i,e)}catch(i){yield Dh(i)}}),vn.apply(this,arguments)}function yt(n,e,t){const i=Gt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((o,u)=>{const m=u.view.Mu(e);m.snapshot&&r.push(m.snapshot)}),function(o,u){const m=Gt(o);m.onlineState=u;let v=!1;m.queries.forEach((x,A)=>{for(const L of A.listeners)L.Mu(u)&&(v=!0)}),v&&lA(m)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Yn(n,e,t){return ui.apply(this,arguments)}function ui(){return ui=(0,dt.Z)(function*(n,e,t){const i=Gt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),o=r&&r.key;if(o){let u=new zr(qt.comparator);u=u.insert(o,ro.newNoDocument(o,Tn.min()));const m=li().add(o),v=new Rv(Tn.min(),new Map,new zr(Kn),u,m);yield Wt(i,v),i.gc=i.gc.remove(o),i.yc.delete(e),ER(i)}else yield Wu(i.localStore,e,!1).then(()=>N0(i,e,t)).catch(Dh)}),ui.apply(this,arguments)}function mr(n,e){return qa.apply(this,arguments)}function qa(){return qa=(0,dt.Z)(function*(n,e){const t=Gt(n),i=e.batch.batchId;try{const r=yield function pE(n,e){const t=Gt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(u,m,v,x){const A=v.batch,L=A.keys();let q=Ke.resolve();return L.forEach(ne=>{q=q.next(()=>x.getEntry(m,ne)).next(ae=>{const ye=v.docVersions.get(ne);wn(null!==ye),ae.version.compareTo(ye)<0&&(A.applyToRemoteDocument(ae,v),ae.isValidDocument()&&(ae.setReadTime(v.commitVersion),x.addEntry(ae)))})}),q.next(()=>u.mutationQueue.removeMutationBatch(m,A))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let m=li();for(let v=0;v<u.mutationResults.length;++v)u.mutationResults[v].transformResults.length>0&&(m=m.add(u.batch.mutations[v].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);CR(t,i,null),FE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield im(t,r)}catch(r){yield Dh(r)}}),qa.apply(this,arguments)}function Rh(n,e,t){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,dt.Z)(function*(n,e,t){const i=Gt(n);try{const r=yield function(o,u){const m=Gt(o);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let x;return m.mutationQueue.lookupMutationBatch(v,u).next(A=>(wn(null!==A),x=A.keys(),m.mutationQueue.removeMutationBatch(v,A))).next(()=>m.mutationQueue.performConsistencyCheck(v)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(v,x,u)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,x)).next(()=>m.localDocuments.getDocuments(v,x))})}(i.localStore,e);CR(i,e,t),FE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield im(i,r)}catch(r){yield Dh(r)}}),Lf.apply(this,arguments)}function NE(){return NE=(0,dt.Z)(function*(n,e){const t=Gt(n);tm(t.remoteStore)||Tt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=Gt(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>u.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Ec.get(i)||[];r.push(e),t.Ec.set(i,r)}catch(i){const r=Qv(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),NE.apply(this,arguments)}function FE(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function CR(n,e,t){const i=Gt(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function N0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||vU(n,i)})}function vU(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Dg(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),ER(n))}function xR(n,e,t){for(const i of t)i instanceof d?(n.Ic.addReference(i.key,e),w5(n,i)):i instanceof p?(Tt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||vU(n,i.key)):ln()}function w5(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Tt("SyncEngine","New document in limbo: "+t),n.mc.add(i),ER(n))}function ER(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new qt($i.fromString(e)),i=n.Ac.next();n.yc.set(i,new T(t)),n.gc=n.gc.insert(t,i),Wv(n.remoteStore,new Gu(Ca(Ef(t.path)),i,"TargetPurposeLimboResolution",mc.ct))}}function im(n,e,t){return IR.apply(this,arguments)}function IR(){return IR=(0,dt.Z)(function*(n,e,t){const i=Gt(n),r=[],o=[],u=[];var m;i.wc.isEmpty()||(i.wc.forEach((m,v)=>{u.push(i.Rc(v,e,t).then(x=>{if((x||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(v.targetId,x?.fromCache?"not-current":"current"),x){r.push(x);const A=x0.Li(v.targetId,x);o.push(A)}}))}),yield Promise.all(u),i.dc.nu(r),yield(m=(0,dt.Z)(function*(v,x){const A=Gt(v);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",L=>Ke.forEach(x,q=>Ke.forEach(q.Fi,ne=>A.persistence.referenceDelegate.addReference(L,q.targetId,ne)).next(()=>Ke.forEach(q.Bi,ne=>A.persistence.referenceDelegate.removeReference(L,q.targetId,ne)))))}catch(L){if(!Pd(L))throw L;Tt("LocalStore","Failed to update sequence numbers: "+L)}for(const L of x){const q=L.targetId;if(!L.fromCache){const ne=A.Ji.get(q),ye=ne.withLastLimboFreeSnapshotVersion(ne.snapshotVersion);A.Ji=A.Ji.insert(q,ye)}}}),function(v,x){return m.apply(this,arguments)})(i.localStore,o))}),IR.apply(this,arguments)}function C5(n,e){return TR.apply(this,arguments)}function TR(){return TR=(0,dt.Z)(function*(n,e){const t=Gt(n);if(!t.currentUser.isEqual(e)){Tt("SyncEngine","User change. New user:",e.toKey());const i=yield fE(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(u=>{u.forEach(m=>{m.reject(new vt(tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield im(t,i.er)}var r}),TR.apply(this,arguments)}function x5(n,e){const t=Gt(n),i=t.yc.get(e);if(i&&i.fc)return li().add(i.key);{let r=li();const o=t._c.get(e);if(!o)return r;for(const u of o){const m=t.wc.get(u);r=r.unionWith(m.view.nc)}return r}}function E5(n,e){return SR.apply(this,arguments)}function SR(){return SR=(0,dt.Z)(function*(n,e){const t=Gt(n),i=yield Hv(t.localStore,e.query,!0),r=e.view.hc(i);return t.isPrimaryClient&&xR(t,e.targetId,r.cc),r}),SR.apply(this,arguments)}function I5(n,e){return DR.apply(this,arguments)}function DR(){return DR=(0,dt.Z)(function*(n,e){const t=Gt(n);return qM(t.localStore,e).then(i=>im(t,i))}),DR.apply(this,arguments)}function T5(n,e,t,i){return MR.apply(this,arguments)}function MR(){return MR=(0,dt.Z)(function*(n,e,t,i){const r=Gt(n),o=yield function(u,m){const v=Gt(u),x=Gt(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",A=>x.Sn(A,m).next(L=>L?v.localDocuments.getDocuments(A,L):Ke.resolve(null)))}(r.localStore,e);var m;null!==o?("pending"===t?yield nm(r.remoteStore):"acknowledged"===t||"rejected"===t?(CR(r,e,i||null),FE(r,e),m=e,Gt(Gt(r.localStore).mutationQueue).Cn(m)):ln(),yield im(r,o)):Tt("SyncEngine","Cannot apply mutation batch with id: "+e)}),MR.apply(this,arguments)}function AR(){return AR=(0,dt.Z)(function*(n,e){const t=Gt(n);if(RR(t),NR(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield yU(t,i.toArray());t.vc=!0,yield iA(t.remoteStore,!0);for(const o of r)Wv(t.remoteStore,o)}else if(!1===e&&!1!==t.vc){const i=[];let r=Promise.resolve();t._c.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(N0(t,u),Wu(t.localStore,u,!0))),Dg(t.remoteStore,u)}),yield r,yield yU(t,i),function(o){const u=Gt(o);u.yc.forEach((m,v)=>{Dg(u.remoteStore,v)}),u.Ic.Ts(),u.yc=new Map,u.gc=new zr(qt.comparator)}(t),t.vc=!1,yield iA(t.remoteStore,!1)}}),AR.apply(this,arguments)}function yU(n,e,t){return kR.apply(this,arguments)}function kR(){return kR=(0,dt.Z)(function*(n,e,t){const i=Gt(n),r=[],o=[];for(const u of e){let m;const v=i._c.get(u);if(v&&0!==v.length){m=yield Xp(i.localStore,Ca(v[0]));for(const x of v){const A=i.wc.get(x),L=yield E5(i,A);L.snapshot&&o.push(L.snapshot)}}else{const x=yield gE(i.localStore,u);m=yield Xp(i.localStore,x),yield W(i,bU(x),u,!1,m.resumeToken)}r.push(m)}return i.dc.nu(o),r}),kR.apply(this,arguments)}function bU(n){return n0(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function D5(n){const e=Gt(n);return Gt(Gt(e.localStore).persistence).$i()}function M5(n,e,t,i){return OR.apply(this,arguments)}function OR(){return OR=(0,dt.Z)(function*(n,e,t,i){const r=Gt(n);if(r.vc)return void Tt("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=yield qM(r.localStore,UD(o[0])),m=Rv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Os.EMPTY_BYTE_STRING);yield im(r,u,m);break}case"rejected":yield Wu(r.localStore,e,!0),N0(r,e,i);break;default:ln()}}),OR.apply(this,arguments)}function A5(n,e,t){return PR.apply(this,arguments)}function PR(){return PR=(0,dt.Z)(function*(n,e,t){const i=RR(n);if(i.vc){for(const r of e){if(i._c.has(r)){Tt("SyncEngine","Adding an already active target "+r);continue}const o=yield gE(i.localStore,r),u=yield Xp(i.localStore,o);yield W(i,bU(o),u.targetId,!1,u.resumeToken),Wv(i.remoteStore,u)}for(const r of t)i._c.has(r)&&(yield Wu(i.localStore,r,!1).then(()=>{Dg(i.remoteStore,r),N0(i,r)}).catch(Dh))}}),PR.apply(this,arguments)}function RR(n){const e=Gt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wt.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yn.bind(null,e),e.dc.nu=gU.bind(null,e.eventManager),e.dc.Pc=_U.bind(null,e.eventManager),e}function NR(n){const e=Gt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mr.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rh.bind(null,e),e}class LE{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,dt.Z)(function*(){t.serializer=em(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return BM(this.persistence,new oR,e.initialUser,this.serializer)}createPersistence(e){return new jd(Cg.zs,this.serializer)}createSharedClientState(e){return new lR}terminate(){var e=this;return(0,dt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class FR extends LE{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,dt.Z)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield NR(i.Vc.syncEngine),yield nm(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return BM(this.persistence,new oR,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new v0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new eU(t,this.persistence);return new eg(e.asyncQueue,i)}createPersistence(e){const t=hE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?$a.withCacheSize(this.cacheSizeBytes):$a.DEFAULT;return new dE(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,yE(),Tg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new lR}}class wU extends FR{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,dt.Z)(function*(){yield t().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof KM&&(i.sharedClientState.syncEngine={jr:T5.bind(null,r),zr:M5.bind(null,r),Wr:A5.bind(null,r),$i:D5.bind(null,r),Qr:I5.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var o=(0,dt.Z)(function*(u){yield function S5(n,e){return AR.apply(this,arguments)}(i.Vc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=yE();if(!KM.D(t))throw new vt(tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=hE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new KM(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class F0{initialize(e,t){var i=this;return(0,dt.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>yt(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=C5.bind(null,i.syncEngine),yield iA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new mU}createDatastore(e){const t=em(e.databaseInfo.databaseId),i=new Jp(e.databaseInfo);return new dU(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=m=>yt(this.syncEngine,m,0),u=uR.D()?new uR:new uU,new fR(t,i,r,o,u);var t,i,r,o,u}createSyncEngine(e,t){return function(i,r,o,u,m,v,x){const A=new D(i,r,o,u,m,v);return x&&(A.vc=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,dt.Z)(function*(t){const i=Gt(t);Tt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Sg(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function CU(n,e=10240){let t=0;return{read:()=>(0,dt.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,dt.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class dA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):io("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class P5{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new ms,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,dt.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,dt.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,dt.Z)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const o=yield e.$c(r);return new bR(JSON.parse(o),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,dt.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,dt.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,dt.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class R5{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,dt.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new vt(tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,dt.Z)(function*(o,u){const m=Gt(o),v=Vd(m.serializer)+"/documents",x={documents:u.map(ne=>Fv(m.serializer,ne))},A=yield m.vo("BatchGetDocuments",v,x,u.length),L=new Map;A.forEach(ne=>{const ae=function oU(n,e){return"found"in e?function(t,i){wn(!!i.found);const r=qu(t,i.found.name),o=rs(i.found.updateTime),u=i.found.createTime?rs(i.found.createTime):Tn.min(),m=new wa({mapValue:{fields:i.found.fields}});return ro.newFoundDocument(r,o,u,m)}(n,e):"missing"in e?function(t,i){wn(!!i.missing),wn(!!i.readTime);const r=qu(t,i.missing),o=rs(i.readTime);return ro.newNoDocument(r,o)}(n,e):ln()}(m.serializer,ne);L.set(ae.key.toString(),ae)});const q=[];return u.forEach(ne=>{const ae=L.get(ne.toString());wn(!!ae),q.push(ae)}),q}),function(o,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new fg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,dt.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=qt.fromPath(r);e.mutations.push(new c0(o,e.precondition(o)))}),yield(i=(0,dt.Z)(function*(r,o){const u=Gt(r),m=Vd(u.serializer)+"/documents",v={writes:o.map(x=>qp(u.serializer,x))};yield u.Io("Commit",m,v)}),function(r,o){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ln();t=Tn.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new vt(tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Tn.min())?Dr.exists(!1):Dr.updateTime(t):Dr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Tn.min()))throw new vt(tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dr.updateTime(t)}return Dr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class N5{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.Bc=i.maxAttempts,this.qo=new bE(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,dt.Z)(function*(){const t=new R5(e.datastore),i=e.qc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.Uc(o)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const t=this.updateFunction(e);return!Gb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ov(t)}return!1}}class F5{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=As.UNAUTHENTICATED,this.clientId=cx.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,dt.Z)(function*(m){Tt("FirestoreClient","Received user=",m.uid),yield o.authCredentialListener(m),o.user=m});return function(m){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Tt("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,dt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,dt.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Qv(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function hA(n,e){return LR.apply(this,arguments)}function LR(){return LR=(0,dt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Tt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,dt.Z)(function*(o){i.isEqual(o)||(yield fE(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),LR.apply(this,arguments)}function UR(n,e){return VR.apply(this,arguments)}function VR(){return VR=(0,dt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield BR(n);Tt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>kE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>kE(e.remoteStore,o)),n._onlineComponents=e}),VR.apply(this,arguments)}function xU(n){return"FirebaseError"===n.name?n.code===tt.FAILED_PRECONDITION||n.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function BR(n){return jR.apply(this,arguments)}function jR(){return jR=(0,dt.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Tt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield hA(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!xU(t))throw t;cu("Error using user provided cache. Falling back to memory cache: "+t),yield hA(n,new LE)}}else Tt("FirestoreClient","Using default OfflineComponentProvider"),yield hA(n,new LE);return n._offlineComponents}),jR.apply(this,arguments)}function fA(n){return zR.apply(this,arguments)}function zR(){return zR=(0,dt.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Tt("FirestoreClient","Using user provided OnlineComponentProvider"),yield UR(n,n._uninitializedComponentsProvider._online)):(Tt("FirestoreClient","Using default OnlineComponentProvider"),yield UR(n,new F0))),n._onlineComponents}),zR.apply(this,arguments)}function EU(n){return BR(n).then(e=>e.persistence)}function pA(n){return BR(n).then(e=>e.localStore)}function IU(n){return fA(n).then(e=>e.remoteStore)}function HR(n){return fA(n).then(e=>e.syncEngine)}function L0(n){return $R.apply(this,arguments)}function $R(){return $R=(0,dt.Z)(function*(n){const e=yield fA(n),t=e.eventManager;return t.onListen=P.bind(null,e.syncEngine),t.onUnlisten=Ie.bind(null,e.syncEngine),t}),$R.apply(this,arguments)}function SU(n,e,t={}){const i=new ms;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function(r,o,u,m,v){const x=new dA({next:L=>{o.enqueueAndForget(()=>PE(r,A));const q=L.docs.has(u);!q&&L.fromCache?v.reject(new vt(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&L.fromCache&&m&&"server"===m.source?v.reject(new vt(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(L)},error:L=>v.reject(L)}),A=new uA(Ef(u.path),x,{includeMetadataChanges:!0,Ku:!0});return sA(r,A)}(yield L0(n),n.asyncQueue,e,t,i)})),i.promise}function DU(n,e,t={}){const i=new ms;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function(r,o,u,m,v){const x=new dA({next:L=>{o.enqueueAndForget(()=>PE(r,A)),L.fromCache&&"server"===m.source?v.reject(new vt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(L)},error:L=>v.reject(L)}),A=new uA(u,x,{includeMetadataChanges:!0,Ku:!0});return sA(r,A)}(yield L0(n),n.asyncQueue,e,t,i)})),i.promise}function MU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const AU=new Map;function qR(n,e,t){if(!t)throw new vt(tt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kU(n,e,t,i){if(!0===e&&!0===i)throw new vt(tt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function OU(n){if(!qt.isDocumentKey(n))throw new vt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function PU(n){if(qt.isDocumentKey(n))throw new vt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mA(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ln()}function qi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new vt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mA(n);throw new vt(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function RU(n,e){if(e<=0)throw new vt(tt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class NU{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new vt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=MU(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new vt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new vt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new vt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class UE{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NU(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new oD;switch(t.type){case"firstParty":return new jb(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new vt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=AU.get(e);t&&(Tt("ComponentProvider","Removing Datastore"),AU.delete(e),t.terminate())}(this),Promise.resolve()}}function FU(n,e,t,i={}){var r;const o=(n=qi(n,UE))._getSettings(),u=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==u&&cu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:u,ssl:!1})),i.mockUserToken){let m,v;if("string"==typeof i.mockUserToken)m=i.mockUserToken,v=As.MOCK_USER;else{m=(0,ie.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new vt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new As(x)}n._authCredentials=new sP(new sx(m,v))}}class ko{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ko(this.firestore,e,this._key)}}class _c{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new _c(this.firestore,e,this._query)}}class Uf extends _c{constructor(e,t,i){super(e,t,Ef(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ko(this.firestore,null,new qt(e))}withConverter(e){return new Uf(this.firestore,e,this._path)}}function GR(n,e,...t){if(n=(0,ie.m9)(n),qR("collection","path",e),n instanceof UE){const i=$i.fromString(e,...t);return PU(i),new Uf(n,null,i)}{if(!(n instanceof ko||n instanceof Uf))throw new vt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child($i.fromString(e,...t));return PU(i),new Uf(n.firestore,null,i)}}function VE(n,e,...t){if(n=(0,ie.m9)(n),1===arguments.length&&(e=cx.A()),qR("doc","path",e),n instanceof UE){const i=$i.fromString(e,...t);return OU(i),new ko(n,null,new qt(i))}{if(!(n instanceof ko||n instanceof Uf))throw new vt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child($i.fromString(e,...t));return OU(i),new ko(n.firestore,n instanceof Uf?n.converter:null,new qt(i))}}function LU(n,e){return n=(0,ie.m9)(n),e=(0,ie.m9)(e),(n instanceof ko||n instanceof Uf)&&(e instanceof ko||e instanceof Uf)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function WR(n,e){return n=(0,ie.m9)(n),e=(0,ie.m9)(e),n instanceof _c&&e instanceof _c&&n.firestore===e.firestore&&cg(n._query,e._query)&&n.converter===e.converter}class G5{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new bE(this,"async_queue_retry"),this.Xc=()=>{const t=Tg();t&&Tt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Tg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Tg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ms;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,dt.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Pd(t))throw t;Tt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,io("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=rA.createAndSchedule(this,e,t,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&ln()}verifyOperationInProgress(){}sa(){var e=this;return(0,dt.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function ZR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class W5{constructor(){this._progressObserver={},this._taskCompletionResolver=new ms,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Oo extends UE{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new G5,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||UU(this),this._firestoreClient.terminate()}}function K5(n,e){const t="object"==typeof n?n:(0,Ds.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,Ds._getProvider)(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=(0,ie.P0)("firestore");o&&FU(r,...o)}return r}function Rs(n){return n._firestoreClient||UU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function UU(n){var e,t,i;const r=n._freezeSettings(),o=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new vP(n._databaseId,m,n._persistenceKey,(x=r).host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,MU(x.experimentalLongPollingOptions),x.useFetchStreams));var m,x;n._firestoreClient=new F5(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function VU(n,e,t){const i=new ms;return n.asyncQueue.enqueue((0,dt.Z)(function*(){try{yield hA(n,t),yield UR(n,e),i.resolve()}catch(r){const o=r;if(!xU(o))throw o;cu("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function BU(n){if(n._initialized||n._terminated)throw new vt(tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Vf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vf(Os.fromBase64String(e))}catch(t){throw new vt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vf(Os.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class rm{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new vt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ho(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jv{constructor(e){this._methodName=e}}class gA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new vt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new vt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kn(this._lat,e._lat)||Kn(this._long,e._long)}}const o$=/^__.*__$/;class s${constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Oh(e,this.data,this.fieldMask,t,this.fieldTransforms):new hg(e,this.data,t,this.fieldTransforms)}}class jU{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Oh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ln()}}class _A{constructor(e,t,i,r,o,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new _A(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return bA(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(zU(this.ca)&&o$.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class a${constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||em(e)}ya(e,t,i,r=!1){return new _A({ca:e,methodName:t,ga:i,path:Ho.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ey(n){const e=n._freezeSettings(),t=em(n._databaseId);return new a$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vA(n,e,t,i,r,o={}){const u=n.ya(o.merge||o.mergeFields?2:0,e,t,r);XR("Data must be an object, but it was:",u,i);const m=qU(i,u);let v,x;if(o.merge)v=new Yc(u.fieldMask),x=u.fieldTransforms;else if(o.mergeFields){const A=[];for(const L of o.mergeFields){const q=zE(e,L,t);if(!u.contains(q))throw new vt(tt.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);WU(A,q)||A.push(q)}v=new Yc(A),x=u.fieldTransforms.filter(L=>v.covers(L.field))}else v=null,x=u.fieldTransforms;return new s$(new wa(m),v,x)}class jE extends Jv{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jE}}function HU(n,e,t){return new _A({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class KR extends Jv{_toFieldTransform(e){return new ug(e.path,new jp)}isEqual(e){return e instanceof KR}}class c$ extends Jv{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=HU(this,e,!0),i=this.pa.map(o=>ty(o,t)),r=new Df(i);return new ug(e.path,r)}isEqual(e){return this===e}}class l$ extends Jv{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=HU(this,e,!0),i=this.pa.map(o=>ty(o,t)),r=new zp(i);return new ug(e.path,r)}isEqual(e){return this===e}}class u$ extends Jv{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Mv(e.serializer,WD(e.serializer,this.Ia));return new ug(e.path,t)}isEqual(e){return this===e}}function YR(n,e,t,i){const r=n.ya(1,e,t);XR("Data must be an object, but it was:",r,i);const o=[],u=wa.empty();uu(i,(v,x)=>{const A=yA(e,v,t);x=(0,ie.m9)(x);const L=r.da(A);if(x instanceof jE)o.push(A);else{const q=ty(x,L);null!=q&&(o.push(A),u.set(A,q))}});const m=new Yc(o);return new jU(u,m,r.fieldTransforms)}function QR(n,e,t,i,r,o){const u=n.ya(1,e,t),m=[zE(e,i,t)],v=[r];if(o.length%2!=0)throw new vt(tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let q=0;q<o.length;q+=2)m.push(zE(e,o[q])),v.push(o[q+1]);const x=[],A=wa.empty();for(let q=m.length-1;q>=0;--q)if(!WU(x,m[q])){const ne=m[q];let ae=v[q];ae=(0,ie.m9)(ae);const ye=u.da(ne);if(ae instanceof jE)x.push(ne);else{const We=ty(ae,ye);null!=We&&(x.push(ne),A.set(ne,We))}}const L=new Yc(x);return new jU(A,L,u.fieldTransforms)}function $U(n,e,t,i=!1){return ty(t,n.ya(i?4:3,e))}function ty(n,e){if(GU(n=(0,ie.m9)(n)))return XR("Unsupported field value:",e,n),qU(n,e);if(n instanceof Jv)return function(t,i){if(!zU(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const u of t){let m=ty(u,i.wa(o));null==m&&(m={nullValue:"NULL_VALUE"}),r.push(m),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,ie.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return WD(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=ho.fromDate(t);return{timestampValue:$p(i.serializer,r)}}if(t instanceof ho){const r=new ho(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:$p(i.serializer,r)}}if(t instanceof gA)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Vf)return{bytesValue:Xx(i.serializer,t._byteString)};if(t instanceof ko){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:f0(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${mA(t)}`)}(n,e)}function qU(n,e){const t={};return ig(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uu(n,(i,r)=>{const o=ty(r,e.ha(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function GU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ho||n instanceof gA||n instanceof Vf||n instanceof ko||n instanceof Jv)}function XR(n,e,t){if(!GU(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=mA(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function zE(n,e,t){if((e=(0,ie.m9)(e))instanceof rm)return e._internalPath;if("string"==typeof e)return yA(n,e);throw bA("Field path arguments must be of type string or ",n,!1,void 0,t)}const d$=new RegExp("[~\\*/\\[\\]]");function yA(n,e,t){if(e.search(d$)>=0)throw bA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new rm(...e.split("."))._internalPath}catch{throw bA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bA(n,e,t,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(o||u)&&(v+=" (found",o&&(v+=` in field ${i}`),u&&(v+=` in document ${r}`),v+=")"),new vt(tt.INVALID_ARGUMENT,m+n+v)}function WU(n,e){return n.some(t=>t.isEqual(e))}class HE{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ko(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new h$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class h$ extends HE{data(){return super.data()}}function wA(n,e){return"string"==typeof e?yA(n,e):e instanceof rm?e._internalPath:e._delegate._internalPath}function ZU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new vt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class JR{}class $E extends JR{}function om(n,e,...t){let i=[];e instanceof JR&&i.push(e),i=i.concat(t),function(r){const o=r.filter(m=>m instanceof U0).length,u=r.filter(m=>m instanceof qE).length;if(o>1||o>0&&u>0)throw new vt(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class qE extends $E{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new qE(e,t,i)}_apply(e){const t=this._parse(e);return JU(e._query,t),new _c(e.firestore,e.converter,o0(e._query,t))}_parse(e){const t=ey(e.firestore);return function(r,o,u,m,v,x,A){let L;if(v.isKeyField()){if("array-contains"===x||"array-contains-any"===x)throw new vt(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if("in"===x||"not-in"===x){XU(A,x);const q=[];for(const ne of A)q.push(QU(m,r,ne));L={arrayValue:{values:q}}}else L=QU(m,r,A)}else"in"!==x&&"not-in"!==x&&"array-contains-any"!==x||XU(A,x),L=$U(u,"where",A,"in"===x||"not-in"===x);return Ni.create(v,x,L)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function KU(n,e,t){const i=e,r=wA("where",n);return qE._create(r,i,t)}class U0 extends JR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new U0(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:pr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let o=i;const u=r.getFlattenedFilters();for(const m of u)JU(o,m),o=o0(o,m)}(e._query,t),new _c(e.firestore,e.converter,o0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class eN extends $E{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new eN(e,t)}_apply(e){const t=function(i,r,o){if(null!==i.startAt)throw new vt(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new vt(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new sg(r,o);return function(m,v){if(null===r0(m)){const x=Tv(m);null!==x&&eV(0,x,v.field)}}(i,u),u}(e._query,this._field,this._direction);return new _c(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new xf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class CA extends $E{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new CA(e,t,i)}_apply(e){return new _c(e.firestore,e.converter,Sv(e._query,this._limit,this._limitType))}}class xA extends $E{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new xA(e,t,i)}_apply(e){const t=YU(e,this.type,this._docOrFields,this._inclusive);return new _c(e.firestore,e.converter,(r=t,new xf((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class EA extends $E{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new EA(e,t,i)}_apply(e){const t=YU(e,this.type,this._docOrFields,this._inclusive);return new _c(e.firestore,e.converter,(r=t,new xf((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function YU(n,e,t,i){if(t[0]=(0,ie.m9)(t[0]),t[0]instanceof HE)return function(r,o,u,m,v){if(!m)throw new vt(tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const x=[];for(const A of If(r))if(A.field.isKeyField())x.push($u(o,m.key));else{const L=m.data.field(A.field);if(wv(L))throw new vt(tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===L){const q=A.field.canonicalString();throw new vt(tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${q}' (used as the orderBy) does not exist.`)}x.push(L)}return new Fd(x,v)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=ey(n.firestore);return function(o,u,m,v,x,A){const L=o.explicitOrderBy;if(x.length>L.length)throw new vt(tt.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const q=[];for(let ne=0;ne<x.length;ne++){const ae=x[ne];if(L[ne].field.isKeyField()){if("string"!=typeof ae)throw new vt(tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof ae}`);if(!Px(o)&&-1!==ae.indexOf("/"))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${ae}' contains a slash.`);const ye=o.path.child($i.fromString(ae));if(!qt.isDocumentKey(ye))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${ye}' is not because it contains an odd number of segments.`);const We=new qt(ye);q.push($u(u,We))}else{const ye=$U(m,v,ae);q.push(ye)}}return new Fd(q,A)}(n._query,n.firestore._databaseId,r,e,t,i)}}function QU(n,e,t){if("string"==typeof(t=(0,ie.m9)(t))){if(""===t)throw new vt(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Px(e)&&-1!==t.indexOf("/"))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child($i.fromString(t));if(!qt.isDocumentKey(i))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return $u(n,new qt(i))}if(t instanceof ko)return $u(n,t._key);throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mA(t)}.`)}function XU(n,e){if(!Array.isArray(n)||0===n.length)throw new vt(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JU(n,e){if(e.isInequality()){const i=Tv(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=r0(n);null!==o&&eV(0,r,o)}const t=function(i,r){for(const o of i)for(const u of o.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new vt(tt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function eV(n,e,t){if(!t.isEqual(e))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class tN{convertValue(e,t="none"){switch(Cf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return is(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ln()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return uu(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new gA(is(e.latitude),is(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Up(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Cv(e));default:return null}}convertTimestamp(e){const t=Lp(e);return new ho(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=$i.fromString(e);wn(Lv(i));const r=new Ah(i.get(1),i.get(3)),o=new qt(i.popFirst(5));return r.isEqual(t)||io(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function IA(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class b$ extends tN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ko(this.firestore,null,t)}}class ny{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sm extends HE{constructor(e,t,i,r,o,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new GE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(wA("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class GE extends sm{data(e={}){return super.data(e)}}class kg{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ny(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new GE(this._firestore,this._userDataWriter,i.key,i,new ny(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new vt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new GE(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ny(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const m=new GE(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ny(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let v=-1,x=-1;return 0!==u.type&&(v=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),x=o.indexOf(u.doc.key)),{type:C$(u.type),doc:m,oldIndex:v,newIndex:x}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function C$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ln()}}function nV(n,e){return n instanceof sm&&e instanceof sm?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof kg&&e instanceof kg&&n._firestore===e._firestore&&WR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Og extends tN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ko(this.firestore,null,t)}}function nN(n,e,t){n=qi(n,ko);const i=qi(n.firestore,Oo),r=IA(n.converter,e,t);return V0(i,[vA(ey(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Dr.none())])}function iN(n,e,t,...i){n=qi(n,ko);const r=qi(n.firestore,Oo),o=ey(r);let u;return u="string"==typeof(e=(0,ie.m9)(e))||e instanceof rm?QR(o,"updateDoc",n._key,e,t,i):YR(o,"updateDoc",n._key,e),V0(r,[u.toMutation(n._key,Dr.exists(!0))])}function iV(n,e){const t=qi(n.firestore,Oo),i=VE(n),r=IA(n.converter,e);return V0(t,[vA(ey(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Dr.exists(!1))]).then(()=>i)}function rN(n,...e){var t,i,r;n=(0,ie.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||ZR(e[u])||(o=e[u],u++);const m={includeMetadataChanges:o.includeMetadataChanges};if(ZR(e[u])){const L=e[u];e[u]=null===(t=L.next)||void 0===t?void 0:t.bind(L),e[u+1]=null===(i=L.error)||void 0===i?void 0:i.bind(L),e[u+2]=null===(r=L.complete)||void 0===r?void 0:r.bind(L)}let v,x,A;if(n instanceof ko)x=qi(n.firestore,Oo),A=Ef(n._key.path),v={next:L=>{e[u]&&e[u](oN(x,n,L))},error:e[u+1],complete:e[u+2]};else{const L=qi(n,_c);x=qi(L.firestore,Oo),A=L._query;const q=new Og(x);v={next:ne=>{e[u]&&e[u](new kg(x,q,L,ne))},error:e[u+1],complete:e[u+2]},ZU(n._query)}return function(L,q,ne,ae){const ye=new dA(ae),We=new uA(q,ye,ne);return L.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return sA(yield L0(L),We)})),()=>{ye.Dc(),L.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return PE(yield L0(L),We)}))}}(Rs(x),A,m,v)}function V0(n,e){return function(t,i){const r=new ms;return t.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function ft(n,e,t){return St.apply(this,arguments)}(yield HR(t),i,r)})),r.promise}(Rs(n),e)}function oN(n,e,t){const i=t.docs.get(e._key),r=new Og(n);return new sm(n,r,e._key,i,new ny(t.hasPendingWrites,t.fromCache),e.converter)}const V$={maxAttempts:5};class rV{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ey(e)}set(e,t,i){this._verifyNotCommitted();const r=Pg(e,this._firestore),o=IA(r.converter,t,i),u=vA(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Dr.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=Pg(e,this._firestore);let u;return u="string"==typeof(t=(0,ie.m9)(t))||t instanceof rm?QR(this._dataReader,"WriteBatch.update",o._key,t,i,r):YR(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,Dr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Pg(e,this._firestore);return this._mutations=this._mutations.concat(new fg(t._key,Dr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vt(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pg(n,e){if((n=(0,ie.m9)(n)).firestore!==e)throw new vt(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class B$ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ey(e)}get(e){const t=Pg(e,this._firestore),i=new b$(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return ln();const o=r[0];if(o.isFoundDocument())return new HE(this._firestore,i,o.key,o,t.converter);if(o.isNoDocument())return new HE(this._firestore,i,t._key,null,t.converter);throw ln()})}set(e,t,i){const r=Pg(e,this._firestore),o=IA(r.converter,t,i),u=vA(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const o=Pg(e,this._firestore);let u;return u="string"==typeof(t=(0,ie.m9)(t))||t instanceof rm?QR(this._dataReader,"Transaction.update",o._key,t,i,r):YR(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=Pg(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Pg(e,this._firestore),i=new Og(this._firestore);return super.get(e).then(r=>new sm(this._firestore,i,t._key,r._document,new ny(!1,!1),t.converter))}}!function(n,e=!0){Xm=Ds.SDK_VERSION,(0,Ds._registerComponent)(new ou.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const o=t.getProvider("app").getImmediate(),u=new Oo(new aP(t.getProvider("auth-internal")),new sD(t.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new vt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ah(m.options.projectId,v)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Ds.registerVersion)(rx,"3.13.0",n),(0,Ds.registerVersion)(rx,"3.13.0","esm2017")}();var gn=Q(7398),TA=function(){return TA=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},TA.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var W$={includeMetadataChanges:!1};function aN(n,e){return void 0===e&&(e=W$),new ar.y(function(t){return{unsubscribe:rN(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)})}})}function K$(n,e){return void 0===e&&(e={}),function Z$(n){return aN(n,{includeMetadataChanges:!0})}(n).pipe((0,gn.U)(function(t){return sV(t,e)}))}function sV(n,e){var t;void 0===e&&(e={});var i=n.data(e);return n.exists()&&"object"==typeof i&&null!==i&&e.idField?TA(TA({},i),((t={})[e.idField]=n.id,t)):i}function tq(n,e){return void 0===e&&(e={}),function eq(n){return aN(n,{includeMetadataChanges:!0}).pipe((0,gn.U)(function(e){return e.docs}))}(n).pipe((0,gn.U)(function(t){return t.map(function(i){return sV(i,e)})}))}class Bf{constructor(e){return e}}const uV="firestore",uN=new a.OlP("angularfire2.firestore-instances");function oq(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Bf(i)}}const sq={provide:class iq{constructor(){return(0,bn.vb)(uV)}},deps:[[new a.FiY,uN]]},aq={provide:Bf,useFactory:function rq(n,e){const t=(0,bn.JM)(uV,n,e);return t&&new Bf(t)},deps:[[new a.FiY,uN],Dm]};let dV=(()=>{class n{constructor(){(0,Td.KN)("angularfire",bn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[aq,sq]}),n})();function cq(n,...e){return{ngModule:dV,providers:[{provide:uN,useFactory:oq(n),multi:!0,deps:[a.R0b,a.zs3,bn.HU,Rw,[new a.FiY,Sd],[new a.FiY,yp],...e]}]}}const Jc=(0,bn.u3)(tq,!0),lq=(0,bn.u3)(K$,!0),uq=(0,bn.u3)(iV,!0),Ga=(0,bn.u3)(GR,!0),SA=(0,bn.u3)(VE,!0),dq=(0,bn.u3)(K5,!0),Zu=(0,bn.u3)(om,!0),hV=(0,bn.u3)(nN,!0),hq=(0,bn.u3)(iN,!0),el=(0,bn.u3)(KU,!0),fV="firebasestorage.googleapis.com",pV="storageBucket";class os extends ie.ZR{constructor(e,t,i=0){super(dN(e),`Firebase Storage: ${t} (${dN(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,os.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dN(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var $o=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}($o||{});function dN(n){return"storage/"+n}function hN(){return new os($o.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function fN(n){return new os($o.INVALID_ARGUMENT,n)}function vV(){return new os($o.APP_DELETED,"The Firebase app was deleted.")}function WE(n,e){return new os($o.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function ZE(n){throw new os($o.INTERNAL_ERROR,"Internal error: "+n)}class Ml{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Ml.makeFromUrl(e,t)}catch{return new Ml(e,"")}if(""===i.path)return i;throw function Cq(n){return new os($o.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+r+"(/(.*))?$","i");function x(Lt){Lt.path_=decodeURIComponent(Lt.path)}const L=t.replace(/[.]/g,"\\."),At=[{regex:m,indices:{bucket:1,path:3},postModify:function o(Lt){"/"===Lt.path.charAt(Lt.path.length-1)&&(Lt.path_=Lt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${L}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:x},{regex:new RegExp(`^https?://${t===fV?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:x}];for(let Lt=0;Lt<At.length;Lt++){const An=At[Lt],Pn=An.regex.exec(e);if(Pn){let Wo=Pn[An.indices.path];Wo||(Wo=""),i=new Ml(Pn[An.indices.bucket],Wo),An.postModify(i);break}}if(null==i)throw function wq(n){return new os($o.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class Dq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function DA(n){return"string"==typeof n||n instanceof String}function yV(n){return pN()&&n instanceof Blob}function pN(){return typeof Blob<"u"&&!(0,ie.UG)()}function mN(n,e,t,i){if(i<e)throw fN(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw fN(`Invalid value for '${n}'. Expected ${t} or less.`)}function am(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function bV(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var B0=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(B0||{});class Rq{constructor(e,t,i,r,o,u,m,v,x,A,L,q=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=v,this.timeout_=x,this.progressCallback_=A,this.connectionFactory_=L,this.retry=q,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ne,ae)=>{this.resolve_=ne,this.reject_=ae,this.start_()})}start_(){const t=(i,r)=>{const o=this.resolve_,u=this.reject_,m=r.connection;if(r.wasSuccessCode)try{const v=this.callback_(m,m.getResponse());!function kq(n){return void 0!==n}(v)?o():o(v)}catch(v){u(v)}else if(null!==m){const v=hN();v.serverResponse=m.getErrorText(),u(this.errorCallback_?this.errorCallback_(m,v):v)}else u(r.canceled?this.appDelete_?vV():function gV(){return new os($o.CANCELED,"User canceled the upload/download.")}():function mV(){return new os($o.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new MA(!1,null,!0)):this.backoffId_=function Mq(n,e,t){let i=1,r=null,o=null,u=!1,m=0;function v(){return 2===m}let x=!1;function A(...We){x||(x=!0,e.apply(null,We))}function L(We){r=setTimeout(()=>{r=null,n(ne,v())},We)}function q(){o&&clearTimeout(o)}function ne(We,...wt){if(x)return void q();if(We)return q(),void A.call(null,We,...wt);if(v()||u)return q(),void A.call(null,We,...wt);let At;i<64&&(i*=2),1===m?(m=2,At=0):At=1e3*(i+Math.random()),L(At)}let ae=!1;function ye(We){ae||(ae=!0,q(),!x&&(null!==r?(We||(m=2),clearTimeout(r),L(0)):We||(m=1)))}return L(0),o=setTimeout(()=>{u=!0,ye(!0)},t),ye}((i,r)=>{if(r)return void i(!1,new MA(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const u=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const m=o.getErrorCode()===B0.NO_ERROR,v=o.getStatus();if(!m||function wV(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||r||o}(v,this.additionalRetryCodes_)&&this.retry){const A=o.getErrorCode()===B0.ABORT;return void i(!1,new MA(!1,null,A))}const x=-1!==this.successCodes_.indexOf(v);i(!0,new MA(x,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Aq(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class MA{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function jq(...n){const e=function Bq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(pN())return new Blob(n);throw new os($o.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Nh={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gN{constructor(e,t){this.data=e,this.contentType=t||null}}function xV(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function EV(n,e){switch(n){case Nh.BASE64:{const r=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(r||o)throw WE(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Nh.BASE64URL:{const r=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(r||o)throw WE(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Hq(n){if(typeof atob>"u")throw function Tq(n){return new os($o.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:WE(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class IV{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw WE(Nh.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function Wq(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class cm{constructor(e,t){let i=0,r="";yV(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(yV(this.data_)){const r=function zq(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new cm(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new cm(i,!0)}}static getBlob(...e){if(pN()){const t=e.map(i=>i instanceof cm?i.data_:i);return new cm(jq.apply(null,t))}{const t=e.map(u=>DA(u)?function CV(n,e){switch(n){case Nh.RAW:return new gN(xV(e));case Nh.BASE64:case Nh.BASE64URL:return new gN(EV(n,e));case Nh.DATA_URL:return new gN(function qq(n){const e=new IV(n);return e.base64?EV(Nh.BASE64,e.rest):function $q(n){let e;try{e=decodeURIComponent(n)}catch{throw WE(Nh.DATA_URL,"Malformed data URL.")}return xV(e)}(e.rest)}(e),function Gq(n){return new IV(n).contentType}(e))}throw hN()}(Nh.RAW,u).data:u.data_);let i=0;t.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let o=0;return t.forEach(u=>{for(let m=0;m<u.length;m++)r[o++]=u[m]}),new cm(r,!0)}}uploadData(){return this.data_}}function _N(n){let e;try{e=JSON.parse(n)}catch{return null}return function Pq(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function TV(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function Yq(n,e){return e}class Al{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||Yq}}let AA=null;function KE(){if(AA)return AA;const n=[];n.push(new Al("bucket")),n.push(new Al("generation")),n.push(new Al("metageneration")),n.push(new Al("name","fullPath",!0));const t=new Al("name");t.xform=function e(o,u){return function Qq(n){return!DA(n)||n.length<2?n:TV(n)}(u)},n.push(t);const r=new Al("size");return r.xform=function i(o,u){return void 0!==u?Number(u):u},n.push(r),n.push(new Al("timeCreated")),n.push(new Al("updated")),n.push(new Al("md5Hash",null,!0)),n.push(new Al("cacheControl",null,!0)),n.push(new Al("contentDisposition",null,!0)),n.push(new Al("contentEncoding",null,!0)),n.push(new Al("contentLanguage",null,!0)),n.push(new Al("contentType",null,!0)),n.push(new Al("metadata","customMetadata",!0)),AA=n,AA}function SV(n,e,t){const i=_N(e);return null===i?null:function Jq(n,e,t){const i={type:"file"},r=t.length;for(let o=0;o<r;o++){const u=t[o];i[u.local]=u.xform(i,e[u.server])}return function Xq(n,e){Object.defineProperty(n,"ref",{get:function t(){const o=new Ml(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(i,n),i}(n,i,t)}class jf{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function zf(n){if(!n)throw hN()}function j0(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function yq(){return new os($o.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function vq(){return new os($o.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function _q(n){return new os($o.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function bq(n){return new os($o.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function PV(n,e,t,i,r){const o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},v=function m(){let At="";for(let Lt=0;Lt<2;Lt++)At+=Math.random().toString().slice(2);return At}();u["Content-Type"]="multipart/related; boundary="+v;const x=function OV(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function lG(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}(e,i,r),A=function vN(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}(x,t),ne=cm.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+A+"\r\n--"+v+"\r\nContent-Type: "+x.contentType+"\r\n\r\n",i,"\r\n--"+v+"--");if(null===ne)throw function _V(){return new os($o.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const ae={name:x.fullPath},ye=am(o,n.host,n._protocol),wt=n.maxUploadRetryTime,kt=new jf(ye,"POST",function kA(n,e){return function t(i,r){const o=SV(n,r,e);return zf(null!==o),o}}(n,t),wt);return kt.urlParams=ae,kt.headers=u,kt.body=ne.uploadData(),kt.errorHandler=j0(e),kt}let NV=null;class pG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=B0.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=B0.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=B0.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw ZE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ZE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ZE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ZE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ZE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class mG extends pG{initXhr(){this.xhr_.responseType="text"}}function Fh(){return NV?NV():new mG}class iy{constructor(e,t){this._service=e,this._location=t instanceof Ml?t:Ml.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new iy(e,t)}get root(){const e=new Ml(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TV(this._location.path)}get storage(){return this._service}get parent(){const e=function Zq(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Ml(this._location.bucket,e);return new iy(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function Sq(n){return new os($o.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function DG(n){n._throwIfRoot("getDownloadURL");const e=function sG(n,e,t){const r=am(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,m=new jf(r,"GET",function rG(n,e){return function t(i,r){const o=SV(n,r,e);return zf(null!==o),function eG(n,e,t,i){const r=_N(e);if(null===r||!DA(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const u=encodeURIComponent;return o.split(",").map(x=>{const L=n.fullPath;return am("/b/"+u(n.bucket)+"/o/"+u(L),t,i)+bV({alt:"media",token:x})})[0]}(o,r,n.host,n._protocol)}}(n,t),u);return m.errorHandler=function YE(n){const e=j0(n);return function t(i,r){let o=e(i,r);return 404===i.getStatus()&&(o=function gq(n){return new os($o.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}(e),m}(n.storage,n._location,KE());return n.storage.makeRequestWithTokens(e,Fh).then(t=>{if(null===t)throw function Iq(){return new os($o.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function BV(n,e){if(n instanceof CN){const t=n;if(null==t._bucket)throw function xq(){return new os($o.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pV+"' property when initializing the app?")}();const i=new iy(t,t._bucket);return null!=e?BV(i,e):i}return void 0!==e?function VV(n,e){const t=function Kq(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Ml(n._location.bucket,t);return new iy(n.storage,i)}(n,e):n}function jV(n,e){const t=e?.[pV];return null==t?null:Ml.makeFromBucketSpec(t,n)}class CN{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=fV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ml.makeFromBucketSpec(r,this._host):jV(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ml.makeFromBucketSpec(this._url,e):jV(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,dt.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,dt.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new iy(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new Dq(vV());{const u=function Vq(n,e,t,i,r,o,u=!0){const m=bV(n.urlParams),v=n.url+m,x=Object.assign({},n.headers);return function Lq(n,e){e&&(n["X-Firebase-GMPID"]=e)}(x,e),function Nq(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(x,t),function Fq(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(x,o),function Uq(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(x,i),new Rq(v,n.method,x,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,u)}(e,this._appId,i,r,t,this._firebaseVersion,o);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var i=this;return(0,dt.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,o).getPromise()})()}}const zV="@firebase/storage",$V="storage";function RG(n,e,t){return function FV(n,e,t){n._throwIfRoot("uploadBytes");const i=PV(n.storage,n._location,KE(),new cm(e,!0),t);return n.storage.makeRequestWithTokens(i,Fh).then(r=>({metadata:r,ref:n}))}(n=(0,ie.m9)(n),e,t)}function NG(n){return DG(n=(0,ie.m9)(n))}function FG(n,e){return function OG(n,e){if(e&&function AG(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof CN)return function kG(n,e){return new iy(n,e)}(n,e);throw fN("To use ref(service, url), the first argument must be a Storage instance.")}return BV(n,e)}(n=(0,ie.m9)(n),e)}function LG(n=(0,Ds.getApp)(),e){n=(0,ie.m9)(n);const i=(0,Ds._getProvider)(n,$V).getImmediate({identifier:e}),r=(0,ie.P0)("storage");return r&&function UG(n,e,t,i={}){!function PG(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,ie.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(i,...r),i}function VG(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new CN(t,i,r,e,Ds.SDK_VERSION)}!function BG(){(0,Ds._registerComponent)(new ou.wA($V,VG,"PUBLIC").setMultipleInstances(!0)),(0,Ds.registerVersion)(zV,"0.11.2",""),(0,Ds.registerVersion)(zV,"0.11.2","esm2017")}();class PA{constructor(e){return e}}const qV="storage",xN=new a.OlP("angularfire2.storage-instances");function HG(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new PA(i)}}const $G={provide:class jG{constructor(){return(0,bn.vb)(qV)}},deps:[[new a.FiY,xN]]},qG={provide:PA,useFactory:function zG(n,e){const t=(0,bn.JM)(qV,n,e);return t&&new PA(t)},deps:[[new a.FiY,xN],Dm]};let GG=(()=>{class n{constructor(){(0,Td.KN)("angularfire",bn.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[qG,$G]}),n})();function WG(n,...e){return{ngModule:GG,providers:[{provide:xN,useFactory:HG(n),multi:!0,deps:[a.R0b,a.zs3,bn.HU,Rw,[new a.FiY,Sd],[new a.FiY,yp],...e]}]}}const ZG=(0,bn.u3)(NG,!0),KG=(0,bn.u3)(LG,!0),YG=(0,bn.u3)(FG,!0),QG=(0,bn.u3)(RG,!0);var zd=Q(4674),Mr=Q(2459),_n=Q(2096),Hd=Q(5619);const{isArray:JG}=Array,{getPrototypeOf:eW,prototype:tW,keys:nW}=Object;function GV(n){if(1===n.length){const e=n[0];if(JG(e))return{args:e,keys:null};if(function iW(n){return n&&"object"==typeof n&&eW(n)===tW}(e)){const t=nW(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var QE=Q(2737);const{isArray:rW}=Array;function EN(n){return(0,gn.U)(e=>function oW(n,e){return rW(e)?n(...e):n(e)}(n,e))}var H0=Q(9940);function WV(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var sW=Q(7103);function RA(...n){const e=(0,H0.yG)(n),t=(0,H0.jO)(n),{args:i,keys:r}=GV(n);if(0===i.length)return(0,Mr.D)([],e);const o=new ar.y(function aW(n,e,t=QE.y){return i=>{ZV(e,()=>{const{length:r}=n,o=new Array(r);let u=r,m=r;for(let v=0;v<r;v++)ZV(e,()=>{const x=(0,Mr.D)(n[v],e);let A=!1;x.subscribe((0,ci.x)(i,L=>{o[v]=L,A||(A=!0,m--),m||i.next(t(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>WV(r,u):QE.y));return t?o.pipe(EN(t)):o}function ZV(n,e,t){n?(0,sW.f)(t,n,e):e()}const NA=(0,Q(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var XE=Q(7537);function JE(...n){return function lW(){return(0,XE.J)(1)}()((0,Mr.D)(n,(0,H0.yG)(n)))}var IN=Q(8407);function $0(n,e){const t=(0,zd.m)(n)?n:()=>n,i=r=>r.error(t());return new ar.y(e?r=>e.schedule(i,0,r):i)}var Hf=Q(6232),Ku=Q(7394);function TN(){return(0,Nr.e)((n,e)=>{let t=null;n._refCount++;const i=(0,ci.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class KV extends ar.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Nr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ku.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ci.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ku.w0.EMPTY)}return e}refCount(){return TN()(this)}}var qo=Q(4664);function tl(n){return n<=0?()=>Hf.E:(0,Nr.e)((e,t)=>{let i=0;e.subscribe((0,ci.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Rg(...n){const e=(0,H0.yG)(n);return(0,Nr.e)((t,i)=>{(e?JE(n,t,e):JE(n,t)).subscribe(i)})}var Ea=Q(1631);function FA(n){return(0,Nr.e)((e,t)=>{let i=!1;e.subscribe((0,ci.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function YV(n=uW){return(0,Nr.e)((e,t)=>{let i=!1;e.subscribe((0,ci.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function uW(){return new NA}function Ng(n,e){const t=arguments.length>=2;return i=>i.pipe(n?cr((r,o)=>n(r,o,i)):QE.y,tl(1),t?FA(e):YV(()=>new NA))}function ry(n,e){return(0,zd.m)(e)?(0,Ea.z)(n,e,1):(0,Ea.z)(n,1)}function Fg(n){return(0,Nr.e)((e,t)=>{let o,i=null,r=!1;i=e.subscribe((0,ci.x)(t,void 0,void 0,u=>{o=(0,Do.Xf)(n(u,Fg(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function q0(n,e){return(0,Nr.e)(function dW(n,e,t,i,r){return(o,u)=>{let m=t,v=e,x=0;o.subscribe((0,ci.x)(u,A=>{const L=x++;v=m?n(v,A,L):(m=!0,A),i&&u.next(v)},r&&(()=>{m&&u.next(v),u.complete()})))}}(n,e,arguments.length>=2,!0))}function SN(n){return n<=0?()=>Hf.E:(0,Nr.e)((e,t)=>{let i=[];e.subscribe((0,ci.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function QV(n){return(0,gn.U)(()=>n)}function LA(n){return(0,Nr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var DN=Q(2420);function $d(n){return(0,Nr.e)((e,t)=>{(0,Do.Xf)(n).subscribe((0,ci.x)(t,()=>t.complete(),DN.Z)),!t.closed&&e.subscribe(t)})}const _i="primary",eI=Symbol("RouteTitle");class fW{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function G0(n){return new fW(n)}function pW(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],m=n[o];if(u.startsWith(":"))r[u.substring(1)]=m;else if(u!==m.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function $f(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!XV(n[r],e[r]))return!1;return!0}function XV(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function JV(n){return n.length>0?n[n.length-1]:null}function Lg(n){return function XG(n){return!!n&&(n instanceof ar.y||(0,zd.m)(n.lift)&&(0,zd.m)(n.subscribe))}(n)?n:(0,a.QGY)(n)?(0,Mr.D)(Promise.resolve(n)):(0,_n.of)(n)}const gW={exact:function nB(n,e,t){if(!oy(n.segments,e.segments)||!UA(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!nB(n.children[i],e.children[i],t))return!1;return!0},subset:iB},eB={exact:function _W(n,e){return $f(n,e)},subset:function vW(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>XV(n[t],e[t]))},ignored:()=>!0};function tB(n,e,t){return gW[t.paths](n.root,e.root,t.matrixParams)&&eB[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function iB(n,e,t){return rB(n,e,e.segments,t)}function rB(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!oy(r,t)||e.hasChildren()||!UA(r,t,i))}if(n.segments.length===t.length){if(!oy(n.segments,t)||!UA(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!iB(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(oy(n.segments,r)&&UA(n.segments,r,i)&&n.children[_i])&&rB(n.children[_i],e,o,i)}}function UA(n,e,t){return e.every((i,r)=>eB[t](n[r].parameters,i.parameters))}class W0{constructor(e=new Lr([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=G0(this.queryParams)),this._queryParamMap}toString(){return wW.serialize(this)}}class Lr{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return VA(this)}}class tI{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=G0(this.parameters)),this._parameterMap}toString(){return aB(this)}}function oy(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let nI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return new MN},providedIn:"root"})}return n})();class MN{parse(e){const t=new OW(e);return new W0(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${iI(e.root,!0)}`,i=function EW(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${BA(t)}=${BA(r)}`).join("&"):`${BA(t)}=${BA(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),r="string"==typeof e.fragment?`#${function CW(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${i}${r}`}}const wW=new MN;function VA(n){return n.segments.map(e=>aB(e)).join("/")}function iI(n,e){if(!n.hasChildren())return VA(n);if(e){const t=n.children[_i]?iI(n.children[_i],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==_i&&i.push(`${r}:${iI(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function bW(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===_i&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==_i&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===_i?[iI(n.children[_i],!1)]:[`${r}:${iI(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[_i]?`${VA(n)}/${t[0]}`:`${VA(n)}/(${t.join("//")})`}}function oB(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function BA(n){return oB(n).replace(/%3B/gi,";")}function AN(n){return oB(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jA(n){return decodeURIComponent(n)}function sB(n){return jA(n.replace(/\+/g,"%20"))}function aB(n){return`${AN(n.path)}${function xW(n){return Object.keys(n).map(e=>`;${AN(e)}=${AN(n[e])}`).join("")}(n.parameters)}`}const IW=/^[^\/()?;#]+/;function kN(n){const e=n.match(IW);return e?e[0]:""}const TW=/^[^\/()?;=#]+/,DW=/^[^=?&#]+/,AW=/^[^&#]+/;class OW{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lr([],{}):new Lr([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[_i]=new Lr(e,t)),i}parseSegment(){const e=kN(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(e),new tI(jA(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function SW(n){const e=n.match(TW);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=kN(this.remaining);r&&(i=r,this.capture(i))}e[jA(t)]=jA(i)}parseQueryParam(e){const t=function MW(n){const e=n.match(DW);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function kW(n){const e=n.match(AW);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=sB(t),o=sB(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=kN(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new a.vHH(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=_i);const u=this.parseChildren();t[o]=1===Object.keys(u).length?u[_i]:new Lr([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new a.vHH(4011,!1)}}function cB(n){return n.segments.length>0?new Lr([],{[_i]:n}):n}function lB(n){const e={};for(const i of Object.keys(n.children)){const o=lB(n.children[i]);if(i===_i&&0===o.segments.length&&o.hasChildren())for(const[u,m]of Object.entries(o.children))e[u]=m;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function PW(n){if(1===n.numberOfChildren&&n.children[_i]){const e=n.children[_i];return new Lr(n.segments.concat(e.segments),e.children)}return n}(new Lr(n.segments,e))}function sy(n){return n instanceof W0}function uB(n){let e;const r=cB(function t(o){const u={};for(const v of o.children){const x=t(v);u[v.outlet]=x}const m=new Lr(o.url,u);return o===n&&(e=m),m}(n.root));return e??r}function dB(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return ON(r,r,r,t,i);const o=function NW(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new fB(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const m={};return Object.entries(o.outlets).forEach(([v,x])=>{m[v]="string"==typeof x?x.split("/"):x}),[...r,{outlets:m}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?t=!0:".."===m?e++:""!=m&&r.push(m))}),r):[...r,o]},[]);return new fB(t,e,i)}(e);if(o.toRoot())return ON(r,r,new Lr([],{}),t,i);const u=function FW(n,e,t){if(n.isAbsolute)return new HA(e,!0,0);if(!t)return new HA(e,!1,NaN);if(null===t.parent)return new HA(t,!0,0);const i=zA(n.commands[0])?0:1;return function LW(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new a.vHH(4005,!1);r=i.segments.length}return new HA(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),m=u.processChildren?oI(u.segmentGroup,u.index,o.commands):pB(u.segmentGroup,u.index,o.commands);return ON(r,u.segmentGroup,m,t,i)}function zA(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function rI(n){return"object"==typeof n&&null!=n&&n.outlets}function ON(n,e,t,i,r){let u,o={};i&&Object.entries(i).forEach(([v,x])=>{o[v]=Array.isArray(x)?x.map(A=>`${A}`):`${x}`}),u=n===e?t:hB(n,e,t);const m=cB(lB(u));return new W0(m,o,r)}function hB(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:hB(o,e,t)}),new Lr(n.segments,i)}class fB{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&zA(i[0]))throw new a.vHH(4003,!1);const r=i.find(rI);if(r&&r!==JV(i))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class HA{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function pB(n,e,t){if(n||(n=new Lr([],{})),0===n.segments.length&&n.hasChildren())return oI(n,e,t);const i=function VW(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const u=n.segments[r],m=t[i];if(rI(m))break;const v=`${m}`,x=i<t.length-1?t[i+1]:null;if(r>0&&void 0===v)break;if(v&&x&&"object"==typeof x&&void 0===x.outlets){if(!gB(v,x,u))return o;i+=2}else{if(!gB(v,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Lr(n.segments.slice(0,i.pathIndex),{});return o.children[_i]=new Lr(n.segments.slice(i.pathIndex),n.children),oI(o,0,r)}return i.match&&0===r.length?new Lr(n.segments,{}):i.match&&!n.hasChildren()?PN(n,e,t):i.match?oI(n,0,r):PN(n,e,t)}function oI(n,e,t){if(0===t.length)return new Lr(n.segments,{});{const i=function UW(n){return rI(n[0])?n[0].outlets:{[_i]:n}}(t),r={};if(Object.keys(i).some(o=>o!==_i)&&n.children[_i]&&1===n.numberOfChildren&&0===n.children[_i].segments.length){const o=oI(n.children[_i],e,t);return new Lr(n.segments,o.children)}return Object.entries(i).forEach(([o,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(r[o]=pB(n.children[o],e,u))}),Object.entries(n.children).forEach(([o,u])=>{void 0===i[o]&&(r[o]=u)}),new Lr(n.segments,r)}}function PN(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(rI(o)){const v=BW(o.outlets);return new Lr(i,v)}if(0===r&&zA(t[0])){i.push(new tI(n.segments[e].path,mB(t[0]))),r++;continue}const u=rI(o)?o.outlets[_i]:`${o}`,m=r<t.length-1?t[r+1]:null;u&&m&&zA(m)?(i.push(new tI(u,mB(m))),r+=2):(i.push(new tI(u,{})),r++)}return new Lr(i,{})}function BW(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=PN(new Lr([],{}),0,i))}),e}function mB(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function gB(n,e,t){return n==t.path&&$f(e,t.parameters)}const sI="imperative";class qf{constructor(e,t){this.id=e,this.url=t}}class $A extends qf{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ug extends qf{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class aI extends qf{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Z0 extends qf{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class qA extends qf{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _B extends qf{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jW extends qf{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zW extends qf{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class HW extends qf{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $W extends qf{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qW{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class GW{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class WW{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZW{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KW{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YW{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vB{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class RN{}class NN{constructor(e){this.url=e}}class QW{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new cI,this.attachRef=null}}let cI=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new QW,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class yB{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=FN(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=FN(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=LN(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return LN(e,this._root).map(t=>t.value)}}function FN(n,e){if(n===e.value)return e;for(const t of e.children){const i=FN(n,t);if(i)return i}return null}function LN(n,e){if(n===e.value)return[e];for(const t of e.children){const i=LN(n,t);if(i.length)return i.unshift(e),i}return[]}class lm{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function K0(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class bB extends yB{constructor(e,t){super(e),this.snapshot=t,UN(this,e)}toString(){return this.snapshot.toString()}}function wB(n,e){const t=function XW(n,e){const u=new GA([],{},{},"",{},_i,e,null,{});return new xB("",new lm(u,[]))}(0,e),i=new Hd.X([new tI("",{})]),r=new Hd.X({}),o=new Hd.X({}),u=new Hd.X({}),m=new Hd.X(""),v=new Y0(i,r,u,m,o,_i,e,t.root);return v.snapshot=t.root,new bB(new lm(v,[]),t)}class Y0{constructor(e,t,i,r,o,u,m,v){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=u,this.component=m,this._futureSnapshot=v,this.title=this.dataSubject?.pipe((0,gn.U)(x=>x[eI]))??(0,_n.of)(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gn.U)(e=>G0(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gn.U)(e=>G0(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CB(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function JW(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class GA{get title(){return this.data?.[eI]}constructor(e,t,i,r,o,u,m,v,x){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=m,this.routeConfig=v,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=G0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=G0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xB extends yB{constructor(e,t){super(t),this.url=e,UN(this,t)}toString(){return EB(this._root)}}function UN(n,e){e.value._routerState=n,e.children.forEach(t=>UN(n,t))}function EB(n){const e=n.children.length>0?` { ${n.children.map(EB).join(", ")} } `:"";return`${n.value}${e}`}function VN(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$f(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),$f(e.params,t.params)||n.paramsSubject.next(t.params),function mW(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$f(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),$f(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function BN(n,e){const t=$f(n.params,e.params)&&function yW(n,e){return oy(n,e)&&n.every((t,i)=>$f(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||BN(n.parent,e.parent))}let WA=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=_i,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(cI),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb),this.inputBinder=(0,a.f3M)(ZA,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new a.vHH(4013,!1);this._activatedRoute=t;const r=this.location,u=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,v=new e8(t,m,r.injector);this.activated=r.createComponent(u,{index:r.length,injector:v,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]})}return n})();class e8{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Y0?this.route:e===cI?this.childContexts:this.parent.get(e,t)}}const ZA=new a.OlP("");let IB=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=RA([i.queryParams,i.params,i.data]).pipe((0,qo.w)(([o,u,m],v)=>(m={...o,...u,...m},0===v?(0,_n.of)(m):Promise.resolve(m)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const u=(0,a.qFp)(i.component);if(u)for(const{templateName:m}of u.inputs)t.activatedComponentRef.setInput(m,o[m]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();function lI(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function n8(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return lI(n,i,r);return lI(n,i)})}(n,e,t);return new lm(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(m=>lI(n,m)),u}}const i=function i8(n){return new Y0(new Hd.X(n.url),new Hd.X(n.params),new Hd.X(n.queryParams),new Hd.X(n.fragment),new Hd.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>lI(n,o));return new lm(i,r)}}const jN="ngNavigationCancelingError";function TB(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=sy(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=SB(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function SB(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[jN]=!0,i.cancellationCode=e,t&&(i.url=t),i}function DB(n){return n&&n[jN]}let MB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(i,r){1&i&&a._UZ(0,"router-outlet")},dependencies:[WA],encapsulation:2})}return n})();function zN(n){const e=n.children&&n.children.map(zN),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==_i&&(t.component=MB),t}function Lh(n){return n.outlet||_i}function uI(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class d8{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),VN(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=K0(t);e.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=K0(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),m=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=K0(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=K0(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new YW(o.value.snapshot))}),e.children.length&&this.forwardEvent(new ZW(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(VN(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const m=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(m.contexts),u.attachRef=m.componentRef,u.route=m.route.value,u.outlet&&u.outlet.attach(m.componentRef,m.route.value),VN(m.route.value),this.activateChildRoutes(e,null,u.children)}else{const m=uI(r.snapshot);u.attachRef=null,u.route=r,u.injector=m,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class AB{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class KA{constructor(e,t){this.component=e,this.route=t}}function h8(n,e,t){const i=n._root;return dI(i,e?e._root:null,t,[i.value])}function Q0(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,a.Z0I)(n)?e.get(n):n:i}function dI(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=K0(e);return n.children.forEach(u=>{(function p8(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const v=function m8(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!oy(n.url,e.url);case"pathParamsOrQueryParamsChange":return!oy(n.url,e.url)||!$f(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!BN(n,e)||!$f(n.queryParams,e.queryParams);default:return!BN(n,e)}}(u,o,o.routeConfig.runGuardsAndResolvers);v?r.canActivateChecks.push(new AB(i)):(o.data=u.data,o._resolvedData=u._resolvedData),dI(n,e,o.component?m?m.children:null:t,i,r),v&&m&&m.outlet&&m.outlet.isActivated&&r.canDeactivateChecks.push(new KA(m.outlet.component,u))}else u&&hI(e,m,r),r.canActivateChecks.push(new AB(i)),dI(n,null,o.component?m?m.children:null:t,i,r)})(u,o[u.value.outlet],t,i.concat([u.value]),r),delete o[u.value.outlet]}),Object.entries(o).forEach(([u,m])=>hI(m,t.getContext(u),r)),r}function hI(n,e,t){const i=K0(n),r=n.value;Object.entries(i).forEach(([o,u])=>{hI(u,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new KA(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function fI(n){return"function"==typeof n}function kB(n){return n instanceof NA||"EmptyError"===n?.name}const YA=Symbol("INITIAL_VALUE");function X0(){return(0,qo.w)(n=>RA(n.map(e=>e.pipe(tl(1),Rg(YA)))).pipe((0,gn.U)(e=>{for(const t of e)if(!0!==t){if(t===YA)return YA;if(!1===t||t instanceof W0)return t}return!0}),cr(e=>e!==YA),tl(1)))}function OB(n){return(0,IN.z)((0,tr.b)(e=>{if(sy(e))throw TB(0,e)}),(0,gn.U)(e=>!0===e))}class QA{constructor(e){this.segmentGroup=e||null}}class PB{constructor(e){this.urlTree=e}}function J0(n){return $0(new QA(n))}function RB(n){return $0(new PB(n))}class N8{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new a.vHH(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,_n.of)(i);if(r.numberOfChildren>1||!r.children[_i])return $0(new a.vHH(4e3,!1));r=r.children[_i]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new W0(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);i[r]=t[m]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let u={};return Object.entries(t.children).forEach(([m,v])=>{u[m]=this.createSegmentGroup(e,v,i,r)}),new Lr(o,u)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new a.vHH(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const HN={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function F8(n,e,t,i,r){const o=$N(n,e,t);return o.matched?(i=function o8(n,e){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function O8(n,e,t,i){const r=e.canMatch;if(!r||0===r.length)return(0,_n.of)(!0);const o=r.map(u=>{const m=Q0(u,n);return Lg(function w8(n){return n&&fI(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))});return(0,_n.of)(o).pipe(X0(),OB())}(i,e,t).pipe((0,gn.U)(u=>!0===u?o:{...HN}))):(0,_n.of)(o)}function $N(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...HN}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||pW)(t,n,e);if(!r)return{...HN};const o={};Object.entries(r.posParams??{}).forEach(([m,v])=>{o[m]=v.path});const u=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function NB(n,e,t,i){return t.length>0&&function V8(n,e,t){return t.some(i=>XA(n,e,i)&&Lh(i)!==_i)}(n,t,i)?{segmentGroup:new Lr(e,U8(i,new Lr(t,n.children))),slicedSegments:[]}:0===t.length&&function B8(n,e,t){return t.some(i=>XA(n,e,i))}(n,t,i)?{segmentGroup:new Lr(n.segments,L8(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Lr(n.segments,n.children),slicedSegments:t}}function L8(n,e,t,i,r){const o={};for(const u of i)if(XA(n,t,u)&&!r[Lh(u)]){const m=new Lr([],{});o[Lh(u)]=m}return{...r,...o}}function U8(n,e){const t={};t[_i]=e;for(const i of n)if(""===i.path&&Lh(i)!==_i){const r=new Lr([],{});t[Lh(i)]=r}return t}function XA(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class $8{constructor(e,t,i,r,o,u,m){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=u,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new N8(this.urlSerializer,this.urlTree)}noMatchError(e){return new a.vHH(4002,!1)}recognize(){const e=NB(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,_i).pipe(Fg(t=>{if(t instanceof PB)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof QA?this.noMatchError(t):t}),(0,gn.U)(t=>{const i=new GA([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},_i,this.rootComponentType,null,{}),r=new lm(i,t),o=new xB("",r),u=function RW(n,e,t=null,i=null){return dB(uB(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(o._root),{state:o,tree:u}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,_i).pipe(Fg(i=>{throw i instanceof QA?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=CB(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Mr.D)(r).pipe(ry(o=>{const u=i.children[o],m=function l8(n,e){const t=n.filter(i=>Lh(i)===e);return t.push(...n.filter(i=>Lh(i)!==e)),t}(t,o);return this.processSegmentGroup(e,m,u,o)}),q0((o,u)=>(o.push(...u),o)),FA(null),function hW(n,e){const t=arguments.length>=2;return i=>i.pipe(n?cr((r,o)=>n(r,o,i)):QE.y,SN(1),t?FA(e):YV(()=>new NA))}(),(0,Ea.z)(o=>{if(null===o)return J0(i);const u=FB(o);return function q8(n){n.sort((e,t)=>e.value.outlet===_i?-1:t.value.outlet===_i?1:e.value.outlet.localeCompare(t.value.outlet))}(u),(0,_n.of)(u)}))}processSegment(e,t,i,r,o,u){return(0,Mr.D)(t).pipe(ry(m=>this.processSegmentAgainstRoute(m._injector??e,t,m,i,r,o,u).pipe(Fg(v=>{if(v instanceof QA)return(0,_n.of)(null);throw v}))),Ng(m=>!!m),Fg(m=>{if(kB(m))return function z8(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?(0,_n.of)([]):J0(i);throw m}))}processSegmentAgainstRoute(e,t,i,r,o,u,m){return function j8(n,e,t,i){return!!(Lh(n)===i||i!==_i&&XA(e,t,n))&&("**"===n.path||$N(e,n,t).matched)}(i,r,o,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,u,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,u):J0(r):J0(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?RB(o):this.applyRedirects.lineralizeSegments(i,o).pipe((0,Ea.z)(u=>{const m=new Lr(u,{});return this.processSegment(e,t,m,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u){const{matched:m,consumedSegments:v,remainingSegments:x,positionalParamSegments:A}=$N(t,r,o);if(!m)return J0(t);const L=this.applyRedirects.applyRedirectCommands(v,r.redirectTo,A);return r.redirectTo.startsWith("/")?RB(L):this.applyRedirects.lineralizeSegments(r,L).pipe((0,Ea.z)(q=>this.processSegment(e,i,t,q.concat(x),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,o,u){let m;if("**"===i.path){const v=r.length>0?JV(r).parameters:{},x=new GA(r,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LB(i),Lh(i),i.component??i._loadedComponent??null,i,UB(i));m=(0,_n.of)({snapshot:x,consumedSegments:[],remainingSegments:[]}),t.children={}}else m=F8(t,i,r,e).pipe((0,gn.U)(({matched:v,consumedSegments:x,remainingSegments:A,parameters:L})=>v?{snapshot:new GA(x,L,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LB(i),Lh(i),i.component??i._loadedComponent??null,i,UB(i)),consumedSegments:x,remainingSegments:A}:null));return m.pipe((0,qo.w)(v=>null===v?J0(t):this.getChildConfig(e=i._injector??e,i,r).pipe((0,qo.w)(({routes:x})=>{const A=i._loadedInjector??e,{snapshot:L,consumedSegments:q,remainingSegments:ne}=v,{segmentGroup:ae,slicedSegments:ye}=NB(t,q,ne,x);if(0===ye.length&&ae.hasChildren())return this.processChildren(A,x,ae).pipe((0,gn.U)(wt=>null===wt?null:[new lm(L,wt)]));if(0===x.length&&0===ye.length)return(0,_n.of)([new lm(L,[])]);const We=Lh(i)===o;return this.processSegment(A,x,ae,ye,We?_i:o,!0).pipe((0,gn.U)(wt=>[new lm(L,wt)]))}))))}getChildConfig(e,t,i){return t.children?(0,_n.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,_n.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function k8(n,e,t,i){const r=e.canLoad;if(void 0===r||0===r.length)return(0,_n.of)(!0);const o=r.map(u=>{const m=Q0(u,n);return Lg(function _8(n){return n&&fI(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))});return(0,_n.of)(o).pipe(X0(),OB())}(e,t,i).pipe((0,Ea.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,tr.b)(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function R8(n){return $0(SB(!1,3))}())):(0,_n.of)({routes:[],injector:e})}}function G8(n){const e=n.value.routeConfig;return e&&""===e.path}function FB(n){const e=[],t=new Set;for(const i of n){if(!G8(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=FB(i.children);e.push(new lm(i.value,r))}return e.filter(i=>!t.has(i))}function LB(n){return n.data||{}}function UB(n){return n.resolve||{}}function VB(n){return"string"==typeof n.title||null===n.title}function qN(n){return(0,qo.w)(e=>{const t=n(e);return t?(0,Mr.D)(t).pipe((0,gn.U)(()=>e)):(0,_n.of)(e)})}const ew=new a.OlP("ROUTES");let GN=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,_n.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Lg(t.loadComponent()).pipe((0,gn.U)(BB),(0,tr.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),LA(()=>{this.componentLoaders.delete(t)})),r=new KV(i,()=>new zn.x).pipe(TN());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,_n.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function J8(n,e,t,i){return Lg(n.loadChildren()).pipe((0,gn.U)(BB),(0,Ea.z)(r=>r instanceof a.YKP||Array.isArray(r)?(0,_n.of)(r):(0,Mr.D)(e.compileModuleAsync(r))),(0,gn.U)(r=>{i&&i(n);let o,u,m=!1;return Array.isArray(r)?(u=r,!0):(o=r.create(t).injector,u=o.get(ew,[],{optional:!0,self:!0}).flat()),{routes:u.map(zN),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(LA(()=>{this.childrenLoaders.delete(i)})),u=new KV(o,()=>new zn.x).pipe(TN());return this.childrenLoaders.set(i,u),u}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function BB(n){return function eZ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let JA=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new zn.x,this.transitionAbortSubject=new zn.x,this.configLoader=(0,a.f3M)(GN),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(nI),this.rootContexts=(0,a.f3M)(cI),this.inputBindingEnabled=null!==(0,a.f3M)(ZA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,_n.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new GW(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new qW(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new Hd.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:sI,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(cr(o=>0!==o.id),(0,gn.U)(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),(0,qo.w)(o=>{this.currentTransition=o;let u=!1,m=!1;return(0,_n.of)(o).pipe((0,tr.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.rawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,qo.w)(v=>{const x=v.currentBrowserUrl.toString(),A=!t.navigated||v.extractedUrl.toString()!==x||x!==v.currentUrlTree.toString();if(!A&&"reload"!==(v.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const q="";return this.events.next(new Z0(v.id,this.urlSerializer.serialize(v.rawUrl),q,0)),v.resolve(null),Hf.E}if(t.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return(0,_n.of)(v).pipe((0,qo.w)(q=>{const ne=this.transitions?.getValue();return this.events.next(new $A(q.id,this.urlSerializer.serialize(q.extractedUrl),q.source,q.restoredState)),ne!==this.transitions?.getValue()?Hf.E:Promise.resolve(q)}),function W8(n,e,t,i,r,o){return(0,Ea.z)(u=>function H8(n,e,t,i,r,o,u="emptyOnly"){return new $8(n,e,t,i,r,u,o).recognize()}(n,e,t,i,u.extractedUrl,r,o).pipe((0,gn.U)(({state:m,tree:v})=>({...u,targetSnapshot:m,urlAfterRedirects:v}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,tr.b)(q=>{o.targetSnapshot=q.targetSnapshot,o.urlAfterRedirects=q.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:q.urlAfterRedirects};const ne=new _B(q.id,this.urlSerializer.serialize(q.extractedUrl),this.urlSerializer.serialize(q.urlAfterRedirects),q.targetSnapshot);this.events.next(ne)}));if(A&&t.urlHandlingStrategy.shouldProcessUrl(v.currentRawUrl)){const{id:q,extractedUrl:ne,source:ae,restoredState:ye,extras:We}=v,wt=new $A(q,this.urlSerializer.serialize(ne),ae,ye);this.events.next(wt);const kt=wB(0,this.rootComponentType).snapshot;return this.currentTransition=o={...v,targetSnapshot:kt,urlAfterRedirects:ne,extras:{...We,skipLocationChange:!1,replaceUrl:!1}},(0,_n.of)(o)}{const q="";return this.events.next(new Z0(v.id,this.urlSerializer.serialize(v.extractedUrl),q,1)),v.resolve(null),Hf.E}}),(0,tr.b)(v=>{const x=new jW(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(x)}),(0,gn.U)(v=>(this.currentTransition=o={...v,guards:h8(v.targetSnapshot,v.currentSnapshot,this.rootContexts)},o)),function x8(n,e){return(0,Ea.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=t;return 0===u.length&&0===o.length?(0,_n.of)({...t,guardsResult:!0}):function E8(n,e,t,i){return(0,Mr.D)(n).pipe((0,Ea.z)(r=>function A8(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,_n.of)(!0);const u=o.map(m=>{const v=uI(e)??r,x=Q0(m,v);return Lg(function b8(n){return n&&fI(n.canDeactivate)}(x)?x.canDeactivate(n,e,t,i):v.runInContext(()=>x(n,e,t,i))).pipe(Ng())});return(0,_n.of)(u).pipe(X0())}(r.component,r.route,t,e,i)),Ng(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Ea.z)(m=>m&&function g8(n){return"boolean"==typeof n}(m)?function I8(n,e,t,i){return(0,Mr.D)(e).pipe(ry(r=>JE(function S8(n,e){return null!==n&&e&&e(new WW(n)),(0,_n.of)(!0)}(r.route.parent,i),function T8(n,e){return null!==n&&e&&e(new KW(n)),(0,_n.of)(!0)}(r.route,i),function M8(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(u=>function f8(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Bc(()=>{const m=u.guards.map(v=>{const x=uI(u.node)??t,A=Q0(v,x);return Lg(function y8(n){return n&&fI(n.canActivateChild)}(A)?A.canActivateChild(i,n):x.runInContext(()=>A(i,n))).pipe(Ng())});return(0,_n.of)(m).pipe(X0())}));return(0,_n.of)(o).pipe(X0())}(n,r.path,t),function D8(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,_n.of)(!0);const r=i.map(o=>Bc(()=>{const u=uI(e)??t,m=Q0(o,u);return Lg(function v8(n){return n&&fI(n.canActivate)}(m)?m.canActivate(e,n):u.runInContext(()=>m(e,n))).pipe(Ng())}));return(0,_n.of)(r).pipe(X0())}(n,r.route,t))),Ng(r=>!0!==r,!0))}(i,o,n,e):(0,_n.of)(m)),(0,gn.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,v=>this.events.next(v)),(0,tr.b)(v=>{if(o.guardsResult=v.guardsResult,sy(v.guardsResult))throw TB(0,v.guardsResult);const x=new zW(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.events.next(x)}),cr(v=>!!v.guardsResult||(this.cancelNavigationTransition(v,"",3),!1)),qN(v=>{if(v.guards.canActivateChecks.length)return(0,_n.of)(v).pipe((0,tr.b)(x=>{const A=new HW(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(A)}),(0,qo.w)(x=>{let A=!1;return(0,_n.of)(x).pipe(function Z8(n,e){return(0,Ea.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,_n.of)(t);let o=0;return(0,Mr.D)(r).pipe(ry(u=>function K8(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!VB(r)&&(o[eI]=r.title),function Y8(n,e,t,i){const r=function Q8(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,_n.of)({});const o={};return(0,Mr.D)(r).pipe((0,Ea.z)(u=>function X8(n,e,t,i){const r=uI(e)??i,o=Q0(n,r);return Lg(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[u],e,t,i).pipe(Ng(),(0,tr.b)(m=>{o[u]=m}))),SN(1),QV(o),Fg(u=>kB(u)?Hf.E:$0(u)))}(o,n,e,i).pipe((0,gn.U)(u=>(n._resolvedData=u,n.data=CB(n,t).resolve,r&&VB(r)&&(n.data[eI]=r.title),null)))}(u.route,i,n,e)),(0,tr.b)(()=>o++),SN(1),(0,Ea.z)(u=>o===r.length?(0,_n.of)(t):Hf.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,tr.b)({next:()=>A=!0,complete:()=>{A||this.cancelNavigationTransition(x,"",2)}}))}),(0,tr.b)(x=>{const A=new $W(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(A)}))}),qN(v=>{const x=A=>{const L=[];A.routeConfig?.loadComponent&&!A.routeConfig._loadedComponent&&L.push(this.configLoader.loadComponent(A.routeConfig).pipe((0,tr.b)(q=>{A.component=q}),(0,gn.U)(()=>{})));for(const q of A.children)L.push(...x(q));return L};return RA(x(v.targetSnapshot.root)).pipe(FA(),tl(1))}),qN(()=>this.afterPreactivation()),(0,gn.U)(v=>{const x=function t8(n,e,t){const i=lI(n,e._root,t?t._root:void 0);return new bB(i,e)}(t.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return this.currentTransition=o={...v,targetRouterState:x},o}),(0,tr.b)(()=>{this.events.next(new RN)}),((n,e,t,i)=>(0,gn.U)(r=>(new d8(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,v=>this.events.next(v),this.inputBindingEnabled),tl(1),(0,tr.b)({next:v=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ug(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects))),t.titleStrategy?.updateTitle(v.targetRouterState.snapshot),v.resolve(!0)},complete:()=>{u=!0}}),$d(this.transitionAbortSubject.pipe((0,tr.b)(v=>{throw v}))),LA(()=>{u||m||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Fg(v=>{if(m=!0,DB(v))this.events.next(new aI(o.id,this.urlSerializer.serialize(o.extractedUrl),v.message,v.cancellationCode)),function r8(n){return DB(n)&&sy(n.url)}(v)?this.events.next(new NN(v.url)):o.resolve(!1);else{this.events.next(new qA(o.id,this.urlSerializer.serialize(o.extractedUrl),v,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(v))}catch(x){o.reject(x)}}return Hf.E}))}))}cancelNavigationTransition(t,i,r){const o=new aI(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jB(n){return n!==sI}let zB=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===_i);return i}getResolvedTitleForRoute(t){return t.data[eI]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(tZ)},providedIn:"root"})}return n})(),tZ=(()=>{class n extends zB{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(pt))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(rZ)},providedIn:"root"})}return n})();class iZ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let rZ=(()=>{class n extends iZ{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}();static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const e1=new a.OlP("",{providedIn:"root",factory:()=>({})});let oZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(sZ)},providedIn:"root"})}return n})(),sZ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pI=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(pI||{});function HB(n,e){n.events.pipe(cr(t=>t instanceof Ug||t instanceof aI||t instanceof qA||t instanceof Z0),(0,gn.U)(t=>t instanceof Ug||t instanceof Z0?pI.COMPLETE:t instanceof aI&&(0===t.code||1===t.code)?pI.REDIRECTING:pI.FAILED),cr(t=>t!==pI.REDIRECTING),tl(1)).subscribe(()=>{e()})}function aZ(n){throw n}function cZ(n,e,t){return e.parse("/")}const lZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vc=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this._events=new zn.x,this.options=(0,a.f3M)(e1,{optional:!0})||{},this.pendingTasks=(0,a.f3M)(a.HDt),this.errorHandler=this.options.errorHandler||aZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||cZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(oZ),this.routeReuseStrategy=(0,a.f3M)(nZ),this.titleStrategy=(0,a.f3M)(zB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,a.f3M)(ew,{optional:!0})?.flat()??[],this.navigationTransitions=(0,a.f3M)(JA),this.urlSerializer=(0,a.f3M)(nI),this.location=(0,a.f3M)(mt),this.componentInputBindingEnabled=!!(0,a.f3M)(ZA,{optional:!0}),this.eventsSubscription=new Ku.w0,this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new W0,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wB(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void($B(i)&&this._events.next(i));if(i instanceof $A)jB(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Z0)this.rawUrlTree=r.rawUrl;else if(i instanceof _B){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof RN)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof aI)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof NN){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||jB(r.source)};this.scheduleNavigation(o,sI,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof qA&&this.restoreHistory(r,!0),i instanceof Ug&&(this.navigated=!0),$B(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),sI,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},u=r?.navigationId?r:null;if(r){const v={...r};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(o.state=v)}const m=this.parseUrl(t);this.scheduleNavigation(m,i,u,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(zN),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:m,preserveFragment:v}=i,x=v?this.currentUrlTree.fragment:u;let L,A=null;switch(m){case"merge":A={...this.currentUrlTree.queryParams,...o};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=o||null}null!==A&&(A=this.removeEmptyProps(A));try{L=uB(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),L=this.currentUrlTree.root}return dB(L,t,A,x??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=sy(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,sI,null,i)}navigate(t,i={skipLocationChange:!1}){return function dZ(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new a.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...lZ}:!1===i?{...uZ}:i,sy(t))return tB(this.currentUrlTree,t,r);const o=this.parseUrl(t);return tB(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,u){if(this.disposed)return Promise.resolve(!1);let m,v,x;u?(m=u.resolve,v=u.reject,x=u.promise):x=new Promise((L,q)=>{m=L,v=q});const A=this.pendingTasks.add();return HB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(A))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:m,reject:v,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(L=>Promise.reject(L))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const u={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",u)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $B(n){return!(n instanceof RN||n instanceof NN)}let um=(()=>{class n{constructor(t,i,r,o,u,m){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=u,this.locationStrategy=m,this.href=null,this.commands=null,this.onChanges=new zn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const v=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===v||"area"===v,this.isAnchorElement?this.subscription=t.events.subscribe(x=>{x instanceof Ug&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(vc),a.Y36(Y0),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Ne))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&a.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&i&&a.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",a.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",a.VuI],replaceUrl:["replaceUrl","replaceUrl",a.VuI],routerLink:"routerLink"},standalone:!0,features:[a.Xq5,a.TTD]})}return n})(),qB=(()=>{class n{get isActive(){return this._isActive}constructor(t,i,r,o,u){this.router=t,this.element=i,this.renderer=r,this.cdr=o,this.link=u,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=t.events.subscribe(m=>{m instanceof Ug&&this.update()})}ngAfterContentInit(){(0,_n.of)(this.links.changes,(0,_n.of)(null)).pipe((0,XE.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Mr.D)(t).pipe((0,XE.J)()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function hZ(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(vc),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(um,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(1&i&&a.Suo(o,um,5),2&i){let u;a.iGM(u=a.CRH())&&(r.links=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.TTD]})}return n})();class GB{}let fZ=(()=>{class n{constructor(t,i,r,o,u){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(cr(t=>t instanceof Ug),ry(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,a.MMx)(o.providers,t,`Route: ${o.path}`));const u=o._injector??t,m=o._loadedInjector??u;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(u,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(m,o.children??o._loadedRoutes))}return(0,Mr.D)(r).pipe((0,XE.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):(0,_n.of)(null);const o=r.pipe((0,Ea.z)(u=>null===u?(0,_n.of)(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,Mr.D)([o,u]).pipe((0,XE.J)())}return o})}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(vc),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(GB),a.LFG(GN))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const WN=new a.OlP("");let WB=(()=>{class n{constructor(t,i,r,o,u={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof $A?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ug?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Z0&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof vB&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vB(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){a.$Z()};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();function dm(n,e){return{\u0275kind:n,\u0275providers:e}}function KB(){const n=(0,a.f3M)(a.zs3);return e=>{const t=n.get(a.z2F);if(e!==t.components[0])return;const i=n.get(vc),r=n.get(YB);1===n.get(ZN)&&i.initialNavigation(),n.get(QB,null,a.XFs.Optional)?.setUpPreloading(),n.get(WN,null,a.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const YB=new a.OlP("",{factory:()=>new zn.x}),ZN=new a.OlP("",{providedIn:"root",factory:()=>1}),QB=new a.OlP("");function _Z(n){return dm(0,[{provide:QB,useExisting:fZ},{provide:GB,useExisting:n}])}const XB=new a.OlP("ROUTER_FORROOT_GUARD"),yZ=[mt,{provide:nI,useClass:MN},vc,cI,{provide:Y0,useFactory:function ZB(n){return n.routerState.root},deps:[vc]},GN,[]];function bZ(){return new a.PXZ("Router",vc)}let JB=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[yZ,[],{provide:ew,multi:!0,useValue:t},{provide:XB,useFactory:EZ,deps:[[vc,new a.FiY,new a.tp0]]},{provide:e1,useValue:i||{}},i?.useHash?{provide:Ne,useClass:st}:{provide:Ne,useClass:lt},{provide:WN,useFactory:()=>{const n=(0,a.f3M)(Er),e=(0,a.f3M)(a.R0b),t=(0,a.f3M)(e1),i=(0,a.f3M)(JA),r=(0,a.f3M)(nI);return t.scrollOffset&&n.setOffset(t.scrollOffset),new WB(r,i,n,e,t)}},i?.preloadingStrategy?_Z(i.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:bZ},i?.initialNavigation?IZ(i):[],i?.bindToComponentInputs?dm(8,[IB,{provide:ZA,useExisting:IB}]).\u0275providers:[],[{provide:e3,useFactory:KB},{provide:a.tb,multi:!0,useExisting:e3}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ew,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(XB,8))};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();function EZ(n){return"guarded"}function IZ(n){return["disabled"===n.initialNavigation?dm(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const e=(0,a.f3M)(vc);return()=>{e.setUpLocationChangeListener()}}},{provide:ZN,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?dm(2,[{provide:ZN,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:e=>{const t=e.get(ut,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(vc),o=e.get(YB);HB(r,()=>{i(!0)}),e.get(JA).afterPreactivation=()=>(i(!0),o.closed?(0,_n.of)(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const e3=new a.OlP(""),SZ=function(n){return{"image-active":n}};function DZ(n,e){if(1&n&&a._UZ(0,"img",6),2&n){const t=e.$implicit,i=e.index,r=a.oxw(2);a.Q6J("src",t.imageSrc,a.LSH)("alt",t.imageAlt)("ngClass",a.VKq(3,SZ,r.selectedIndex===i))}}const MZ=function(n){return{active:n}};function AZ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"span",9),a.NdJ("click",function(){const o=a.CHM(t).index,u=a.oxw(3);return a.KtG(u.selectImage(o))}),a.qZA()}if(2&n){const t=e.index,i=a.oxw(3);a.Q6J("ngClass",a.VKq(1,MZ,i.selectedIndex===t))}}function kZ(n,e){if(1&n&&(a.TgZ(0,"div",7),a.YNc(1,AZ,1,3,"span",8),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",t.images)}}function OZ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",10)(1,"i",11),a.NdJ("click",function(){a.CHM(t);const r=a.oxw(2);return a.KtG(r.onPrevClick())}),a.qZA()()}}function PZ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",12)(1,"i",13),a.NdJ("click",function(){a.CHM(t);const r=a.oxw(2);return a.KtG(r.onNextClick())}),a.qZA()()}}function RZ(n,e){if(1&n&&(a.TgZ(0,"div",1),a.YNc(1,DZ,1,5,"img",2),a.YNc(2,kZ,2,1,"div",3),a.YNc(3,OZ,2,0,"div",4),a.YNc(4,PZ,2,0,"div",5),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",t.images),a.xp6(1),a.Q6J("ngIf",t.indicators),a.xp6(1),a.Q6J("ngIf",t.controls),a.xp6(1),a.Q6J("ngIf",t.controls)}}let NZ=(()=>{class n{constructor(){this.images=[],this.indicators=!0,this.controls=!0,this.autoSlide=!1,this.slideInterval=5e3,this.selectedIndex=0}ngOnInit(){this.autoSlide&&this.autoSlideImages()}autoSlideImages(){setInterval(()=>{this.onNextClick()},this.slideInterval)}selectImage(t){this.selectedIndex=t}onPrevClick(){0===this.selectedIndex?this.selectedIndex=this.images.length-1:this.selectedIndex--}onNextClick(){this.selectedIndex===this.images.length-1?this.selectedIndex=0:this.selectedIndex++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-carousel"]],inputs:{images:"images",indicators:"indicators",controls:"controls",autoSlide:"autoSlide",slideInterval:"slideInterval"},decls:1,vars:1,consts:[["class","carousel-container",4,"ngIf"],[1,"carousel-container"],["class","fade",3,"src","alt","ngClass",4,"ngFor","ngForOf"],["class","carousel-dot-container",4,"ngIf"],["class","btn-carousel btn-prev",4,"ngIf"],["class","btn-carousel btn-next",4,"ngIf"],[1,"fade",3,"src","alt","ngClass"],[1,"carousel-dot-container"],["class","dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dot",3,"ngClass","click"],[1,"btn-carousel","btn-prev"],[1,"fas","fa-arrow-circle-left","icon-carousel","icon-prev",3,"click"],[1,"btn-carousel","btn-next"],[1,"fas","fa-arrow-circle-right","icon-carousel","icon-next",3,"click"]],template:function(i,r){1&i&&a.YNc(0,RZ,5,4,"div",0),2&i&&a.Q6J("ngIf",r.images&&r.images.length>0)},dependencies:[Ko,qn,ki],styles:[".carousel-container[_ngcontent-%COMP%]{position:relative;margin:auto;text-align:center;width:1000px;border-radius:15px;box-shadow:0 6px 12px #dce1e1}.carousel-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none;border-radius:15px}.carousel-container[_ngcontent-%COMP%]   img.image-active[_ngcontent-%COMP%]{display:block;width:100%;height:100%}.carousel-dot-container[_ngcontent-%COMP%]{position:absolute;right:0;left:0;bottom:0;display:flex;justify-content:center;padding:0;margin-bottom:1rem}.dot[_ngcontent-%COMP%]{cursor:pointer;height:13px;width:13px;margin:0 5px;background-color:#fff;border-radius:50%;display:inline-block;transition:opacitiy .6s ease;opacity:.5}.active[_ngcontent-%COMP%], .dot[_ngcontent-%COMP%]:hover{opacity:1}.fade[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fade;animation-duration:.7s}@keyframes _ngcontent-%COMP%_fade{0%{opacity:.8}to{opacity:1}}.btn-carousel[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:0 0;cursor:pointer}.icon-carousel[_ngcontent-%COMP%]{opacity:.5;transition:all .15s ease}.icon-carousel[_ngcontent-%COMP%]:hover{color:#fff;opacity:.9}.icon-carousel[_ngcontent-%COMP%]:active{opacity:.5}.icon-prev[_ngcontent-%COMP%], .icon-next[_ngcontent-%COMP%]{font-size:35px}.btn-prev[_ngcontent-%COMP%]{left:0}.btn-next[_ngcontent-%COMP%]{right:0}"]})}return n})(),FZ=(()=>{class n{constructor(){this.images=[{imageSrc:"./assets/images/commercial/scandal_commercial_ps_copy.jpg",imageAlt:"scandal"},{imageSrc:"./assets/images/commercial/sauvage_commercial.jpg",imageAlt:"sauvage"}]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-dashboard"]],decls:1,vars:2,consts:[[3,"images","autoSlide"]],template:function(i,r){1&i&&a._UZ(0,"app-carousel",0),2&i&&a.Q6J("images",r.images)("autoSlide",!1)},dependencies:[NZ],styles:['@charset "UTF-8";']})}return n})();Q(4467);const t1=[{routerLink:"dashboard",icon:"fal fa-home",label:"F\u0151oldal"},{routerLink:"products",icon:"fal fa-duotone fa-glasses",label:"Napszem\xfcvegek"},{routerLink:"accessories",icon:"fal fa-gem",label:"Kieg\xe9sz\xedt\u0151k"},{routerLink:"fragrances",icon:" fa fa-spray-can-sparkles",label:"Parf\xfcm\xf6k"},{routerLink:"media",icon:"fal fa-camera",label:"Media"},{routerLink:"user",icon:"fal fa-user",label:"Profil"},{routerLink:"shopping-cart",icon:"fal fa-cart-shopping",label:"Kos\xe1r",badge:0}];let kl=(()=>{class n{constructor(t){this.fs=t,this.cartItems=[],this.currentProduct=[]}getCollectionData(t){let i=Ga(this.fs,t);return Jc(i,{idField:"id"})}refreshData(t,i){t().subscribe(r=>{i.push(...r)})}getHawkers(){return this.getCollectionData("hawkers")}getJPG(){return this.getCollectionData("JPG")}getOrders(){return this.getCollectionData("*orders")}getUsers(){return this.getCollectionData("*users")}addToCartService(t){const i_selectedPrice=this.selectedSizePrice,r=this.cartItems.find(u=>u.product.id===t.id&&u.selectedPrice===i_selectedPrice);this.cartItems=this.getCartItems(),console.log("Cart items before modification:",this.cartItems),console.log("item: ",t),r?r.quantity<5&&r.quantity++:(this.cartItems.push({product:t,quantity:1,selectedPrice:this.selectedSizePrice,size:this.selectedSize}),console.log("Selected size price: ",this.selectedSizePrice),console.log("Selected size : ",this.selectedSize));const o=t1.find(u=>"shopping-cart"===u.routerLink);if(o){const u=this.cartItems.reduce((m,v)=>m+v.quantity,0);o.badge=u}console.log("Cart items after modification:",this.cartItems)}selectSize(t){this.selectedSize=t.size,this.selectedSizePrice=t.price,console.log("kiv\xe1lasztott \xe1r: ",t.price),console.log("kiv\xe1lasztott kiszerel\xe9s: ",t.size)}getCurrentProduct(t){return this.currentProduct.push([t]),this.currentProduct}getCartItems(){return this.cartItems}getSelectedPrice(){return console.log("valami",this.selectedSizePrice),this.selectedSizePrice}exit(){window.location.reload()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Bf))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vg=(()=>{class n{constructor(t,i,r){this.rendererFactory=t,this.services=i,this.firestore=r,this.isAllChecked=!0,this.isDiorChecked=!1,this.isLancomeChecked=!1,this.isJPGChecked=!1,this.isWomanChecked=!1,this.isManChecked=!1,this.isModalOpen=!1,this.isFilterChecked=!1,this.displayItemCount=6,this.fragrances$=Jc(Ga(this.firestore,"fragrances")),this.manFragrances$=Jc(Zu(Ga(this.firestore,"fragrances"),el("gender","==","man"))),this.womanFragrances$=Jc(Zu(Ga(this.firestore,"fragrances"),el("gender","==","woman"))),this.diorQuery$=Jc(Zu(Ga(this.firestore,"fragrances"),el("brand","==","Dior"))),this.lancomeQuery$=Jc(Zu(Ga(this.firestore,"fragrances"),el("brand","==","Lancome"))),this.JPGQuery$=Jc(Zu(Ga(this.firestore,"fragrances"),el("brand","==","Jean Paul Gaultier"))),this.selectedBrands=[],this.selectedGender="",this.renderer=t.createRenderer(null,null)}loadMore(){this.displayItemCount+=6}filterCheck(){this.isFilterChecked=!this.isFilterChecked}onCheckboxChange(t){"isAllChecked"===t&&(this.isAllChecked=!0,this.isDiorChecked=!1,this.isLancomeChecked=!1,this.isJPGChecked=!1,this.isWomanChecked=!1),("isDiorChecked"===t||"isLancomeChecked"===t||"isJPGChecked"===t||"isWomanChecked"===t)&&(this.isAllChecked=!(this.isDiorChecked||this.isLancomeChecked||this.isJPGChecked||this.isWomanChecked)),!0===this.isWomanChecked?(this.diorQuery$=Jc(Zu(Ga(this.firestore,"fragrances"),el("gender","==","woman"),el("brand","==","Dior"))),this.lancomeQuery$=Jc(Zu(Ga(this.firestore,"fragrances"),el("gender","==","woman"),el("brand","==","Lancome"))),this.JPGQuery$=Jc(Zu(Ga(this.firestore,"fragrances"),el("gender","==","woman"),el("brand","==","Jean Paul Gaultier")))):(this.diorQuery$=Jc(Zu(Ga(this.firestore,"fragrances"),el("brand","==","Dior"))),this.lancomeQuery$=Jc(Zu(Ga(this.firestore,"fragrances"),el("brand","==","Lancome"))),this.JPGQuery$=Jc(Zu(Ga(this.firestore,"fragrances"),el("brand","==","Jean Paul Gaultier")))),this.womanFragrances$=Jc(Zu(Ga(this.firestore,"fragrances"),el("gender","==",!0!==this.isWomanChecked||!0!==this.isDiorChecked&&!0!==this.isLancomeChecked&&!0!==this.isJPGChecked?"woman":"*")))}mouseOver(t){t.imagePath=t.modalImagePath[1]}mouseLeave(t){t.imagePath=t.modalImagePath[0]}openModal(t){this.selectedProduct=t,this.isModalOpen=!0,console.log("Kiv\xe1lasztott term\xe9k:",t),this.renderer.setStyle(document.body,"overflow","hidden"),t.type&&t.type.length>0&&this.services.selectSize(t.type[0])}closeModal(){this.renderer.removeStyle(document.body,"overflow"),this.isModalOpen=!1}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.FYo),a.LFG(kl),a.LFG(Bf))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),t3=(()=>{class n{constructor(t,i,r,o){this.rendererFactory=t,this.services=i,this.firestore=r,this.productService=o,this.screenWidthChanged=new a.vpe,this.closeModalEvent=new a.vpe,this.screenWidth=0,this.currentImage="",this.showDetailsBox=!1,this.renderer=t.createRenderer(null,null),this.updateScreenWidth(),window.addEventListener("resize",()=>this.updateScreenWidth())}updateScreenWidth(){this.screenWidth=window.innerWidth,this.screenWidthChanged.emit(this.screenWidth)}disableScroll(){this.renderer.setStyle(document.body,"overflow","hidden")}enableScroll(){this.renderer.removeStyle(document.body,"overflow")}showDetails(){this.showDetailsBox=!this.showDetailsBox}changeMainImage(t){this.currentImage=t,console.log("imagePath value: ",t)}closeModal(){this.closeModalEvent.emit(),this.services.selectedSize=null,this.services.selectedSizePrice=null,console.log("bez\xe1rt modal \xe9rt\xe9ke: ",this.services.selectedSize,this.services.selectedSizePrice),this.renderer.removeStyle(document.body,"overflow"),this.productService.isModalOpen=!1,this.showDetailsBox=!1}addToCart(t){this.services.addToCartService(t),this.closeModal()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.FYo),a.LFG(kl),a.LFG(Bf),a.LFG(Vg))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LZ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div")(1,"img",22),a.NdJ("mouseover",function(){const o=a.CHM(t).$implicit,u=a.oxw();return a.KtG(u.modalService.changeMainImage(o))}),a.qZA()()}if(2&n){const t=e.$implicit;a.xp6(1),a.Q6J("src",t,a.LSH)}}function UZ(n,e){1&n&&(a.TgZ(0,"i",23),a._uU(1,"Kattintson a r\xe9szletek\xe9rt!"),a.qZA())}function VZ(n,e){if(1&n&&(a.TgZ(0,"div",24),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.hij(" ",t.product.composition.compDescription," ")}}function BZ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",25),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw();return a.KtG(u.services.selectSize(o))}),a.TgZ(1,"div",26),a._uU(2),a.qZA()()}if(2&n){const t=e.$implicit,i=a.oxw();a.xp6(1),a.ekj("selected",i.services.selectedSize===t),a.xp6(1),a.AsE("",t.size," ",t.price," Ft")}}function jZ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",27)(1,"div",28)(2,"p",29),a._uU(3),a.qZA(),a.TgZ(4,"p",29),a._uU(5),a.qZA(),a.TgZ(6,"p",29),a._uU(7),a.qZA(),a.TgZ(8,"p",29),a._uU(9),a.qZA(),a.TgZ(10,"p",29),a._uU(11),a.qZA(),a.TgZ(12,"p",12),a._uU(13,"Term\xe9kjellemz\u0151: "),a.qZA(),a._uU(14),a.TgZ(15,"button",30),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.modalService.showDetails())}),a._UZ(16,"i",20),a.qZA()()()}if(2&n){const t=a.oxw();a.xp6(3),a.hij("",t.product.scent," "),a.xp6(2),a.hij("Fejillat: ",t.product.composition.head," "),a.xp6(2),a.hij("Sz\xedvillat: ",t.product.composition.hearth," "),a.xp6(2),a.hij("Alapillat: ",t.product.composition.base," "),a.xp6(2),a.hij("Illat: ",t.product.composition.scentType," "),a.xp6(3),a.hij(" ",t.product.composition.compDescription," ")}}let n3=(()=>{class n{constructor(t,i,r){this.productService=t,this.modalService=i,this.services=r}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Vg),a.Y36(t3),a.Y36(kl))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-modal"]],inputs:{product:"product"},decls:42,vars:14,consts:[[1,"modal-container"],[1,"modal-content"],[1,"left-section"],[1,"product-name"],[1,"product-description"],[1,"product-price"],[1,"modal-image",3,"src"],[1,"modal-image-selection-container"],[4,"ngFor","ngForOf"],[1,"right-section"],[1,"composition-container"],[1,"composition-description"],[1,"comp-desc-p"],[1,"composition-description",3,"click"],["class","mobile-comp-desc-i",4,"ngIf"],["class","comp-desc-p-details",4,"ngIf"],[1,"item-size-buttons-container"],[3,"click",4,"ngFor","ngForOf"],[1,"cart-btn",3,"click"],[1,"close-btn",3,"click"],[1,"fal","fa-times","close-icon"],["class","mobile-comp-desc-details-container",4,"ngIf"],["alt","Image",1,"modal-image-selection",3,"src","mouseover"],[1,"mobile-comp-desc-i"],[1,"comp-desc-p-details"],[3,"click"],["tabindex","0",1,"item-size-buttons"],[1,"mobile-comp-desc-details-container"],[1,"mobile-comp-desc-details"],[1,"mobile-comp-desc-p"],[1,"close-comp-desc-details-btn",3,"click"]],template:function(i,r){1&i&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),a._uU(4),a.qZA(),a.TgZ(5,"div",4),a._uU(6),a.qZA(),a.TgZ(7,"div",5),a._uU(8),a.qZA(),a._UZ(9,"img",6),a.TgZ(10,"div",7),a.YNc(11,LZ,2,1,"div",8),a.qZA()(),a.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"p",12),a._uU(16,"Fejillat: "),a.qZA(),a._uU(17),a.qZA(),a.TgZ(18,"div",11)(19,"p",12),a._uU(20,"Sz\xedvillat: "),a.qZA(),a._uU(21),a.qZA(),a.TgZ(22,"div",11)(23,"p",12),a._uU(24,"Alapillat: "),a.qZA(),a._uU(25),a.qZA(),a.TgZ(26,"div",11)(27,"p",12),a._uU(28,"Illat: "),a.qZA(),a._uU(29),a.qZA(),a.TgZ(30,"div",13),a.NdJ("click",function(){return r.modalService.showDetails()}),a.TgZ(31,"p",12),a._uU(32,"Term\xe9kjellemz\u0151: "),a.YNc(33,UZ,2,0,"i",14),a.qZA(),a.YNc(34,VZ,2,1,"div",15),a.qZA()(),a.TgZ(35,"div",16),a.YNc(36,BZ,3,4,"div",17),a.qZA(),a.TgZ(37,"div",18),a.NdJ("click",function(){return r.modalService.addToCart(r.product)}),a._uU(38,"Hozz\xe1ad\xe1s a kos\xe1rhoz"),a.qZA()(),a.TgZ(39,"button",19),a.NdJ("click",function(){return r.modalService.closeModal()}),a._UZ(40,"i",20),a.qZA(),a.YNc(41,jZ,17,6,"div",21),a.qZA()()),2&i&&(a.xp6(4),a.AsE(" ",r.product.productName," ",r.services.selectedSize,""),a.xp6(2),a.hij("",r.product.scent," "),a.xp6(2),a.hij("",r.services.selectedSizePrice," Ft"),a.xp6(1),a.Q6J("src",r.modalService.currentImage||r.product.modalImagePath[0],a.LSH),a.xp6(2),a.Q6J("ngForOf",r.product.modalImagePath),a.xp6(6),a.hij("",r.product.composition.head," "),a.xp6(4),a.hij("",r.product.composition.hearth," "),a.xp6(4),a.hij("",r.product.composition.base," "),a.xp6(4),a.hij("",r.product.composition.scentType," "),a.xp6(4),a.Q6J("ngIf",r.modalService.screenWidth<=800),a.xp6(1),a.Q6J("ngIf",r.modalService.screenWidth>800),a.xp6(2),a.Q6J("ngForOf",r.product.type),a.xp6(5),a.Q6J("ngIf",r.modalService.showDetailsBox&&r.modalService.screenWidth<=800))},dependencies:[qn,ki],styles:['@charset "UTF-8";.modal-container[_ngcontent-%COMP%]{background-color:#00000080;display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 10px #0003;width:900px;height:700px;position:relative;display:flex;flex-direction:column}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:66.6%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:24px;padding-bottom:10px;color:#333;border-bottom:1px solid #aeaeae}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:16px;color:#666}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:360px;max-height:360px;width:auto;height:auto;position:absolute;top:50%;left:33%;transform:translate(-50%,-50%);-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;position:absolute;bottom:0}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:70px;width:auto;height:auto;margin-left:15px;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{background-color:#092c3d;position:absolute;right:0;top:auto;bottom:0;height:100%;width:33.3%;padding:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:flex;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{position:absolute;background-color:#fff;right:10px;bottom:10px;font-size:10px;font-size:14px;padding:10px 22px;cursor:pointer;transition:ease .4s;-webkit-user-select:none;user-select:none;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:active{background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;top:65%;left:10px;-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;padding-left:5px;padding-right:5px;width:90px;height:40px;align-items:center;text-align:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:focus{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#ef2158}.mobile-comp-desc-details-container[_ngcontent-%COMP%]{position:fixed;width:95%;height:95%;z-index:2;border-radius:5px;background-color:#000c}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:90%;position:absolute;bottom:0;padding:15px;border-radius:5px;overflow-x:scroll}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:fixed;top:10%;right:0;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;overflow-x:visible}@media screen and (max-width: 550px){.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:0;width:95%;height:95%;top:0}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:100%;z-index:1;position:absolute;height:65%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:18px;padding:10px 0 10px 5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{margin-left:8px;font-size:16px;display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;margin-left:8px;display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:60%;max-height:60%;position:absolute;width:auto;height:auto;overflow:hidden;top:50%;left:50%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]{left:0;width:100%;padding:0;box-sizing:border-box;overflow-x:auto}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:50px;margin-left:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{width:100%;padding:5px;border-radius:5px;overflow:hidden;height:35%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){display:flex;margin-top:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .comp-desc-p-details[_ngcontent-%COMP%]{display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{right:10px;bottom:10px;padding:10px 30px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{position:relative;top:10%;left:10px}}@media screen and (min-width: 550px) and (max-width: 800px){.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:100%;margin:0 10px;height:700px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:18px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:16px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:300px;max-height:300px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:60px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:none;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){color:#fff;display:flex;margin-top:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .comp-desc-p-details[_ngcontent-%COMP%]{display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .mobile-comp-desc-p[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{position:absolute;background-color:#fff;right:5px;bottom:5px;font-size:12px;padding:5px 15px;cursor:pointer;transition:ease .4s;-webkit-user-select:none;user-select:none;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:active{background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;top:65%;left:10px;-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;padding-left:5px;padding-right:5px;width:90px;height:40px;align-items:center;text-align:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:focus{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;z-index:2;border-radius:5px;background-color:#000c}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]{background-color:#fff;width:60%;height:60%;position:relative;top:50%;left:50%;transform:translate(-50%,-50%);padding:15px;border-radius:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%], .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#ef2158}}@media screen and (min-width: 801px){.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{margin:0 10px}}']})}return n})();function zZ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",3),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw();return a.KtG(u.productService.openModal(o))}),a.TgZ(1,"div",4),a._uU(2),a.TgZ(3,"p",5),a._uU(4),a.qZA()(),a.TgZ(5,"div",6),a._UZ(6,"img",7),a.qZA(),a.TgZ(7,"div",8),a._uU(8),a.TgZ(9,"p",9),a._uU(10,"Ft"),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.hij(" ",t.brand," "),a.xp6(2),a.Oqu(t.brandName),a.xp6(2),a.Q6J("src",t.imagePath,a.LSH),a.xp6(2),a.hij(" ",t.price," ")}}function HZ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"app-modal",10),a.NdJ("closeModalEvent",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.productService.closeModal())}),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("product",t.productService.selectedProduct)}}let $Z=(()=>{class n{constructor(t,i,r,o){this.services=t,this.firestore=i,this.modalService=r,this.productService=o,this.task$=Jc(Ga(this.firestore,"hawkers"))}ngOnInit(){this.task$.subscribe(t=>console.log("task$ observable:",t)),console.log(this.task$)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(kl),a.Y36(Bf),a.Y36(t3),a.Y36(Vg))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-products"]],decls:4,vars:4,consts:[[1,"product-card-container"],["class","product-card",3,"click",4,"ngFor","ngForOf"],[3,"product","closeModalEvent",4,"ngIf"],[1,"product-card",3,"click"],[1,"product-card-head"],[1,"brand-name"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"],[3,"product","closeModalEvent"]],template:function(i,r){1&i&&(a.TgZ(0,"div",0),a.YNc(1,zZ,11,4,"div",1),a.ALo(2,"async"),a.qZA(),a.YNc(3,HZ,1,1,"app-modal",2)),2&i&&(a.xp6(1),a.Q6J("ngForOf",a.lcZ(2,2,r.task$)),a.xp6(2),a.Q6J("ngIf",r.productService.isModalOpen))},dependencies:[qn,ki,n3,er],styles:['@charset "UTF-8";.product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000;min-width:320px;margin:10px;overflow:hidden}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:2px solid #edf1f7;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:250px;max-height:250px;width:auto;height:auto}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}']})}return n})(),qZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-coupens"]],decls:2,vars:0,template:function(i,r){1&i&&(a.TgZ(0,"h1"),a._uU(1,"Kieg\xe9sz\xedt\u0151k"),a.qZA())}})}return n})(),GZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-media"]],decls:2,vars:0,template:function(i,r){1&i&&(a.TgZ(0,"h1"),a._uU(1,"K\xf6z\xf6ss\xe9gi oldal"),a.qZA())}})}return n})(),r3=(()=>{class n{constructor(t){this.services=t,this.navbarData=t1,this.insuranceIsChecked=!0,this.giftIsChecked=!1,this.shippingPrice=1390}getTotalPrice(){let t=0;for(const i of this.services.getCartItems())t+=i.selectedPrice*i.quantity;return t}calculateShippingPrice(){return this.shippingPrice=this.getTotalPrice()>=5e4?0:1390}calculateInsurance(){return this.insuranceIsChecked?500:0}calculateGiftFee(){return this.giftIsChecked?1590:0}calculateTotalPayment(){return this.calculateShippingPrice()+this.getTotalPrice()+this.calculateInsurance()+this.calculateGiftFee()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(kl))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function o3(...n){const e=(0,H0.jO)(n),{args:t,keys:i}=GV(n),r=new ar.y(o=>{const{length:u}=t;if(!u)return void o.complete();const m=new Array(u);let v=u,x=u;for(let A=0;A<u;A++){let L=!1;(0,Do.Xf)(t[A]).subscribe((0,ci.x)(o,q=>{L||(L=!0,x--),m[A]=q},()=>v--,void 0,()=>{(!v||!L)&&(x||o.next(i?WV(i,m):m),o.complete())}))}});return e?r.pipe(EN(e)):r}let s3=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.Qsj),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:n})}return n})(),ay=(()=>{class n extends s3{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}();static#t=this.\u0275dir=a.lG2({type:n,features:[a.qOj]})}return n})();const qd=new a.OlP("NgValueAccessor"),ZZ={provide:qd,useExisting:(0,a.Gpc)(()=>cy),multi:!0},YZ=new a.OlP("CompositionEventMode");let cy=(()=>{class n extends s3{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function KZ(){const n=K()?K().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(YZ,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&a.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[a._Bn([ZZ]),a.qOj]})}return n})();function Bg(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function c3(n){return null!=n&&"number"==typeof n.length}const Wa=new a.OlP("NgValidators"),jg=new a.OlP("NgAsyncValidators"),QZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Za{static min(e){return function l3(n){return e=>{if(Bg(e.value)||Bg(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function u3(n){return e=>{if(Bg(e.value)||Bg(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function d3(n){return Bg(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function h3(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function f3(n){return Bg(n.value)||QZ.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function p3(n){return e=>Bg(e.value)||!c3(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function m3(n){return e=>c3(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function g3(n){if(!n)return n1;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Bg(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return C3(e)}static composeAsync(e){return x3(e)}}function n1(n){return null}function _3(n){return null!=n}function v3(n){return(0,a.QGY)(n)?(0,Mr.D)(n):n}function y3(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function b3(n,e){return e.map(t=>t(n))}function w3(n){return n.map(e=>function XZ(n){return!n.validate}(e)?e:t=>e.validate(t))}function C3(n){if(!n)return null;const e=n.filter(_3);return 0==e.length?null:function(t){return y3(b3(t,e))}}function KN(n){return null!=n?C3(w3(n)):null}function x3(n){if(!n)return null;const e=n.filter(_3);return 0==e.length?null:function(t){return o3(b3(t,e).map(v3)).pipe((0,gn.U)(y3))}}function YN(n){return null!=n?x3(w3(n)):null}function E3(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function I3(n){return n._rawValidators}function T3(n){return n._rawAsyncValidators}function QN(n){return n?Array.isArray(n)?n:[n]:[]}function r1(n,e){return Array.isArray(n)?n.includes(e):n===e}function S3(n,e){const t=QN(e);return QN(n).forEach(r=>{r1(t,r)||t.push(r)}),t}function D3(n,e){return QN(e).filter(t=>!r1(n,t))}class M3{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=KN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=YN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ol extends M3{get formDirective(){return null}get path(){return null}}class hm extends M3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class A3{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ly=(()=>{class n extends A3{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(hm,2))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[a.qOj]})}return n})(),mI=(()=>{class n extends A3{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Ol,10))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[a.qOj]})}return n})();const gI="VALID",s1="INVALID",tw="PENDING",_I="DISABLED";function eF(n){return(a1(n)?n.validators:n)||null}function tF(n,e){return(a1(e)?e.asyncValidators:n)||null}function a1(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function O3(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new a.vHH(1e3,"");if(!i[t])throw new a.vHH(1001,"")}function P3(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new a.vHH(1002,"")})}class c1{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===gI}get invalid(){return this.status===s1}get pending(){return this.status==tw}get disabled(){return this.status===_I}get enabled(){return this.status!==_I}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(S3(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(S3(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(D3(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(D3(e,this._rawAsyncValidators))}hasValidator(e){return r1(this._rawValidators,e)}hasAsyncValidator(e){return r1(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=tw,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_I,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=gI,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gI||this.status===tw)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_I:gI}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=tw,this._hasOwnPendingAsyncValidator=!0;const t=v3(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?_I:this.errors?s1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tw)?tw:this._anyControlsHaveStatus(s1)?s1:gI}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){a1(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function n9(n){return Array.isArray(n)?KN(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function i9(n){return Array.isArray(n)?YN(n):n||null}(this._rawAsyncValidators)}}class vI extends c1{constructor(e,t,i){super(eF(t),tF(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){P3(this,0,e),Object.keys(e).forEach(i=>{O3(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class R3 extends vI{}const uy=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>yI}),yI="always";function l1(n,e){return[...e.path,n]}function bI(n,e,t=yI){nF(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function o9(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&N3(n,e)})}(n,e),function a9(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function s9(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&N3(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function r9(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function u1(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),h1(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function d1(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function nF(n,e){const t=I3(n);null!==e.validator?n.setValidators(E3(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=T3(n);null!==e.asyncValidator?n.setAsyncValidators(E3(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();d1(e._rawValidators,r),d1(e._rawAsyncValidators,r)}function h1(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=I3(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const r=T3(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return d1(e._rawValidators,i),d1(e._rawAsyncValidators,i),t}function N3(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function F3(n,e){nF(n,e)}function rF(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function L3(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function oF(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===cy?t=o:function u9(n){return Object.getPrototypeOf(n.constructor)===ay}(o)?i=o:r=o}),r||i||t||null}const h9={provide:Ol,useExisting:(0,a.Gpc)(()=>f1)},wI=(()=>Promise.resolve())();let f1=(()=>{class n extends Ol{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new vI({},KN(t),YN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){wI.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),bI(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){wI.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){wI.then(()=>{const i=this._findContainer(t.path),r=new vI({});F3(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){wI.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){wI.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,L3(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Wa,10),a.Y36(jg,10),a.Y36(uy,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&a.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([h9]),a.qOj]})}return n})();function U3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function V3(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const CI=class extends c1{constructor(e=null,t,i){super(eF(t),tF(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),a1(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=V3(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){U3(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){U3(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){V3(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},m9={provide:hm,useExisting:(0,a.Gpc)(()=>p1)},z3=(()=>Promise.resolve())();let p1=(()=>{class n extends hm{constructor(t,i,r,o,u,m){super(),this._changeDetectorRef=u,this.callSetDisabledState=m,this.control=new CI,this._registered=!1,this.name="",this.update=new a.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=oF(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),rF(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){bI(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){z3.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,a.VuI)(i);z3.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?l1(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Ol,9),a.Y36(Wa,10),a.Y36(jg,10),a.Y36(qd,10),a.Y36(a.sBO,8),a.Y36(uy,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([m9]),a.qOj,a.TTD]})}return n})(),xI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const g9={provide:qd,useExisting:(0,a.Gpc)(()=>EI),multi:!0};let EI=(()=>{class n extends ay{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}();static#t=this.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&a.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[a._Bn([g9]),a.qOj]})}return n})(),H3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();const sF=new a.OlP("NgModelWithFormControlWarning"),w9={provide:Ol,useExisting:(0,a.Gpc)(()=>zg)};let zg=(()=>{class n extends Ol{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(h1(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return bI(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){u1(t.control||null,t,!1),function d9(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,L3(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(u1(i||null,t),(n=>n instanceof CI)(r)&&(bI(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);F3(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function c9(n,e){return h1(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){nF(this.form,this),this._oldForm&&h1(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Wa,10),a.Y36(jg,10),a.Y36(uy,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&a.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([w9]),a.qOj,a.TTD]})}return n})();const E9={provide:hm,useExisting:(0,a.Gpc)(()=>nw)};let nw=(()=>{class n extends hm{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,i,r,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.name=null,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=oF(0,o)}ngOnChanges(t){this._added||this._setUpControl(),rF(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return l1(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(a.Y36(Ol,13),a.Y36(Wa,10),a.Y36(jg,10),a.Y36(qd,10),a.Y36(sF,8))};static#n=this.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([E9]),a.qOj,a.TTD]})}return n})(),rj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[H3]})}return n})();class oj extends c1{constructor(e,t,i){super(eF(t),tF(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){P3(this,0,e),e.forEach((i,r)=>{O3(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function sj(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let hF,aj=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let o={};return sj(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new vI(r,o)}record(t,i=null){const r=this._reduceControls(t);return new R3(r,i)}control(t,i,r){let o={};return this.useNonNullable?(sj(i)?o=i:(o.validators=i,o.asyncValidators=r),new CI(t,{...o,nonNullable:!0})):new CI(t,i,r)}array(t,i,r){const o=t.map(u=>this._createControl(u));return new oj(o,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof CI||t instanceof c1?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),g1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(aj).nonNullable},providedIn:"root"})}return n})(),V9=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:uy,useValue:t.callSetDisabledState??yI}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[rj]})}return n})(),cj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:sF,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:uy,useValue:t.callSetDisabledState??yI}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[rj]})}return n})();try{hF=typeof Intl<"u"&&Intl.v8BreakIterator}catch{hF=!1}let iw,Ia=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Ll(n){return n===sa}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!hF)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.Lbi))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const lj=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function uj(){if(iw)return iw;if("object"!=typeof document||!document)return iw=new Set(lj),iw;let n=document.createElement("input");return iw=new Set(lj.filter(e=>(n.setAttribute("type",e),n.type===e))),iw}let II,hy,fF;function rw(n){return function B9(){if(null==II&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>II=!0}))}finally{II=II||!1}return II}()?n:!!n.capture}function j9(){if(null==hy){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return hy=!1,hy;if("scrollBehavior"in document.documentElement.style)hy=!0;else{const n=Element.prototype.scrollTo;hy=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return hy}function Hg(n){return n.composedPath?n.composedPath()[0]:n.target}function pF(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function fj(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var ow=Q(6321);function pj(n,e=ow.z){return(0,Nr.e)((t,i)=>{let r=null,o=null,u=null;const m=()=>{if(r){r.unsubscribe(),r=null;const x=o;o=null,i.next(x)}};function v(){const x=u+n,A=e.now();if(A<x)return r=this.schedule(void 0,x-A),void i.add(r);m()}t.subscribe((0,ci.x)(i,x=>{o=x,u=e.now(),r||(r=e.schedule(v,n),i.add(r))},()=>{m(),i.complete()},void 0,()=>{o=r=null}))})}function mj(n){return cr((e,t)=>n<=t)}var _F=Q(3997);function Js(n){return null!=n&&"false"!=`${n}`}function v1(n){return Array.isArray(n)?n:[n]}function ea(n){return null==n?"":"string"==typeof n?n:`${n}px`}function $g(n){return n instanceof a.SBq?n.nativeElement:n}let l7=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:[l7]})}return n})();const _j=new Set;let fy,u7=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):h7}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function d7(n,e){if(!_j.has(n))try{fy||(fy=document.createElement("style"),e&&(fy.nonce=e),fy.setAttribute("type","text/css"),document.head.appendChild(fy)),fy.sheet&&(fy.sheet.insertRule(`@media ${n} {body{ }}`,0),_j.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Ia),a.LFG(a.Ojb,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function h7(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let f7=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new zn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return vj(v1(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=RA(vj(v1(t)).map(u=>this._registerQuery(u).observable));return o=JE(o.pipe(tl(1)),o.pipe(mj(1),pj(0))),o.pipe((0,gn.U)(u=>{const m={matches:!1,breakpoints:{}};return u.forEach(({matches:v,query:x})=>{m.matches=m.matches||v,m.breakpoints[x]=v}),m}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new ar.y(u=>{const m=v=>this._zone.run(()=>u.next(v));return i.addListener(m),()=>{i.removeListener(m)}}).pipe(Rg(i),(0,gn.U)(({matches:u})=>({query:t,matches:u})),$d(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(u7),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vj(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function y1(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const bj="cdk-describedby-message",b1="cdk-describedby-host";let vF=0,g7=(()=>{class n{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+vF++,this._document=t,this._id=(0,a.f3M)(a.AFp)+"-"+vF++}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const o=yF(i,r);"string"!=typeof i?(wj(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,i,r){if(!i||!this._isElementNode(t))return;const o=yF(i,r);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),"string"==typeof i){const u=this._messageRegistry.get(o);u&&0===u.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${b1}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(b1);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");wj(r,this._id),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(yF(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const i=y1(t,"aria-describedby").filter(r=>0!=r.indexOf(bj));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=this._messageRegistry.get(i);(function p7(n,e,t){const i=y1(n,e);i.some(r=>r.trim()==t.trim())||(i.push(t.trim()),n.setAttribute(e,i.join(" ")))})(t,"aria-describedby",r.messageElement.id),t.setAttribute(b1,this._id),r.referenceCount++}_removeMessageReference(t,i){const r=this._messageRegistry.get(i);r.referenceCount--,function m7(n,e,t){const r=y1(n,e).filter(o=>o!=t.trim());r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",r.messageElement.id),t.removeAttribute(b1)}_isElementDescribedByMessage(t,i){const r=y1(t,"aria-describedby"),o=this._messageRegistry.get(i),u=o&&o.messageElement.id;return!!u&&-1!=r.indexOf(u)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=t.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Pe),a.LFG(Ia))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yF(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function wj(n,e){n.id||(n.id=`${bj}-${e}-${vF++}`)}class _7{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new zn.x,this._typeaheadSubscription=Ku.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new zn.x,this.change=new zn.x,e instanceof a.n_E&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,tr.b)(t=>this._pressedLetters.push(t)),pj(e),cr(()=>this._pressedLetters.length>0),(0,gn.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,u=i[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,u=this._getItemsArray().length;this._setActiveItemByIndex(o<u?o:u-1,-1);break}return;default:return void((r||fj(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof a.n_E?this._items.toArray():this._items}}class v7 extends _7{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let y7=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function w7(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function b7(n){try{return n.frameElement}catch{return null}}(function M7(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===xj(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=xj(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function S7(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function D7(n){return!function x7(n){return function I7(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function C7(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function E7(n){return function T7(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Cj(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Ia))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Cj(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function xj(n){if(!Cj(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function bF(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function wF(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const A7=new a.OlP("cdk-input-modality-detector-options"),k7={ignoreKeys:[18,17,224,91,16]},sw=rw({passive:!0,capture:!0});let O7=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Hd.X(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(m=>m===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Hg(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(bF(u)?"keyboard":"mouse"),this._mostRecentTarget=Hg(u))},this._onTouchstart=u=>{wF(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Hg(u))},this._options={...k7,...o},this.modalityDetected=this._modality.pipe(mj(1)),this.modalityChanged=this.modalityDetected.pipe((0,_F.x)()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,sw),r.addEventListener("mousedown",this._onMousedown,sw),r.addEventListener("touchstart",this._onTouchstart,sw)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,sw),document.removeEventListener("mousedown",this._onMousedown,sw),document.removeEventListener("touchstart",this._onTouchstart,sw))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Ia),a.LFG(a.R0b),a.LFG(Pe),a.LFG(A7,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const R7=new a.OlP("cdk-focus-monitor-default-options"),w1=rw({passive:!0,capture:!0});let C1=(()=>{class n{constructor(t,i,r,o,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new zn.x,this._rootNodeFocusAndBlurListener=m=>{for(let x=Hg(m);x;x=x.parentElement)"focus"===m.type?this._onFocus(m,x):this._onBlur(m,x)},this._document=o,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=$g(t);if(!this._platform.isBrowser||1!==r.nodeType)return(0,_n.of)();const o=function H9(n){if(function z9(){if(null==fF){const n=typeof document<"u"?document.head:null;fF=!(!n||!n.createShadowRoot&&!n.attachShadow)}return fF}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const m={checkChildren:i,subject:new zn.x,rootNode:o};return this._elementInfo.set(r,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(t){const i=$g(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=$g(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([m,v])=>this._originChanged(m,i,v)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Hg(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,w1),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,w1)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe($d(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,w1),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,w1),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let u=0;u<o.length;u++)if(o[u].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.R0b),a.LFG(Ia),a.LFG(O7),a.LFG(Pe,8),a.LFG(R7,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ij="cdk-high-contrast-black-on-white",Tj="cdk-high-contrast-white-on-black",CF="cdk-high-contrast-active";let Sj=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,a.f3M)(f7).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(CF,Ij,Tj),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(CF,Ij):2===i&&t.add(CF,Tj)}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Ia),a.LFG(Pe))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),N7=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Sj))};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[gj]})}return n})();const F7=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function L7(){return(0,a.f3M)(Pe)}}),U7=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let xF=(()=>{class n{constructor(t){this.value="ltr",this.change=new a.vpe,t&&(this.value=function V7(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?U7.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(F7,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();const j7=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function B7(){return!0}});let ta=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!pF()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Sj),a.LFG(j7,8),a.LFG(Pe))};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[TI,TI]})}return n})();function SI(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Js(e)}constructor(...e){super(...e),this._disabled=!1}}}function DI(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function x1(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Js(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function Aj(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?function a7(n,e=0){return function c7(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}function z7(n){return class extends n{updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let $7=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class q7{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const kj=rw({passive:!0,capture:!0});class G7{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Hg(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const u=o.get(i);u?u.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,kj)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,kj)))}}const Oj={enterDuration:225,exitDuration:150},Pj=rw({passive:!0,capture:!0}),Rj=["mousedown","touchstart"],Nj=["mouseup","mouseleave","touchend","touchcancel"];class E1{static#e=this._eventManager=new G7;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=$g(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Oj,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function Z7(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),m=e-r.left,v=t-r.top,x=o.enterDuration,A=document.createElement("div");A.classList.add("mat-ripple-element"),A.style.left=m-u+"px",A.style.top=v-u+"px",A.style.height=2*u+"px",A.style.width=2*u+"px",null!=i.color&&(A.style.backgroundColor=i.color),A.style.transitionDuration=`${x}ms`,this._containerElement.appendChild(A);const L=window.getComputedStyle(A),ne=L.transitionDuration,ae="none"===L.transitionProperty||"0s"===ne||"0s, 0s"===ne||0===r.width&&0===r.height,ye=new q7(this,A,i,ae);A.style.transform="scale3d(1, 1, 1)",ye.state=0,i.persistent||(this._mostRecentTransientRipple=ye);let We=null;return!ae&&(x||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const wt=()=>this._finishRippleTransition(ye),kt=()=>this._destroyRipple(ye);A.addEventListener("transitionend",wt),A.addEventListener("transitioncancel",kt),We={onTransitionEnd:wt,onTransitionCancel:kt}}),this._activeRipples.set(ye,We),(ae||!x)&&this._finishRippleTransition(ye),ye}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...Oj,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=$g(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Rj.forEach(i=>{E1._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Nj.forEach(t=>{this._triggerElement.addEventListener(t,this,Pj)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=bF(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!wF(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(Rj.forEach(t=>E1._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&Nj.forEach(t=>e.removeEventListener(t,this,Pj)))}}const Fj=new a.OlP("mat-ripple-global-options");let AI=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new E1(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Ia),a.Y36(Fj,8),a.Y36(a.QbO,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&a.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),I1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ta,ta]})}return n})();const Lj={capture:!0},Uj=["focus","click","mouseenter","touchstart"],EF="mat-ripple-loader-uninitialized",IF="mat-ripple-loader-class-name",Vj="mat-ripple-loader-centered",T1="mat-ripple-loader-disabled";let K7=(()=>{class n{constructor(){this._document=(0,a.f3M)(Pe,{optional:!0}),this._animationMode=(0,a.f3M)(a.QbO,{optional:!0}),this._globalRippleOptions=(0,a.f3M)(Fj,{optional:!0}),this._platform=(0,a.f3M)(Ia),this._ngZone=(0,a.f3M)(a.R0b),this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${EF}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of Uj)this._document?.addEventListener(t,this._onInteraction,Lj)})}ngOnDestroy(){for(const t of Uj)this._document?.removeEventListener(t,this._onInteraction,Lj)}configureRipple(t,i){t.setAttribute(EF,""),(i.className||!t.hasAttribute(IF))&&t.setAttribute(IF,i.className||""),i.centered&&t.setAttribute(Vj,""),i.disabled&&t.setAttribute(T1,"")}getRipple(t){return t.matRipple?t.matRipple:this.createRipple(t)}setDisabled(t,i){const r=t.matRipple;r?r.disabled=i:i?t.setAttribute(T1,""):t.removeAttribute(T1)}createRipple(t){if(!this._document)return;t.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",t.getAttribute(IF)),t.append(i);const r=new AI(new a.SBq(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=t,r.centered=t.hasAttribute(Vj),r.disabled=t.hasAttribute(T1),this.attachRipple(t,r),r}attachRipple(t,i){t.removeAttribute(EF),t.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Y7=["switch"];function Q7(n,e){1&n&&(a.TgZ(0,"div",12),a.O4$(),a.TgZ(1,"svg",13),a._UZ(2,"path",14),a.qZA(),a.TgZ(3,"svg",15),a._UZ(4,"path",16),a.qZA()())}const X7=["*"],J7=new a.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),eK={provide:qd,useExisting:(0,a.Gpc)(()=>jj),multi:!0};class Bj{constructor(e,t){this.source=e,this.checked=t}}let tK=0;const nK=Aj(DI(x1(SI(class{constructor(n){this._elementRef=n}}))));let iK=(()=>{class n extends nK{get required(){return this._required}set required(t){this._required=Js(t)}get checked(){return this._checked}set checked(t){this._checked=Js(t),this._changeDetectorRef.markForCheck()}get hideIcon(){return this._hideIcon}set hideIcon(t){this._hideIcon=Js(t)}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,u,m,v){super(t),this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=u,this._onChange=x=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this._hideIcon=!1,this.change=new a.vpe,this.toggleChange=new a.vpe,this.tabIndex=parseInt(o)||0,this.color=this.defaultColor=u.color||"accent",this._noopAnimations="NoopAnimations"===m,this.id=this._uniqueId=`${v}${++tK}`,this._hideIcon=u.hideIcon??!1}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}static#e=this.\u0275fac=function(i){a.$Z()};static#t=this.\u0275dir=a.lG2({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked",hideIcon:"hideIcon"},outputs:{change:"change",toggleChange:"toggleChange"},features:[a.qOj]})}return n})(),jj=(()=>{class n extends iK{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(t,i,r,o,u,m){super(t,i,r,o,u,m,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new Bj(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(t){return new Bj(this,t)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(C1),a.Y36(a.sBO),a.$8M("tabindex"),a.Y36(J7),a.Y36(a.QbO,8))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(1&i&&a.Gf(Y7,5),2&i){let o;a.iGM(o=a.CRH())&&(r._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(i,r){2&i&&(a.Ikx("id",r.id),a.uIk("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),a.ekj("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[a._Bn([eK]),a.qOj],ngContentSelectors:X7,decls:13,vars:25,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],["class","mdc-switch__icons",4,"ngIf"],[1,"mdc-label",3,"for","click"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(1&i&&(a.F$t(),a.TgZ(0,"div",0)(1,"button",1,2),a.NdJ("click",function(){return r._handleClick()}),a._UZ(3,"div",3),a.TgZ(4,"div",4)(5,"div",5)(6,"div",6),a._UZ(7,"div",7),a.qZA(),a.TgZ(8,"div",8),a._UZ(9,"div",9),a.qZA(),a.YNc(10,Q7,5,0,"div",10),a.qZA()()(),a.TgZ(11,"label",11),a.NdJ("click",function(u){return u.stopPropagation()}),a.Hsn(12),a.qZA()()),2&i){const o=a.MAs(2);a.ekj("mdc-form-field--align-end","before"==r.labelPosition),a.xp6(1),a.ekj("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),a.Q6J("tabIndex",r.tabIndex)("disabled",r.disabled),a.uIk("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),a.xp6(8),a.Q6J("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),a.xp6(1),a.Q6J("ngIf",!r.hideIcon),a.xp6(1),a.Q6J("for",r.buttonId),a.uIk("id",r._labelId)}},dependencies:[AI,ki],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mdc-switch{width:var(--mdc-switch-track-width);--mdc-switch-disabled-handle-opacity:0.38;--mdc-switch-disabled-selected-icon-opacity:0.38;--mdc-switch-disabled-track-opacity:0.12;--mdc-switch-disabled-unselected-icon-opacity:0.38;--mdc-switch-handle-height:20px;--mdc-switch-handle-shape:10px;--mdc-switch-handle-width:20px;--mdc-switch-selected-icon-size:18px;--mdc-switch-track-height:14px;--mdc-switch-track-shape:7px;--mdc-switch-track-width:36px;--mdc-switch-unselected-icon-size:18px;--mdc-switch-state-layer-size:40px;--mdc-switch-selected-focus-state-layer-opacity:0.12;--mdc-switch-selected-hover-state-layer-opacity:0.04;--mdc-switch-selected-pressed-state-layer-opacity:0.1;--mdc-switch-unselected-focus-state-layer-opacity:0.12;--mdc-switch-unselected-hover-state-layer-opacity:0.04;--mdc-switch-unselected-pressed-state-layer-opacity:0.1}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle .mdc-label{font-family:var(--mat-slide-toggle-label-text-font);font-size:var(--mat-slide-toggle-label-text-size);letter-spacing:var(--mat-slide-toggle-label-text-tracking);line-height:var(--mat-slide-toggle-label-text-line-height);font-weight:var(--mat-slide-toggle-label-text-weight)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}'],encapsulation:2,changeDetection:0})}return n})(),zj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})(),Hj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[zj,ta,I1,Pi,zj,ta]})}return n})();const sK=function(){return["/products"]};function aK(n,e){1&n&&(a.TgZ(0,"div",2),a._UZ(1,"img",3),a.TgZ(2,"div",4),a._uU(3,"A kosara \xfcres!"),a.TgZ(4,"p",5),a._uU(5,"Vissza a term\xe9kekhez!"),a.qZA()()()),2&n&&(a.xp6(4),a.Q6J("routerLink",a.DdM(1,sK)))}const $j=function(n){return{"disabled-button":n}};function cK(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",22),a._UZ(1,"img",23),a.TgZ(2,"div",24),a._uU(3),a.qZA(),a.TgZ(4,"div",25),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.decreaseQuantity(o))}),a._uU(5,"-"),a.qZA(),a.TgZ(6,"div",26),a._uU(7),a.qZA(),a.TgZ(8,"div",27),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.increaseQuantity(o))}),a._uU(9,"+"),a.qZA(),a.TgZ(10,"div",28),a._uU(11),a.qZA(),a.TgZ(12,"div",29),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.removeFromCart(o))}),a._uU(13,"X"),a.qZA()()}if(2&n){const t=e.$implicit;a.xp6(1),a.Q6J("src",t.product.imagePath,a.LSH),a.xp6(2),a.AsE("",t.product.productName," ",t.size,""),a.xp6(1),a.Q6J("ngClass",a.VKq(7,$j,1===t.quantity)),a.xp6(3),a.Oqu(t.quantity),a.xp6(1),a.Q6J("ngClass",a.VKq(9,$j,5===t.quantity)),a.xp6(3),a.hij(" ",t.selectedPrice*t.quantity," ")}}const qj=function(n){return{active:n}},Gj=function(n){return{opacity:n}};function lK(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",6)(1,"div",7)(2,"div",8),a.YNc(3,cK,14,11,"div",9),a.qZA()(),a.TgZ(4,"div",10)(5,"div",11)(6,"mat-slide-toggle",12),a.NdJ("ngModelChange",function(r){a.CHM(t);const o=a.oxw();return a.KtG(o.shoppingService.insuranceIsChecked=r)}),a.qZA(),a.TgZ(7,"h3",13),a._uU(8,"500 Ft"),a.qZA(),a._uU(9," K\xfcldem\xe9ny biztos\xedt\xe1sa "),a.TgZ(10,"p",14),a._uU(11,"A k\xfcldem\xe9ny megs\xe9r\xfcl\xe9se vagy elveszt\xe9se eset\xe9n nem kell v\xe1rnia a helyzet t\xf6rv\xe9nyileg el\u0151\xedrt hat\xe1rid\u0151n bel\xfcli rendez\xe9s\xe9re. El\xe9g, ha bejelenti nek\xfcnk \xe9s dokument\xe1lja a k\xfcldem\xe9ny megs\xe9r\xfcl\xe9s\xe9t vagy elveszt\xe9s\xe9t, \xe9s mi postafordult\xe1val teljesen \xfaj \xe1rut k\xfcld\xfcnk \xf6nnek. "),a.qZA()(),a.TgZ(12,"div",15)(13,"mat-slide-toggle",12),a.NdJ("ngModelChange",function(r){a.CHM(t);const o=a.oxw();return a.KtG(o.shoppingService.giftIsChecked=r)}),a.qZA(),a.TgZ(14,"h3",13),a._uU(15,"1590 Ft"),a.qZA(),a._uU(16," Luxus csomagol\xe1s "),a.TgZ(17,"p",14),a._uU(18,"Sz\xedvesen luxus kivitel\u0171 aj\xe1nd\xe9kcsomagol\xe1sba csomagolunk \xf6nnek mindent. "),a.qZA()(),a.TgZ(19,"div",16),a._uU(20,"H\xe1zhoz sz\xe1ll\xedt\xe1s "),a.TgZ(21,"h3"),a._uU(22,"1390 Ft "),a.qZA()(),a.TgZ(23,"div",17),a._uU(24,"100% Kedvezm\xe9ny a kisz\xe1ll\xedt\xe1sra! "),a.TgZ(25,"p",18),a._uU(26,"50.000 Forint v\xe1s\xe1rl\xe1s eset\xe9n ingyenesen h\xe1zhoz sz\xe1ll\xedtjuk! "),a.qZA()(),a.TgZ(27,"div",19)(28,"div",20)(29,"h3"),a._uU(30,"\xd6sszesen fizetend\u0151: "),a.TgZ(31,"p"),a._uU(32),a.qZA()()()(),a.TgZ(33,"button",21),a._uU(34,"Tov\xe1bb a sz\xe1ll\xedt\xe1sra!"),a.qZA()()()}if(2&n){const t=a.oxw();a.xp6(3),a.Q6J("ngForOf",t.services.getCartItems()),a.xp6(3),a.Q6J("ngModel",t.shoppingService.insuranceIsChecked),a.xp6(1),a.Q6J("ngClass",a.VKq(9,qj,t.shoppingService.insuranceIsChecked)),a.xp6(6),a.Q6J("ngModel",t.shoppingService.giftIsChecked),a.xp6(1),a.Q6J("ngClass",a.VKq(11,qj,t.shoppingService.giftIsChecked)),a.xp6(5),a.Q6J("ngStyle",a.VKq(13,Gj,t.getTotalPrice()<5e4?1:.5)),a.xp6(4),a.Q6J("ngStyle",a.VKq(15,Gj,t.getTotalPrice()>49999?1:.5)),a.xp6(9),a.hij("",t.calculateShippingPrice()+t.getTotalPrice()+(t.shoppingService.insuranceIsChecked?500:0)+(t.shoppingService.giftIsChecked?1590:0)," Ft"),a.xp6(1),a.Q6J("disabled",0===t.services.getCartItems().length)}}let uK=(()=>{class n{constructor(t,i){this.services=t,this.shoppingService=i,this.cartItems=[],this.selectedProducts=[],this.navbarData=t1,this.insuranceIsChecked=!0,this.giftIsChecked=!1,this.shippingPrice=1390,this.selectedProductPrice=this.services.selectedSizePrice}ngOnInit(){this.cartItems=this.services.getCartItems()}getProductPrice(){return this.selectedProductPrice}addToCart(){const t=this.navbarData.find(i=>"shopping-cart"===i.routerLink);t&&(t.badge=(t.badge||0)+1)}increaseQuantity(t){t.quantity++;const i=this.navbarData.find(r=>"shopping-cart"===r.routerLink);i&&(i.badge=(i.badge||0)+1)}decreaseQuantity(t){if(t.quantity>1){t.quantity--;const i=this.navbarData.find(r=>"shopping-cart"===r.routerLink);i&&(i.badge=(i.badge||0)-1)}}removeFromCart(t){const i=this.services.getCartItems().indexOf(t);if(-1!==i){const r=t.quantity;this.services.getCartItems().splice(i,1);const o=this.navbarData.find(u=>"shopping-cart"===u.routerLink);o&&(o.badge=Math.max((o.badge||0)-r,0))}}calculateShippingPrice(){return this.shippingPrice=this.getTotalPrice()>=5e4?0:1390}getTotalPrice(){let t=0;for(const i of this.services.getCartItems())t+=i.selectedPrice*i.quantity;return t}calculateTotalPayment(){return this.calculateShippingPrice()+this.getTotalPrice()+(this.insuranceIsChecked?500:0)+(this.giftIsChecked?1590:0)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(kl),a.Y36(r3))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-shopping-cart"]],decls:2,vars:2,consts:[["class","empty-cart",4,"ngIf"],["class","shopping-cart-component",4,"ngIf"],[1,"empty-cart"],["src","./assets/images/empty-cart.jpg",1,"empty-cart-img"],[1,"empty-cart-desc"],[1,"empty-cart-button",3,"routerLink"],[1,"shopping-cart-component"],[1,"shopping-cart-card-container"],[1,"shopping-cart-card"],["class","cart-item",4,"ngFor","ngForOf"],[1,"checkout-container"],[1,"insurance"],[3,"ngModel","ngModelChange"],[3,"ngClass"],[1,"checkout-container-desc"],[1,"gift"],[1,"shipping",3,"ngStyle"],[1,"bonus",3,"ngStyle"],[1,"bonus-desc"],[1,"checkout-card"],[1,"total-price"],["routerLink","/shipping",1,"btn-hover","color-8",3,"disabled"],[1,"cart-item"],[1,"product-image",3,"src"],[1,"shopping-cart-head"],[1,"decreaseQuantity",3,"ngClass","click"],[1,"product-quantity"],[1,"increaseQuantity",3,"ngClass","click"],[1,"shopping-cart-price"],[1,"removeFromCart",3,"click"]],template:function(i,r){1&i&&(a.YNc(0,aK,6,2,"div",0),a.YNc(1,lK,35,17,"div",1)),2&i&&(a.Q6J("ngIf",0===r.services.getCartItems().length),a.xp6(1),a.Q6J("ngIf",r.services.getCartItems().length>0))},dependencies:[Ko,qn,ki,Fs,um,jj,ly,p1],styles:['@charset "UTF-8";.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:auto;position:relative;-webkit-user-select:none;user-select:none}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{color:#f0f8ff;font-size:15px;margin-bottom:5px;display:flex;flex:1}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{color:#f0f8ff;font-size:18px;flex:0 0 100px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{color:#f0f8ff;border-radius:10px;background-color:#092c3d;flex:1;display:flex;align-items:center;margin:10px 10px 5px;border-bottom:1px solid #ccc;position:relative;gap:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:120px;height:auto;border-radius:5px;margin-right:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{font-size:15px;margin-right:30px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{font-size:18px;overflow:hidden;margin-left:50px;flex:0 0 70px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:15px;display:flex;align-items:center;margin-left:auto;color:#f0f8ff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:30px;height:30px;font-size:30px;display:flex;justify-content:center;align-items:center;font-size:20px;margin:0 5px;border-radius:50%;padding:10px;border:1px solid #a5beda;cursor:pointer;color:#f0f8ff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{cursor:pointer;font-size:15px;margin-right:15px;margin-left:40px;color:#f0f8ff}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;margin:0;gap:0px;width:auto}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:0;margin-left:-5px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{margin-left:-25px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{margin-left:0}}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{gap:2px;margin:0}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{margin-right:5px;font-size:10px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{padding-left:5px}}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:25px;height:25px;font-size:18px;padding:0;margin:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{margin-left:4px;font-size:11.5px;flex:0 0 40px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;font-size:12px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{margin-right:0;width:70px}}@media screen and (max-width: 700px) and (max-width: 300px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{display:none}}.empty-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.empty-cart-img[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-22%);width:100%;max-width:600px;display:flex;overflow:hidden}.empty-cart-desc[_ngcontent-%COMP%]{text-align:center;position:absolute;width:300px;top:55%;left:50%;transform:translate(-50%,-10%);font-size:26px;font-weight:300;border-top:1px solid #ccc;padding-top:15px;transition:all .4s ease-in-out}.empty-cart-button[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer;transition:all .3s ease-in-out;font-weight:100}.empty-cart-button[_ngcontent-%COMP%]:after{background:none repeat scroll 0 0 transparent;bottom:0;content:"";display:block;height:1px;left:50%;position:absolute;background:#191818;transition:width .3s ease 0s,left .3s ease 0s;width:0}.empty-cart-button[_ngcontent-%COMP%]:hover:after{width:100%;left:0}@media screen and (max-width: 500px){.empty-cart-desc[_ngcontent-%COMP%]{top:41%;left:50%}.empty-cart-button[_ngcontent-%COMP%]{top:48%;left:50%;font-size:22px}}.bonus[_ngcontent-%COMP%]   .bonus-desc[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;font-size:13px;margin-top:15px;width:600px}.insurance[_ngcontent-%COMP%], .gift[_ngcontent-%COMP%], .bonus[_ngcontent-%COMP%], .shipping[_ngcontent-%COMP%]{font-size:15px;border-top:1px solid #ccc;margin-top:20px;padding-top:10px}.checkout-container-desc[_ngcontent-%COMP%]{font-size:13px;margin-top:15px;opacity:.5;width:600px}.shipping[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1}h3[_ngcontent-%COMP%]{float:right;opacity:.5;font-weight:800}h3.active[_ngcontent-%COMP%]{opacity:1}.disabled-button[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.checkout-container[_ngcontent-%COMP%]{background-color:#f4f7fa;padding:10px;height:100px;display:grid;position:relative;max-width:1000px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]{padding-top:20px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1;font-size:18px;font-weight:200}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:800;float:right;top:0;margin-left:40px}@media screen and (max-width: 750px){.checkout-container[_ngcontent-%COMP%]{padding:2px;display:block}.checkout-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:100%}.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:14px;margin-top:20px;padding-top:10px}}@media screen and (max-width: 750px) and (max-width: 340px){.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width: 750px){.checkout-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:-4px}.checkout-container[_ngcontent-%COMP%]   .btn-hover[_ngcontent-%COMP%]{float:right}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:100%;font-size:16px}}.btn-hover[_ngcontent-%COMP%]{width:200px;font-size:16px;font-weight:400;color:#f0f8ff;cursor:pointer;margin-left:auto;height:55px;text-align:center;border:none;background-size:300% 100%;border-radius:5px;transition:all .4s ease-in-out}[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;background-position:100% 0;transition:all .4s ease-in-out}.btn-hover[_ngcontent-%COMP%]:hover{background-position:100% 0;transition:all .4s ease-in-out}.btn-hover[_ngcontent-%COMP%]:focus{outline:none}.btn-hover.color-8[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#455669,#485563,#203542,#092c3d);box-shadow:0 4px 15px #2d3641bf}']})}return n})(),py=(()=>{class n{constructor(t){this.auth=t,this.currentUser$=N2(this.auth)}login(t,i){return(0,Mr.D)(Z2(this.auth,t,i))}logout(){return(0,Mr.D)(this.auth.signOut())}signUp(t,i){return(0,Mr.D)(mS(this.auth,t,i))}updateProfileData(t){return(0,_n.of)(this.auth.currentUser).pipe(ry(r=>{if(!r)throw new Error("Nincs hiteles\xedtve!");return Rm(r,t)}))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(wp))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kI=(()=>{class n{get currentUserProfile$(){return this.authService.currentUser$.pipe((0,qo.w)(t=>{if(!t?.uid)return(0,_n.of)(null);const i=SA(this.firestore,"*users",t?.uid);return lq(i)}))}constructor(t,i){this.firestore=t,this.authService=i}addUser(t){const i=SA(this.firestore,"*users",t?.uid);return(0,Mr.D)(hV(i,t))}addGuest(t){const i=SA(this.firestore,"*guests",t?.uid);return(0,Mr.D)(hV(i,t))}updateUser(t){const i=SA(this.firestore,"*users",t?.uid);return(0,Mr.D)(hq(i,{...t}))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Bf),a.LFG(py))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const dK=["mat-button",""],Wj=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Zj=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],hK=["mat-mini-fab",""],pK=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],mK=DI(SI(x1(class{constructor(n){this._elementRef=n}})));let Kj=(()=>{class n extends mK{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Js(t),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=Js(t),this._updateRippleDisabled()}constructor(t,i,r,o){super(t),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=(0,a.f3M)(C1),this._rippleLoader=(0,a.f3M)(K7),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const u=t.nativeElement.classList;for(const m of pK)this._hasHostAttributes(m.selector)&&m.mdcClasses.forEach(v=>{u.add(v)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){a.$Z()};static#t=this.\u0275dir=a.lG2({type:n,features:[a.qOj]})}return n})(),OI=(()=>{class n extends Kj{constructor(t,i,r,o){super(t,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(Ia),a.Y36(a.R0b),a.Y36(a.QbO,8))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(a.uIk("disabled",r.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:dK,ngContentSelectors:Zj,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(a.F$t(Wj),a._UZ(0,"span",0),a.Hsn(1),a.TgZ(2,"span",1),a.Hsn(3,1),a.qZA(),a.Hsn(4,2),a._UZ(5,"span",2)(6,"span",3)),2&i&&a.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})();const _K=new a.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:Yj});function Yj(){return{color:"accent"}}const Qj=Yj();let vK=(()=>{class n extends Kj{constructor(t,i,r,o,u){super(t,i,r,o),this._options=u,this._isFab=!0,this._options=this._options||Qj,this.color=this.defaultColor=this._options.color||Qj.color}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(Ia),a.Y36(a.R0b),a.Y36(a.QbO,8),a.Y36(_K,8))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-mini-fab",""]],hostVars:7,hostBindings:function(i,r){2&i&&(a.uIk("disabled",r.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:hK,ngContentSelectors:Zj,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(a.F$t(Wj),a._UZ(0,"span",0),a.Hsn(1),a.TgZ(2,"span",1),a.Hsn(3,1),a.qZA(),a.Hsn(4,2),a._UZ(5,"span",2)(6,"span",3)),2&i&&a.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab:hover{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab.mdc-ripple-upgraded--background-focused,.mdc-fab:not(.mdc-ripple-upgraded):focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-button-font-family);font-size:var(--mdc-typography-button-font-size);line-height:var(--mdc-typography-button-line-height);font-weight:var(--mdc-typography-button-font-weight);letter-spacing:var(--mdc-typography-button-letter-spacing);text-decoration:var(--mdc-typography-button-text-decoration);text-transform:var(--mdc-typography-button-text-transform);border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-fab,.mat-mdc-mini-fab{background-color:var(--mdc-fab-container-color);--mdc-fab-container-shape:50%;--mdc-fab-icon-size:24px}.mat-mdc-fab .mdc-fab__icon,.mat-mdc-mini-fab .mdc-fab__icon{width:var(--mdc-fab-icon-size);height:var(--mdc-fab-icon-size);font-size:var(--mdc-fab-icon-size)}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape)}.mat-mdc-extended-fab{font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return n})(),Xj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ta,I1,ta]})}return n})();var TF=Q(3020);class SF{}class fm{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof fm?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new fm;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof fm?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let u=this.headers.get(t);if(!u)return;u=u.filter(m=>-1===o.indexOf(m)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class yK{encodeKey(e){return Jj(e)}encodeValue(e){return Jj(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const wK=/%(\d[a-f0-9])/gi,CK={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Jj(n){return encodeURIComponent(n).replace(wK,(e,t)=>CK[t]??e)}function S1(n){return`${n}`}class qg{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new yK,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function bK(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,m]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],v=t.get(u)||[];v.push(m),t.set(u,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(S1):[S1(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new qg({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(S1(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(S1(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class xK{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function ez(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function tz(n){return typeof Blob<"u"&&n instanceof Blob}function nz(n){return typeof FormData<"u"&&n instanceof FormData}class PI{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function EK(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new fm),this.context||(this.context=new xK),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+u}}else this.params=new qg,this.urlWithParams=t}serializeBody(){return null===this.body?null:ez(this.body)||tz(this.body)||nz(this.body)||function IK(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||nz(this.body)?null:tz(this.body)?this.body.type||null:ez(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let v=e.headers||this.headers,x=e.params||this.params;const A=e.context??this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce((L,q)=>L.set(q,e.setHeaders[q]),v)),e.setParams&&(x=Object.keys(e.setParams).reduce((L,q)=>L.set(q,e.setParams[q]),x)),new PI(t,i,o,{params:x,headers:v,context:A,reportProgress:m,responseType:r,withCredentials:u})}}var MF=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(MF||{});class TK{constructor(e,t=200,i="OK"){this.headers=e.headers||new fm,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class RI extends TK{constructor(e={}){super(e),this.type=MF.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new RI({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function AF(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let kF=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof PI)o=t;else{let v,x;v=r.headers instanceof fm?r.headers:new fm(r.headers),r.params&&(x=r.params instanceof qg?r.params:new qg({fromObject:r.params})),o=new PI(t,i,void 0!==r.body?r.body:null,{headers:v,context:r.context,params:x,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=(0,_n.of)(o).pipe(ry(v=>this.handler.handle(v)));if(t instanceof PI||"events"===r.observe)return u;const m=u.pipe(cr(v=>v instanceof RI));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return m.pipe((0,gn.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return m.pipe((0,gn.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return m.pipe((0,gn.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return m.pipe((0,gn.U)(v=>v.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new qg).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,AF(r,i))}post(t,i,r={}){return this.request("POST",t,AF(r,i))}put(t,i,r={}){return this.request("PUT",t,AF(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(SF))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const GK=["*"];let A1;function NI(n){return function WK(){if(void 0===A1&&(A1=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(A1=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return A1}()?.createHTML(n)||n}function hz(n){return Error(`Unable to find icon with the name "${n}"`)}function fz(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function pz(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class gy{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let k1=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new gy(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const u=this._sanitizer.sanitize(a.q3G.HTML,r);if(!u)throw pz(r);const m=NI(u);return this._addSvgIconConfig(t,i,new gy("",m,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new gy(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(a.q3G.HTML,i);if(!o)throw pz(i);const u=NI(o);return this._addSvgIconSetConfig(t,new gy("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,t);if(!i)throw fz(t);const r=this._cachedIconsByUrl.get(i);return r?(0,_n.of)(O1(r)):this._loadSvgIconFromConfig(new gy(t,null)).pipe((0,tr.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,gn.U)(o=>O1(o)))}getNamedSvgIcon(t,i=""){const r=mz(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):$0(hz(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,_n.of)(O1(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,gn.U)(i=>O1(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?(0,_n.of)(r):o3(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Fg(m=>{const x=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,u.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(x)),(0,_n.of)(null)})))).pipe((0,gn.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw hz(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(o),m=this._extractSvgIconFromSet(u,t,o.options);if(m)return m}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,tr.b)(i=>t.svgText=i),(0,gn.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,_n.of)(null):this._fetchIcon(t).pipe((0,tr.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const m=this._svgElementFromString(NI("<svg></svg>"));return m.appendChild(u),this._setSvgAttributes(m,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(NI("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:u,value:m}=r[o];"id"!==u&&i.setAttribute(u,m)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw function ZK(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,i);if(!u)throw fz(i);const m=this._inProgressUrlFetches.get(u);if(m)return m;const v=this._httpClient.get(u,{responseType:"text",withCredentials:o}).pipe((0,gn.U)(x=>NI(x)),LA(()=>this._inProgressUrlFetches.delete(u)),(0,TF.B)());return this._inProgressUrlFetches.set(u,v),v}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(mz(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return YK(o)?new gy(o.url,null,o.options):new gy(o,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(kF,8),a.LFG(Jr),a.LFG(Pe,8),a.LFG(a.qLn))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function O1(n){return n.cloneNode(!0)}function mz(n,e){return n+":"+e}function YK(n){return!(!n.url||!n.options)}const QK=DI(class{constructor(n){this._elementRef=n}}),XK=new a.OlP("MAT_ICON_DEFAULT_OPTIONS"),JK=new a.OlP("mat-icon-location",{providedIn:"root",factory:function eY(){const n=(0,a.f3M)(Pe),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),gz=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],tY=gz.map(n=>`[${n}]`).join(", "),nY=/^url\(['"]?#(.*?)['"]?\)$/;let PF=(()=>{class n extends QK{get inline(){return this._inline}set inline(t){this._inline=Js(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,o,u,m){super(t),this._iconRegistry=i,this._location=o,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ku.w0.EMPTY,m&&(m.color&&(this.color=this.defaultColor=m.color),m.fontSet&&(this.fontSet=m.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(u=>{o.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(tY),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)gz.forEach(u=>{const m=i[o],v=m.getAttribute(u),x=v?v.match(nY):null;if(x){let A=r.get(m);A||(A=[],r.set(m,A)),A.push({name:u,value:x[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(tl(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(k1),a.$8M("aria-hidden"),a.Y36(JK),a.Y36(a.qLn),a.Y36(XK,8))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(a.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),a.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:GK,decls:1,vars:0,template:function(i,r){1&i&&(a.F$t(),a.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),_z=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ta,ta]})}return n})();const iY=["*",[["mat-toolbar-row"]]],rY=["*","mat-toolbar-row"],oY=DI(class{constructor(n){this._elementRef=n}});let sY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),aY=(()=>{class n extends oY{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(Ia),a.Y36(Pe))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&a.Suo(o,sY,5),2&i){let u;a.iGM(u=a.CRH())&&(r._toolbarRows=u)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&a.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:rY,decls:2,vars:0,template:function(i,r){1&i&&(a.F$t(iY),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),vz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ta,ta]})}return n})();var Wg=Q(3019),yz=Q(1954);let RF,cY=1;const P1={};function bz(n){return n in P1&&(delete P1[n],!0)}const lY={setImmediate(n){const e=cY++;return P1[e]=!0,RF||(RF=Promise.resolve()),RF.then(()=>bz(e)&&n()),e},clearImmediate(n){bz(n)}},{setImmediate:uY,clearImmediate:dY}=lY,R1={setImmediate(...n){const{delegate:e}=R1;return(e?.setImmediate||uY)(...n)},clearImmediate(n){const{delegate:e}=R1;return(e?.clearImmediate||dY)(n)},delegate:void 0};var wz=Q(2631);const NF=new class fY extends wz.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class hY extends yz.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=R1.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(R1.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function Cz(n,e){return e?t=>JE(e.pipe(tl(1),function pY(){return(0,Nr.e)((n,e)=>{n.subscribe((0,ci.x)(e,DN.Z))})}()),t.pipe(Cz(n))):(0,Ea.z)((t,i)=>(0,Do.Xf)(n(t,i)).pipe(tl(1),QV(t)))}var mY=Q(671);function xz(n=0,e,t=ow.P){let i=-1;return null!=e&&((0,mY.K)(e)?t=e:i=e),new ar.y(r=>{let o=function gY(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Ez(n,e=ow.z){const t=xz(n,e);return Cz(()=>t)}class FF{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class _Y extends FF{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class Iz extends FF{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class vY extends FF{constructor(e){super(),this.element=e instanceof a.SBq?e.nativeElement:e}}class yY{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof _Y?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Iz?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof vY?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class bY extends yY{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const m=u.element,v=this._document.createComment("dom-portal");m.parentNode.insertBefore(v,m),this.outletElement.appendChild(m),this._attachedPortal=u,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(m,v)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let wY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();var CY=Q(4266);const xY=["addListener","removeListener"],EY=["addEventListener","removeEventListener"],IY=["on","off"];function LF(n,e,t,i){if((0,zd.m)(t)&&(i=t,t=void 0),i)return LF(n,e,t).pipe(EN(i));const[r,o]=function DY(n){return(0,zd.m)(n.addEventListener)&&(0,zd.m)(n.removeEventListener)}(n)?EY.map(u=>m=>n[u](e,m,t)):function TY(n){return(0,zd.m)(n.addListener)&&(0,zd.m)(n.removeListener)}(n)?xY.map(Tz(n,e)):function SY(n){return(0,zd.m)(n.on)&&(0,zd.m)(n.off)}(n)?IY.map(Tz(n,e)):[];if(!r&&(0,CY.z)(n))return(0,Ea.z)(u=>LF(u,e,t))((0,Do.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ar.y(u=>{const m=(...v)=>u.next(1<v.length?v:v[0]);return r(m),()=>o(m)})}function Tz(n,e){return t=>i=>n[t](e,i)}const FI={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=FI;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new Ku.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=FI;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=FI;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class AY extends wz.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class MY extends yz.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=FI.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(FI.cancelAnimationFrame(t),e._scheduled=void 0)}});function Sz(n,e=ow.z){return function OY(n){return(0,Nr.e)((e,t)=>{let i=!1,r=null,o=null,u=!1;const m=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const x=r;r=null,t.next(x)}u&&t.complete()},v=()=>{o=null,u&&t.complete()};e.subscribe((0,ci.x)(t,x=>{i=!0,r=x,o||(0,Do.Xf)(n(x)).subscribe(o=(0,ci.x)(t,m,v))},()=>{u=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>xz(n,e))}let RY=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new zn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ar.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(Sz(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,_n.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(cr(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=$g(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>LF(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.R0b),a.LFG(Ia),a.LFG(Pe,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dz=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new zn.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Sz(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Ia),a.LFG(a.R0b),a.LFG(Pe,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),UF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})(),Mz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[TI,UF,TI,UF]})}return n})();const Az=j9();class FY{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ea(-this._previousScrollPosition.left),e.style.top=ea(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Az&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Az&&(i.scrollBehavior=o,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class LY{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(cr(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class kz{enable(){}disable(){}attach(){}}function VF(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Oz(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class UY{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();VF(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let VY=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new kz,this.close=u=>new LY(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new FY(this._viewportRuler,this._document),this.reposition=u=>new UY(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(RY),a.LFG(Dz),a.LFG(a.R0b),a.LFG(Pe))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Pz{constructor(e){if(this.scrollStrategy=new kz,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class BY{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let Rz=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Pe))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jY=(()=>{class n extends Rz{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const m=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>m.next(r)):m.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Pe),a.LFG(a.R0b,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zY=(()=>{class n extends Rz{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Hg(o)},this._clickListener=o=>{const u=Hg(o),m="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const v=this._attachedOverlays.slice();for(let x=v.length-1;x>-1;x--){const A=v[x];if(A._outsidePointerEvents.observers.length<1||!A.hasAttached())continue;if(A.overlayElement.contains(u)||A.overlayElement.contains(m))break;const L=A._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>L.next(o)):L.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Pe),a.LFG(Ia),a.LFG(a.R0b,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nz=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||pF()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),pF()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Pe),a.LFG(Ia))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class HY{constructor(e,t,i,r,o,u,m,v,x,A=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=u,this._document=m,this._location=v,this._outsideClickDispatcher=x,this._animationsDisabled=A,this._backdropElement=null,this._backdropClick=new zn.x,this._attachments=new zn.x,this._detachments=new zn.x,this._locationChanges=Ku.w0.EMPTY,this._backdropClickHandler=L=>this._backdropClick.next(L),this._backdropTransitionendHandler=L=>{this._disposeBackdrop(L.target)},this._keydownEvents=new zn.x,this._outsidePointerEvents=new zn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(tl(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ea(this._config.width),e.height=ea(this._config.height),e.minWidth=ea(this._config.minWidth),e.minHeight=ea(this._config.minHeight),e.maxWidth=ea(this._config.maxWidth),e.maxHeight=ea(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=v1(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe($d((0,Wg.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Fz="cdk-overlay-connected-position-bounding-box",$Y=/([A-Za-z%]+)$/;class qY{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new zn.x,this._resizeSubscription=Ku.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(Fz),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let u;for(let m of this._preferredPositions){let v=this._getOriginPoint(e,r,m),x=this._getOverlayPoint(v,t,m),A=this._getOverlayFit(x,t,i,m);if(A.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,v);this._canFitWithFlexibleDimensions(A,x,i)?o.push({position:m,origin:v,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(v,m)}):(!u||u.overlayFit.visibleArea<A.visibleArea)&&(u={overlayFit:A,overlayPoint:x,originPoint:v,position:m,overlayRect:t})}if(o.length){let m=null,v=-1;for(const x of o){const A=x.boundingBoxRect.width*x.boundingBoxRect.height*(x.position.weight||1);A>v&&(v=A,m=x)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&_y(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Fz),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,m=this._isRtl()?e.left:e.right;r="start"==i.originX?u:m}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=Uz(t);let{x:u,y:m}=e,v=this._getOffset(r,"x"),x=this._getOffset(r,"y");v&&(u+=v),x&&(m+=x);let q=0-m,ne=m+o.height-i.height,ae=this._subtractOverflows(o.width,0-u,u+o.width-i.width),ye=this._subtractOverflows(o.height,q,ne),We=ae*ye;return{visibleArea:We,isCompletelyWithinViewport:o.width*o.height===We,fitsInViewportVertically:ye===o.height,fitsInViewportHorizontally:ae==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,u=Lz(this._overlayRef.getConfig().minHeight),m=Lz(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=u&&u<=r)&&(e.fitsInViewportHorizontally||null!=m&&m<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=Uz(t),o=this._viewportRect,u=Math.max(e.x+r.width-o.width,0),m=Math.max(e.y+r.height-o.height,0),v=Math.max(o.top-i.top-e.y,0),x=Math.max(o.left-i.left-e.x,0);let A=0,L=0;return A=r.width<=o.width?x||-u:e.x<this._viewportMargin?o.left-i.left-e.x:0,L=r.height<=o.height?v||-m:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:A,y:L},{x:e.x+A,y:e.y+L}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new BY(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,u,m,A,L,q;if("top"===t.overlayY)u=e.y,o=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)m=i.height-e.y+2*this._viewportMargin,o=i.height-m+this._viewportMargin;else{const ne=Math.min(i.bottom-e.y+i.top,e.y),ae=this._lastBoundingBoxSize.height;o=2*ne,u=e.y-ne,o>ae&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-ae/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)q=i.width-e.x+this._viewportMargin,A=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)L=e.x,A=i.right-e.x;else{const ne=Math.min(i.right-e.x+i.left,e.x),ae=this._lastBoundingBoxSize.width;A=2*ne,L=e.x-ne,A>ae&&!this._isInitialRender&&!this._growAfterOpen&&(L=e.x-ae/2)}return{top:u,left:L,bottom:m,right:q,width:A,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=ea(i.height),r.top=ea(i.top),r.bottom=ea(i.bottom),r.width=ea(i.width),r.left=ea(i.left),r.right=ea(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=ea(o)),u&&(r.maxWidth=ea(u))}this._lastBoundingBoxSize=i,_y(this._boundingBox.style,r)}_resetBoundingBoxStyles(){_y(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){_y(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const A=this._viewportRuler.getViewportScrollPosition();_y(i,this._getExactOverlayY(t,e,A)),_y(i,this._getExactOverlayX(t,e,A))}else i.position="static";let m="",v=this._getOffset(t,"x"),x=this._getOffset(t,"y");v&&(m+=`translateX(${v}px) `),x&&(m+=`translateY(${x}px)`),i.transform=m.trim(),u.maxHeight&&(r?i.maxHeight=ea(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=ea(u.maxWidth):o&&(i.maxWidth="")),_y(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=ea(o.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=ea(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Oz(e,i),isOriginOutsideView:VF(e,i),isOverlayClipped:Oz(t,i),isOverlayOutsideView:VF(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&v1(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof a.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function _y(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Lz(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split($Y);return t&&"px"!==t?null:parseFloat(e)}return n||null}function Uz(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Vz="cdk-global-overlay-wrapper";class GY{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Vz),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:u,maxHeight:m}=i,v=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),x=!("100%"!==o&&"100vh"!==o||m&&"100%"!==m&&"100vh"!==m),A=this._xPosition,L=this._xOffset,q="rtl"===this._overlayRef.getConfig().direction;let ne="",ae="",ye="";v?ye="flex-start":"center"===A?(ye="center",q?ae=L:ne=L):q?"left"===A||"end"===A?(ye="flex-end",ne=L):("right"===A||"start"===A)&&(ye="flex-start",ae=L):"left"===A||"start"===A?(ye="flex-start",ne=L):("right"===A||"end"===A)&&(ye="flex-end",ae=L),e.position=this._cssPosition,e.marginLeft=v?"0":ne,e.marginTop=x?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=v?"0":ae,t.justifyContent=ye,t.alignItems=x?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Vz),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let WY=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new GY}flexibleConnectedTo(t){return new qY(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Dz),a.LFG(Pe),a.LFG(Ia),a.LFG(Nz))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZY=0,N1=(()=>{class n{constructor(t,i,r,o,u,m,v,x,A,L,q,ne){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=m,this._ngZone=v,this._document=x,this._directionality=A,this._location=L,this._outsideClickDispatcher=q,this._animationsModuleType=ne}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),u=new Pz(t);return u.direction=u.direction||this._directionality.value,new HY(o,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+ZY++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new bY(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(VY),a.LFG(Nz),a.LFG(a._Vd),a.LFG(WY),a.LFG(jY),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(Pe),a.LFG(xF),a.LFG(mt),a.LFG(zY),a.LFG(a.QbO,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const QY={provide:new a.OlP("cdk-connected-overlay-scroll-strategy"),deps:[N1],useFactory:function YY(n){return()=>n.scrollStrategies.reposition()}};let XY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:[N1,QY],imports:[TI,wY,Mz,Mz]})}return n})();const JY=["mat-menu-item",""];function eQ(n,e){1&n&&(a.O4$(),a.TgZ(0,"svg",3),a._UZ(1,"polygon",4),a.qZA())}const tQ=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],nQ=["mat-icon, [matMenuItemIcon]","*"];function iQ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",0),a.NdJ("keydown",function(r){a.CHM(t);const o=a.oxw();return a.KtG(o._handleKeydown(r))})("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){a.CHM(t);const o=a.oxw();return a.KtG(o._onAnimationStart(r))})("@transformMenu.done",function(r){a.CHM(t);const o=a.oxw();return a.KtG(o._onAnimationDone(r))}),a.TgZ(1,"div",1),a.Hsn(2),a.qZA()()}if(2&n){const t=a.oxw();a.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),a.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const rQ=["*"],BF=new a.OlP("MAT_MENU_PANEL"),oQ=x1(SI(class{}));let F1=(()=>{class n extends oQ{constructor(t,i,r,o,u){super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new zn.x,this._focused=new zn.x,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(Pe),a.Y36(C1),a.Y36(BF,8),a.Y36(a.sBO))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(i,r){1&i&&a.NdJ("click",function(u){return r._checkDisabled(u)})("mouseenter",function(){return r._handleMouseEnter()}),2&i&&(a.uIk("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),a.ekj("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[a.qOj],attrs:JY,ngContentSelectors:nQ,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){1&i&&(a.F$t(tQ),a.Hsn(0),a.TgZ(1,"span",0),a.Hsn(2,1),a.qZA(),a._UZ(3,"div",1),a.YNc(4,eQ,2,0,"svg",2)),2&i&&(a.xp6(3),a.Q6J("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),a.xp6(1),a.Q6J("ngIf",r._triggersSubmenu))},dependencies:[ki,AI],encapsulation:2,changeDetection:0})}return n})();const sQ=new a.OlP("MatMenuContent"),L1={transformMenu:Hc("transformMenu",[gd("void",Ti({opacity:0,transform:"scale(0.8)"})),hs("void => enter",Ri("120ms cubic-bezier(0, 0, 0.2, 1)",Ti({opacity:1,transform:"scale(1)"}))),hs("* => void",Ri("100ms 25ms linear",Ti({opacity:0})))]),fadeInItems:Hc("fadeInItems",[gd("showing",Ti({opacity:1})),hs("void => *",[Ti({opacity:0}),Ri("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let aQ=0;const Bz=new a.OlP("mat-menu-default-options",{providedIn:"root",factory:function cQ(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let LI=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Js(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Js(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,i,r,o){this._elementRef=t,this._ngZone=i,this._changeDetectorRef=o,this._directDescendantItems=new a.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new zn.x,this.closed=new a.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+aQ++,this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this._overlapTrigger=r.overlapTrigger,this._hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new v7(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Rg(this._directDescendantItems),(0,qo.w)(t=>(0,Wg.T)(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Rg(this._directDescendantItems),(0,qo.w)(i=>(0,Wg.T)(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:fj(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(tl(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Rg(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Bz),a.Y36(a.sBO))};static#t=this.\u0275dir=a.lG2({type:n,contentQueries:function(i,r,o){if(1&i&&(a.Suo(o,sQ,5),a.Suo(o,F1,5),a.Suo(o,F1,4)),2&i){let u;a.iGM(u=a.CRH())&&(r.lazyContent=u.first),a.iGM(u=a.CRH())&&(r._allItems=u),a.iGM(u=a.CRH())&&(r.items=u)}},viewQuery:function(i,r){if(1&i&&a.Gf(a.Rgc,5),2&i){let o;a.iGM(o=a.CRH())&&(r.templateRef=o.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}})}return n})(),lQ=(()=>{class n extends LI{constructor(t,i,r,o){super(t,i,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Bz),a.Y36(a.sBO))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(i,r){2&i&&a.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[a._Bn([{provide:BF,useExisting:n}]),a.qOj],ngContentSelectors:rQ,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(i,r){1&i&&(a.F$t(),a.YNc(0,iQ,3,6,"ng-template"))},dependencies:[Ko],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{--mat-menu-container-shape:4px;min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[L1.transformMenu,L1.fadeInItems]},changeDetection:0})}return n})();const jz=new a.OlP("mat-menu-scroll-strategy"),dQ={provide:jz,deps:[N1],useFactory:function uQ(n){return()=>n.scrollStrategies.reposition()}},zz=rw({passive:!0});let hQ=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,i,r,o,u,m,v,x,A){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=m,this._dir=v,this._focusMonitor=x,this._ngZone=A,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ku.w0.EMPTY,this._hoverSubscription=Ku.w0.EMPTY,this._menuCloseSubscription=Ku.w0.EMPTY,this._changeDetectorRef=(0,a.f3M)(a.sBO),this._handleTouchStart=L=>{wF(L)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new a.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new a.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=u instanceof LI?u:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,zz)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,zz),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),o=r.positionStrategy;this._setPosition(t,o),r.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof LI&&(t._startAnimation(),t._directDescendantItems.changes.pipe($d(t.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof LI?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(cr(r=>"void"===r.toState),tl(1),$d(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new Pz({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",u="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(o,u)):t.setPositionClasses(o,u)})}_setPosition(t,i){let[r,o]="before"===t.xPosition?["end","start"]:["start","end"],[u,m]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[v,x]=[u,m],[A,L]=[r,o],q=0;if(this.triggersSubmenu()){if(L=r="before"===t.xPosition?"start":"end",o=A="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const ne=this._parentMaterialMenu.items.first;this._parentInnerPadding=ne?ne._getHostElement().offsetTop:0}q="bottom"===u?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(v="top"===u?"bottom":"top",x="top"===m?"bottom":"top");i.withPositions([{originX:r,originY:v,overlayX:A,overlayY:u,offsetY:q},{originX:o,originY:v,overlayX:L,overlayY:u,offsetY:q},{originX:r,originY:x,overlayX:A,overlayY:m,offsetY:-q},{originX:o,originY:x,overlayX:L,overlayY:m,offsetY:-q}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,_n.of)(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(cr(u=>u!==this._menuItemInstance),cr(()=>this._menuOpen)):(0,_n.of)();return(0,Wg.T)(t,r,o,i)}_handleMousedown(t){bF(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(cr(t=>t===this._menuItemInstance&&!t.disabled),Ez(0,NF)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof LI&&this.menu._isAnimating?this.menu._animationDone.pipe(tl(1),Ez(0,NF),$d(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new Iz(t.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(N1),a.Y36(a.SBq),a.Y36(a.s_b),a.Y36(jz),a.Y36(BF,8),a.Y36(F1,10),a.Y36(xF,8),a.Y36(C1),a.Y36(a.R0b))};static#t=this.\u0275dir=a.lG2({type:n,hostVars:3,hostBindings:function(i,r){1&i&&a.NdJ("click",function(u){return r._handleClick(u)})("mousedown",function(u){return r._handleMousedown(u)})("keydown",function(u){return r._handleKeydown(u)}),2&i&&a.uIk("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}})}return n})(),fQ=(()=>{class n extends hQ{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}();static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[a.qOj]})}return n})(),Hz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:[dQ],imports:[Pi,I1,ta,XY,UF,ta]})}return n})();function pQ(n,e){1&n&&(a.TgZ(0,"h1"),a._uU(1," El\u0151bb jelentkezzen be!"),a.qZA())}function mQ(n,e){if(1&n&&(a.TgZ(0,"h1"),a._uU(1),a.qZA()),2&n){const t=e.ngIf;a.xp6(1),a.hij(" \xdcdv\xf6z\xf6lj\xfck, ",t.displayName,"!")}}function gQ(n,e){if(1&n&&(a.ynx(0),a.TgZ(1,"button",9),a._UZ(2,"img",10),a.TgZ(3,"mat-icon"),a._uU(4,"expand_more"),a.qZA()(),a.BQk()),2&n){const t=e.ngIf;a.oxw();const i=a.MAs(12);let r;a.xp6(1),a.Q6J("matMenuTriggerFor",i),a.xp6(1),a.Q6J("src",null!==(r=t.photoURL)&&void 0!==r?r:"assets/image-placeholder.png",a.LSH)}}function _Q(n,e){1&n&&(a.TgZ(0,"button",11)(1,"mat-icon"),a._uU(2,"login"),a.qZA(),a._uU(3," Bejelentkez\xe9s "),a.qZA())}let $z=(()=>{class n{constructor(t,i,r,o){this.authService=t,this.router=i,this.usersService=r,this.services=o,this.user$=this.usersService.currentUserProfile$,this.items=[],this.users=[],this.userOrders=[]}ngOnInit(){}logout(){this.authService.logout().subscribe(()=>{this.router.navigate(["/user"])})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(py),a.Y36(vc),a.Y36(kI),a.Y36(kl))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-user"]],decls:19,vars:10,consts:[["color","primary"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["loginButton",""],[1,"content"],["userMenu","matMenu"],["mat-menu-item","","routerLink","/home"],["mat-menu-item","","routerLink","/user/profile"],["mat-menu-item","",3,"click"],["mat-button","",3,"matMenuTriggerFor"],["width","30","height","30",1,"profile-image-toolbar",3,"src"],["mat-button","","routerLink","login"]],template:function(i,r){if(1&i&&(a.TgZ(0,"mat-toolbar",0),a.YNc(1,pQ,2,0,"h1",1),a.ALo(2,"async"),a.YNc(3,mQ,2,1,"h1",1),a.ALo(4,"async"),a.YNc(5,gQ,5,2,"ng-container",2),a.ALo(6,"async"),a.YNc(7,_Q,4,0,"ng-template",null,3,a.W1O),a.qZA(),a.TgZ(9,"div",4),a._UZ(10,"router-outlet"),a.qZA(),a.TgZ(11,"mat-menu",null,5)(13,"button",6),a._uU(14,"Rendel\xe9sek"),a.qZA(),a.TgZ(15,"button",7),a._uU(16,"Profil"),a.qZA(),a.TgZ(17,"button",8),a.NdJ("click",function(){return r.logout()}),a._uU(18,"Kijelentkez\xe9s"),a.qZA()()),2&i){const o=a.MAs(8);a.xp6(1),a.Q6J("ngIf",!a.lcZ(2,4,r.user$)),a.xp6(2),a.Q6J("ngIf",a.lcZ(4,6,r.user$)),a.xp6(2),a.Q6J("ngIf",a.lcZ(6,8,r.user$))("ngIfElse",o)}},dependencies:[ki,WA,um,OI,PF,aY,lQ,F1,fQ,er],styles:["mat-toolbar[_ngcontent-%COMP%]{justify-content:space-between;margin:0;background-color:#092c3d;border-radius:0;box-shadow:0 6px 20px #00000063}.conent[_ngcontent-%COMP%]{padding:32px}.profile-image-toolbar[_ngcontent-%COMP%]{border-radius:100%;margin-right:8px;margin-top:10px}"]})}return n})();const qz=rw({passive:!0});let vQ=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Hf.E;const i=$g(t),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new zn.x,u="cdk-text-field-autofilled",m=v=>{"cdk-text-field-autofill-start"!==v.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===v.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>o.next({target:v.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>o.next({target:v.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",m,qz),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",m,qz)}}),o}stopMonitoring(t){const i=$g(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Ia),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();var bQ=Q(4552);class wQ extends zn.x{constructor(e=1/0,t=1/0,i=bQ.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;t||(i.push(e),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!e.closed;u+=i?1:2)e.next(o[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=t.now();let m=0;for(let v=1;v<i.length&&i[v]<=u;v+=2)m=v;m&&i.splice(0,m+1)}}}function jF(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,TF.B)({connector:()=>new wQ(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}class CQ{constructor(e){this._box=e,this._destroyed=new zn.x,this._resizeSubject=new zn.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new ar.y(t=>{const i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(cr(t=>t.some(i=>i.target===e)),jF({bufferSize:1,refCount:!0}),$d(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let xQ=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,a.f3M)(a.R0b)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new CQ(r)),this._observers.get(r).observe(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const EQ=["notch"],IQ=["matFormFieldNotchedOutline",""],TQ=["*"],SQ=["textField"],DQ=["iconPrefixContainer"],MQ=["textPrefixContainer"];function AQ(n,e){1&n&&a._UZ(0,"span",19)}function kQ(n,e){if(1&n&&(a.TgZ(0,"label",17),a.Hsn(1,1),a.YNc(2,AQ,1,0,"span",18),a.qZA()),2&n){const t=a.oxw(2);a.Q6J("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),a.uIk("for",t._control.id),a.xp6(2),a.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function OQ(n,e){if(1&n&&a.YNc(0,kQ,3,5,"label",16),2&n){const t=a.oxw();a.Q6J("ngIf",t._hasFloatingLabel())}}function PQ(n,e){1&n&&a._UZ(0,"div",20)}function RQ(n,e){}function NQ(n,e){if(1&n&&a.YNc(0,RQ,0,0,"ng-template",22),2&n){a.oxw(2);const t=a.MAs(1);a.Q6J("ngTemplateOutlet",t)}}function FQ(n,e){if(1&n&&(a.TgZ(0,"div",21),a.YNc(1,NQ,1,1,"ng-template",9),a.qZA()),2&n){const t=a.oxw();a.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),a.xp6(1),a.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function LQ(n,e){1&n&&(a.TgZ(0,"div",23,24),a.Hsn(2,2),a.qZA())}function UQ(n,e){1&n&&(a.TgZ(0,"div",25,26),a.Hsn(2,3),a.qZA())}function VQ(n,e){}function BQ(n,e){if(1&n&&a.YNc(0,VQ,0,0,"ng-template",22),2&n){a.oxw();const t=a.MAs(1);a.Q6J("ngTemplateOutlet",t)}}function jQ(n,e){1&n&&(a.TgZ(0,"div",27),a.Hsn(1,4),a.qZA())}function zQ(n,e){1&n&&(a.TgZ(0,"div",28),a.Hsn(1,5),a.qZA())}function HQ(n,e){1&n&&a._UZ(0,"div",29)}function $Q(n,e){if(1&n&&(a.TgZ(0,"div",30),a.Hsn(1,6),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState)}}function qQ(n,e){if(1&n&&(a.TgZ(0,"mat-hint",34),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.Q6J("id",t._hintLabelId),a.xp6(1),a.Oqu(t.hintLabel)}}function GQ(n,e){if(1&n&&(a.TgZ(0,"div",31),a.YNc(1,qQ,2,2,"mat-hint",32),a.Hsn(2,7),a._UZ(3,"div",33),a.Hsn(4,8),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",t.hintLabel)}}const WQ=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ZQ=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let aw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]})}return n})(),KQ=0;const Gz=new a.OlP("MatError");let Wz=(()=>{class n{constructor(t,i){this.id="mat-mdc-error-"+KQ++,t||i.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(i){return new(i||n)(a.$8M("aria-live"),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){2&i&&a.Ikx("id",r.id)},inputs:{id:"id"},features:[a._Bn([{provide:Gz,useExisting:n}])]})}return n})(),YQ=0,Zz=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+YQ++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(a.Ikx("id",r.id),a.uIk("align",null),a.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const QQ=new a.OlP("MatPrefix"),XQ=new a.OlP("MatSuffix"),Kz=new a.OlP("FloatingLabelParent");let Yz=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,a.f3M)(xQ),this._ngZone=(0,a.f3M)(a.R0b),this._parent=(0,a.f3M)(Kz),this._resizeSubscription=new Ku.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function JQ(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&a.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const Qz="mdc-line-ripple--active",U1="mdc-line-ripple--deactivating";let Xz=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,u=o.contains(U1);"opacity"===r.propertyName&&u&&o.remove(Qz,U1)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(U1),t.add(Qz)}deactivate(){this._elementRef.nativeElement.classList.add(U1)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.R0b))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),Jz=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.R0b))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&a.Gf(EQ,5),2&i){let o;a.iGM(o=a.CRH())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&a.ekj("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:IQ,ngContentSelectors:TQ,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(a.F$t(),a._UZ(0,"div",0),a.TgZ(1,"div",1,2),a.Hsn(3),a.qZA(),a._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const eX={transitionMessages:Hc("transitionMessages",[gd("enter",Ti({opacity:1,transform:"translateY(0%)"})),hs("void => enter",[Ti({opacity:0,transform:"translateY(-5px)"}),Ri("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let e4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n})}return n})();const t4=new a.OlP("MatFormField"),tX=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let n4=0,V1=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Js(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,o,u,m,v,x){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=u,this._defaults=m,this._animationMode=v,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+n4++,this._hintLabelId="mat-mdc-hint-"+n4++,this._subscriptAnimationState="",this._destroyed=new zn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,m&&(m.appearance&&(this.appearance=m.appearance),this._hideRequiredMarker=!!m?.hideRequiredMarker,m.color&&(this.color=m.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe($d(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Wg.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe($d(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe($d(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,u=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+u}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(xF),a.Y36(Ia),a.Y36(tX,8),a.Y36(a.QbO,8),a.Y36(Pe))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(a.Suo(o,aw,5),a.Suo(o,aw,7),a.Suo(o,e4,5),a.Suo(o,QQ,5),a.Suo(o,XQ,5),a.Suo(o,Gz,5),a.Suo(o,Zz,5)),2&i){let u;a.iGM(u=a.CRH())&&(r._labelChildNonStatic=u.first),a.iGM(u=a.CRH())&&(r._labelChildStatic=u.first),a.iGM(u=a.CRH())&&(r._formFieldControl=u.first),a.iGM(u=a.CRH())&&(r._prefixChildren=u),a.iGM(u=a.CRH())&&(r._suffixChildren=u),a.iGM(u=a.CRH())&&(r._errorChildren=u),a.iGM(u=a.CRH())&&(r._hintChildren=u)}},viewQuery:function(i,r){if(1&i&&(a.Gf(SQ,5),a.Gf(DQ,5),a.Gf(MQ,5),a.Gf(Yz,5),a.Gf(Jz,5),a.Gf(Xz,5)),2&i){let o;a.iGM(o=a.CRH())&&(r._textField=o.first),a.iGM(o=a.CRH())&&(r._iconPrefixContainer=o.first),a.iGM(o=a.CRH())&&(r._textPrefixContainer=o.first),a.iGM(o=a.CRH())&&(r._floatingLabel=o.first),a.iGM(o=a.CRH())&&(r._notchedOutline=o.first),a.iGM(o=a.CRH())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&a.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:t4,useExisting:n},{provide:Kz,useExisting:n}])],ngContentSelectors:ZQ,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(a.F$t(WQ),a.YNc(0,OQ,1,1,"ng-template",null,0,a.W1O),a.TgZ(2,"div",1,2),a.NdJ("click",function(u){return r._control.onContainerClick(u)}),a.YNc(4,PQ,1,0,"div",3),a.TgZ(5,"div",4),a.YNc(6,FQ,2,2,"div",5),a.YNc(7,LQ,3,0,"div",6),a.YNc(8,UQ,3,0,"div",7),a.TgZ(9,"div",8),a.YNc(10,BQ,1,1,"ng-template",9),a.Hsn(11),a.qZA(),a.YNc(12,jQ,2,0,"div",10),a.YNc(13,zQ,2,0,"div",11),a.qZA(),a.YNc(14,HQ,1,0,"div",12),a.qZA(),a.TgZ(15,"div",13),a.YNc(16,$Q,2,1,"div",14),a.YNc(17,GQ,5,2,"div",15),a.qZA()),2&i&&(a.xp6(2),a.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),a.xp6(2),a.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),a.xp6(2),a.Q6J("ngIf",r._hasOutline()),a.xp6(1),a.Q6J("ngIf",r._hasIconPrefix),a.xp6(1),a.Q6J("ngIf",r._hasTextPrefix),a.xp6(2),a.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),a.xp6(2),a.Q6J("ngIf",r._hasTextSuffix),a.xp6(1),a.Q6J("ngIf",r._hasIconSuffix),a.xp6(1),a.Q6J("ngIf",!r._hasOutline()),a.xp6(1),a.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),a.Q6J("ngSwitch",r._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[ki,ia,Ns,Ja,Zz,Yz,Jz,Xz],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[eX.transitionMessages]},changeDetection:0})}return n})(),UI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ta,Pi,gj,ta]})}return n})();const rX=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),oX=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let sX=0;const aX=z7(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new zn.x}});let B1=(()=>{class n extends aX{get disabled(){return this._disabled}set disabled(t){this._disabled=Js(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Za.required)??!1}set required(t){this._required=Js(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&uj().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Js(t)}constructor(t,i,r,o,u,m,v,x,A,L){super(m,o,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=x,this._formField=L,this._uid="mat-input-"+sX++,this.focused=!1,this.stateChanges=new zn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ae=>uj().has(ae)),this._iOSKeyupListener=ae=>{const ye=ae.target;!ye.value&&0===ye.selectionStart&&0===ye.selectionEnd&&(ye.setSelectionRange(1,1),ye.setSelectionRange(0,0))};const q=this._elementRef.nativeElement,ne=q.nodeName.toLowerCase();this._inputValueAccessor=v||q,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&A.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===ne,this._isTextarea="textarea"===ne,this._isInFormField=!!L,this._isNativeSelect&&(this.controlType=q.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){oX.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(Ia),a.Y36(hm,10),a.Y36(f1,8),a.Y36(zg,8),a.Y36($7),a.Y36(rX,10),a.Y36(vQ),a.Y36(a.R0b),a.Y36(t4,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&a.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(a.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),a.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),a.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:e4,useExisting:n}]),a.qOj,a.TTD]})}return n})(),o4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ta,UI,UI,yQ,ta]})}return n})();function cX(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," E-mail sz\xfcks\xe9ges "),a.qZA())}function lX(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Jelsz\xf3 sz\xfcks\xe9ges "),a.qZA())}let uX=(()=>{class n{constructor(t,i,r,o){this.authService=t,this.toast=i,this.router=r,this.fb=o,this.loginForm=this.fb.group({email:["",[Za.required,Za.email]],password:["",Za.required]})}ngOnInit(){}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}submit(){const{email:t,password:i}=this.loginForm.value;!this.loginForm.valid||!t||!i||this.authService.login(t,i).pipe(this.toast.observe({success:"Sikeres bejelentkez\xe9s",loading:"Bejelentkez\xe9s...",error:"Hiba a bejelentkez\xe9sn\xe9l!"})).subscribe(()=>{this.router.navigate(["/user"])})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(py),a.Y36(La),a.Y36(vc),a.Y36(g1))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-login"]],decls:21,vars:3,consts:[[1,"form-container","mat-elevation-z5"],[3,"formGroup","ngSubmit"],["matInput","","formControlName","email"],[4,"ngIf"],["matInput","","formControlName","password","type","password"],[1,"center","margin-top"],["mat-raised-button","","color","primary","type","submit"],["routerLink","/user/sign-up",1,"sign-up-link"]],template:function(i,r){1&i&&(a.TgZ(0,"div",0)(1,"h1"),a._uU(2,"Bejelentkez\xe9s"),a.qZA(),a.TgZ(3,"form",1),a.NdJ("ngSubmit",function(){return r.submit()}),a.TgZ(4,"mat-form-field")(5,"mat-label"),a._uU(6,"E-mail c\xedm"),a.qZA(),a._UZ(7,"input",2),a.YNc(8,cX,2,0,"mat-error",3),a.qZA(),a.TgZ(9,"mat-form-field")(10,"mat-label"),a._uU(11,"Jelsz\xf3"),a.qZA(),a._UZ(12,"input",4),a.YNc(13,lX,2,0,"mat-error",3),a.qZA(),a.TgZ(14,"div",5)(15,"button",6),a._uU(16," Bejelentkez\xe9s "),a.qZA()(),a.TgZ(17,"span",5),a._uU(18,"\xdaj az oldalunkon? "),a.TgZ(19,"a",7),a._uU(20,"Regisztr\xe1ljon!"),a.qZA()()()()),2&i&&(a.xp6(3),a.Q6J("formGroup",r.loginForm),a.xp6(5),a.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),a.xp6(5),a.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.email))},dependencies:[ki,um,OI,xI,cy,ly,mI,zg,nw,B1,V1,aw,Wz],styles:[".form-container[_ngcontent-%COMP%]{display:block;max-width:600px;margin:auto;background:#eceff1;padding:48px;border-radius:16px}.form-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;background:#eceff1}.mdc-text-field--filled[_ngcontent-%COMP%]:not(.mdc-text-field--disabled){background-color:#eceff1}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.text-center[_ngcontent-%COMP%]{text-align:center}"]})}return n})();function dX(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg a vezet\xe9knev\xe9t! "),a.qZA())}function hX(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg a keresztnev\xe9t! "),a.qZA())}function fX(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg az E-mail c\xedm\xe9t! "),a.qZA())}function pX(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," K\xe9rem, val\xf3di E-mail c\xedmet haszn\xe1ljon! "),a.qZA())}function mX(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg a telefonsz\xe1m\xe1t! "),a.qZA())}function gX(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg a Sz\xe1ll\xedt\xe1si c\xedm\xe9t! "),a.qZA())}function _X(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adjon meg egy jelsz\xf3t! "),a.qZA())}function vX(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg m\xe9gegyszer! "),a.qZA())}function yX(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," A jelsz\xf3nak egyeznie kell! "),a.qZA())}let wX=(()=>{class n{constructor(t,i,r,o,u){this.authService=t,this.fb=i,this.router=r,this.toast=o,this.usersService=u,this.signUpForm=this.fb.group({firstName:["",Za.required],lastName:["",Za.required],email:["",[Za.required,Za.email]],phone:["",Za.required],address:["",Za.required],password:["",Za.required],confirmPassword:["",Za.required]},{validators:n=>{const e=n.get("password")?.value,t=n.get("confirmPassword")?.value;return e&&t&&e!==t?{passwordsDontMatch:!0}:null}})}ngOnInit(){}get email(){return this.signUpForm.get("email")}get password(){return this.signUpForm.get("password")}get confirmPassword(){return this.signUpForm.get("confirmPassword")}get name(){return this.signUpForm.get("name")}submit(){const{lastName:t,firstName:i,address:r,phone:o,email:u,password:m}=this.signUpForm.value;!this.signUpForm.valid||!i||!i||!m||!u||this.authService.signUp(u,m).pipe((0,qo.w)(({user:{uid:v}})=>this.usersService.addUser({uid:v,email:u,lastName:t,firstName:i,address:r,phone:o,displayName:t})),this.toast.observe({success:"Sikeres regisztr\xe1ci\xf3!",loading:"Bejelentkez\xe9s",error:({message:v})=>`${v}`})).subscribe(()=>{this.router.navigate(["/user"])})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(py),a.Y36(g1),a.Y36(vc),a.Y36(La),a.Y36(kI))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-sign-up"]],decls:40,vars:10,consts:[[1,"form-container","mat-elevation-z5"],[3,"formGroup","ngSubmit"],["matInput","","formControlName","firstName"],[4,"ngIf"],["matInput","","formControlName","lastName"],["matInput","","formControlName","email","formControlName","email"],["type","number","matInput","","formControlName","phone"],["matInput","","formControlName","address"],["matInput","","type","password","placeholder","Jelsz\xf3","formControlName","password"],["matInput","","type","password","placeholder","Jelsz\xf3 \xfajra","formControlName","confirmPassword"],[1,"center","margin-top"],["type","submit","mat-raised-button","","color","primary"]],template:function(i,r){1&i&&(a.TgZ(0,"div",0)(1,"h1"),a._uU(2,"\xdaj fi\xf3k l\xe9trehoz\xe1sa!"),a.qZA(),a.TgZ(3,"form",1),a.NdJ("ngSubmit",function(){return r.submit()}),a.TgZ(4,"mat-form-field")(5,"mat-label"),a._uU(6,"Vezet\xe9kn\xe9v"),a.qZA(),a._UZ(7,"input",2),a.YNc(8,dX,2,0,"mat-error",3),a.qZA(),a.TgZ(9,"mat-form-field")(10,"mat-label"),a._uU(11,"Keresztn\xe9v"),a.qZA(),a._UZ(12,"input",4),a.YNc(13,hX,2,0,"mat-error",3),a.qZA(),a.TgZ(14,"mat-form-field")(15,"mat-label"),a._uU(16,"E-mail c\xedm"),a.qZA(),a._UZ(17,"input",5),a.YNc(18,fX,2,0,"mat-error",3),a.YNc(19,pX,2,0,"mat-error",3),a.qZA(),a.TgZ(20,"mat-form-field")(21,"mat-label"),a._uU(22,"Telefonsz\xe1m"),a.qZA(),a._UZ(23,"input",6),a.YNc(24,mX,2,0,"mat-error",3),a.qZA(),a.TgZ(25,"mat-form-field")(26,"mat-label"),a._uU(27,"Sz\xe1ll\xedt\xe1si c\xedm"),a.qZA(),a._UZ(28,"input",7),a.YNc(29,gX,2,0,"mat-error",3),a.qZA(),a.TgZ(30,"mat-form-field"),a._UZ(31,"input",8),a.YNc(32,_X,2,0,"mat-error",3),a.qZA(),a.TgZ(33,"mat-form-field"),a._UZ(34,"input",9),a.YNc(35,vX,2,0,"mat-error",3),a.qZA(),a.YNc(36,yX,2,0,"mat-error",3),a.TgZ(37,"div",10)(38,"button",11),a._uU(39,"Regisztr\xe1ci\xf3!"),a.qZA()()()()),2&i&&(a.xp6(3),a.Q6J("formGroup",r.signUpForm),a.xp6(5),a.Q6J("ngIf",null==r.name||null==r.name.errors?null:r.name.errors.required),a.xp6(5),a.Q6J("ngIf",null==r.name||null==r.name.errors?null:r.name.errors.required),a.xp6(5),a.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),a.xp6(1),a.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.email),a.xp6(5),a.Q6J("ngIf",null==r.name||null==r.name.errors?null:r.name.errors.required),a.xp6(5),a.Q6J("ngIf",null==r.name||null==r.name.errors?null:r.name.errors.required),a.xp6(3),a.Q6J("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required),a.xp6(3),a.Q6J("ngIf",null==r.confirmPassword||null==r.confirmPassword.errors?null:r.confirmPassword.errors.required),a.xp6(1),a.Q6J("ngIf",null==r.signUpForm.errors?null:r.signUpForm.errors.passwordsDontMatch))},dependencies:[ki,OI,xI,cy,EI,ly,mI,zg,nw,B1,V1,aw,Wz],styles:[".form-container[_ngcontent-%COMP%]{display:block;max-width:600px;margin:auto;background:#eceff1;padding:48px;border-radius:16px}.form-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;background:#eceff1}.mdc-text-field--filled[_ngcontent-%COMP%]:not(.mdc-text-field--disabled){background-color:#eceff1}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.text-center[_ngcontent-%COMP%]{text-align:center}"]})}return n})(),CX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-landing"]],decls:2,vars:0,template:function(i,r){1&i&&(a.TgZ(0,"p"),a._uU(1,"landing works!"),a.qZA())}})}return n})();function xX(n,e){if(1&n&&(a.TgZ(0,"div",14)(1,"div",15),a._UZ(2,"img",16),a.qZA(),a.TgZ(3,"div",17),a._uU(4),a.qZA(),a.TgZ(5,"div",18),a._uU(6),a.qZA(),a.TgZ(7,"div",19),a._uU(8),a.qZA()()),2&n){const t=e.$implicit;a.xp6(2),a.Q6J("src",t.product.imagePath,a.LSH),a.xp6(2),a.Oqu(t.product.description),a.xp6(2),a.hij("",t.quantity," db"),a.xp6(2),a.hij("",t.product.price," Ft/db")}}function EX(n,e){if(1&n&&(a.TgZ(0,"div",6),a.YNc(1,xX,9,4,"div",7),a.TgZ(2,"div",8)(3,"p",9),a._uU(4),a.qZA(),a.TgZ(5,"p",10),a._uU(6),a.qZA(),a.TgZ(7,"p",11),a._uU(8),a.qZA(),a.TgZ(9,"p",12),a._uU(10),a.ALo(11,"date"),a.qZA(),a.TgZ(12,"p",13),a._uU(13),a.qZA()()()),2&n){const t=e.$implicit;a.xp6(1),a.Q6J("ngForOf",t.items),a.xp6(3),a.hij("Aj\xe1nd\xe9kcsomagol\xe1s: ",t.gift?"Igen, +1590 Ft":"Nem",""),a.xp6(2),a.hij("K\xfcldem\xe9ny biztos\xedt\xe1sa: ",t.insurance?"Igen, +500 Ft":"Nem",""),a.xp6(2),a.hij("Sz\xe1ll\xedt\xe1s d\xedja: ",t.shippingPrice," Ft"),a.xp6(2),a.hij("Rendel\xe9s d\xe1tuma: ",a.xi3(11,6,t.orderDate.toDate(),"yyyy-MM-dd"),""),a.xp6(3),a.hij("\xd6sszesen: ",t.price," Ft")}}function IX(n,e){if(1&n&&(a.TgZ(0,"div",4),a.YNc(1,EX,14,9,"div",5),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",t.userOrders)}}function TX(n,e){if(1&n&&(a.TgZ(0,"div",1)(1,"div",2),a._uU(2,"Kor\xe1bbi rendel\xe9sek"),a.qZA(),a.YNc(3,IX,2,1,"div",3),a.ALo(4,"async"),a.qZA()),2&n){const t=a.oxw();a.xp6(3),a.Q6J("ngIf",a.lcZ(4,1,t.user$))}}let SX=(()=>{class n{constructor(t,i,r){this.authService=t,this.usersService=i,this.services=r,this.user$=this.authService.currentUser$,this.items=[],this.users=[],this.userOrders=[]}ngOnInit(){this.services.refreshData(()=>this.services.getOrders(),this.items),this.services.refreshData(()=>this.services.getUsers(),this.users),this.getUser()}getUser(){this.usersService.currentUserProfile$.subscribe(t=>{t&&t.email&&(this.userEmail=t.email,this.userOrders=this.findUserOrders(t.email))})}findUserOrders(t){return this.items.filter(i=>i.email===t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(py),a.Y36(kI),a.Y36(kl))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-home"]],decls:3,vars:3,consts:[["class","orders-container",4,"ngIf"],[1,"orders-container"],[1,"orders-head"],["class","order-table",4,"ngIf"],[1,"order-table"],["class","order-row",4,"ngFor","ngForOf"],[1,"order-row"],["class","item-container",4,"ngFor","ngForOf"],[1,"order-data"],[1,"gift"],[1,"insurance"],[1,"shipping-price"],[1,"order-date"],[1,"total-price"],[1,"item-container"],[1,"product-image"],[3,"src"],[1,"description"],[1,"quantity"],[1,"product-price"]],template:function(i,r){1&i&&(a._UZ(0,"app-user"),a.YNc(1,TX,5,3,"div",0),a.ALo(2,"async")),2&i&&(a.xp6(1),a.Q6J("ngIf",a.lcZ(2,1,r.user$)))},dependencies:[qn,ki,$z,er,Sa],styles:[".order-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-weight:100}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]{background-color:#fff;margin:20px 0 50px;box-shadow:0 6px 20px #00000030;border-radius:1rem;overflow:hidden;border:transparent}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .order-data[_ngcontent-%COMP%]{padding:10px 10px 40px}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .order-data[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]{width:300px;padding-top:10px;text-align:center;border-top:1px solid #edf1f7;float:right;font-size:16px}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #edf1f7}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1;text-align:center}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:120px;float:left}"]})}return n})();const zF=(0,gn.U)(n=>!!n);let DX=(()=>{class n{constructor(t,i){this.router=t,this.auth=i,this.canActivate=(r,o)=>{const u=r.data.authGuardPipe||(()=>zF);return Qs(this.auth).pipe(tl(1),u(r,o),(0,gn.U)(m=>"boolean"==typeof m?m:Array.isArray(m)?this.router.createUrlTree(m):this.router.parseUrl(m)))}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(vc),a.LFG(wp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const j1=n=>({canActivate:[DX],data:{authGuardPipe:n}});var OX=Q(7582);const PX=a.GuJ,NX=Symbol("__destroy"),s4=Symbol("__decoratorApplied");function a4(n){return"string"==typeof n?Symbol(`__destroy__${n}`):NX}function c4(n,e){n[e]||(n[e]=new zn.x)}function l4(n,e){n[e]&&(n[e].next(),n[e].complete(),n[e]=null)}function u4(n){n instanceof Ku.w0&&n.unsubscribe()}function d4(n,e){return function(){if(n&&n.call(this),l4(this,a4()),e.arrayName&&function LX(n){Array.isArray(n)&&n.forEach(u4)}(this[e.arrayName]),e.checkProperties)for(const t in this)e.blackList?.includes(t)||u4(this[t])}}Symbol("CheckerHasBeenSet");function qX(n,e){return t=>{const i=a4(e);"string"==typeof e?function $X(n,e,t){const i=n[e];c4(n,t),n[e]=function(){i.apply(this,arguments),l4(this,t),n[e]=i}}(n,e,i):c4(n,i);const r=n[i];return t.pipe($d(r))}}let WX=(()=>{class n{constructor(t){this.storage=t}uploadImage(t,i){const r=YG(this.storage,i);return(0,Mr.D)(QG(r,t)).pipe((0,qo.w)(u=>ZG(u.ref)))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(PA))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZX(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",1)(1,"h1"),a._uU(2,"Profil"),a.qZA(),a.TgZ(3,"div",2),a._UZ(4,"img",3),a.TgZ(5,"button",4),a.NdJ("click",function(){a.CHM(t);const r=a.MAs(9);return a.KtG(r.click())}),a.TgZ(6,"mat-icon"),a._uU(7,"edit"),a.qZA()()(),a.TgZ(8,"input",5,6),a.NdJ("change",function(r){const u=a.CHM(t).ngIf,m=a.oxw();return a.KtG(m.uploadImage(r,u))}),a.qZA(),a.TgZ(10,"form",7),a.NdJ("ngSubmit",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.saveProfile())}),a.TgZ(11,"div",8)(12,"mat-form-field")(13,"mat-label"),a._uU(14,"Vezet\xe9kn\xe9v"),a.qZA(),a._UZ(15,"input",9),a.qZA(),a.TgZ(16,"mat-form-field")(17,"mat-label"),a._uU(18,"Keresztn\xe9v"),a.qZA(),a._UZ(19,"input",10),a.qZA()(),a.TgZ(20,"div",8)(21,"mat-form-field")(22,"mat-label"),a._uU(23,"Profiln\xe9v"),a.qZA(),a._UZ(24,"input",11),a.qZA(),a.TgZ(25,"mat-form-field")(26,"mat-label"),a._uU(27,"Telefonsz\xe1m"),a.qZA(),a._UZ(28,"input",12),a.qZA()(),a.TgZ(29,"mat-form-field")(30,"mat-label"),a._uU(31,"Sz\xe1ll\xedt\xe1si c\xedm"),a.qZA(),a._UZ(32,"input",13),a.qZA(),a.TgZ(33,"button",14),a._uU(34," Ment\xe9s "),a.qZA()()()}if(2&n){const t=e.ngIf,i=a.oxw();let r;a.xp6(4),a.Q6J("src",null!==(r=t.photoURL)&&void 0!==r?r:"assets/image-placeholder.png",a.LSH),a.xp6(6),a.Q6J("formGroup",i.profileForm)}}let $F=class _2{constructor(e,t,i,r,o){this.authService=e,this.imageUploadService=t,this.toast=i,this.usersService=r,this.fb=o,this.user$=this.usersService.currentUserProfile$,this.profileForm=this.fb.group({uid:[""],displayName:[""],firstName:[""],lastName:[""],phone:[""],address:[""]})}ngOnInit(){this.usersService.currentUserProfile$.pipe(qX(this),(0,tr.b)(console.log)).subscribe(e=>{this.profileForm.patchValue({...e})})}uploadImage(e,t){this.imageUploadService.uploadImage(e.target.files[0],`images/profile/${t.uid}`).pipe(this.toast.observe({loading:"A k\xe9p t\xf6lt\u0151dik...",success:"A k\xe9p sikeresen felt\xf6ltve!",error:"Hiba a k\xe9p felt\xf6lt\xe9se k\xf6zben"}),(0,qo.w)(i=>this.usersService.updateUser({uid:t.uid,photoURL:i}))).subscribe()}saveProfile(){const{uid:e,...t}=this.profileForm.value;e&&this.usersService.updateUser({uid:e,...t}).pipe(this.toast.observe({loading:"Profil ment\xe9se...",success:"Sikeres ment\xe9s!",error:"Hiba t\xf6rt\xe9nt a profil ment\xe9se sor\xe1n!"})).subscribe()}static#e=this.\u0275fac=function(t){return new(t||_2)(a.Y36(py),a.Y36(WX),a.Y36(La),a.Y36(kI),a.Y36(g1))};static#t=this.\u0275cmp=a.Xpm({type:_2,selectors:[["app-profile"]],decls:2,vars:3,consts:[["class","form-container mat-elevation-z5 text-center",4,"ngIf"],[1,"form-container","mat-elevation-z5","text-center"],[1,"profile-image"],["width","120","height","120",3,"src"],["mat-mini-fab","",3,"click"],["type","file","hidden","",3,"change"],["inputField",""],[1,"margin-top",3,"formGroup","ngSubmit"],[1,"row"],["type","text","matInput","","formControlName","firstName"],["type","text","matInput","","formControlName","lastName"],["type","text","matInput","","formControlName","displayName"],["type","number","matInput","","formControlName","phone"],["type","text","matInput","","formControlName","address"],["type","submit","mat-raised-button","","color","primary",1,"save-button","margin-top"]],template:function(t,i){1&t&&(a.YNc(0,ZX,35,2,"div",0),a.ALo(1,"async")),2&t&&a.Q6J("ngIf",a.lcZ(1,1,i.user$))},dependencies:[ki,OI,vK,PF,xI,cy,EI,ly,mI,zg,nw,B1,V1,aw,er],styles:[".profile-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{border-radius:100%;object-fit:cover;object-position:center;box-shadow:0 .25rem .5rem #000}.profile-image[_ngcontent-%COMP%]{position:relative}.profile-image[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:35%}.form-container[_ngcontent-%COMP%]{max-width:600px;margin-top:25px}.row[_ngcontent-%COMP%]{display:flex;gap:16px}.save-button[_ngcontent-%COMP%]{background-color:#17455c}.test[_ngcontent-%COMP%]{background:yellow}"]})};$F=(0,OX.gn)([function BX(n={}){return e=>{!function RX(n){return!!n[PX]}(e)?function UX(n,e){n.prototype.ngOnDestroy=d4(n.prototype.ngOnDestroy,e)}(e,n):function VX(n,e){const t=n.\u0275pipe;t.onDestroy=d4(t.onDestroy,e)}(e,n),function FX(n){n.prototype[s4]=!0}(e)}}()],$F);const KX=function(){return["/products"]};function YX(n,e){1&n&&(a.TgZ(0,"div",2),a._UZ(1,"img",3),a.TgZ(2,"div",4),a._uU(3,"A kosara \xfcres!"),a.TgZ(4,"p",5),a._uU(5,"Vissza a term\xe9kekhez!"),a.qZA()()()),2&n&&(a.xp6(4),a.Q6J("routerLink",a.DdM(1,KX)))}function QX(n,e){1&n&&(a.TgZ(0,"mat-form-field")(1,"mat-label"),a._uU(2,"Vezet\xe9kn\xe9v"),a.qZA(),a._UZ(3,"input",16),a.qZA())}function XX(n,e){1&n&&(a.TgZ(0,"mat-form-field")(1,"mat-label"),a._uU(2,"Keresztn\xe9v"),a.qZA(),a._UZ(3,"input",17),a.qZA())}function JX(n,e){1&n&&(a.TgZ(0,"mat-form-field")(1,"mat-label"),a._uU(2,"E-mail c\xedm"),a.qZA(),a._UZ(3,"input",18),a.qZA())}function eJ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",6)(1,"div",7)(2,"form",8,9),a.NdJ("ngSubmit",function(){a.CHM(t);const r=a.MAs(3),o=a.oxw();return a.KtG(o.rendelesFormSubmit(r.value))}),a.YNc(4,QX,4,0,"mat-form-field",10),a.ALo(5,"async"),a.YNc(6,XX,4,0,"mat-form-field",10),a.ALo(7,"async"),a.YNc(8,JX,4,0,"mat-form-field",10),a.ALo(9,"async"),a.TgZ(10,"mat-form-field")(11,"mat-label"),a._uU(12,"Telefonsz\xe1m"),a.qZA(),a._UZ(13,"input",11),a.qZA(),a.TgZ(14,"mat-form-field")(15,"mat-label"),a._uU(16,"Szall\xedt\xe1si c\xedm"),a.qZA(),a._UZ(17,"input",12),a.qZA(),a.TgZ(18,"div",13)(19,"button",14),a._uU(20,"Rendel\xe9s meger\u0151s\xedt\xe9se"),a.qZA(),a.TgZ(21,"p",15),a._uU(22),a.qZA()()()()()}if(2&n){const t=a.oxw();a.xp6(2),a.Q6J("formGroup",t.shippingForm),a.xp6(2),a.Q6J("ngIf",!a.lcZ(5,5,t.user$)),a.xp6(2),a.Q6J("ngIf",!a.lcZ(7,7,t.user$)),a.xp6(2),a.Q6J("ngIf",!a.lcZ(9,9,t.user$)),a.xp6(14),a.hij("v\xe9g\xf6sszeg: ",t.price," Ft")}}let tJ=(()=>{class n{constructor(t,i,r,o,u,m,v,x,A){this.fb=t,this.services=i,this.authService=r,this.shoppingService=o,this.usersService=u,this.toast=m,this.router=v,this.firestore=x,this.formbuilder=A,this.shippingForm=this.fb.group({firstName:["",Za.required],lastName:["",Za.required],email:["",[Za.required,Za.email]],phone:["",Za.required],address:["",Za.required]}),this.user$=this.usersService.currentUserProfile$,this.price=this.shoppingService.calculateTotalPayment(),this.items=this.services.getCartItems(),this.gift=this.shoppingService.giftIsChecked,this.insurance=this.shoppingService.insuranceIsChecked,this.shippingPrice=this.shoppingService.shippingPrice,this.orderDate=new Date}ngOnInit(){this.user$.subscribe(t=>{t&&this.shippingForm.patchValue({firstName:t.firstName,lastName:t.lastName,email:t.email,phone:t.phone,address:t.address})})}rendelesFormSubmit(t){var i=this;return(0,dt.Z)(function*(){const{firstName:r,lastName:o,email:u,phone:m,address:v}=i.shippingForm.value;if(i.shippingForm.valid&&r&&o&&u&&m&&v)try{const x=yield i.user$.pipe(tl(1)).toPromise();let A;A=Ga(i.firestore,x?"*orders":"*guest"),t.items=i.items,t.gift=i.gift,t.insurance=i.insurance,t.shippingPrice=i.shippingPrice,t.price=i.price,t.orderDate=i.orderDate,yield uq(A,t),console.log("Rendel\xe9s elk\xfcldve a Firestore-ba"),i.router.navigate(["/dashboard"]),i.shippingForm.reset(),i.services.exit()}catch(x){console.error("Hiba t\xf6rt\xe9nt a rendel\xe9s elk\xfcld\xe9se sor\xe1n: ",x)}})()}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(g1),a.Y36(kl),a.Y36(py),a.Y36(r3),a.Y36(kI),a.Y36(La),a.Y36(vc),a.Y36(Bf),a.Y36(aj))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-shipping"]],decls:2,vars:2,consts:[["class","empty-cart",4,"ngIf"],["class","shopping-cart-component",4,"ngIf"],[1,"empty-cart"],["src","./assets/images/empty-cart.jpg",1,"empty-cart-img"],[1,"empty-cart-desc"],[1,"empty-cart-button",3,"routerLink"],[1,"shopping-cart-component"],[1,"shipping-container"],[3,"formGroup","ngSubmit"],["rendelesForm","ngForm"],[4,"ngIf"],["type","number","matInput","","formControlName","phone"],["type","text","matInput","","formControlName","address"],[1,"button-container"],["type","submit","mat-raised-button","button-submit","color","primary"],[1,"price"],["type","text","matInput","","formControlName","firstName"],["type","text","matInput","","formControlName","lastName"],["type","email","matInput","","formControlName","email"]],template:function(i,r){1&i&&(a.YNc(0,YX,6,2,"div",0),a.YNc(1,eJ,23,11,"div",1)),2&i&&(a.Q6J("ngIf",0===r.services.getCartItems().length),a.xp6(1),a.Q6J("ngIf",r.services.getCartItems().length>0))},dependencies:[ki,um,OI,xI,cy,EI,ly,mI,zg,nw,B1,V1,aw,er],styles:[".shipping-container[_ngcontent-%COMP%]{display:block;max-width:600px;margin:auto;background:#eceff1;padding:48px;border-radius:16px}.shipping-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;background:#eceff1}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.text-center[_ngcontent-%COMP%]{text-align:center}.button-container[_ngcontent-%COMP%]{margin-top:25px}.button-container[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{float:right;font-size:18px;font-weight:100}",'@charset "UTF-8";.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:auto;position:relative;-webkit-user-select:none;user-select:none}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{color:#f0f8ff;font-size:15px;margin-bottom:5px;display:flex;flex:1}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{color:#f0f8ff;font-size:18px;flex:0 0 100px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{color:#f0f8ff;border-radius:10px;background-color:#092c3d;flex:1;display:flex;align-items:center;margin:10px 10px 5px;border-bottom:1px solid #ccc;position:relative;gap:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:120px;height:auto;border-radius:5px;margin-right:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{font-size:15px;margin-right:30px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{font-size:18px;overflow:hidden;margin-left:50px;flex:0 0 70px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:15px;display:flex;align-items:center;margin-left:auto;color:#f0f8ff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:30px;height:30px;font-size:30px;display:flex;justify-content:center;align-items:center;font-size:20px;margin:0 5px;border-radius:50%;padding:10px;border:1px solid #a5beda;cursor:pointer;color:#f0f8ff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{cursor:pointer;font-size:15px;margin-right:15px;margin-left:40px;color:#f0f8ff}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;margin:0;gap:0px;width:auto}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:0;margin-left:-5px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{margin-left:-25px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{margin-left:0}}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{gap:2px;margin:0}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{margin-right:5px;font-size:10px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{padding-left:5px}}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:25px;height:25px;font-size:18px;padding:0;margin:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{margin-left:4px;font-size:11.5px;flex:0 0 40px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;font-size:12px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{margin-right:0;width:70px}}@media screen and (max-width: 700px) and (max-width: 300px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{display:none}}.empty-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.empty-cart-img[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-22%);width:100%;max-width:600px;display:flex;overflow:hidden}.empty-cart-desc[_ngcontent-%COMP%]{text-align:center;position:absolute;width:300px;top:55%;left:50%;transform:translate(-50%,-10%);font-size:26px;font-weight:300;border-top:1px solid #ccc;padding-top:15px;transition:all .4s ease-in-out}.empty-cart-button[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer;transition:all .3s ease-in-out;font-weight:100}.empty-cart-button[_ngcontent-%COMP%]:after{background:none repeat scroll 0 0 transparent;bottom:0;content:"";display:block;height:1px;left:50%;position:absolute;background:#191818;transition:width .3s ease 0s,left .3s ease 0s;width:0}.empty-cart-button[_ngcontent-%COMP%]:hover:after{width:100%;left:0}@media screen and (max-width: 500px){.empty-cart-desc[_ngcontent-%COMP%]{top:41%;left:50%}.empty-cart-button[_ngcontent-%COMP%]{top:48%;left:50%;font-size:22px}}.bonus[_ngcontent-%COMP%]   .bonus-desc[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;font-size:13px;margin-top:15px;width:600px}.insurance[_ngcontent-%COMP%], .gift[_ngcontent-%COMP%], .bonus[_ngcontent-%COMP%], .shipping[_ngcontent-%COMP%]{font-size:15px;border-top:1px solid #ccc;margin-top:20px;padding-top:10px}.checkout-container-desc[_ngcontent-%COMP%]{font-size:13px;margin-top:15px;opacity:.5;width:600px}.shipping[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1}h3[_ngcontent-%COMP%]{float:right;opacity:.5;font-weight:800}h3.active[_ngcontent-%COMP%]{opacity:1}.disabled-button[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.checkout-container[_ngcontent-%COMP%]{background-color:#f4f7fa;padding:10px;height:100px;display:grid;position:relative;max-width:1000px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]{padding-top:20px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1;font-size:18px;font-weight:200}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:800;float:right;top:0;margin-left:40px}@media screen and (max-width: 750px){.checkout-container[_ngcontent-%COMP%]{padding:2px;display:block}.checkout-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:100%}.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:14px;margin-top:20px;padding-top:10px}}@media screen and (max-width: 750px) and (max-width: 340px){.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width: 750px){.checkout-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:-4px}.checkout-container[_ngcontent-%COMP%]   .btn-hover[_ngcontent-%COMP%]{float:right}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:100%;font-size:16px}}.btn-hover[_ngcontent-%COMP%]{width:200px;font-size:16px;font-weight:400;color:#f0f8ff;cursor:pointer;margin-left:auto;height:55px;text-align:center;border:none;background-size:300% 100%;border-radius:5px;transition:all .4s ease-in-out}[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;background-position:100% 0;transition:all .4s ease-in-out}.btn-hover[_ngcontent-%COMP%]:hover{background-position:100% 0;transition:all .4s ease-in-out}.btn-hover[_ngcontent-%COMP%]:focus{outline:none}.btn-hover.color-8[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#455669,#485563,#203542,#092c3d);box-shadow:0 4px 15px #2d3641bf}']})}return n})();const nJ=[Hc("slideInOut",[gd("in",Ti({"max-height":"500px",opacity:"1",visibility:"visible"})),gd("out",Ti({"max-height":"0px",opacity:"0",visibility:"hidden"})),hs("in => out",[hc([Ri("100ms ease-in-out",Ti({opacity:"0"})),Ri("200ms ease-in-out",Ti({"max-height":"0px"})),Ri("300ms ease-in-out",Ti({visibility:"hidden"}))])]),hs("out => in",[hc([Ri("300ms ease-in-out",Ti({visibility:"visible"})),Ri("300ms ease-in-out",Ti({"max-height":"500px"})),Ri("400ms ease-in-out",Ti({opacity:"1"}))])])])],iJ=["input"],rJ=["label"],oJ=["*"],sJ=new a.OlP("mat-checkbox-default-options",{providedIn:"root",factory:m4});function m4(){return{color:"accent",clickAction:"check-indeterminate"}}const aJ={provide:qd,useExisting:(0,a.Gpc)(()=>_4),multi:!0};class cJ{}let lJ=0;const g4=m4(),uJ=Aj(DI(x1(SI(class{constructor(n){this._elementRef=n}}))));let dJ=(()=>{class n extends uJ{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=Js(t)}constructor(t,i,r,o,u,m,v){super(i),this._changeDetectorRef=r,this._ngZone=o,this._animationMode=m,this._options=v,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new a.vpe,this.indeterminateChange=new a.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||g4,this.color=this.defaultColor=this._options.color||g4.color,this.tabIndex=parseInt(u)||0,this.id=this._uniqueId=`${t}${++lJ}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){const i=Js(t);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const i=Js(t);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const i=t!=this._indeterminate;this._indeterminate=Js(t),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_transitionCheckState(t){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==t&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?!this.disabled&&"noop"===t&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,i){if("NoopAnimations"===this._animationMode)return"";switch(t){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const i=this._inputElement;i&&(i.nativeElement.indeterminate=t)}static#e=this.\u0275fac=function(i){a.$Z()};static#t=this.\u0275dir=a.lG2({type:n,viewQuery:function(i,r){if(1&i&&(a.Gf(iJ,5),a.Gf(rJ,5),a.Gf(AI,5)),2&i){let o;a.iGM(o=a.CRH())&&(r._inputElement=o.first),a.iGM(o=a.CRH())&&(r._labelElement=o.first),a.iGM(o=a.CRH())&&(r.ripple=o.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[a.qOj]})}return n})(),_4=(()=>{class n extends dJ{constructor(t,i,r,o,u,m){super("mat-mdc-checkbox-",t,i,r,o,u,m),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){const i=new cJ;return i.source=this,i.checked=t,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.$8M("tabindex"),a.Y36(a.QbO,8),a.Y36(sJ,8))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&(a.Ikx("id",r.id),a.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[a._Bn([aJ]),a.qOj],ngContentSelectors:oJ,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(i,r){if(1&i&&(a.F$t(),a.TgZ(0,"div",0),a.NdJ("click",function(u){return r._preventBubblingFromLabel(u)}),a.TgZ(1,"div",1,2)(3,"div",3),a.NdJ("click",function(){return r._onTouchTargetClick()}),a.qZA(),a.TgZ(4,"input",4,5),a.NdJ("blur",function(){return r._onBlur()})("click",function(){return r._onInputClick()})("change",function(u){return r._onInteractionEvent(u)}),a.qZA(),a._UZ(6,"div",6),a.TgZ(7,"div",7),a.O4$(),a.TgZ(8,"svg",8),a._UZ(9,"path",9),a.qZA(),a.kcU(),a._UZ(10,"div",10),a.qZA(),a._UZ(11,"div",11),a.qZA(),a.TgZ(12,"label",12,13),a.Hsn(14),a.qZA()()),2&i){const o=a.MAs(2);a.ekj("mdc-form-field--align-end","before"==r.labelPosition),a.xp6(4),a.ekj("mdc-checkbox--selected",r.checked),a.Q6J("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.tabIndex),a.uIk("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("name",r.name)("value",r.value),a.xp6(7),a.Q6J("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),a.xp6(1),a.Q6J("for",r.inputId)}},dependencies:[AI],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),v4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})(),pJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ta,I1,v4,ta,v4]})}return n})();function mJ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",3),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.openModal(o))})("mouseover",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseOver(o))})("mouseleave",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseLeave(o))}),a.TgZ(1,"div",4),a._uU(2),a.TgZ(3,"p",5),a._uU(4),a.qZA(),a.TgZ(5,"p",6),a._uU(6),a.qZA()(),a.TgZ(7,"div",7),a._UZ(8,"img",8),a.qZA(),a.TgZ(9,"div",9),a._uU(10),a.TgZ(11,"p",10),a._uU(12,"Ft-t\xf3l"),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.hij(" ",t.brand," "),a.xp6(2),a.Oqu(t.brandName),a.xp6(2),a.Oqu(t.scent),a.xp6(2),a.Q6J("src",t.imagePath,a.LSH),a.xp6(2),a.hij("",t.type[0].price," ")}}function gJ(n,e){if(1&n&&(a.TgZ(0,"div",1),a.YNc(1,mJ,13,5,"div",2),a.ALo(2,"async"),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",a.lcZ(2,1,t.productService.diorQuery$))}}let y4=(()=>{class n{constructor(t,i){this.services=t,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(kl),a.Y36(Vg))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-dior-fragrances"]],decls:1,vars:1,consts:[["class","product-card-container",4,"ngIf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&a.YNc(0,gJ,3,3,"div",0),2&i&&a.Q6J("ngIf",!0===r.productService.isDiorChecked)},dependencies:[qn,ki,er],styles:['@charset "UTF-8";.product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000;min-width:320px;margin:10px;overflow:hidden}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:2px solid #edf1f7;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:250px;max-height:250px;width:auto;height:auto}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}']})}return n})();function _J(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",3),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.openModal(o))})("mouseover",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseOver(o))})("mouseleave",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseLeave(o))}),a.TgZ(1,"div",4),a._uU(2),a.TgZ(3,"p",5),a._uU(4),a.qZA(),a.TgZ(5,"p",6),a._uU(6),a.qZA()(),a.TgZ(7,"div",7),a._UZ(8,"img",8),a.qZA(),a.TgZ(9,"div",9),a._uU(10),a.TgZ(11,"p",10),a._uU(12,"Ft-t\xf3l"),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.hij(" ",t.brand," "),a.xp6(2),a.Oqu(t.brandName),a.xp6(2),a.Oqu(t.scent),a.xp6(2),a.Q6J("src",t.imagePath,a.LSH),a.xp6(2),a.hij("",t.type[0].price," ")}}function vJ(n,e){if(1&n&&(a.TgZ(0,"div",1),a.YNc(1,_J,13,5,"div",2),a.ALo(2,"async"),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",a.lcZ(2,1,t.productService.JPGQuery$))}}let yJ=(()=>{class n{constructor(t,i){this.services=t,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(kl),a.Y36(Vg))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-jpg-fragrances"]],decls:1,vars:1,consts:[["class","product-card-container",4,"ngIf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&a.YNc(0,vJ,3,3,"div",0),2&i&&a.Q6J("ngIf",!0===r.productService.isJPGChecked)},dependencies:[qn,ki,er],styles:['@charset "UTF-8";.product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000;min-width:320px;margin:10px;overflow:hidden}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:2px solid #edf1f7;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:250px;max-height:250px;width:auto;height:auto}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}']})}return n})();function bJ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",3),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.openModal(o))})("mouseover",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseOver(o))})("mouseleave",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseLeave(o))}),a.TgZ(1,"div",4),a._uU(2),a.TgZ(3,"p",5),a._uU(4),a.qZA(),a.TgZ(5,"p",6),a._uU(6),a.qZA()(),a.TgZ(7,"div",7),a._UZ(8,"img",8),a.qZA(),a.TgZ(9,"div",9),a._uU(10),a.TgZ(11,"p",10),a._uU(12,"Ft-t\xf3l"),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.hij(" ",t.brand," "),a.xp6(2),a.Oqu(t.brandName),a.xp6(2),a.Oqu(t.scent),a.xp6(2),a.Q6J("src",t.imagePath,a.LSH),a.xp6(2),a.hij("",t.type[0].price," ")}}function wJ(n,e){if(1&n&&(a.TgZ(0,"div",1),a.YNc(1,bJ,13,5,"div",2),a.ALo(2,"async"),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",a.lcZ(2,1,t.productService.lancomeQuery$))}}let CJ=(()=>{class n{constructor(t,i){this.services=t,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(kl),a.Y36(Vg))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-lancome-fragrances"]],decls:1,vars:1,consts:[["class","product-card-container",4,"ngIf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&a.YNc(0,wJ,3,3,"div",0),2&i&&a.Q6J("ngIf",!0===r.productService.isLancomeChecked)},dependencies:[qn,ki,er],styles:['@charset "UTF-8";.product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000;min-width:320px;margin:10px;overflow:hidden}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:2px solid #edf1f7;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:250px;max-height:250px;width:auto;height:auto}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}']})}return n})();function xJ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",3),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.openModal(o))})("mouseover",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseOver(o))})("mouseleave",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseLeave(o))}),a.TgZ(1,"div",4),a._uU(2),a.TgZ(3,"p",5),a._uU(4),a.qZA(),a.TgZ(5,"p",6),a._uU(6),a.qZA()(),a.TgZ(7,"div",7),a._UZ(8,"img",8),a.qZA(),a.TgZ(9,"div",9),a._uU(10),a.TgZ(11,"p",10),a._uU(12,"Ft-t\xf3l"),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.hij(" ",t.brand," "),a.xp6(2),a.Oqu(t.brandName),a.xp6(2),a.Oqu(t.scent),a.xp6(2),a.Q6J("src",t.imagePath,a.LSH),a.xp6(2),a.hij("",t.type[0].price," ")}}function EJ(n,e){if(1&n&&(a.TgZ(0,"div",1),a.YNc(1,xJ,13,5,"div",2),a.ALo(2,"async"),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",a.lcZ(2,1,t.productService.womanFragrances$))}}let IJ=(()=>{class n{constructor(t,i){this.services=t,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(kl),a.Y36(Vg))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-woman-fragrances"]],decls:1,vars:1,consts:[["class","product-card-container",4,"ngIf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&a.YNc(0,EJ,3,3,"div",0),2&i&&a.Q6J("ngIf",!0===r.productService.isWomanChecked)},dependencies:[qn,ki,er],styles:['@charset "UTF-8";.product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000;min-width:320px;margin:10px;overflow:hidden}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:2px solid #edf1f7;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:250px;max-height:250px;width:auto;height:auto}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}']})}return n})();function TJ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",17),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.openModal(o))})("mouseover",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseOver(o))})("mouseleave",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseLeave(o))}),a.TgZ(1,"div",18),a._uU(2),a.TgZ(3,"p",19),a._uU(4),a.qZA(),a.TgZ(5,"p",20),a._uU(6),a.qZA()(),a.TgZ(7,"div",21),a._UZ(8,"img",22),a.qZA(),a.TgZ(9,"div",23),a._uU(10),a.TgZ(11,"p",24),a._uU(12,"Ft-t\xf3l"),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.hij(" ",t.brand," "),a.xp6(2),a.Oqu(t.brandName),a.xp6(2),a.Oqu(t.scent),a.xp6(2),a.Q6J("src",t.imagePath,a.LSH),a.xp6(2),a.hij("",t.type[0].price," ")}}function SJ(n,e){if(1&n&&(a.TgZ(0,"div",15),a.YNc(1,TJ,13,5,"div",16),a.ALo(2,"slice"),a.ALo(3,"async"),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",a.Dn7(2,1,a.lcZ(3,5,t.productService.fragrances$),0,t.productService.displayItemCount))}}function DJ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"app-modal",25),a.NdJ("closeModalEvent",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.productService.closeModal())}),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("product",t.productService.selectedProduct)}}const MJ=function(){return["/jeanpaulgaultier"]},AJ=function(){return["/dior"]};let kJ=(()=>{class n{toggleShowDiv(t){"divA"===t&&(console.log(this.animationState),this.animationState="out"===this.animationState?"in":"out",console.log(this.animationState))}constructor(t,i,r,o){this.services=t,this.firestore=i,this.productService=r,this.renderer=o,this.animationState="out",this.jeanPaulBrandImg="./assets/images/fragrances/logo/jeanpaul_logo.jpg",this.diorBrandImg="./assets/images/fragrances/logo/dior_logo.jpg",this.lancomeBrandImg="./assets/images/fragrances/logo/lancome_logo.jpg"}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(kl),a.Y36(Bf),a.Y36(Vg),a.Y36(a.Qsj))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-fragrances"]],decls:31,vars:16,consts:[[1,"brands-container"],[1,"brands"],[1,"brand-img",3,"routerLink","src"],[1,"brand-img",3,"src"],["title","filter",1,"filter",3,"click"],["viewBox","0 0 512 512","height","1em"],["d","M0 416c0 17.7 14.3 32 32 32l54.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-246.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 384c-17.7 0-32 14.3-32 32zm128 0a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM320 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm32-80c-32.8 0-61 19.7-73.3 48L32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l246.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48l54.7 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-54.7 0c-12.3-28.3-40.5-48-73.3-48zM192 128a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm73.3-64C253 35.7 224.8 16 192 16s-61 19.7-73.3 48L32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l86.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 128c17.7 0 32-14.3 32-32s-14.3-32-32-32L265.3 64z"],[1,"divA"],[1,"example-margin",3,"ngModel","disabled","ngModelChange","change"],[1,"example-margin",3,"ngModel","ngModelChange","change"],["class","product-card-container",4,"ngIf"],[1,"btn--circle-container"],[1,"btn--circle",3,"click"],[1,"btn-stage"],[3,"product","closeModalEvent",4,"ngIf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"],[3,"product","closeModalEvent"]],template:function(i,r){1&i&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"img",2)(3,"img",2)(4,"img",3),a.qZA()(),a.TgZ(5,"button",4),a.NdJ("click",function(){return r.toggleShowDiv("divA")}),a.O4$(),a.TgZ(6,"svg",5),a._UZ(7,"path",6),a.qZA()(),a.kcU(),a.TgZ(8,"div",7)(9,"mat-checkbox",8),a.NdJ("ngModelChange",function(u){return r.productService.isAllChecked=u})("change",function(){return r.productService.onCheckboxChange("isAllChecked")}),a._uU(10,"Mindet mutat"),a.qZA(),a.TgZ(11,"mat-checkbox",9),a.NdJ("ngModelChange",function(u){return r.productService.isDiorChecked=u})("change",function(){return r.productService.onCheckboxChange("isDiorChecked")}),a._uU(12,"Dior"),a.qZA(),a.TgZ(13,"mat-checkbox",9),a.NdJ("ngModelChange",function(u){return r.productService.isWomanChecked=u})("change",function(){return r.productService.onCheckboxChange("isWomanChecked")}),a._uU(14,"N\u0151i"),a.qZA(),a.TgZ(15,"mat-checkbox",9),a.NdJ("ngModelChange",function(u){return r.productService.isLancomeChecked=u})("change",function(){return r.productService.onCheckboxChange("isLancomeChecked")}),a._uU(16,"Lancome"),a.qZA(),a.TgZ(17,"mat-checkbox",9),a.NdJ("ngModelChange",function(u){return r.productService.isJPGChecked=u})("change",function(){return r.productService.onCheckboxChange("isJPGChecked")}),a._uU(18,"Jean Paul Gaultier"),a.qZA()(),a.YNc(19,SJ,4,7,"div",10),a._UZ(20,"app-woman-fragrances")(21,"app-dior-fragrances")(22,"app-jpg-fragrances")(23,"app-lancome-fragrances"),a.TgZ(24,"div",11)(25,"div",12),a.NdJ("click",function(){return r.productService.loadMore()}),a.TgZ(26,"span",13),a._uU(27,"+"),a.qZA(),a.TgZ(28,"span",13),a._uU(29,"T\xf6bb"),a.qZA()()(),a.YNc(30,DJ,1,1,"app-modal",14)),2&i&&(a.xp6(2),a.Q6J("routerLink",a.DdM(14,MJ))("src",r.jeanPaulBrandImg,a.LSH),a.xp6(1),a.Q6J("routerLink",a.DdM(15,AJ))("src",r.diorBrandImg,a.LSH),a.xp6(1),a.Q6J("src",r.lancomeBrandImg,a.LSH),a.xp6(4),a.Q6J("@slideInOut",r.animationState),a.xp6(1),a.Q6J("ngModel",r.productService.isAllChecked)("disabled",!0===r.productService.isAllChecked),a.xp6(2),a.Q6J("ngModel",r.productService.isDiorChecked),a.xp6(2),a.Q6J("ngModel",r.productService.isWomanChecked),a.xp6(2),a.Q6J("ngModel",r.productService.isLancomeChecked),a.xp6(2),a.Q6J("ngModel",r.productService.isJPGChecked),a.xp6(2),a.Q6J("ngIf",!0===r.productService.isAllChecked),a.xp6(11),a.Q6J("ngIf",r.productService.isModalOpen))},dependencies:[qn,ki,um,ly,_4,p1,n3,y4,yJ,CJ,IJ,er,Bn],styles:[".brands-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:15px;display:flex;margin-bottom:50px;align-items:center;justify-content:center}.brands-container[_ngcontent-%COMP%]   .brand-img[_ngcontent-%COMP%]{max-width:150px;max-height:150px;width:auto;height:auto;aspect-ratio:3/2;object-fit:contain;cursor:pointer}.divA[_ngcontent-%COMP%]{display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000;transition:all 2.5s ease}.filter[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:10px;display:flex;align-items:center;justify-content:center;border:1px solid rgba(0,0,0,.192);cursor:pointer;box-shadow:0 10px 10px #00000005;transition:all .3s;margin-left:10px}.filter[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:20px;fill:#092c3d;transition:all .3s}.filter[_ngcontent-%COMP%]:hover{box-shadow:0 10px 10px #0000001c;background-color:#092c3d}.filter[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:#fff}.btn--circle-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.btn--circle-container[_ngcontent-%COMP%]   .btn--circle[_ngcontent-%COMP%]{margin-bottom:10px;position:relative;text-decoration:none;cursor:pointer;border-radius:1000px;border:1px solid #093c3b;height:60px;width:60px;transition:all cubic-bezier(.31,-.105,.43,1.4) .2s;background-color:#092c3b}.btn--circle-container[_ngcontent-%COMP%]   .btn--circle[_ngcontent-%COMP%]:hover{width:135px}.btn--circle-container[_ngcontent-%COMP%]   .btn--circle[_ngcontent-%COMP%]:hover   .btn-stage[_ngcontent-%COMP%]:first-child{opacity:0}.btn--circle-container[_ngcontent-%COMP%]   .btn--circle[_ngcontent-%COMP%]:hover   .btn-stage[_ngcontent-%COMP%]:nth-child(n+2){opacity:1;transition:opacity linear .25s}.btn--circle-container[_ngcontent-%COMP%]   .btn-stage[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:2rem;transition:opacity linear calc(.2s - .05s)}.btn--circle-container[_ngcontent-%COMP%]   .btn-stage[_ngcontent-%COMP%]:nth-child(n+2){opacity:0;white-space:nowrap;font-size:1rem}",'@charset "UTF-8";.product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000;min-width:320px;margin:10px;overflow:hidden}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:2px solid #edf1f7;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:250px;max-height:250px;width:auto;height:auto}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}'],data:{animation:[nJ]}})}return n})(),OJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-jean-paul-gaultier"]],decls:2,vars:0,template:function(i,r){1&i&&(a.TgZ(0,"p"),a._uU(1,"jean-paul-gaultier works!"),a.qZA())}})}return n})(),PJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-dior"]],decls:2,vars:0,template:function(i,r){1&i&&(a.TgZ(0,"p"),a._uU(1,"dior works!"),a.qZA())}})}return n})();const b4=()=>(n=>(0,IN.z)(zF,(0,gn.U)(e=>e||n)))(["login"]),w4=()=>(n=>(0,IN.z)(zF,(0,gn.U)(e=>e&&n||!0)))(["user"]),RJ=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:FZ},{path:"products",component:$Z},{path:"accessories",component:qZ},{path:"fragrances",component:kJ},{path:"jeanpaulgaultier",component:OJ},{path:"shopping-cart",component:uK},{path:"shipping",component:tJ},{path:"diors",component:y4},{path:"user",component:$z,children:[{path:"profile",component:$F,...j1(b4)}]},{path:"user/login",component:uX,...j1(w4)},{path:"user/sign-up",component:wX,...j1(w4)},{path:"home",component:SX,...j1(b4)},{path:"",component:CX,pathMatch:"full"},{path:"media",component:GZ},{path:"dior",component:PJ}];let NJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[JB.forRoot(RJ,{useHash:!0}),JB]})}return n})(),FJ=(()=>{class n{constructor(){this.collapsed=!1,this.screenWidth=0,this.closed=!1}getBodyClass(){let t="";return this.collapsed&&this.screenWidth>1080&&(t="body-trimmed",console.log("styleclass:",t)),this.closed&&this.screenWidth<=1080&&this.screenWidth>0&&(t="body-md-screen",t="body-mobile-closed",console.log("styleclass:",t)),t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-body"]],inputs:{collapsed:"collapsed",screenWidth:"screenWidth",closed:"closed"},decls:2,vars:1,consts:[[1,"body",3,"ngClass"]],template:function(i,r){1&i&&(a.TgZ(0,"div",0),a._UZ(1,"router-outlet"),a.qZA()),2&i&&a.Q6J("ngClass",r.getBodyClass())},dependencies:[Ko,WA],styles:[".body[_ngcontent-%COMP%]{width:calc(100% - 5rem);height:100%;margin-left:5rem;z-index:0;background-attachment:fixed;background-repeat:repeat-y;transition:all .5s ease;background:linear-gradient(to bottom,#f4f7fa,#f4f7fa)}.body-trimmed[_ngcontent-%COMP%]{width:calc(100% - 16.5625rem);margin-left:16.5625rem}.body-md-screen[_ngcontent-%COMP%]{width:calc(100% - 5rem);margin-left:5rem}.body-mobile-closed[_ngcontent-%COMP%]{width:100%;margin-left:0rem}@media screen and (min-width: 1080px){.body[_ngcontent-%COMP%]{padding:1rem .5rem .25rem .25rem}}"]})}return n})(),LJ=0;const UJ=SI(class{}),C4="mat-badge-content";let VJ=(()=>{class n extends UJ{get color(){return this._color}set color(t){this._setColor(t),this._color=t}get overlap(){return this._overlap}set overlap(t){this._overlap=Js(t)}get content(){return this._content}set content(t){this._updateRenderedContent(t)}get description(){return this._description}set description(t){this._updateDescription(t)}get hidden(){return this._hidden}set hidden(t){this._hidden=Js(t)}constructor(t,i,r,o,u){super(),this._ngZone=t,this._elementRef=i,this._ariaDescriber=r,this._renderer=o,this._animationMode=u,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=LJ++,this._isInitialized=!1,this._interactivityChecker=(0,a.f3M)(y7),this._document=(0,a.f3M)(Pe)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){const t=this._renderer.createElement("span"),i="mat-badge-active";return t.setAttribute("id",`mat-badge-content-${this._id}`),t.setAttribute("aria-hidden","true"),t.classList.add(C4),"NoopAnimations"===this._animationMode&&t.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(t),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add(i)})}):t.classList.add(i),t}_updateRenderedContent(t){const i=`${t??""}`.trim();this._isInitialized&&i&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=i),this._content=i}_updateDescription(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!t||this._isHostInteractive())&&this._removeInlineDescription(),this._description=t,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,t):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(t){const i=this._elementRef.nativeElement.classList;i.remove(`mat-badge-${this._color}`),t&&i.add(`mat-badge-${t}`)}_clearExistingBadges(){const t=this._elementRef.nativeElement.querySelectorAll(`:scope > .${C4}`);for(const i of Array.from(t))i!==this._badgeElement&&i.remove()}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(g7),a.Y36(a.Qsj),a.Y36(a.QbO,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(i,r){2&i&&a.ekj("mat-badge-overlap",r.overlap)("mat-badge-above",r.isAbove())("mat-badge-below",!r.isAbove())("mat-badge-before",!r.isAfter())("mat-badge-after",r.isAfter())("mat-badge-small","small"===r.size)("mat-badge-medium","medium"===r.size)("mat-badge-large","large"===r.size)("mat-badge-hidden",r.hidden||!r.content)("mat-badge-disabled",r.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],position:["matBadgePosition","position"],content:["matBadge","content"],description:["matBadgeDescription","description"],size:["matBadgeSize","size"],hidden:["matBadgeHidden","hidden"]},features:[a.qOj]})}return n})(),x4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[N7,ta,ta]})}return n})();function BJ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",9),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.toggleCollapse())}),a._UZ(1,"i",10),a.qZA()}2&n&&a.Q6J("@fadeInOut",void 0)}function jJ(n,e){1&n&&(a.TgZ(0,"div",11),a._uU(1,"Logo"),a.qZA()),2&n&&a.Q6J("@fadeInOut",void 0)}function zJ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",12),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.closeSidenav())}),a._UZ(1,"i",13),a.qZA()}2&n&&a.Q6J("@rotate",void 0)}function HJ(n,e){if(1&n&&a._UZ(0,"i",19),2&n){const t=a.oxw().$implicit;a.Tol(t.icon),a.Q6J("@fadeInOut",void 0)}}function $J(n,e){if(1&n&&(a.TgZ(0,"span",20),a._uU(1),a.qZA()),2&n){const t=a.oxw().$implicit;a.Q6J("@fadeInOut",void 0),a.xp6(1),a.hij(" ",t.label," ")}}function qJ(n,e){if(1&n&&a._UZ(0,"mat-icon",21),2&n){const t=a.oxw().$implicit;a.s9C("matBadge",t.badge),a.Q6J("@fadeInOut",void 0)("matBadgeHidden",!t.badge)}}const GJ=function(n){return[n]},WJ=function(){return{exact:!0}};function ZJ(n,e){if(1&n&&(a.TgZ(0,"li",14)(1,"a",15),a.YNc(2,HJ,1,3,"i",16),a.YNc(3,$J,2,2,"span",17),a.YNc(4,qJ,1,3,"mat-icon",18),a.qZA()()),2&n){const t=e.$implicit,i=a.oxw();a.xp6(1),a.Q6J("routerLink",a.VKq(5,GJ,t.routerLink))("routerLinkActiveOptions",a.DdM(7,WJ)),a.xp6(1),a.Q6J("ngIf",!1===i.closed),a.xp6(1),a.Q6J("ngIf",i.collapsed),a.xp6(1),a.Q6J("ngIf",!1===i.closed)}}function KJ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",22),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.toggleClose())}),a._UZ(1,"i",23),a.qZA()}2&n&&a.Q6J("@fadeInOut",void 0)}function YJ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"i",24),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.toggleClose())}),a.qZA()}2&n&&a.Q6J("@fadeInOut",void 0)}let QJ=(()=>{class n{constructor(){this.onToggleSideNav=new a.vpe,this.collapsed=!1,this.closed=!1,this.screenwidth=0,this.navData=t1}onResize(t){this.screenwidth=window.innerWidth,this.screenwidth<=1024&&(this.collapsed=!1,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth})),this.screenwidth>1024&&(this.collapsed=!1,this.closed=!1,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth}))}ngOnInit(){this.screenwidth=window.innerWidth}toggleCollapse(){this.collapsed=!this.collapsed,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth}),!1===this.collapsed&&(this.closed=!1),console.log("toggle collapsed?: ",this.collapsed)}closeSidenav(){this.collapsed=!1,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth}),this.closed=!1,console.log("close sidenav collapsed?: ",this.collapsed)}toggleClose(){this.closed=!this.closed,this.onToggleSideNav.emit({collapsed:this.collapsed,closed:this.closed,screenwidth:this.screenwidth}),console.log("toggleClose?: ",this.closed)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-sidenav"]],hostBindings:function(i,r){1&i&&a.NdJ("resize",function(u){return r.onResize(u)},!1,a.Jf7)},outputs:{onToggleSideNav:"onToggleSideNav"},decls:9,vars:9,consts:[[1,"sidenav",3,"ngClass"],[1,"logo-container"],["class","logo",3,"click",4,"ngIf"],["class","logo-text",4,"ngIf"],["class","btn-close",3,"click",4,"ngIf"],[1,"sidenav-nav"],["class","sidenav-nav-item",4,"ngFor","ngForOf"],["class","sidenav-link-close-container",3,"click",4,"ngIf"],["class","sidenav-link-open fa fa-angle-double-right",3,"click",4,"ngIf"],[1,"logo",3,"click"],["aria-hidden","true",1,"fa","fa-bars"],[1,"logo-text"],[1,"btn-close",3,"click"],[1,"fal","fa-times","close-icon"],[1,"sidenav-nav-item"],["href","","routerLinkActive","active",1,"sidenav-nav-link",3,"routerLink","routerLinkActiveOptions"],["class","sidenav-link-icon",3,"class",4,"ngIf"],["class","sidenav-link-text",4,"ngIf"],["class","cart-badge","matBadgeColor","warn","matBadgeOverlap","false",3,"matBadge","matBadgeHidden",4,"ngIf"],[1,"sidenav-link-icon"],[1,"sidenav-link-text"],["matBadgeColor","warn","matBadgeOverlap","false",1,"cart-badge",3,"matBadge","matBadgeHidden"],[1,"sidenav-link-close-container",3,"click"],[1,"sidenav-link-close","fal","fa-times","close-icon"],[1,"sidenav-link-open","fa","fa-angle-double-right",3,"click"]],template:function(i,r){1&i&&(a.TgZ(0,"div",0)(1,"div",1),a.YNc(2,BJ,2,1,"button",2),a.YNc(3,jJ,2,1,"div",3),a.YNc(4,zJ,2,1,"button",4),a.qZA(),a.TgZ(5,"ul",5),a.YNc(6,ZJ,5,8,"li",6),a.YNc(7,KJ,2,1,"div",7),a.qZA()(),a.YNc(8,YJ,1,1,"i",8)),2&i&&(a.Q6J("ngClass",r.collapsed?"sidenav-collapsed":"")("ngClass",r.closed?"sidenav-closed-mobile":"")("@fadeInOut",void 0),a.xp6(2),a.Q6J("ngIf",!1===r.closed),a.xp6(1),a.Q6J("ngIf",r.collapsed),a.xp6(1),a.Q6J("ngIf",r.collapsed),a.xp6(2),a.Q6J("ngForOf",r.navData),a.xp6(1),a.Q6J("ngIf",!1===r.collapsed&&r.screenwidth<1080),a.xp6(1),a.Q6J("ngIf",!0===r.closed&&r.screenwidth<1080))},dependencies:[Ko,qn,ki,um,qB,VJ,PF],styles:[".sidenav[_ngcontent-%COMP%]{background:#092c3b;-webkit-user-select:none;user-select:none;transition:all .5s ease;position:fixed;z-index:1;top:0;width:5rem;height:100vh;box-shadow:.063rem 0 1.25rem #000}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.938rem .938rem 0;width:100%}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{background:#fff;text-align:center;width:3rem;min-width:3rem;border-radius:.313rem;padding:.313rem;font-size:24px;font-weight:900;cursor:pointer;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .fa-bars[_ngcontent-%COMP%]{color:#000}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{margin-left:1.5rem;font-size:24px;font-weight:700;color:#fff}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{margin-left:auto;cursor:pointer;width:2rem;height:2rem;border-radius:50%;background-color:transparent;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#fff;font-size:24px}.sidenav-closed-mobile[_ngcontent-%COMP%]{width:0rem;transition:.5s ease}.sidenav-closed-mobile[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%], .sidenav-closed-mobile[_ngcontent-%COMP%]   .sidenav-nav[_ngcontent-%COMP%]{display:none}.sidenav-collapsed[_ngcontent-%COMP%]{width:16.55625rem}.sidenav-nav[_ngcontent-%COMP%]{list-style:none;padding:.938rem;margin:0;display:flex;flex-direction:column;align-items:center;height:calc(100% - 3.65rem);cursor:pointer}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]{width:100%;margin-bottom:.625rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem;color:#f3f3f3;text-decoration:none;border-radius:.625rem;transition:all .3s ease}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%]{font-size:22px;width:2rem;min-width:2rem;margin:0 .5rem;text-align:center}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .cart-badge[_ngcontent-%COMP%]{position:fixed}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{margin-left:1.5rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]:hover   .sidenav-nav-link[_ngcontent-%COMP%]{background-color:#fff;color:#000}.active[_ngcontent-%COMP%]{background-color:#fff}.active[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{color:#000}.sidenav-link-close-container[_ngcontent-%COMP%]   .sidenav-link-close[_ngcontent-%COMP%]{color:#f3f3f3;font-size:25px;margin-top:20px;z-index:5}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.sidenav-link-open[_ngcontent-%COMP%]{cursor:pointer;position:fixed;color:#e9e9e9;font-size:25px;bottom:0;z-index:5;animation:_ngcontent-%COMP%_fadeIn 1s;background-color:#092c3b;padding:5px 5px 5px 0;border-radius:0 5px 5px 0}"],data:{animation:[Hc("fadeInOut",[hs(":enter",[Ti({opacity:0}),Ri("90ms 300ms",Ti({opacity:1}))]),hs(":leave",[Ti({opacity:1}),Ri("90ms",Ti({opacity:0}))])]),Hc("rotate",[hs(":enter",[Ri("430ms",rp([Ti({transform:"rotate(0deg)",offset:"0"}),Ti({transform:"rotate(0.5turn)",offset:"1"})]))])])]}})}return n})(),XJ=(()=>{class n{constructor(){this.title="webshop",this.isSideNavCollapsed=!1,this.isSideNavMobileClosed=!1,this.screenWidth=0}onToggleSideNav(t){this.screenWidth=t.screenwidth,this.isSideNavCollapsed=t.collapsed,this.isSideNavMobileClosed=t.closed}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:3,consts:[[3,"onToggleSideNav"],[3,"collapsed","closed","screenWidth"]],template:function(i,r){1&i&&(a.TgZ(0,"app-sidenav",0),a.NdJ("onToggleSideNav",function(u){return r.onToggleSideNav(u)}),a.qZA(),a._UZ(1,"app-body",1)),2&i&&(a.xp6(1),a.Q6J("collapsed",r.isSideNavCollapsed)("closed",r.isSideNavMobileClosed)("screenWidth",r.screenWidth))},dependencies:[FJ,QJ]})}return n})(),JJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[Pi,Hj,Xj,x4,_z,cj,vz,o4,UI,Hz,Xj,Hj,x4,_z,cj,vz,o4,UI,Hz,pJ]})}return n})();function qF(){return(0,Nr.e)((n,e)=>{let t,i=!1;n.subscribe((0,ci.x)(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}var Pl=Q(6304),E4=(Q(8661),Q(3106));function GF(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new vt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function I4(){if(typeof Uint8Array>"u")throw new vt("unimplemented","Uint8Arrays are not available in this environment.")}function T4(){if(!function _P(){return typeof atob<"u"}())throw new vt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class VI{constructor(e){this._delegate=e}static fromBase64String(e){return T4(),new VI(Vf.fromBase64String(e))}static fromUint8Array(e){return I4(),new VI(Vf.fromUint8Array(e))}toBase64(){return T4(),this._delegate.toBase64()}toUint8Array(){return I4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function WF(n){return function nee(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class iee{enableIndexedDbPersistence(e,t){return function Y5(n,e){BU(n=qi(n,Oo));const t=Rs(n);if(t._uninitializedComponentsProvider)throw new vt(tt.FAILED_PRECONDITION,"SDK cache is already specified.");cu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new F0;return VU(t,r,new FR(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Q5(n){BU(n=qi(n,Oo));const e=Rs(n);if(e._uninitializedComponentsProvider)throw new vt(tt.FAILED_PRECONDITION,"SDK cache is already specified.");cu("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new F0;return VU(e,i,new wU(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function X5(n){if(n._initialized&&!n._terminated)throw new vt(tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ms;return n._queue.enqueueAndForgetEvenWhileRestricted((0,dt.Z)(function*(){try{yield(t=(0,dt.Z)(function*(i){if(!lu.D())return Promise.resolve();const r=i+"main";yield lu.delete(r)}),function(i){return t.apply(this,arguments)})(hE(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class S4{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ah||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&cu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){FU(this._delegate,e,t,i)}enableNetwork(){return function e$(n){return function L5(n){return n.asyncQueue.enqueue((0,dt.Z)(function*(){const e=yield EU(n),t=yield IU(n);return e.setNetworkEnabled(!0),function(i){const r=Gt(i);return r.vu.delete(0),Gv(r)}(t)}))}(Rs(n=qi(n,Oo)))}(this._delegate)}disableNetwork(){return function t$(n){return function U5(n){return n.asyncQueue.enqueue((0,dt.Z)(function*(){const e=yield EU(n),t=yield IU(n);return e.setNetworkEnabled(!1),(i=(0,dt.Z)(function*(r){const o=Gt(r);o.vu.add(0),yield Sg(o),o.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Rs(n=qi(n,Oo)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,kU("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function J5(n){return function(e){const t=new ms;return e.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function RE(n,e){return NE.apply(this,arguments)}(yield HR(e),t)})),t.promise}(Rs(n=qi(n,Oo)))}(this._delegate)}onSnapshotsInSync(e){return function A$(n,e){return function j5(n,e){const t=new dA(e);return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return i=yield L0(n),r=t,Gt(i).ku.add(r),void r.next();var i,r})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return i=yield L0(n),r=t,void Gt(i).ku.delete(r);var i,r}))}}(Rs(n=qi(n,Oo)),ZR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new vt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new cw(this,GR(this._delegate,e))}catch(t){throw Rl(t,"collection()","Firestore.collection()")}}doc(e){try{return new Gd(this,VE(this._delegate,e))}catch(t){throw Rl(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Nl(this,function q5(n,e){if(n=qi(n,UE),qR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new vt(tt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new _c(n,null,(t=e,new xf($i.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Rl(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function j$(n,e,t){n=qi(n,Oo);const i=Object.assign(Object.assign({},V$),t);return function(r){if(r.maxAttempts<1)throw new vt(tt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,u){const m=new ms;return r.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){const v=yield function TU(n){return fA(n).then(e=>e.datastore)}(r);new N5(r.asyncQueue,v,u,o,m).run()})),m.promise}(Rs(n),r=>e(new B$(n,r)),i)}(this._delegate,t=>e(new D4(this,t)))}batch(){return Rs(this._delegate),new M4(new rV(this._delegate,e=>V0(this._delegate,e)))}loadBundle(e){return function n$(n,e){const t=Rs(n=qi(n,Oo)),i=new W5;return function z5(n,e,t,i){const r=function(o,u){let m;return m="string"==typeof o?Gx().encode(o):o,v=function(v,x){if(v instanceof Uint8Array)return CU(v,x);if(v instanceof ArrayBuffer)return CU(new Uint8Array(v),x);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new P5(v,u);var v}(t,em(e));n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){!function k5(n,e,t){const i=Gt(n);var r;(r=(0,dt.Z)(function*(o,u,m){try{const v=yield u.getMetadata();if(yield function(q,ne){const ae=Gt(q),ye=rs(ne.createTime);return ae.persistence.runTransaction("hasNewerBundle","readonly",We=>ae.qs.getBundleMetadata(We,ne.id)).then(We=>!!We&&We.createTime.compareTo(ye)>=0)}(o.localStore,v))return yield u.close(),m._completeWith({taskState:"Success",documentsLoaded:(q=v).totalDocuments,bytesLoaded:q.totalBytes,totalDocuments:q.totalDocuments,totalBytes:q.totalBytes}),Promise.resolve(new Set);m._updateProgress(c(v));const x=new s(v,o.localStore,u.serializer);let A=yield u.bc();for(;A;){const q=yield x.zu(A);q&&m._updateProgress(q),A=yield u.bc()}const L=yield x.complete();return yield im(o,L.Ju,void 0),yield function(q,ne){const ae=Gt(q);return ae.persistence.runTransaction("Save bundle","readwrite",ye=>ae.qs.saveBundleMetadata(ye,ne))}(o.localStore,v),m._completeWith(L.progress),Promise.resolve(L.Hu)}catch(v){return cu("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v),Promise.resolve(new Set)}var q}),function(o,u,m){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield HR(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function i$(n,e){return function H5(n,e){return n.asyncQueue.enqueue((0,dt.Z)(function*(){return function(t,i){const r=Gt(t);return r.persistence.runTransaction("Get named query","readonly",o=>r.qs.getNamedQuery(o,i))}(yield pA(n),e)}))}(Rs(n=qi(n,Oo)),e).then(t=>t?new _c(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Nl(this,t):null)}}class z1 extends tN{constructor(e){super(),this.firestore=e}convertBytes(e){return new VI(new Vf(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Gd.forKey(t,this.firestore,null)}}class D4{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new z1(e)}get(e){const t=yy(e);return this._delegate.get(t).then(i=>new BI(this._firestore,new sm(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=yy(e);return i?(GF("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=yy(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=yy(e);return this._delegate.delete(t),this}}class M4{constructor(e){this._delegate=e}set(e,t,i){const r=yy(e);return i?(GF("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=yy(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=yy(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class vy{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new GE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new jI(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=vy.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new vy(e,new z1(e),t),r.set(t,o)),o}}vy.INSTANCES=new WeakMap;class Gd{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new z1(e)}static forPath(e,t,i){if(e.length%2!=0)throw new vt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Gd(t,new ko(t._delegate,i,new qt(e)))}static forKey(e,t,i){return new Gd(t,new ko(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new cw(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new cw(this.firestore,GR(this._delegate,e))}catch(t){throw Rl(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ie.m9)(e))instanceof ko&&LU(this._delegate,e)}set(e,t){t=GF("DocumentReference.set",t);try{return t?nN(this._delegate,e,t):nN(this._delegate,e)}catch(i){throw Rl(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?iN(this._delegate,e):iN(this._delegate,e,t,...i)}catch(r){throw Rl(r,"updateDoc()","DocumentReference.update()")}}delete(){return function M$(n){return V0(qi(n.firestore,Oo),[new fg(n._key,Dr.none())])}(this._delegate)}onSnapshot(...e){const t=A4(e),i=k4(e,r=>new BI(this.firestore,new sm(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return rN(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function E$(n){n=qi(n,ko);const e=qi(n.firestore,Oo),t=Rs(e),i=new Og(e);return function V5(n,e){const t=new ms;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return(i=(0,dt.Z)(function*(r,o,u){try{const m=yield function(v,x){const A=Gt(v);return A.persistence.runTransaction("read document","readonly",L=>A.localDocuments.getDocument(L,x))}(r,o);m.isFoundDocument()?u.resolve(m):m.isNoDocument()?u.resolve(null):u.reject(new vt(tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=Qv(m,`Failed to get document '${o} from cache`);u.reject(v)}}),function(r,o,u){return i.apply(this,arguments)})(yield pA(n),e,t);var i})),t.promise}(t,n._key).then(r=>new sm(e,i,n._key,r,new ny(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function I$(n){n=qi(n,ko);const e=qi(n.firestore,Oo);return SU(Rs(e),n._key,{source:"server"}).then(t=>oN(e,n,t))}(this._delegate):function x$(n){n=qi(n,ko);const e=qi(n.firestore,Oo);return SU(Rs(e),n._key).then(t=>oN(e,n,t))}(this._delegate),t.then(i=>new BI(this.firestore,new sm(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Gd(this.firestore,this._delegate.withConverter(e?vy.getInstance(this.firestore,e):null))}}function Rl(n,e,t){return n.message=n.message.replace(e,t),n}function A4(n){for(const e of n)if("object"==typeof e&&!WF(e))return e;return{}}function k4(n,e){var t,i;let r;return r=WF(n[0])?n[0]:WF(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class BI{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Gd(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return nV(this._delegate,e._delegate)}}class jI extends BI{data(e){const t=this._delegate.data(e);return function rD(n,e){n||ln()}(void 0!==t),t}}class Nl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new z1(e)}where(e,t,i){try{return new Nl(this.firestore,om(this._delegate,KU(e,t,i)))}catch(r){throw Rl(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Nl(this.firestore,om(this._delegate,function f$(n,e="asc"){const t=e,i=wA("orderBy",n);return eN._create(i,t)}(e,t)))}catch(i){throw Rl(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Nl(this.firestore,om(this._delegate,function p$(n){return RU("limit",n),CA._create("limit",n,"F")}(e)))}catch(t){throw Rl(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Nl(this.firestore,om(this._delegate,function m$(n){return RU("limitToLast",n),CA._create("limitToLast",n,"L")}(e)))}catch(t){throw Rl(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Nl(this.firestore,om(this._delegate,function g$(...n){return xA._create("startAt",n,!0)}(...e)))}catch(t){throw Rl(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Nl(this.firestore,om(this._delegate,function _$(...n){return xA._create("startAfter",n,!1)}(...e)))}catch(t){throw Rl(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Nl(this.firestore,om(this._delegate,function v$(...n){return EA._create("endBefore",n,!1)}(...e)))}catch(t){throw Rl(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Nl(this.firestore,om(this._delegate,function y$(...n){return EA._create("endAt",n,!0)}(...e)))}catch(t){throw Rl(t,"endAt()","Query.endAt()")}}isEqual(e){return WR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function S$(n){n=qi(n,_c);const e=qi(n.firestore,Oo),t=Rs(e),i=new Og(e);return function B5(n,e){const t=new ms;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return(i=(0,dt.Z)(function*(r,o,u){try{const m=yield Hv(r,o,!0),v=new _(o,m.ir),x=v.sc(m.documents),A=v.applyChanges(x,!1);u.resolve(A.snapshot)}catch(m){const v=Qv(m,`Failed to execute query '${o} against cache`);u.reject(v)}}),function(r,o,u){return i.apply(this,arguments)})(yield pA(n),e,t);var i})),t.promise}(t,n._query).then(r=>new kg(e,i,n,r))}(this._delegate):"server"===e?.source?function D$(n){n=qi(n,_c);const e=qi(n.firestore,Oo),t=Rs(e),i=new Og(e);return DU(t,n._query,{source:"server"}).then(r=>new kg(e,i,n,r))}(this._delegate):function T$(n){n=qi(n,_c);const e=qi(n.firestore,Oo),t=Rs(e),i=new Og(e);return ZU(n._query),DU(t,n._query).then(r=>new kg(e,i,n,r))}(this._delegate),t.then(i=>new ZF(this.firestore,new kg(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=A4(e),i=k4(e,r=>new ZF(this.firestore,new kg(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return rN(this._delegate,t,i)}withConverter(e){return new Nl(this.firestore,this._delegate.withConverter(e?vy.getInstance(this.firestore,e):null))}}class oee{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new jI(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ZF{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Nl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new jI(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new oee(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new jI(this._firestore,i))})}isEqual(e){return nV(this._delegate,e._delegate)}}class cw extends Nl{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Gd(this.firestore,e):null}doc(e){try{return new Gd(this.firestore,void 0===e?VE(this._delegate):VE(this._delegate,e))}catch(t){throw Rl(t,"doc()","CollectionReference.doc()")}}add(e){return iV(this._delegate,e).then(t=>new Gd(this.firestore,t))}isEqual(e){return LU(this._delegate,e._delegate)}withConverter(e){return new cw(this.firestore,this._delegate.withConverter(e?vy.getInstance(this.firestore,e):null))}}function yy(n){return qi(n,ko)}class KF{constructor(...e){this._delegate=new rm(...e)}static documentId(){return new KF(Ho.keyField().canonicalString())}isEqual(e){return(e=(0,ie.m9)(e))instanceof rm&&this._delegate._internalPath.isEqual(e._internalPath)}}class by{constructor(e){this._delegate=e}static serverTimestamp(){const e=function H$(){return new KR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new by(e)}static delete(){const e=function z$(){return new jE("deleteField")}();return e._methodName="FieldValue.delete",new by(e)}static arrayUnion(...e){const t=function $$(...n){return new c$("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new by(t)}static arrayRemove(...e){const t=function q$(...n){return new l$("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new by(t)}static increment(e){const t=function G$(n){return new u$("increment",n)}(e);return t._methodName="FieldValue.increment",new by(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const see={Firestore:S4,GeoPoint:gA,Timestamp:ho,Blob:VI,Transaction:D4,WriteBatch:M4,DocumentReference:Gd,DocumentSnapshot:BI,Query:Nl,QueryDocumentSnapshot:jI,QuerySnapshot:ZF,CollectionReference:cw,FieldPath:KF,FieldValue:by,setLogLevel:function ree(n){!function oP(n){bf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function cee(n){(function aee(n,e){n.INTERNAL.registerComponent(new ou.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},see)))})(n,(e,t)=>new S4(e,t,new iee)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(E4.Z);var H1=Q(3093);function O4(n,e){return(0,zd.m)(e)?(0,qo.w)(()=>n,e):(0,qo.w)(()=>n)}var YF=Q(5137),P4=Q(120);const QF=new a.OlP("angularfire2.auth.use-emulator"),XF=new a.OlP("angularfire2.auth.settings"),JF=new a.OlP("angularfire2.auth.tenant-id"),eL=new a.OlP("angularfire2.auth.langugage-code"),tL=new a.OlP("angularfire2.auth.use-device-language"),nL=new a.OlP("angularfire.auth.persistence"),iL=(n,e,t,i,r,o,u,m)=>(0,Pl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),i&&(v.tenantId=i),v.languageCode=r,o&&v.useDeviceLanguage(),u)for(const[x,A]of Object.entries(u))v.settings[x]=A;return m&&v.setPersistence(m),v},[t,i,r,o,u,m]);let rL=(()=>{class n{constructor(t,i,r,o,u,m,v,x,A,L,q,ne){const ae=new zn.x,ye=(0,_n.of)(void 0).pipe((0,H1.Q)(u.outsideAngular),(0,qo.w)(()=>o.runOutsideAngular(()=>Promise.resolve().then(Q.bind(Q,8661)))),(0,gn.U)(()=>(0,Pl.on)(t,o,i)),(0,gn.U)(We=>iL(We,o,m,x,A,L,v,q)),jF({bufferSize:1,refCount:!1}));if(Cr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,_n.of)(null);else{ye.pipe(Ng()).subscribe();const wt=ye.pipe((0,qo.w)(Lt=>Lt.getRedirectResult().then(An=>An,()=>null)),bn.iC,jF({bufferSize:1,refCount:!1})),kt=ye.pipe((0,qo.w)(Lt=>new ar.y(An=>({unsubscribe:o.runOutsideAngular(()=>Lt.onAuthStateChanged(Pn=>An.next(Pn),Pn=>An.error(Pn),()=>An.complete()))})))),At=ye.pipe((0,qo.w)(Lt=>new ar.y(An=>({unsubscribe:o.runOutsideAngular(()=>Lt.onIdTokenChanged(Pn=>An.next(Pn),Pn=>An.error(Pn),()=>An.complete()))}))));this.authState=wt.pipe(O4(kt),(0,YF.R)(u.outsideAngular),(0,H1.Q)(u.insideAngular)),this.user=wt.pipe(O4(At),(0,YF.R)(u.outsideAngular),(0,H1.Q)(u.insideAngular)),this.idToken=this.user.pipe((0,qo.w)(Lt=>Lt?(0,Mr.D)(Lt.getIdToken()):(0,_n.of)(null))),this.idTokenResult=this.user.pipe((0,qo.w)(Lt=>Lt?(0,Mr.D)(Lt.getIdTokenResult()):(0,_n.of)(null))),this.credential=(0,Wg.T)(wt,ae,this.authState.pipe(cr(Lt=>!Lt))).pipe((0,gn.U)(Lt=>Lt?.user?Lt:null),(0,YF.R)(u.outsideAngular),(0,H1.Q)(u.insideAngular))}return(0,Pl.pX)(this,ye,o,{spy:{apply:(We,wt,kt)=>{(We.startsWith("signIn")||We.startsWith("createUser"))&&kt.then(At=>ae.next(At))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Pl.Dh),a.LFG(Pl.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(bn.HU),a.LFG(QF,8),a.LFG(XF,8),a.LFG(JF,8),a.LFG(eL,8),a.LFG(tL,8),a.LFG(nL,8),a.LFG(yp,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function R4(n,e){return function uee(n,e=ow.z){return new ar.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function oL(n,e){return R4(n,e).pipe((0,gn.U)(t=>({payload:t,type:"query"})))}function $1(n,e){return oL(n,e).pipe(Rg(void 0),qF(),(0,gn.U)(([t,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,m)=>{const v=r.find(A=>A.doc.ref.isEqual(u.ref)),x=t?.payload.docs.find(A=>A.ref.isEqual(u.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(u.metadata)||!v&&x&&JSON.stringify(x.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:u}})}),o}))}function N4(n,e,t){return $1(n,t).pipe(q0((i,r)=>function hee(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function fee(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return sL(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return sL(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return sL(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),(0,_F.x)(),(0,gn.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function sL(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function F4(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class L4{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=$1(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,gn.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Rg(void 0),qF(),cr(([i,r])=>r.length>0||!i),(0,gn.U)(([i,r])=>r),bn.iC)}auditTrail(e){return this.stateChanges(e).pipe(q0((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=F4(e);return N4(this.query,t,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(e={}){return oL(this.query,this.afs.schedulers.outsideAngular).pipe((0,gn.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),bn.iC)}get(e){return(0,Mr.D)(this.query.get(e)).pipe(bn.iC)}add(e){return this.ref.add(e)}doc(e){return new U4(this.ref.doc(e),this.afs)}}class U4{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=j4(i,t);return new L4(r,o,this.afs)}snapshotChanges(){return function dee(n,e){return R4(n,e).pipe(Rg(void 0),qF(),(0,gn.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,gn.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Mr.D)(this.ref.get(e)).pipe(bn.iC)}}class pee{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?$1(this.query,this.afs.schedulers.outsideAngular).pipe((0,gn.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),cr(t=>t.length>0),bn.iC):$1(this.query,this.afs.schedulers.outsideAngular).pipe(bn.iC)}auditTrail(e){return this.stateChanges(e).pipe(q0((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=F4(e);return N4(this.query,t,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(e={}){return oL(this.query,this.afs.schedulers.outsideAngular).pipe((0,gn.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),bn.iC)}get(e){return(0,Mr.D)(this.query.get(e)).pipe(bn.iC)}}const V4=new a.OlP("angularfire2.enableFirestorePersistence"),B4=new a.OlP("angularfire2.firestore.persistenceSettings"),mee=new a.OlP("angularfire2.firestore.settings"),gee=new a.OlP("angularfire2.firestore.use-emulator");function j4(n,e=(t=>t)){return{query:e(n),ref:n}}let z4=(()=>{class n{constructor(t,i,r,o,u,m,v,x,A,L,q,ne,ae,ye,We,wt,kt){this.schedulers=v;const At=(0,Pl.on)(t,m,i),Lt=A;L&&iL(At,m,q,ae,ye,We,ne,wt),[this.firestore,this.persistenceEnabled$]=(0,Pl.cc)(`${At.name}.firestore`,"AngularFirestore",At.name,()=>{const An=m.runOutsideAngular(()=>At.firestore());if(o&&An.settings(o),Lt&&An.useEmulator(...Lt),r&&!Cr(u)){const Pn=()=>{try{return(0,Mr.D)(An.enablePersistence(x||void 0).then(()=>!0,()=>!1))}catch(ji){return typeof console<"u"&&console.warn(ji),(0,_n.of)(!1)}};return[An,m.runOutsideAngular(Pn)]}return[An,(0,_n.of)(!1)]},[o,Lt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:u}=j4(r,i),m=this.schedulers.ngZone.run(()=>o);return new L4(m,u,this)}collectionGroup(t,i){const r=i||(u=>u),o=this.firestore.collectionGroup(t);return new pee(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new U4(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Pl.Dh),a.LFG(Pl.xv,8),a.LFG(V4,8),a.LFG(mee,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(bn.HU),a.LFG(B4,8),a.LFG(gee,8),a.LFG(rL,8),a.LFG(QF,8),a.LFG(XF,8),a.LFG(JF,8),a.LFG(eL,8),a.LFG(tL,8),a.LFG(nL,8),a.LFG(yp,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),_ee=(()=>{class n{constructor(){P4.Z.registerVersion("angularfire",bn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:V4,useValue:!0},{provide:B4,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[z4]}),n})(),vee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[Pi]})}return n})();const H4="@firebase/database";let aL="";function q4(n){aL=n}class wee{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,ie.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,ie.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Cee{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,ie.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const G4=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new wee(e)}}catch{}return new Cee},wy=G4("localStorage"),cL=G4("sessionStorage"),lw=new Ru.Yd("@firebase/database"),W4=function(){let n=1;return function(){return n++}}(),Z4=function(n){const e=(0,ie.dS)(n),t=new ie.gQ;t.update(e);const i=t.digest();return ie.US.encodeByteArray(i)},zI=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=zI.apply(null,i):e+="object"==typeof i?(0,ie.Wl)(i):i,e+=" "}return e};let Cy=null,K4=!0;const Y4=function(n,e){(0,ie.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(lw.logLevel=Ru.in.VERBOSE,Cy=lw.log.bind(lw),e&&cL.set("logging_enabled",!0)):"function"==typeof n?Cy=n:(Cy=null,cL.remove("logging_enabled"))},Ka=function(...n){if(!0===K4&&(K4=!1,null===Cy&&!0===cL.get("logging_enabled")&&Y4(!0)),Cy){const e=zI.apply(null,n);Cy(e)}},HI=function(n){return function(...e){Ka(n,...e)}},lL=function(...n){const e="FIREBASE INTERNAL ERROR: "+zI(...n);lw.error(e)},Gf=function(...n){const e=`FIREBASE FATAL ERROR: ${zI(...n)}`;throw lw.error(e),new Error(e)},nl=function(...n){const e="FIREBASE WARNING: "+zI(...n);lw.warn(e)},q1=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Zg="[MIN_NAME]",pm="[MAX_NAME]",xy=function(n,e){if(n===e)return 0;if(n===Zg||e===pm)return-1;if(e===Zg||n===pm)return 1;{const t=J4(n),i=J4(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},Iee=function(n,e){return n===e?0:n<e?-1:1},$I=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,ie.Wl)(e))},uL=function(n){if("object"!=typeof n||null===n)return(0,ie.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,ie.Wl)(e[i]),t+=":",t+=uL(n[e[i]]);return t+="}",t},Q4=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Ya(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const X4=function(n){(0,ie.hu)(!q1(n),"Invalid JSON number");const i=1023;let r,o,u,m,v;0===n?(o=0,u=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(m=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=m+i,u=Math.round(n*Math.pow(2,52-m)-Math.pow(2,52))):(o=0,u=Math.round(n/Math.pow(2,-1074))));const x=[];for(v=52;v;v-=1)x.push(u%2?1:0),u=Math.floor(u/2);for(v=11;v;v-=1)x.push(o%2?1:0),o=Math.floor(o/2);x.push(r?1:0),x.reverse();const A=x.join("");let L="";for(v=0;v<64;v+=8){let q=parseInt(A.substr(v,8),2).toString(16);1===q.length&&(q="0"+q),L+=q}return L.toLowerCase()},Mee=new RegExp("^-?(0*)\\d{1,10}$"),J4=function(n){if(Mee.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},uw=function(n){try{n()}catch(e){setTimeout(()=>{throw nl("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},qI=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class Pee{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){nl(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Ree{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Ka("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nl(e)}}let GI=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const rH=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,aH="websocket",cH="long_polling";class hL{constructor(e,t,i,r,o=!1,u="",m=!1,v=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=u,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=v,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=wy.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&wy.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function lH(n,e,t){let i;if((0,ie.hu)("string"==typeof e,"typeof type must == string"),(0,ie.hu)("object"==typeof t,"typeof params must == object"),e===aH)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==cH)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Nee(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Ya(t,(o,u)=>{r.push(o+"="+u)}),i+r.join("&")}class Fee{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,ie.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,ie.p$)(this.counters_)}}const fL={},pL={};function mL(n){const e=n.toString();return fL[e]||(fL[e]=new Fee),fL[e]}class Uee{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&uw(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Kg{constructor(e,t,i,r,o,u,m){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=u,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=HI(e),this.stats_=mL(t),this.urlFn=v=>(this.appCheckToken&&(v.ac=this.appCheckToken),lH(t,cH,v))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Uee(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,ie.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gL((...o)=>{const[u,m,v,x,A]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=m,this.password=v;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[u,m]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(u,m)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&rH.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Kg.forceAllow_=!0}static forceDisallow(){Kg.forceDisallow_=!0}static isAvailable(){return!((0,ie.Yr)()||!Kg.forceAllow_&&(Kg.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,ie.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,ie.h$)(t),r=Q4(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,ie.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,ie.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class gL{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ie.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=W4(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=gL.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(m){Ka("frame writing exception"),m.stack&&Ka(m.stack),Ka(m)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ka("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const u=this.pendingSegs.shift();i=i+"&seg"+r+"="+u.seg+"&ts"+r+"="+u.ts+"&d"+r+"="+u.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,ie.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Ka("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let W1=null;typeof MozWebSocket<"u"?W1=MozWebSocket:typeof WebSocket<"u"&&(W1=WebSocket);let dw=(()=>{class n{constructor(t,i,r,o,u,m,v){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=HI(this.connId),this.stats_=mL(i),this.connURL=n.connectionURL_(i,m,v,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,u){const m={v:"5"};return!(0,ie.Yr)()&&typeof location<"u"&&location.hostname&&rH.test(location.hostname)&&(m.r="f"),i&&(m.s=i),r&&(m.ls=r),o&&(m.ac=o),u&&(m.p=u),lH(t,aH,m)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,wy.set("previous_websocket_failure",!0);try{let r;if((0,ie.Yr)()){r={headers:{"User-Agent":`Firebase/5/${aL}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,m=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;m&&(r.proxy={origin:m})}this.mySock=new W1(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==W1&&!n.forceDisallow_}static previouslyFailed(){return wy.isInMemoryStorage||!0===wy.get("previous_websocket_failure")}markConnectionHealthy(){wy.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,ie.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,ie.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,ie.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Q4(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),gH=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Kg,dw]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=dw&&dw.isAvailable();let r=i&&!dw.previouslyFailed();if(t.webSocketOnly&&(i||nl("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[dw];else{const o=this.transports_=[];for(const u of n.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class xH{constructor(e,t,i,r,o,u,m,v,x,A){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=u,this.onReady_=m,this.onDisconnect_=v,this.onKill_=x,this.lastSessionId=A,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=HI("c:"+this.id+":"),this.transportManager_=new gH(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=qI(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=$I("t",e),i=$I("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=$I("t",e),i=$I("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=$I("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?lL("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):lL("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&nl("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),qI(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qI(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(wy.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class EH{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class IH{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,ie.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(e){(0,ie.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Z1 extends IH{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ie.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Z1}getInitialEvent(e){return(0,ie.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ar{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function lr(){return new Ar("")}function Si(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Yg(n){return n.pieces_.length-n.pieceNum_}function oo(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ar(n.pieces_,e)}function vL(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function WI(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function DH(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ar(e,0)}function Go(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Ar)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Ar(t,0)}function Di(n){return n.pieceNum_>=n.pieces_.length}function Fl(n,e){const t=Si(n),i=Si(e);if(null===t)return e;if(t===i)return Fl(oo(n),oo(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function ste(n,e){const t=WI(n,0),i=WI(e,0);for(let r=0;r<t.length&&r<i.length;r++){const o=xy(t[r],i[r]);if(0!==o)return o}return t.length===i.length?0:t.length<i.length?-1:1}function yL(n,e){if(Yg(n)!==Yg(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Wd(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Yg(n)>Yg(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class ate{constructor(e,t){this.errorPrefix_=t,this.parts_=WI(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,ie.ug)(this.parts_[i]);MH(this)}}function MH(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ey(n))}function Ey(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class bL extends IH{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new bL}getInitialEvent(e){return(0,ie.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const ZI=1e3;let Y1,Iy=(()=>{class n extends EH{constructor(t,i,r,o,u,m,v,x){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=m,this.appCheckTokenProvider_=v,this.authOverride_=x,this.id=n.nextPersistentConnectionId_++,this.log_=HI("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ZI,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,x&&!(0,ie.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");bL.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Z1.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,u={r:o,a:t,b:i};this.log_((0,ie.Wl)(u)),(0,ie.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new ie.BH,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:m=>{const v=m.d;"ok"===m.s?i.resolve(v):i.reject(v)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,o){this.initConnection_();const u=t._queryIdentifier,m=t._path.toString();this.log_("Listen called for "+m+" "+u),this.listens.has(m)||this.listens.set(m,new Map),(0,ie.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ie.hu)(!this.listens.get(m).has(u),"listen() called twice for same path/queryId.");const v={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(m).set(u,v),this.connected_&&this.sendListen_(v)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r};t.tag&&(u.q=i._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest("q",u,v=>{const x=v.d,A=v.s;n.warnOnListenWarnings_(x,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",v),"ok"!==A&&this.removeListen_(r,o),t.onComplete&&t.onComplete(A,x))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,ie.r3)(t,"w")){const r=(0,ie.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();nl(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,ie.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,ie.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const u=o.s,m=o.d||"error";this.authToken_===t&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,ie.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const u={p:t};o&&(u.q=r,u.t=o),this.sendRequest("n",u)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const u={p:i,d:r};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,m=>{o&&setTimeout(()=>{o(m.s,m.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,u){this.initConnection_();const m={p:i,d:r};void 0!==u&&(m.h=u),this.outstandingPuts_.push({action:t,request:m,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,ie.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):lL("Unrecognized action received from server: "+(0,ie.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,ie.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ZI,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ZI,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ZI),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,dt.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),u=t.id+":"+n.nextConnectionId_++,m=t.lastSessionId;let v=!1,x=null;const A=function(){x?x.close():(v=!0,o())};t.realtime_={close:A,sendRequest:function(ne){(0,ie.hu)(x,"sendRequest call when we're not connected not allowed."),x.sendRequest(ne)}};const q=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[ne,ae]=yield Promise.all([t.authTokenProvider_.getToken(q),t.appCheckTokenProvider_.getToken(q)]);v?Ka("getToken() completed but was canceled"):(Ka("getToken() completed. Creating connection."),t.authToken_=ne&&ne.accessToken,t.appCheckToken_=ae&&ae.token,x=new xH(u,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,o,ye=>{nl(ye+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},m))}catch(ne){t.log_("Failed to get token: "+ne),v||(t.repoInfo_.nodeAdmin&&nl(ne),A())}}})()}interrupt(t){Ka("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ka("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,ie.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ZI,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(u=>uL(u)).join("$"):"default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new Ar(t).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(i),u.delete(i),0===u.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){Ka("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Ka("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,ie.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+aL.replace(/\./g,"-")]=1,(0,ie.uI)()?t["framework.cordova"]=1:(0,ie.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Z1.getInstance().currentlyOnline();return(0,ie.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Fi{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Fi(e,t)}}class K1{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Fi(Zg,e),r=new Fi(Zg,t);return 0!==this.compare(i,r)}minPost(){return Fi.MIN}}class OH extends K1{static get __EMPTY_NODE(){return Y1}static set __EMPTY_NODE(e){Y1=e}compare(e,t){return xy(e.name,t.name)}isDefinedOn(e){throw(0,ie.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Fi.MIN}maxPost(){return new Fi(pm,Y1)}makePost(e,t){return(0,ie.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Fi(e,Y1)}toString(){return".key"}}const Wf=new OH;class Q1{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,r&&(u*=-1),u<0)e=this.isReverse_?e.left:e.right;else{if(0===u){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let CL,Uh=(()=>{class n{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??n.RED,this.left=o??pu.EMPTY_NODE,this.right=u??pu.EMPTY_NODE}copy(t,i,r,o,u){return new n(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):0===u?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return pu.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return pu.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class pu{constructor(e,t=pu.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new pu(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Uh.BLACK,null,null))}remove(e){return new pu(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Uh.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Q1(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Q1(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Q1(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Q1(this.root_,null,this.comparator_,!0,e)}}function mte(n,e){return xy(n.name,e.name)}function wL(n,e){return xy(n,e)}pu.EMPTY_NODE=new class pte{copy(e,t,i,r,o){return this}insert(e,t,i){return new Uh(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const PH=function(n){return"number"==typeof n?"number:"+X4(n):"string:"+n},RH=function(n){if(n.isLeafNode()){const e=n.val();(0,ie.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,ie.r3)(e,".sv"),"Priority must be a string or number.")}else(0,ie.hu)(n===CL||n.isEmpty(),"priority of unexpected type.");(0,ie.hu)(n===CL||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let NH,FH,LH,hw=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,ie.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),RH(this.priorityNode_)}static set __childrenNodeConstructor(t){NH=t}static get __childrenNodeConstructor(){return NH}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Di(t)?this:".priority"===Si(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Si(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,ie.hu)(".priority"!==r||1===Yg(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(oo(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+PH(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?X4(this.value_):this.value_,this.lazyHash_=Z4(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,ie.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),u=n.VALUE_TYPE_ORDER.indexOf(r);return(0,ie.hu)(o>=0,"Unknown leaf type: "+i),(0,ie.hu)(u>=0,"Unknown leaf type: "+r),o===u?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const fo=new class yte extends K1{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return 0===o?xy(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Fi.MIN}maxPost(){return new Fi(pm,new hw("[PRIORITY-POST]",LH))}makePost(e,t){const i=FH(e);return new Fi(t,new hw("[PRIORITY-POST]",i))}toString(){return".priority"}},bte=Math.log(2);class wte{constructor(e){this.count=parseInt(Math.log(e+1)/bte,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const X1=function(n,e,t,i){n.sort(e);const r=function(v,x){const A=x-v;let L,q;if(0===A)return null;if(1===A)return L=n[v],q=t?t(L):L,new Uh(q,L.node,Uh.BLACK,null,null);{const ne=parseInt(A/2,10)+v,ae=r(v,ne),ye=r(ne+1,x);return L=n[ne],q=t?t(L):L,new Uh(q,L.node,Uh.BLACK,ae,ye)}},m=function(v){let x=null,A=null,L=n.length;const q=function(ae,ye){const We=L-ae,wt=L;L-=ae;const kt=r(We+1,wt),At=n[We],Lt=t?t(At):At;ne(new Uh(Lt,At.node,ye,null,kt))},ne=function(ae){x?(x.left=ae,x=ae):(A=ae,x=ae)};for(let ae=0;ae<v.count;++ae){const ye=v.nextBitIsOne(),We=Math.pow(2,v.count-(ae+1));ye?q(We,Uh.BLACK):(q(We,Uh.BLACK),q(We,Uh.RED))}return A}(new wte(n.length));return new pu(i||e,m)};let xL;const fw={};class mm{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,ie.hu)(fw&&fo,"ChildrenNode.ts has not been loaded"),xL=xL||new mm({".priority":fw},{".priority":fo}),xL}get(e){const t=(0,ie.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof pu?t:null}hasIndex(e){return(0,ie.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,ie.hu)(e!==Wf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=t.getIterator(Fi.Wrap);let m,u=o.getNext();for(;u;)r=r||e.isDefinedOn(u.node),i.push(u),u=o.getNext();m=r?X1(i,e.getCompare()):fw;const v=e.toString(),x=Object.assign({},this.indexSet_);x[v]=e;const A=Object.assign({},this.indexes_);return A[v]=m,new mm(A,x)}addToIndexes(e,t){const i=(0,ie.UI)(this.indexes_,(r,o)=>{const u=(0,ie.DV)(this.indexSet_,o);if((0,ie.hu)(u,"Missing index implementation for "+o),r===fw){if(u.isDefinedOn(e.node)){const m=[],v=t.getIterator(Fi.Wrap);let x=v.getNext();for(;x;)x.name!==e.name&&m.push(x),x=v.getNext();return m.push(e),X1(m,u.getCompare())}return fw}{const m=t.get(e.name);let v=r;return m&&(v=v.remove(new Fi(e.name,m))),v.insert(e,e.node)}});return new mm(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,ie.UI)(this.indexes_,r=>{if(r===fw)return r;{const o=t.get(e.name);return o?r.remove(new Fi(e.name,o)):r}});return new mm(i,this.indexSet_)}}let KI,hi=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&RH(this.priorityNode_),this.children_.isEmpty()&&(0,ie.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return KI||(KI=new n(new pu(wL),null,mm.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||KI}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?KI:i}}getChild(t){const i=Si(t);return null===i?this:this.getImmediateChild(i).getChild(oo(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,ie.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Fi(t,i);let o,u;i.isEmpty()?(o=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(r,this.children_));const m=o.isEmpty()?KI:this.priorityNode_;return new n(o,m,u)}}updateChild(t,i){const r=Si(t);if(null===r)return i;{(0,ie.hu)(".priority"!==Si(t)||1===Yg(t),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(oo(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,u=!0;if(this.forEachChild(fo,(m,v)=>{i[m]=v.val(t),r++,u&&n.INTEGER_REGEXP_.test(m)?o=Math.max(o,Number(m)):u=!1}),!t&&u&&o<2*r){const m=[];for(const v in i)m[v]=i[v];return m}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+PH(this.getPriority().val())+":"),this.forEachChild(fo,(i,r)=>{const o=r.hash();""!==o&&(t+=":"+i+":"+o)}),this.lazyHash_=""===t?"":Z4(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new Fi(t,i));return u?u.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Fi(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Fi(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,Fi.Wrap);let u=o.peek();for(;null!=u&&i.compare(u,t)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,Fi.Wrap);let u=o.peek();for(;null!=u&&i.compare(u,t)>0;)o.getNext(),u=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===YI?-1:0}withIndex(t){if(t===Wf||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Wf||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(fo),o=i.getIterator(fo);let u=r.getNext(),m=o.getNext();for(;u&&m;){if(u.name!==m.name||!u.node.equals(m.node))return!1;u=r.getNext(),m=o.getNext()}return null===u&&null===m}return!1}return!1}}resolveIndex_(t){return t===Wf?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const YI=new class Cte extends hi{constructor(){super(new pu(wL),hi.EMPTY_NODE,mm.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return hi.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Fi,{MIN:{value:new Fi(Zg,hi.EMPTY_NODE)},MAX:{value:new Fi(pm,YI)}}),OH.__EMPTY_NODE=hi.EMPTY_NODE,hw.__childrenNodeConstructor=hi,function gte(n){CL=n}(YI),function vte(n){LH=n}(YI);const xte=!0;function ss(n,e=null){if(null===n)return hi.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,ie.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new hw(n,ss(e));if(n instanceof Array||!xte){let t=hi.EMPTY_NODE;return Ya(n,(i,r)=>{if((0,ie.r3)(n,i)&&"."!==i.substring(0,1)){const o=ss(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(ss(e))}{const t=[];let i=!1;if(Ya(n,(u,m)=>{if("."!==u.substring(0,1)){const v=ss(m);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),t.push(new Fi(u,v)))}}),0===t.length)return hi.EMPTY_NODE;const o=X1(t,mte,u=>u.name,wL);if(i){const u=X1(t,fo.getCompare());return new hi(o,ss(e),new mm({".priority":u},{".priority":fo}))}return new hi(o,ss(e),mm.Default)}}!function _te(n){FH=n}(ss);class EL extends K1{constructor(e){super(),this.indexPath_=e,(0,ie.hu)(!Di(e)&&".priority"!==Si(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return 0===o?xy(e.name,t.name):o}makePost(e,t){const i=ss(e),r=hi.EMPTY_NODE.updateChild(this.indexPath_,i);return new Fi(t,r)}maxPost(){const e=hi.EMPTY_NODE.updateChild(this.indexPath_,YI);return new Fi(pm,e)}toString(){return WI(this.indexPath_,0).join("/")}}const IL=new class Ete extends K1{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?xy(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Fi.MIN}maxPost(){return Fi.MAX}makePost(e,t){const i=ss(e);return new Fi(t,i)}toString(){return".value"}};function UH(n){return{type:"value",snapshotNode:n}}function pw(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function QI(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function XI(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class TL{constructor(e){this.index_=e}updateChild(e,t,i,r,o,u){(0,ie.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=e.getImmediateChild(t);return m.getChild(r).equals(i.getChild(r))&&m.isEmpty()===i.isEmpty()||(null!=u&&(i.isEmpty()?e.hasChild(t)?u.trackChildChange(QI(t,m)):(0,ie.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?u.trackChildChange(pw(t,i)):u.trackChildChange(XI(t,i,m))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(fo,(r,o)=>{t.hasChild(r)||i.trackChildChange(QI(r,o))}),t.isLeafNode()||t.forEachChild(fo,(r,o)=>{if(e.hasChild(r)){const u=e.getImmediateChild(r);u.equals(o)||i.trackChildChange(XI(r,o,u))}else i.trackChildChange(pw(r,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?hi.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class JI{constructor(e){this.indexedFilter_=new TL(e.getIndex()),this.index_=e.getIndex(),this.startPost_=JI.getStartPost_(e),this.endPost_=JI.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,o,u){return this.matches(new Fi(t,i))||(i=hi.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,o,u)}updateFullNode(e,t,i){t.isLeafNode()&&(t=hi.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(hi.EMPTY_NODE);const o=this;return t.forEachChild(fo,(u,m)=>{o.matches(new Fi(u,m))||(r=r.updateImmediateChild(u,hi.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Tte{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new JI(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,o,u){return this.rangedFilter_.matches(new Fi(t,i))||(i=hi.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,o,u):this.fullLimitUpdateChild_(e,t,i,o,u)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=hi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let o;r=hi.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;o.hasNext()&&u<this.limit_;){const m=o.getNext();if(this.withinDirectionalStart(m)){if(!this.withinDirectionalEnd(m))break;r=r.updateImmediateChild(m.name,m.node),u++}}}else{let o;r=t.withIndex(this.index_),r=r.updatePriority(hi.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let u=0;for(;o.hasNext();){const m=o.getNext();u<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?u++:r=r.updateImmediateChild(m.name,hi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,o){let u;if(this.reverse_){const L=this.index_.getCompare();u=(q,ne)=>L(ne,q)}else u=this.index_.getCompare();const m=e;(0,ie.hu)(m.numChildren()===this.limit_,"");const v=new Fi(t,i),x=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),A=this.rangedFilter_.matches(v);if(m.hasChild(t)){const L=m.getImmediateChild(t);let q=r.getChildAfterChild(this.index_,x,this.reverse_);for(;null!=q&&(q.name===t||m.hasChild(q.name));)q=r.getChildAfterChild(this.index_,q,this.reverse_);const ne=null==q?1:u(q,v);if(A&&!i.isEmpty()&&ne>=0)return o?.trackChildChange(XI(t,i,L)),m.updateImmediateChild(t,i);{o?.trackChildChange(QI(t,L));const ye=m.updateImmediateChild(t,hi.EMPTY_NODE);return null!=q&&this.rangedFilter_.matches(q)?(o?.trackChildChange(pw(q.name,q.node)),ye.updateImmediateChild(q.name,q.node)):ye}}return i.isEmpty()?e:A&&u(x,v)>=0?(null!=o&&(o.trackChildChange(QI(x.name,x.node)),o.trackChildChange(pw(t,i))),m.updateImmediateChild(t,i).updateImmediateChild(x.name,hi.EMPTY_NODE)):e}}class J1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fo}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ie.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ie.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zg}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ie.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ie.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pm}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ie.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===fo}copy(){const e=new J1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function SL(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function DL(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function ek(n,e){const t=n.copy();return t.index_=e,t}function VH(n){const e={};if(n.isDefault())return e;let t;if(n.index_===fo?t="$priority":n.index_===IL?t="$value":n.index_===Wf?t="$key":((0,ie.hu)(n.index_ instanceof EL,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,ie.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,ie.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,ie.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,ie.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,ie.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function BH(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==fo&&(e.i=n.index_.toString()),e}class tk extends EH{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=HI("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,ie.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const u=tk.getListenId_(e,i),m={};this.listens_[u]=m;const v=VH(e._queryParams);this.restRequest_(o+".json",v,(x,A)=>{let L=A;if(404===x&&(L=null,x=null),null===x&&this.onDataUpdate_(o,L,!1,i),(0,ie.DV)(this.listens_,u)===m){let q;q=x?401===x?"permission_denied":"rest_error:"+x:"ok",r(q,null)}})}unlisten(e,t){const i=tk.getListenId_(e,t);delete this.listens_[i]}get(e){const t=VH(e._queryParams),i=e._path.toString(),r=new ie.BH;return this.restRequest_(i+".json",t,(o,u)=>{let m=u;404===o&&(m=null,o=null),null===o?(this.onDataUpdate_(i,m,!1,null),r.resolve(m)):r.reject(new Error(m))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,ie.xO)(t);this.log_("Sending REST request for "+u);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(i&&4===m.readyState){this.log_("REST Response for "+u+" received. status:",m.status,"response:",m.responseText);let v=null;if(m.status>=200&&m.status<300){try{v=(0,ie.cI)(m.responseText)}catch{nl("Failed to parse JSON response for "+u+": "+m.responseText)}i(null,v)}else 401!==m.status&&404!==m.status&&nl("Got unsuccessful REST response for "+u+" Status: "+m.status),i(m.status);i=null}},m.open("GET",u,!0),m.send()})}}class Ote{constructor(){this.rootNode_=hi.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function nk(){return{value:null,children:new Map}}function mw(n,e,t){if(Di(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Si(e);n.children.has(i)||n.children.set(i,nk()),mw(n.children.get(i),e=oo(e),t)}}function ML(n,e){if(Di(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(fo,(i,r)=>{mw(n,new Ar(i),r)}),ML(n,e)}}if(n.children.size>0){const t=Si(e);return e=oo(e),n.children.has(t)&&ML(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function AL(n,e,t){null!==n.value?t(e,n.value):function Pte(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{AL(r,new Ar(e.toString()+"/"+i),t)})}class Rte{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ya(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class Lte{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Rte(e);const i=1e4+2e4*Math.random();qI(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Ya(e,(r,o)=>{o>0&&(0,ie.r3)(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),qI(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Zf=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Zf||{});function PL(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class ik{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Zf.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Di(this.path)){if(null!=this.affectedTree.value)return(0,ie.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ar(e));return new ik(lr(),t,this.revert)}}return(0,ie.hu)(Si(this.path)===e,"operationForChild called for unrelated child."),new ik(oo(this.path),this.affectedTree,this.revert)}}class eT{constructor(e,t){this.source=e,this.path=t,this.type=Zf.LISTEN_COMPLETE}operationForChild(e){return Di(this.path)?new eT(this.source,lr()):new eT(this.source,oo(this.path))}}class Ty{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Zf.OVERWRITE}operationForChild(e){return Di(this.path)?new Ty(this.source,lr(),this.snap.getImmediateChild(e)):new Ty(this.source,oo(this.path),this.snap)}}class gw{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Zf.MERGE}operationForChild(e){if(Di(this.path)){const t=this.children.subtree(new Ar(e));return t.isEmpty()?null:t.value?new Ty(this.source,lr(),t.value):new gw(this.source,lr(),t)}return(0,ie.hu)(Si(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new gw(this.source,oo(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Qg{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Di(e))return this.isFullyInitialized()&&!this.filtered_;const t=Si(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Ute{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function tT(n,e,t,i,r,o){const u=i.filter(m=>m.type===t);u.sort((m,v)=>function jte(n,e,t){if(null==e.childName||null==t.childName)throw(0,ie.g5)("Should only compare child_ events.");const i=new Fi(e.childName,e.snapshotNode),r=new Fi(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,m,v)),u.forEach(m=>{const v=function Bte(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,m,o);r.forEach(x=>{x.respondsTo(m.type)&&e.push(x.createEvent(v,n.query_))})})}function rk(n,e){return{eventCache:n,serverCache:e}}function nT(n,e,t,i){return rk(new Qg(e,t,i),n.serverCache)}function zH(n,e,t,i){return rk(n.eventCache,new Qg(e,t,i))}function ok(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Sy(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let RL;class po{constructor(e,t=(()=>(RL||(RL=new pu(Iee)),RL))()){this.value=e,this.children=t}static fromObject(e){let t=new po(null);return Ya(e,(i,r)=>{t=t.set(new Ar(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:lr(),value:this.value};if(Di(e))return null;{const i=Si(e),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(oo(e),t);return null!=o?{path:Go(new Ar(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Di(e))return this;{const t=Si(e),i=this.children.get(t);return null!==i?i.subtree(oo(e)):new po(null)}}set(e,t){if(Di(e))return new po(t,this.children);{const i=Si(e),o=(this.children.get(i)||new po(null)).set(oo(e),t),u=this.children.insert(i,o);return new po(this.value,u)}}remove(e){if(Di(e))return this.children.isEmpty()?new po(null):new po(null,this.children);{const t=Si(e),i=this.children.get(t);if(i){const r=i.remove(oo(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new po(null):new po(this.value,o)}return this}}get(e){if(Di(e))return this.value;{const t=Si(e),i=this.children.get(t);return i?i.get(oo(e)):null}}setTree(e,t){if(Di(e))return t;{const i=Si(e),o=(this.children.get(i)||new po(null)).setTree(oo(e),t);let u;return u=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new po(this.value,u)}}fold(e){return this.fold_(lr(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Go(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,lr(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(Di(e))return null;{const o=Si(e),u=this.children.get(o);return u?u.findOnPath_(oo(e),Go(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,lr(),t)}foreachOnPath_(e,t,i){if(Di(e))return this;{this.value&&i(t,this.value);const r=Si(e),o=this.children.get(r);return o?o.foreachOnPath_(oo(e),Go(t,r),i):new po(null)}}foreach(e){this.foreach_(lr(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Go(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Vh{constructor(e){this.writeTree_=e}static empty(){return new Vh(new po(null))}}function iT(n,e,t){if(Di(e))return new Vh(new po(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let o=i.value;const u=Fl(r,e);return o=o.updateChild(u,t),new Vh(n.writeTree_.set(r,o))}{const r=new po(t),o=n.writeTree_.setTree(e,r);return new Vh(o)}}}function NL(n,e,t){let i=n;return Ya(t,(r,o)=>{i=iT(i,Go(e,r),o)}),i}function HH(n,e){if(Di(e))return Vh.empty();{const t=n.writeTree_.setTree(e,new po(null));return new Vh(t)}}function FL(n,e){return null!=Dy(n,e)}function Dy(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Fl(t.path,e)):null}function $H(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(fo,(i,r)=>{e.push(new Fi(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new Fi(i,r.value))}),e}function Xg(n,e){if(Di(e))return n;{const t=Dy(n,e);return new Vh(null!=t?new po(t):n.writeTree_.subtree(e))}}function LL(n){return n.writeTree_.isEmpty()}function _w(n,e){return qH(lr(),n.writeTree_,e)}function qH(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{".priority"===r?((0,ie.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):t=qH(Go(n,r),o,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Go(n,".priority"),i)),t}}function sk(n,e){return YH(e,n)}function Wte(n,e){if(n.snap)return Wd(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Wd(Go(n.path,t),e))return!0;return!1}function Kte(n){return n.visible}function GH(n,e,t){let i=Vh.empty();for(let r=0;r<n.length;++r){const o=n[r];if(e(o)){const u=o.path;let m;if(o.snap)Wd(t,u)?(m=Fl(t,u),i=iT(i,m,o.snap)):Wd(u,t)&&(m=Fl(u,t),i=iT(i,lr(),o.snap.getChild(m)));else{if(!o.children)throw(0,ie.g5)("WriteRecord should have .snap or .children");if(Wd(t,u))m=Fl(t,u),i=NL(i,m,o.children);else if(Wd(u,t))if(m=Fl(u,t),Di(m))i=NL(i,lr(),o.children);else{const v=(0,ie.DV)(o.children,Si(m));if(v){const x=v.getChild(oo(m));i=iT(i,lr(),x)}}}}}return i}function WH(n,e,t,i,r){if(i||r){const o=Xg(n.visibleWrites,e);return!r&&LL(o)?t:r||null!=t||FL(o,lr())?_w(GH(n.allWrites,function(x){return(x.visible||r)&&(!i||!~i.indexOf(x.writeId))&&(Wd(x.path,e)||Wd(e,x.path))},e),t||hi.EMPTY_NODE):null}{const o=Dy(n.visibleWrites,e);if(null!=o)return o;{const u=Xg(n.visibleWrites,e);return LL(u)?t:null!=t||FL(u,lr())?_w(u,t||hi.EMPTY_NODE):null}}}function ak(n,e,t,i){return WH(n.writeTree,n.treePath,e,t,i)}function UL(n,e){return function Yte(n,e,t){let i=hi.EMPTY_NODE;const r=Dy(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(fo,(o,u)=>{i=i.updateImmediateChild(o,u)}),i;if(t){const o=Xg(n.visibleWrites,e);return t.forEachChild(fo,(u,m)=>{const v=_w(Xg(o,new Ar(u)),m);i=i.updateImmediateChild(u,v)}),$H(o).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}return $H(Xg(n.visibleWrites,e)).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}(n.writeTree,n.treePath,e)}function ZH(n,e,t,i){return function Qte(n,e,t,i,r){(0,ie.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Go(e,t);if(FL(n.visibleWrites,o))return null;{const u=Xg(n.visibleWrites,o);return LL(u)?r.getChild(t):_w(u,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function ck(n,e){return function Jte(n,e){return Dy(n.visibleWrites,e)}(n.writeTree,Go(n.treePath,e))}function VL(n,e,t){return function Xte(n,e,t,i){const r=Go(e,t),o=Dy(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(t)?_w(Xg(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function KH(n,e){return YH(Go(n.treePath,e),n.writeTree)}function YH(n,e){return{treePath:n,writeTree:e}}class ine{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,ie.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,ie.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(i,XI(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(i,QI(i,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(i,pw(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw(0,ie.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,XI(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const QH=new class rne{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class BL{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Qg(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return VL(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Sy(this.viewCache_),o=function nne(n,e,t,i,r,o){return function ene(n,e,t,i,r,o,u){let m;const v=Xg(n.visibleWrites,e),x=Dy(v,lr());if(null!=x)m=x;else{if(null==t)return[];m=_w(v,t)}if(m=m.withIndex(u),m.isEmpty()||m.isLeafNode())return[];{const A=[],L=u.getCompare(),q=o?m.getReverseIteratorFrom(i,u):m.getIteratorFrom(i,u);let ne=q.getNext();for(;ne&&A.length<r;)0!==L(ne,i)&&A.push(ne),ne=q.getNext();return A}}(n.writeTree,n.treePath,e,t,i,r,o)}(this.writes_,r,t,1,i,e);return 0===o.length?null:o[0]}}function XH(n,e,t,i,r,o){const u=e.eventCache;if(null!=ck(i,t))return e;{let m,v;if(Di(t))if((0,ie.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const x=Sy(e),L=UL(i,x instanceof hi?x:hi.EMPTY_NODE);m=n.filter.updateFullNode(e.eventCache.getNode(),L,o)}else{const x=ak(i,Sy(e));m=n.filter.updateFullNode(e.eventCache.getNode(),x,o)}else{const x=Si(t);if(".priority"===x){(0,ie.hu)(1===Yg(t),"Can't have a priority with additional path components");const A=u.getNode();v=e.serverCache.getNode();const L=ZH(i,t,A,v);m=null!=L?n.filter.updatePriority(A,L):u.getNode()}else{const A=oo(t);let L;if(u.isCompleteForChild(x)){v=e.serverCache.getNode();const q=ZH(i,t,u.getNode(),v);L=null!=q?u.getNode().getImmediateChild(x).updateChild(A,q):u.getNode().getImmediateChild(x)}else L=VL(i,x,e.serverCache);m=null!=L?n.filter.updateChild(u.getNode(),x,L,A,r,o):u.getNode()}}return nT(e,m,u.isFullyInitialized()||Di(t),n.filter.filtersNodes())}}function lk(n,e,t,i,r,o,u,m){const v=e.serverCache;let x;const A=u?n.filter:n.filter.getIndexedFilter();if(Di(t))x=A.updateFullNode(v.getNode(),i,null);else if(A.filtersNodes()&&!v.isFiltered()){const ne=v.getNode().updateChild(t,i);x=A.updateFullNode(v.getNode(),ne,null)}else{const ne=Si(t);if(!v.isCompleteForPath(t)&&Yg(t)>1)return e;const ae=oo(t),We=v.getNode().getImmediateChild(ne).updateChild(ae,i);x=".priority"===ne?A.updatePriority(v.getNode(),We):A.updateChild(v.getNode(),ne,We,ae,QH,null)}const L=zH(e,x,v.isFullyInitialized()||Di(t),A.filtersNodes());return XH(n,L,t,r,new BL(r,L,o),m)}function jL(n,e,t,i,r,o,u){const m=e.eventCache;let v,x;const A=new BL(r,e,o);if(Di(t))x=n.filter.updateFullNode(e.eventCache.getNode(),i,u),v=nT(e,x,!0,n.filter.filtersNodes());else{const L=Si(t);if(".priority"===L)x=n.filter.updatePriority(e.eventCache.getNode(),i),v=nT(e,x,m.isFullyInitialized(),m.isFiltered());else{const q=oo(t),ne=m.getNode().getImmediateChild(L);let ae;if(Di(q))ae=i;else{const ye=A.getCompleteChild(L);ae=null!=ye?".priority"===vL(q)&&ye.getChild(DH(q)).isEmpty()?ye:ye.updateChild(q,i):hi.EMPTY_NODE}v=ne.equals(ae)?e:nT(e,n.filter.updateChild(m.getNode(),L,ae,q,A,u),m.isFullyInitialized(),n.filter.filtersNodes())}}return v}function JH(n,e){return n.eventCache.isCompleteForChild(e)}function e6(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function zL(n,e,t,i,r,o,u,m){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let x,v=e;x=Di(t)?i:new po(null).setTree(t,i);const A=e.serverCache.getNode();return x.children.inorderTraversal((L,q)=>{if(A.hasChild(L)){const ae=e6(0,e.serverCache.getNode().getImmediateChild(L),q);v=lk(n,v,new Ar(L),ae,r,o,u,m)}}),x.children.inorderTraversal((L,q)=>{const ne=!e.serverCache.isCompleteForChild(L)&&null===q.value;if(!A.hasChild(L)&&!ne){const ye=e6(0,e.serverCache.getNode().getImmediateChild(L),q);v=lk(n,v,new Ar(L),ye,r,o,u,m)}}),v}class fne{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new TL(i.getIndex()),o=function Ste(n){return n.loadsAllData()?new TL(n.getIndex()):n.hasLimit()?new Tte(n):new JI(n)}(i);this.processor_=function one(n){return{filter:n}}(o);const u=t.serverCache,m=t.eventCache,v=r.updateFullNode(hi.EMPTY_NODE,u.getNode(),null),x=o.updateFullNode(hi.EMPTY_NODE,m.getNode(),null),A=new Qg(v,u.isFullyInitialized(),r.filtersNodes()),L=new Qg(x,m.isFullyInitialized(),o.filtersNodes());this.viewCache_=rk(L,A),this.eventGenerator_=new Ute(this.query_)}get query(){return this.query_}}function gne(n,e){const t=Sy(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Di(e)&&!t.getImmediateChild(Si(e)).isEmpty())?t.getChild(e):null}function t6(n){return 0===n.eventRegistrations_.length}function n6(n,e,t){const i=[];if(t){(0,ie.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const u=o.createCancelEvent(t,r);u&&i.push(u)})}if(e){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const u=n.eventRegistrations_[o];if(u.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(u)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function i6(n,e,t,i){e.type===Zf.MERGE&&null!==e.source.queryId&&((0,ie.hu)(Sy(n.viewCache_),"We should always have a full cache before handling merges"),(0,ie.hu)(ok(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function ane(n,e,t,i,r){const o=new ine;let u,m;if(t.type===Zf.OVERWRITE){const x=t;x.source.fromUser?u=jL(n,e,x.path,x.snap,i,r,o):((0,ie.hu)(x.source.fromServer,"Unknown source."),m=x.source.tagged||e.serverCache.isFiltered()&&!Di(x.path),u=lk(n,e,x.path,x.snap,i,r,m,o))}else if(t.type===Zf.MERGE){const x=t;x.source.fromUser?u=function lne(n,e,t,i,r,o,u){let m=e;return i.foreach((v,x)=>{const A=Go(t,v);JH(e,Si(A))&&(m=jL(n,m,A,x,r,o,u))}),i.foreach((v,x)=>{const A=Go(t,v);JH(e,Si(A))||(m=jL(n,m,A,x,r,o,u))}),m}(n,e,x.path,x.children,i,r,o):((0,ie.hu)(x.source.fromServer,"Unknown source."),m=x.source.tagged||e.serverCache.isFiltered(),u=zL(n,e,x.path,x.children,i,r,m,o))}else if(t.type===Zf.ACK_USER_WRITE){const x=t;u=x.revert?function hne(n,e,t,i,r,o){let u;if(null!=ck(i,t))return e;{const m=new BL(i,e,r),v=e.eventCache.getNode();let x;if(Di(t)||".priority"===Si(t)){let A;if(e.serverCache.isFullyInitialized())A=ak(i,Sy(e));else{const L=e.serverCache.getNode();(0,ie.hu)(L instanceof hi,"serverChildren would be complete if leaf node"),A=UL(i,L)}x=n.filter.updateFullNode(v,A,o)}else{const A=Si(t);let L=VL(i,A,e.serverCache);null==L&&e.serverCache.isCompleteForChild(A)&&(L=v.getImmediateChild(A)),x=null!=L?n.filter.updateChild(v,A,L,oo(t),m,o):e.eventCache.getNode().hasChild(A)?n.filter.updateChild(v,A,hi.EMPTY_NODE,oo(t),m,o):v,x.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=ak(i,Sy(e)),u.isLeafNode()&&(x=n.filter.updateFullNode(x,u,o)))}return u=e.serverCache.isFullyInitialized()||null!=ck(i,lr()),nT(e,x,u,n.filter.filtersNodes())}}(n,e,x.path,i,r,o):function une(n,e,t,i,r,o,u){if(null!=ck(r,t))return e;const m=e.serverCache.isFiltered(),v=e.serverCache;if(null!=i.value){if(Di(t)&&v.isFullyInitialized()||v.isCompleteForPath(t))return lk(n,e,t,v.getNode().getChild(t),r,o,m,u);if(Di(t)){let x=new po(null);return v.getNode().forEachChild(Wf,(A,L)=>{x=x.set(new Ar(A),L)}),zL(n,e,t,x,r,o,m,u)}return e}{let x=new po(null);return i.foreach((A,L)=>{const q=Go(t,A);v.isCompleteForPath(q)&&(x=x.set(A,v.getNode().getChild(q)))}),zL(n,e,t,x,r,o,m,u)}}(n,e,x.path,x.affectedTree,i,r,o)}else{if(t.type!==Zf.LISTEN_COMPLETE)throw(0,ie.g5)("Unknown operation type: "+t.type);u=function dne(n,e,t,i,r){const o=e.serverCache;return XH(n,zH(e,o.getNode(),o.isFullyInitialized()||Di(t),o.isFiltered()),t,i,QH,r)}(n,e,t.path,i,o)}const v=o.getChanges();return function cne(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=ok(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(UH(ok(e)))}}(e,u,v),{viewCache:u,changes:v}}(n.processor_,r,e,t,i);return function sne(n,e){(0,ie.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,ie.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,ie.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,r6(n,o.changes,o.viewCache.eventCache.getNode(),null)}function r6(n,e,t,i){return function Vte(n,e,t,i){const r=[],o=[];return e.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&o.push(function Ite(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(u.childName,u.snapshotNode))}),tT(n,r,"child_removed",e,i,t),tT(n,r,"child_added",e,i,t),tT(n,r,"child_moved",o,i,t),tT(n,r,"child_changed",e,i,t),tT(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let uk,hk;class o6{constructor(){this.views=new Map}}function HL(n,e,t,i){const r=e.source.queryId;if(null!==r){const o=n.views.get(r);return(0,ie.hu)(null!=o,"SyncTree gave us an op for an invalid query."),i6(o,e,t,i)}{let o=[];for(const u of n.views.values())o=o.concat(i6(u,e,t,i));return o}}function s6(n,e,t,i,r){const u=n.views.get(e._queryIdentifier);if(!u){let m=ak(t,r?i:null),v=!1;m?v=!0:i instanceof hi?(m=UL(t,i),v=!1):(m=hi.EMPTY_NODE,v=!1);const x=rk(new Qg(m,v,!1),new Qg(i,r,!1));return new fne(e,x)}return u}function a6(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Jg(n,e){let t=null;for(const i of n.views.values())t=t||gne(i,e);return t}function c6(n,e){return e._queryParams.loadsAllData()?dk(n):n.views.get(e._queryIdentifier)}function l6(n,e){return null!=c6(n,e)}function e_(n){return null!=dk(n)}function dk(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Tne=1;class u6{constructor(e){this.listenProvider_=e,this.syncPointTree_=new po(null),this.pendingWriteTree_=function tne(){return{visibleWrites:Vh.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function $L(n,e,t,i,r){return function Hte(n,e,t,i,r){(0,ie.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=iT(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?vw(n,new Ty({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function t_(n,e,t=!1){const i=function qte(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function Gte(n,e){const t=n.allWrites.findIndex(m=>m.writeId===e);(0,ie.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,u=n.allWrites.length-1;for(;r&&u>=0;){const m=n.allWrites[u];m.visible&&(u>=t&&Wte(m,i.path)?r=!1:Wd(i.path,m.path)&&(o=!0)),u--}return!!r&&(o?(function Zte(n){n.visibleWrites=GH(n.allWrites,Kte,lr()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=HH(n.visibleWrites,i.path):Ya(i.children,v=>{n.visibleWrites=HH(n.visibleWrites,Go(i.path,v))}),!0))}(n.pendingWriteTree_,e)){let o=new po(null);return null!=i.snap?o=o.set(lr(),!0):Ya(i.children,u=>{o=o.set(new Ar(u),!0)}),vw(n,new ik(i.path,o,t))}return[]}function rT(n,e,t){return vw(n,new Ty({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function fk(n,e,t,i,r=!1){const o=e._path,u=n.syncPointTree_.get(o);let m=[];if(u&&("default"===e._queryIdentifier||l6(u,e))){const v=function xne(n,e,t,i){const r=e._queryIdentifier,o=[];let u=[];const m=e_(n);if("default"===r)for(const[v,x]of n.views.entries())u=u.concat(n6(x,t,i)),t6(x)&&(n.views.delete(v),x.query._queryParams.loadsAllData()||o.push(x.query));else{const v=n.views.get(r);v&&(u=u.concat(n6(v,t,i)),t6(v)&&(n.views.delete(r),v.query._queryParams.loadsAllData()||o.push(v.query)))}return m&&!e_(n)&&o.push(new(function bne(){return(0,ie.hu)(uk,"Reference.ts has not been loaded"),uk}())(e._repo,e._path)),{removed:o,events:u}}(u,e,t,i);(function wne(n){return 0===n.views.size})(u)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const x=v.removed;if(m=v.events,!r){const A=-1!==x.findIndex(q=>q._queryParams.loadsAllData()),L=n.syncPointTree_.findOnPath(o,(q,ne)=>e_(ne));if(A&&!L){const q=n.syncPointTree_.subtree(o);if(!q.isEmpty()){const ne=function Pne(n){return n.fold((e,t,i)=>{if(t&&e_(t))return[dk(t)];{let r=[];return t&&(r=a6(t)),Ya(i,(o,u)=>{r=r.concat(u)}),r}})}(q);for(let ae=0;ae<ne.length;++ae){const ye=ne[ae],We=ye.query,wt=p6(n,ye);n.listenProvider_.startListening(sT(We),oT(n,We),wt.hashFn,wt.onComplete)}}}!L&&x.length>0&&!i&&(A?n.listenProvider_.stopListening(sT(e),null):x.forEach(q=>{const ne=n.queryToTagMap.get(mk(q));n.listenProvider_.stopListening(sT(q),ne)}))}!function Rne(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=mk(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,x)}return m}function d6(n,e,t,i){const r=GL(n,i);if(null!=r){const o=WL(r),u=o.path,m=o.queryId,v=Fl(u,e);return ZL(n,u,new Ty(PL(m),v,t))}return[]}function qL(n,e,t,i=!1){const r=e._path;let o=null,u=!1;n.syncPointTree_.foreachOnPath(r,(q,ne)=>{const ae=Fl(q,r);o=o||Jg(ne,ae),u=u||e_(ne)});let v,m=n.syncPointTree_.get(r);m?(u=u||e_(m),o=o||Jg(m,lr())):(m=new o6,n.syncPointTree_=n.syncPointTree_.set(r,m)),null!=o?v=!0:(v=!1,o=hi.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((ne,ae)=>{const ye=Jg(ae,lr());ye&&(o=o.updateImmediateChild(ne,ye))}));const x=l6(m,e);if(!x&&!e._queryParams.loadsAllData()){const q=mk(e);(0,ie.hu)(!n.queryToTagMap.has(q),"View does not exist, but we have a tag");const ne=function Nne(){return Tne++}();n.queryToTagMap.set(q,ne),n.tagToQueryMap.set(ne,q)}let L=function Cne(n,e,t,i,r,o){const u=s6(n,e,i,r,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,u),function _ne(n,e){n.eventRegistrations_.push(e)}(u,t),function vne(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(fo,(o,u)=>{i.push(pw(o,u))}),t.isFullyInitialized()&&i.push(UH(t.getNode())),r6(n,i,t.getNode(),e)}(u,t)}(m,e,t,sk(n.pendingWriteTree_,r),o,v);if(!x&&!u&&!i){const q=c6(m,e);L=L.concat(function Fne(n,e,t){const i=e._path,r=oT(n,e),o=p6(n,t),u=n.listenProvider_.startListening(sT(e),r,o.hashFn,o.onComplete),m=n.syncPointTree_.subtree(i);if(r)(0,ie.hu)(!e_(m.value),"If we're adding a query, it shouldn't be shadowed");else{const v=m.fold((x,A,L)=>{if(!Di(x)&&A&&e_(A))return[dk(A).query];{let q=[];return A&&(q=q.concat(a6(A).map(ne=>ne.query))),Ya(L,(ne,ae)=>{q=q.concat(ae)}),q}});for(let x=0;x<v.length;++x){const A=v[x];n.listenProvider_.stopListening(sT(A),oT(n,A))}}return u}(n,e,q))}return L}function pk(n,e,t){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(u,m)=>{const x=Jg(m,Fl(u,e));if(x)return x});return WH(r,e,o,t,!0)}function vw(n,e){return h6(e,n.syncPointTree_,null,sk(n.pendingWriteTree_,lr()))}function h6(n,e,t,i){if(Di(n.path))return f6(n,e,t,i);{const r=e.get(lr());null==t&&null!=r&&(t=Jg(r,lr()));let o=[];const u=Si(n.path),m=n.operationForChild(u),v=e.children.get(u);if(v&&m){const x=t?t.getImmediateChild(u):null,A=KH(i,u);o=o.concat(h6(m,v,x,A))}return r&&(o=o.concat(HL(r,n,i,t))),o}}function f6(n,e,t,i){const r=e.get(lr());null==t&&null!=r&&(t=Jg(r,lr()));let o=[];return e.children.inorderTraversal((u,m)=>{const v=t?t.getImmediateChild(u):null,x=KH(i,u),A=n.operationForChild(u);A&&(o=o.concat(f6(A,m,v,x)))}),r&&(o=o.concat(HL(r,n,i,t))),o}function p6(n,e){const t=e.query,i=oT(n,t);return{hashFn:()=>(function pne(n){return n.viewCache_.serverCache.getNode()}(e)||hi.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Ane(n,e,t){const i=GL(n,t);if(i){const r=WL(i),o=r.path,u=r.queryId,m=Fl(o,e);return ZL(n,o,new eT(PL(u),m))}return[]}(n,t._path,i):function Mne(n,e){return vw(n,new eT({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const o=function Dee(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return fk(n,t,null,o)}}}}function oT(n,e){const t=mk(e);return n.queryToTagMap.get(t)}function mk(n){return n._path.toString()+"$"+n._queryIdentifier}function GL(n,e){return n.tagToQueryMap.get(e)}function WL(n){const e=n.indexOf("$");return(0,ie.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ar(n.substr(0,e))}}function ZL(n,e,t){const i=n.syncPointTree_.get(e);return(0,ie.hu)(i,"Missing sync point for query tag that we're tracking"),HL(i,t,sk(n.pendingWriteTree_,e),null)}function sT(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Ine(){return(0,ie.hu)(hk,"Reference.ts has not been loaded"),hk}())(n._repo,n._path):n}class KL{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new KL(t)}node(){return this.node_}}class YL{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Go(this.path_,e);return new YL(this.syncTree_,t)}node(){return pk(this.syncTree_,this.path_)}}const Lne=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},m6=function(n,e,t){return n&&"object"==typeof n?((0,ie.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Une(n[".sv"],e,t):"object"==typeof n[".sv"]?Vne(n[".sv"],e):void(0,ie.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Une=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,ie.hu)(!1,"Unexpected server value: "+n)},Vne=function(n,e,t){n.hasOwnProperty("increment")||(0,ie.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,ie.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,ie.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const u=r.getValue();return"number"!=typeof u?i:u+i},g6=function(n,e,t,i){return XL(e,new YL(t,n),i)},QL=function(n,e,t){return XL(n,new KL(e),t)};function XL(n,e,t){const i=n.getPriority().val(),r=m6(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const u=n,m=m6(u.getValue(),e,t);return m!==u.getValue()||r!==u.getPriority().val()?new hw(m,ss(r)):n}{const u=n;return o=u,r!==u.getPriority().val()&&(o=o.updatePriority(new hw(r))),u.forEachChild(fo,(m,v)=>{const x=XL(v,e.getImmediateChild(m),t);x!==v&&(o=o.updateImmediateChild(m,x))}),o}}class JL{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function gk(n,e){let t=e instanceof Ar?e:new Ar(e),i=n,r=Si(t);for(;null!==r;){const o=(0,ie.DV)(i.node.children,r)||{children:{},childCount:0};i=new JL(r,i,o),t=oo(t),r=Si(t)}return i}function My(n){return n.node.value}function e2(n,e){n.node.value=e,t2(n)}function _6(n){return n.node.childCount>0}function _k(n,e){Ya(n.node.children,(t,i)=>{e(new JL(t,n,i))})}function v6(n,e,t,i){t&&!i&&e(n),_k(n,r=>{v6(r,e,!0,i)}),t&&i&&e(n)}function aT(n){return new Ar(null===n.parent?n.name:aT(n.parent)+"/"+n.name)}function t2(n){null!==n.parent&&function zne(n,e,t){const i=function Bne(n){return void 0===My(n)&&!_6(n)}(t),r=(0,ie.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,t2(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,t2(n))}(n.parent,n.name,n)}const Hne=/[\[\].#$\/\u0000-\u001F\u007F]/,$ne=/[\[\].#$\u0000-\u001F\u007F]/,n2=10485760,vk=function(n){return"string"==typeof n&&0!==n.length&&!Hne.test(n)},y6=function(n){return"string"==typeof n&&0!==n.length&&!$ne.test(n)},cT=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!q1(n)||n&&"object"==typeof n&&(0,ie.r3)(n,".sv")},Kf=function(n,e,t,i){i&&void 0===e||lT((0,ie.gK)(n,"value"),e,t)},lT=function(n,e,t){const i=t instanceof Ar?new ate(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Ey(i));if("function"==typeof e)throw new Error(n+"contains a function "+Ey(i)+" with contents = "+e.toString());if(q1(e))throw new Error(n+"contains "+e.toString()+" "+Ey(i));if("string"==typeof e&&e.length>n2/3&&(0,ie.ug)(e)>n2)throw new Error(n+"contains a string greater than "+n2+" utf8 bytes "+Ey(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,o=!1;if(Ya(e,(u,m)=>{if(".value"===u)r=!0;else if(".priority"!==u&&".sv"!==u&&(o=!0,!vk(u)))throw new Error(n+" contains an invalid key ("+u+") "+Ey(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function cte(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,ie.ug)(e),MH(n)})(i,u),lT(n,m,i),function lte(n){const e=n.parts_.pop();n.byteLength_-=(0,ie.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Ey(i)+" in addition to actual children.")}},b6=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,ie.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const o=[];Ya(e,(u,m)=>{const v=new Ar(u);if(lT(r,m,Go(t,v)),".priority"===vL(v)&&!cT(m))throw new Error(r+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(v)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const o=WI(i);for(let u=0;u<o.length;u++)if((".priority"!==o[u]||u!==o.length-1)&&!vk(o[u]))throw new Error(n+"contains an invalid key ("+o[u]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(ste);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&Wd(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},r2=function(n,e,t){if(!t||void 0!==e){if(q1(e))throw new Error((0,ie.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!cT(e))throw new Error((0,ie.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},uT=function(n,e,t,i){if(!(i&&void 0===t||vk(t)))throw new Error((0,ie.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},dT=function(n,e,t,i){if(!(i&&void 0===t||y6(t)))throw new Error((0,ie.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Wne=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),dT(n,e,t,i)},Zd=function(n,e){if(".info"===Si(e))throw new Error(n+" failed = Can't modify data under /.info/")},w6=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!vk(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),y6(n)}(t))throw new Error((0,ie.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Zne{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function yk(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();null!==t&&!yL(o,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)}function C6(n,e,t){yk(n,t),x6(n,i=>yL(i,e))}function Yu(n,e,t){yk(n,t),x6(n,i=>Wd(i,e)||Wd(e,i))}function x6(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(Kne(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function Kne(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Cy&&Ka("event: "+t.toString()),uw(i)}}}const E6="repo_interrupt",Yne=25;class Qne{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Zne,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nk(),this.transactionQueueTree_=new JL,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function I6(n){const t=n.infoData_.getNode(new Ar(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function hT(n){return Lne({timestamp:I6(n)})}function T6(n,e,t,i,r){n.dataUpdateCount++;const o=new Ar(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let u=[];if(r)if(i){const v=(0,ie.UI)(t,x=>ss(x));u=function kne(n,e,t,i){const r=GL(n,i);if(r){const o=WL(r),u=o.path,m=o.queryId,v=Fl(u,e),x=po.fromObject(t);return ZL(n,u,new gw(PL(m),v,x))}return[]}(n.serverSyncTree_,o,v,r)}else{const v=ss(t);u=d6(n.serverSyncTree_,o,v,r)}else if(i){const v=(0,ie.UI)(t,x=>ss(x));u=function Dne(n,e,t){const i=po.fromObject(t);return vw(n,new gw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,o,v)}else{const v=ss(t);u=rT(n.serverSyncTree_,o,v)}let m=o;u.length>0&&(m=bw(n,o)),Yu(n.eventQueue_,m,u)}function S6(n,e){o2(n,"connected",e),!1===e&&function nie(n){yw(n,"onDisconnectEvents");const e=hT(n),t=nk();AL(n.onDisconnect_,lr(),(r,o)=>{const u=g6(r,o,n.serverSyncTree_,e);mw(t,r,u)});let i=[];AL(t,lr(),(r,o)=>{i=i.concat(rT(n.serverSyncTree_,r,o));const u=l2(n,r);bw(n,u)}),n.onDisconnect_=nk(),Yu(n.eventQueue_,lr(),i)}(n)}function o2(n,e,t){const i=new Ar("/.info/"+e),r=ss(t);n.infoData_.updateSnapshot(i,r);const o=rT(n.infoSyncTree_,i,r);Yu(n.eventQueue_,i,o)}function bk(n){return n.nextWriteId_++}function s2(n,e,t,i,r){yw(n,"set",{path:e.toString(),value:t,priority:i});const o=hT(n),u=ss(t,i),m=pk(n.serverSyncTree_,e),v=QL(u,m,o),x=bk(n),A=$L(n.serverSyncTree_,e,v,x,!0);yk(n.eventQueue_,A),n.server_.put(e.toString(),u.val(!0),(q,ne)=>{const ae="ok"===q;ae||nl("set at "+e+" failed: "+q);const ye=t_(n.serverSyncTree_,x,!ae);Yu(n.eventQueue_,e,ye),n_(0,r,q,ne)});const L=l2(n,e);bw(n,L),Yu(n.eventQueue_,L,[])}function iie(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&ML(n.onDisconnect_,e),n_(0,t,i,r)})}function D6(n,e,t,i){const r=ss(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(o,u)=>{"ok"===o&&mw(n.onDisconnect_,e,r),n_(0,i,o,u)})}function a2(n,e,t){let i;i=".info"===Si(e._path)?fk(n.infoSyncTree_,e,t):fk(n.serverSyncTree_,e,t),C6(n.eventQueue_,e._path,i)}function M6(n){n.persistentConnection_&&n.persistentConnection_.interrupt(E6)}function yw(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Ka(t,...e)}function n_(n,e,t,i){e&&uw(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let o=r;i&&(o+=": "+i);const u=new Error(o);u.code=r,e(u)}})}function c2(n,e,t){return pk(n.serverSyncTree_,e,t)||hi.EMPTY_NODE}function wk(n,e=n.transactionQueueTree_){if(e||Ck(n,e),My(e)){const t=k6(n,e);(0,ie.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function lie(n,e,t){const i=t.map(x=>x.currentWriteId),r=c2(n,e,i);let o=r;const u=r.hash();for(let x=0;x<t.length;x++){const A=t[x];(0,ie.hu)(0===A.status,"tryToSendTransactionQueue_: items in queue should all be run."),A.status=1,A.retryCount++;const L=Fl(e,A.path);o=o.updateChild(L,A.currentOutputSnapshotRaw)}const m=o.val(!0),v=e;n.server_.put(v.toString(),m,x=>{yw(n,"transaction put response",{path:v.toString(),status:x});let A=[];if("ok"===x){const L=[];for(let q=0;q<t.length;q++)t[q].status=2,A=A.concat(t_(n.serverSyncTree_,t[q].currentWriteId)),t[q].onComplete&&L.push(()=>t[q].onComplete(null,!0,t[q].currentOutputSnapshotResolved)),t[q].unwatcher();Ck(n,gk(n.transactionQueueTree_,e)),wk(n,n.transactionQueueTree_),Yu(n.eventQueue_,e,A);for(let q=0;q<L.length;q++)uw(L[q])}else{if("datastale"===x)for(let L=0;L<t.length;L++)t[L].status=3===t[L].status?4:0;else{nl("transaction at "+v.toString()+" failed: "+x);for(let L=0;L<t.length;L++)t[L].status=4,t[L].abortReason=x}bw(n,e)}},u)}(n,aT(e),t)}else _6(e)&&_k(e,t=>{wk(n,t)})}function bw(n,e){const t=A6(n,e),i=aT(t);return function uie(n,e,t){if(0===e.length)return;const i=[];let r=[];const u=e.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<e.length;m++){const v=e[m],x=Fl(t,v.path);let L,A=!1;if((0,ie.hu)(null!==x,"rerunTransactionsUnderNode_: relativePath should not be null."),4===v.status)A=!0,L=v.abortReason,r=r.concat(t_(n.serverSyncTree_,v.currentWriteId,!0));else if(0===v.status)if(v.retryCount>=Yne)A=!0,L="maxretry",r=r.concat(t_(n.serverSyncTree_,v.currentWriteId,!0));else{const q=c2(n,v.path,u);v.currentInputSnapshot=q;const ne=e[m].update(q.val());if(void 0!==ne){lT("transaction failed: Data returned ",ne,v.path);let ae=ss(ne);"object"==typeof ne&&null!=ne&&(0,ie.r3)(ne,".priority")||(ae=ae.updatePriority(q.getPriority()));const We=v.currentWriteId,wt=hT(n),kt=QL(ae,q,wt);v.currentOutputSnapshotRaw=ae,v.currentOutputSnapshotResolved=kt,v.currentWriteId=bk(n),u.splice(u.indexOf(We),1),r=r.concat($L(n.serverSyncTree_,v.path,kt,v.currentWriteId,v.applyLocally)),r=r.concat(t_(n.serverSyncTree_,We,!0))}else A=!0,L="nodata",r=r.concat(t_(n.serverSyncTree_,v.currentWriteId,!0))}Yu(n.eventQueue_,t,r),r=[],A&&(e[m].status=2,setTimeout(e[m].unwatcher,Math.floor(0)),e[m].onComplete&&i.push("nodata"===L?()=>e[m].onComplete(null,!1,e[m].currentInputSnapshot):()=>e[m].onComplete(new Error(L),!1,null)))}Ck(n,n.transactionQueueTree_);for(let m=0;m<i.length;m++)uw(i[m]);wk(n,n.transactionQueueTree_)}(n,k6(n,t),i),i}function A6(n,e){let t,i=n.transactionQueueTree_;for(t=Si(e);null!==t&&void 0===My(i);)i=gk(i,t),t=Si(e=oo(e));return i}function k6(n,e){const t=[];return O6(n,e,t),t.sort((i,r)=>i.order-r.order),t}function O6(n,e,t){const i=My(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);_k(e,r=>{O6(n,r,t)})}function Ck(n,e){const t=My(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,e2(e,t.length>0?t:void 0)}_k(e,i=>{Ck(n,i)})}function l2(n,e){const t=aT(A6(n,e)),i=gk(n.transactionQueueTree_,e);return function jne(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{u2(n,r)}),u2(n,i),v6(i,r=>{u2(n,r)}),t}function u2(n,e){const t=My(e);if(t){const i=[];let r=[],o=-1;for(let u=0;u<t.length;u++)3===t[u].status||(1===t[u].status?((0,ie.hu)(o===u-1,"All SENT items should be at beginning of queue."),o=u,t[u].status=3,t[u].abortReason="set"):((0,ie.hu)(0===t[u].status,"Unexpected transaction status in abort"),t[u].unwatcher(),r=r.concat(t_(n.serverSyncTree_,t[u].currentWriteId,!0)),t[u].onComplete&&i.push(t[u].onComplete.bind(null,new Error("set"),!1,null))));-1===o?e2(e,void 0):t.length=o+1,Yu(n.eventQueue_,aT(e),r);for(let u=0;u<i.length;u++)uw(i[u])}}const d2=function(n,e){const t=fie(n),i=t.namespace;return"firebase.com"===t.domain&&Gf(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Gf("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&nl("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new hL(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Ar(t.pathString)}},fie=function(n){let e="",t="",i="",r="",o="",u=!0,m="https",v=443;if("string"==typeof n){let x=n.indexOf("//");x>=0&&(m=n.substring(0,x-1),n=n.substring(x+2));let A=n.indexOf("/");-1===A&&(A=n.length);let L=n.indexOf("?");-1===L&&(L=n.length),e=n.substring(0,Math.min(A,L)),A<L&&(r=function die(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(A,L)));const q=function hie(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):nl(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,L)));x=e.indexOf(":"),x>=0?(u="https"===m||"wss"===m,v=parseInt(e.substring(x+1),10)):x=e.length;const ne=e.slice(0,x);if("localhost"===ne.toLowerCase())t="localhost";else if(ne.split(".").length<=2)t=ne;else{const ae=e.indexOf(".");i=e.substring(0,ae).toLowerCase(),t=e.substring(ae+1),o=i}"ns"in q&&(o=q.ns)}return{host:e,port:v,domain:t,subdomain:i,secure:u,scheme:m,pathString:r,namespace:o}},P6="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",pie=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const o=new Array(8);for(r=7;r>=0;r--)o[r]=P6.charAt(t%64),t=Math.floor(t/64);(0,ie.hu)(0===t,"Cannot push at time == 0");let u=o.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)u+=P6.charAt(e[r]);return(0,ie.hu)(20===u.length,"nextPushId: Length should be 20."),u}}();class R6{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ie.Wl)(this.snapshot.exportVal())}}class N6{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class h2{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,ie.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class F6{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new ie.BH;return iie(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Zd("OnDisconnect.remove",this._path);const e=new ie.BH;return D6(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Zd("OnDisconnect.set",this._path),Kf("OnDisconnect.set",e,this._path,!1);const t=new ie.BH;return D6(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Zd("OnDisconnect.setWithPriority",this._path),Kf("OnDisconnect.setWithPriority",e,this._path,!1),r2("OnDisconnect.setWithPriority",t,!1);const i=new ie.BH;return function rie(n,e,t,i,r){const o=ss(t,i);n.server_.onDisconnectPut(e.toString(),o.val(!0),(u,m)=>{"ok"===u&&mw(n.onDisconnect_,e,o),n_(0,r,u,m)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){Zd("OnDisconnect.update",this._path),b6("OnDisconnect.update",e,this._path,!1);const t=new ie.BH;return function oie(n,e,t,i){if((0,ie.xb)(t))return Ka("onDisconnect().update() called with empty data.  Don't do anything."),void n_(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,o)=>{"ok"===r&&Ya(t,(u,m)=>{const v=ss(m);mw(n.onDisconnect_,Go(e,u),v)}),n_(0,i,r,o)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class mu{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Di(this._path)?null:vL(this._path)}get ref(){return new Kd(this._repo,this._path)}get _queryIdentifier(){const e=BH(this._queryParams),t=uL(e);return"{}"===t?"default":t}get _queryObject(){return BH(this._queryParams)}isEqual(e){if(!((e=(0,ie.m9)(e))instanceof mu))return!1;const t=this._repo===e._repo,i=yL(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function ote(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function xk(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function i_(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Wf){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Zg)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==pm)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===fo){if(null!=e&&!cT(e)||null!=t&&!cT(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ie.hu)(n.getIndex()instanceof EL||n.getIndex()===IL,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ek(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Kd extends mu{constructor(e,t){super(e,t,new J1,!1)}get parent(){const e=DH(this._path);return null===e?null:new Kd(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Ay{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ar(e),i=ky(this.ref,e);return new Ay(this._node.getChild(t),i,fo)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new Ay(r,ky(this.ref,i),fo)))}hasChild(e){const t=new Ar(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function L6(n,e){return(n=(0,ie.m9)(n))._checkNotDeleted("ref"),void 0!==e?ky(n._root,e):n._root}function U6(n,e){(n=(0,ie.m9)(n))._checkNotDeleted("refFromURL");const t=d2(e,n._repo.repoInfo_.nodeAdmin);w6("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Gf("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),L6(n,t.path.toString())}function ky(n,e){return null===Si((n=(0,ie.m9)(n))._path)?Wne("child","path",e,!1):dT("child","path",e,!1),new Kd(n._repo,Go(n._path,e))}function f2(n,e){n=(0,ie.m9)(n),Zd("set",n._path),Kf("set",e,n._path,!1);const t=new ie.BH;return s2(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function yie(n,e){b6("update",e,n._path,!1);const t=new ie.BH;return function tie(n,e,t,i){yw(n,"update",{path:e.toString(),value:t});let r=!0;const o=hT(n),u={};if(Ya(t,(m,v)=>{r=!1,u[m]=g6(Go(e,m),ss(v),n.serverSyncTree_,o)}),r)Ka("update() called with empty data.  Don't do anything."),n_(0,i,"ok",void 0);else{const m=bk(n),v=function Sne(n,e,t,i){!function $te(n,e,t,i){(0,ie.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=NL(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=po.fromObject(t);return vw(n,new gw({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,u,m);yk(n.eventQueue_,v),n.server_.merge(e.toString(),t,(x,A)=>{const L="ok"===x;L||nl("update at "+e+" failed: "+x);const q=t_(n.serverSyncTree_,m,!L),ne=q.length>0?bw(n,e):e;Yu(n.eventQueue_,ne,q),n_(0,i,x,A)}),Ya(t,x=>{const A=l2(n,Go(e,x));bw(n,A)}),Yu(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function bie(n){n=(0,ie.m9)(n);const e=new h2(()=>{}),t=new fT(e);return function eie(n,e,t){const i=function One(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(x,A)=>{const L=Fl(x,t);i=i||Jg(A,L)});let r=n.syncPointTree_.get(t);r?i=i||Jg(r,lr()):(r=new o6,n.syncPointTree_=n.syncPointTree_.set(t,r));const o=null!=i,u=o?new Qg(i,!0,!1):null;return function mne(n){return ok(n.viewCache_)}(s6(r,e,sk(n.pendingWriteTree_,e._path),o?u.getNode():hi.EMPTY_NODE,o))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const o=ss(r).withIndex(e._queryParams.getIndex());let u;if(qL(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())u=rT(n.serverSyncTree_,e._path,o);else{const m=oT(n.serverSyncTree_,e);u=d6(n.serverSyncTree_,e._path,o,m)}return Yu(n.eventQueue_,e._path,u),fk(n.serverSyncTree_,e,t,null,!0),o},r=>(yw(n,"get for query "+(0,ie.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new Ay(i,new Kd(n._repo,n._path),n._queryParams.getIndex()))}class fT{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new R6("value",this,new Ay(e.snapshotNode,new Kd(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new N6(this,e,t):null}matches(e){return e instanceof fT&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Ik{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new N6(this,e,t):null}createEvent(e,t){(0,ie.hu)(null!=e.childName,"Child events should have a childName.");const i=ky(new Kd(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new R6(e.type,this,new Ay(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Ik&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function pT(n,e,t,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const v=t,x=(A,L)=>{a2(n._repo,n,m),v(A,L)};x.userCallback=t.userCallback,x.context=t.context,t=x}const u=new h2(t,o||void 0),m="value"===e?new fT(u):new Ik(e,u);return function sie(n,e,t){let i;i=".info"===Si(e._path)?qL(n.infoSyncTree_,e,t):qL(n.serverSyncTree_,e,t),C6(n.eventQueue_,e._path,i)}(n._repo,n,m),()=>a2(n._repo,n,m)}function p2(n,e,t,i){return pT(n,"value",e,t,i)}function V6(n,e,t,i){return pT(n,"child_added",e,t,i)}function B6(n,e,t,i){return pT(n,"child_changed",e,t,i)}function j6(n,e,t,i){return pT(n,"child_moved",e,t,i)}function z6(n,e,t,i){return pT(n,"child_removed",e,t,i)}function H6(n,e,t){let i=null;const r=t?new h2(t):null;"value"===e?i=new fT(r):e&&(i=new Ik(e,r)),a2(n._repo,n,i)}class Bh{}class $6 extends Bh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Kf("endAt",this._value,e._path,!0);const t=DL(e._queryParams,this._value,this._key);if(Ek(t),i_(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mu(e._repo,e._path,t,e._orderByCalled)}}class Cie extends Bh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Kf("endBefore",this._value,e._path,!1);const t=function kte(n,e,t){let i;return i=DL(n,e,n.index_===Wf||t?t:Zg),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(Ek(t),i_(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mu(e._repo,e._path,t,e._orderByCalled)}}class q6 extends Bh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Kf("startAt",this._value,e._path,!0);const t=SL(e._queryParams,this._value,this._key);if(Ek(t),i_(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new mu(e._repo,e._path,t,e._orderByCalled)}}class Iie extends Bh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Kf("startAfter",this._value,e._path,!1);const t=function Ate(n,e,t){let i;return i=SL(n,e,n.index_===Wf||t?t:pm),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(Ek(t),i_(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new mu(e._repo,e._path,t,e._orderByCalled)}}class Sie extends Bh{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new mu(e._repo,e._path,function Dte(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class Mie extends Bh{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new mu(e._repo,e._path,function Mte(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class kie extends Bh{constructor(e){super(),this._path=e}_apply(e){xk(e,"orderByChild");const t=new Ar(this._path);if(Di(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new EL(t),r=ek(e._queryParams,i);return i_(r),new mu(e._repo,e._path,r,!0)}}class Pie extends Bh{_apply(e){xk(e,"orderByKey");const t=ek(e._queryParams,Wf);return i_(t),new mu(e._repo,e._path,t,!0)}}class Nie extends Bh{_apply(e){xk(e,"orderByPriority");const t=ek(e._queryParams,fo);return i_(t),new mu(e._repo,e._path,t,!0)}}class Lie extends Bh{_apply(e){xk(e,"orderByValue");const t=ek(e._queryParams,IL);return i_(t),new mu(e._repo,e._path,t,!0)}}class Vie extends Bh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Kf("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new $6(this._value,this._key)._apply(new q6(this._value,this._key)._apply(e))}}function jh(n,...e){let t=(0,ie.m9)(n);for(const i of e)t=i._apply(t);return t}(function yne(n){(0,ie.hu)(!uk,"__referenceConstructor has already been defined"),uk=n})(Kd),function Ene(n){(0,ie.hu)(!hk,"__referenceConstructor has already been defined"),hk=n}(Kd);const m2={};function W6(n,e,t,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Gf("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ka("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let v,x,u=d2(o,r),m=u.repoInfo;typeof process<"u"&&process.env&&(x=process.env.FIREBASE_DATABASE_EMULATOR_HOST),x?(v=!0,o=`http://${x}?ns=${m.namespace}`,u=d2(o,r),m=u.repoInfo):v=!u.repoInfo.secure;const A=r&&v?new GI(GI.OWNER):new Ree(n.name,n.options,e);w6("Invalid Firebase Database URL",u),Di(u.path)||Gf("Database URL must point to the root of a Firebase Database (not including a child path).");const L=function $ie(n,e,t,i){let r=m2[e.name];r||(r={},m2[e.name]=r);let o=r[n.toURLString()];return o&&Gf("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Qne(n,false,t,i),r[n.toURLString()]=o,o}(m,n,A,new Pee(n.name,t));return new Gie(L,n)}class Gie{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Xne(n,e,t){if(n.stats_=mL(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new tk(n.repoInfo_,(i,r,o,u)=>{T6(n,i,r,o,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>S6(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ie.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Iy(n.repoInfo_,e,(i,r,o,u)=>{T6(n,i,r,o,u)},i=>{S6(n,i)},i=>{!function Jne(n,e){Ya(e,(t,i)=>{o2(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Lee(n,e){const t=n.toString();return pL[t]||(pL[t]=e()),pL[t]}(n.repoInfo_,()=>new Lte(n.stats_,n.server_)),n.infoData_=new Ote,n.infoSyncTree_=new u6({startListening:(i,r,o,u)=>{let m=[];const v=n.infoData_.getNode(i._path);return v.isEmpty()||(m=rT(n.infoSyncTree_,i._path,v),setTimeout(()=>{u("ok")},0)),m},stopListening:()=>{}}),o2(n,"connected",!1),n.serverSyncTree_=new u6({startListening:(i,r,o,u)=>(n.server_.listen(i,o,r,(m,v)=>{const x=u(m,v);Yu(n.eventQueue_,i._path,x)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Kd(this._repo,lr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Hie(n,e){const t=m2[e];(!t||t[n.key]!==n)&&Gf(`Database ${e}(${n.repoInfo_}) has already been deleted.`),M6(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Gf("Cannot call "+e+" on a deleted database.")}}function Z6(){gH.IS_TRANSPORT_INITIALIZED&&nl("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Wie(){Z6(),Kg.forceDisallow()}function Zie(){Z6(),dw.forceDisallow(),Kg.forceAllow()}function Qie(n,e){Y4(n,e)}const Jie={".sv":"timestamp"};class nre{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Iy.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Iy.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function Xie(n){q4(Ds.SDK_VERSION),(0,Ds._registerComponent)(new ou.wA("database",(e,{instanceIdentifier:t})=>W6(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Ds.registerVersion)(H4,"0.14.4",n),(0,Ds.registerVersion)(H4,"0.14.4","esm2017")}();const sre=new Ru.Yd("@firebase/database-compat"),Y6=function(n){sre.warn("FIREBASE WARNING: "+n)};class lre{constructor(e){this._delegate=e}cancel(e){(0,ie.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ie.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,ie.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ie.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,ie.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ie.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,ie.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ie.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),o=>i(o)),r}update(e,t){if((0,ie.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let o=0;o<e.length;++o)r[""+o]=e[o];e=r,Y6("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ie.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class ure{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,ie.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class r_{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,ie.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ie.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ie.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ie.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,ie.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),dT("DataSnapshot.child","path",e,!1),new r_(this._database,this._delegate.child(e))}hasChild(e){return(0,ie.Dv)("DataSnapshot.hasChild",1,1,arguments.length),dT("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,ie.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,ie.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ie.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new r_(this._database,t)))}hasChildren(){return(0,ie.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ie.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ie.Dv)("DataSnapshot.ref",0,0,arguments.length),new Qu(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class yc{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var o;(0,ie.Dv)("Query.on",2,4,arguments.length),(0,ie.Wj)("Query.on","callback",t,!1);const u=yc.getCancelAndContextArgs_("Query.on",i,r),m=(x,A)=>{t.call(u.context,new r_(this.database,x),A)};m.userCallback=t,m.context=u.context;const v=null===(o=u.cancel)||void 0===o?void 0:o.bind(u.context);switch(e){case"value":return p2(this._delegate,m,v),t;case"child_added":return V6(this._delegate,m,v),t;case"child_removed":return z6(this._delegate,m,v),t;case"child_changed":return B6(this._delegate,m,v),t;case"child_moved":return j6(this._delegate,m,v),t;default:throw new Error((0,ie.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,ie.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ie.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,ie.Wj)("Query.off","callback",t,!0),(0,ie.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,H6(this._delegate,e,r)}else H6(this._delegate,e)}get(){return bie(this._delegate).then(e=>new r_(this.database,e))}once(e,t,i,r){(0,ie.Dv)("Query.once",1,4,arguments.length),(0,ie.Wj)("Query.once","callback",t,!0);const o=yc.getCancelAndContextArgs_("Query.once",i,r),u=new ie.BH,m=(x,A)=>{const L=new r_(this.database,x);t&&t.call(o.context,L,A),u.resolve(L)};m.userCallback=t,m.context=o.context;const v=x=>{o.cancel&&o.cancel.call(o.context,x),u.reject(x)};switch(e){case"value":p2(this._delegate,m,v,{onlyOnce:!0});break;case"child_added":V6(this._delegate,m,v,{onlyOnce:!0});break;case"child_removed":z6(this._delegate,m,v,{onlyOnce:!0});break;case"child_changed":B6(this._delegate,m,v,{onlyOnce:!0});break;case"child_moved":j6(this._delegate,m,v,{onlyOnce:!0});break;default:throw new Error((0,ie.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}limitToFirst(e){return(0,ie.Dv)("Query.limitToFirst",1,1,arguments.length),new yc(this.database,jh(this._delegate,function Die(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Sie(n)}(e)))}limitToLast(e){return(0,ie.Dv)("Query.limitToLast",1,1,arguments.length),new yc(this.database,jh(this._delegate,function Aie(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Mie(n)}(e)))}orderByChild(e){return(0,ie.Dv)("Query.orderByChild",1,1,arguments.length),new yc(this.database,jh(this._delegate,function Oie(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return dT("orderByChild","path",n,!1),new kie(n)}(e)))}orderByKey(){return(0,ie.Dv)("Query.orderByKey",0,0,arguments.length),new yc(this.database,jh(this._delegate,function Rie(){return new Pie}()))}orderByPriority(){return(0,ie.Dv)("Query.orderByPriority",0,0,arguments.length),new yc(this.database,jh(this._delegate,function Fie(){return new Nie}()))}orderByValue(){return(0,ie.Dv)("Query.orderByValue",0,0,arguments.length),new yc(this.database,jh(this._delegate,function Uie(){return new Lie}()))}startAt(e=null,t){return(0,ie.Dv)("Query.startAt",0,2,arguments.length),new yc(this.database,jh(this._delegate,function Eie(n=null,e){return uT("startAt","key",e,!0),new q6(n,e)}(e,t)))}startAfter(e=null,t){return(0,ie.Dv)("Query.startAfter",0,2,arguments.length),new yc(this.database,jh(this._delegate,function Tie(n,e){return uT("startAfter","key",e,!0),new Iie(n,e)}(e,t)))}endAt(e=null,t){return(0,ie.Dv)("Query.endAt",0,2,arguments.length),new yc(this.database,jh(this._delegate,function wie(n,e){return uT("endAt","key",e,!0),new $6(n,e)}(e,t)))}endBefore(e=null,t){return(0,ie.Dv)("Query.endBefore",0,2,arguments.length),new yc(this.database,jh(this._delegate,function xie(n,e){return uT("endBefore","key",e,!0),new Cie(n,e)}(e,t)))}equalTo(e,t){return(0,ie.Dv)("Query.equalTo",1,2,arguments.length),new yc(this.database,jh(this._delegate,function Bie(n,e){return uT("equalTo","key",e,!0),new Vie(n,e)}(e,t)))}toString(){return(0,ie.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ie.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,ie.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof yc))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,ie.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,ie.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,ie.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Qu(this.database,new Kd(this._delegate._repo,this._delegate._path))}}class Qu extends yc{constructor(e,t){super(e,new mu(t._repo,t._path,new J1,!1)),this.database=e,this._delegate=t}getKey(){return(0,ie.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,ie.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Qu(this.database,ky(this._delegate,e))}getParent(){(0,ie.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Qu(this.database,e):null}getRoot(){return(0,ie.Dv)("Reference.root",0,0,arguments.length),new Qu(this.database,this._delegate.root)}set(e,t){(0,ie.Dv)("Reference.set",1,2,arguments.length),(0,ie.Wj)("Reference.set","onComplete",t,!0);const i=f2(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,ie.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let o=0;o<e.length;++o)r[""+o]=e[o];e=r,Y6("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Zd("Reference.update",this._delegate._path),(0,ie.Wj)("Reference.update","onComplete",t,!0);const i=yie(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,ie.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ie.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function vie(n,e,t){if(Zd("setWithPriority",n._path),Kf("setWithPriority",e,n._path,!1),r2("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new ie.BH;return s2(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),o=>i(o)),r}remove(e){(0,ie.Dv)("Reference.remove",0,1,arguments.length),(0,ie.Wj)("Reference.remove","onComplete",e,!0);const t=function gie(n){return Zd("remove",n._path),f2(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,ie.Dv)("Reference.transaction",1,3,arguments.length),(0,ie.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,ie.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,ie.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function ire(n,e,t){var i;if(n=(0,ie.m9)(n),Zd("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,o=new ie.BH,m=p2(n,()=>{});return function cie(n,e,t,i,r,o){yw(n,"transaction on "+e);const u={path:e,update:t,onComplete:i,status:null,order:W4(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=c2(n,e,void 0);u.currentInputSnapshot=m;const v=u.update(m.val());if(void 0===v)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{lT("transaction failed: Data returned ",v,u.path),u.status=0;const x=gk(n.transactionQueueTree_,e),A=My(x)||[];let L;A.push(u),e2(x,A),"object"==typeof v&&null!==v&&(0,ie.r3)(v,".priority")?(L=(0,ie.DV)(v,".priority"),(0,ie.hu)(cT(L),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):L=(pk(n.serverSyncTree_,e)||hi.EMPTY_NODE).getPriority().val();const q=hT(n),ne=ss(v,L),ae=QL(ne,m,q);u.currentOutputSnapshotRaw=ne,u.currentOutputSnapshotResolved=ae,u.currentWriteId=bk(n);const ye=$L(n.serverSyncTree_,e,ae,u.currentWriteId,u.applyLocally);Yu(n.eventQueue_,e,ye),wk(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(v,x,A)=>{let L=null;v?o.reject(v):(L=new Ay(A,new Kd(n._repo,n._path),fo),o.resolve(new nre(x,L)))},m,r),o.promise}(this._delegate,e,{applyLocally:i}).then(o=>new ure(o.committed,new r_(this.database,o.snapshot)));return t&&r.then(o=>t(null,o.committed,o.snapshot),o=>t(o,!1,null)),r}setPriority(e,t){(0,ie.Dv)("Reference.setPriority",1,2,arguments.length),(0,ie.Wj)("Reference.setPriority","onComplete",t,!0);const i=function _ie(n,e){n=(0,ie.m9)(n),Zd("setPriority",n._path),r2("setPriority",e,!1);const t=new ie.BH;return s2(n._repo,Go(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,ie.Dv)("Reference.push",0,2,arguments.length),(0,ie.Wj)("Reference.push","onComplete",t,!0);const i=function mie(n,e){n=(0,ie.m9)(n),Zd("push",n._path),Kf("push",e,n._path,!0);const t=I6(n._repo),i=pie(t),r=ky(n,i),o=ky(n,i);let u;return u=null!=e?f2(o,e).then(()=>o):Promise.resolve(o),r.then=u.then.bind(u),r.catch=u.then.bind(u,void 0),r}(this._delegate,e),r=i.then(u=>new Qu(this.database,u));t&&r.then(()=>t(null),u=>t(u));const o=new Qu(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Zd("Reference.onDisconnect",this._delegate._path),new lre(new F6(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class mT{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Wie,forceLongPolling:Zie}}useEmulator(e,t,i={}){!function K6(n,e,t,i={}){(n=(0,ie.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Gf("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Gf('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new GI(GI.OWNER);else if(i.mockUserToken){const u="string"==typeof i.mockUserToken?i.mockUserToken:(0,ie.Sg)(i.mockUserToken,n.app.options.projectId);o=new GI(u)}!function zie(n,e,t,i){n.repoInfo_=new hL(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,o)}(this._delegate,e,t,i)}ref(e){if((0,ie.Dv)("database.ref",0,1,arguments.length),e instanceof Qu){const t=U6(this._delegate,e.toString());return new Qu(this,t)}{const t=L6(this._delegate,e);return new Qu(this,t)}}refFromURL(e){(0,ie.Dv)("database.refFromURL",1,1,arguments.length);const i=U6(this._delegate,e);return new Qu(this,i)}goOffline(){return(0,ie.Dv)("database.goOffline",0,0,arguments.length),function Kie(n){(n=(0,ie.m9)(n))._checkNotDeleted("goOffline"),M6(n._repo)}(this._delegate)}goOnline(){return(0,ie.Dv)("database.goOnline",0,0,arguments.length),function Yie(n){(n=(0,ie.m9)(n))._checkNotDeleted("goOnline"),function aie(n){n.persistentConnection_&&n.persistentConnection_.resume(E6)}(n._repo)}(this._delegate)}}mT.ServerValue={TIMESTAMP:function ere(){return Jie}(),increment:n=>function tre(n){return{".sv":{increment:n}}}(n)};var hre=Object.freeze({__proto__:null,initStandalone:function dre({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){q4(t);const u=new ou.zt("auth-internal",new ou.H0("database-standalone"));return u.setComponent(new ou.wA("auth-internal",()=>i,"PRIVATE")),{instance:new mT(W6(n,u,void 0,e,o),n),namespace:r}}});const fre=mT.ServerValue;function Q6(n){return null==n}function X6(n){return"function"==typeof n.set}function J6(n,e){return X6(e)?e:n.ref(e)}function e5(n,e){if(function mre(n){return"string"==typeof n}(n))return e.stringCase();if(X6(n))return e.firebaseCase();if(function gre(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function gT(n,e,t="on",i=ow.z){return new ar.y(r=>{let o=null;return o=n[t](e,(u,m)=>{i.schedule(()=>{r.next({snapshot:u,prevKey:m})}),"once"===t&&i.schedule(()=>r.complete())},u=>{i.schedule(()=>r.error(u))}),"on"===t?{unsubscribe(){null!=o&&n.off(e,o)}}:{unsubscribe(){}}}).pipe((0,gn.U)(r=>{const{snapshot:o,prevKey:u}=r;let m=null;return o.exists()&&(m=o.key),{type:e,payload:o,prevKey:u,key:m}}),(0,TF.B)())}function t5(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function yre(n,e){const{payload:t,prevKey:i,key:r}=e,o=t5(n,r),u=function vre(n,e){if(Q6(e))return 0;{const t=t5(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let m=null;e.payload.forEach(v=>{const x={payload:v,type:"value",prevKey:m,key:v.key};return m=v.key,n=[...n,x],!1})}return n;case"child_added":if(o>-1){const m=n[o-1];(m&&m.key||null)!==i&&(n=n.filter(v=>v.payload.key!==t.key)).splice(u,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(u,0,e)}return n;case"child_removed":return n.filter(m=>m.payload.key!==t.key);case"child_changed":return n.map(m=>m.payload.key===r?e:m);case"child_moved":if(o>-1){const m=n.splice(o,1)[0];return(n=n.slice()).splice(u,0,m),n}return n;default:return n}}function n5(n){return(Q6(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function r5(n,e,t){return function _re(n,e,t){return gT(n,"value","once",t).pipe((0,qo.w)(i=>{const r=[(0,_n.of)(i)];return e.forEach(o=>r.push(gT(n,o,"on",t))),(0,Wg.T)(...r).pipe(q0(yre,[]))}),(0,_F.x)())}(n,e=n5(e),t)}function o5(n,e,t){const i=(e=n5(e)).map(r=>gT(n,r,"on",t));return(0,Wg.T)(...i)}function s5(n,e){return function(i,r){return e5(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function xre(n){return function(t){return t?e5(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function a5(n,e){return function(){return gT(n,"value","on",e)}}!function pre(n){n.INTERNAL.registerComponent(new ou.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new mT(r,i)},"PUBLIC").setServiceProps({Reference:Qu,Query:yc,Database:mT,DataSnapshot:r_,enableLogging:Qie,INTERNAL:hre,ServerValue:fre}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(E4.Z);const Tre=new a.OlP("angularfire2.realtimeDatabaseURL"),Sre=new a.OlP("angularfire2.database.use-emulator");let Dre=(()=>{class n{constructor(t,i,r,o,u,m,v,x,A,L,q,ne,ae,ye,We){this.schedulers=m;const wt=v,kt=(0,Pl.on)(t,u,i);x&&iL(kt,u,A,q,ne,ae,L,ye),this.database=(0,Pl.cc)(`${kt.name}.database.${r}`,"AngularFireDatabase",kt.name,()=>{const At=u.runOutsideAngular(()=>kt.database(r||void 0));return wt&&At.useEmulator(...wt),At},[wt])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>J6(this.database,t));let o=r;return i&&(o=i(r)),function Ere(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:s5(i,"update"),set:s5(i,"set"),push:r=>i.push(r),remove:xre(i),snapshotChanges:r=>r5(n,r,t).pipe(bn.iC),stateChanges:r=>o5(n,r,t).pipe(bn.iC),auditTrail:r=>function bre(n,e,t){return function Cre(n,e,t){return function wre(n,e){return gT(n,"value","on",e).pipe((0,gn.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function yee(...n){const e=(0,H0.jO)(n);return(0,Nr.e)((t,i)=>{const r=n.length,o=new Array(r);let u=n.map(()=>!1),m=!1;for(let v=0;v<r;v++)(0,Do.Xf)(n[v]).subscribe((0,ci.x)(i,x=>{o[v]=x,!m&&!u[v]&&(u[v]=!0,(m=u.every(QE.y))&&(u=null))},DN.Z));t.subscribe((0,ci.x)(i,v=>{if(m){const x=[v,...o];i.next(e?e(...x):x)}}))})}(e),(0,gn.U)(([r,o])=>{const u=r.lastKeyToLoad,m=o.map(v=>v.key);return{actions:o,lastKeyToLoad:u,loadedKeys:m}}),function bee(n){return(0,Nr.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,ci.x)(t,o=>(i||(i=!n(o,r++)))&&t.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,gn.U)(r=>r.actions))}(n,o5(n,e).pipe(q0((r,o)=>[...r,o],[])),t)}(n,r,t).pipe(bn.iC),valueChanges:(r,o)=>r5(n,r,t).pipe((0,gn.U)(m=>m.map(v=>o&&o.idField?Object.assign(Object.assign({},v.payload.val()),{[o.idField]:v.key}):v.payload.val())),bn.iC)}}(o,this)}object(t){return function Ire(n,e){return{query:n,snapshotChanges:()=>a5(n,e.schedulers.outsideAngular)().pipe(bn.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>a5(n,e.schedulers.outsideAngular)().pipe(bn.iC,(0,gn.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>J6(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Pl.Dh),a.LFG(Pl.xv,8),a.LFG(Tre,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(bn.HU),a.LFG(Sre,8),a.LFG(rL,8),a.LFG(QF,8),a.LFG(XF,8),a.LFG(JF,8),a.LFG(eL,8),a.LFG(tL,8),a.LFG(nL,8),a.LFG(yp,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),c5=(()=>{class n{constructor(){P4.Z.registerVersion("angularfire",bn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Dre]}),n})();const l5={apiKey:"AIzaSyBUhtsLE6mKhnLFA4hrTdgtPRvT9DFPews",authDomain:"pelda-4422f.firebaseapp.com",projectId:"pelda-4422f",storageBucket:"pelda-4422f.appspot.com",messagingSenderId:"999999888137",appId:"1:999999888137:web:c55fe757b0ce70c8fcd1d8",useEmulator:!0,experimentalForceLongPolling:!0};let Mre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n,bootstrap:[XJ]});static#n=this.\u0275inj=a.cJS({providers:[kl,z4],imports:[Kk(()=>HT(l5)),cq(()=>dq()),WG(()=>KG()),uh.forRoot(),Vc,wh,NJ,JJ,V9,UI,dV,Pi,vee,c5,_ee,Pl.hO.initializeApp(l5),c5,pO(()=>vO())]})}return n})();Br().bootstrapModule(Mre).catch(n=>console.error(n))},3219:(en,Me,Q)=>{Object.defineProperty(Me,"__esModule",{value:!0});var ce,xe,a=Q(8005),U=Q(3661),K=Q(6553),pe=Q(8836),Pe=((ce={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ce["bad-app-name"]="Illegal App name: '{$appName}",ce["duplicate-app"]="Firebase App named '{$appName}' already exists",ce["app-deleted"]="Firebase App named '{$appName}' already deleted",ce["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ce["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ce),ke=new U.ErrorFactory("app","Firebase",Pe),ut="@firebase/app",nt="[DEFAULT]",$e=((xe={})[ut]="fire-core",xe["@firebase/analytics"]="fire-analytics",xe["@firebase/auth"]="fire-auth",xe["@firebase/database"]="fire-rtdb",xe["@firebase/functions"]="fire-fn",xe["@firebase/installations"]="fire-iid",xe["@firebase/messaging"]="fire-fcm",xe["@firebase/performance"]="fire-perf",xe["@firebase/remote-config"]="fire-rc",xe["@firebase/storage"]="fire-gcs",xe["@firebase/firestore"]="fire-fst",xe["fire-js"]="fire-js",xe["firebase-wrapper"]="fire-js-all",xe),it=new pe.Logger("@firebase/app"),he=function(){function Se(Ce,He,je){var ct,gt,Mt=this;this.firebase_=je,this.isDeleted_=!1,this.name_=He.name,this.automaticDataCollectionEnabled_=He.automaticDataCollectionEnabled||!1,this.options_=U.deepCopy(Ce),this.container=new K.ComponentContainer(He.name),this._addComponent(new K.Component("app",function(){return Mt},"PUBLIC"));try{for(var bt=a.__values(this.firebase_.INTERNAL.components.values()),Sn=bt.next();!Sn.done;Sn=bt.next())this._addComponent(Sn.value)}catch(Nn){ct={error:Nn}}finally{try{Sn&&!Sn.done&&(gt=bt.return)&&gt.call(bt)}finally{if(ct)throw ct.error}}}return Object.defineProperty(Se.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Ce){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Ce},enumerable:!1,configurable:!0}),Object.defineProperty(Se.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Se.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Se.prototype.delete=function(){var Ce=this;return new Promise(function(He){Ce.checkDestroyed_(),He()}).then(function(){return Ce.firebase_.INTERNAL.removeApp(Ce.name_),Promise.all(Ce.container.getProviders().map(function(He){return He.delete()}))}).then(function(){Ce.isDeleted_=!0})},Se.prototype._getService=function(Ce,He){return void 0===He&&(He=nt),this.checkDestroyed_(),this.container.getProvider(Ce).getImmediate({identifier:He})},Se.prototype._removeServiceInstance=function(Ce,He){void 0===He&&(He=nt),this.container.getProvider(Ce).clearInstance(He)},Se.prototype._addComponent=function(Ce){try{this.container.addComponent(Ce)}catch(He){it.debug("Component "+Ce.name+" failed to register with FirebaseApp "+this.name,He)}},Se.prototype._addOrOverwriteComponent=function(Ce){this.container.addOrOverwriteComponent(Ce)},Se.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ke.create("app-deleted",{appName:this.name_})},Se}();he.prototype.name&&he.prototype.options||he.prototype.delete||console.log("dc");var Ct=function Le(){var Se=function Ge(Se){var Ce={},He=new Map,je={__esModule:!0,initializeApp:function Mt(tn,Dn){void 0===Dn&&(Dn={}),("object"!=typeof Dn||null===Dn)&&(Dn={name:Dn});var cn=Dn;void 0===cn.name&&(cn.name=nt);var Fn=cn.name;if("string"!=typeof Fn||!Fn)throw ke.create("bad-app-name",{appName:String(Fn)});if(U.contains(Ce,Fn))throw ke.create("duplicate-app",{appName:Fn});var Un=new Se(tn,cn,je);return Ce[Fn]=Un,Un},app:gt,registerVersion:function dn(tn,Dn,Ut){var cn,Fn=null!==(cn=$e[tn])&&void 0!==cn?cn:tn;Ut&&(Fn+="-"+Ut);var Un=Fn.match(/\s|\//),wi=Dn.match(/\s|\//);if(Un||wi){var Mi=['Unable to register library "'+Fn+'" with version "'+Dn+'":'];return Un&&Mi.push('library name "'+Fn+'" contains illegal characters (whitespace or "/")'),Un&&wi&&Mi.push("and"),wi&&Mi.push('version name "'+Dn+'" contains illegal characters (whitespace or "/")'),void it.warn(Mi.join(" "))}Sn(new K.Component(Fn+"-version",function(){return{library:Fn,version:Dn}},"VERSION"))},setLogLevel:pe.setLogLevel,onLog:function Nn(tn,Dn){if(null!==tn&&"function"!=typeof tn)throw ke.create("invalid-log-argument",{appName:name});pe.setUserLogHandler(tn,Dn)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:Sn,removeApp:function ct(tn){delete Ce[tn]},components:He,useAsService:function fn(tn,Dn){return"serverAuth"===Dn?null:Dn}}};function gt(tn){if(!U.contains(Ce,tn=tn||nt))throw ke.create("no-app",{appName:tn});return Ce[tn]}function Sn(tn){var Dn,Ut,cn=tn.name;if(He.has(cn))return it.debug("There were multiple attempts to register component "+cn+"."),"PUBLIC"===tn.type?je[cn]:null;if(He.set(cn,tn),"PUBLIC"===tn.type){var Fn=function(ni){if(void 0===ni&&(ni=gt()),"function"!=typeof ni[cn])throw ke.create("invalid-app-argument",{appName:cn});return ni[cn]()};void 0!==tn.serviceProps&&U.deepExtend(Fn,tn.serviceProps),je[cn]=Fn,Se.prototype[cn]=function(){for(var ni=[],zi=0;zi<arguments.length;zi++)ni[zi]=arguments[zi];return this._getService.bind(this,cn).apply(this,tn.multipleInstances?ni:[])}}try{for(var Un=a.__values(Object.keys(Ce)),wi=Un.next();!wi.done;wi=Un.next())Ce[wi.value]._addComponent(tn)}catch(ni){Dn={error:ni}}finally{try{wi&&!wi.done&&(Ut=Un.return)&&Ut.call(Un)}finally{if(Dn)throw Dn.error}}return"PUBLIC"===tn.type?je[cn]:null}return je.default=je,Object.defineProperty(je,"apps",{get:function bt(){return Object.keys(Ce).map(function(tn){return Ce[tn]})}}),gt.App=Se,je}(he);return Se.INTERNAL=a.__assign(a.__assign({},Se.INTERNAL),{createFirebaseNamespace:Le,extendNamespace:function Ce(He){U.deepExtend(Se,He)},createSubscribe:U.createSubscribe,ErrorFactory:U.ErrorFactory,deepExtend:U.deepExtend}),Se}(),ot=function(){function Se(Ce){this.container=Ce}return Se.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(He){if(function Kt(Se){var Ce=Se.getComponent();return"VERSION"===Ce?.type}(He)){var je=He.getImmediate();return je.library+"/"+je.version}return null}).filter(function(He){return He}).join(" ")},Se}();if(U.isBrowser()&&void 0!==self.firebase){it.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var un=self.firebase.SDK_VERSION;un&&un.indexOf("LITE")>=0&&it.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var rn=Ct.initializeApp;Ct.initializeApp=function(){for(var Se=[],Ce=0;Ce<arguments.length;Ce++)Se[Ce]=arguments[Ce];return U.isNode()&&it.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),rn.apply(void 0,Se)};var fi=Ct;(function nn(Se,Ce){Se.INTERNAL.registerComponent(new K.Component("platform-logger",function(He){return new ot(He)},"PRIVATE")),Se.registerVersion(ut,"0.6.11",Ce),Se.registerVersion("fire-js","")})(fi),Me.default=fi,Me.firebase=fi},6553:(en,Me,Q)=>{Object.defineProperty(Me,"__esModule",{value:!0});var a=Q(8005),U=Q(3661),K=function(){function Ve(z,G,de){this.name=z,this.instanceFactory=G,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return Ve.prototype.setInstantiationMode=function(z){return this.instantiationMode=z,this},Ve.prototype.setMultipleInstances=function(z){return this.multipleInstances=z,this},Ve.prototype.setServiceProps=function(z){return this.serviceProps=z,this},Ve}(),pe="[DEFAULT]",ce=function(){function Ve(z,G){this.name=z,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return Ve.prototype.get=function(z){void 0===z&&(z=pe);var G=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(G)){var de=new U.Deferred;this.instancesDeferred.set(G,de);try{var Ne=this.getOrInitializeService(G);Ne&&de.resolve(Ne)}catch{}}return this.instancesDeferred.get(G).promise},Ve.prototype.getImmediate=function(z){var G=a.__assign({identifier:pe,optional:!1},z),Ne=G.optional,me=this.normalizeInstanceIdentifier(G.identifier);try{var lt=this.getOrInitializeService(me);if(!lt){if(Ne)return null;throw Error("Service "+this.name+" is not available")}return lt}catch(st){if(Ne)return null;throw st}},Ve.prototype.getComponent=function(){return this.component},Ve.prototype.setComponent=function(z){var G,de;if(z.name!==this.name)throw Error("Mismatching Component "+z.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=z,function ke(Ve){return"EAGER"===Ve.instantiationMode}(z))try{this.getOrInitializeService(pe)}catch{}try{for(var Ne=a.__values(this.instancesDeferred.entries()),me=Ne.next();!me.done;me=Ne.next()){var lt=a.__read(me.value,2),mt=lt[1],Re=this.normalizeInstanceIdentifier(lt[0]);try{var at=this.getOrInitializeService(Re);mt.resolve(at)}catch{}}}catch(Ze){G={error:Ze}}finally{try{me&&!me.done&&(de=Ne.return)&&de.call(Ne)}finally{if(G)throw G.error}}},Ve.prototype.clearInstance=function(z){void 0===z&&(z=pe),this.instancesDeferred.delete(z),this.instances.delete(z)},Ve.prototype.delete=function(){return a.__awaiter(this,void 0,void 0,function(){var z;return a.__generator(this,function(G){switch(G.label){case 0:return z=Array.from(this.instances.values()),[4,Promise.all(a.__spread(z.filter(function(de){return"INTERNAL"in de}).map(function(de){return de.INTERNAL.delete()}),z.filter(function(de){return"_delete"in de}).map(function(de){return de._delete()})))];case 1:return G.sent(),[2]}})})},Ve.prototype.isComponentSet=function(){return null!=this.component},Ve.prototype.getOrInitializeService=function(z){var G=this.instances.get(z);return!G&&this.component&&(G=this.component.instanceFactory(this.container,function Pe(Ve){return Ve===pe?void 0:Ve}(z)),this.instances.set(z,G)),G||null},Ve.prototype.normalizeInstanceIdentifier=function(z){return this.component?this.component.multipleInstances?z:pe:z},Ve}(),ut=function(){function Ve(z){this.name=z,this.providers=new Map}return Ve.prototype.addComponent=function(z){var G=this.getProvider(z.name);if(G.isComponentSet())throw new Error("Component "+z.name+" has already been registered with "+this.name);G.setComponent(z)},Ve.prototype.addOrOverwriteComponent=function(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)},Ve.prototype.getProvider=function(z){if(this.providers.has(z))return this.providers.get(z);var G=new ce(z,this);return this.providers.set(z,G),G},Ve.prototype.getProviders=function(){return Array.from(this.providers.values())},Ve}();Me.Component=K,Me.ComponentContainer=ut,Me.Provider=ce},4467:(en,Me,Q)=>{var U=Q(8005),K=Q(3219),pe=Q(8836),ce=Q(3661),Pe=Q(8602),ke=Q(6553),Ve=function ut(f){return f&&"object"==typeof f&&"default"in f?f:{default:f}}(K),z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=function(f){function l(h,g){var y=this;return(y=f.call(this,g)||this).code=h,y.message=g,y.name="FirebaseError",y.toString=function(){return y.name+": [code="+y.code+"]: "+y.message},y}return U.__extends(l,f),l}(Error),de=new pe.Logger("@firebase/firestore");function Ne(){return de.logLevel}function me(f){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];if(de.logLevel<=pe.LogLevel.DEBUG){var g=l.map(mt);de.debug.apply(de,U.__spreadArrays(["Firestore (7.24.0): "+f],g))}}function lt(f){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];if(de.logLevel<=pe.LogLevel.ERROR){var g=l.map(mt);de.error.apply(de,U.__spreadArrays(["Firestore (7.24.0): "+f],g))}}function st(f){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];if(de.logLevel<=pe.LogLevel.WARN){var g=l.map(mt);de.warn.apply(de,U.__spreadArrays(["Firestore (7.24.0): "+f],g))}}function mt(f){if("string"==typeof f)return f;try{return JSON.stringify(f)}catch{return f}}function Re(f){void 0===f&&(f="Unexpected state");var l="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+f;throw lt(l),new Error(l)}function at(f,l){f||Re()}function Ze(f,l){return f}function xe(f){var l=0;for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&l++;return l}function nt(f,l){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&l(h,f[h])}function $e(f){for(var l in f)if(Object.prototype.hasOwnProperty.call(f,l))return!1;return!0}var it=function(){function f(l,h,g){void 0===h?h=0:h>l.length&&Re(),void 0===g?g=l.length-h:g>l.length-h&&Re(),this.segments=l,this.offset=h,this.t=g}return Object.defineProperty(f.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){return 0===f.i(this,l)},f.prototype.child=function(l){var h=this.segments.slice(this.offset,this.limit());return l instanceof f?l.forEach(function(g){h.push(g)}):h.push(l),this.o(h)},f.prototype.limit=function(){return this.offset+this.length},f.prototype.u=function(l){return this.o(this.segments,this.offset+(l=void 0===l?1:l),this.length-l)},f.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},f.prototype.l=function(){return this.segments[this.offset]},f.prototype._=function(){return this.get(this.length-1)},f.prototype.get=function(l){return this.segments[this.offset+l]},f.prototype.m=function(){return 0===this.length},f.prototype.T=function(l){if(l.length<this.length)return!1;for(var h=0;h<this.length;h++)if(this.get(h)!==l.get(h))return!1;return!0},f.prototype.I=function(l){if(this.length+1!==l.length)return!1;for(var h=0;h<this.length;h++)if(this.get(h)!==l.get(h))return!1;return!0},f.prototype.forEach=function(l){for(var h=this.offset,g=this.limit();h<g;h++)l(this.segments[h])},f.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},f.i=function(l,h){for(var g=Math.min(l.length,h.length),y=0;y<g;y++){var E=l.get(y),S=h.get(y);if(E<S)return-1;if(E>S)return 1}return l.length<h.length?-1:l.length>h.length?1:0},f}(),he=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.o=function(h,g,y){return new l(h,g,y)},l.prototype.R=function(){return this.A().join("/")},l.prototype.toString=function(){return this.R()},l.g=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];for(var y=[],E=0,S=h;E<S.length;E++){var R=S[E];if(R.indexOf("//")>=0)throw new G(z.INVALID_ARGUMENT,"Invalid segment ("+R+"). Paths must not contain // in them.");y.push.apply(y,R.split("/").filter(function(V){return V.length>0}))}return new l(y)},l.P=function(){return new l([])},l}(it),ue=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ge=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.o=function(h,g,y){return new l(h,g,y)},l.V=function(h){return ue.test(h)},l.prototype.R=function(){return this.A().map(function(h){return h=h.replace("\\","\\\\").replace("`","\\`"),l.V(h)||(h="`"+h+"`"),h}).join(".")},l.prototype.toString=function(){return this.R()},l.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},l.v=function(){return new l(["__name__"])},l.S=function(h){for(var g=[],y="",E=0,S=function(){if(0===y.length)throw new G(z.INVALID_ARGUMENT,"Invalid field path ("+h+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");g.push(y),y=""},R=!1;E<h.length;){var V=h[E];if("\\"===V){if(E+1===h.length)throw new G(z.INVALID_ARGUMENT,"Path has trailing escape character: "+h);var Z=h[E+1];if("\\"!==Z&&"."!==Z&&"`"!==Z)throw new G(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+h);y+=Z,E+=2}else"`"===V?(R=!R,E++):"."!==V||R?(y+=V,E++):(S(),E++)}if(S(),R)throw new G(z.INVALID_ARGUMENT,"Unterminated ` in path: "+h);return new l(g)},l.P=function(){return new l([])},l}(it),Le=function(){function f(l){this.path=l}return f.D=function(l){return new f(he.g(l))},f.C=function(l){return new f(he.g(l).u(5))},f.prototype.N=function(l){return this.path.length>=2&&this.path.get(this.path.length-2)===l},f.prototype.isEqual=function(l){return null!==l&&0===he.i(this.path,l.path)},f.prototype.toString=function(){return this.path.toString()},f.i=function(l,h){return he.i(l.path,h.path)},f.F=function(l){return l.length%2==0},f.$=function(l){return new f(new he(l.slice()))},f}();function Ct(f,l){if(0!==l.length)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() does not support arguments, but was called with "+fn(l.length,"argument")+".")}function ot(f,l,h){if(l.length!==h)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires "+fn(h,"argument")+", but was called with "+fn(l.length,"argument")+".")}function Kt(f,l,h){if(l.length<h)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires at least "+fn(h,"argument")+", but was called with "+fn(l.length,"argument")+".")}function nn(f,l,h,g){if(l.length<h||l.length>g)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires between "+h+" and "+g+" arguments, but was called with "+fn(l.length,"argument")+".")}function un(f,l,h,g){je(f,l,Nn(h)+" argument",g)}function rn(f,l,h,g){void 0!==g&&un(f,l,h,g)}function fi(f,l,h,g){je(f,l,h+" option",g)}function Se(f,l,h,g){void 0!==g&&fi(f,l,h,g)}function Ce(f,l,h,g,y){void 0!==g&&function(E,S,R,V,Z){for(var re=[],ge=0,_e=Z;ge<_e.length;ge++){var Oe=_e[ge];if(Oe===V)return;re.push(gt(Oe))}var et=gt(V);throw new G(z.INVALID_ARGUMENT,"Invalid value "+et+" provided to function "+E+'() for option "'+R+'". Acceptable values: '+re.join(", "))}(f,0,h,g,y)}function He(f,l,h,g){if(!l.some(function(y){return y===g}))throw new G(z.INVALID_ARGUMENT,"Invalid value "+gt(g)+" provided to function "+f+"() for its "+Nn(h)+" argument. Acceptable values: "+l.join(", "));return g}function je(f,l,h,g){if(!("object"===l?ct(g):"non-empty string"===l?"string"==typeof g&&""!==g:typeof g===l)){var y=gt(g);throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires its "+h+" to be of type "+l+", but it was: "+y)}}function ct(f){return"object"==typeof f&&null!==f&&(Object.getPrototypeOf(f)===Object.prototype||null===Object.getPrototypeOf(f))}function gt(f){if(void 0===f)return"undefined";if(null===f)return"null";if("string"==typeof f)return f.length>20&&(f=f.substring(0,20)+"..."),JSON.stringify(f);if("number"==typeof f||"boolean"==typeof f)return""+f;if("object"==typeof f){if(f instanceof Array)return"an array";var l=function(h){if(h.constructor){var g=/function\s+([^\s(]+)\s*\(/.exec(h.constructor.toString());if(g&&g.length>1)return g[1]}return null}(f);return l?"a custom "+l+" object":"an object"}return"function"==typeof f?"a function":Re()}function Mt(f,l,h){if(void 0===h)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires a valid "+Nn(l)+" argument, but it was undefined.")}function bt(f,l,h){nt(l,function(g,y){if(h.indexOf(g)<0)throw new G(z.INVALID_ARGUMENT,"Unknown option '"+g+"' passed to function "+f+"(). Available options: "+h.join(", "))})}function Sn(f,l,h,g){var y=gt(g);return new G(z.INVALID_ARGUMENT,"Function "+f+"() requires its "+Nn(h)+" argument to be a "+l+", but it was: "+y)}function dn(f,l,h){if(h<=0)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires its "+Nn(l)+" argument to be a positive number, but it was: "+h+".")}function Nn(f){switch(f){case 1:return"first";case 2:return"second";case 3:return"third";default:return f+"th"}}function fn(f,l){return f+" "+l+(1===f?"":"s")}function tn(f){var l=typeof self<"u"&&(self.crypto||self.msCrypto),h=new Uint8Array(f);if(l&&"function"==typeof l.getRandomValues)l.getRandomValues(h);else for(var g=0;g<f;g++)h[g]=Math.floor(256*Math.random());return h}var Dn=function(){function f(){}return f.k=function(){for(var h=62*Math.floor(256/62),g="";g.length<20;)for(var y=tn(40),E=0;E<y.length;++E)g.length<20&&y[E]<h&&(g+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(y[E]%62));return g},f}();function Ut(f,l){return f<l?-1:f>l?1:0}function cn(f,l,h){return f.length===l.length&&f.every(function(g,y){return h(g,l[y])})}function Fn(f){return f+"\0"}var Un=function(){function f(l){this.M=l}return f.fromBase64String=function(l){return new f(atob(l))},f.fromUint8Array=function(l){return new f(function(h){for(var g="",y=0;y<h.length;++y)g+=String.fromCharCode(h[y]);return g}(l))},f.prototype.toBase64=function(){return btoa(this.M)},f.prototype.toUint8Array=function(){return function(l){for(var h=new Uint8Array(l.length),g=0;g<l.length;g++)h[g]=l.charCodeAt(g);return h}(this.M)},f.prototype.O=function(){return 2*this.M.length},f.prototype.L=function(l){return Ut(this.M,l.M)},f.prototype.isEqual=function(l){return this.M===l.M},f}();Un.B=new Un("");var wi=function(){function f(l){this.q=l}return f.fromBase64String=function(l){try{return new f(Un.fromBase64String(l))}catch(h){throw new G(z.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+h)}},f.fromUint8Array=function(l){return new f(Un.fromUint8Array(l))},f.prototype.toBase64=function(){return this.q.toBase64()},f.prototype.toUint8Array=function(){return this.q.toUint8Array()},f.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},f.prototype.isEqual=function(l){return this.q.isEqual(l.q)},f}();function Mi(){if(typeof Uint8Array>"u")throw new G(z.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ni(){if(typeof atob>"u")throw new G(z.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var zi=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.fromBase64String=function(h){ot("Blob.fromBase64String",arguments,1),un("Blob.fromBase64String","string",1,h),ni();try{return new l(Un.fromBase64String(h))}catch(g){throw new G(z.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+g)}},l.fromUint8Array=function(h){if(ot("Blob.fromUint8Array",arguments,1),Mi(),!(h instanceof Uint8Array))throw Sn("Blob.fromUint8Array","Uint8Array",1,h);return new l(Un.fromUint8Array(h))},l.prototype.toBase64=function(){return ot("Blob.toBase64",arguments,0),ni(),f.prototype.toBase64.call(this)},l.prototype.toUint8Array=function(){return ot("Blob.toUint8Array",arguments,0),Mi(),f.prototype.toUint8Array.call(this)},l.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},l}(wi),Po=function(f,l,h,g,y,E){this.U=f,this.persistenceKey=l,this.host=h,this.ssl=g,this.forceLongPolling=y,this.W=E},sn=function(){function f(l,h){this.projectId=l,this.database=h||"(default)"}return Object.defineProperty(f.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){return l instanceof f&&l.projectId===this.projectId&&l.database===this.database},f.prototype.L=function(l){return Ut(this.projectId,l.projectId)||Ut(this.database,l.database)},f}(),Yt=function(){function f(l,h){this.K=l,this.G=h,this.H={}}return f.prototype.get=function(l){var h=this.K(l),g=this.H[h];if(void 0!==g)for(var y=0,E=g;y<E.length;y++){var S=E[y],V=S[1];if(this.G(S[0],l))return V}},f.prototype.has=function(l){return void 0!==this.get(l)},f.prototype.set=function(l,h){var g=this.K(l),y=this.H[g];if(void 0!==y){for(var E=0;E<y.length;E++)if(this.G(y[E][0],l))return void(y[E]=[l,h]);y.push([l,h])}else this.H[g]=[[l,h]]},f.prototype.delete=function(l){var h=this.K(l),g=this.H[h];if(void 0===g)return!1;for(var y=0;y<g.length;y++)if(this.G(g[y][0],l))return 1===g.length?delete this.H[h]:g.splice(y,1),!0;return!1},f.prototype.forEach=function(l){nt(this.H,function(h,g){for(var y=0,E=g;y<E.length;y++){var S=E[y];l(S[0],S[1])}})},f.prototype.m=function(){return $e(this.H)},f}(),Qt=function(){function f(l,h){if(this.seconds=l,this.nanoseconds=h,h<0)throw new G(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+h);if(h>=1e9)throw new G(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+h);if(l<-62135596800)throw new G(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+l);if(l>=253402300800)throw new G(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+l)}return f.now=function(){return f.fromMillis(Date.now())},f.fromDate=function(l){return f.fromMillis(l.getTime())},f.fromMillis=function(l){var h=Math.floor(l/1e3);return new f(h,1e6*(l-1e3*h))},f.prototype.toDate=function(){return new Date(this.toMillis())},f.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},f.prototype.Y=function(l){return this.seconds===l.seconds?Ut(this.nanoseconds,l.nanoseconds):Ut(this.seconds,l.seconds)},f.prototype.isEqual=function(l){return l.seconds===this.seconds&&l.nanoseconds===this.nanoseconds},f.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},f.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},f.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},f}(),zt=function(){function f(l){this.timestamp=l}return f.J=function(l){return new f(l)},f.min=function(){return new f(new Qt(0,0))},f.prototype.L=function(l){return this.timestamp.Y(l.timestamp)},f.prototype.isEqual=function(l){return this.timestamp.isEqual(l.timestamp)},f.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},f.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},f.prototype.Z=function(){return this.timestamp},f}();function Te(f){return null==f}function we(f){return 0===f&&1/f==-1/0}function Ee(f){return"number"==typeof f&&Number.isInteger(f)&&!we(f)&&f<=Number.MAX_SAFE_INTEGER&&f>=Number.MIN_SAFE_INTEGER}var qe=function(f,l,h,g,y,E,S){void 0===l&&(l=null),void 0===h&&(h=[]),void 0===g&&(g=[]),void 0===y&&(y=null),void 0===E&&(E=null),void 0===S&&(S=null),this.path=f,this.collectionGroup=l,this.orderBy=h,this.filters=g,this.limit=y,this.startAt=E,this.endAt=S,this.tt=null};function Fe(f,l,h,g,y,E,S){return void 0===l&&(l=null),void 0===h&&(h=[]),void 0===g&&(g=[]),void 0===y&&(y=null),void 0===E&&(E=null),void 0===S&&(S=null),new qe(f,l,h,g,y,E,S)}function xt(f){var l=Ze(f);if(null===l.tt){var h=l.path.R();null!==l.collectionGroup&&(h+="|cg:"+l.collectionGroup),h+="|f:",h+=l.filters.map(function(g){return(y=g).field.R()+y.op.toString()+cs(y.value);var y}).join(","),h+="|ob:",h+=l.orderBy.map(function(g){return(y=g).field.R()+y.dir;var y}).join(","),Te(l.limit)||(h+="|l:",h+=l.limit),l.startAt&&(h+="|lb:",h+=oc(l.startAt)),l.endAt&&(h+="|ub:",h+=oc(l.endAt)),l.tt=h}return l.tt}function mn(f,l){if(f.limit!==l.limit||f.orderBy.length!==l.orderBy.length)return!1;for(var h=0;h<f.orderBy.length;h++)if(!yi(f.orderBy[h],l.orderBy[h]))return!1;if(f.filters.length!==l.filters.length)return!1;for(var g=0;g<f.filters.length;g++)if((y=f.filters[g]).op!==(E=l.filters[g]).op||!y.field.isEqual(E.field)||!Ur(y.value,E.value))return!1;var y,E;return f.collectionGroup===l.collectionGroup&&!!f.path.isEqual(l.path)&&!!Bs(f.startAt,l.startAt)&&Bs(f.endAt,l.endAt)}function jt(f){return Le.F(f.path)&&null===f.collectionGroup&&0===f.filters.length}var Jt,Ht,Ci=function(){function f(l,h,g,y,E,S,R){void 0===E&&(E=zt.min()),void 0===S&&(S=zt.min()),void 0===R&&(R=Un.B),this.target=l,this.targetId=h,this.et=g,this.sequenceNumber=y,this.nt=E,this.lastLimboFreeSnapshotVersion=S,this.resumeToken=R}return f.prototype.st=function(l){return new f(this.target,this.targetId,this.et,l,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},f.prototype.it=function(l,h){return new f(this.target,this.targetId,this.et,this.sequenceNumber,h,this.lastLimboFreeSnapshotVersion,l)},f.prototype.rt=function(l){return new f(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,l,this.resumeToken)},f}(),vi=function(f){this.count=f};function Hn(f){switch(f){case z.OK:return Re();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return Re()}}function Li(f){if(void 0===f)return lt("GRPC error has no .code"),z.UNKNOWN;switch(f){case Jt.OK:return z.OK;case Jt.CANCELLED:return z.CANCELLED;case Jt.UNKNOWN:return z.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return z.INTERNAL;case Jt.UNAVAILABLE:return z.UNAVAILABLE;case Jt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Jt.NOT_FOUND:return z.NOT_FOUND;case Jt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Jt.ABORTED:return z.ABORTED;case Jt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Jt.DATA_LOSS:return z.DATA_LOSS;default:return Re()}}(Ht=Jt||(Jt={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";var $n=function(){function f(l,h){this.i=l,this.root=h||pi.EMPTY}return f.prototype.ot=function(l,h){return new f(this.i,this.root.ot(l,h,this.i).copy(null,null,pi.at,null,null))},f.prototype.remove=function(l){return new f(this.i,this.root.remove(l,this.i).copy(null,null,pi.at,null,null))},f.prototype.get=function(l){for(var h=this.root;!h.m();){var g=this.i(l,h.key);if(0===g)return h.value;g<0?h=h.left:g>0&&(h=h.right)}return null},f.prototype.indexOf=function(l){for(var h=0,g=this.root;!g.m();){var y=this.i(l,g.key);if(0===y)return h+g.left.size;y<0?g=g.left:(h+=g.left.size+1,g=g.right)}return-1},f.prototype.m=function(){return this.root.m()},Object.defineProperty(f.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),f.prototype.ct=function(){return this.root.ct()},f.prototype.ut=function(){return this.root.ut()},f.prototype.ht=function(l){return this.root.ht(l)},f.prototype.forEach=function(l){this.ht(function(h,g){return l(h,g),!1})},f.prototype.toString=function(){var l=[];return this.ht(function(h,g){return l.push(h+":"+g),!1}),"{"+l.join(", ")+"}"},f.prototype.lt=function(l){return this.root.lt(l)},f.prototype._t=function(){return new gr(this.root,null,this.i,!1)},f.prototype.ft=function(l){return new gr(this.root,l,this.i,!1)},f.prototype.dt=function(){return new gr(this.root,null,this.i,!0)},f.prototype.wt=function(l){return new gr(this.root,l,this.i,!0)},f}(),gr=function(){function f(l,h,g,y){this.Tt=y,this.Et=[];for(var E=1;!l.m();)if(E=h?g(l.key,h):1,y&&(E*=-1),E<0)l=this.Tt?l.left:l.right;else{if(0===E){this.Et.push(l);break}this.Et.push(l),l=this.Tt?l.right:l.left}}return f.prototype.It=function(){var l=this.Et.pop(),h={key:l.key,value:l.value};if(this.Tt)for(l=l.left;!l.m();)this.Et.push(l),l=l.right;else for(l=l.right;!l.m();)this.Et.push(l),l=l.left;return h},f.prototype.At=function(){return this.Et.length>0},f.prototype.Rt=function(){if(0===this.Et.length)return null;var l=this.Et[this.Et.length-1];return{key:l.key,value:l.value}},f}(),pi=function(){function f(l,h,g,y,E){this.key=l,this.value=h,this.color=g??f.RED,this.left=y??f.EMPTY,this.right=E??f.EMPTY,this.size=this.left.size+1+this.right.size}return f.prototype.copy=function(l,h,g,y,E){return new f(l??this.key,h??this.value,g??this.color,y??this.left,E??this.right)},f.prototype.m=function(){return!1},f.prototype.ht=function(l){return this.left.ht(l)||l(this.key,this.value)||this.right.ht(l)},f.prototype.lt=function(l){return this.right.lt(l)||l(this.key,this.value)||this.left.lt(l)},f.prototype.min=function(){return this.left.m()?this:this.left.min()},f.prototype.ct=function(){return this.min().key},f.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},f.prototype.ot=function(l,h,g){var y=this,E=g(l,y.key);return(y=E<0?y.copy(null,null,null,y.left.ot(l,h,g),null):0===E?y.copy(null,h,null,null,null):y.copy(null,null,null,null,y.right.ot(l,h,g))).gt()},f.prototype.Pt=function(){if(this.left.m())return f.EMPTY;var l=this;return l.left.yt()||l.left.left.yt()||(l=l.Vt()),(l=l.copy(null,null,null,l.left.Pt(),null)).gt()},f.prototype.remove=function(l,h){var g,y=this;if(h(l,y.key)<0)y.left.m()||y.left.yt()||y.left.left.yt()||(y=y.Vt()),y=y.copy(null,null,null,y.left.remove(l,h),null);else{if(y.left.yt()&&(y=y.bt()),y.right.m()||y.right.yt()||y.right.left.yt()||(y=y.vt()),0===h(l,y.key)){if(y.right.m())return f.EMPTY;g=y.right.min(),y=y.copy(g.key,g.value,null,null,y.right.Pt())}y=y.copy(null,null,null,null,y.right.remove(l,h))}return y.gt()},f.prototype.yt=function(){return this.color},f.prototype.gt=function(){var l=this;return l.right.yt()&&!l.left.yt()&&(l=l.St()),l.left.yt()&&l.left.left.yt()&&(l=l.bt()),l.left.yt()&&l.right.yt()&&(l=l.Dt()),l},f.prototype.Vt=function(){var l=this.Dt();return l.right.left.yt()&&(l=(l=(l=l.copy(null,null,null,null,l.right.bt())).St()).Dt()),l},f.prototype.vt=function(){var l=this.Dt();return l.left.left.yt()&&(l=(l=l.bt()).Dt()),l},f.prototype.St=function(){var l=this.copy(null,null,f.RED,null,this.right.left);return this.right.copy(null,null,this.color,l,null)},f.prototype.bt=function(){var l=this.copy(null,null,f.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,l)},f.prototype.Dt=function(){var l=this.left.copy(null,null,!this.left.color,null,null),h=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,l,h)},f.prototype.Ct=function(){var l=this.Nt();return Math.pow(2,l)<=this.size+1},f.prototype.Nt=function(){if(this.yt()&&this.left.yt()||this.right.yt())throw Re();var l=this.left.Nt();if(l!==this.right.Nt())throw Re();return l+(this.yt()?0:1)},f}();pi.EMPTY=null,pi.RED=!0,pi.at=!1,pi.EMPTY=new(function(){function f(){this.size=0}return Object.defineProperty(f.prototype,"key",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"value",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"color",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"left",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"right",{get:function(){throw Re()},enumerable:!1,configurable:!0}),f.prototype.copy=function(l,h,g,y,E){return this},f.prototype.ot=function(l,h,g){return new pi(l,h)},f.prototype.remove=function(l,h){return this},f.prototype.m=function(){return!0},f.prototype.ht=function(l){return!1},f.prototype.lt=function(l){return!1},f.prototype.ct=function(){return null},f.prototype.ut=function(){return null},f.prototype.yt=function(){return!1},f.prototype.Ct=function(){return!0},f.prototype.Nt=function(){return 0},f}());var xi=function(){function f(l){this.i=l,this.data=new $n(this.i)}return f.prototype.has=function(l){return null!==this.data.get(l)},f.prototype.first=function(){return this.data.ct()},f.prototype.last=function(){return this.data.ut()},Object.defineProperty(f.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),f.prototype.indexOf=function(l){return this.data.indexOf(l)},f.prototype.forEach=function(l){this.data.ht(function(h,g){return l(h),!1})},f.prototype.Ft=function(l,h){for(var g=this.data.ft(l[0]);g.At();){var y=g.It();if(this.i(y.key,l[1])>=0)return;h(y.key)}},f.prototype.xt=function(l,h){var g;for(g=void 0!==h?this.data.ft(h):this.data._t();g.At();)if(!l(g.It().key))return},f.prototype.$t=function(l){var h=this.data.ft(l);return h.At()?h.It().key:null},f.prototype._t=function(){return new _r(this.data._t())},f.prototype.ft=function(l){return new _r(this.data.ft(l))},f.prototype.add=function(l){return this.copy(this.data.remove(l).ot(l,!0))},f.prototype.delete=function(l){return this.has(l)?this.copy(this.data.remove(l)):this},f.prototype.m=function(){return this.data.m()},f.prototype.kt=function(l){var h=this;return h.size<l.size&&(h=l,l=this),l.forEach(function(g){h=h.add(g)}),h},f.prototype.isEqual=function(l){if(!(l instanceof f)||this.size!==l.size)return!1;for(var h=this.data._t(),g=l.data._t();h.At();){var y=h.It().key,E=g.It().key;if(0!==this.i(y,E))return!1}return!0},f.prototype.A=function(){var l=[];return this.forEach(function(h){l.push(h)}),l},f.prototype.toString=function(){var l=[];return this.forEach(function(h){return l.push(h)}),"SortedSet("+l.toString()+")"},f.prototype.copy=function(l){var h=new f(this.i);return h.data=l,h},f}(),_r=function(){function f(l){this.Mt=l}return f.prototype.It=function(){return this.Mt.It().key},f.prototype.At=function(){return this.Mt.At()},f}(),mo=new $n(Le.i);function fe(){return mo}function le(){return fe()}var J=new $n(Le.i);function te(){return J}var Y=new $n(Le.i),Ae=new xi(Le.i);function Qe(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];for(var h=Ae,g=0,y=f;g<y.length;g++)h=h.add(y[g]);return h}var Dt=new xi(Ut);function yn(){return Dt}var Vt=function(){function f(l){this.i=l?function(h,g){return l(h,g)||Le.i(h.key,g.key)}:function(h,g){return Le.i(h.key,g.key)},this.Ot=te(),this.Lt=new $n(this.i)}return f.Bt=function(l){return new f(l.i)},f.prototype.has=function(l){return null!=this.Ot.get(l)},f.prototype.get=function(l){return this.Ot.get(l)},f.prototype.first=function(){return this.Lt.ct()},f.prototype.last=function(){return this.Lt.ut()},f.prototype.m=function(){return this.Lt.m()},f.prototype.indexOf=function(l){var h=this.Ot.get(l);return h?this.Lt.indexOf(h):-1},Object.defineProperty(f.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),f.prototype.forEach=function(l){this.Lt.ht(function(h,g){return l(h),!1})},f.prototype.add=function(l){var h=this.delete(l.key);return h.copy(h.Ot.ot(l.key,l),h.Lt.ot(l,null))},f.prototype.delete=function(l){var h=this.get(l);return h?this.copy(this.Ot.remove(l),this.Lt.remove(h)):this},f.prototype.isEqual=function(l){if(!(l instanceof f)||this.size!==l.size)return!1;for(var h=this.Lt._t(),g=l.Lt._t();h.At();){var y=h.It().key,E=g.It().key;if(!y.isEqual(E))return!1}return!0},f.prototype.toString=function(){var l=[];return this.forEach(function(h){l.push(h.toString())}),0===l.length?"DocumentSet ()":"DocumentSet (\n  "+l.join("  \n")+"\n)"},f.prototype.copy=function(l,h){var g=new f;return g.i=this.i,g.Ot=l,g.Lt=h,g},f}(),Jn=function(){function f(){this.qt=new $n(Le.i)}return f.prototype.track=function(l){var h=l.doc.key,g=this.qt.get(h);g?0!==l.type&&3===g.type?this.qt=this.qt.ot(h,l):3===l.type&&1!==g.type?this.qt=this.qt.ot(h,{type:g.type,doc:l.doc}):2===l.type&&2===g.type?this.qt=this.qt.ot(h,{type:2,doc:l.doc}):2===l.type&&0===g.type?this.qt=this.qt.ot(h,{type:0,doc:l.doc}):1===l.type&&0===g.type?this.qt=this.qt.remove(h):1===l.type&&2===g.type?this.qt=this.qt.ot(h,{type:1,doc:g.doc}):0===l.type&&1===g.type?this.qt=this.qt.ot(h,{type:2,doc:l.doc}):Re():this.qt=this.qt.ot(h,l)},f.prototype.Ut=function(){var l=[];return this.qt.ht(function(h,g){l.push(g)}),l},f}(),xn=function(){function f(l,h,g,y,E,S,R,V){this.query=l,this.docs=h,this.Qt=g,this.docChanges=y,this.Wt=E,this.fromCache=S,this.jt=R,this.Kt=V}return f.Gt=function(l,h,g,y){var E=[];return h.forEach(function(S){E.push({type:0,doc:S})}),new f(l,h,Vt.Bt(h),E,g,y,!0,!1)},Object.defineProperty(f.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){if(!(this.fromCache===l.fromCache&&this.jt===l.jt&&this.Wt.isEqual(l.Wt)&&rc(this.query,l.query)&&this.docs.isEqual(l.docs)&&this.Qt.isEqual(l.Qt)))return!1;var h=this.docChanges,g=l.docChanges;if(h.length!==g.length)return!1;for(var y=0;y<h.length;y++)if(h[y].type!==g[y].type||!h[y].doc.isEqual(g[y].doc))return!1;return!0},f}(),ai=function(){function f(l,h,g,y,E){this.nt=l,this.zt=h,this.Ht=g,this.Yt=y,this.Jt=E}return f.Xt=function(l,h){var g=new Map;return g.set(l,Rn.Zt(l,h)),new f(zt.min(),g,yn(),fe(),Qe())},f}(),Rn=function(){function f(l,h,g,y,E){this.resumeToken=l,this.te=h,this.ee=g,this.ne=y,this.se=E}return f.Zt=function(l,h){return new f(Un.B,h,Qe(),Qe(),Qe())},f}(),vr=function(f,l,h,g){this.ie=f,this.removedTargetIds=l,this.key=h,this.re=g},Zo=function(f,l){this.targetId=f,this.oe=l},Xe=function(f,l,h,g){void 0===h&&(h=Un.B),void 0===g&&(g=null),this.state=f,this.targetIds=l,this.resumeToken=h,this.cause=g},ze=function(){function f(){this.ae=0,this.ce=Pt(),this.ue=Un.B,this.he=!1,this.le=!0}return Object.defineProperty(f.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),f.prototype.de=function(l){l.O()>0&&(this.le=!0,this.ue=l)},f.prototype.we=function(){var l=Qe(),h=Qe(),g=Qe();return this.ce.forEach(function(y,E){switch(E){case 0:l=l.add(y);break;case 2:h=h.add(y);break;case 1:g=g.add(y);break;default:Re()}}),new Rn(this.ue,this.he,l,h,g)},f.prototype.me=function(){this.le=!1,this.ce=Pt()},f.prototype.Te=function(l,h){this.le=!0,this.ce=this.ce.ot(l,h)},f.prototype.Ee=function(l){this.le=!0,this.ce=this.ce.remove(l)},f.prototype.Ie=function(){this.ae+=1},f.prototype.Ae=function(){this.ae-=1},f.prototype.Re=function(){this.le=!0,this.he=!0},f}(),_t=function(){function f(l){this.ge=l,this.Pe=new Map,this.ye=fe(),this.Ve=Zt(),this.pe=new xi(Ut)}return f.prototype.be=function(l){for(var h=0,g=l.ie;h<g.length;h++){var y=g[h];l.re instanceof oi?this.ve(y,l.re):l.re instanceof Pr&&this.Se(y,l.key,l.re)}for(var E=0,S=l.removedTargetIds;E<S.length;E++)this.Se(S[E],l.key,l.re)},f.prototype.De=function(l){var h=this;this.Ce(l,function(g){var y=h.Ne(g);switch(l.state){case 0:h.Fe(g)&&y.de(l.resumeToken);break;case 1:y.Ae(),y._e||y.me(),y.de(l.resumeToken);break;case 2:y.Ae(),y._e||h.removeTarget(g);break;case 3:h.Fe(g)&&(y.Re(),y.de(l.resumeToken));break;case 4:h.Fe(g)&&(h.xe(g),y.de(l.resumeToken));break;default:Re()}})},f.prototype.Ce=function(l,h){var g=this;l.targetIds.length>0?l.targetIds.forEach(h):this.Pe.forEach(function(y,E){g.Fe(E)&&h(E)})},f.prototype.$e=function(l){var h=l.targetId,g=l.oe.count,y=this.ke(h);if(y){var E=y.target;if(jt(E))if(0===g){var S=new Le(E.path);this.Se(h,S,new Pr(S,zt.min()))}else at(1===g);else this.Me(h)!==g&&(this.xe(h),this.pe=this.pe.add(h))}},f.prototype.Oe=function(l){var h=this,g=new Map;this.Pe.forEach(function(S,R){var V=h.ke(R);if(V){if(S.te&&jt(V.target)){var Z=new Le(V.target.path);null!==h.ye.get(Z)||h.Le(R,Z)||h.Se(R,Z,new Pr(Z,l))}S.fe&&(g.set(R,S.we()),S.me())}});var y=Qe();this.Ve.forEach(function(S,R){var V=!0;R.xt(function(Z){var re=h.ke(Z);return!re||2===re.et||(V=!1,!1)}),V&&(y=y.add(S))});var E=new ai(l,g,this.pe,this.ye,y);return this.ye=fe(),this.Ve=Zt(),this.pe=new xi(Ut),E},f.prototype.ve=function(l,h){if(this.Fe(l)){var g=this.Le(l,h.key)?2:0;this.Ne(l).Te(h.key,g),this.ye=this.ye.ot(h.key,h),this.Ve=this.Ve.ot(h.key,this.Be(h.key).add(l))}},f.prototype.Se=function(l,h,g){if(this.Fe(l)){var y=this.Ne(l);this.Le(l,h)?y.Te(h,1):y.Ee(h),this.Ve=this.Ve.ot(h,this.Be(h).delete(l)),g&&(this.ye=this.ye.ot(h,g))}},f.prototype.removeTarget=function(l){this.Pe.delete(l)},f.prototype.Me=function(l){var h=this.Ne(l).we();return this.ge.qe(l).size+h.ee.size-h.se.size},f.prototype.Ie=function(l){this.Ne(l).Ie()},f.prototype.Ne=function(l){var h=this.Pe.get(l);return h||(h=new ze,this.Pe.set(l,h)),h},f.prototype.Be=function(l){var h=this.Ve.get(l);return h||(h=new xi(Ut),this.Ve=this.Ve.ot(l,h)),h},f.prototype.Fe=function(l){var h=null!==this.ke(l);return h||me("WatchChangeAggregator","Detected inactive target",l),h},f.prototype.ke=function(l){var h=this.Pe.get(l);return h&&h._e?null:this.ge.Ue(l)},f.prototype.xe=function(l){var h=this;this.Pe.set(l,new ze),this.ge.qe(l).forEach(function(g){h.Se(l,g,null)})},f.prototype.Le=function(l,h){return this.ge.qe(l).has(h)},f}();function Zt(){return new $n(Le.i)}function Pt(){return new $n(Le.i)}function kn(f){var l,h;return"server_timestamp"===(null===(h=((null===(l=f?.mapValue)||void 0===l?void 0:l.fields)||{}).__type__)||void 0===h?void 0:h.stringValue)}function ri(f){var l=f.mapValue.fields.__previous_value__;return kn(l)?ri(l):l}function Gi(f){var l=Yo(f.mapValue.fields.__local_write_time__.timestampValue);return new Qt(l.seconds,l.nanos)}var Zi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(f){return"nullValue"in f?0:"booleanValue"in f?1:"integerValue"in f||"doubleValue"in f?2:"timestampValue"in f?3:"stringValue"in f?5:"bytesValue"in f?6:"referenceValue"in f?7:"geoPointValue"in f?8:"arrayValue"in f?9:"mapValue"in f?kn(f)?4:10:Re()}function Ur(f,l){var y,h=Ji(f);if(h!==Ji(l))return!1;switch(h){case 0:return!0;case 1:return f.booleanValue===l.booleanValue;case 4:return Gi(f).isEqual(Gi(l));case 3:return function(g,y){if("string"==typeof g.timestampValue&&"string"==typeof y.timestampValue&&g.timestampValue.length===y.timestampValue.length)return g.timestampValue===y.timestampValue;var E=Yo(g.timestampValue),S=Yo(y.timestampValue);return E.seconds===S.seconds&&E.nanos===S.nanos}(f,l);case 5:return f.stringValue===l.stringValue;case 6:return y=l,Ai(f.bytesValue).isEqual(Ai(y.bytesValue));case 7:return f.referenceValue===l.referenceValue;case 8:return function(g,y){return qn(g.geoPointValue.latitude)===qn(y.geoPointValue.latitude)&&qn(g.geoPointValue.longitude)===qn(y.geoPointValue.longitude)}(f,l);case 2:return function(g,y){if("integerValue"in g&&"integerValue"in y)return qn(g.integerValue)===qn(y.integerValue);if("doubleValue"in g&&"doubleValue"in y){var E=qn(g.doubleValue),S=qn(y.doubleValue);return E===S?we(E)===we(S):isNaN(E)&&isNaN(S)}return!1}(f,l);case 9:return cn(f.arrayValue.values||[],l.arrayValue.values||[],Ur);case 10:return function(g,y){var E=g.mapValue.fields||{},S=y.mapValue.fields||{};if(xe(E)!==xe(S))return!1;for(var R in E)if(E.hasOwnProperty(R)&&(void 0===S[R]||!Ur(E[R],S[R])))return!1;return!0}(f,l);default:return Re()}}function go(f,l){return void 0!==(f.values||[]).find(function(h){return Ur(h,l)})}function Ta(f,l){var y,E,S,R,h=Ji(f),g=Ji(l);if(h!==g)return Ut(h,g);switch(h){case 0:return 0;case 1:return Ut(f.booleanValue,l.booleanValue);case 2:return E=l,(S=qn((y=f).integerValue||y.doubleValue))<(R=qn(E.integerValue||E.doubleValue))?-1:S>R?1:S===R?0:isNaN(S)?isNaN(R)?0:-1:1;case 3:return Ko(f.timestampValue,l.timestampValue);case 4:return Ko(Gi(f),Gi(l));case 5:return Ut(f.stringValue,l.stringValue);case 6:return function(y,E){var S=Ai(y),R=Ai(E);return S.L(R)}(f.bytesValue,l.bytesValue);case 7:return function(y,E){for(var S=y.split("/"),R=E.split("/"),V=0;V<S.length&&V<R.length;V++){var Z=Ut(S[V],R[V]);if(0!==Z)return Z}return Ut(S.length,R.length)}(f.referenceValue,l.referenceValue);case 8:return function(y,E){var S=Ut(qn(y.latitude),qn(E.latitude));return 0!==S?S:Ut(qn(y.longitude),qn(E.longitude))}(f.geoPointValue,l.geoPointValue);case 9:return function(y,E){for(var S=y.values||[],R=E.values||[],V=0;V<S.length&&V<R.length;++V){var Z=Ta(S[V],R[V]);if(Z)return Z}return Ut(S.length,R.length)}(f.arrayValue,l.arrayValue);case 10:return function(y,E){var S=y.fields||{},R=Object.keys(S),V=E.fields||{},Z=Object.keys(V);R.sort(),Z.sort();for(var re=0;re<R.length&&re<Z.length;++re){var ge=Ut(R[re],Z[re]);if(0!==ge)return ge;var _e=Ta(S[R[re]],V[Z[re]]);if(0!==_e)return _e}return Ut(R.length,Z.length)}(f.mapValue,l.mapValue);default:throw Re()}}function Ko(f,l){if("string"==typeof f&&"string"==typeof l&&f.length===l.length)return Ut(f,l);var h=Yo(f),g=Yo(l),y=Ut(h.seconds,g.seconds);return 0!==y?y:Ut(h.nanos,g.nanos)}function cs(f){return _s(f)}function _s(f){return"nullValue"in f?"null":"booleanValue"in f?""+f.booleanValue:"integerValue"in f?""+f.integerValue:"doubleValue"in f?""+f.doubleValue:"timestampValue"in f?"time("+(y=Yo(f.timestampValue)).seconds+","+y.nanos+")":"stringValue"in f?f.stringValue:"bytesValue"in f?Ai(f.bytesValue).toBase64():"referenceValue"in f?Le.C(f.referenceValue).toString():"geoPointValue"in f?"geo("+(l=f.geoPointValue).latitude+","+l.longitude+")":"arrayValue"in f?function(g){for(var y="[",E=!0,S=0,R=g.values||[];S<R.length;S++)E?E=!1:y+=",",y+=_s(R[S]);return y+"]"}(f.arrayValue):"mapValue"in f?function(g){for(var y="{",E=!0,S=0,R=Object.keys(g.fields||{}).sort();S<R.length;S++){var V=R[S];E?E=!1:y+=",",y+=V+":"+_s(g.fields[V])}return y+"}"}(f.mapValue):Re();var y,l}function Yo(f){if(at(!!f),"string"==typeof f){var l=0,h=Zi.exec(f);if(at(!!h),h[1]){var g=h[1];g=(g+"000000000").substr(0,9),l=Number(g)}var y=new Date(f);return{seconds:Math.floor(y.getTime()/1e3),nanos:l}}return{seconds:qn(f.seconds),nanos:qn(f.nanos)}}function qn(f){return"number"==typeof f?f:"string"==typeof f?Number(f):0}function Ai(f){return"string"==typeof f?Un.fromBase64String(f):Un.fromUint8Array(f)}function _o(f,l){return{referenceValue:"projects/"+f.projectId+"/databases/"+f.database+"/documents/"+l.path.R()}}function ki(f){return!!f&&"integerValue"in f}function bc(f){return!!f&&"arrayValue"in f}function Xa(f){return!!f&&"nullValue"in f}function $r(f){return!!f&&"doubleValue"in f&&isNaN(Number(f.doubleValue))}function Ns(f){return!!f&&"mapValue"in f}var Ja={asc:"ASCENDING",desc:"DESCENDING"},Ju={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},na=function(f,l){this.U=f,this.Qe=l};function wc(f){return{integerValue:""+f}}function Cc(f,l){if(f.Qe){if(isNaN(l))return{doubleValue:"NaN"};if(l===1/0)return{doubleValue:"Infinity"};if(l===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:we(l)?"-0":l}}function Fs(f,l){return Ee(l)?wc(l):Cc(f,l)}function ia(f,l){return f.Qe?new Date(1e3*l.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+l.nanoseconds).slice(-9)+"Z":{seconds:""+l.seconds,nanos:l.nanoseconds}}function ol(f,l){return f.Qe?l.toBase64():l.toUint8Array()}function Ro(f,l){return ia(f,l.Z())}function vo(f){return at(!!f),zt.J((h=Yo(f),new Qt(h.seconds,h.nanos)));var h}function yr(f,l){return(h=f,new he(["projects",h.projectId,"databases",h.database])).child("documents").child(l).R();var h}function ec(f){var l=he.g(f);return at(Bn(l)),l}function ra(f,l){return yr(f.U,l.path)}function er(f,l){var h=ec(l);return at(h.get(1)===f.U.projectId),at(!h.get(3)&&!f.U.database||h.get(3)===f.U.database),new Le(tc(h))}function xc(f,l){return yr(f.U,l)}function oa(f){var l=ec(f);return 4===l.length?he.P():tc(l)}function vs(f){return new he(["projects",f.U.projectId,"databases",f.U.database]).R()}function tc(f){return at(f.length>4&&"documents"===f.get(4)),f.u(5)}function jn(f,l,h){return{name:ra(f,l),fields:h.proto.mapValue.fields}}function Ui(f,l){var h,y;if(l instanceof rr)h={update:jn(f,l.key,l.value)};else if(l instanceof Tr)h={delete:ra(f,l.key)};else if(l instanceof Wr)h={update:jn(f,l.key,l.data),updateMask:Us(l.We)};else if(l instanceof Hi)h={transform:{document:ra(f,l.key),fieldTransforms:l.fieldTransforms.map(function(g){return function(y,E){var S=E.transform;if(S instanceof on)return{fieldPath:E.field.R(),setToServerValue:"REQUEST_TIME"};if(S instanceof qr)return{fieldPath:E.field.R(),appendMissingElements:{values:S.elements}};if(S instanceof Cr)return{fieldPath:E.field.R(),removeAllFromArray:{values:S.elements}};if(S instanceof ys)return{fieldPath:E.field.R(),increment:S.je};throw Re()}(0,g)})}};else{if(!(l instanceof al))return Re();h={verify:ra(f,l.key)}}return l.Ge.Ke||(h.currentDocument=void 0!==(y=l.Ge).updateTime?{updateTime:Ro(f,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:Re()),h}function br(f,l){var re,h=l.currentDocument?void 0!==(re=l.currentDocument).updateTime?Vi.updateTime(vo(re.updateTime)):void 0!==re.exists?Vi.exists(re.exists):Vi.ze():Vi.ze();if(l.update){var g=er(f,l.update.name),y=new Or({mapValue:{fields:l.update.fields}});if(l.updateMask){var E=function(re){return new Ir((re.fieldPaths||[]).map(function(_e){return Ge.S(_e)}))}(l.updateMask);return new Wr(g,y,E,h)}return new rr(g,y,h)}if(l.delete){var S=er(f,l.delete);return new Tr(S,h)}if(l.transform){var R=er(f,l.transform.document),V=l.transform.fieldTransforms.map(function(re){return function(ge,_e){var Oe=null;"setToServerValue"in _e?(at("REQUEST_TIME"===_e.setToServerValue),Oe=new on):"appendMissingElements"in _e?Oe=new qr(_e.appendMissingElements.values||[]):"removeAllFromArray"in _e?Oe=new Cr(_e.removeAllFromArray.values||[]):"increment"in _e?Oe=new ys(ge,_e.increment):Re();var an=Ge.S(_e.fieldPath);return new aa(an,Oe)}(f,re)});return at(!0===h.exists),new Hi(R,V)}if(l.verify){var Z=er(f,l.verify);return new al(Z,h)}return Re()}function Sa(f,l){return{documents:[xc(f,l.path)]}}function wr(f,l){var h={structuredQuery:{}},g=l.path;null!==l.collectionGroup?(h.parent=xc(f,g),h.structuredQuery.from=[{collectionId:l.collectionGroup,allDescendants:!0}]):(h.parent=xc(f,g.h()),h.structuredQuery.from=[{collectionId:g._()}]);var y=function(R){if(0!==R.length){var V=R.map(function(Z){return function(re){if("=="===re.op){if($r(re.value))return{unaryFilter:{field:Et(re.field),op:"IS_NAN"}};if(Xa(re.value))return{unaryFilter:{field:Et(re.field),op:"IS_NULL"}}}else if("!="===re.op){if($r(re.value))return{unaryFilter:{field:Et(re.field),op:"IS_NOT_NAN"}};if(Xa(re.value))return{unaryFilter:{field:Et(re.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Et(re.field),op:Oi(re.op),value:re.value}}}(Z)});return 1===V.length?V[0]:{compositeFilter:{op:"AND",filters:V}}}}(l.filters);y&&(h.structuredQuery.where=y);var E=function(R){if(0!==R.length)return R.map(function(V){return{field:Et((Z=V).field),direction:Tc(Z.dir)};var Z})}(l.orderBy);E&&(h.structuredQuery.orderBy=E);var V,S=(V=l.limit,f.Qe||Te(V)?V:{value:V});return null!==S&&(h.structuredQuery.limit=S),l.startAt&&(h.structuredQuery.startAt=No(l.startAt)),l.endAt&&(h.structuredQuery.endAt=No(l.endAt)),h}function Ec(f){var l=oa(f.parent),h=f.structuredQuery,g=h.from?h.from.length:0,y=null;if(g>0){at(1===g);var E=h.from[0];E.allDescendants?y=E.collectionId:l=l.child(E.collectionId)}var S=[];h.where&&(S=Ic(h.where));var R=[];h.orderBy&&(R=h.orderBy.map(function(ge){return new ha(En((_e=ge).field),function(Oe){switch(Oe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_e.direction));var _e}));var ge,_e,V=null;h.limit&&(V=Te(_e="object"==typeof(ge=h.limit)?ge.value:ge)?null:_e);var Z=null;h.startAt&&(Z=Ls(h.startAt));var re=null;return h.endAt&&(re=Ls(h.endAt)),Uo(Dc(l,y,R,S,V,"F",Z,re))}function Ic(f){return f?void 0!==f.unaryFilter?[so(f)]:void 0!==f.fieldFilter?[Ei(f)]:void 0!==f.compositeFilter?f.compositeFilter.filters.map(function(l){return Ic(l)}).reduce(function(l,h){return l.concat(h)}):Re():[]}function No(f){return{before:f.before,values:f.position}}function Ls(f){return new bo(f.values||[],!!f.before)}function Tc(f){return Ja[f]}function Oi(f){return Ju[f]}function Et(f){return{fieldPath:f.R()}}function En(f){return Ge.S(f.fieldPath)}function Ei(f){return Rr.create(En(f.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(f.fieldFilter.op),f.fieldFilter.value)}function so(f){switch(f.unaryFilter.op){case"IS_NAN":var l=En(f.unaryFilter.field);return Rr.create(l,"==",{doubleValue:NaN});case"IS_NULL":var h=En(f.unaryFilter.field);return Rr.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var g=En(f.unaryFilter.field);return Rr.create(g,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var y=En(f.unaryFilter.field);return Rr.create(y,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}function Us(f){var l=[];return f.fields.forEach(function(h){return l.push(h.R())}),{fieldPaths:l}}function Bn(f){return f.length>=4&&"projects"===f.get(0)&&"databases"===f.get(2)}var Qo=function(){this.He=void 0};function Pi(f,l,h){return f instanceof on?(E={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(g=h).seconds,nanos:g.nanoseconds}}}},(y=l)&&(E.fields.__previous_value__=y),{mapValue:E}):f instanceof qr?Ll(f,l):f instanceof Cr?xr(f,l):function(g,y){var E=Xo(g,y),S=Fo(E)+Fo(g.je);return ki(E)&&ki(g.je)?wc(S):Cc(g.serializer,S)}(f,l);var g,y,E}function sa(f,l,h){return f instanceof qr?Ll(f,l):f instanceof Cr?xr(f,l):h}function Xo(f,l){return f instanceof ys?ki(h=l)||(g=h)&&"doubleValue"in g?l:{integerValue:0}:null;var g,h}var on=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l}(Qo),qr=function(f){function l(h){var g=this;return(g=f.call(this)||this).elements=h,g}return U.__extends(l,f),l}(Qo);function Ll(f,l){for(var h=Er(l),g=function(S){h.some(function(R){return Ur(R,S)})||h.push(S)},y=0,E=f.elements;y<E.length;y++)g(E[y]);return{arrayValue:{values:h}}}var Cr=function(f){function l(h){var g=this;return(g=f.call(this)||this).elements=h,g}return U.__extends(l,f),l}(Qo);function xr(f,l){for(var h=Er(l),g=function(S){h=h.filter(function(R){return!Ur(R,S)})},y=0,E=f.elements;y<E.length;y++)g(E[y]);return{arrayValue:{values:h}}}var ys=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).serializer=h,y.je=g,y}return U.__extends(l,f),l}(Qo);function Fo(f){return qn(f.integerValue||f.doubleValue)}function Er(f){return bc(f)&&f.arrayValue.values?f.arrayValue.values.slice():[]}var Ir=function(){function f(l){this.fields=l,l.sort(Ge.i)}return f.prototype.Ye=function(l){for(var h=0,g=this.fields;h<g.length;h++)if(g[h].T(l))return!0;return!1},f.prototype.isEqual=function(l){return cn(this.fields,l.fields,function(h,g){return h.isEqual(g)})},f}(),aa=function(f,l){this.field=f,this.transform=l},Da=function(f,l){this.version=f,this.transformResults=l},Vi=function(){function f(l,h){this.updateTime=l,this.exists=h}return f.ze=function(){return new f},f.exists=function(l){return new f(void 0,l)},f.updateTime=function(l){return new f(l)},Object.defineProperty(f.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){return this.exists===l.exists&&(this.updateTime?!!l.updateTime&&this.updateTime.isEqual(l.updateTime):!l.updateTime)},f}();function Lo(f,l){return void 0!==f.updateTime?l instanceof oi&&l.version.isEqual(f.updateTime):void 0===f.exists||f.exists===l instanceof oi}var Gr=function(){};function ei(f,l,h){return f instanceof rr?new oi((g=f).key,h.version,g.value,{hasCommittedMutations:!0}):f instanceof Wr?function(g,y,E){if(!Lo(g.Ge,y))return new Ul(g.key,E.version);var S=ca(g,y);return new oi(g.key,E.version,S,{hasCommittedMutations:!0})}(f,l,h):f instanceof Hi?function(g,y,E){if(at(null!=E.transformResults),!Lo(g.Ge,y))return new Ul(g.key,E.version);var S=sl(0,y),R=function(re,ge,_e){var Oe=[];at(re.length===_e.length);for(var et=0;et<_e.length;et++){var ht=re[et],an=ht.transform,Xt=null;ge instanceof oi&&(Xt=ge.field(ht.field)),Oe.push(sa(an,Xt,_e[et]))}return Oe}(g.fieldTransforms,y,E.transformResults),V=E.version,Z=Zr(g,S.data(),R);return new oi(g.key,V,Z,{hasCommittedMutations:!0})}(f,l,h):function(g,y,E){return new Pr(g.key,E.version,{hasCommittedMutations:!0})}(f,0,h);var g}function Sc(f,l,h,g){return f instanceof rr?function(y,E){if(!Lo(y.Ge,E))return E;var S=kr(E);return new oi(y.key,S,y.value,{Je:!0})}(f,l):f instanceof Wr?function(y,E){if(!Lo(y.Ge,E))return E;var S=kr(E),R=ca(y,E);return new oi(y.key,S,R,{Je:!0})}(f,l):f instanceof Hi?function(y,E,S,R){if(!Lo(y.Ge,E))return E;var V=sl(0,E),Z=function(ge,_e,Oe,et){for(var ht=[],an=0,Xt=ge;an<Xt.length;an++){var On=Xt[an],Xn=On.transform,gi=null;Oe instanceof oi&&(gi=Oe.field(On.field)),null===gi&&et instanceof oi&&(gi=et.field(On.field)),ht.push(Pi(Xn,gi,_e))}return ht}(y.fieldTransforms,S,E,R),re=Zr(y,V.data(),Z);return new oi(y.key,V.version,re,{Je:!0})}(f,l,g,h):Lo((y=f).Ge,E=l)?new Pr(y.key,zt.min()):E;var y,E}function gu(f,l){return f instanceof Hi?function(h,g){for(var y=null,E=0,S=h.fieldTransforms;E<S.length;E++){var R=S[E],V=g instanceof oi?g.field(R.field):void 0,Z=Xo(R.transform,V||null);null!=Z&&(y=null==y?(new Kr).set(R.field,Z):y.set(R.field,Z))}return y?y.Xe():null}(f,l):null}function Ma(f,l){return f.type===l.type&&!!f.key.isEqual(l.key)&&!!f.Ge.isEqual(l.Ge)&&(0===f.type?f.value.isEqual(l.value):1===f.type?f.data.isEqual(l.data)&&f.We.isEqual(l.We):2!==f.type||cn(f.fieldTransforms,f.fieldTransforms,function(h,g){return(y=h).field.isEqual((E=g).field)&&(R=E.transform,(S=y.transform)instanceof qr&&R instanceof qr||S instanceof Cr&&R instanceof Cr?cn(S.elements,R.elements,Ur):S instanceof ys&&R instanceof ys?Ur(S.je,R.je):S instanceof on&&R instanceof on);var y,E,S,R}))}function kr(f){return f instanceof oi?f.version:zt.min()}var rr=function(f){function l(h,g,y){var E=this;return(E=f.call(this)||this).key=h,E.value=g,E.Ge=y,E.type=0,E}return U.__extends(l,f),l}(Gr),Wr=function(f){function l(h,g,y,E){var S=this;return(S=f.call(this)||this).key=h,S.data=g,S.We=y,S.Ge=E,S.type=1,S}return U.__extends(l,f),l}(Gr);function ca(f,l){return h=f,g=l instanceof oi?l.data():Or.empty(),y=new Kr(g),h.We.fields.forEach(function(E){if(!E.m()){var S=h.data.field(E);null!==S?y.set(E,S):y.delete(E)}}),y.Xe();var h,g,y}var Hi=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).key=h,y.fieldTransforms=g,y.type=2,y.Ge=Vi.exists(!0),y}return U.__extends(l,f),l}(Gr);function sl(f,l){return l}function Zr(f,l,h){for(var g=new Kr(l),y=0;y<f.fieldTransforms.length;y++)g.set(f.fieldTransforms[y].field,h[y]);return g.Xe()}var Tr=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).key=h,y.Ge=g,y.type=3,y}return U.__extends(l,f),l}(Gr),al=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).key=h,y.Ge=g,y.type=4,y}return U.__extends(l,f),l}(Gr),Or=function(){function f(l){this.proto=l}return f.empty=function(){return new f({mapValue:{}})},f.prototype.field=function(l){if(l.m())return this.proto;for(var h=this.proto,g=0;g<l.length-1;++g)if(!h.mapValue.fields||!Ns(h=h.mapValue.fields[l.get(g)]))return null;return(h=(h.mapValue.fields||{})[l._()])||null},f.prototype.isEqual=function(l){return Ur(this.proto,l.proto)},f}(),Kr=function(){function f(l){void 0===l&&(l=Or.empty()),this.Ze=l,this.tn=new Map}return f.prototype.set=function(l,h){return this.en(l,h),this},f.prototype.delete=function(l){return this.en(l,null),this},f.prototype.en=function(l,h){for(var g=this.tn,y=0;y<l.length-1;++y){var E=l.get(y),S=g.get(E);S instanceof Map?g=S:S&&10===Ji(S)?(S=new Map(Object.entries(S.mapValue.fields||{})),g.set(E,S),g=S):(g.set(E,S=new Map),g=S)}g.set(l._(),h)},f.prototype.Xe=function(){var l=this.nn(Ge.P(),this.tn);return null!=l?new Or(l):this.Ze},f.prototype.nn=function(l,h){var g=this,y=!1,E=this.Ze.field(l),S=Ns(E)?Object.assign({},E.mapValue.fields):{};return h.forEach(function(R,V){if(R instanceof Map){var Z=g.nn(l.child(V),R);null!=Z&&(S[V]=Z,y=!0)}else null!==R?(S[V]=R,y=!0):S.hasOwnProperty(V)&&(delete S[V],y=!0)}),y?{mapValue:{fields:S}}:null},f}();function di(f){var l=[];return nt(f.fields||{},function(h,g){var y=new Ge([h]);if(Ns(g)){var E=di(g.mapValue).fields;if(0===E.length)l.push(y);else for(var S=0,R=E;S<R.length;S++)l.push(y.child(R[S]))}else l.push(y)}),new Ir(l)}var la=function(f,l){this.key=f,this.version=l},oi=function(f){function l(h,g,y,E){var S=this;return(S=f.call(this,h,g)||this).sn=y,S.Je=!!E.Je,S.hasCommittedMutations=!!E.hasCommittedMutations,S}return U.__extends(l,f),l.prototype.field=function(h){return this.sn.field(h)},l.prototype.data=function(){return this.sn},l.prototype.rn=function(){return this.sn.proto},l.prototype.isEqual=function(h){return h instanceof l&&this.key.isEqual(h.key)&&this.version.isEqual(h.version)&&this.Je===h.Je&&this.hasCommittedMutations===h.hasCommittedMutations&&this.sn.isEqual(h.sn)},l.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(l.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),l}(la),Pr=function(f){function l(h,g,y){var E=this;return(E=f.call(this,h,g)||this).hasCommittedMutations=!(!y||!y.hasCommittedMutations),E}return U.__extends(l,f),l.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(l.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(h){return h instanceof l&&h.hasCommittedMutations===this.hasCommittedMutations&&h.version.isEqual(this.version)&&h.key.isEqual(this.key)},l}(la),Ul=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(l.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(h){return h instanceof l&&h.version.isEqual(this.version)&&h.key.isEqual(this.key)},l}(la),bs=function(f,l,h,g,y,E,S,R){void 0===l&&(l=null),void 0===h&&(h=[]),void 0===g&&(g=[]),void 0===y&&(y=null),void 0===E&&(E="F"),void 0===S&&(S=null),void 0===R&&(R=null),this.path=f,this.collectionGroup=l,this.on=h,this.filters=g,this.limit=y,this.an=E,this.startAt=S,this.endAt=R,this.cn=null,this.un=null};function Dc(f,l,h,g,y,E,S,R){return new bs(f,l,h,g,y,E,S,R)}function Aa(f){return new bs(f)}function Mc(f){return!Te(f.limit)&&"F"===f.an}function nc(f){return!Te(f.limit)&&"L"===f.an}function Vl(f){return f.on.length>0?f.on[0].field:null}function mi(f){for(var l=0,h=f.filters;l<h.length;l++){var g=h[l];if(g.hn())return g.field}return null}function _u(f){return null!==f.collectionGroup}function Ac(f){var l=Ze(f);if(null===l.cn){l.cn=[];var h=mi(l),g=Vl(l);if(null!==h&&null===g)h.p()||l.cn.push(new ha(h)),l.cn.push(new ha(Ge.v(),"asc"));else{for(var y=!1,E=0,S=l.on;E<S.length;E++){var R=S[E];l.cn.push(R),R.field.p()&&(y=!0)}if(!y){var V=l.on.length>0?l.on[l.on.length-1].dir:"asc";l.cn.push(new ha(Ge.v(),V))}}}return l.cn}function Uo(f){var l=Ze(f);if(!l.un)if("F"===l.an)l.un=Fe(l.path,l.collectionGroup,Ac(l),l.filters,l.limit,l.startAt,l.endAt);else{for(var h=[],g=0,y=Ac(l);g<y.length;g++){var E=y[g];h.push(new ha(E.field,"desc"===E.dir?"asc":"desc"))}var R=l.endAt?new bo(l.endAt.position,!l.endAt.before):null,V=l.startAt?new bo(l.startAt.position,!l.startAt.before):null;l.un=Fe(l.path,l.collectionGroup,h,l.filters,l.limit,R,V)}return l.un}function Qd(f,l,h){return new bs(f.path,f.collectionGroup,f.on.slice(),f.filters.slice(),l,h,f.startAt,f.endAt)}function ic(f,l){return new bs(f.path,f.collectionGroup,f.on.slice(),f.filters.slice(),f.limit,f.an,l,f.endAt)}function yo(f,l){return new bs(f.path,f.collectionGroup,f.on.slice(),f.filters.slice(),f.limit,f.an,f.startAt,l)}function rc(f,l){return mn(Uo(f),Uo(l))&&f.an===l.an}function ua(f){return xt(Uo(f))+"|lt:"+f.an}function ws(f){return"Query(target="+(h=(l=Uo(f)).path.R(),null!==l.collectionGroup&&(h+=" collectionGroup="+l.collectionGroup),l.filters.length>0&&(h+=", filters: ["+l.filters.map(function(g){return(y=g).field.R()+" "+y.op+" "+cs(y.value);var y}).join(", ")+"]"),Te(l.limit)||(h+=", limit: "+l.limit),l.orderBy.length>0&&(h+=", orderBy: ["+l.orderBy.map(function(g){return(y=g).field.R()+" ("+y.dir+")";var y}).join(", ")+"]"),l.startAt&&(h+=", startAt: "+oc(l.startAt)),l.endAt&&(h+=", endAt: "+oc(l.endAt)),"Target("+h+"); limitType=")+f.an+")";var l,h}function Bl(f,l){return y=(g=l).key.path,(null!==(h=f).collectionGroup?g.key.N(h.collectionGroup)&&h.path.T(y):Le.F(h.path)?h.path.isEqual(y):h.path.I(y))&&function(h,g){for(var y=0,E=h.on;y<E.length;y++){var S=E[y];if(!S.field.p()&&null===g.field(S.field))return!1}return!0}(f,l)&&function(h,g){for(var y=0,E=h.filters;y<E.length;y++)if(!E[y].matches(g))return!1;return!0}(f,l)&&function(h,g){return!(h.startAt&&!jl(h.startAt,Ac(h),g)||h.endAt&&jl(h.endAt,Ac(h),g))}(f,l);var h,g,y}function vu(f){return function(l,h){for(var g=!1,y=0,E=Ac(f);y<E.length;y++){var S=E[y],R=cl(S,l,h);if(0!==R)return R;g=g||S.field.p()}return 0}}var Rr=function(f){function l(h,g,y){var E=this;return(E=f.call(this)||this).field=h,E.op=g,E.value=y,E}return U.__extends(l,f),l.create=function(h,g,y){if(h.p())return"in"===g||"not-in"===g?this.ln(h,g,y):new Vs(h,g,y);if(Xa(y)){if("=="!==g&&"!="!==g)throw new G(z.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new l(h,g,y)}if($r(y)){if("=="!==g&&"!="!==g)throw new G(z.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new l(h,g,y)}return"array-contains"===g?new ur(h,y):"in"===g?new ka(h,y):"not-in"===g?new Yr(h,y):"array-contains-any"===g?new Oc(h,y):new l(h,g,y)},l.ln=function(h,g,y){return"in"===g?new da(h,y):new kc(h,y)},l.prototype.matches=function(h){var g=h.field(this.field);return"!="===this.op?null!==g&&this._n(Ta(g,this.value)):null!==g&&Ji(this.value)===Ji(g)&&this._n(Ta(g,this.value))},l.prototype._n=function(h){switch(this.op){case"<":return h<0;case"<=":return h<=0;case"==":return 0===h;case"!=":return 0!==h;case">":return h>0;case">=":return h>=0;default:return Re()}},l.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},l}(function(){}),Vs=function(f){function l(h,g,y){var E=this;return(E=f.call(this,h,g,y)||this).key=Le.C(y.referenceValue),E}return U.__extends(l,f),l.prototype.matches=function(h){var g=Le.i(h.key,this.key);return this._n(g)},l}(Rr),da=function(f){function l(h,g){var y=this;return(y=f.call(this,h,"in",g)||this).keys=Vo(0,g),y}return U.__extends(l,f),l.prototype.matches=function(h){return this.keys.some(function(g){return g.isEqual(h.key)})},l}(Rr),kc=function(f){function l(h,g){var y=this;return(y=f.call(this,h,"not-in",g)||this).keys=Vo(0,g),y}return U.__extends(l,f),l.prototype.matches=function(h){return!this.keys.some(function(g){return g.isEqual(h.key)})},l}(Rr);function Vo(f,l){var h;return((null===(h=l.arrayValue)||void 0===h?void 0:h.values)||[]).map(function(g){return Le.C(g.referenceValue)})}var ur=function(f){function l(h,g){return f.call(this,h,"array-contains",g)||this}return U.__extends(l,f),l.prototype.matches=function(h){var g=h.field(this.field);return bc(g)&&go(g.arrayValue,this.value)},l}(Rr),ka=function(f){function l(h,g){return f.call(this,h,"in",g)||this}return U.__extends(l,f),l.prototype.matches=function(h){var g=h.field(this.field);return null!==g&&go(this.value.arrayValue,g)},l}(Rr),Yr=function(f){function l(h,g){return f.call(this,h,"not-in",g)||this}return U.__extends(l,f),l.prototype.matches=function(h){if(go(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var g=h.field(this.field);return null!==g&&!go(this.value.arrayValue,g)},l}(Rr),Oc=function(f){function l(h,g){return f.call(this,h,"array-contains-any",g)||this}return U.__extends(l,f),l.prototype.matches=function(h){var g=this,y=h.field(this.field);return!(!bc(y)||!y.arrayValue.values)&&y.arrayValue.values.some(function(E){return go(g.value.arrayValue,E)})},l}(Rr),bo=function(f,l){this.position=f,this.before=l};function oc(f){return(f.before?"b":"a")+":"+f.position.map(function(l){return cs(l)}).join(",")}function jl(f,l,h){for(var g=0,y=0;y<f.position.length;y++){var E=l[y],S=f.position[y];if(g=E.field.p()?Le.i(Le.C(S.referenceValue),h.key):Ta(S,h.field(E.field)),"desc"===E.dir&&(g*=-1),0!==g)break}return f.before?g<=0:g<0}function Bs(f,l){if(null===f)return null===l;if(null===l||f.before!==l.before||f.position.length!==l.position.length)return!1;for(var h=0;h<f.position.length;h++)if(!Ur(f.position[h],l.position[h]))return!1;return!0}var ha=function(f,l){void 0===l&&(l="asc"),this.field=f,this.dir=l};function cl(f,l,h){var y,S,R,V,g=f.field.p()?Le.i(l.key,h.key):(S=h,R=l.field(y=f.field),V=S.field(y),null!==R&&null!==V?Ta(R,V):Re());switch(f.dir){case"asc":return g;case"desc":return-1*g;default:return Re()}}function yi(f,l){return f.dir===l.dir&&f.field.isEqual(l.field)}var Bo=function(){var f=this;this.promise=new Promise(function(l,h){f.resolve=l,f.reject=h})},Oa=function(){function f(l,h,g,y,E){void 0===g&&(g=1e3),void 0===y&&(y=1.5),void 0===E&&(E=6e4),this.fn=l,this.dn=h,this.wn=g,this.mn=y,this.Tn=E,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return f.prototype.reset=function(){this.En=0},f.prototype.Rn=function(){this.En=this.Tn},f.prototype.gn=function(l){var h=this;this.cancel();var g=Math.floor(this.En+this.Pn()),y=Math.max(0,Date.now()-this.An),E=Math.max(0,g-y);E>0&&me("ExponentialBackoff","Backing off for "+E+" ms (base delay: "+this.En+" ms, delay with jitter: "+g+" ms, last attempt: "+y+" ms ago)"),this.In=this.fn.yn(this.dn,E,function(){return h.An=Date.now(),l()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},f.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},f.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},f.prototype.Pn=function(){return(Math.random()-.5)*this.En},f}(),It=function(){function f(l){var h=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,l(function(g){h.Sn=!0,h.result=g,h.bn&&h.bn(g)},function(g){h.Sn=!0,h.error=g,h.vn&&h.vn(g)})}return f.prototype.catch=function(l){return this.next(void 0,l)},f.prototype.next=function(l,h){var g=this;return this.Dn&&Re(),this.Dn=!0,this.Sn?this.error?this.Cn(h,this.error):this.Nn(l,this.result):new f(function(y,E){g.bn=function(S){g.Nn(l,S).next(y,E)},g.vn=function(S){g.Cn(h,S).next(y,E)}})},f.prototype.Fn=function(){var l=this;return new Promise(function(h,g){l.next(h,g)})},f.prototype.xn=function(l){try{var h=l();return h instanceof f?h:f.resolve(h)}catch(g){return f.reject(g)}},f.prototype.Nn=function(l,h){return l?this.xn(function(){return l(h)}):f.resolve(h)},f.prototype.Cn=function(l,h){return l?this.xn(function(){return l(h)}):f.reject(h)},f.resolve=function(l){return new f(function(h,g){h(l)})},f.reject=function(l){return new f(function(h,g){g(l)})},f.$n=function(l){return new f(function(h,g){var y=0,E=0,S=!1;l.forEach(function(R){++y,R.next(function(){++E,S&&E===y&&h()},function(V){return g(V)})}),S=!0,E===y&&h()})},f.kn=function(l){for(var h=f.resolve(!1),g=function(S){h=h.next(function(R){return R?f.resolve(R):S()})},y=0,E=l;y<E.length;y++)g(E[y]);return h},f.forEach=function(l,h){var g=this,y=[];return l.forEach(function(E,S){y.push(h.call(g,E,S))}),this.$n(y)},f}(),Jo=function(){function f(l,h,g){this.name=l,this.version=h,this.Mn=g,12.2===f.On(ce.getUA())&&lt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return f.delete=function(l){return me("SimpleDb","Removing database:",l),Pa(window.indexedDB.deleteDatabase(l)).Fn()},f.Ln=function(){if(typeof indexedDB>"u")return!1;if(f.Bn())return!0;var l=ce.getUA(),h=f.On(l),g=0<h&&h<10,y=f.qn(l),E=0<y&&y<4.5;return!(l.indexOf("MSIE ")>0||l.indexOf("Trident/")>0||l.indexOf("Edge/")>0||g||E)},f.Bn=function(){var l;return typeof process<"u"&&"YES"===(null===(l=process.env)||void 0===l?void 0:l.Un)},f.Qn=function(l,h){return l.store(h)},f.On=function(l){var h=l.match(/i(?:phone|pad|pod) os ([\d_]+)/i),g=h?h[1].split("_").slice(0,2).join("."):"-1";return Number(g)},f.qn=function(l){var h=l.match(/Android ([\d.]+)/i),g=h?h[1].split(".").slice(0,2).join("."):"-1";return Number(g)},f.prototype.Wn=function(l){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.db?[3,2]:(me("SimpleDb","Opening database:",this.name),h=this,[4,new Promise(function(E,S){var R=indexedDB.open(g.name,g.version);R.onsuccess=function(V){E(V.target.result)},R.onblocked=function(){S(new wo(l,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},R.onerror=function(V){var Z=V.target.error;S("VersionError"===Z.name?new G(z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new wo(l,Z))},R.onupgradeneeded=function(V){me("SimpleDb",'Database "'+g.name+'" requires upgrade from version:',V.oldVersion),g.Mn.createOrUpgrade(V.target.result,R.transaction,V.oldVersion,g.version).next(function(){me("SimpleDb","Database upgrade to version "+g.version+" complete")})}})]);case 1:h.db=y.sent(),y.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(E){return g.jn(E)}),this.db)]}})})},f.prototype.Kn=function(l){this.jn=l,this.db&&(this.db.onversionchange=function(h){return l(h)})},f.prototype.runTransaction=function(l,h,g,y){return U.__awaiter(this,void 0,void 0,function(){var E,S,R,V,Z;return U.__generator(this,function(re){switch(re.label){case 0:E="readonly"===h,S=0,R=function(){var ge,_e,Oe,et,ht;return U.__generator(this,function(an){switch(an.label){case 0:++S,an.label=1;case 1:return an.trys.push([1,4,,5]),[4,V.Wn(l)];case 2:return V.db=an.sent(),ge=Rc.open(V.db,l,E?"readonly":"readwrite",g),_e=y(ge).catch(function(Xt){return ge.abort(Xt),It.reject(Xt)}).Fn(),Oe={},_e.catch(function(){}),[4,ge.Gn];case 3:return[2,(Oe.value=(an.sent(),_e),Oe)];case 4:return me("SimpleDb","Transaction failed with error:",(et=an.sent()).message,"Retrying:",ht="FirebaseError"!==et.name&&S<3),V.close(),ht?[3,5]:[2,{value:Promise.reject(et)}];case 5:return[2]}})},V=this,re.label=1;case 1:return[5,R()];case 2:if("object"==typeof(Z=re.sent()))return[2,Z.value];re.label=3;case 3:return[3,1];case 4:return[2]}})})},f.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},f}(),Pc=function(){function f(l){this.zn=l,this.Hn=!1,this.Yn=null}return Object.defineProperty(f.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cursor",{set:function(l){this.zn=l},enumerable:!1,configurable:!0}),f.prototype.done=function(){this.Hn=!0},f.prototype.Xn=function(l){this.Yn=l},f.prototype.delete=function(){return Pa(this.zn.delete())},f}(),wo=function(f){function l(h,g){var y=this;return(y=f.call(this,z.UNAVAILABLE,"IndexedDB transaction '"+h+"' failed: "+g)||this).name="IndexedDbTransactionError",y}return U.__extends(l,f),l}(G);function js(f){return"IndexedDbTransactionError"===f.name}var Rc=function(){function f(l,h){var g=this;this.action=l,this.transaction=h,this.aborted=!1,this.Zn=new Bo,this.transaction.oncomplete=function(){g.Zn.resolve()},this.transaction.onabort=function(){h.error?g.Zn.reject(new wo(l,h.error)):g.Zn.resolve()},this.transaction.onerror=function(y){var E=N(y.target.error);g.Zn.reject(new wo(l,E))}}return f.open=function(l,h,g,y){try{return new f(h,l.transaction(y,g))}catch(E){throw new wo(h,E)}},Object.defineProperty(f.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),f.prototype.abort=function(l){l&&this.Zn.reject(l),this.aborted||(me("SimpleDb","Aborting transaction:",l?l.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},f.prototype.store=function(l){var h=this.transaction.objectStore(l);return new ed(h)},f}(),ed=function(){function f(l){this.store=l}return f.prototype.put=function(l,h){var g;return void 0!==h?(me("SimpleDb","PUT",this.store.name,l,h),g=this.store.put(h,l)):(me("SimpleDb","PUT",this.store.name,"<auto-key>",l),g=this.store.put(l)),Pa(g)},f.prototype.add=function(l){return me("SimpleDb","ADD",this.store.name,l,l),Pa(this.store.add(l))},f.prototype.get=function(l){var h=this;return Pa(this.store.get(l)).next(function(g){return void 0===g&&(g=null),me("SimpleDb","GET",h.store.name,l,g),g})},f.prototype.delete=function(l){return me("SimpleDb","DELETE",this.store.name,l),Pa(this.store.delete(l))},f.prototype.count=function(){return me("SimpleDb","COUNT",this.store.name),Pa(this.store.count())},f.prototype.ts=function(l,h){var g=this.cursor(this.options(l,h)),y=[];return this.es(g,function(E,S){y.push(S)}).next(function(){return y})},f.prototype.ns=function(l,h){me("SimpleDb","DELETE ALL",this.store.name);var g=this.options(l,h);g.ss=!1;var y=this.cursor(g);return this.es(y,function(E,S,R){return R.delete()})},f.prototype.rs=function(l,h){var g;h?g=l:(g={},h=l);var y=this.cursor(g);return this.es(y,h)},f.prototype.os=function(l){var h=this.cursor({});return new It(function(g,y){h.onerror=function(E){var S=N(E.target.error);y(S)},h.onsuccess=function(E){var S=E.target.result;S?l(S.primaryKey,S.value).next(function(R){R?S.continue():g()}):g()}})},f.prototype.es=function(l,h){var g=[];return new It(function(y,E){l.onerror=function(S){E(S.target.error)},l.onsuccess=function(S){var R=S.target.result;if(R){var V=new Pc(R),Z=h(R.primaryKey,R.value,V);if(Z instanceof It){var re=Z.catch(function(ge){return V.done(),It.reject(ge)});g.push(re)}V.Sn?y():null===V.Jn?R.continue():R.continue(V.Jn)}else y()}}).next(function(){return It.$n(g)})},f.prototype.options=function(l,h){var g=void 0;return void 0!==l&&("string"==typeof l?g=l:h=l),{index:g,range:h}},f.prototype.cursor=function(l){var h="next";if(l.reverse&&(h="prev"),l.index){var g=this.store.index(l.index);return l.ss?g.openKeyCursor(l.range,h):g.openCursor(l.range,h)}return this.store.openCursor(l.range,h)},f}();function Pa(f){return new It(function(l,h){f.onsuccess=function(g){l(g.target.result)},f.onerror=function(g){var y=N(g.target.error);h(y)}})}var C=!1;function N(f){var l=Jo.On(ce.getUA());if(l>=12.2&&l<13){var h="An internal error was encountered in the Indexed Database server";if(f.message.indexOf(h)>=0){var g=new G("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+h+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return C||(C=!0,setTimeout(function(){throw g},0)),g}}return f}function j(){return typeof window<"u"?window:null}function ee(){return typeof document<"u"?document:null}var ve=function(){function f(l,h,g,y,E){this.cs=l,this.dn=h,this.us=g,this.op=y,this.hs=E,this.ls=new Bo,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(S){})}return f._s=function(l,h,g,y,E){var S=new f(l,h,Date.now()+g,y,E);return S.start(g),S},f.prototype.start=function(l){var h=this;this.fs=setTimeout(function(){return h.ds()},l)},f.prototype.pn=function(){return this.ds()},f.prototype.cancel=function(l){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new G(z.CANCELLED,"Operation cancelled"+(l?": "+l:""))))},f.prototype.ds=function(){var l=this;this.cs.ws(function(){return null!==l.fs?(l.clearTimeout(),l.op().then(function(h){return l.ls.resolve(h)})):Promise.resolve()})},f.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},f}(),Ye=function(){function f(){var l=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new Oa(this,"async_queue_retry"),this.Vs=function(){var g=ee();g&&me("AsyncQueue","Visibility state changed to  ",g.visibilityState),l.ys.Vn()};var h=ee();h&&"function"==typeof h.addEventListener&&h.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(f.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),f.prototype.ws=function(l){this.enqueue(l)},f.prototype.bs=function(l){this.vs(),this.Ss(l)},f.prototype.Ds=function(){if(!this.Is){this.Is=!0;var l=ee();l&&"function"==typeof l.removeEventListener&&l.removeEventListener("visibilitychange",this.Vs)}},f.prototype.enqueue=function(l){return this.vs(),this.Is?new Promise(function(h){}):this.Ss(l)},f.prototype.Cs=function(l){var h=this;this.ws(function(){return h.Es.push(l),h.Ns()})},f.prototype.Ns=function(){return U.__awaiter(this,void 0,void 0,function(){var l,h=this;return U.__generator(this,function(g){switch(g.label){case 0:if(0===this.Es.length)return[3,5];g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return g.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!js(l=g.sent()))throw l;return me("AsyncQueue","Operation failed with retryable error: "+l),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return h.Ns()}),g.label=5;case 5:return[2]}})})},f.prototype.Ss=function(l){var h=this,g=this.Ts.then(function(){return h.gs=!0,l().catch(function(y){throw h.Rs=y,h.gs=!1,lt("INTERNAL UNHANDLED ERROR: ",(S=(E=y).message||"",E.stack&&(S=E.stack.includes(E.message)?E.stack:E.message+"\n"+E.stack),S)),y;var E,S}).then(function(y){return h.gs=!1,y})});return this.Ts=g,g},f.prototype.yn=function(l,h,g){var y=this;this.vs(),this.Ps.indexOf(l)>-1&&(h=0);var E=ve._s(this,l,h,g,function(S){return y.Fs(S)});return this.As.push(E),E},f.prototype.vs=function(){this.Rs&&Re()},f.prototype.xs=function(){},f.prototype.$s=function(){return U.__awaiter(this,void 0,void 0,function(){var l;return U.__generator(this,function(h){switch(h.label){case 0:return[4,l=this.Ts];case 1:h.sent(),h.label=2;case 2:if(l!==this.Ts)return[3,0];h.label=3;case 3:return[2]}})})},f.prototype.ks=function(l){for(var h=0,g=this.As;h<g.length;h++)if(g[h].dn===l)return!0;return!1},f.prototype.Ms=function(l){var h=this;return this.$s().then(function(){h.As.sort(function(S,R){return S.us-R.us});for(var g=0,y=h.As;g<y.length;g++){var E=y[g];if(E.pn(),"all"!==l&&E.dn===l)break}return h.$s()})},f.prototype.Os=function(l){this.Ps.push(l)},f.prototype.Fs=function(l){var h=this.As.indexOf(l);this.As.splice(h,1)},f}();function Rt(f,l){if(lt("AsyncQueue",l+": "+f),js(f))return new G(z.UNAVAILABLE,l+": "+f);throw f}var Gn=function(){this.Ls=void 0,this.listeners=[]},ti=function(){this.Bs=new Yt(function(f){return ua(f)},rc),this.onlineState="Unknown",this.qs=new Set};function dr(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y,E,S,R,V;return U.__generator(this,function(Z){switch(Z.label){case 0:if(h=Ze(f),y=!1,(E=h.Bs.get(g=l.query))||(y=!0,E=new Gn),!y)return[3,4];Z.label=1;case 1:return Z.trys.push([1,3,,4]),S=E,[4,h.Us(g)];case 2:return S.Ls=Z.sent(),[3,4];case 3:return R=Z.sent(),V=Rt(R,"Initialization of query '"+ws(l.query)+"' failed"),[2,void l.onError(V)];case 4:return h.Bs.set(g,E),E.listeners.push(l),l.Qs(h.onlineState),E.Ls&&l.Ws(E.Ls)&&zs(h),[2]}})})}function Co(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y,E,S;return U.__generator(this,function(R){return h=Ze(f),y=!1,(E=h.Bs.get(g=l.query))&&(S=E.listeners.indexOf(l))>=0&&(E.listeners.splice(S,1),y=0===E.listeners.length),y?[2,(h.Bs.delete(g),h.js(g))]:[2]})})}function es(f,l){for(var h=Ze(f),g=!1,y=0,E=l;y<E.length;y++){var S=E[y],V=h.Bs.get(S.query);if(V){for(var Z=0,re=V.listeners;Z<re.length;Z++)re[Z].Ws(S)&&(g=!0);V.Ls=S}}g&&zs(h)}function Nc(f,l,h){var g=Ze(f),y=g.Bs.get(l);if(y)for(var E=0,S=y.listeners;E<S.length;E++)S[E].onError(h);g.Bs.delete(l)}function zs(f){f.qs.forEach(function(l){l.next()})}var ll=function(){function f(l,h,g){this.query=l,this.Ks=h,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=g||{}}return f.prototype.Ws=function(l){if(!this.options.includeMetadataChanges){for(var h=[],g=0,y=l.docChanges;g<y.length;g++){var E=y[g];3!==E.type&&h.push(E)}l=new xn(l.query,l.docs,l.Qt,h,l.Wt,l.fromCache,l.jt,!0)}var S=!1;return this.Gs?this.Hs(l)&&(this.Ks.next(l),S=!0):this.Ys(l,this.onlineState)&&(this.Js(l),S=!0),this.zs=l,S},f.prototype.onError=function(l){this.Ks.error(l)},f.prototype.Qs=function(l){this.onlineState=l;var h=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,l)&&(this.Js(this.zs),h=!0),h},f.prototype.Ys=function(l,h){return!l.fromCache||!(this.options.Xs&&"Offline"!==h||l.docs.m()&&"Offline"!==h)},f.prototype.Hs=function(l){return l.docChanges.length>0||!!(l.jt||this.zs&&this.zs.hasPendingWrites!==l.hasPendingWrites)&&!0===this.options.includeMetadataChanges},f.prototype.Js=function(l){l=xn.Gt(l.query,l.docs,l.Wt,l.fromCache),this.Gs=!0,this.Ks.next(l)},f}(),xo=function(){function f(l){this.uid=l}return f.prototype.Zs=function(){return null!=this.uid},f.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},f.prototype.isEqual=function(l){return l.uid===this.uid},f}();xo.UNAUTHENTICATED=new xo(null),xo.ei=new xo("google-credentials-uid"),xo.ni=new xo("first-party-uid");var Eo=function(){function f(l,h){var g=this;this.previousValue=l,h&&(h.si=function(y){return g.ii(y)},this.ri=function(y){return h.oi(y)})}return f.prototype.ii=function(l){return this.previousValue=Math.max(l,this.previousValue),this.previousValue},f.prototype.next=function(){var l=++this.previousValue;return this.ri&&this.ri(l),l},f}();function td(f,l){return"firestore_clients_"+f+"_"+l}function zh(f,l,h){var g="firestore_mutations_"+f+"_"+h;return l.Zs()&&(g+="_"+l.uid),g}function yu(f,l){return"firestore_targets_"+f+"_"+l}Eo.ai=-1;var Hh=function(){function f(l,h,g,y){this.user=l,this.batchId=h,this.state=g,this.error=y}return f.ci=function(l,h,g){var y=JSON.parse(g),E="object"==typeof y&&-1!==["pending","acknowledged","rejected"].indexOf(y.state)&&(void 0===y.error||"object"==typeof y.error),S=void 0;return E&&y.error&&(E="string"==typeof y.error.message&&"string"==typeof y.error.code)&&(S=new G(y.error.code,y.error.message)),E?new f(l,h,y.state,S):(lt("SharedClientState","Failed to parse mutation state for ID '"+h+"': "+g),null)},f.prototype.ui=function(){var l={state:this.state,updateTimeMs:Date.now()};return this.error&&(l.error={code:this.error.code,message:this.error.message}),JSON.stringify(l)},f}(),zl=function(){function f(l,h,g){this.targetId=l,this.state=h,this.error=g}return f.ci=function(l,h){var g=JSON.parse(h),y="object"==typeof g&&-1!==["not-current","current","rejected"].indexOf(g.state)&&(void 0===g.error||"object"==typeof g.error),E=void 0;return y&&g.error&&(y="string"==typeof g.error.message&&"string"==typeof g.error.code)&&(E=new G(g.error.code,g.error.message)),y?new f(l,g.state,E):(lt("SharedClientState","Failed to parse target state for ID '"+l+"': "+h),null)},f.prototype.ui=function(){var l={state:this.state,updateTimeMs:Date.now()};return this.error&&(l.error={code:this.error.code,message:this.error.message}),JSON.stringify(l)},f}(),Hl=function(){function f(l,h){this.clientId=l,this.activeTargetIds=h}return f.ci=function(l,h){for(var g=JSON.parse(h),y="object"==typeof g&&g.activeTargetIds instanceof Array,E=yn(),S=0;y&&S<g.activeTargetIds.length;++S)y=Ee(g.activeTargetIds[S]),E=E.add(g.activeTargetIds[S]);return y?new f(l,E):(lt("SharedClientState","Failed to parse client data for instance '"+l+"': "+h),null)},f}(),nd=function(){function f(l,h){this.clientId=l,this.onlineState=h}return f.ci=function(l){var h=JSON.parse(l);return"object"==typeof h&&-1!==["Unknown","Online","Offline"].indexOf(h.onlineState)&&"string"==typeof h.clientId?new f(h.clientId,h.onlineState):(lt("SharedClientState","Failed to parse online state: "+l),null)},f}(),Cs=function(){function f(){this.activeTargetIds=yn()}return f.prototype.hi=function(l){this.activeTargetIds=this.activeTargetIds.add(l)},f.prototype.li=function(l){this.activeTargetIds=this.activeTargetIds.delete(l)},f.prototype.ui=function(){var l={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(l)},f}(),Fc=function(){function f(l,h,g,y,E){this.window=l,this.fn=h,this.persistenceKey=g,this._i=y,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new $n(Ut),this.Ei=!1,this.Ii=[];var S=g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=E,this.Ai=td(this.persistenceKey,this._i),this.Ri="firestore_sequence_number_"+this.persistenceKey,this.Ti=this.Ti.ot(this._i,new Cs),this.gi=new RegExp("^firestore_clients_"+S+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+S+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+S+"_(\\d+)$"),this.Vi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.wi)}return f.Ln=function(l){return!(!l||!l.localStorage)},f.prototype.start=function(){return U.__awaiter(this,void 0,void 0,function(){var l,h,g,y,E,S,R,V,Z,re,_e=this;return U.__generator(this,function(Oe){switch(Oe.label){case 0:return[4,this.fi.pi()];case 1:for(l=Oe.sent(),h=0,g=l;h<g.length;h++)(y=g[h])!==this._i&&(E=this.getItem(td(this.persistenceKey,y)))&&(S=Hl.ci(y,E))&&(this.Ti=this.Ti.ot(S.clientId,S));for(this.bi(),(R=this.storage.getItem(this.Vi))&&(V=this.vi(R))&&this.Si(V),Z=0,re=this.Ii;Z<re.length;Z++)this.mi(re[Z]);return this.Ii=[],this.window.addEventListener("unload",function(){return _e.Di()}),this.Ei=!0,[2]}})})},f.prototype.oi=function(l){this.setItem(this.Ri,JSON.stringify(l))},f.prototype.Ci=function(){return this.Ni(this.Ti)},f.prototype.Fi=function(l){var h=!1;return this.Ti.forEach(function(g,y){y.activeTargetIds.has(l)&&(h=!0)}),h},f.prototype.xi=function(l){this.$i(l,"pending")},f.prototype.ki=function(l,h,g){this.$i(l,h,g),this.Mi(l)},f.prototype.Oi=function(l){var h="not-current";if(this.Fi(l)){var g=this.storage.getItem(yu(this.persistenceKey,l));if(g){var y=zl.ci(l,g);y&&(h=y.state)}}return this.Li.hi(l),this.bi(),h},f.prototype.Bi=function(l){this.Li.li(l),this.bi()},f.prototype.qi=function(l){return this.Li.activeTargetIds.has(l)},f.prototype.Ui=function(l){this.removeItem(yu(this.persistenceKey,l))},f.prototype.Qi=function(l,h,g){this.Wi(l,h,g)},f.prototype.ji=function(l,h,g){var y=this;h.forEach(function(E){y.Mi(E)}),this.currentUser=l,g.forEach(function(E){y.xi(E)})},f.prototype.Ki=function(l){this.Gi(l)},f.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},f.prototype.getItem=function(l){var h=this.storage.getItem(l);return me("SharedClientState","READ",l,h),h},f.prototype.setItem=function(l,h){me("SharedClientState","SET",l,h),this.storage.setItem(l,h)},f.prototype.removeItem=function(l){me("SharedClientState","REMOVE",l),this.storage.removeItem(l)},f.prototype.mi=function(l){var h=this,g=l;if(g.storageArea===this.storage){if(me("SharedClientState","EVENT",g.key,g.newValue),g.key===this.Ai)return void lt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return U.__awaiter(h,void 0,void 0,function(){var y,E,S,R,V,Z;return U.__generator(this,function(re){if(this.Ei){if(null!==g.key)if(this.gi.test(g.key)){if(null==g.newValue)return y=this.zi(g.key),[2,this.Hi(y,null)];if(E=this.Yi(g.key,g.newValue))return[2,this.Hi(E.clientId,E)]}else if(this.Pi.test(g.key)){if(null!==g.newValue&&(S=this.Ji(g.key,g.newValue)))return[2,this.Xi(S)]}else if(this.yi.test(g.key)){if(null!==g.newValue&&(R=this.Zi(g.key,g.newValue)))return[2,this.tr(R)]}else if(g.key===this.Vi){if(null!==g.newValue&&(V=this.vi(g.newValue)))return[2,this.Si(V)]}else g.key===this.Ri&&(Z=function(ge){var _e=Eo.ai;if(null!=ge)try{var Oe=JSON.parse(ge);at("number"==typeof Oe),_e=Oe}catch(et){lt("SharedClientState","Failed to read sequence number from WebStorage",et)}return _e}(g.newValue))!==Eo.ai&&this.si(Z)}else this.Ii.push(g);return[2]})})})}},Object.defineProperty(f.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),f.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},f.prototype.$i=function(l,h,g){var y=new Hh(this.currentUser,l,h,g),E=zh(this.persistenceKey,this.currentUser,l);this.setItem(E,y.ui())},f.prototype.Mi=function(l){var h=zh(this.persistenceKey,this.currentUser,l);this.removeItem(h)},f.prototype.Gi=function(l){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:l}))},f.prototype.Wi=function(l,h,g){var y=yu(this.persistenceKey,l),E=new zl(l,h,g);this.setItem(y,E.ui())},f.prototype.zi=function(l){var h=this.gi.exec(l);return h?h[1]:null},f.prototype.Yi=function(l,h){var g=this.zi(l);return Hl.ci(g,h)},f.prototype.Ji=function(l,h){var g=this.Pi.exec(l),y=Number(g[1]);return Hh.ci(new xo(void 0!==g[2]?g[2]:null),y,h)},f.prototype.Zi=function(l,h){var g=this.yi.exec(l),y=Number(g[1]);return zl.ci(y,h)},f.prototype.vi=function(l){return nd.ci(l)},f.prototype.Xi=function(l){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){return l.user.uid===this.currentUser.uid?[2,this.fi.er(l.batchId,l.state,l.error)]:(me("SharedClientState","Ignoring mutation for non-active user "+l.user.uid),[2])})})},f.prototype.tr=function(l){return this.fi.nr(l.targetId,l.state,l.error)},f.prototype.Hi=function(l,h){var g=this,y=h?this.Ti.ot(l,h):this.Ti.remove(l),E=this.Ni(this.Ti),S=this.Ni(y),R=[],V=[];return S.forEach(function(Z){E.has(Z)||R.push(Z)}),E.forEach(function(Z){S.has(Z)||V.push(Z)}),this.fi.sr(R,V).then(function(){g.Ti=y})},f.prototype.Si=function(l){this.Ti.get(l.clientId)&&this.di(l.onlineState)},f.prototype.Ni=function(l){var h=yn();return l.forEach(function(g,y){h=h.kt(y.activeTargetIds)}),h},f}(),ul=function(){function f(){this.ir=new Cs,this.rr={},this.di=null,this.si=null}return f.prototype.xi=function(l){},f.prototype.ki=function(l,h,g){},f.prototype.Oi=function(l){return this.ir.hi(l),this.rr[l]||"not-current"},f.prototype.Qi=function(l,h,g){this.rr[l]=h},f.prototype.Bi=function(l){this.ir.li(l)},f.prototype.qi=function(l){return this.ir.activeTargetIds.has(l)},f.prototype.Ui=function(l){delete this.rr[l]},f.prototype.Ci=function(){return this.ir.activeTargetIds},f.prototype.Fi=function(l){return this.ir.activeTargetIds.has(l)},f.prototype.start=function(){return this.ir=new Cs,Promise.resolve()},f.prototype.ji=function(l,h,g){},f.prototype.Ki=function(l){},f.prototype.Di=function(){},f.prototype.oi=function(l){},f}(),id=function(){function f(l,h,g,y){this.batchId=l,this.ar=h,this.baseMutations=g,this.mutations=y}return f.prototype.cr=function(l,h,g){for(var y=g.ur,E=0;E<this.mutations.length;E++){var S=this.mutations[E];S.key.isEqual(l)&&(h=ei(S,h,y[E]))}return h},f.prototype.hr=function(l,h){for(var g=0,y=this.baseMutations;g<y.length;g++){var E=y[g];E.key.isEqual(l)&&(h=Sc(E,h,h,this.ar))}for(var S=h,R=0,V=this.mutations;R<V.length;R++){var Z=V[R];Z.key.isEqual(l)&&(h=Sc(Z,h,S,this.ar))}return h},f.prototype.lr=function(l){var h=this,g=l;return this.mutations.forEach(function(y){var E=h.hr(y.key,l.get(y.key));E&&(g=g.ot(y.key,E))}),g},f.prototype.keys=function(){return this.mutations.reduce(function(l,h){return l.add(h.key)},Qe())},f.prototype.isEqual=function(l){return this.batchId===l.batchId&&cn(this.mutations,l.mutations,function(h,g){return Ma(h,g)})&&cn(this.baseMutations,l.baseMutations,function(h,g){return Ma(h,g)})},f}(),bu=function(){function f(l,h,g,y){this.batch=l,this._r=h,this.ur=g,this.dr=y}return f.from=function(l,h,g){at(l.mutations.length===g.length);for(var y=Y,E=l.mutations,S=0;S<E.length;S++)y=y.ot(E[S].key,g[S].version);return new f(l,h,g,y)},f}(),Qf=function(){function f(){this.wr=new Yt(function(l){return l.toString()},function(l,h){return l.isEqual(h)}),this.mr=!1}return Object.defineProperty(f.prototype,"readTime",{get:function(){return this.Tr},set:function(l){this.Tr=l},enumerable:!1,configurable:!0}),f.prototype.Er=function(l,h){this.Ir(),this.readTime=h,this.wr.set(l.key,l)},f.prototype.Ar=function(l,h){this.Ir(),h&&(this.readTime=h),this.wr.set(l,null)},f.prototype.Rr=function(l,h){this.Ir();var g=this.wr.get(h);return void 0!==g?It.resolve(g):this.gr(l,h)},f.prototype.getEntries=function(l,h){return this.Pr(l,h)},f.prototype.apply=function(l){return this.Ir(),this.mr=!0,this.yr(l)},f.prototype.Ir=function(){},f}(),xs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xd=function(){function f(){this.Vr=[]}return f.prototype.pr=function(l){this.Vr.push(l)},f.prototype.br=function(){this.Vr.forEach(function(l){return l()})},f}(),wu=function(){function f(l,h,g){this.vr=l,this.Sr=h,this.Dr=g}return f.prototype.Cr=function(l,h){var g=this;return this.Sr.Nr(l,h).next(function(y){return g.Fr(l,h,y)})},f.prototype.Fr=function(l,h,g){return this.vr.Rr(l,h).next(function(y){for(var E=0,S=g;E<S.length;E++)y=S[E].hr(h,y);return y})},f.prototype.$r=function(l,h,g){var y=le();return h.forEach(function(E,S){for(var R=0,V=g;R<V.length;R++)S=V[R].hr(E,S);y=y.ot(E,S)}),y},f.prototype.kr=function(l,h){var g=this;return this.vr.getEntries(l,h).next(function(y){return g.Mr(l,y)})},f.prototype.Mr=function(l,h){var g=this;return this.Sr.Or(l,h).next(function(y){var E=g.$r(l,h,y),S=fe();return E.forEach(function(R,V){V||(V=new Pr(R,zt.min())),S=S.ot(R,V)}),S})},f.prototype.Lr=function(l,h,g){return Le.F((y=h).path)&&null===y.collectionGroup&&0===y.filters.length?this.Br(l,h.path):_u(h)?this.qr(l,h,g):this.Ur(l,h,g);var y},f.prototype.Br=function(l,h){return this.Cr(l,new Le(h)).next(function(g){var y=te();return g instanceof oi&&(y=y.ot(g.key,g)),y})},f.prototype.qr=function(l,h,g){var y=this,E=h.collectionGroup,S=te();return this.Dr.Qr(l,E).next(function(R){return It.forEach(R,function(V){var re,ge,Z=(re=h,ge=V.child(E),new bs(ge,null,re.on.slice(),re.filters.slice(),re.limit,re.an,re.startAt,re.endAt));return y.Ur(l,Z,g).next(function(re){re.forEach(function(ge,_e){S=S.ot(ge,_e)})})}).next(function(){return S})})},f.prototype.Ur=function(l,h,g){var y,E,S=this;return this.vr.Lr(l,h,g).next(function(R){return y=R,S.Sr.Wr(l,h)}).next(function(R){return S.jr(l,E=R,y).next(function(V){y=V;for(var Z=0,re=E;Z<re.length;Z++)for(var ge=re[Z],_e=0,Oe=ge.mutations;_e<Oe.length;_e++){var et=Oe[_e],ht=et.key,an=y.get(ht),Xt=Sc(et,an,an,ge.ar);y=Xt instanceof oi?y.ot(ht,Xt):y.remove(ht)}})}).next(function(){return y.forEach(function(R,V){Bl(h,V)||(y=y.remove(R))}),y})},f.prototype.jr=function(l,h,g){for(var y=Qe(),E=0,S=h;E<S.length;E++)for(var R=0,V=S[E].mutations;R<V.length;R++){var Z=V[R];Z instanceof Wr&&null===g.get(Z.key)&&(y=y.add(Z.key))}var re=g;return this.vr.getEntries(l,y).next(function(ge){return ge.forEach(function(_e,Oe){null!==Oe&&Oe instanceof oi&&(re=re.ot(_e,Oe))}),re})},f}(),Ii=function(){function f(l,h,g,y){this.targetId=l,this.fromCache=h,this.Kr=g,this.Gr=y}return f.zr=function(l,h){for(var g=Qe(),y=Qe(),E=0,S=h.docChanges;E<S.length;E++){var R=S[E];switch(R.type){case 0:g=g.add(R.doc.key);break;case 1:y=y.add(R.doc.key)}}return new f(l,h.fromCache,g,y)},f}();function dl(f,l){var g=f[1],E=l[1],S=Ut(f[0],l[0]);return 0===S?Ut(g,E):S}var Ra=function(){function f(l){this.Hr=l,this.buffer=new xi(dl),this.Yr=0}return f.prototype.Jr=function(){return++this.Yr},f.prototype.Xr=function(l){var h=[l,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(h);else{var g=this.buffer.last();dl(h,g)<0&&(this.buffer=this.buffer.delete(g).add(h))}},Object.defineProperty(f.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),f}(),jo={Zr:!1,eo:0,no:0,so:0},Qr=function(){function f(l,h,g){this.io=l,this.ro=h,this.oo=g}return f.ao=function(l){return new f(l,f.co,f.uo)},f}();Qr.ho=-1,Qr.lo=1048576,Qr._o=41943040,Qr.co=10,Qr.uo=1e3,Qr.fo=new Qr(Qr._o,Qr.co,Qr.uo),Qr.do=new Qr(Qr.ho,0,0);var Jd=function(){function f(l,h){this.wo=l,this.cs=h,this.mo=!1,this.To=null}return f.prototype.start=function(l){this.wo.params.io!==Qr.ho&&this.Eo(l)},f.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(f.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),f.prototype.Eo=function(l){var h=this,g=this.mo?3e5:6e4;me("LruGarbageCollector","Garbage collection scheduled in "+g+"ms"),this.To=this.cs.yn("lru_garbage_collection",g,function(){return U.__awaiter(h,void 0,void 0,function(){var y;return U.__generator(this,function(E){switch(E.label){case 0:this.To=null,this.mo=!0,E.label=1;case 1:return E.trys.push([1,3,,7]),[4,l.Io(this.wo)];case 2:return E.sent(),[3,7];case 3:return js(y=E.sent())?(me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",y),[3,6]):[3,4];case 4:return[4,ci(y)];case 5:E.sent(),E.label=6;case 6:return[3,7];case 7:return[4,this.Eo(l)];case 8:return E.sent(),[2]}})})})},f}(),hl=function(){function f(l,h){this.Ao=l,this.params=h}return f.prototype.Ro=function(l,h){return this.Ao.Po(l).next(function(g){return Math.floor(h/100*g)})},f.prototype.yo=function(l,h){var g=this;if(0===h)return It.resolve(Eo.ai);var y=new Ra(h);return this.Ao.Ce(l,function(E){return y.Xr(E.sequenceNumber)}).next(function(){return g.Ao.Vo(l,function(E){return y.Xr(E)})}).next(function(){return y.maxValue})},f.prototype.po=function(l,h,g){return this.Ao.po(l,h,g)},f.prototype.bo=function(l,h){return this.Ao.bo(l,h)},f.prototype.vo=function(l,h){var g=this;return this.params.io===Qr.ho?(me("LruGarbageCollector","Garbage collection skipped; disabled"),It.resolve(jo)):this.So(l).next(function(y){return y<g.params.io?(me("LruGarbageCollector","Garbage collection skipped; Cache size "+y+" is lower than threshold "+g.params.io),jo):g.Do(l,h)})},f.prototype.So=function(l){return this.Ao.So(l)},f.prototype.Do=function(l,h){var g,y,E,S,R,V,Z,re=this,ge=Date.now();return this.Ro(l,this.params.ro).next(function(_e){return _e>re.params.oo?(me("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+re.params.oo+" from "+_e),y=re.params.oo):y=_e,S=Date.now(),re.yo(l,y)}).next(function(_e){return g=_e,R=Date.now(),re.po(l,g,h)}).next(function(_e){return E=_e,V=Date.now(),re.bo(l,g)}).next(function(_e){return Z=Date.now(),Ne()<=pe.LogLevel.DEBUG&&me("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(S-ge)+"ms\n\tDetermined least recently used "+y+" in "+(R-S)+"ms\n\tRemoved "+E+" targets in "+(V-R)+"ms\n\tRemoved "+_e+" documents in "+(Z-V)+"ms\nTotal Duration: "+(Z-ge)+"ms"),It.resolve({Zr:!0,eo:y,no:E,so:_e})})},f}();function Ki(f){for(var l="",h=0;h<f.length;h++)l.length>0&&(l=th(l)),l=eh(f.get(h),l);return th(l)}function eh(f,l){for(var h=l,g=f.length,y=0;y<g;y++){var E=f.charAt(y);switch(E){case"\0":h+="\x01\x10";break;case"\x01":h+="\x01\x11";break;default:h+=E}}return h}function th(f){return f+"\x01\x01"}function Hs(f){var l=f.length;if(at(l>=2),2===l)return at("\x01"===f.charAt(0)&&"\x01"===f.charAt(1)),he.P();for(var h=l-2,g=[],y="",E=0;E<l;){var S=f.indexOf("\x01",E);switch((S<0||S>h)&&Re(),f.charAt(S+1)){case"\x01":var R=f.substring(E,S),V=void 0;0===y.length?V=R:(V=y+=R,y=""),g.push(V);break;case"\x10":y+=f.substring(E,S),y+="\0";break;case"\x11":y+=f.substring(E,S+1);break;default:Re()}E=S+2}return new he(g)}var fl=function(f){this.Co=f};function nh(f,l){if(l.document)return V=!!l.hasCommittedMutations,Z=er(f.Co,(R=l.document).name),re=vo(R.updateTime),ge=new Or({mapValue:{fields:R.fields}}),new oi(Z,re,ge,{hasCommittedMutations:!!V});var R,V,Z,re,ge;if(l.noDocument){var h=Le.$(l.noDocument.path),g=Cu(l.noDocument.readTime);return new Pr(h,g,{hasCommittedMutations:!!l.hasCommittedMutations})}if(l.unknownDocument){var y=Le.$(l.unknownDocument.path),E=Cu(l.unknownDocument.version);return new Ul(y,E)}return Re()}function Lc(f,l,h){var _e,Oe,g=$h(h),y=l.key.path.h().A();if(l instanceof oi){var E={name:ra(_e=f.Co,(Oe=l).key),fields:Oe.rn().mapValue.fields,updateTime:ia(_e,Oe.version.Z())};return new or(null,null,E,l.hasCommittedMutations,g,y)}if(l instanceof Pr){var R=l.key.path.A(),V=sc(l.version),Z=l.hasCommittedMutations;return new or(null,new ep(R,V),null,Z,g,y)}if(l instanceof Ul){var re=l.key.path.A(),ge=sc(l.version);return new or(new s_(re,ge),null,null,!0,g,y)}return Re()}function $h(f){var l=f.Z();return[l.seconds,l.nanoseconds]}function Vr(f){var l=new Qt(f[0],f[1]);return zt.J(l)}function sc(f){var l=f.Z();return new od(l.seconds,l.nanoseconds)}function Cu(f){var l=new Qt(f.seconds,f.nanoseconds);return zt.J(l)}function In(f,l){var h=(l.baseMutations||[]).map(function(E){return br(f.Co,E)}),g=l.mutations.map(function(E){return br(f.Co,E)}),y=Qt.fromMillis(l.localWriteTimeMs);return new id(l.batchId,y,h,g)}function Uc(f){var l,h,g=Cu(f.readTime),y=void 0!==f.lastLimboFreeSnapshotVersion?Cu(f.lastLimboFreeSnapshotVersion):zt.min();return void 0!==f.query.documents?(at(1===(h=f.query).documents.length),l=Uo(Aa(oa(h.documents[0])))):l=Ec(f.query),new Ci(l,f.targetId,0,f.lastListenSequenceNumber,g,y,Un.fromBase64String(f.resumeToken))}function Xf(f,l){var h,g=sc(l.nt),y=sc(l.lastLimboFreeSnapshotVersion);h=jt(l.target)?Sa(f.Co,l.target):wr(f.Co,l.target);var E=l.resumeToken.toBase64();return new hr(l.targetId,xt(l.target),g,E,l.sequenceNumber,y,h)}var rd=function(){function f(l,h,g,y){this.userId=l,this.serializer=h,this.Dr=g,this.No=y,this.Fo={}}return f.xo=function(l,h,g,y){return at(""!==l.uid),new f(l.Zs()?l.uid:"",h,g,y)},f.prototype.$o=function(l){var h=!0,g=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wi(l).rs({index:Yi.userMutationsIndex,range:g},function(y,E,S){h=!1,S.done()}).next(function(){return h})},f.prototype.ko=function(l,h,g,y){var E=this,S=Es(l),R=Wi(l);return R.add({}).next(function(V){at("number"==typeof V);for(var Z=new id(V,h,g,y),re=function(Xt,On,Xn){var gi=Xn.baseMutations.map(function(fr){return Ui(Xt.Co,fr)}),bi=Xn.mutations.map(function(fr){return Ui(Xt.Co,fr)});return new Yi(On,Xn.batchId,Xn.ar.toMillis(),gi,bi)}(E.serializer,E.userId,Z),ge=[],_e=new xi(function(Xt,On){return Ut(Xt.R(),On.R())}),Oe=0,et=y;Oe<et.length;Oe++){var ht=et[Oe],an=ao.key(E.userId,ht.key.path,V);_e=_e.add(ht.key.path.h()),ge.push(R.put(re)),ge.push(S.put(an,ao.PLACEHOLDER))}return _e.forEach(function(Xt){ge.push(E.Dr.Mo(l,Xt))}),l.pr(function(){E.Fo[V]=Z.keys()}),It.$n(ge).next(function(){return Z})})},f.prototype.Oo=function(l,h){var g=this;return Wi(l).get(h).next(function(y){return y?(at(y.userId===g.userId),In(g.serializer,y)):null})},f.prototype.Lo=function(l,h){var g=this;return this.Fo[h]?It.resolve(this.Fo[h]):this.Oo(l,h).next(function(y){if(y){var E=y.keys();return g.Fo[h]=E,E}return null})},f.prototype.Bo=function(l,h){var g=this,y=h+1,E=IDBKeyRange.lowerBound([this.userId,y]),S=null;return Wi(l).rs({index:Yi.userMutationsIndex,range:E},function(R,V,Z){V.userId===g.userId&&(at(V.batchId>=y),S=In(g.serializer,V)),Z.done()}).next(function(){return S})},f.prototype.qo=function(l){var h=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),g=-1;return Wi(l).rs({index:Yi.userMutationsIndex,range:h,reverse:!0},function(y,E,S){g=E.batchId,S.done()}).next(function(){return g})},f.prototype.Uo=function(l){var h=this,g=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wi(l).ts(Yi.userMutationsIndex,g).next(function(y){return y.map(function(E){return In(h.serializer,E)})})},f.prototype.Nr=function(l,h){var g=this,y=ao.prefixForPath(this.userId,h.path),E=IDBKeyRange.lowerBound(y),S=[];return Es(l).rs({range:E},function(R,V,Z){var re=R[0],_e=R[2],Oe=Hs(R[1]);if(re===g.userId&&h.path.isEqual(Oe))return Wi(l).get(_e).next(function(et){if(!et)throw Re();at(et.userId===g.userId),S.push(In(g.serializer,et))});Z.done()}).next(function(){return S})},f.prototype.Or=function(l,h){var g=this,y=new xi(Ut),E=[];return h.forEach(function(S){var R=ao.prefixForPath(g.userId,S.path),V=IDBKeyRange.lowerBound(R),Z=Es(l).rs({range:V},function(re,ge,_e){var Oe=re[0],ht=re[2],an=Hs(re[1]);Oe===g.userId&&S.path.isEqual(an)?y=y.add(ht):_e.done()});E.push(Z)}),It.$n(E).next(function(){return g.Qo(l,y)})},f.prototype.Wr=function(l,h){var g=this,y=h.path,E=y.length+1,S=ao.prefixForPath(this.userId,y),R=IDBKeyRange.lowerBound(S),V=new xi(Ut);return Es(l).rs({range:R},function(Z,re,ge){var _e=Z[0],et=Z[2],ht=Hs(Z[1]);_e===g.userId&&y.T(ht)?ht.length===E&&(V=V.add(et)):ge.done()}).next(function(){return g.Qo(l,V)})},f.prototype.Qo=function(l,h){var g=this,y=[],E=[];return h.forEach(function(S){E.push(Wi(l).get(S).next(function(R){if(null===R)throw Re();at(R.userId===g.userId),y.push(In(g.serializer,R))}))}),It.$n(E).next(function(){return y})},f.prototype.Wo=function(l,h){var g=this;return qh(l.jo,this.userId,h).next(function(y){return l.pr(function(){g.Ko(h.batchId)}),It.forEach(y,function(E){return g.No.Go(l,E)})})},f.prototype.Ko=function(l){delete this.Fo[l]},f.prototype.zo=function(l){var h=this;return this.$o(l).next(function(g){if(!g)return It.resolve();var y=IDBKeyRange.lowerBound(ao.prefixForUser(h.userId)),E=[];return Es(l).rs({range:y},function(S,R,V){if(S[0]===h.userId){var Z=Hs(S[1]);E.push(Z)}else V.done()}).next(function(){at(0===E.length)})})},f.prototype.Ho=function(l,h){return Br(l,this.userId,h)},f.prototype.Yo=function(l){var h=this;return Vc(l).get(this.userId).next(function(g){return g||new So(h.userId,-1,"")})},f}();function Br(f,l,h){var g=ao.prefixForPath(l,h.path),y=g[1],E=IDBKeyRange.lowerBound(g),S=!1;return Es(f).rs({range:E,ss:!0},function(R,V,Z){R[0]===l&&R[1]===y&&(S=!0),Z.done()}).next(function(){return S})}function qh(f,l,h){var g=f.store(Yi.store),y=f.store(ao.store),E=[],S=IDBKeyRange.only(h.batchId),R=0,V=g.rs({range:S},function(et,ht,an){return R++,an.delete()});E.push(V.next(function(){at(1===R)}));for(var Z=[],re=0,ge=h.mutations;re<ge.length;re++){var _e=ge[re],Oe=ao.key(l,_e.key.path,h.batchId);E.push(y.delete(Oe)),Z.push(_e.key)}return It.$n(E).next(function(){return Z})}function Wi(f){return ls.Qn(f,Yi.store)}function Es(f){return ls.Qn(f,ao.store)}function Vc(f){return ls.Qn(f,So.store)}var ih=function(){function f(l,h){this.serializer=l,this.Dr=h}return f.prototype.Er=function(l,h,g){return ac(l).put(pt(h),g)},f.prototype.Ar=function(l,h){var g=ac(l),y=pt(h);return g.delete(y)},f.prototype.updateMetadata=function(l,h){var g=this;return this.getMetadata(l).next(function(y){return y.byteSize+=h,g.Jo(l,y)})},f.prototype.Rr=function(l,h){var g=this;return ac(l).get(pt(h)).next(function(y){return g.Xo(y)})},f.prototype.Zo=function(l,h){var g=this;return ac(l).get(pt(h)).next(function(y){var E=g.Xo(y);return E?{ta:E,size:ii(y)}:null})},f.prototype.getEntries=function(l,h){var g=this,y=le();return this.ea(l,h,function(E,S){var R=g.Xo(S);y=y.ot(E,R)}).next(function(){return y})},f.prototype.na=function(l,h){var g=this,y=le(),E=new $n(Le.i);return this.ea(l,h,function(S,R){var V=g.Xo(R);V?(y=y.ot(S,V),E=E.ot(S,ii(R))):(y=y.ot(S,null),E=E.ot(S,0))}).next(function(){return{sa:y,ia:E}})},f.prototype.ea=function(l,h,g){if(h.m())return It.resolve();var y=IDBKeyRange.bound(h.first().path.A(),h.last().path.A()),E=h._t(),S=E.It();return ac(l).rs({range:y},function(R,V,Z){for(var re=Le.$(R);S&&Le.i(S,re)<0;)g(S,null),S=E.It();S&&S.isEqual(re)&&(g(S,V),S=E.At()?E.It():null),S?Z.Xn(S.path.A()):Z.done()}).next(function(){for(;S;)g(S,null),S=E.At()?E.It():null})},f.prototype.Lr=function(l,h,g){var y=this,E=te(),S=h.path.length+1,R={};if(g.isEqual(zt.min())){var V=h.path.A();R.range=IDBKeyRange.lowerBound(V)}else{var Z=h.path.A(),re=$h(g);R.range=IDBKeyRange.lowerBound([Z,re],!0),R.index=or.collectionReadTimeIndex}return ac(l).rs(R,function(ge,_e,Oe){if(ge.length===S){var et=nh(y.serializer,_e);h.path.T(et.key.path)?et instanceof oi&&Bl(h,et)&&(E=E.ot(et.key,et)):Oe.done()}}).next(function(){return E})},f.prototype.ra=function(l){return new Jf(this,!!l&&l.oa)},f.prototype.aa=function(l){return this.getMetadata(l).next(function(h){return h.byteSize})},f.prototype.getMetadata=function(l){return rh(l).get(Qi.key).next(function(h){return at(!!h),h})},f.prototype.Jo=function(l,h){return rh(l).put(Qi.key,h)},f.prototype.Xo=function(l){if(l){var h=nh(this.serializer,l);return h instanceof Pr&&h.version.isEqual(zt.min())?null:h}return null},f}(),Jf=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).ca=h,y.oa=g,y.ua=new Yt(function(E){return E.toString()},function(E,S){return E.isEqual(S)}),y}return U.__extends(l,f),l.prototype.yr=function(h){var g=this,y=[],E=0,S=new xi(function(R,V){return Ut(R.R(),V.R())});return this.wr.forEach(function(R,V){var Z=g.ua.get(R);if(V){var re=Lc(g.ca.serializer,V,g.readTime);S=S.add(R.path.h());var ge=ii(re);E+=ge-Z,y.push(g.ca.Er(h,R,re))}else if(E-=Z,g.oa){var _e=Lc(g.ca.serializer,new Pr(R,zt.min()),g.readTime);y.push(g.ca.Er(h,R,_e))}else y.push(g.ca.Ar(h,R))}),S.forEach(function(R){y.push(g.ca.Dr.Mo(h,R))}),y.push(this.ca.updateMetadata(h,E)),It.$n(y)},l.prototype.gr=function(h,g){var y=this;return this.ca.Zo(h,g).next(function(E){return null===E?(y.ua.set(g,0),null):(y.ua.set(g,E.size),E.ta)})},l.prototype.Pr=function(h,g){var y=this;return this.ca.na(h,g).next(function(E){var S=E.sa;return E.ia.forEach(function(R,V){y.ua.set(R,V)}),S})},l}(Qf);function rh(f){return ls.Qn(f,Qi.store)}function ac(f){return ls.Qn(f,or.store)}function pt(f){return f.path.A()}function ii(f){var l;if(f.document)l=f.document;else if(f.unknownDocument)l=f.unknownDocument;else{if(!f.noDocument)throw Re();l=f.noDocument}return JSON.stringify(l).length}var Is=function(){function f(){this.ha=new xu}return f.prototype.Mo=function(l,h){return this.ha.add(h),It.resolve()},f.prototype.Qr=function(l,h){return It.resolve(this.ha.getEntries(h))},f}(),xu=function(){function f(){this.index={}}return f.prototype.add=function(l){var h=l._(),g=l.h(),y=this.index[h]||new xi(he.i),E=!y.has(g);return this.index[h]=y.add(g),E},f.prototype.has=function(l){var h=l._(),g=l.h(),y=this.index[h];return y&&y.has(g)},f.prototype.getEntries=function(l){return(this.index[l]||new xi(he.i)).A()},f}(),Io=function(){function f(l){this.serializer=l}return f.prototype.createOrUpgrade=function(l,h,g,y){var E=this;at(g<y&&g>=0&&y<=10);var V,S=new Rc("createOrUpgrade",h);g<1&&y>=1&&(l.createObjectStore(To.store),(V=l).createObjectStore(So.store,{keyPath:So.keyPath}),V.createObjectStore(Yi.store,{keyPath:Yi.keyPath,autoIncrement:!0}).createIndex(Yi.userMutationsIndex,Yi.userMutationsKeyPath,{unique:!0}),V.createObjectStore(ao.store),Gh(l),function(V){V.createObjectStore(or.store)}(l));var R=It.resolve();return g<3&&y>=3&&(0!==g&&(function(V){V.deleteObjectStore(co.store),V.deleteObjectStore(hr.store),V.deleteObjectStore(Xr.store)}(l),Gh(l)),R=R.next(function(){return function(V){var Z=V.store(Xr.store),re=new Xr(0,0,zt.min().Z(),0);return Z.put(Xr.key,re)}(S)})),g<4&&y>=4&&(0!==g&&(R=R.next(function(){return function(V,Z){return Z.store(Yi.store).ts().next(function(re){V.deleteObjectStore(Yi.store),V.createObjectStore(Yi.store,{keyPath:Yi.keyPath,autoIncrement:!0}).createIndex(Yi.userMutationsIndex,Yi.userMutationsKeyPath,{unique:!0});var ge=Z.store(Yi.store),_e=re.map(function(Oe){return ge.put(Oe)});return It.$n(_e)})}(l,S)})),R=R.next(function(){!function(V){V.createObjectStore(fa.store,{keyPath:fa.keyPath})}(l)})),g<5&&y>=5&&(R=R.next(function(){return E.removeAcknowledgedMutations(S)})),g<6&&y>=6&&(R=R.next(function(){return function(V){V.createObjectStore(Qi.store)}(l),E.addDocumentGlobal(S)})),g<7&&y>=7&&(R=R.next(function(){return E.ensureSequenceNumbers(S)})),g<8&&y>=8&&(R=R.next(function(){return E.createCollectionParentIndex(l,S)})),g<9&&y>=9&&(R=R.next(function(){(function(V){V.objectStoreNames.contains("remoteDocumentChanges")&&V.deleteObjectStore("remoteDocumentChanges")})(l),function(V){var Z=V.objectStore(or.store);Z.createIndex(or.readTimeIndex,or.readTimeIndexPath,{unique:!1}),Z.createIndex(or.collectionReadTimeIndex,or.collectionReadTimeIndexPath,{unique:!1})}(h)})),g<10&&y>=10&&(R=R.next(function(){return E.rewriteCanonicalIds(S)})),R},f.prototype.addDocumentGlobal=function(l){var h=0;return l.store(or.store).rs(function(g,y){h+=ii(y)}).next(function(){var g=new Qi(h);return l.store(Qi.store).put(Qi.key,g)})},f.prototype.removeAcknowledgedMutations=function(l){var h=this,g=l.store(So.store),y=l.store(Yi.store);return g.ts().next(function(E){return It.forEach(E,function(S){var R=IDBKeyRange.bound([S.userId,-1],[S.userId,S.lastAcknowledgedBatchId]);return y.ts(Yi.userMutationsIndex,R).next(function(V){return It.forEach(V,function(Z){at(Z.userId===S.userId);var re=In(h.serializer,Z);return qh(l,S.userId,re).next(function(){})})})})})},f.prototype.ensureSequenceNumbers=function(l){var h=l.store(co.store),g=l.store(or.store);return l.store(Xr.store).get(Xr.key).next(function(y){var E=[];return g.rs(function(S,R){var V=new he(S),Z=[0,Ki(V)];E.push(h.get(Z).next(function(re){return re?It.resolve():h.put(new co(0,Ki(V),y.highestListenSequenceNumber))}))}).next(function(){return It.$n(E)})})},f.prototype.createCollectionParentIndex=function(l,h){l.createObjectStore(Jr.store,{keyPath:Jr.keyPath});var g=h.store(Jr.store),y=new xu,E=function(S){if(y.add(S)){var R=S._(),V=S.h();return g.put({collectionId:R,parent:Ki(V)})}};return h.store(or.store).rs({ss:!0},function(S,R){var V=new he(S);return E(V.h())}).next(function(){return h.store(ao.store).rs({ss:!0},function(S,R){var Z=Hs(S[1]);return E(Z.h())})})},f.prototype.rewriteCanonicalIds=function(l){var h=this,g=l.store(hr.store);return g.rs(function(y,E){var S=Uc(E),R=Xf(h.serializer,S);return g.put(R)})},f}(),od=function(f,l){this.seconds=f,this.nanoseconds=l},To=function(f,l,h){this.ownerId=f,this.allowTabSynchronization=l,this.leaseTimestampMs=h};To.store="owner",To.key="owner";var So=function(f,l,h){this.userId=f,this.lastAcknowledgedBatchId=l,this.lastStreamToken=h};So.store="mutationQueues",So.keyPath="userId";var Yi=function(f,l,h,g,y){this.userId=f,this.batchId=l,this.localWriteTimeMs=h,this.baseMutations=g,this.mutations=y};Yi.store="mutations",Yi.keyPath="batchId",Yi.userMutationsIndex="userMutationsIndex",Yi.userMutationsKeyPath=["userId","batchId"];var ao=function(){function f(){}return f.prefixForUser=function(l){return[l]},f.prefixForPath=function(l,h){return[l,Ki(h)]},f.key=function(l,h,g){return[l,Ki(h),g]},f}();ao.store="documentMutations",ao.PLACEHOLDER=new ao;var ep=function(f,l){this.path=f,this.readTime=l},s_=function(f,l){this.path=f,this.version=l},or=function(f,l,h,g,y,E){this.unknownDocument=f,this.noDocument=l,this.document=h,this.hasCommittedMutations=g,this.readTime=y,this.parentPath=E};or.store="remoteDocuments",or.readTimeIndex="readTimeIndex",or.readTimeIndexPath="readTime",or.collectionReadTimeIndex="collectionReadTimeIndex",or.collectionReadTimeIndexPath=["parentPath","readTime"];var Qi=function(f){this.byteSize=f};Qi.store="remoteDocumentGlobal",Qi.key="remoteDocumentGlobalKey";var hr=function(f,l,h,g,y,E,S){this.targetId=f,this.canonicalId=l,this.readTime=h,this.resumeToken=g,this.lastListenSequenceNumber=y,this.lastLimboFreeSnapshotVersion=E,this.query=S};hr.store="targets",hr.keyPath="targetId",hr.queryTargetsIndexName="queryTargetsIndex",hr.queryTargetsKeyPath=["canonicalId","targetId"];var co=function(f,l,h){this.targetId=f,this.path=l,this.sequenceNumber=h};co.store="targetDocuments",co.keyPath=["targetId","path"],co.documentTargetsIndex="documentTargetsIndex",co.documentTargetsKeyPath=["path","targetId"];var Xr=function(f,l,h,g){this.highestTargetId=f,this.highestListenSequenceNumber=l,this.lastRemoteSnapshotVersion=h,this.targetCount=g};Xr.key="targetGlobalKey",Xr.store="targetGlobal";var Jr=function(f,l){this.collectionId=f,this.parent=l};function Gh(f){f.createObjectStore(co.store,{keyPath:co.keyPath}).createIndex(co.documentTargetsIndex,co.documentTargetsKeyPath,{unique:!0}),f.createObjectStore(hr.store,{keyPath:hr.keyPath}).createIndex(hr.queryTargetsIndexName,hr.queryTargetsKeyPath,{unique:!0}),f.createObjectStore(Xr.store)}Jr.store="collectionParents",Jr.keyPath=["collectionId","parent"];var fa=function(f,l,h,g){this.clientId=f,this.updateTimeMs=l,this.networkEnabled=h,this.inForeground=g};fa.store="clientMetadata",fa.keyPath="clientId";var sd=U.__spreadArrays(U.__spreadArrays(U.__spreadArrays([So.store,Yi.store,ao.store,or.store,hr.store,To.store,Xr.store,co.store],[fa.store]),[Qi.store]),[Jr.store]),_m=function(){function f(){this.la=new xu}return f.prototype.Mo=function(l,h){var g=this;if(!this.la.has(h)){var y=h._(),E=h.h();l.pr(function(){g.la.add(h)});var S={collectionId:y,parent:Ki(E)};return Eu(l).put(S)}return It.resolve()},f.prototype.Qr=function(l,h){var g=[],y=IDBKeyRange.bound([h,""],[Fn(h),""],!1,!0);return Eu(l).ts(y).next(function(E){for(var S=0,R=E;S<R.length;S++){var V=R[S];if(V.collectionId!==h)break;g.push(Hs(V.parent))}return g})},f}();function Eu(f){return ls.Qn(f,Jr.store)}var $l=function(){function f(l){this._a=l}return f.prototype.next=function(){return this._a+=2,this._a},f.fa=function(){return new f(0)},f.da=function(){return new f(-1)},f}(),oh=function(){function f(l,h){this.No=l,this.serializer=h}return f.prototype.wa=function(l){var h=this;return this.ma(l).next(function(g){var y=new $l(g.highestTargetId);return g.highestTargetId=y.next(),h.Ta(l,g).next(function(){return g.highestTargetId})})},f.prototype.Ea=function(l){return this.ma(l).next(function(h){return zt.J(new Qt(h.lastRemoteSnapshotVersion.seconds,h.lastRemoteSnapshotVersion.nanoseconds))})},f.prototype.Ia=function(l){return this.ma(l).next(function(h){return h.highestListenSequenceNumber})},f.prototype.Aa=function(l,h,g){var y=this;return this.ma(l).next(function(E){return E.highestListenSequenceNumber=h,g&&(E.lastRemoteSnapshotVersion=g.Z()),h>E.highestListenSequenceNumber&&(E.highestListenSequenceNumber=h),y.Ta(l,E)})},f.prototype.Ra=function(l,h){var g=this;return this.ga(l,h).next(function(){return g.ma(l).next(function(y){return y.targetCount+=1,g.Pa(h,y),g.Ta(l,y)})})},f.prototype.ya=function(l,h){return this.ga(l,h)},f.prototype.Va=function(l,h){var g=this;return this.pa(l,h.targetId).next(function(){return pl(l).delete(h.targetId)}).next(function(){return g.ma(l)}).next(function(y){return at(y.targetCount>0),y.targetCount-=1,g.Ta(l,y)})},f.prototype.po=function(l,h,g){var y=this,E=0,S=[];return pl(l).rs(function(R,V){var Z=Uc(V);Z.sequenceNumber<=h&&null===g.get(Z.targetId)&&(E++,S.push(y.Va(l,Z)))}).next(function(){return It.$n(S)}).next(function(){return E})},f.prototype.Ce=function(l,h){return pl(l).rs(function(g,y){var E=Uc(y);h(E)})},f.prototype.ma=function(l){return sh(l).get(Xr.key).next(function(h){return at(null!==h),h})},f.prototype.Ta=function(l,h){return sh(l).put(Xr.key,h)},f.prototype.ga=function(l,h){return pl(l).put(Xf(this.serializer,h))},f.prototype.Pa=function(l,h){var g=!1;return l.targetId>h.highestTargetId&&(h.highestTargetId=l.targetId,g=!0),l.sequenceNumber>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=l.sequenceNumber,g=!0),g},f.prototype.ba=function(l){return this.ma(l).next(function(h){return h.targetCount})},f.prototype.va=function(l,h){var g=xt(h),y=IDBKeyRange.bound([g,Number.NEGATIVE_INFINITY],[g,Number.POSITIVE_INFINITY]),E=null;return pl(l).rs({range:y,index:hr.queryTargetsIndexName},function(S,R,V){var Z=Uc(R);mn(h,Z.target)&&(E=Z,V.done())}).next(function(){return E})},f.prototype.Sa=function(l,h,g){var y=this,E=[],S=Na(l);return h.forEach(function(R){var V=Ki(R.path);E.push(S.put(new co(g,V))),E.push(y.No.Da(l,g,R))}),It.$n(E)},f.prototype.Ca=function(l,h,g){var y=this,E=Na(l);return It.forEach(h,function(S){var R=Ki(S.path);return It.$n([E.delete([g,R]),y.No.Na(l,g,S)])})},f.prototype.pa=function(l,h){var g=Na(l),y=IDBKeyRange.bound([h],[h+1],!1,!0);return g.delete(y)},f.prototype.Fa=function(l,h){var g=IDBKeyRange.bound([h],[h+1],!1,!0),y=Na(l),E=Qe();return y.rs({range:g,ss:!0},function(S,R,V){var Z=Hs(S[1]),re=new Le(Z);E=E.add(re)}).next(function(){return E})},f.prototype.Ho=function(l,h){var g=Ki(h.path),y=IDBKeyRange.bound([g],[Fn(g)],!1,!0),E=0;return Na(l).rs({index:co.documentTargetsIndex,ss:!0,range:y},function(S,R,V){0!==S[0]&&(E++,V.done())}).next(function(){return E>0})},f.prototype.Ue=function(l,h){return pl(l).get(h).next(function(g){return g?Uc(g):null})},f}();function pl(f){return ls.Qn(f,hr.store)}function sh(f){return ls.Qn(f,Xr.store)}function Na(f){return ls.Qn(f,co.store)}var ql="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Iu=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).jo=h,y.xa=g,y}return U.__extends(l,f),l}(Xd),ls=function(){function f(l,h,g,y,E,S,R,V,Z,re){if(this.allowTabSynchronization=l,this.persistenceKey=h,this.clientId=g,this.fn=E,this.window=S,this.document=R,this.$a=Z,this.ka=re,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(ge){return Promise.resolve()},!f.Ln())throw new G(z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new lc(this,y),this.Wa=h+"main",this.serializer=new fl(V),this.ja=new Jo(this.Wa,10,new Io(this.serializer)),this.Ka=new oh(this.No,this.serializer),this.Dr=new _m,this.vr=new ih(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===re&&lt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return f.Qn=function(l,h){if(l instanceof Iu)return Jo.Qn(l.jo,h);throw Re()},f.prototype.start=function(){var l=this;return this.za().then(function(){if(!l.isPrimary&&!l.allowTabSynchronization)throw new G(z.FAILED_PRECONDITION,ql);return l.Ha(),l.Ya(),l.Ja(),l.runTransaction("getHighestListenSequenceNumber","readonly",function(h){return l.Ka.Ia(h)})}).then(function(h){l.Ma=new Eo(h,l.$a)}).then(function(){l.Oa=!0}).catch(function(h){return l.ja&&l.ja.close(),Promise.reject(h)})},f.prototype.Xa=function(l){var h=this;return this.Qa=function(g){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){return this.Ei?[2,l(g)]:[2]})})},l(this.isPrimary)},f.prototype.Za=function(l){var h=this;this.ja.Kn(function(g){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){switch(y.label){case 0:return null===g.newVersion?[4,l()]:[3,2];case 1:y.sent(),y.label=2;case 2:return[2]}})})})},f.prototype.tc=function(l){var h=this;this.networkEnabled!==l&&(this.networkEnabled=l,this.fn.ws(function(){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:g.sent(),g.label=2;case 2:return[2]}})})}))},f.prototype.za=function(){var l=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(h){return cc(h).put(new fa(l.clientId,Date.now(),l.networkEnabled,l.inForeground)).next(function(){if(l.isPrimary)return l.ec(h).next(function(g){g||(l.isPrimary=!1,l.fn.Cs(function(){return l.Qa(!1)}))})}).next(function(){return l.nc(h)}).next(function(g){return l.isPrimary&&!g?l.sc(h).next(function(){return!1}):!!g&&l.ic(h).next(function(){return!0})})}).catch(function(h){if(js(h))return me("IndexedDbPersistence","Failed to extend owner lease: ",h),l.isPrimary;if(!l.allowTabSynchronization)throw h;return me("IndexedDbPersistence","Releasing owner lease after error during lease refresh",h),!1}).then(function(h){l.isPrimary!==h&&l.fn.Cs(function(){return l.Qa(h)}),l.isPrimary=h})},f.prototype.ec=function(l){var h=this;return ml(l).get(To.key).next(function(g){return It.resolve(h.rc(g))})},f.prototype.oc=function(l){return cc(l).delete(this.clientId)},f.prototype.ac=function(){return U.__awaiter(this,void 0,void 0,function(){var l,h,g,E=this;return U.__generator(this,function(S){switch(S.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(R){var V=f.Qn(R,fa.store);return V.ts().next(function(Z){var re=E.uc(Z,18e5),ge=Z.filter(function(_e){return-1===re.indexOf(_e)});return It.forEach(ge,function(_e){return V.delete(_e.clientId)}).next(function(){return ge})})}).catch(function(){return[]})]);case 1:if(l=S.sent(),this.Ga)for(h=0,g=l;h<g.length;h++)this.Ga.removeItem(this.hc(g[h].clientId));S.label=2;case 2:return[2]}})})},f.prototype.Ja=function(){var l=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return l.za().then(function(){return l.ac()}).then(function(){return l.Ja()})})},f.prototype.rc=function(l){return!!l&&l.ownerId===this.clientId},f.prototype.nc=function(l){var h=this;return this.ka?It.resolve(!0):ml(l).get(To.key).next(function(g){if(null!==g&&h.cc(g.leaseTimestampMs,5e3)&&!h.lc(g.ownerId)){if(h.rc(g)&&h.networkEnabled)return!0;if(!h.rc(g)){if(!g.allowTabSynchronization)throw new G(z.FAILED_PRECONDITION,ql);return!1}}return!(!h.networkEnabled||!h.inForeground)||cc(l).ts().next(function(y){return void 0===h.uc(y,5e3).find(function(E){return!(h.clientId===E.clientId||!(!h.networkEnabled&&E.networkEnabled||!h.inForeground&&E.inForeground&&h.networkEnabled===E.networkEnabled))})})}).next(function(g){return h.isPrimary!==g&&me("IndexedDbPersistence","Client "+(g?"is":"is not")+" eligible for a primary lease."),g})},f.prototype.Di=function(){return U.__awaiter(this,void 0,void 0,function(){var l=this;return U.__generator(this,function(h){switch(h.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[To.store,fa.store],function(g){var y=new Iu(g,Eo.ai);return l.sc(y).next(function(){return l.oc(y)})})];case 1:return h.sent(),this.ja.close(),this.wc(),[2]}})})},f.prototype.uc=function(l,h){var g=this;return l.filter(function(y){return g.cc(y.updateTimeMs,h)&&!g.lc(y.clientId)})},f.prototype.pi=function(){var l=this;return this.runTransaction("getActiveClients","readonly",function(h){return cc(h).ts().next(function(g){return l.uc(g,18e5).map(function(y){return y.clientId})})})},Object.defineProperty(f.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),f.prototype.mc=function(l){return rd.xo(l,this.serializer,this.Dr,this.No)},f.prototype.Tc=function(){return this.Ka},f.prototype.Ec=function(){return this.vr},f.prototype.Ic=function(){return this.Dr},f.prototype.runTransaction=function(l,h,g){var E,y=this;return me("IndexedDbPersistence","Starting transaction:",l),this.ja.runTransaction(l,"readonly"===h?"readonly":"readwrite",sd,function(R){return E=new Iu(R,y.Ma?y.Ma.next():Eo.ai),"readwrite-primary"===h?y.ec(E).next(function(V){return!!V||y.nc(E)}).next(function(V){if(!V)throw lt("Failed to obtain primary lease for action '"+l+"'."),y.isPrimary=!1,y.fn.Cs(function(){return y.Qa(!1)}),new G(z.FAILED_PRECONDITION,xs);return g(E)}).next(function(V){return y.ic(E).next(function(){return V})}):y.Ac(E).next(function(){return g(E)})}).then(function(R){return E.br(),R})},f.prototype.Ac=function(l){var h=this;return ml(l).get(To.key).next(function(g){if(null!==g&&h.cc(g.leaseTimestampMs,5e3)&&!h.lc(g.ownerId)&&!h.rc(g)&&!(h.ka||h.allowTabSynchronization&&g.allowTabSynchronization))throw new G(z.FAILED_PRECONDITION,ql)})},f.prototype.ic=function(l){var h=new To(this.clientId,this.allowTabSynchronization,Date.now());return ml(l).put(To.key,h)},f.Ln=function(){return Jo.Ln()},f.prototype.sc=function(l){var h=this,g=ml(l);return g.get(To.key).next(function(y){return h.rc(y)?(me("IndexedDbPersistence","Releasing primary lease."),g.delete(To.key)):It.resolve()})},f.prototype.cc=function(l,h){var g=Date.now();return!(l<g-h||l>g&&(lt("Detected an update time that is in the future: "+l+" > "+g),1))},f.prototype.Ha=function(){var l=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){l.fn.ws(function(){return l.inForeground="visible"===l.document.visibilityState,l.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},f.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},f.prototype.Ya=function(){var l,h=this;"function"==typeof(null===(l=this.window)||void 0===l?void 0:l.addEventListener)&&(this.La=function(){h._c(),h.fn.ws(function(){return h.Di()})},this.window.addEventListener("unload",this.La))},f.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},f.prototype.lc=function(l){var h;try{var g=null!==(null===(h=this.Ga)||void 0===h?void 0:h.getItem(this.hc(l)));return me("IndexedDbPersistence","Client '"+l+"' "+(g?"is":"is not")+" zombied in LocalStorage"),g}catch(y){return lt("IndexedDbPersistence","Failed to get zombied client id.",y),!1}},f.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(l){lt("Failed to set zombie client id.",l)}},f.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch{}},f.prototype.hc=function(l){return"firestore_zombie_"+this.persistenceKey+"_"+l},f}();function ml(f){return ls.Qn(f,To.store)}function cc(f){return ls.Qn(f,fa.store)}var lc=function(){function f(l,h){this.db=l,this.wo=new hl(this,h)}return f.prototype.Po=function(l){var h=this.Rc(l);return this.db.Tc().ba(l).next(function(g){return h.next(function(y){return g+y})})},f.prototype.Rc=function(l){var h=0;return this.Vo(l,function(g){h++}).next(function(){return h})},f.prototype.Ce=function(l,h){return this.db.Tc().Ce(l,h)},f.prototype.Vo=function(l,h){return this.gc(l,function(g,y){return h(y)})},f.prototype.Da=function(l,h,g){return uc(l,g)},f.prototype.Na=function(l,h,g){return uc(l,g)},f.prototype.po=function(l,h,g){return this.db.Tc().po(l,h,g)},f.prototype.Go=function(l,h){return uc(l,h)},f.prototype.Pc=function(l,h){return y=h,E=!1,Vc(g=l).os(function(S){return Br(g,S,y).next(function(R){return R&&(E=!0),It.resolve(!R)})}).next(function(){return E});var g,y,E},f.prototype.bo=function(l,h){var g=this,y=this.db.Ec().ra(),E=[],S=0;return this.gc(l,function(R,V){if(V<=h){var Z=g.Pc(l,R).next(function(re){if(!re)return S++,y.Rr(l,R).next(function(){return y.Ar(R),Na(l).delete([0,Ki(R.path)])})});E.push(Z)}}).next(function(){return It.$n(E)}).next(function(){return y.apply(l)}).next(function(){return S})},f.prototype.removeTarget=function(l,h){var g=h.st(l.xa);return this.db.Tc().ya(l,g)},f.prototype.yc=function(l,h){return uc(l,h)},f.prototype.gc=function(l,h){var g,y=Na(l),E=Eo.ai;return y.rs({index:co.documentTargetsIndex},function(S,R){var Z=R.path,re=R.sequenceNumber;0===S[0]?(E!==Eo.ai&&h(new Le(Hs(g)),E),E=re,g=Z):E=Eo.ai}).next(function(){E!==Eo.ai&&h(new Le(Hs(g)),E)})},f.prototype.So=function(l){return this.db.Ec().aa(l)},f}();function uc(f,l){return Na(f).put((g=f.xa,new co(0,Ki(l.path),g)));var g}function Gl(f,l){var h=f.projectId;return f.j||(h+="."+f.database),"firestore/"+l+"/"+h+"/"}var ts=function(){function f(l,h,g){this.persistence=l,this.Vc=h,this.bc=new $n(Ut),this.vc=new Yt(function(y){return xt(y)},mn),this.Sc=zt.min(),this.Sr=l.mc(g),this.Dc=l.Ec(),this.Ka=l.Tc(),this.Cc=new wu(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return f.prototype.Io=function(l){var h=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(g){return l.vo(g,h.bc)})},f}();function pa(f,l){var h=Ze(f);return h.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(g){var S,R,V,Z,re,ge,_e,y=l.batch.keys(),E=h.Dc.ra({oa:!0});return(S=h,R=g,V=l,Z=E,re=V.batch,ge=re.keys(),_e=It.resolve(),ge.forEach(function(Oe){_e=_e.next(function(){return Z.Rr(R,Oe)}).next(function(et){var ht=et,an=V.dr.get(Oe);at(null!==an),(!ht||ht.version.L(an)<0)&&(ht=re.cr(Oe,ht,V))&&Z.Er(ht,V._r)})}),_e.next(function(){return S.Sr.Wo(R,re)})).next(function(){return E.apply(g)}).next(function(){return h.Sr.zo(g)}).next(function(){return h.Cc.kr(g,y)})})}function sr(f){var l=Ze(f);return l.persistence.runTransaction("Get last remote snapshot version","readonly",function(h){return l.Ka.Ea(h)})}function ma(f,l){var h=Ze(f),g=l.nt,y=h.bc;return h.persistence.runTransaction("Apply remote event","readwrite-primary",function(E){var S=h.Dc.ra({oa:!0});y=h.bc;var R=[];l.zt.forEach(function(ge,_e){var an,Xt,On,Oe=y.get(_e);if(Oe){R.push(h.Ka.Ca(E,ge.se,_e).next(function(){return h.Ka.Sa(E,ge.ee,_e)}));var et=ge.resumeToken;if(et.O()>0){var ht=Oe.it(et,g).st(E.xa);y=y.ot(_e,ht),an=Oe,On=ge,at((Xt=ht).resumeToken.O()>0),(0===an.resumeToken.O()||Xt.nt.X()-an.nt.X()>=3e8||On.ee.size+On.ne.size+On.se.size>0)&&R.push(h.Ka.ya(E,ht))}}});var V=fe(),Z=Qe();if(l.Yt.forEach(function(ge,_e){Z=Z.add(ge)}),R.push(S.getEntries(E,Z).next(function(ge){l.Yt.forEach(function(_e,Oe){var et=ge.get(_e);Oe instanceof Pr&&Oe.version.isEqual(zt.min())?(S.Ar(_e,g),V=V.ot(_e,Oe)):null==et||Oe.version.L(et.version)>0||0===Oe.version.L(et.version)&&et.hasPendingWrites?(S.Er(Oe,g),V=V.ot(_e,Oe)):me("LocalStore","Ignoring outdated watch update for ",_e,". Current version:",et.version," Watch version:",Oe.version),l.Jt.has(_e)&&R.push(h.persistence.No.yc(E,_e))})})),!g.isEqual(zt.min())){var re=h.Ka.Ea(E).next(function(ge){return h.Ka.Aa(E,E.xa,g)});R.push(re)}return It.$n(R).next(function(){return S.apply(E)}).next(function(){return h.Cc.Mr(E,V)})}).then(function(E){return h.bc=y,E})}function ah(f,l){var h=Ze(f);return h.persistence.runTransaction("Get next mutation batch","readonly",function(g){return void 0===l&&(l=-1),h.Sr.Bo(g,l)})}function us(f,l){var h=Ze(f);return h.persistence.runTransaction("Allocate target","readwrite",function(g){var y;return h.Ka.va(g,l).next(function(E){return E?It.resolve(y=E):h.Ka.wa(g).next(function(S){return y=new Ci(l,S,0,g.xa),h.Ka.Ra(g,y).next(function(){return y})})})}).then(function(g){var y=h.bc.get(g.targetId);return(null===y||g.nt.L(y.nt)>0)&&(h.bc=h.bc.ot(g.targetId,g),h.vc.set(l,g.targetId)),g})}function zn(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E,S;return U.__generator(this,function(R){switch(R.label){case 0:g=Ze(f),y=g.bc.get(l),E=h?"readwrite":"readwrite-primary",R.label=1;case 1:return R.trys.push([1,4,,5]),h?[3,3]:[4,g.persistence.runTransaction("Release target",E,function(V){return g.persistence.No.removeTarget(V,y)})];case 2:R.sent(),R.label=3;case 3:return[3,5];case 4:if(!js(S=R.sent()))throw S;return me("LocalStore","Failed to update sequence numbers for target "+l+": "+S),[3,5];case 5:return g.bc=g.bc.remove(l),g.vc.delete(y.target),[2]}})})}function ar(f,l,h){var g=Ze(f),y=zt.min(),E=Qe();return g.persistence.runTransaction("Execute query","readonly",function(S){return(R=g,V=S,Z=Uo(l),re=Ze(R),ge=re.vc.get(Z),void 0!==ge?It.resolve(re.bc.get(ge)):re.Ka.va(V,Z)).next(function(R){if(R)return y=R.lastLimboFreeSnapshotVersion,g.Ka.Fa(S,R.targetId).next(function(V){E=V})}).next(function(){return g.Vc.Lr(S,l,h?y:zt.min(),h?E:Qe())}).next(function(R){return{documents:R,Fc:E}});var R,V,Z,re,ge})}function Do(f,l){var h=Ze(f),g=Ze(h.Ka),y=h.bc.get(l);return y?Promise.resolve(y.target):h.persistence.runTransaction("Get target data","readonly",function(E){return g.Ue(E,l).next(function(S){return S?S.target:null})})}function Wl(f){var l=Ze(f);return l.persistence.runTransaction("Get new document changes","readonly",function(h){return y=h,E=l.Sc,S=Ze(l.Dc),R=fe(),V=$h(E),Z=ac(y),re=IDBKeyRange.lowerBound(V,!0),Z.rs({index:or.readTimeIndex,range:re},function(ge,_e){var Oe=nh(S.serializer,_e);R=R.ot(Oe.key,Oe),V=_e.readTime}).next(function(){return{xc:R,readTime:Vr(V)}});var y,E,S,R,V,Z,re}).then(function(h){var g=h.xc;return l.Sc=h.readTime,g})}function dc(f){return U.__awaiter(this,void 0,void 0,function(){var l;return U.__generator(this,function(h){return[2,(l=Ze(f)).persistence.runTransaction("Synchronize last document change read time","readonly",function(g){return E=ac(g),S=zt.min(),E.rs({index:or.readTimeIndex,reverse:!0},function(R,V,Z){V.readTime&&(S=Vr(V.readTime)),Z.done()}).next(function(){return S});var E,S}).then(function(g){l.Sc=g})]})})}function ci(f){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){if(f.code!==z.FAILED_PRECONDITION||f.message!==xs)throw f;return me("LocalStore","Unexpectedly lost primary lease"),[2]})})}var Fa=function(){function f(){this.$c=new xi(jr.kc),this.Mc=new xi(jr.Oc)}return f.prototype.m=function(){return this.$c.m()},f.prototype.Da=function(l,h){var g=new jr(l,h);this.$c=this.$c.add(g),this.Mc=this.Mc.add(g)},f.prototype.Lc=function(l,h){var g=this;l.forEach(function(y){return g.Da(y,h)})},f.prototype.Na=function(l,h){this.Bc(new jr(l,h))},f.prototype.qc=function(l,h){var g=this;l.forEach(function(y){return g.Na(y,h)})},f.prototype.Uc=function(l){var h=this,g=new Le(new he([])),y=new jr(g,l),E=new jr(g,l+1),S=[];return this.Mc.Ft([y,E],function(R){h.Bc(R),S.push(R.key)}),S},f.prototype.Qc=function(){var l=this;this.$c.forEach(function(h){return l.Bc(h)})},f.prototype.Bc=function(l){this.$c=this.$c.delete(l),this.Mc=this.Mc.delete(l)},f.prototype.Wc=function(l){var h=new Le(new he([])),g=new jr(h,l),y=new jr(h,l+1),E=Qe();return this.Mc.Ft([g,y],function(S){E=E.add(S.key)}),E},f.prototype.Ho=function(l){var h=new jr(l,0),g=this.$c.$t(h);return null!==g&&l.isEqual(g.key)},f}(),jr=function(){function f(l,h){this.key=l,this.jc=h}return f.kc=function(l,h){return Le.i(l.key,h.key)||Ut(l.jc,h.jc)},f.Oc=function(l,h){return Ut(l.jc,h.jc)||Le.i(l.key,h.key)},f}(),Bc=function(f,l){this.user=l,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+f},Nr=function(){function f(){this.Gc=null}return f.prototype.getToken=function(){return Promise.resolve(null)},f.prototype.zc=function(){},f.prototype.Hc=function(l){this.Gc=l,l(xo.UNAUTHENTICATED)},f.prototype.Yc=function(){this.Gc=null},f}(),cr=function(){function f(l){var h=this;this.Jc=null,this.currentUser=xo.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){h.Zc++,h.currentUser=h.tu(),h.Xc=!0,h.Gc&&h.Gc(h.currentUser)},this.Zc=0,this.auth=l.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),l.get().then(function(g){h.auth=g,h.Jc&&h.auth.addAuthTokenListener(h.Jc)},function(){}))}return f.prototype.getToken=function(){var l=this,h=this.Zc,g=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(g).then(function(y){return l.Zc!==h?(me("FirebaseCredentialsProvider","getToken aborted due to token change."),l.getToken()):y?(at("string"==typeof y.accessToken),new Bc(y.accessToken,l.currentUser)):null}):Promise.resolve(null)},f.prototype.zc=function(){this.forceRefresh=!0},f.prototype.Hc=function(l){this.Gc=l,this.Xc&&l(this.currentUser)},f.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},f.prototype.tu=function(){var l=this.auth&&this.auth.getUid();return at(null===l||"string"==typeof l),new xo(l)},f}(),tr=function(){function f(l,h){this.eu=l,this.nu=h,this.type="FirstParty",this.user=xo.ni}return Object.defineProperty(f.prototype,"Kc",{get:function(){var l={"X-Goog-AuthUser":this.nu},h=this.eu.auth.getAuthHeaderValueForFirstParty([]);return h&&(l.Authorization=h),l},enumerable:!1,configurable:!0}),f}(),tp=function(){function f(l,h){this.eu=l,this.nu=h}return f.prototype.getToken=function(){return Promise.resolve(new tr(this.eu,this.nu))},f.prototype.Hc=function(l){l(xo.ni)},f.prototype.Yc=function(){},f.prototype.zc=function(){},f}(),Ts=function(){function f(l,h,g,y,E,S){this.fn=l,this.su=g,this.iu=y,this.ru=E,this.listener=S,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new Oa(l,h)}return f.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},f.prototype.uu=function(){return 2===this.state},f.prototype.start=function(){3!==this.state?this.auth():this.hu()},f.prototype.stop=function(){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){switch(l.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},f.prototype.lu=function(){this.state=0,this.ys.reset()},f.prototype._u=function(){var l=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,function(){return l.fu()}))},f.prototype.du=function(l){this.wu(),this.stream.send(l)},f.prototype.fu=function(){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){return this.uu()?[2,this.close(0)]:[2]})})},f.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},f.prototype.close=function(l,h){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==l?this.ys.reset():h&&h.code===z.RESOURCE_EXHAUSTED?(lt(h.toString()),lt("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):h&&h.code===z.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=l,[4,this.listener.Tu(h)];case 1:return g.sent(),[2]}})})},f.prototype.mu=function(){},f.prototype.auth=function(){var l=this;this.state=1;var h=this.Eu(this.ou),g=this.ou;this.ru.getToken().then(function(y){l.ou===g&&l.Iu(y)},function(y){h(function(){var E=new G(z.UNKNOWN,"Fetching auth token failed: "+y.message);return l.Au(E)})})},f.prototype.Iu=function(l){var h=this,g=this.Eu(this.ou);this.stream=this.Ru(l),this.stream.gu(function(){g(function(){return h.state=2,h.listener.gu()})}),this.stream.Tu(function(y){g(function(){return h.Au(y)})}),this.stream.onMessage(function(y){g(function(){return h.onMessage(y)})})},f.prototype.hu=function(){var l=this;this.state=4,this.ys.gn(function(){return U.__awaiter(l,void 0,void 0,function(){return U.__generator(this,function(h){return this.state=0,this.start(),[2]})})})},f.prototype.Au=function(l){return me("PersistentStream","close with error: "+l),this.stream=null,this.close(3,l)},f.prototype.Eu=function(l){var h=this;return function(g){h.fn.ws(function(){return h.ou===l?g():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},f}(),ad=function(f){function l(h,g,y,E,S){var R=this;return(R=f.call(this,h,"listen_stream_connection_backoff","listen_stream_idle",g,y,S)||this).serializer=E,R}return U.__extends(l,f),l.prototype.Ru=function(h){return this.iu.Pu("Listen",h)},l.prototype.onMessage=function(h){this.ys.reset();var g=function(E,S){var R,Ks;if("targetChange"in S){var V="NO_CHANGE"===(Ks=S.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Ks?1:"REMOVE"===Ks?2:"CURRENT"===Ks?3:"RESET"===Ks?4:Re(),Z=S.targetChange.targetIds||[],re=function(Ks,pc){return Ks.Qe?(at(void 0===pc||"string"==typeof pc),Un.fromBase64String(pc||"")):(at(void 0===pc||pc instanceof Uint8Array),Un.fromUint8Array(pc||new Uint8Array))}(E,S.targetChange.resumeToken),ge=S.targetChange.cause,_e=ge&&function(Ks){var pc=void 0===Ks.code?z.UNKNOWN:Li(Ks.code);return new G(pc,Ks.message||"")}(ge);R=new Xe(V,Z,re,_e||null)}else if("documentChange"in S){var Oe=S.documentChange,et=er(E,Oe.document.name),ht=vo(Oe.document.updateTime),an=new Or({mapValue:{fields:Oe.document.fields}}),Xt=new oi(et,ht,an,{});R=new vr(Oe.targetIds||[],Oe.removedTargetIds||[],Xt.key,Xt)}else if("documentDelete"in S){var gi=S.documentDelete,bi=er(E,gi.document),fr=gi.readTime?vo(gi.readTime):zt.min(),Zs=new Pr(bi,fr);R=new vr([],gi.removedTargetIds||[],Zs.key,Zs)}else if("documentRemove"in S){var af=S.documentRemove,lp=er(E,af.document);R=new vr([],af.removedTargetIds||[],lp,null)}else{if(!("filter"in S))return Re();var vh=S.filter,Ed=new vi(vh.count||0);R=new Zo(vh.targetId,Ed)}return R}(this.serializer,h),y=function(E){if(!("targetChange"in E))return zt.min();var S=E.targetChange;return S.targetIds&&S.targetIds.length?zt.min():S.readTime?vo(S.readTime):zt.min()}(h);return this.listener.yu(g,y)},l.prototype.Vu=function(h){var E,S,R,V,g={};g.database=vs(this.serializer),g.addTarget=(E=this.serializer,(R=jt(V=(S=h).target)?{documents:Sa(E,V)}:{query:wr(E,V)}).targetId=S.targetId,S.resumeToken.O()>0&&(R.resumeToken=ol(E,S.resumeToken)),R);var y=function(E,S){var R=function(V,Z){switch(Z){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Re()}}(0,S.et);return null==R?null:{"goog-listen-tags":R}}(0,h);y&&(g.labels=y),this.du(g)},l.prototype.pu=function(h){var g={};g.database=vs(this.serializer),g.removeTarget=h,this.du(g)},l}(Ts),vm=function(f){function l(h,g,y,E,S){var R=this;return(R=f.call(this,h,"write_stream_connection_backoff","write_stream_idle",g,y,S)||this).serializer=E,R.bu=!1,R}return U.__extends(l,f),Object.defineProperty(l.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),l.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,f.prototype.start.call(this)},l.prototype.mu=function(){this.bu&&this.Su([])},l.prototype.Ru=function(h){return this.iu.Pu("Write",h)},l.prototype.onMessage=function(h){if(at(!!h.streamToken),this.lastStreamToken=h.streamToken,this.bu){this.ys.reset();var g=(S=h.commitTime,(E=h.writeResults)&&E.length>0?(at(void 0!==S),E.map(function(R){return function(V,Z){var re=vo(V.updateTime?V.updateTime:Z);re.isEqual(zt.min())&&(re=vo(Z));var ge=null;return V.transformResults&&V.transformResults.length>0&&(ge=V.transformResults),new Da(re,ge)}(R,S)})):[]),y=vo(h.commitTime);return this.listener.Du(y,g)}var E,S;return at(!h.writeResults||0===h.writeResults.length),this.bu=!0,this.listener.Cu()},l.prototype.Nu=function(){var h={};h.database=vs(this.serializer),this.du(h)},l.prototype.Su=function(h){var g=this,y={streamToken:this.lastStreamToken,writes:h.map(function(E){return Ui(g.serializer,E)})};this.du(y)},l}(Ts),cd=function(f){function l(h,g,y){var E=this;return(E=f.call(this)||this).credentials=h,E.iu=g,E.serializer=y,E.Fu=!1,E}return U.__extends(l,f),l.prototype.xu=function(){if(this.Fu)throw new G(z.FAILED_PRECONDITION,"The client has already been terminated.")},l.prototype.$u=function(h,g,y){var E=this;return this.xu(),this.credentials.getToken().then(function(S){return E.iu.$u(h,g,y,S)}).catch(function(S){throw S.code===z.UNAUTHENTICATED&&E.credentials.zc(),S})},l.prototype.ku=function(h,g,y){var E=this;return this.xu(),this.credentials.getToken().then(function(S){return E.iu.ku(h,g,y,S)}).catch(function(S){throw S.code===z.UNAUTHENTICATED&&E.credentials.zc(),S})},l.prototype.terminate=function(){this.Fu=!1},l}(function(){}),ld=function(){function f(l,h){this.cs=l,this.di=h,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return f.prototype.Bu=function(){var l=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return l.Ou=null,l.Uu("Backend didn't respond within 10 seconds."),l.qu("Offline"),Promise.resolve()}))},f.prototype.Qu=function(l){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+l.toString()),this.qu("Offline")))},f.prototype.set=function(l){this.Wu(),this.Mu=0,"Online"===l&&(this.Lu=!1),this.qu(l)},f.prototype.qu=function(l){l!==this.state&&(this.state=l,this.di(l))},f.prototype.Uu=function(l){var h="Could not reach Cloud Firestore backend. "+l+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(lt(h),this.Lu=!1):me("OnlineStateTracker",h)},f.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},f}(),np=function(f,l,h,g,y){var E=this;this.ju=f,this.Ku=l,this.cs=h,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=y,this.Xu.Zu(function(S){h.ws(function(){return U.__awaiter(E,void 0,void 0,function(){return U.__generator(this,function(R){switch(R.label){case 0:return ds(this)?(me("RemoteStore","Restarting streams for network reachability change."),[4,function(V){return U.__awaiter(this,void 0,void 0,function(){var Z;return U.__generator(this,function(re){switch(re.label){case 0:return(Z=Ze(V)).Yu.add(4),[4,Zl(Z)];case 1:return re.sent(),Z.th.set("Unknown"),Z.Yu.delete(4),[4,ud(Z)];case 2:return re.sent(),[2]}})})}(this)]):[3,2];case 1:R.sent(),R.label=2;case 2:return[2]}})})})}),this.th=new ld(h,g)};function ud(f){return U.__awaiter(this,void 0,void 0,function(){var l,h;return U.__generator(this,function(g){switch(g.label){case 0:if(!ds(f))return[3,4];l=0,h=f.Ju,g.label=1;case 1:return l<h.length?[4,(0,h[l])(!0)]:[3,4];case 2:g.sent(),g.label=3;case 3:return l++,[3,1];case 4:return[2]}})})}function Zl(f){return U.__awaiter(this,void 0,void 0,function(){var l,h;return U.__generator(this,function(g){switch(g.label){case 0:l=0,h=f.Ju,g.label=1;case 1:return l<h.length?[4,(0,h[l])(!1)]:[3,4];case 2:g.sent(),g.label=3;case 3:return l++,[3,1];case 4:return[2]}})})}function Wh(f){return U.__awaiter(this,void 0,void 0,function(){var l;return U.__generator(this,function(h){switch(h.label){case 0:return l=Ze(f),me("RemoteStore","RemoteStore shutting down."),l.Yu.add(5),[4,Zl(l)];case 1:return h.sent(),l.Xu.Di(),l.th.set("Unknown"),[2]}})})}function ch(f,l){var h=Ze(f);h.Hu.has(l.targetId)||(h.Hu.set(l.targetId,l),Tu(h)?gl(h):qs(h).uu()&&zc(h,l))}function jc(f,l){var h=Ze(f),g=qs(h);h.Hu.delete(l),g.uu()&&dd(h,l),0===h.Hu.size&&(g.uu()?g._u():ds(h)&&h.th.set("Unknown"))}function zc(f,l){f.eh.Ie(l.targetId),qs(f).Vu(l)}function dd(f,l){f.eh.Ie(l),qs(f).pu(l)}function gl(f){f.eh=new _t({qe:function(l){return f.Gu.qe(l)},Ue:function(l){return f.Hu.get(l)||null}}),qs(f).start(),f.th.Bu()}function Tu(f){return ds(f)&&!qs(f).cu()&&f.Hu.size>0}function ds(f){return 0===Ze(f).Yu.size}function Zh(f){f.eh=void 0}function Kh(f){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){return f.Hu.forEach(function(h,g){zc(f,h)}),[2]})})}function lh(f,l){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){return Zh(f),Tu(f)?(f.th.Qu(l),gl(f)):f.th.set("Unknown"),[2]})})}function Yh(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E;return U.__generator(this,function(S){switch(S.label){case 0:if(f.th.set("Online"),!(l instanceof Xe&&2===l.state&&l.cause))return[3,6];S.label=1;case 1:return S.trys.push([1,3,,5]),[4,function(R,V){return U.__awaiter(this,void 0,void 0,function(){var Z,re,ge,_e;return U.__generator(this,function(Oe){switch(Oe.label){case 0:Z=V.cause,re=0,ge=V.targetIds,Oe.label=1;case 1:return re<ge.length?R.Hu.has(_e=ge[re])?[4,R.Gu.nh(_e,Z)]:[3,3]:[3,5];case 2:Oe.sent(),R.Hu.delete(_e),R.eh.removeTarget(_e),Oe.label=3;case 3:Oe.label=4;case 4:return re++,[3,1];case 5:return[2]}})})}(f,l)];case 2:return S.sent(),[3,5];case 3:return g=S.sent(),me("RemoteStore","Failed to remove targets %s: %s ",l.targetIds.join(","),g),[4,zo(f,g)];case 4:return S.sent(),[3,5];case 5:return[3,13];case 6:if(l instanceof vr?f.eh.be(l):l instanceof Zo?f.eh.$e(l):f.eh.De(l),h.isEqual(zt.min()))return[3,13];S.label=7;case 7:return S.trys.push([7,11,,13]),[4,sr(f.ju)];case 8:return y=S.sent(),h.L(y)>=0?[4,(R=f,V=h,Z=R.eh.Oe(V),Z.zt.forEach(function(re,ge){if(re.resumeToken.O()>0){var _e=R.Hu.get(ge);_e&&R.Hu.set(ge,_e.it(re.resumeToken,V))}}),Z.Ht.forEach(function(re){var ge=R.Hu.get(re);if(ge){R.Hu.set(re,ge.it(Un.B,ge.nt)),dd(R,re);var _e=new Ci(ge.target,re,1,ge.sequenceNumber);zc(R,_e)}}),R.Gu.sh(Z))]:[3,10];case 9:S.sent(),S.label=10;case 10:return[3,13];case 11:return me("RemoteStore","Failed to raise snapshot:",E=S.sent()),[4,zo(f,E)];case 12:return S.sent(),[3,13];case 13:return[2]}var R,V,Z})})}function zo(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g=this;return U.__generator(this,function(y){switch(y.label){case 0:if(!js(l))throw l;return f.Yu.add(1),[4,Zl(f)];case 1:return y.sent(),f.th.set("Offline"),h||(h=function(){return sr(f.ju)}),f.cs.Cs(function(){return U.__awaiter(g,void 0,void 0,function(){return U.__generator(this,function(E){switch(E.label){case 0:return me("RemoteStore","Retrying IndexedDB access"),[4,h()];case 1:return E.sent(),f.Yu.delete(1),[4,ud(f)];case 2:return E.sent(),[2]}})})}),[2]}})})}function hd(f,l){return l().catch(function(h){return zo(f,h,l)})}function $s(f){return U.__awaiter(this,void 0,void 0,function(){var l,h,g,y,E;return U.__generator(this,function(S){switch(S.label){case 0:l=Ze(f),h=Ss(l),g=l.zu.length>0?l.zu[l.zu.length-1].batchId:-1,S.label=1;case 1:if(!(ds(R=l)&&R.zu.length<10))return[3,7];S.label=2;case 2:return S.trys.push([2,4,,6]),[4,ah(l.ju,g)];case 3:return null===(y=S.sent())?(0===l.zu.length&&h._u(),[3,7]):(g=y.batchId,function(R,V){R.zu.push(V);var Z=Ss(R);Z.uu()&&Z.vu&&Z.Su(V.mutations)}(l,y),[3,6]);case 4:return E=S.sent(),[4,zo(l,E)];case 5:return S.sent(),[3,6];case 6:return[3,1];case 7:return Kl(l)&&Su(l),[2]}var R})})}function Kl(f){return ds(f)&&!Ss(f).cu()&&f.zu.length>0}function Su(f){Ss(f).start()}function Yl(f){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){return Ss(f).Nu(),[2]})})}function Ql(f){return U.__awaiter(this,void 0,void 0,function(){var l,h,g;return U.__generator(this,function(E){for(l=Ss(f),h=0,g=f.zu;h<g.length;h++)l.Su(g[h].mutations);return[2]})})}function fd(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y;return U.__generator(this,function(E){switch(E.label){case 0:return g=f.zu.shift(),y=bu.from(g,l,h),[4,hd(f,function(){return f.Gu.ih(y)})];case 1:return E.sent(),[4,$s(f)];case 2:return E.sent(),[2]}})})}function Xl(f,l){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){switch(h.label){case 0:return l&&Ss(f).vu?[4,function(g,y){return U.__awaiter(this,void 0,void 0,function(){var E,S;return U.__generator(this,function(R){switch(R.label){case 0:return Hn(S=y.code)&&S!==z.ABORTED?(E=g.zu.shift(),Ss(g).lu(),[4,hd(g,function(){return g.Gu.rh(E.batchId,y)})]):[3,3];case 1:return R.sent(),[4,$s(g)];case 2:R.sent(),R.label=3;case 3:return[2]}})})}(f,l)]:[3,2];case 1:h.sent(),h.label=2;case 2:return Kl(f)&&Su(f),[2]}})})}function Jl(f,l){return U.__awaiter(this,void 0,void 0,function(){var h;return U.__generator(this,function(y){switch(y.label){case 0:return h=Ze(f),l?(h.Yu.delete(2),[4,ud(h)]):[3,2];case 1:return y.sent(),[3,5];case 2:return l?[3,4]:(h.Yu.add(2),[4,Zl(h)]);case 3:y.sent(),h.th.set("Unknown"),y.label=4;case 4:y.label=5;case 5:return[2]}})})}function qs(f){var h,g,y,E,l=this;return f.oh||(f.oh=(h=f.Ku,g=f.cs,y={gu:Kh.bind(null,f),Tu:lh.bind(null,f),yu:Yh.bind(null,f)},(E=Ze(h)).xu(),new ad(g,E.iu,E.credentials,E.serializer,y)),f.Ju.push(function(h){return U.__awaiter(l,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return h?(f.oh.lu(),Tu(f)?gl(f):f.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,f.oh.stop()];case 2:g.sent(),Zh(f),g.label=3;case 3:return[2]}})})})),f.oh}function Ss(f){var h,g,y,E,l=this;return f.ah||(f.ah=(h=f.Ku,g=f.cs,y={gu:Yl.bind(null,f),Tu:Xl.bind(null,f),Cu:Ql.bind(null,f),Du:fd.bind(null,f)},(E=Ze(h)).xu(),new vm(g,E.iu,E.credentials,E.serializer,y)),f.Ju.push(function(h){return U.__awaiter(l,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return h?(f.ah.lu(),[4,$s(f)]):[3,2];case 1:return g.sent(),[3,4];case 2:return[4,f.ah.stop()];case 3:g.sent(),f.zu.length>0&&(me("RemoteStore","Stopping write stream with "+f.zu.length+" pending writes"),f.zu=[]),g.label=4;case 4:return[2]}})})})),f.ah}var ip=function(f){this.key=f},pd=function(f){this.key=f},La=function(){function f(l,h){this.query=l,this.uh=h,this.hh=null,this.te=!1,this.lh=Qe(),this.Wt=Qe(),this._h=vu(l),this.fh=new Vt(this._h)}return Object.defineProperty(f.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),f.prototype.wh=function(l,h){var g=this,y=h?h.mh:new Jn,E=h?h.fh:this.fh,S=h?h.Wt:this.Wt,R=E,V=!1,Z=Mc(this.query)&&E.size===this.query.limit?E.last():null,re=nc(this.query)&&E.size===this.query.limit?E.first():null;if(l.ht(function(_e,Oe){var et=E.get(_e),ht=Oe instanceof oi?Oe:null;ht&&(ht=Bl(g.query,ht)?ht:null);var an=!!et&&g.Wt.has(et.key),Xt=!!ht&&(ht.Je||g.Wt.has(ht.key)&&ht.hasCommittedMutations),On=!1;et&&ht?et.data().isEqual(ht.data())?an!==Xt&&(y.track({type:3,doc:ht}),On=!0):g.Th(et,ht)||(y.track({type:2,doc:ht}),On=!0,(Z&&g._h(ht,Z)>0||re&&g._h(ht,re)<0)&&(V=!0)):!et&&ht?(y.track({type:0,doc:ht}),On=!0):et&&!ht&&(y.track({type:1,doc:et}),On=!0,(Z||re)&&(V=!0)),On&&(ht?(R=R.add(ht),S=Xt?S.add(_e):S.delete(_e)):(R=R.delete(_e),S=S.delete(_e)))}),Mc(this.query)||nc(this.query))for(;R.size>this.query.limit;){var ge=Mc(this.query)?R.last():R.first();R=R.delete(ge.key),S=S.delete(ge.key),y.track({type:1,doc:ge})}return{fh:R,mh:y,Eh:V,Wt:S}},f.prototype.Th=function(l,h){return l.Je&&h.hasCommittedMutations&&!h.Je},f.prototype.yr=function(l,h,g){var y=this,E=this.fh;this.fh=l.fh,this.Wt=l.Wt;var S=l.mh.Ut();S.sort(function(re,ge){return Oe=ge.type,(et=function(ht){switch(ht){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}})(re.type)-et(Oe)||y._h(re.doc,ge.doc);var Oe,et}),this.Ih(g);var R=h?this.Ah():[],V=0===this.lh.size&&this.te?1:0,Z=V!==this.hh;return this.hh=V,0!==S.length||Z?{snapshot:new xn(this.query,l.fh,E,S,l.Wt,0===V,Z,!1),Rh:R}:{Rh:R}},f.prototype.Qs=function(l){return this.te&&"Offline"===l?(this.te=!1,this.yr({fh:this.fh,mh:new Jn,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},f.prototype.gh=function(l){return!this.uh.has(l)&&!!this.fh.has(l)&&!this.fh.get(l).Je},f.prototype.Ih=function(l){var h=this;l&&(l.ee.forEach(function(g){return h.uh=h.uh.add(g)}),l.ne.forEach(function(g){}),l.se.forEach(function(g){return h.uh=h.uh.delete(g)}),this.te=l.te)},f.prototype.Ah=function(){var l=this;if(!this.te)return[];var h=this.lh;this.lh=Qe(),this.fh.forEach(function(y){l.gh(y.key)&&(l.lh=l.lh.add(y.key))});var g=[];return h.forEach(function(y){l.lh.has(y)||g.push(new pd(y))}),this.lh.forEach(function(y){h.has(y)||g.push(new ip(y))}),g},f.prototype.Ph=function(l){this.uh=l.Fc,this.lh=Qe();var h=this.wh(l.documents);return this.yr(h,!0)},f.prototype.yh=function(){return xn.Gt(this.query,this.fh,this.Wt,0===this.hh)},f}(),uh=function(f,l,h){this.query=f,this.targetId=l,this.view=h},dh=function(f){this.key=f,this.Vh=!1},_l=function(){function f(l,h,g,y,E,S){this.ju=l,this.ph=h,this.bh=g,this.Sh=y,this.currentUser=E,this.Dh=S,this.Ch={},this.Nh=new Yt(function(R){return ua(R)},rc),this.Fh=new Map,this.xh=[],this.$h=new $n(Le.i),this.kh=new Map,this.Mh=new Fa,this.Oh={},this.Lh=new Map,this.Bh=$l.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(f.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),f}();function ns(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,y,E,S,R;return U.__generator(this,function(V){switch(V.label){case 0:return h=Xi(f),(E=h.Nh.get(l))?(h.Sh.Oi(E.targetId),y=E.view.yh(),[3,4]):[3,1];case 1:return[4,us(h.ju,Uo(l))];case 2:return S=V.sent(),R=h.Sh.Oi(S.targetId),[4,Hc(h,l,S.targetId,"current"===R)];case 3:y=V.sent(),h.Uh&&ch(h.ph,S),V.label=4;case 4:return[2,y]}})})}function Hc(f,l,h,g){return U.__awaiter(this,void 0,void 0,function(){var y,E,S,R,V,Z;return U.__generator(this,function(re){switch(re.label){case 0:return f.Qh=function(ge,_e,Oe){return function(et,ht,an,Xt){return U.__awaiter(this,void 0,void 0,function(){var On,Xn,gi;return U.__generator(this,function(bi){switch(bi.label){case 0:return(On=ht.view.wh(an)).Eh?[4,ar(et.ju,ht.query,!1).then(function(fr){return ht.view.wh(fr.documents,On)})]:[3,2];case 1:On=bi.sent(),bi.label=2;case 2:return Xn=Xt&&Xt.zt.get(ht.targetId),gi=ht.view.yr(On,et.Uh,Xn),[2,(k(et,ht.targetId,gi.Rh),gi.snapshot)]}})})}(f,ge,_e,Oe)},[4,ar(f.ju,l,!0)];case 1:return y=re.sent(),E=new La(l,y.Fc),S=E.wh(y.documents),R=Rn.Zt(h,g&&"Offline"!==f.onlineState),V=E.yr(S,f.Uh,R),k(f,h,V.Rh),Z=new uh(l,h,E),[2,(f.Nh.set(l,Z),f.Fh.has(h)?f.Fh.get(h).push(l):f.Fh.set(h,[l]),V.snapshot)]}})})}function Ri(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y;return U.__generator(this,function(E){switch(E.label){case 0:return h=Ze(f),g=h.Nh.get(l),(y=h.Fh.get(g.targetId)).length>1?[2,(h.Fh.set(g.targetId,y.filter(function(S){return!rc(S,l)})),void h.Nh.delete(l))]:h.Uh?(h.Sh.Bi(g.targetId),h.Sh.Fi(g.targetId)?[3,2]:[4,zn(h.ju,g.targetId,!1).then(function(){h.Sh.Ui(g.targetId),jc(h.ph,g.targetId),Ua(h,g.targetId)}).catch(ci)]):[3,3];case 1:E.sent(),E.label=2;case 2:return[3,5];case 3:return Ua(h,g.targetId),[4,zn(h.ju,g.targetId,!0)];case 4:E.sent(),E.label=5;case 5:return[2]}})})}function hc(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g;return U.__generator(this,function(y){switch(y.label){case 0:h=Ze(f),y.label=1;case 1:return y.trys.push([1,4,,6]),[4,ma(h.ju,l)];case 2:return g=y.sent(),l.zt.forEach(function(E,S){var R=h.kh.get(S);R&&(at(E.ee.size+E.ne.size+E.se.size<=1),E.ee.size>0?R.Vh=!0:E.ne.size>0?at(R.Vh):E.se.size>0&&(at(R.Vh),R.Vh=!1))}),[4,oe(h,g,l)];case 3:return y.sent(),[3,6];case 4:return[4,ci(y.sent())];case 5:return y.sent(),[3,6];case 6:return[2]}})})}function md(f,l,h){var g=Ze(f);if(g.Uh&&0===h||!g.Uh&&1===h){var y=[];g.Nh.forEach(function(E,S){var R=S.view.Qs(l);R.snapshot&&y.push(R.snapshot)}),function(E,S){var R=Ze(E);R.onlineState=S;var V=!1;R.Bs.forEach(function(Z,re){for(var ge=0,_e=re.listeners;ge<_e.length;ge++)_e[ge].Qs(S)&&(V=!0)}),V&&zs(R)}(g.bh,l),y.length&&g.Ch.yu(y),g.onlineState=l,g.Uh&&g.Sh.Ki(l)}}function Ti(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E,S,R,V;return U.__generator(this,function(Z){switch(Z.label){case 0:return(g=Ze(f)).Sh.Qi(l,"rejected",h),y=g.kh.get(l),(E=y&&y.key)?(S=(S=new $n(Le.i)).ot(E,new Pr(E,zt.min())),R=Qe().add(E),V=new ai(zt.min(),new Map,new xi(Ut),S,R),[4,hc(g,V)]):[3,2];case 1:return Z.sent(),g.$h=g.$h.remove(E),g.kh.delete(l),H(g),[3,4];case 2:return[4,zn(g.ju,l,!1).then(function(){return Ua(g,l,h)}).catch(ci)];case 3:Z.sent(),Z.label=4;case 4:return[2]}})})}function gd(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y;return U.__generator(this,function(E){switch(E.label){case 0:h=Ze(f),g=l.batch.batchId,E.label=1;case 1:return E.trys.push([1,4,,6]),[4,pa(h.ju,l)];case 2:return y=E.sent(),vl(h,g,null),hs(h,g),h.Sh.ki(g,"acknowledged"),[4,oe(h,y)];case 3:return E.sent(),[3,6];case 4:return[4,ci(E.sent())];case 5:return E.sent(),[3,6];case 6:return[2]}})})}function rp(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y;return U.__generator(this,function(E){switch(E.label){case 0:g=Ze(f),E.label=1;case 1:return E.trys.push([1,4,,6]),[4,(S=g.ju,R=l,V=Ze(S),V.persistence.runTransaction("Reject batch","readwrite-primary",function(Z){var re;return V.Sr.Oo(Z,R).next(function(ge){return at(null!==ge),re=ge.keys(),V.Sr.Wo(Z,ge)}).next(function(){return V.Sr.zo(Z)}).next(function(){return V.Cc.kr(Z,re)})}))];case 2:return y=E.sent(),vl(g,l,h),hs(g,l),g.Sh.ki(l,"rejected",h),[4,oe(g,y)];case 3:return E.sent(),[3,6];case 4:return[4,ci(E.sent())];case 5:return E.sent(),[3,6];case 6:return[2]}var S,R,V})})}function hs(f,l){(f.Lh.get(l)||[]).forEach(function(h){h.resolve()}),f.Lh.delete(l)}function vl(f,l,h){var g=Ze(f),y=g.Oh[g.currentUser.ti()];if(y){var E=y.get(l);E&&(h?E.reject(h):E.resolve(),y=y.remove(l)),g.Oh[g.currentUser.ti()]=y}}function Ua(f,l,h){void 0===h&&(h=null),f.Sh.Bi(l);for(var g=0,y=f.Fh.get(l);g<y.length;g++){var E=y[g];f.Nh.delete(E),h&&f.Ch.Wh(E,h)}f.Fh.delete(l),f.Uh&&f.Mh.Uc(l).forEach(function(S){f.Mh.Ho(S)||$c(f,S)})}function $c(f,l){var h=f.$h.get(l);null!==h&&(jc(f.ph,h),f.$h=f.$h.remove(l),f.kh.delete(h),H(f))}function k(f,l,h){for(var g=0,y=h;g<y.length;g++){var E=y[g];E instanceof ip?(f.Mh.Da(E.key,l),F(f,E)):E instanceof pd?(me("SyncEngine","Document no longer in limbo: "+E.key),f.Mh.Na(E.key,l),f.Mh.Ho(E.key)||$c(f,E.key)):Re()}}function F(f,l){var h=l.key;f.$h.get(h)||(me("SyncEngine","New document in limbo: "+h),f.xh.push(h),H(f))}function H(f){for(;f.xh.length>0&&f.$h.size<f.Dh;){var l=f.xh.shift(),h=f.Bh.next();f.kh.set(h,new dh(l)),f.$h=f.$h.ot(l,h),ch(f.ph,new Ci(Uo(Aa(l.path)),h,2,Eo.ai))}}function oe(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E,S;return U.__generator(this,function(R){switch(R.label){case 0:return g=Ze(f),y=[],E=[],S=[],g.Nh.m()?[3,3]:(g.Nh.forEach(function(V,Z){S.push(g.Qh(Z,l,h).then(function(re){if(re){g.Uh&&g.Sh.Qi(Z.targetId,re.fromCache?"not-current":"current"),y.push(re);var ge=Ii.zr(Z.targetId,re);E.push(ge)}}))}),[4,Promise.all(S)]);case 1:return R.sent(),g.Ch.yu(y),[4,function(V,Z){return U.__awaiter(this,void 0,void 0,function(){var re,ge,_e,Oe,et,ht,an,On;return U.__generator(this,function(Xn){switch(Xn.label){case 0:re=Ze(V),Xn.label=1;case 1:return Xn.trys.push([1,3,,4]),[4,re.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(gi){return It.forEach(Z,function(bi){return It.forEach(bi.Kr,function(fr){return re.persistence.No.Da(gi,bi.targetId,fr)}).next(function(){return It.forEach(bi.Gr,function(fr){return re.persistence.No.Na(gi,bi.targetId,fr)})})})})];case 2:return Xn.sent(),[3,4];case 3:if(!js(ge=Xn.sent()))throw ge;return me("LocalStore","Failed to update sequence numbers: "+ge),[3,4];case 4:for(_e=0,Oe=Z;_e<Oe.length;_e++)ht=(et=Oe[_e]).targetId,et.fromCache||(an=re.bc.get(ht),On=an.rt(an.nt),re.bc=re.bc.ot(ht,On));return[2]}})})}(g.ju,E)];case 2:R.sent(),R.label=3;case 3:return[2]}})})}function be(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g;return U.__generator(this,function(y){switch(y.label){case 0:return(h=Ze(f)).currentUser.isEqual(l)?[3,3]:(me("SyncEngine","User change. New user:",l.ti()),[4,function(E,S){return U.__awaiter(this,void 0,void 0,function(){var R,V,Z,re;return U.__generator(this,function(ge){switch(ge.label){case 0:return R=Ze(E),V=R.Sr,Z=R.Cc,[4,R.persistence.runTransaction("Handle user change","readonly",function(_e){var Oe;return R.Sr.Uo(_e).next(function(et){return Oe=et,V=R.persistence.mc(S),Z=new wu(R.Dc,V,R.persistence.Ic()),V.Uo(_e)}).next(function(et){for(var ht=[],an=[],Xt=Qe(),On=0,Xn=Oe;On<Xn.length;On++){var gi=Xn[On];ht.push(gi.batchId);for(var bi=0,fr=gi.mutations;bi<fr.length;bi++)Xt=Xt.add(fr[bi].key)}for(var Gc=0,af=et;Gc<af.length;Gc++){var lp=af[Gc];an.push(lp.batchId);for(var cf=0,vh=lp.mutations;cf<vh.length;cf++)Xt=Xt.add(vh[cf].key)}return Z.kr(_e,Xt).next(function(Ed){return{jh:Ed,Kh:ht,Gh:an}})})})];case 1:return re=ge.sent(),[2,(R.Sr=V,R.Cc=Z,R.Vc.Nc(R.Cc),re)]}})})}(h.ju,l)]);case 1:return g=y.sent(),h.currentUser=l,(E=h).Lh.forEach(function(R){R.forEach(function(V){V.reject(new G(z.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),E.Lh.clear(),h.Sh.ji(l,g.Kh,g.Gh),[4,oe(h,g.jh)];case 2:y.sent(),y.label=3;case 3:return[2]}var E})})}function Ue(f,l){var h=Ze(f),g=h.kh.get(l);if(g&&g.Vh)return Qe().add(g.key);var y=Qe(),E=h.Fh.get(l);if(!E)return y;for(var S=0,R=E;S<R.length;S++){var Z=h.Nh.get(R[S]);y=y.kt(Z.view.dh)}return y}function rt(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y;return U.__generator(this,function(E){switch(E.label){case 0:return[4,ar((h=Ze(f)).ju,l.query,!0)];case 1:return g=E.sent(),y=l.view.Ph(g),[2,(h.Uh&&k(h,l.targetId,y.Rh),y)]}})})}function Bt(f,l,h,g){return U.__awaiter(this,void 0,void 0,function(){var y,E;return U.__generator(this,function(S){switch(S.label){case 0:return[4,(R=(y=Ze(f)).ju,V=l,Z=Ze(R),re=Ze(Z.Sr),Z.persistence.runTransaction("Lookup mutation documents","readonly",function(ge){return re.Lo(ge,V).next(function(_e){return _e?Z.Cc.kr(ge,_e):It.resolve(null)})}))];case 1:return null===(E=S.sent())?[3,6]:"pending"!==h?[3,3]:[4,$s(y.ph)];case 2:return S.sent(),[3,4];case 3:"acknowledged"===h||"rejected"===h?(vl(y,l,g||null),hs(y,l),function(R,V){Ze(Ze(R).Sr).Ko(V)}(y.ju,l)):Re(),S.label=4;case 4:return[4,oe(y,E)];case 5:return S.sent(),[3,7];case 6:me("SyncEngine","Cannot apply mutation batch with id: "+l),S.label=7;case 7:return[2]}var R,V,Z,re})})}function Ft(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y,E,S,V,Z;return U.__generator(this,function(re){switch(re.label){case 0:return Xi(h=Ze(f)),Du(h),!0!==l||!0===h.qh?[3,3]:(g=h.Sh.Ci(),[4,hn(h,g.A())]);case 1:return y=re.sent(),h.qh=!0,[4,Jl(h.ph,!0)];case 2:for(re.sent(),E=0,S=y;E<S.length;E++)ch(h.ph,S[E]);return[3,7];case 3:return!1!==l||!1===h.qh?[3,7]:(V=[],Z=Promise.resolve(),h.Fh.forEach(function(ge,_e){h.Sh.qi(_e)?V.push(_e):Z=Z.then(function(){return Ua(h,_e),zn(h.ju,_e,!0)}),jc(h.ph,_e)}),[4,Z]);case 4:return re.sent(),[4,hn(h,V)];case 5:return re.sent(),(_e=Ze(h)).kh.forEach(function(Oe,et){jc(_e.ph,et)}),_e.Mh.Qc(),_e.kh=new Map,_e.$h=new $n(Le.i),h.qh=!1,[4,Jl(h.ph,!1)];case 6:re.sent(),re.label=7;case 7:return[2]}var _e})})}function hn(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E,S,R,V,Z,re,ge,_e,et,ht,an;return U.__generator(this,function(Xt){switch(Xt.label){case 0:g=Ze(f),y=[],E=[],S=0,R=l,Xt.label=1;case 1:return S<R.length?(Z=void 0,(re=g.Fh.get(V=R[S]))&&0!==re.length?[4,us(g.ju,Uo(re[0]))]:[3,7]):[3,13];case 2:Z=Xt.sent(),ge=0,_e=re,Xt.label=3;case 3:return ge<_e.length?(et=g.Nh.get(_e[ge]),[4,rt(g,et)]):[3,6];case 4:(ht=Xt.sent()).snapshot&&E.push(ht.snapshot),Xt.label=5;case 5:return ge++,[3,3];case 6:return[3,11];case 7:return[4,Do(g.ju,V)];case 8:return an=Xt.sent(),[4,us(g.ju,an)];case 9:return Z=Xt.sent(),[4,Hc(g,Ln(an),V,!1)];case 10:Xt.sent(),Xt.label=11;case 11:y.push(Z),Xt.label=12;case 12:return S++,[3,1];case 13:return[2,(g.Ch.yu(E),y)]}})})}function Ln(f){return Dc(f.path,f.collectionGroup,f.orderBy,f.filters,f.limit,"F",f.startAt,f.endAt)}function Mn(f){var l=Ze(f);return Ze(Ze(l.ju).persistence).pi()}function fs(f,l,h,g){return U.__awaiter(this,void 0,void 0,function(){var y,E,S;return U.__generator(this,function(R){switch(R.label){case 0:return(y=Ze(f)).qh?(me("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!y.Fh.has(l))return[3,8];switch(h){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Wl(y.ju)];case 3:return E=R.sent(),S=ai.Xt(l,"current"===h),[4,oe(y,E,S)];case 4:return R.sent(),[3,8];case 5:return[4,zn(y.ju,l,!0)];case 6:return R.sent(),Ua(y,l,g),[3,8];case 7:Re(),R.label=8;case 8:return[2]}})})}function Mo(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E,S,R,V,Z,re,ge;return U.__generator(this,function(Oe){switch(Oe.label){case 0:if(!(g=Xi(f)).qh)return[3,10];y=0,E=l,Oe.label=1;case 1:return y<E.length?g.Fh.has(S=E[y])?(me("SyncEngine","Adding an already active target "+S),[3,5]):[4,Do(g.ju,S)]:[3,6];case 2:return R=Oe.sent(),[4,us(g.ju,R)];case 3:return V=Oe.sent(),[4,Hc(g,Ln(R),V.targetId,!1)];case 4:Oe.sent(),ch(g.ph,V),Oe.label=5;case 5:return y++,[3,1];case 6:Z=function(et){return U.__generator(this,function(ht){switch(ht.label){case 0:return g.Fh.has(et)?[4,zn(g.ju,et,!1).then(function(){jc(g.ph,et),Ua(g,et)}).catch(ci)]:[3,2];case 1:ht.sent(),ht.label=2;case 2:return[2]}})},re=0,ge=h,Oe.label=7;case 7:return re<ge.length?[5,Z(ge[re])]:[3,10];case 8:Oe.sent(),Oe.label=9;case 9:return re++,[3,7];case 10:return[2]}})})}function Xi(f){var l=Ze(f);return l.ph.Gu.sh=hc.bind(null,l),l.ph.Gu.qe=Ue.bind(null,l),l.ph.Gu.nh=Ti.bind(null,l),l.Ch.yu=es.bind(null,l.bh),l.Ch.Wh=Nc.bind(null,l.bh),l}function Du(f){var l=Ze(f);return l.ph.Gu.ih=gd.bind(null,l),l.ph.Gu.rh=rp.bind(null,l),l}var Va=function(){function f(){}return f.prototype.Nc=function(l){this.zh=l},f.prototype.Lr=function(l,h,g,y){var S,E=this;return 0===(S=h).filters.length&&null===S.limit&&null==S.startAt&&null==S.endAt&&(0===S.on.length||1===S.on.length&&S.on[0].field.p())||g.isEqual(zt.min())?this.Hh(l,h):this.zh.kr(l,y).next(function(S){var R=E.Yh(h,S);return(Mc(h)||nc(h))&&E.Eh(h.an,R,y,g)?E.Hh(l,h):(Ne()<=pe.LogLevel.DEBUG&&me("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",g.toString(),ws(h)),E.zh.Lr(l,h,g).next(function(V){return R.forEach(function(Z){V=V.ot(Z.key,Z)}),V}))})},f.prototype.Yh=function(l,h){var g=new xi(vu(l));return h.forEach(function(y,E){E instanceof oi&&Bl(l,E)&&(g=g.add(E))}),g},f.prototype.Eh=function(l,h,g,y){if(g.size!==h.size)return!0;var E="F"===l?h.last():h.first();return!!E&&(E.hasPendingWrites||E.version.L(y)>0)},f.prototype.Hh=function(l,h){return Ne()<=pe.LogLevel.DEBUG&&me("IndexFreeQueryEngine","Using full collection scan to execute query:",ws(h)),this.zh.Lr(l,h,zt.min())},f}(),Ba=function(){function f(l,h){this.Dr=l,this.No=h,this.Sr=[],this.Jh=1,this.Xh=new xi(jr.kc)}return f.prototype.$o=function(l){return It.resolve(0===this.Sr.length)},f.prototype.ko=function(l,h,g,y){var E=this.Jh;this.Jh++;var S=new id(E,h,g,y);this.Sr.push(S);for(var R=0,V=y;R<V.length;R++){var Z=V[R];this.Xh=this.Xh.add(new jr(Z.key,E)),this.Dr.Mo(l,Z.key.path.h())}return It.resolve(S)},f.prototype.Oo=function(l,h){return It.resolve(this.Zh(h))},f.prototype.Bo=function(l,h){var y=this.tl(h+1),E=y<0?0:y;return It.resolve(this.Sr.length>E?this.Sr[E]:null)},f.prototype.qo=function(){return It.resolve(0===this.Sr.length?-1:this.Jh-1)},f.prototype.Uo=function(l){return It.resolve(this.Sr.slice())},f.prototype.Nr=function(l,h){var g=this,y=new jr(h,0),E=new jr(h,Number.POSITIVE_INFINITY),S=[];return this.Xh.Ft([y,E],function(R){var V=g.Zh(R.jc);S.push(V)}),It.resolve(S)},f.prototype.Or=function(l,h){var g=this,y=new xi(Ut);return h.forEach(function(E){var S=new jr(E,0),R=new jr(E,Number.POSITIVE_INFINITY);g.Xh.Ft([S,R],function(V){y=y.add(V.jc)})}),It.resolve(this.el(y))},f.prototype.Wr=function(l,h){var g=h.path,y=g.length+1,E=g;Le.F(E)||(E=E.child(""));var S=new jr(new Le(E),0),R=new xi(Ut);return this.Xh.xt(function(V){var Z=V.key.path;return!!g.T(Z)&&(Z.length===y&&(R=R.add(V.jc)),!0)},S),It.resolve(this.el(R))},f.prototype.el=function(l){var h=this,g=[];return l.forEach(function(y){var E=h.Zh(y);null!==E&&g.push(E)}),g},f.prototype.Wo=function(l,h){var g=this;at(0===this.nl(h.batchId,"removed")),this.Sr.shift();var y=this.Xh;return It.forEach(h.mutations,function(E){var S=new jr(E.key,h.batchId);return y=y.delete(S),g.No.Go(l,E.key)}).next(function(){g.Xh=y})},f.prototype.Ko=function(l){},f.prototype.Ho=function(l,h){var g=new jr(h,0),y=this.Xh.$t(g);return It.resolve(h.isEqual(y&&y.key))},f.prototype.zo=function(l){return It.resolve()},f.prototype.nl=function(l,h){return this.tl(l)},f.prototype.tl=function(l){return 0===this.Sr.length?0:l-this.Sr[0].batchId},f.prototype.Zh=function(l){var h=this.tl(l);return h<0||h>=this.Sr.length?null:this.Sr[h]},f}(),Fr=function(){function f(l,h){this.Dr=l,this.sl=h,this.docs=new $n(Le.i),this.size=0}return f.prototype.Er=function(l,h,g){var y=h.key,E=this.docs.get(y),S=E?E.size:0,R=this.sl(h);return this.docs=this.docs.ot(y,{ta:h,size:R,readTime:g}),this.size+=R-S,this.Dr.Mo(l,y.path.h())},f.prototype.Ar=function(l){var h=this.docs.get(l);h&&(this.docs=this.docs.remove(l),this.size-=h.size)},f.prototype.Rr=function(l,h){var g=this.docs.get(h);return It.resolve(g?g.ta:null)},f.prototype.getEntries=function(l,h){var g=this,y=le();return h.forEach(function(E){var S=g.docs.get(E);y=y.ot(E,S?S.ta:null)}),It.resolve(y)},f.prototype.Lr=function(l,h,g){for(var y=te(),E=new Le(h.path.child("")),S=this.docs.ft(E);S.At();){var R=S.It(),Z=R.value,re=Z.ta,ge=Z.readTime;if(!h.path.T(R.key.path))break;ge.L(g)<=0||re instanceof oi&&Bl(h,re)&&(y=y.ot(re.key,re))}return It.resolve(y)},f.prototype.il=function(l,h){return It.forEach(this.docs,function(g){return h(g)})},f.prototype.ra=function(l){return new yl(this)},f.prototype.aa=function(l){return It.resolve(this.size)},f}(),yl=function(f){function l(h){var g=this;return(g=f.call(this)||this).ca=h,g}return U.__extends(l,f),l.prototype.yr=function(h){var g=this,y=[];return this.wr.forEach(function(E,S){S?y.push(g.ca.Er(h,S,g.readTime)):g.ca.Ar(E)}),It.$n(y)},l.prototype.gr=function(h,g){return this.ca.Rr(h,g)},l.prototype.Pr=function(h,g){return this.ca.getEntries(h,g)},l}(Qf),a_=function(){function f(l){this.persistence=l,this.rl=new Yt(function(h){return xt(h)},mn),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.ol=0,this.al=new Fa,this.targetCount=0,this.cl=$l.fa()}return f.prototype.Ce=function(l,h){return this.rl.forEach(function(g,y){return h(y)}),It.resolve()},f.prototype.Ea=function(l){return It.resolve(this.lastRemoteSnapshotVersion)},f.prototype.Ia=function(l){return It.resolve(this.ol)},f.prototype.wa=function(l){return this.highestTargetId=this.cl.next(),It.resolve(this.highestTargetId)},f.prototype.Aa=function(l,h,g){return g&&(this.lastRemoteSnapshotVersion=g),h>this.ol&&(this.ol=h),It.resolve()},f.prototype.ga=function(l){this.rl.set(l.target,l);var h=l.targetId;h>this.highestTargetId&&(this.cl=new $l(h),this.highestTargetId=h),l.sequenceNumber>this.ol&&(this.ol=l.sequenceNumber)},f.prototype.Ra=function(l,h){return this.ga(h),this.targetCount+=1,It.resolve()},f.prototype.ya=function(l,h){return this.ga(h),It.resolve()},f.prototype.Va=function(l,h){return this.rl.delete(h.target),this.al.Uc(h.targetId),this.targetCount-=1,It.resolve()},f.prototype.po=function(l,h,g){var y=this,E=0,S=[];return this.rl.forEach(function(R,V){V.sequenceNumber<=h&&null===g.get(V.targetId)&&(y.rl.delete(R),S.push(y.pa(l,V.targetId)),E++)}),It.$n(S).next(function(){return E})},f.prototype.ba=function(l){return It.resolve(this.targetCount)},f.prototype.va=function(l,h){var g=this.rl.get(h)||null;return It.resolve(g)},f.prototype.Sa=function(l,h,g){return this.al.Lc(h,g),It.resolve()},f.prototype.Ca=function(l,h,g){this.al.qc(h,g);var y=this.persistence.No,E=[];return y&&h.forEach(function(S){E.push(y.Go(l,S))}),It.$n(E)},f.prototype.pa=function(l,h){return this.al.Uc(h),It.resolve()},f.prototype.Fa=function(l,h){var g=this.al.Wc(h);return It.resolve(g)},f.prototype.Ho=function(l,h){return It.resolve(this.al.Ho(h))},f}(),_d=function(){function f(l){var h=this;this.ul={},this.Ma=new Eo(0),this.Oa=!1,this.Oa=!0,this.No=l(this),this.Ka=new a_(this),this.Dr=new Is,this.vr=new Fr(this.Dr,function(E){return h.No.hl(E)})}return f.prototype.start=function(){return Promise.resolve()},f.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(f.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),f.prototype.Za=function(){},f.prototype.tc=function(){},f.prototype.Ic=function(){return this.Dr},f.prototype.mc=function(l){var h=this.ul[l.ti()];return h||(h=new Ba(this.Dr,this.No),this.ul[l.ti()]=h),h},f.prototype.Tc=function(){return this.Ka},f.prototype.Ec=function(){return this.vr},f.prototype.runTransaction=function(l,h,g){var y=this;me("MemoryPersistence","Starting transaction:",l);var E=new vd(this.Ma.next());return this.No.ll(),g(E).next(function(S){return y.No._l(E).next(function(){return S})}).Fn().then(function(S){return E.br(),S})},f.prototype.fl=function(l,h){return It.kn(Object.values(this.ul).map(function(g){return function(){return g.Ho(l,h)}}))},f}(),vd=function(f){function l(h){var g=this;return(g=f.call(this)||this).xa=h,g}return U.__extends(l,f),l}(Xd),Qh=function(){function f(l){this.persistence=l,this.dl=new Fa,this.wl=null}return f.ml=function(l){return new f(l)},Object.defineProperty(f.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw Re()},enumerable:!1,configurable:!0}),f.prototype.Da=function(l,h,g){return this.dl.Da(g,h),this.Tl.delete(g.toString()),It.resolve()},f.prototype.Na=function(l,h,g){return this.dl.Na(g,h),this.Tl.add(g.toString()),It.resolve()},f.prototype.Go=function(l,h){return this.Tl.add(h.toString()),It.resolve()},f.prototype.removeTarget=function(l,h){var g=this;this.dl.Uc(h.targetId).forEach(function(E){return g.Tl.add(E.toString())});var y=this.persistence.Tc();return y.Fa(l,h.targetId).next(function(E){E.forEach(function(S){return g.Tl.add(S.toString())})}).next(function(){return y.Va(l,h)})},f.prototype.ll=function(){this.wl=new Set},f.prototype._l=function(l){var h=this,g=this.persistence.Ec().ra();return It.forEach(this.Tl,function(y){var E=Le.D(y);return h.El(l,E).next(function(S){S||g.Ar(E)})}).next(function(){return h.wl=null,g.apply(l)})},f.prototype.yc=function(l,h){var g=this;return this.El(l,h).next(function(y){y?g.Tl.delete(h.toString()):g.Tl.add(h.toString())})},f.prototype.hl=function(l){return 0},f.prototype.El=function(l,h){var g=this;return It.kn([function(){return It.resolve(g.dl.Ho(h))},function(){return g.persistence.Tc().Ho(l,h)},function(){return g.persistence.fl(l,h)}])},f}(),c_=function(){function f(l){this.Il=l.Il,this.Al=l.Al}return f.prototype.gu=function(l){this.Rl=l},f.prototype.Tu=function(l){this.gl=l},f.prototype.onMessage=function(l){this.Pl=l},f.prototype.close=function(){this.Al()},f.prototype.send=function(l){this.Il(l)},f.prototype.yl=function(){this.Rl()},f.prototype.Vl=function(l){this.gl(l)},f.prototype.pl=function(l){this.Pl(l)},f}(),ym={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ry=function(f){function l(h){var g=this;return(g=f.call(this,h)||this).forceLongPolling=h.forceLongPolling,g.W=h.W,g}return U.__extends(l,f),l.prototype.Nl=function(h,g,y,E){return new Promise(function(S,R){var V=new Pe.XhrIo;V.listenOnce(Pe.EventType.COMPLETE,function(){try{switch(V.getLastErrorCode()){case Pe.ErrorCode.NO_ERROR:var re=V.getResponseJson();me("Connection","XHR received:",JSON.stringify(re)),S(re);break;case Pe.ErrorCode.TIMEOUT:me("Connection",'RPC "'+h+'" timed out'),R(new G(z.DEADLINE_EXCEEDED,"Request time out"));break;case Pe.ErrorCode.HTTP_ERROR:var ge=V.getStatus();if(me("Connection",'RPC "'+h+'" failed with status:',ge,"response text:",V.getResponseText()),ge>0){var _e=V.getResponseJson().error;if(_e&&_e.status&&_e.message){var Oe=(ht=_e.status.toLowerCase().replace("_","-"),Object.values(z).indexOf(ht)>=0?ht:z.UNKNOWN);R(new G(Oe,_e.message))}else R(new G(z.UNKNOWN,"Server responded with status "+V.getStatus()))}else R(new G(z.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{me("Connection",'RPC "'+h+'" completed.')}var ht});var Z=JSON.stringify(E);V.send(g,"POST",Z,y,15)})},l.prototype.Pu=function(h,g){var y=[this.vl,"/","google.firestore.v1.Firestore","/",h,"/channel"],E=Pe.createWebChannelTransport(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(S.initMessageHeaders,g),ce.isMobileCordova()||ce.isReactNative()||ce.isElectron()||ce.isIE()||ce.isUWP()||ce.isBrowserExtension()||(S.httpHeadersOverwriteParam="$httpHeaders");var R=y.join("");me("Connection","Creating WebChannel: "+R,S);var V=E.createWebChannel(R,S),Z=!1,re=!1,ge=new c_({Il:function(Oe){re?me("Connection","Not sending because WebChannel is closed:",Oe):(Z||(me("Connection","Opening WebChannel transport."),V.open(),Z=!0),me("Connection","WebChannel sending:",Oe),V.send(Oe))},Al:function(){return V.close()}}),_e=function(Oe,et){V.listen(Oe,function(ht){try{et(ht)}catch(an){setTimeout(function(){throw an},0)}})};return _e(Pe.WebChannel.EventType.OPEN,function(){re||me("Connection","WebChannel transport opened.")}),_e(Pe.WebChannel.EventType.CLOSE,function(){re||(re=!0,me("Connection","WebChannel transport closed"),ge.Vl())}),_e(Pe.WebChannel.EventType.ERROR,function(Oe){re||(re=!0,st("Connection","WebChannel transport errored:",Oe),ge.Vl(new G(z.UNAVAILABLE,"The operation could not be completed")))}),_e(Pe.WebChannel.EventType.MESSAGE,function(Oe){var et;if(!re){var ht=Oe.data[0];at(!!ht);var Xt=ht.error||(null===(et=ht[0])||void 0===et?void 0:et.error);if(Xt){me("Connection","WebChannel received error:",Xt);var On=Xt.status,Xn=function(bi){var fr=Jt[bi];if(void 0!==fr)return Li(fr)}(On),gi=Xt.message;void 0===Xn&&(Xn=z.INTERNAL,gi="Unknown error status: "+On+" with message "+Xt.message),re=!0,ge.Vl(new G(Xn,gi)),V.close()}else me("Connection","WebChannel received:",ht),ge.pl(ht)}}),setTimeout(function(){ge.yl()},0),ge},l}(function(){function f(l){this.bl=l,this.U=l.U,this.vl=(l.ssl?"https":"http")+"://"+l.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return f.prototype.$u=function(l,h,g,y){var E=this.Dl(l,h);me("RestConnection","Sending: ",E,g);var S={};return this.Cl(S,y),this.Nl(l,E,S,g).then(function(R){return me("RestConnection","Received: ",R),R},function(R){throw st("RestConnection",l+" failed with error: ",R,"url: ",E,"request:",g),R})},f.prototype.ku=function(l,h,g,y){return this.$u(l,h,g,y)},f.prototype.Cl=function(l,h){if(l["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",l["Content-Type"]="text/plain",h)for(var g in h.Kc)h.Kc.hasOwnProperty(g)&&(l[g]=h.Kc[g])},f.prototype.Dl=function(l,h){return this.vl+"/v1/"+h+":"+ym[l]},f}()),Gs=function(){function f(){var l=this;this.Fl=function(){return l.xl()},this.$l=function(){return l.kl()},this.Ml=[],this.Ol()}return f.prototype.Zu=function(l){this.Ml.push(l)},f.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},f.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},f.prototype.xl=function(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var l=0,h=this.Ml;l<h.length;l++)(0,h[l])(0)},f.prototype.kl=function(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var l=0,h=this.Ml;l<h.length;l++)(0,h[l])(1)},f.Ln=function(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},f}(),op=function(){function f(){}return f.prototype.Zu=function(l){},f.prototype.Di=function(){},f}();function eu(f){return new na(f,!0)}var l_="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",yd=function(){function f(){}return f.prototype.initialize=function(l){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){switch(h.label){case 0:return this.Sh=this.Ll(l),this.persistence=this.Bl(l),[4,this.persistence.start()];case 1:return h.sent(),this.ql=this.Ul(l),this.ju=this.Ql(l),[2]}})})},f.prototype.Ul=function(l){return null},f.prototype.Ql=function(l){return h=this.persistence,g=new Va,new ts(h,g,l.Wl);var h,g},f.prototype.Bl=function(l){if(l.persistenceSettings.jl)throw new G(z.FAILED_PRECONDITION,l_);return new _d(Qh.ml)},f.prototype.Ll=function(l){return new ul},f.prototype.terminate=function(){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){switch(l.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return l.sent(),[4,this.persistence.Di()];case 2:return l.sent(),[2]}})})},f.prototype.clearPersistence=function(l,h){throw new G(z.FAILED_PRECONDITION,l_)},f}(),u_=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.initialize=function(h){return U.__awaiter(this,void 0,void 0,function(){var g,y=this;return U.__generator(this,function(E){switch(E.label){case 0:return[4,f.prototype.initialize.call(this,h)];case 1:return E.sent(),g=this.Kl.fi,this.Sh instanceof Fc?(this.Sh.fi={er:Bt.bind(null,g),nr:fs.bind(null,g),sr:Mo.bind(null,g),pi:Mn.bind(null,g)},[4,this.Sh.start()]):[3,3];case 2:E.sent(),E.label=3;case 3:return[4,this.persistence.Xa(function(S){return U.__awaiter(y,void 0,void 0,function(){return U.__generator(this,function(R){switch(R.label){case 0:return[4,Ft(this.Kl.fi,S)];case 1:return R.sent(),this.ql&&(S&&!this.ql.Ei?this.ql.start(this.ju):S||this.ql.stop()),[2]}})})})];case 4:return E.sent(),[2]}})})},l.prototype.Ll=function(h){if(h.persistenceSettings.jl&&h.persistenceSettings.synchronizeTabs){var g=j();if(!Fc.Ln(g))throw new G(z.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var y=Gl(h.bl.U,h.bl.persistenceKey);return new Fc(g,h.cs,y,h.clientId,h.Wl)}return new ul},l}(function(f){function l(h){var g=this;return(g=f.call(this)||this).Kl=h,g}return U.__extends(l,f),l.prototype.initialize=function(h){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return[4,f.prototype.initialize.call(this,h)];case 1:return g.sent(),[4,dc(this.ju)];case 2:return g.sent(),[4,this.Kl.initialize(this,h)];case 3:return g.sent(),[4,Du(this.Kl.fi)];case 4:return g.sent(),[4,$s(this.Kl.ph)];case 5:return g.sent(),[2]}})})},l.prototype.Ul=function(h){return new Jd(this.persistence.No.wo,h.cs)},l.prototype.Bl=function(h){var g=Gl(h.bl.U,h.bl.persistenceKey),y=eu(h.bl.U);return new ls(h.persistenceSettings.synchronizeTabs,g,h.clientId,Qr.ao(h.persistenceSettings.cacheSizeBytes),h.cs,j(),ee(),y,this.Sh,h.persistenceSettings.ka)},l.prototype.Ll=function(h){return new ul},l.prototype.clearPersistence=function(h,g){return function(y){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(S){switch(S.label){case 0:return Jo.Ln()?[4,Jo.delete(y+"main")]:[2,Promise.resolve()];case 1:return S.sent(),[2]}})})}(Gl(h,g))},l}(yd)),Xh=function(){function f(){}return f.prototype.initialize=function(l,h){return U.__awaiter(this,void 0,void 0,function(){var g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.ju?[3,2]:(this.ju=l.ju,this.Sh=l.Sh,this.Ku=this.Gl(h),this.ph=this.zl(h),this.bh=this.Hl(h),this.fi=this.Yl(h),this.Sh.di=function(E){return md(g.fi,E,1)},this.ph.Gu.Jl=be.bind(null,this.fi),[4,Jl(this.ph,this.fi.Uh)]);case 1:y.sent(),y.label=2;case 2:return[2]}})})},f.prototype.Hl=function(l){return new ti},f.prototype.Gl=function(l){var g=eu(l.bl.U),y=new Ry(l.bl);return new cd(l.credentials,y,g)},f.prototype.zl=function(l){var h,g,y,E,S,R=this;return h=this.ju,g=this.Ku,y=l.cs,E=function(V){return md(R.fi,V,0)},S=Gs.Ln()?new Gs:new op,new np(h,g,y,E,S)},f.prototype.Yl=function(l){return V=!l.persistenceSettings.jl||!l.persistenceSettings.synchronizeTabs,Z=new _l(this.ju,this.ph,this.bh,this.Sh,l.Wl,l.Dh),V&&(Z.qh=!0),Z;var V,Z},f.prototype.terminate=function(){return Wh(this.ph)},f}(),M=function(){function f(l){this.observer=l,this.muted=!1}return f.prototype.next=function(l){this.observer.next&&this.Xl(this.observer.next,l)},f.prototype.error=function(l){this.observer.error?this.Xl(this.observer.error,l):console.error("Uncaught Error in snapshot listener:",l)},f.prototype.Zl=function(){this.muted=!0},f.prototype.Xl=function(l,h){var g=this;this.muted||setTimeout(function(){g.muted||l(h)},0)},f}(),w=function(f){!function(h,g,y,E){if(!(g instanceof Array)||g.length<1)throw new G(z.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+fn(1,"element")+".")}(0,f);for(var l=0;l<f.length;++l)if(un("FieldPath","string",l,f[l]),0===f[l].length)throw new G(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new Ge(f)},I=function(f){function l(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];return f.call(this,h)||this}return U.__extends(l,f),l.documentId=function(){return new l(Ge.v().R())},l.prototype.isEqual=function(h){if(!(h instanceof l))throw Sn("isEqual","FieldPath",1,h);return this.t_.isEqual(h.t_)},l}(w),O=new RegExp("[~\\*/\\[\\]]"),$=function(f){this.e_=f},X=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.n_=function(h){if(2!==h.s_)throw h.i_(1===h.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return h.We.push(h.path),null},l.prototype.isEqual=function(h){return h instanceof l},l}($);function De(f,l,h){return new Mu({s_:3,r_:l.settings.r_,methodName:f.e_,o_:h},l.U,l.serializer,l.ignoreUndefinedProperties)}var Je=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.n_=function(h){return new aa(h.path,new on)},l.prototype.isEqual=function(h){return h instanceof l},l}($),Ot=function(f){function l(h,g){var y=this;return(y=f.call(this,h)||this).a_=g,y}return U.__extends(l,f),l.prototype.n_=function(h){var g=De(this,h,!0),y=this.a_.map(function(S){return tu(S,g)}),E=new qr(y);return new aa(h.path,E)},l.prototype.isEqual=function(h){return this===h},l}($),Nt=function(f){function l(h,g){var y=this;return(y=f.call(this,h)||this).a_=g,y}return U.__extends(l,f),l.prototype.n_=function(h){var g=De(this,h,!0),y=this.a_.map(function(S){return tu(S,g)}),E=new Cr(y);return new aa(h.path,E)},l.prototype.isEqual=function(h){return this===h},l}($),pn=function(f){function l(h,g){var y=this;return(y=f.call(this,h)||this).c_=g,y}return U.__extends(l,f),l.prototype.n_=function(h){var g=new ys(h.serializer,Fs(h.serializer,this.c_));return new aa(h.path,g)},l.prototype.isEqual=function(h){return this===h},l}($),Wn=function(){function f(l,h){if(ot("GeoPoint",arguments,2),un("GeoPoint","number",1,l),un("GeoPoint","number",2,h),!isFinite(l)||l<-90||l>90)throw new G(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+l);if(!isFinite(h)||h<-180||h>180)throw new G(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+h);this.u_=l,this.h_=h}return Object.defineProperty(f.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){return this.u_===l.u_&&this.h_===l.h_},f.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},f.prototype.Y=function(l){return Ut(this.u_,l.u_)||Ut(this.h_,l.h_)},f}(),eo=function(f){this.l_=f},ga=/^__.*__$/,to=function(f,l,h){this.__=f,this.f_=l,this.d_=h},sp=function(){function f(l,h,g){this.data=l,this.We=h,this.fieldTransforms=g}return f.prototype.w_=function(l,h){var g=[];return g.push(null!==this.We?new Wr(l,this.data,this.We,h):new rr(l,this.data,h)),this.fieldTransforms.length>0&&g.push(new Hi(l,this.fieldTransforms)),g},f}(),Jh=function(){function f(l,h,g){this.data=l,this.We=h,this.fieldTransforms=g}return f.prototype.w_=function(l,h){var g=[new Wr(l,this.data,this.We,h)];return this.fieldTransforms.length>0&&g.push(new Hi(l,this.fieldTransforms)),g},f}();function qc(f){switch(f){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}var Mu=function(){function f(l,h,g,y,E,S){this.settings=l,this.U=h,this.serializer=g,this.ignoreUndefinedProperties=y,void 0===E&&this.m_(),this.fieldTransforms=E||[],this.We=S||[]}return Object.defineProperty(f.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),f.prototype.T_=function(l){return new f(Object.assign(Object.assign({},this.settings),l),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},f.prototype.E_=function(l){var h,g=null===(h=this.path)||void 0===h?void 0:h.child(l),y=this.T_({path:g,o_:!1});return y.I_(l),y},f.prototype.A_=function(l){var h,g=null===(h=this.path)||void 0===h?void 0:h.child(l),y=this.T_({path:g,o_:!1});return y.m_(),y},f.prototype.R_=function(l){return this.T_({path:void 0,o_:!0})},f.prototype.i_=function(l){return ap(l,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},f.prototype.contains=function(l){return void 0!==this.We.find(function(h){return l.T(h)})||void 0!==this.fieldTransforms.find(function(h){return l.T(h.field)})},f.prototype.m_=function(){if(this.path)for(var l=0;l<this.path.length;l++)this.I_(this.path.get(l))},f.prototype.I_=function(l){if(0===l.length)throw this.i_("Document fields must not be empty");if(qc(this.s_)&&ga.test(l))throw this.i_('Document fields cannot begin and end with "__"')},f}(),bl=function(){function f(l,h,g){this.U=l,this.ignoreUndefinedProperties=h,this.serializer=g||eu(l)}return f.prototype.P_=function(l,h,g,y){return void 0===y&&(y=!1),new Mu({s_:l,methodName:h,r_:g,path:Ge.P(),o_:!1,g_:y},this.U,this.serializer,this.ignoreUndefinedProperties)},f}();function ef(f,l,h,g,y,E){void 0===E&&(E={});var S=f.P_(E.merge||E.mergeFields?2:0,l,h,y);ph("Data must be an object, but it was:",S,g);var R,V,Z=fh(g,S);if(E.merge)R=new Ir(S.We),V=S.fieldTransforms;else if(E.mergeFields){for(var re=[],ge=0,_e=E.mergeFields;ge<_e.length;ge++){var Oe=_e[ge],et=void 0;if(Oe instanceof w)et=Oe.t_;else{if("string"!=typeof Oe)throw Re();et=h_(l,Oe,h)}if(!S.contains(et))throw new G(z.INVALID_ARGUMENT,"Field '"+et+"' is specified in your field mask but missing from your input data.");ww(re,et)||re.push(et)}R=new Ir(re),V=S.fieldTransforms.filter(function(ht){return R.Ye(ht.field)})}else R=null,V=S.fieldTransforms;return new sp(new Or(Z),R,V)}function hh(f,l,h,g){var y=f.P_(1,l,h);ph("Data must be an object, but it was:",y,g);var E=[],S=new Kr;nt(g,function(V,Z){var re=h_(l,V,h),ge=y.A_(re);if(Z instanceof X||Z instanceof eo&&Z.l_ instanceof X)E.push(re);else{var _e=tu(Z,ge);null!=_e&&(E.push(re),S.set(re,_e))}});var R=new Ir(E);return new Jh(S.Xe(),R,y.fieldTransforms)}function tf(f,l,h,g,y,E){var S=f.P_(1,l,h),R=[bd(l,g,h)],V=[y];if(E.length%2!=0)throw new G(z.INVALID_ARGUMENT,"Function "+l+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var Z=0;Z<E.length;Z+=2)R.push(bd(l,E[Z])),V.push(E[Z+1]);for(var re=[],ge=new Kr,_e=R.length-1;_e>=0;--_e)if(!ww(re,R[_e])){var Oe=R[_e],et=V[_e],ht=S.A_(Oe);if(et instanceof X||et instanceof eo&&et.l_ instanceof X)re.push(Oe);else{var an=tu(et,ht);null!=an&&(re.push(Oe),ge.set(Oe,an))}}var Xt=new Ir(re);return new Jh(ge.Xe(),Xt,S.fieldTransforms)}function bm(f,l,h,g){return void 0===g&&(g=!1),tu(h,f.P_(g?4:3,l))}function tu(f,l){if(f instanceof eo&&(f=f.l_),d_(f))return ph("Unsupported field value:",l,f),fh(f,l);if(f instanceof $)return function(h,g){if(!qc(g.s_))throw g.i_(h.e_+"() can only be used with update() and set()");if(!g.path)throw g.i_(h.e_+"() is not currently supported inside arrays");var y=h.n_(g);y&&g.fieldTransforms.push(y)}(f,l),null;if(l.path&&l.We.push(l.path),f instanceof Array){if(l.settings.o_&&4!==l.s_)throw l.i_("Nested arrays are not supported");return function(h,g){for(var y=[],E=0,S=0,R=h;S<R.length;S++){var V=tu(R[S],g.R_(E));null==V&&(V={nullValue:"NULL_VALUE"}),y.push(V),E++}return{arrayValue:{values:y}}}(f,l)}return function(h,g){if(null===h)return{nullValue:"NULL_VALUE"};if("number"==typeof h)return Fs(g.serializer,h);if("boolean"==typeof h)return{booleanValue:h};if("string"==typeof h)return{stringValue:h};if(h instanceof Date){var y=Qt.fromDate(h);return{timestampValue:ia(g.serializer,y)}}if(h instanceof Qt){var E=new Qt(h.seconds,1e3*Math.floor(h.nanoseconds/1e3));return{timestampValue:ia(g.serializer,E)}}if(h instanceof Wn)return{geoPointValue:{latitude:h.latitude,longitude:h.longitude}};if(h instanceof wi)return{bytesValue:ol(g.serializer,h.q)};if(h instanceof to){var S=g.U,R=h.__;if(!R.isEqual(S))throw g.i_("Document reference is for database "+R.projectId+"/"+R.database+" but should be for database "+S.projectId+"/"+S.database);return{referenceValue:yr(h.__||g.U,h.f_.path)}}if(void 0===h&&g.ignoreUndefinedProperties)return null;throw g.i_("Unsupported field value: "+gt(h))}(f,l)}function fh(f,l){var h={};return $e(f)?l.path&&l.path.length>0&&l.We.push(l.path):nt(f,function(g,y){var E=tu(y,l.E_(g));null!=E&&(h[g]=E)}),{mapValue:{fields:h}}}function d_(f){return!("object"!=typeof f||null===f||f instanceof Array||f instanceof Date||f instanceof Qt||f instanceof Wn||f instanceof wi||f instanceof to||f instanceof $)}function ph(f,l,h){if(!d_(h)||!ct(h)){var g=gt(h);throw l.i_("an object"===g?f+" a custom object":f+" "+g)}}function bd(f,l,h){if(l instanceof w)return l.t_;if("string"==typeof l)return h_(f,l);throw ap("Field path arguments must be of type string or FieldPath.",f,!1,void 0,h)}function h_(f,l,h){try{return function(y){if(y.search(O)>=0)throw new G(z.INVALID_ARGUMENT,"Invalid field path ("+y+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(I.bind.apply(I,U.__spreadArrays([void 0],y.split("."))))}catch{throw new G(z.INVALID_ARGUMENT,"Invalid field path ("+y+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(l).t_}catch(y){throw ap((g=y)instanceof Error?g.message:g.toString(),f,!1,void 0,h)}var g}function ap(f,l,h,g,y){var E=g&&!g.m(),S=void 0!==y,R="Function "+l+"() called with invalid data";h&&(R+=" (via `toFirestore()`)");var V="";return(E||S)&&(V+=" (found",E&&(V+=" in field "+g),S&&(V+=" in document "+y),V+=")"),new G(z.INVALID_ARGUMENT,(R+=". ")+f+V)}function ww(f,l){return f.some(function(h){return h.isEqual(l)})}var wm=function(){function f(l){this.Ku=l,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return f.prototype.v_=function(l){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:if(this.S_(),this.mutations.length>0)throw new G(z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(E,S){return U.__awaiter(this,void 0,void 0,function(){var R,V,Z,re,ge,_e;return U.__generator(this,function(Oe){switch(Oe.label){case 0:return R=Ze(E),V=vs(R.serializer)+"/documents",Z={documents:S.map(function(et){return ra(R.serializer,et)})},[4,R.ku("BatchGetDocuments",V,Z)];case 1:return re=Oe.sent(),ge=new Map,re.forEach(function(et){var an,Xt,ht=(an=R.serializer,"found"in(Xt=et)?function(On,Xn){at(!!Xn.found);var gi=er(On,Xn.found.name),bi=vo(Xn.found.updateTime),fr=new Or({mapValue:{fields:Xn.found.fields}});return new oi(gi,bi,fr,{})}(an,Xt):"missing"in Xt?function(On,Xn){at(!!Xn.missing),at(!!Xn.readTime);var gi=er(On,Xn.missing),bi=vo(Xn.readTime);return new Pr(gi,bi)}(an,Xt):Re());ge.set(ht.key.toString(),ht)}),_e=[],[2,(S.forEach(function(et){var ht=ge.get(et.toString());at(!!ht),_e.push(ht)}),_e)]}})})}(this.Ku,l)];case 1:return[2,((h=y.sent()).forEach(function(E){E instanceof Pr||E instanceof oi?g.D_(E):Re()}),h)]}})})},f.prototype.set=function(l,h){this.write(h.w_(l,this.Ge(l))),this.b_.add(l.toString())},f.prototype.update=function(l,h){try{this.write(h.w_(l,this.C_(l)))}catch(g){this.p_=g}this.b_.add(l.toString())},f.prototype.delete=function(l){this.write([new Tr(l,this.Ge(l))]),this.b_.add(l.toString())},f.prototype.commit=function(){return U.__awaiter(this,void 0,void 0,function(){var l,h=this;return U.__generator(this,function(g){switch(g.label){case 0:if(this.S_(),this.p_)throw this.p_;return l=this.y_,this.mutations.forEach(function(y){l.delete(y.key.toString())}),l.forEach(function(y,E){var S=Le.D(E);h.mutations.push(new al(S,h.Ge(S)))}),[4,function(y,E){return U.__awaiter(this,void 0,void 0,function(){var S,R,V;return U.__generator(this,function(Z){switch(Z.label){case 0:return S=Ze(y),R=vs(S.serializer)+"/documents",V={writes:E.map(function(re){return Ui(S.serializer,re)})},[4,S.$u("Commit",R,V)];case 1:return Z.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return g.sent(),this.V_=!0,[2]}})})},f.prototype.D_=function(l){var h;if(l instanceof oi)h=l.version;else{if(!(l instanceof Pr))throw Re();h=zt.min()}var g=this.y_.get(l.key.toString());if(g){if(!h.isEqual(g))throw new G(z.ABORTED,"Document version changed between two reads.")}else this.y_.set(l.key.toString(),h)},f.prototype.Ge=function(l){var h=this.y_.get(l.toString());return!this.b_.has(l.toString())&&h?Vi.updateTime(h):Vi.ze()},f.prototype.C_=function(l){var h=this.y_.get(l.toString());if(!this.b_.has(l.toString())&&h){if(h.isEqual(zt.min()))throw new G(z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vi.updateTime(h)}return Vi.exists(!0)},f.prototype.write=function(l){this.S_(),this.mutations=this.mutations.concat(l)},f.prototype.S_=function(){},f}(),f_=function(){function f(l,h,g,y){this.cs=l,this.Ku=h,this.updateFunction=g,this.ls=y,this.N_=5,this.ys=new Oa(this.cs,"transaction_retry")}return f.prototype.run=function(){this.F_()},f.prototype.F_=function(){var l=this;this.ys.gn(function(){return U.__awaiter(l,void 0,void 0,function(){var h,g,y=this;return U.__generator(this,function(E){return h=new wm(this.Ku),(g=this.x_(h))&&g.then(function(S){y.cs.ws(function(){return h.commit().then(function(){y.ls.resolve(S)}).catch(function(R){y.k_(R)})})}).catch(function(S){y.k_(S)}),[2]})})})},f.prototype.x_=function(l){try{var h=this.updateFunction(l);return!Te(h)&&h.catch&&h.then?h:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(g){return this.ls.reject(g),null}},f.prototype.k_=function(l){var h=this;this.N_>0&&this.M_(l)?(this.N_-=1,this.cs.ws(function(){return h.F_(),Promise.resolve()})):this.ls.reject(l)},f.prototype.M_=function(l){if("FirebaseError"===l.name){var h=l.code;return"aborted"===h||"failed-precondition"===h||!Hn(h)}return!1},f}(),Cm=function(){function f(l,h){this.credentials=l,this.cs=h,this.clientId=Dn.k(),this.O_=new Bo}return f.prototype.start=function(l,h,g,y){var E=this;this.L_(),this.bl=l;var S=new Bo,R=!1;return this.credentials.Hc(function(V){if(!R)return R=!0,me("FirestoreClient","Initializing. user=",V.uid),E.B_(h,g,y,V,S).then(E.O_.resolve,E.O_.reject);E.cs.Cs(function(){return function(Z,re){return U.__awaiter(this,void 0,void 0,function(){var ge,_e;return U.__generator(this,function(Oe){switch(Oe.label){case 0:return(ge=Ze(Z)).cs.xs(),me("RemoteStore","RemoteStore received new credentials"),_e=ds(ge),ge.Yu.add(3),[4,Zl(ge)];case 1:return Oe.sent(),_e&&ge.th.set("Unknown"),[4,ge.Gu.Jl(re)];case 2:return Oe.sent(),ge.Yu.delete(3),[4,ud(ge)];case 3:return Oe.sent(),[2]}})})}(E.ph,V)})}),this.cs.ws(function(){return E.O_.promise}),S.promise},f.prototype.enableNetwork=function(){var l=this;return this.L_(),this.cs.enqueue(function(){return l.persistence.tc(!0),(g=Ze(l.ph)).Yu.delete(0),ud(g);var g})},f.prototype.B_=function(l,h,g,y,E){return U.__awaiter(this,void 0,void 0,function(){var S,R,V=this;return U.__generator(this,function(Z){switch(Z.label){case 0:return Z.trys.push([0,3,,4]),[4,l.initialize(S={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:y,Dh:100,persistenceSettings:g})];case 1:return Z.sent(),[4,h.initialize(l,S)];case 2:return Z.sent(),this.persistence=l.persistence,this.Sh=l.Sh,this.ju=l.ju,this.ql=l.ql,this.Ku=h.Ku,this.ph=h.ph,this.fi=h.fi,this.q_=h.bh,this.q_.Us=ns.bind(null,this.fi),this.q_.js=Ri.bind(null,this.fi),this.persistence.Za(function(){return U.__awaiter(V,void 0,void 0,function(){return U.__generator(this,function(re){switch(re.label){case 0:return[4,this.terminate()];case 1:return re.sent(),[2]}})})}),E.resolve(),[3,4];case 3:if(R=Z.sent(),E.reject(R),!this.U_(R))throw R;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+R),this.B_(new yd,new Xh,{jl:!1},y,E))];case 4:return[2]}})})},f.prototype.U_=function(l){return"FirebaseError"===l.name?l.code===z.FAILED_PRECONDITION||l.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code},f.prototype.L_=function(){if(this.cs.ps)throw new G(z.FAILED_PRECONDITION,"The client has already been terminated.")},f.prototype.disableNetwork=function(){var l=this;return this.L_(),this.cs.enqueue(function(){return l.persistence.tc(!1),function(h){return U.__awaiter(this,void 0,void 0,function(){var g;return U.__generator(this,function(y){switch(y.label){case 0:return(g=Ze(h)).Yu.add(0),[4,Zl(g)];case 1:return y.sent(),g.th.set("Offline"),[2]}})})}(l.ph)})},f.prototype.terminate=function(){var l=this;this.cs.Ds();var h=new Bo;return this.cs.bs(function(){return U.__awaiter(l,void 0,void 0,function(){var g,y;return U.__generator(this,function(E){switch(E.label){case 0:return E.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Wh(this.ph)];case 1:return E.sent(),[4,this.Sh.Di()];case 2:return E.sent(),[4,this.persistence.Di()];case 3:return E.sent(),this.credentials.Yc(),h.resolve(),[3,5];case 4:return g=E.sent(),y=Rt(g,"Failed to shutdown persistence"),h.reject(y),[3,5];case 5:return[2]}})})}),h.promise},f.prototype.waitForPendingWrites=function(){var l=this;this.L_();var h=new Bo;return this.cs.ws(function(){return function(g,y){return U.__awaiter(this,void 0,void 0,function(){var E,S,R,V,Z;return U.__generator(this,function(re){switch(re.label){case 0:ds((E=Ze(g)).ph)||me("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),re.label=1;case 1:return re.trys.push([1,3,,4]),[4,(ge=E.ju,_e=Ze(ge),_e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(Oe){return _e.Sr.qo(Oe)}))];case 2:return-1===(S=re.sent())?[2,void y.resolve()]:((R=E.Lh.get(S)||[]).push(y),E.Lh.set(S,R),[3,4]);case 3:return V=re.sent(),Z=Rt(V,"Initialization of waitForPendingWrites() operation failed"),y.reject(Z),[3,4];case 4:return[2]}var ge,_e})})}(l.fi,h)}),h.promise},f.prototype.listen=function(l,h,g){var y=this;this.L_();var E=new M(g),S=new ll(l,E,h);return this.cs.ws(function(){return dr(y.q_,S)}),function(){E.Zl(),y.cs.ws(function(){return Co(y.q_,S)})}},f.prototype.Q_=function(l){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return y.sent(),h=new Bo,[2,(this.cs.ws(function(){return function(E,S,R){return U.__awaiter(this,void 0,void 0,function(){var V,Z,re;return U.__generator(this,function(ge){switch(ge.label){case 0:return ge.trys.push([0,2,,3]),[4,(_e=E,Oe=S,et=Ze(_e),et.persistence.runTransaction("read document","readonly",function(ht){return et.Cc.Cr(ht,Oe)}))];case 1:return(V=ge.sent())instanceof oi?R.resolve(V):V instanceof Pr?R.resolve(null):R.reject(new G(z.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Z=ge.sent(),re=Rt(Z,"Failed to get document '"+S+" from cache"),R.reject(re),[3,3];case 3:return[2]}var _e,Oe,et})})}(g.ju,l,h)}),h.promise)]}})})},f.prototype.W_=function(l,h){return void 0===h&&(h={}),U.__awaiter(this,void 0,void 0,function(){var g,y=this;return U.__generator(this,function(E){switch(E.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return E.sent(),g=new Bo,[2,(this.cs.ws(function(){return S=y.q_,R=y.cs,V=l,Z=h,re=g,ge=new M({next:function(Oe){R.ws(function(){return Co(S,_e)});var et=Oe.docs.has(V);!et&&Oe.fromCache?re.reject(new G(z.UNAVAILABLE,"Failed to get document because the client is offline.")):et&&Oe.fromCache&&Z&&"server"===Z.source?re.reject(new G(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):re.resolve(Oe)},error:function(Oe){return re.reject(Oe)}}),_e=new ll(Aa(V.path),ge,{includeMetadataChanges:!0,Xs:!0}),dr(S,_e);var S,R,V,Z,re,ge,_e}),g.promise)]}})})},f.prototype.j_=function(l){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return y.sent(),h=new Bo,[2,(this.cs.ws(function(){return function(E,S,R){return U.__awaiter(this,void 0,void 0,function(){var V,Z,re,ge,_e,Oe;return U.__generator(this,function(et){switch(et.label){case 0:return et.trys.push([0,2,,3]),[4,ar(E,S,!0)];case 1:return V=et.sent(),Z=new La(S,V.Fc),re=Z.wh(V.documents),ge=Z.yr(re,!1),R.resolve(ge.snapshot),[3,3];case 2:return _e=et.sent(),Oe=Rt(_e,"Failed to execute query '"+S+" against cache"),R.reject(Oe),[3,3];case 3:return[2]}})})}(g.ju,l,h)}),h.promise)]}})})},f.prototype.K_=function(l,h){return void 0===h&&(h={}),U.__awaiter(this,void 0,void 0,function(){var g,y=this;return U.__generator(this,function(E){switch(E.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return E.sent(),g=new Bo,[2,(this.cs.ws(function(){return S=y.q_,R=y.cs,V=l,Z=h,re=g,ge=new M({next:function(Oe){R.ws(function(){return Co(S,_e)}),Oe.fromCache&&"server"===Z.source?re.reject(new G(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):re.resolve(Oe)},error:function(Oe){return re.reject(Oe)}}),_e=new ll(V,ge,{includeMetadataChanges:!0,Xs:!0}),dr(S,_e);var S,R,V,Z,re,ge,_e}),g.promise)]}})})},f.prototype.write=function(l){var h=this;this.L_();var g=new Bo;return this.cs.ws(function(){return function(y,E,S){return U.__awaiter(this,void 0,void 0,function(){var R,V,Z,re;return U.__generator(this,function(ge){switch(ge.label){case 0:R=Du(y),ge.label=1;case 1:return ge.trys.push([1,5,,6]),[4,(_e=R.ju,Oe=E,ht=Ze(_e),an=Qt.now(),Xt=Oe.reduce(function(On,Xn){return On.add(Xn.key)},Qe()),ht.persistence.runTransaction("Locally write mutations","readwrite",function(On){return ht.Cc.kr(On,Xt).next(function(Xn){et=Xn;for(var gi=[],bi=0,fr=Oe;bi<fr.length;bi++){var Zs=fr[bi],Gc=gu(Zs,et.get(Zs.key));null!=Gc&&gi.push(new Wr(Zs.key,Gc,di(Gc.proto.mapValue),Vi.exists(!0)))}return ht.Sr.ko(On,an,gi,Oe)})}).then(function(On){var Xn=On.lr(et);return{batchId:On.batchId,wr:Xn}}))];case 2:return V=ge.sent(),R.Sh.xi(V.batchId),function(_e,Oe,et){var ht=_e.Oh[_e.currentUser.ti()];ht||(ht=new $n(Ut)),ht=ht.ot(Oe,et),_e.Oh[_e.currentUser.ti()]=ht}(R,V.batchId,S),[4,oe(R,V.wr)];case 3:return ge.sent(),[4,$s(R.ph)];case 4:return ge.sent(),[3,6];case 5:return Z=ge.sent(),re=Rt(Z,"Failed to persist write"),S.reject(re),[3,6];case 6:return[2]}var _e,Oe,et,ht,an,Xt})})}(h.fi,l,g)}),g.promise},f.prototype.U=function(){return this.bl.U},f.prototype.G_=function(l){var h=this;this.L_();var g=new M(l);return this.cs.ws(function(){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){return[2,(E=this.q_,S=g,Ze(E).qs.add(S),void S.next())];var E,S})})}),function(){g.Zl(),h.cs.ws(function(){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){return[2,(E=this.q_,S=g,void Ze(E).qs.delete(S))];var E,S})})})}},Object.defineProperty(f.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),f.prototype.transaction=function(l){var h=this;this.L_();var g=new Bo;return this.cs.ws(function(){return new f_(h.cs,h.Ku,l,g).run(),Promise.resolve()}),g.promise},f}();function wd(f){return function(l,h){if("object"!=typeof l||null===l)return!1;for(var g=l,y=0,E=["next","error","complete"];y<E.length;y++){var S=E[y];if(S in g&&"function"==typeof g[S])return!0}return!1}(f)}var cp=function(){function f(l,h,g,y,E){this.U=l,this.timestampsInSnapshots=h,this.H_=g,this.Y_=y,this.J_=E}return f.prototype.X_=function(l){switch(Ji(l)){case 0:return null;case 1:return l.booleanValue;case 2:return qn(l.integerValue||l.doubleValue);case 3:return this.Z_(l.timestampValue);case 4:return this.tf(l);case 5:return l.stringValue;case 6:return this.J_(Ai(l.bytesValue));case 7:return this.ef(l.referenceValue);case 8:return this.nf(l.geoPointValue);case 9:return this.sf(l.arrayValue);case 10:return this.if(l.mapValue);default:throw Re()}},f.prototype.if=function(l){var h=this,g={};return nt(l.fields||{},function(y,E){g[y]=h.X_(E)}),g},f.prototype.nf=function(l){return new Wn(qn(l.latitude),qn(l.longitude))},f.prototype.sf=function(l){var h=this;return(l.values||[]).map(function(g){return h.X_(g)})},f.prototype.tf=function(l){switch(this.H_){case"previous":var h=ri(l);return null==h?null:this.X_(h);case"estimate":return this.Z_(Gi(l));default:return null}},f.prototype.Z_=function(l){var h=Yo(l),g=new Qt(h.seconds,h.nanos);return this.timestampsInSnapshots?g:g.toDate()},f.prototype.ef=function(l){var h=he.g(l);at(Bn(h));var g=new sn(h.get(1),h.get(3)),y=new Le(h.u(5));return g.isEqual(this.U)||lt("Document "+y+" contains a document reference within a different database ("+g.projectId+"/"+g.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(y)},f}(),p_=Qr.ho,Au=function(){function f(l){var h,g,y,E,S;if(void 0===l.host){if(void 0!==l.ssl)throw new G(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else fi("settings","non-empty string","host",l.host),this.host=l.host,Se("settings","boolean","ssl",l.ssl),this.ssl=null===(h=l.ssl)||void 0===h||h;if(bt("settings",l,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),Se("settings","object","credentials",l.credentials),this.credentials=l.credentials,Se("settings","boolean","timestampsInSnapshots",l.timestampsInSnapshots),Se("settings","boolean","ignoreUndefinedProperties",l.ignoreUndefinedProperties),!0===l.timestampsInSnapshots?lt("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===l.timestampsInSnapshots&&lt("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(g=l.timestampsInSnapshots)||void 0===g||g,this.ignoreUndefinedProperties=null!==(y=l.ignoreUndefinedProperties)&&void 0!==y&&y,Se("settings","number","cacheSizeBytes",l.cacheSizeBytes),void 0===l.cacheSizeBytes)this.cacheSizeBytes=Qr._o;else{if(l.cacheSizeBytes!==p_&&l.cacheSizeBytes<Qr.lo)throw new G(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Qr.lo);this.cacheSizeBytes=l.cacheSizeBytes}Se("settings","boolean","experimentalForceLongPolling",l.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(E=l.experimentalForceLongPolling)&&void 0!==E&&E,Se("settings","boolean","experimentalAutoDetectLongPolling",l.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(S=l.experimentalAutoDetectLongPolling)&&void 0!==S&&S,function(R,V,Z,re){if(!0===V&&!0===re)throw new G(z.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,l.experimentalForceLongPolling,0,l.experimentalAutoDetectLongPolling)}return f.prototype.isEqual=function(l){return this.host===l.host&&this.ssl===l.ssl&&this.timestampsInSnapshots===l.timestampsInSnapshots&&this.credentials===l.credentials&&this.cacheSizeBytes===l.cacheSizeBytes&&this.experimentalForceLongPolling===l.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===l.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===l.ignoreUndefinedProperties},f}(),mh=function(){function f(l,h,g,y){var E=this;if(void 0===g&&(g=new yd),void 0===y&&(y=new Xh),this.rf=g,this.af=y,this.cf=null,this.uf=new Ye,this.INTERNAL={delete:function(){return U.__awaiter(E,void 0,void 0,function(){return U.__generator(this,function(V){switch(V.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return V.sent(),[2]}})})}},"object"==typeof l.options){var S=l;this.cf=S,this.__=f._f(S),this.ff=S.name,this.df=new cr(h)}else{var R=l;if(!R.projectId)throw new G(z.INVALID_ARGUMENT,"Must provide projectId");this.__=new sn(R.projectId,R.database),this.ff="[DEFAULT]",this.df=new Nr}this.wf=new Au({})}return Object.defineProperty(f.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new bl(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),f.prototype.settings=function(l){ot("Firestore.settings",arguments,1),un("Firestore.settings","object",1,l),l.merge&&delete(l=Object.assign(Object.assign({},this.wf),l)).merge;var h=new Au(l);if(this.lf&&!this.wf.isEqual(h))throw new G(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=h,void 0!==h.credentials&&(this.df=function(g){if(!g)return new Nr;switch(g.type){case"gapi":var y=g.client;return at(!("object"!=typeof y||null===y||!y.auth||!y.auth.getAuthHeaderValueForFirstParty)),new tp(y,g.sessionIndex||"0");case"provider":return g.client;default:throw new G(z.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(h.credentials))},f.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},f.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},f.prototype.enablePersistence=function(l){var h,g;if(this.lf)throw new G(z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var y=!1,E=!1;if(l&&(void 0!==l.experimentalTabSynchronization&&lt("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),y=null!==(g=null!==(h=l.synchronizeTabs)&&void 0!==h?h:l.experimentalTabSynchronization)&&void 0!==g&&g,E=!!l.experimentalForceOwningTab&&l.experimentalForceOwningTab,y&&E))throw new G(z.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:y,ka:E})},f.prototype.clearPersistence=function(){return U.__awaiter(this,void 0,void 0,function(){var l,h=this;return U.__generator(this,function(g){if(void 0!==this.lf&&!this.lf.z_)throw new G(z.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return l=new Bo,[2,(this.uf.bs(function(){return U.__awaiter(h,void 0,void 0,function(){var y;return U.__generator(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return E.sent(),l.resolve(),[3,3];case 2:return y=E.sent(),l.reject(y),[3,3];case 3:return[2]}})})}),l.promise)]})})},f.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(f.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),f.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},f.prototype.onSnapshotsInSync=function(l){return this.hf(),wd(l)?this.lf.G_(l):(un("Firestore.onSnapshotsInSync","function",1,l),this.lf.G_({next:l}))},f.prototype.hf=function(){return this.lf||this.Ef(new yd,new Xh,{jl:!1}),this.lf},f.prototype.Af=function(){return new Po(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},f.prototype.Ef=function(l,h,g){var y=this.Af();return this.lf=new Cm(this.df,this.uf),this.lf.start(y,l,h,g)},f._f=function(l){if(!Object.prototype.hasOwnProperty.call(l.options,"projectId"))throw new G(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var g=l.options.projectId;if(!g||"string"!=typeof g)throw new G(z.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new sn(g)},Object.defineProperty(f.prototype,"app",{get:function(){if(!this.cf)throw new G(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),f.prototype.collection=function(l){return ot("Firestore.collection",arguments,1),un("Firestore.collection","non-empty string",1,l),this.hf(),new nu(he.g(l),this,null)},f.prototype.doc=function(l){return ot("Firestore.doc",arguments,1),un("Firestore.doc","non-empty string",1,l),this.hf(),wl.Rf(he.g(l),this,null)},f.prototype.collectionGroup=function(l){if(ot("Firestore.collectionGroup",arguments,1),un("Firestore.collectionGroup","non-empty string",1,l),l.indexOf("/")>=0)throw new G(z.INVALID_ARGUMENT,"Invalid collection ID '"+l+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new rf((h=l,new bs(he.P(),h)),this,null);var h},f.prototype.runTransaction=function(l){var h=this;return ot("Firestore.runTransaction",arguments,1),un("Firestore.runTransaction","function",1,l),this.hf().transaction(function(g){return l(new xm(h,g))})},f.prototype.batch=function(){return this.hf(),new Cw(this)},Object.defineProperty(f,"logLevel",{get:function(){switch(Ne()){case pe.LogLevel.DEBUG:return"debug";case pe.LogLevel.ERROR:return"error";case pe.LogLevel.SILENT:return"silent";case pe.LogLevel.WARN:return"warn";case pe.LogLevel.INFO:return"info";case pe.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),f.setLogLevel=function(l){ot("Firestore.setLogLevel",arguments,1),He("setLogLevel",["debug","error","silent","warn","info","verbose"],1,l),de.setLogLevel(l)},f.prototype.gf=function(){return this.wf.timestampsInSnapshots},f.prototype.Pf=function(){return this.wf},f}(),xm=function(){function f(l,h){this.yf=l,this.Vf=h}return f.prototype.get=function(l){var h=this;ot("Transaction.get",arguments,1);var g=Pu("Transaction.get",l,this.yf);return this.Vf.v_([g.f_]).then(function(y){if(!y||1!==y.length)return Re();var E=y[0];if(E instanceof Pr)return new nf(h.yf,g.f_,null,!1,!1,g.d_);if(E instanceof oi)return new nf(h.yf,g.f_,E,!1,!1,g.d_);throw Re()})},f.prototype.set=function(l,h,g){nn("Transaction.set",arguments,2,3);var y=Pu("Transaction.set",l,this.yf);g=sf("Transaction.set",g);var E=Ws(y.d_,h,g),S=ef(this.yf.mf,"Transaction.set",y.f_,E,null!==y.d_,g);return this.Vf.set(y.f_,S),this},f.prototype.update=function(l,h,g){for(var y,E,S=[],R=3;R<arguments.length;R++)S[R-3]=arguments[R];return"string"==typeof h||h instanceof I?(Kt("Transaction.update",arguments,3),y=Pu("Transaction.update",l,this.yf),E=tf(this.yf.mf,"Transaction.update",y.f_,h,g,S)):(ot("Transaction.update",arguments,2),y=Pu("Transaction.update",l,this.yf),E=hh(this.yf.mf,"Transaction.update",y.f_,h)),this.Vf.update(y.f_,E),this},f.prototype.delete=function(l){ot("Transaction.delete",arguments,1);var h=Pu("Transaction.delete",l,this.yf);return this.Vf.delete(h.f_),this},f}(),Cw=function(){function f(l){this.yf=l,this.pf=[],this.bf=!1}return f.prototype.set=function(l,h,g){nn("WriteBatch.set",arguments,2,3),this.vf();var y=Pu("WriteBatch.set",l,this.yf);g=sf("WriteBatch.set",g);var E=Ws(y.d_,h,g),S=ef(this.yf.mf,"WriteBatch.set",y.f_,E,null!==y.d_,g);return this.pf=this.pf.concat(S.w_(y.f_,Vi.ze())),this},f.prototype.update=function(l,h,g){for(var y,E,S=[],R=3;R<arguments.length;R++)S[R-3]=arguments[R];return this.vf(),"string"==typeof h||h instanceof I?(Kt("WriteBatch.update",arguments,3),y=Pu("WriteBatch.update",l,this.yf),E=tf(this.yf.mf,"WriteBatch.update",y.f_,h,g,S)):(ot("WriteBatch.update",arguments,2),y=Pu("WriteBatch.update",l,this.yf),E=hh(this.yf.mf,"WriteBatch.update",y.f_,h)),this.pf=this.pf.concat(E.w_(y.f_,Vi.exists(!0))),this},f.prototype.delete=function(l){ot("WriteBatch.delete",arguments,1),this.vf();var h=Pu("WriteBatch.delete",l,this.yf);return this.pf=this.pf.concat(new Tr(h.f_,Vi.ze())),this},f.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},f.prototype.vf=function(){if(this.bf)throw new G(z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},f}(),wl=function(f){function l(h,g,y){var E=this;return(E=f.call(this,g.__,h,y)||this).f_=h,E.firestore=g,E.d_=y,E.lf=E.firestore.hf(),E}return U.__extends(l,f),l.Rf=function(h,g,y){if(h.length%2!=0)throw new G(z.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+h.R()+" has "+h.length);return new l(new Le(h),g,y)},Object.defineProperty(l.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"parent",{get:function(){return new nu(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),l.prototype.collection=function(h){if(ot("DocumentReference.collection",arguments,1),un("DocumentReference.collection","non-empty string",1,h),!h)throw new G(z.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var g=he.g(h);return new nu(this.f_.path.child(g),this.firestore,null)},l.prototype.isEqual=function(h){if(!(h instanceof l))throw Sn("isEqual","DocumentReference",1,h);return this.firestore===h.firestore&&this.f_.isEqual(h.f_)&&this.d_===h.d_},l.prototype.set=function(h,g){nn("DocumentReference.set",arguments,1,2),g=sf("DocumentReference.set",g);var y=Ws(this.d_,h,g),E=ef(this.firestore.mf,"DocumentReference.set",this.f_,y,null!==this.d_,g);return this.lf.write(E.w_(this.f_,Vi.ze()))},l.prototype.update=function(h,g){for(var y,E=[],S=2;S<arguments.length;S++)E[S-2]=arguments[S];return"string"==typeof h||h instanceof I?(Kt("DocumentReference.update",arguments,2),y=tf(this.firestore.mf,"DocumentReference.update",this.f_,h,g,E)):(ot("DocumentReference.update",arguments,1),y=hh(this.firestore.mf,"DocumentReference.update",this.f_,h)),this.lf.write(y.w_(this.f_,Vi.exists(!0)))},l.prototype.delete=function(){return ot("DocumentReference.delete",arguments,0),this.lf.write([new Tr(this.f_,Vi.ze())])},l.prototype.onSnapshot=function(){for(var h,g,y,E=this,S=[],R=0;R<arguments.length;R++)S[R]=arguments[R];nn("DocumentReference.onSnapshot",arguments,1,4);var V={includeMetadataChanges:!1},Z=0;"object"!=typeof S[Z]||wd(S[Z])||(bt("DocumentReference.onSnapshot",V=S[Z],["includeMetadataChanges"]),Se("DocumentReference.onSnapshot","boolean","includeMetadataChanges",V.includeMetadataChanges),Z++);var re={includeMetadataChanges:V.includeMetadataChanges};if(wd(S[Z])){var ge=S[Z];S[Z]=null===(h=ge.next)||void 0===h?void 0:h.bind(ge),S[Z+1]=null===(g=ge.error)||void 0===g?void 0:g.bind(ge),S[Z+2]=null===(y=ge.complete)||void 0===y?void 0:y.bind(ge)}else un("DocumentReference.onSnapshot","function",Z,S[Z]),rn("DocumentReference.onSnapshot","function",Z+1,S[Z+1]),rn("DocumentReference.onSnapshot","function",Z+2,S[Z+2]);var _e={next:function(Oe){S[Z]&&S[Z](E.Sf(Oe))},error:S[Z+1],complete:S[Z+2]};return this.lf.listen(Aa(this.f_.path),re,_e)},l.prototype.get=function(h){var g=this;nn("DocumentReference.get",arguments,0,1),xw("DocumentReference.get",h);var y=this.firestore.hf();return h&&"cache"===h.source?y.Q_(this.f_).then(function(E){return new nf(g.firestore,g.f_,E,!0,E instanceof oi&&E.Je,g.d_)}):y.W_(this.f_,h).then(function(E){return g.Sf(E)})},l.prototype.withConverter=function(h){return new l(this.f_,this.firestore,h)},l.prototype.Sf=function(h){var g=h.docs.get(this.f_);return new nf(this.firestore,this.f_,g,h.fromCache,h.hasPendingWrites,this.d_)},l}(to),Ny=function(){function f(l,h){this.hasPendingWrites=l,this.fromCache=h}return f.prototype.isEqual=function(l){return this.hasPendingWrites===l.hasPendingWrites&&this.fromCache===l.fromCache},f}(),nf=function(){function f(l,h,g,y,E,S){this.yf=l,this.f_=h,this.Df=g,this.Cf=y,this.Nf=E,this.d_=S}return f.prototype.data=function(l){var h=this;if(nn("DocumentSnapshot.data",arguments,0,1),l=_h("DocumentSnapshot.data",l),this.Df){if(this.d_){var g=new Em(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(g,l)}return new cp(this.yf.__,this.yf.gf(),l.serverTimestamps||"none",function(y){return new wl(y,h.yf,null)},function(y){return new zi(y)}).X_(this.Df.rn())}},f.prototype.get=function(l,h){var g=this;if(nn("DocumentSnapshot.get",arguments,1,2),h=_h("DocumentSnapshot.get",h),this.Df){var y=this.Df.data().field(bd("DocumentSnapshot.get",l,this.f_));if(null!==y)return new cp(this.yf.__,this.yf.gf(),h.serverTimestamps||"none",function(E){return new wl(E,g.yf,g.d_)},function(E){return new zi(E)}).X_(y)}},Object.defineProperty(f.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ref",{get:function(){return new wl(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"metadata",{get:function(){return new Ny(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){if(!(l instanceof f))throw Sn("isEqual","DocumentSnapshot",1,l);return this.yf===l.yf&&this.Cf===l.Cf&&this.f_.isEqual(l.f_)&&(null===this.Df?null===l.Df:this.Df.isEqual(l.Df))&&this.d_===l.d_},f}(),Em=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.data=function(h){return f.prototype.data.call(this,h)},l}(nf);function ku(f,l,h){if("string"==typeof h){if(""===h)throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!_u(l)&&-1!==h.indexOf("/"))throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+h+"' contains a '/' character.");var g=l.path.child(he.g(h));if(!Le.F(g))throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+g+"' is not because it has an odd number of segments ("+g.length+").");return _o(f,new Le(g))}if(h instanceof to)return _o(f,h.f_);throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+gt(h)+".")}function gh(f,l){if(!Array.isArray(f)||0===f.length)throw new G(z.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+l.toString()+"' filters.");if(f.length>10)throw new G(z.INVALID_ARGUMENT,"Invalid Query. '"+l.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===l||"array-contains-any"===l){if(f.indexOf(null)>=0)throw new G(z.INVALID_ARGUMENT,"Invalid Query. '"+l.toString()+"' filters cannot contain 'null' in the value array.");if(f.filter(function(h){return Number.isNaN(h)}).length>0)throw new G(z.INVALID_ARGUMENT,"Invalid Query. '"+l.toString()+"' filters cannot contain 'NaN' in the value array.")}}function m_(f,l,h){if(!h.isEqual(l))throw new G(z.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+l.toString()+"' and so you must also use '"+l.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+h.toString()+"' instead.")}function Ou(f){if(nc(f)&&0===f.on.length)throw new G(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var rf=function(){function f(l,h,g){this.Ff=l,this.firestore=h,this.d_=g}return f.prototype.where=function(l,h,g){ot("Query.where",arguments,3),Mt("Query.where",3,g);var R,Z,y=He("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,h),E=bd("Query.where",l),S=function Cl(f,l,h,g,y,E,S){var R;if(y.p()){if("array-contains"===E||"array-contains-any"===E)throw new G(z.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+E+"' queries on FieldPath.documentId().");if("in"===E||"not-in"===E){gh(S,E);for(var V=[],Z=0,re=S;Z<re.length;Z++)V.push(ku(g,f,re[Z]));R={arrayValue:{values:V}}}else R=ku(g,f,S)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||gh(S,E),R=bm(h,l,S,"in"===E||"not-in"===E);var _e=Rr.create(y,E,R);return function(Oe,et){if(et.hn()){var ht=mi(Oe);if(null!==ht&&!ht.isEqual(et.field))throw new G(z.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+ht.toString()+"' and '"+et.field.toString()+"'");var an=Vl(Oe);null!==an&&m_(0,et.field,an)}var Xt=function(On,Xn){for(var gi=0,bi=On.filters;gi<bi.length;gi++){var fr=bi[gi];if(Xn.indexOf(fr.op)>=0)return fr.op}return null}(Oe,function(On){switch(On){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(et.op));if(null!==Xt)throw new G(z.INVALID_ARGUMENT,Xt===et.op?"Invalid query. You cannot use more than one '"+et.op.toString()+"' filter.":"Invalid query. You cannot use '"+et.op.toString()+"' filters with '"+Xt.toString()+"' filters.")}(f,_e),_e}(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,E,y,g);return new f((Z=(R=this.Ff).filters.concat([S]),new bs(R.path,R.collectionGroup,R.on.slice(),Z,R.limit,R.an,R.startAt,R.endAt)),this.firestore,this.d_)},f.prototype.orderBy=function(l,h){var g;if(nn("Query.orderBy",arguments,1,2),rn("Query.orderBy","non-empty string",2,h),void 0===h||"asc"===h)g="asc";else{if("desc"!==h)throw new G(z.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+h+"', expected 'asc' or 'desc'.");g="desc"}var S,V,y=bd("Query.orderBy",l),E=function fc(f,l,h){if(null!==f.startAt)throw new G(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==f.endAt)throw new G(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var g=new ha(l,h);return function(y,E){if(null===Vl(y)){var S=mi(y);null!==S&&m_(0,S,E.field)}}(f,g),g}(this.Ff,y,g);return new f((V=(S=this.Ff).on.concat([E]),new bs(S.path,S.collectionGroup,V,S.filters.slice(),S.limit,S.an,S.startAt,S.endAt)),this.firestore,this.d_)},f.prototype.limit=function(l){return ot("Query.limit",arguments,1),un("Query.limit","number",1,l),dn("Query.limit",1,l),new f(Qd(this.Ff,l,"F"),this.firestore,this.d_)},f.prototype.limitToLast=function(l){return ot("Query.limitToLast",arguments,1),un("Query.limitToLast","number",1,l),dn("Query.limitToLast",1,l),new f(Qd(this.Ff,l,"L"),this.firestore,this.d_)},f.prototype.startAt=function(l){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Kt("Query.startAt",arguments,1);var y=this.xf("Query.startAt",l,h,!0);return new f(ic(this.Ff,y),this.firestore,this.d_)},f.prototype.startAfter=function(l){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Kt("Query.startAfter",arguments,1);var y=this.xf("Query.startAfter",l,h,!1);return new f(ic(this.Ff,y),this.firestore,this.d_)},f.prototype.endBefore=function(l){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Kt("Query.endBefore",arguments,1);var y=this.xf("Query.endBefore",l,h,!0);return new f(yo(this.Ff,y),this.firestore,this.d_)},f.prototype.endAt=function(l){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Kt("Query.endAt",arguments,1);var y=this.xf("Query.endAt",l,h,!1);return new f(yo(this.Ff,y),this.firestore,this.d_)},f.prototype.isEqual=function(l){if(!(l instanceof f))throw Sn("isEqual","Query",1,l);return this.firestore===l.firestore&&rc(this.Ff,l.Ff)&&this.d_===l.d_},f.prototype.withConverter=function(l){return new f(this.Ff,this.firestore,l)},f.prototype.xf=function(l,h,g,y){if(Mt(l,1,h),h instanceof nf)return ot(l,U.__spreadArrays([h],g),1),function(S,R,V,Z,re){if(!Z)throw new G(z.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+V+"().");for(var ge=[],_e=0,Oe=Ac(S);_e<Oe.length;_e++){var et=Oe[_e];if(et.field.p())ge.push(_o(R,Z.key));else{var ht=Z.field(et.field);if(kn(ht))throw new G(z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+et.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ht){var an=et.field.R();throw new G(z.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+an+"' (used as the orderBy) does not exist.")}ge.push(ht)}}return new bo(ge,re)}(this.Ff,this.firestore.__,l,h.Df,y);var E=[h].concat(g);return function(S,R,V,Z,re,ge){var _e=S.on;if(re.length>_e.length)throw new G(z.INVALID_ARGUMENT,"Too many arguments provided to "+Z+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var Oe=[],et=0;et<re.length;et++){var ht=re[et];if(_e[et].field.p()){if("string"!=typeof ht)throw new G(z.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+Z+"(), but got a "+typeof ht);if(!_u(S)&&-1!==ht.indexOf("/"))throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+Z+"() must be a plain document ID, but '"+ht+"' contains a slash.");var an=S.path.child(he.g(ht));if(!Le.F(an))throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+Z+"() must result in a valid document path, but '"+an+"' is not because it contains an odd number of segments.");var Xt=new Le(an);Oe.push(_o(R,Xt))}else{var On=bm(V,Z,ht);Oe.push(On)}}return new bo(Oe,ge)}(this.Ff,this.firestore.__,this.firestore.mf,l,E,y)},f.prototype.onSnapshot=function(){for(var l,h,g,y=this,E=[],S=0;S<arguments.length;S++)E[S]=arguments[S];nn("Query.onSnapshot",arguments,1,4);var R={},V=0;if("object"!=typeof E[V]||wd(E[V])||(bt("Query.onSnapshot",R=E[V],["includeMetadataChanges"]),Se("Query.onSnapshot","boolean","includeMetadataChanges",R.includeMetadataChanges),V++),wd(E[V])){var Z=E[V];E[V]=null===(l=Z.next)||void 0===l?void 0:l.bind(Z),E[V+1]=null===(h=Z.error)||void 0===h?void 0:h.bind(Z),E[V+2]=null===(g=Z.complete)||void 0===g?void 0:g.bind(Z)}else un("Query.onSnapshot","function",V,E[V]),rn("Query.onSnapshot","function",V+1,E[V+1]),rn("Query.onSnapshot","function",V+2,E[V+2]);var re={next:function(ge){E[V]&&E[V](new Cd(y.firestore,y.Ff,ge,y.d_))},error:E[V+1],complete:E[V+2]};return Ou(this.Ff),this.firestore.hf().listen(this.Ff,R,re)},f.prototype.get=function(l){var h=this;nn("Query.get",arguments,0,1),xw("Query.get",l),Ou(this.Ff);var g=this.firestore.hf();return(l&&"cache"===l.source?g.j_(this.Ff):g.K_(this.Ff,l)).then(function(y){return new Cd(h.firestore,h.Ff,y,h.d_)})},f}(),Cd=function(){function f(l,h,g,y){this.yf=l,this.$f=h,this.kf=g,this.d_=y,this.Mf=null,this.Of=null,this.metadata=new Ny(g.hasPendingWrites,g.fromCache)}return Object.defineProperty(f.prototype,"docs",{get:function(){var l=[];return this.forEach(function(h){return l.push(h)}),l},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),f.prototype.forEach=function(l,h){var g=this;nn("QuerySnapshot.forEach",arguments,1,2),un("QuerySnapshot.forEach","function",1,l),this.kf.docs.forEach(function(y){l.call(h,g.Lf(y,g.metadata.fromCache,g.kf.Wt.has(y.key)))})},Object.defineProperty(f.prototype,"query",{get:function(){return new rf(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),f.prototype.docChanges=function(l){l&&(bt("QuerySnapshot.docChanges",l,["includeMetadataChanges"]),Se("QuerySnapshot.docChanges","boolean","includeMetadataChanges",l.includeMetadataChanges));var h=!(!l||!l.includeMetadataChanges);if(h&&this.kf.Kt)throw new G(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===h||(this.Mf=function(g,y,E){if(g.Qt.m()){var S=0;return g.docChanges.map(function(V){return{type:"added",doc:E(V.doc,g.fromCache,g.Wt.has(V.doc.key)),oldIndex:-1,newIndex:S++}})}var R=g.Qt;return g.docChanges.filter(function(V){return y||3!==V.type}).map(function(V){var Z=E(V.doc,g.fromCache,g.Wt.has(V.doc.key)),re=-1,ge=-1;return 0!==V.type&&(re=R.indexOf(V.doc.key),R=R.delete(V.doc.key)),1!==V.type&&(ge=(R=R.add(V.doc)).indexOf(V.doc.key)),{type:Ew(V.type),doc:Z,oldIndex:re,newIndex:ge}})}(this.kf,h,this.Lf.bind(this)),this.Of=h),this.Mf},f.prototype.isEqual=function(l){if(!(l instanceof f))throw Sn("isEqual","QuerySnapshot",1,l);return this.yf===l.yf&&rc(this.$f,l.$f)&&this.kf.isEqual(l.kf)&&this.d_===l.d_},f.prototype.Lf=function(l,h,g){return new Em(this.yf,l.key,l,h,g,this.d_)},f}(),nu=function(f){function l(h,g,y){var E=this;if((E=f.call(this,Aa(h),g,y)||this).Bf=h,h.length%2!=1)throw new G(z.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+h.R()+" has "+h.length);return E}return U.__extends(l,f),Object.defineProperty(l.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"parent",{get:function(){var h=this.Ff.path.h();return h.m()?null:new wl(new Le(h),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),l.prototype.doc=function(h){nn("CollectionReference.doc",arguments,0,1),0===arguments.length&&(h=Dn.k()),un("CollectionReference.doc","non-empty string",1,h);var g=he.g(h);return wl.Rf(this.Ff.path.child(g),this.firestore,this.d_)},l.prototype.add=function(h){ot("CollectionReference.add",arguments,1);var g=this.d_?this.d_.toFirestore(h):h;un("CollectionReference.add","object",1,g);var y=this.doc();return new wl(y.f_,this.firestore,null).set(g).then(function(){return y})},l.prototype.withConverter=function(h){return new l(this.Bf,this.firestore,h)},l}(rf);function sf(f,l){if(void 0===l)return{merge:!1};if(bt(f,l,["merge","mergeFields"]),Se(f,"boolean","merge",l.merge),void 0!==(E=l.mergeFields)&&function(R,V,Z,re,ge){if(!(re instanceof Array))throw new G(z.INVALID_ARGUMENT,"Function "+R+"() requires its "+V+" option to be an array, but it was: "+gt(re));for(var _e=0;_e<re.length;++_e)if(!ge(re[_e]))throw new G(z.INVALID_ARGUMENT,"Function "+R+"() requires all "+V+" elements to be a string or a FieldPath, but the value at index "+_e+" was: "+gt(re[_e]))}(f,"mergeFields",0,E,function(h){return"string"==typeof h||h instanceof I}),void 0!==l.mergeFields&&void 0!==l.merge)throw new G(z.INVALID_ARGUMENT,"Invalid options passed to function "+f+'(): You cannot specify both "merge" and "mergeFields".');var E;return l}function _h(f,l){return void 0===l?{}:(bt(f,l,["serverTimestamps"]),Ce(f,0,"serverTimestamps",l.serverTimestamps,["estimate","previous","none"]),l)}function xw(f,l){rn(f,"object",1,l),l&&(bt(f,l,["source"]),Ce(f,0,"source",l.source,["default","server","cache"]))}function Pu(f,l,h){if(l instanceof to){if(l.firestore!==h)throw new G(z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}throw Sn(f,"DocumentReference",1,l)}function Ew(f){switch(f){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}function Ws(f,l,h){return f?h&&(h.merge||h.mergeFields)?f.toFirestore(l,h):f.toFirestore(l):l}var Im=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.serverTimestamp=function(){Ct("FieldValue.serverTimestamp",arguments);var h=new Je("serverTimestamp");return h.e_="FieldValue.serverTimestamp",new l(h)},l.delete=function(){Ct("FieldValue.delete",arguments);var h=new X("deleteField");return h.e_="FieldValue.delete",new l(h)},l.arrayUnion=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];Kt("FieldValue.arrayUnion",arguments,1);var y=function(){for(var E=[],S=0;S<arguments.length;S++)E[S]=arguments[S];return Kt("arrayUnion()",arguments,1),new Ot("arrayUnion",E)}.apply(void 0,h);return y.e_="FieldValue.arrayUnion",new l(y)},l.arrayRemove=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];Kt("FieldValue.arrayRemove",arguments,1);var y=function(){for(var E=[],S=0;S<arguments.length;S++)E[S]=arguments[S];return Kt("arrayRemove()",arguments,1),new Nt("arrayRemove",E)}.apply(void 0,h);return y.e_="FieldValue.arrayRemove",new l(y)},l.increment=function(h){un("FieldValue.increment","number",1,h),ot("FieldValue.increment",arguments,1);var g=new pn("increment",h);return g.e_="FieldValue.increment",new l(g)},l.prototype.isEqual=function(h){return this.l_.isEqual(h.l_)},l}(eo),vT={Firestore:mh,GeoPoint:Wn,Timestamp:Qt,Blob:zi,Transaction:xm,WriteBatch:Cw,DocumentReference:wl,DocumentSnapshot:nf,Query:rf,QueryDocumentSnapshot:Em,QuerySnapshot:Cd,CollectionReference:nu,FieldPath:I,FieldValue:Im,setLogLevel:mh.setLogLevel,CACHE_SIZE_UNLIMITED:p_};!function Iw(f){f.INTERNAL.registerComponent(new ke.Component("firestore",function(g){return y=g.getProvider("app").getImmediate(),E=g.getProvider("auth-internal"),S=new Xh,R=new u_(S),new mh(y,E,R,S);var y,E,S,R},"PUBLIC").setServiceProps(Object.assign({},vT))),f.registerVersion("@firebase/firestore","1.18.0")}(Ve.default)},8836:(en,Me,Q)=>{function a(){for(var de=0,Ne=0,me=arguments.length;Ne<me;Ne++)de+=arguments[Ne].length;var lt=Array(de),st=0;for(Ne=0;Ne<me;Ne++)for(var mt=arguments[Ne],Re=0,at=mt.length;Re<at;Re++,st++)lt[st]=mt[Re];return lt}Q.r(Me),Q.d(Me,{LogLevel:()=>pe,Logger:()=>Ve,setLogLevel:()=>z,setUserLogHandler:()=>G});var U,K=[],pe=function(de){return de[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",de}(pe||{}),ce={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},Pe=pe.INFO,ke=((U={})[pe.DEBUG]="log",U[pe.VERBOSE]="log",U[pe.INFO]="info",U[pe.WARN]="warn",U[pe.ERROR]="error",U),ut=function(de,Ne){for(var me=[],lt=2;lt<arguments.length;lt++)me[lt-2]=arguments[lt];if(!(Ne<de.logLevel)){var st=(new Date).toISOString(),mt=ke[Ne];if(!mt)throw new Error("Attempted to log a message with an invalid logType (value: "+Ne+")");console[mt].apply(console,a(["["+st+"]  "+de.name+":"],me))}},Ve=function(){function de(Ne){this.name=Ne,this._logLevel=Pe,this._logHandler=ut,this._userLogHandler=null,K.push(this)}return Object.defineProperty(de.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Ne){if(!(Ne in pe))throw new TypeError('Invalid value "'+Ne+'" assigned to `logLevel`');this._logLevel=Ne},enumerable:!1,configurable:!0}),de.prototype.setLogLevel=function(Ne){this._logLevel="string"==typeof Ne?ce[Ne]:Ne},Object.defineProperty(de.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Ne){if("function"!=typeof Ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ne},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Ne){this._userLogHandler=Ne},enumerable:!1,configurable:!0}),de.prototype.debug=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,a([this,pe.DEBUG],Ne)),this._logHandler.apply(this,a([this,pe.DEBUG],Ne))},de.prototype.log=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,a([this,pe.VERBOSE],Ne)),this._logHandler.apply(this,a([this,pe.VERBOSE],Ne))},de.prototype.info=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,a([this,pe.INFO],Ne)),this._logHandler.apply(this,a([this,pe.INFO],Ne))},de.prototype.warn=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,a([this,pe.WARN],Ne)),this._logHandler.apply(this,a([this,pe.WARN],Ne))},de.prototype.error=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,a([this,pe.ERROR],Ne)),this._logHandler.apply(this,a([this,pe.ERROR],Ne))},de}();function z(de){K.forEach(function(Ne){Ne.setLogLevel(de)})}function G(de,Ne){for(var me=function(Re){var at=null;Ne&&Ne.level&&(at=ce[Ne.level]),Re.userLogHandler=null===de?null:function(Ze,xe){for(var nt=[],$e=2;$e<arguments.length;$e++)nt[$e-2]=arguments[$e];var it=nt.map(function(he){if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch{return null}}).filter(function(he){return he}).join(" ");xe>=(at??Ze.logLevel)&&de({level:pe[xe].toLowerCase(),message:it,args:nt,type:Ze.name})}},lt=0,st=K;lt<st.length;lt++)me(st[lt])}},3661:(en,Me,Q)=>{Object.defineProperty(Me,"__esModule",{value:!0});var a=Q(8005),U={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},K=function(Te,we){if(!Te)throw pe(we)},pe=function(Te){return new Error("Firebase Database ("+U.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Te)},ce=function(Te){for(var we=[],Ee=0,qe=0;qe<Te.length;qe++){var Fe=Te.charCodeAt(qe);Fe<128?we[Ee++]=Fe:Fe<2048?(we[Ee++]=Fe>>6|192,we[Ee++]=63&Fe|128):55296==(64512&Fe)&&qe+1<Te.length&&56320==(64512&Te.charCodeAt(qe+1))?(Fe=65536+((1023&Fe)<<10)+(1023&Te.charCodeAt(++qe)),we[Ee++]=Fe>>18|240,we[Ee++]=Fe>>12&63|128,we[Ee++]=Fe>>6&63|128,we[Ee++]=63&Fe|128):(we[Ee++]=Fe>>12|224,we[Ee++]=Fe>>6&63|128,we[Ee++]=63&Fe|128)}return we},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Te,we){if(!Array.isArray(Te))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Ee=we?this.byteToCharMapWebSafe_:this.byteToCharMap_,qe=[],Fe=0;Fe<Te.length;Fe+=3){var xt=Te[Fe],mn=Fe+1<Te.length,jt=mn?Te[Fe+1]:0,Jt=Fe+2<Te.length,Ht=Jt?Te[Fe+2]:0,Hn=(15&jt)<<2|Ht>>6,Li=63&Ht;Jt||(Li=64,mn||(Hn=64)),qe.push(Ee[xt>>2],Ee[(3&xt)<<4|jt>>4],Ee[Hn],Ee[Li])}return qe.join("")},encodeString:function(Te,we){return this.HAS_NATIVE_SUPPORT&&!we?btoa(Te):this.encodeByteArray(ce(Te),we)},decodeString:function(Te,we){return this.HAS_NATIVE_SUPPORT&&!we?atob(Te):function(Te){for(var we=[],Ee=0,qe=0;Ee<Te.length;){var Fe=Te[Ee++];if(Fe<128)we[qe++]=String.fromCharCode(Fe);else if(Fe>191&&Fe<224){var xt=Te[Ee++];we[qe++]=String.fromCharCode((31&Fe)<<6|63&xt)}else if(Fe>239&&Fe<365){var Jt=((7&Fe)<<18|(63&(xt=Te[Ee++]))<<12|(63&(mn=Te[Ee++]))<<6|63&Te[Ee++])-65536;we[qe++]=String.fromCharCode(55296+(Jt>>10)),we[qe++]=String.fromCharCode(56320+(1023&Jt))}else{xt=Te[Ee++];var mn=Te[Ee++];we[qe++]=String.fromCharCode((15&Fe)<<12|(63&xt)<<6|63&mn)}}return we.join("")}(this.decodeStringToByteArray(Te,we))},decodeStringToByteArray:function(Te,we){this.init_();for(var Ee=we?this.charToByteMapWebSafe_:this.charToByteMap_,qe=[],Fe=0;Fe<Te.length;){var xt=Ee[Te.charAt(Fe++)],jt=Fe<Te.length?Ee[Te.charAt(Fe)]:0,Ht=++Fe<Te.length?Ee[Te.charAt(Fe)]:64,vi=++Fe<Te.length?Ee[Te.charAt(Fe)]:64;if(++Fe,null==xt||null==jt||null==Ht||null==vi)throw Error();qe.push(xt<<2|jt>>4),64!==Ht&&(qe.push(jt<<4&240|Ht>>2),64!==vi&&qe.push(Ht<<6&192|vi))}return qe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Te=0;Te<this.ENCODED_VALS.length;Te++)this.byteToCharMap_[Te]=this.ENCODED_VALS.charAt(Te),this.charToByteMap_[this.byteToCharMap_[Te]]=Te,this.byteToCharMapWebSafe_[Te]=this.ENCODED_VALS_WEBSAFE.charAt(Te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Te]]=Te,Te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Te)]=Te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Te)]=Te)}}},Ve=function(Te){try{return ke.decodeString(Te,!0)}catch(we){console.error("base64Decode failed: ",we)}return null};function G(Te,we){if(!(we instanceof Object))return we;switch(we.constructor){case Date:return new Date(we.getTime());case Object:void 0===Te&&(Te={});break;case Array:Te=[];break;default:return we}for(var qe in we)we.hasOwnProperty(qe)&&(Te[qe]=G(Te[qe],we[qe]));return Te}var de=function(){function Te(){var we=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Ee,qe){we.resolve=Ee,we.reject=qe})}return Te.prototype.wrapCallback=function(we){var Ee=this;return function(qe,Fe){qe?Ee.reject(qe):Ee.resolve(Fe),"function"==typeof we&&(Ee.promise.catch(function(){}),1===we.length?we(qe):we(qe,Fe))}},Te}();function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}var Le=function(Te){function we(Ee,qe){var Fe=Te.call(this,qe)||this;return Fe.code=Ee,Fe.name="FirebaseError",Object.setPrototypeOf(Fe,we.prototype),Error.captureStackTrace&&Error.captureStackTrace(Fe,Ct.prototype.create),Fe}return a.__extends(we,Te),we}(Error),Ct=function(){function Te(we,Ee,qe){this.service=we,this.serviceName=Ee,this.errors=qe}return Te.prototype.create=function(we){for(var Ee=[],qe=1;qe<arguments.length;qe++)Ee[qe-1]=arguments[qe];for(var Fe=Ee[0]||{},xt=this.service+"/"+we,mn=this.errors[we],jt=mn?function ot(Te,we){return Te.replace(Kt,function(Ee,qe){var Fe=we[qe];return null!=Fe?String(Fe):"<"+qe+"?>"})}(mn,Fe):"Error",Ht=new Le(xt,this.serviceName+": "+jt+" ("+xt+")."),Ci=0,vi=Object.keys(Fe);Ci<vi.length;Ci++){var Hn=vi[Ci];"_"!==Hn.slice(-1)&&(Hn in Ht&&console.warn('Overwriting FirebaseError base field "'+Hn+'" can cause unexpected behavior.'),Ht[Hn]=Fe[Hn])}return Ht},Te}(),Kt=/\{\$([^}]+)}/g;function nn(Te){return JSON.parse(Te)}var rn=function(Te){var we={},Ee={},qe={},Fe="";try{var xt=Te.split(".");we=nn(Ve(xt[0])||""),Ee=nn(Ve(xt[1])||""),Fe=xt[2],qe=Ee.d||{},delete Ee.d}catch{}return{header:we,claims:Ee,data:qe,signature:Fe}},dn=function(){function Te(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var we=1;we<this.blockSize;++we)this.pad_[we]=0;this.reset()}return Te.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Te.prototype.compress_=function(we,Ee){Ee||(Ee=0);var qe=this.W_;if("string"==typeof we)for(var Fe=0;Fe<16;Fe++)qe[Fe]=we.charCodeAt(Ee)<<24|we.charCodeAt(Ee+1)<<16|we.charCodeAt(Ee+2)<<8|we.charCodeAt(Ee+3),Ee+=4;else for(Fe=0;Fe<16;Fe++)qe[Fe]=we[Ee]<<24|we[Ee+1]<<16|we[Ee+2]<<8|we[Ee+3],Ee+=4;for(Fe=16;Fe<80;Fe++)qe[Fe]=4294967295&((xt=qe[Fe-3]^qe[Fe-8]^qe[Fe-14]^qe[Fe-16])<<1|xt>>>31);var vi,Hn,mn=this.chain_[0],jt=this.chain_[1],Jt=this.chain_[2],Ht=this.chain_[3],Ci=this.chain_[4];for(Fe=0;Fe<80;Fe++){Fe<40?Fe<20?(vi=Ht^jt&(Jt^Ht),Hn=1518500249):(vi=jt^Jt^Ht,Hn=1859775393):Fe<60?(vi=jt&Jt|Ht&(jt|Jt),Hn=2400959708):(vi=jt^Jt^Ht,Hn=3395469782);var xt=(mn<<5|mn>>>27)+vi+Ci+Hn+qe[Fe]&4294967295;Ci=Ht,Ht=Jt,Jt=4294967295&(jt<<30|jt>>>2),jt=mn,mn=xt}this.chain_[0]=this.chain_[0]+mn&4294967295,this.chain_[1]=this.chain_[1]+jt&4294967295,this.chain_[2]=this.chain_[2]+Jt&4294967295,this.chain_[3]=this.chain_[3]+Ht&4294967295,this.chain_[4]=this.chain_[4]+Ci&4294967295},Te.prototype.update=function(we,Ee){if(null!=we){void 0===Ee&&(Ee=we.length);for(var qe=Ee-this.blockSize,Fe=0,xt=this.buf_,mn=this.inbuf_;Fe<Ee;){if(0===mn)for(;Fe<=qe;)this.compress_(we,Fe),Fe+=this.blockSize;if("string"==typeof we){for(;Fe<Ee;)if(xt[mn]=we.charCodeAt(Fe),++Fe,++mn===this.blockSize){this.compress_(xt),mn=0;break}}else for(;Fe<Ee;)if(xt[mn]=we[Fe],++Fe,++mn===this.blockSize){this.compress_(xt),mn=0;break}}this.inbuf_=mn,this.total_+=Ee}},Te.prototype.digest=function(){var we=[],Ee=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var qe=this.blockSize-1;qe>=56;qe--)this.buf_[qe]=255&Ee,Ee/=256;this.compress_(this.buf_);var Fe=0;for(qe=0;qe<5;qe++)for(var xt=24;xt>=0;xt-=8)we[Fe]=this.chain_[qe]>>xt&255,++Fe;return we},Te}(),fn=function(){function Te(we,Ee){var qe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ee,this.task.then(function(){we(qe)}).catch(function(Fe){qe.error(Fe)})}return Te.prototype.next=function(we){this.forEachObserver(function(Ee){Ee.next(we)})},Te.prototype.error=function(we){this.forEachObserver(function(Ee){Ee.error(we)}),this.close(we)},Te.prototype.complete=function(){this.forEachObserver(function(we){we.complete()}),this.close()},Te.prototype.subscribe=function(we,Ee,qe){var xt,Fe=this;if(void 0===we&&void 0===Ee&&void 0===qe)throw new Error("Missing Observer.");xt=function Dn(Te,we){if("object"!=typeof Te||null===Te)return!1;for(var Ee=0,qe=we;Ee<qe.length;Ee++){var Fe=qe[Ee];if(Fe in Te&&"function"==typeof Te[Fe])return!0}return!1}(we,["next","error","complete"])?we:{next:we,error:Ee,complete:qe},void 0===xt.next&&(xt.next=Ut),void 0===xt.error&&(xt.error=Ut),void 0===xt.complete&&(xt.complete=Ut);var mn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Fe.finalError?xt.error(Fe.finalError):xt.complete()}catch{}}),this.observers.push(xt),mn},Te.prototype.unsubscribeOne=function(we){void 0===this.observers||void 0===this.observers[we]||(delete this.observers[we],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Te.prototype.forEachObserver=function(we){if(!this.finalized)for(var Ee=0;Ee<this.observers.length;Ee++)this.sendOne(Ee,we)},Te.prototype.sendOne=function(we,Ee){var qe=this;this.task.then(function(){if(void 0!==qe.observers&&void 0!==qe.observers[we])try{Ee(qe.observers[we])}catch(Fe){typeof console<"u"&&console.error&&console.error(Fe)}})},Te.prototype.close=function(we){var Ee=this;this.finalized||(this.finalized=!0,void 0!==we&&(this.finalError=we),this.task.then(function(){Ee.observers=void 0,Ee.onNoObservers=void 0}))},Te}();function Ut(){}function Fn(Te,we,Ee){var qe="";switch(we){case 1:qe=Ee?"first":"First";break;case 2:qe=Ee?"second":"Second";break;case 3:qe=Ee?"third":"Third";break;case 4:qe=Ee?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return Te+" failed: "+(qe+" argument ")}Me.CONSTANTS=U,Me.Deferred=de,Me.ErrorFactory=Ct,Me.FirebaseError=Le,Me.MAX_VALUE_MILLIS=144e5,Me.RANDOM_FACTOR=.5,Me.Sha1=dn,Me.areCookiesEnabled=function ue(){return!(!navigator||!navigator.cookieEnabled)},Me.assert=K,Me.assertionError=pe,Me.async=function tn(Te,we){return function(){for(var Ee=[],qe=0;qe<arguments.length;qe++)Ee[qe]=arguments[qe];Promise.resolve(!0).then(function(){Te.apply(void 0,Ee)}).catch(function(Fe){we&&we(Fe)})}},Me.base64=ke,Me.base64Decode=Ve,Me.base64Encode=function(Te){var we=ce(Te);return ke.encodeByteArray(we,!0)},Me.calculateBackoffMillis=function zt(Te,we,Ee){void 0===we&&(we=1e3),void 0===Ee&&(Ee=2);var qe=we*Math.pow(Ee,Te),Fe=Math.round(.5*qe*(Math.random()-.5)*2);return Math.min(144e5,qe+Fe)},Me.contains=function je(Te,we){return Object.prototype.hasOwnProperty.call(Te,we)},Me.createSubscribe=function Nn(Te,we){var Ee=new fn(Te,we);return Ee.subscribe.bind(Ee)},Me.decode=rn,Me.deepCopy=function z(Te){return G(void 0,Te)},Me.deepExtend=G,Me.errorPrefix=Fn,Me.getUA=Ne,Me.isAdmin=function(Te){var we=rn(Te).claims;return"object"==typeof we&&!0===we.admin},Me.isBrowser=function st(){return"object"==typeof self&&self.self===self},Me.isBrowserExtension=function mt(){var Te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Te&&void 0!==Te.id},Me.isElectron=function at(){return Ne().indexOf("Electron/")>=0},Me.isEmpty=function gt(Te){for(var we in Te)if(Object.prototype.hasOwnProperty.call(Te,we))return!1;return!0},Me.isIE=function Ze(){var Te=Ne();return Te.indexOf("MSIE ")>=0||Te.indexOf("Trident/")>=0},Me.isIndexedDBAvailable=function it(){return"indexedDB"in self&&null!=indexedDB},Me.isMobileCordova=function me(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())},Me.isNode=lt,Me.isNodeSdk=function nt(){return!0===U.NODE_CLIENT||!0===U.NODE_ADMIN},Me.isReactNative=function Re(){return"object"==typeof navigator&&"ReactNative"===navigator.product},Me.isSafari=function $e(){return!lt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},Me.isUWP=function xe(){return Ne().indexOf("MSAppHost/")>=0},Me.isValidFormat=function(Te){var Ee=rn(Te).claims;return!!Ee&&"object"==typeof Ee&&Ee.hasOwnProperty("iat")},Me.isValidTimestamp=function(Te){var we=rn(Te).claims,Ee=Math.floor((new Date).getTime()/1e3),qe=0,Fe=0;return"object"==typeof we&&(we.hasOwnProperty("nbf")?qe=we.nbf:we.hasOwnProperty("iat")&&(qe=we.iat),Fe=we.hasOwnProperty("exp")?we.exp:qe+86400),!!Ee&&!!qe&&!!Fe&&Ee>=qe&&Ee<=Fe},Me.issuedAtTime=function(Te){var we=rn(Te).claims;return"object"==typeof we&&we.hasOwnProperty("iat")?we.iat:null},Me.jsonEval=nn,Me.map=function Mt(Te,we,Ee){var qe={};for(var Fe in Te)Object.prototype.hasOwnProperty.call(Te,Fe)&&(qe[Fe]=we.call(Ee,Te[Fe],Fe,Te));return qe},Me.querystring=function bt(Te){for(var we=[],Ee=function(Jt,Ht){Array.isArray(Ht)?Ht.forEach(function(Ci){we.push(encodeURIComponent(Jt)+"="+encodeURIComponent(Ci))}):we.push(encodeURIComponent(Jt)+"="+encodeURIComponent(Ht))},qe=0,Fe=Object.entries(Te);qe<Fe.length;qe++){var xt=Fe[qe];Ee(xt[0],xt[1])}return we.length?"&"+we.join("&"):""},Me.querystringDecode=function Sn(Te){var we={};return Te.replace(/^\?/,"").split("&").forEach(function(qe){if(qe){var Fe=qe.split("=");we[Fe[0]]=Fe[1]}}),we},Me.safeGet=function ct(Te,we){if(Object.prototype.hasOwnProperty.call(Te,we))return Te[we]},Me.stringLength=function(Te){for(var we=0,Ee=0;Ee<Te.length;Ee++){var qe=Te.charCodeAt(Ee);qe<128?we++:qe<2048?we+=2:qe>=55296&&qe<=56319?(we+=4,Ee++):we+=3}return we},Me.stringToByteArray=function(Te){for(var we=[],Ee=0,qe=0;qe<Te.length;qe++){var Fe=Te.charCodeAt(qe);if(Fe>=55296&&Fe<=56319){var xt=Fe-55296;qe++,K(qe<Te.length,"Surrogate pair missing trail surrogate."),Fe=65536+(xt<<10)+(Te.charCodeAt(qe)-56320)}Fe<128?we[Ee++]=Fe:Fe<2048?(we[Ee++]=Fe>>6|192,we[Ee++]=63&Fe|128):Fe<65536?(we[Ee++]=Fe>>12|224,we[Ee++]=Fe>>6&63|128,we[Ee++]=63&Fe|128):(we[Ee++]=Fe>>18|240,we[Ee++]=Fe>>12&63|128,we[Ee++]=Fe>>6&63|128,we[Ee++]=63&Fe|128)}return we},Me.stringify=function un(Te){return JSON.stringify(Te)},Me.validateArgCount=function(Te,we,Ee,qe){var Fe;if(qe<we?Fe="at least "+we:qe>Ee&&(Fe=0===Ee?"none":"no more than "+Ee),Fe)throw new Error(Te+" failed: Was called with "+qe+(1===qe?" argument.":" arguments.")+" Expects "+Fe+".")},Me.validateCallback=function wi(Te,we,Ee,qe){if((!qe||Ee)&&"function"!=typeof Ee)throw new Error(Fn(Te,we,qe)+"must be a valid function.")},Me.validateContextObject=function Mi(Te,we,Ee,qe){if((!qe||Ee)&&("object"!=typeof Ee||null===Ee))throw new Error(Fn(Te,we,qe)+"must be a valid context object.")},Me.validateIndexedDBOpenable=function he(){return new Promise(function(Te,we){try{var Ee=!0,qe="validate-browser-context-for-indexeddb-analytics-module",Fe=window.indexedDB.open(qe);Fe.onsuccess=function(){Fe.result.close(),Ee||window.indexedDB.deleteDatabase(qe),Te(!0)},Fe.onupgradeneeded=function(){Ee=!1},Fe.onerror=function(){var xt;we((null===(xt=Fe.error)||void 0===xt?void 0:xt.message)||"")}}catch(xt){we(xt)}})},Me.validateNamespace=function Un(Te,we,Ee,qe){if((!qe||Ee)&&"string"!=typeof Ee)throw new Error(Fn(Te,we,qe)+"must be a valid firebase namespace.")}},8602:(en,Me,Q)=>{Q.r(Me),Q.d(Me,{ErrorCode:()=>Pc,EventType:()=>wo,WebChannel:()=>js,XhrIo:()=>Rc,createWebChannelTransport:()=>Jo,default:()=>Pa});var a=function(C,N){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,ee){j.__proto__=ee}||function(j,ee){for(var ve in ee)Object.prototype.hasOwnProperty.call(ee,ve)&&(j[ve]=ee[ve])})(C,N)};function K(C){var N="function"==typeof Symbol&&Symbol.iterator,j=N&&C[N],ee=0;if(j)return j.call(C);if(C&&"number"==typeof C.length)return{next:function(){return C&&ee>=C.length&&(C=void 0),{value:C&&C[ee++],done:!C}}};throw new TypeError(N?"Object is not iterable.":"Symbol.iterator is not defined.")}var ce,pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pe=Pe||{},ke=pe||self;function ut(){}function Ve(C){var N=typeof C;return"object"!=N?N:C?Array.isArray(C)?"array":N:"null"}function z(C){var N=Ve(C);return"array"==N||"object"==N&&"number"==typeof C.length}function G(C){var N=typeof C;return"object"==N&&null!=C||"function"==N}var Ne="closure_uid_"+(1e9*Math.random()>>>0),me=0;function lt(C,N,j){return C.call.apply(C.bind,arguments)}function st(C,N,j){if(!C)throw Error();if(2<arguments.length){var ee=Array.prototype.slice.call(arguments,2);return function(){var ve=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ve,ee),C.apply(N,ve)}}return function(){return C.apply(N,arguments)}}function mt(C,N,j){return(mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lt:st).apply(null,arguments)}function Re(C,N){var j=Array.prototype.slice.call(arguments,1);return function(){var ee=j.slice();return ee.push.apply(ee,arguments),C.apply(this,ee)}}var at=Date.now;function Ze(C,N){function j(){}j.prototype=N.prototype,C.S=N.prototype,C.prototype=new j,C.prototype.constructor=C}function xe(){this.j=this.j,this.i=this.i}xe.prototype.j=!1,xe.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function de(C){Object.prototype.hasOwnProperty.call(C,Ne)&&C[Ne]||(C[Ne]=++me)}(this)},xe.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var $e=Array.prototype.indexOf?function(C,N){return Array.prototype.indexOf.call(C,N,void 0)}:function(C,N){if("string"==typeof C)return"string"!=typeof N||1!=N.length?-1:C.indexOf(N,0);for(var j=0;j<C.length;j++)if(j in C&&C[j]===N)return j;return-1},it=Array.prototype.forEach?function(C,N,j){Array.prototype.forEach.call(C,N,j)}:function(C,N,j){for(var ee=C.length,ve="string"==typeof C?C.split(""):C,Ye=0;Ye<ee;Ye++)Ye in ve&&N.call(j,ve[Ye],Ye,C)};function ue(C){return Array.prototype.concat.apply([],arguments)}function Ge(C){var N=C.length;if(0<N){for(var j=Array(N),ee=0;ee<N;ee++)j[ee]=C[ee];return j}return[]}function Le(C){return/^[\s\xa0]*$/.test(C)}var nn,Ct=String.prototype.trim?function(C){return C.trim()}:function(C){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(C)[1]};function ot(C,N){return-1!=C.indexOf(N)}function Kt(C,N){return C<N?-1:C>N?1:0}e:{var un=ke.navigator;if(un){var rn=un.userAgent;if(rn){nn=rn;break e}}nn=""}function fi(C,N,j){for(var ee in C)N.call(j,C[ee],ee,C)}function Se(C){var N={};for(var j in C)N[j]=C[j];return N}var Ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function He(C,N){for(var j,ee,ve=1;ve<arguments.length;ve++){for(j in ee=arguments[ve])C[j]=ee[j];for(var Ye=0;Ye<Ce.length;Ye++)j=Ce[Ye],Object.prototype.hasOwnProperty.call(ee,j)&&(C[j]=ee[j])}}function je(C){return je[" "](C),C}je[" "]=ut;var tn,C,gt=ot(nn,"Opera"),Mt=ot(nn,"Trident")||ot(nn,"MSIE"),bt=ot(nn,"Edge"),Sn=bt||Mt,dn=ot(nn,"Gecko")&&!(ot(nn.toLowerCase(),"webkit")&&!ot(nn,"Edge"))&&!(ot(nn,"Trident")||ot(nn,"MSIE"))&&!ot(nn,"Edge"),Nn=ot(nn.toLowerCase(),"webkit")&&!ot(nn,"Edge");function fn(){var C=ke.document;return C?C.documentMode:void 0}e:{var Dn="",Ut=(C=nn,dn?/rv:([^\);]+)(\)|;)/.exec(C):bt?/Edge\/([\d\.]+)/.exec(C):Mt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(C):Nn?/WebKit\/(\S+)/.exec(C):gt?/(?:Version)[ \/]?(\S+)/.exec(C):void 0);if(Ut&&(Dn=Ut?Ut[1]:""),Mt){var cn=fn();if(null!=cn&&cn>parseFloat(Dn)){tn=String(cn);break e}}tn=Dn}var Fn={};function Un(C){return function ct(C,N){var j=Fn;return Object.prototype.hasOwnProperty.call(j,C)?j[C]:j[C]=N(C)}(C,function(){for(var N=0,j=Ct(String(tn)).split("."),ee=Ct(String(C)).split("."),ve=Math.max(j.length,ee.length),Ye=0;0==N&&Ye<ve;Ye++){var Rt=j[Ye]||"",Gn=ee[Ye]||"";do{if(Rt=/(\d*)(\D*)(.*)/.exec(Rt)||["","","",""],Gn=/(\d*)(\D*)(.*)/.exec(Gn)||["","","",""],0==Rt[0].length&&0==Gn[0].length)break;N=Kt(0==Rt[1].length?0:parseInt(Rt[1],10),0==Gn[1].length?0:parseInt(Gn[1],10))||Kt(0==Rt[2].length,0==Gn[2].length)||Kt(Rt[2],Gn[2]),Rt=Rt[3],Gn=Gn[3]}while(0==N)}return 0<=N})}var ni=ke.document&&Mt&&(fn()||parseInt(tn,10))||void 0,zi=!Mt||9<=Number(ni),Po=Mt&&!Un("9"),sn=function(){if(!ke.addEventListener||!Object.defineProperty)return!1;var C=!1,N=Object.defineProperty({},"passive",{get:function(){C=!0}});try{ke.addEventListener("test",ut,N),ke.removeEventListener("test",ut,N)}catch{}return C}();function Yt(C,N){this.type=C,this.a=this.target=N,this.defaultPrevented=!1}function Qt(C,N){if(Yt.call(this,C?C.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,C){var j=this.type=C.type,ee=C.changedTouches&&C.changedTouches.length?C.changedTouches[0]:null;if(this.target=C.target||C.srcElement,this.a=N,N=C.relatedTarget){if(dn){e:{try{je(N.nodeName);var ve=!0;break e}catch{}ve=!1}ve||(N=null)}}else"mouseover"==j?N=C.fromElement:"mouseout"==j&&(N=C.toElement);this.relatedTarget=N,ee?(this.clientX=void 0!==ee.clientX?ee.clientX:ee.pageX,this.clientY=void 0!==ee.clientY?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=void 0!==C.clientX?C.clientX:C.pageX,this.clientY=void 0!==C.clientY?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0),this.button=C.button,this.key=C.key||"",this.ctrlKey=C.ctrlKey,this.altKey=C.altKey,this.shiftKey=C.shiftKey,this.metaKey=C.metaKey,this.pointerId=C.pointerId||0,this.pointerType="string"==typeof C.pointerType?C.pointerType:zt[C.pointerType]||"",this.c=C,C.defaultPrevented&&this.b()}}Yt.prototype.b=function(){this.defaultPrevented=!0},Ze(Qt,Yt);var zt={2:"touch",3:"pen",4:"mouse"};Qt.prototype.b=function(){Qt.S.b.call(this);var C=this.c;if(C.preventDefault)C.preventDefault();else if(C.returnValue=!1,Po)try{(C.ctrlKey||112<=C.keyCode&&123>=C.keyCode)&&(C.keyCode=-1)}catch{}};var Te="closure_listenable_"+(1e6*Math.random()|0),we=0;function Ee(C,N,j,ee,ve){this.listener=C,this.proxy=null,this.src=N,this.type=j,this.capture=!!ee,this.ca=ve,this.key=++we,this.Y=this.Z=!1}function qe(C){C.Y=!0,C.listener=null,C.proxy=null,C.src=null,C.ca=null}function Fe(C){this.src=C,this.a={},this.b=0}function xt(C,N){var j=N.type;if(j in C.a){var Ye,ee=C.a[j],ve=$e(ee,N);(Ye=0<=ve)&&Array.prototype.splice.call(ee,ve,1),Ye&&(qe(N),0==C.a[j].length&&(delete C.a[j],C.b--))}}function mn(C,N,j,ee){for(var ve=0;ve<C.length;++ve){var Ye=C[ve];if(!Ye.Y&&Ye.listener==N&&Ye.capture==!!j&&Ye.ca==ee)return ve}return-1}Fe.prototype.add=function(C,N,j,ee,ve){var Ye=C.toString();(C=this.a[Ye])||(C=this.a[Ye]=[],this.b++);var Rt=mn(C,N,ee,ve);return-1<Rt?(N=C[Rt],j||(N.Z=!1)):((N=new Ee(N,this.src,Ye,!!ee,ve)).Z=j,C.push(N)),N};var jt="closure_lm_"+(1e6*Math.random()|0),Jt={};function Ht(C,N,j,ee,ve){if(ee&&ee.once)return Hn(C,N,j,ee,ve);if(Array.isArray(N)){for(var Ye=0;Ye<N.length;Ye++)Ht(C,N[Ye],j,ee,ve);return null}return j=fe(j),C&&C[Te]?C.va(N,j,G(ee)?!!ee.capture:!!ee,ve):Ci(C,N,j,!1,ee,ve)}function Ci(C,N,j,ee,ve,Ye){if(!N)throw Error("Invalid event type");var Rt=G(ve)?!!ve.capture:!!ve;if(Rt&&!zi)return null;var Gn=_r(C);if(Gn||(C[jt]=Gn=new Fe(C)),(j=Gn.add(N,j,ee,Rt,Ye)).proxy)return j;if(ee=function vi(){var C=xi,N=zi?function(j){return C.call(N.src,N.listener,j)}:function(j){if(!(j=C.call(N.src,N.listener,j)))return j};return N}(),j.proxy=ee,ee.src=C,ee.listener=j,C.addEventListener)sn||(ve=Rt),void 0===ve&&(ve=!1),C.addEventListener(N.toString(),ee,ve);else if(C.attachEvent)C.attachEvent(gr(N.toString()),ee);else{if(!C.addListener||!C.removeListener)throw Error("addEventListener and attachEvent are unavailable.");C.addListener(ee)}return j}function Hn(C,N,j,ee,ve){if(Array.isArray(N)){for(var Ye=0;Ye<N.length;Ye++)Hn(C,N[Ye],j,ee,ve);return null}return j=fe(j),C&&C[Te]?C.wa(N,j,G(ee)?!!ee.capture:!!ee,ve):Ci(C,N,j,!0,ee,ve)}function Li(C,N,j,ee,ve){if(Array.isArray(N))for(var Ye=0;Ye<N.length;Ye++)Li(C,N[Ye],j,ee,ve);else ee=G(ee)?!!ee.capture:!!ee,j=fe(j),C&&C[Te]?(C=C.c,(N=String(N).toString())in C.a&&-1<(j=mn(Ye=C.a[N],j,ee,ve))&&(qe(Ye[j]),Array.prototype.splice.call(Ye,j,1),0==Ye.length&&(delete C.a[N],C.b--))):C&&(C=_r(C))&&(N=C.a[N.toString()],C=-1,N&&(C=mn(N,j,ee,ve)),(j=-1<C?N[C]:null)&&$n(j))}function $n(C){if("number"!=typeof C&&C&&!C.Y){var N=C.src;if(N&&N[Te])xt(N.c,C);else{var j=C.type,ee=C.proxy;N.removeEventListener?N.removeEventListener(j,ee,C.capture):N.detachEvent?N.detachEvent(gr(j),ee):N.addListener&&N.removeListener&&N.removeListener(ee),(j=_r(N))?(xt(j,C),0==j.b&&(j.src=null,N[jt]=null)):qe(C)}}}function gr(C){return C in Jt?Jt[C]:Jt[C]="on"+C}function pi(C,N){var j=C.listener,ee=C.ca||C.src;return C.Z&&$n(C),j.call(ee,N)}function xi(C,N){if(C.Y)return!0;if(!zi){if(!N)e:{N=["window","event"];for(var j=ke,ee=0;ee<N.length;ee++)if(null==(j=j[N[ee]])){N=null;break e}N=j}return pi(C,N=new Qt(N,this))}return pi(C,new Qt(N,this))}function _r(C){return(C=C[jt])instanceof Fe?C:null}var mo="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(C){return"function"==Ve(C)?C:(C[mo]||(C[mo]=function(N){return C.handleEvent(N)}),C[mo])}function le(){xe.call(this),this.c=new Fe(this),this.J=this,this.C=null}function J(C,N,j,ee){if(!(N=C.c.a[String(N)]))return!0;N=N.concat();for(var ve=!0,Ye=0;Ye<N.length;++Ye){var Rt=N[Ye];if(Rt&&!Rt.Y&&Rt.capture==j){var Gn=Rt.listener,ti=Rt.ca||Rt.src;Rt.Z&&xt(C.c,Rt),ve=!1!==Gn.call(ti,ee)&&ve}}return ve&&!ee.defaultPrevented}Ze(le,xe),le.prototype[Te]=!0,(ce=le.prototype).addEventListener=function(C,N,j,ee){Ht(this,C,N,j,ee)},ce.removeEventListener=function(C,N,j,ee){Li(this,C,N,j,ee)},ce.dispatchEvent=function(C){var N,j=this.C;if(j)for(N=[];j;j=j.C)N.push(j);j=this.J;var ee=C.type||C;if("string"==typeof C)C=new Yt(C,j);else if(C instanceof Yt)C.target=C.target||j;else{var ve=C;He(C=new Yt(ee,j),ve)}if(ve=!0,N)for(var Ye=N.length-1;0<=Ye;Ye--){var Rt=C.a=N[Ye];ve=J(Rt,ee,!0,C)&&ve}if(ve=J(Rt=C.a=j,ee,!0,C)&&ve,ve=J(Rt,ee,!1,C)&&ve,N)for(Ye=0;Ye<N.length;Ye++)ve=J(Rt=C.a=N[Ye],ee,!1,C)&&ve;return ve},ce.G=function(){if(le.S.G.call(this),this.c){var N,C=this.c;for(N in C.a){for(var j=C.a[N],ee=0;ee<j.length;ee++)qe(j[ee]);delete C.a[N],C.b--}}this.C=null},ce.va=function(C,N,j,ee){return this.c.add(String(C),N,!1,j,ee)},ce.wa=function(C,N,j,ee){return this.c.add(String(C),N,!0,j,ee)};var te=ke.JSON.stringify;function Y(){this.b=this.a=null}var Jn,Ae=new(function(){function C(N,j,ee){this.f=ee,this.c=N,this.g=j,this.b=0,this.a=null}return C.prototype.get=function(){var N;return 0<this.b?(this.b--,this.a=(N=this.a).next,N.next=null):N=this.c(),N},C}())(function(){return new Dt},function(C){C.reset()},100);function Qe(){var C=Rn,N=null;return C.a&&(N=C.a,C.a=C.a.next,C.a||(C.b=null),N.next=null),N}function Dt(){this.next=this.b=this.a=null}function yn(C){ke.setTimeout(function(){throw C},0)}function Vt(C,N){Jn||function xn(){var C=ke.Promise.resolve(void 0);Jn=function(){C.then(vr)}}(),ai||(Jn(),ai=!0),Rn.add(C,N)}Y.prototype.add=function(C,N){var j=Ae.get();j.set(C,N),this.b?this.b.next=j:this.a=j,this.b=j},Dt.prototype.set=function(C,N){this.a=C,this.b=N,this.next=null},Dt.prototype.reset=function(){this.next=this.b=this.a=null};var ai=!1,Rn=new Y;function vr(){for(var C;C=Qe();){try{C.a.call(C.b)}catch(j){yn(j)}var N=Ae;N.g(C),N.b<N.f&&(N.b++,C.next=N.a,N.a=C)}ai=!1}function Zo(C,N){le.call(this),this.b=C||1,this.a=N||ke,this.f=mt(this.Ya,this),this.g=at()}function Xe(C){C.aa=!1,C.M&&(C.a.clearTimeout(C.M),C.M=null)}function ze(C,N,j){if("function"==Ve(C))j&&(C=mt(C,j));else{if(!C||"function"!=typeof C.handleEvent)throw Error("Invalid listener argument");C=mt(C.handleEvent,C)}return 2147483647<Number(N)?-1:ke.setTimeout(C,N||0)}function _t(C){C.a=ze(function(){C.a=null,C.c&&(C.c=!1,_t(C))},C.h);var N=C.b;C.b=null,C.g.apply(null,N)}Ze(Zo,le),(ce=Zo.prototype).aa=!1,ce.M=null,ce.Ya=function(){if(this.aa){var C=at()-this.g;0<C&&C<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-C):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Xe(this),this.start()))}},ce.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=at())},ce.G=function(){Zo.S.G.call(this),Xe(this),delete this.a};var Zt=function(C){function N(j,ee,ve){var Ye=C.call(this)||this;return Ye.g=null!=ve?j.bind(ve):j,Ye.h=ee,Ye.b=null,Ye.c=!1,Ye.a=null,Ye}return function U(C,N){function j(){this.constructor=C}a(C,N),C.prototype=null===N?Object.create(N):(j.prototype=N.prototype,new j)}(N,C),N.prototype.f=function(j){this.b=arguments,this.a?this.c=!0:_t(this)},N.prototype.G=function(){C.prototype.G.call(this),this.a&&(ke.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},N}(xe);function Pt(C){xe.call(this),this.b=C,this.a={}}Ze(Pt,xe);var kn=[];function ri(C,N,j,ee){Array.isArray(j)||(j&&(kn[0]=j.toString()),j=kn);for(var ve=0;ve<j.length;ve++){var Ye=Ht(N,j[ve],ee||C.handleEvent,!1,C.b||C);if(!Ye)break;C.a[Ye.key]=Ye}}function Gi(C){fi(C.a,function(N,j){this.a.hasOwnProperty(j)&&$n(N)},C),C.a={}}function Zi(){this.a=!0}function go(C,N,j,ee){C.info(function(){return"XMLHTTP TEXT ("+N+"): "+function Ko(C,N){if(!C.a)return N;if(!N)return null;try{var j=JSON.parse(N);if(j)for(C=0;C<j.length;C++)if(Array.isArray(j[C])){var ee=j[C];if(!(2>ee.length)){var ve=ee[1];if(Array.isArray(ve)&&!(1>ve.length)){var Ye=ve[0];if("noop"!=Ye&&"stop"!=Ye&&"close"!=Ye)for(var Rt=1;Rt<ve.length;Rt++)ve[Rt]=""}}}return te(j)}catch{return N}}(C,j)+(ee?" "+ee:"")})}Pt.prototype.G=function(){Pt.S.G.call(this),Gi(this)},Pt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zi.prototype.info=function(){};var cs=null;function _s(){return cs=cs||new le}function Yo(C){Yt.call(this,"serverreachability",C)}function qn(C){var N=_s();N.dispatchEvent(new Yo(N,C))}function Ai(C){Yt.call(this,"statevent",C)}function _o(C){var N=_s();N.dispatchEvent(new Ai(N,C))}function ki(C){Yt.call(this,"timingevent",C)}function bc(C,N){if("function"!=Ve(C))throw Error("Fn must not be null and must be a function");return ke.setTimeout(function(){C()},N)}Ze(Yo,Yt),Ze(Ai,Yt),Ze(ki,Yt);var Xa={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},$r={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function Ns(){}function Ju(){}Ns.prototype.a=null;var Fs,na={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function wc(){Yt.call(this,"d")}function Cc(){Yt.call(this,"c")}function ia(){}function ol(C,N,j,ee){this.g=C,this.c=N,this.f=j,this.T=ee||1,this.J=new Pt(this),this.P=Ro,this.R=new Zo(C=Sn?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}Ze(wc,Yt),Ze(Cc,Yt),Ze(ia,Ns),Fs=new ia;var Ro=45e3,vo={},yr={};function ec(C,N,j){C.H=1,C.i=Qo(Et(N)),C.j=j,C.I=!0,ra(C,null)}function ra(C,N){C.u=at(),oa(C),C.l=Et(C.i);var j=C.l,ee=C.T;Array.isArray(ee)||(ee=[String(ee)]),Vi(j.b,"t",ee),C.D=0,C.a=Bs(C.g,C.g.C?N:null),0<C.O&&(C.F=new Zt(mt(C.Ca,C,C.a),C.O)),ri(C.J,C.a,"readystatechange",C.Wa),N=C.B?Se(C.B):{},C.j?(C.m||(C.m="POST"),N["Content-Type"]="application/x-www-form-urlencoded",C.a.ba(C.l,C.m,C.j,N)):(C.m="GET",C.a.ba(C.l,C.m,null,N)),qn(1),function Ji(C,N,j,ee,ve,Ye){C.info(function(){if(C.a)if(Ye)for(var Rt="",Gn=Ye.split("&"),ti=0;ti<Gn.length;ti++){var dr=Gn[ti].split("=");if(1<dr.length){var Co=dr[0];dr=dr[1];var es=Co.split("_");Rt=2<=es.length&&"type"==es[1]?Rt+(Co+"=")+dr+"&":Rt+(Co+"=redacted&")}}else Rt=null;else Rt=Ye;return"XMLHTTP REQ ("+ee+") [attempt "+ve+"]: "+N+"\n"+j+"\n"+Rt})}(C.c,C.m,C.l,C.f,C.T,C.j)}function er(C,N,j){for(var ee=!0;!C.A&&C.D<j.length;){var ve=xc(C,j);if(ve==yr){4==N&&(C.h=4,_o(14),ee=!1),go(C.c,C.f,null,"[Incomplete Response]");break}if(ve==vo){C.h=4,_o(15),go(C.c,C.f,j,"[Invalid Chunk]"),ee=!1;break}go(C.c,C.f,ve,null),br(C,ve)}4==N&&0==j.length&&(C.h=1,_o(16),ee=!1),C.b=C.b&&ee,ee?0<j.length&&!C.W&&(C.W=!0,(N=C.g).a==C&&N.V&&!N.F&&(N.c.info("Great, no buffering proxy detected. Bytes received: "+j.length),Vo(N),N.F=!0)):(go(C.c,C.f,j,"[Invalid Chunked Response]"),Ui(C),jn(C))}function xc(C,N){var j=C.D,ee=N.indexOf("\n",j);return-1==ee?yr:(j=Number(N.substring(j,ee)),isNaN(j)?vo:(ee+=1)+j>N.length?yr:(N=N.substr(ee,j),C.D=ee+j,N))}function oa(C){C.U=at()+C.P,vs(C,C.P)}function vs(C,N){if(null!=C.o)throw Error("WatchDog timer not null");C.o=bc(mt(C.Ua,C),N)}function tc(C){C.o&&(ke.clearTimeout(C.o),C.o=null)}function jn(C){0==C.g.v||C.A||Yr(C.g,C)}function Ui(C){tc(C);var N=C.F;N&&"function"==typeof N.ja&&N.ja(),C.F=null,Xe(C.R),Gi(C.J),C.a&&(N=C.a,C.a=null,N.abort(),N.ja())}function br(C,N){try{var j=C.g;if(0!=j.v&&(j.a==C||rr(j.b,C)))if(j.I=C.N,!C.C&&rr(j.b,C)&&3==j.v){try{var ee=j.ka.a.parse(N)}catch{ee=null}if(Array.isArray(ee)&&3==ee.length){var ve=ee;if(0==ve[0]){e:if(!j.j){if(j.a){if(!(j.a.u+3e3<C.u))break e;ka(j),yo(j)}kc(j),_o(18)}}else j.oa=ve[1],0<j.oa-j.P&&37500>ve[2]&&j.H&&0==j.o&&!j.m&&(j.m=bc(mt(j.Ra,j),6e3));if(1>=kr(j.b)&&j.ea){try{j.ea()}catch{}j.ea=void 0}}else bo(j,11)}else if((C.C||j.a==C)&&ka(j),!Le(N))for(N=ee=j.ka.a.parse(N),ee=0;ee<N.length;ee++)if(j.P=(ve=N[ee])[0],ve=ve[1],2==j.v)if("c"==ve[0]){j.J=ve[1],j.ga=ve[2];var Ye=ve[3];null!=Ye&&(j.ha=Ye,j.c.info("VER="+j.ha));var Rt=ve[4];null!=Rt&&(j.pa=Rt,j.c.info("SVER="+j.pa));var Gn=ve[5];if(null!=Gn&&"number"==typeof Gn&&0<Gn){var ti=1.5*Gn;j.D=ti,j.c.info("backChannelRequestTimeoutMs_="+ti)}ti=j;var dr=C.a;if(dr){var Co=dr.a?dr.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(Co){var es=ti.b;!es.a&&(ot(Co,"spdy")||ot(Co,"quic")||ot(Co,"h2"))&&(es.f=es.g,es.a=new Set,es.b&&(Wr(es,es.b),es.b=null))}if(ti.A){var Nc=dr.a?dr.a.getResponseHeader("X-HTTP-Session-Id"):null;Nc&&(ti.na=Nc,Bn(ti.B,ti.A,Nc))}}j.v=3,j.f&&j.f.ta(),j.V&&(j.N=at()-C.u,j.c.info("Handshake RTT: "+j.N+"ms"));var zs=C;if((ti=j).la=jl(ti,ti.C?ti.ga:null,ti.fa),zs.C){ca(ti.b,zs);var ll=zs,xo=ti.D;xo&&ll.setTimeout(xo),ll.o&&(tc(ll),oa(ll)),ti.a=zs}else da(ti);0<j.g.length&&ws(j)}else"stop"!=ve[0]&&"close"!=ve[0]||bo(j,7);else 3==j.v&&("stop"==ve[0]||"close"==ve[0]?"stop"==ve[0]?bo(j,7):ic(j):"noop"!=ve[0]&&j.f&&j.f.sa(ve),j.o=0);qn(4)}catch{}}function wr(C,N){if(C.forEach&&"function"==typeof C.forEach)C.forEach(N,void 0);else if(z(C)||"string"==typeof C)it(C,N,void 0);else{if(C.L&&"function"==typeof C.L)var j=C.L();else if(C.K&&"function"==typeof C.K)j=void 0;else if(z(C)||"string"==typeof C){j=[];for(var ee=C.length,ve=0;ve<ee;ve++)j.push(ve)}else for(ve in j=[],ee=0,C)j[ee++]=ve;ee=function Sa(C){if(C.K&&"function"==typeof C.K)return C.K();if("string"==typeof C)return C.split("");if(z(C)){for(var N=[],j=C.length,ee=0;ee<j;ee++)N.push(C[ee]);return N}for(ee in N=[],j=0,C)N[j++]=C[ee];return N}(C),ve=ee.length;for(var Ye=0;Ye<ve;Ye++)N.call(void 0,ee[Ye],j&&j[Ye],C)}}function Ec(C,N){this.b={},this.a=[],this.c=0;var j=arguments.length;if(1<j){if(j%2)throw Error("Uneven number of arguments");for(var ee=0;ee<j;ee+=2)this.set(arguments[ee],arguments[ee+1])}else if(C)if(C instanceof Ec)for(j=C.L(),ee=0;ee<j.length;ee++)this.set(j[ee],C.get(j[ee]));else for(ee in C)this.set(ee,C[ee])}function Ic(C){if(C.c!=C.a.length){for(var N=0,j=0;N<C.a.length;){var ee=C.a[N];No(C.b,ee)&&(C.a[j++]=ee),N++}C.a.length=j}if(C.c!=C.a.length){var ve={};for(j=N=0;N<C.a.length;)No(ve,ee=C.a[N])||(C.a[j++]=ee,ve[ee]=1),N++;C.a.length=j}}function No(C,N){return Object.prototype.hasOwnProperty.call(C,N)}(ce=ol.prototype).setTimeout=function(C){this.P=C},ce.Wa=function(C){C=C.target;var N=this.F;N&&3==mi(C)?N.f():this.Ca(C)},ce.Ca=function(C){try{if(C==this.a)e:{var N=mi(this.a),j=this.a.ua(),ee=this.a.X();if(!(3>N||3==N&&!Sn&&!this.a.$())){this.A||4!=N||7==j||qn(8==j||0>=ee?3:2),tc(this);var ve=this.a.X();this.N=ve;var Ye=this.a.$();if(this.b=200==ve,function Ur(C,N,j,ee,ve,Ye,Rt){C.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+ve+"]: "+N+"\n"+j+"\n"+Ye+" "+Rt})}(this.c,this.m,this.l,this.f,this.T,N,ve),this.b){if(this.V&&!this.C){t:{if(this.a){var Rt,Gn=this.a;if((Rt=Gn.a?Gn.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Le(Rt)){var ti=Rt;break t}}ti=null}if(!ti){this.b=!1,this.h=3,_o(12),Ui(this),jn(this);break e}go(this.c,this.f,ti,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,br(this,ti)}this.I?(er(this,N,Ye),Sn&&this.b&&3==N&&(ri(this.J,this.R,"tick",this.Va),this.R.start())):(go(this.c,this.f,Ye,null),br(this,Ye)),4==N&&Ui(this),this.b&&!this.A&&(4==N?Yr(this.g,this):(this.b=!1,oa(this)))}else 400==ve&&0<Ye.indexOf("Unknown SID")?(this.h=3,_o(12)):(this.h=0,_o(13)),Ui(this),jn(this)}}}catch{}},ce.Va=function(){if(this.a){var C=mi(this.a),N=this.a.$();this.D<N.length&&(tc(this),er(this,C,N),this.b&&4!=C&&oa(this))}},ce.cancel=function(){this.A=!0,Ui(this)},ce.Ua=function(){this.o=null;var C=at();0<=C-this.U?(function Ta(C,N){C.info(function(){return"TIMEOUT: "+N})}(this.c,this.l),2!=this.H&&(qn(3),_o(17)),Ui(this),this.h=2,jn(this)):vs(this,this.U-C)},(ce=Ec.prototype).K=function(){Ic(this);for(var C=[],N=0;N<this.a.length;N++)C.push(this.b[this.a[N]]);return C},ce.L=function(){return Ic(this),this.a.concat()},ce.get=function(C,N){return No(this.b,C)?this.b[C]:N},ce.set=function(C,N){No(this.b,C)||(this.c++,this.a.push(C)),this.b[C]=N},ce.forEach=function(C,N){for(var j=this.L(),ee=0;ee<j.length;ee++){var ve=j[ee],Ye=this.get(ve);C.call(N,Ye,ve,this)}};var Ls=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Oi(C,N){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,C instanceof Oi){this.a=void 0!==N?N:C.a,En(this,C.f),this.j=C.j,Ei(this,C.c),so(this,C.h),this.g=C.g,N=C.b;var j=new Er;j.c=N.c,N.a&&(j.a=new Ec(N.a),j.b=N.b),Us(this,j),this.i=C.i}else C&&(j=String(C).match(Ls))?(this.a=!!N,En(this,j[1]||"",!0),this.j=Xo(j[2]||""),Ei(this,j[3]||"",!0),so(this,j[4]),this.g=Xo(j[5]||"",!0),Us(this,j[6]||"",!0),this.i=Xo(j[7]||"")):(this.a=!!N,this.b=new Er(null,this.a))}function Et(C){return new Oi(C)}function En(C,N,j){C.f=j?Xo(N,!0):N,C.f&&(C.f=C.f.replace(/:$/,""))}function Ei(C,N,j){C.c=j?Xo(N,!0):N}function so(C,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);C.h=N}else C.h=null}function Us(C,N,j){N instanceof Er?(C.b=N,function Gr(C,N){N&&!C.f&&(Ir(C),C.c=null,C.a.forEach(function(j,ee){var ve=ee.toLowerCase();ee!=ve&&(aa(this,ee),Vi(this,ve,j))},C)),C.f=N}(C.b,C.a)):(j||(N=on(N,ys)),C.b=new Er(N,C.a))}function Bn(C,N,j){C.b.set(N,j)}function Qo(C){return Bn(C,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^at()).toString(36)),C}function Xo(C,N){return C?N?decodeURI(C.replace(/%25/g,"%2525")):decodeURIComponent(C):""}function on(C,N,j){return"string"==typeof C?(C=encodeURI(C).replace(N,qr),j&&(C=C.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C):null}function qr(C){return"%"+((C=C.charCodeAt(0))>>4&15).toString(16)+(15&C).toString(16)}Oi.prototype.toString=function(){var C=[],N=this.f;N&&C.push(on(N,Ll,!0),":");var j=this.c;return(j||"file"==N)&&(C.push("//"),(N=this.j)&&C.push(on(N,Ll,!0),"@"),C.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(j=this.h)&&C.push(":",String(j))),(j=this.g)&&(this.c&&"/"!=j.charAt(0)&&C.push("/"),C.push(on(j,"/"==j.charAt(0)?xr:Cr,!0))),(j=this.b.toString())&&C.push("?",j),(j=this.i)&&C.push("#",on(j,Fo)),C.join("")};var Ll=/[#\/\?@]/g,Cr=/[#\?:]/g,xr=/[#\?]/g,ys=/[#\?@]/g,Fo=/#/g;function Er(C,N){this.b=this.a=null,this.c=C||null,this.f=!!N}function Ir(C){C.a||(C.a=new Ec,C.b=0,C.c&&function Tc(C,N){if(C){C=C.split("&");for(var j=0;j<C.length;j++){var ee=C[j].indexOf("="),ve=null;if(0<=ee){var Ye=C[j].substring(0,ee);ve=C[j].substring(ee+1)}else Ye=C[j];N(Ye,ve?decodeURIComponent(ve.replace(/\+/g," ")):"")}}}(C.c,function(N,j){C.add(decodeURIComponent(N.replace(/\+/g," ")),j)}))}function aa(C,N){Ir(C),N=Lo(C,N),No(C.a.b,N)&&(C.c=null,C.b-=C.a.get(N).length,No((C=C.a).b,N)&&(delete C.b[N],C.c--,C.a.length>2*C.c&&Ic(C)))}function Da(C,N){return Ir(C),N=Lo(C,N),No(C.a.b,N)}function Vi(C,N,j){aa(C,N),0<j.length&&(C.c=null,C.a.set(Lo(C,N),Ge(j)),C.b+=j.length)}function Lo(C,N){return N=String(N),C.f&&(N=N.toLowerCase()),N}function ei(C,N){this.b=C,this.a=N}function Sc(C){this.g=C||gu,C=ke.PerformanceNavigationTiming?0<(C=ke.performance.getEntriesByType("navigation")).length&&("hq"==C[0].nextHopProtocol||"h2"==C[0].nextHopProtocol):!!(ke.ia&&ke.ia.ya&&ke.ia.ya()&&ke.ia.ya().qb),this.f=C?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(ce=Er.prototype).add=function(C,N){Ir(this),this.c=null,C=Lo(this,C);var j=this.a.get(C);return j||this.a.set(C,j=[]),j.push(N),this.b+=1,this},ce.forEach=function(C,N){Ir(this),this.a.forEach(function(j,ee){it(j,function(ve){C.call(N,ve,ee,this)},this)},this)},ce.L=function(){Ir(this);for(var C=this.a.K(),N=this.a.L(),j=[],ee=0;ee<N.length;ee++)for(var ve=C[ee],Ye=0;Ye<ve.length;Ye++)j.push(N[ee]);return j},ce.K=function(C){Ir(this);var N=[];if("string"==typeof C)Da(this,C)&&(N=ue(N,this.a.get(Lo(this,C))));else{C=this.a.K();for(var j=0;j<C.length;j++)N=ue(N,C[j])}return N},ce.set=function(C,N){return Ir(this),this.c=null,Da(this,C=Lo(this,C))&&(this.b-=this.a.get(C).length),this.a.set(C,[N]),this.b+=1,this},ce.get=function(C,N){return C&&0<(C=this.K(C)).length?String(C[0]):N},ce.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var C=[],N=this.a.L(),j=0;j<N.length;j++){var ee=N[j],ve=encodeURIComponent(String(ee));ee=this.K(ee);for(var Ye=0;Ye<ee.length;Ye++){var Rt=ve;""!==ee[Ye]&&(Rt+="="+encodeURIComponent(String(ee[Ye]))),C.push(Rt)}}return this.c=C.join("&")};var gu=10;function Ma(C){return!!C.b||!!C.a&&C.a.size>=C.f}function kr(C){return C.b?1:C.a?C.a.size:0}function rr(C,N){return C.b?C.b==N:!!C.a&&C.a.has(N)}function Wr(C,N){C.a?C.a.add(N):C.b=N}function ca(C,N){C.b&&C.b==N?C.b=null:C.a&&C.a.has(N)&&C.a.delete(N)}function Hi(C){var N,j;if(null!=C.b)return C.c.concat(C.b.s);if(null!=C.a&&0!==C.a.size){var ee=C.c;try{for(var ve=K(C.a.values()),Ye=ve.next();!Ye.done;Ye=ve.next())ee=ee.concat(Ye.value.s)}catch(Gn){N={error:Gn}}finally{try{Ye&&!Ye.done&&(j=ve.return)&&j.call(ve)}finally{if(N)throw N.error}}return ee}return Ge(C.c)}function sl(){}function Zr(){this.a=new sl}function Tr(C,N,j){var ee=j||"";try{wr(C,function(ve,Ye){var Rt=ve;G(ve)&&(Rt=te(ve)),N.push(ee+Ye+"="+encodeURIComponent(Rt))})}catch(ve){throw N.push(ee+"type="+encodeURIComponent("_badmap")),ve}}function Or(C,N,j,ee,ve){try{N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null,ve(ee)}catch{}}Sc.prototype.cancel=function(){var C,N;if(this.c=Hi(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var j=K(this.a.values()),ee=j.next();!ee.done;ee=j.next())ee.value.cancel()}catch(Ye){C={error:Ye}}finally{try{ee&&!ee.done&&(N=j.return)&&N.call(j)}finally{if(C)throw C.error}}this.a.clear()}},sl.prototype.stringify=function(C){return ke.JSON.stringify(C,void 0)},sl.prototype.parse=function(C){return ke.JSON.parse(C,void 0)};var Kr=ke.JSON.parse;function di(C){le.call(this),this.headers=new Ec,this.H=C||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=la,this.D=this.F=!1}Ze(di,le);var la="",oi=/^https?$/i,Pr=["POST","PUT"];function bs(C){return"content-type"==C.toLowerCase()}function Dc(C,N){C.b=!1,C.a&&(C.g=!0,C.a.abort(),C.g=!1),C.f=N,C.h=5,Aa(C),nc(C)}function Aa(C){C.u||(C.u=!0,C.dispatchEvent("complete"),C.dispatchEvent("error"))}function Mc(C){if(C.b&&typeof Pe<"u"&&(!C.s[1]||4!=mi(C)||2!=C.X()))if(C.l&&4==mi(C))ze(C.za,0,C);else if(C.dispatchEvent("readystatechange"),4==mi(C)){C.b=!1;try{var ee,N=C.X();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}if(!(ee=j)){var ve;if(ve=0===N){var Ye=String(C.B).match(Ls)[1]||null;if(!Ye&&ke.self&&ke.self.location){var Rt=ke.self.location.protocol;Ye=Rt.substr(0,Rt.length-1)}ve=!oi.test(Ye?Ye.toLowerCase():"")}ee=ve}if(ee)C.dispatchEvent("complete"),C.dispatchEvent("success");else{C.h=6;try{var Gn=2<mi(C)?C.a.statusText:""}catch{Gn=""}C.f=Gn+" ["+C.X()+"]",Aa(C)}}finally{nc(C)}}}function nc(C,N){if(C.a){Vl(C);var j=C.a,ee=C.s[0]?ut:null;C.a=null,C.s=null,N||C.dispatchEvent("ready");try{j.onreadystatechange=ee}catch{}}}function Vl(C){C.a&&C.D&&(C.a.ontimeout=null),C.m&&(ke.clearTimeout(C.m),C.m=null)}function mi(C){return C.a?C.a.readyState:0}function Ac(C,N,j){e:{for(ee in j){var ee=!1;break e}ee=!0}ee||(j=function _u(C){var N="";return fi(C,function(j,ee){N+=ee,N+=":",N+=j,N+="\r\n"}),N}(j),"string"==typeof C?null!=j&&encodeURIComponent(String(j)):Bn(C,N,j))}function Uo(C,N,j){return j&&j.internalChannelParams&&j.internalChannelParams[C]||N}function Qd(C){this.pa=0,this.g=[],this.c=new Zi,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Uo("failFast",!1,C),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Uo("baseRetryDelayMs",5e3,C),this.Ma=Uo("retryDelaySeedMs",1e4,C),this.Ja=Uo("forwardChannelMaxRetries",2,C),this.ma=Uo("forwardChannelRequestTimeoutMs",2e4,C),this.Ka=C&&C.g||void 0,this.D=void 0,this.C=C&&C.supportsCrossDomainXhr||!1,this.J="",this.b=new Sc(C&&C.concurrentRequestLimit),this.ka=new Zr,this.da=C&&C.fastHandshake||!1,this.Ga=C&&C.b||!1,C&&C.f&&(this.c.a=!1),C&&C.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&C&&C.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function ic(C){if(rc(C),3==C.v){var N=C.R++,j=Et(C.B);Bn(j,"SID",C.J),Bn(j,"RID",N),Bn(j,"TYPE","terminate"),Rr(C,j),(N=new ol(C,C.c,N,void 0)).H=2,N.i=Qo(Et(j)),j=!1,ke.navigator&&ke.navigator.sendBeacon&&(j=ke.navigator.sendBeacon(N.i.toString(),"")),!j&&ke.Image&&((new Image).src=N.i,j=!0),j||(N.a=Bs(N.g,null),N.a.ba(N.i)),N.u=at(),oa(N)}oc(C)}function yo(C){C.a&&(Vo(C),C.a.cancel(),C.a=null)}function rc(C){yo(C),C.j&&(ke.clearTimeout(C.j),C.j=null),ka(C),C.b.cancel(),C.h&&("number"==typeof C.h&&ke.clearTimeout(C.h),C.h=null)}function ua(C,N){C.g.push(new ei(C.La++,N)),3==C.v&&ws(C)}function ws(C){Ma(C.b)||C.h||(C.h=!0,Vt(C.Ba,C),C.u=0)}function vu(C,N){var j;j=N?N.f:C.R++;var ee=Et(C.B);Bn(ee,"SID",C.J),Bn(ee,"RID",j),Bn(ee,"AID",C.P),Rr(C,ee),C.i&&C.l&&Ac(ee,C.i,C.l),j=new ol(C,C.c,j,C.u+1),null===C.i&&(j.B=C.l),N&&(C.g=N.s.concat(C.g)),N=Vs(C,j,1e3),j.setTimeout(Math.round(.5*C.ma)+Math.round(.5*C.ma*Math.random())),Wr(C.b,j),ec(j,ee,N)}function Rr(C,N){C.f&&wr({},function(j,ee){Bn(N,ee,j)})}function Vs(C,N,j){j=Math.min(C.g.length,j);var ee=C.f?mt(C.f.Ha,C.f,C):null;e:for(var ve=C.g,Ye=-1;;){var Rt=["count="+j];-1==Ye?0<j?Rt.push("ofs="+(Ye=ve[0].b)):Ye=0:Rt.push("ofs="+Ye);for(var Gn=!0,ti=0;ti<j;ti++){var dr=ve[ti].b,Co=ve[ti].a;if(0>(dr-=Ye))Ye=Math.max(0,ve[ti].b-100),Gn=!1;else try{Tr(Co,Rt,"req"+dr+"_")}catch{ee&&ee(Co)}}if(Gn){ee=Rt.join("&");break e}}return C=C.g.splice(0,j),N.s=C,ee}function da(C){C.a||C.j||(C.U=1,Vt(C.Aa,C),C.o=0)}function kc(C){return!(C.a||C.j||3<=C.o||(C.U++,C.j=bc(mt(C.Aa,C),Oc(C,C.o)),C.o++,0))}function Vo(C){null!=C.s&&(ke.clearTimeout(C.s),C.s=null)}function ur(C){C.a=new ol(C,C.c,"rpc",C.U),null===C.i&&(C.a.B=C.l),C.a.O=0;var N=Et(C.la);Bn(N,"RID","rpc"),Bn(N,"SID",C.J),Bn(N,"CI",C.H?"0":"1"),Bn(N,"AID",C.P),Rr(C,N),Bn(N,"TYPE","xmlhttp"),C.i&&C.l&&Ac(N,C.i,C.l),C.D&&C.a.setTimeout(C.D);var j=C.a;C=C.ga,j.H=1,j.i=Qo(Et(N)),j.j=null,j.I=!0,ra(j,C)}function ka(C){null!=C.m&&(ke.clearTimeout(C.m),C.m=null)}function Yr(C,N){var j=null;if(C.a==N){ka(C),Vo(C),C.a=null;var ee=2}else{if(!rr(C.b,N))return;j=N.s,ca(C.b,N),ee=1}if(C.I=N.N,0!=C.v)if(N.b)if(1==ee){j=N.j?N.j.length:0,N=at()-N.u;var ve=C.u;(ee=_s()).dispatchEvent(new ki(ee,j,N,ve)),ws(C)}else da(C);else if(3==(ve=N.h)||0==ve&&0<C.I||!(1==ee&&function Bl(C,N){return!(kr(C.b)>=C.b.f-(C.h?1:0)||(C.h?(C.g=N.s.concat(C.g),0):1==C.v||2==C.v||C.u>=(C.Ia?0:C.Ja)||(C.h=bc(mt(C.Ba,C,N),Oc(C,C.u)),C.u++,0)))}(C,N)||2==ee&&kc(C)))switch(j&&0<j.length&&(N=C.b,N.c=N.c.concat(j)),ve){case 1:bo(C,5);break;case 4:bo(C,10);break;case 3:bo(C,6);break;default:bo(C,2)}}function Oc(C,N){var j=C.Fa+Math.floor(Math.random()*C.Ma);return C.f||(j*=2),j*N}function bo(C,N){if(C.c.info("Error code "+N),2==N){var j=null;C.f&&(j=null);var ee=mt(C.Xa,C);j||(j=new Oi("//www.google.com/images/cleardot.gif"),ke.location&&"http"==ke.location.protocol||En(j,"https"),Qo(j)),function al(C,N){var j=new Zi;if(ke.Image){var ee=new Image;ee.onload=Re(Or,j,ee,"TestLoadImage: loaded",!0,N),ee.onerror=Re(Or,j,ee,"TestLoadImage: error",!1,N),ee.onabort=Re(Or,j,ee,"TestLoadImage: abort",!1,N),ee.ontimeout=Re(Or,j,ee,"TestLoadImage: timeout",!1,N),ke.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=C}else N(!1)}(j.toString(),ee)}else _o(2);C.v=0,C.f&&C.f.ra(N),oc(C),rc(C)}function oc(C){C.v=0,C.I=-1,C.f&&((0!=Hi(C.b).length||0!=C.g.length)&&(C.b.c.length=0,Ge(C.g),C.g.length=0),C.f.qa())}function jl(C,N,j){var ee=function Pi(C){return C instanceof Oi?Et(C):new Oi(C,void 0)}(j);if(""!=ee.c)N&&Ei(ee,N+"."+ee.c),so(ee,ee.h);else{var ve=ke.location;ee=function sa(C,N,j,ee){var ve=new Oi(null,void 0);return C&&En(ve,C),N&&Ei(ve,N),j&&so(ve,j),ee&&(ve.g=ee),ve}(ve.protocol,N?N+"."+ve.hostname:ve.hostname,+ve.port,j)}return C.W&&fi(C.W,function(Ye,Rt){Bn(ee,Rt,Ye)}),j=C.na,(N=C.A)&&j&&Bn(ee,N,j),Bn(ee,"VER",C.ha),Rr(C,ee),ee}function Bs(C,N){if(N&&!C.C)throw Error("Can't create secondary domain capable XhrIo object.");return(N=new di(C.Ka)).F=C.C,N}function ha(){}function cl(){if(Mt&&!(10<=Number(ni)))throw Error("Environmental error: no available transport.")}function yi(C,N){le.call(this),this.a=new Qd(N),this.l=C,this.b=N&&N.messageUrlParams||null,C=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(C?C["X-Client-Protocol"]="webchannel":C={"X-Client-Protocol":"webchannel"}),this.a.l=C,C=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(C?C["X-WebChannel-Content-Type"]=N.messageContentType:C={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.a&&(C?C["X-WebChannel-Client-Profile"]=N.a:C={"X-WebChannel-Client-Profile":N.a}),this.a.O=C,(C=N&&N.httpHeadersOverwriteParam)&&!Le(C)&&(this.a.i=C),this.h=N&&N.supportsCrossDomainXhr||!1,this.g=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!Le(N)&&(this.a.A=N,null!==(C=this.b)&&N in C&&N in(C=this.b)&&delete C[N]),this.f=new It(this)}function Bo(C){wc.call(this);var N=C.__sm__;if(N){e:{for(var j in N){C=j;break e}C=void 0}(this.c=C)?(C=this.c,this.data=null!==N&&C in N?N[C]:void 0):this.data=N}else this.data=C}function Oa(){Cc.call(this),this.status=1}function It(C){this.a=C}(ce=di.prototype).ba=function(C,N,j,ee){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+C);N=N?N.toUpperCase():"GET",this.B=C,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function Ja(C){var N;return(N=C.a)||(N=C.a={}),N}(this.H?this.H:Fs),this.a.onreadystatechange=mt(this.za,this);try{this.A=!0,this.a.open(N,String(C),!0),this.A=!1}catch(Ye){return void Dc(this,Ye)}C=j||"";var ve=new Ec(this.headers);ee&&wr(ee,function(Ye,Rt){ve.set(Rt,Ye)}),ee=function he(C){e:{for(var N=bs,j=C.length,ee="string"==typeof C?C.split(""):C,ve=0;ve<j;ve++)if(ve in ee&&N.call(void 0,ee[ve],ve,C)){N=ve;break e}N=-1}return 0>N?null:"string"==typeof C?C.charAt(N):C[N]}(ve.L()),j=ke.FormData&&C instanceof ke.FormData,!(0<=$e(Pr,N))||ee||j||ve.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),ve.forEach(function(Ye,Rt){this.a.setRequestHeader(Rt,Ye)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Vl(this),0<this.o&&((this.D=function Ul(C){return Mt&&Un(9)&&"number"==typeof C.timeout&&void 0!==C.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=mt(this.xa,this)):this.m=ze(this.xa,this.o,this)),this.l=!0,this.a.send(C),this.l=!1}catch(Ye){Dc(this,Ye)}},ce.xa=function(){typeof Pe<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},ce.abort=function(C){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=C||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),nc(this))},ce.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),nc(this,!0)),di.S.G.call(this)},ce.za=function(){this.j||(this.A||this.l||this.g?Mc(this):this.Ta())},ce.Ta=function(){Mc(this)},ce.X=function(){try{return 2<mi(this)?this.a.status:-1}catch{return-1}},ce.$=function(){try{return this.a?this.a.responseText:""}catch{return""}},ce.Na=function(C){if(this.a){var N=this.a.responseText;return C&&0==N.indexOf(C)&&(N=N.substring(C.length)),Kr(N)}},ce.ua=function(){return this.h},ce.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ce=Qd.prototype).ha=8,ce.v=1,ce.Ba=function(C){if(this.h)if(this.h=null,1==this.v){if(!C){this.R=Math.floor(1e5*Math.random()),C=this.R++;var ee,N=new ol(this,this.c,C,void 0),j=this.l;if(this.O&&(j?He(j=Se(j),this.O):j=this.O),null===this.i&&(N.B=j),this.da)e:{for(var ve=ee=0;ve<this.g.length;ve++){var Ye=this.g[ve];if(void 0===(Ye="__data__"in Ye.a&&"string"==typeof(Ye=Ye.a.__data__)?Ye.length:void 0))break;if(4096<(ee+=Ye)){ee=ve;break e}if(4096===ee||ve===this.g.length-1){ee=ve+1;break e}}ee=1e3}else ee=1e3;ee=Vs(this,N,ee),Bn(ve=Et(this.B),"RID",C),Bn(ve,"CVER",22),this.A&&Bn(ve,"X-HTTP-Session-Id",this.A),Rr(this,ve),this.i&&j&&Ac(ve,this.i,j),Wr(this.b,N),this.Ga&&Bn(ve,"TYPE","init"),this.da?(Bn(ve,"$req",ee),Bn(ve,"SID","null"),N.V=!0,ec(N,ve,null)):ec(N,ve,ee),this.v=2}}else 3==this.v&&(C?vu(this,C):0==this.g.length||Ma(this.b)||vu(this))},ce.Aa=function(){if(this.j=null,ur(this),this.V&&!(this.F||null==this.a||0>=this.N)){var C=2*this.N;this.c.info("BP detection timer enabled: "+C),this.s=bc(mt(this.Sa,this),C)}},ce.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,yo(this),ur(this))},ce.Ra=function(){null!=this.m&&(this.m=null,yo(this),kc(this),_o(19))},ce.Xa=function(C){C?(this.c.info("Successfully pinged google.com"),_o(2)):(this.c.info("Failed to ping google.com"),_o(1))},(ce=ha.prototype).ta=function(){},ce.sa=function(){},ce.ra=function(){},ce.qa=function(){},ce.Ha=function(){},cl.prototype.a=function(C,N){return new yi(C,N)},Ze(yi,le),(ce=yi.prototype).addEventListener=function(C,N,j,ee){yi.S.addEventListener.call(this,C,N,j,ee)},ce.removeEventListener=function(C,N,j,ee){yi.S.removeEventListener.call(this,C,N,j,ee)},ce.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var C=this.a,N=this.l,j=this.b||void 0;_o(0),C.fa=N,C.W=j||{},C.H=C.T,C.B=jl(C,null,C.fa),ws(C)},ce.close=function(){ic(this.a)},ce.Pa=function(C){if("string"==typeof C){var N={};N.__data__=C,ua(this.a,N)}else this.g?((N={}).__data__=te(C),ua(this.a,N)):ua(this.a,C)},ce.G=function(){this.a.f=null,delete this.f,ic(this.a),delete this.a,yi.S.G.call(this)},Ze(Bo,wc),Ze(Oa,Cc),Ze(It,ha),It.prototype.ta=function(){this.a.dispatchEvent("a")},It.prototype.sa=function(C){this.a.dispatchEvent(new Bo(C))},It.prototype.ra=function(C){this.a.dispatchEvent(new Oa(C))},It.prototype.qa=function(){this.a.dispatchEvent("b")},cl.prototype.createWebChannel=cl.prototype.a,yi.prototype.send=yi.prototype.Pa,yi.prototype.open=yi.prototype.Oa,yi.prototype.close=yi.prototype.close,Xa.NO_ERROR=0,Xa.TIMEOUT=8,Xa.HTTP_ERROR=6,$r.COMPLETE="complete",Ju.EventType=na,na.OPEN="a",na.CLOSE="b",na.ERROR="c",na.MESSAGE="d",le.prototype.listen=le.prototype.va,di.prototype.listenOnce=di.prototype.wa,di.prototype.getLastError=di.prototype.Qa,di.prototype.getLastErrorCode=di.prototype.ua,di.prototype.getStatus=di.prototype.X,di.prototype.getResponseJson=di.prototype.Na,di.prototype.getResponseText=di.prototype.$,di.prototype.send=di.prototype.ba;var Jo=function(){return new cl},Pc=Xa,wo=$r,js=Ju,Rc=di;const Pa={createWebChannelTransport:Jo,ErrorCode:Xa,EventType:$r,WebChannel:Ju,XhrIo:di}},5619:(en,Me,Q)=>{Q.d(Me,{X:()=>U});var a=Q(8645);class U extends a.x{constructor(pe){super(),this._value=pe}get value(){return this.getValue()}_subscribe(pe){const ce=super._subscribe(pe);return!ce.closed&&pe.next(this._value),ce}getValue(){const{hasError:pe,thrownError:ce,_value:Pe}=this;if(pe)throw ce;return this._throwIfClosed(),Pe}next(pe){super.next(this._value=pe)}}},5592:(en,Me,Q)=>{Q.d(Me,{y:()=>ut});var a=Q(305),U=Q(7394),K=Q(4850),pe=Q(8407),ce=Q(2653),Pe=Q(4674),ke=Q(1441);let ut=(()=>{class de{constructor(me){me&&(this._subscribe=me)}lift(me){const lt=new de;return lt.source=this,lt.operator=me,lt}subscribe(me,lt,st){const mt=function G(de){return de&&de instanceof a.Lv||function z(de){return de&&(0,Pe.m)(de.next)&&(0,Pe.m)(de.error)&&(0,Pe.m)(de.complete)}(de)&&(0,U.Nn)(de)}(me)?me:new a.Hp(me,lt,st);return(0,ke.x)(()=>{const{operator:Re,source:at}=this;mt.add(Re?Re.call(mt,at):at?this._subscribe(mt):this._trySubscribe(mt))}),mt}_trySubscribe(me){try{return this._subscribe(me)}catch(lt){me.error(lt)}}forEach(me,lt){return new(lt=Ve(lt))((st,mt)=>{const Re=new a.Hp({next:at=>{try{me(at)}catch(Ze){mt(Ze),Re.unsubscribe()}},error:mt,complete:st});this.subscribe(Re)})}_subscribe(me){var lt;return null===(lt=this.source)||void 0===lt?void 0:lt.subscribe(me)}[K.L](){return this}pipe(...me){return(0,pe.U)(me)(this)}toPromise(me){return new(me=Ve(me))((lt,st)=>{let mt;this.subscribe(Re=>mt=Re,Re=>st(Re),()=>lt(mt))})}}return de.create=Ne=>new de(Ne),de})();function Ve(de){var Ne;return null!==(Ne=de??ce.config.Promise)&&void 0!==Ne?Ne:Promise}},8645:(en,Me,Q)=>{Q.d(Me,{x:()=>ke});var a=Q(5592),U=Q(7394);const pe=(0,Q(2306).d)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=Q(9039),Pe=Q(1441);let ke=(()=>{class Ve extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const de=new ut(this,this);return de.operator=G,de}_throwIfClosed(){if(this.closed)throw new pe}next(G){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const de of this.currentObservers)de.next(G)}})}error(G){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:de}=this;for(;de.length;)de.shift().error(G)}})}complete(){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:de,isStopped:Ne,observers:me}=this;return de||Ne?U.Lc:(this.currentObservers=null,me.push(G),new U.w0(()=>{this.currentObservers=null,(0,ce.P)(me,G)}))}_checkFinalizedStatuses(G){const{hasError:de,thrownError:Ne,isStopped:me}=this;de?G.error(Ne):me&&G.complete()}asObservable(){const G=new a.y;return G.source=this,G}}return Ve.create=(z,G)=>new ut(z,G),Ve})();class ut extends ke{constructor(z,G){super(),this.destination=z,this.source=G}next(z){var G,de;null===(de=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===de||de.call(G,z)}error(z){var G,de;null===(de=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===de||de.call(G,z)}complete(){var z,G;null===(G=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===G||G.call(z)}_subscribe(z){var G,de;return null!==(de=null===(G=this.source)||void 0===G?void 0:G.subscribe(z))&&void 0!==de?de:U.Lc}}},305:(en,Me,Q)=>{Q.d(Me,{Hp:()=>st,Lv:()=>de});var a=Q(4674),U=Q(7394),K=Q(2653),pe=Q(3894),ce=Q(2420);const Pe=Ve("C",void 0,void 0);function Ve(xe,nt,$e){return{kind:xe,value:nt,error:$e}}var z=Q(7599),G=Q(1441);class de extends U.w0{constructor(nt){super(),this.isStopped=!1,nt?(this.destination=nt,(0,U.Nn)(nt)&&nt.add(this)):this.destination=Ze}static create(nt,$e,it){return new st(nt,$e,it)}next(nt){this.isStopped?at(function ut(xe){return Ve("N",xe,void 0)}(nt),this):this._next(nt)}error(nt){this.isStopped?at(function ke(xe){return Ve("E",void 0,xe)}(nt),this):(this.isStopped=!0,this._error(nt))}complete(){this.isStopped?at(Pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(nt){this.destination.next(nt)}_error(nt){try{this.destination.error(nt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function me(xe,nt){return Ne.call(xe,nt)}class lt{constructor(nt){this.partialObserver=nt}next(nt){const{partialObserver:$e}=this;if($e.next)try{$e.next(nt)}catch(it){mt(it)}}error(nt){const{partialObserver:$e}=this;if($e.error)try{$e.error(nt)}catch(it){mt(it)}else mt(nt)}complete(){const{partialObserver:nt}=this;if(nt.complete)try{nt.complete()}catch($e){mt($e)}}}class st extends de{constructor(nt,$e,it){let he;if(super(),(0,a.m)(nt)||!nt)he={next:nt??void 0,error:$e??void 0,complete:it??void 0};else{let ue;this&&K.config.useDeprecatedNextContext?(ue=Object.create(nt),ue.unsubscribe=()=>this.unsubscribe(),he={next:nt.next&&me(nt.next,ue),error:nt.error&&me(nt.error,ue),complete:nt.complete&&me(nt.complete,ue)}):he=nt}this.destination=new lt(he)}}function mt(xe){K.config.useDeprecatedSynchronousErrorHandling?(0,G.O)(xe):(0,pe.h)(xe)}function at(xe,nt){const{onStoppedNotification:$e}=K.config;$e&&z.z.setTimeout(()=>$e(xe,nt))}const Ze={closed:!0,next:ce.Z,error:function Re(xe){throw xe},complete:ce.Z}},7394:(en,Me,Q)=>{Q.d(Me,{Lc:()=>Pe,w0:()=>ce,Nn:()=>ke});var a=Q(4674);const K=(0,Q(2306).d)(Ve=>function(G){Ve(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((de,Ne)=>`${Ne+1}) ${de.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var pe=Q(9039);class ce{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const me of G)me.remove(this);else G.remove(this);const{initialTeardown:de}=this;if((0,a.m)(de))try{de()}catch(me){z=me instanceof K?me.errors:[me]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const me of Ne)try{ut(me)}catch(lt){z=z??[],lt instanceof K?z=[...z,...lt.errors]:z.push(lt)}}if(z)throw new K(z)}}add(z){var G;if(z&&z!==this)if(this.closed)ut(z);else{if(z instanceof ce){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(z)}}_hasParent(z){const{_parentage:G}=this;return G===z||Array.isArray(G)&&G.includes(z)}_addParent(z){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(z),G):G?[G,z]:z}_removeParent(z){const{_parentage:G}=this;G===z?this._parentage=null:Array.isArray(G)&&(0,pe.P)(G,z)}remove(z){const{_finalizers:G}=this;G&&(0,pe.P)(G,z),z instanceof ce&&z._removeParent(this)}}ce.EMPTY=(()=>{const Ve=new ce;return Ve.closed=!0,Ve})();const Pe=ce.EMPTY;function ke(Ve){return Ve instanceof ce||Ve&&"closed"in Ve&&(0,a.m)(Ve.remove)&&(0,a.m)(Ve.add)&&(0,a.m)(Ve.unsubscribe)}function ut(Ve){(0,a.m)(Ve)?Ve():Ve.unsubscribe()}},2653:(en,Me,Q)=>{Q.d(Me,{config:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(en,Me,Q)=>{Q.d(Me,{E:()=>U});const U=new(Q(5592).y)(ce=>ce.complete())},2459:(en,Me,Q)=>{Q.d(Me,{D:()=>nt});var a=Q(4829),U=Q(3093),K=Q(5137),Pe=Q(5592),ut=Q(4971),Ve=Q(4674),z=Q(7103);function de($e,it){if(!$e)throw new Error("Iterable cannot be null");return new Pe.y(he=>{(0,z.f)(he,it,()=>{const ue=$e[Symbol.asyncIterator]();(0,z.f)(he,it,()=>{ue.next().then(Ge=>{Ge.done?he.complete():he.next(Ge.value)})},0,!0)})})}var Ne=Q(8382),me=Q(4026),lt=Q(4266),st=Q(3664),mt=Q(5726),Re=Q(9853),at=Q(541);function nt($e,it){return it?function xe($e,it){if(null!=$e){if((0,Ne.c)($e))return function pe($e,it){return(0,a.Xf)($e).pipe((0,K.R)(it),(0,U.Q)(it))}($e,it);if((0,lt.z)($e))return function ke($e,it){return new Pe.y(he=>{let ue=0;return it.schedule(function(){ue===$e.length?he.complete():(he.next($e[ue++]),he.closed||this.schedule())})})}($e,it);if((0,me.t)($e))return function ce($e,it){return(0,a.Xf)($e).pipe((0,K.R)(it),(0,U.Q)(it))}($e,it);if((0,mt.D)($e))return de($e,it);if((0,st.T)($e))return function G($e,it){return new Pe.y(he=>{let ue;return(0,z.f)(he,it,()=>{ue=$e[ut.h](),(0,z.f)(he,it,()=>{let Ge,Le;try{({value:Ge,done:Le}=ue.next())}catch(Ct){return void he.error(Ct)}Le?he.complete():he.next(Ge)},0,!0)}),()=>(0,Ve.m)(ue?.return)&&ue.return()})}($e,it);if((0,at.L)($e))return function Ze($e,it){return de((0,at.Q)($e),it)}($e,it)}throw(0,Re.z)($e)}($e,it):(0,a.Xf)($e)}},4829:(en,Me,Q)=>{Q.d(Me,{Xf:()=>Ne});var a=Q(7582),U=Q(4266),K=Q(4026),pe=Q(5592),ce=Q(8382),Pe=Q(5726),ke=Q(9853),ut=Q(3664),Ve=Q(541),z=Q(4674),G=Q(3894),de=Q(4850);function Ne(xe){if(xe instanceof pe.y)return xe;if(null!=xe){if((0,ce.c)(xe))return function me(xe){return new pe.y(nt=>{const $e=xe[de.L]();if((0,z.m)($e.subscribe))return $e.subscribe(nt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,U.z)(xe))return function lt(xe){return new pe.y(nt=>{for(let $e=0;$e<xe.length&&!nt.closed;$e++)nt.next(xe[$e]);nt.complete()})}(xe);if((0,K.t)(xe))return function st(xe){return new pe.y(nt=>{xe.then($e=>{nt.closed||(nt.next($e),nt.complete())},$e=>nt.error($e)).then(null,G.h)})}(xe);if((0,Pe.D)(xe))return Re(xe);if((0,ut.T)(xe))return function mt(xe){return new pe.y(nt=>{for(const $e of xe)if(nt.next($e),nt.closed)return;nt.complete()})}(xe);if((0,Ve.L)(xe))return function at(xe){return Re((0,Ve.Q)(xe))}(xe)}throw(0,ke.z)(xe)}function Re(xe){return new pe.y(nt=>{(function Ze(xe,nt){var $e,it,he,ue;return(0,a.mG)(this,void 0,void 0,function*(){try{for($e=(0,a.KL)(xe);!(it=yield $e.next()).done;)if(nt.next(it.value),nt.closed)return}catch(Ge){he={error:Ge}}finally{try{it&&!it.done&&(ue=$e.return)&&(yield ue.call($e))}finally{if(he)throw he.error}}nt.complete()})})(xe,nt).catch($e=>nt.error($e))})}},3019:(en,Me,Q)=>{Q.d(Me,{T:()=>Pe});var a=Q(7537),U=Q(4829),K=Q(6232),pe=Q(9940),ce=Q(2459);function Pe(...ke){const ut=(0,pe.yG)(ke),Ve=(0,pe._6)(ke,1/0),z=ke;return z.length?1===z.length?(0,U.Xf)(z[0]):(0,a.J)(Ve)((0,ce.D)(z,ut)):K.E}},2096:(en,Me,Q)=>{Q.d(Me,{of:()=>K});var a=Q(9940),U=Q(2459);function K(...pe){const ce=(0,a.yG)(pe);return(0,U.D)(pe,ce)}},8251:(en,Me,Q)=>{Q.d(Me,{x:()=>U});var a=Q(305);function U(pe,ce,Pe,ke,ut){return new K(pe,ce,Pe,ke,ut)}class K extends a.Lv{constructor(ce,Pe,ke,ut,Ve,z){super(ce),this.onFinalize=Ve,this.shouldUnsubscribe=z,this._next=Pe?function(G){try{Pe(G)}catch(de){ce.error(de)}}:super._next,this._error=ut?function(G){try{ut(G)}catch(de){ce.error(de)}finally{this.unsubscribe()}}:super._error,this._complete=ke?function(){try{ke()}catch(G){ce.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Pe}=this;super.unsubscribe(),!Pe&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},3997:(en,Me,Q)=>{Q.d(Me,{x:()=>pe});var a=Q(2737),U=Q(9360),K=Q(8251);function pe(Pe,ke=a.y){return Pe=Pe??ce,(0,U.e)((ut,Ve)=>{let z,G=!0;ut.subscribe((0,K.x)(Ve,de=>{const Ne=ke(de);(G||!Pe(z,Ne))&&(G=!1,z=Ne,Ve.next(de))}))})}function ce(Pe,ke){return Pe===ke}},7398:(en,Me,Q)=>{Q.d(Me,{U:()=>K});var a=Q(9360),U=Q(8251);function K(pe,ce){return(0,a.e)((Pe,ke)=>{let ut=0;Pe.subscribe((0,U.x)(ke,Ve=>{ke.next(pe.call(ce,Ve,ut++))}))})}},7537:(en,Me,Q)=>{Q.d(Me,{J:()=>K});var a=Q(1631),U=Q(2737);function K(pe=1/0){return(0,a.z)(U.y,pe)}},1631:(en,Me,Q)=>{Q.d(Me,{z:()=>ut});var a=Q(7398),U=Q(4829),K=Q(9360),pe=Q(7103),ce=Q(8251),ke=Q(4674);function ut(Ve,z,G=1/0){return(0,ke.m)(z)?ut((de,Ne)=>(0,a.U)((me,lt)=>z(de,me,Ne,lt))((0,U.Xf)(Ve(de,Ne))),G):("number"==typeof z&&(G=z),(0,K.e)((de,Ne)=>function Pe(Ve,z,G,de,Ne,me,lt,st){const mt=[];let Re=0,at=0,Ze=!1;const xe=()=>{Ze&&!mt.length&&!Re&&z.complete()},nt=it=>Re<de?$e(it):mt.push(it),$e=it=>{me&&z.next(it),Re++;let he=!1;(0,U.Xf)(G(it,at++)).subscribe((0,ce.x)(z,ue=>{Ne?.(ue),me?nt(ue):z.next(ue)},()=>{he=!0},void 0,()=>{if(he)try{for(Re--;mt.length&&Re<de;){const ue=mt.shift();lt?(0,pe.f)(z,lt,()=>$e(ue)):$e(ue)}xe()}catch(ue){z.error(ue)}}))};return Ve.subscribe((0,ce.x)(z,nt,()=>{Ze=!0,xe()})),()=>{st?.()}}(de,Ne,Ve,G)))}},3093:(en,Me,Q)=>{Q.d(Me,{Q:()=>pe});var a=Q(7103),U=Q(9360),K=Q(8251);function pe(ce,Pe=0){return(0,U.e)((ke,ut)=>{ke.subscribe((0,K.x)(ut,Ve=>(0,a.f)(ut,ce,()=>ut.next(Ve),Pe),()=>(0,a.f)(ut,ce,()=>ut.complete(),Pe),Ve=>(0,a.f)(ut,ce,()=>ut.error(Ve),Pe)))})}},3020:(en,Me,Q)=>{Q.d(Me,{B:()=>ce});var a=Q(4829),U=Q(8645),K=Q(305),pe=Q(9360);function ce(ke={}){const{connector:ut=(()=>new U.x),resetOnError:Ve=!0,resetOnComplete:z=!0,resetOnRefCountZero:G=!0}=ke;return de=>{let Ne,me,lt,st=0,mt=!1,Re=!1;const at=()=>{me?.unsubscribe(),me=void 0},Ze=()=>{at(),Ne=lt=void 0,mt=Re=!1},xe=()=>{const nt=Ne;Ze(),nt?.unsubscribe()};return(0,pe.e)((nt,$e)=>{st++,!Re&&!mt&&at();const it=lt=lt??ut();$e.add(()=>{st--,0===st&&!Re&&!mt&&(me=Pe(xe,G))}),it.subscribe($e),!Ne&&st>0&&(Ne=new K.Hp({next:he=>it.next(he),error:he=>{Re=!0,at(),me=Pe(Ze,Ve,he),it.error(he)},complete:()=>{mt=!0,at(),me=Pe(Ze,z),it.complete()}}),(0,a.Xf)(nt).subscribe(Ne))})(de)}}function Pe(ke,ut,...Ve){if(!0===ut)return void ke();if(!1===ut)return;const z=new K.Hp({next:()=>{z.unsubscribe(),ke()}});return(0,a.Xf)(ut(...Ve)).subscribe(z)}},5137:(en,Me,Q)=>{Q.d(Me,{R:()=>U});var a=Q(9360);function U(K,pe=0){return(0,a.e)((ce,Pe)=>{Pe.add(K.schedule(()=>ce.subscribe(Pe),pe))})}},4664:(en,Me,Q)=>{Q.d(Me,{w:()=>pe});var a=Q(4829),U=Q(9360),K=Q(8251);function pe(ce,Pe){return(0,U.e)((ke,ut)=>{let Ve=null,z=0,G=!1;const de=()=>G&&!Ve&&ut.complete();ke.subscribe((0,K.x)(ut,Ne=>{Ve?.unsubscribe();let me=0;const lt=z++;(0,a.Xf)(ce(Ne,lt)).subscribe(Ve=(0,K.x)(ut,st=>ut.next(Pe?Pe(Ne,st,lt,me++):st),()=>{Ve=null,de()}))},()=>{G=!0,de()}))})}},9397:(en,Me,Q)=>{Q.d(Me,{b:()=>ce});var a=Q(4674),U=Q(9360),K=Q(8251),pe=Q(2737);function ce(Pe,ke,ut){const Ve=(0,a.m)(Pe)||ke||ut?{next:Pe,error:ke,complete:ut}:Pe;return Ve?(0,U.e)((z,G)=>{var de;null===(de=Ve.subscribe)||void 0===de||de.call(Ve);let Ne=!0;z.subscribe((0,K.x)(G,me=>{var lt;null===(lt=Ve.next)||void 0===lt||lt.call(Ve,me),G.next(me)},()=>{var me;Ne=!1,null===(me=Ve.complete)||void 0===me||me.call(Ve),G.complete()},me=>{var lt;Ne=!1,null===(lt=Ve.error)||void 0===lt||lt.call(Ve,me),G.error(me)},()=>{var me,lt;Ne&&(null===(me=Ve.unsubscribe)||void 0===me||me.call(Ve)),null===(lt=Ve.finalize)||void 0===lt||lt.call(Ve)}))}):pe.y}},1954:(en,Me,Q)=>{Q.d(Me,{o:()=>ce});var a=Q(7394);class U extends a.w0{constructor(ke,ut){super()}schedule(ke,ut=0){return this}}const K={setInterval(Pe,ke,...ut){const{delegate:Ve}=K;return Ve?.setInterval?Ve.setInterval(Pe,ke,...ut):setInterval(Pe,ke,...ut)},clearInterval(Pe){const{delegate:ke}=K;return(ke?.clearInterval||clearInterval)(Pe)},delegate:void 0};var pe=Q(9039);class ce extends U{constructor(ke,ut){super(ke,ut),this.scheduler=ke,this.work=ut,this.pending=!1}schedule(ke,ut=0){var Ve;if(this.closed)return this;this.state=ke;const z=this.id,G=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(G,z,ut)),this.pending=!0,this.delay=ut,this.id=null!==(Ve=this.id)&&void 0!==Ve?Ve:this.requestAsyncId(G,this.id,ut),this}requestAsyncId(ke,ut,Ve=0){return K.setInterval(ke.flush.bind(ke,this),Ve)}recycleAsyncId(ke,ut,Ve=0){if(null!=Ve&&this.delay===Ve&&!1===this.pending)return ut;null!=ut&&K.clearInterval(ut)}execute(ke,ut){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(ke,ut);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ke,ut){let z,Ve=!1;try{this.work(ke)}catch(G){Ve=!0,z=G||new Error("Scheduled action threw falsy error")}if(Ve)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:ke,scheduler:ut}=this,{actions:Ve}=ut;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(Ve,this),null!=ke&&(this.id=this.recycleAsyncId(ut,ke,null)),this.delay=null,super.unsubscribe()}}}},2631:(en,Me,Q)=>{Q.d(Me,{v:()=>K});var a=Q(4552);class U{constructor(ce,Pe=U.now){this.schedulerActionCtor=ce,this.now=Pe}schedule(ce,Pe=0,ke){return new this.schedulerActionCtor(this,ce).schedule(ke,Pe)}}U.now=a.l.now;class K extends U{constructor(ce,Pe=U.now){super(ce,Pe),this.actions=[],this._active=!1}flush(ce){const{actions:Pe}=this;if(this._active)return void Pe.push(ce);let ke;this._active=!0;do{if(ke=ce.execute(ce.state,ce.delay))break}while(ce=Pe.shift());if(this._active=!1,ke){for(;ce=Pe.shift();)ce.unsubscribe();throw ke}}}},6321:(en,Me,Q)=>{Q.d(Me,{P:()=>pe,z:()=>K});var a=Q(1954);const K=new(Q(2631).v)(a.o),pe=K},4552:(en,Me,Q)=>{Q.d(Me,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},7599:(en,Me,Q)=>{Q.d(Me,{z:()=>a});const a={setTimeout(U,K,...pe){const{delegate:ce}=a;return ce?.setTimeout?ce.setTimeout(U,K,...pe):setTimeout(U,K,...pe)},clearTimeout(U){const{delegate:K}=a;return(K?.clearTimeout||clearTimeout)(U)},delegate:void 0}},4971:(en,Me,Q)=>{Q.d(Me,{h:()=>U});const U=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(en,Me,Q)=>{Q.d(Me,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(en,Me,Q)=>{Q.d(Me,{_6:()=>Pe,jO:()=>pe,yG:()=>ce});var a=Q(4674),U=Q(671);function K(ke){return ke[ke.length-1]}function pe(ke){return(0,a.m)(K(ke))?ke.pop():void 0}function ce(ke){return(0,U.K)(K(ke))?ke.pop():void 0}function Pe(ke,ut){return"number"==typeof K(ke)?ke.pop():ut}},9039:(en,Me,Q)=>{function a(U,K){if(U){const pe=U.indexOf(K);0<=pe&&U.splice(pe,1)}}Q.d(Me,{P:()=>a})},2306:(en,Me,Q)=>{function a(U){const pe=U(ce=>{Error.call(ce),ce.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}Q.d(Me,{d:()=>a})},1441:(en,Me,Q)=>{Q.d(Me,{O:()=>pe,x:()=>K});var a=Q(2653);let U=null;function K(ce){if(a.config.useDeprecatedSynchronousErrorHandling){const Pe=!U;if(Pe&&(U={errorThrown:!1,error:null}),ce(),Pe){const{errorThrown:ke,error:ut}=U;if(U=null,ke)throw ut}}else ce()}function pe(ce){a.config.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=ce)}},7103:(en,Me,Q)=>{function a(U,K,pe,ce=0,Pe=!1){const ke=K.schedule(function(){pe(),Pe?U.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(U.add(ke),!Pe)return ke}Q.d(Me,{f:()=>a})},2737:(en,Me,Q)=>{function a(U){return U}Q.d(Me,{y:()=>a})},4266:(en,Me,Q)=>{Q.d(Me,{z:()=>a});const a=U=>U&&"number"==typeof U.length&&"function"!=typeof U},5726:(en,Me,Q)=>{Q.d(Me,{D:()=>U});var a=Q(4674);function U(K){return Symbol.asyncIterator&&(0,a.m)(K?.[Symbol.asyncIterator])}},4674:(en,Me,Q)=>{function a(U){return"function"==typeof U}Q.d(Me,{m:()=>a})},8382:(en,Me,Q)=>{Q.d(Me,{c:()=>K});var a=Q(4850),U=Q(4674);function K(pe){return(0,U.m)(pe[a.L])}},3664:(en,Me,Q)=>{Q.d(Me,{T:()=>K});var a=Q(4971),U=Q(4674);function K(pe){return(0,U.m)(pe?.[a.h])}},4026:(en,Me,Q)=>{Q.d(Me,{t:()=>U});var a=Q(4674);function U(K){return(0,a.m)(K?.then)}},541:(en,Me,Q)=>{Q.d(Me,{L:()=>pe,Q:()=>K});var a=Q(7582),U=Q(4674);function K(ce){return(0,a.FC)(this,arguments,function*(){const ke=ce.getReader();try{for(;;){const{value:ut,done:Ve}=yield(0,a.qq)(ke.read());if(Ve)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(ut)}}finally{ke.releaseLock()}})}function pe(ce){return(0,U.m)(ce?.getReader)}},671:(en,Me,Q)=>{Q.d(Me,{K:()=>U});var a=Q(4674);function U(K){return K&&(0,a.m)(K.schedule)}},9360:(en,Me,Q)=>{Q.d(Me,{A:()=>U,e:()=>K});var a=Q(4674);function U(pe){return(0,a.m)(pe?.lift)}function K(pe){return ce=>{if(U(ce))return ce.lift(function(Pe){try{return pe(Pe,this)}catch(ke){this.error(ke)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(en,Me,Q)=>{function a(){}Q.d(Me,{Z:()=>a})},8407:(en,Me,Q)=>{Q.d(Me,{U:()=>K,z:()=>U});var a=Q(2737);function U(...pe){return K(pe)}function K(pe){return 0===pe.length?a.y:1===pe.length?pe[0]:function(Pe){return pe.reduce((ke,ut)=>ut(ke),Pe)}}},3894:(en,Me,Q)=>{Q.d(Me,{h:()=>K});var a=Q(2653),U=Q(7599);function K(pe){U.z.setTimeout(()=>{const{onUnhandledError:ce}=a.config;if(!ce)throw pe;ce(pe)})}},9853:(en,Me,Q)=>{function a(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Q.d(Me,{z:()=>a})},8005:(en,Me,Q)=>{Q.r(Me),Q.d(Me,{__assign:()=>K,__asyncDelegator:()=>Re,__asyncGenerator:()=>mt,__asyncValues:()=>at,__await:()=>st,__awaiter:()=>ut,__classPrivateFieldGet:()=>$e,__classPrivateFieldSet:()=>it,__createBinding:()=>z,__decorate:()=>ce,__exportStar:()=>G,__extends:()=>U,__generator:()=>Ve,__importDefault:()=>nt,__importStar:()=>xe,__makeTemplateObject:()=>Ze,__metadata:()=>ke,__param:()=>Pe,__read:()=>Ne,__rest:()=>pe,__spread:()=>me,__spreadArrays:()=>lt,__values:()=>de});var a=function(he,ue){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ge,Le){Ge.__proto__=Le}||function(Ge,Le){for(var Ct in Le)Le.hasOwnProperty(Ct)&&(Ge[Ct]=Le[Ct])})(he,ue)};function U(he,ue){function Ge(){this.constructor=he}a(he,ue),he.prototype=null===ue?Object.create(ue):(Ge.prototype=ue.prototype,new Ge)}var K=function(){return K=Object.assign||function(ue){for(var Ge,Le=1,Ct=arguments.length;Le<Ct;Le++)for(var ot in Ge=arguments[Le])Object.prototype.hasOwnProperty.call(Ge,ot)&&(ue[ot]=Ge[ot]);return ue},K.apply(this,arguments)};function pe(he,ue){var Ge={};for(var Le in he)Object.prototype.hasOwnProperty.call(he,Le)&&ue.indexOf(Le)<0&&(Ge[Le]=he[Le]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var Ct=0;for(Le=Object.getOwnPropertySymbols(he);Ct<Le.length;Ct++)ue.indexOf(Le[Ct])<0&&Object.prototype.propertyIsEnumerable.call(he,Le[Ct])&&(Ge[Le[Ct]]=he[Le[Ct]])}return Ge}function ce(he,ue,Ge,Le){var Kt,Ct=arguments.length,ot=Ct<3?ue:null===Le?Le=Object.getOwnPropertyDescriptor(ue,Ge):Le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ot=Reflect.decorate(he,ue,Ge,Le);else for(var nn=he.length-1;nn>=0;nn--)(Kt=he[nn])&&(ot=(Ct<3?Kt(ot):Ct>3?Kt(ue,Ge,ot):Kt(ue,Ge))||ot);return Ct>3&&ot&&Object.defineProperty(ue,Ge,ot),ot}function Pe(he,ue){return function(Ge,Le){ue(Ge,Le,he)}}function ke(he,ue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(he,ue)}function ut(he,ue,Ge,Le){return new(Ge||(Ge=Promise))(function(ot,Kt){function nn(fi){try{rn(Le.next(fi))}catch(Se){Kt(Se)}}function un(fi){try{rn(Le.throw(fi))}catch(Se){Kt(Se)}}function rn(fi){fi.done?ot(fi.value):function Ct(ot){return ot instanceof Ge?ot:new Ge(function(Kt){Kt(ot)})}(fi.value).then(nn,un)}rn((Le=Le.apply(he,ue||[])).next())})}function Ve(he,ue){var Le,Ct,ot,Kt,Ge={label:0,sent:function(){if(1&ot[0])throw ot[1];return ot[1]},trys:[],ops:[]};return Kt={next:nn(0),throw:nn(1),return:nn(2)},"function"==typeof Symbol&&(Kt[Symbol.iterator]=function(){return this}),Kt;function nn(rn){return function(fi){return function un(rn){if(Le)throw new TypeError("Generator is already executing.");for(;Ge;)try{if(Le=1,Ct&&(ot=2&rn[0]?Ct.return:rn[0]?Ct.throw||((ot=Ct.return)&&ot.call(Ct),0):Ct.next)&&!(ot=ot.call(Ct,rn[1])).done)return ot;switch(Ct=0,ot&&(rn=[2&rn[0],ot.value]),rn[0]){case 0:case 1:ot=rn;break;case 4:return Ge.label++,{value:rn[1],done:!1};case 5:Ge.label++,Ct=rn[1],rn=[0];continue;case 7:rn=Ge.ops.pop(),Ge.trys.pop();continue;default:if(!(ot=(ot=Ge.trys).length>0&&ot[ot.length-1])&&(6===rn[0]||2===rn[0])){Ge=0;continue}if(3===rn[0]&&(!ot||rn[1]>ot[0]&&rn[1]<ot[3])){Ge.label=rn[1];break}if(6===rn[0]&&Ge.label<ot[1]){Ge.label=ot[1],ot=rn;break}if(ot&&Ge.label<ot[2]){Ge.label=ot[2],Ge.ops.push(rn);break}ot[2]&&Ge.ops.pop(),Ge.trys.pop();continue}rn=ue.call(he,Ge)}catch(fi){rn=[6,fi],Ct=0}finally{Le=ot=0}if(5&rn[0])throw rn[1];return{value:rn[0]?rn[1]:void 0,done:!0}}([rn,fi])}}}function z(he,ue,Ge,Le){void 0===Le&&(Le=Ge),he[Le]=ue[Ge]}function G(he,ue){for(var Ge in he)"default"!==Ge&&!ue.hasOwnProperty(Ge)&&(ue[Ge]=he[Ge])}function de(he){var ue="function"==typeof Symbol&&Symbol.iterator,Ge=ue&&he[ue],Le=0;if(Ge)return Ge.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&Le>=he.length&&(he=void 0),{value:he&&he[Le++],done:!he}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(he,ue){var Ge="function"==typeof Symbol&&he[Symbol.iterator];if(!Ge)return he;var Ct,Kt,Le=Ge.call(he),ot=[];try{for(;(void 0===ue||ue-- >0)&&!(Ct=Le.next()).done;)ot.push(Ct.value)}catch(nn){Kt={error:nn}}finally{try{Ct&&!Ct.done&&(Ge=Le.return)&&Ge.call(Le)}finally{if(Kt)throw Kt.error}}return ot}function me(){for(var he=[],ue=0;ue<arguments.length;ue++)he=he.concat(Ne(arguments[ue]));return he}function lt(){for(var he=0,ue=0,Ge=arguments.length;ue<Ge;ue++)he+=arguments[ue].length;var Le=Array(he),Ct=0;for(ue=0;ue<Ge;ue++)for(var ot=arguments[ue],Kt=0,nn=ot.length;Kt<nn;Kt++,Ct++)Le[Ct]=ot[Kt];return Le}function st(he){return this instanceof st?(this.v=he,this):new st(he)}function mt(he,ue,Ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ct,Le=Ge.apply(he,ue||[]),ot=[];return Ct={},Kt("next"),Kt("throw"),Kt("return"),Ct[Symbol.asyncIterator]=function(){return this},Ct;function Kt(Ce){Le[Ce]&&(Ct[Ce]=function(He){return new Promise(function(je,ct){ot.push([Ce,He,je,ct])>1||nn(Ce,He)})})}function nn(Ce,He){try{!function un(Ce){Ce.value instanceof st?Promise.resolve(Ce.value.v).then(rn,fi):Se(ot[0][2],Ce)}(Le[Ce](He))}catch(je){Se(ot[0][3],je)}}function rn(Ce){nn("next",Ce)}function fi(Ce){nn("throw",Ce)}function Se(Ce,He){Ce(He),ot.shift(),ot.length&&nn(ot[0][0],ot[0][1])}}function Re(he){var ue,Ge;return ue={},Le("next"),Le("throw",function(Ct){throw Ct}),Le("return"),ue[Symbol.iterator]=function(){return this},ue;function Le(Ct,ot){ue[Ct]=he[Ct]?function(Kt){return(Ge=!Ge)?{value:st(he[Ct](Kt)),done:"return"===Ct}:ot?ot(Kt):Kt}:ot}}function at(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge,ue=he[Symbol.asyncIterator];return ue?ue.call(he):(he=de(he),Ge={},Le("next"),Le("throw"),Le("return"),Ge[Symbol.asyncIterator]=function(){return this},Ge);function Le(ot){Ge[ot]=he[ot]&&function(Kt){return new Promise(function(nn,un){!function Ct(ot,Kt,nn,un){Promise.resolve(un).then(function(rn){ot({value:rn,done:nn})},Kt)}(nn,un,(Kt=he[ot](Kt)).done,Kt.value)})}}}function Ze(he,ue){return Object.defineProperty?Object.defineProperty(he,"raw",{value:ue}):he.raw=ue,he}function xe(he){if(he&&he.__esModule)return he;var ue={};if(null!=he)for(var Ge in he)Object.hasOwnProperty.call(he,Ge)&&(ue[Ge]=he[Ge]);return ue.default=he,ue}function nt(he){return he&&he.__esModule?he:{default:he}}function $e(he,ue){if(!ue.has(he))throw new TypeError("attempted to get private field on non-instance");return ue.get(he)}function it(he,ue,Ge){if(!ue.has(he))throw new TypeError("attempted to set private field on non-instance");return ue.set(he,Ge),Ge}},5879:(en,Me,Q)=>{Q.d(Me,{$8M:()=>hs,$WT:()=>Sa,$Z:()=>RO,AFp:()=>eS,ALo:()=>Vx,AaK:()=>de,AsE:()=>zb,BQk:()=>Op,CHM:()=>Is,CRH:()=>rM,DdM:()=>Fx,Dn7:()=>ug,EEQ:()=>y,EJc:()=>jv,EiD:()=>HT,EpF:()=>jC,F$t:()=>$C,F4k:()=>Qm,FYo:()=>tC,FiY:()=>Je,Gf:()=>$p,GfV:()=>cb,GkF:()=>Pb,Gpc:()=>lt,GuJ:()=>Gi,HDt:()=>cE,Hsn:()=>qC,Ikx:()=>Pd,JOm:()=>_h,JVY:()=>Vk,JZr:()=>Ze,Jf7:()=>yO,KtG:()=>xu,L6k:()=>LT,LAX:()=>jk,LFG:()=>Dt,LSH:()=>ou,Lbi:()=>Gw,Lck:()=>FD,MAs:()=>VC,MMx:()=>Tv,NdJ:()=>Rb,O4$:()=>ma,Ojb:()=>Zw,OlP:()=>nr,Oqu:()=>ax,P3R:()=>Ao,PXZ:()=>zv,Q6J:()=>Ap,QGY:()=>ov,QbO:()=>Ww,Qsj:()=>nC,R0b:()=>Qs,RDi:()=>OT,Rgc:()=>dg,SBq:()=>Pm,Sil:()=>_0,Suo:()=>Xx,TTD:()=>zl,TgZ:()=>no,Tol:()=>mv,Udp:()=>nx,VKq:()=>lg,VuI:()=>oA,W1O:()=>p0,WLB:()=>$D,X6Q:()=>_E,XFs:()=>sn,Xpm:()=>vo,Xq5:()=>MC,Xts:()=>E_,Y36:()=>Rm,YKP:()=>Ox,YNc:()=>GS,Yjl:()=>tc,Yz7:()=>fn,Z0I:()=>cn,ZZ4:()=>Zv,_Bn:()=>Iv,_UZ:()=>BC,_Vd:()=>ab,_c5:()=>SE,_uU:()=>sx,aQg:()=>IE,c2e:()=>aE,cJS:()=>Dn,cg1:()=>mc,dDg:()=>tR,dqk:()=>Ee,eBb:()=>Bk,eFA:()=>VM,eJc:()=>qp,ekj:()=>ix,eoX:()=>LM,f3M:()=>Vt,g9A:()=>Xy,h0i:()=>Ld,hGG:()=>k0,hij:()=>jb,iGM:()=>h0,ifc:()=>_t,ip1:()=>Vv,jDz:()=>If,kL8:()=>tg,kcU:()=>us,lG2:()=>vs,lcZ:()=>Bx,lqb:()=>Nu,lri:()=>b0,mCW:()=>x_,n5z:()=>md,n_E:()=>Hp,oAB:()=>er,oJD:()=>dt,oxw:()=>HC,pB0:()=>zk,q3G:()=>Mm,q4F:()=>lO,qFp:()=>bR,qLn:()=>Sd,qOj:()=>Ip,qZA:()=>iv,qzn:()=>bh,rWj:()=>Ps,rg0:()=>xo,s9C:()=>cv,sBO:()=>qv,s_b:()=>Ov,soG:()=>Kp,tb:()=>xg,tp0:()=>Nt,uIk:()=>zm,vHH:()=>xe,vpe:()=>Dd,wAp:()=>ng,xi3:()=>jx,xp6:()=>OO,ynx:()=>rv,z2F:()=>Wu,z3N:()=>Id,zSh:()=>jw,zs3:()=>su});var a=Q(8645),U=Q(7394),K=Q(5592),pe=Q(3019),ce=Q(5619),Pe=Q(2096),ke=Q(3020),ut=Q(4664),Ve=Q(3997);function z(s){for(let c in s)if(s[c]===z)return c;throw Error("Could not find renamed property on target object.")}function G(s,c){for(const d in c)c.hasOwnProperty(d)&&!s.hasOwnProperty(d)&&(s[d]=c[d])}function de(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(de).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const c=s.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function Ne(s,c){return null==s||""===s?null===c?"":c:null==c||""===c?s:s+" "+c}const me=z({__forward_ref__:z});function lt(s){return s.__forward_ref__=lt,s.toString=function(){return de(this())},s}function st(s){return mt(s)?s():s}function mt(s){return"function"==typeof s&&s.hasOwnProperty(me)&&s.__forward_ref__===lt}function Re(s){return s&&!!s.\u0275providers}const Ze="https://g.co/ng/security#xss";class xe extends Error{constructor(c,d){super(function nt(s,c){return`NG0${Math.abs(s)}${c?": "+c:""}`}(c,d)),this.code=c}}function $e(s){return"string"==typeof s?s:null==s?"":String(s)}function Le(s,c){throw new xe(-201,!1)}function Mt(s,c){null==s&&function bt(s,c,d,p){throw new Error(`ASSERTION ERROR: ${s}`+(null==p?"":` [Expected=> ${d} ${p} ${c} <=Actual]`))}(c,s,null,"!=")}function fn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Dn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ut(s){return Fn(s,Mi)||Fn(s,zi)}function cn(s){return null!==Ut(s)}function Fn(s,c){return s.hasOwnProperty(c)?s[c]:null}function wi(s){return s&&(s.hasOwnProperty(ni)||s.hasOwnProperty(Po))?s[ni]:null}const Mi=z({\u0275prov:z}),ni=z({\u0275inj:z}),zi=z({ngInjectableDef:z}),Po=z({ngInjectorDef:z});var sn=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(sn||{});let Yt;function zt(s){const c=Yt;return Yt=s,c}function Te(s,c,d){const p=Ut(s);return p&&"root"==p.providedIn?void 0===p.value?p.value=p.factory():p.value:d&sn.Optional?null:void 0!==c?c:void Le(de(s))}const Ee=globalThis,pi={},xi="__NG_DI_FLAG__",_r="ngTempTokenPath",fe=/\n/gm,J="__source";let te;function Ae(s){const c=te;return te=s,c}function Qe(s,c=sn.Default){if(void 0===te)throw new xe(-203,!1);return null===te?Te(s,void 0,c):te.get(s,c&sn.Optional?null:void 0,c)}function Dt(s,c=sn.Default){return(function Qt(){return Yt}()||Qe)(st(s),c)}function Vt(s,c=sn.Default){return Dt(s,Jn(c))}function Jn(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function xn(s){const c=[];for(let d=0;d<s.length;d++){const p=st(s[d]);if(Array.isArray(p)){if(0===p.length)throw new xe(900,!1);let _,b=sn.Default;for(let T=0;T<p.length;T++){const D=p[T],P=Rn(D);"number"==typeof P?-1===P?_=D.token:b|=P:_=D}c.push(Dt(_,b))}else c.push(Dt(p))}return c}function ai(s,c){return s[xi]=c,s.prototype[xi]=c,s}function Rn(s){return s[xi]}function Xe(s){return{toString:s}.toString()}var ze=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(ze||{}),_t=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(_t||{});const Zt={},Pt=[],kn=z({\u0275cmp:z}),ri=z({\u0275dir:z}),Gi=z({\u0275pipe:z}),Zi=z({\u0275mod:z}),Ji=z({\u0275fac:z}),Ur=z({__NG_ELEMENT_ID__:z}),go=z({__NG_ENV_ID__:z});function Ta(s,c,d){let p=s.length;for(;;){const _=s.indexOf(c,d);if(-1===_)return _;if(0===_||s.charCodeAt(_-1)<=32){const b=c.length;if(_+b===p||s.charCodeAt(_+b)<=32)return _}d=_+1}}function Ko(s,c,d){let p=0;for(;p<d.length;){const _=d[p];if("number"==typeof _){if(0!==_)break;p++;const b=d[p++],T=d[p++],D=d[p++];s.setAttribute(c,T,D,b)}else{const b=_,T=d[++p];_s(b)?s.setProperty(c,b,T):s.setAttribute(c,b,T),p++}}return p}function cs(s){return 3===s||4===s||6===s}function _s(s){return 64===s.charCodeAt(0)}function Yo(s,c){if(null!==c&&0!==c.length)if(null===s||0===s.length)s=c.slice();else{let d=-1;for(let p=0;p<c.length;p++){const _=c[p];"number"==typeof _?d=_:0===d||qn(s,d,_,null,-1===d||2===d?c[++p]:null)}}return s}function qn(s,c,d,p,_){let b=0,T=s.length;if(-1===c)T=-1;else for(;b<s.length;){const D=s[b++];if("number"==typeof D){if(D===c){T=-1;break}if(D>c){T=b-1;break}}}for(;b<s.length;){const D=s[b];if("number"==typeof D)break;if(D===d){if(null===p)return void(null!==_&&(s[b+1]=_));if(p===s[b+1])return void(s[b+2]=_)}b++,null!==p&&b++,null!==_&&b++}-1!==T&&(s.splice(T,0,c),b=T+1),s.splice(b++,0,d),null!==p&&s.splice(b++,0,p),null!==_&&s.splice(b++,0,_)}const Ai="ng-template";function _o(s,c,d){let p=0,_=!0;for(;p<s.length;){let b=s[p++];if("string"==typeof b&&_){const T=s[p++];if(d&&"class"===b&&-1!==Ta(T.toLowerCase(),c,0))return!0}else{if(1===b){for(;p<s.length&&"string"==typeof(b=s[p++]);)if(b.toLowerCase()===c)return!0;return!1}"number"==typeof b&&(_=!1)}}return!1}function ki(s){return 4===s.type&&s.value!==Ai}function bc(s,c,d){return c===(4!==s.type||d?s.value:Ai)}function Xa(s,c,d){let p=4;const _=s.attrs||[],b=function na(s){for(let c=0;c<s.length;c++)if(cs(s[c]))return c;return s.length}(_);let T=!1;for(let D=0;D<c.length;D++){const P=c[D];if("number"!=typeof P){if(!T)if(4&p){if(p=2|1&p,""!==P&&!bc(s,P,d)||""===P&&1===c.length){if($r(p))return!1;T=!0}}else{const B=8&p?P:c[++D];if(8&p&&null!==s.attrs){if(!_o(s.attrs,B,d)){if($r(p))return!1;T=!0}continue}const se=Ns(8&p?"class":P,_,ki(s),d);if(-1===se){if($r(p))return!1;T=!0;continue}if(""!==B){let Ie;Ie=se>b?"":_[se+1].toLowerCase();const Be=8&p?Ie:null;if(Be&&-1!==Ta(Be,B,0)||2&p&&B!==Ie){if($r(p))return!1;T=!0}}}}else{if(!T&&!$r(p)&&!$r(P))return!1;if(T&&$r(P))continue;T=!1,p=P|1&p}}return $r(p)||T}function $r(s){return 0==(1&s)}function Ns(s,c,d,p){if(null===c)return-1;let _=0;if(p||!d){let b=!1;for(;_<c.length;){const T=c[_];if(T===s)return _;if(3===T||6===T)b=!0;else{if(1===T||2===T){let D=c[++_];for(;"string"==typeof D;)D=c[++_];continue}if(4===T)break;if(0===T){_+=4;continue}}_+=b?1:2}return-1}return function wc(s,c){let d=s.indexOf(4);if(d>-1)for(d++;d<s.length;){const p=s[d];if("number"==typeof p)return-1;if(p===c)return d;d++}return-1}(c,s)}function Ja(s,c,d=!1){for(let p=0;p<c.length;p++)if(Xa(s,c[p],d))return!0;return!1}function Cc(s,c){e:for(let d=0;d<c.length;d++){const p=c[d];if(s.length===p.length){for(let _=0;_<s.length;_++)if(s[_]!==p[_])continue e;return!0}}return!1}function Fs(s,c){return s?":not("+c.trim()+")":c}function ia(s){let c=s[0],d=1,p=2,_="",b=!1;for(;d<s.length;){let T=s[d];if("string"==typeof T)if(2&p){const D=s[++d];_+="["+T+(D.length>0?'="'+D+'"':"")+"]"}else 8&p?_+="."+T:4&p&&(_+=" "+T);else""!==_&&!$r(T)&&(c+=Fs(b,_),_=""),p=T,b=b||!$r(p);d++}return""!==_&&(c+=Fs(b,_)),c}function vo(s){return Xe(()=>{const c=Ec(s),d={...c,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===ze.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||_t.Emulated,styles:s.styles||Pt,_:null,schemas:s.schemas||null,tView:null,id:""};Ic(d);const p=s.dependencies;return d.directiveDefs=No(p,!1),d.pipeDefs=No(p,!0),d.id=function Tc(s){let c=0;const d=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const _ of d)c=Math.imul(31,c)+_.charCodeAt(0)<<0;return c+=2147483648,"c"+c}(d),d})}function ec(s){return jn(s)||Ui(s)}function ra(s){return null!==s}function er(s){return Xe(()=>({type:s.type,bootstrap:s.bootstrap||Pt,declarations:s.declarations||Pt,imports:s.imports||Pt,exports:s.exports||Pt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function oa(s,c){if(null==s)return Zt;const d={};for(const p in s)if(s.hasOwnProperty(p)){let _=s[p],b=_;Array.isArray(_)&&(b=_[1],_=_[0]),d[_]=p,c&&(c[_]=b)}return d}function vs(s){return Xe(()=>{const c=Ec(s);return Ic(c),c})}function tc(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function jn(s){return s[kn]||null}function Ui(s){return s[ri]||null}function br(s){return s[Gi]||null}function Sa(s){const c=jn(s)||Ui(s)||br(s);return null!==c&&c.standalone}function wr(s,c){const d=s[Zi]||null;if(!d&&!0===c)throw new Error(`Type ${de(s)} does not have '\u0275mod' property.`);return d}function Ec(s){const c={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputTransforms:null,inputConfig:s.inputs||Zt,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||Pt,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:oa(s.inputs,c),outputs:oa(s.outputs)}}function Ic(s){s.features?.forEach(c=>c(s))}function No(s,c){if(!s)return null;const d=c?br:ec;return()=>("function"==typeof s?s():s).map(p=>d(p)).filter(ra)}const Oi=0,Et=1,En=2,Ei=3,so=4,Us=5,Bn=6,Qo=7,Pi=8,sa=9,Xo=10,on=11,qr=12,Ll=13,Cr=14,xr=15,ys=16,Fo=17,Er=18,Ir=19,aa=20,Da=21,Vi=22,Lo=23,Gr=24,ei=25,gu=1,Ma=2,kr=7,Wr=9,Hi=11;function Zr(s){return Array.isArray(s)&&"object"==typeof s[gu]}function Tr(s){return Array.isArray(s)&&!0===s[gu]}function al(s){return 0!=(4&s.flags)}function Or(s){return s.componentOffset>-1}function Kr(s){return 1==(1&s.flags)}function di(s){return!!s.template}function la(s){return 0!=(512&s[En])}function Vs(s,c){return s.hasOwnProperty(Ji)?s[Ji]:null}let ur=null,ka=!1;function Yr(s){const c=ur;return ur=s,c}const Oc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function oc(s){if(!Pc(s)||s.dirty){if(!s.producerMustRecompute(s)&&!Bo(s))return void(s.dirty=!1);s.producerRecomputeValue(s),s.dirty=!1}}function ha(s){s.dirty=!0,function jl(s){if(void 0===s.liveConsumerNode)return;const c=ka;ka=!0;try{for(const d of s.liveConsumerNode)d.dirty||ha(d)}finally{ka=c}}(s),s.consumerMarkedDirty?.(s)}function cl(s){return s&&(s.nextProducerIndex=0),Yr(s)}function yi(s,c){if(Yr(c),s&&void 0!==s.producerNode&&void 0!==s.producerIndexOfThis&&void 0!==s.producerLastReadVersion){if(Pc(s))for(let d=s.nextProducerIndex;d<s.producerNode.length;d++)Jo(s.producerNode[d],s.producerIndexOfThis[d]);for(;s.producerNode.length>s.nextProducerIndex;)s.producerNode.pop(),s.producerLastReadVersion.pop(),s.producerIndexOfThis.pop()}}function Bo(s){wo(s);for(let c=0;c<s.producerNode.length;c++){const d=s.producerNode[c],p=s.producerLastReadVersion[c];if(p!==d.version||(oc(d),p!==d.version))return!0}return!1}function Oa(s){if(wo(s),Pc(s))for(let c=0;c<s.producerNode.length;c++)Jo(s.producerNode[c],s.producerIndexOfThis[c]);s.producerNode.length=s.producerLastReadVersion.length=s.producerIndexOfThis.length=0,s.liveConsumerNode&&(s.liveConsumerNode.length=s.liveConsumerIndexOfThis.length=0)}function Jo(s,c){if(function js(s){s.liveConsumerNode??=[],s.liveConsumerIndexOfThis??=[]}(s),wo(s),1===s.liveConsumerNode.length)for(let p=0;p<s.producerNode.length;p++)Jo(s.producerNode[p],s.producerIndexOfThis[p]);const d=s.liveConsumerNode.length-1;if(s.liveConsumerNode[c]=s.liveConsumerNode[d],s.liveConsumerIndexOfThis[c]=s.liveConsumerIndexOfThis[d],s.liveConsumerNode.length--,s.liveConsumerIndexOfThis.length--,c<s.liveConsumerNode.length){const p=s.liveConsumerIndexOfThis[c],_=s.liveConsumerNode[c];wo(_),_.producerIndexOfThis[p]=c}}function Pc(s){return s.consumerIsAlwaysLive||(s?.liveConsumerNode?.length??0)>0}function wo(s){s.producerNode??=[],s.producerIndexOfThis??=[],s.producerLastReadVersion??=[]}let ee=null;function xo(s){const c=Yr(null);try{return s()}finally{Yr(c)}}const td=()=>{},zh=(()=>({...Oc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:s=>{s.schedule(s.ref)},hasRun:!1,cleanupFn:td}))();class Hh{constructor(c,d,p){this.previousValue=c,this.currentValue=d,this.firstChange=p}isFirstChange(){return this.firstChange}}function zl(){return Hl}function Hl(s){return s.type.prototype.ngOnChanges&&(s.setInput=Cs),nd}function nd(){const s=ul(this),c=s?.current;if(c){const d=s.previous;if(d===Zt)s.previous=c;else for(let p in c)d[p]=c[p];s.current=null,this.ngOnChanges(c)}}function Cs(s,c,d,p){const _=this.declaredInputs[d],b=ul(s)||function id(s,c){return s[Fc]=c}(s,{previous:Zt,current:null}),T=b.current||(b.current={}),D=b.previous,P=D[_];T[_]=new Hh(P&&P.currentValue,c,D===Zt),s[p]=c}zl.ngInherit=!0;const Fc="__ngSimpleChanges__";function ul(s){return s[Fc]||null}const xs=function(s,c,d){},Xd="svg";function Ii(s){for(;Array.isArray(s);)s=s[Oi];return s}function Ra(s,c){return Ii(c[s])}function jo(s,c){return Ii(c[s.index])}function Jd(s,c){return s.data[c]}function hl(s,c){return s[c]}function Ki(s,c){const d=c[s];return Zr(d)?d:d[Oi]}function fl(s,c){return null==c?null:s[c]}function nh(s){s[Fo]=0}function Lc(s){1024&s[En]||(s[En]|=1024,Vr(s,1))}function $h(s){1024&s[En]&&(s[En]&=-1025,Vr(s,-1))}function Vr(s,c){let d=s[Ei];if(null===d)return;d[Us]+=c;let p=d;for(d=d[Ei];null!==d&&(1===c&&1===p[Us]||-1===c&&0===p[Us]);)d[Us]+=c,p=d,d=d[Ei]}const In={lFrame:ls(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Wi(){return In.bindingsEnabled}function Es(){return null!==In.skipHydrationRootTNode}function pt(){return In.lFrame.lView}function ii(){return In.lFrame.tView}function Is(s){return In.lFrame.contextLView=s,s[Pi]}function xu(s){return In.lFrame.contextLView=null,s}function Io(){let s=od();for(;null!==s&&64===s.type;)s=s.parent;return s}function od(){return In.lFrame.currentTNode}function So(s,c){const d=In.lFrame;d.currentTNode=s,d.isParent=c}function Yi(){return In.lFrame.isParent}function ao(){In.lFrame.isParent=!1}function Qi(){const s=In.lFrame;let c=s.bindingRootIndex;return-1===c&&(c=s.bindingRootIndex=s.tView.bindingStartIndex),c}function Xr(){return In.lFrame.bindingIndex++}function Jr(s){const c=In.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+s,d}function sd(s,c){const d=In.lFrame;d.bindingIndex=d.bindingRootIndex=s,Eu(c)}function Eu(s){In.lFrame.currentDirectiveIndex=s}function oh(){return In.lFrame.currentQueryIndex}function pl(s){In.lFrame.currentQueryIndex=s}function sh(s){const c=s[Et];return 2===c.type?c.declTNode:1===c.type?s[Bn]:null}function Na(s,c,d){if(d&sn.SkipSelf){let _=c,b=s;for(;!(_=_.parent,null!==_||d&sn.Host||(_=sh(b),null===_||(b=b[Cr],10&_.type))););if(null===_)return!1;c=_,s=b}const p=In.lFrame=Iu();return p.currentTNode=c,p.lView=s,!0}function ql(s){const c=Iu(),d=s[Et];In.lFrame=c,c.currentTNode=d.firstChild,c.lView=s,c.tView=d,c.contextLView=s,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function Iu(){const s=In.lFrame,c=null===s?null:s.child;return null===c?ls(s):c}function ls(s){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=c),c}function ml(){const s=In.lFrame;return In.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const cc=ml;function lc(){const s=ml();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ts(){return In.lFrame.selectedIndex}function pa(s){In.lFrame.selectedIndex=s}function sr(){const s=In.lFrame;return Jd(s.tView,s.selectedIndex)}function ma(){In.lFrame.currentNamespace=Xd}function us(){!function zn(){In.lFrame.currentNamespace=null}()}let Do=!0;function Wl(){return Do}function dc(s){Do=s}function Fa(s,c){for(let d=c.directiveStart,p=c.directiveEnd;d<p;d++){const b=s.data[d].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:D,ngAfterViewInit:P,ngAfterViewChecked:B,ngOnDestroy:W}=b;T&&(s.contentHooks??=[]).push(-d,T),D&&((s.contentHooks??=[]).push(d,D),(s.contentCheckHooks??=[]).push(d,D)),P&&(s.viewHooks??=[]).push(-d,P),B&&((s.viewHooks??=[]).push(d,B),(s.viewCheckHooks??=[]).push(d,B)),null!=W&&(s.destroyHooks??=[]).push(d,W)}}function jr(s,c,d){cr(s,c,3,d)}function Bc(s,c,d,p){(3&s[En])===d&&cr(s,c,d,p)}function Nr(s,c){let d=s[En];(3&d)===c&&(d&=8191,d+=1,s[En]=d)}function cr(s,c,d,p){const b=p??-1,T=c.length-1;let D=0;for(let P=void 0!==p?65535&s[Fo]:0;P<T;P++)if("number"==typeof c[P+1]){if(D=c[P],null!=p&&D>=p)break}else c[P]<0&&(s[Fo]+=65536),(D<b||-1==b)&&(tp(s,d,c,P),s[Fo]=(4294901760&s[Fo])+P+2),P++}function tr(s,c){xs(4,s,c);const d=Yr(null);try{c.call(s)}finally{Yr(d),xs(5,s,c)}}function tp(s,c,d,p){const _=d[p]<0,b=d[p+1],D=s[_?-d[p]:d[p]];_?s[En]>>13<s[Fo]>>16&&(3&s[En])===c&&(s[En]+=8192,tr(D,b)):tr(D,b)}const Ts=-1;class ad{constructor(c,d,p){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=p}}function jc(s){return s!==Ts}function zc(s){return 32767&s}function gl(s,c){let d=function dd(s){return s>>16}(s),p=c;for(;d>0;)p=p[Cr],d--;return p}let Tu=!0;function ds(s){const c=Tu;return Tu=s,c}const Kh=255,lh=5;let Yh=0;const zo={};function $s(s,c){const d=Su(s,c);if(-1!==d)return d;const p=c[Et];p.firstCreatePass&&(s.injectorIndex=c.length,Kl(p.data,s),Kl(c,null),Kl(p.blueprint,null));const _=Yl(s,c),b=s.injectorIndex;if(jc(_)){const T=zc(_),D=gl(_,c),P=D[Et].data;for(let B=0;B<8;B++)c[b+B]=D[T+B]|P[T+B]}return c[b+8]=_,b}function Kl(s,c){s.push(0,0,0,0,0,0,0,0,c)}function Su(s,c){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===c[s.injectorIndex+8]?-1:s.injectorIndex}function Yl(s,c){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let d=0,p=null,_=c;for(;null!==_;){if(p=rp(_),null===p)return Ts;if(d++,_=_[Cr],-1!==p.injectorIndex)return p.injectorIndex|d<<16}return Ts}function Ql(s,c,d){!function hd(s,c,d){let p;"string"==typeof d?p=d.charCodeAt(0)||0:d.hasOwnProperty(Ur)&&(p=d[Ur]),null==p&&(p=d[Ur]=Yh++);const _=p&Kh;c.data[s+(_>>lh)]|=1<<_}(s,c,d)}function Xl(s,c,d){if(d&sn.Optional||void 0!==s)return s;Le()}function Jl(s,c,d,p){if(d&sn.Optional&&void 0===p&&(p=null),!(d&(sn.Self|sn.Host))){const _=s[sa],b=zt(void 0);try{return _?_.get(c,p,d&sn.Optional):Te(c,p,d&sn.Optional)}finally{zt(b)}}return Xl(p,0,d)}function qs(s,c,d,p=sn.Default,_){if(null!==s){if(2048&c[En]&&!(p&sn.Self)){const T=function gd(s,c,d,p,_){let b=s,T=c;for(;null!==b&&null!==T&&2048&T[En]&&!(512&T[En]);){const D=Ss(b,T,d,p|sn.Self,zo);if(D!==zo)return D;let P=b.parent;if(!P){const B=T[aa];if(B){const W=B.get(d,zo,p);if(W!==zo)return W}P=rp(T),T=T[Cr]}b=P}return _}(s,c,d,p,zo);if(T!==zo)return T}const b=Ss(s,c,d,p,zo);if(b!==zo)return b}return Jl(c,d,p,_)}function Ss(s,c,d,p,_){const b=function uh(s){if("string"==typeof s)return s.charCodeAt(0)||0;const c=s.hasOwnProperty(Ur)?s[Ur]:void 0;return"number"==typeof c?c>=0?c&Kh:hc:c}(d);if("function"==typeof b){if(!Na(c,s,p))return p&sn.Host?Xl(_,0,p):Jl(c,d,p,_);try{let T;if(T=b(p),null!=T||p&sn.Optional)return T;Le()}finally{cc()}}else if("number"==typeof b){let T=null,D=Su(s,c),P=Ts,B=p&sn.Host?c[xr][Bn]:null;for((-1===D||p&sn.SkipSelf)&&(P=-1===D?Yl(s,c):c[D+8],P!==Ts&&_l(p,!1)?(T=c[Et],D=zc(P),c=gl(P,c)):D=-1);-1!==D;){const W=c[Et];if(dh(b,D,W.data)){const se=ip(D,c,d,T,p,B);if(se!==zo)return se}P=c[D+8],P!==Ts&&_l(p,c[Et].data[D+8]===B)&&dh(b,D,c)?(T=W,D=zc(P),c=gl(P,c)):D=-1}}return _}function ip(s,c,d,p,_,b){const T=c[Et],D=T.data[s+8],W=pd(D,T,d,null==p?Or(D)&&Tu:p!=T&&0!=(3&D.type),_&sn.Host&&b===D);return null!==W?La(c,T,W,D):zo}function pd(s,c,d,p,_){const b=s.providerIndexes,T=c.data,D=1048575&b,P=s.directiveStart,W=b>>20,Ie=_?D+W:s.directiveEnd;for(let Be=p?D:D+W;Be<Ie;Be++){const ft=T[Be];if(Be<P&&d===ft||Be>=P&&ft.type===d)return Be}if(_){const Be=T[P];if(Be&&di(Be)&&Be.type===d)return P}return null}function La(s,c,d,p){let _=s[d];const b=c.data;if(function vm(s){return s instanceof ad}(_)){const T=_;T.resolving&&function he(s,c){const d=c?`. Dependency path: ${c.join(" > ")} > ${s}`:"";throw new xe(-200,`Circular dependency in DI detected for ${s}${d}`)}(function it(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():$e(s)}(b[d]));const D=ds(T.canSeeViewProviders);T.resolving=!0;const B=T.injectImpl?zt(T.injectImpl):null;Na(s,p,sn.Default);try{_=s[d]=T.factory(void 0,b,s,p),c.firstCreatePass&&d>=p.directiveStart&&function ci(s,c,d){const{ngOnChanges:p,ngOnInit:_,ngDoCheck:b}=c.type.prototype;if(p){const T=Hl(c);(d.preOrderHooks??=[]).push(s,T),(d.preOrderCheckHooks??=[]).push(s,T)}_&&(d.preOrderHooks??=[]).push(0-s,_),b&&((d.preOrderHooks??=[]).push(s,b),(d.preOrderCheckHooks??=[]).push(s,b))}(d,b[d],c)}finally{null!==B&&zt(B),ds(D),T.resolving=!1,cc()}}return _}function dh(s,c,d){return!!(d[c+(s>>lh)]&1<<s)}function _l(s,c){return!(s&sn.Self||s&sn.Host&&c)}class Ri{constructor(c,d){this._tNode=c,this._lView=d}get(c,d,p){return qs(this._tNode,this._lView,c,Jn(p),d)}}function hc(){return new Ri(Io(),pt())}function md(s){return Xe(()=>{const c=s.prototype.constructor,d=c[Ji]||Ti(c),p=Object.prototype;let _=Object.getPrototypeOf(s.prototype).constructor;for(;_&&_!==p;){const b=_[Ji]||Ti(_);if(b&&b!==d)return b;_=Object.getPrototypeOf(_)}return b=>new b})}function Ti(s){return mt(s)?()=>{const c=Ti(st(s));return c&&c()}:Vs(s)}function rp(s){const c=s[Et],d=c.type;return 2===d?c.declTNode:1===d?s[Bn]:null}function hs(s){return function fd(s,c){if("class"===c)return s.classes;if("style"===c)return s.styles;const d=s.attrs;if(d){const p=d.length;let _=0;for(;_<p;){const b=d[_];if(cs(b))break;if(0===b)_+=2;else if("number"==typeof b)for(_++;_<p&&"string"==typeof d[_];)_++;else{if(b===c)return d[_+1];_+=2}}}return null}(Io(),s)}const Ua="__parameters__";function H(s,c,d){return Xe(()=>{const p=function F(s){return function(...d){if(s){const p=s(...d);for(const _ in p)this[_]=p[_]}}}(c);function _(...b){if(this instanceof _)return p.apply(this,b),this;const T=new _(...b);return D.annotation=T,D;function D(P,B,W){const se=P.hasOwnProperty(Ua)?P[Ua]:Object.defineProperty(P,Ua,{value:[]})[Ua];for(;se.length<=W;)se.push(null);return(se[W]=se[W]||[]).push(T),P}}return d&&(_.prototype=Object.create(d.prototype)),_.prototype.ngMetadataName=s,_.annotationCls=_,_})}function yl(s,c){s.forEach(d=>Array.isArray(d)?yl(d,c):c(d))}function a_(s,c,d){c>=s.length?s.push(d):s.splice(c,0,d)}function _d(s,c){return c>=s.length-1?s.pop():s.splice(c,1)[0]}function vd(s,c){const d=[];for(let p=0;p<s;p++)d.push(c);return d}function Gs(s,c,d){let p=eu(s,c);return p>=0?s[1|p]=d:(p=~p,function ym(s,c,d,p){let _=s.length;if(_==c)s.push(d,p);else if(1===_)s.push(p,s[0]),s[0]=d;else{for(_--,s.push(s[_-1],s[_]);_>c;)s[_]=s[_-2],_--;s[c]=d,s[c+1]=p}}(s,p,c,d)),p}function op(s,c){const d=eu(s,c);if(d>=0)return s[1|d]}function eu(s,c){return function yd(s,c,d){let p=0,_=s.length>>d;for(;_!==p;){const b=p+(_-p>>1),T=s[b<<d];if(c===T)return b<<d;T>c?_=b:p=b+1}return~(_<<d)}(s,c,1)}const Je=ai(H("Optional"),8),Nt=ai(H("SkipSelf"),4);function nu(s){return 128==(128&s.flags)}var _h=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(_h||{});const xw=/^>|^->|<!--|-->|--!>|<!-$/g,Pu=/(<|>)/g,Ew="\u200b$1\u200b";const Im=new Map;let vT=0;function l(s){return Im.get(s)||null}class g{get lView(){return l(this.lViewId)}constructor(c,d,p){this.lViewId=c,this.nodeIndex=d,this.native=p}}function y(s){let c=Z(s);if(c){if(Zr(c)){const d=c;let p,_,b;if(ge(s)){if(p=function ht(s,c){const d=s[Et].components;if(d)for(let p=0;p<d.length;p++){const _=d[p];if(Ki(_,s)[Pi]===c)return _}else if(Ki(ei,s)[Pi]===c)return ei;return-1}(d,s),-1==p)throw new Error("The provided component was not found in the application");_=s}else if(function _e(s){return s&&s.constructor&&s.constructor.\u0275dir}(s)){if(p=function an(s,c){let d=s[Et].firstChild;for(;d;){const _=d.directiveEnd;for(let b=d.directiveStart;b<_;b++)if(s[b]===c)return d.index;d=et(d)}return-1}(d,s),-1==p)throw new Error("The provided directive was not found in the application");b=function Xt(s,c){const d=c[Et].data[s];if(0===d.directiveStart)return Pt;const p=[];for(let _=d.directiveStart;_<d.directiveEnd;_++){const b=c[_];ge(b)||p.push(b)}return p}(p,d)}else if(p=Oe(d,s),-1==p)return null;const T=Ii(d[p]),D=Z(T),P=D&&!Array.isArray(D)?D:E(d,p,T);if(_&&void 0===P.component&&(P.component=_,V(P.component,P)),b&&void 0===P.directives){P.directives=b;for(let B=0;B<b.length;B++)V(b[B],P)}V(P.native,P),c=P}}else{const d=s;let p=d;for(;p=p.parentNode;){const _=Z(p);if(_){const b=Array.isArray(_)?_:_.lView;if(!b)return null;const T=Oe(b,d);if(T>=0){const D=Ii(b[T]),P=E(b,T,D);V(D,P),c=P;break}}}}return c||null}function E(s,c,d){return new g(s[Ir],c,d)}const R="__ngContext__";function V(s,c){Zr(c)?(s[R]=c[Ir],function f(s){Im.set(s[Ir],s)}(c)):s[R]=c}function Z(s){const c=s[R];return"number"==typeof c?l(c):c||null}function ge(s){return s&&s.constructor&&s.constructor.\u0275cmp}function Oe(s,c){const d=s[Et];for(let p=ei;p<d.bindingStartIndex;p++)if(Ii(s[p])===c)return p;return-1}function et(s){if(s.child)return s.child;if(s.next)return s.next;for(;s.parent&&!s.parent.next;)s=s.parent;return s.parent&&s.parent.next}let gi;function bi(s,c){return gi(s,c)}function Zs(s){const c=s[Ei];return Tr(c)?c[Ei]:c}function lp(s){return vh(s[qr])}function cf(s){return vh(s[so])}function vh(s){for(;null!==s&&!Tr(s);)s=s[so];return s}function xd(s,c,d,p,_){if(null!=p){let b,T=!1;Tr(p)?b=p:Zr(p)&&(T=!0,p=p[Oi]);const D=Ii(p);0===s&&null!==d?null==_?xT(c,d,D):up(c,d,D,_||null,!0):1===s&&null!==d?up(c,d,D,_||null,!0):2===s?function zy(s,c,d){const p=g_(s,c);p&&function Ak(s,c,d,p){s.removeChild(c,d,p)}(s,p,c,d)}(c,D,T):3===s&&c.destroyNode(D),null!=b&&function Ok(s,c,d,p,_){const b=d[kr];b!==Ii(d)&&xd(c,s,p,b,_);for(let D=Hi;D<d.length;D++){const P=d[D];yh(P[Et],P,s,c,p,b)}}(c,s,b,d,_)}}function Ks(s,c){return s.createComment(function Ws(s){return s.replace(xw,c=>c.replace(Pu,Ew))}(c))}function pc(s,c,d){return s.createElement(c,d)}function Mk(s,c){const d=s[Wr],p=d.indexOf(c);$h(c),d.splice(p,1)}function Uy(s,c){if(s.length<=Hi)return;const d=Hi+c,p=s[d];if(p){const _=p[ys];null!==_&&_!==s&&Mk(_,p),c>0&&(s[d-1][so]=p[so]);const b=_d(s,Hi+c);!function Ly(s,c){yh(s,c,c[on],2,null,null),c[Oi]=null,c[Bn]=null}(p[Et],p);const T=b[Er];null!==T&&T.detachView(b[Et]),p[Ei]=null,p[so]=null,p[En]&=-129}return p}function Sw(s,c){if(!(256&c[En])){const d=c[on];c[Lo]&&Oa(c[Lo]),c[Gr]&&Oa(c[Gr]),d.destroyNode&&yh(s,c,d,3,null,null),function Dk(s){let c=s[qr];if(!c)return Vy(s[Et],s);for(;c;){let d=null;if(Zr(c))d=c[qr];else{const p=c[Hi];p&&(d=p)}if(!d){for(;c&&!c[so]&&c!==s;)Zr(c)&&Vy(c[Et],c),c=c[Ei];null===c&&(c=s),Zr(c)&&Vy(c[Et],c),d=c&&c[so]}c=d}}(c)}}function Vy(s,c){if(!(256&c[En])){c[En]&=-129,c[En]|=256,function bT(s,c){let d;if(null!=s&&null!=(d=s.destroyHooks))for(let p=0;p<d.length;p+=2){const _=c[d[p]];if(!(_ instanceof ad)){const b=d[p+1];if(Array.isArray(b))for(let T=0;T<b.length;T+=2){const D=_[b[T]],P=b[T+1];xs(4,D,P);try{P.call(D)}finally{xs(5,D,P)}}else{xs(4,_,b);try{b.call(_)}finally{xs(5,_,b)}}}}}(s,c),function Dw(s,c){const d=s.cleanup,p=c[Qo];if(null!==d)for(let b=0;b<d.length-1;b+=2)if("string"==typeof d[b]){const T=d[b+3];T>=0?p[T]():p[-T].unsubscribe(),b+=2}else d[b].call(p[d[b+1]]);null!==p&&(c[Qo]=null);const _=c[Da];if(null!==_){c[Da]=null;for(let b=0;b<_.length;b++)(0,_[b])()}}(s,c),1===c[Et].type&&c[on].destroy();const d=c[ys];if(null!==d&&Tr(c[Ei])){d!==c[Ei]&&Mk(d,c);const p=c[Er];null!==p&&p.detachView(s)}!function h(s){Im.delete(s[Ir])}(c)}}function wT(s,c,d){return function CT(s,c,d){let p=c;for(;null!==p&&40&p.type;)p=(c=p).parent;if(null===p)return d[Oi];{const{componentOffset:_}=p;if(_>-1){const{encapsulation:b}=s.data[p.directiveStart+_];if(b===_t.None||b===_t.Emulated)return null}return jo(p,d)}}(s,c.parent,d)}function up(s,c,d,p,_){s.insertBefore(c,d,p,_)}function xT(s,c,d){s.appendChild(c,d)}function ET(s,c,d,p,_){null!==p?up(s,c,d,p,_):xT(s,c,d)}function g_(s,c){return s.parentNode(c)}function IT(s,c,d){return TT(s,c,d)}let __,Hy,Ow,C_,TT=function Mw(s,c,d){return 40&s.type?jo(s,d):null};function By(s,c,d,p){const _=wT(s,p,c),b=c[on],D=IT(p.parent||c[Bn],p,c);if(null!=_)if(Array.isArray(d))for(let P=0;P<d.length;P++)ET(b,_,d[P],D,!1);else ET(b,_,d,D,!1);void 0!==__&&__(b,p,c,d,_)}function v_(s,c){if(null!==c){const d=c.type;if(3&d)return jo(c,s);if(4&d)return jy(-1,s[c.index]);if(8&d){const p=c.child;if(null!==p)return v_(s,p);{const _=s[c.index];return Tr(_)?jy(-1,_):Ii(_)}}if(32&d)return bi(c,s)()||Ii(s[c.index]);{const p=DT(s,c);return null!==p?Array.isArray(p)?p[0]:v_(Zs(s[xr]),p):v_(s,c.next)}}return null}function DT(s,c){return null!==c?s[xr][Bn].projection[c.projection]:null}function jy(s,c){const d=Hi+s+1;if(d<c.length){const p=c[d],_=p[Et].firstChild;if(null!==_)return v_(p,_)}return c[kr]}function y_(s,c,d,p,_,b,T){for(;null!=d;){const D=p[d.index],P=d.type;if(T&&0===c&&(D&&V(Ii(D),p),d.flags|=2),32!=(32&d.flags))if(8&P)y_(s,c,d.child,p,_,b,!1),xd(c,s,_,D,b);else if(32&P){const B=bi(d,p);let W;for(;W=B();)xd(c,s,_,W,b);xd(c,s,_,D,b)}else 16&P?MT(s,c,p,d,_,b):xd(c,s,_,D,b);d=T?d.projectionNext:d.next}}function yh(s,c,d,p,_,b){y_(d,p,s.firstChild,c,_,b,!1)}function MT(s,c,d,p,_,b){const T=d[xr],P=T[Bn].projection[p.projection];if(Array.isArray(P))for(let B=0;B<P.length;B++)xd(c,s,_,P[B],b);else{let B=P;const W=T[Ei];nu(p)&&(B.flags|=128),y_(s,c,B,W,_,b,!0)}}function AT(s,c,d){""===d?s.removeAttribute(c,"class"):s.setAttribute(c,"class",d)}function b_(s,c,d){const{mergedAttrs:p,classes:_,styles:b}=d;null!==p&&Ko(s,c,p),null!==_&&AT(s,c,_),null!==b&&function Pk(s,c,d){s.setAttribute(c,"style",d)}(s,c,b)}function dp(s){return function $y(){if(void 0===Hy&&(Hy=null,Ee.trustedTypes))try{Hy=Ee.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Hy}()?.createHTML(s)||s}function OT(s){Ow=s}function Tm(){if(void 0!==Ow)return Ow;if(typeof document<"u")return document;throw new xe(210,!1)}function Sm(){if(void 0===C_&&(C_=null,Ee.trustedTypes))try{C_=Ee.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return C_}function PT(s){return Sm()?.createHTML(s)||s}function qy(s){return Sm()?.createScriptURL(s)||s}class hp{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ze})`}}class NT extends hp{getTypeName(){return"HTML"}}class Nk extends hp{getTypeName(){return"Style"}}class Fk extends hp{getTypeName(){return"Script"}}class Lk extends hp{getTypeName(){return"URL"}}class Uk extends hp{getTypeName(){return"ResourceURL"}}function Id(s){return s instanceof hp?s.changingThisBreaksApplicationSecurity:s}function bh(s,c){const d=function FT(s){return s instanceof hp&&s.getTypeName()||null}(s);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see ${Ze})`)}return d===c}function Vk(s){return new NT(s)}function LT(s){return new Nk(s)}function Bk(s){return new Fk(s)}function jk(s){return new Lk(s)}function zk(s){return new Uk(s)}class Hk{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString(dp(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch{return null}}}class $k{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const d=this.inertDocument.createElement("template");return d.innerHTML=dp(c),d}}const Pw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function x_(s){return(s=String(s)).match(Pw)?s:"unsafe:"+s}function wh(s){const c={};for(const d of s.split(","))c[d]=!0;return c}function Gy(...s){const c={};for(const d of s)for(const p in d)d.hasOwnProperty(p)&&(c[p]=!0);return c}const qk=wh("area,br,col,hr,img,wbr"),Gk=wh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Td=wh("rp,rt"),BT=Gy(qk,Gy(Gk,wh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gy(Td,wh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gy(Td,Gk)),Nw=wh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zT=Gy(Nw,wh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Wk=wh("script,style,template");class Zk{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,p=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?p=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,p&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let _=this.checkClobberedElement(d,d.nextSibling);if(_){d=_;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!BT.hasOwnProperty(d))return this.sanitizedSomething=!0,!Wk.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const p=c.attributes;for(let _=0;_<p.length;_++){const b=p.item(_),T=b.name,D=T.toLowerCase();if(!zT.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let P=b.value;Nw[D]&&(P=x_(P)),this.buf.push(" ",T,'="',Yk(P),'"')}return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();BT.hasOwnProperty(d)&&!qk.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(Yk(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const Kk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w2=/([^\#-~ |!])/g;function Yk(s){return s.replace(/&/g,"&amp;").replace(Kk,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(w2,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fw;function HT(s,c){let d=null;try{Fw=Fw||function UT(s){const c=new $k(s);return function VT(){try{return!!(new window.DOMParser).parseFromString(dp(""),"text/html")}catch{return!1}}()?new Hk(c):c}(s);let p=c?String(c):"";d=Fw.getInertBodyElement(p);let _=5,b=p;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,p=b,b=d.innerHTML,d=Fw.getInertBodyElement(p)}while(p!==b);return dp((new Zk).sanitizeChildren($T(d)||d))}finally{if(d){const p=$T(d)||d;for(;p.firstChild;)p.removeChild(p.firstChild)}}}function $T(s){return"content"in s&&function C2(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Mm=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(Mm||{});function dt(s){const c=fp();return c?PT(c.sanitize(Mm.HTML,s)||""):bh(s,"HTML")?PT(Id(s)):HT(Tm(),$e(s))}function ou(s){const c=fp();return c?c.sanitize(Mm.URL,s)||"":bh(s,"URL")?Id(s):x_($e(s))}function ie(s){const c=fp();if(c)return qy(c.sanitize(Mm.RESOURCE_URL,s)||"");if(bh(s,"ResourceURL"))return qy(Id(s));throw new xe(904,!1)}function Ao(s,c,d){return function Qk(s,c){return"src"===c&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===c&&("base"===s||"link"===s)?ie:ou}(c,d)(s)}function fp(){const s=pt();return s&&s[Xo].sanitizer}class nr{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=fn({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const E_=new nr("ENVIRONMENT_INITIALIZER"),GT=new nr("INJECTOR",-1),Vw=new nr("INJECTOR_DEF_TYPES");class Bw{get(c,d=pi){if(d===pi){const p=new Error(`NullInjectorError: No provider for ${de(c)}!`);throw p.name="NullInjectorError",p}return d}}function Xk(...s){return{\u0275providers:ZT(0,s),\u0275fromNgModule:!0}}function ZT(s,...c){const d=[],p=new Set;let _;const b=T=>{d.push(T)};return yl(c,T=>{const D=T;pp(D,b,[],p)&&(_||=[],_.push(D))}),void 0!==_&&Ys(_,b),d}function Ys(s,c){for(let d=0;d<s.length;d++){const{ngModule:p,providers:_}=s[d];I_(_,b=>{c(b,p)})}}function pp(s,c,d,p){if(!(s=st(s)))return!1;let _=null,b=wi(s);const T=!b&&jn(s);if(b||T){if(T&&!T.standalone)return!1;_=s}else{const P=s.ngModule;if(b=wi(P),!b)return!1;_=P}const D=p.has(_);if(T){if(D)return!1;if(p.add(_),T.dependencies){const P="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const B of P)pp(B,c,d,p)}}else{if(!b)return!1;{if(null!=b.imports&&!D){let B;p.add(_);try{yl(b.imports,W=>{pp(W,c,d,p)&&(B||=[],B.push(W))})}finally{}void 0!==B&&Ys(B,c)}if(!D){const B=Vs(_)||(()=>new _);c({provide:_,useFactory:B,deps:Pt},_),c({provide:Vw,useValue:_,multi:!0},_),c({provide:E_,useValue:()=>Dt(_),multi:!0},_)}const P=b.providers;if(null!=P&&!D){const B=s;I_(P,W=>{c(W,B)})}}}return _!==s&&void 0!==s.providers}function I_(s,c){for(let d of s)Re(d)&&(d=d.\u0275providers),Array.isArray(d)?I_(d,c):c(d)}const Wy=z({provide:String,useValue:z});function Am(s){return null!==s&&"object"==typeof s&&Wy in s}function mp(s){return"function"==typeof s}const jw=new nr("Set Injector scope."),Ky={},T_={};let Yy;function gp(){return void 0===Yy&&(Yy=new Bw),Yy}class Nu{}class Qy extends Nu{get destroyed(){return this._destroyed}constructor(c,d,p,_){super(),this.parent=d,this.source=p,this.scopes=_,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_p(c,T=>this.processProvider(T)),this.records.set(GT,lf(void 0,this)),_.has("environment")&&this.records.set(Nu,lf(void 0,this));const b=this.records.get(jw);null!=b&&"string"==typeof b.value&&this.scopes.add(b.value),this.injectorDefTypes=new Set(this.get(Vw.multi,Pt,sn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const d of this._ngOnDestroyHooks)d.ngOnDestroy();const c=this._onDestroyHooks;this._onDestroyHooks=[];for(const d of c)d()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(c){return this.assertNotDestroyed(),this._onDestroyHooks.push(c),()=>this.removeOnDestroy(c)}runInContext(c){this.assertNotDestroyed();const d=Ae(this),p=zt(void 0);try{return c()}finally{Ae(d),zt(p)}}get(c,d=pi,p=sn.Default){if(this.assertNotDestroyed(),c.hasOwnProperty(go))return c[go](this);p=Jn(p);const b=Ae(this),T=zt(void 0);try{if(!(p&sn.SkipSelf)){let P=this.records.get(c);if(void 0===P){const B=function JT(s){return"function"==typeof s||"object"==typeof s&&s instanceof nr}(c)&&Ut(c);P=B&&this.injectableDefInScope(B)?lf(zw(c),Ky):null,this.records.set(c,P)}if(null!=P)return this.hydrate(c,P)}return(p&sn.Self?gp():this.parent).get(c,d=p&sn.Optional&&d===pi?null:d)}catch(D){if("NullInjectorError"===D.name){if((D[_r]=D[_r]||[]).unshift(de(c)),b)throw D;return function vr(s,c,d,p){const _=s[_r];throw c[J]&&_.unshift(c[J]),s.message=function Zo(s,c,d,p=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let _=de(c);if(Array.isArray(c))_=c.map(de).join(" -> ");else if("object"==typeof c){let b=[];for(let T in c)if(c.hasOwnProperty(T)){let D=c[T];b.push(T+":"+("string"==typeof D?JSON.stringify(D):de(D)))}_=`{${b.join(", ")}}`}return`${d}${p?"("+p+")":""}[${_}]: ${s.replace(fe,"\n  ")}`}("\n"+s.message,_,d,p),s.ngTokenPath=_,s[_r]=null,s}(D,c,"R3InjectorError",this.source)}throw D}finally{zt(T),Ae(b)}}resolveInjectorInitializers(){const c=Ae(this),d=zt(void 0);try{const _=this.get(E_.multi,Pt,sn.Self);for(const b of _)b()}finally{Ae(c),zt(d)}}toString(){const c=[],d=this.records;for(const p of d.keys())c.push(de(p));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(c){let d=mp(c=st(c))?c:st(c&&c.provide);const p=function eO(s){return Am(s)?lf(void 0,s.useValue):lf(Hw(s),Ky)}(c);if(mp(c)||!0!==c.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=lf(void 0,Ky,!0),_.factory=()=>xn(_.multi),this.records.set(d,_)),d=c,_.multi.push(c)}this.records.set(d,p)}hydrate(c,d){return d.value===Ky&&(d.value=T_,d.value=d.factory()),"object"==typeof d.value&&d.value&&function $w(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(c){if(!c.providedIn)return!1;const d=st(c.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}removeOnDestroy(c){const d=this._onDestroyHooks.indexOf(c);-1!==d&&this._onDestroyHooks.splice(d,1)}}function zw(s){const c=Ut(s),d=null!==c?c.factory:Vs(s);if(null!==d)return d;if(s instanceof nr)throw new xe(204,!1);if(s instanceof Function)return function Jk(s){const c=s.length;if(c>0)throw vd(c,"?"),new xe(204,!1);const d=function Un(s){return s&&(s[Mi]||s[zi])||null}(s);return null!==d?()=>d.factory(s):()=>new s}(s);throw new xe(204,!1)}function Hw(s,c,d){let p;if(mp(s)){const _=st(s);return Vs(_)||zw(_)}if(Am(s))p=()=>st(s.useValue);else if(function YT(s){return!(!s||!s.useFactory)}(s))p=()=>s.useFactory(...xn(s.deps||[]));else if(function Zy(s){return!(!s||!s.useExisting)}(s))p=()=>Dt(st(s.useExisting));else{const _=st(s&&(s.useClass||s.provide));if(!function XT(s){return!!s.deps}(s))return Vs(_)||zw(_);p=()=>new _(...xn(s.deps))}return p}function lf(s,c,d=!1){return{factory:s,value:c,multi:d?[]:void 0}}function _p(s,c){for(const d of s)Array.isArray(d)?_p(d,c):d&&Re(d)?_p(d.\u0275providers,c):c(d)}const eS=new nr("AppId",{providedIn:"root",factory:()=>qw}),qw="ng",Xy=new nr("Platform Initializer"),Gw=new nr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ww=new nr("AnimationModuleType"),Zw=new nr("CSP nonce",{providedIn:"root",factory:()=>Tm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let nS=(s,c,d)=>null;function Qw(s,c,d=!1){return nS(s,c,d)}class aS{}class oO{}class eC{resolveComponentFactory(c){throw function sO(s){const c=Error(`No component factory found for ${de(s)}.`);return c.ngComponent=s,c}(c)}}let ab=(()=>{class s{static#e=this.NULL=new eC}return s})();function S2(){return Om(Io(),pt())}function Om(s,c){return new Pm(jo(s,c))}let Pm=(()=>{class s{constructor(d){this.nativeElement=d}static#e=this.__NG_ELEMENT_ID__=S2}return s})();function cO(s){return s instanceof Pm?s.nativeElement:s}class tC{}let nC=(()=>{class s{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function yp(){const s=pt(),d=Ki(Io().index,s);return(Zr(d)?d:s)[on]}()}return s})(),D2=(()=>{class s{static#e=this.\u0275prov=fn({token:s,providedIn:"root",factory:()=>null})}return s})();class cb{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const lO=new cb("16.2.7"),iC={};function bp(s,c=null,d=null,p){const _=uS(s,c,d,p);return _.resolveInjectorInitializers(),_}function uS(s,c=null,d=null,p,_=new Set){const b=[d||Pt,Xk(s)];return p=p||("object"==typeof s?void 0:de(s)),new Qy(b,c||gp(),p||null,_)}let su=(()=>{class s{static#e=this.THROW_IF_NOT_FOUND=pi;static#t=this.NULL=new Bw;static create(d,p){if(Array.isArray(d))return bp({name:""},p,d,"");{const _=d.name??"";return bp({name:_},d.parent,d.providers,_)}}static#n=this.\u0275prov=fn({token:s,providedIn:"any",factory:()=>Dt(GT)});static#i=this.__NG_ELEMENT_ID__=-1}return s})();function wp(s){return s.ngOriginalError}class Sd{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c);this._console.error("ERROR",c),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(c){let d=c&&wp(c);for(;d&&wp(d);)d=wp(d);return d||null}}function sC(s){return c=>{setTimeout(s,void 0,c)}}const Dd=class fO extends a.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,p){let _=c,b=d||(()=>null),T=p;if(c&&"object"==typeof c){const P=c;_=P.next?.bind(P),b=P.error?.bind(P),T=P.complete?.bind(P)}this.__isAsync&&(b=sC(b),_&&(_=sC(_)),T&&(T=sC(T)));const D=super.subscribe({next:_,error:b,complete:T});return c instanceof U.w0&&c.add(D),D}};function hS(...s){}class Qs{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:p=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dd(!1),this.onMicrotaskEmpty=new Dd(!1),this.onStable=new Dd(!1),this.onError=new Dd(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const _=this;_._nesting=0,_._outer=_._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(_._inner=_._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(_._inner=_._inner.fork(Zone.longStackTraceZoneSpec)),_.shouldCoalesceEventChangeDetection=!p&&d,_.shouldCoalesceRunChangeDetection=p,_.lastRequestAnimationFrameId=-1,_.nativeRequestAnimationFrame=function pO(){const s="function"==typeof Ee.requestAnimationFrame;let c=Ee[s?"requestAnimationFrame":"setTimeout"],d=Ee[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&c&&d){const p=c[Zone.__symbol__("OriginalDelegate")];p&&(c=p);const _=d[Zone.__symbol__("OriginalDelegate")];_&&(d=_)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function U2(s){const c=()=>{!function L2(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ee,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,pS(s),s.isCheckStableRunning=!0,fS(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),pS(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,p,_,b,T,D)=>{if(function vO(s){return!(!Array.isArray(s)||1!==s.length)&&!0===s[0].data?.__ignore_ng_zone__}(D))return d.invokeTask(_,b,T,D);try{return mO(s),d.invokeTask(_,b,T,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||s.shouldCoalesceRunChangeDetection)&&c(),mS(s)}},onInvoke:(d,p,_,b,T,D,P)=>{try{return mO(s),d.invoke(_,b,T,D,P)}finally{s.shouldCoalesceRunChangeDetection&&c(),mS(s)}},onHasTask:(d,p,_,b)=>{d.hasTask(_,b),p===_&&("microTask"==b.change?(s._hasPendingMicrotasks=b.microTask,pS(s),fS(s)):"macroTask"==b.change&&(s.hasPendingMacrotasks=b.macroTask))},onHandleError:(d,p,_,b)=>(d.handleError(_,b),s.runOutsideAngular(()=>s.onError.emit(b)),!1)})}(_)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qs.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(Qs.isInAngularZone())throw new xe(909,!1)}run(c,d,p){return this._inner.run(c,d,p)}runTask(c,d,p,_){const b=this._inner,T=b.scheduleEventTask("NgZoneEvent: "+_,c,F2,hS,hS);try{return b.runTask(T,d,p)}finally{b.cancelTask(T)}}runGuarded(c,d,p){return this._inner.runGuarded(c,d,p)}runOutsideAngular(c){return this._outer.run(c)}}const F2={};function fS(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function pS(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function mO(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function mS(s){s._nesting--,fS(s)}class V2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dd,this.onMicrotaskEmpty=new Dd,this.onStable=new Dd,this.onError=new Dd}run(c,d,p){return c.apply(d,p)}runGuarded(c,d,p){return c.apply(d,p)}runOutsideAngular(c){return c()}runTask(c,d,p,_){return c.apply(d,p)}}const gO=new nr("",{providedIn:"root",factory:_O});function _O(){const s=Vt(Qs);let c=!0;const d=new K.y(_=>{c=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{_.next(c),_.complete()})}),p=new K.y(_=>{let b;s.runOutsideAngular(()=>{b=s.onStable.subscribe(()=>{Qs.assertNotInAngularZone(),queueMicrotask(()=>{!c&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(c=!0,_.next(!0))})})});const T=s.onUnstable.subscribe(()=>{Qs.assertInAngularZone(),c&&(c=!1,s.runOutsideAngular(()=>{_.next(!1)}))});return()=>{b.unsubscribe(),T.unsubscribe()}});return(0,pe.T)(d,p.pipe((0,ke.B)()))}function yO(s){return s.ownerDocument.defaultView}function hf(s){return s instanceof Function?s():s}let gS=(()=>{class s{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=fn({token:s,providedIn:"root",factory:()=>new s})}return s})();function lb(s){for(;s;){s[En]|=64;const c=Zs(s);if(la(s)&&!c)return s;s=c}return null}const EO=new nr("",{providedIn:"root",factory:()=>!1});let cC=null;function DO(s,c){return s[c]??kO()}function MO(s,c){const d=kO();d.producerNode?.length&&(s[c]=cC,d.lView=s,cC=AO())}const K2={...Oc,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{lb(s.lView)},lView:null};function AO(){return Object.create(K2)}function kO(){return cC??=AO(),cC}const si={};function OO(s){PO(ii(),pt(),ts()+s,!1)}function PO(s,c,d,p){if(!p)if(3==(3&c[En])){const b=s.preOrderCheckHooks;null!==b&&jr(c,b,d)}else{const b=s.preOrderHooks;null!==b&&Bc(c,b,0,d)}pa(d)}function Rm(s,c=sn.Default){const d=pt();return null===d?Dt(s,c):qs(Io(),d,st(s),c)}function RO(){throw new Error("invalid")}function lC(s,c,d,p,_,b,T,D,P,B,W){const se=c.blueprint.slice();return se[Oi]=_,se[En]=140|p,(null!==B||s&&2048&s[En])&&(se[En]|=2048),nh(se),se[Ei]=se[Cr]=s,se[Pi]=d,se[Xo]=T||s&&s[Xo],se[on]=D||s&&s[on],se[sa]=P||s&&s[sa]||null,se[Bn]=b,se[Ir]=function Iw(){return vT++}(),se[Vi]=W,se[aa]=B,se[xr]=2==c.type?s[xr]:se,se}function Nm(s,c,d,p,_){let b=s.data[c];if(null===b)b=function xl(s,c,d,p,_){const b=od(),T=Yi(),P=s.data[c]=function UO(s,c,d,p,_,b){let T=c?c.injectorIndex:-1,D=0;return Es()&&(D|=128),{type:d,index:p,insertBeforeIndex:null,injectorIndex:T,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:_,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?b:b&&b.parent,d,c,p,_);return null===s.firstChild&&(s.firstChild=P),null!==b&&(T?null==b.child&&null!==P.parent&&(b.child=P):null===b.next&&(b.next=P,P.prev=b)),P}(s,c,d,p,_),function Gh(){return In.lFrame.inI18n}()&&(b.flags|=32);else if(64&b.type){b.type=d,b.value=p,b.attrs=_;const T=function To(){const s=In.lFrame,c=s.currentTNode;return s.isParent?c:c.parent}();b.injectorIndex=null===T?-1:T.injectorIndex}return So(b,!0),b}function $t(s,c,d,p){if(0===d)return-1;const _=c.length;for(let b=0;b<d;b++)c.push(p),s.blueprint.push(p),s.data.push(null);return _}function ub(s,c,d,p,_){const b=DO(c,Lo),T=ts(),D=2&p;try{pa(-1),D&&c.length>ei&&PO(s,c,ei,!1),xs(D?2:0,_);const B=D?b:null,W=cl(B);try{null!==B&&(B.dirty=!1),d(p,_)}finally{yi(B,W)}}finally{D&&null===c[Lo]&&MO(c,Lo),pa(T),xs(D?3:1,_)}}function Zn(s,c,d){if(al(c)){const p=Yr(null);try{const b=c.directiveEnd;for(let T=c.directiveStart;T<b;T++){const D=s.data[T];D.contentQueries&&D.contentQueries(1,d[T],T)}}finally{Yr(p)}}}function Fm(s,c,d){Wi()&&(function bS(s,c,d,p){const _=d.directiveStart,b=d.directiveEnd;Or(d)&&function mC(s,c,d){const p=jo(c,s),_=_S(d);let T=16;d.signals?T=4096:d.onPush&&(T=64);const D=xp(s,lC(s,_,null,T,p,c,null,s[Xo].rendererFactory.createRenderer(p,d),null,null,null));s[c.index]=D}(c,d,s.data[_+d.componentOffset]),s.firstCreatePass||$s(d,c),V(p,c);const T=d.initialInputs;for(let D=_;D<b;D++){const P=s.data[D],B=La(c,s,D,d);V(B,c),null!==T&&U_(0,D-_,B,P,0,T),di(P)&&(Ki(d.index,c)[Pi]=La(c,s,D,d))}}(s,c,d,jo(d,c)),64==(64&d.flags)&&pb(s,c,d))}function Cp(s,c,d=jo){const p=c.localNames;if(null!==p){let _=c.index+1;for(let b=0;b<p.length;b+=2){const T=p[b+1],D=-1===T?d(c,s):s[T];s[_++]=D}}}function _S(s){const c=s.tView;return null===c||c.incompleteFirstPass?s.tView=N_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):c}function N_(s,c,d,p,_,b,T,D,P,B,W){const se=ei+p,Ie=se+_,Be=function NO(s,c){const d=[];for(let p=0;p<c;p++)d.push(p<s?null:si);return d}(se,Ie),ft="function"==typeof B?B():B;return Be[Et]={type:s,blueprint:Be,template:d,queries:null,viewQuery:D,declTNode:c,data:Be.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:Ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:P,consts:ft,incompleteFirstPass:!1,ssrId:W}}let _a=s=>null;function uC(s,c,d,p){for(let _ in s)if(s.hasOwnProperty(_)){d=null===d?{}:d;const b=s[_];null===p?hb(d,c,_,b):p.hasOwnProperty(_)&&hb(d,c,p[_],b)}return d}function hb(s,c,d,p){s.hasOwnProperty(d)?s[d].push(c,p):s[d]=[c,p]}function El(s,c,d,p,_,b,T,D){const P=jo(c,d);let W,B=c.inputs;!D&&null!=B&&(W=B[p])?(z_(s,d,W,p,_),Or(c)&&function F_(s,c){const d=Ki(c,s);16&d[En]||(d[En]|=64)}(d,c.index)):3&c.type&&(p=function ja(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(p),_=null!=T?T(_,c.value||"",p):_,b.setProperty(P,p,_))}function L_(s,c,d,p){if(Wi()){const _=null===p?null:{"":-1},b=function BO(s,c){const d=s.directiveRegistry;let p=null,_=null;if(d)for(let b=0;b<d.length;b++){const T=d[b];if(Ja(c,T.selectors,!1))if(p||(p=[]),di(T))if(null!==T.findHostDirectiveDefs){const D=[];_=_||new Map,T.findHostDirectiveDefs(T,D,_),p.unshift(...D,T),mb(s,c,D.length)}else p.unshift(T),mb(s,c,0);else _=_||new Map,T.findHostDirectiveDefs?.(T,p,_),p.push(T)}return null===p?null:[p,_]}(s,d);let T,D;null===b?T=D=null:[T,D]=b,null!==T&&yS(s,c,d,T,_,D),_&&function dC(s,c,d){if(c){const p=s.localNames=[];for(let _=0;_<c.length;_+=2){const b=d[c[_+1]];if(null==b)throw new xe(-301,!1);p.push(c[_],b)}}}(d,p,_)}d.mergedAttrs=Yo(d.mergedAttrs,d.attrs)}function yS(s,c,d,p,_,b){for(let B=0;B<p.length;B++)Ql($s(d,c),s,p[B].type);!function fC(s,c,d){s.flags|=1,s.directiveStart=c,s.directiveEnd=c+d,s.providerIndexes=c}(d,s.data.length,p.length);for(let B=0;B<p.length;B++){const W=p[B];W.providersResolver&&W.providersResolver(W)}let T=!1,D=!1,P=$t(s,c,p.length,null);for(let B=0;B<p.length;B++){const W=p[B];d.mergedAttrs=Yo(d.mergedAttrs,W.hostAttrs),pC(s,d,c,P,W),hC(P,W,_),null!==W.contentQueries&&(d.flags|=4),(null!==W.hostBindings||null!==W.hostAttrs||0!==W.hostVars)&&(d.flags|=64);const se=W.type.prototype;!T&&(se.ngOnChanges||se.ngOnInit||se.ngDoCheck)&&((s.preOrderHooks??=[]).push(d.index),T=!0),!D&&(se.ngOnChanges||se.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(d.index),D=!0),P++}!function vS(s,c,d){const _=c.directiveEnd,b=s.data,T=c.attrs,D=[];let P=null,B=null;for(let W=c.directiveStart;W<_;W++){const se=b[W],Ie=d?d.get(se):null,ft=Ie?Ie.outputs:null;P=uC(se.inputs,W,P,Ie?Ie.inputs:null),B=uC(se.outputs,W,B,ft);const St=null===P||null===T||ki(c)?null:V_(P,W,T);D.push(St)}null!==P&&(P.hasOwnProperty("class")&&(c.flags|=8),P.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=D,c.inputs=P,c.outputs=B}(s,d,b)}function pb(s,c,d){const p=d.directiveStart,_=d.directiveEnd,b=d.index,T=function _m(){return In.lFrame.currentDirectiveIndex}();try{pa(b);for(let D=p;D<_;D++){const P=s.data[D],B=c[D];Eu(D),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&wS(P,B)}}finally{pa(-1),Eu(T)}}function wS(s,c){null!==s.hostBindings&&s.hostBindings(1,c)}function mb(s,c,d){c.componentOffset=d,(s.components??=[]).push(c.index)}function hC(s,c,d){if(d){if(c.exportAs)for(let p=0;p<c.exportAs.length;p++)d[c.exportAs[p]]=s;di(c)&&(d[""]=s)}}function pC(s,c,d,p,_){s.data[p]=_;const b=_.factory||(_.factory=Vs(_.type)),T=new ad(b,di(_),Rm);s.blueprint[p]=T,d[p]=T,function VO(s,c,d,p,_){const b=_.hostBindings;if(b){let T=s.hostBindingOpCodes;null===T&&(T=s.hostBindingOpCodes=[]);const D=~c.index;(function Lm(s){let c=s.length;for(;c>0;){const d=s[--c];if("number"==typeof d&&d<0)return d}return 0})(T)!=D&&T.push(D),T.push(d,p,b)}}(s,c,p,$t(s,d,_.hostVars,si),_)}function Fu(s,c,d,p,_,b){const T=jo(s,c);!function gC(s,c,d,p,_,b,T){if(null==b)s.removeAttribute(c,_,d);else{const D=null==T?$e(b):T(b,p||"",_);s.setAttribute(c,_,D,d)}}(c[on],T,b,s.value,d,p,_)}function U_(s,c,d,p,_,b){const T=b[c];if(null!==T)for(let D=0;D<T.length;)CS(p,d,T[D++],T[D++],T[D++])}function CS(s,c,d,p,_){const b=Yr(null);try{const T=s.inputTransforms;null!==T&&T.hasOwnProperty(p)&&(_=T[p].call(c,_)),null!==s.setInput?s.setInput(c,_,d,p):c[p]=_}finally{Yr(b)}}function V_(s,c,d){let p=null,_=0;for(;_<d.length;){const b=d[_];if(0!==b)if(5!==b){if("number"==typeof b)break;if(s.hasOwnProperty(b)){null===p&&(p=[]);const T=s[b];for(let D=0;D<T.length;D+=2)if(T[D]===c){p.push(b,T[D+1],d[_+1]);break}}_+=2}else _+=2;else _+=4}return p}function xS(s,c,d,p){return[s,!0,!1,c,null,0,p,d,null,null,null]}function ES(s,c){const d=s.contentQueries;if(null!==d)for(let p=0;p<d.length;p+=2){const b=d[p+1];if(-1!==b){const T=s.data[b];pl(d[p]),T.contentQueries(2,c[b],b)}}}function xp(s,c){return s[qr]?s[Ll][so]=c:s[qr]=c,s[Ll]=c,c}function B_(s,c,d){pl(0);const p=Yr(null);try{c(s,d)}finally{Yr(p)}}function _C(s){return s[Qo]||(s[Qo]=[])}function vC(s){return s.cleanup||(s.cleanup=[])}function j_(s,c){const d=s[sa],p=d?d.get(Sd,null):null;p&&p.handleError(c)}function z_(s,c,d,p,_){for(let b=0;b<d.length;){const T=d[b++],D=d[b++];CS(s.data[T],c[T],p,D,_)}}function Lu(s,c,d){const p=Ra(c,s);!function Fy(s,c,d){s.setValue(c,d)}(s[on],p,d)}function bC(s,c){const d=Ki(c,s),p=d[Et];!function wC(s,c){for(let d=c.length;d<s.blueprint.length;d++)c.push(s.blueprint[d])}(p,d);const _=d[Oi];null!==_&&null===d[Vi]&&(d[Vi]=Qw(_,d[sa])),gb(p,d,d[Pi])}function gb(s,c,d){ql(c);try{const p=s.viewQuery;null!==p&&B_(1,p,d);const _=s.template;null!==_&&ub(s,c,_,1,d),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&ES(s,c),s.staticViewQueries&&B_(2,s.viewQuery,d);const b=s.components;null!==b&&function IS(s,c){for(let d=0;d<c.length;d++)bC(s,c[d])}(c,b)}catch(p){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),p}finally{c[En]&=-5,lc()}}let TS=(()=>{class s{constructor(){this.all=new Set,this.queue=new Map}create(d,p,_){const b=typeof Zone>"u"?null:Zone.current,T=function Eo(s,c,d){const p=Object.create(zh);d&&(p.consumerAllowSignalWrites=!0),p.fn=s,p.schedule=c;const _=T=>{p.cleanupFn=T};return p.ref={notify:()=>ha(p),run:()=>{if(p.dirty=!1,p.hasRun&&!Bo(p))return;p.hasRun=!0;const T=cl(p);try{p.cleanupFn(),p.cleanupFn=td,p.fn(_)}finally{yi(p,T)}},cleanup:()=>p.cleanupFn()},p.ref}(d,B=>{this.all.has(B)&&this.queue.set(B,b)},_);let D;this.all.add(T),T.notify();const P=()=>{T.cleanup(),D?.(),this.all.delete(T),this.queue.delete(T)};return D=p?.onDestroy(P),{destroy:P}}flush(){if(0!==this.queue.size)for(const[d,p]of this.queue)this.queue.delete(d),p?p.run(()=>d.run()):d.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=fn({token:s,providedIn:"root",factory:()=>new s})}return s})();function H_(s,c,d){let p=d?s.styles:null,_=d?s.classes:null,b=0;if(null!==c)for(let T=0;T<c.length;T++){const D=c[T];"number"==typeof D?b=D:1==b?_=Ne(_,D):2==b&&(p=Ne(p,D+": "+c[++T]+";"))}d?s.styles=p:s.stylesWithoutHost=p,d?s.classes=_:s.classesWithoutHost=_}function Ep(s,c,d,p,_=!1){for(;null!==d;){const b=c[d.index];null!==b&&p.push(Ii(b)),Tr(b)&&CC(b,p);const T=d.type;if(8&T)Ep(s,c,d.child,p);else if(32&T){const D=bi(d,c);let P;for(;P=D();)p.push(P)}else if(16&T){const D=DT(c,d);if(Array.isArray(D))p.push(...D);else{const P=Zs(c[xr]);Ep(P[Et],P,D,p,!0)}}d=_?d.projectionNext:d.next}return p}function CC(s,c){for(let d=Hi;d<s.length;d++){const p=s[d],_=p[Et].firstChild;null!==_&&Ep(p[Et],p,_,c)}s[kr]!==s[Oi]&&c.push(s[kr])}function _b(s,c,d,p=!0){const _=c[Xo],b=_.rendererFactory,T=_.afterRenderEventManager;b.begin?.(),T?.begin();try{vb(s,c,s.template,d)}catch(P){throw p&&j_(c,P),P}finally{b.end?.(),_.effectManager?.flush(),T?.end()}}function vb(s,c,d,p){const _=c[En];if(256!=(256&_)){c[Xo].effectManager?.flush(),ql(c);try{nh(c),function co(s){return In.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==d&&ub(s,c,d,2,p);const T=3==(3&_);if(T){const B=s.preOrderCheckHooks;null!==B&&jr(c,B,null)}else{const B=s.preOrderHooks;null!==B&&Bc(c,B,0,null),Nr(c,0)}if(function va(s){for(let c=lp(s);null!==c;c=cf(c)){if(!c[Ma])continue;const d=c[Wr];for(let p=0;p<d.length;p++){Lc(d[p])}}}(c),Ms(c,2),null!==s.contentQueries&&ES(s,c),T){const B=s.contentCheckHooks;null!==B&&jr(c,B)}else{const B=s.contentHooks;null!==B&&Bc(c,B,1),Nr(c,1)}!function Y2(s,c){const d=s.hostBindingOpCodes;if(null===d)return;const p=DO(c,Gr);try{for(let _=0;_<d.length;_++){const b=d[_];if(b<0)pa(~b);else{const T=b,D=d[++_],P=d[++_];sd(D,T),p.dirty=!1;const B=cl(p);try{P(2,c[T])}finally{yi(p,B)}}}}finally{null===c[Gr]&&MO(c,Gr),pa(-1)}}(s,c);const D=s.components;null!==D&&MS(c,D,0);const P=s.viewQuery;if(null!==P&&B_(2,P,p),T){const B=s.viewCheckHooks;null!==B&&jr(c,B)}else{const B=s.viewHooks;null!==B&&Bc(c,B,2),Nr(c,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),c[En]&=-73,$h(c)}finally{lc()}}}function Ms(s,c){for(let d=lp(s);null!==d;d=cf(d))for(let p=Hi;p<d.length;p++)bb(d[p],c)}function yb(s,c,d){bb(Ki(c,s),d)}function bb(s,c){if(!function th(s){return 128==(128&s[En])}(s))return;const d=s[Et],p=s[En];if(80&p&&0===c||1024&p||2===c)vb(d,s,d.template,s[Pi]);else if(s[Us]>0){Ms(s,1);const _=d.components;null!==_&&MS(s,_,1)}}function MS(s,c,d){for(let p=0;p<c.length;p++)yb(s,c[p],d)}class $_{get rootNodes(){const c=this._lView,d=c[Et];return Ep(d,c,d.firstChild,[])}constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pi]}set context(c){this._lView[Pi]=c}get destroyed(){return 256==(256&this._lView[En])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[Ei];if(Tr(c)){const d=c[8],p=d?d.indexOf(this):-1;p>-1&&(Uy(c,p),_d(d,p))}this._attachedToViewContainer=!1}Sw(this._lView[Et],this._lView)}onDestroy(c){!function sc(s,c){if(256==(256&s[En]))throw new xe(911,!1);null===s[Da]&&(s[Da]=[]),s[Da].push(c)}(this._lView,c)}markForCheck(){lb(this._cdRefInjectingView||this._lView)}detach(){this._lView[En]&=-129}reattach(){this._lView[En]|=128}detectChanges(){_b(this._lView[Et],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function yT(s,c){yh(s,c,c[on],2,null,null)}(this._lView[Et],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=c}}class jO extends $_{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;_b(c[Et],c,c[Pi],!1)}checkNoChanges(){}get context(){return null}}class EC extends ab{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=jn(c);return new xh(d,this.ngModule)}}function AS(s){const c=[];for(let d in s)s.hasOwnProperty(d)&&c.push({propName:s[d],templateName:d});return c}class HO{constructor(c,d){this.injector=c,this.parentInjector=d}get(c,d,p){p=Jn(p);const _=this.injector.get(c,iC,p);return _!==iC||d===iC?_:this.parentInjector.get(c,d,p)}}class xh extends oO{get inputs(){const c=this.componentDef,d=c.inputTransforms,p=AS(c.inputs);if(null!==d)for(const _ of p)d.hasOwnProperty(_.propName)&&(_.transform=d[_.propName]);return p}get outputs(){return AS(this.componentDef.outputs)}constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=function ol(s){return s.map(ia).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}create(c,d,p,_){let b=(_=_||this.ngModule)instanceof Nu?_:_?.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const T=b?new HO(c,b):c,D=T.get(tC,null);if(null===D)throw new xe(407,!1);const se={rendererFactory:D,sanitizer:T.get(D2,null),effectManager:T.get(TS,null),afterRenderEventManager:T.get(gS,null)},Ie=D.createRenderer(null,this.componentDef),Be=this.componentDef.selectors[0][0]||"div",ft=p?function FO(s,c,d,p){const b=p.get(EO,!1)||d===_t.ShadowDom,T=s.selectRootElement(c,b);return function LO(s){_a(s)}(T),T}(Ie,p,this.componentDef.encapsulation,T):pc(Ie,Be,function zO(s){const c=s.toLowerCase();return"svg"===c?Xd:"math"===c?"math":null}(Be)),vn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let yt=null;null!==ft&&(yt=Qw(ft,T,!0));const Yn=N_(0,null,null,1,0,null,null,null,null,null,null),ui=lC(null,Yn,null,vn,null,null,se,Ie,T,null,yt);let mr,qa;ql(ui);try{const Rh=this.componentDef;let Lf,RE=null;Rh.findHostDirectiveDefs?(Lf=[],RE=new Map,Rh.findHostDirectiveDefs(Rh,Lf,RE),Lf.push(Rh)):Lf=[Rh];const NE=function IC(s,c){const d=s[Et],p=ei;return s[p]=c,Nm(d,p,2,"#host",null)}(ui,ft),FE=function kS(s,c,d,p,_,b,T){const D=_[Et];!function $O(s,c,d,p){for(const _ of s)c.mergedAttrs=Yo(c.mergedAttrs,_.hostAttrs);null!==c.mergedAttrs&&(H_(c,c.mergedAttrs,!0),null!==d&&b_(p,d,c))}(p,s,c,T);let P=null;null!==c&&(P=Qw(c,_[sa]));const B=b.rendererFactory.createRenderer(c,d);let W=16;d.signals?W=4096:d.onPush&&(W=64);const se=lC(_,_S(d),null,W,_[s.index],s,b,B,null,null,P);return D.firstCreatePass&&mb(D,s,p.length-1),xp(_,se),_[s.index]=se}(NE,ft,Rh,Lf,ui,se,Ie);qa=Jd(Yn,ei),ft&&function TC(s,c,d,p){if(p)Ko(s,d,["ng-version",lO.full]);else{const{attrs:_,classes:b}=function Ro(s){const c=[],d=[];let p=1,_=2;for(;p<s.length;){let b=s[p];if("string"==typeof b)2===_?""!==b&&c.push(b,s[++p]):8===_&&d.push(b);else{if(!$r(_))break;_=b}p++}return{attrs:c,classes:d}}(c.selectors[0]);_&&Ko(s,d,_),b&&b.length>0&&AT(s,d,b.join(" "))}}(Ie,Rh,ft,p),void 0!==d&&function SC(s,c,d){const p=s.projection=[];for(let _=0;_<c.length;_++){const b=d[_];p.push(null!=b?Array.from(b):null)}}(qa,this.ngContentSelectors,d),mr=function wb(s,c,d,p,_,b){const T=Io(),D=_[Et],P=jo(T,_);yS(D,_,T,d,null,p);for(let W=0;W<d.length;W++)V(La(_,D,T.directiveStart+W,T),_);pb(D,_,T),P&&V(P,_);const B=La(_,D,T.directiveStart+T.componentOffset,T);if(s[Pi]=_[Pi]=B,null!==b)for(const W of b)W(B,c);return Zn(D,T,s),B}(FE,Rh,Lf,RE,ui,[OS]),gb(Yn,ui,null)}finally{lc()}return new q_(this.componentType,mr,Om(qa,ui),ui,qa)}}class q_ extends aS{constructor(c,d,p,_,b){super(),this.location=p,this._rootLView=_,this._tNode=b,this.previousInputValues=null,this.instance=d,this.hostView=this.changeDetectorRef=new jO(_),this.componentType=c}setInput(c,d){const p=this._tNode.inputs;let _;if(null!==p&&(_=p[c])){if(this.previousInputValues??=new Map,this.previousInputValues.has(c)&&Object.is(this.previousInputValues.get(c),d))return;const b=this._rootLView;z_(b[Et],b,_,c,d),this.previousInputValues.set(c,d),lb(Ki(this._tNode.index,b))}}get injector(){return new Ri(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function OS(){const s=Io();Fa(pt()[Et],s)}function Ip(s){let c=function PS(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),d=!0;const p=[s];for(;c;){let _;if(di(s))_=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new xe(903,!1);_=c.\u0275dir}if(_){if(d){p.push(_);const T=s;T.inputs=G_(s.inputs),T.inputTransforms=G_(s.inputTransforms),T.declaredInputs=G_(s.declaredInputs),T.outputs=G_(s.outputs);const D=_.hostBindings;D&&qO(s,D);const P=_.viewQuery,B=_.contentQueries;if(P&&NS(s,P),B&&Cb(s,B),G(s.inputs,_.inputs),G(s.declaredInputs,_.declaredInputs),G(s.outputs,_.outputs),null!==_.inputTransforms&&(null===T.inputTransforms&&(T.inputTransforms={}),G(T.inputTransforms,_.inputTransforms)),di(_)&&_.data.animation){const W=s.data;W.animation=(W.animation||[]).concat(_.data.animation)}}const b=_.features;if(b)for(let T=0;T<b.length;T++){const D=b[T];D&&D.ngInherit&&D(s),D===Ip&&(d=!1)}}c=Object.getPrototypeOf(c)}!function RS(s){let c=0,d=null;for(let p=s.length-1;p>=0;p--){const _=s[p];_.hostVars=c+=_.hostVars,_.hostAttrs=Yo(_.hostAttrs,d=Yo(d,_.hostAttrs))}}(p)}function G_(s){return s===Zt?{}:s===Pt?[]:s}function NS(s,c){const d=s.viewQuery;s.viewQuery=d?(p,_)=>{c(p,_),d(p,_)}:c}function Cb(s,c){const d=s.contentQueries;s.contentQueries=d?(p,_,b)=>{c(p,_,b),d(p,_,b)}:c}function qO(s,c){const d=s.hostBindings;s.hostBindings=d?(p,_)=>{c(p,_),d(p,_)}:c}function MC(s){const c=s.inputConfig,d={};for(const p in c)if(c.hasOwnProperty(p)){const _=c[p];Array.isArray(_)&&_[2]&&(d[p]=_[2])}s.inputTransforms=d}function W_(s){return!!Ib(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function Ib(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Uu(s,c,d){return s[c]=d}function ps(s,c,d){return!Object.is(s[c],d)&&(s[c]=d,!0)}function Eh(s,c,d,p){const _=ps(s,c,d);return ps(s,c+1,p)||_}function zm(s,c,d,p){const _=pt();return ps(_,Xr(),c)&&(ii(),Fu(sr(),_,s,c,d,p)),zm}function Tp(s,c,d,p){return ps(s,Xr(),d)?c+$e(d)+p:si}function Hm(s,c,d,p,_,b){const D=Eh(s,function hr(){return In.lFrame.bindingIndex}(),d,_);return Jr(2),D?c+$e(d)+p+$e(_)+b:si}function GS(s,c,d,p,_,b,T,D){const P=pt(),B=ii(),W=s+ei,se=B.firstCreatePass?function JO(s,c,d,p,_,b,T,D,P){const B=c.consts,W=Nm(c,s,4,T||null,fl(B,D));L_(c,d,W,fl(B,P)),Fa(c,W);const se=W.tView=N_(2,W,p,_,b,c.directiveRegistry,c.pipeRegistry,null,c.schemas,B,null);return null!==c.queries&&(c.queries.template(c,W),se.queries=c.queries.embeddedTView(W)),W}(W,B,P,c,d,p,_,b,T):B.data[W];So(se,!1);const Ie=WS(B,P,se,s);Wl()&&By(B,P,Ie,se),V(Ie,P),xp(P,P[W]=xS(Ie,P,Ie,se)),Kr(se)&&Fm(B,P,se),null!=T&&Cp(P,se,D)}let WS=function tv(s,c,d,p){return dc(!0),c[on].createComment("")};function VC(s){return hl(function ep(){return In.lFrame.contextLView}(),ei+s)}function Ap(s,c,d){const p=pt();return ps(p,Xr(),c)&&El(ii(),sr(),p,s,c,p[on],d,!1),Ap}function kp(s,c,d,p,_){const T=_?"class":"style";z_(s,d,c.inputs[T],T,p)}function no(s,c,d,p){const _=pt(),b=ii(),T=ei+s,D=_[on],P=b.firstCreatePass?function eP(s,c,d,p,_,b){const T=c.consts,P=Nm(c,s,2,p,fl(T,_));return L_(c,d,P,fl(T,b)),null!==P.attrs&&H_(P,P.attrs,!1),null!==P.mergedAttrs&&H_(P,P.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,P),P}(T,b,_,c,d,p):b.data[T],B=ZS(b,_,P,D,c,s);_[T]=B;const W=Kr(P);return So(P,!0),b_(D,B,P),32!=(32&P.flags)&&Wl()&&By(b,_,B,P),0===function rd(){return In.lFrame.elementDepthCount}()&&V(B,_),function Br(){In.lFrame.elementDepthCount++}(),W&&(Fm(b,_,P),Zn(b,P,_)),null!==p&&Cp(_,P),no}function iv(){let s=Io();Yi()?ao():(s=s.parent,So(s,!1));const c=s;(function Vc(s){return In.skipHydrationRootTNode===s})(c)&&function ac(){In.skipHydrationRootTNode=null}(),function qh(){In.lFrame.elementDepthCount--}();const d=ii();return d.firstCreatePass&&(Fa(d,s),al(s)&&d.queries.elementEnd(s)),null!=c.classesWithoutHost&&function ud(s){return 0!=(8&s.flags)}(c)&&kp(d,c,pt(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Zl(s){return 0!=(16&s.flags)}(c)&&kp(d,c,pt(),c.stylesWithoutHost,!1),iv}function BC(s,c,d,p){return no(s,c,d,p),iv(),BC}let ZS=(s,c,d,p,_,b)=>(dc(!0),pc(p,_,function ar(){return In.lFrame.currentNamespace}()));function rv(s,c,d){const p=pt(),_=ii(),b=s+ei,T=_.firstCreatePass?function YS(s,c,d,p,_){const b=c.consts,T=fl(b,p),D=Nm(c,s,8,"ng-container",T);return null!==T&&H_(D,T,!0),L_(c,d,D,fl(b,_)),null!==c.queries&&c.queries.elementStart(c,D),D}(b,_,p,c,d):_.data[b];So(T,!0);const D=Vu(_,p,T,s);return p[b]=D,Wl()&&By(_,p,D,T),V(D,p),Kr(T)&&(Fm(_,p,T),Zn(_,T,p)),null!=d&&Cp(p,T),rv}function Op(){let s=Io();const c=ii();return Yi()?ao():(s=s.parent,So(s,!1)),c.firstCreatePass&&(Fa(c,s),al(s)&&c.queries.elementEnd(s)),Op}function Pb(s,c,d){return rv(s,c,d),Op(),Pb}let Vu=(s,c,d,p)=>(dc(!0),Ks(c[on],""));function jC(){return pt()}function ov(s){return!!s&&"function"==typeof s.then}function Qm(s){return!!s&&"function"==typeof s.subscribe}function Rb(s,c,d,p){const _=pt(),b=ii(),T=Io();return function zC(s,c,d,p,_,b,T){const D=Kr(p),B=s.firstCreatePass&&vC(s),W=c[Pi],se=_C(c);let Ie=!0;if(3&p.type||T){const St=jo(p,c),Wt=T?T(St):St,vn=se.length,yt=T?ui=>T(Ii(ui[p.index])):p.index;let Yn=null;if(!T&&D&&(Yn=function Fb(s,c,d,p){const _=s.cleanup;if(null!=_)for(let b=0;b<_.length-1;b+=2){const T=_[b];if(T===d&&_[b+1]===p){const D=c[Qo],P=_[b+2];return D.length>P?D[P]:null}"string"==typeof T&&(b+=2)}return null}(s,c,_,p.index)),null!==Yn)(Yn.__ngLastListenerFn__||Yn).__ngNextListenerFn__=b,Yn.__ngLastListenerFn__=b,Ie=!1;else{b=XS(p,c,W,b,!1);const ui=d.listen(Wt,_,b);se.push(b,ui),B&&B.push(_,yt,vn,vn+1)}}else b=XS(p,c,W,b,!1);const Be=p.outputs;let ft;if(Ie&&null!==Be&&(ft=Be[_])){const St=ft.length;if(St)for(let Wt=0;Wt<St;Wt+=2){const mr=c[ft[Wt]][ft[Wt+1]].subscribe(b),qa=se.length;se.push(b,mr),B&&B.push(_,p.index,qa,-(qa+1))}}}(b,_,_[on],T,s,c,p),Rb}function sv(s,c,d,p){try{return xs(6,c,d),!1!==d(p)}catch(_){return j_(s,_),!1}finally{xs(7,c,d)}}function XS(s,c,d,p,_){return function b(T){if(T===Function)return p;lb(s.componentOffset>-1?Ki(s.index,c):c);let P=sv(c,d,p,T),B=b.__ngNextListenerFn__;for(;B;)P=sv(c,d,B,T)&&P,B=B.__ngNextListenerFn__;return _&&!1===P&&T.preventDefault(),P}}function HC(s=1){return function uc(s){return(In.lFrame.contextLView=function Gl(s,c){for(;s>0;)c=c[Cr],s--;return c}(s,In.lFrame.contextLView))[Pi]}(s)}function av(s,c){let d=null;const p=function Ju(s){const c=s.attrs;if(null!=c){const d=c.indexOf(5);if(!(1&d))return c[d+1]}return null}(s);for(let _=0;_<c.length;_++){const b=c[_];if("*"!==b){if(null===p?Ja(s,b,!0):Cc(p,b))return _}else d=_}return d}function $C(s){const c=pt()[xr][Bn];if(!c.projection){const p=c.projection=vd(s?s.length:1,null),_=p.slice();let b=c.child;for(;null!==b;){const T=s?av(b,s):0;null!==T&&(_[T]?_[T].projectionNext=b:p[T]=b,_[T]=b),b=b.next}}}function qC(s,c=0,d){const p=pt(),_=ii(),b=Nm(_,ei+s,16,null,d||null);null===b.projection&&(b.projection=c),ao(),(!p[Vi]||Es())&&32!=(32&b.flags)&&function Aw(s,c,d){MT(c[on],0,c,d,wT(s,d,c),IT(d.parent||c[Bn],d,c))}(_,p,b)}function cv(s,c,d){return lv(s,"",c,"",d),cv}function lv(s,c,d,p,_){const b=pt(),T=Tp(b,c,d,p);return T!==si&&El(ii(),sr(),b,s,T,b[on],_,!1),lv}function dv(s,c){return s<<17|c<<2}function Bu(s){return s>>17&32767}function Lb(s){return 2|s}function au(s){return(131068&s)>>2}function XC(s,c){return-131069&s|c<<2}function hv(s){return 1|s}function ex(s,c,d,p,_){const b=s[d+1],T=null===c;let D=p?Bu(b):au(b),P=!1;for(;0!==D&&(!1===P||T);){const W=s[D+1];tx(s[D],c)&&(P=!0,s[D+1]=p?hv(W):Lb(W)),D=p?Bu(W):au(W)}P&&(s[d+1]=p?Lb(b):hv(b))}function tx(s,c){return null===s||null==c||(Array.isArray(s)?s[1]:s)===c||!(!Array.isArray(s)||"string"!=typeof c)&&eu(s,c)>=0}const uo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ub(s){return s.substring(uo.key,uo.keyEnd)}function Tl(s,c){const d=uo.textEnd;return d===c?-1:(c=uo.keyEnd=function Vb(s,c,d){for(;c<d&&s.charCodeAt(c)>32;)c++;return c}(s,uo.key=c,d),kd(s,c,d))}function kd(s,c,d){for(;c<d&&s.charCodeAt(c)<=32;)c++;return c}function nx(s,c,d){return Hu(s,c,d,!1),nx}function ix(s,c){return Hu(s,c,null,!0),ix}function mv(s){!function za(s,c,d,p){const _=ii(),b=Jr(2);_.firstUpdatePass&&As(_,null,b,p);const T=pt();if(d!==si&&ps(T,b,d)){const D=_.data[ts()];if(ms(D,p)&&!rx(_,b)){let P=p?D.classesWithoutHost:D.stylesWithoutHost;null!==P&&(d=Ne(P,d||"")),kp(_,D,T,d,p)}else!function wn(s,c,d,p,_,b,T,D){_===si&&(_=Pt);let P=0,B=0,W=0<_.length?_[0]:null,se=0<b.length?b[0]:null;for(;null!==W||null!==se;){const Ie=P<_.length?_[P+1]:void 0,Be=B<b.length?b[B+1]:void 0;let St,ft=null;W===se?(P+=2,B+=2,Ie!==Be&&(ft=se,St=Be)):null===se||null!==W&&W<se?(P+=2,ft=W):(B+=2,ft=se,St=Be),null!==ft&&rD(s,c,d,p,ft,St,T,D),W=P<_.length?_[P]:null,se=B<b.length?b[B]:null}}(_,D,T,T[on],T[b+1],T[b+1]=function cu(s,c,d){if(null==d||""===d)return Pt;const p=[],_=Id(d);if(Array.isArray(_))for(let b=0;b<_.length;b++)s(p,_[b],!0);else if("object"==typeof _)for(const b in _)_.hasOwnProperty(b)&&s(p,b,_[b]);else"string"==typeof _&&c(p,_);return p}(s,c,d),p,b)}}(ln,Od,s,!0)}function Od(s,c){for(let d=function Sh(s){return function pv(s){uo.key=0,uo.keyEnd=0,uo.value=0,uo.valueEnd=0,uo.textEnd=s.length}(s),Tl(s,kd(s,0,uo.textEnd))}(c);d>=0;d=Tl(c,d))Gs(s,Ub(c),!0)}function Hu(s,c,d,p){const _=pt(),b=ii(),T=Jr(2);b.firstUpdatePass&&As(b,s,T,p),c!==si&&ps(_,T,c)&&rD(b,b.data[ts()],_,_[on],s,_[T+1]=function vt(s,c){return null==s||""===s||("string"==typeof c?s+=c:"object"==typeof s&&(s=de(Id(s)))),s}(c,d),p,T)}function rx(s,c){return c>=s.expandoStartIndex}function As(s,c,d,p){const _=s.data;if(null===_[d+1]){const b=_[ts()],T=rx(s,d);ms(b,p)&&null===c&&!T&&(c=!1),c=function Xm(s,c,d,p){const _=function $l(s){const c=In.lFrame.currentDirectiveIndex;return-1===c?null:s[c]}(s);let b=p?c.residualClasses:c.residualStyles;if(null===_)0===(p?c.classBindings:c.styleBindings)&&(d=io(d=Tt(null,s,c,d,p),c.attrs,p),b=null);else{const T=c.directiveStylingLast;if(-1===T||s[T]!==_)if(d=Tt(_,s,c,d,p),null===b){let P=function bf(s,c,d){const p=d?c.classBindings:c.styleBindings;if(0!==au(p))return s[Bu(p)]}(s,c,p);void 0!==P&&Array.isArray(P)&&(P=Tt(null,s,c,P[1],p),P=io(P,c.attrs,p),function ox(s,c,d,p){s[Bu(d?c.classBindings:c.styleBindings)]=p}(s,c,p,P))}else b=function oP(s,c,d){let p;const _=c.directiveEnd;for(let b=1+c.directiveStylingLast;b<_;b++)p=io(p,s[b].hostAttrs,d);return io(p,c.attrs,d)}(s,c,p)}return void 0!==b&&(p?c.residualClasses=b:c.residualStyles=b),d}(_,b,c,p),function JC(s,c,d,p,_,b){let T=b?c.classBindings:c.styleBindings,D=Bu(T),P=au(T);s[p]=d;let W,B=!1;if(Array.isArray(d)?(W=d[1],(null===W||eu(d,W)>0)&&(B=!0)):W=d,_)if(0!==P){const Ie=Bu(s[D+1]);s[p+1]=dv(Ie,D),0!==Ie&&(s[Ie+1]=XC(s[Ie+1],p)),s[D+1]=function JS(s,c){return 131071&s|c<<17}(s[D+1],p)}else s[p+1]=dv(D,0),0!==D&&(s[D+1]=XC(s[D+1],p)),D=p;else s[p+1]=dv(P,0),0===D?D=p:s[P+1]=XC(s[P+1],p),P=p;B&&(s[p+1]=Lb(s[p+1])),ex(s,W,p,!0),ex(s,W,p,!1),function Ad(s,c,d,p,_){const b=_?s.residualClasses:s.residualStyles;null!=b&&"string"==typeof c&&eu(b,c)>=0&&(d[p+1]=hv(d[p+1]))}(c,W,s,p,b),T=dv(D,P),b?c.classBindings=T:c.styleBindings=T}(_,b,c,d,T,p)}}function Tt(s,c,d,p,_){let b=null;const T=d.directiveEnd;let D=d.directiveStylingLast;for(-1===D?D=d.directiveStart:D++;D<T&&(b=c[D],p=io(p,b.hostAttrs,_),b!==s);)D++;return null!==s&&(d.directiveStylingLast=D),p}function io(s,c,d){const p=d?1:2;let _=-1;if(null!==c)for(let b=0;b<c.length;b++){const T=c[b];"number"==typeof T?_=T:_===p&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Gs(s,T,!!d||c[++b]))}return void 0===s?null:s}function ln(s,c,d){const p=String(c);""!==p&&!p.includes(" ")&&Gs(s,p,d)}function rD(s,c,d,p,_,b,T,D){if(!(3&c.type))return;const P=s.data,B=P[D+1],W=function ju(s){return 1==(1&s)}(B)?Gt(P,c,d,_,au(B),T):void 0;tt(W)||(tt(b)||function Il(s){return 2==(2&s)}(B)&&(b=Gt(P,null,d,_,D,T)),function kw(s,c,d,p,_){if(c)_?s.addClass(d,p):s.removeClass(d,p);else{let b=-1===p.indexOf("-")?void 0:_h.DashCase;null==_?s.removeStyle(d,p,b):("string"==typeof _&&_.endsWith("!important")&&(_=_.slice(0,-10),b|=_h.Important),s.setStyle(d,p,_,b))}}(p,T,Ra(ts(),d),_,b))}function Gt(s,c,d,p,_,b){const T=null===c;let D;for(;_>0;){const P=s[_],B=Array.isArray(P),W=B?P[1]:P,se=null===W;let Ie=d[_+1];Ie===si&&(Ie=se?Pt:void 0);let Be=se?op(Ie,p):W===p?Ie:void 0;if(B&&!tt(Be)&&(Be=op(P,p)),tt(Be)&&(D=Be,T))return D;const ft=s[_+1];_=T?Bu(ft):au(ft)}if(null!==c){let P=b?c.residualClasses:c.residualStyles;null!=P&&(D=op(P,p))}return D}function tt(s){return void 0!==s}function ms(s,c){return 0!=(s.flags&(c?8:16))}function sx(s,c=""){const d=pt(),p=ii(),_=s+ei,b=p.firstCreatePass?Nm(p,_,1,c,null):p.data[_],T=oD(p,d,b,c,s);d[_]=T,Wl()&&By(p,d,T,b),So(b,!1)}let oD=(s,c,d,p,_)=>(dc(!0),function Ed(s,c){return s.createText(c)}(c[on],p));function ax(s){return jb("",s,""),ax}function jb(s,c,d){const p=pt(),_=Tp(p,s,c,d);return _!==si&&Lu(p,ts(),_),jb}function zb(s,c,d,p,_){const b=pt(),T=Hm(b,s,c,d,p,_);return T!==si&&Lu(b,ts(),T),zb}function Pd(s,c,d){const p=pt();return ps(p,Xr(),c)&&El(ii(),sr(),p,s,c,p[on],d,!0),Pd}const Dl=void 0;var px=["en",[["a","p"],["AM","PM"],Dl],[["AM","PM"],Dl,Dl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dl,"{1} 'at' {0}",Dl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function hD(s){const d=Math.floor(Math.abs(s)),p=s.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===p?1:5}];let eg={};function mc(s){const c=function fD(s){return s.toLowerCase().replace(/_/g,"-")}(s);let d=mx(c);if(d)return d;const p=c.split("-")[0];if(d=mx(p),d)return d;if("en"===p)return px;throw new xe(701,!1)}function tg(s){return mc(s)[ng.PluralCase]}function mx(s){return s in eg||(eg[s]=Ee.ng&&Ee.ng.common&&Ee.ng.common.locales&&Ee.ng.common.locales[s]),eg[s]}var ng=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(ng||{});const Mh="en-US";let gD=Mh;function Mx(s,c,d,p,_){if(s=st(s),Array.isArray(s))for(let b=0;b<s.length;b++)Mx(s[b],c,d,p,_);else{const b=ii(),T=pt(),D=Io();let P=mp(s)?s:st(s.provide);const B=Hw(s),W=1048575&D.providerIndexes,se=D.directiveStart,Ie=D.providerIndexes>>20;if(mp(s)||!s.multi){const Be=new ad(B,_,Rm),ft=Ax(P,c,_?W:W+Ie,se);-1===ft?(Ql($s(D,T),b,P),t0(b,s,c.length),c.push(P),D.directiveStart++,D.directiveEnd++,_&&(D.providerIndexes+=1048576),d.push(Be),T.push(Be)):(d[ft]=Be,T[ft]=Be)}else{const Be=Ax(P,c,W+Ie,se),ft=Ax(P,c,W,W+Ie),Wt=ft>=0&&d[ft];if(_&&!Wt||!_&&!(Be>=0&&d[Be])){Ql($s(D,T),b,P);const vn=function Ev(s,c,d,p,_){const b=new ad(s,d,Rm);return b.multi=[],b.index=c,b.componentProviders=0,ND(b,_,p&&!d),b}(_?kx:EP,d.length,_,p,B);!_&&Wt&&(d[ft].providerFactory=vn),t0(b,s,c.length,0),c.push(P),D.directiveStart++,D.directiveEnd++,_&&(D.providerIndexes+=1048576),d.push(vn),T.push(vn)}else t0(b,s,Be>-1?Be:ft,ND(d[_?ft:Be],B,!_&&p));!_&&p&&Wt&&d[ft].componentProviders++}}}function t0(s,c,d,p){const _=mp(c),b=function QT(s){return!!s.useClass}(c);if(_||b){const P=(b?st(c.useClass):c).prototype.ngOnDestroy;if(P){const B=s.destroyHooks||(s.destroyHooks=[]);if(!_&&c.multi){const W=B.indexOf(d);-1===W?B.push(d,[p,P]):B[W+1].push(p,P)}else B.push(d,P)}}}function ND(s,c,d){return d&&s.componentProviders++,s.multi.push(c)-1}function Ax(s,c,d,p){for(let _=d;_<p;_++)if(c[_]===s)return _;return-1}function EP(s,c,d,p){return kh(this.multi,[])}function kx(s,c,d,p){const _=this.multi;let b;if(this.providerFactory){const T=this.providerFactory.componentProviders,D=La(d,d[Et],this.providerFactory.index,p);b=D.slice(0,T),kh(_,b);for(let P=T;P<D.length;P++)b.push(D[P])}else b=[],kh(_,b);return b}function kh(s,c){for(let d=0;d<s.length;d++)c.push((0,s[d])());return c}function Iv(s,c=[]){return d=>{d.providersResolver=(p,_)=>function RD(s,c,d){const p=ii();if(p.firstCreatePass){const _=di(s);Mx(d,p.data,p.blueprint,_,!0),Mx(c,p.data,p.blueprint,_,!1)}}(p,_?_(s):s,c)}}class Ld{}class Ox{}function FD(s,c){return new n0(s,c??null,[])}class n0 extends Ld{constructor(c,d,p){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new EC(this);const _=wr(c);this._bootstrapComponents=hf(_.bootstrap),this._r3Injector=uS(c,d,[{provide:Ld,useValue:this},{provide:ab,useValue:this.componentFactoryResolver},...p],de(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Ef extends Ox{constructor(c){super(),this.moduleType=c}create(c){return new n0(this.moduleType,c,[])}}class r0 extends Ld{constructor(c){super(),this.componentFactoryResolver=new EC(this),this.instance=null;const d=new Qy([...c.providers,{provide:Ld,useValue:this},{provide:ab,useValue:this.componentFactoryResolver}],c.parent||gp(),c.debugName,new Set(["environment"]));this.injector=d,c.runEnvironmentInitializers&&d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function Tv(s,c,d=null){return new r0({providers:s,parent:c,debugName:d,runEnvironmentInitializers:!0}).injector}let Px=(()=>{class s{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d)){const p=ZT(0,d.type),_=p.length>0?Tv([p],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d,_)}return this.cachedInjectors.get(d)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=fn({token:s,providedIn:"environment",factory:()=>new s(Dt(Nu))})}return s})();function If(s){s.getStandaloneInjector=c=>c.get(Px).getOrCreateStandaloneInjector(s)}function Fx(s,c,d){const p=Qi()+s,_=pt();return _[p]===si?Uu(_,p,d?c.call(d):c()):function Bm(s,c){return s[c]}(_,p)}function lg(s,c,d,p){return ZD(pt(),Qi(),s,c,d,p)}function $D(s,c,d,p,_){return KD(pt(),Qi(),s,c,d,p,_)}function Sf(s,c){const d=s[c];return d===si?void 0:d}function ZD(s,c,d,p,_,b){const T=c+d;return ps(s,T,_)?Uu(s,T+1,b?p.call(b,_):p(_)):Sf(s,T+1)}function KD(s,c,d,p,_,b,T){const D=c+d;return Eh(s,D,_,b)?Uu(s,D+2,T?p.call(T,_,b):p(_,b)):Sf(s,D+2)}function Ux(s,c,d,p,_,b,T,D){const P=c+d;return function jm(s,c,d,p,_){const b=Eh(s,c,d,p);return ps(s,c+2,_)||b}(s,P,_,b,T)?Uu(s,P+3,D?p.call(D,_,b,T):p(_,b,T)):Sf(s,P+3)}function Vx(s,c){const d=ii();let p;const _=s+ei;d.firstCreatePass?(p=function zp(s,c){if(c)for(let d=c.length-1;d>=0;d--){const p=c[d];if(s===p.name)return p}}(c,d.pipeRegistry),d.data[_]=p,p.onDestroy&&(d.destroyHooks??=[]).push(_,p.onDestroy)):p=d.data[_];const b=p.factory||(p.factory=Vs(p.type)),D=zt(Rm);try{const P=ds(!1),B=b();return ds(P),function UC(s,c,d,p){d>=s.data.length&&(s.data[d]=null,s.blueprint[d]=null),c[d]=p}(d,pt(),_,B),B}finally{zt(D)}}function Bx(s,c,d){const p=s+ei,_=pt(),b=hl(_,p);return Dr(_,p)?ZD(_,Qi(),c,b.transform,d,b):b.transform(d)}function jx(s,c,d,p){const _=s+ei,b=pt(),T=hl(b,_);return Dr(b,_)?KD(b,Qi(),c,T.transform,d,p,T):T.transform(d,p)}function ug(s,c,d,p,_){const b=s+ei,T=pt(),D=hl(T,b);return Dr(T,b)?Ux(T,Qi(),c,D.transform,d,p,_,D):D.transform(d,p,_)}function Dr(s,c){return s[Et].data[c].pure}function a0(){return this._results[Symbol.iterator]()}class Hp{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Dd)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Hp.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=a0)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const p=this;p.dirty=!1;const _=function Fr(s){return s.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function Ba(s,c,d){if(s.length!==c.length)return!1;for(let p=0;p<s.length;p++){let _=s[p],b=c[p];if(d&&(_=d(_),b=d(b)),b!==_)return!1}return!0}(p._results,_,d))&&(p._results=_,p.length=_.length,p.last=_[this.length-1],p.first=_[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Av(s,c,d,p=!0){const _=c[Et];if(function v2(s,c,d,p){const _=Hi+p,b=d.length;p>0&&(d[_-1][so]=c),p<b-Hi?(c[so]=d[_],a_(d,Hi+p,c)):(d.push(c),c[so]=null),c[Ei]=d;const T=c[ys];null!==T&&d!==T&&function Tw(s,c){const d=s[Wr];c[xr]!==c[Ei][Ei][xr]&&(s[Ma]=!0),null===d?s[Wr]=[c]:d.push(c)}(T,c);const D=c[Er];null!==D&&D.insertView(s),c[En]|=128}(_,c,s,d),p){const b=jy(d,s),T=c[on],D=g_(T,s[kr]);null!==D&&function Sk(s,c,d,p,_,b){p[Oi]=_,p[Bn]=c,yh(s,p,d,1,_,b)}(_,s[Bn],T,c,D,b)}}let dg=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=QD}return s})();const hg=dg,Oh=class extends hg{constructor(c,d,p){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=p}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(c,d){return this.createEmbeddedViewImpl(c,d)}createEmbeddedViewImpl(c,d,p){const _=function YD(s,c,d,p){const _=c.tView,D=lC(s,_,d,4096&s[En]?4096:16,null,c,null,null,null,p?.injector??null,p?.hydrationInfo??null);D[ys]=s[c.index];const B=s[Er];return null!==B&&(D[Er]=B.createEmbeddedView(_)),gb(_,D,d),D}(this._declarationLView,this._declarationTContainer,c,{injector:d,hydrationInfo:p});return new $_(_)}};function QD(){return kv(Io(),pt())}function kv(s,c){return 4&s.type?new Oh(c,s,Om(s,c)):null}let Ov=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=JD}return s})();function JD(){return Zx(Io(),pt())}const qx=Ov,Pv=class extends qx{constructor(c,d,p){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=p}get element(){return Om(this._hostTNode,this._hostLView)}get injector(){return new Ri(this._hostTNode,this._hostLView)}get parentInjector(){const c=Yl(this._hostTNode,this._hostLView);if(jc(c)){const d=gl(c,this._hostLView),p=zc(c);return new Ri(d[Et].data[p+8],d)}return new Ri(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=Gx(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-Hi}createEmbeddedView(c,d,p){let _,b;"number"==typeof p?_=p:null!=p&&(_=p.index,b=p.injector);const D=c.createEmbeddedViewImpl(d||{},b,null);return this.insertImpl(D,_,false),D}createComponent(c,d,p,_,b){const T=c&&!function Va(s){return"function"==typeof s}(c);let D;if(T)D=d;else{const St=d||{};D=St.index,p=St.injector,_=St.projectableNodes,b=St.environmentInjector||St.ngModuleRef}const P=T?c:new xh(jn(c)),B=p||this.parentInjector;if(!b&&null==P.ngModule){const Wt=(T?B:this.parentInjector).get(Nu,null);Wt&&(b=Wt)}jn(P.componentType??{});const Be=P.create(B,_,null,b);return this.insertImpl(Be.hostView,D,false),Be}insert(c,d){return this.insertImpl(c,d,!1)}insertImpl(c,d,p){const _=c._lView;if(function Hs(s){return Tr(s[Ei])}(_)){const P=this.indexOf(c);if(-1!==P)this.detach(P);else{const B=_[Ei],W=new Pv(B,B[Bn],B[Ei]);W.detach(W.indexOf(c))}}const T=this._adjustIndex(d),D=this._lContainer;return Av(D,_,T,!p),c.attachToViewContainerRef(),a_(Wx(D),T,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=Gx(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),p=Uy(this._lContainer,d);p&&(_d(Wx(this._lContainer),d),Sw(p[Et],p))}detach(c){const d=this._adjustIndex(c,-1),p=Uy(this._lContainer,d);return p&&null!=_d(Wx(this._lContainer),d)?new $_(p):null}_adjustIndex(c,d=0){return c??this.length+d}};function Gx(s){return s[8]}function Wx(s){return s[8]||(s[8]=[])}function Zx(s,c){let d;const p=c[s.index];return Tr(p)?d=p:(d=xS(p,c,null,s),c[s.index]=d,xp(c,d)),l0(d,c,s,p),new Pv(d,s,c)}let l0=function mg(s,c,d,p){if(s[kr])return;let _;_=8&d.type?Ii(p):function eM(s,c){const d=s[on],p=d.createComment(""),_=jo(c,s);return up(d,g_(d,_),p,function kk(s,c){return s.nextSibling(c)}(d,_),!1),p}(c,d),s[kr]=_};class gg{constructor(c){this.queryList=c,this.matches=null}clone(){return new gg(this.queryList)}setDirty(){this.queryList.setDirty()}}class u0{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const p=null!==c.contentQueries?c.contentQueries[0]:d.length,_=[];for(let b=0;b<p;b++){const T=d.getByIndex(b);_.push(this.queries[T.indexInDeclarationView].clone())}return new u0(_)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==qu(c,d).matches&&this.queries[d].setDirty()}}class Kx{constructor(c,d,p=null){this.predicate=c,this.flags=d,this.read=p}}class d0{constructor(c=[]){this.queries=c}elementStart(c,d){for(let p=0;p<this.queries.length;p++)this.queries[p].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let p=0;p<this.length;p++){const _=null!==d?d.length:0,b=this.getByIndex(p).embeddedTView(c,_);b&&(b.indexInDeclarationView=p,null!==d?d.push(b):d=[b])}return null!==d?new d0(d):null}template(c,d){for(let p=0;p<this.queries.length;p++)this.queries[p].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Yx{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new Yx(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let p=c.parent;for(;null!==p&&8&p.type&&p.index!==d;)p=p.parent;return d===(null!==p?p.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const p=this.metadata.predicate;if(Array.isArray(p))for(let _=0;_<p.length;_++){const b=p[_];this.matchTNodeWithReadOption(c,d,tM(d,b)),this.matchTNodeWithReadOption(c,d,pd(d,c,b,!1,!1))}else p===dg?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,pd(d,c,p,!1,!1))}matchTNodeWithReadOption(c,d,p){if(null!==p){const _=this.metadata.read;if(null!==_)if(_===Pm||_===Ov||_===dg&&4&d.type)this.addMatch(d.index,-2);else{const b=pd(d,c,_,!1,!1);null!==b&&this.addMatch(d.index,b)}else this.addMatch(d.index,p)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function tM(s,c){const d=s.localNames;if(null!==d)for(let p=0;p<d.length;p+=2)if(d[p]===c)return d[p+1];return null}function kP(s,c,d,p){return-1===d?function nM(s,c){return 11&s.type?Om(s,c):4&s.type?kv(s,c):null}(c,s):-2===d?function OP(s,c,d){return d===Pm?Om(c,s):d===dg?kv(c,s):d===Ov?Zx(c,s):void 0}(s,c,p):La(s,s[Et],d,c)}function iM(s,c,d,p){const _=c[Er].queries[p];if(null===_.matches){const b=s.data,T=d.matches,D=[];for(let P=0;P<T.length;P+=2){const B=T[P];D.push(B<0?null:kP(c,b[B],T[P+1],d.metadata.read))}_.matches=D}return _.matches}function Qx(s,c,d,p){const _=s.queries.getByIndex(d),b=_.matches;if(null!==b){const T=iM(s,c,_,d);for(let D=0;D<b.length;D+=2){const P=b[D];if(P>0)p.push(T[D/2]);else{const B=b[D+1],W=c[-P];for(let se=Hi;se<W.length;se++){const Ie=W[se];Ie[ys]===Ie[Ei]&&Qx(Ie[Et],Ie,B,p)}if(null!==W[Wr]){const se=W[Wr];for(let Ie=0;Ie<se.length;Ie++){const Be=se[Ie];Qx(Be[Et],Be,B,p)}}}}}return p}function h0(s){const c=pt(),d=ii(),p=oh();pl(p+1);const _=qu(d,p);if(s.dirty&&function eh(s){return 4==(4&s[En])}(c)===(2==(2&_.metadata.flags))){if(null===_.matches)s.reset([]);else{const b=_.crossesNgTemplate?Qx(d,c,p,[]):iM(d,c,_,p);s.reset(b,cO),s.notifyOnChanges()}return!0}return!1}function $p(s,c,d){const p=ii();p.firstCreatePass&&(Jx(p,new Kx(s,c,d),-1),2==(2&c)&&(p.staticViewQueries=!0)),f0(p,pt(),c)}function Xx(s,c,d,p){const _=ii();if(_.firstCreatePass){const b=Io();Jx(_,new Kx(c,d,p),b.index),function Fv(s,c){const d=s.contentQueries||(s.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(s.queries.length-1,c)}(_,s),2==(2&d)&&(_.staticContentQueries=!0)}f0(_,pt(),d)}function rM(){return function rs(s,c){return s[Er].queries[c].queryList}(pt(),oh())}function f0(s,c,d){const p=new Hp(4==(4&d));(function ff(s,c,d,p){const _=_C(c);_.push(d),s.firstCreatePass&&vC(s).push(p,_.length-1)})(s,c,p,p.destroy),null===c[Er]&&(c[Er]=new u0),c[Er].queries.push(new gg(p))}function Jx(s,c,d){null===s.queries&&(s.queries=new d0),s.queries.track(new Yx(c,d))}function qu(s,c){return s.queries.getByIndex(c)}function p0(s,c){return kv(s,c)}function qp(s){return!!wr(s)}const Vv=new nr("Application Initializer");let sE=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p}),this.appInits=Vt(Vv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const d=[];for(const _ of this.appInits){const b=_();if(ov(b))d.push(b);else if(Qm(b)){const T=new Promise((D,P)=>{b.subscribe({complete:D,error:P})});d.push(T)}}const p=()=>{this.done=!0,this.resolve()};Promise.all(d).then(()=>{p()}).catch(_=>{this.reject(_)}),0===d.length&&p(),this.initialized=!0}static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),aE=(()=>{class s{log(d){console.log(d)}warn(d){console.warn(d)}static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();const Kp=new nr("LocaleId",{providedIn:"root",factory:()=>Vt(Kp,sn.Optional|sn.SkipSelf)||function Bv(){return typeof $localize<"u"&&$localize.locale||Mh}()}),jv=new nr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let cE=(()=>{class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ce.X(!1)}add(){this.hasPendingTasks.next(!0);const d=this.taskId++;return this.pendingTasks.add(d),d}remove(d){this.pendingTasks.delete(d),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class g0{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}let _0=(()=>{class s{compileModuleSync(d){return new Ef(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const p=this.compileModuleSync(d),b=hf(wr(d).declarations).reduce((T,D)=>{const P=jn(D);return P&&T.push(new xh(P)),T},[]);return new g0(p,b)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const b0=new nr(""),Ps=new nr("");let uE,tR=(()=>{class s{constructor(d,p,_){this._ngZone=d,this.registry=p,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,uE||(function nR(s){uE=s}(_),_.addToWindow(p)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(p=>!p.updateCb||!p.updateCb(d)||(clearTimeout(p.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,p,_){let b=-1;p&&p>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==b),d(this._didWork,this.getPendingTasks())},p)),this._callbacks.push({doneCb:d,timeoutId:b,updateCb:_})}whenStable(d,p,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,p,_),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,p,_){return[]}static#e=this.\u0275fac=function(p){return new(p||s)(Dt(Qs),Dt(LM),Dt(Ps))};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac})}return s})(),LM=(()=>{class s{constructor(){this._applications=new Map}registerApplication(d,p){this._applications.set(d,p)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,p=!0){return uE?.findTestabilityInTree(this,d,p)??null}static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})(),jd=null;const UM=new nr("AllowMultipleToken"),Cg=new nr("PlatformDestroyListeners"),xg=new nr("appBootstrapListener");class zv{constructor(c,d){this.name=c,this.token=d}}function VM(s,c,d=[]){const p=`Platform: ${c}`,_=new nr(p);return(b=[])=>{let T=pE();if(!T||T.injector.get(UM,!1)){const D=[...d,...b,{provide:_,useValue:!0}];s?s(D):function C0(s){if(jd&&!jd.get(UM,!1))throw new xe(400,!1);(function w0(){!function Ye(s){ee=s}(()=>{throw new xe(600,!1)})})(),jd=s;const c=s.get(mE);(function x0(s){s.get(Xy,null)?.forEach(d=>d())})(s)}(function fE(s=[],c){return su.create({name:c,providers:[{provide:jw,useValue:"platform"},{provide:Cg,useValue:new Set([()=>jd=null])},...s]})}(D,p))}return function BM(s){const c=pE();if(!c)throw new xe(401,!1);return c}()}}function pE(){return jd?.get(mE)??null}let mE=(()=>{class s{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,p){const _=function HM(s="zone.js",c){return"noop"===s?new V2:"zone.js"===s?new Qs(c):s}(p?.ngZone,function zM(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:p?.ngZoneEventCoalescing,runCoalescing:p?.ngZoneRunCoalescing}));return _.run(()=>{const b=function LD(s,c,d){return new n0(s,c,d)}(d.moduleType,this.injector,function E0(s){return[{provide:Qs,useFactory:s},{provide:E_,multi:!0,useFactory:()=>{const c=Vt(GM,{optional:!0});return()=>c.initialize()}},{provide:gE,useFactory:qM},{provide:gO,useFactory:_O}]}(()=>_)),T=b.injector.get(Sd,null);return _.runOutsideAngular(()=>{const D=_.onError.subscribe({next:P=>{T.handleError(P)}});b.onDestroy(()=>{Eg(this._modules,b),D.unsubscribe()})}),function $M(s,c,d){try{const p=d();return ov(p)?p.catch(_=>{throw c.runOutsideAngular(()=>s.handleError(_)),_}):p}catch(p){throw c.runOutsideAngular(()=>s.handleError(p)),p}}(T,_,()=>{const D=b.injector.get(sE);return D.runInitializers(),D.donePromise.then(()=>(function _D(s){Mt(s,"Expected localeId to be defined"),"string"==typeof s&&(gD=s.toLowerCase().replace(/_/g,"-"))}(b.injector.get(Kp,Mh)||Mh),this._moduleDoBootstrap(b),b))})})}bootstrapModule(d,p=[]){const _=Xp({},p);return function iR(s,c,d){const p=new Ef(d);return Promise.resolve(p)}(0,0,d).then(b=>this.bootstrapModuleFactory(b,_))}_moduleDoBootstrap(d){const p=d.injector.get(Wu);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(_=>p.bootstrap(_));else{if(!d.instance.ngDoBootstrap)throw new xe(-403,!1);d.instance.ngDoBootstrap(p)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(p=>p.destroy()),this._destroyListeners.forEach(p=>p());const d=this._injector.get(Cg,null);d&&(d.forEach(p=>p()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(p){return new(p||s)(Dt(su))};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function Xp(s,c){return Array.isArray(c)?c.reduce(Xp,s):{...s,...c}}let Wu=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Vt(gE),this.zoneIsStable=Vt(gO),this.componentTypes=[],this.components=[],this.isStable=Vt(cE).hasPendingTasks.pipe((0,ut.w)(d=>d?(0,Pe.of)(!1):this.zoneIsStable),(0,Ve.x)(),(0,ke.B)()),this._injector=Vt(Nu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,p){const _=d instanceof oO;if(!this._injector.get(sE).done)throw!_&&Sa(d),new xe(405,!1);let T;T=_?d:this._injector.get(ab).resolveComponentFactory(d),this.componentTypes.push(T.componentType);const D=function dE(s){return s.isBoundToModule}(T)?void 0:this._injector.get(Ld),B=T.create(su.NULL,[],p||T.selector,D),W=B.location.nativeElement,se=B.injector.get(b0,null);return se?.registerApplication(W),B.onDestroy(()=>{this.detachView(B.hostView),Eg(this.components,B),se?.unregisterApplication(W)}),this._loadComponent(B),B}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1}}attachView(d){const p=d;this._views.push(p),p.attachToAppRef(this)}detachView(d){const p=d;Eg(this._views,p),p.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const p=this._injector.get(xg,[]);p.push(...this._bootstrapListeners),p.forEach(_=>_(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Eg(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new xe(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Eg(s,c){const d=s.indexOf(c);d>-1&&s.splice(d,1)}const gE=new nr("",{providedIn:"root",factory:()=>Vt(Sd).handleError.bind(void 0)});function qM(){const s=Vt(Qs),c=Vt(Sd);return d=>s.runOutsideAngular(()=>c.handleError(d))}let GM=(()=>{class s{constructor(){this.zone=Vt(Qs),this.applicationRef=Vt(Wu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function _E(){return!1}let qv=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=I0}return s})();function I0(s){return function vE(s,c,d){if(Or(s)&&!d){const p=Ki(s.index,c);return new $_(p,p)}return 47&s.type?new $_(c[xr],c):null}(Io(),pt(),16==(16&s))}class QM{constructor(){}supports(c){return W_(c)}create(c){return new Gv(c)}}const fR=(s,c)=>c;class Gv{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||fR}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,p=this._removalsHead,_=0,b=null;for(;d||p;){const T=!p||d&&d.currentIndex<Wv(p,_,b)?d:p,D=Wv(T,_,b),P=T.currentIndex;if(T===p)_--,p=p._nextRemoved;else if(d=d._next,null==T.previousIndex)_++;else{b||(b=[]);const B=D-_,W=P-_;if(B!=W){for(let Ie=0;Ie<B;Ie++){const Be=Ie<b.length?b[Ie]:b[Ie]=0,ft=Be+Ie;W<=ft&&ft<B&&(b[Ie]=Be+1)}b[T.previousIndex]=W-B}}D!==P&&c(T,D,P)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!W_(c))throw new xe(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let _,b,T,d=this._itHead,p=!1;if(Array.isArray(c)){this.length=c.length;for(let D=0;D<this.length;D++)b=c[D],T=this._trackByFn(D,b),null!==d&&Object.is(d.trackById,T)?(p&&(d=this._verifyReinsertion(d,b,T,D)),Object.is(d.item,b)||this._addIdentityChange(d,b)):(d=this._mismatch(d,b,T,D),p=!0),d=d._next}else _=0,function Eb(s,c){if(Array.isArray(s))for(let d=0;d<s.length;d++)c(s[d]);else{const d=s[Symbol.iterator]();let p;for(;!(p=d.next()).done;)c(p.value)}}(c,D=>{T=this._trackByFn(_,D),null!==d&&Object.is(d.trackById,T)?(p&&(d=this._verifyReinsertion(d,D,T,_)),Object.is(d.item,D)||this._addIdentityChange(d,D)):(d=this._mismatch(d,D,T,_),p=!0),d=d._next,_++}),this.length=_;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,p,_){let b;return null===c?b=this._itTail:(b=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,b,_)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(p,_))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,b,_)):c=this._addAfter(new CE(d,p),b,_),c}_verifyReinsertion(c,d,p,_){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null);return null!==b?c=this._reinsertAfter(b,c._prev,_):c.currentIndex!=_&&(c.currentIndex=_,this._addToMoves(c,_)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,p){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const _=c._prevRemoved,b=c._nextRemoved;return null===_?this._removalsHead=b:_._nextRemoved=b,null===b?this._removalsTail=_:b._prevRemoved=_,this._insertAfter(c,d,p),this._addToMoves(c,p),c}_moveAfter(c,d,p){return this._unlink(c),this._insertAfter(c,d,p),this._addToMoves(c,p),c}_addAfter(c,d,p){return this._insertAfter(c,d,p),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,p){const _=null===d?this._itHead:d._next;return c._next=_,c._prev=d,null===_?this._itTail=c:_._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new M0),this._linkedRecords.put(c),c.currentIndex=p,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,p=c._next;return null===d?this._itHead=p:d._next=p,null===p?this._itTail=d:p._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new M0),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class CE{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Sg{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let p;for(p=this._head;null!==p;p=p._nextDup)if((null===d||d<=p.currentIndex)&&Object.is(p.trackById,c))return p;return null}remove(c){const d=c._prevDup,p=c._nextDup;return null===d?this._head=p:d._nextDup=p,null===p?this._tail=d:p._prevDup=d,null===this._head}}class M0{constructor(){this.map=new Map}put(c){const d=c.trackById;let p=this.map.get(d);p||(p=new Sg,this.map.set(d,p)),p.add(c)}get(c,d){const _=this.map.get(c);return _?_.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Wv(s,c,d){const p=s.previousIndex;if(null===p)return p;let _=0;return d&&p<d.length&&(_=d[p]),p+c+_}class Dg{constructor(){}supports(c){return c instanceof Map||Ib(c)}create(){return new xE}}class xE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||Ib(c)))throw new xe(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(p,_)=>{if(d&&d.key===_)this._maybeAddToChanges(d,p),this._appendAfter=d,d=d._next;else{const b=this._getOrCreateRecordForKey(_,p);d=this._insertBeforeOrAppend(d,b)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let p=d;null!==p;p=p._nextRemoved)p===this._mapHead&&(this._mapHead=null),this._records.delete(p.key),p._nextRemoved=p._next,p.previousValue=p.currentValue,p.currentValue=null,p._prev=null,p._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const p=c._prev;return d._next=c,d._prev=p,c._prev=d,p&&(p._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const _=this._records.get(c);this._maybeAddToChanges(_,d);const b=_._prev,T=_._next;return b&&(b._next=T),T&&(T._prev=b),_._next=null,_._prev=null,_}const p=new XM(c);return this._records.set(c,p),p.currentValue=d,this._addToAdditions(p),p}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(p=>d(c[p],p))}}class XM{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function A0(){return new Zv([new QM])}let Zv=(()=>{class s{static#e=this.\u0275prov=fn({token:s,providedIn:"root",factory:A0});constructor(d){this.factories=d}static create(d,p){if(null!=p){const _=p.factories.slice();d=d.concat(_)}return new s(d)}static extend(d){return{provide:s,useFactory:p=>s.create(d,p||A0()),deps:[[s,new Nt,new Je]]}}find(d){const p=this.factories.find(_=>_.supports(d));if(null!=p)return p;throw new xe(901,!1)}}return s})();function EE(){return new IE([new Dg])}let IE=(()=>{class s{static#e=this.\u0275prov=fn({token:s,providedIn:"root",factory:EE});constructor(d){this.factories=d}static create(d,p){if(p){const _=p.factories.slice();d=d.concat(_)}return new s(d)}static extend(d){return{provide:s,useFactory:p=>s.create(d,p||EE()),deps:[[s,new Nt,new Je]]}}find(d){const p=this.factories.find(_=>_.supports(d));if(p)return p;throw new xe(901,!1)}}return s})();const SE=VM(null,"core",[]);let k0=(()=>{class s{constructor(d){}static#e=this.\u0275fac=function(p){return new(p||s)(Dt(Wu))};static#t=this.\u0275mod=er({type:s});static#n=this.\u0275inj=Dn({})}return s})();function oA(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function bR(s){const c=jn(s);if(!c)return null;const d=new xh(c);return{get selector(){return d.selector},get type(){return d.componentType},get inputs(){return d.inputs},get outputs(){return d.outputs},get ngContentSelectors(){return d.ngContentSelectors},get isStandalone(){return c.standalone},get isSignal(){return c.signals}}}},4097:(en,Me,Q)=>{Q.d(Me,{C6:()=>a.getApps,KN:()=>a.registerVersion,Mq:()=>a.getApp,ZF:()=>a.initializeApp});var a=Q(534);(0,a.registerVersion)("firebase","9.23.0","app")},120:(en,Me,Q)=>{Q.d(Me,{Z:()=>a.Z});var a=Q(3106);a.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(en,Me,Q)=>{Q.r(Me);var a=Q(5861),U=Q(3106),K=Q(6710),pe=Q(9058),ke=(Q(534),Q(7879),Q(4537));function ut(){return window}function G(){return G=(0,a.Z)(function*(J,te,Y){var Ae;const{BuildInfo:Qe}=ut();(0,K.as)(te.sessionId,"AuthEvent did not contain a session ID");const Dt=yield function Re(J){return at.apply(this,arguments)}(te.sessionId),yn={};return(0,K.at)()?yn.ibi=Qe.packageName:(0,K.au)()?yn.apn=Qe.packageName:(0,K.av)(J,"operation-not-supported-in-this-environment"),Qe.displayName&&(yn.appDisplayName=Qe.displayName),yn.sessionId=Dt,(0,K.aw)(J,Y,te.type,void 0,null!==(Ae=te.eventId)&&void 0!==Ae?Ae:void 0,yn)}),G.apply(this,arguments)}function Ne(){return(Ne=(0,a.Z)(function*(J){const{BuildInfo:te}=ut(),Y={};(0,K.at)()?Y.iosBundleId=te.packageName:(0,K.au)()?Y.androidPackageName=te.packageName:(0,K.av)(J,"operation-not-supported-in-this-environment"),yield(0,K.ax)(J,Y)})).apply(this,arguments)}function st(){return(st=(0,a.Z)(function*(J,te,Y){const{cordova:Ae}=ut();let Qe=()=>{};try{yield new Promise((Dt,yn)=>{let Vt=null;function Jn(){var Rn;Dt();const vr=null===(Rn=Ae.plugins.browsertab)||void 0===Rn?void 0:Rn.close;"function"==typeof vr&&vr(),"function"==typeof Y?.close&&Y.close()}function xn(){Vt||(Vt=window.setTimeout(()=>{yn((0,K.az)(J,"redirect-cancelled-by-user"))},2e3))}function ai(){"visible"===document?.visibilityState&&xn()}te.addPassiveListener(Jn),document.addEventListener("resume",xn,!1),(0,K.au)()&&document.addEventListener("visibilitychange",ai,!1),Qe=()=>{te.removePassiveListener(Jn),document.removeEventListener("resume",xn,!1),document.removeEventListener("visibilitychange",ai,!1),Vt&&window.clearTimeout(Vt)}})}finally{Qe()}})).apply(this,arguments)}function at(){return(at=(0,a.Z)(function*(J){const te=function Ze(J){if((0,K.as)(/[0-9a-zA-Z]+/.test(J),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(J);const te=new ArrayBuffer(J.length),Y=new Uint8Array(te);for(let Ae=0;Ae<J.length;Ae++)Y[Ae]=J.charCodeAt(Ae);return Y}(J),Y=yield crypto.subtle.digest("SHA-256",te);return Array.from(new Uint8Array(Y)).map(Qe=>Qe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class nt extends K.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(te=>{this.resolveInialized=te})}addPassiveListener(te){this.passiveListeners.add(te)}removePassiveListener(te){this.passiveListeners.delete(te)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(te){return this.resolveInialized(),this.passiveListeners.forEach(Y=>Y(te)),super.onEvent(te)}initialized(){var te=this;return(0,a.Z)(function*(){yield te.initPromise})()}}function he(J){return ue.apply(this,arguments)}function ue(){return(ue=(0,a.Z)(function*(J){const te=yield Ct()._get(ot(J));return te&&(yield Ct()._remove(ot(J))),te})).apply(this,arguments)}function Le(){const J=[];for(let Y=0;Y<20;Y++){const Ae=Math.floor(62*Math.random());J.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Ae))}return J.join("")}function Ct(){return(0,K.aC)(K.b)}function ot(J){return(0,K.aD)("authEvent",J.config.apiKey,J.name)}function un(J){if(!J?.includes("?"))return{};const[te,...Y]=J.split("?");return(0,pe.zd)(Y.join("?"))}const Se=class fi{constructor(){this._redirectPersistence=K.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=K.aE,this._overrideRedirectResult=K.aF}_initialize(te){var Y=this;return(0,a.Z)(function*(){const Ae=te._key();let Qe=Y.eventManagers.get(Ae);return Qe||(Qe=new nt(te),Y.eventManagers.set(Ae,Qe),Y.attachCallbackListeners(te,Qe)),Qe})()}_openPopup(te){(0,K.av)(te,"operation-not-supported-in-this-environment")}_openRedirect(te,Y,Ae,Qe){var Dt=this;return(0,a.Z)(function*(){!function mt(J){var te,Y,Ae,Qe,Dt,yn,Vt,Jn,xn,ai;const Rn=ut();(0,K.aA)("function"==typeof(null===(te=Rn?.universalLinks)||void 0===te?void 0:te.subscribe),J,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,K.aA)(typeof(null===(Y=Rn?.BuildInfo)||void 0===Y?void 0:Y.packageName)<"u",J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,K.aA)("function"==typeof(null===(Dt=null===(Qe=null===(Ae=Rn?.cordova)||void 0===Ae?void 0:Ae.plugins)||void 0===Qe?void 0:Qe.browsertab)||void 0===Dt?void 0:Dt.openUrl),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,K.aA)("function"==typeof(null===(Jn=null===(Vt=null===(yn=Rn?.cordova)||void 0===yn?void 0:yn.plugins)||void 0===Vt?void 0:Vt.browsertab)||void 0===Jn?void 0:Jn.isAvailable),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,K.aA)("function"==typeof(null===(ai=null===(xn=Rn?.cordova)||void 0===xn?void 0:xn.InAppBrowser)||void 0===ai?void 0:ai.open),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(te);const yn=yield Dt._initialize(te);yield yn.initialized(),yn.resetRedirect(),(0,K.aG)(),yield Dt._originValidation(te);const Vt=function $e(J,te,Y=null){return{type:te,eventId:Y,urlResponse:null,sessionId:Le(),postBody:null,tenantId:J.tenantId,error:(0,K.az)(J,"no-auth-event")}}(te,Ae,Qe);yield function it(J,te){return Ct()._set(ot(J),te)}(te,Vt);const Jn=yield function z(J,te,Y){return G.apply(this,arguments)}(te,Vt,Y),xn=yield function me(J){const{cordova:te}=ut();return new Promise(Y=>{te.plugins.browsertab.isAvailable(Ae=>{let Qe=null;Ae?te.plugins.browsertab.openUrl(J):Qe=te.InAppBrowser.open(J,(0,K.ay)()?"_blank":"_system","location=yes"),Y(Qe)})})}(Jn);return function lt(J,te,Y){return st.apply(this,arguments)}(te,yn,xn)})()}_isIframeWebStorageSupported(te,Y){throw new Error("Method not implemented.")}_originValidation(te){const Y=te._key();return this.originValidationPromises[Y]||(this.originValidationPromises[Y]=function de(J){return Ne.apply(this,arguments)}(te)),this.originValidationPromises[Y]}attachCallbackListeners(te,Y){const{universalLinks:Ae,handleOpenURL:Qe,BuildInfo:Dt}=ut(),yn=setTimeout((0,a.Z)(function*(){yield he(te),Y.onEvent(Ce())}),500),Vt=function(){var ai=(0,a.Z)(function*(Rn){clearTimeout(yn);const vr=yield he(te);let Zo=null;vr&&Rn?.url&&(Zo=function Ge(J,te){var Y,Ae;const Qe=function nn(J){const te=un(J),Y=te.link?decodeURIComponent(te.link):void 0,Ae=un(Y).link,Qe=te.deep_link_id?decodeURIComponent(te.deep_link_id):void 0;return un(Qe).link||Qe||Ae||Y||J}(te);if(Qe.includes("/__/auth/callback")){const Dt=un(Qe),yn=Dt.firebaseError?function Kt(J){try{return JSON.parse(J)}catch{return null}}(decodeURIComponent(Dt.firebaseError)):null,Vt=null===(Ae=null===(Y=yn?.code)||void 0===Y?void 0:Y.split("auth/"))||void 0===Ae?void 0:Ae[1],Jn=Vt?(0,K.az)(Vt):null;return Jn?{type:J.type,eventId:J.eventId,tenantId:J.tenantId,error:Jn,urlResponse:null,sessionId:null,postBody:null}:{type:J.type,eventId:J.eventId,tenantId:J.tenantId,sessionId:J.sessionId,urlResponse:Qe,postBody:null}}return null}(vr,Rn.url)),Y.onEvent(Zo||Ce())});return function(vr){return ai.apply(this,arguments)}}();typeof Ae<"u"&&"function"==typeof Ae.subscribe&&Ae.subscribe(null,Vt);const Jn=Qe,xn=`${Dt.packageName.toLowerCase()}://`;ut().handleOpenURL=function(){var ai=(0,a.Z)(function*(Rn){if(Rn.toLowerCase().startsWith(xn)&&Vt({url:Rn}),"function"==typeof Jn)try{Jn(Rn)}catch(vr){console.error(vr)}});return function(Rn){return ai.apply(this,arguments)}}()}};function Ce(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,K.az)("no-auth-event")}}function Mt(){var J;return(null===(J=self?.location)||void 0===J?void 0:J.protocol)||null}function Sn(J=(0,pe.z$)()){return!("file:"!==Mt()&&"ionic:"!==Mt()&&"capacitor:"!==Mt()||!J.toLowerCase().match(/iphone|ipad|ipod|android/))}function Dn(){try{const J=self.localStorage,te=K.aL();if(J)return J.setItem(te,"1"),J.removeItem(te),!function tn(J=(0,pe.z$)()){return function Nn(){return(0,pe.w1)()&&11===document?.documentMode}()||function fn(J=(0,pe.z$)()){return/Edge\/\d+/.test(J)}(J)}()||(0,pe.hl)()}catch{return Ut()&&(0,pe.hl)()}return!1}function Ut(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function cn(){return(function bt(){return"http:"===Mt()||"https:"===Mt()}()||(0,pe.ru)()||Sn())&&!function dn(){return(0,pe.b$)()||(0,pe.UG)()}()&&Dn()&&!Ut()}function Fn(){return Sn()&&typeof document<"u"}function wi(){return(wi=(0,a.Z)(function*(){return!!Fn()&&new Promise(J=>{const te=setTimeout(()=>{J(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(te),J(!0)})})})).apply(this,arguments)}const ni={LOCAL:"local",NONE:"none",SESSION:"session"},zi=K.aA,Po="persistence";function Yt(J){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,a.Z)(function*(J){yield J._initializationPromise;const te=Te(),Y=K.aD(Po,J.config.apiKey,J.name);te&&te.setItem(Y,J._getPersistence())})).apply(this,arguments)}function Te(){var J;try{return(null===(J=function Mi(){return typeof window<"u"?window:null}())||void 0===J?void 0:J.sessionStorage)||null}catch{return null}}const we=K.aA;class Ee{constructor(){this.browserResolver=K.aC(K.k),this.cordovaResolver=K.aC(Se),this.underlyingResolver=null,this._redirectPersistence=K.a,this._completeRedirectFn=K.aE,this._overrideRedirectResult=K.aF}_initialize(te){var Y=this;return(0,a.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._initialize(te)})()}_openPopup(te,Y,Ae,Qe){var Dt=this;return(0,a.Z)(function*(){return yield Dt.selectUnderlyingResolver(),Dt.assertedUnderlyingResolver._openPopup(te,Y,Ae,Qe)})()}_openRedirect(te,Y,Ae,Qe){var Dt=this;return(0,a.Z)(function*(){return yield Dt.selectUnderlyingResolver(),Dt.assertedUnderlyingResolver._openRedirect(te,Y,Ae,Qe)})()}_isIframeWebStorageSupported(te,Y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(te,Y)}_originValidation(te){return this.assertedUnderlyingResolver._originValidation(te)}get _shouldInitProactively(){return Fn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return we(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var te=this;return(0,a.Z)(function*(){if(te.underlyingResolver)return;const Y=yield function Un(){return wi.apply(this,arguments)}();te.underlyingResolver=Y?te.cordovaResolver:te.browserResolver})()}}function qe(J){return J.unwrap()}function xt(J){return jt(J)}function jt(J){const{_tokenResponse:te}=J instanceof pe.ZR?J.customData:J;if(!te)return null;if(!(J instanceof pe.ZR)&&"temporaryProof"in te&&"phoneNumber"in te)return K.P.credentialFromResult(J);const Y=te.providerId;if(!Y||Y===K.p.PASSWORD)return null;let Ae;switch(Y){case K.p.GOOGLE:Ae=K.V;break;case K.p.FACEBOOK:Ae=K.U;break;case K.p.GITHUB:Ae=K.W;break;case K.p.TWITTER:Ae=K.Z;break;default:const{oauthIdToken:Qe,oauthAccessToken:Dt,oauthTokenSecret:yn,pendingToken:Vt,nonce:Jn}=te;return Dt||yn||Qe||Vt?Vt?Y.startsWith("saml.")?K.aO._create(Y,Vt):K.L._fromParams({providerId:Y,signInMethod:Y,pendingToken:Vt,idToken:Qe,accessToken:Dt}):new K.X(Y).credential({idToken:Qe,accessToken:Dt,rawNonce:Jn}):null}return J instanceof pe.ZR?Ae.credentialFromError(J):Ae.credentialFromResult(J)}function Jt(J,te){return te.catch(Y=>{throw Y instanceof pe.ZR&&function mn(J,te){var Y;const Ae=null===(Y=te.customData)||void 0===Y?void 0:Y._tokenResponse;if("auth/multi-factor-auth-required"===te?.code)te.resolver=new vi(J,K.aq(J,te));else if(Ae){const Qe=jt(te),Dt=te;Qe&&(Dt.credential=Qe,Dt.tenantId=Ae.tenantId||void 0,Dt.email=Ae.email||void 0,Dt.phoneNumber=Ae.phoneNumber||void 0)}}(J,Y),Y}).then(Y=>{const Qe=Y.user;return{operationType:Y.operationType,credential:xt(Y),additionalUserInfo:K.ao(Y),user:Hn.getOrCreate(Qe)}})}function Ht(J,te){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,a.Z)(function*(J,te){const Y=yield te;return{verificationId:Y.verificationId,confirm:Ae=>Jt(J,Y.confirm(Ae))}})).apply(this,arguments)}class vi{constructor(te,Y){this.resolver=Y,this.auth=function Fe(J){return J.wrapped()}(te)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(te){return Jt(qe(this.auth),this.resolver.resolveSignIn(te))}}class Hn{constructor(te){this._delegate=te,this.multiFactor=K.ar(te)}static getOrCreate(te){return Hn.USER_MAP.has(te)||Hn.USER_MAP.set(te,new Hn(te)),Hn.USER_MAP.get(te)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(te){return this._delegate.getIdTokenResult(te)}getIdToken(te){return this._delegate.getIdToken(te)}linkAndRetrieveDataWithCredential(te){return this.linkWithCredential(te)}linkWithCredential(te){var Y=this;return(0,a.Z)(function*(){return Jt(Y.auth,K.a0(Y._delegate,te))})()}linkWithPhoneNumber(te,Y){var Ae=this;return(0,a.Z)(function*(){return Ht(Ae.auth,K.l(Ae._delegate,te,Y))})()}linkWithPopup(te){var Y=this;return(0,a.Z)(function*(){return Jt(Y.auth,K.d(Y._delegate,te,Ee))})()}linkWithRedirect(te){var Y=this;return(0,a.Z)(function*(){return yield Yt(K.aH(Y.auth)),K.g(Y._delegate,te,Ee)})()}reauthenticateAndRetrieveDataWithCredential(te){return this.reauthenticateWithCredential(te)}reauthenticateWithCredential(te){var Y=this;return(0,a.Z)(function*(){return Jt(Y.auth,K.a1(Y._delegate,te))})()}reauthenticateWithPhoneNumber(te,Y){return Ht(this.auth,K.r(this._delegate,te,Y))}reauthenticateWithPopup(te){return Jt(this.auth,K.e(this._delegate,te,Ee))}reauthenticateWithRedirect(te){var Y=this;return(0,a.Z)(function*(){return yield Yt(K.aH(Y.auth)),K.h(Y._delegate,te,Ee)})()}sendEmailVerification(te){return K.ae(this._delegate,te)}unlink(te){var Y=this;return(0,a.Z)(function*(){return yield K.an(Y._delegate,te),Y})()}updateEmail(te){return K.aj(this._delegate,te)}updatePassword(te){return K.ak(this._delegate,te)}updatePhoneNumber(te){return K.u(this._delegate,te)}updateProfile(te){return K.ai(this._delegate,te)}verifyBeforeUpdateEmail(te,Y){return K.af(this._delegate,te,Y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Hn.USER_MAP=new WeakMap;const Li=K.aA;let $n=(()=>{class J{constructor(Y,Ae){if(this.app=Y,Ae.isInitialized())return this._delegate=Ae.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Qe}=Y.options;Li(Qe,"invalid-api-key",{appName:Y.name}),Li(Qe,"invalid-api-key",{appName:Y.name});const Dt=typeof window<"u"?Ee:void 0;this._delegate=Ae.initialize({options:{persistence:pi(Qe,Y.name),popupRedirectResolver:Dt}}),this._delegate._updateErrorMap(K.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Hn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Y){this._delegate.languageCode=Y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Y){this._delegate.tenantId=Y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Y,Ae){K.I(this._delegate,Y,Ae)}applyActionCode(Y){return K.a5(this._delegate,Y)}checkActionCode(Y){return K.a6(this._delegate,Y)}confirmPasswordReset(Y,Ae){return K.a4(this._delegate,Y,Ae)}createUserWithEmailAndPassword(Y,Ae){var Qe=this;return(0,a.Z)(function*(){return Jt(Qe._delegate,K.a8(Qe._delegate,Y,Ae))})()}fetchProvidersForEmail(Y){return this.fetchSignInMethodsForEmail(Y)}fetchSignInMethodsForEmail(Y){return K.ad(this._delegate,Y)}isSignInWithEmailLink(Y){return K.ab(this._delegate,Y)}getRedirectResult(){var Y=this;return(0,a.Z)(function*(){Li(cn(),Y._delegate,"operation-not-supported-in-this-environment");const Ae=yield K.j(Y._delegate,Ee);return Ae?Jt(Y._delegate,Promise.resolve(Ae)):{credential:null,user:null}})()}addFrameworkForLogging(Y){!function He(J,te){(0,K.aH)(J)._logFramework(te)}(this._delegate,Y)}onAuthStateChanged(Y,Ae,Qe){const{next:Dt,error:yn,complete:Vt}=gr(Y,Ae,Qe);return this._delegate.onAuthStateChanged(Dt,yn,Vt)}onIdTokenChanged(Y,Ae,Qe){const{next:Dt,error:yn,complete:Vt}=gr(Y,Ae,Qe);return this._delegate.onIdTokenChanged(Dt,yn,Vt)}sendSignInLinkToEmail(Y,Ae){return K.aa(this._delegate,Y,Ae)}sendPasswordResetEmail(Y,Ae){return K.a3(this._delegate,Y,Ae||void 0)}setPersistence(Y){var Ae=this;return(0,a.Z)(function*(){let Qe;switch(function sn(J,te){zi(Object.values(ni).includes(te),J,"invalid-persistence-type"),(0,pe.b$)()?zi(te!==ni.SESSION,J,"unsupported-persistence-type"):(0,pe.UG)()?zi(te===ni.NONE,J,"unsupported-persistence-type"):Ut()?zi(te===ni.NONE||te===ni.LOCAL&&(0,pe.hl)(),J,"unsupported-persistence-type"):zi(te===ni.NONE||Dn(),J,"unsupported-persistence-type")}(Ae._delegate,Y),Y){case ni.SESSION:Qe=K.a;break;case ni.LOCAL:Qe=(yield K.aC(K.i)._isAvailable())?K.i:K.b;break;case ni.NONE:Qe=K.N;break;default:return K.av("argument-error",{appName:Ae._delegate.name})}return Ae._delegate.setPersistence(Qe)})()}signInAndRetrieveDataWithCredential(Y){return this.signInWithCredential(Y)}signInAnonymously(){return Jt(this._delegate,K._(this._delegate))}signInWithCredential(Y){return Jt(this._delegate,K.$(this._delegate,Y))}signInWithCustomToken(Y){return Jt(this._delegate,K.a2(this._delegate,Y))}signInWithEmailAndPassword(Y,Ae){return Jt(this._delegate,K.a9(this._delegate,Y,Ae))}signInWithEmailLink(Y,Ae){return Jt(this._delegate,K.ac(this._delegate,Y,Ae))}signInWithPhoneNumber(Y,Ae){return Ht(this._delegate,K.s(this._delegate,Y,Ae))}signInWithPopup(Y){var Ae=this;return(0,a.Z)(function*(){return Li(cn(),Ae._delegate,"operation-not-supported-in-this-environment"),Jt(Ae._delegate,K.c(Ae._delegate,Y,Ee))})()}signInWithRedirect(Y){var Ae=this;return(0,a.Z)(function*(){return Li(cn(),Ae._delegate,"operation-not-supported-in-this-environment"),yield Yt(Ae._delegate),K.f(Ae._delegate,Y,Ee)})()}updateCurrentUser(Y){return this._delegate.updateCurrentUser(Y)}verifyPasswordResetCode(Y){return K.a7(this._delegate,Y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return J.Persistence=ni,J})();function gr(J,te,Y){let Ae=J;"function"!=typeof J&&({next:Ae,error:te,complete:Y}=J);const Qe=Ae;return{next:yn=>Qe(yn&&Hn.getOrCreate(yn)),error:te,complete:Y}}function pi(J,te){const Y=function zt(J,te){const Y=Te();if(!Y)return[];const Ae=K.aD(Po,J,te);switch(Y.getItem(Ae)){case ni.NONE:return[K.N];case ni.LOCAL:return[K.i,K.a];case ni.SESSION:return[K.a];default:return[]}}(J,te);if(typeof self<"u"&&!Y.includes(K.i)&&Y.push(K.i),typeof window<"u")for(const Ae of[K.b,K.a])Y.includes(Ae)||Y.push(Ae);return Y.includes(K.N)||Y.push(K.N),Y}class xi{constructor(){this.providerId="phone",this._delegate=new K.P(qe(U.Z.auth()))}static credential(te,Y){return K.P.credential(te,Y)}verifyPhoneNumber(te,Y){return this._delegate.verifyPhoneNumber(te,Y)}unwrap(){return this._delegate}}xi.PHONE_SIGN_IN_METHOD=K.P.PHONE_SIGN_IN_METHOD,xi.PROVIDER_ID=K.P.PROVIDER_ID;const _r=K.aA;class mo{constructor(te,Y,Ae=U.Z.app()){var Qe;_r(null===(Qe=Ae.options)||void 0===Qe?void 0:Qe.apiKey,"invalid-api-key",{appName:Ae.name}),this._delegate=new K.R(te,Y,Ae.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function le(J){J.INTERNAL.registerComponent(new ke.wA("auth-compat",te=>{const Y=te.getProvider("app-compat").getImmediate(),Ae=te.getProvider("auth");return new $n(Y,Ae)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:K.A.EMAIL_SIGNIN,PASSWORD_RESET:K.A.PASSWORD_RESET,RECOVER_EMAIL:K.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:K.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:K.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:K.A.VERIFY_EMAIL}},EmailAuthProvider:K.Q,FacebookAuthProvider:K.U,GithubAuthProvider:K.W,GoogleAuthProvider:K.V,OAuthProvider:K.X,SAMLAuthProvider:K.Y,PhoneAuthProvider:xi,PhoneMultiFactorGenerator:K.m,RecaptchaVerifier:mo,TwitterAuthProvider:K.Z,Auth:$n,AuthCredential:K.J,Error:pe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),J.registerVersion("@firebase/auth-compat","0.4.2")}(U.Z)},3106:(en,Me,Q)=>{Q.d(Me,{Z:()=>lt});var a=Q(9058),U=Q(4537),K=Q(534),pe=Q(7879);class ce{constructor(mt,Re){this._delegate=mt,this.firebase=Re,(0,K._addComponent)(mt,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=mt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(mt){this._delegate.automaticDataCollectionEnabled=mt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(mt=>{this._delegate.checkDestroyed(),mt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,K.deleteApp)(this._delegate)))}_getService(mt,Re=K._DEFAULT_ENTRY_NAME){var at;this._delegate.checkDestroyed();const Ze=this._delegate.container.getProvider(mt);return!Ze.isInitialized()&&"EXPLICIT"===(null===(at=Ze.getComponent())||void 0===at?void 0:at.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:Re})}_removeServiceInstance(mt,Re=K._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(mt).clearInstance(Re)}_addComponent(mt){(0,K._addComponent)(this._delegate,mt)}_addOrOverwriteComponent(mt){(0,K._addOrOverwriteComponent)(this._delegate,mt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ke=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function Ve(){const st=function ut(st){const mt={},Re={__esModule:!0,initializeApp:function xe(he,ue={}){const Ge=K.initializeApp(he,ue);if((0,a.r3)(mt,Ge.name))return mt[Ge.name];const Le=new st(Ge,Re);return mt[Ge.name]=Le,Le},app:Ze,registerVersion:K.registerVersion,setLogLevel:K.setLogLevel,onLog:K.onLog,apps:null,SDK_VERSION:K.SDK_VERSION,INTERNAL:{registerComponent:function $e(he){const ue=he.name,Ge=ue.replace("-compat","");if(K._registerComponent(he)&&"PUBLIC"===he.type){const Le=(Ct=Ze())=>{if("function"!=typeof Ct[Ge])throw ke.create("invalid-app-argument",{appName:ue});return Ct[Ge]()};void 0!==he.serviceProps&&(0,a.ZB)(Le,he.serviceProps),Re[Ge]=Le,st.prototype[Ge]=function(...Ct){return this._getService.bind(this,ue).apply(this,he.multipleInstances?Ct:[])}}return"PUBLIC"===he.type?Re[Ge]:null},removeApp:function at(he){delete mt[he]},useAsService:function it(he,ue){return"serverAuth"===ue?null:ue},modularAPIs:K}};function Ze(he){if(!(0,a.r3)(mt,he=he||K._DEFAULT_ENTRY_NAME))throw ke.create("no-app",{appName:he});return mt[he]}return Re.default=Re,Object.defineProperty(Re,"apps",{get:function nt(){return Object.keys(mt).map(he=>mt[he])}}),Ze.App=st,Re}(ce);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:Ve,extendNamespace:function mt(Re){(0,a.ZB)(st,Re)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),st}(),G=new pe.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const lt=z;!function me(st){(0,K.registerVersion)("@firebase/app-compat","0.2.13",st)}()},534:(en,Me,Q)=>{Q.r(Me),Q.d(Me,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>Ht,_DEFAULT_ENTRY_NAME:()=>sn,_addComponent:()=>Te,_addOrOverwriteComponent:()=>we,_apps:()=>Qt,_clearComponents:()=>xt,_components:()=>zt,_getProvider:()=>qe,_registerComponent:()=>Ee,_removeServiceInstance:()=>Fe,deleteApp:()=>Li,getApp:()=>vi,getApps:()=>Hn,initializeApp:()=>Ci,onLog:()=>pi,registerVersion:()=>gr,setLogLevel:()=>xi});var a=Q(5861),U=Q(4537),K=Q(7879),pe=Q(9058);const ce=(Xe,ze)=>ze.some(_t=>Xe instanceof _t);let Pe,ke;const z=new WeakMap,G=new WeakMap,de=new WeakMap,Ne=new WeakMap,me=new WeakMap;let mt={get(Xe,ze,_t){if(Xe instanceof IDBTransaction){if("done"===ze)return G.get(Xe);if("objectStoreNames"===ze)return Xe.objectStoreNames||de.get(Xe);if("store"===ze)return _t.objectStoreNames[1]?void 0:_t.objectStore(_t.objectStoreNames[0])}return xe(Xe[ze])},set:(Xe,ze,_t)=>(Xe[ze]=_t,!0),has:(Xe,ze)=>Xe instanceof IDBTransaction&&("done"===ze||"store"===ze)||ze in Xe};function Ze(Xe){return"function"==typeof Xe?function at(Xe){return Xe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ve(){return ke||(ke=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Xe)?function(...ze){return Xe.apply(nt(this),ze),xe(z.get(this))}:function(...ze){return xe(Xe.apply(nt(this),ze))}:function(ze,..._t){const Zt=Xe.call(nt(this),ze,..._t);return de.set(Zt,ze.sort?ze.sort():[ze]),xe(Zt)}}(Xe):(Xe instanceof IDBTransaction&&function st(Xe){if(G.has(Xe))return;const ze=new Promise((_t,Zt)=>{const Pt=()=>{Xe.removeEventListener("complete",kn),Xe.removeEventListener("error",ri),Xe.removeEventListener("abort",ri)},kn=()=>{_t(),Pt()},ri=()=>{Zt(Xe.error||new DOMException("AbortError","AbortError")),Pt()};Xe.addEventListener("complete",kn),Xe.addEventListener("error",ri),Xe.addEventListener("abort",ri)});G.set(Xe,ze)}(Xe),ce(Xe,function ut(){return Pe||(Pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Xe,mt):Xe)}function xe(Xe){if(Xe instanceof IDBRequest)return function lt(Xe){const ze=new Promise((_t,Zt)=>{const Pt=()=>{Xe.removeEventListener("success",kn),Xe.removeEventListener("error",ri)},kn=()=>{_t(xe(Xe.result)),Pt()},ri=()=>{Zt(Xe.error),Pt()};Xe.addEventListener("success",kn),Xe.addEventListener("error",ri)});return ze.then(_t=>{_t instanceof IDBCursor&&z.set(_t,Xe)}).catch(()=>{}),me.set(ze,Xe),ze}(Xe);if(Ne.has(Xe))return Ne.get(Xe);const ze=Ze(Xe);return ze!==Xe&&(Ne.set(Xe,ze),me.set(ze,Xe)),ze}const nt=Xe=>me.get(Xe),he=["get","getKey","getAll","getAllKeys","count"],ue=["put","add","delete","clear"],Ge=new Map;function Le(Xe,ze){if(!(Xe instanceof IDBDatabase)||ze in Xe||"string"!=typeof ze)return;if(Ge.get(ze))return Ge.get(ze);const _t=ze.replace(/FromIndex$/,""),Zt=ze!==_t,Pt=ue.includes(_t);if(!(_t in(Zt?IDBIndex:IDBObjectStore).prototype)||!Pt&&!he.includes(_t))return;const kn=function(){var ri=(0,a.Z)(function*(Gi,...Zi){const Ji=this.transaction(Gi,Pt?"readwrite":"readonly");let Ur=Ji.store;return Zt&&(Ur=Ur.index(Zi.shift())),(yield Promise.all([Ur[_t](...Zi),Pt&&Ji.done]))[0]});return function(Zi){return ri.apply(this,arguments)}}();return Ge.set(ze,kn),kn}!function Re(Xe){mt=Xe(mt)}(Xe=>({...Xe,get:(ze,_t,Zt)=>Le(ze,_t)||Xe.get(ze,_t,Zt),has:(ze,_t)=>!!Le(ze,_t)||Xe.has(ze,_t)}));class Ct{constructor(ze){this.container=ze}getPlatformInfoString(){return this.container.getProviders().map(_t=>{if(function ot(Xe){const ze=Xe.getComponent();return"VERSION"===ze?.type}(_t)){const Zt=_t.getImmediate();return`${Zt.library}/${Zt.version}`}return null}).filter(_t=>_t).join(" ")}}const Kt="@firebase/app",un=new K.Yd("@firebase/app"),sn="[DEFAULT]",Yt={[Kt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qt=new Map,zt=new Map;function Te(Xe,ze){try{Xe.container.addComponent(ze)}catch(_t){un.debug(`Component ${ze.name} failed to register with FirebaseApp ${Xe.name}`,_t)}}function we(Xe,ze){Xe.container.addOrOverwriteComponent(ze)}function Ee(Xe){const ze=Xe.name;if(zt.has(ze))return un.debug(`There were multiple attempts to register component ${ze}.`),!1;zt.set(ze,Xe);for(const _t of Qt.values())Te(_t,Xe);return!0}function qe(Xe,ze){const _t=Xe.container.getProvider("heartbeat").getImmediate({optional:!0});return _t&&_t.triggerHeartbeat(),Xe.container.getProvider(ze)}function Fe(Xe,ze,_t=sn){qe(Xe,ze).clearInstance(_t)}function xt(){zt.clear()}const jt=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Jt{constructor(ze,_t,Zt){this._isDeleted=!1,this._options=Object.assign({},ze),this._config=Object.assign({},_t),this._name=_t.name,this._automaticDataCollectionEnabled=_t.automaticDataCollectionEnabled,this._container=Zt,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this.checkDestroyed(),this._automaticDataCollectionEnabled=ze}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ze){this._isDeleted=ze}checkDestroyed(){if(this.isDeleted)throw jt.create("app-deleted",{appName:this._name})}}const Ht="9.23.0";function Ci(Xe,ze={}){let _t=Xe;"object"!=typeof ze&&(ze={name:ze});const Zt=Object.assign({name:sn,automaticDataCollectionEnabled:!1},ze),Pt=Zt.name;if("string"!=typeof Pt||!Pt)throw jt.create("bad-app-name",{appName:String(Pt)});if(_t||(_t=(0,pe.aH)()),!_t)throw jt.create("no-options");const kn=Qt.get(Pt);if(kn){if((0,pe.vZ)(_t,kn.options)&&(0,pe.vZ)(Zt,kn.config))return kn;throw jt.create("duplicate-app",{appName:Pt})}const ri=new U.H0(Pt);for(const Zi of zt.values())ri.addComponent(Zi);const Gi=new Jt(_t,Zt,ri);return Qt.set(Pt,Gi),Gi}function vi(Xe=sn){const ze=Qt.get(Xe);if(!ze&&Xe===sn&&(0,pe.aH)())return Ci();if(!ze)throw jt.create("no-app",{appName:Xe});return ze}function Hn(){return Array.from(Qt.values())}function Li(Xe){return $n.apply(this,arguments)}function $n(){return($n=(0,a.Z)(function*(Xe){const ze=Xe.name;Qt.has(ze)&&(Qt.delete(ze),yield Promise.all(Xe.container.getProviders().map(_t=>_t.delete())),Xe.isDeleted=!0)})).apply(this,arguments)}function gr(Xe,ze,_t){var Zt;let Pt=null!==(Zt=Yt[Xe])&&void 0!==Zt?Zt:Xe;_t&&(Pt+=`-${_t}`);const kn=Pt.match(/\s|\//),ri=ze.match(/\s|\//);if(kn||ri){const Gi=[`Unable to register library "${Pt}" with version "${ze}":`];return kn&&Gi.push(`library name "${Pt}" contains illegal characters (whitespace or "/")`),kn&&ri&&Gi.push("and"),ri&&Gi.push(`version name "${ze}" contains illegal characters (whitespace or "/")`),void un.warn(Gi.join(" "))}Ee(new U.wA(`${Pt}-version`,()=>({library:Pt,version:ze}),"VERSION"))}function pi(Xe,ze){if(null!==Xe&&"function"!=typeof Xe)throw jt.create("invalid-log-argument");(0,K.Am)(Xe,ze)}function xi(Xe){(0,K.Ub)(Xe)}const _r="firebase-heartbeat-database",mo=1,fe="firebase-heartbeat-store";let le=null;function J(){return le||(le=function $e(Xe,ze,{blocked:_t,upgrade:Zt,blocking:Pt,terminated:kn}={}){const ri=indexedDB.open(Xe,ze),Gi=xe(ri);return Zt&&ri.addEventListener("upgradeneeded",Zi=>{Zt(xe(ri.result),Zi.oldVersion,Zi.newVersion,xe(ri.transaction),Zi)}),_t&&ri.addEventListener("blocked",Zi=>_t(Zi.oldVersion,Zi.newVersion,Zi)),Gi.then(Zi=>{kn&&Zi.addEventListener("close",()=>kn()),Pt&&Zi.addEventListener("versionchange",Ji=>Pt(Ji.oldVersion,Ji.newVersion,Ji))}).catch(()=>{}),Gi}(_r,mo,{upgrade:(Xe,ze)=>{0===ze&&Xe.createObjectStore(fe)}}).catch(Xe=>{throw jt.create("idb-open",{originalErrorMessage:Xe.message})})),le}function Y(){return(Y=(0,a.Z)(function*(Xe){try{return yield(yield J()).transaction(fe).objectStore(fe).get(Dt(Xe))}catch(ze){if(ze instanceof pe.ZR)un.warn(ze.message);else{const _t=jt.create("idb-get",{originalErrorMessage:ze?.message});un.warn(_t.message)}}})).apply(this,arguments)}function Ae(Xe,ze){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,a.Z)(function*(Xe,ze){try{const Zt=(yield J()).transaction(fe,"readwrite");yield Zt.objectStore(fe).put(ze,Dt(Xe)),yield Zt.done}catch(_t){if(_t instanceof pe.ZR)un.warn(_t.message);else{const Zt=jt.create("idb-set",{originalErrorMessage:_t?.message});un.warn(Zt.message)}}})).apply(this,arguments)}function Dt(Xe){return`${Xe.name}!${Xe.options.appId}`}class Jn{constructor(ze){this.container=ze,this._heartbeatsCache=null;const _t=this.container.getProvider("app").getImmediate();this._storage=new Rn(_t),this._heartbeatsCachePromise=this._storage.read().then(Zt=>(this._heartbeatsCache=Zt,Zt))}triggerHeartbeat(){var ze=this;return(0,a.Z)(function*(){const Zt=ze.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pt=xn();if(null===ze._heartbeatsCache&&(ze._heartbeatsCache=yield ze._heartbeatsCachePromise),ze._heartbeatsCache.lastSentHeartbeatDate!==Pt&&!ze._heartbeatsCache.heartbeats.some(kn=>kn.date===Pt))return ze._heartbeatsCache.heartbeats.push({date:Pt,agent:Zt}),ze._heartbeatsCache.heartbeats=ze._heartbeatsCache.heartbeats.filter(kn=>{const ri=new Date(kn.date).valueOf();return Date.now()-ri<=2592e6}),ze._storage.overwrite(ze._heartbeatsCache)})()}getHeartbeatsHeader(){var ze=this;return(0,a.Z)(function*(){if(null===ze._heartbeatsCache&&(yield ze._heartbeatsCachePromise),null===ze._heartbeatsCache||0===ze._heartbeatsCache.heartbeats.length)return"";const _t=xn(),{heartbeatsToSend:Zt,unsentEntries:Pt}=function ai(Xe,ze=1024){const _t=[];let Zt=Xe.slice();for(const Pt of Xe){const kn=_t.find(ri=>ri.agent===Pt.agent);if(kn){if(kn.dates.push(Pt.date),vr(_t)>ze){kn.dates.pop();break}}else if(_t.push({agent:Pt.agent,dates:[Pt.date]}),vr(_t)>ze){_t.pop();break}Zt=Zt.slice(1)}return{heartbeatsToSend:_t,unsentEntries:Zt}}(ze._heartbeatsCache.heartbeats),kn=(0,pe.L)(JSON.stringify({version:2,heartbeats:Zt}));return ze._heartbeatsCache.lastSentHeartbeatDate=_t,Pt.length>0?(ze._heartbeatsCache.heartbeats=Pt,yield ze._storage.overwrite(ze._heartbeatsCache)):(ze._heartbeatsCache.heartbeats=[],ze._storage.overwrite(ze._heartbeatsCache)),kn})()}}function xn(){return(new Date).toISOString().substring(0,10)}class Rn{constructor(ze){this.app=ze,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ze=this;return(0,a.Z)(function*(){return(yield ze._canUseIndexedDBPromise)&&(yield function te(Xe){return Y.apply(this,arguments)}(ze.app))||{heartbeats:[]}})()}overwrite(ze){var _t=this;return(0,a.Z)(function*(){var Zt;if(yield _t._canUseIndexedDBPromise){const kn=yield _t.read();return Ae(_t.app,{lastSentHeartbeatDate:null!==(Zt=ze.lastSentHeartbeatDate)&&void 0!==Zt?Zt:kn.lastSentHeartbeatDate,heartbeats:ze.heartbeats})}})()}add(ze){var _t=this;return(0,a.Z)(function*(){var Zt;if(yield _t._canUseIndexedDBPromise){const kn=yield _t.read();return Ae(_t.app,{lastSentHeartbeatDate:null!==(Zt=ze.lastSentHeartbeatDate)&&void 0!==Zt?Zt:kn.lastSentHeartbeatDate,heartbeats:[...kn.heartbeats,...ze.heartbeats]})}})()}}function vr(Xe){return(0,pe.L)(JSON.stringify({version:2,heartbeats:Xe})).length}!function Zo(Xe){Ee(new U.wA("platform-logger",ze=>new Ct(ze),"PRIVATE")),Ee(new U.wA("heartbeat",ze=>new Jn(ze),"PRIVATE")),gr(Kt,"0.9.13",Xe),gr(Kt,"0.9.13","esm2017"),gr("fire-js","")}("")},4537:(en,Me,Q)=>{Q.d(Me,{H0:()=>ut,wA:()=>K,zt:()=>ce});var a=Q(5861),U=Q(9058);class K{constructor(z,G,de){this.name=z,this.instanceFactory=G,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const pe="[DEFAULT]";class ce{constructor(z,G){this.name=z,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const G=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(G)){const de=new U.BH;if(this.instancesDeferred.set(G,de),this.isInitialized(G)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:G});Ne&&de.resolve(Ne)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(z){var G;const de=this.normalizeInstanceIdentifier(z?.identifier),Ne=null!==(G=z?.optional)&&void 0!==G&&G;if(!this.isInitialized(de)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:de})}catch(me){if(Ne)return null;throw me}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function ke(Ve){return"EAGER"===Ve.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:pe})}catch{}for(const[G,de]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(G);try{const me=this.getOrInitializeService({instanceIdentifier:Ne});de.resolve(me)}catch{}}}}clearInstance(z=pe){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,a.Z)(function*(){const G=Array.from(z.instances.values());yield Promise.all([...G.filter(de=>"INTERNAL"in de).map(de=>de.INTERNAL.delete()),...G.filter(de=>"_delete"in de).map(de=>de._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=pe){return this.instances.has(z)}getOptions(z=pe){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:G={}}=z,de=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(de))throw Error(`${this.name}(${de}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:de,options:G});for(const[me,lt]of this.instancesDeferred.entries())de===this.normalizeInstanceIdentifier(me)&&lt.resolve(Ne);return Ne}onInit(z,G){var de;const Ne=this.normalizeInstanceIdentifier(G),me=null!==(de=this.onInitCallbacks.get(Ne))&&void 0!==de?de:new Set;me.add(z),this.onInitCallbacks.set(Ne,me);const lt=this.instances.get(Ne);return lt&&z(lt,Ne),()=>{me.delete(z)}}invokeOnInitCallbacks(z,G){const de=this.onInitCallbacks.get(G);if(de)for(const Ne of de)try{Ne(z,G)}catch{}}getOrInitializeService({instanceIdentifier:z,options:G={}}){let de=this.instances.get(z);if(!de&&this.component&&(de=this.component.instanceFactory(this.container,{instanceIdentifier:(Ve=z,Ve===pe?void 0:Ve),options:G}),this.instances.set(z,de),this.instancesOptions.set(z,G),this.invokeOnInitCallbacks(de,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,de)}catch{}var Ve;return de||null}normalizeInstanceIdentifier(z=pe){return this.component?this.component.multipleInstances?z:pe:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ut{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const G=this.getProvider(z.name);if(G.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);G.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const G=new ce(z,this);return this.providers.set(z,G),G}getProviders(){return Array.from(this.providers.values())}}},7879:(en,Me,Q)=>{Q.d(Me,{Am:()=>Ve,Ub:()=>ut,Yd:()=>ke,in:()=>U});const a=[];var U=function(z){return z[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",z}(U||{});const K={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},pe=U.INFO,ce={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},Pe=(z,G,...de)=>{if(G<z.logLevel)return;const Ne=(new Date).toISOString(),me=ce[G];if(!me)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[me](`[${Ne}]  ${z.name}:`,...de)};class ke{constructor(G){this.name=G,this._logLevel=pe,this._logHandler=Pe,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in U))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?K[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...G),this._logHandler(this,U.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...G),this._logHandler(this,U.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,U.INFO,...G),this._logHandler(this,U.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,U.WARN,...G),this._logHandler(this,U.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...G),this._logHandler(this,U.ERROR,...G)}}function ut(z){a.forEach(G=>{G.setLogLevel(z)})}function Ve(z,G){for(const de of a){let Ne=null;G&&G.level&&(Ne=K[G.level]),de.userLogHandler=null===z?null:(me,lt,...st)=>{const mt=st.map(Re=>{if(null==Re)return null;if("string"==typeof Re)return Re;if("number"==typeof Re||"boolean"==typeof Re)return Re.toString();if(Re instanceof Error)return Re.message;try{return JSON.stringify(Re)}catch{return null}}).filter(Re=>Re).join(" ");lt>=(Ne??me.logLevel)&&z({level:U[lt].toLowerCase(),message:mt,args:st,type:me.name})}}}},5861:(en,Me,Q)=>{function a(K,pe,ce,Pe,ke,ut,Ve){try{var z=K[ut](Ve),G=z.value}catch(de){return void ce(de)}z.done?pe(G):Promise.resolve(G).then(Pe,ke)}function U(K){return function(){var pe=this,ce=arguments;return new Promise(function(Pe,ke){var ut=K.apply(pe,ce);function Ve(G){a(ut,Pe,ke,Ve,z,"next",G)}function z(G){a(ut,Pe,ke,Ve,z,"throw",G)}Ve(void 0)})}}Q.d(Me,{Z:()=>U})},7582:(en,Me,Q)=>{function pe(Se,Ce){var He={};for(var je in Se)Object.prototype.hasOwnProperty.call(Se,je)&&Ce.indexOf(je)<0&&(He[je]=Se[je]);if(null!=Se&&"function"==typeof Object.getOwnPropertySymbols){var ct=0;for(je=Object.getOwnPropertySymbols(Se);ct<je.length;ct++)Ce.indexOf(je[ct])<0&&Object.prototype.propertyIsEnumerable.call(Se,je[ct])&&(He[je[ct]]=Se[je[ct]])}return He}function ce(Se,Ce,He,je){var Mt,ct=arguments.length,gt=ct<3?Ce:null===je?je=Object.getOwnPropertyDescriptor(Ce,He):je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)gt=Reflect.decorate(Se,Ce,He,je);else for(var bt=Se.length-1;bt>=0;bt--)(Mt=Se[bt])&&(gt=(ct<3?Mt(gt):ct>3?Mt(Ce,He,gt):Mt(Ce,He))||gt);return ct>3&&gt&&Object.defineProperty(Ce,He,gt),gt}function de(Se,Ce,He,je){return new(He||(He=Promise))(function(gt,Mt){function bt(Nn){try{dn(je.next(Nn))}catch(fn){Mt(fn)}}function Sn(Nn){try{dn(je.throw(Nn))}catch(fn){Mt(fn)}}function dn(Nn){Nn.done?gt(Nn.value):function ct(gt){return gt instanceof He?gt:new He(function(Mt){Mt(gt)})}(Nn.value).then(bt,Sn)}dn((je=je.apply(Se,Ce||[])).next())})}function xe(Se){return this instanceof xe?(this.v=Se,this):new xe(Se)}function nt(Se,Ce,He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct,je=He.apply(Se,Ce||[]),gt=[];return ct={},Mt("next"),Mt("throw"),Mt("return"),ct[Symbol.asyncIterator]=function(){return this},ct;function Mt(tn){je[tn]&&(ct[tn]=function(Dn){return new Promise(function(Ut,cn){gt.push([tn,Dn,Ut,cn])>1||bt(tn,Dn)})})}function bt(tn,Dn){try{!function Sn(tn){tn.value instanceof xe?Promise.resolve(tn.value.v).then(dn,Nn):fn(gt[0][2],tn)}(je[tn](Dn))}catch(Ut){fn(gt[0][3],Ut)}}function dn(tn){bt("next",tn)}function Nn(tn){bt("throw",tn)}function fn(tn,Dn){tn(Dn),gt.shift(),gt.length&&bt(gt[0][0],gt[0][1])}}function it(Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,Ce=Se[Symbol.asyncIterator];return Ce?Ce.call(Se):(Se=function st(Se){var Ce="function"==typeof Symbol&&Symbol.iterator,He=Ce&&Se[Ce],je=0;if(He)return He.call(Se);if(Se&&"number"==typeof Se.length)return{next:function(){return Se&&je>=Se.length&&(Se=void 0),{value:Se&&Se[je++],done:!Se}}};throw new TypeError(Ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(Se),He={},je("next"),je("throw"),je("return"),He[Symbol.asyncIterator]=function(){return this},He);function je(gt){He[gt]=Se[gt]&&function(Mt){return new Promise(function(bt,Sn){!function ct(gt,Mt,bt,Sn){Promise.resolve(Sn).then(function(dn){gt({value:dn,done:bt})},Mt)}(bt,Sn,(Mt=Se[gt](Mt)).done,Mt.value)})}}}Q.d(Me,{FC:()=>nt,KL:()=>it,_T:()=>pe,gn:()=>ce,mG:()=>de,qq:()=>xe}),"function"==typeof SuppressedError&&SuppressedError}},en=>{en(en.s=849)}]);