"use strict";(self.webpackChunkwebshop=self.webpackChunkwebshop||[]).push([[179],{6304:(en,Me,Q)=>{Q.d(Me,{Dh:()=>ut,GT:()=>Pe,cc:()=>me,hO:()=>Ne,on:()=>z,pX:()=>ce,xv:()=>Ve});var a=Q(5879),U=Q(120),K=Q(2793);en=Q.hmd(en);const pe=["ngOnDestroy"],ce=(Re,at,Ze,xe={})=>new Proxy(Re,{get:(nt,$e)=>Ze.runOutsideAngular(()=>{var it;if(Re[$e])return!(null===(it=xe?.spy)||void 0===it)&&it.get&&xe.spy.get($e,Re[$e]),Re[$e];if(pe.indexOf($e)>-1)return()=>{};const he=at.toPromise().then(ue=>{const Ge=ue&&ue[$e];return"function"==typeof Ge?Ge.bind(ue):Ge&&Ge.then?Ge.then(Le=>Ze.run(()=>Le)):Ze.run(()=>Ge)});return new Proxy(()=>{},{get:(ue,Ge)=>he[Ge],apply:(ue,Ge,Le)=>he.then(Ct=>{var ot;const Kt=Ct&&Ct(...Le);return!(null===(ot=xe?.spy)||void 0===ot)&&ot.apply&&xe.spy.apply($e,Le,Kt),Kt})})})}),Pe=(Re,at)=>{at.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach(xe=>{Object.defineProperty(Re.prototype,xe,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,xe))})})};class ke{constructor(at){return at}}const ut=new a.OlP("angularfire2.app.options"),Ve=new a.OlP("angularfire2.app.name");function z(Re,at,Ze){const nt="object"==typeof Ze&&Ze||{};nt.name=nt.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const it=U.Z.apps.filter(he=>he&&he.name===nt.name)[0]||at.runOutsideAngular(()=>U.Z.initializeApp(Re,nt));try{JSON.stringify(Re)!==JSON.stringify(it.options)&&G("error",`${it.name} Firebase App already initialized with different options${en.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ke(it)}const G=(Re,...at)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Re](...at)},de={provide:ke,useFactory:z,deps:[ut,a.R0b,[new a.FiY,Ve]]};let Ne=(()=>{class Re{constructor(Ze){U.Z.registerVersion("angularfire",K.q4.full,"core"),U.Z.registerVersion("angularfire",K.q4.full,"app-compat"),U.Z.registerVersion("angular",a.q4F.full,Ze.toString())}static initializeApp(Ze,xe){return{ngModule:Re,providers:[{provide:ut,useValue:Ze},{provide:Ve,useValue:xe}]}}}return Re.\u0275fac=function(Ze){return new(Ze||Re)(a.LFG(a.Lbi))},Re.\u0275mod=a.oAB({type:Re}),Re.\u0275inj=a.cJS({providers:[de]}),Re})();function me(Re,at,Ze,xe,nt){const[,$e,it]=globalThis.\u0275AngularfireInstanceCache.find(he=>he[0]===Re)||[];if($e)return function lt(Re,at){try{return Re.toString()===at.toString()}catch{return Re===at}}(nt,it)||(mt("error",`${at} was already initialized on the ${Ze} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),mt("warn",{is:nt,was:it})),$e;{const he=xe();return globalThis.\u0275AngularfireInstanceCache.push([Re,he,nt]),he}}const st=!!en.hot,mt=(Re,...at)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Re](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(en,Me,Q)=>{Q.d(Me,{q4:()=>Su,iC:()=>fs,HU:()=>Ri,vb:()=>uh,JM:()=>lh,u3:()=>Gc});var a=Q(5879),U=Q(4097),K=Q(5861),pe=Q(534),ce=Q(9058),Pe=Q(4537),ke=Q(7879);const ut=(k,F)=>F.some(H=>k instanceof H);let Ve,z;const Ne=new WeakMap,me=new WeakMap,lt=new WeakMap,st=new WeakMap,mt=new WeakMap;let Ze={get(k,F,H){if(k instanceof IDBTransaction){if("done"===F)return me.get(k);if("objectStoreNames"===F)return k.objectStoreNames||lt.get(k);if("store"===F)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return it(k[F])},set:(k,F,H)=>(k[F]=H,!0),has:(k,F)=>k instanceof IDBTransaction&&("done"===F||"store"===F)||F in k};function $e(k){return"function"==typeof k?function nt(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...F){return k.apply(he(this),F),it(Ne.get(this))}:function(...F){return it(k.apply(he(this),F))}:function(F,...H){const oe=k.call(he(this),F,...H);return lt.set(oe,F.sort?F.sort():[F]),it(oe)}}(k):(k instanceof IDBTransaction&&function at(k){if(me.has(k))return;const F=new Promise((H,oe)=>{const be=()=>{k.removeEventListener("complete",Ue),k.removeEventListener("error",rt),k.removeEventListener("abort",rt)},Ue=()=>{H(),be()},rt=()=>{oe(k.error||new DOMException("AbortError","AbortError")),be()};k.addEventListener("complete",Ue),k.addEventListener("error",rt),k.addEventListener("abort",rt)});me.set(k,F)}(k),ut(k,function G(){return Ve||(Ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,Ze):k)}function it(k){if(k instanceof IDBRequest)return function Re(k){const F=new Promise((H,oe)=>{const be=()=>{k.removeEventListener("success",Ue),k.removeEventListener("error",rt)},Ue=()=>{H(it(k.result)),be()},rt=()=>{oe(k.error),be()};k.addEventListener("success",Ue),k.addEventListener("error",rt)});return F.then(H=>{H instanceof IDBCursor&&Ne.set(H,k)}).catch(()=>{}),mt.set(F,k),F}(k);if(st.has(k))return st.get(k);const F=$e(k);return F!==k&&(st.set(k,F),mt.set(F,k)),F}const he=k=>mt.get(k),Le=["get","getKey","getAll","getAllKeys","count"],Ct=["put","add","delete","clear"],ot=new Map;function Kt(k,F){if(!(k instanceof IDBDatabase)||F in k||"string"!=typeof F)return;if(ot.get(F))return ot.get(F);const H=F.replace(/FromIndex$/,""),oe=F!==H,be=Ct.includes(H);if(!(H in(oe?IDBIndex:IDBObjectStore).prototype)||!be&&!Le.includes(H))return;const Ue=function(){var rt=(0,K.Z)(function*(Bt,...Ft){const hn=this.transaction(Bt,be?"readwrite":"readonly");let Un=hn.store;return oe&&(Un=Un.index(Ft.shift())),(yield Promise.all([Un[H](...Ft),be&&hn.done]))[0]});return function(Ft){return rt.apply(this,arguments)}}();return ot.set(F,Ue),Ue}!function xe(k){Ze=k(Ze)}(k=>({...k,get:(F,H,oe)=>Kt(F,H)||k.get(F,H,oe),has:(F,H)=>!!Kt(F,H)||k.has(F,H)}));const nn="@firebase/installations",un="0.6.4",rn=1e4,fi=`w:${un}`,Se="FIS_v2",Ce="https://firebaseinstallations.googleapis.com/v1",He=36e5,Mt=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function bt(k){return k instanceof ce.ZR&&k.code.includes("request-failed")}function Sn({projectId:k}){return`${Ce}/projects/${k}/installations`}function dn(k){return{token:k.token,requestStatus:2,expiresIn:Ln(k.expiresIn),creationTime:Date.now()}}function Fn(k,F){return fn.apply(this,arguments)}function fn(){return(fn=(0,K.Z)(function*(k,F){const oe=(yield F.json()).error;return Mt.create("request-failed",{requestName:k,serverCode:oe.code,serverMessage:oe.message,serverStatus:oe.status})})).apply(this,arguments)}function tn({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function Ut(k){return cn.apply(this,arguments)}function cn(){return(cn=(0,K.Z)(function*(k){const F=yield k();return F.status>=500&&F.status<600?k():F})).apply(this,arguments)}function Ln(k){return Number(k.replace("s","000"))}function Mi(){return(Mi=(0,K.Z)(function*({appConfig:k,heartbeatServiceProvider:F},{fid:H}){const oe=Sn(k),be=tn(k),Ue=F.getImmediate({optional:!0});if(Ue){const hn=yield Ue.getHeartbeatsHeader();hn&&be.append("x-firebase-client",hn)}const Bt={method:"POST",headers:be,body:JSON.stringify({fid:H,authVersion:Se,appId:k.appId,sdkVersion:fi})},Ft=yield Ut(()=>fetch(oe,Bt));if(Ft.ok){const hn=yield Ft.json();return{fid:hn.fid||H,registrationStatus:2,refreshToken:hn.refreshToken,authToken:dn(hn.authToken)}}throw yield Fn("Create Installation",Ft)})).apply(this,arguments)}function ni(k){return new Promise(F=>{setTimeout(F,k)})}const Ro=/^[cdef][\w-]{21}$/,sn="";function Yt(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const H=function Qt(k){return function zi(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return Ro.test(H)?H:sn}catch{return sn}}function zt(k){return`${k.appName}!${k.appId}`}const Te=new Map;function we(k,F){const H=zt(k);Fe(H,F),function xt(k,F){const H=function jt(){return!mn&&"BroadcastChannel"in self&&(mn=new BroadcastChannel("[Firebase] FID Change"),mn.onmessage=k=>{Fe(k.data.key,k.data.fid)}),mn}();H&&H.postMessage({key:k,fid:F}),function Xt(){0===Te.size&&mn&&(mn.close(),mn=null)}()}(H,F)}function Fe(k,F){const H=Te.get(k);if(H)for(const oe of H)oe(F)}let mn=null;const Ht="firebase-installations-database",Ci=1,vi="firebase-installations-store";let $n=null;function Li(){return $n||($n=function ue(k,F,{blocked:H,upgrade:oe,blocking:be,terminated:Ue}={}){const rt=indexedDB.open(k,F),Bt=it(rt);return oe&&rt.addEventListener("upgradeneeded",Ft=>{oe(it(rt.result),Ft.oldVersion,Ft.newVersion,it(rt.transaction))}),H&&rt.addEventListener("blocked",()=>H()),Bt.then(Ft=>{Ue&&Ft.addEventListener("close",()=>Ue()),be&&Ft.addEventListener("versionchange",()=>be())}).catch(()=>{}),Bt}(Ht,Ci,{upgrade:(k,F)=>{0===F&&k.createObjectStore(vi)}})),$n}function qn(k,F){return gr.apply(this,arguments)}function gr(){return(gr=(0,K.Z)(function*(k,F){const H=zt(k),be=(yield Li()).transaction(vi,"readwrite"),Ue=be.objectStore(vi),rt=yield Ue.get(H);return yield Ue.put(F,H),yield be.done,(!rt||rt.fid!==F.fid)&&we(k,F.fid),F})).apply(this,arguments)}function pi(k){return xi.apply(this,arguments)}function xi(){return(xi=(0,K.Z)(function*(k){const F=zt(k),oe=(yield Li()).transaction(vi,"readwrite");yield oe.objectStore(vi).delete(F),yield oe.done})).apply(this,arguments)}function _r(k,F){return go.apply(this,arguments)}function go(){return(go=(0,K.Z)(function*(k,F){const H=zt(k),be=(yield Li()).transaction(vi,"readwrite"),Ue=be.objectStore(vi),rt=yield Ue.get(H),Bt=F(rt);return void 0===Bt?yield Ue.delete(H):yield Ue.put(Bt,H),yield be.done,Bt&&(!rt||rt.fid!==Bt.fid)&&we(k,Bt.fid),Bt})).apply(this,arguments)}function fe(k){return le.apply(this,arguments)}function le(){return le=(0,K.Z)(function*(k){let F;const H=yield _r(k.appConfig,oe=>{const be=function X(k){return Vt(k||{fid:Yt(),registrationStatus:0})}(oe),Ue=function te(k,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(Mt.create("app-offline"))};const H={fid:F.fid,registrationStatus:1,registrationTime:Date.now()},oe=function Y(k,F){return Ae.apply(this,arguments)}(k,H);return{installationEntry:H,registrationPromise:oe}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:Qe(k)}:{installationEntry:F}}(k,be);return F=Ue.registrationPromise,Ue.installationEntry});return H.fid===sn?{installationEntry:yield F}:{installationEntry:H,registrationPromise:F}}),le.apply(this,arguments)}function Ae(){return Ae=(0,K.Z)(function*(k,F){try{const H=yield function wi(k,F){return Mi.apply(this,arguments)}(k,F);return qn(k.appConfig,H)}catch(H){throw bt(H)&&409===H.customData.serverCode?yield pi(k.appConfig):yield qn(k.appConfig,{fid:F.fid,registrationStatus:0}),H}}),Ae.apply(this,arguments)}function Qe(k){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,K.Z)(function*(k){let F=yield yn(k.appConfig);for(;1===F.registrationStatus;)yield ni(100),F=yield yn(k.appConfig);if(0===F.registrationStatus){const{installationEntry:H,registrationPromise:oe}=yield fe(k);return oe||H}return F})).apply(this,arguments)}function yn(k){return _r(k,F=>{if(!F)throw Mt.create("installation-not-found");return Vt(F)})}function Vt(k){return function Xn(k){return 1===k.registrationStatus&&k.registrationTime+rn<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function ai(){return(ai=(0,K.Z)(function*({appConfig:k,heartbeatServiceProvider:F},H){const oe=function Nn(k,{fid:F}){return`${Sn(k)}/${F}/authTokens:generate`}(k,H),be=function Dn(k,{refreshToken:F}){const H=tn(k);return H.append("Authorization",function Vn(k){return`${Se} ${k}`}(F)),H}(k,H),Ue=F.getImmediate({optional:!0});if(Ue){const hn=yield Ue.getHeartbeatsHeader();hn&&be.append("x-firebase-client",hn)}const Bt={method:"POST",headers:be,body:JSON.stringify({installation:{sdkVersion:fi,appId:k.appId}})},Ft=yield Ut(()=>fetch(oe,Bt));if(Ft.ok)return dn(yield Ft.json());throw yield Fn("Generate Auth Token",Ft)})).apply(this,arguments)}function vr(k){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,K.Z)(function*(k,F=!1){let H;const oe=yield _r(k.appConfig,Ue=>{if(!kn(Ue))throw Mt.create("not-registered");const rt=Ue.authToken;if(!F&&function ri(k){return 2===k.requestStatus&&!function Gi(k){const F=Date.now();return F<k.creationTime||k.creationTime+k.expiresIn<F+He}(k)}(rt))return Ue;if(1===rt.requestStatus)return H=function Je(k,F){return ze.apply(this,arguments)}(k,F),Ue;{if(!navigator.onLine)throw Mt.create("app-offline");const Bt=function Zi(k){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:F})}(Ue);return H=function Zt(k,F){return Pt.apply(this,arguments)}(k,Bt),Bt}});return H?yield H:oe.authToken}),Ko.apply(this,arguments)}function ze(){return(ze=(0,K.Z)(function*(k,F){let H=yield _t(k.appConfig);for(;1===H.authToken.requestStatus;)yield ni(100),H=yield _t(k.appConfig);const oe=H.authToken;return 0===oe.requestStatus?vr(k,F):oe})).apply(this,arguments)}function _t(k){return _r(k,F=>{if(!kn(F))throw Mt.create("not-registered");return function er(k){return 1===k.requestStatus&&k.requestTime+rn<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function Pt(){return Pt=(0,K.Z)(function*(k,F){try{const H=yield function xn(k,F){return ai.apply(this,arguments)}(k,F),oe=Object.assign(Object.assign({},F),{authToken:H});return yield qn(k.appConfig,oe),H}catch(H){if(!bt(H)||401!==H.customData.serverCode&&404!==H.customData.serverCode){const oe=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield qn(k.appConfig,oe)}else yield pi(k.appConfig);throw H}}),Pt.apply(this,arguments)}function kn(k){return void 0!==k&&2===k.registrationStatus}function _o(){return(_o=(0,K.Z)(function*(k){const F=k,{installationEntry:H,registrationPromise:oe}=yield fe(F);return oe?oe.catch(console.error):vr(F).catch(console.error),H.fid})).apply(this,arguments)}function Yo(){return Yo=(0,K.Z)(function*(k,F=!1){const H=k;return yield function ls(k){return vs.apply(this,arguments)}(H),(yield vr(H,F)).token}),Yo.apply(this,arguments)}function vs(){return(vs=(0,K.Z)(function*(k){const{registrationPromise:F}=yield fe(k);F&&(yield F)})).apply(this,arguments)}function Ls(k){return Mt.create("missing-app-config-values",{valueName:k})}const ec="installations",ra=k=>{const F=k.getProvider("app").getImmediate(),H=function $r(k){if(!k||!k.options)throw Ls("App Configuration");if(!k.name)throw Ls("App Name");const F=["projectId","apiKey","appId"];for(const H of F)if(!k.options[H])throw Ls(H);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(F);return{app:F,appConfig:H,heartbeatServiceProvider:(0,pe._getProvider)(F,"heartbeat"),_delete:()=>Promise.resolve()}},xc=k=>{const F=k.getProvider("app").getImmediate(),H=(0,pe._getProvider)(F,ec).getImmediate();return{getId:()=>function Ur(k){return _o.apply(this,arguments)}(H),getToken:be=>function Da(k){return Yo.apply(this,arguments)}(H,be)}};(function Ec(){(0,pe._registerComponent)(new Pe.wA(ec,ra,"PUBLIC")),(0,pe._registerComponent)(new Pe.wA("installations-internal",xc,"PRIVATE"))})(),(0,pe.registerVersion)(nn,un),(0,pe.registerVersion)(nn,un,"esm2017");const Us="@firebase/remote-config",yr=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class En{constructor(F,H,oe,be){this.client=F,this.storage=H,this.storageCache=oe,this.logger=be}isCachedDataFresh(F,H){if(!H)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const oe=Date.now()-H,be=oe<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${oe}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${be}.`),be}fetch(F){var H=this;return(0,K.Z)(function*(){const[oe,be]=yield Promise.all([H.storage.getLastSuccessfulFetchTimestampMillis(),H.storage.getLastSuccessfulFetchResponse()]);if(be&&H.isCachedDataFresh(F.cacheMaxAgeMillis,oe))return be;F.eTag=be&&be.eTag;const Ue=yield H.client.fetch(F),rt=[H.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ue.status&&rt.push(H.storage.setLastSuccessfulFetchResponse(Ue)),yield Promise.all(rt),Ue})()}}function Ei(k=navigator){return k.languages&&k.languages[0]||k.language}class so{constructor(F,H,oe,be,Ue,rt){this.firebaseInstallations=F,this.sdkVersion=H,this.namespace=oe,this.projectId=be,this.apiKey=Ue,this.appId=rt}fetch(F){var H=this;return(0,K.Z)(function*(){const[oe,be]=yield Promise.all([H.firebaseInstallations.getId(),H.firebaseInstallations.getToken()]),rt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${H.projectId}/namespaces/${H.namespace}:fetch?key=${H.apiKey}`,Bt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},Ft={sdk_version:H.sdkVersion,app_instance_id:oe,app_instance_id_token:be,app_id:H.appId,language_code:Ei()},hn={method:"POST",headers:Bt,body:JSON.stringify(Ft)},Un=fetch(rt,hn),Mn=new Promise((za,Fr)=>{F.signal.addEventListener(()=>{const bl=new Error("The operation was aborted.");bl.name="AbortError",Fr(bl)})});let ps;try{yield Promise.race([Un,Mn]),ps=yield Un}catch(za){let Fr="fetch-client-network";throw"AbortError"===za?.name&&(Fr="fetch-timeout"),yr.create(Fr,{originalErrorMessage:za?.message})}let Ao=ps.status;const Xi=ps.headers.get("ETag")||void 0;let Du,ja;if(200===ps.status){let za;try{za=yield ps.json()}catch(Fr){throw yr.create("fetch-client-parse",{originalErrorMessage:Fr?.message})}Du=za.entries,ja=za.state}if("INSTANCE_STATE_UNSPECIFIED"===ja?Ao=500:"NO_CHANGE"===ja?Ao=304:("NO_TEMPLATE"===ja||"EMPTY_CONFIG"===ja)&&(Du={}),304!==Ao&&200!==Ao)throw yr.create("fetch-status",{httpStatus:Ao});return{status:Ao,eTag:Xi,config:Du}})()}}class Jo{constructor(F,H){this.client=F,this.storage=H}fetch(F){var H=this;return(0,K.Z)(function*(){const oe=(yield H.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return H.attemptFetch(F,oe)})()}attemptFetch(F,{throttleEndTimeMillis:H,backoffCount:oe}){var be=this;return(0,K.Z)(function*(){yield function Bs(k,F){return new Promise((H,oe)=>{const be=Math.max(F-Date.now(),0),Ue=setTimeout(H,be);k.addEventListener(()=>{clearTimeout(Ue),oe(yr.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,H);try{const Ue=yield be.client.fetch(F);return yield be.storage.deleteThrottleMetadata(),Ue}catch(Ue){if(!function Pn(k){if(!(k instanceof ce.ZR&&k.customData))return!1;const F=Number(k.customData.httpStatus);return 429===F||500===F||503===F||504===F}(Ue))throw Ue;const rt={throttleEndTimeMillis:Date.now()+(0,ce.$s)(oe),backoffCount:oe+1};return yield be.storage.setThrottleMetadata(rt),be.attemptFetch(F,rt)}})()}}class Xo{constructor(F,H,oe,be,Ue){this.app=F,this._client=H,this._storageCache=oe,this._storage=be,this._logger=Ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function on(k,F){const H=k.target.error||void 0;return yr.create(F,{originalErrorMessage:H&&H?.message})}const qr="app_namespace_store";class bs{constructor(F,H,oe,be=function xr(){return new Promise((k,F)=>{try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=oe=>{F(on(oe,"storage-open"))},H.onsuccess=oe=>{k(oe.target.result)},H.onupgradeneeded=oe=>{0===oe.oldVersion&&oe.target.result.createObjectStore(qr,{keyPath:"compositeKey"})}}catch(H){F(yr.create("storage-open",{originalErrorMessage:H?.message}))}})}()){this.appId=F,this.appName=H,this.namespace=oe,this.openDbPromise=be}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var H=this;return(0,K.Z)(function*(){const oe=yield H.openDbPromise;return new Promise((be,Ue)=>{const Bt=oe.transaction([qr],"readonly").objectStore(qr),Ft=H.createCompositeKey(F);try{const hn=Bt.get(Ft);hn.onerror=Un=>{Ue(on(Un,"storage-get"))},hn.onsuccess=Un=>{const Mn=Un.target.result;be(Mn?Mn.value:void 0)}}catch(hn){Ue(yr.create("storage-get",{originalErrorMessage:hn?.message}))}})})()}set(F,H){var oe=this;return(0,K.Z)(function*(){const be=yield oe.openDbPromise;return new Promise((Ue,rt)=>{const Ft=be.transaction([qr],"readwrite").objectStore(qr),hn=oe.createCompositeKey(F);try{const Un=Ft.put({compositeKey:hn,value:H});Un.onerror=Mn=>{rt(on(Mn,"storage-set"))},Un.onsuccess=()=>{Ue()}}catch(Un){rt(yr.create("storage-set",{originalErrorMessage:Un?.message}))}})})()}delete(F){var H=this;return(0,K.Z)(function*(){const oe=yield H.openDbPromise;return new Promise((be,Ue)=>{const Bt=oe.transaction([qr],"readwrite").objectStore(qr),Ft=H.createCompositeKey(F);try{const hn=Bt.delete(Ft);hn.onerror=Un=>{Ue(on(Un,"storage-delete"))},hn.onsuccess=()=>{be()}}catch(hn){Ue(yr.create("storage-delete",{originalErrorMessage:hn?.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class Lo{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,K.Z)(function*(){const H=F.storage.getLastFetchStatus(),oe=F.storage.getLastSuccessfulFetchTimestampMillis(),be=F.storage.getActiveConfig(),Ue=yield H;Ue&&(F.lastFetchStatus=Ue);const rt=yield oe;rt&&(F.lastSuccessfulFetchTimestampMillis=rt);const Bt=yield be;Bt&&(F.activeConfig=Bt)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function Aa(){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,K.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function Er(){(0,pe._registerComponent)(new Pe.wA("remote-config",function k(F,{instanceIdentifier:H}){const oe=F.getProvider("app").getImmediate(),be=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw yr.create("registration-window");if(!(0,ce.hl)())throw yr.create("indexed-db-unavailable");const{projectId:Ue,apiKey:rt,appId:Bt}=oe.options;if(!Ue)throw yr.create("registration-project-id");if(!rt)throw yr.create("registration-api-key");if(!Bt)throw yr.create("registration-app-id");const Ft=new bs(Bt,oe.name,H=H||"firebase"),hn=new Lo(Ft),Un=new ke.Yd(Us);Un.logLevel=ke.in.ERROR;const Mn=new so(be,pe.SDK_VERSION,H,Ue,rt,Bt),ps=new Jo(Mn,Ft),Ao=new En(ps,Ft,hn,Un),Xi=new Xo(oe,Ao,hn,Ft,Un);return function br(k){const F=(0,ce.m9)(k);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(Xi),Xi},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(Us,"0.4.4"),(0,pe.registerVersion)(Us,"0.4.4","esm2017")}();const Uo=(k,F)=>F.some(H=>k instanceof H);let Gr,ei;const ka=new WeakMap,kr=new WeakMap,rr=new WeakMap,Wr=new WeakMap,ua=new WeakMap;let Zr={get(k,F,H){if(k instanceof IDBTransaction){if("done"===F)return kr.get(k);if("objectStoreNames"===F)return k.objectStoreNames||rr.get(k);if("store"===F)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return Kr(k[F])},set:(k,F,H)=>(k[F]=H,!0),has:(k,F)=>k instanceof IDBTransaction&&("done"===F||"store"===F)||F in k};function Or(k){return"function"==typeof k?function cl(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function gu(){return ei||(ei=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...F){return k.apply(di(this),F),Kr(ka.get(this))}:function(...F){return Kr(k.apply(di(this),F))}:function(F,...H){const oe=k.call(di(this),F,...H);return rr.set(oe,F.sort?F.sort():[F]),Kr(oe)}}(k):(k instanceof IDBTransaction&&function al(k){if(kr.has(k))return;const F=new Promise((H,oe)=>{const be=()=>{k.removeEventListener("complete",Ue),k.removeEventListener("error",rt),k.removeEventListener("abort",rt)},Ue=()=>{H(),be()},rt=()=>{oe(k.error||new DOMException("AbortError","AbortError")),be()};k.addEventListener("complete",Ue),k.addEventListener("error",rt),k.addEventListener("abort",rt)});kr.set(k,F)}(k),Uo(k,function Mc(){return Gr||(Gr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,Zr):k)}function Kr(k){if(k instanceof IDBRequest)return function Hi(k){const F=new Promise((H,oe)=>{const be=()=>{k.removeEventListener("success",Ue),k.removeEventListener("error",rt)},Ue=()=>{H(Kr(k.result)),be()},rt=()=>{oe(k.error),be()};k.addEventListener("success",Ue),k.addEventListener("error",rt)});return F.then(H=>{H instanceof IDBCursor&&ka.set(H,k)}).catch(()=>{}),ua.set(F,k),F}(k);if(Wr.has(k))return Wr.get(k);const F=Or(k);return F!==k&&(Wr.set(k,F),ua.set(F,k)),F}const di=k=>ua.get(k);function da(k,F,{blocked:H,upgrade:oe,blocking:be,terminated:Ue}={}){const rt=indexedDB.open(k,F),Bt=Kr(rt);return oe&&rt.addEventListener("upgradeneeded",Ft=>{oe(Kr(rt.result),Ft.oldVersion,Ft.newVersion,Kr(rt.transaction))}),H&&rt.addEventListener("blocked",()=>H()),Bt.then(Ft=>{Ue&&Ft.addEventListener("close",()=>Ue()),be&&Ft.addEventListener("versionchange",()=>be())}).catch(()=>{}),Bt}function oi(k,{blocked:F}={}){const H=indexedDB.deleteDatabase(k);return F&&H.addEventListener("blocked",()=>F()),Kr(H).then(()=>{})}const Pr=["get","getKey","getAll","getAllKeys","count"],Ul=["put","add","delete","clear"],ws=new Map;function Ac(k,F){if(!(k instanceof IDBDatabase)||F in k||"string"!=typeof F)return;if(ws.get(F))return ws.get(F);const H=F.replace(/FromIndex$/,""),oe=F!==H,be=Ul.includes(H);if(!(H in(oe?IDBIndex:IDBObjectStore).prototype)||!be&&!Pr.includes(H))return;const Ue=function(){var rt=(0,K.Z)(function*(Bt,...Ft){const hn=this.transaction(Bt,be?"readwrite":"readonly");let Un=hn.store;return oe&&(Un=Un.index(Ft.shift())),(yield Promise.all([Un[H](...Ft),be&&hn.done]))[0]});return function(Ft){return rt.apply(this,arguments)}}();return ws.set(F,Ue),Ue}!function Tr(k){Zr=k(Zr)}(k=>({...k,get:(F,H,oe)=>Ac(F,H)||k.get(F,H,oe),has:(F,H)=>!!Ac(F,H)||k.has(F,H)}));const Oa="/firebase-messaging-sw.js",kc="/firebase-cloud-messaging-push-scope",ic="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Vl="https://fcmregistrations.googleapis.com/v1",mi="google.c.a.c_id",_u="google.c.a.c_l",Oc="google.c.a.ts";var rc=function(k){return k.PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",k}(rc||{});function bo(k){const F=new Uint8Array(k);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function oc(k){const H=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),oe=atob(H),be=new Uint8Array(oe.length);for(let Ue=0;Ue<oe.length;++Ue)be[Ue]=oe.charCodeAt(Ue);return be}const ha="fcm_token_details_db",Cs=5,Bl="fcm_token_object_Store";function Rr(){return Rr=(0,K.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ue=>Ue.name).includes(ha))return null;let F=null;return(yield da(ha,Cs,{upgrade:(oe=(0,K.Z)(function*(be,Ue,rt,Bt){var Ft;if(Ue<2||!be.objectStoreNames.contains(Bl))return;const hn=Bt.objectStore(Bl),Un=yield hn.index("fcmSenderId").get(k);if(yield hn.clear(),Un)if(2===Ue){const Mn=Un;if(!Mn.auth||!Mn.p256dh||!Mn.endpoint)return;F={token:Mn.fcmToken,createTime:null!==(Ft=Mn.createTime)&&void 0!==Ft?Ft:Date.now(),subscriptionOptions:{auth:Mn.auth,p256dh:Mn.p256dh,endpoint:Mn.endpoint,swScope:Mn.swScope,vapidKey:"string"==typeof Mn.vapidKey?Mn.vapidKey:bo(Mn.vapidKey)}}}else if(3===Ue){const Mn=Un;F={token:Mn.fcmToken,createTime:Mn.createTime,subscriptionOptions:{auth:bo(Mn.auth),p256dh:bo(Mn.p256dh),endpoint:Mn.endpoint,swScope:Mn.swScope,vapidKey:bo(Mn.vapidKey)}}}else if(4===Ue){const Mn=Un;F={token:Mn.fcmToken,createTime:Mn.createTime,subscriptionOptions:{auth:bo(Mn.auth),p256dh:bo(Mn.p256dh),endpoint:Mn.endpoint,swScope:Mn.swScope,vapidKey:bo(Mn.vapidKey)}}}}),function(Ue,rt,Bt,Ft){return oe.apply(this,arguments)})})).close(),yield oi(ha),yield oi("fcm_vapid_details_db"),yield oi("undefined"),function js(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:F}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}(F)?F:null;var oe}),Rr.apply(this,arguments)}const fa="firebase-messaging-database",Pc=1,Bo="firebase-messaging-store";let ur=null;function Pa(){return ur||(ur=da(fa,Pc,{upgrade:(k,F)=>{0===F&&k.createObjectStore(Bo)}})),ur}function Yr(k){return Rc.apply(this,arguments)}function Rc(){return Rc=(0,K.Z)(function*(k){const F=pa(k),oe=yield(yield Pa()).transaction(Bo).objectStore(Bo).get(F);if(oe)return oe;{const be=yield function vu(k){return Rr.apply(this,arguments)}(k.appConfig.senderId);if(be)return yield wo(k,be),be}}),Rc.apply(this,arguments)}function wo(k,F){return sc.apply(this,arguments)}function sc(){return(sc=(0,K.Z)(function*(k,F){const H=pa(k),be=(yield Pa()).transaction(Bo,"readwrite");return yield be.objectStore(Bo).put(F,H),yield be.done,F})).apply(this,arguments)}function zs(){return(zs=(0,K.Z)(function*(k){const F=pa(k),oe=(yield Pa()).transaction(Bo,"readwrite");yield oe.objectStore(Bo).delete(F),yield oe.done})).apply(this,arguments)}function pa({appConfig:k}){return k.appId}const yi=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function jo(k,F){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,K.Z)(function*(k,F){const H=yield Fc(k),oe=Na(F),be={method:"POST",headers:H,body:JSON.stringify(oe)};let Ue;try{Ue=yield(yield fetch(Hs(k.appConfig),be)).json()}catch(rt){throw yi.create("token-subscribe-failed",{errorInfo:rt?.toString()})}if(Ue.error)throw yi.create("token-subscribe-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw yi.create("token-subscribe-no-token");return Ue.token})).apply(this,arguments)}function es(){return(es=(0,K.Z)(function*(k,F){const H=yield Fc(k),oe=Na(F.subscriptionOptions),be={method:"PATCH",headers:H,body:JSON.stringify(oe)};let Ue;try{Ue=yield(yield fetch(`${Hs(k.appConfig)}/${F.token}`,be)).json()}catch(rt){throw yi.create("token-update-failed",{errorInfo:rt?.toString()})}if(Ue.error)throw yi.create("token-update-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw yi.create("token-update-no-token");return Ue.token})).apply(this,arguments)}function Nc(k,F){return Co.apply(this,arguments)}function Co(){return(Co=(0,K.Z)(function*(k,F){const oe={method:"DELETE",headers:yield Fc(k)};try{const Ue=yield(yield fetch(`${Hs(k.appConfig)}/${F}`,oe)).json();if(Ue.error)throw yi.create("token-unsubscribe-failed",{errorInfo:Ue.error.message})}catch(be){throw yi.create("token-unsubscribe-failed",{errorInfo:be?.toString()})}})).apply(this,arguments)}function Hs({projectId:k}){return`${Vl}/projects/${k}/registrations`}function Fc(k){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,K.Z)(function*({appConfig:k,installations:F}){const H=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${H}`})})).apply(this,arguments)}function Na({p256dh:k,auth:F,endpoint:H,vapidKey:oe}){const be={web:{endpoint:H,auth:F,p256dh:k}};return oe!==ic&&(be.web.applicationPubKey=oe),be}const C=6048e5;function j(){return j=(0,K.Z)(function*(k){const F=yield function dr(k,F){return xo.apply(this,arguments)}(k.swRegistration,k.vapidKey),H={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:F.endpoint,auth:bo(F.getKey("auth")),p256dh:bo(F.getKey("p256dh"))},oe=yield Yr(k.firebaseDependencies);if(oe){if(function ts(k,F){return F.vapidKey===k.vapidKey&&F.endpoint===k.endpoint&&F.auth===k.auth&&F.p256dh===k.p256dh}(oe.subscriptionOptions,H))return Date.now()>=oe.createTime+C?function Ye(k,F){return Rt.apply(this,arguments)}(k,{token:oe.token,createTime:Date.now(),subscriptionOptions:H}):oe.token;try{yield Nc(k.firebaseDependencies,oe.token)}catch(be){console.warn(be)}return Gn(k.firebaseDependencies,H)}return Gn(k.firebaseDependencies,H)}),j.apply(this,arguments)}function ve(){return ve=(0,K.Z)(function*(k){const F=yield Yr(k.firebaseDependencies);F&&(yield Nc(k.firebaseDependencies,F.token),yield function jl(k){return zs.apply(this,arguments)}(k.firebaseDependencies));const H=yield k.swRegistration.pushManager.getSubscription();return!H||H.unsubscribe()}),ve.apply(this,arguments)}function Rt(){return Rt=(0,K.Z)(function*(k,F){try{const H=yield function It(k,F){return es.apply(this,arguments)}(k.firebaseDependencies,F),oe=Object.assign(Object.assign({},F),{token:H,createTime:Date.now()});return yield wo(k.firebaseDependencies,oe),H}catch(H){throw yield function ee(k){return ve.apply(this,arguments)}(k),H}}),Rt.apply(this,arguments)}function Gn(k,F){return ti.apply(this,arguments)}function ti(){return(ti=(0,K.Z)(function*(k,F){const oe={token:yield jo(k,F),createTime:Date.now(),subscriptionOptions:F};return yield wo(k,oe),oe.token})).apply(this,arguments)}function xo(){return(xo=(0,K.Z)(function*(k,F){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:oc(F)})})).apply(this,arguments)}function Lc(k){const F={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function $s(k,F){if(!F.notification)return;k.notification={};const H=F.notification.title;H&&(k.notification.title=H);const oe=F.notification.body;oe&&(k.notification.body=oe);const be=F.notification.image;be&&(k.notification.image=be);const Ue=F.notification.icon;Ue&&(k.notification.icon=Ue)}(F,k),function ul(k,F){F.data&&(k.data=F.data)}(F,k),function Eo(k,F){var H,oe,be,Ue,rt;if(!(F.fcmOptions||null!==(H=F.notification)&&void 0!==H&&H.click_action))return;k.fcmOptions={};const Bt=null!==(be=null===(oe=F.fcmOptions)||void 0===oe?void 0:oe.link)&&void 0!==be?be:null===(Ue=F.notification)||void 0===Ue?void 0:Ue.click_action;Bt&&(k.fcmOptions.link=Bt);const Ft=null===(rt=F.fcmOptions)||void 0===rt?void 0:rt.analytics_label;Ft&&(k.fcmOptions.analyticsLabel=Ft)}(F,k),F}function ed(k,F){const H=[];for(let oe=0;oe<k.length;oe++)H.push(k.charAt(oe)),oe<F.length&&H.push(F.charAt(oe));return H.join("")}function yu(k){return yi.create("missing-app-config-values",{valueName:k})}ed("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ed("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hh{constructor(F,H,oe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const be=function zh(k){if(!k||!k.options)throw yu("App Configuration Object");if(!k.name)throw yu("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:H}=k;for(const oe of F)if(!H[oe])throw yu(oe);return{appName:k.name,projectId:H.projectId,apiKey:H.apiKey,appId:H.appId,senderId:H.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:be,installations:H,analyticsProvider:oe}}_delete(){return Promise.resolve()}}function Hl(){return(Hl=(0,K.Z)(function*(k){try{k.swRegistration=yield navigator.serviceWorker.register(Oa,{scope:kc}),k.swRegistration.update().catch(()=>{})}catch(F){throw yi.create("failed-service-worker-registration",{browserErrorMessage:F?.message})}})).apply(this,arguments)}function xs(){return(xs=(0,K.Z)(function*(k,F){if(!F&&!k.swRegistration&&(yield function zl(k){return Hl.apply(this,arguments)}(k)),F||!k.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw yi.create("invalid-sw-registration");k.swRegistration=F}})).apply(this,arguments)}function dl(){return(dl=(0,K.Z)(function*(k,F){F?k.vapidKey=F:k.vapidKey||(k.vapidKey=ic)})).apply(this,arguments)}function bu(){return bu=(0,K.Z)(function*(k,F){if(!navigator)throw yi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yi.create("permission-blocked");return yield function Uc(k,F){return dl.apply(this,arguments)}(k,F?.vapidKey),yield function td(k,F){return xs.apply(this,arguments)}(k,F?.serviceWorkerRegistration),function N(k){return j.apply(this,arguments)}(k)}),bu.apply(this,arguments)}function Es(){return(Es=(0,K.Z)(function*(k,F,H){const oe=function Qd(k){switch(k){case rc.NOTIFICATION_CLICKED:return"notification_open";case rc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(F);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(oe,{message_id:H[mi],message_name:H[_u],message_time:H[Oc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ii(){return Ii=(0,K.Z)(function*(k,F){const H=F.data;if(!H.isFirebaseMessaging)return;k.onMessageHandler&&H.messageType===rc.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(Lc(H)):k.onMessageHandler.next(Lc(H)));const oe=H.data;(function Io(k){return"object"==typeof k&&!!k&&mi in k})(oe)&&"1"===oe["google.c.a.e"]&&(yield function Qf(k,F,H){return Es.apply(this,arguments)}(k,H.messageType,oe))}),Ii.apply(this,arguments)}const hl="@firebase/messaging",zo=k=>{const F=new Hh(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",H=>function wu(k,F){return Ii.apply(this,arguments)}(F,H)),F},Qr=k=>{const F=k.getProvider("messaging").getImmediate();return{getToken:oe=>function nd(k,F){return bu.apply(this,arguments)}(F,oe)}};function fl(){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,K.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Jd(){(0,pe._registerComponent)(new Pe.wA("messaging",zo,"PUBLIC")),(0,pe._registerComponent)(new Pe.wA("messaging-internal",Qr,"PRIVATE")),(0,pe.registerVersion)(hl,"0.12.4"),(0,pe.registerVersion)(hl,"0.12.4","esm2017")}();const ac="analytics",Cu="firebase_id",In="origin",Bc=6e4,Jf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",id="https://www.googletagmanager.com/gtag/js",Br=new ke.Yd("@firebase/analytics"),Wi=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Is(k){if(!k.startsWith(id)){const F=Wi.create("invalid-gtag-resource",{gtagURL:k});return Br.warn(F.message),""}return k}function jc(k){return Promise.all(k.map(F=>F.catch(H=>H)))}function pt(){return(pt=(0,K.Z)(function*(k,F,H,oe,be,Ue){const rt=oe[be];try{if(rt)yield F[rt];else{const Ft=(yield jc(H)).find(hn=>hn.measurementId===be);Ft&&(yield F[Ft.appId])}}catch(Bt){Br.error(Bt)}k("config",be,Ue)})).apply(this,arguments)}function Ts(){return(Ts=(0,K.Z)(function*(k,F,H,oe,be){try{let Ue=[];if(be&&be.send_to){let rt=be.send_to;Array.isArray(rt)||(rt=[rt]);const Bt=yield jc(H);for(const Ft of rt){const hn=Bt.find(Mn=>Mn.measurementId===Ft),Un=hn&&F[hn.appId];if(!Un){Ue=[];break}Ue.push(Un)}}0===Ue.length&&(Ue=Object.values(F)),yield Promise.all(Ue),k("event",oe,be||{})}catch(Ue){Br.error(Ue)}})).apply(this,arguments)}const So=30,ao=new class Qi{constructor(F={},H=1e3){this.throttleMetadata=F,this.intervalMillis=H}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,H){this.throttleMetadata[F]=H}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function ep(k){return new Headers({Accept:"application/json","x-goog-api-key":k})}function or(){return(or=(0,K.Z)(function*(k){var F;const{appId:H,apiKey:oe}=k,be={method:"GET",headers:ep(oe)},Ue=Jf.replace("{app-id}",H),rt=yield fetch(Ue,be);if(200!==rt.status&&304!==rt.status){let Bt="";try{const Ft=yield rt.json();null!==(F=Ft.error)&&void 0!==F&&F.message&&(Bt=Ft.error.message)}catch{}throw Wi.create("config-fetch-failed",{httpStatus:rt.status,responseMessage:Bt})}return rt.json()})).apply(this,arguments)}function hr(){return(hr=(0,K.Z)(function*(k,F=ao,H){const{appId:oe,apiKey:be,measurementId:Ue}=k.options;if(!oe)throw Wi.create("no-app-id");if(!be){if(Ue)return{measurementId:Ue,appId:oe};throw Wi.create("no-api-key")}const rt=F.getThrottleMetadata(oe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Bt=new ma;return setTimeout((0,K.Z)(function*(){Bt.abort()}),void 0!==H?H:Bc),co({appId:oe,apiKey:be,measurementId:Ue},rt,Bt,F)})).apply(this,arguments)}function co(k,F,H){return Jr.apply(this,arguments)}function Jr(){return Jr=(0,K.Z)(function*(k,{throttleEndTimeMillis:F,backoffCount:H},oe,be=ao){var Ue;const{appId:rt,measurementId:Bt}=k;try{yield function Xr(k,F){return new Promise((H,oe)=>{const be=Math.max(F-Date.now(),0),Ue=setTimeout(H,be);k.addEventListener(()=>{clearTimeout(Ue),oe(Wi.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(oe,F)}catch(Ft){if(Bt)return Br.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bt} provided in the "measurementId" field in the local Firebase config. [${Ft?.message}]`),{appId:rt,measurementId:Bt};throw Ft}try{const Ft=yield function s_(k){return or.apply(this,arguments)}(k);return be.deleteThrottleMetadata(rt),Ft}catch(Ft){const hn=Ft;if(!function Gh(k){if(!(k instanceof ce.ZR&&k.customData))return!1;const F=Number(k.customData.httpStatus);return 429===F||500===F||503===F||504===F}(hn)){if(be.deleteThrottleMetadata(rt),Bt)return Br.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bt} provided in the "measurementId" field in the local Firebase config. [${hn?.message}]`),{appId:rt,measurementId:Bt};throw Ft}const Un=503===Number(null===(Ue=hn?.customData)||void 0===Ue?void 0:Ue.httpStatus)?(0,ce.$s)(H,be.intervalMillis,So):(0,ce.$s)(H,be.intervalMillis),Mn={throttleEndTimeMillis:Date.now()+Un,backoffCount:H+1};return be.setThrottleMetadata(rt,Mn),Br.debug(`Calling attemptFetch again in ${Un} millis`),co(k,Mn,oe,be)}}),Jr.apply(this,arguments)}class ma{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}let od,uc;function Eu(){return(Eu=(0,K.Z)(function*(k,F,H,oe,be){if(be&&be.global)k("event",H,oe);else{const Ue=yield F;k("event",H,Object.assign(Object.assign({},oe),{send_to:Ue}))}})).apply(this,arguments)}function ga(){return(ga=(0,K.Z)(function*(){if(!(0,ce.hl)())return Br.warn(Wi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(k){return Br.warn(Wi.create("indexeddb-unavailable",{errorInfo:k?.toString()}).message),!1}return!0})).apply(this,arguments)}function _a(){return _a=(0,K.Z)(function*(k,F,H,oe,be,Ue,rt){var Bt;const Ft=function Ji(k){return hr.apply(this,arguments)}(k);Ft.then(Ao=>{H[Ao.measurementId]=Ao.appId,k.options.measurementId&&Ao.measurementId!==k.options.measurementId&&Br.warn(`The measurement ID in the local Firebase config (${k.options.measurementId}) does not match the measurement ID fetched from the server (${Ao.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ao=>Br.error(Ao)),F.push(Ft);const hn=function ns(){return ga.apply(this,arguments)}().then(Ao=>{if(Ao)return oe.getId()}),[Un,Mn]=yield Promise.all([Ft,hn]);(function rd(k){const F=window.document.getElementsByTagName("script");for(const H of Object.values(F))if(H.src&&H.src.includes(id)&&H.src.includes(k))return H;return null})(Ue)||function Xf(k,F){const H=function nh(k,F){let H;return window.trustedTypes&&(H=window.trustedTypes.createPolicy(k,F)),H}("firebase-js-sdk-policy",{createScriptURL:Is}),oe=document.createElement("script"),be=`${id}?l=${k}&id=${F}`;oe.src=H?H?.createScriptURL(be):be,oe.async=!0,document.head.appendChild(oe)}(Ue,Un.measurementId),uc&&(be("consent","default",uc),function dc(k){uc=k}(void 0)),be("js",new Date);const ps=null!==(Bt=rt?.config)&&void 0!==Bt?Bt:{};return ps[In]="firebase",ps.update=!0,null!=Mn&&(ps[Cu]=Mn),be("config",Un.measurementId,ps),od&&(be("set",od),function Gl(k){od=k}(void 0)),Un.measurementId}),_a.apply(this,arguments)}class sh{constructor(F){this.app=F}_delete(){return delete ds[this.app.options.appId],Promise.resolve()}}let ds={},Hn=[];const ar={};let hc,ci,Mo="dataLayer",Ua=!1;function Nr(k,F,H){!function zc(){const k=[];if((0,ce.ru)()&&k.push("This is a browser extension environment."),(0,ce.zI)()||k.push("Cookies are not available."),k.length>0){const F=k.map((oe,be)=>`(${be+1}) ${oe}`).join(" "),H=Wi.create("invalid-analytics-context",{errorInfo:F});Br.warn(H.message)}}();const oe=k.options.appId;if(!oe)throw Wi.create("no-app-id");if(!k.options.apiKey){if(!k.options.measurementId)throw Wi.create("no-api-key");Br.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${k.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ds[oe])throw Wi.create("already-exists",{id:oe});if(!Ua){!function ih(k){let F=[];Array.isArray(window[k])?F=window[k]:window[k]=F}(Mo);const{wrappedGtag:Ue,gtagCore:rt}=function To(k,F,H,oe,be){let Ue=function(...rt){window[oe].push(arguments)};return window[be]&&"function"==typeof window[be]&&(Ue=window[be]),window[be]=function xu(k,F,H,oe){function Ue(){return Ue=(0,K.Z)(function*(rt,...Bt){try{if("event"===rt){const[Ft,hn]=Bt;yield function ii(k,F,H,oe,be){return Ts.apply(this,arguments)}(k,F,H,Ft,hn)}else if("config"===rt){const[Ft,hn]=Bt;yield function cc(k,F,H,oe,be,Ue){return pt.apply(this,arguments)}(k,F,H,oe,Ft,hn)}else if("consent"===rt){const[Ft]=Bt;k("consent","update",Ft)}else if("get"===rt){const[Ft,hn,Un]=Bt;k("get",Ft,hn,Un)}else if("set"===rt){const[Ft]=Bt;k("set",Ft)}else k(rt,...Bt)}catch(Ft){Br.error(Ft)}}),Ue.apply(this,arguments)}return function be(rt){return Ue.apply(this,arguments)}}(Ue,k,F,H),{gtagCore:Ue,wrappedGtag:window[be]}}(ds,Hn,ar,Mo,"gtag");ci=Ue,hc=rt,Ua=!0}return ds[oe]=function sr(k,F,H,oe,be,Ue,rt){return _a.apply(this,arguments)}(k,Hn,ar,F,hc,Mo,H),new sh(k)}function tp(){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,K.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const Hc="@firebase/analytics";!function ud(){(0,pe._registerComponent)(new Pe.wA(ac,(F,{options:H})=>Nr(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),H),"PUBLIC")),(0,pe._registerComponent)(new Pe.wA("analytics-internal",function k(F){try{const H=F.getProvider(ac).getImmediate();return{logEvent:(oe,be,Ue)=>function Wh(k,F,H,oe){k=(0,ce.m9)(k),function vm(k,F,H,oe,be){return Eu.apply(this,arguments)}(ci,ds[k.app.options.appId],F,H,oe).catch(be=>Br.error(be))}(H,oe,be,Ue)}}catch(H){throw Wi.create("interop-component-reg-failed",{reason:H})}},"PRIVATE")),(0,pe.registerVersion)(Hc,"0.10.0"),(0,pe.registerVersion)(Hc,"0.10.0","esm2017")}();var _l=Q(1954),hs=Q(2631);const Kh=new class Zh extends hs.v{}(class Tu extends _l.o{constructor(F,H){super(F,H),this.scheduler=F,this.work=H}schedule(F,H=0){return H>0?super.schedule(F,H):(this.delay=H,this.state=F,this.scheduler.flush(this),this)}execute(F,H){return H>0||this.closed?super.execute(F,H):this._execute(F,H)}requestAsyncId(F,H,oe=0){return null!=oe&&oe>0||null==oe&&this.delay>0?super.requestAsyncId(F,H,oe):(F.flush(this),0)}});var Yh=Q(6321),Ho=Q(5592),dd=Q(9397),Gs=Q(5137),Kl=Q(3093);const Su=new a.GfV("7.6.1"),Yl="__angularfire_symbol__analyticsIsSupportedValue",Ql="__angularfire_symbol__analyticsIsSupported",hd="__angularfire_symbol__remoteConfigIsSupportedValue",Jl="__angularfire_symbol__remoteConfigIsSupported",Xl="__angularfire_symbol__messagingIsSupportedValue",Ws="__angularfire_symbol__messagingIsSupported";function lh(k,F,H){if(F){if(1===F.length)return F[0];const Ue=F.filter(rt=>rt.app===H);if(1===Ue.length)return Ue[0]}return H.container.getProvider(k).getImmediate({optional:!0})}globalThis[Ql]||(globalThis[Ql]=tp().then(k=>globalThis[Yl]=k).catch(()=>globalThis[Yl]=!1)),globalThis[Ws]||(globalThis[Ws]=fl().then(k=>globalThis[Xl]=k).catch(()=>globalThis[Xl]=!1)),globalThis[Jl]||(globalThis[Jl]=Aa().then(k=>globalThis[hd]=k).catch(()=>globalThis[hd]=!1));const uh=(k,F)=>{const H=F?[F]:(0,U.C6)(),oe=[];return H.forEach(be=>{be.container.getProvider(k).instances.forEach(rt=>{oe.includes(rt)||oe.push(rt)})}),oe};function vl(){}class is{constructor(F,H=Kh){this.zone=F,this.delegate=H}now(){return this.delegate.now()}schedule(F,H,oe){const be=this.zone;return this.delegate.schedule(function(rt){be.runGuarded(()=>{F.apply(this,[rt])})},H,oe)}}class qc{constructor(F){this.zone=F,this.task=null}call(F,H){const oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vl,{},vl,vl)),H.pipe((0,dd.b)({next:oe,complete:oe,error:oe})).subscribe(F).add(oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ri=(()=>{class k{constructor(H){this.ngZone=H,this.outsideAngular=H.runOutsideAngular(()=>new is(Zone.current)),this.insideAngular=H.run(()=>new is(Zone.current,Yh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(H){return new(H||k)(a.LFG(a.R0b))},k.\u0275prov=a.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function fc(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function Ti(k){return fc().ngZone.run(()=>k())}function fs(k){return fc(),function yl(k){return function(H){return(H=H.lift(new qc(k.ngZone))).pipe((0,Gs.R)(k.outsideAngular),(0,Kl.Q)(k.insideAngular))}}(fc())(k)}const Ba=(k,F)=>function(){const oe=arguments;return F&&setTimeout(()=>{"scheduled"===F.state&&F.invoke()},10),Ti(()=>k.apply(void 0,oe))},Gc=(k,F)=>function(){let H;const oe=arguments;for(let Ue=0;Ue<arguments.length;Ue++)"function"==typeof oe[Ue]&&(F&&(H||(H=Ti(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vl,{},vl,vl)))),oe[Ue]=Ba(oe[Ue],H));const be=function pd(k){return fc().ngZone.runOutsideAngular(()=>k())}(()=>k.apply(this,oe));if(!F){if(be instanceof Ho.y){const Ue=fc();return be.pipe((0,Gs.R)(Ue.outsideAngular),(0,Kl.Q)(Ue.insideAngular))}return Ti(()=>be)}return be instanceof Ho.y?be.pipe(fs):be instanceof Promise?Ti(()=>new Promise((Ue,rt)=>be.then(Bt=>Ti(()=>Ue(Bt)),Bt=>Ti(()=>rt(Bt))))):"function"==typeof be&&H?function(){return setTimeout(()=>{H&&"scheduled"===H.state&&H.invoke()},10),be.apply(this,arguments)}:Ti(()=>be)}},6710:(en,Me,Q)=>{Q.d(Me,{$:()=>Oa,A:()=>G,D:()=>me,I:()=>Xa,J:()=>ra,L:()=>Et,N:()=>_r,P:()=>sr,Q:()=>bs,R:()=>ml,U:()=>la,V:()=>Aa,W:()=>Vi,X:()=>Ir,Y:()=>Mc,Z:()=>gu,_:()=>ua,a:()=>qs,a0:()=>ic,a1:()=>mi,a2:()=>Yd,a3:()=>Bl,a4:()=>Rr,a5:()=>fa,a6:()=>Bo,a7:()=>Pa,a8:()=>Rc,a9:()=>sc,aA:()=>ue,aB:()=>Ql,aC:()=>pi,aD:()=>go,aE:()=>dd,aF:()=>Zl,aG:()=>ld,aH:()=>Ai,aL:()=>Vc,aO:()=>Gr,aa:()=>jl,ab:()=>pa,ac:()=>ll,ad:()=>It,ae:()=>Nc,af:()=>Hs,ai:()=>C,aj:()=>j,ak:()=>ee,an:()=>cl,ao:()=>$s,aq:()=>dl,ar:()=>hl,as:()=>Le,at:()=>Vt,au:()=>Qe,av:()=>xe,aw:()=>Mn,ax:()=>Ws,ay:()=>Xn,az:()=>nt,b:()=>Xd,c:()=>ci,d:()=>Nr,e:()=>jr,f:()=>Hc,g:()=>Zh,h:()=>_l,i:()=>Do,j:()=>Yh,k:()=>ja,l:()=>us,m:()=>bl,o:()=>Jh,p:()=>ut,r:()=>lc,s:()=>ql,u:()=>ns,v:()=>Io,x:()=>zh});var a=Q(5861),U=Q(9058),K=Q(534),pe=Q(7582),ce=Q(7879),Pe=Q(4537);const ut={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const me=function de(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},lt=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},st=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Re=new ce.Yd("@firebase/auth");function Ze(M,...w){Re.logLevel<=ce.in.ERROR&&Re.error(`Auth (${K.SDK_VERSION}): ${M}`,...w)}function xe(M,...w){throw he(M,...w)}function nt(M,...w){return he(M,...w)}function $e(M,w,I){const O=Object.assign(Object.assign({},lt()),{[w]:I});return new U.LL("auth","Firebase",O).create(w,{appName:M.name})}function it(M,w,I){if(!(w instanceof I))throw I.name!==w.constructor.name&&xe(M,"argument-error"),$e(M,"argument-error",`Type of ${w.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function he(M,...w){if("string"!=typeof M){const I=w[0],O=[...w.slice(1)];return O[0]&&(O[0].appName=M.name),M._errorFactory.create(I,...O)}return st.create(M,...w)}function ue(M,w,...I){if(!M)throw he(w,...I)}function Ge(M){const w="INTERNAL ASSERTION FAILED: "+M;throw Ze(w),new Error(w)}function Le(M,w){M||Ge(w)}function Ct(){var M;return typeof self<"u"&&(null===(M=self.location)||void 0===M?void 0:M.href)||""}function ot(){return"http:"===Kt()||"https:"===Kt()}function Kt(){var M;return typeof self<"u"&&(null===(M=self.location)||void 0===M?void 0:M.protocol)||null}class rn{constructor(w,I){this.shortDelay=w,this.longDelay=I,Le(I>w,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function nn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ot()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fi(M,w){Le(M.emulator,"Emulator should always be set here");const{url:I}=M.emulator;return w?`${I}${w.startsWith("/")?w.slice(1):w}`:I}class Se{static initialize(w,I,O){this.fetchImpl=w,I&&(this.headersImpl=I),O&&(this.responseImpl=O)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},He=new rn(3e4,6e4);function je(M,w){return M.tenantId&&!w.tenantId?Object.assign(Object.assign({},w),{tenantId:M.tenantId}):w}function ct(M,w,I,O){return gt.apply(this,arguments)}function gt(){return(gt=(0,a.Z)(function*(M,w,I,O,$={}){return Mt(M,$,(0,a.Z)(function*(){let J={},De={};O&&("GET"===w?De=O:J={body:JSON.stringify(O)});const Xe=(0,U.xO)(Object.assign({key:M.config.apiKey},De)).slice(1),Ot=yield M._getAdditionalHeaders();return Ot["Content-Type"]="application/json",M.languageCode&&(Ot["X-Firebase-Locale"]=M.languageCode),Se.fetch()(Fn(M,M.config.apiHost,I,Xe),Object.assign({method:w,headers:Ot,referrerPolicy:"no-referrer"},J))}))})).apply(this,arguments)}function Mt(M,w,I){return bt.apply(this,arguments)}function bt(){return(bt=(0,a.Z)(function*(M,w,I){M._canInitEmulator=!1;const O=Object.assign(Object.assign({},Ce),w);try{const $=new fn(M),J=yield Promise.race([I(),$.promise]);$.clearNetworkTimeout();const De=yield J.json();if("needConfirmation"in De)throw tn(M,"account-exists-with-different-credential",De);if(J.ok&&!("errorMessage"in De))return De;{const Xe=J.ok?De.errorMessage:De.error.message,[Ot,Nt]=Xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ot)throw tn(M,"credential-already-in-use",De);if("EMAIL_EXISTS"===Ot)throw tn(M,"email-already-in-use",De);if("USER_DISABLED"===Ot)throw tn(M,"user-disabled",De);const pn=O[Ot]||Ot.toLowerCase().replace(/[_\s]+/g,"-");if(Nt)throw $e(M,pn,Nt);xe(M,pn)}}catch($){if($ instanceof U.ZR)throw $;xe(M,"network-request-failed",{message:String($)})}})).apply(this,arguments)}function Sn(M,w,I,O){return dn.apply(this,arguments)}function dn(){return(dn=(0,a.Z)(function*(M,w,I,O,$={}){const J=yield ct(M,w,I,O,$);return"mfaPendingCredential"in J&&xe(M,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function Fn(M,w,I,O){const $=`${w}${I}?${O}`;return M.config.emulator?fi(M.config,$):`${M.config.apiScheme}://${$}`}class fn{constructor(w){this.auth=w,this.timer=null,this.promise=new Promise((I,O)=>{this.timer=setTimeout(()=>O(nt(this.auth,"network-request-failed")),He.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tn(M,w,I){const O={appName:M.name};I.email&&(O.email=I.email),I.phoneNumber&&(O.phoneNumber=I.phoneNumber);const $=nt(M,w,O);return $.customData._tokenResponse=I,$}function Ut(){return(Ut=(0,a.Z)(function*(M,w){return ct(M,"POST","/v1/accounts:delete",w)})).apply(this,arguments)}function Ln(){return(Ln=(0,a.Z)(function*(M,w){return ct(M,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function wi(){return(wi=(0,a.Z)(function*(M,w){return ct(M,"POST","/v1/accounts:lookup",w)})).apply(this,arguments)}function Mi(M){if(M)try{const w=new Date(Number(M));if(!isNaN(w.getTime()))return w.toUTCString()}catch{}}function Ro(){return(Ro=(0,a.Z)(function*(M,w=!1){const I=(0,U.m9)(M),O=yield I.getIdToken(w),$=Yt(O);ue($&&$.exp&&$.auth_time&&$.iat,I.auth,"internal-error");const J="object"==typeof $.firebase?$.firebase:void 0,De=J?.sign_in_provider;return{claims:$,token:O,authTime:Mi(sn($.auth_time)),issuedAtTime:Mi(sn($.iat)),expirationTime:Mi(sn($.exp)),signInProvider:De||null,signInSecondFactor:J?.sign_in_second_factor||null}})).apply(this,arguments)}function sn(M){return 1e3*Number(M)}function Yt(M){const[w,I,O]=M.split(".");if(void 0===w||void 0===I||void 0===O)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,U.tV)(I);return $?JSON.parse($):(Ze("Failed to decode base64 JWT payload"),null)}catch($){return Ze("Caught error parsing JWT payload as JSON",$?.toString()),null}}function zt(M,w){return Te.apply(this,arguments)}function Te(){return(Te=(0,a.Z)(function*(M,w,I=!1){if(I)return w;try{return yield w}catch(O){throw O instanceof U.ZR&&function we({code:M}){return"auth/user-disabled"===M||"auth/user-token-expired"===M}(O)&&M.auth.currentUser===M&&(yield M.auth.signOut()),O}})).apply(this,arguments)}class Ee{constructor(w){this.user=w,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(w){var I;if(w){const O=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),O}{this.errorBackoff=3e4;const $=(null!==(I=this.user.stsTokenManager.expirationTime)&&void 0!==I?I:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(w=!1){var I=this;if(!this.isRunning)return;const O=this.getInterval(w);this.timerId=setTimeout((0,a.Z)(function*(){yield I.iteration()}),O)}iteration(){var w=this;return(0,a.Z)(function*(){try{yield w.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===I?.code&&w.schedule(!0))}w.schedule()})()}}class qe{constructor(w,I){this.createdAt=w,this.lastLoginAt=I,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mi(this.lastLoginAt),this.creationTime=Mi(this.createdAt)}_copy(w){this.createdAt=w.createdAt,this.lastLoginAt=w.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fe(M){return xt.apply(this,arguments)}function xt(){return xt=(0,a.Z)(function*(M){var w;const I=M.auth,O=yield M.getIdToken(),$=yield zt(M,function Vn(M,w){return wi.apply(this,arguments)}(I,{idToken:O}));ue($?.users.length,I,"internal-error");const J=$.users[0];M._notifyReloadListener(J);const De=null!==(w=J.providerUserInfo)&&void 0!==w&&w.length?function Ht(M){return M.map(w=>{var{providerId:I}=w,O=(0,pe._T)(w,["providerId"]);return{providerId:I,uid:O.rawId||"",displayName:O.displayName||null,email:O.email||null,phoneNumber:O.phoneNumber||null,photoURL:O.photoUrl||null}})}(J.providerUserInfo):[],Xe=function Xt(M,w){return[...M.filter(O=>!w.some($=>$.providerId===O.providerId)),...w]}(M.providerData,De),pn=!!M.isAnonymous&&!(M.email&&J.passwordHash||Xe?.length),Wn={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:Xe,metadata:new qe(J.createdAt,J.lastLoginAt),isAnonymous:pn};Object.assign(M,Wn)}),xt.apply(this,arguments)}function jt(){return(jt=(0,a.Z)(function*(M){const w=(0,U.m9)(M);yield Fe(w),yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)})).apply(this,arguments)}function vi(){return(vi=(0,a.Z)(function*(M,w){const I=yield Mt(M,{},(0,a.Z)(function*(){const O=(0,U.xO)({grant_type:"refresh_token",refresh_token:w}).slice(1),{tokenApiHost:$,apiKey:J}=M.config,De=Fn(M,$,"/v1/token",`key=${J}`),Xe=yield M._getAdditionalHeaders();return Xe["Content-Type"]="application/x-www-form-urlencoded",Se.fetch()(De,{method:"POST",headers:Xe,body:O})}));return{accessToken:I.access_token,expiresIn:I.expires_in,refreshToken:I.refresh_token}})).apply(this,arguments)}class $n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(w){ue(w.idToken,"internal-error"),ue(typeof w.idToken<"u","internal-error"),ue(typeof w.refreshToken<"u","internal-error");const I="expiresIn"in w&&typeof w.expiresIn<"u"?Number(w.expiresIn):function Qt(M){const w=Yt(M);return ue(w,"internal-error"),ue(typeof w.exp<"u","internal-error"),ue(typeof w.iat<"u","internal-error"),Number(w.exp)-Number(w.iat)}(w.idToken);this.updateTokensAndExpiration(w.idToken,w.refreshToken,I)}getToken(w,I=!1){var O=this;return(0,a.Z)(function*(){return ue(!O.accessToken||O.refreshToken,w,"user-token-expired"),I||!O.accessToken||O.isExpired?O.refreshToken?(yield O.refresh(w,O.refreshToken),O.accessToken):null:O.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(w,I){var O=this;return(0,a.Z)(function*(){const{accessToken:$,refreshToken:J,expiresIn:De}=yield function Ci(M,w){return vi.apply(this,arguments)}(w,I);O.updateTokensAndExpiration($,J,Number(De))})()}updateTokensAndExpiration(w,I,O){this.refreshToken=I||null,this.accessToken=w||null,this.expirationTime=Date.now()+1e3*O}static fromJSON(w,I){const{refreshToken:O,accessToken:$,expirationTime:J}=I,De=new $n;return O&&(ue("string"==typeof O,"internal-error",{appName:w}),De.refreshToken=O),$&&(ue("string"==typeof $,"internal-error",{appName:w}),De.accessToken=$),J&&(ue("number"==typeof J,"internal-error",{appName:w}),De.expirationTime=J),De}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(w){this.accessToken=w.accessToken,this.refreshToken=w.refreshToken,this.expirationTime=w.expirationTime}_clone(){return Object.assign(new $n,this.toJSON())}_performRefresh(){return Ge("not implemented")}}function Li(M,w){ue("string"==typeof M||typeof M>"u","internal-error",{appName:w})}class qn{constructor(w){var{uid:I,auth:O,stsTokenManager:$}=w,J=(0,pe._T)(w,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=I,this.auth=O,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new qe(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(w){var I=this;return(0,a.Z)(function*(){const O=yield zt(I,I.stsTokenManager.getToken(I.auth,w));return ue(O,I.auth,"internal-error"),I.accessToken!==O&&(I.accessToken=O,yield I.auth._persistUserIfCurrent(I),I.auth._notifyListenersIfCurrent(I)),O})()}getIdTokenResult(w){return function zi(M){return Ro.apply(this,arguments)}(this,w)}reload(){return function mn(M){return jt.apply(this,arguments)}(this)}_assign(w){this!==w&&(ue(this.uid===w.uid,this.auth,"internal-error"),this.displayName=w.displayName,this.photoURL=w.photoURL,this.email=w.email,this.emailVerified=w.emailVerified,this.phoneNumber=w.phoneNumber,this.isAnonymous=w.isAnonymous,this.tenantId=w.tenantId,this.providerData=w.providerData.map(I=>Object.assign({},I)),this.metadata._copy(w.metadata),this.stsTokenManager._assign(w.stsTokenManager))}_clone(w){const I=new qn(Object.assign(Object.assign({},this),{auth:w,stsTokenManager:this.stsTokenManager._clone()}));return I.metadata._copy(this.metadata),I}_onReload(w){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=w,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(w){this.reloadListener?this.reloadListener(w):this.reloadUserInfo=w}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(w,I=!1){var O=this;return(0,a.Z)(function*(){let $=!1;w.idToken&&w.idToken!==O.stsTokenManager.accessToken&&(O.stsTokenManager.updateFromServerResponse(w),$=!0),I&&(yield Fe(O)),yield O.auth._persistUserIfCurrent(O),$&&O.auth._notifyListenersIfCurrent(O)})()}delete(){var w=this;return(0,a.Z)(function*(){const I=yield w.getIdToken();return yield zt(w,function Dn(M,w){return Ut.apply(this,arguments)}(w.auth,{idToken:I})),w.stsTokenManager.clearRefreshToken(),w.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(w=>Object.assign({},w)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(w,I){var O,$,J,De,Xe,Ot,Nt,pn;const Wn=null!==(O=I.displayName)&&void 0!==O?O:void 0,eo=null!==($=I.email)&&void 0!==$?$:void 0,va=null!==(J=I.phoneNumber)&&void 0!==J?J:void 0,to=null!==(De=I.photoURL)&&void 0!==De?De:void 0,sp=null!==(Xe=I.tenantId)&&void 0!==Xe?Xe:void 0,Xh=null!==(Ot=I._redirectEventId)&&void 0!==Ot?Ot:void 0,Wc=null!==(Nt=I.createdAt)&&void 0!==Nt?Nt:void 0,Mu=null!==(pn=I.lastLoginAt)&&void 0!==pn?pn:void 0,{uid:wl,emailVerified:ef,isAnonymous:dh,providerData:tf,stsTokenManager:wm}=I;ue(wl&&wm,w,"internal-error");const tu=$n.fromJSON(this.name,wm);ue("string"==typeof wl,w,"internal-error"),Li(Wn,w.name),Li(eo,w.name),ue("boolean"==typeof ef,w,"internal-error"),ue("boolean"==typeof dh,w,"internal-error"),Li(va,w.name),Li(to,w.name),Li(sp,w.name),Li(Xh,w.name),Li(Wc,w.name),Li(Mu,w.name);const hh=new qn({uid:wl,auth:w,email:eo,emailVerified:ef,displayName:Wn,isAnonymous:dh,photoURL:to,phoneNumber:va,tenantId:sp,stsTokenManager:tu,createdAt:Wc,lastLoginAt:Mu});return tf&&Array.isArray(tf)&&(hh.providerData=tf.map(d_=>Object.assign({},d_))),Xh&&(hh._redirectEventId=Xh),hh}static _fromIdTokenResponse(w,I,O=!1){return(0,a.Z)(function*(){const $=new $n;$.updateFromServerResponse(I);const J=new qn({uid:I.localId,auth:w,stsTokenManager:$,isAnonymous:O});return yield Fe(J),J})()}}const gr=new Map;function pi(M){Le(M instanceof Function,"Expected a class definition");let w=gr.get(M);return w?(Le(w instanceof M,"Instance stored in cache mismatched with class"),w):(w=new M,gr.set(M,w),w)}const _r=(()=>{class M{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(I,O){var $=this;return(0,a.Z)(function*(){$.storage[I]=O})()}_get(I){var O=this;return(0,a.Z)(function*(){const $=O.storage[I];return void 0===$?null:$})()}_remove(I){var O=this;return(0,a.Z)(function*(){delete O.storage[I]})()}_addListener(I,O){}_removeListener(I,O){}}return M.type="NONE",M})();function go(M,w,I){return`firebase:${M}:${w}:${I}`}class fe{constructor(w,I,O){this.persistence=w,this.auth=I,this.userKey=O;const{config:$,name:J}=this.auth;this.fullUserKey=go(this.userKey,$.apiKey,J),this.fullPersistenceKey=go("persistence",$.apiKey,J),this.boundEventHandler=I._onStorageEvent.bind(I),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(w){return this.persistence._set(this.fullUserKey,w.toJSON())}getCurrentUser(){var w=this;return(0,a.Z)(function*(){const I=yield w.persistence._get(w.fullUserKey);return I?qn._fromJSON(w.auth,I):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(w){var I=this;return(0,a.Z)(function*(){if(I.persistence===w)return;const O=yield I.getCurrentUser();return yield I.removeCurrentUser(),I.persistence=w,O?I.setCurrentUser(O):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(w,I,O="authUser"){return(0,a.Z)(function*(){if(!I.length)return new fe(pi(_r),w,O);const $=(yield Promise.all(I.map(function(){var Nt=(0,a.Z)(function*(pn){if(yield pn._isAvailable())return pn});return function(pn){return Nt.apply(this,arguments)}}()))).filter(Nt=>Nt);let J=$[0]||pi(_r);const De=go(O,w.config.apiKey,w.name);let Xe=null;for(const Nt of I)try{const pn=yield Nt._get(De);if(pn){const Wn=qn._fromJSON(w,pn);Nt!==J&&(Xe=Wn),J=Nt;break}}catch{}const Ot=$.filter(Nt=>Nt._shouldAllowMigration);return J._shouldAllowMigration&&Ot.length?(J=Ot[0],Xe&&(yield J._set(De,Xe.toJSON())),yield Promise.all(I.map(function(){var Nt=(0,a.Z)(function*(pn){if(pn!==J)try{yield pn._remove(De)}catch{}});return function(pn){return Nt.apply(this,arguments)}}())),new fe(J,w,O)):new fe(J,w,O)})()}}function le(M){const w=M.toLowerCase();if(w.includes("opera/")||w.includes("opr/")||w.includes("opios/"))return"Opera";if(Ae(w))return"IEMobile";if(w.includes("msie")||w.includes("trident/"))return"IE";if(w.includes("edge/"))return"Edge";if(X(w))return"Firefox";if(w.includes("silk/"))return"Silk";if(Dt(w))return"Blackberry";if(yn(w))return"Webos";if(te(w))return"Safari";if((w.includes("chrome/")||Y(w))&&!w.includes("edge/"))return"Chrome";if(Qe(w))return"Android";{const O=M.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===O?.length)return O[1]}return"Other"}function X(M=(0,U.z$)()){return/firefox\//i.test(M)}function te(M=(0,U.z$)()){const w=M.toLowerCase();return w.includes("safari/")&&!w.includes("chrome/")&&!w.includes("crios/")&&!w.includes("android")}function Y(M=(0,U.z$)()){return/crios\//i.test(M)}function Ae(M=(0,U.z$)()){return/iemobile/i.test(M)}function Qe(M=(0,U.z$)()){return/android/i.test(M)}function Dt(M=(0,U.z$)()){return/blackberry/i.test(M)}function yn(M=(0,U.z$)()){return/webos/i.test(M)}function Vt(M=(0,U.z$)()){return/iphone|ipad|ipod/i.test(M)||/macintosh/i.test(M)&&/mobile/i.test(M)}function Xn(M=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(M)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(M)}function Nn(M=(0,U.z$)()){return Vt(M)||Qe(M)||yn(M)||Dt(M)||/windows phone/i.test(M)||Ae(M)}function Ko(M,w=[]){let I;switch(M){case"Browser":I=le((0,U.z$)());break;case"Worker":I=`${le((0,U.z$)())}-${M}`;break;default:I=M}const O=w.length?w.join(","):"FirebaseCore-web";return`${I}/JsCore/${K.SDK_VERSION}/${O}`}function ze(){return(ze=(0,a.Z)(function*(M){return(yield ct(M,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _t(M,w){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,a.Z)(function*(M,w){return ct(M,"GET","/v2/recaptchaConfig",je(M,w))})).apply(this,arguments)}function Pt(M){return void 0!==M&&void 0!==M.getResponse}function kn(M){return void 0!==M&&void 0!==M.enterprise}class ri{constructor(w){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===w.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=w.recaptchaKey.split("/")[3],this.emailPasswordEnabled=w.recaptchaEnforcementState.some(I=>"EMAIL_PASSWORD_PROVIDER"===I.provider&&"OFF"!==I.enforcementState)}}function Zi(M){return new Promise((w,I)=>{const O=document.createElement("script");O.setAttribute("src",M),O.onload=w,O.onerror=$=>{const J=nt("internal-error");J.customData=$,I(J)},O.type="text/javascript",O.charset="UTF-8",function Gi(){var M,w;return null!==(w=null===(M=document.getElementsByTagName("head"))||void 0===M?void 0:M[0])&&void 0!==w?w:document}().appendChild(O)})}function er(M){return`__${M}${Math.floor(1e6*Math.random())}`}class Yo{constructor(w){this.type="recaptcha-enterprise",this.auth=Ai(w)}verify(w="verify",I=!1){var O=this;return(0,a.Z)(function*(){function J(){return J=(0,a.Z)(function*(Xe){if(!I){if(null==Xe.tenantId&&null!=Xe._agentRecaptchaConfig)return Xe._agentRecaptchaConfig.siteKey;if(null!=Xe.tenantId&&void 0!==Xe._tenantRecaptchaConfigs[Xe.tenantId])return Xe._tenantRecaptchaConfigs[Xe.tenantId].siteKey}return new Promise(function(){var Ot=(0,a.Z)(function*(Nt,pn){_t(Xe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Wn=>{if(void 0!==Wn.recaptchaKey){const eo=new ri(Wn);return null==Xe.tenantId?Xe._agentRecaptchaConfig=eo:Xe._tenantRecaptchaConfigs[Xe.tenantId]=eo,Nt(eo.siteKey)}pn(new Error("recaptcha Enterprise site key undefined"))}).catch(Wn=>{pn(Wn)})});return function(Nt,pn){return Ot.apply(this,arguments)}}())}),J.apply(this,arguments)}function De(Xe,Ot,Nt){const pn=window.grecaptcha;kn(pn)?pn.enterprise.ready(()=>{pn.enterprise.execute(Xe,{action:w}).then(Wn=>{Ot(Wn)}).catch(()=>{Ot("NO_RECAPTCHA")})}):Nt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Xe,Ot)=>{(function $(Xe){return J.apply(this,arguments)})(O.auth).then(Nt=>{if(!I&&kn(window.grecaptcha))De(Nt,Xe,Ot);else{if(typeof window>"u")return void Ot(new Error("RecaptchaVerifier is only supported in browser"));Zi("https://www.google.com/recaptcha/enterprise.js?render="+Nt).then(()=>{De(Nt,Xe,Ot)}).catch(pn=>{Ot(pn)})}}).catch(Nt=>{Ot(Nt)})})})()}}function ls(M,w,I){return vs.apply(this,arguments)}function vs(){return(vs=(0,a.Z)(function*(M,w,I,O=!1){const $=new Yo(M);let J;try{J=yield $.verify(I)}catch{J=yield $.verify(I,!0)}const De=Object.assign({},w);return Object.assign(De,O?{captchaResp:J}:{captchaResponse:J}),Object.assign(De,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(De,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),De})).apply(this,arguments)}class Qo{constructor(w){this.auth=w,this.queue=[]}pushCallback(w,I){const O=J=>new Promise((De,Xe)=>{try{De(w(J))}catch(Ot){Xe(Ot)}});O.onAbort=I,this.queue.push(O);const $=this.queue.length-1;return()=>{this.queue[$]=()=>Promise.resolve()}}runMiddleware(w){var I=this;return(0,a.Z)(function*(){if(I.auth.currentUser===w)return;const O=[];try{for(const $ of I.queue)yield $(w),$.onAbort&&O.push($.onAbort)}catch($){O.reverse();for(const J of O)try{J()}catch{}throw I.auth._errorFactory.create("login-blocked",{originalMessage:$?.message})}})()}}class jn{constructor(w,I,O,$){this.app=w,this.heartbeatServiceProvider=I,this.appCheckServiceProvider=O,this.config=$,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vo(this),this.idTokenSubscription=new vo(this),this.beforeStateQueue=new Qo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=st,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=w.name,this.clientVersion=$.sdkClientVersion}_initializeWithPersistence(w,I){var O=this;return I&&(this._popupRedirectResolver=pi(I)),this._initializationPromise=this.queue((0,a.Z)(function*(){var $,J;if(!O._deleted&&(O.persistenceManager=yield fe.create(O,w),!O._deleted)){if(null!==($=O._popupRedirectResolver)&&void 0!==$&&$._shouldInitProactively)try{yield O._popupRedirectResolver._initialize(O)}catch{}yield O.initializeCurrentUser(I),O.lastNotifiedUid=(null===(J=O.currentUser)||void 0===J?void 0:J.uid)||null,!O._deleted&&(O._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var w=this;return(0,a.Z)(function*(){if(w._deleted)return;const I=yield w.assertedPersistence.getCurrentUser();if(w.currentUser||I){if(w.currentUser&&I&&w.currentUser.uid===I.uid)return w._currentUser._assign(I),void(yield w.currentUser.getIdToken());yield w._updateCurrentUser(I,!0)}})()}initializeCurrentUser(w){var I=this;return(0,a.Z)(function*(){var O;const $=yield I.assertedPersistence.getCurrentUser();let J=$,De=!1;if(w&&I.config.authDomain){yield I.getOrInitRedirectPersistenceManager();const Xe=null===(O=I.redirectUser)||void 0===O?void 0:O._redirectEventId,Ot=J?._redirectEventId,Nt=yield I.tryRedirectSignIn(w);(!Xe||Xe===Ot)&&Nt?.user&&(J=Nt.user,De=!0)}if(!J)return I.directlySetCurrentUser(null);if(!J._redirectEventId){if(De)try{yield I.beforeStateQueue.runMiddleware(J)}catch(Xe){J=$,I._popupRedirectResolver._overrideRedirectResult(I,()=>Promise.reject(Xe))}return J?I.reloadAndSetCurrentUserOrClear(J):I.directlySetCurrentUser(null)}return ue(I._popupRedirectResolver,I,"argument-error"),yield I.getOrInitRedirectPersistenceManager(),I.redirectUser&&I.redirectUser._redirectEventId===J._redirectEventId?I.directlySetCurrentUser(J):I.reloadAndSetCurrentUserOrClear(J)})()}tryRedirectSignIn(w){var I=this;return(0,a.Z)(function*(){let O=null;try{O=yield I._popupRedirectResolver._completeRedirectFn(I,w,!0)}catch{yield I._setRedirectUser(null)}return O})()}reloadAndSetCurrentUserOrClear(w){var I=this;return(0,a.Z)(function*(){try{yield Fe(w)}catch(O){if("auth/network-request-failed"!==O?.code)return I.directlySetCurrentUser(null)}return I.directlySetCurrentUser(w)})()}useDeviceLanguage(){this.languageCode=function un(){if(typeof navigator>"u")return null;const M=navigator;return M.languages&&M.languages[0]||M.language||null}()}_delete(){var w=this;return(0,a.Z)(function*(){w._deleted=!0})()}updateCurrentUser(w){var I=this;return(0,a.Z)(function*(){const O=w?(0,U.m9)(w):null;return O&&ue(O.auth.config.apiKey===I.config.apiKey,I,"invalid-user-token"),I._updateCurrentUser(O&&O._clone(I))})()}_updateCurrentUser(w,I=!1){var O=this;return(0,a.Z)(function*(){if(!O._deleted)return w&&ue(O.tenantId===w.tenantId,O,"tenant-id-mismatch"),I||(yield O.beforeStateQueue.runMiddleware(w)),O.queue((0,a.Z)(function*(){yield O.directlySetCurrentUser(w),O.notifyAuthListeners()}))})()}signOut(){var w=this;return(0,a.Z)(function*(){return yield w.beforeStateQueue.runMiddleware(null),(w.redirectPersistenceManager||w._popupRedirectResolver)&&(yield w._setRedirectUser(null)),w._updateCurrentUser(null,!0)})()}setPersistence(w){var I=this;return this.queue((0,a.Z)(function*(){yield I.assertedPersistence.setPersistence(pi(w))}))}initializeRecaptchaConfig(){var w=this;return(0,a.Z)(function*(){const I=yield _t(w,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),O=new ri(I);null==w.tenantId?w._agentRecaptchaConfig=O:w._tenantRecaptchaConfigs[w.tenantId]=O,O.emailPasswordEnabled&&new Yo(w).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(w){this._errorFactory=new U.LL("auth","Firebase",w())}onAuthStateChanged(w,I,O){return this.registerStateListener(this.authStateSubscription,w,I,O)}beforeAuthStateChanged(w,I){return this.beforeStateQueue.pushCallback(w,I)}onIdTokenChanged(w,I,O){return this.registerStateListener(this.idTokenSubscription,w,I,O)}toJSON(){var w;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(w=this._currentUser)||void 0===w?void 0:w.toJSON()}}_setRedirectUser(w,I){var O=this;return(0,a.Z)(function*(){const $=yield O.getOrInitRedirectPersistenceManager(I);return null===w?$.removeCurrentUser():$.setCurrentUser(w)})()}getOrInitRedirectPersistenceManager(w){var I=this;return(0,a.Z)(function*(){if(!I.redirectPersistenceManager){const O=w&&pi(w)||I._popupRedirectResolver;ue(O,I,"argument-error"),I.redirectPersistenceManager=yield fe.create(I,[pi(O._redirectPersistence)],"redirectUser"),I.redirectUser=yield I.redirectPersistenceManager.getCurrentUser()}return I.redirectPersistenceManager})()}_redirectUserForId(w){var I=this;return(0,a.Z)(function*(){var O,$;return I._isInitialized&&(yield I.queue((0,a.Z)(function*(){}))),(null===(O=I._currentUser)||void 0===O?void 0:O._redirectEventId)===w?I._currentUser:(null===($=I.redirectUser)||void 0===$?void 0:$._redirectEventId)===w?I.redirectUser:null})()}_persistUserIfCurrent(w){var I=this;return(0,a.Z)(function*(){if(w===I.currentUser)return I.queue((0,a.Z)(function*(){return I.directlySetCurrentUser(w)}))})()}_notifyListenersIfCurrent(w){w===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var w,I;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const O=null!==(I=null===(w=this.currentUser)||void 0===w?void 0:w.uid)&&void 0!==I?I:null;this.lastNotifiedUid!==O&&(this.lastNotifiedUid=O,this.authStateSubscription.next(this.currentUser))}registerStateListener(w,I,O,$){if(this._deleted)return()=>{};const J="function"==typeof I?I:I.next.bind(I),De=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(De,this,"internal-error"),De.then(()=>J(this.currentUser)),"function"==typeof I?w.addObserver(I,O,$):w.addObserver(I)}directlySetCurrentUser(w){var I=this;return(0,a.Z)(function*(){I.currentUser&&I.currentUser!==w&&I._currentUser._stopProactiveRefresh(),w&&I.isProactiveRefreshEnabled&&w._startProactiveRefresh(),I.currentUser=w,w?yield I.assertedPersistence.setCurrentUser(w):yield I.assertedPersistence.removeCurrentUser()})()}queue(w){return this.operations=this.operations.then(w,w),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(w){!w||this.frameworks.includes(w)||(this.frameworks.push(w),this.frameworks.sort(),this.clientVersion=Ko(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var w=this;return(0,a.Z)(function*(){var I;const O={"X-Client-Version":w.clientVersion};w.app.options.appId&&(O["X-Firebase-gmpid"]=w.app.options.appId);const $=yield null===(I=w.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getHeartbeatsHeader();$&&(O["X-Firebase-Client"]=$);const J=yield w._getAppCheckToken();return J&&(O["X-Firebase-AppCheck"]=J),O})()}_getAppCheckToken(){var w=this;return(0,a.Z)(function*(){var I;const O=yield null===(I=w.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getToken();return O?.error&&function at(M,...w){Re.logLevel<=ce.in.WARN&&Re.warn(`Auth (${K.SDK_VERSION}): ${M}`,...w)}(`Error while retrieving App Check token: ${O.error}`),O?.token})()}}function Ai(M){return(0,U.m9)(M)}class vo{constructor(w){this.auth=w,this.observer=null,this.addObserver=(0,U.ne)(I=>this.observer=I)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xa(M,w,I){const O=Ai(M);ue(O._canInitEmulator,O,"emulator-config-failed"),ue(/^https?:\/\//.test(w),O,"invalid-emulator-scheme");const $=!!I?.disableWarnings,J=$r(w),{host:De,port:Xe}=function Ls(M){const w=$r(M),I=/(\/\/)?([^?#/]+)/.exec(M.substr(w.length));if(!I)return{host:"",port:null};const O=I[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(O);if($){const J=$[1];return{host:J,port:ec(O.substr(J.length+1))}}{const[J,De]=O.split(":");return{host:J,port:ec(De)}}}(w);O.config.emulator={url:`${J}//${De}${null===Xe?"":`:${Xe}`}/`},O.settings.appVerificationDisabledForTesting=!0,O.emulatorConfig=Object.freeze({host:De,port:Xe,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:$})}),$||function Ju(){function M(){const w=document.createElement("p"),I=w.style;w.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",w.classList.add("firebase-emulator-warning"),document.body.appendChild(w)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",M):M())}()}function $r(M){const w=M.indexOf(":");return w<0?"":M.substr(0,w+1)}function ec(M){if(!M)return null;const w=Number(M);return isNaN(w)?null:w}class ra{constructor(w,I){this.providerId=w,this.signInMethod=I}toJSON(){return Ge("not implemented")}_getIdTokenResponse(w){return Ge("not implemented")}_linkToIdToken(w,I){return Ge("not implemented")}_getReauthenticationResolver(w){return Ge("not implemented")}}function xc(M,w){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,a.Z)(function*(M,w){return ct(M,"POST","/v1/accounts:resetPassword",je(M,w))})).apply(this,arguments)}function Us(M,w){return oa.apply(this,arguments)}function oa(){return(oa=(0,a.Z)(function*(M,w){return ct(M,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function No(){return(No=(0,a.Z)(function*(M,w){return ct(M,"POST","/v1/accounts:update",je(M,w))})).apply(this,arguments)}function yo(M,w){return yr.apply(this,arguments)}function yr(){return(yr=(0,a.Z)(function*(M,w){return Sn(M,"POST","/v1/accounts:signInWithPassword",je(M,w))})).apply(this,arguments)}function tc(M,w){return sa.apply(this,arguments)}function sa(){return(sa=(0,a.Z)(function*(M,w){return ct(M,"POST","/v1/accounts:sendOobCode",je(M,w))})).apply(this,arguments)}function Ic(){return(Ic=(0,a.Z)(function*(M,w){return tc(M,w)})).apply(this,arguments)}function aa(M,w){return ys.apply(this,arguments)}function ys(){return(ys=(0,a.Z)(function*(M,w){return tc(M,w)})).apply(this,arguments)}function nc(M,w){return zn.apply(this,arguments)}function zn(){return(zn=(0,a.Z)(function*(M,w){return tc(M,w)})).apply(this,arguments)}function br(){return(br=(0,a.Z)(function*(M,w){return tc(M,w)})).apply(this,arguments)}function wr(){return(wr=(0,a.Z)(function*(M,w){return Sn(M,"POST","/v1/accounts:signInWithEmailLink",je(M,w))})).apply(this,arguments)}function Sc(){return(Sc=(0,a.Z)(function*(M,w){return Sn(M,"POST","/v1/accounts:signInWithEmailLink",je(M,w))})).apply(this,arguments)}class Fo extends ra{constructor(w,I,O,$=null){super("password",O),this._email=w,this._password=I,this._tenantId=$}static _fromEmailAndPassword(w,I){return new Fo(w,I,"password")}static _fromEmailAndCode(w,I,O=null){return new Fo(w,I,"emailLink",O)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(w){const I="string"==typeof w?JSON.parse(w):w;if(I?.email&&I?.password){if("password"===I.signInMethod)return this._fromEmailAndPassword(I.email,I.password);if("emailLink"===I.signInMethod)return this._fromEmailAndCode(I.email,I.password,I.tenantId)}return null}_getIdTokenResponse(w){var I=this;return(0,a.Z)(function*(){var O;switch(I.signInMethod){case"password":const $={returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(O=w._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const J=yield ls(w,$,"signInWithPassword");return yo(w,J)}return yo(w,$).catch(function(){var J=(0,a.Z)(function*(De){if("auth/missing-recaptcha-token"===De.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Xe=yield ls(w,$,"signInWithPassword");return yo(w,Xe)}return Promise.reject(De)});return function(De){return J.apply(this,arguments)}}());case"emailLink":return function Ma(M,w){return wr.apply(this,arguments)}(w,{email:I._email,oobCode:I._password});default:xe(w,"internal-error")}})()}_linkToIdToken(w,I){var O=this;return(0,a.Z)(function*(){switch(O.signInMethod){case"password":return Us(w,{idToken:I,returnSecureToken:!0,email:O._email,password:O._password});case"emailLink":return function Tc(M,w){return Sc.apply(this,arguments)}(w,{idToken:I,email:O._email,oobCode:O._password});default:xe(w,"internal-error")}})()}_getReauthenticationResolver(w){return this._getIdTokenResponse(w)}}function Vs(M,w){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,a.Z)(function*(M,w){return Sn(M,"POST","/v1/accounts:signInWithIdp",je(M,w))})).apply(this,arguments)}class Et extends ra{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(w){const I=new Et(w.providerId,w.signInMethod);return w.idToken||w.accessToken?(w.idToken&&(I.idToken=w.idToken),w.accessToken&&(I.accessToken=w.accessToken),w.nonce&&!w.pendingToken&&(I.nonce=w.nonce),w.pendingToken&&(I.pendingToken=w.pendingToken)):w.oauthToken&&w.oauthTokenSecret?(I.accessToken=w.oauthToken,I.secret=w.oauthTokenSecret):xe("argument-error"),I}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(w){const I="string"==typeof w?JSON.parse(w):w,{providerId:O,signInMethod:$}=I,J=(0,pe._T)(I,["providerId","signInMethod"]);if(!O||!$)return null;const De=new Et(O,$);return De.idToken=J.idToken||void 0,De.accessToken=J.accessToken||void 0,De.secret=J.secret,De.nonce=J.nonce,De.pendingToken=J.pendingToken||null,De}_getIdTokenResponse(w){return Vs(w,this.buildRequest())}_linkToIdToken(w,I){const O=this.buildRequest();return O.idToken=I,Vs(w,O)}_getReauthenticationResolver(w){const I=this.buildRequest();return I.autoCreate=!1,Vs(w,I)}buildRequest(){const w={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)w.pendingToken=this.pendingToken;else{const I={};this.idToken&&(I.id_token=this.idToken),this.accessToken&&(I.access_token=this.accessToken),this.secret&&(I.oauth_token_secret=this.secret),I.providerId=this.providerId,this.nonce&&!this.pendingToken&&(I.nonce=this.nonce),w.postBody=(0,U.xO)(I)}return w}}function Ei(){return(Ei=(0,a.Z)(function*(M,w){return ct(M,"POST","/v1/accounts:sendVerificationCode",je(M,w))})).apply(this,arguments)}function Bs(){return(Bs=(0,a.Z)(function*(M,w){return Sn(M,"POST","/v1/accounts:signInWithPhoneNumber",je(M,w))})).apply(this,arguments)}function Jo(){return(Jo=(0,a.Z)(function*(M,w){const I=yield Sn(M,"POST","/v1/accounts:signInWithPhoneNumber",je(M,w));if(I.temporaryProof)throw tn(M,"account-exists-with-different-credential",I);return I})).apply(this,arguments)}const Pi={USER_NOT_FOUND:"user-not-found"};function Xo(){return(Xo=(0,a.Z)(function*(M,w){return Sn(M,"POST","/v1/accounts:signInWithPhoneNumber",je(M,Object.assign(Object.assign({},w),{operation:"REAUTH"})),Pi)})).apply(this,arguments)}class on extends ra{constructor(w){super("phone","phone"),this.params=w}static _fromVerification(w,I){return new on({verificationId:w,verificationCode:I})}static _fromTokenResponse(w,I){return new on({phoneNumber:w,temporaryProof:I})}_getIdTokenResponse(w){return function so(M,w){return Bs.apply(this,arguments)}(w,this._makeVerificationRequest())}_linkToIdToken(w,I){return function Pn(M,w){return Jo.apply(this,arguments)}(w,Object.assign({idToken:I},this._makeVerificationRequest()))}_getReauthenticationResolver(w){return function ca(M,w){return Xo.apply(this,arguments)}(w,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:w,phoneNumber:I,verificationId:O,verificationCode:$}=this.params;return w&&I?{temporaryProof:w,phoneNumber:I}:{sessionInfo:O,code:$}}toJSON(){const w={providerId:this.providerId};return this.params.phoneNumber&&(w.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(w.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(w.verificationCode=this.params.verificationCode),this.params.verificationId&&(w.verificationId=this.params.verificationId),w}static fromJSON(w){"string"==typeof w&&(w=JSON.parse(w));const{verificationId:I,verificationCode:O,phoneNumber:$,temporaryProof:J}=w;return O||I||$||J?new on({verificationId:I,verificationCode:O,phoneNumber:$,temporaryProof:J}):null}}class Cr{constructor(w){var I,O,$,J,De,Xe;const Ot=(0,U.zd)((0,U.pd)(w)),Nt=null!==(I=Ot.apiKey)&&void 0!==I?I:null,pn=null!==(O=Ot.oobCode)&&void 0!==O?O:null,Wn=function qr(M){switch(M){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=Ot.mode)&&void 0!==$?$:null);ue(Nt&&pn&&Wn,"argument-error"),this.apiKey=Nt,this.operation=Wn,this.code=pn,this.continueUrl=null!==(J=Ot.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==(De=Ot.languageCode)&&void 0!==De?De:null,this.tenantId=null!==(Xe=Ot.tenantId)&&void 0!==Xe?Xe:null}static parseLink(w){const I=function Ll(M){const w=(0,U.zd)((0,U.pd)(M)).link,I=w?(0,U.zd)((0,U.pd)(w)).deep_link_id:null,O=(0,U.zd)((0,U.pd)(M)).deep_link_id;return(O?(0,U.zd)((0,U.pd)(O)).link:null)||O||I||w||M}(w);try{return new Cr(I)}catch{return null}}}let bs=(()=>{class M{constructor(){this.providerId=M.PROVIDER_ID}static credential(I,O){return Fo._fromEmailAndPassword(I,O)}static credentialWithLink(I,O){const $=Cr.parseLink(O);return ue($,"argument-error"),Fo._fromEmailAndCode(I,$.code,$.tenantId)}}return M.PROVIDER_ID="password",M.EMAIL_PASSWORD_SIGN_IN_METHOD="password",M.EMAIL_LINK_SIGN_IN_METHOD="emailLink",M})();class Lo{constructor(w){this.providerId=w,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(w){this.defaultLanguageCode=w}setCustomParameters(w){return this.customParameters=w,this}getCustomParameters(){return this.customParameters}}class Er extends Lo{constructor(){super(...arguments),this.scopes=[]}addScope(w){return this.scopes.includes(w)||this.scopes.push(w),this}getScopes(){return[...this.scopes]}}class Ir extends Er{static credentialFromJSON(w){const I="string"==typeof w?JSON.parse(w):w;return ue("providerId"in I&&"signInMethod"in I,"argument-error"),Et._fromParams(I)}credential(w){return this._credential(Object.assign(Object.assign({},w),{nonce:w.rawNonce}))}_credential(w){return ue(w.idToken||w.accessToken,"argument-error"),Et._fromParams(Object.assign(Object.assign({},w),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(w){return Ir.oauthCredentialFromTaggedObject(w)}static credentialFromError(w){return Ir.oauthCredentialFromTaggedObject(w.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:I,oauthAccessToken:O,oauthTokenSecret:$,pendingToken:J,nonce:De,providerId:Xe}=w;if(!O&&!$&&!I&&!J||!Xe)return null;try{return new Ir(Xe)._credential({idToken:I,accessToken:O,nonce:De,pendingToken:J})}catch{return null}}}let la=(()=>{class M extends Er{constructor(){super("facebook.com")}static credential(I){return Et._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.FACEBOOK_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return M.credentialFromTaggedObject(I)}static credentialFromError(I){return M.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return M.credential(I.oauthAccessToken)}catch{return null}}}return M.FACEBOOK_SIGN_IN_METHOD="facebook.com",M.PROVIDER_ID="facebook.com",M})(),Aa=(()=>{class M extends Er{constructor(){super("google.com"),this.addScope("profile")}static credential(I,O){return Et._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.GOOGLE_SIGN_IN_METHOD,idToken:I,accessToken:O})}static credentialFromResult(I){return M.credentialFromTaggedObject(I)}static credentialFromError(I){return M.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthIdToken:O,oauthAccessToken:$}=I;if(!O&&!$)return null;try{return M.credential(O,$)}catch{return null}}}return M.GOOGLE_SIGN_IN_METHOD="google.com",M.PROVIDER_ID="google.com",M})(),Vi=(()=>{class M extends Er{constructor(){super("github.com")}static credential(I){return Et._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.GITHUB_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return M.credentialFromTaggedObject(I)}static credentialFromError(I){return M.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return M.credential(I.oauthAccessToken)}catch{return null}}}return M.GITHUB_SIGN_IN_METHOD="github.com",M.PROVIDER_ID="github.com",M})();class Gr extends ra{constructor(w,I){super(w,w),this.pendingToken=I}_getIdTokenResponse(w){return Vs(w,this.buildRequest())}_linkToIdToken(w,I){const O=this.buildRequest();return O.idToken=I,Vs(w,O)}_getReauthenticationResolver(w){const I=this.buildRequest();return I.autoCreate=!1,Vs(w,I)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(w){const I="string"==typeof w?JSON.parse(w):w,{providerId:O,signInMethod:$,pendingToken:J}=I;return O&&$&&J&&O===$?new Gr(O,J):null}static _create(w,I){return new Gr(w,I)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mc extends Lo{constructor(w){ue(w.startsWith("saml."),"argument-error"),super(w)}static credentialFromResult(w){return Mc.samlCredentialFromTaggedObject(w)}static credentialFromError(w){return Mc.samlCredentialFromTaggedObject(w.customData||{})}static credentialFromJSON(w){const I=Gr.fromJSON(w);return ue(I,"argument-error"),I}static samlCredentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{pendingToken:I,providerId:O}=w;if(!I||!O)return null;try{return Gr._create(O,I)}catch{return null}}}let gu=(()=>{class M extends Er{constructor(){super("twitter.com")}static credential(I,O){return Et._fromParams({providerId:M.PROVIDER_ID,signInMethod:M.TWITTER_SIGN_IN_METHOD,oauthToken:I,oauthTokenSecret:O})}static credentialFromResult(I){return M.credentialFromTaggedObject(I)}static credentialFromError(I){return M.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthAccessToken:O,oauthTokenSecret:$}=I;if(!O||!$)return null;try{return M.credential(O,$)}catch{return null}}}return M.TWITTER_SIGN_IN_METHOD="twitter.com",M.PROVIDER_ID="twitter.com",M})();function ka(M,w){return kr.apply(this,arguments)}function kr(){return(kr=(0,a.Z)(function*(M,w){return Sn(M,"POST","/v1/accounts:signUp",je(M,w))})).apply(this,arguments)}class rr{constructor(w){this.user=w.user,this.providerId=w.providerId,this._tokenResponse=w._tokenResponse,this.operationType=w.operationType}static _fromIdTokenResponse(w,I,O,$=!1){return(0,a.Z)(function*(){const J=yield qn._fromIdTokenResponse(w,O,$),De=Wr(O);return new rr({user:J,providerId:De,_tokenResponse:O,operationType:I})})()}static _forOperation(w,I,O){return(0,a.Z)(function*(){yield w._updateTokensIfNecessary(O,!0);const $=Wr(O);return new rr({user:w,providerId:$,_tokenResponse:O,operationType:I})})()}}function Wr(M){return M.providerId?M.providerId:"phoneNumber"in M?"phone":null}function ua(M){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,a.Z)(function*(M){var w;const I=Ai(M);if(yield I._initializationPromise,null!==(w=I.currentUser)&&void 0!==w&&w.isAnonymous)return new rr({user:I.currentUser,providerId:null,operationType:"signIn"});const O=yield ka(I,{returnSecureToken:!0}),$=yield rr._fromIdTokenResponse(I,"signIn",O,!0);return yield I._updateCurrentUser($.user),$})).apply(this,arguments)}class al extends U.ZR{constructor(w,I,O,$){var J;super(I.code,I.message),this.operationType=O,this.user=$,Object.setPrototypeOf(this,al.prototype),this.customData={appName:w.name,tenantId:null!==(J=w.tenantId)&&void 0!==J?J:void 0,_serverResponse:I.customData._serverResponse,operationType:O}}static _fromErrorAndOperation(w,I,O,$){return new al(w,I,O,$)}}function Zr(M,w,I,O){return("reauthenticate"===w?I._getReauthenticationResolver(M):I._getIdTokenResponse(M)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?al._fromErrorAndOperation(M,J,w,O):J})}function Tr(M){return new Set(M.map(({providerId:w})=>w).filter(w=>!!w))}function cl(M,w){return Or.apply(this,arguments)}function Or(){return Or=(0,a.Z)(function*(M,w){const I=(0,U.m9)(M);yield da(!0,I,w);const{providerUserInfo:O}=yield function cn(M,w){return Ln.apply(this,arguments)}(I.auth,{idToken:yield I.getIdToken(),deleteProvider:[w]}),$=Tr(O||[]);return I.providerData=I.providerData.filter(J=>$.has(J.providerId)),$.has("phone")||(I.phoneNumber=null),yield I.auth._persistUserIfCurrent(I),I}),Or.apply(this,arguments)}function Kr(M,w){return di.apply(this,arguments)}function di(){return(di=(0,a.Z)(function*(M,w,I=!1){const O=yield zt(M,w._linkToIdToken(M.auth,yield M.getIdToken()),I);return rr._forOperation(M,"link",O)})).apply(this,arguments)}function da(M,w,I){return oi.apply(this,arguments)}function oi(){return(oi=(0,a.Z)(function*(M,w,I){yield Fe(w);const $=!1===M?"provider-already-linked":"no-such-provider";ue(Tr(w.providerData).has(I)===M,w.auth,$)})).apply(this,arguments)}function Pr(M,w){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,a.Z)(function*(M,w,I=!1){const{auth:O}=M,$="reauthenticate";try{const J=yield zt(M,Zr(O,$,w,M),I);ue(J.idToken,O,"internal-error");const De=Yt(J.idToken);ue(De,O,"internal-error");const{sub:Xe}=De;return ue(M.uid===Xe,O,"user-mismatch"),rr._forOperation(M,$,J)}catch(J){throw"auth/user-not-found"===J?.code&&xe(O,"user-mismatch"),J}})).apply(this,arguments)}function ws(M,w){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,a.Z)(function*(M,w,I=!1){const O="signIn",$=yield Zr(M,O,w),J=yield rr._fromIdTokenResponse(M,O,$);return I||(yield M._updateCurrentUser(J.user)),J})).apply(this,arguments)}function Oa(M,w){return kc.apply(this,arguments)}function kc(){return(kc=(0,a.Z)(function*(M,w){return ws(Ai(M),w)})).apply(this,arguments)}function ic(M,w){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,a.Z)(function*(M,w){const I=(0,U.m9)(M);return yield da(!1,I,w.providerId),Kr(I,w)})).apply(this,arguments)}function mi(M,w){return _u.apply(this,arguments)}function _u(){return(_u=(0,a.Z)(function*(M,w){return Pr((0,U.m9)(M),w)})).apply(this,arguments)}function Vo(){return(Vo=(0,a.Z)(function*(M,w){return Sn(M,"POST","/v1/accounts:signInWithCustomToken",je(M,w))})).apply(this,arguments)}function Yd(M,w){return rc.apply(this,arguments)}function rc(){return rc=(0,a.Z)(function*(M,w){const I=Ai(M),O=yield function Oc(M,w){return Vo.apply(this,arguments)}(I,{token:w,returnSecureToken:!0}),$=yield rr._fromIdTokenResponse(I,"signIn",O);return yield I._updateCurrentUser($.user),$}),rc.apply(this,arguments)}class bo{constructor(w,I){this.factorId=w,this.uid=I.mfaEnrollmentId,this.enrollmentTime=new Date(I.enrolledAt).toUTCString(),this.displayName=I.displayName}static _fromServerResponse(w,I){return"phoneInfo"in I?oc._fromServerResponse(w,I):"totpInfo"in I?ha._fromServerResponse(w,I):xe(w,"internal-error")}}class oc extends bo{constructor(w){super("phone",w),this.phoneNumber=w.phoneInfo}static _fromServerResponse(w,I){return new oc(I)}}class ha extends bo{constructor(w){super("totp",w)}static _fromServerResponse(w,I){return new ha(I)}}function Cs(M,w,I){var O;ue((null===(O=I.url)||void 0===O?void 0:O.length)>0,M,"invalid-continue-uri"),ue(typeof I.dynamicLinkDomain>"u"||I.dynamicLinkDomain.length>0,M,"invalid-dynamic-link-domain"),w.continueUrl=I.url,w.dynamicLinkDomain=I.dynamicLinkDomain,w.canHandleCodeInApp=I.handleCodeInApp,I.iOS&&(ue(I.iOS.bundleId.length>0,M,"missing-ios-bundle-id"),w.iOSBundleId=I.iOS.bundleId),I.android&&(ue(I.android.packageName.length>0,M,"missing-android-pkg-name"),w.androidInstallApp=I.android.installApp,w.androidMinimumVersionCode=I.android.minimumVersion,w.androidPackageName=I.android.packageName)}function Bl(M,w,I){return vu.apply(this,arguments)}function vu(){return vu=(0,a.Z)(function*(M,w,I){var O;const $=Ai(M),J={requestType:"PASSWORD_RESET",email:w,clientType:"CLIENT_TYPE_WEB"};if(null!==(O=$._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const De=yield ls($,J,"getOobCode",!0);I&&Cs($,De,I),yield aa($,De)}else I&&Cs($,J,I),yield aa($,J).catch(function(){var De=(0,a.Z)(function*(Xe){if("auth/missing-recaptcha-token"!==Xe.code)return Promise.reject(Xe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ot=yield ls($,J,"getOobCode",!0);I&&Cs($,Ot,I),yield aa($,Ot)}});return function(Xe){return De.apply(this,arguments)}}())}),vu.apply(this,arguments)}function Rr(M,w,I){return js.apply(this,arguments)}function js(){return(js=(0,a.Z)(function*(M,w,I){yield xc((0,U.m9)(M),{oobCode:w,newPassword:I})})).apply(this,arguments)}function fa(M,w){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,a.Z)(function*(M,w){yield function sl(M,w){return No.apply(this,arguments)}((0,U.m9)(M),{oobCode:w})}),Pc.apply(this,arguments)}function Bo(M,w){return ur.apply(this,arguments)}function ur(){return(ur=(0,a.Z)(function*(M,w){const I=(0,U.m9)(M),O=yield xc(I,{oobCode:w}),$=O.requestType;switch(ue($,I,"internal-error"),$){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ue(O.newEmail,I,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ue(O.mfaInfo,I,"internal-error");default:ue(O.email,I,"internal-error")}let J=null;return O.mfaInfo&&(J=bo._fromServerResponse(Ai(I),O.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.newEmail:O.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.email:O.newEmail)||null,multiFactorInfo:J},operation:$}})).apply(this,arguments)}function Pa(M,w){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,a.Z)(function*(M,w){const{data:I}=yield Bo((0,U.m9)(M),w);return I.email})).apply(this,arguments)}function Rc(M,w,I){return wo.apply(this,arguments)}function wo(){return wo=(0,a.Z)(function*(M,w,I){var O;const $=Ai(M),J={returnSecureToken:!0,email:w,password:I,clientType:"CLIENT_TYPE_WEB"};let De;if(null!==(O=$._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const Nt=yield ls($,J,"signUpPassword");De=ka($,Nt)}else De=ka($,J).catch(function(){var Nt=(0,a.Z)(function*(pn){if("auth/missing-recaptcha-token"===pn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Wn=yield ls($,J,"signUpPassword");return ka($,Wn)}return Promise.reject(pn)});return function(pn){return Nt.apply(this,arguments)}}());const Xe=yield De.catch(Nt=>Promise.reject(Nt)),Ot=yield rr._fromIdTokenResponse($,"signIn",Xe);return yield $._updateCurrentUser(Ot.user),Ot}),wo.apply(this,arguments)}function sc(M,w,I){return Oa((0,U.m9)(M),bs.credential(w,I))}function jl(M,w,I){return zs.apply(this,arguments)}function zs(){return zs=(0,a.Z)(function*(M,w,I){var O;const $=Ai(M),J={requestType:"EMAIL_SIGNIN",email:w,clientType:"CLIENT_TYPE_WEB"};function De(Xe,Ot){ue(Ot.handleCodeInApp,$,"argument-error"),Ot&&Cs($,Xe,Ot)}if(null!==(O=$._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const Xe=yield ls($,J,"getOobCode",!0);De(Xe,I),yield nc($,Xe)}else De(J,I),yield nc($,J).catch(function(){var Xe=(0,a.Z)(function*(Ot){if("auth/missing-recaptcha-token"!==Ot.code)return Promise.reject(Ot);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Nt=yield ls($,J,"getOobCode",!0);De(Nt,I),yield nc($,Nt)}});return function(Ot){return Xe.apply(this,arguments)}}())}),zs.apply(this,arguments)}function pa(M,w){const I=Cr.parseLink(w);return"EMAIL_SIGNIN"===I?.operation}function ll(M,w,I){return yi.apply(this,arguments)}function yi(){return(yi=(0,a.Z)(function*(M,w,I){const O=(0,U.m9)(M),$=bs.credentialWithLink(w,I||Ct());return ue($._tenantId===(O.tenantId||null),O,"tenant-id-mismatch"),Oa(O,$)})).apply(this,arguments)}function Ra(){return(Ra=(0,a.Z)(function*(M,w){return ct(M,"POST","/v1/accounts:createAuthUri",je(M,w))})).apply(this,arguments)}function It(M,w){return es.apply(this,arguments)}function es(){return es=(0,a.Z)(function*(M,w){const O={identifier:w,continueUri:ot()?Ct():"http://localhost"},{signinMethods:$}=yield function jo(M,w){return Ra.apply(this,arguments)}((0,U.m9)(M),O);return $||[]}),es.apply(this,arguments)}function Nc(M,w){return Co.apply(this,arguments)}function Co(){return Co=(0,a.Z)(function*(M,w){const I=(0,U.m9)(M),$={requestType:"VERIFY_EMAIL",idToken:yield M.getIdToken()};w&&Cs(I.auth,$,w);const{email:J}=yield function Ki(M,w){return Ic.apply(this,arguments)}(I.auth,$);J!==M.email&&(yield M.reload())}),Co.apply(this,arguments)}function Hs(M,w,I){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,a.Z)(function*(M,w,I){const O=(0,U.m9)(M),J={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield M.getIdToken(),newEmail:w};I&&Cs(O.auth,J,I);const{email:De}=yield function Ui(M,w){return br.apply(this,arguments)}(O.auth,J);De!==M.email&&(yield M.reload())}),Fc.apply(this,arguments)}function Na(){return(Na=(0,a.Z)(function*(M,w){return ct(M,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function C(M,w){return N.apply(this,arguments)}function N(){return N=(0,a.Z)(function*(M,{displayName:w,photoURL:I}){if(void 0===w&&void 0===I)return;const O=(0,U.m9)(M),J={idToken:yield O.getIdToken(),displayName:w,photoUrl:I,returnSecureToken:!0},De=yield zt(O,function Xu(M,w){return Na.apply(this,arguments)}(O.auth,J));O.displayName=De.displayName||null,O.photoURL=De.photoUrl||null;const Xe=O.providerData.find(({providerId:Ot})=>"password"===Ot);Xe&&(Xe.displayName=O.displayName,Xe.photoURL=O.photoURL),yield O._updateTokensIfNecessary(De)}),N.apply(this,arguments)}function j(M,w){return ve((0,U.m9)(M),w,null)}function ee(M,w){return ve((0,U.m9)(M),null,w)}function ve(M,w,I){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,a.Z)(function*(M,w,I){const{auth:O}=M,J={idToken:yield M.getIdToken(),returnSecureToken:!0};w&&(J.email=w),I&&(J.password=I);const De=yield zt(M,Us(O,J));yield M._updateTokensIfNecessary(De,!0)})).apply(this,arguments)}class Gn{constructor(w,I,O={}){this.isNewUser=w,this.providerId=I,this.profile=O}}class ti extends Gn{constructor(w,I,O,$){super(w,I,O),this.username=$}}class dr extends Gn{constructor(w,I){super(w,"facebook.com",I)}}class xo extends ti{constructor(w,I){super(w,"github.com",I,"string"==typeof I?.login?I?.login:null)}}class ts extends Gn{constructor(w,I){super(w,"google.com",I)}}class Lc extends ti{constructor(w,I,O){super(w,"twitter.com",I,O)}}function $s(M){const{user:w,_tokenResponse:I}=M;return w.isAnonymous&&!I?{providerId:null,isNewUser:!1,profile:null}:function Rt(M){var w,I;if(!M)return null;const{providerId:O}=M,$=M.rawUserInfo?JSON.parse(M.rawUserInfo):{},J=M.isNewUser||"identitytoolkit#SignupNewUserResponse"===M.kind;if(!O&&M?.idToken){const De=null===(I=null===(w=Yt(M.idToken))||void 0===w?void 0:w.firebase)||void 0===I?void 0:I.sign_in_provider;if(De)return new Gn(J,"anonymous"!==De&&"custom"!==De?De:null)}if(!O)return null;switch(O){case"facebook.com":return new dr(J,$);case"github.com":return new xo(J,$);case"google.com":return new ts(J,$);case"twitter.com":return new Lc(J,$,M.screenName||null);case"custom":case"anonymous":return new Gn(J,null);default:return new Gn(J,O,$)}}(I)}function Io(M,w,I,O){return(0,U.m9)(M).onIdTokenChanged(w,I,O)}function zh(M,w,I,O){return(0,U.m9)(M).onAuthStateChanged(w,I,O)}class xs{constructor(w,I,O){this.type=w,this.credential=I,this.auth=O}static _fromIdtoken(w,I){return new xs("enroll",w,I)}static _fromMfaPendingCredential(w){return new xs("signin",w)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(w){var I,O;if(w?.multiFactorSession){if(null!==(I=w.multiFactorSession)&&void 0!==I&&I.pendingCredential)return xs._fromMfaPendingCredential(w.multiFactorSession.pendingCredential);if(null!==(O=w.multiFactorSession)&&void 0!==O&&O.idToken)return xs._fromIdtoken(w.multiFactorSession.idToken)}return null}}class Uc{constructor(w,I,O){this.session=w,this.hints=I,this.signInResolver=O}static _fromError(w,I){const O=Ai(w),$=I.customData._serverResponse,J=($.mfaInfo||[]).map(Xe=>bo._fromServerResponse(O,Xe));ue($.mfaPendingCredential,O,"internal-error");const De=xs._fromMfaPendingCredential($.mfaPendingCredential);return new Uc(De,J,function(){var Xe=(0,a.Z)(function*(Ot){const Nt=yield Ot._process(O,De);delete $.mfaInfo,delete $.mfaPendingCredential;const pn=Object.assign(Object.assign({},$),{idToken:Nt.idToken,refreshToken:Nt.refreshToken});switch(I.operationType){case"signIn":const Wn=yield rr._fromIdTokenResponse(O,I.operationType,pn);return yield O._updateCurrentUser(Wn.user),Wn;case"reauthenticate":return ue(I.user,O,"internal-error"),rr._forOperation(I.user,I.operationType,pn);default:xe(O,"internal-error")}});return function(Ot){return Xe.apply(this,arguments)}}())}resolveSignIn(w){var I=this;return(0,a.Z)(function*(){return I.signInResolver(w)})()}}function dl(M,w){var I;const O=(0,U.m9)(M),$=w;return ue(w.customData.operationType,O,"argument-error"),ue(null===(I=$.customData._serverResponse)||void 0===I?void 0:I.mfaPendingCredential,O,"argument-error"),Uc._fromError(O,$)}class wu{constructor(w){this.user=w,this.enrolledFactors=[],w._onReload(I=>{I.mfaInfo&&(this.enrolledFactors=I.mfaInfo.map(O=>bo._fromServerResponse(w.auth,O)))})}static _fromUser(w){return new wu(w)}getSession(){var w=this;return(0,a.Z)(function*(){return xs._fromIdtoken(yield w.user.getIdToken(),w.user.auth)})()}enroll(w,I){var O=this;return(0,a.Z)(function*(){const $=w,J=yield O.getSession(),De=yield zt(O.user,$._process(O.user.auth,J,I));return yield O.user._updateTokensIfNecessary(De),O.user.reload()})()}unenroll(w){var I=this;return(0,a.Z)(function*(){const O="string"==typeof w?w:w.uid,$=yield I.user.getIdToken();try{const J=yield zt(I.user,function Qd(M,w){return ct(M,"POST","/v2/accounts/mfaEnrollment:withdraw",je(M,w))}(I.user.auth,{idToken:$,mfaEnrollmentId:O}));I.enrolledFactors=I.enrolledFactors.filter(({uid:De})=>De!==O),yield I.user._updateTokensIfNecessary(J),yield I.user.reload()}catch(J){throw J}})()}}const Ii=new WeakMap;function hl(M){const w=(0,U.m9)(M);return Ii.has(w)||Ii.set(w,wu._fromUser(w)),Ii.get(w)}const Fa="__sak";class zo{constructor(w,I){this.storageRetriever=w,this.type=I}_isAvailable(){try{return this.storage?(this.storage.setItem(Fa,"1"),this.storage.removeItem(Fa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(w,I){return this.storage.setItem(w,JSON.stringify(I)),Promise.resolve()}_get(w){const I=this.storage.getItem(w);return Promise.resolve(I?JSON.parse(I):null)}_remove(w){return this.storage.removeItem(w),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xd=(()=>{class M extends zo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(I,O)=>this.onStorageEvent(I,O),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qr(){const M=(0,U.z$)();return te(M)||Vt(M)}()&&function vr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Nn(),this._shouldAllowMigration=!0}forAllChangedKeys(I){for(const O of Object.keys(this.listeners)){const $=this.storage.getItem(O),J=this.localCache[O];$!==J&&I(O,J,$)}}onStorageEvent(I,O=!1){if(!I.key)return void this.forAllChangedKeys((Xe,Ot,Nt)=>{this.notifyListeners(Xe,Nt)});const $=I.key;if(O?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Xe=this.storage.getItem($);if(I.newValue!==Xe)null!==I.newValue?this.storage.setItem($,I.newValue):this.storage.removeItem($);else if(this.localCache[$]===I.newValue&&!O)return}const J=()=>{const Xe=this.storage.getItem($);!O&&this.localCache[$]===Xe||this.notifyListeners($,Xe)},De=this.storage.getItem($);!function ai(){return(0,U.w1)()&&10===document.documentMode}()||De===I.newValue||I.newValue===I.oldValue?J():setTimeout(J,10)}notifyListeners(I,O){this.localCache[I]=O;const $=this.listeners[I];if($)for(const J of Array.from($))J(O&&JSON.parse(O))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((I,O,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:I,oldValue:O,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(I,O){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[I]||(this.listeners[I]=new Set,this.localCache[I]=this.storage.getItem(I)),this.listeners[I].add(O)}_removeListener(I,O){this.listeners[I]&&(this.listeners[I].delete(O),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(I,O){var $=()=>super._set,J=this;return(0,a.Z)(function*(){yield $().call(J,I,O),J.localCache[I]=JSON.stringify(O)})()}_get(I){var O=()=>super._get,$=this;return(0,a.Z)(function*(){const J=yield O().call($,I);return $.localCache[I]=JSON.stringify(J),J})()}_remove(I){var O=()=>super._remove,$=this;return(0,a.Z)(function*(){yield O().call($,I),delete $.localCache[I]})()}}return M.type="LOCAL",M})(),qs=(()=>{class M extends zo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(I,O){}_removeListener(I,O){}}return M.type="SESSION",M})();let th=(()=>{class M{constructor(I){this.eventTarget=I,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(I){const O=this.receivers.find(J=>J.isListeningto(I));if(O)return O;const $=new M(I);return this.receivers.push($),$}isListeningto(I){return this.eventTarget===I}handleEvent(I){var O=this;return(0,a.Z)(function*(){const $=I,{eventId:J,eventType:De,data:Xe}=$.data,Ot=O.handlersMap[De];if(!Ot?.size)return;$.ports[0].postMessage({status:"ack",eventId:J,eventType:De});const Nt=Array.from(Ot).map(function(){var Wn=(0,a.Z)(function*(eo){return eo($.origin,Xe)});return function(eo){return Wn.apply(this,arguments)}}()),pn=yield function pl(M){return Promise.all(M.map(function(){var w=(0,a.Z)(function*(I){try{return{fulfilled:!0,value:yield I}}catch(O){return{fulfilled:!1,reason:O}}});return function(I){return w.apply(this,arguments)}}()))}(Nt);$.ports[0].postMessage({status:"done",eventId:J,eventType:De,response:pn})})()}_subscribe(I,O){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[I]||(this.handlersMap[I]=new Set),this.handlersMap[I].add(O)}_unsubscribe(I,O){this.handlersMap[I]&&O&&this.handlersMap[I].delete(O),(!O||0===this.handlersMap[I].size)&&delete this.handlersMap[I],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return M.receivers=[],M})();function Vc(M="",w=10){let I="";for(let O=0;O<w;O++)I+=Math.floor(10*Math.random());return M+I}class $h{constructor(w){this.target=w,this.handlers=new Set}removeMessageHandler(w){w.messageChannel&&(w.messageChannel.port1.removeEventListener("message",w.onMessage),w.messageChannel.port1.close()),this.handlers.delete(w)}_send(w,I,O=50){var $=this;return(0,a.Z)(function*(){const J=typeof MessageChannel<"u"?new MessageChannel:null;if(!J)throw new Error("connection_unavailable");let De,Xe;return new Promise((Ot,Nt)=>{const pn=Vc("",20);J.port1.start();const Wn=setTimeout(()=>{Nt(new Error("unsupported_event"))},O);Xe={messageChannel:J,onMessage(eo){const va=eo;if(va.data.eventId===pn)switch(va.data.status){case"ack":clearTimeout(Wn),De=setTimeout(()=>{Nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(De),Ot(va.data.response);break;default:clearTimeout(Wn),clearTimeout(De),Nt(new Error("invalid_response"))}}},$.handlers.add(Xe),J.port1.addEventListener("message",Xe.onMessage),$.target.postMessage({eventType:w,eventId:pn,data:I},[J.port2])}).finally(()=>{Xe&&$.removeMessageHandler(Xe)})})()}}function Vr(){return window}function Cu(){return typeof Vr().WorkerGlobalScope<"u"&&"function"==typeof Vr().importScripts}function Bc(){return(Bc=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Br="firebaseLocalStorageDb",Wi="firebaseLocalStorage",Is="fbase_key";class jc{constructor(w){this.request=w}toPromise(){return new Promise((w,I)=>{this.request.addEventListener("success",()=>{w(this.request.result)}),this.request.addEventListener("error",()=>{I(this.request.error)})})}}function nh(M,w){return M.transaction([Wi],w?"readwrite":"readonly").objectStore(Wi)}function ih(){const M=indexedDB.open(Br,1);return new Promise((w,I)=>{M.addEventListener("error",()=>{I(M.error)}),M.addEventListener("upgradeneeded",()=>{const O=M.result;try{O.createObjectStore(Wi,{keyPath:Is})}catch($){I($)}}),M.addEventListener("success",(0,a.Z)(function*(){const O=M.result;O.objectStoreNames.contains(Wi)?w(O):(O.close(),yield function Xf(){const M=indexedDB.deleteDatabase(Br);return new jc(M).toPromise()}(),w(yield ih()))}))})}function cc(M,w,I){return pt.apply(this,arguments)}function pt(){return(pt=(0,a.Z)(function*(M,w,I){const O=nh(M,!0).put({[Is]:w,value:I});return new jc(O).toPromise()})).apply(this,arguments)}function Ts(){return(Ts=(0,a.Z)(function*(M,w){const I=nh(M,!1).get(w),O=yield new jc(I).toPromise();return void 0===O?null:O.value})).apply(this,arguments)}function xu(M,w){const I=nh(M,!0).delete(w);return new jc(I).toPromise()}const Do=(()=>{class M{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var I=this;return(0,a.Z)(function*(){return I.db||(I.db=yield ih()),I.db})()}_withRetries(I){var O=this;return(0,a.Z)(function*(){let $=0;for(;;)try{const J=yield O._openDb();return yield I(J)}catch(J){if($++>3)throw J;O.db&&(O.db.close(),O.db=void 0)}})()}initializeServiceWorkerMessaging(){var I=this;return(0,a.Z)(function*(){return Cu()?I.initializeReceiver():I.initializeSender()})()}initializeReceiver(){var I=this;return(0,a.Z)(function*(){I.receiver=th._getInstance(function id(){return Cu()?self:null}()),I.receiver._subscribe("keyChanged",function(){var O=(0,a.Z)(function*($,J){return{keyProcessed:(yield I._poll()).includes(J.key)}});return function($,J){return O.apply(this,arguments)}}()),I.receiver._subscribe("ping",function(){var O=(0,a.Z)(function*($,J){return["keyChanged"]});return function($,J){return O.apply(this,arguments)}}())})()}initializeSender(){var I=this;return(0,a.Z)(function*(){var O,$;if(I.activeServiceWorker=yield function In(){return Bc.apply(this,arguments)}(),!I.activeServiceWorker)return;I.sender=new $h(I.activeServiceWorker);const J=yield I.sender._send("ping",{},800);J&&null!==(O=J[0])&&void 0!==O&&O.fulfilled&&null!==($=J[0])&&void 0!==$&&$.value.includes("keyChanged")&&(I.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(I){var O=this;return(0,a.Z)(function*(){if(O.sender&&O.activeServiceWorker&&function Jf(){var M;return(null===(M=navigator?.serviceWorker)||void 0===M?void 0:M.controller)||null}()===O.activeServiceWorker)try{yield O.sender._send("keyChanged",{key:I},O.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const I=yield ih();return yield cc(I,Fa,"1"),yield xu(I,Fa),!0}catch{}return!1})()}_withPendingWrite(I){var O=this;return(0,a.Z)(function*(){O.pendingWrites++;try{yield I()}finally{O.pendingWrites--}})()}_set(I,O){var $=this;return(0,a.Z)(function*(){return $._withPendingWrite((0,a.Z)(function*(){return yield $._withRetries(J=>cc(J,I,O)),$.localCache[I]=O,$.notifyServiceWorker(I)}))})()}_get(I){var O=this;return(0,a.Z)(function*(){const $=yield O._withRetries(J=>function ii(M,w){return Ts.apply(this,arguments)}(J,I));return O.localCache[I]=$,$})()}_remove(I){var O=this;return(0,a.Z)(function*(){return O._withPendingWrite((0,a.Z)(function*(){return yield O._withRetries($=>xu($,I)),delete O.localCache[I],O.notifyServiceWorker(I)}))})()}_poll(){var I=this;return(0,a.Z)(function*(){const O=yield I._withRetries(De=>{const Xe=nh(De,!1).getAll();return new jc(Xe).toPromise()});if(!O)return[];if(0!==I.pendingWrites)return[];const $=[],J=new Set;for(const{fbase_key:De,value:Xe}of O)J.add(De),JSON.stringify(I.localCache[De])!==JSON.stringify(Xe)&&(I.notifyListeners(De,Xe),$.push(De));for(const De of Object.keys(I.localCache))I.localCache[De]&&!J.has(De)&&(I.notifyListeners(De,null),$.push(De));return $})()}notifyListeners(I,O){this.localCache[I]=O;const $=this.listeners[I];if($)for(const J of Array.from($))J(O)}startPolling(){var I=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return I._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(I,O){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[I]||(this.listeners[I]=new Set,this._get(I)),this.listeners[I].add(O)}_removeListener(I,O){this.listeners[I]&&(this.listeners[I].delete(O),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return M.type="LOCAL",M})(),Ji=1e12;class hr{constructor(w){this.auth=w,this.counter=Ji,this._widgets=new Map}render(w,I){const O=this.counter;return this._widgets.set(O,new co(w,this.auth.name,I||{})),this.counter++,O}reset(w){var I;const O=w||Ji;null===(I=this._widgets.get(O))||void 0===I||I.delete(),this._widgets.delete(O)}getResponse(w){var I;return(null===(I=this._widgets.get(w||Ji))||void 0===I?void 0:I.getResponse())||""}execute(w){var I=this;return(0,a.Z)(function*(){var O;return null===(O=I._widgets.get(w||Ji))||void 0===O||O.execute(),""})()}}class co{constructor(w,I,O){this.params=O,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const $="string"==typeof w?document.getElementById(w):w;ue($,"argument-error",{appName:I}),this.container=$,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Jr(M){const w=[],I="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<M;O++)w.push(I.charAt(Math.floor(62*Math.random())));return w.join("")}(50);const{callback:w,"expired-callback":I}=this.params;if(w)try{w(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,I)try{I()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xr=er("rcb"),Gh=new rn(3e4,6e4);class od{constructor(){var w;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(w=Vr().grecaptcha)||void 0===w||!w.render)}load(w,I=""){return ue(function vm(M){return M.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(M)}(I),w,"argument-error"),this.shouldResolveImmediately(I)&&Pt(Vr().grecaptcha)?Promise.resolve(Vr().grecaptcha):new Promise((O,$)=>{const J=Vr().setTimeout(()=>{$(nt(w,"network-request-failed"))},Gh.get());Vr()[Xr]=()=>{Vr().clearTimeout(J),delete Vr()[Xr];const Xe=Vr().grecaptcha;if(!Xe||!Pt(Xe))return void $(nt(w,"internal-error"));const Ot=Xe.render;Xe.render=(Nt,pn)=>{const Wn=Ot(Nt,pn);return this.counter++,Wn},this.hostLanguage=I,O(Xe)},Zi(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:Xr,render:"explicit",hl:I})}`).catch(()=>{clearTimeout(J),$(nt(w,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(w){var I;return!(null===(I=Vr().grecaptcha)||void 0===I||!I.render)&&(w===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Eu{load(w){return(0,a.Z)(function*(){return new hr(w)})()}clearedOneInstance(){}}const $l="recaptcha",rh={theme:"light",type:"image"};class ml{constructor(w,I=Object.assign({},rh),O){this.parameters=I,this.type=$l,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ai(O),this.isInvisible="invisible"===this.parameters.size,ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const $="string"==typeof w?document.getElementById(w):w;ue($,this.auth,"argument-error"),this.container=$,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Eu:new od,this.validateStartingState()}verify(){var w=this;return(0,a.Z)(function*(){w.assertNotDestroyed();const I=yield w.render(),O=w.getAssertedRecaptcha();return O.getResponse(I)||new Promise(J=>{const De=Xe=>{Xe&&(w.tokenChangeListeners.delete(De),J(Xe))};w.tokenChangeListeners.add(De),w.isInvisible&&O.execute(I)})})()}render(){try{this.assertNotDestroyed()}catch(w){return Promise.reject(w)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(w=>{throw this.renderPromise=null,w})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(w=>{this.container.removeChild(w)})}validateStartingState(){ue(!this.parameters.sitekey,this.auth,"argument-error"),ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(w){return I=>{if(this.tokenChangeListeners.forEach(O=>O(I)),"function"==typeof w)w(I);else if("string"==typeof w){const O=Vr()[w];"function"==typeof O&&O(I)}}}assertNotDestroyed(){ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var w=this;return(0,a.Z)(function*(){if(yield w.init(),!w.widgetId){let I=w.container;if(!w.isInvisible){const O=document.createElement("div");I.appendChild(O),I=O}w.widgetId=w.getAssertedRecaptcha().render(I,w.parameters)}return w.widgetId})()}init(){var w=this;return(0,a.Z)(function*(){ue(ot()&&!Cu(),w.auth,"internal-error"),yield function oh(){let M=null;return new Promise(w=>{"complete"!==document.readyState?(M=()=>w(),window.addEventListener("load",M)):w()}).catch(w=>{throw M&&window.removeEventListener("load",M),w})}(),w.recaptcha=yield w._recaptchaLoader.load(w.auth,w.auth.languageCode||void 0);const I=yield function Je(M){return ze.apply(this,arguments)}(w.auth);ue(I,w.auth,"internal-error"),w.parameters.sitekey=I})()}getAssertedRecaptcha(){return ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class La{constructor(w,I){this.verificationId=w,this.onConfirmation=I}confirm(w){const I=on._fromVerification(this.verificationId,w);return this.onConfirmation(I)}}function ql(M,w,I){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,a.Z)(function*(M,w,I){const O=Ai(M),$=yield dc(O,w,(0,U.m9)(I));return new La($,J=>Oa(O,J))})).apply(this,arguments)}function us(M,w,I){return gl.apply(this,arguments)}function gl(){return(gl=(0,a.Z)(function*(M,w,I){const O=(0,U.m9)(M);yield da(!1,O,"phone");const $=yield dc(O.auth,w,(0,U.m9)(I));return new La($,J=>ic(O,J))})).apply(this,arguments)}function lc(M,w,I){return uc.apply(this,arguments)}function uc(){return(uc=(0,a.Z)(function*(M,w,I){const O=(0,U.m9)(M),$=yield dc(O.auth,w,(0,U.m9)(I));return new La($,J=>mi(O,J))})).apply(this,arguments)}function dc(M,w,I){return Gl.apply(this,arguments)}function Gl(){return Gl=(0,a.Z)(function*(M,w,I){var O;const $=yield I.verify();try{let J;if(ue("string"==typeof $,M,"argument-error"),ue(I.type===$l,M,"argument-error"),J="string"==typeof w?{phoneNumber:w}:w,"session"in J){const De=J.session;if("phoneNumber"in J)return ue("enroll"===De.type,M,"internal-error"),(yield function nd(M,w){return ct(M,"POST","/v2/accounts/mfaEnrollment:start",je(M,w))}(M,{idToken:De.credential,phoneEnrollmentInfo:{phoneNumber:J.phoneNumber,recaptchaToken:$}})).phoneSessionInfo.sessionInfo;{ue("signin"===De.type,M,"internal-error");const Xe=(null===(O=J.multiFactorHint)||void 0===O?void 0:O.uid)||J.multiFactorUid;return ue(Xe,M,"missing-multi-factor-info"),(yield function Qi(M,w){return ct(M,"POST","/v2/accounts/mfaSignIn:start",je(M,w))}(M,{mfaPendingCredential:De.credential,mfaEnrollmentId:Xe,phoneSignInInfo:{recaptchaToken:$}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:De}=yield function En(M,w){return Ei.apply(this,arguments)}(M,{phoneNumber:J.phoneNumber,recaptchaToken:$});return De}}finally{I._reset()}}),Gl.apply(this,arguments)}function ns(M,w){return ga.apply(this,arguments)}function ga(){return(ga=(0,a.Z)(function*(M,w){yield Kr((0,U.m9)(M),w)})).apply(this,arguments)}let sr=(()=>{class M{constructor(I){this.providerId=M.PROVIDER_ID,this.auth=Ai(I)}verifyPhoneNumber(I,O){return dc(this.auth,I,(0,U.m9)(O))}static credential(I,O){return on._fromVerification(I,O)}static credentialFromResult(I){return M.credentialFromTaggedObject(I)}static credentialFromError(I){return M.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{phoneNumber:O,temporaryProof:$}=I;return O&&$?on._fromTokenResponse(O,$):null}}return M.PROVIDER_ID="phone",M.PHONE_SIGN_IN_METHOD="phone",M})();function _a(M,w){return w?pi(w):(ue(M._popupRedirectResolver,M,"argument-error"),M._popupRedirectResolver)}class sh extends ra{constructor(w){super("custom","custom"),this.params=w}_getIdTokenResponse(w){return Vs(w,this._buildIdpRequest())}_linkToIdToken(w,I){return Vs(w,this._buildIdpRequest(I))}_getReauthenticationResolver(w){return Vs(w,this._buildIdpRequest())}_buildIdpRequest(w){const I={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return w&&(I.idToken=w),I}}function ds(M){return ws(M.auth,new sh(M),M.bypassAuthState)}function Hn(M){const{auth:w,user:I}=M;return ue(I,w,"internal-error"),Pr(I,new sh(M),M.bypassAuthState)}function ar(M){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,a.Z)(function*(M){const{auth:w,user:I}=M;return ue(I,w,"internal-error"),Kr(I,new sh(M),M.bypassAuthState)})).apply(this,arguments)}class Wl{constructor(w,I,O,$,J=!1){this.auth=w,this.resolver=O,this.user=$,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(I)?I:[I]}execute(){var w=this;return new Promise(function(){var I=(0,a.Z)(function*(O,$){w.pendingPromise={resolve:O,reject:$};try{w.eventManager=yield w.resolver._initialize(w.auth),yield w.onExecution(),w.eventManager.registerConsumer(w)}catch(J){w.reject(J)}});return function(O,$){return I.apply(this,arguments)}}())}onAuthEvent(w){var I=this;return(0,a.Z)(function*(){const{urlResponse:O,sessionId:$,postBody:J,tenantId:De,error:Xe,type:Ot}=w;if(Xe)return void I.reject(Xe);const Nt={auth:I.auth,requestUri:O,sessionId:$,tenantId:De||void 0,postBody:J||void 0,user:I.user,bypassAuthState:I.bypassAuthState};try{I.resolve(yield I.getIdpTask(Ot)(Nt))}catch(pn){I.reject(pn)}})()}onError(w){this.reject(w)}getIdpTask(w){switch(w){case"signInViaPopup":case"signInViaRedirect":return ds;case"linkViaPopup":case"linkViaRedirect":return ar;case"reauthViaPopup":case"reauthViaRedirect":return Hn;default:xe(this.auth,"internal-error")}}resolve(w){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(w),this.unregisterAndCleanUp()}reject(w){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(w),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hc=new rn(2e3,1e4);function ci(M,w,I){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,a.Z)(function*(M,w,I){const O=Ai(M);it(M,w,Lo);const $=_a(O,I);return new tr(O,"signInViaPopup",w,$).executeNotNull()})).apply(this,arguments)}function jr(M,w,I){return zc.apply(this,arguments)}function zc(){return(zc=(0,a.Z)(function*(M,w,I){const O=(0,U.m9)(M);it(O.auth,w,Lo);const $=_a(O.auth,I);return new tr(O.auth,"reauthViaPopup",w,$,O).executeNotNull()})).apply(this,arguments)}function Nr(M,w,I){return cr.apply(this,arguments)}function cr(){return(cr=(0,a.Z)(function*(M,w,I){const O=(0,U.m9)(M);it(O.auth,w,Lo);const $=_a(O.auth,I);return new tr(O.auth,"linkViaPopup",w,$,O).executeNotNull()})).apply(this,arguments)}let tr=(()=>{class M extends Wl{constructor(I,O,$,J,De){super(I,O,J,De),this.provider=$,this.authWindow=null,this.pollId=null,M.currentPopupAction&&M.currentPopupAction.cancel(),M.currentPopupAction=this}executeNotNull(){var I=this;return(0,a.Z)(function*(){const O=yield I.execute();return ue(O,I.auth,"internal-error"),O})()}onExecution(){var I=this;return(0,a.Z)(function*(){Le(1===I.filter.length,"Popup operations only handle one event");const O=Vc();I.authWindow=yield I.resolver._openPopup(I.auth,I.provider,I.filter[0],O),I.authWindow.associatedEvent=O,I.resolver._originValidation(I.auth).catch($=>{I.reject($)}),I.resolver._isIframeWebStorageSupported(I.auth,$=>{$||I.reject(nt(I.auth,"web-storage-unsupported"))}),I.pollUserCancellation()})()}get eventId(){var I;return(null===(I=this.authWindow)||void 0===I?void 0:I.associatedEvent)||null}cancel(){this.reject(nt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,M.currentPopupAction=null}pollUserCancellation(){const I=()=>{var O,$;this.pollId=null!==($=null===(O=this.authWindow)||void 0===O?void 0:O.window)&&void 0!==$&&$.closed?window.setTimeout(()=>{this.pollId=null,this.reject(nt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(I,hc.get())};I()}}return M.currentPopupAction=null,M})();const tp="pendingRedirect",Ss=new Map;class sd extends Wl{constructor(w,I,O=!1){super(w,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],I,void 0,O),this.eventId=null}execute(){var w=()=>super.execute,I=this;return(0,a.Z)(function*(){let O=Ss.get(I.auth._key());if(!O){try{const J=(yield function ym(M,w){return ad.apply(this,arguments)}(I.resolver,I.auth))?yield w().call(I):null;O=()=>Promise.resolve(J)}catch($){O=()=>Promise.reject($)}Ss.set(I.auth._key(),O)}return I.bypassAuthState||Ss.set(I.auth._key(),()=>Promise.resolve(null)),O()})()}onAuthEvent(w){var I=()=>super.onAuthEvent,O=this;return(0,a.Z)(function*(){if("signInViaRedirect"===w.type)return I().call(O,w);if("unknown"!==w.type){if(w.eventId){const $=yield O.auth._redirectUserForId(w.eventId);if($)return O.user=$,I().call(O,w);O.resolve(null)}}else O.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function ad(){return(ad=(0,a.Z)(function*(M,w){const I=ah(w),O=Wh(M);if(!(yield O._isAvailable()))return!1;const $="true"===(yield O._get(I));return yield O._remove(I),$})).apply(this,arguments)}function cd(M,w){return np.apply(this,arguments)}function np(){return(np=(0,a.Z)(function*(M,w){return Wh(M)._set(ah(w),"true")})).apply(this,arguments)}function ld(){Ss.clear()}function Zl(M,w){Ss.set(M._key(),w)}function Wh(M){return pi(M._redirectPersistence)}function ah(M){return go(tp,M.config.apiKey,M.name)}function Hc(M,w,I){return function $c(M,w,I){return ud.apply(this,arguments)}(M,w,I)}function ud(){return(ud=(0,a.Z)(function*(M,w,I){const O=Ai(M);it(M,w,Lo),yield O._initializationPromise;const $=_a(O,I);return yield cd($,O),$._openRedirect(O,w,"signInViaRedirect")})).apply(this,arguments)}function _l(M,w,I){return function Tu(M,w,I){return hs.apply(this,arguments)}(M,w,I)}function hs(){return(hs=(0,a.Z)(function*(M,w,I){const O=(0,U.m9)(M);it(O.auth,w,Lo),yield O.auth._initializationPromise;const $=_a(O.auth,I);yield cd($,O.auth);const J=yield Kl(O);return $._openRedirect(O.auth,w,"reauthViaRedirect",J)})).apply(this,arguments)}function Zh(M,w,I){return function Kh(M,w,I){return ch.apply(this,arguments)}(M,w,I)}function ch(){return(ch=(0,a.Z)(function*(M,w,I){const O=(0,U.m9)(M);it(O.auth,w,Lo),yield O.auth._initializationPromise;const $=_a(O.auth,I);yield da(!1,O,w.providerId),yield cd($,O.auth);const J=yield Kl(O);return $._openRedirect(O.auth,w,"linkViaRedirect",J)})).apply(this,arguments)}function Yh(M,w){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,a.Z)(function*(M,w){return yield Ai(M)._initializationPromise,dd(M,w,!1)})).apply(this,arguments)}function dd(M,w){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,a.Z)(function*(M,w,I=!1){const O=Ai(M),$=_a(O,w),De=yield new sd(O,$,I).execute();return De&&!I&&(delete De.user._redirectEventId,yield O._persistUserIfCurrent(De.user),yield O._setRedirectUser(null,w)),De})).apply(this,arguments)}function Kl(M){return Su.apply(this,arguments)}function Su(){return(Su=(0,a.Z)(function*(M){const w=Vc(`${M.uid}:::`);return M._redirectEventId=w,yield M.auth._setRedirectUser(M),yield M.auth._persistUserIfCurrent(M),w})).apply(this,arguments)}class Ql{constructor(w){this.auth=w,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(w){this.consumers.add(w),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,w)&&(this.sendToConsumer(this.queuedRedirectEvent,w),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(w){this.consumers.delete(w)}onEvent(w){if(this.hasEventBeenHandled(w))return!1;let I=!1;return this.consumers.forEach(O=>{this.isEventForConsumer(w,O)&&(I=!0,this.sendToConsumer(w,O),this.saveEventToCache(w))}),this.hasHandledPotentialRedirect||!function Xl(M){switch(M.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jl(M);default:return!1}}(w)||(this.hasHandledPotentialRedirect=!0,I||(this.queuedRedirectEvent=w,I=!0)),I}sendToConsumer(w,I){var O;if(w.error&&!Jl(w)){const $=(null===(O=w.error.code)||void 0===O?void 0:O.split("auth/")[1])||"internal-error";I.onError(nt(this.auth,$))}else I.onAuthEvent(w)}isEventForConsumer(w,I){const O=null===I.eventId||!!w.eventId&&w.eventId===I.eventId;return I.filter.includes(w.type)&&O}hasEventBeenHandled(w){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hd(w))}saveEventToCache(w){this.cachedEventUids.add(hd(w)),this.lastProcessedEventTime=Date.now()}}function hd(M){return[M.type,M.eventId,M.sessionId,M.tenantId].filter(w=>w).join("-")}function Jl({type:M,error:w}){return"unknown"===M&&"auth/no-auth-event"===w?.code}function Ws(M){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,a.Z)(function*(M,w={}){return ct(M,"GET","/v1/projects",w)})).apply(this,arguments)}const ip=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fd=/^https?/;function lh(){return(lh=(0,a.Z)(function*(M){if(M.config.emulator)return;const{authorizedDomains:w}=yield Ws(M);for(const I of w)try{if(uh(I))return}catch{}xe(M,"unauthorized-domain")})).apply(this,arguments)}function uh(M){const w=Ct(),{protocol:I,hostname:O}=new URL(w);if(M.startsWith("chrome-extension://")){const De=new URL(M);return""===De.hostname&&""===O?"chrome-extension:"===I&&M.replace("chrome-extension://","")===w.replace("chrome-extension://",""):"chrome-extension:"===I&&De.hostname===O}if(!fd.test(I))return!1;if(ip.test(M))return O===M;const $=M.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(O)}const vl=new rn(3e4,6e4);function is(){const M=Vr().___jsl;if(M?.H)for(const w of Object.keys(M.H))if(M.H[w].r=M.H[w].r||[],M.H[w].L=M.H[w].L||[],M.H[w].r=[...M.H[w].L],M.CP)for(let I=0;I<M.CP.length;I++)M.CP[I]=null}let Ri=null;const pd=new rn(5e3,15e3),Ti="__/auth/iframe",md="emulator/auth/iframe",rp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yl(M){const w=M.config;ue(w.authDomain,M,"auth-domain-config-required");const I=w.emulator?fi(w,md):`https://${M.config.authDomain}/${Ti}`,O={apiKey:w.apiKey,appName:M.name,v:K.SDK_VERSION},$=fs.get(M.config.apiHost);$&&(O.eid=$);const J=M._getFrameworks();return J.length&&(O.fw=J.join(",")),`${I}?${(0,U.xO)(O).slice(1)}`}function Gc(){return Gc=(0,a.Z)(function*(M){const w=yield function fc(M){return Ri=Ri||function qc(M){return new Promise((w,I)=>{var O,$,J;function De(){is(),gapi.load("gapi.iframes",{callback:()=>{w(gapi.iframes.getContext())},ontimeout:()=>{is(),I(nt(M,"network-request-failed"))},timeout:vl.get()})}if(null!==($=null===(O=Vr().gapi)||void 0===O?void 0:O.iframes)&&void 0!==$&&$.Iframe)w(gapi.iframes.getContext());else{if(null===(J=Vr().gapi)||void 0===J||!J.load){const Xe=er("iframefcb");return Vr()[Xe]=()=>{gapi.load?De():I(nt(M,"network-request-failed"))},Zi(`https://apis.google.com/js/api.js?onload=${Xe}`).catch(Ot=>I(Ot))}De()}}).catch(w=>{throw Ri=null,w})}(M),Ri}(M),I=Vr().gapi;return ue(I,M,"internal-error"),w.open({where:document.body,url:yl(M),messageHandlersFilter:I.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rp,dontclear:!0},O=>new Promise(function(){var $=(0,a.Z)(function*(J,De){yield O.restyle({setHideOnLeave:!1});const Xe=nt(M,"network-request-failed"),Ot=Vr().setTimeout(()=>{De(Xe)},pd.get());function Nt(){Vr().clearTimeout(Ot),J(O)}O.ping(Nt).then(Nt,()=>{De(Xe)})});return function(J,De){return $.apply(this,arguments)}}()))}),Gc.apply(this,arguments)}const k={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ue{constructor(w){this.window=w,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ft="__/auth/handler",hn="emulator/auth/handler",Un=encodeURIComponent("fac");function Mn(M,w,I,O,$,J){return ps.apply(this,arguments)}function ps(){return(ps=(0,a.Z)(function*(M,w,I,O,$,J){ue(M.config.authDomain,M,"auth-domain-config-required"),ue(M.config.apiKey,M,"invalid-api-key");const De={apiKey:M.config.apiKey,appName:M.name,authType:I,redirectUrl:O,v:K.SDK_VERSION,eventId:$};if(w instanceof Lo){w.setDefaultLanguage(M.languageCode),De.providerId=w.providerId||"",(0,U.xb)(w.getCustomParameters())||(De.customParameters=JSON.stringify(w.getCustomParameters()));for(const[pn,Wn]of Object.entries(J||{}))De[pn]=Wn}if(w instanceof Er){const pn=w.getScopes().filter(Wn=>""!==Wn);pn.length>0&&(De.scopes=pn.join(","))}M.tenantId&&(De.tid=M.tenantId);const Xe=De;for(const pn of Object.keys(Xe))void 0===Xe[pn]&&delete Xe[pn];const Ot=yield M._getAppCheckToken(),Nt=Ot?`#${Un}=${encodeURIComponent(Ot)}`:"";return`${function Ao({config:M}){return M.emulator?fi(M,hn):`https://${M.authDomain}/${Ft}`}(M)}?${(0,U.xO)(Xe).slice(1)}${Nt}`})).apply(this,arguments)}const Xi="webStorageSupport",ja=class Du{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qs,this._completeRedirectFn=dd,this._overrideRedirectResult=Zl}_openPopup(w,I,O,$){var J=this;return(0,a.Z)(function*(){var De;Le(null===(De=J.eventManagers[w._key()])||void 0===De?void 0:De.manager,"_initialize() not called before _openPopup()");const Xe=yield Mn(w,I,O,Ct(),$);return function rt(M,w,I,O=500,$=600){const J=Math.max((window.screen.availHeight-$)/2,0).toString(),De=Math.max((window.screen.availWidth-O)/2,0).toString();let Xe="";const Ot=Object.assign(Object.assign({},k),{width:O.toString(),height:$.toString(),top:J,left:De}),Nt=(0,U.z$)().toLowerCase();I&&(Xe=Y(Nt)?"_blank":I),X(Nt)&&(w=w||"http://localhost",Ot.scrollbars="yes");const pn=Object.entries(Ot).reduce((eo,[va,to])=>`${eo}${va}=${to},`,"");if(function xn(M=(0,U.z$)()){var w;return Vt(M)&&!(null===(w=window.navigator)||void 0===w||!w.standalone)}(Nt)&&"_self"!==Xe)return function Bt(M,w){const I=document.createElement("a");I.href=M,I.target=w;const O=document.createEvent("MouseEvent");O.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),I.dispatchEvent(O)}(w||"",Xe),new Ue(null);const Wn=window.open(w||"",Xe,pn);ue(Wn,M,"popup-blocked");try{Wn.focus()}catch{}return new Ue(Wn)}(w,Xe,Vc())})()}_openRedirect(w,I,O,$){var J=this;return(0,a.Z)(function*(){return yield J._originValidation(w),function ac(M){Vr().location.href=M}(yield Mn(w,I,O,Ct(),$)),new Promise(()=>{})})()}_initialize(w){const I=w._key();if(this.eventManagers[I]){const{manager:$,promise:J}=this.eventManagers[I];return $?Promise.resolve($):(Le(J,"If manager is not set, promise should be"),J)}const O=this.initAndGetManager(w);return this.eventManagers[I]={promise:O},O.catch(()=>{delete this.eventManagers[I]}),O}initAndGetManager(w){var I=this;return(0,a.Z)(function*(){const O=yield function Ba(M){return Gc.apply(this,arguments)}(w),$=new Ql(w);return O.register("authEvent",J=>(ue(J?.authEvent,w,"invalid-auth-event"),{status:$.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),I.eventManagers[w._key()]={manager:$},I.iframes[w._key()]=O,$})()}_isIframeWebStorageSupported(w,I){this.iframes[w._key()].send(Xi,{type:Xi},$=>{var J;const De=null===(J=$?.[0])||void 0===J?void 0:J[Xi];void 0!==De&&I(!!De),xe(w,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(w){const I=w._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=function Va(M){return lh.apply(this,arguments)}(w)),this.originValidationPromises[I]}get _shouldInitProactively(){return Nn()||te()||Vt()}};class za{constructor(w){this.factorId=w}_process(w,I,O){switch(I.type){case"enroll":return this._finalizeEnroll(w,I.credential,O);case"signin":return this._finalizeSignIn(w,I.credential);default:return Ge("unexpected MultiFactorSessionType")}}}class Fr extends za{constructor(w){super("phone"),this.credential=w}static _fromCredential(w){return new Fr(w)}_finalizeEnroll(w,I,O){return function bu(M,w){return ct(M,"POST","/v2/accounts/mfaEnrollment:finalize",je(M,w))}(w,{idToken:I,displayName:O,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(w,I){return function ao(M,w){return ct(M,"POST","/v2/accounts/mfaSignIn:finalize",je(M,w))}(w,{mfaPendingCredential:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let bl=(()=>{class M{constructor(){}static assertion(I){return Fr._fromCredential(I)}}return M.FACTOR_ID="phone",M})();var c_="@firebase/auth";class Ry{constructor(w){this.auth=w,this.internalListeners=new Map}getUid(){var w;return this.assertAuthConfigured(),(null===(w=this.auth.currentUser)||void 0===w?void 0:w.uid)||null}getToken(w){var I=this;return(0,a.Z)(function*(){return I.assertAuthConfigured(),yield I.auth._initializationPromise,I.auth.currentUser?{accessToken:yield I.auth.currentUser.getIdToken(w)}:null})()}addAuthTokenListener(w){if(this.assertAuthConfigured(),this.internalListeners.has(w))return;const I=this.auth.onIdTokenChanged(O=>{w(O?.stsTokenManager.accessToken||null)});this.internalListeners.set(w,I),this.updateProactiveRefresh()}removeAuthTokenListener(w){this.assertAuthConfigured();const I=this.internalListeners.get(w);I&&(this.internalListeners.delete(w),I(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const l_=(0,U.Pz)("authIdTokenMaxAge")||300;let vd=null;const u_=M=>function(){var w=(0,a.Z)(function*(I){const O=I&&(yield I.getIdTokenResult()),$=O&&((new Date).getTime()-Date.parse(O.issuedAtTime))/1e3;if($&&$>l_)return;const J=O?.token;vd!==J&&(vd=J,yield fetch(M,{method:J?"POST":"DELETE",headers:J?{Authorization:`Bearer ${J}`}:{}}))});return function(I){return w.apply(this,arguments)}}();function Jh(M=(0,K.getApp)()){const w=(0,K._getProvider)(M,"auth");if(w.isInitialized())return w.getImmediate();const I=function ki(M,w){const I=(0,K._getProvider)(M,"auth");if(I.isInitialized()){const $=I.getImmediate(),J=I.getOptions();if((0,U.vZ)(J,w??{}))return $;xe($,"already-initialized")}return I.initialize({options:w})}(M,{popupRedirectResolver:ja,persistence:[Do,Xd,qs]}),O=(0,U.Pz)("authTokenSyncURL");if(O){const J=u_(O);(function ed(M,w,I){(0,U.m9)(M).beforeAuthStateChanged(w,I)})(I,J,()=>J(I.currentUser)),Io(I,De=>J(De))}const $=(0,U.q4)("auth");return $&&Xa(I,`http://${$}`),I}!function op(M){(0,K._registerComponent)(new Pe.wA("auth",(w,{options:I})=>{const O=w.getProvider("app").getImmediate(),$=w.getProvider("heartbeat"),J=w.getProvider("app-check-internal"),{apiKey:De,authDomain:Xe}=O.options;ue(De&&!De.includes(":"),"invalid-api-key",{appName:O.name});const Ot={apiKey:De,authDomain:Xe,clientPlatform:M,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ko(M)},Nt=new jn(O,$,J,Ot);return function Cc(M,w){const I=w?.persistence||[],O=(Array.isArray(I)?I:[I]).map(pi);w?.errorMap&&M._updateErrorMap(w.errorMap),M._initializeWithPersistence(O,w?.popupRedirectResolver)}(Nt,I),Nt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((w,I,O)=>{w.getProvider("auth-internal").initialize()})),(0,K._registerComponent)(new Pe.wA("auth-internal",w=>{const I=Ai(w.getProvider("auth").getImmediate());return new Ry(I)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,K.registerVersion)(c_,"0.23.2",function Zs(M){switch(M){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(M)),(0,K.registerVersion)(c_,"0.23.2","esm2017")}("Browser")},9058:(en,Me,Q)=>{Q.d(Me,{$s:()=>pi,BH:()=>$e,DV:()=>Ln,Dv:()=>Fe,G6:()=>fi,GJ:()=>Ut,L:()=>Ve,LL:()=>gt,P0:()=>Ze,Pz:()=>nt,Sg:()=>it,UG:()=>Ge,UI:()=>wi,US:()=>Pe,Wj:()=>jt,Wl:()=>dn,Yr:()=>rn,ZB:()=>de,ZR:()=>ct,aH:()=>xe,b$:()=>ot,cI:()=>Sn,dS:()=>Ht,eu:()=>Ce,g5:()=>K,gK:()=>xt,gQ:()=>Qt,h$:()=>ut,hl:()=>Se,hu:()=>U,jU:()=>Le,lb:()=>Xt,m9:()=>go,ne:()=>zt,p$:()=>G,pd:()=>Yt,q4:()=>at,r3:()=>cn,ru:()=>Ct,tV:()=>z,uI:()=>ue,ug:()=>Ci,vZ:()=>Mi,w1:()=>nn,w9:()=>Dn,xO:()=>Ro,xb:()=>Vn,z$:()=>he,zI:()=>He,zd:()=>sn});const a={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},U=function(fe,le){if(!fe)throw K(le)},K=function(fe){return new Error("Firebase Database ("+a.SDK_VERSION+") INTERNAL ASSERT FAILED: "+fe)},pe=function(fe){const le=[];let X=0;for(let te=0;te<fe.length;te++){let Y=fe.charCodeAt(te);Y<128?le[X++]=Y:Y<2048?(le[X++]=Y>>6|192,le[X++]=63&Y|128):55296==(64512&Y)&&te+1<fe.length&&56320==(64512&fe.charCodeAt(te+1))?(Y=65536+((1023&Y)<<10)+(1023&fe.charCodeAt(++te)),le[X++]=Y>>18|240,le[X++]=Y>>12&63|128,le[X++]=Y>>6&63|128,le[X++]=63&Y|128):(le[X++]=Y>>12|224,le[X++]=Y>>6&63|128,le[X++]=63&Y|128)}return le},Pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(fe,le){if(!Array.isArray(fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=le?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let Y=0;Y<fe.length;Y+=3){const Ae=fe[Y],Qe=Y+1<fe.length,Dt=Qe?fe[Y+1]:0,yn=Y+2<fe.length,Vt=yn?fe[Y+2]:0;let ai=(15&Dt)<<2|Vt>>6,Nn=63&Vt;yn||(Nn=64,Qe||(ai=64)),te.push(X[Ae>>2],X[(3&Ae)<<4|Dt>>4],X[ai],X[Nn])}return te.join("")},encodeString(fe,le){return this.HAS_NATIVE_SUPPORT&&!le?btoa(fe):this.encodeByteArray(pe(fe),le)},decodeString(fe,le){return this.HAS_NATIVE_SUPPORT&&!le?atob(fe):function(fe){const le=[];let X=0,te=0;for(;X<fe.length;){const Y=fe[X++];if(Y<128)le[te++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Ae=fe[X++];le[te++]=String.fromCharCode((31&Y)<<6|63&Ae)}else if(Y>239&&Y<365){const yn=((7&Y)<<18|(63&fe[X++])<<12|(63&fe[X++])<<6|63&fe[X++])-65536;le[te++]=String.fromCharCode(55296+(yn>>10)),le[te++]=String.fromCharCode(56320+(1023&yn))}else{const Ae=fe[X++],Qe=fe[X++];le[te++]=String.fromCharCode((15&Y)<<12|(63&Ae)<<6|63&Qe)}}return le.join("")}(this.decodeStringToByteArray(fe,le))},decodeStringToByteArray(fe,le){this.init_();const X=le?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let Y=0;Y<fe.length;){const Ae=X[fe.charAt(Y++)],Dt=Y<fe.length?X[fe.charAt(Y)]:0;++Y;const Vt=Y<fe.length?X[fe.charAt(Y)]:64;++Y;const xn=Y<fe.length?X[fe.charAt(Y)]:64;if(++Y,null==Ae||null==Dt||null==Vt||null==xn)throw new ke;te.push(Ae<<2|Dt>>4),64!==Vt&&(te.push(Dt<<4&240|Vt>>2),64!==xn&&te.push(Vt<<6&192|xn))}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let fe=0;fe<this.ENCODED_VALS.length;fe++)this.byteToCharMap_[fe]=this.ENCODED_VALS.charAt(fe),this.charToByteMap_[this.byteToCharMap_[fe]]=fe,this.byteToCharMapWebSafe_[fe]=this.ENCODED_VALS_WEBSAFE.charAt(fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[fe]]=fe,fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(fe)]=fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(fe)]=fe)}}};class ke extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ut=function(fe){const le=pe(fe);return Pe.encodeByteArray(le,!0)},Ve=function(fe){return ut(fe).replace(/\./g,"")},z=function(fe){try{return Pe.decodeString(fe,!0)}catch(le){console.error("base64Decode failed: ",le)}return null};function G(fe){return de(void 0,fe)}function de(fe,le){if(!(le instanceof Object))return le;switch(le.constructor){case Date:return new Date(le.getTime());case Object:void 0===fe&&(fe={});break;case Array:fe=[];break;default:return le}for(const X in le)!le.hasOwnProperty(X)||!Ne(X)||(fe[X]=de(fe[X],le[X]));return fe}function Ne(fe){return"__proto__"!==fe}const Re=()=>{try{return function me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const fe=process.env.__FIREBASE_DEFAULTS__;return fe?JSON.parse(fe):void 0})()||(()=>{if(typeof document>"u")return;let fe;try{fe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const le=fe&&z(fe[1]);return le&&JSON.parse(le)})()}catch(fe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${fe}`)}},at=fe=>{var le,X;return null===(X=null===(le=Re())||void 0===le?void 0:le.emulatorHosts)||void 0===X?void 0:X[fe]},Ze=fe=>{const le=at(fe);if(!le)return;const X=le.lastIndexOf(":");if(X<=0||X+1===le.length)throw new Error(`Invalid host ${le} with no separate hostname and port!`);const te=parseInt(le.substring(X+1),10);return"["===le[0]?[le.substring(1,X-1),te]:[le.substring(0,X),te]},xe=()=>{var fe;return null===(fe=Re())||void 0===fe?void 0:fe.config},nt=fe=>{var le;return null===(le=Re())||void 0===le?void 0:le[`_${fe}`]};class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((le,X)=>{this.resolve=le,this.reject=X})}wrapCallback(le){return(X,te)=>{X?this.reject(X):this.resolve(te),"function"==typeof le&&(this.promise.catch(()=>{}),1===le.length?le(X):le(X,te))}}}function it(fe,le){if(fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const te=le||"demo-project",Y=fe.iat||0,Ae=fe.sub||fe.user_id;if(!Ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qe=Object.assign({iss:`https://securetoken.google.com/${te}`,aud:te,iat:Y,exp:Y+3600,auth_time:Y,sub:Ae,user_id:Ae,firebase:{sign_in_provider:"custom",identities:{}}},fe);return[Ve(JSON.stringify({alg:"none",type:"JWT"})),Ve(JSON.stringify(Qe)),""].join(".")}function he(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(he())}function Ge(){var fe;const le=null===(fe=Re())||void 0===fe?void 0:fe.forceEnvironment;if("node"===le)return!0;if("browser"===le)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Le(){return"object"==typeof self&&self.self===self}function Ct(){const fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof fe&&void 0!==fe.id}function ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function nn(){const fe=he();return fe.indexOf("MSIE ")>=0||fe.indexOf("Trident/")>=0}function rn(){return!0===a.NODE_CLIENT||!0===a.NODE_ADMIN}function fi(){return!Ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Se(){try{return"object"==typeof indexedDB}catch{return!1}}function Ce(){return new Promise((fe,le)=>{try{let X=!0;const te="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(te);Y.onsuccess=()=>{Y.result.close(),X||self.indexedDB.deleteDatabase(te),fe(!0)},Y.onupgradeneeded=()=>{X=!1},Y.onerror=()=>{var Ae;le((null===(Ae=Y.error)||void 0===Ae?void 0:Ae.message)||"")}}catch(X){le(X)}})}function He(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ct extends Error{constructor(le,X,te){super(X),this.code=le,this.customData=te,this.name="FirebaseError",Object.setPrototypeOf(this,ct.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gt.prototype.create)}}class gt{constructor(le,X,te){this.service=le,this.serviceName=X,this.errors=te}create(le,...X){const te=X[0]||{},Y=`${this.service}/${le}`,Ae=this.errors[le],Qe=Ae?function Mt(fe,le){return fe.replace(bt,(X,te)=>{const Y=le[te];return null!=Y?String(Y):`<${te}?>`})}(Ae,te):"Error";return new ct(Y,`${this.serviceName}: ${Qe} (${Y}).`,te)}}const bt=/\{\$([^}]+)}/g;function Sn(fe){return JSON.parse(fe)}function dn(fe){return JSON.stringify(fe)}const Fn=function(fe){let le={},X={},te={},Y="";try{const Ae=fe.split(".");le=Sn(z(Ae[0])||""),X=Sn(z(Ae[1])||""),Y=Ae[2],te=X.d||{},delete X.d}catch{}return{header:le,claims:X,data:te,signature:Y}},Dn=function(fe){const X=Fn(fe).claims;return!!X&&"object"==typeof X&&X.hasOwnProperty("iat")},Ut=function(fe){const le=Fn(fe).claims;return"object"==typeof le&&!0===le.admin};function cn(fe,le){return Object.prototype.hasOwnProperty.call(fe,le)}function Ln(fe,le){if(Object.prototype.hasOwnProperty.call(fe,le))return fe[le]}function Vn(fe){for(const le in fe)if(Object.prototype.hasOwnProperty.call(fe,le))return!1;return!0}function wi(fe,le,X){const te={};for(const Y in fe)Object.prototype.hasOwnProperty.call(fe,Y)&&(te[Y]=le.call(X,fe[Y],Y,fe));return te}function Mi(fe,le){if(fe===le)return!0;const X=Object.keys(fe),te=Object.keys(le);for(const Y of X){if(!te.includes(Y))return!1;const Ae=fe[Y],Qe=le[Y];if(ni(Ae)&&ni(Qe)){if(!Mi(Ae,Qe))return!1}else if(Ae!==Qe)return!1}for(const Y of te)if(!X.includes(Y))return!1;return!0}function ni(fe){return null!==fe&&"object"==typeof fe}function Ro(fe){const le=[];for(const[X,te]of Object.entries(fe))Array.isArray(te)?te.forEach(Y=>{le.push(encodeURIComponent(X)+"="+encodeURIComponent(Y))}):le.push(encodeURIComponent(X)+"="+encodeURIComponent(te));return le.length?"&"+le.join("&"):""}function sn(fe){const le={};return fe.replace(/^\?/,"").split("&").forEach(te=>{if(te){const[Y,Ae]=te.split("=");le[decodeURIComponent(Y)]=decodeURIComponent(Ae)}}),le}function Yt(fe){const le=fe.indexOf("?");if(!le)return"";const X=fe.indexOf("#",le);return fe.substring(le,X>0?X:void 0)}class Qt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let le=1;le<this.blockSize;++le)this.pad_[le]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(le,X){X||(X=0);const te=this.W_;if("string"==typeof le)for(let xn=0;xn<16;xn++)te[xn]=le.charCodeAt(X)<<24|le.charCodeAt(X+1)<<16|le.charCodeAt(X+2)<<8|le.charCodeAt(X+3),X+=4;else for(let xn=0;xn<16;xn++)te[xn]=le[X]<<24|le[X+1]<<16|le[X+2]<<8|le[X+3],X+=4;for(let xn=16;xn<80;xn++){const ai=te[xn-3]^te[xn-8]^te[xn-14]^te[xn-16];te[xn]=4294967295&(ai<<1|ai>>>31)}let Vt,Xn,Y=this.chain_[0],Ae=this.chain_[1],Qe=this.chain_[2],Dt=this.chain_[3],yn=this.chain_[4];for(let xn=0;xn<80;xn++){xn<40?xn<20?(Vt=Dt^Ae&(Qe^Dt),Xn=1518500249):(Vt=Ae^Qe^Dt,Xn=1859775393):xn<60?(Vt=Ae&Qe|Dt&(Ae|Qe),Xn=2400959708):(Vt=Ae^Qe^Dt,Xn=3395469782);const ai=(Y<<5|Y>>>27)+Vt+yn+Xn+te[xn]&4294967295;yn=Dt,Dt=Qe,Qe=4294967295&(Ae<<30|Ae>>>2),Ae=Y,Y=ai}this.chain_[0]=this.chain_[0]+Y&4294967295,this.chain_[1]=this.chain_[1]+Ae&4294967295,this.chain_[2]=this.chain_[2]+Qe&4294967295,this.chain_[3]=this.chain_[3]+Dt&4294967295,this.chain_[4]=this.chain_[4]+yn&4294967295}update(le,X){if(null==le)return;void 0===X&&(X=le.length);const te=X-this.blockSize;let Y=0;const Ae=this.buf_;let Qe=this.inbuf_;for(;Y<X;){if(0===Qe)for(;Y<=te;)this.compress_(le,Y),Y+=this.blockSize;if("string"==typeof le){for(;Y<X;)if(Ae[Qe]=le.charCodeAt(Y),++Qe,++Y,Qe===this.blockSize){this.compress_(Ae),Qe=0;break}}else for(;Y<X;)if(Ae[Qe]=le[Y],++Qe,++Y,Qe===this.blockSize){this.compress_(Ae),Qe=0;break}}this.inbuf_=Qe,this.total_+=X}digest(){const le=[];let X=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Y=this.blockSize-1;Y>=56;Y--)this.buf_[Y]=255&X,X/=256;this.compress_(this.buf_);let te=0;for(let Y=0;Y<5;Y++)for(let Ae=24;Ae>=0;Ae-=8)le[te]=this.chain_[Y]>>Ae&255,++te;return le}}function zt(fe,le){const X=new Te(fe,le);return X.subscribe.bind(X)}class Te{constructor(le,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{le(this)}).catch(te=>{this.error(te)})}next(le){this.forEachObserver(X=>{X.next(le)})}error(le){this.forEachObserver(X=>{X.error(le)}),this.close(le)}complete(){this.forEachObserver(le=>{le.complete()}),this.close()}subscribe(le,X,te){let Y;if(void 0===le&&void 0===X&&void 0===te)throw new Error("Missing Observer.");Y=function Ee(fe,le){if("object"!=typeof fe||null===fe)return!1;for(const X of le)if(X in fe&&"function"==typeof fe[X])return!0;return!1}(le,["next","error","complete"])?le:{next:le,error:X,complete:te},void 0===Y.next&&(Y.next=qe),void 0===Y.error&&(Y.error=qe),void 0===Y.complete&&(Y.complete=qe);const Ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Ae}unsubscribeOne(le){void 0===this.observers||void 0===this.observers[le]||(delete this.observers[le],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(le){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,le)}sendOne(le,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[le])try{X(this.observers[le])}catch(te){typeof console<"u"&&console.error&&console.error(te)}})}close(le){this.finalized||(this.finalized=!0,void 0!==le&&(this.finalError=le),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qe(){}const Fe=function(fe,le,X,te){let Y;if(te<le?Y="at least "+le:te>X&&(Y=0===X?"none":"no more than "+X),Y)throw new Error(fe+" failed: Was called with "+te+(1===te?" argument.":" arguments.")+" Expects "+Y+".")};function xt(fe,le){return`${fe} failed: ${le} argument `}function jt(fe,le,X,te){if((!te||X)&&"function"!=typeof X)throw new Error(xt(fe,le)+"must be a valid function.")}function Xt(fe,le,X,te){if((!te||X)&&("object"!=typeof X||null===X))throw new Error(xt(fe,le)+"must be a valid context object.")}const Ht=function(fe){const le=[];let X=0;for(let te=0;te<fe.length;te++){let Y=fe.charCodeAt(te);if(Y>=55296&&Y<=56319){const Ae=Y-55296;te++,U(te<fe.length,"Surrogate pair missing trail surrogate."),Y=65536+(Ae<<10)+(fe.charCodeAt(te)-56320)}Y<128?le[X++]=Y:Y<2048?(le[X++]=Y>>6|192,le[X++]=63&Y|128):Y<65536?(le[X++]=Y>>12|224,le[X++]=Y>>6&63|128,le[X++]=63&Y|128):(le[X++]=Y>>18|240,le[X++]=Y>>12&63|128,le[X++]=Y>>6&63|128,le[X++]=63&Y|128)}return le},Ci=function(fe){let le=0;for(let X=0;X<fe.length;X++){const te=fe.charCodeAt(X);te<128?le++:te<2048?le+=2:te>=55296&&te<=56319?(le+=4,X++):le+=3}return le},$n=1e3,Li=2,qn=144e5,gr=.5;function pi(fe,le=$n,X=Li){const te=le*Math.pow(X,fe),Y=Math.round(gr*te*(Math.random()-.5)*2);return Math.min(qn,te+Y)}function go(fe){return fe&&fe._delegate?fe._delegate:fe}},4422:(en,Me,Q)=>{var a=Q(5879);let U=null;function K(){return U}class ce{}const Pe=new a.OlP("DocumentToken");let ke=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Ve)},providedIn:"platform"})}return n})();const ut=new a.OlP("Location Initialized");let Ve=(()=>{class n extends ke{constructor(){super(),this._doc=(0,a.f3M)(Pe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(t){const i=K().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=K().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function z(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function G(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function de(n){return n&&"?"!==n[0]?"?"+n:n}let Ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(lt)},providedIn:"root"})}return n})();const me=new a.OlP("appBaseHref");let lt=(()=>{class n extends Ne{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(Pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return z(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+de(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const u=this.prepareExternalUrl(r+de(o));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,o){const u=this.prepareExternalUrl(r+de(o));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(ke),a.LFG(me,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),st=(()=>{class n extends Ne{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=z(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let u=this.prepareExternalUrl(r+de(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,o){let u=this.prepareExternalUrl(r+de(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(ke),a.LFG(me,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})(),mt=(()=>{class n{constructor(t){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function xe(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(G(Ze(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+de(i))}normalize(t){return n.stripTrailingSlash(function at(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+de(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+de(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=de;static#t=this.joinWithSlash=z;static#n=this.stripTrailingSlash=G;static#i=this.\u0275fac=function(i){return new(i||n)(a.LFG(Ne))};static#r=this.\u0275prov=a.Yz7({token:n,factory:function(){return function Re(){return new mt((0,a.LFG)(Ne))}()},providedIn:"root"})}return n})();function Ze(n){return n.replace(/\/index.html$/,"")}var he=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(he||{}),ue=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(ue||{}),Ge=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Ge||{}),Le=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Le||{});function Ce(n,e){return cn((0,a.cg1)(n)[a.wAp.DateFormat],e)}function He(n,e){return cn((0,a.cg1)(n)[a.wAp.TimeFormat],e)}function je(n,e){return cn((0,a.cg1)(n)[a.wAp.DateTimeFormat],e)}function ct(n,e){const t=(0,a.cg1)(n),i=t[a.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===Le.CurrencyDecimal)return t[a.wAp.NumberSymbols][Le.Decimal];if(e===Le.CurrencyGroup)return t[a.wAp.NumberSymbols][Le.Group]}return i}function fn(n){if(!n[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function cn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Ln(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const ni=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,zi={},Ro=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var sn=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(sn||{}),Yt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Yt||{}),Qt=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Qt||{});function zt(n,e,t,i){let r=function le(n){if(te(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,u=1]=n.split("-").map(m=>+m);return Te(r,o-1,u)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(ni))return function X(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-t,m=Number(n[5]||0)-i,v=Number(n[6]||0),x=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,u,m,v,x),e}(i)}const e=new Date(n);if(!te(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=we(t,e)||e;let m,u=[];for(;e;){if(m=Ro.exec(e),!m){u.push(e);break}{u=u.concat(m.slice(1));const A=u.pop();if(!A)break;e=A}}let v=r.getTimezoneOffset();i&&(v=_r(i,v),r=function fe(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function go(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(_r(e,r)-r))}(r,i,!0));let x="";return u.forEach(A=>{const L=function xi(n){if(pi[n])return pi[n];let e;switch(n){case"G":case"GG":case"GGG":e=jt(Qt.Eras,ue.Abbreviated);break;case"GGGG":e=jt(Qt.Eras,ue.Wide);break;case"GGGGG":e=jt(Qt.Eras,ue.Narrow);break;case"y":e=xt(Yt.FullYear,1,0,!1,!0);break;case"yy":e=xt(Yt.FullYear,2,0,!0,!0);break;case"yyy":e=xt(Yt.FullYear,3,0,!1,!0);break;case"yyyy":e=xt(Yt.FullYear,4,0,!1,!0);break;case"Y":e=gr(1);break;case"YY":e=gr(2,!0);break;case"YYY":e=gr(3);break;case"YYYY":e=gr(4);break;case"M":case"L":e=xt(Yt.Month,1,1);break;case"MM":case"LL":e=xt(Yt.Month,2,1);break;case"MMM":e=jt(Qt.Months,ue.Abbreviated);break;case"MMMM":e=jt(Qt.Months,ue.Wide);break;case"MMMMM":e=jt(Qt.Months,ue.Narrow);break;case"LLL":e=jt(Qt.Months,ue.Abbreviated,he.Standalone);break;case"LLLL":e=jt(Qt.Months,ue.Wide,he.Standalone);break;case"LLLLL":e=jt(Qt.Months,ue.Narrow,he.Standalone);break;case"w":e=qn(1);break;case"ww":e=qn(2);break;case"W":e=qn(1,!0);break;case"d":e=xt(Yt.Date,1);break;case"dd":e=xt(Yt.Date,2);break;case"c":case"cc":e=xt(Yt.Day,1);break;case"ccc":e=jt(Qt.Days,ue.Abbreviated,he.Standalone);break;case"cccc":e=jt(Qt.Days,ue.Wide,he.Standalone);break;case"ccccc":e=jt(Qt.Days,ue.Narrow,he.Standalone);break;case"cccccc":e=jt(Qt.Days,ue.Short,he.Standalone);break;case"E":case"EE":case"EEE":e=jt(Qt.Days,ue.Abbreviated);break;case"EEEE":e=jt(Qt.Days,ue.Wide);break;case"EEEEE":e=jt(Qt.Days,ue.Narrow);break;case"EEEEEE":e=jt(Qt.Days,ue.Short);break;case"a":case"aa":case"aaa":e=jt(Qt.DayPeriods,ue.Abbreviated);break;case"aaaa":e=jt(Qt.DayPeriods,ue.Wide);break;case"aaaaa":e=jt(Qt.DayPeriods,ue.Narrow);break;case"b":case"bb":case"bbb":e=jt(Qt.DayPeriods,ue.Abbreviated,he.Standalone,!0);break;case"bbbb":e=jt(Qt.DayPeriods,ue.Wide,he.Standalone,!0);break;case"bbbbb":e=jt(Qt.DayPeriods,ue.Narrow,he.Standalone,!0);break;case"B":case"BB":case"BBB":e=jt(Qt.DayPeriods,ue.Abbreviated,he.Format,!0);break;case"BBBB":e=jt(Qt.DayPeriods,ue.Wide,he.Format,!0);break;case"BBBBB":e=jt(Qt.DayPeriods,ue.Narrow,he.Format,!0);break;case"h":e=xt(Yt.Hours,1,-12);break;case"hh":e=xt(Yt.Hours,2,-12);break;case"H":e=xt(Yt.Hours,1);break;case"HH":e=xt(Yt.Hours,2);break;case"m":e=xt(Yt.Minutes,1);break;case"mm":e=xt(Yt.Minutes,2);break;case"s":e=xt(Yt.Seconds,1);break;case"ss":e=xt(Yt.Seconds,2);break;case"S":e=xt(Yt.FractionalSeconds,1);break;case"SS":e=xt(Yt.FractionalSeconds,2);break;case"SSS":e=xt(Yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ht(sn.Short);break;case"ZZZZZ":e=Ht(sn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ht(sn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ht(sn.Long);break;default:return null}return pi[n]=e,e}(A);x+=L?L(r,t,v):"''"===A?"'":A.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),x}function Te(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function we(n,e){const t=function ot(n){return(0,a.cg1)(n)[a.wAp.LocaleId]}(n);if(zi[t]=zi[t]||{},zi[t][e])return zi[t][e];let i="";switch(e){case"shortDate":i=Ce(n,Ge.Short);break;case"mediumDate":i=Ce(n,Ge.Medium);break;case"longDate":i=Ce(n,Ge.Long);break;case"fullDate":i=Ce(n,Ge.Full);break;case"shortTime":i=He(n,Ge.Short);break;case"mediumTime":i=He(n,Ge.Medium);break;case"longTime":i=He(n,Ge.Long);break;case"fullTime":i=He(n,Ge.Full);break;case"short":const r=we(n,"shortTime"),o=we(n,"shortDate");i=Ee(je(n,Ge.Short),[r,o]);break;case"medium":const u=we(n,"mediumTime"),m=we(n,"mediumDate");i=Ee(je(n,Ge.Medium),[u,m]);break;case"long":const v=we(n,"longTime"),x=we(n,"longDate");i=Ee(je(n,Ge.Long),[v,x]);break;case"full":const A=we(n,"fullTime"),L=we(n,"fullDate");i=Ee(je(n,Ge.Full),[A,L])}return i&&(zi[t][e]=i),i}function Ee(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function qe(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=t));let u=String(n);for(;u.length<e;)u="0"+u;return i&&(u=u.slice(u.length-e)),o+u}function xt(n,e,t=0,i=!1,r=!1){return function(o,u){let m=function mn(n,e){switch(n){case Yt.FullYear:return e.getFullYear();case Yt.Month:return e.getMonth();case Yt.Date:return e.getDate();case Yt.Hours:return e.getHours();case Yt.Minutes:return e.getMinutes();case Yt.Seconds:return e.getSeconds();case Yt.FractionalSeconds:return e.getMilliseconds();case Yt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||m>-t)&&(m+=t),n===Yt.Hours)0===m&&-12===t&&(m=12);else if(n===Yt.FractionalSeconds)return function Fe(n,e){return qe(n,3).substring(0,e)}(m,e);const v=ct(u,Le.MinusSign);return qe(m,e,v,i,r)}}function jt(n,e,t=he.Format,i=!1){return function(r,o){return function Xt(n,e,t,i,r,o){switch(t){case Qt.Months:return function un(n,e,t){const i=(0,a.cg1)(n),o=cn([i[a.wAp.MonthsFormat],i[a.wAp.MonthsStandalone]],e);return cn(o,t)}(e,r,i)[n.getMonth()];case Qt.Days:return function nn(n,e,t){const i=(0,a.cg1)(n),o=cn([i[a.wAp.DaysFormat],i[a.wAp.DaysStandalone]],e);return cn(o,t)}(e,r,i)[n.getDay()];case Qt.DayPeriods:const u=n.getHours(),m=n.getMinutes();if(o){const x=function tn(n){const e=(0,a.cg1)(n);return fn(e),(e[a.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Ln(i):[Ln(i[0]),Ln(i[1])])}(e),A=function Dn(n,e,t){const i=(0,a.cg1)(n);fn(i);const o=cn([i[a.wAp.ExtraData][0],i[a.wAp.ExtraData][1]],e)||[];return cn(o,t)||[]}(e,r,i),L=x.findIndex(q=>{if(Array.isArray(q)){const[ne,ae]=q,ye=u>=ne.hours&&m>=ne.minutes,We=u<ae.hours||u===ae.hours&&m<ae.minutes;if(ne.hours<ae.hours){if(ye&&We)return!0}else if(ye||We)return!0}else if(q.hours===u&&q.minutes===m)return!0;return!1});if(-1!==L)return A[L]}return function Kt(n,e,t){const i=(0,a.cg1)(n),o=cn([i[a.wAp.DayPeriodsFormat],i[a.wAp.DayPeriodsStandalone]],e);return cn(o,t)}(e,r,i)[u<12?0:1];case Qt.Eras:return function rn(n,e){return cn((0,a.cg1)(n)[a.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,o,n,e,t,i)}}function Ht(n){return function(e,t,i){const r=-1*i,o=ct(t,Le.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case sn.Short:return(r>=0?"+":"")+qe(u,2,o)+qe(Math.abs(r%60),2,o);case sn.ShortGMT:return"GMT"+(r>=0?"+":"")+qe(u,1,o);case sn.Long:return"GMT"+(r>=0?"+":"")+qe(u,2,o)+":"+qe(Math.abs(r%60),2,o);case sn.Extended:return 0===i?"Z":(r>=0?"+":"")+qe(u,2,o)+":"+qe(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const Ci=0,vi=4;function Li(n){return Te(n.getFullYear(),n.getMonth(),n.getDate()+(vi-n.getDay()))}function qn(n,e=!1){return function(t,i){let r;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,u=t.getDate();r=1+Math.floor((u+o)/7)}else{const o=Li(t),u=function $n(n){const e=Te(n,Ci,1).getDay();return Te(n,0,1+(e<=vi?vi:vi+7)-e)}(o.getFullYear()),m=o.getTime()-u.getTime();r=1+Math.round(m/6048e5)}return qe(r,n,ct(i,Le.MinusSign))}}function gr(n,e=!1){return function(t,i){return qe(Li(t).getFullYear(),n,ct(i,Le.MinusSign),e)}}const pi={};function _r(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function te(n){return n instanceof Date&&!isNaN(n.valueOf())}const _o=/\s+/,Da=[];let Yo=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=Da,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(_o):Da}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(_o):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(_o).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class Qo{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Qo(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const m=i.get(o);i.move(m,u),Ai(m,r)}});for(let r=0,o=i.length;r<o;r++){const m=i.get(r).context;m.index=r,m.count=o,m.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Ai(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Ai(n,e){n.context.$implicit=e.item}let ki=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Cc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Xa("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Xa("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.s_b),a.Y36(a.Rgc))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Cc{constructor(){this.$implicit=null,this.ngIf=null}}function Xa(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}class $r{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ls=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),ec=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new $r(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Ls,9))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),Us=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,o]=t.split("."),u=-1===r.indexOf("-")?void 0:a.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,u):this._renderer.removeStyle(this._ngEl.nativeElement,r,u)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),oa=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,o,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.s_b))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]})}return n})();function No(n,e){return new a.vHH(2100,!1)}class yo{createSubscription(e,t){return(0,a.rg0)(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){(0,a.rg0)(()=>e.unsubscribe())}}class yr{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const tc=new yr,sa=new yo;let Ki=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,a.QGY)(t))return tc;if((0,a.F4k)(t))return sa;throw No()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.sBO,16))};static#t=this.\u0275pipe=a.Yjl({name:"async",type:n,pure:!1,standalone:!0})}return n})();const Ui=new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),br=new a.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Ma=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(null==t||""===t||t!=t)return null;try{return zt(t,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(u){throw No()}}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.soG,16),a.Y36(Ui,24),a.Y36(br,24))};static#t=this.\u0275pipe=a.Yjl({name:"date",type:n,pure:!0,standalone:!0})}return n})(),Pn=(()=>{class n{transform(t,i,r){if(null==t)return null;if(!this.supports(t))throw No();return t.slice(i,r)}supports(t){return"string"==typeof t||Array.isArray(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=a.Yjl({name:"slice",type:n,pure:!1,standalone:!0})}return n})(),Pi=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();const ca="browser";function Cr(n){return"server"===n}let Er=(()=>{class n{static#e=this.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new Ir((0,a.LFG)(Pe),window)})}return n})();class Ir{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function la(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ts extends ce{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Lc extends ts{static makeCurrent(){!function pe(n){U||(U=n)}(new Lc)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ul(){return $s=$s||document.querySelector("base"),$s?$s.getAttribute("href"):null}();return null==t?null:function Io(n){Eo=Eo||document.createElement("a"),Eo.setAttribute("href",n);const e=Eo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){$s=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ur(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Eo,$s=null,zh=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const yu=new a.OlP("EventManagerPlugins");let Hh=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new a.vHH(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(yu),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();class zl{constructor(e){this._doc=e}}const Hl="ng-app-id";let td=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Cr(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Hl}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(Hl),o;{const u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=i,this.platformIsServer&&u.setAttribute(Hl,this.appId),u}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const o=this.styleRef,u=o.get(i)?.elements;u?u.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Pe),a.LFG(a.AFp),a.LFG(a.Ojb,8),a.LFG(a.Lbi))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const xs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Uc=/%COMP%/g,Es=new a.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ii(n,e){return e.map(t=>t.replace(Uc,n))}let hl=(()=>{class n{constructor(t,i,r,o,u,m,v,x=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=u,this.platformId=m,this.ngZone=v,this.nonce=x,this.rendererByCompId=new Map,this.platformIsServer=Cr(m),this.defaultRenderer=new Fa(t,u,v,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===a.ifc.ShadowDom&&(i={...i,encapsulation:a.ifc.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof Xd?r.applyToHost(t):r instanceof Yi&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const u=this.doc,m=this.ngZone,v=this.eventManager,x=this.sharedStylesHost,A=this.removeStylesOnCompDestroy,L=this.platformIsServer;switch(i.encapsulation){case a.ifc.Emulated:o=new Xd(v,x,i,this.appId,A,u,m,L);break;case a.ifc.ShadowDom:return new fl(v,x,t,i,u,m,this.nonce,L);default:o=new Yi(v,x,i,A,u,m,L)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Hh),a.LFG(td),a.LFG(a.AFp),a.LFG(Es),a.LFG(Pe),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(a.Ojb))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();class Fa{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(xs[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Jd(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Jd(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new a.vHH(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=xs[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=xs[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,i,r&a.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=K().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Jd(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class fl extends Fa{constructor(e,t,i,r,o,u,m,v){super(e,o,u,v),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const x=Ii(r.id,r.styles);for(const A of x){const L=document.createElement("style");m&&L.setAttribute("nonce",m),L.textContent=A,this.shadowRoot.appendChild(L)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Yi extends Fa{constructor(e,t,i,r,o,u,m,v){super(e,o,u,m),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=v?Ii(v,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Xd extends Yi{constructor(e,t,i,r,o,u,m,v){const x=r+"-"+i.id;super(e,t,i,o,u,m,v,x),this.contentAttr=function Qd(n){return"_ngcontent-%COMP%".replace(Uc,n)}(x),this.hostAttr=function wu(n){return"_nghost-%COMP%".replace(Uc,n)}(x)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let eh=(()=>{class n extends zl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Pe))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const qs=["alt","control","meta","shift"],pl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},th={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Vc=(()=>{class n extends zl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>K().onAndCancel(t,o.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="",m=i.indexOf("code");if(m>-1&&(i.splice(m,1),u="code."),qs.forEach(x=>{const A=i.indexOf(x);A>-1&&(i.splice(A,1),u+=x+".")}),u+=o,0!=i.length||0===o.length)return null;const v={};return v.domEventName=r,v.fullKey=u,v}static matchEventFullKeyCode(t,i){let r=pl[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),qs.forEach(u=>{u!==r&&(0,th[u])(t)&&(o+=u+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Pe))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const Br=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:ca},{provide:a.g9A,useValue:function In(){Lc.makeCurrent()},multi:!0},{provide:Pe,useFactory:function Jf(){return(0,a.RDi)(document),document},deps:[]}]),qh=new a.OlP(""),Wi=[{provide:a.rWj,useClass:class ed{addToWindow(e){a.dqk.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new a.vHH(5103,!1);return o},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const m=function(v){u=u||v,o--,0==o&&i(u)};r.forEach(v=>{v.whenStable(m)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?K().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Is=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Bc(){return new a.qLn},deps:[]},{provide:yu,useClass:eh,multi:!0,deps:[Pe,a.R0b,a.Lbi]},{provide:yu,useClass:Vc,multi:!0,deps:[Pe]},hl,td,Hh,{provide:a.FYo,useExisting:hl},{provide:class Vi{},useClass:zh,deps:[]},[]];let jc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(qh,12))};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:[...Is,...Wi],imports:[Pi,a.hGG]})}return n})(),pt=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Pe))};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function cc(){return new pt((0,a.LFG)(Pe))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let Xr=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(i){let r=null;return r=i?new(i||n):a.LFG(ma),r},providedIn:"root"})}return n})(),ma=(()=>{class n extends Xr{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case a.q3G.NONE:return i;case a.q3G.HTML:return(0,a.qzn)(i,"HTML")?(0,a.z3N)(i):(0,a.EiD)(this._doc,String(i)).toString();case a.q3G.STYLE:return(0,a.qzn)(i,"Style")?(0,a.z3N)(i):i;case a.q3G.SCRIPT:if((0,a.qzn)(i,"Script"))return(0,a.z3N)(i);throw new a.vHH(5200,!1);case a.q3G.URL:return(0,a.qzn)(i,"URL")?(0,a.z3N)(i):(0,a.mCW)(String(i));case a.q3G.RESOURCE_URL:if((0,a.qzn)(i,"ResourceURL"))return(0,a.z3N)(i);throw new a.vHH(5201,!1);default:throw new a.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,a.JVY)(t)}bypassSecurityTrustStyle(t){return(0,a.L6k)(t)}bypassSecurityTrustScript(t){return(0,a.eBb)(t)}bypassSecurityTrustUrl(t){return(0,a.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,a.pB0)(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Pe))};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function Gh(n){return new ma(n.get(Pe))}(a.LFG(a.zs3)),r},providedIn:"root"})}return n})();function lc(n){return n instanceof a.Rgc}function uc(n){return"function"==typeof n}function dc(n){return"string"==typeof n}let Gl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,i){1&t&&a._UZ(0,"div",0),2&t&&a.Q6J("innerHTML",i.content,a.oJD)},encapsulation:2}),n})();class ns{constructor(e){this.args=e,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const e=this.viewRef.rootNodes;return 1===e.length&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){1!==this.viewRef.rootNodes[0]&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class ga{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){}destroy(){}}class sr{constructor(e){if(this.options=e,e.vcr)this.compRef=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector});else{const t=e.resolver.resolveComponentFactory(e.component);this.compRef=t.create(e.injector),e.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(e,t){return this.compRef.instance[e]=t,this}setInputs(e){return Object.keys(e).forEach(t=>{this.compRef.instance[t]=e[t]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let _a=(()=>{class n{constructor(t,i,r){this.resolver=t,this.injector=i,this.appRef=r}createComponent(t,i={}){return new sr({component:t,vcr:i.vcr,injector:i.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(t,i={}){return new ns({vcr:i.vcr,appRef:this.appRef,tpl:t,context:i.context})}createView(t,i={}){if(lc(t))return this.createTemplate(t,i);if(uc(t))return this.createComponent(t,i);if(dc(t))return new ga(t);throw"Type of content is not supported"}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a._Vd),a.LFG(a.zs3),a.LFG(a.z2F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sh=(()=>{class n{constructor(t,i,r){this.defaultTpl=t,this.vcr=i,this.viewService=r}ngOnInit(){this.resolveContentType()}ngOnChanges(t){t.view&&!t.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){this.viewRef?.destroy(),dc(this.view)?(this.viewRef=this.viewService.createComponent(Gl,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:this.injector??this.vcr.injector,context:this.context})}ngOnDestroy(){this.viewRef?.destroy()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc),a.Y36(a.s_b),a.Y36(_a))},n.\u0275dir=a.lG2({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[a.TTD]}),n})(),ds=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();var Hn=Q(8645),ar=Q(5592),Mo=Q(4829);const{isArray:Wl}=Array;var ci=Q(8251);function zc(n){return new ar.y(e=>{(0,Mo.Xf)(n()).subscribe(e)})}var Nr=Q(9360);function cr(n,e){return(0,Nr.e)((t,i)=>{let r=0;t.subscribe((0,ci.x)(i,o=>n.call(e,o,r++)&&i.next(o)))})}var tr=Q(9397);const tp=["*"],Ss=function(n,e){return{"border-color":n,"border-right-color":e}};function sd(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1,"\n        "),a._UZ(2,"hot-toast-error",2),a._uU(3,"\n      "),a.qZA()),2&n){const t=a.oxw(3);a.xp6(2),a.Q6J("theme",t.theme)}}function ym(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1,"\n        "),a._UZ(2,"hot-toast-checkmark",2),a._uU(3,"\n      "),a.qZA()),2&n){const t=a.oxw(3);a.xp6(2),a.Q6J("theme",t.theme)}}function ad(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1,"\n        "),a._UZ(2,"hot-toast-warning",2),a._uU(3,"\n      "),a.qZA()),2&n){const t=a.oxw(3);a.xp6(2),a.Q6J("theme",t.theme)}}function cd(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1,"\n        "),a._UZ(2,"hot-toast-info",2),a._uU(3,"\n      "),a.qZA()),2&n){const t=a.oxw(3);a.xp6(2),a.Q6J("theme",t.theme)}}function np(n,e){if(1&n&&(a.TgZ(0,"div",4),a._uU(1,"\n    "),a.TgZ(2,"div",5),a._uU(3,"\n      "),a.YNc(4,sd,4,1,"div",6),a._uU(5,"\n      "),a.YNc(6,ym,4,1,"div",6),a._uU(7,"\n      "),a.YNc(8,ad,4,1,"div",6),a._uU(9,"\n      "),a.YNc(10,cd,4,1,"div",6),a._uU(11,"\n    "),a.qZA(),a._uU(12,"\n  "),a.qZA()),2&n){const t=a.oxw(2);a.xp6(2),a.Q6J("ngSwitch",t.type),a.xp6(2),a.Q6J("ngSwitchCase","error"),a.xp6(2),a.Q6J("ngSwitchCase","success"),a.xp6(2),a.Q6J("ngSwitchCase","warning"),a.xp6(2),a.Q6J("ngSwitchCase","info")}}function ld(n,e){if(1&n&&(a.TgZ(0,"div",1),a._uU(1,"\n  "),a._UZ(2,"hot-toast-loader",2),a._uU(3,"\n  "),a.YNc(4,np,13,5,"div",3),a._uU(5,"\n"),a.qZA()),2&n){const t=a.oxw();a.xp6(2),a.Q6J("theme",t.theme),a.xp6(2),a.Q6J("ngIf","loading"!==t.type)}}const Zl=["hotToastBarBase"];function Wh(n,e){if(1&n&&(a.ynx(0),a._uU(1,"\n          "),a.TgZ(2,"hot-toast-animated-icon",10),a._uU(3),a.qZA(),a._uU(4,"\n        "),a.BQk()),2&n){const t=a.oxw(2);a.xp6(2),a.Q6J("iconTheme",t.toast.iconTheme),a.xp6(1),a.Oqu(t.toast.icon)}}function ah(n,e){if(1&n&&(a._uU(0,"\n          "),a.TgZ(1,"div"),a._uU(2,"\n            "),a.GkF(3,11),a._uU(4,"\n          "),a.qZA(),a._uU(5,"\n        ")),2&n){const t=a.oxw(2);a.xp6(3),a.Q6J("dynamicView",t.toast.icon)}}function Hc(n,e){if(1&n&&(a.ynx(0),a._uU(1,"\n        "),a.YNc(2,Wh,5,2,"ng-container",4),a._uU(3,"\n        "),a.YNc(4,ah,6,1,"ng-template",null,9,a.W1O),a._uU(6,"\n      "),a.BQk()),2&n){const t=a.MAs(5),i=a.oxw();a.xp6(2),a.Q6J("ngIf",i.isIconString)("ngIfElse",t)}}function $c(n,e){if(1&n&&(a._uU(0,"\n        "),a._UZ(1,"hot-toast-indicator",12),a._uU(2,"\n      ")),2&n){const t=a.oxw();a.xp6(1),a.Q6J("theme",t.toast.iconTheme)("type",t.toast.type)}}function ud(n,e){1&n&&a.GkF(0)}function _l(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",13),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.close())}),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("ngStyle",t.toast.closeStyle)}}function Tu(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"hot-toast",3),a.NdJ("height",function(r){const u=a.CHM(t).$implicit,m=a.oxw();return a.KtG(m.updateHeight(r,u))})("beforeClosed",function(){const o=a.CHM(t).$implicit,u=a.oxw();return a.KtG(u.beforeClosed(o))})("afterClosed",function(r){a.CHM(t);const o=a.oxw();return a.KtG(o.afterClosed(r))}),a.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=a.oxw();a.Q6J("toast",t)("offset",r.calculateOffset(t.id,t.position))("toastRef",r.toastRefs[i])}}const hs={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class Yh{constructor(e){this.toast=e,this._onClosed=new Hn.x}get data(){return this.toast.data}set dispose(e){this._dispose=e}getToast(){return this.toast}appendTo(e){const{dispose:t,updateMessage:i,updateToast:r,afterClosed:o}=e.addToast(this);return this.dispose=t,this.updateMessage=i,this.updateToast=r,this.afterClosed=function Ua(...n){return 1===(n=function hc(n){return 1===n.length&&Wl(n[0])?n[0]:n}(n)).length?(0,Mo.Xf)(n[0]):new ar.y(function jr(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,Mo.Xf)(n[i]).subscribe((0,ci.x)(e,r=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}e.next(r)})))}}(n))}(this._onClosed.asObservable(),o),this}close(e={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:e.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}}let dd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:tp,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(t,i){1&t&&(a.F$t(),a.TgZ(0,"div",0),a._uU(1,"\n  "),a.Hsn(2),a._uU(3,"\n"),a.qZA(),a._uU(4,"\n")),2&t&&a.Udp("color",null==i.iconTheme?null:i.iconTheme.primary)},encapsulation:2,changeDetection:0}),n})(),Gs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(t,i){1&t&&(a._UZ(0,"div",0),a._uU(1,"\n")),2&t&&a.Udp("--check-primary",null==i.theme?null:i.theme.primary)("--check-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),Kl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(t,i){1&t&&(a._UZ(0,"div",0),a._uU(1,"\n")),2&t&&a.Udp("--error-primary",null==i.theme?null:i.theme.primary)("--error-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),Su=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(t,i){1&t&&(a._UZ(0,"div",0),a._uU(1,"\n")),2&t&&a.Q6J("ngStyle",a.WLB(1,Ss,null==i.theme?null:i.theme.primary,null==i.theme?null:i.theme.secondary))},dependencies:[Us],encapsulation:2,changeDetection:0}),n})(),Yl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(t,i){1&t&&(a._UZ(0,"div",0),a._uU(1,"\n")),2&t&&a.Udp("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),Ql=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(t,i){1&t&&(a._UZ(0,"div",0),a._uU(1,"\n")),2&t&&a.Udp("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},encapsulation:2,changeDetection:0}),n})(),hd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,i){1&t&&(a.YNc(0,ld,6,2,"div",0),a._uU(1,"\n")),2&t&&a.Q6J("ngIf","blank"!==i.type)},dependencies:[ki,Ls,ec,Gs,Kl,Su,Yl,Ql],encapsulation:2,changeDetection:0}),n})(),Jl=(()=>{class n{constructor(t,i,r){this.injector=t,this.renderer=i,this.ngZone=r,this.offset=0,this.height=new a.vpe,this.beforeClosed=new a.vpe,this.afterClosed=new a.vpe,this.isManualClose=!1,this.unlisteners=[]}get toastBarBaseHeight(){return this.toastBarBase.nativeElement.offsetHeight}get containerPositionStyle(){const t=this.toast.position.includes("top"),i=t?{top:0}:{bottom:0},r=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return{transform:`translateY(${this.offset*(t?1:-1)}px)`,...i,...r}}get toastBarBaseStyles(){const t=this.toast.position.includes("top"),i=`hotToastEnterAnimation${t?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`;return{...this.toast.style,animation:this.toast.autoClose?`${i}, hotToastExitAnimation${t?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:i}}get isIconString(){return"string"==typeof this.toast.icon}ngOnChanges(t){t.toast&&!t.toast.firstChange&&t.toast.currentValue?.message&&requestAnimationFrame(()=>{this.height.emit(this.toastBarBase.nativeElement.offsetHeight)})}ngOnInit(){lc(this.toast.message)&&(this.context={$implicit:this.toastRef}),uc(this.toast.message)&&(this.toastComponentInjector=a.zs3.create({providers:[{provide:Yh,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const t=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(t.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(t,"animationstart",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(t,"animationend",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}close(){this.isManualClose=!0;((n,e)=>{this.toastBarBase.nativeElement.style.animation=e})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(t){return t.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const t=this.toast.attributes;for(const[i,r]of Object.entries(t))this.renderer.setAttribute(this.toastBarBase.nativeElement,i,r)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.zs3),a.Y36(a.Qsj),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast"]],viewQuery:function(t,i){if(1&t&&a.Gf(Zl,5),2&t){let r;a.iGM(r=a.CRH())&&(i.toastBarBase=r.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},features:[a.TTD],decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(t,i){if(1&t&&(a.TgZ(0,"div",0),a._uU(1,"\n  "),a.TgZ(2,"div",1,2),a._uU(4,"\n    "),a.TgZ(5,"div",3),a._uU(6,"\n      "),a.YNc(7,Hc,7,2,"ng-container",4),a._uU(8,"\n\n      "),a.YNc(9,$c,3,2,"ng-template",null,5,a.W1O),a._uU(11,"\n    "),a.qZA(),a._uU(12,"\n\n    "),a.TgZ(13,"div",6),a._uU(14,"\n      "),a.TgZ(15,"div"),a._uU(16,"\n        "),a.YNc(17,ud,1,0,"ng-container",7),a._uU(18,"\n      "),a.qZA(),a._uU(19,"\n    "),a.qZA(),a._uU(20,"\n\n    "),a.YNc(21,_l,1,1,"button",8),a._uU(22,"\n  "),a.qZA(),a._uU(23,"\n"),a.qZA(),a._uU(24,"\n")),2&t){const r=a.MAs(10);a.Q6J("ngStyle",i.containerPositionStyle)("ngClass","hot-toast-theme-"+i.toast.theme),a.xp6(2),a.Udp("--hot-toast-animation-state",i.isManualClose?"running":"paused"),a.Q6J("ngStyle",i.toastBarBaseStyles)("ngClass",i.toast.className),a.uIk("aria-live",i.toast.ariaLive)("role",i.toast.role),a.xp6(5),a.Q6J("ngIf",void 0!==i.toast.icon)("ngIfElse",r),a.xp6(10),a.Q6J("dynamicView",i.toast.message)("dynamicViewContext",i.context)("dynamicViewInjector",i.toastComponentInjector),a.xp6(4),a.Q6J("ngIf",i.toast.dismissible)}},dependencies:[Yo,ki,Us,sh,dd,hd],encapsulation:2,changeDetection:0}),n})(),Xl=(()=>{class n{constructor(t){this.cdr=t,this.toasts=[],this.toastRefs=[],this._onClosed=new Hn.x,this.onClosed$=this._onClosed.asObservable()}trackById(t,i){return i.id}calculateOffset(t,i){const r=this.toasts.filter(m=>m.visible&&m.position===i),o=r.findIndex(m=>m.id===t);return-1!==o?r.slice(...this.defaultConfig.reverseOrder?[o+1]:[0,o]).reduce((m,v)=>m+(v.height||0)+8,0):0}updateHeight(t,i){i.height=t,this.cdr.detectChanges()}addToast(t){this.toastRefs.push(t);const i=t.getToast();return this.toasts.push(t.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(i.id)},updateMessage:r=>{i.message=r,this.updateToasts(i),this.cdr.detectChanges()},updateToast:r=>{this.updateToasts(i,r),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(i)}}closeToast(t){if(t){const i=this.hotToastComponentList.find(r=>r.toast.id===t);i&&i.close()}else this.hotToastComponentList.forEach(i=>i.close())}beforeClosed(t){t.visible=!1}afterClosed(t){this.toasts.findIndex(r=>r.id===t.id)>-1&&(this._onClosed.next(t),this.toasts=this.toasts.filter(r=>r.id!==t.id),this.toastRefs=this.toastRefs.filter(r=>r.getToast().id!==t.id),this.cdr.detectChanges())}hasToast(t){return this.toasts.findIndex(i=>i.id===t)>-1}getAfterClosed(t){return this.onClosed$.pipe(cr(i=>i.id===t.id))}updateToasts(t,i){this.toasts=this.toasts.map(r=>({...r,...r.id===t.id&&{...t,...i}}))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["hot-toast-container"]],viewQuery:function(t,i){if(1&t&&a.Gf(Jl,5),2&t){let r;a.iGM(r=a.CRH())&&(i.hotToastComponentList=r)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0),a._uU(1,"\n  "),a.TgZ(2,"div",1),a._uU(3,"\n    "),a.YNc(4,Tu,1,3,"hot-toast",2),a._uU(5,"\n  "),a.qZA(),a._uU(6,"\n"),a.qZA(),a._uU(7,"\n")),2&t&&(a.xp6(4),a.Q6J("ngForOf",i.toasts)("ngForTrackBy",i.trackById))},dependencies:[jn,Jl],encapsulation:2,changeDetection:0}),n})();class Ws{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.info={content:""},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class fd{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let Va=(()=>{class n{constructor(t,i,r){this._viewService=t,this.platformId=i,this._isInitialized=!1,this._defaultConfig=new Ws,this._defaultPersistConfig=new fd,r&&(this._defaultConfig={...this._defaultConfig,...r})}get defaultConfig(){return this._defaultConfig}set defaultConfig(t){this._defaultConfig={...this._defaultConfig,...t},this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(t,i){return this.createToast(t||this._defaultConfig.blank.content,"blank",{...this._defaultConfig,...i})}error(t,i){return this.createToast(t||this._defaultConfig.error.content,"error",{...this._defaultConfig,...this._defaultConfig?.error,...i})}success(t,i){return this.createToast(t||this._defaultConfig.success.content,"success",{...this._defaultConfig,...this._defaultConfig?.success,...i})}loading(t,i){return this.createToast(t||this._defaultConfig.loading.content,"loading",{...this._defaultConfig,...this._defaultConfig?.loading,...i})}warning(t,i){return this.createToast(t||this._defaultConfig.warning.content,"warning",{...this._defaultConfig,...this._defaultConfig?.warning,...i})}info(t,i){return this.createToast(t||this._defaultConfig.info.content,"info",{...this._defaultConfig,...this._defaultConfig?.info,...i})}observe(t){return i=>{let r,o=0;const u=t.loading??this._defaultConfig.loading?.content,m=t.success??this._defaultConfig.success?.content,v=t.error??this._defaultConfig.error?.content;return zc(()=>(u&&(r=this.createLoadingToast(u),o=Date.now()),i.pipe((0,tr.b)({...m&&{next:x=>{r=this.createOrUpdateToast(t,x,r,"success",0===o?o:Date.now()-o)}},...v&&{error:x=>{r=this.createOrUpdateToast(t,x,r,"error",0===o?o:Date.now()-o)}}}))))}}close(t){this._componentRef&&this._componentRef.ref.instance.closeToast(t)}init(){Cr(this.platformId)||(this._componentRef=this._viewService.createComponent(Xl).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(t,i,r,o,u){let m=null,v={};if(({content:m,options:v}=this.getContentAndOptions(o,t[o]||(this._defaultConfig[o]?this._defaultConfig[o].content:""))),m=((n,e)=>(n=>"function"==typeof n)(n)?n(e):n)(m,i),r){r.updateMessage(m);const x={type:o,duration:u+hs[o],...v,...v.duration&&{duration:u+v.duration}};r.updateToast(x)}else this.createToast(m,o,v);return r}createToast(t,i,r,o){this._isInitialized||(this._isInitialized=!0,this.init());const u=Date.now(),m=r?.id??u.toString();if(!this.isDuplicate(m)&&(!r.persist?.enabled||r.persist?.enabled&&this.handleStorageValue(m,r))){const v={ariaLive:r?.ariaLive??"polite",createdAt:u,duration:r?.duration??hs[i],id:m,message:t,role:r?.role??"status",type:i,visible:!0,observableMessages:o??void 0,...r};return new Yh(v).appendTo(this._componentRef.ref.instance)}}isDuplicate(t){return this._componentRef.ref.instance.hasToast(t)}handleStorageValue(t,i){let r=1;const o={...this._defaultPersistConfig,...i.persist},u="local"===o.storage?localStorage:sessionStorage,m=o.key.replace(/\${id}/g,t);let v=u.getItem(m);return v?(v=parseInt(v,10),r=v>0?v-1:v):r=o.count,u.setItem(m,r.toString()),r}getContentAndOptions(t,i){let r,o={...this._defaultConfig,...this._defaultConfig[t]};if("string"==typeof i||lc(i)||uc(i))r=i;else{let u;({content:r,...u}=i),o={...o,...u}}return{content:r,options:o}}createLoadingToast(t){let i=null,r={};return({content:i,options:r}=this.getContentAndOptions("loading",t)),this.loading(i,r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(_a),a.LFG(a.Lbi),a.LFG(Ws,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lh=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:Ws,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Pi,ds]}),n})();class uh{}class vl{}const is="*";function qc(n,e){return{type:7,name:n,definitions:e,options:{}}}function Ri(n,e=null){return{type:4,styles:e,timings:n}}function fc(n,e=null){return{type:3,steps:n,options:e}}function pd(n,e=null){return{type:2,steps:n,options:e}}function Ti(n){return{type:6,styles:n,offset:null}}function md(n,e,t){return{type:0,name:n,styles:e,options:t}}function rp(n){return{type:5,steps:n}}function fs(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class H{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class oe{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,m)=>Math.max(u,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function rt(n){return new a.vHH(3e3,!1)}function Nt(n){switch(n.length){case 0:return new H;case 1:return n[0];default:return new oe(n)}}function pn(n,e,t=new Map,i=new Map){const r=[],o=[];let u=-1,m=null;if(e.forEach(v=>{const x=v.get("offset"),A=x==u,L=A&&m||new Map;v.forEach((q,ne)=>{let ae=ne,ye=q;if("offset"!==ne)switch(ae=n.normalizePropertyName(ae,r),ye){case"!":ye=t.get(ne);break;case is:ye=i.get(ne);break;default:ye=n.normalizeStyleValue(ne,ae,ye,r)}L.set(ae,ye)}),A||o.push(L),m=L,u=x}),r.length)throw function l_(n){return new a.vHH(3502,!1)}();return o}function Wn(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&eo(t,"start",n)));break;case"done":n.onDone(()=>i(t&&eo(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&eo(t,"destroy",n)))}}function eo(n,e,t){const o=va(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(o._data=u),o}function va(n,e,t,i,r="",o=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function to(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function sp(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Xh=(()=>typeof document>"u"?null:document.documentElement)();function Wc(n){const e=n.parentNode||n.host||null;return e===Xh?null:e}let wl=null,ef=!1;function tu(n,e){for(;e;){if(e===n)return!0;e=Wc(e)}return!1}function hh(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let fh=(()=>{class n{validateStyleProperty(t){return function dh(n){wl||(wl=function wm(){return typeof document<"u"?document.body:null}()||{},ef=!!wl.style&&"WebkitAppearance"in wl.style);let e=!0;return wl.style&&!function Mu(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in wl.style,!e&&ef&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in wl.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return tu(t,i)}getParentElement(t){return Wc(t)}query(t,i,r){return hh(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,u,m=[],v){return new H(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})(),yd=(()=>{class n{static#e=this.NOOP=new fh}return n})();const h_=1e3,Cm="ng-enter",f_="ng-leave",xm="ng-trigger",bd=".ng-trigger",cp="ng-animating",p_=".ng-animating";function Au(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ph(parseFloat(e[1]),e[2])}function ph(n,e){return"s"===e?n*h_:n}function Em(n,e,t){return n.hasOwnProperty("duration")?n:function ww(n,e,t){let r,o=0,u="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(rt()),{duration:0,delay:0,easing:""};r=ph(parseFloat(m[1]),m[2]);const v=m[3];null!=v&&(o=ph(parseFloat(v),m[4]));const x=m[5];x&&(u=x)}else r=n;if(!t){let m=!1,v=e.length;r<0&&(e.push(function Bt(){return new a.vHH(3100,!1)}()),m=!0),o<0&&(e.push(function Ft(){return new a.vHH(3101,!1)}()),m=!0),m&&e.splice(v,0,rt())}return{duration:r,delay:o,easing:u}}(n,e,t)}function Cl(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ny(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function xl(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function pc(n,e,t){e.forEach((i,r)=>{const o=gh(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function ku(n,e){e.forEach((t,i)=>{const r=gh(i);n.style[r]=""})}function mh(n){return Array.isArray(n)?1==n.length?n[0]:pd(n):n}const Ou=new RegExp("{{\\s*(.+?)\\s*}}","g");function rf(n){let e=[];if("string"==typeof n){let t;for(;t=Ou.exec(n);)e.push(t[1]);Ou.lastIndex=0}return e}function wd(n,e,t){const i=n.toString(),r=i.replace(Ou,(o,u)=>{let m=e[u];return null==m&&(t.push(function Un(n){return new a.vHH(3003,!1)}()),m=""),m.toString()});return r==i?n:r}function nu(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const sf=/-+([a-z0-9])/g;function gh(n){return n.replace(sf,(...e)=>e[1].toUpperCase())}function Ks(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Mn(n){return new a.vHH(3004,!1)}()}}function Tm(n,e){return window.getComputedStyle(n)[e]}const y="*";function E(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function S(n,e,t){if(":"==n[0]){const v=function R(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Ry(n){return new a.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof v)return void e.push(v);n=v}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function bm(n){return new a.vHH(3015,!1)}()),e;const r=i[1],o=i[2],u=i[3];e.push(re(r,u));"<"==o[0]&&!(r==y&&u==y)&&e.push(re(u,r))}(i,t,e)):t.push(n),t}const V=new Set(["true","1"]),Z=new Set(["false","0"]);function re(n,e){const t=V.has(n)||Z.has(n),i=V.has(e)||Z.has(e);return(r,o)=>{let u=n==y||n==r,m=e==y||e==o;return!u&&t&&"boolean"==typeof r&&(u=r?V.has(n):Z.has(n)),!m&&i&&"boolean"==typeof o&&(m=o?V.has(e):Z.has(e)),u&&m}}const _e=new RegExp("s*:selfs*,?","g");function Oe(n,e,t,i){return new ht(n).build(e,t,i)}class ht{constructor(e){this._driver=e}build(e,t,i){const r=new On(t);return this._resetContextStyleTimingState(r),Ks(this,mh(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function Ao(){return new a.vHH(3006,!1)}()),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const v=m,x=v.name;x.toString().split(/\s*,\s*/).forEach(A=>{v.name=A,o.push(this.visitState(v,t))}),v.name=x}else if(1==m.type){const v=this.visitTransition(m,t);i+=v.queryCount,r+=v.depCount,u.push(v)}else t.errors.push(function Xi(){return new a.vHH(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(m=>{m instanceof Map&&m.forEach(v=>{rf(v).forEach(x=>{u.hasOwnProperty(x)||o.add(x)})})}),o.size&&(nu(o.values()),t.errors.push(function Du(n,e){return new a.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ks(this,mh(e.animation),t);return{type:1,matchers:E(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:bi(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ks(this,i,t)),options:bi(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(u=>{t.currentTime=i;const m=Ks(this,u,t);return r=Math.max(r,t.currentTime),m});return t.currentTime=r,{type:3,steps:o,options:bi(e.options)}}visitAnimate(e,t){const i=function gi(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return fr(Em(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=fr(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=Em(t,e);return fr(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Ti({});if(5==o.type)r=this.visitKeyframes(o,t);else{let u=e.styles,m=!1;if(!u){m=!0;const x={};i.easing&&(x.easing=i.easing),u=Ti(x)}t.currentTime+=i.duration+i.delay;const v=this.visitStyle(u,t);v.isEmptyStep=m,r=v}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let m of r)"string"==typeof m?m===is?i.push(m):t.errors.push(new a.vHH(3002,!1)):i.push(Ny(m));let o=!1,u=null;return i.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(u=m.get("easing"),m.delete("easing")),!o))for(let v of m.values())if(v.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((m,v)=>{const x=t.collectedStyles.get(t.currentQuerySelector),A=x.get(v);let L=!0;A&&(o!=r&&o>=A.startTime&&r<=A.endTime&&(t.errors.push(function Fr(n,e,t,i,r){return new a.vHH(3010,!1)}()),L=!1),o=A.startTime),L&&x.set(v,{startTime:o,endTime:r}),t.options&&function m_(n,e,t){const i=e.params||{},r=rf(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function hn(n){return new a.vHH(3001,!1)}())})}(m,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function bl(){return new a.vHH(3011,!1)}()),i;let o=0;const u=[];let m=!1,v=!1,x=0;const A=e.steps.map(wt=>{const kt=this._makeStyleAst(wt,t);let At=null!=kt.offset?kt.offset:function Jn(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(kt.styles),Lt=0;return null!=At&&(o++,Lt=kt.offset=At),v=v||Lt<0||Lt>1,m=m||Lt<x,x=Lt,u.push(Lt),kt});v&&t.errors.push(function a_(){return new a.vHH(3012,!1)}()),m&&t.errors.push(function gd(){return new a.vHH(3200,!1)}());const L=e.steps.length;let q=0;o>0&&o<L?t.errors.push(function _d(){return new a.vHH(3202,!1)}()):0==o&&(q=1/(L-1));const ne=L-1,ae=t.currentTime,ye=t.currentAnimateTimings,We=ye.duration;return A.forEach((wt,kt)=>{const At=q>0?kt==ne?1:q*kt:u[kt],Lt=At*We;t.currentTime=ae+ye.delay+Lt,ye.duration=Lt,this._validateStyleAst(wt,t),wt.offset=At,i.styles.push(wt)}),i}visitReference(e,t){return{type:8,animation:Ks(this,mh(e.animation),t),options:bi(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:bi(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:bi(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,u]=function an(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(_e,"")),n=n.replace(/@\*/g,bd).replace(/@\w+/g,t=>bd+"-"+t.slice(1)).replace(/:animating/g,p_),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,to(t.collectedStyles,t.currentQuerySelector,new Map);const m=Ks(this,mh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:m,originalSelector:e.selector,options:bi(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Qh(){return new a.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Em(e.timings,t.errors,!0);return{type:12,animation:Ks(this,mh(e.animation),t),timings:i,options:null}}}class On{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function bi(n){return n?(n=Cl(n)).params&&(n.params=function Jt(n){return n?Cl(n):null}(n.params)):n={},n}function fr(n,e,t){return{duration:n,delay:e,easing:t}}function Ys(n,e,t,i,r,o,u=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:m}}class Zc{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const cf=new RegExp(":enter","g"),Cd=new RegExp(":leave","g");function xd(n,e,t,i,r,o=new Map,u=new Map,m,v,x=[]){return(new Fy).buildKeyframes(n,e,t,i,r,o,u,m,v,x)}class Fy{buildKeyframes(e,t,i,r,o,u,m,v,x,A=[]){x=x||new Zc;const L=new mc(e,t,x,r,o,A,[]);L.options=v;const q=v.delay?Au(v.delay):0;L.currentTimeline.delayNextStep(q),L.currentTimeline.setStyles([u],null,L.errors,v),Ks(this,i,L);const ne=L.timelines.filter(ae=>ae.containsAnimation());if(ne.length&&m.size){let ae;for(let ye=ne.length-1;ye>=0;ye--){const We=ne[ye];if(We.element===t){ae=We;break}}ae&&!ae.allowOnlyTimelineStyles()&&ae.setStyles([m],null,L.errors,v)}return ne.length?ne.map(ae=>ae.buildKeyframes()):[Ys(t,[],[],[],0,q,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const u="number"==typeof o?o:Au(wd(o,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const u=null!=i.duration?Au(i.duration):null,m=null!=i.delay?Au(i.delay):null;return 0!==u&&e.forEach(v=>{const x=t.appendInstructionToTimeline(v,u,m);o=Math.max(o,x.duration+x.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Ks(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Qs);const u=Au(o.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Ks(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Au(e.options.delay):0;e.steps.forEach(u=>{const m=t.createSubContext(e.options);o&&m.delayNextStep(o),Ks(this,u,m),r=Math.max(r,m.currentTimeline.currentTime),i.push(m.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Em(t.params?wd(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,m=t.createSubContext().currentTimeline;m.easing=i.easing,e.styles.forEach(v=>{m.forwardTime((v.offset||0)*o),m.setStyles(v.styles,v.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Au(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Qs);let u=i;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=m.length;let v=null;m.forEach((x,A)=>{t.currentQueryIndex=A;const L=t.createSubContext(e.options,x);o&&L.delayNextStep(o),x===t.element&&(v=L.currentTimeline),Ks(this,e.animation,L),L.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,L.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,u=Math.abs(o.duration),m=u*(t.currentQueryTotal-1);let v=u*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":v=m-v;break;case"full":v=i.currentStaggerTime}const A=t.currentTimeline;v&&A.delayNextStep(v);const L=A.currentTime;Ks(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-L+(r.startTime-i.currentTimeline.startTime)}}const Qs={};class mc{constructor(e,t,i,r,o,u,m,v){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new Ly(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Au(i.duration)),null!=i.delay&&(r.delay=Au(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(m=>{(!t||!u.hasOwnProperty(m))&&(u[m]=wd(o[m],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new mc(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Qs,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new Tk(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,u){let m=[];if(r&&m.push(this.element),e.length>0){e=(e=e.replace(cf,"."+this._enterClassName)).replace(Cd,"."+this._leaveClassName);let x=this._driver.query(this.element,e,1!=i);0!==i&&(x=i<0?x.slice(x.length+i,x.length):x.slice(0,i)),m.push(...x)}return!o&&0==m.length&&u.push(function c_(n){return new a.vHH(3014,!1)}()),m}}class Ly{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Ly(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||is),this._currentKeyframe.set(t,is);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},u=function Sk(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,is)}else xl(r,t)}),t}(e,this._globalTimelineStyles);for(let[m,v]of u){const x=wd(v,o,i);this._pendingStyles.set(m,x),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??is),this._updateStyle(m,x)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((m,v)=>{const x=xl(m,new Map,this._backFill);x.forEach((A,L)=>{"!"===A?e.add(L):A===is&&t.add(L)}),i||x.set("offset",v/this.duration),r.push(x)});const o=e.size?nu(e.values()):[],u=t.size?nu(t.values()):[];if(i){const m=r[0],v=new Map(m);m.set("offset",0),v.set("offset",1),r=[m,v]}return Ys(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class Tk extends Ly{constructor(e,t,i,r,o,u,m=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=m,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],u=i+t,m=t/u,v=xl(e[0]);v.set("offset",0),o.push(v);const x=xl(e[0]);x.set("offset",vT(m)),o.push(x);const A=e.length-1;for(let L=1;L<=A;L++){let q=xl(e[L]);const ne=q.get("offset");q.set("offset",vT((t+ne*i)/u)),o.push(q)}i=u,t=0,r="",e=o}return Ys(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function vT(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Iw{}const Uy=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Tw extends Iw{normalizePropertyName(e,t){return gh(e)}normalizeStyleValue(e,t,i,r){let o="";const u=i.toString().trim();if(Uy.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const m=i.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&r.push(function ps(n,e){return new a.vHH(3005,!1)}())}return u+o}}function Vy(n,e,t,i,r,o,u,m,v,x,A,L,q){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:u,timelines:m,queriedElements:v,preStyleProps:x,postStyleProps:A,totalTime:L,errors:q}}const Sw={};class yT{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function wT(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,u,m,v,x,A){const L=[],q=this.ast.options&&this.ast.options.params||Sw,ae=this.buildStyles(i,m&&m.params||Sw,L),ye=v&&v.params||Sw,We=this.buildStyles(r,ye,L),wt=new Set,kt=new Map,At=new Map,Lt="void"===r,An={params:up(ye,q),delay:this.ast.options?.delay},Rn=A?[]:xd(e,t,this.ast.animation,o,u,ae,We,An,x,L);let ji=0;if(Rn.forEach(rl=>{ji=Math.max(rl.duration+rl.delay,ji)}),L.length)return Vy(t,this._triggerName,i,r,Lt,ae,We,[],[],kt,At,ji,L);Rn.forEach(rl=>{const _m=rl.element,l5=to(kt,_m,new Set);rl.preStyleProps.forEach(Oy=>l5.add(Oy));const gT=to(At,_m,new Set);rl.postStyleProps.forEach(Oy=>gT.add(Oy)),_m!==t&&wt.add(_m)});const Zo=nu(wt.values());return Vy(t,this._triggerName,i,r,Lt,ae,We,Rn,Zo,kt,At,ji)}}function up(n,e){const t=Cl(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class CT{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Cl(this.defaultParams);return Object.keys(e).forEach(o=>{const u=e[o];null!==u&&(r[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,m)=>{u&&(u=wd(u,r,t));const v=this.normalizer.normalizePropertyName(m,t);u=this.normalizer.normalizeStyleValue(m,v,u,t),i.set(m,u)})}),i}}class Mk{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new CT(r.style,r.options&&r.options.params||{},i))}),g_(this.states,"true","1"),g_(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new yT(e,r,this.states))}),this.fallbackTransition=function y2(n,e,t){return new yT(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function g_(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Ak=new Zc;class ET{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=Oe(this._driver,t,i,[]);if(i.length)throw function vd(n){return new a.vHH(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=pn(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let u;const m=new Map;if(o?(u=xd(this._driver,t,o,Cm,f_,new Map,new Map,i,Ak,r),u.forEach(A=>{const L=to(m,A.element,new Map);A.postStyleProps.forEach(q=>L.set(q,null))})):(r.push(function u_(){return new a.vHH(3300,!1)}()),u=[]),r.length)throw function Jh(n){return new a.vHH(3504,!1)}();m.forEach((A,L)=>{A.forEach((q,ne)=>{A.set(ne,this._driver.computeStyle(L,ne,is))})});const x=Nt(u.map(A=>{const L=m.get(A.element);return this._buildPlayer(A,new Map,L)}));return this._playersById.set(e,x),x.onDestroy(()=>this.destroy(e)),this.players.push(x),x}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function M(n){return new a.vHH(3301,!1)}();return t}listen(e,t,i,r){const o=va(t,"","","");return Wn(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Dw="ng-animate-queued",__="ng-animate-disabled",ST=[],jy={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zy={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},iu="__ng_removed";class y_{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function MT(n){return n??null}(i?e.value:e),i){const o=Cl(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const vh="void",Mw=new y_(vh);class DT{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ru(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function w(n,e){return new a.vHH(3302,!1)}();if(null==i||0==i.length)throw function I(n){return new a.vHH(3303,!1)}();if(!function Hy(n){return"start"==n||"done"==n}(i))throw function O(n,e){return new a.vHH(3400,!1)}();const o=to(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};o.push(u);const m=to(this._engine.statesByElement,e,new Map);return m.has(t)||(ru(e,xm),ru(e,xm+"-"+t),m.set(t,Mw)),()=>{this._engine.afterFlush(()=>{const v=o.indexOf(u);v>=0&&o.splice(v,1),this._triggers.has(t)||m.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function $(n){return new a.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),u=new Aw(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(ru(e,xm),ru(e,xm+"-"+t),this._engine.statesByElement.set(e,m=new Map));let v=m.get(t);const x=new y_(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&v&&x.absorbOptions(v.options),m.set(t,x),v||(v=Mw),x.value!==vh&&v.value===x.value){if(!function Sm(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(v.params,x.params)){const ye=[],We=o.matchStyles(v.value,v.params,ye),wt=o.matchStyles(x.value,x.params,ye);ye.length?this._engine.reportError(ye):this._engine.afterFlush(()=>{ku(e,We),pc(e,wt)})}return}const q=to(this._engine.playersByElement,e,[]);q.forEach(ye=>{ye.namespaceId==this.id&&ye.triggerName==t&&ye.queued&&ye.destroy()});let ne=o.matchTransition(v.value,x.value,e,x.params),ae=!1;if(!ne){if(!r)return;ne=o.fallbackTransition,ae=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:ne,fromState:v,toState:x,player:u,isFallbackTransition:ae}),ae||(ru(e,Dw),u.onStart(()=>{w_(e,Dw)})),u.onDone(()=>{let ye=this.players.indexOf(u);ye>=0&&this.players.splice(ye,1);const We=this._engine.playersByElement.get(e);if(We){let wt=We.indexOf(u);wt>=0&&We.splice(wt,1)}}),this.players.push(u),q.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,bd,!0);i.forEach(r=>{if(r[iu])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),u=new Map;if(o){const m=[];if(o.forEach((v,x)=>{if(u.set(x,v.value),this._triggers.has(x)){const A=this.trigger(e,x,vh,r);A&&m.push(A)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Nt(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const v=this._triggers.get(u).fallbackTransition,x=i.get(u)||Mw,A=new y_(vh),L=new Aw(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:v,fromState:x,toState:A,player:L,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[iu];(!o||o===jy)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){ru(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(m=>{if(m.name==i.triggerName){const v=va(o,i.triggerName,i.fromState.value,i.toState.value);v._data=e,Wn(i.player,m.phase,v,m.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class kk{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new DT(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,m=this.driver.getParentElement(t);for(;m;){const v=r.get(m);if(v){const x=i.indexOf(v);i.splice(x+1,0,e),u=!0;break}m=this.driver.getParentElement(m)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(b_(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!b_(t))return;const o=t[iu];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ru(e,__)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),w_(e,__))}removeNode(e,t,i){if(b_(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[iu]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return b_(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,bd,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,p_,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Nt(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[iu];if(t&&t.setForRemoval){if(e[iu]=jy,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(__)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ru(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Nt(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function J(n){return new a.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new Zc,r=[],o=new Map,u=[],m=new Map,v=new Map,x=new Map,A=new Set;this.disabledNodes.forEach(Cn=>{A.add(Cn);const Bn=this.driver.query(Cn,".ng-animate-queued",!0);for(let Qn=0;Qn<Bn.length;Qn++)A.add(Bn[Qn])});const L=this.bodyNode,q=Array.from(this.statesByElement.keys()),ne=AT(q,this.collectedEnterElements),ae=new Map;let ye=0;ne.forEach((Cn,Bn)=>{const Qn=Cm+ye++;ae.set(Bn,Qn),Cn.forEach(ir=>ru(ir,Qn))});const We=[],wt=new Set,kt=new Set;for(let Cn=0;Cn<this.collectedLeaveElements.length;Cn++){const Bn=this.collectedLeaveElements[Cn],Qn=Bn[iu];Qn&&Qn.setForRemoval&&(We.push(Bn),wt.add(Bn),Qn.hasAnimation?this.driver.query(Bn,".ng-star-inserted",!0).forEach(ir=>wt.add(ir)):kt.add(Bn))}const At=new Map,Lt=AT(q,Array.from(wt));Lt.forEach((Cn,Bn)=>{const Qn=f_+ye++;At.set(Bn,Qn),Cn.forEach(ir=>ru(ir,Qn))}),e.push(()=>{ne.forEach((Cn,Bn)=>{const Qn=ae.get(Bn);Cn.forEach(ir=>w_(ir,Qn))}),Lt.forEach((Cn,Bn)=>{const Qn=At.get(Bn);Cn.forEach(ir=>w_(ir,Qn))}),We.forEach(Cn=>{this.processLeaveNode(Cn)})});const An=[],Rn=[];for(let Cn=this._namespaceList.length-1;Cn>=0;Cn--)this._namespaceList[Cn].drainQueuedTransitions(t).forEach(Qn=>{const ir=Qn.player,Ja=Qn.element;if(An.push(ir),this.collectedEnterElements.length){const ol=Ja[iu];if(ol&&ol.setForMove){if(ol.previousTriggersValues&&ol.previousTriggersValues.has(Qn.triggerName)){const Py=ol.previousTriggersValues.get(Qn.triggerName),Kd=this.statesByElement.get(Qn.element);if(Kd&&Kd.has(Qn.triggerName)){const Ik=Kd.get(Qn.triggerName);Ik.value=Py,Kd.set(Qn.triggerName,Ik)}}return void ir.destroy()}}const Yf=!L||!this.driver.containsElement(L,Ja),Qu=At.get(Ja),o_=ae.get(Ja),cs=this._buildInstruction(Qn,i,o_,Qu,Yf);if(cs.errors&&cs.errors.length)return void Rn.push(cs);if(Yf)return ir.onStart(()=>ku(Ja,cs.fromStyles)),ir.onDestroy(()=>pc(Ja,cs.toStyles)),void r.push(ir);if(Qn.isFallbackTransition)return ir.onStart(()=>ku(Ja,cs.fromStyles)),ir.onDestroy(()=>pc(Ja,cs.toStyles)),void r.push(ir);const h5=[];cs.timelines.forEach(ol=>{ol.stretchStartingKeyframe=!0,this.disabledNodes.has(ol.element)||h5.push(ol)}),cs.timelines=h5,i.append(Ja,cs.timelines),u.push({instruction:cs,player:ir,element:Ja}),cs.queriedElements.forEach(ol=>to(m,ol,[]).push(ir)),cs.preStyleProps.forEach((ol,Py)=>{if(ol.size){let Kd=v.get(Py);Kd||v.set(Py,Kd=new Set),ol.forEach((Ik,g2)=>Kd.add(g2))}}),cs.postStyleProps.forEach((ol,Py)=>{let Kd=x.get(Py);Kd||x.set(Py,Kd=new Set),ol.forEach((Ik,g2)=>Kd.add(g2))})});if(Rn.length){const Cn=[];Rn.forEach(Bn=>{Cn.push(function Xe(n,e){return new a.vHH(3505,!1)}())}),An.forEach(Bn=>Bn.destroy()),this.reportError(Cn)}const ji=new Map,Zo=new Map;u.forEach(Cn=>{const Bn=Cn.element;i.has(Bn)&&(Zo.set(Bn,Bn),this._beforeAnimationBuild(Cn.player.namespaceId,Cn.instruction,ji))}),r.forEach(Cn=>{const Bn=Cn.element;this._getPreviousPlayers(Bn,!1,Cn.namespaceId,Cn.triggerName,null).forEach(ir=>{to(ji,Bn,[]).push(ir),ir.destroy()})});const rl=We.filter(Cn=>C_(Cn,v,x)),_m=new Map;dp(_m,this.driver,kt,x,is).forEach(Cn=>{C_(Cn,v,x)&&rl.push(Cn)});const gT=new Map;ne.forEach((Cn,Bn)=>{dp(gT,this.driver,new Set(Cn),v,"!")}),rl.forEach(Cn=>{const Bn=_m.get(Cn),Qn=gT.get(Cn);_m.set(Cn,new Map([...Bn?.entries()??[],...Qn?.entries()??[]]))});const Oy=[],u5=[],d5={};u.forEach(Cn=>{const{element:Bn,player:Qn,instruction:ir}=Cn;if(i.has(Bn)){if(A.has(Bn))return Qn.onDestroy(()=>pc(Bn,ir.toStyles)),Qn.disabled=!0,Qn.overrideTotalTime(ir.totalTime),void r.push(Qn);let Ja=d5;if(Zo.size>1){let Qu=Bn;const o_=[];for(;Qu=Qu.parentNode;){const cs=Zo.get(Qu);if(cs){Ja=cs;break}o_.push(Qu)}o_.forEach(cs=>Zo.set(cs,Ja))}const Yf=this._buildAnimation(Qn.namespaceId,ir,ji,o,gT,_m);if(Qn.setRealPlayer(Yf),Ja===d5)Oy.push(Qn);else{const Qu=this.playersByElement.get(Ja);Qu&&Qu.length&&(Qn.parentPlayer=Nt(Qu)),r.push(Qn)}}else ku(Bn,ir.fromStyles),Qn.onDestroy(()=>pc(Bn,ir.toStyles)),u5.push(Qn),A.has(Bn)&&r.push(Qn)}),u5.forEach(Cn=>{const Bn=o.get(Cn.element);if(Bn&&Bn.length){const Qn=Nt(Bn);Cn.setRealPlayer(Qn)}}),r.forEach(Cn=>{Cn.parentPlayer?Cn.syncPlayerEvents(Cn.parentPlayer):Cn.destroy()});for(let Cn=0;Cn<We.length;Cn++){const Bn=We[Cn],Qn=Bn[iu];if(w_(Bn,f_),Qn&&Qn.hasAnimation)continue;let ir=[];if(m.size){let Yf=m.get(Bn);Yf&&Yf.length&&ir.push(...Yf);let Qu=this.driver.query(Bn,p_,!0);for(let o_=0;o_<Qu.length;o_++){let cs=m.get(Qu[o_]);cs&&cs.length&&ir.push(...cs)}}const Ja=ir.filter(Yf=>!Yf.destroyed);Ja.length?Pk(this,Bn,Ja):this.processLeaveNode(Bn)}return We.length=0,Oy.forEach(Cn=>{this.players.push(Cn),Cn.onDone(()=>{Cn.destroy();const Bn=this.players.indexOf(Cn);this.players.splice(Bn,1)}),Cn.play()}),Oy}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let u=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(u=m)}else{const m=this.playersByElement.get(e);if(m){const v=!o||o==vh;m.forEach(x=>{x.queued||!v&&x.triggerName!=r||u.push(x)})}}return(i||r)&&(u=u.filter(m=>!(i&&i!=m.namespaceId||r&&r!=m.triggerName))),u}_beforeAnimationBuild(e,t,i){const o=t.element,u=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const v of t.timelines){const x=v.element,A=x!==o,L=to(i,x,[]);this._getPreviousPlayers(x,A,u,m,t.toState).forEach(ne=>{const ae=ne.getRealPlayer();ae.beforeDestroy&&ae.beforeDestroy(),ne.destroy(),L.push(ne)})}ku(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,u){const m=t.triggerName,v=t.element,x=[],A=new Set,L=new Set,q=t.timelines.map(ae=>{const ye=ae.element;A.add(ye);const We=ye[iu];if(We&&We.removedBeforeQueried)return new H(ae.duration,ae.delay);const wt=ye!==v,kt=function kw(n){const e=[];return kT(n,e),e}((i.get(ye)||ST).map(ji=>ji.getRealPlayer())).filter(ji=>!!ji.element&&ji.element===ye),At=o.get(ye),Lt=u.get(ye),An=pn(this._normalizer,ae.keyframes,At,Lt),Rn=this._buildPlayer(ae,An,kt);if(ae.subTimeline&&r&&L.add(ye),wt){const ji=new Aw(e,m,ye);ji.setRealPlayer(Rn),x.push(ji)}return Rn});x.forEach(ae=>{to(this.playersByQueriedElement,ae.element,[]).push(ae),ae.onDone(()=>function Ok(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,ae.element,ae))}),A.forEach(ae=>ru(ae,cp));const ne=Nt(q);return ne.onDestroy(()=>{A.forEach(ae=>w_(ae,cp)),pc(v,t.toStyles)}),L.forEach(ae=>{to(r,ae,[]).push(ne)}),ne}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new H(e.duration,e.delay)}}class Aw{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new H,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>Wn(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){to(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function b_(n){return n&&1===n.nodeType}function $y(n,e){const t=n.style.display;return n.style.display=e??"none",t}function dp(n,e,t,i,r){const o=[];t.forEach(v=>o.push($y(v)));const u=[];i.forEach((v,x)=>{const A=new Map;v.forEach(L=>{const q=e.computeStyle(x,L,r);A.set(L,q),(!q||0==q.length)&&(x[iu]=zy,u.push(x))}),n.set(x,A)});let m=0;return t.forEach(v=>$y(v,o[m++])),u}function AT(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const r=new Set(e),o=new Map;function u(m){if(!m)return 1;let v=o.get(m);if(v)return v;const x=m.parentNode;return v=t.has(x)?x:r.has(x)?1:u(x),o.set(m,v),v}return e.forEach(m=>{const v=u(m);1!==v&&t.get(v).push(m)}),t}function ru(n,e){n.classList?.add(e)}function w_(n,e){n.classList?.remove(e)}function Pk(n,e,t){Nt(t).onDone(()=>n.processLeaveNode(e))}function kT(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof oe?kT(i.players,e):e.push(i)}}function C_(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class Dm{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new kk(e,t,i),this._timelineEngine=new ET(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const u=e+"-"+r;let m=this._triggerCache[u];if(!m){const v=[],A=Oe(this._driver,o,v,[]);if(v.length)throw function eu(n,e){return new a.vHH(3404,!1)}();m=function xT(n,e,t){return new Mk(n,e,t)}(r,A,this._normalizer),this._triggerCache[u]=m}this._transitionEngine.registerTrigger(t,r,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,u]=sp(i);this._timelineEngine.command(o,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[u,m]=sp(i);return this._timelineEngine.listen(u,t,m,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let PT=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&pc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pc(this._element,this._initialStyles),this._endStyles&&(pc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ku(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ku(this._element,this._endStyles),this._endStyles=null),pc(this._element,this._initialStyles),this._state=3)}}return n})();function qy(n){let e=null;return n.forEach((t,i)=>{(function hp(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class RT{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Tm(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Rk{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return tu(e,t)}getParentElement(e){return Wc(e)}query(e,t,i){return hh(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,u=[]){const v={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(v.easing=o);const x=new Map,A=u.filter(ne=>ne instanceof RT);(function Pu(n,e){return 0===n||0===e})(i,r)&&A.forEach(ne=>{ne.currentSnapshot.forEach((ae,ye)=>x.set(ye,ae))});let L=function nf(n){return n.length?n[0]instanceof Map?n:n.map(e=>Ny(e)):[]}(t).map(ne=>xl(ne));L=function xw(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,u)=>{i.has(u)||r.push(u),i.set(u,o)}),r.length)for(let o=1;o<e.length;o++){let u=e[o];r.forEach(m=>u.set(m,Tm(n,m)))}}return e}(e,L,x);const q=function OT(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=qy(e[0]),e.length>1&&(i=qy(e[e.length-1]))):e instanceof Map&&(t=qy(e)),t||i?new PT(n,t,i):null}(e,L);return new RT(e,L,v,q)}}let Nk=(()=>{class n extends uh{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?pd(t):t;return Ed(this._renderer,null,i,"register",[r]),new Fk(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.FYo),a.LFG(Pe))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();class Fk extends vl{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Lk(this._id,e,t||{},this._renderer)}}class Lk{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Ed(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ed(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const NT="@.disabled";let Uk=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,u)=>{const m=u?.parentNode(o);m&&u.removeChild(m,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let A=this._rendererCache.get(o);return A||(A=new FT("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,A)),A}const u=i.id,m=i.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const v=A=>{Array.isArray(A)?A.forEach(v):this.engine.registerTrigger(u,m,t,A.name,A)};return i.data.animation.forEach(v),new Vk(this,m,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,m]=o;u(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.FYo),a.LFG(Dm),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();class FT{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==NT?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Vk extends FT{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==NT?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function Bk(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function jk(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,m=>{this.factory.scheduleListenerCallback(m._data||-1,i,m)})}return this.delegate.listen(e,t,i)}}let LT=(()=>{class n extends Dm{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Pe),a.LFG(yd),a.LFG(Iw),a.LFG(a.z2F))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const UT=[{provide:uh,useClass:Nk},{provide:Iw,useFactory:function zk(){return new Tw}},{provide:Dm,useClass:LT},{provide:a.FYo,useFactory:function Hk(n,e,t){return new Uk(n,e,t)},deps:[hl,Dm,a.R0b]}],Ow=[{provide:yd,useFactory:()=>new Rk},{provide:a.QbO,useValue:"BrowserAnimations"},...UT],x_=[{provide:yd,useClass:fh},{provide:a.QbO,useValue:"NoopAnimations"},...UT];let bh=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?x_:Ow}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:Ow,imports:[jc]})}return n})();var Id=Q(4097),bn=Q(2793);class Mm{constructor(e){return e}}class Pw{constructor(){return(0,Id.C6)()}}const BT=new a.OlP("angularfire2._apps"),b2={provide:Mm,useFactory:function Rw(n){return n&&1===n.length?n[0]:new Mm((0,Id.Mq)())},deps:[[new a.FiY,BT]]},jT={provide:Pw,deps:[[new a.FiY,BT]]};function Gk(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Mm(i)}}let Wk=(()=>{class n{constructor(t){(0,Id.KN)("angularfire",bn.q4.full,"core"),(0,Id.KN)("angularfire",bn.q4.full,"app"),(0,Id.KN)("angular",a.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[b2,jT]}),n})();function Zk(n,...e){return{ngModule:Wk,providers:[{provide:BT,useFactory:Gk(n),multi:!0,deps:[a.R0b,a.zs3,bn.HU,...e]}]}}const zT=(0,bn.u3)(Id.ZF,!0);var dt=Q(5861),Ms=Q(534),ou=Q(4537),ie=Q(9058),Ru=Q(7879);const Fw=new Map,$T={activated:!1,tokenObservers:[]},Yk={initialized:!1,enabled:!1};function ko(n){return Fw.get(n)||Object.assign({},$T)}function Lw(){return Yk}const fp="https://content-firebaseappcheck.googleapis.com/v1",qT="exchangeDebugToken",Uw={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class GT{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,dt.Z)(function*(){t.stop();try{t.pending=new ie.BH,yield function Qk(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ie.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Js=new ie.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ZT(n){if(!ko(n).activated)throw Js.create("use-before-activation",{appName:n.name})}function km(n,e){return Zy.apply(this,arguments)}function Zy(){return(Zy=(0,dt.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const L=yield r.getHeartbeatsHeader();L&&(i["X-Firebase-Client"]=L)}const o={method:"POST",body:JSON.stringify(e),headers:i};let u,m;try{u=yield fetch(n,o)}catch(L){throw Js.create("fetch-network-error",{originalErrorMessage:L?.message})}if(200!==u.status)throw Js.create("fetch-status-error",{httpStatus:u.status});try{m=yield u.json()}catch(L){throw Js.create("fetch-parse-error",{originalErrorMessage:L?.message})}const v=m.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Js.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const x=1e3*Number(v[1]),A=Date.now();return{token:m.token,expireTimeMillis:A+x,issuedAtTimeMillis:A}})).apply(this,arguments)}function YT(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${fp}/projects/${t}/apps/${i}:${qT}?key=${r}`,body:{debug_token:e}}}const Bw="firebase-app-check-database",Ky=1,T_="firebase-app-check-store";let gp=null;function lf(){return(lf=(0,dt.Z)(function*(n,e){const i=(yield function Nu(){return gp||(gp=new Promise((n,e)=>{try{const t=indexedDB.open(Bw,Ky);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Js.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(T_,{keyPath:"compositeKey"})}}catch(t){e(Js.create("storage-open",{originalErrorMessage:t?.message}))}}),gp)}()).transaction(T_,"readwrite"),o=i.objectStore(T_).put({compositeKey:n,value:e});return new Promise((u,m)=>{o.onsuccess=v=>{u()},i.onerror=v=>{var x;m(Js.create("storage-set",{originalErrorMessage:null===(x=v.target.error)||void 0===x?void 0:x.message}))}})})).apply(this,arguments)}const _p=new Ru.Yd("@firebase/app-check");function Jy(n,e){return(0,ie.hl)()?function jw(n,e){return function zw(n,e){return lf.apply(this,arguments)}(function JT(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{_p.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Gw(){return Lw().enabled}function Ww(){return Zw.apply(this,arguments)}function Zw(){return(Zw=(0,dt.Z)(function*(){const n=Lw();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const I2={error:"UNKNOWN_ERROR"};function Xy(n){return ie.US.encodeString(JSON.stringify(n),!1)}function eb(n){return S_.apply(this,arguments)}function S_(){return(S_=(0,dt.Z)(function*(n,e=!1){const t=n.app;ZT(t);const i=ko(t);let o,r=i.token;if(r&&!df(r)&&(i.token=void 0,r=void 0),!r){const v=yield i.cachedTokenPromise;v&&(df(v)?r=v:yield Jy(t,void 0))}if(!e&&r&&df(r))return{token:r.token};let m,u=!1;if(Gw()){i.exchangeTokenPromise||(i.exchangeTokenPromise=km(YT(t,yield Ww()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const v=yield i.exchangeTokenPromise;return yield Jy(t,v),i.token=v,{token:v.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield ko(t).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?_p.warn(v.message):_p.error(v),o=v}return r?o?m=df(r)?{token:r.token,internalError:o}:ib(o):(m={token:r.token},i.token=r,yield Jy(t,r)):m=ib(o),u&&function vp(n,e){const t=ko(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,m),m})).apply(this,arguments)}function tb(n){return uf.apply(this,arguments)}function uf(){return(uf=(0,dt.Z)(function*(n){const e=n.app;ZT(e);const{provider:t}=ko(e);if(Gw()){const i=yield Ww(),{token:r}=yield km(YT(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function M_(n,e){const t=ko(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Om(n){const{app:e}=n,t=ko(e);let i=t.tokenRefresher;i||(i=function nb(n){const{app:e}=n;return new GT((0,dt.Z)(function*(){let i;if(i=ko(e).token?yield eb(n,!0):yield eb(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=ko(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},Uw.RETRIAL_MIN_WAIT,Uw.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function df(n){return n.expireTimeMillis-Date.now()>0}function ib(n){return{token:Xy(I2),error:n}}class rb{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ko(this.app);for(const t of e)M_(this.app,t.next);return Promise.resolve()}}const Rm="app-check-internal";!function aO(){(0,Ms._registerComponent)(new ou.wA("app-check",n=>function T2(n,e){return new rb(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Rm).initialize()})),(0,Ms._registerComponent)(new ou.wA(Rm,n=>function Kw(n){return{getToken:e=>eb(n,e),getLimitedUseToken:()=>tb(n),addTokenListener:e=>function D_(n,e,t,i){const{app:r}=n,o=ko(r);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:i,type:e}],o.token&&df(o.token)){const m=o.token;Promise.resolve().then(()=>{t({token:m.token}),Om(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Om(n))}(n,"INTERNAL",e),removeTokenListener:e=>M_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ms.registerVersion)("@firebase/app-check","0.8.0")}();class yp{constructor(){return(0,bn.vb)("app-check")}}typeof window<"u"&&window;var bp=Q(6710);function lS(n){return new ar.y(function(e){return{unsubscribe:(0,bp.x)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}function su(n){return new ar.y(function(e){return{unsubscribe:(0,bp.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class wp{constructor(e){return e}}class Td{constructor(){return(0,bn.vb)("auth")}}const rC=new a.OlP("angularfire2.auth-instances");function hO(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new wp(i)}}const oC={provide:Td,deps:[[new a.FiY,rC]]},Sd={provide:wp,useFactory:function R2(n,e){const t=(0,bn.JM)("auth",n,e);return t&&new wp(t)},deps:[[new a.FiY,rC],Mm]};let dS=(()=>{class n{constructor(){(0,Id.KN)("angularfire",bn.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Sd,oC]}),n})();function fO(n,...e){return{ngModule:dS,providers:[{provide:rC,useFactory:hO(n),multi:!0,deps:[a.R0b,a.zs3,bn.HU,Pw,[new a.FiY,yp],...e]}]}}const N2=(0,bn.u3)(lS,!0),Xs=(0,bn.u3)(su,!0),pS=(0,bn.u3)(bp.a8,!0),_O=(0,bn.u3)(bp.o,!0),Z2=(0,bn.u3)(bp.a9,!0),Nm=(0,bn.u3)(bp.ai,!0);var $t,Fm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},El={},ub=ub||{},Zn=Fm||self;function Lm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Cp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var N_="closure_uid_"+(1e9*Math.random()>>>0),RO=0;function NO(n,e,t){return n.call.apply(n.bind,arguments)}function FO(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function ya(n,e,t){return(ya=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?NO:FO).apply(null,arguments)}function db(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ea(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var u=Array(arguments.length-2),m=2;m<arguments.length;m++)u[m-2]=arguments[m];return e.prototype[r].apply(i,u)}}function ff(){this.s=this.s,this.o=this.o}ff.prototype.s=!1,ff.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function gS(n){Object.prototype.hasOwnProperty.call(n,N_)&&n[N_]||(n[N_]=++RO)}(this)},ff.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lC=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function hb(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function _S(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Lm(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let u=0;u<o;u++)n[r+u]=i[u]}else n.push(i)}}function Ha(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ha.prototype.h=function(){this.defaultPrevented=!0};var Il=function(){if(!Zn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Zn.addEventListener("test",()=>{},e),Zn.removeEventListener("test",()=>{},e)}catch{}return n}();function F_(n){return/^[\s\xa0]*$/.test(n)}function fb(){var n=Zn.navigator;return n&&(n=n.userAgent)?n:""}function wh(n){return-1!=fb().indexOf(n)}function L_(n){return L_[" "](n),n}L_[" "]=function(){};var uC,n,UO=wh("Opera"),Um=wh("Trident")||wh("MSIE"),yS=wh("Edge"),pb=yS||Um,bS=wh("Gecko")&&!(-1!=fb().toLowerCase().indexOf("webkit")&&!wh("Edge"))&&!(wh("Trident")||wh("MSIE"))&&!wh("Edge"),VO=-1!=fb().toLowerCase().indexOf("webkit")&&!wh("Edge");function mb(){var n=Zn.document;return n?n.documentMode:void 0}e:{var dC="",hC=(n=fb(),bS?/rv:([^\);]+)(\)|;)/.exec(n):yS?/Edge\/([\d\.]+)/.exec(n):Um?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):VO?/WebKit\/(\S+)/.exec(n):UO?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(hC&&(dC=hC?hC[1]:""),Um){var fC=mb();if(null!=fC&&fC>parseFloat(dC)){uC=String(fC);break e}}uC=dC}var mC=Zn.document&&Um&&(mb()||parseInt(uC,10))||void 0;function U_(n,e){if(Ha.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(bS){e:{try{L_(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:wS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&U_.$.h.call(this)}}ea(U_,Ha);var wS={2:"touch",3:"pen",4:"mouse"};U_.prototype.h=function(){U_.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var V_="closure_listenable_"+(1e6*Math.random()|0),CS=0;function xS(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++CS,this.fa=this.ia=!1}function xp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function B_(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function gC(n){const e={};for(const t in n)e[t]=n[t];return e}const _C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vC(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<_C.length;o++)t=_C[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function j_(n){this.src=n,this.g={},this.h=0}function z_(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=lC(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(xp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Lu(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}j_.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=Lu(n,e,i,r);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new xS(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var yC="closure_lm_"+(1e6*Math.random()|0),bC={};function gb(n,e,t,i,r){if(i&&i.once)return TS(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)gb(n,e[o],t,i,r);return null}return t=vb(t),n&&n[V_]?n.O(e,t,Cp(i)?!!i.capture:!!i,r):ES(n,e,t,!1,i,r)}function ES(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var u=Cp(r)?!!r.capture:!!r,m=SS(n);if(m||(n[yC]=m=new j_(n)),(t=m.add(e,t,i,u,o)).proxy)return t;if(i=function IS(){const e=_b;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Il||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(wC(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function TS(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)TS(n,e[o],t,i,r);return null}return t=vb(t),n&&n[V_]?n.P(e,t,Cp(i)?!!i.capture:!!i,r):ES(n,e,t,!0,i,r)}function H_(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)H_(n,e[o],t,i,r);else i=Cp(i)?!!i.capture:!!i,t=vb(t),n&&n[V_]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Lu(o=n.g[e],t,i,r))&&(xp(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=SS(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Lu(e,t,i,r)),(t=-1<n?e[n]:null)&&Ep(t))}function Ep(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[V_])z_(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(wC(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=SS(e))?(z_(t,n),0==t.h&&(t.src=null,e[yC]=null)):xp(n)}}}function wC(n){return n in bC?bC[n]:bC[n]="on"+n}function _b(n,e){if(n.fa)n=!0;else{e=new U_(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Ep(n),n=t.call(i,e)}return n}function SS(n){return(n=n[yC])instanceof j_?n:null}var CC="__closure_events_fn_"+(1e9*Math.random()>>>0);function vb(n){return"function"==typeof n?n:(n[CC]||(n[CC]=function(e){return n.handleEvent(e)}),n[CC])}function As(){ff.call(this),this.i=new j_(this),this.S=this,this.J=null}function ba(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Ha(e,n);else if(e instanceof Ha)e.target=e.target||n;else{var r=e;vC(e=new Ha(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var u=e.g=t[o];r=yb(u,i,!0,e)&&r}if(r=yb(u=e.g=n,i,!0,e)&&r,r=yb(u,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=yb(u=e.g=t[o],i,!1,e)&&r}function yb(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var u=e[o];if(u&&!u.fa&&u.capture==t){var m=u.listener,v=u.la||u.src;u.ia&&z_(n.i,u),r=!1!==m.call(v,i)&&r}}return r&&!i.defaultPrevented}ea(As,ff),As.prototype[V_]=!0,As.prototype.removeEventListener=function(n,e,t,i){H_(this,n,e,t,i)},As.prototype.N=function(){if(As.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)xp(t[i]);delete n.g[e],n.h--}}this.J=null},As.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},As.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var bb=Zn.JSON.stringify;function $_(){var n=EC;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var xC=new class DS{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new MS,n=>n.reset());class MS{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function jO(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function zO(n){Zn.setTimeout(()=>{throw n},0)}let Ch,q_=!1,EC=new class BO{constructor(){this.h=this.g=null}add(e,t){const i=xC.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},AS=()=>{const n=Zn.Promise.resolve(void 0);Ch=()=>{n.then(HO)}};var HO=()=>{for(var n;n=$_();){try{n.h.call(n.g)}catch(t){zO(t)}var e=xC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}q_=!1};function wb(n,e){As.call(this),this.h=n||1,this.g=e||Zn,this.j=ya(this.qb,this),this.l=Date.now()}function IC(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function TC(n,e,t){if("function"==typeof n)t&&(n=ya(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ya(n.handleEvent,n)}return 2147483647<Number(e)?-1:Zn.setTimeout(n,e||0)}function kS(n){n.g=TC(()=>{n.g=null,n.i&&(n.i=!1,kS(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ea(wb,As),($t=wb.prototype).ga=!1,$t.T=null,$t.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ba(this,"tick"),this.ga&&(IC(this),this.start()))}},$t.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$t.N=function(){wb.$.N.call(this),IC(this),delete this.g};class OS extends ff{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:kS(this)}N(){super.N(),this.g&&(Zn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ip(n){ff.call(this),this.h=n,this.g={}}ea(Ip,ff);var PS=[];function G_(n,e,t,i){Array.isArray(t)||(t&&(PS[0]=t.toString()),t=PS);for(var r=0;r<t.length;r++){var o=gb(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function RS(n){B_(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ep(e)},n),n.g={}}function Cb(){this.g=!0}function Vm(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function WO(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return bb(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Ip.prototype.N=function(){Ip.$.N.call(this),RS(this)},Ip.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cb.prototype.Ea=function(){this.g=!1},Cb.prototype.info=function(){};var pf={},SC=null;function xb(){return SC=SC||new As}function ZO(n){Ha.call(this,pf.Ta,n)}function Bm(n){const e=xb();ba(e,new ZO(e))}function DC(n,e){Ha.call(this,pf.STAT_EVENT,n),this.stat=e}function Kc(n){const e=xb();ba(e,new DC(e,n))}function W_(n,e){Ha.call(this,pf.Ua,n),this.size=e}function Z_(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Zn.setTimeout(function(){n()},e)}pf.Ta="serverreachability",ea(ZO,Ha),pf.STAT_EVENT="statevent",ea(DC,Ha),pf.Ua="timingevent",ea(W_,Ha);var Eb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ib={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function MC(){}function jm(){}MC.prototype.h=null;var Yc,ms={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function xh(){Ha.call(this,"d")}function zm(){Ha.call(this,"c")}function Hm(){}function Dd(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Ip(this),this.P=$m,this.V=new wb(n=pb?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Tp}function Tp(){this.i=null,this.g="",this.h=!1}ea(xh,Ha),ea(zm,Ha),ea(Hm,MC),Hm.prototype.g=function(){return new XMLHttpRequest},Hm.prototype.i=function(){return{}},Yc=new Hm;var $m=45e3,mf={},Eh={};function gf(n,e,t){n.L=1,n.v=Mb(Ih(e)),n.s=t,n.S=!0,Sp(n,null)}function Sp(n,e){n.G=Date.now(),qm(n),n.A=Ih(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),zS(t.i,"t",i),n.C=0,t=n.l.J,n.h=new Tp,n.g=YC(n.l,t?e:null,!n.s),0<n.O&&(n.M=new OS(ya(n.Pa,n,n.g),n.O)),G_(n.U,n.g,"readystatechange",n.nb),e=n.I?gC(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Bm(),function $O(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",m=o.split("&"),v=0;v<m.length;v++){var x=m[v].split("=");if(1<x.length){var A=x[0];x=x[1];var L=A.split("_");u=2<=L.length&&"type"==L[1]?u+(A+"=")+x+"&":u+(A+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Dp(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Mp(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=NS(n,t),r==Eh){4==e&&(n.o=4,Kc(14),i=!1),Vm(n.j,n.m,null,"[Incomplete Response]");break}if(r==mf){n.o=4,Kc(15),Vm(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Vm(n.j,n.m,r,null),Tb(n,r)}Dp(n)&&r!=Eh&&r!=mf&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Kc(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),lv(e),e.M=!0,Kc(11))):(Vm(n.j,n.m,t,"[Invalid Chunked Response]"),_f(n),Gm(n))}function NS(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Eh:(t=Number(e.substring(t,i)),isNaN(t)?mf:(i+=1)+t>e.length?Eh:(e=e.slice(i,i+t),n.C=i+t,e))}function qm(n){n.Y=Date.now()+n.P,AC(n,n.P)}function AC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Z_(ya(n.lb,n),e)}function K_(n){n.B&&(Zn.clearTimeout(n.B),n.B=null)}function Gm(n){0==n.l.H||n.J||GC(n.l,n)}function _f(n){K_(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,IC(n.V),RS(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Tb(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||NC(t.i,n)))if(!n.K&&NC(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;uv(t),Fb(t)}cv(t),Kc(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=Z_(ya(t.ib,t),6e3));if(1>=HS(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else yf(t,11)}else if((n.K||t.g==n)&&uv(t),!F_(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let x=r[e];if(t.V=x[0],x=x[1],2==t.H)if("c"==x[0]){t.K=x[1],t.pa=x[2];const A=x[3];null!=A&&(t.ra=A,t.l.info("VER="+t.ra));const L=x[4];null!=L&&(t.Ga=L,t.l.info("SVER="+t.Ga));const q=x[5];null!=q&&"number"==typeof q&&0<q&&(t.L=i=1.5*q,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const ne=n.g;if(ne){const ae=ne.g?ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ae){var o=i.i;o.g||-1==ae.indexOf("spdy")&&-1==ae.indexOf("quic")&&-1==ae.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(ev(o,o.h),o.h=null))}if(i.F){const ye=ne.g?ne.g.getResponseHeader("X-HTTP-Session-Id"):null;ye&&(i.Da=ye,lo(i.I,i.F,ye))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var u=n;if((i=t).wa=KC(i,i.J?i.pa:null,i.Y),u.K){$S(i.i,u);var m=u,v=i.L;v&&m.setTimeout(v),m.B&&(K_(m),qm(m)),i.g=u}else $C(i);0<t.j.length&&sv(t)}else"stop"!=x[0]&&"close"!=x[0]||yf(t,7);else 3==t.H&&("stop"==x[0]||"close"==x[0]?"stop"==x[0]?yf(t,7):Nb(t):"noop"!=x[0]&&t.h&&t.h.Aa(x),t.A=0)}Bm()}catch{}}function Sb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Lm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function LS(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Lm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function FS(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Lm(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}($t=Dd.prototype).setTimeout=function(n){this.P=n},$t.nb=function(n){n=n.target;const e=this.M;e&&3==Vu(n)?e.l():this.Pa(n)},$t.Pa=function(n){try{if(n==this.g)e:{const A=Vu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>A)&&(3!=A||pb||this.g&&(this.h.h||this.g.ja()||YS(this.g)))){this.J||4!=A||7==e||Bm(),K_(this);var t=this.g.da();this.ca=t;t:if(Dp(this)){var i=YS(this.g);n="";var r=i.length,o=4==Vu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){_f(this),Gm(this);var u="";break t}this.h.i=new Zn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function qO(n,e,t,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.W,A,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F_(m)){var x=m;break t}}x=null}if(!(t=x)){this.i=!1,this.o=3,Kc(12),_f(this),Gm(this);break e}Vm(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tb(this,t)}this.S?(Mp(this,A,u),pb&&this.i&&3==A&&(G_(this.U,this.V,"tick",this.mb),this.V.start())):(Vm(this.j,this.m,u,null),Tb(this,u)),4==A&&_f(this),this.i&&!this.J&&(4==A?GC(this.l,this):(this.i=!1,qm(this)))}else(function tP(n){const e={};n=(n.g&&2<=Vu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(F_(n[i]))continue;var t=jO(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function Q2(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Kc(12)):(this.o=0,Kc(13)),_f(this),Gm(this)}}}catch{}},$t.mb=function(){if(this.g){var n=Vu(this.g),e=this.g.ja();this.C<e.length&&(K_(this),Mp(this,n,e),this.i&&4!=n&&qm(this))}},$t.cancel=function(){this.J=!0,_f(this)},$t.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function GO(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Bm(),Kc(17)),_f(this),this.o=2,Gm(this)):AC(this,this.Y-n)};var US=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wm(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Wm){this.h=n.h,Db(this,n.j),this.s=n.s,this.g=n.g,kC(this,n.m),this.l=n.l;var e=n.i,t=new Km;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),VS(this,t),this.o=n.o}else n&&(e=String(n).match(US))?(this.h=!1,Db(this,e[1]||"",!0),this.s=Y_(e[2]||""),this.g=Y_(e[3]||"",!0),kC(this,e[4]),this.l=Y_(e[5]||"",!0),VS(this,e[6]||"",!0),this.o=Y_(e[7]||"")):(this.h=!1,this.i=new Km(null,this.h))}function Ih(n){return new Wm(n)}function Db(n,e,t){n.j=t?Y_(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function kC(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function VS(n,e,t){e instanceof Km?(n.i=e,function KO(n,e){e&&!n.j&&(vf(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(Ym(this,i),zS(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Q_(e,BS)),n.i=new Km(e,n.h))}function lo(n,e,t){n.i.set(e,t)}function Mb(n){return lo(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Y_(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Q_(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,OC),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function OC(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wm.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Q_(e,Zm,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Q_(e,Zm,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Q_(t,"/"==t.charAt(0)?Ab:PC,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Q_(t,J_)),n.join("")};var Zm=/[#\/\?@]/g,PC=/[#\?:]/g,Ab=/[#\?]/g,BS=/[#\?@]/g,J_=/#/g;function Km(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function vf(n){n.g||(n.g=new Map,n.h=0,n.i&&function J2(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ym(n,e){vf(n),e=Qm(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function jS(n,e){return vf(n),e=Qm(n,e),n.g.has(e)}function zS(n,e,t){Ym(n,e),0<t.length&&(n.i=null,n.g.set(Qm(n,e),hb(t)),n.h+=t.length)}function Qm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function X_(n){this.l=n||kb,n=Zn.PerformanceNavigationTiming?0<(n=Zn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Zn.g&&Zn.g.Ka&&Zn.g.Ka()&&Zn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($t=Km.prototype).add=function(n,e){vf(this),this.i=null,n=Qm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},$t.forEach=function(n,e){vf(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},$t.ta=function(){vf(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},$t.Z=function(n){vf(this);let e=[];if("string"==typeof n)jS(this,n)&&(e=e.concat(this.g.get(Qm(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},$t.set=function(n,e){return vf(this),this.i=null,jS(this,n=Qm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},$t.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},$t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),u=this.Z(i);for(i=0;i<u.length;i++){var r=o;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var kb=10;function YO(n){return!!n.h||!!n.g&&n.g.size>=n.j}function HS(n){return n.h?1:n.g?n.g.size:0}function NC(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ev(n,e){n.g?n.g.add(e):n.h=e}function $S(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function FC(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return hb(n.i)}X_.prototype.cancel=function(){if(this.i=FC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var QO=class{stringify(n){return Zn.JSON.stringify(n,void 0)}parse(n){return Zn.JSON.parse(n,void 0)}};function JO(){this.g=new QO}function qS(n,e,t){const i=t||"";try{Sb(n,function(r,o){let u=r;Cp(r)&&(u=bb(r)),e.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function tv(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function nv(n){this.l=n.fc||null,this.j=n.ob||!1}function Ob(n,e){As.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=LC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ea(nv,MC),nv.prototype.g=function(){return new Ob(this.l,this.j)},nv.prototype.i=function(n){return function(){return n}}({}),ea(Ob,As);var LC=0;function UC(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Ap(n){n.readyState=4,n.l=null,n.j=null,n.A=null,kp(n)}function kp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}($t=Ob.prototype).open=function(n,e){if(this.readyState!=LC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,kp(this)},$t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Zn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},$t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ap(this)),this.readyState=LC},$t.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,kp(this)),this.g&&(this.readyState=3,kp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Zn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;UC(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},$t.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ap(this):kp(this),3==this.readyState&&UC(this)}},$t.Za=function(n){this.g&&(this.response=this.responseText=n,Ap(this))},$t.Ya=function(n){this.g&&(this.response=n,Ap(this))},$t.ka=function(){this.g&&Ap(this)},$t.setRequestHeader=function(n,e){this.v.append(n,e)},$t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},$t.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ob.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var XO=Zn.JSON.parse;function no(n){As.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=iv,this.L=this.M=!1}ea(no,As);var iv="",VC=/^https?$/i,WS=["POST","PUT"];function ZS(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,KS(n),Op(n)}function KS(n){n.F||(n.F=!0,ba(n,"complete"),ba(n,"error"))}function rv(n){if(n.h&&typeof ub<"u"&&(!n.C[1]||4!=Vu(n)||2!=n.da()))if(n.v&&4==Vu(n))TC(n.La,0,n);else if(ba(n,"readystatechange"),4==Vu(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===u){var r=String(n.I).match(US)[1]||null;!r&&Zn.self&&Zn.self.location&&(r=Zn.self.location.protocol.slice(0,-1)),i=!VC.test(r?r.toLowerCase():"")}t=i}if(t)ba(n,"complete"),ba(n,"success");else{n.m=6;try{var o=2<Vu(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",KS(n)}}finally{Op(n)}}}function Op(n,e){if(n.g){Pb(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ba(n,"ready");try{t.onreadystatechange=i}catch{}}}function Pb(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Zn.clearTimeout(n.A),n.A=null)}function Vu(n){return n.g?n.g.readyState:0}function YS(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case iv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function BC(n){let e="";return B_(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function ov(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=BC(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):lo(n,e,t))}function Jm(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Rb(n){this.Ga=0,this.j=[],this.l=new Cb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Jm("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Jm("baseRetryDelayMs",5e3,n),this.hb=Jm("retryDelaySeedMs",1e4,n),this.eb=Jm("forwardChannelMaxRetries",2,n),this.xa=Jm("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new X_(n&&n.concurrentRequestLimit),this.Ja=new JO,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Nb(n){if(jC(n),3==n.H){var e=n.W++,t=Ih(n.I);if(lo(t,"SID",n.K),lo(t,"RID",e),lo(t,"TYPE","terminate"),av(n,t),(e=new Dd(n,n.l,e)).L=2,e.v=Mb(Ih(t)),t=!1,Zn.navigator&&Zn.navigator.sendBeacon)try{t=Zn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Zn.Image&&((new Image).src=e.v,t=!0),t||(e.g=YC(e.l,null),e.g.ha(e.v)),e.G=Date.now(),qm(e)}ZC(n)}function Fb(n){n.g&&(lv(n),n.g.cancel(),n.g=null)}function jC(n){Fb(n),n.u&&(Zn.clearTimeout(n.u),n.u=null),uv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Zn.clearTimeout(n.m),n.m=null)}function sv(n){if(!YO(n.i)&&!n.m){n.m=!0;var e=n.Na;Ch||AS(),q_||(Ch(),q_=!0),EC.add(e,n),n.C=0}}function zC(n,e){var t;t=e?e.m:n.W++;const i=Ih(n.I);lo(i,"SID",n.K),lo(i,"RID",t),lo(i,"AID",n.V),av(n,i),n.o&&n.s&&ov(i,n.o,n.s),t=new Dd(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=HC(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),ev(n.i,t),gf(t,i,e)}function av(n,e){n.na&&B_(n.na,function(t,i){lo(e,i,t)}),n.h&&Sb({},function(t,i){lo(e,i,t)})}function HC(n,e,t){t=Math.min(n.j.length,t);var i=n.h?ya(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const u=["count="+t];-1==o?0<t?(o=r[0].g,u.push("ofs="+o)):o=0:u.push("ofs="+o);let m=!0;for(let v=0;v<t;v++){let x=r[v].g;const A=r[v].map;if(x-=o,0>x)o=Math.max(0,r[v].g-100),m=!1;else try{qS(A,u,"req"+x+"_")}catch{i&&i(A)}}if(m){i=u.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function $C(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Ch||AS(),q_||(Ch(),q_=!0),EC.add(e,n),n.A=0}}function cv(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Z_(ya(n.Ma,n),WC(n,n.A)),n.A++,0))}function lv(n){null!=n.B&&(Zn.clearTimeout(n.B),n.B=null)}function qC(n){n.g=new Dd(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ih(n.wa);lo(e,"RID","rpc"),lo(e,"SID",n.K),lo(e,"AID",n.V),lo(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&lo(e,"TO",n.qa),lo(e,"TYPE","xmlhttp"),av(n,e),n.o&&n.s&&ov(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Mb(Ih(e)),t.s=null,t.S=!0,Sp(t,n)}function uv(n){null!=n.v&&(Zn.clearTimeout(n.v),n.v=null)}function GC(n,e){var t=null;if(n.g==e){uv(n),lv(n),n.g=null;var i=2}else{if(!NC(n.i,e))return;t=e.F,$S(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;ba(i=xb(),new W_(i,t)),sv(n)}else $C(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function QS(n,e){return!(HS(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Z_(ya(n.Na,n,e),WC(n,n.C)),n.C++,0)))}(n,e)||2==i&&cv(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:yf(n,5);break;case 4:yf(n,10);break;case 3:yf(n,6);break;default:yf(n,2)}}function WC(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function yf(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=ya(n.pb,n);t||(t=new Wm("//www.google.com/images/cleardot.gif"),Zn.location&&"http"==Zn.location.protocol||Db(t,"https"),Mb(t)),function GS(n,e){const t=new Cb;if(Zn.Image){const i=new Image;i.onload=db(tv,t,i,"TestLoadImage: loaded",!0,e),i.onerror=db(tv,t,i,"TestLoadImage: error",!1,e),i.onabort=db(tv,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=db(tv,t,i,"TestLoadImage: timeout",!1,e),Zn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Kc(2);n.H=0,n.h&&n.h.za(e),ZC(n),jC(n)}function ZC(n){if(n.H=0,n.ma=[],n.h){const e=FC(n.i);(0!=e.length||0!=n.j.length)&&(_S(n.ma,e),_S(n.ma,n.j),n.i.i.length=0,hb(n.j),n.j.length=0),n.h.ya()}}function KC(n,e,t){var i=t instanceof Wm?Ih(t):new Wm(t);if(""!=i.g)e&&(i.g=e+"."+i.g),kC(i,i.m);else{var r=Zn.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Wm(null);i&&Db(o,i),e&&(o.g=e),r&&kC(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&lo(i,t,e),lo(i,"VER",n.ra),av(n,i),i}function YC(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new no(t&&n.Ha&&!n.va?new nv({ob:!0}):n.va)).Oa(n.J),e}function dv(){}function Bu(){if(Um&&!(10<=Number(mC)))throw Error("Environmental error: no available transport.")}function Tl(n,e){As.call(this),this.g=new Rb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!F_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!F_(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new au(this)}function JS(n){xh.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Lb(){zm.call(this),this.status=1}function au(n){this.g=n}function ju(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function hv(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],u=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;u=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(u<<7&4294967295|u>>>25))+((u=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((o=(e=t+((u=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((r=o+((u=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Sr(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}($t=no.prototype).Oa=function(n){this.M=n},$t.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yc.g(),this.C=function Uu(n){return n.h||(n.h=n.i())}(this.u?this.u:Yc),this.g.onreadystatechange=ya(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void ZS(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=Zn.FormData&&n instanceof Zn.FormData,!(0<=lC(WS,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,u]of t)this.g.setRequestHeader(o,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Pb(this),0<this.B&&((this.L=function eP(n){return Um&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ya(this.ua,this)):this.A=TC(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){ZS(this,o)}},$t.ua=function(){typeof ub<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ba(this,"timeout"),this.abort(8))},$t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ba(this,"complete"),ba(this,"abort"),Op(this))},$t.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Op(this,!0)),no.$.N.call(this)},$t.La=function(){this.s||(this.G||this.v||this.l?rv(this):this.kb())},$t.kb=function(){rv(this)},$t.isActive=function(){return!!this.g},$t.da=function(){try{return 2<Vu(this)?this.g.status:-1}catch{return-1}},$t.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},$t.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),XO(e)}},$t.Ia=function(){return this.m},$t.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},($t=Rb.prototype).ra=8,$t.H=1,$t.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Dd(this,this.l,n);let o=this.s;if(this.U&&(o?(o=gC(o),vC(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=HC(this,r,e),lo(t=Ih(this.I),"RID",n),lo(t,"CVER",22),this.F&&lo(t,"X-HTTP-Session-Id",this.F),av(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(BC(o)))+"&"+e:this.o&&ov(t,this.o,o)),ev(this.i,r),this.bb&&lo(t,"TYPE","init"),this.P?(lo(t,"$req",e),lo(t,"SID","null"),r.aa=!0,gf(r,t,null)):gf(r,t,e),this.H=2}}else 3==this.H&&(n?zC(this,n):0==this.j.length||YO(this.i)||zC(this))},$t.Ma=function(){if(this.u=null,qC(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Z_(ya(this.jb,this),n)}},$t.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Kc(10),Fb(this),qC(this))},$t.ib=function(){null!=this.v&&(this.v=null,Fb(this),cv(this),Kc(19))},$t.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Kc(2)):(this.l.info("Failed to ping google.com"),Kc(1))},$t.isActive=function(){return!!this.h&&this.h.isActive(this)},($t=dv.prototype).Ba=function(){},$t.Aa=function(){},$t.za=function(){},$t.ya=function(){},$t.isActive=function(){return!0},$t.Va=function(){},Bu.prototype.g=function(n,e){return new Tl(n,e)},ea(Tl,As),Tl.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Kc(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=KC(n,null,n.Y),sv(n)},Tl.prototype.close=function(){Nb(this.g)},Tl.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=bb(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&sv(e)},Tl.prototype.N=function(){this.g.h=null,delete this.j,Nb(this.g),delete this.g,Tl.$.N.call(this)},ea(JS,xh),ea(Lb,zm),ea(au,dv),au.prototype.Ba=function(){ba(this.g,"a")},au.prototype.Aa=function(n){ba(this.g,new JS(n))},au.prototype.za=function(n){ba(this.g,new Lb)},au.prototype.ya=function(){ba(this.g,"b")},ea(ju,function QC(){this.blockSize=-1}),ju.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ju.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)hv(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){hv(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){hv(this,i),r=0;break}}this.h=r,this.i+=e},ju.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var X2={};function JC(n){return-128<=n&&128>n?function vS(n,e){var t=X2;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Sr([0|e],0>e?-1:0)}):new Sr([0|n],0>n?-1:0)}function Md(n){if(isNaN(n)||!isFinite(n))return uo;if(0>n)return wa(Md(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=ex;return new Sr(e,0)}var ex=4294967296,uo=JC(0),Ub=JC(1),XS=JC(16777216);function Th(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Sl(n){return-1==n.h}function wa(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Sr(t,~n.h).add(Ub)}function fv(n,e){return n.add(wa(e))}function pv(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Ad(n,e){this.g=n,this.h=e}function Vb(n,e){if(Th(e))throw Error("division by zero");if(Th(n))return new Ad(uo,uo);if(Sl(n))return e=Vb(wa(n),e),new Ad(wa(e.g),wa(e.h));if(Sl(e))return e=Vb(n,wa(e)),new Ad(wa(e.g),e.h);if(30<n.g.length){if(Sl(n)||Sl(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Ub,i=e;0>=i.X(n);)t=eD(t),i=eD(i);var r=Pp(t,1),o=Pp(i,1);for(i=Pp(i,2),t=Pp(t,2);!Th(i);){var u=o.add(i);0>=u.X(n)&&(r=r.add(t),o=u),i=Pp(i,1),t=Pp(t,1)}return e=fv(n,r.R(e)),new Ad(r,e)}for(r=uo;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),u=(o=Md(t)).R(e);Sl(u)||0<u.X(n);)u=(o=Md(t-=i)).R(e);Th(o)&&(o=Ub),r=r.add(o),n=fv(n,u)}return new Ad(r,n)}function eD(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Sr(t,n.h)}function Pp(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Sr(r,n.h)}($t=Sr.prototype).ea=function(){if(Sl(this))return-wa(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:ex+i)*e,e*=ex}return n},$t.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Th(this))return"0";if(Sl(this))return"-"+wa(this).toString(n);for(var e=Md(Math.pow(n,6)),t=this,i="";;){var r=Vb(t,e).g,o=((0<(t=fv(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Th(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},$t.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},$t.X=function(n){return Sl(n=fv(this,n))?-1:Th(n)?0:1},$t.abs=function(){return Sl(this)?wa(this):this},$t.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),u=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=u>>>16,t[r]=(u&=65535)<<16|(o&=65535)}return new Sr(t,-2147483648&t[t.length-1]?-1:0)},$t.R=function(n){if(Th(this)||Th(n))return uo;if(Sl(this))return Sl(n)?wa(this).R(wa(n)):wa(wa(this).R(n));if(Sl(n))return wa(this.R(wa(n)));if(0>this.X(XS)&&0>n.X(XS))return Md(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,u=65535&this.D(i),m=n.D(r)>>>16,v=65535&n.D(r);t[2*i+2*r]+=u*v,pv(t,2*i+2*r),t[2*i+2*r+1]+=o*v,pv(t,2*i+2*r+1),t[2*i+2*r+1]+=u*m,pv(t,2*i+2*r+1),t[2*i+2*r+2]+=o*m,pv(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Sr(t,0)},$t.gb=function(n){return Vb(this,n).h},$t.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Sr(t,this.h&n.h)},$t.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Sr(t,this.h|n.h)},$t.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Sr(t,this.h^n.h)},Bu.prototype.createWebChannel=Bu.prototype.g,Tl.prototype.send=Tl.prototype.u,Tl.prototype.open=Tl.prototype.m,Tl.prototype.close=Tl.prototype.close,Eb.NO_ERROR=0,Eb.TIMEOUT=8,Eb.HTTP_ERROR=6,Ib.COMPLETE="complete",jm.EventType=ms,ms.OPEN="a",ms.CLOSE="b",ms.ERROR="c",ms.MESSAGE="d",As.prototype.listen=As.prototype.O,no.prototype.listenOnce=no.prototype.P,no.prototype.getLastError=no.prototype.Sa,no.prototype.getLastErrorCode=no.prototype.Ia,no.prototype.getStatus=no.prototype.da,no.prototype.getResponseJson=no.prototype.Wa,no.prototype.getResponseText=no.prototype.ja,no.prototype.send=no.prototype.ha,no.prototype.setWithCredentials=no.prototype.Oa,ju.prototype.digest=ju.prototype.l,ju.prototype.reset=ju.prototype.reset,ju.prototype.update=ju.prototype.j,Sr.prototype.add=Sr.prototype.add,Sr.prototype.multiply=Sr.prototype.R,Sr.prototype.modulo=Sr.prototype.gb,Sr.prototype.compare=Sr.prototype.X,Sr.prototype.toNumber=Sr.prototype.ea,Sr.prototype.toString=Sr.prototype.toString,Sr.prototype.getBits=Sr.prototype.D,Sr.fromNumber=Md,Sr.fromString=function XC(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return wa(XC(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Md(Math.pow(e,8)),i=uo,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),u=parseInt(n.substring(r,r+o),e);8>o?(o=Md(Math.pow(e,o)),i=i.R(o).add(Md(u))):i=(i=i.R(t)).add(Md(u))}return i};var nP=El.createWebChannelTransport=function(){return new Bu},tD=El.getStatEventTarget=function(){return xb()},nD=El.ErrorCode=Eb,tx=El.EventType=Ib,nx=El.Event=pf,zu=El.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},iP=El.FetchXmlHttpFactory=nv,mv=El.WebChannel=jm,kd=El.XhrIo=no,Hu=El.Md5=ju,$a=El.Integer=Sr;const ix="@firebase/firestore";class ks{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ks.UNAUTHENTICATED=new ks(null),ks.GOOGLE_CREDENTIALS=new ks("google-credentials-uid"),ks.FIRST_PARTY=new ks("first-party-uid"),ks.MOCK_USER=new ks("mock-user");let Xm="9.23.0";const bf=new Ru.Yd("@firebase/firestore");function rx(){return bf.logLevel}function Tt(n,...e){if(bf.logLevel<=Ru.in.DEBUG){const t=e.map(Bb);bf.debug(`Firestore (${Xm}): ${n}`,...t)}}function io(n,...e){if(bf.logLevel<=Ru.in.ERROR){const t=e.map(Bb);bf.error(`Firestore (${Xm}): ${n}`,...t)}}function cu(n,...e){if(bf.logLevel<=Ru.in.WARN){const t=e.map(Bb);bf.warn(`Firestore (${Xm}): ${n}`,...t)}}function Bb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ln(n="Unexpected state"){const e=`FIRESTORE (${Xm}) INTERNAL ASSERTION FAILED: `+n;throw io(e),new Error(e)}function wn(n,e){n||ln()}function Gt(n,e){return n}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends ie.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ox{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ks.UNAUTHENTICATED))}shutdown(){}}class oP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sP{constructor(e){this.t=e,this.currentUser=ks.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=x=>this.i!==r?(r=this.i,t(x)):Promise.resolve();let u=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new gs,e.enqueueRetryable(()=>o(this.currentUser))};const m=()=>{const x=u;e.enqueueRetryable((0,dt.Z)(function*(){yield x.promise,yield o(i.currentUser)}))},v=x=>{Tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(x=>v(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?v(x):(Tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new gs)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(wn("string"==typeof i.accessToken),new ox(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wn(null===e||"string"==typeof e),new ks(e)}}class sx{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=ks.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class jb{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new sx(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ks.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oD{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=o=>{null!=o.error&&Tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.T;return this.T=o.token,Tt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{Tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):Tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wn("string"==typeof t.token),this.T=t.token,new zb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function sD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class ax{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=sD(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Kn(n,e){return n<e?-1:n>e?1:0}function Rp(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function cx(n){return n+"\0"}class ho{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new vt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new vt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new vt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ho.fromMillis(Date.now())}static fromDate(e){return ho.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new ho(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kn(this.nanoseconds,e.nanoseconds):Kn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Tn(e)}static min(){return new Tn(new ho(0,0))}static max(){return new Tn(new ho(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gv{constructor(e,t,i){void 0===t?t=0:t>e.length&&ln(),void 0===i?i=e.length-t:i>e.length-t&&ln(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===gv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gv?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),u=t.get(r);if(o<u)return-1;if(o>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class $i extends gv{construct(e,t,i){return new $i(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new vt(tt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new $i(t)}static emptyPath(){return new $i([])}}const cP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $o extends gv{construct(e,t,i){return new $o(e,t,i)}static isValidIdentifier(e){return cP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$o.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $o(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new vt(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const m=e[r];if("\\"===m){if(r+1===e.length)throw new vt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[r+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new vt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=v,r+=2}else"`"===m?(u=!u,r++):"."!==m||u?(i+=m,r++):(o(),r++)}if(o(),u)throw new vt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $o(t)}static emptyPath(){return new $o([])}}class qt{constructor(e){this.path=e}static fromPath(e){return new qt($i.fromString(e))}static fromName(e){return new qt($i.fromString(e).popFirst(5))}static empty(){return new qt($i.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===$i.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return $i.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qt(new $i(e.slice()))}}class Hb{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function lx(n){return n.fields.find(e=>2===e.kind)}function Np(n){return n.fields.filter(e=>2!==e.kind)}Hb.UNKNOWN_ID=-1;class $b{constructor(e,t){this.fieldPath=e,this.kind=t}}class _v{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new _v(0,Dl.min())}}function aD(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Tn.fromTimestamp(1e9===i?new ho(t+1,0):new ho(t,i));return new Dl(r,qt.empty(),e)}function cD(n){return new Dl(n.readTime,n.key,-1)}class Dl{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Dl(Tn.min(),qt.empty(),-1)}static max(){return new Dl(Tn.max(),qt.empty(),-1)}}function ux(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=qt.comparator(n.documentKey,e.documentKey),0!==t?t:Kn(n.largestBatchId,e.largestBatchId))}const dx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Sh(n){return qb.apply(this,arguments)}function qb(){return qb=(0,dt.Z)(function*(n){if(n.code!==tt.FAILED_PRECONDITION||n.message!==dx)throw n;Tt("LocalStore","Unexpectedly lost primary lease")}),qb.apply(this,arguments)}class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ln(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ke((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ke?t:Ke.resolve(t)}catch(t){return Ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ke.reject(t)}static resolve(e){return new Ke((t,i)=>{t(e)})}static reject(e){return new Ke((t,i)=>{i(e)})}static waitFor(e){return new Ke((t,i)=>{let r=0,o=0,u=!1;e.forEach(m=>{++r,m.next(()=>{++o,u&&o===r&&t()},v=>i(v))}),u=!0,o===r&&t()})}static or(e){let t=Ke.resolve(!1);for(const i of e)t=t.next(r=>r?Ke.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new Ke((i,r)=>{const o=e.length,u=new Array(o);let m=0;for(let v=0;v<o;v++){const x=v;t(e[x]).next(A=>{u[x]=A,++m,m===o&&i(u)},A=>r(A))}})}static doWhile(e,t){return new Ke((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class vv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new gs,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new eg(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=fx(i.target.error);this.v.reject(new eg(e,r))}}static open(e,t,i,r){try{return new vv(t,e.transaction(r,i))}catch(o){throw new eg(t,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Tt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new uD(t)}}class lu{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===lu.S((0,ie.z$)())&&io("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Tt("SimpleDb","Removing database:",e),Ml(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ie.hl)())return!1;if(lu.C())return!0;const e=(0,ie.z$)(),t=lu.S(e),i=0<t&&t<10,r=lu.N(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,dt.Z)(function*(){return t.db||(Tt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new eg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const m=u.target.error;r("VersionError"===m.name?new vt(tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new vt(tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new eg(e,m))},o.onupgradeneeded=u=>{Tt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.V.O(u.target.result,o.transaction,u.oldVersion,t.version).next(()=>{Tt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,dt.Z)(function*(){const u="readonly"===t;let m=0;for(;;){++m;try{o.db=yield o.$(e);const v=vv.open(o.db,e,u?"readonly":"readwrite",i),x=r(v).next(A=>(v.P(),A)).catch(A=>(v.abort(A),Ke.reject(A))).toPromise();return x.catch(()=>{}),yield v.R,x}catch(v){const x=v,A="FirebaseError"!==x.name&&m<3;if(Tt("SimpleDb","Transaction failed with error:",x.message,"Retrying:",A),o.close(),!A)return Promise.reject(x)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class lD{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ml(this.L.delete())}}class eg extends vt{constructor(e,t){super(tt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Od(n){return"IndexedDbTransactionError"===n.name}class uD{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Tt("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Tt("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Ml(i)}add(e){return Tt("SimpleDb","ADD",this.store.name,e,e),Ml(this.store.add(e))}get(e){return Ml(this.store.get(e)).next(t=>(void 0===t&&(t=null),Tt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Tt("SimpleDb","DELETE",this.store.name,e),Ml(this.store.delete(e))}count(){return Tt("SimpleDb","COUNT",this.store.name),Ml(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(u,m)=>{o.push(m)}).next(()=>o)}{const r=this.store.getAll(i.range);return new Ke((o,u)=>{r.onerror=m=>{u(m.target.error)},r.onsuccess=m=>{o(m.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Ke((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}J(e,t){Tt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,u,m)=>m.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new Ke((i,r)=>{t.onerror=o=>{const u=fx(o.target.error);r(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(m=>{m?u.continue():i()}):i()}})}W(e,t){const i=[];return new Ke((r,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const m=u.target.result;if(!m)return void r();const v=new lD(m),x=t(m.primaryKey,m.value,v);if(x instanceof Ke){const A=x.catch(L=>(v.done(),Ke.reject(L)));i.push(A)}v.isDone?r():null===v.K?m.continue():m.continue(v.K)}}).next(()=>Ke.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ml(n){return new Ke((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=fx(i.target.error);t(r)}})}let dD=!1;function fx(n){const e=lu.S((0,ie.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new vt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dD||(dD=!0,setTimeout(()=>{throw i},0)),i}}return n}class tg{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Tt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,dt.Z)(function*(){t.task=null;try{Tt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){Od(i)?Tt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Sh(i)}yield t.et(6e4)}))}}class eU{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,dt.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,o=!0;return Ke.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Tt("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,r).next(m=>{r-=m,i.add(u)});o=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(r,o)).next(m=>(Tt("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>u.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,o)=>{const u=cD(o);ux(u,i)>0&&(i=u)}),new Dl(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let gc=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Gb(n){return null==n}function ng(n){return 0===n&&1/n==-1/0}function px(n){return"number"==typeof n&&Number.isInteger(n)&&!ng(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function _c(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hD(e)),e=ig(n.get(t),e);return hD(e)}function ig(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function hD(n){return n+"\x01\x01"}function Pd(n){const e=n.length;if(wn(e>=2),2===e)return wn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),$i.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const u=n.indexOf("\x01",o);switch((u<0||u>t)&&ln(),n.charAt(u+1)){case"\x01":const m=n.substring(o,u);let v;0===r.length?v=m:(r+=m,v=r,r=""),i.push(v);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:ln()}o=u+2}return new $i(i)}const fD=["userId","batchId"];function Dh(n,e){return[n,_c(e)]}function pD(n,e,t){return[n,_c(e),t]}const Wb={},Zb=["prefixPath","collectionGroup","readTime","documentId"],Qc=["prefixPath","collectionGroup","documentId"],tU=["collectionGroup","readTime","prefixPath","documentId"],mD=["canonicalId","targetId"],gD=["targetId","path"],dP=["path","targetId"],_D=["collectionId","parent"],vD=["indexId","uid"],yD=["uid","sequenceNumber"],bD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hP=["indexId","uid","orderedDocumentKey"],fP=["userId","collectionPath","documentId"],pP=["userId","collectionPath","largestBatchId"],yv=["userId","collectionGroup","largestBatchId"],wD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],mP=[...wD,"documentOverlays"],CD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bv=CD,xD=[...bv,"indexConfiguration","indexState","indexEntries"];class Kb extends hx{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Os(n,e){const t=Gt(n);return lu.M(t.ht,e)}function ED(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function uu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class zr{constructor(e,t){this.comparator=e,this.root=t||Ca.EMPTY}insert(e,t){return new zr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ca.BLACK,null,null))}remove(e){return new zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ca.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yb(this.root,e,this.comparator,!0)}}class Yb{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ca{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Ca.RED,this.left=r??Ca.EMPTY,this.right=o??Ca.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Ca(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ca.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ca.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ca.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ca.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ln();const e=this.left.check();if(e!==this.right.check())throw ln();return e+(this.isRed()?0:1)}}Ca.EMPTY=null,Ca.RED=!0,Ca.BLACK=!1,Ca.EMPTY=new class{constructor(){this.size=0}get key(){throw ln()}get value(){throw ln()}get color(){throw ln()}get left(){throw ln()}get right(){throw ln()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Ca(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hr{constructor(e){this.comparator=e,this.data=new zr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mx(this.data.getIterator())}getIteratorFrom(e){return new mx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Hr)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Hr(this.comparator);return t.data=e,t}}class mx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fp(n){return n.hasNext()?n.getNext():void 0}class Jc{constructor(e){this.fields=e,e.sort($o.comparator)}static empty(){return new Jc([])}unionWith(e){let t=new Hr($o.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Jc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rp(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class gx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ps{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new gx("Invalid base64 string: "+r):r}}(e);return new Ps(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new Ps(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ps.EMPTY_BYTE_STRING=new Ps("");const nU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lp(n){if(wn(!!n),"string"==typeof n){let e=0;const t=nU.exec(n);if(wn(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:rs(n.seconds),nanos:rs(n.nanos)}}function rs(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function wf(n){return"string"==typeof n?Ps.fromBase64String(n):Ps.fromUint8Array(n)}function wv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Up(n){const e=n.mapValue.fields.__previous_value__;return wv(e)?Up(e):e}function Cv(n){const e=Lp(n.mapValue.fields.__local_write_time__.timestampValue);return new ho(e.seconds,e.nanos)}class _P{constructor(e,t,i,r,o,u,m,v,x){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=v,this.useFetchStreams=x}}class Mh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Mh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mh&&e.projectId===this.projectId&&e.database===this.database}}const du={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Qb={nullValue:"NULL_VALUE"};function Cf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?wv(n)?4:SD(n)?9007199254740991:10:ln()}function Rd(n,e){if(n===e)return!0;const t=Cf(n);if(t!==Cf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cv(n).isEqual(Cv(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Lp(i.timestampValue),u=Lp(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,wf(n.bytesValue).isEqual(wf(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return rs(i.geoPointValue.latitude)===rs(r.geoPointValue.latitude)&&rs(i.geoPointValue.longitude)===rs(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return rs(i.integerValue)===rs(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=rs(i.doubleValue),u=rs(r.doubleValue);return o===u?ng(o)===ng(u):isNaN(o)&&isNaN(u)}return!1}(n,e);case 9:return Rp(n.arrayValue.values||[],e.arrayValue.values||[],Rd);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(ED(o)!==ED(u))return!1;for(const m in o)if(o.hasOwnProperty(m)&&(void 0===u[m]||!Rd(o[m],u[m])))return!1;return!0}(n,e);default:return ln()}var r}function xv(n,e){return void 0!==(n.values||[]).find(t=>Rd(t,e))}function Vp(n,e){if(n===e)return 0;const t=Cf(n),i=Cf(e);if(t!==i)return Kn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kn(n.booleanValue,e.booleanValue);case 2:return function(r,o){const u=rs(r.integerValue||r.doubleValue),m=rs(o.integerValue||o.doubleValue);return u<m?-1:u>m?1:u===m?0:isNaN(u)?isNaN(m)?0:-1:1}(n,e);case 3:return ID(n.timestampValue,e.timestampValue);case 4:return ID(Cv(n),Cv(e));case 5:return Kn(n.stringValue,e.stringValue);case 6:return function(r,o){const u=wf(r),m=wf(o);return u.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const u=r.split("/"),m=o.split("/");for(let v=0;v<u.length&&v<m.length;v++){const x=Kn(u[v],m[v]);if(0!==x)return x}return Kn(u.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const u=Kn(rs(r.latitude),rs(o.latitude));return 0!==u?u:Kn(rs(r.longitude),rs(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const u=r.values||[],m=o.values||[];for(let v=0;v<u.length&&v<m.length;++v){const x=Vp(u[v],m[v]);if(x)return x}return Kn(u.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===du.mapValue&&o===du.mapValue)return 0;if(r===du.mapValue)return 1;if(o===du.mapValue)return-1;const u=r.fields||{},m=Object.keys(u),v=o.fields||{},x=Object.keys(v);m.sort(),x.sort();for(let A=0;A<m.length&&A<x.length;++A){const L=Kn(m[A],x[A]);if(0!==L)return L;const q=Vp(u[m[A]],v[x[A]]);if(0!==q)return q}return Kn(m.length,x.length)}(n.mapValue,e.mapValue);default:throw ln()}}function ID(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Kn(n,e);const t=Lp(n),i=Lp(e),r=Kn(t.seconds,i.seconds);return 0!==r?r:Kn(t.nanos,i.nanos)}function Bp(n){return _x(n)}function _x(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Lp(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?wf(n.bytesValue).toBase64():"referenceValue"in n?qt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=_x(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const m of r)u?u=!1:o+=",",o+=`${m}:${_x(i.fields[m])}`;return o+"}"}(n.mapValue):ln();var e}function $u(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vx(n){return!!n&&"integerValue"in n}function og(n){return!!n&&"arrayValue"in n}function TD(n){return!!n&&"nullValue"in n}function yx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xb(n){return!!n&&"mapValue"in n}function sg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return uu(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=sg(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function SD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function bx(n){return"nullValue"in n?Qb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?$u(Mh.empty(),qt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ln()}function vP(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?$u(Mh.empty(),qt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?du:ln()}function wx(n,e){const t=Vp(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Cx(n,e){const t=Vp(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class xa{constructor(e){this.value=e}static empty(){return new xa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Xb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sg(t)}setAll(e){let t=$o.emptyPath(),i={},r=[];e.forEach((u,m)=>{if(!t.isImmediateParentOf(m)){const v=this.getFieldsMap(t);this.applyChanges(v,i,r),i={},r=[],t=m.popLast()}u?i[m.lastSegment()]=sg(u):r.push(m.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());Xb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Xb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){uu(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new xa(sg(this.value))}}function DD(n){const e=[];return uu(n.fields,(t,i)=>{const r=new $o([t]);if(Xb(i)){const o=DD(i.mapValue).fields;if(0===o.length)e.push(r);else for(const u of o)e.push(r.child(u))}else e.push(r)}),new Jc(e)}class ro{constructor(e,t,i,r,o,u,m){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=u,this.documentState=m}static newInvalidDocument(e){return new ro(e,0,Tn.min(),Tn.min(),Tn.min(),xa.empty(),0)}static newFoundDocument(e,t,i,r){return new ro(e,1,t,Tn.min(),i,r,0)}static newNoDocument(e,t){return new ro(e,2,t,Tn.min(),Tn.min(),xa.empty(),0)}static newUnknownDocument(e,t){return new ro(e,3,t,Tn.min(),Tn.min(),xa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Tn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ro&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ro(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nd{constructor(e,t){this.position=e,this.inclusive=t}}function MD(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],u=n.position[r];if(i=o.field.isKeyField()?qt.comparator(qt.fromName(u.referenceValue),t.key):Vp(u,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function xx(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Rd(n.position[t],e.position[t]))return!1;return!0}class ag{constructor(e,t="asc"){this.field=e,this.dir=t}}function yP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class AD{}class Ni extends AD{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new bP(e,t,i):"array-contains"===t?new Dx(e,i):"in"===t?new t0(e,i):"not-in"===t?new RD(e,i):"array-contains-any"===t?new Mx(e,i):new Ni(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new wP(e,i):new CP(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Vp(t,this.value)):null!==t&&Cf(this.value)===Cf(t)&&this.matchesComparison(Vp(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ln()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class pr extends AD{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new pr(e,t)}matches(e){return cg(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function cg(n){return"and"===n.op}function Ex(n){return"or"===n.op}function Ix(n){return Tx(n)&&cg(n)}function Tx(n){for(const e of n.filters)if(e instanceof pr)return!1;return!0}function e0(n){if(n instanceof Ni)return n.field.canonicalString()+n.op.toString()+Bp(n.value);if(Ix(n))return n.filters.map(e=>e0(e)).join(",");{const e=n.filters.map(t=>e0(t)).join(",");return`${n.op}(${e})`}}function kD(n,e){return n instanceof Ni?(t=n,(i=e)instanceof Ni&&t.op===i.op&&t.field.isEqual(i.field)&&Rd(t.value,i.value)):n instanceof pr?function(t,i){return i instanceof pr&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,o,u)=>r&&kD(o,i.filters[u]),!0)}(n,e):void ln();var t,i}function OD(n,e){const t=n.filters.concat(e);return pr.create(t,n.op)}function Sx(n){return n instanceof Ni?`${(e=n).field.canonicalString()} ${e.op} ${Bp(e.value)}`:n instanceof pr?function(e){return e.op.toString()+" {"+e.getFilters().map(Sx).join(" ,")+"}"}(n):"Filter";var e}class bP extends Ni{constructor(e,t,i){super(e,t,i),this.key=qt.fromName(i.referenceValue)}matches(e){const t=qt.comparator(e.key,this.key);return this.matchesComparison(t)}}class wP extends Ni{constructor(e,t){super(e,"in",t),this.keys=PD(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class CP extends Ni{constructor(e,t){super(e,"not-in",t),this.keys=PD(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function PD(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>qt.fromName(i.referenceValue))}class Dx extends Ni{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return og(t)&&xv(t.arrayValue,this.value)}}class t0 extends Ni{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xv(this.value.arrayValue,t)}}class RD extends Ni{constructor(e,t){super(e,"not-in",t)}matches(e){if(xv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xv(this.value.arrayValue,t)}}class Mx extends Ni{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!og(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>xv(this.value.arrayValue,i))}}class xP{constructor(e,t=null,i=[],r=[],o=null,u=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=m,this.dt=null}}function Ax(n,e=null,t=[],i=[],r=null,o=null,u=null){return new xP(n,e,t,i,r,o,u)}function Ah(n){const e=Gt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>e0(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Gb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Bp(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Bp(i)).join(",")),e.dt=t}return e.dt}function Ev(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!yP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!kD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!xx(n.startAt,e.startAt)&&xx(n.endAt,e.endAt)}function Iv(n){return qt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Fd(n,e){return n.filters.filter(t=>t instanceof Ni&&t.field.isEqual(e))}function kx(n,e,t){let i=Qb,r=!0;for(const o of Fd(n,e)){let u=Qb,m=!0;switch(o.op){case"<":case"<=":u=bx(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,m=!1;break;case"!=":case"not-in":u=Qb}wx({value:i,inclusive:r},{value:u,inclusive:m})<0&&(i=u,r=m)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];wx({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function ND(n,e,t){let i=du,r=!0;for(const o of Fd(n,e)){let u=du,m=!0;switch(o.op){case">=":case">":u=vP(o.value),m=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,m=!1;break;case"!=":case"not-in":u=du}Cx({value:i,inclusive:r},{value:u,inclusive:m})>0&&(i=u,r=m)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];Cx({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class xf{constructor(e,t=null,i=[],r=[],o=null,u="F",m=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=m,this.endAt=v,this.wt=null,this._t=null}}function n0(n,e,t,i,r,o,u,m){return new xf(n,e,t,i,r,o,u,m)}function Ef(n){return new xf(n)}function FD(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function r0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Tv(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Ox(n){return null!==n.collectionGroup}function If(n){const e=Gt(n);if(null===e.wt){e.wt=[];const t=Tv(e),i=r0(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new ag(t)),e.wt.push(new ag($o.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ag($o.keyField(),o))}}}return e.wt}function Ea(n){const e=Gt(n);if(!e._t)if("F"===e.limitType)e._t=Ax(e.path,e.collectionGroup,If(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of If(e))t.push(new ag(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new Nd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Nd(e.startAt.position,e.startAt.inclusive):null;e._t=Ax(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function o0(n,e){e.getFirstInequalityField(),Tv(n);const t=n.filters.concat([e]);return new xf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Sv(n,e,t){return new xf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function lg(n,e){return Ev(Ea(n),Ea(e))&&n.limitType===e.limitType}function Px(n){return`${Ah(Ea(n))}|lt:${n.limitType}`}function Rx(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>Sx(i)).join(", ")}]`),Gb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Bp(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Bp(i)).join(",")),`Target(${t})`}(Ea(n))}; limitType=${n.limitType})`}function Dv(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):qt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of If(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,u){const m=MD(r,o,u);return r.inclusive?m<=0:m<0}(t.startAt,If(t),i)||t.endAt&&!function(r,o,u){const m=MD(r,o,u);return r.inclusive?m>=0:m>0}(t.endAt,If(t),i)));var t,i}function LD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function UD(n){return(e,t)=>{let i=!1;for(const r of If(n)){const o=VD(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function VD(n,e,t){const i=n.field.isKeyField()?qt.comparator(e.key,t.key):function(r,o,u){const m=o.data.field(r),v=u.data.field(r);return null!==m&&null!==v?Vp(m,v):ln()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ln()}}class Tf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){uu(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return rg(this.inner)}size(){return this.innerSize}}const BD=new zr(qt.comparator);function Xc(){return BD}const jD=new zr(qt.comparator);function s0(...n){let e=jD;for(const t of n)e=e.insert(t.key,t);return e}function zD(n){let e=jD;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ld(){return ug()}function Nx(){return ug()}function ug(){return new Tf(n=>n.toString(),(n,e)=>n.isEqual(e))}const HD=new zr(qt.comparator),EP=new Hr(qt.comparator);function li(...n){let e=EP;for(const t of n)e=e.add(t);return e}const IP=new Hr(Kn);function Fx(){return IP}function $D(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ng(e)?"-0":e}}function qD(n){return{integerValue:""+n}}function GD(n,e){return px(e)?qD(e):$D(n,e)}class Sf{constructor(){this._=void 0}}function WD(n,e,t){return n instanceof jp?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&wv(r)&&(r=Up(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof Df?Ux(n,e):n instanceof zp?TP(n,e):function(i,r){const o=Lx(i,r),u=Vx(o)+Vx(i.gt);return vx(o)&&vx(i.gt)?qD(u):$D(i.serializer,u)}(n,e)}function ZD(n,e,t){return n instanceof Df?Ux(n,e):n instanceof zp?TP(n,e):t}function Lx(n,e){return n instanceof Mv?vx(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class jp extends Sf{}class Df extends Sf{constructor(e){super(),this.elements=e}}function Ux(n,e){const t=Bx(e);for(const i of n.elements)t.some(r=>Rd(r,i))||t.push(i);return{arrayValue:{values:t}}}class zp extends Sf{constructor(e){super(),this.elements=e}}function TP(n,e){let t=Bx(e);for(const i of n.elements)t=t.filter(r=>!Rd(r,i));return{arrayValue:{values:t}}}class Mv extends Sf{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Vx(n){return rs(n.integerValue||n.doubleValue)}function Bx(n){return og(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class dg{constructor(e,t){this.field=e,this.transform=t}}class DP{constructor(e,t){this.version=e,this.transformResults=t}}class Dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function a0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Hp{}function KD(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new pg(n.key,Dr.none()):new fg(n.key,n.data,Dr.none());{const t=n.data,i=xa.empty();let r=new Hr($o.comparator);for(let o of e.fields)if(!r.has(o)){let u=t.field(o);null===u&&o.length>1&&(o=o.popLast(),u=t.field(o)),null===u?i.delete(o):i.set(o,u),r=r.add(o)}return new kh(n.key,i,new Jc(r.toArray()),Dr.none())}}function iU(n,e,t){n instanceof fg?function(i,r,o){const u=i.value.clone(),m=kv(i.fieldTransforms,r,o.transformResults);u.setAll(m),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):n instanceof kh?function(i,r,o){if(!a0(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=kv(i.fieldTransforms,r,o.transformResults),m=r.data;m.setAll(YD(i)),m.setAll(u),r.convertToFoundDocument(o.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Av(n,e,t,i){return n instanceof fg?function(r,o,u,m){if(!a0(r.precondition,o))return u;const v=r.value.clone(),x=jx(r.fieldTransforms,m,o);return v.setAll(x),o.convertToFoundDocument(o.version,v).setHasLocalMutations(),null}(n,e,t,i):n instanceof kh?function(r,o,u,m){if(!a0(r.precondition,o))return u;const v=jx(r.fieldTransforms,m,o),x=o.data;return x.setAll(YD(r)),x.setAll(v),o.convertToFoundDocument(o.version,x).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(A=>A.field))}(n,e,t,i):(u=t,a0(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function rU(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=Lx(i.transform,r||null);null!=o&&(null===t&&(t=xa.empty()),t.set(i.field,o))}return t||null}function hg(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Rp(t,i,(r,o)=>function SP(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Df&&i instanceof Df||t instanceof zp&&i instanceof zp?Rp(t.elements,i.elements,Rd):t instanceof Mv&&i instanceof Mv?Rd(t.gt,i.gt):t instanceof jp&&i instanceof jp);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class fg extends Hp{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class kh extends Hp{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function YD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function kv(n,e,t){const i=new Map;wn(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],u=o.transform,m=e.data.field(o.field);i.set(o.field,ZD(u,m,t[r]))}return i}function jx(n,e,t){const i=new Map;for(const r of n){const o=r.transform,u=t.data.field(r.field);i.set(r.field,WD(o,u,e))}return i}class pg extends Hp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c0 extends Hp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mg{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&iU(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Av(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Av(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Nx();return this.mutations.forEach(r=>{const o=e.get(r.key),u=o.overlayedDocument;let m=this.applyToLocalView(u,o.mutatedFields);m=t.has(r.key)?null:m;const v=KD(u,m);null!==v&&i.set(r.key,v),u.isValidDocument()||u.convertToNoDocument(Tn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),li())}isEqual(e){return this.batchId===e.batchId&&Rp(this.mutations,e.mutations,(t,i)=>hg(t,i))&&Rp(this.baseMutations,e.baseMutations,(t,i)=>hg(t,i))}}class zx{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){wn(e.mutations.length===i.length);let r=HD;const o=e.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new zx(e,t,i,r)}}class Hx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class MP{constructor(e,t){this.count=e,this.unchangedNames=t}}var _s,Bi;function Ov(n){switch(n){default:return ln();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0}}function JD(n){if(void 0===n)return io("GRPC error has no .code"),tt.UNKNOWN;switch(n){case _s.OK:return tt.OK;case _s.CANCELLED:return tt.CANCELLED;case _s.UNKNOWN:return tt.UNKNOWN;case _s.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case _s.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case _s.INTERNAL:return tt.INTERNAL;case _s.UNAVAILABLE:return tt.UNAVAILABLE;case _s.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case _s.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case _s.NOT_FOUND:return tt.NOT_FOUND;case _s.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case _s.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case _s.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case _s.ABORTED:return tt.ABORTED;case _s.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case _s.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case _s.DATA_LOSS:return tt.DATA_LOSS;default:return ln()}}(Bi=_s||(_s={}))[Bi.OK=0]="OK",Bi[Bi.CANCELLED=1]="CANCELLED",Bi[Bi.UNKNOWN=2]="UNKNOWN",Bi[Bi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bi[Bi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bi[Bi.NOT_FOUND=5]="NOT_FOUND",Bi[Bi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bi[Bi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bi[Bi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bi[Bi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bi[Bi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bi[Bi.ABORTED=10]="ABORTED",Bi[Bi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bi[Bi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bi[Bi.INTERNAL=13]="INTERNAL",Bi[Bi.UNAVAILABLE=14]="UNAVAILABLE",Bi[Bi.DATA_LOSS=15]="DATA_LOSS";class $x{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Pv}static getOrCreateInstance(){return null===Pv&&(Pv=new $x),Pv}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Pv=null;function qx(){return new TextEncoder}const Gx=new $a([4294967295,4294967295],0);function Wx(n){const e=qx().encode(n),t=new Hu;return t.update(e),new Uint8Array(t.digest())}function XD(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new $a([t,i],0),new $a([r,o],0)]}class l0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new gg(`Invalid padding: ${t}`);if(i<0)throw new gg(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new gg(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new gg(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=$a.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply($a.fromNumber(i)));return 1===r.compare(Gx)&&(r=new $a([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Wx(e),[i,r]=XD(t);for(let o=0;o<this.hashCount;o++){const u=this.Et(i,r,o);if(!this.At(u))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new l0(o,r,t);return i.forEach(m=>u.insert(m)),u}insert(e){if(0===this.It)return;const t=Wx(e),[i,r]=XD(t);for(let o=0;o<this.hashCount;o++){const u=this.Et(i,r,o);this.Rt(u)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class gg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rv{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Nv.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Rv(Tn.min(),r,new zr(Kn),Xc(),li())}}class Nv{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Nv(i,t,li(),li(),li())}}class _g{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class u0{constructor(e,t){this.targetId=e,this.Vt=t}}class Zx{constructor(e,t,i=Ps.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class d0{constructor(){this.St=0,this.Dt=tM(),this.Ct=Ps.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=li(),t=li(),i=li();return this.Dt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ln()}}),new Nv(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=tM()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Kx{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Xc(),this.zt=eM(),this.Wt=new zr(Kn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:ln()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,o=this.se(i);if(o){const u=o.target;if(Iv(u))if(0===r){const m=new qt(u.path);this.Yt(i,m,ro.newNoDocument(m,Tn.min()))}else wn(1===r);else{const m=this.ie(i);if(m!==r){const v=this.re(e,m);0!==v&&(this.ee(i),this.Wt=this.Wt.insert(i,2===v?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=$x.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(x,A,L){var q,ne,ae,ye,We,wt;const kt={localCacheCount:A,existenceFilterCount:L.count},At=L.unchangedNames;return At&&(kt.bloomFilter={applied:0===x,hashCount:null!==(q=At?.hashCount)&&void 0!==q?q:0,bitmapLength:null!==(ye=null===(ae=null===(ne=At?.bits)||void 0===ne?void 0:ne.bitmap)||void 0===ae?void 0:ae.length)&&void 0!==ye?ye:0,padding:null!==(wt=null===(We=At?.bits)||void 0===We?void 0:We.padding)&&void 0!==wt?wt:0}),kt}(v,m,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:u=0},hashCount:m=0}=i;let v,x;try{v=wf(o).toUint8Array()}catch(A){if(A instanceof gx)return cu("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw A}try{x=new l0(v,u,m)}catch(A){return cu(A instanceof gg?"BloomFilter error: ":"Applying bloom filter failed: ",A),1}return 0===x.It?1:r!==t-this.oe(e.targetId,x)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const u=this.Gt.ue(),m=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.vt(m)||(this.Yt(e,o,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((o,u)=>{const m=this.se(u);if(m){if(o.current&&Iv(m.target)){const v=new qt(m.target.path);null!==this.jt.get(v)||this.ae(u,v)||this.Yt(u,v,ro.newNoDocument(v,e))}o.Mt&&(t.set(u,o.Ot()),o.Ft())}});let i=li();this.zt.forEach((o,u)=>{let m=!0;u.forEachWhile(v=>{const x=this.se(v);return!x||"TargetPurposeLimboResolution"===x.purpose||(m=!1,!1)}),m&&(i=i.add(o))}),this.jt.forEach((o,u)=>u.setReadTime(e));const r=new Rv(e,t,this.Wt,this.jt,i);return this.jt=Xc(),this.zt=eM(),this.Wt=new zr(Kn),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new d0,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Hr(Kn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Tt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new d0),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function eM(){return new zr(qt.comparator)}function tM(){return new zr(qt.comparator)}const AP={asc:"ASCENDING",desc:"DESCENDING"},kP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nM={and:"AND",or:"OR"};class Yx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function h0(n,e){return n.useProto3Json||Gb(e)?e:{value:e}}function $p(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function iM(n,e){return $p(n,e.toTimestamp())}function os(n){return wn(!!n),Tn.fromTimestamp(function(e){const t=Lp(e);return new ho(t.seconds,t.nanos)}(n))}function f0(n,e){return(t=n,new $i(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Jx(n){const e=$i.fromString(n);return wn(Lv(e)),e}function Fv(n,e){return f0(n.databaseId,e.path)}function qu(n,e){const t=Jx(e);if(t.get(1)!==n.databaseId.projectId)throw new vt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new vt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qt(rM(t))}function p0(n,e){return f0(n.databaseId,e)}function qa(n){const e=Jx(n);return 4===e.length?$i.emptyPath():rM(e)}function Ud(n){return new $i(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rM(n){return wn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function oM(n,e,t){return{name:Fv(n,e),fields:t.value.mapValue.fields}}function OP(n,e,t){const i=qu(n,e.name),r=os(e.updateTime),o=e.createTime?os(e.createTime):Tn.min(),u=new xa({mapValue:{fields:e.fields}}),m=ro.newFoundDocument(i,r,o,u);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function qp(n,e){let t;if(e instanceof fg)t={update:oM(n,e.key,e.value)};else if(e instanceof pg)t={delete:Fv(n,e.key)};else if(e instanceof kh)t={update:oM(n,e.key,e.data),updateMask:FP(e.fieldMask)};else{if(!(e instanceof c0))return ln();t={verify:Fv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof jp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Df)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof zp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Mv)return{fieldPath:o.field.canonicalString(),increment:u.gt};throw ln()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:iM(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ln()),t;var r}function aM(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Dr.updateTime(os(r.updateTime)):void 0!==r.exists?Dr.exists(r.exists):Dr.none():Dr.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,u){let m=null;"setToServerValue"in u?(wn("REQUEST_TIME"===u.setToServerValue),m=new jp):"appendMissingElements"in u?m=new Df(u.appendMissingElements.values||[]):"removeAllFromArray"in u?m=new zp(u.removeAllFromArray.values||[]):"increment"in u?m=new Mv(o,u.increment):ln();const v=$o.fromServerFormat(u.fieldPath);return new dg(v,m)}(n,r)):[];var r;if(e.update){const r=qu(n,e.update.name),o=new xa({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Jc((e.updateMask.fieldPaths||[]).map(x=>$o.fromServerFormat(x)));return new kh(r,o,u,t,i)}return new fg(r,o,t,i)}if(e.delete){const r=qu(n,e.delete);return new pg(r,t)}if(e.verify){const r=qu(n,e.verify);return new c0(r,t)}return ln()}function PP(n,e){return{documents:[p0(n,e.path)]}}function Gp(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=p0(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=p0(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(v){if(0!==v.length)return eE(pr.create(v,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(v){if(0!==v.length)return v.map(x=>{return{field:Mf((A=x).field),direction:uM(A.dir)};var A})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const u=h0(n,e.limit);var m,v;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function cM(n){let e=qa(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){wn(1===i);const A=t.from[0];A.allDescendants?r=A.collectionId:e=e.child(A.collectionId)}let o=[];t.where&&(o=function(A){const L=lM(A);return L instanceof pr&&Ix(L)?L.getFilters():[L]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(A=>{return new ag(Af((L=A).field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction));var L}));let m=null;t.limit&&(m=function(A){let L;return L="object"==typeof A?A.value:A,Gb(L)?null:L}(t.limit));let v=null;var A;t.startAt&&(v=new Nd((A=t.startAt).values||[],!!A.before));let x=null;return t.endAt&&(x=function(A){return new Nd(A.values||[],!A.before)}(t.endAt)),n0(e,r,u,o,m,"F",v,x)}function lM(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Af(e.unaryFilter.field);return Ni.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Af(e.unaryFilter.field);return Ni.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Af(e.unaryFilter.field);return Ni.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Af(e.unaryFilter.field);return Ni.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ln()}}(n):void 0!==n.fieldFilter?Ni.create(Af((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ln()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return pr.create(e.compositeFilter.filters.map(t=>lM(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ln()}}(e.compositeFilter.op))}(n):ln();var e}function uM(n){return AP[n]}function RP(n){return kP[n]}function NP(n){return nM[n]}function Mf(n){return{fieldPath:n.canonicalString()}}function Af(n){return $o.fromServerFormat(n.fieldPath)}function eE(n){return n instanceof Ni?function(e){if("=="===e.op){if(yx(e.value))return{unaryFilter:{field:Mf(e.field),op:"IS_NAN"}};if(TD(e.value))return{unaryFilter:{field:Mf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(yx(e.value))return{unaryFilter:{field:Mf(e.field),op:"IS_NOT_NAN"}};if(TD(e.value))return{unaryFilter:{field:Mf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mf(e.field),op:RP(e.op),value:e.value}}}(n):n instanceof pr?function(e){const t=e.getFilters().map(i=>eE(i));return 1===t.length?t[0]:{compositeFilter:{op:NP(e.op),filters:t}}}(n):ln()}function FP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Lv(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Gu{constructor(e,t,i,r,o=Tn.min(),u=Tn.min(),m=Ps.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=v}withSequenceNumber(e){return new Gu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class LP{constructor(e){this.fe=e}}function hM(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Uv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Fv(r=n.fe,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:$p(r,o.version.toTimestamp()),createTime:$p(r,o.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:hu(e.version)};else{if(!e.isUnknownDocument())return ln();i.unknownDocument={path:t.path.toArray(),version:hu(e.version)}}var r,o;return i}function Uv(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function hu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Wp(n){const e=new ho(n.seconds,n.nanoseconds);return Tn.fromTimestamp(e)}function kf(n,e){const t=(e.baseMutations||[]).map(o=>aM(n.fe,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>aM(n.fe,o)),r=ho.fromMillis(e.localWriteTimeMs);return new mg(e.batchId,r,t,i)}function Zp(n){const e=Wp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Wp(n.lastLimboFreeSnapshotVersion):Tn.min();let i;var r;return void 0!==n.query.documents?(wn(1===(r=n.query).documents.length),i=Ea(Ef(qa(r.documents[0])))):i=Ea(cM(n.query)),new Gu(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ps.fromBase64String(n.resumeToken))}function UP(n,e){const t=hu(e.snapshotVersion),i=hu(e.lastLimboFreeSnapshotVersion);let r;r=Iv(e.target)?PP(n.fe,e.target):Gp(n.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ah(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function tE(n){const e=cM({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Sv(e,e.limit,"L"):e}function fM(n,e){return new Hx(e.largestBatchId,aM(n.fe,e.overlayMutation))}function pM(n,e){const t=e.path.lastSegment();return[n,_c(e.path.popLast()),t]}function mM(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:hu(i.readTime),documentKey:_c(i.documentKey.path),largestBatchId:i.largestBatchId}}class VP{getBundleMetadata(e,t){return nE(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Wp(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return nE(e).put({bundleId:(i=t).id,createTime:hu(os(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return iE(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:tE(r.bundledQuery),readTime:Wp(r.readTime)};var r})}saveNamedQuery(e,t){return iE(e).put({name:(i=t).name,readTime:hu(os(i.readTime)),bundledQuery:i.bundledQuery});var i}}function nE(n){return Os(n,"bundles")}function iE(n){return Os(n,"namedQueries")}class m0{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new m0(e,t.uid||"")}getOverlay(e,t){return vg(e).get(pM(this.userId,t)).next(i=>i?fM(this.serializer,i):null)}getOverlays(e,t){const i=Ld();return Ke.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,u)=>{const m=new Hx(t,u);r.push(this.we(e,m))}),Ke.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(_c(u.getCollectionPath())));const o=[];return r.forEach(u=>{const m=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(vg(e).J("collectionPathOverlayIndex",m))}),Ke.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Ld(),o=_c(t),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return vg(e).j("collectionPathOverlayIndex",u).next(m=>{for(const v of m){const x=fM(this.serializer,v);r.set(x.getKey(),x)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Ld();let u;const m=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return vg(e).X({index:"collectionGroupOverlayIndex",range:m},(v,x,A)=>{const L=fM(this.serializer,x);o.size()<r||L.largestBatchId===u?(o.set(L.getKey(),L),u=L.largestBatchId):A.done()}).next(()=>o)}we(e,t){return vg(e).put(function(i,r,o){const[u,m,v]=pM(r,o.mutation.key);return{userId:r,collectionPath:m,documentId:v,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:qp(i.fe,o.mutation)}}(this.serializer,this.userId,t))}}function vg(n){return Os(n,"documentOverlays")}class Of{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(rs(e.integerValue));else if("doubleValue"in e){const i=rs(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),ng(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(wf(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?SD(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ln()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),qt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function BP(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function gM(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const o=BP(255&t[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}Of.Ve=new Of;class _M{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=gM(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=gM(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class jP{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class vM{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class yg{constructor(){this.je=new _M,this.ze=new jP(this.je),this.We=new vM(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Pf{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Pf(this.indexId,this.documentKey,this.arrayValue,i)}}function Oh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=yM(n.arrayValue,e.arrayValue),0!==t?t:(t=yM(n.directionalValue,e.directionalValue),0!==t?t:qt.comparator(n.documentKey,e.documentKey)))}function yM(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class zP{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){wn(e.collectionGroup===this.collectionId);const t=lx(e);if(void 0!==t&&!this.en(t))return!1;const i=Np(e);let r=new Set,o=0,u=0;for(;o<i.length&&this.en(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const m=i[o];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[u++],m))return!1}++o}for(;o<i.length;++o)if(u>=this.Ye.length||!this.sn(this.Ye[u++],i[o]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function HP(n){var e,t;if(wn(n instanceof Ni||n instanceof pr),n instanceof Ni){if(n instanceof t0){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>Ni.create(n.field,"==",o)))||[];return pr.create(r,"or")}return n}const i=n.filters.map(r=>HP(r));return pr.create(i,n.op)}function bM(n){if(0===n.getFilters().length)return[];const e=xM(HP(n));return wn($P(e)),wM(e)||CM(e)?[e]:e.getFilters()}function wM(n){return n instanceof Ni}function CM(n){return n instanceof pr&&Ix(n)}function $P(n){return wM(n)||CM(n)||function(e){if(e instanceof pr&&Ex(e)){for(const t of e.getFilters())if(!wM(t)&&!CM(t))return!1;return!0}return!1}(n)}function xM(n){if(wn(n instanceof Ni||n instanceof pr),n instanceof Ni)return n;if(1===n.filters.length)return xM(n.filters[0]);const e=n.filters.map(i=>xM(i));let t=pr.create(e,n.op);return t=rE(t),$P(t)?t:(wn(t instanceof pr),wn(cg(t)),wn(t.filters.length>1),t.filters.reduce((i,r)=>EM(i,r)))}function EM(n,e){let t;return wn(n instanceof Ni||n instanceof pr),wn(e instanceof Ni||e instanceof pr),t=n instanceof Ni?e instanceof Ni?pr.create([n,e],"and"):qP(n,e):e instanceof Ni?qP(e,n):function(i,r){if(wn(i.filters.length>0&&r.filters.length>0),cg(i)&&cg(r))return OD(i,r.getFilters());const o=Ex(i)?i:r,u=Ex(i)?r:i,m=o.filters.map(v=>EM(v,u));return pr.create(m,"or")}(n,e),rE(t)}function qP(n,e){if(cg(e))return OD(e,n.getFilters());{const t=e.filters.map(i=>EM(n,i));return pr.create(t,"or")}}function rE(n){if(wn(n instanceof Ni||n instanceof pr),n instanceof Ni)return n;const e=n.getFilters();if(1===e.length)return rE(e[0]);if(Tx(n))return n;const t=e.map(r=>rE(r)),i=[];return t.forEach(r=>{r instanceof Ni?i.push(r):r instanceof pr&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:pr.create(i,n.op)}class aU{constructor(){this.rn=new IM}addToCollectionParentIndex(e,t){return this.rn.add(t),Ke.resolve()}getCollectionParents(e,t){return Ke.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ke.resolve()}deleteFieldIndex(e,t){return Ke.resolve()}getDocumentsMatchingTarget(e,t){return Ke.resolve(null)}getIndexType(e,t){return Ke.resolve(0)}getFieldIndexes(e,t){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,t){return Ke.resolve(Dl.min())}getMinOffsetFromCollectionGroup(e,t){return Ke.resolve(Dl.min())}updateCollectionGroup(e,t,i){return Ke.resolve()}updateIndexEntries(e,t){return Ke.resolve()}}class IM{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Hr($i.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Hr($i.comparator)).toArray()}}const Vv=new Uint8Array(0);class oE{constructor(e,t){this.user=e,this.databaseId=t,this.on=new IM,this.un=new Tf(i=>Ah(i),(i,r)=>Ev(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const o={collectionId:i,parent:_c(r)};return sE(e).put(o)}return Ke.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[cx(t),""],!1,!0);return sE(e).j(r).next(o=>{for(const u of o){if(u.collectionId!==t)break;i.push(Pd(u.parent))}return i})}addFieldIndex(e,t){const i=Kp(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var u;delete r.indexId;const o=i.add(r);if(t.indexState){const u=jv(e);return o.next(m=>{u.put(mM(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=Kp(e),r=jv(e),o=Bv(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Bv(e);let r=!0;const o=new Map;return Ke.forEach(this.cn(t),u=>this.an(e,u).next(m=>{r&&(r=!!m),o.set(u,m)})).next(()=>{if(r){let u=li();const m=[];return Ke.forEach(o,(v,x)=>{var A;Tt("IndexedDbIndexManager",`Using index ${A=v,`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(At=>`${At.fieldPath}:${At.kind}`).join(",")}`} to execute ${Ah(t)}`);const L=function(At,Lt){const An=lx(Lt);if(void 0===An)return null;for(const Rn of Fd(At,An.fieldPath))switch(Rn.op){case"array-contains-any":return Rn.value.arrayValue.values||[];case"array-contains":return[Rn.value]}return null}(x,v),q=function(At,Lt){const An=new Map;for(const Rn of Np(Lt))for(const ji of Fd(At,Rn.fieldPath))switch(ji.op){case"==":case"in":An.set(Rn.fieldPath.canonicalString(),ji.value);break;case"not-in":case"!=":return An.set(Rn.fieldPath.canonicalString(),ji.value),Array.from(An.values())}return null}(x,v),ne=function(At,Lt){const An=[];let Rn=!0;for(const ji of Np(Lt)){const Zo=0===ji.kind?kx(At,ji.fieldPath,At.startAt):ND(At,ji.fieldPath,At.startAt);An.push(Zo.value),Rn&&(Rn=Zo.inclusive)}return new Nd(An,Rn)}(x,v),ae=function(At,Lt){const An=[];let Rn=!0;for(const ji of Np(Lt)){const Zo=0===ji.kind?ND(At,ji.fieldPath,At.endAt):kx(At,ji.fieldPath,At.endAt);An.push(Zo.value),Rn&&(Rn=Zo.inclusive)}return new Nd(An,Rn)}(x,v),ye=this.hn(v,x,ne),We=this.hn(v,x,ae),wt=this.ln(v,x,q),kt=this.fn(v.indexId,L,ye,ne.inclusive,We,ae.inclusive,wt);return Ke.forEach(kt,At=>i.H(At,t.limit).next(Lt=>{Lt.forEach(An=>{const Rn=qt.fromSegments(An.documentKey);u.has(Rn)||(u=u.add(Rn),m.push(Rn))})}))}).next(()=>m)}return Ke.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:bM(pr.create(e.filters,"and")).map(i=>Ax(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,o,u,m){const v=(null!=t?t.length:1)*Math.max(i.length,o.length),x=v/(null!=t?t.length:1),A=[];for(let L=0;L<v;++L){const q=t?this.dn(t[L/x]):Vv,ne=this.wn(e,q,i[L%x],r),ae=this._n(e,q,o[L%x],u),ye=m.map(We=>this.wn(e,q,We,!0));A.push(...this.createRange(ne,ae,ye))}return A}wn(e,t,i,r){const o=new Pf(e,qt.empty(),t,i);return r?o:o.Je()}_n(e,t,i,r){const o=new Pf(e,qt.empty(),t,i);return r?o.Je():o}an(e,t){const i=new zP(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let u=null;for(const m of o)i.tn(m)&&(!u||m.fields.length>u.fields.length)&&(u=m);return u})}getIndexType(e,t){let i=2;const r=this.cn(t);return Ke.forEach(r,o=>this.an(e,o).next(u=>{u?0!==i&&u.fields.length<function(m){let v=new Hr($o.comparator),x=!1;for(const A of m.filters)for(const L of A.getFlattenedFilters())L.field.isKeyField()||("array-contains"===L.op||"array-contains-any"===L.op?x=!0:v=v.add(L.field));for(const A of m.orderBy)A.field.isKeyField()||(v=v.add(A.field));return v.size+(x?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new yg;for(const r of Np(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const u=i.He(r.kind);Of.Ve._e(o,u)}return i.Qe()}dn(e){const t=new yg;return Of.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new yg;return Of.Ve._e($u(this.databaseId,t),i.He(function(r){const o=Np(r);return 0===o.length?0:o[o.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new yg);let o=0;for(const u of Np(e)){const m=i[o++];for(const v of r)if(this.yn(t,u.fieldPath)&&og(m))r=this.pn(r,u,m);else{const x=v.He(u.kind);Of.Ve._e(m,x)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],o=[];for(const u of i.arrayValue.values||[])for(const m of r){const v=new yg;v.seed(m.Qe()),Of.Ve._e(u,v.He(t.kind)),o.push(v)}return o}yn(e,t){return!!e.filters.find(i=>i instanceof Ni&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Kp(e),r=jv(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(o=>{const u=[];return Ke.forEach(o,m=>r.get([m.indexId,this.uid]).next(v=>{u.push(function(x,A){const L=A?new _v(A.sequenceNumber,new Dl(Wp(A.readTime),new qt(Pd(A.documentKey)),A.largestBatchId)):_v.empty(),q=x.fields.map(([ne,ae])=>new $b($o.fromServerFormat(ne),ae));return new Hb(x.indexId,x.collectionGroup,q,L)}(m,v))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Kn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Kp(e),o=jv(e);return this.Tn(e).next(u=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>Ke.forEach(m,v=>o.put(mM(v.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return Ke.forEach(t,(r,o)=>{const u=i.get(r.collectionGroup);return(u?Ke.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(m=>(i.set(r.collectionGroup,m),Ke.forEach(m,v=>this.En(e,r,v).next(x=>{const A=this.An(o,v);return x.isEqual(A)?Ke.resolve():this.vn(e,o,v,x,A)}))))})}Rn(e,t,i,r){return Bv(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return Bv(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=Bv(e);let o=new Hr(Oh);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(u,m)=>{o=o.add(new Pf(i.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>o)}An(e,t){let i=new Hr(Oh);const r=this.mn(t,e);if(null==r)return i;const o=lx(t);if(null!=o){const u=e.data.field(o.fieldPath);if(og(u))for(const m of u.arrayValue.values||[])i=i.add(new Pf(t.indexId,e.key,this.dn(m),r))}else i=i.add(new Pf(t.indexId,e.key,Vv,r));return i}vn(e,t,i,r,o){Tt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(m,v,x,A,L){const q=m.getIterator(),ne=v.getIterator();let ae=Fp(q),ye=Fp(ne);for(;ae||ye;){let We=!1,wt=!1;if(ae&&ye){const kt=x(ae,ye);kt<0?wt=!0:kt>0&&(We=!0)}else null!=ae?wt=!0:We=!0;We?(A(ye),ye=Fp(ne)):wt?(L(ae),ae=Fp(q)):(ae=Fp(q),ye=Fp(ne))}}(r,o,Oh,m=>{u.push(this.Rn(e,t,i,m))},m=>{u.push(this.Pn(e,t,i,m))}),Ke.waitFor(u)}Tn(e){let t=1;return jv(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,m)=>Oh(u,m)).filter((u,m,v)=>!m||0!==Oh(u,v[m-1]));const r=[];r.push(e);for(const u of i){const m=Oh(u,e),v=Oh(u,t);if(0===m)r[0]=e.Je();else if(m>0&&v<0)r.push(u),r.push(u.Je());else if(v>0)break}r.push(t);const o=[];for(let u=0;u<r.length;u+=2){if(this.bn(r[u],r[u+1]))return[];o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,Vv,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,Vv,[]]))}return o}bn(e,t){return Oh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(GP)}getMinOffset(e,t){return Ke.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||ln())).next(GP)}}function sE(n){return Os(n,"collectionParents")}function Bv(n){return Os(n,"indexEntries")}function Kp(n){return Os(n,"indexConfiguration")}function jv(n){return Os(n,"indexState")}function GP(n){wn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;ux(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Dl(e.readTime,e.documentKey,t)}const WP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ga{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Ga(e,Ga.DEFAULT_COLLECTION_PERCENTILE,Ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function aE(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(t.batchId);let m=0;const v=i.X({range:u},(A,L,q)=>(m++,q.delete()));o.push(v.next(()=>{wn(1===m)}));const x=[];for(const A of t.mutations){const L=pD(e,A.key.path,t.batchId);o.push(r.delete(L)),x.push(A.key)}return Ke.waitFor(o).next(()=>x)}function g0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ln();e=n.noDocument}return JSON.stringify(e).length}Ga.DEFAULT_COLLECTION_PERCENTILE=10,Ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ga.DEFAULT=new Ga(41943040,Ga.DEFAULT_COLLECTION_PERCENTILE,Ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ga.DISABLED=new Ga(-1,0,0);class _0{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){wn(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new _0(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yp(e).X({index:"userMutationsIndex",range:i},(r,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=bg(e),u=Yp(e);return u.add({}).next(m=>{wn("number"==typeof m);const v=new mg(m,t,i,r),x=function(q,ne,ae){const ye=ae.baseMutations.map(wt=>qp(q.fe,wt)),We=ae.mutations.map(wt=>qp(q.fe,wt));return{userId:ne,batchId:ae.batchId,localWriteTimeMs:ae.localWriteTime.toMillis(),baseMutations:ye,mutations:We}}(this.serializer,this.userId,v),A=[];let L=new Hr((q,ne)=>Kn(q.canonicalString(),ne.canonicalString()));for(const q of r){const ne=pD(this.userId,q.key.path,m);L=L.add(q.key.path.popLast()),A.push(u.put(x)),A.push(o.put(ne,Wb))}return L.forEach(q=>{A.push(this.indexManager.addToCollectionParentIndex(e,q))}),e.addOnCommittedListener(()=>{this.Vn[m]=v.keys()}),Ke.waitFor(A).next(()=>v)})}lookupMutationBatch(e,t){return Yp(e).get(t).next(i=>i?(wn(i.userId===this.userId),kf(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?Ke.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Yp(e).X({index:"userMutationsIndex",range:r},(u,m,v)=>{m.userId===this.userId&&(wn(m.batchId>=i),o=kf(this.serializer,m)),v.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Yp(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yp(e).j("userMutationsIndex",t).next(i=>i.map(r=>kf(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Dh(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return bg(e).X({range:r},(u,m,v)=>{const[x,A,L]=u,q=Pd(A);if(x===this.userId&&t.path.isEqual(q))return Yp(e).get(L).next(ne=>{if(!ne)throw ln();wn(ne.userId===this.userId),o.push(kf(this.serializer,ne))});v.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Hr(Kn);const r=[];return t.forEach(o=>{const u=Dh(this.userId,o.path),m=IDBKeyRange.lowerBound(u),v=bg(e).X({range:m},(x,A,L)=>{const[q,ne,ae]=x,ye=Pd(ne);q===this.userId&&o.path.isEqual(ye)?i=i.add(ae):L.done()});r.push(v)}),Ke.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=Dh(this.userId,i),u=IDBKeyRange.lowerBound(o);let m=new Hr(Kn);return bg(e).X({range:u},(v,x,A)=>{const[L,q,ne]=v,ae=Pd(q);L===this.userId&&i.isPrefixOf(ae)?ae.length===r&&(m=m.add(ne)):A.done()}).next(()=>this.Dn(e,m))}Dn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(Yp(e).get(o).next(u=>{if(null===u)throw ln();wn(u.userId===this.userId),i.push(kf(this.serializer,u))}))}),Ke.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return aE(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Ke.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ke.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return bg(e).X({range:i},(o,u,m)=>{if(o[0]===this.userId){const v=Pd(o[1]);r.push(v)}else m.done()}).next(()=>{wn(0===r.length)})})}containsKey(e,t){return TM(e,this.userId,t)}xn(e){return wg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function TM(n,e,t){const i=Dh(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return bg(n).X({range:o,Y:!0},(m,v,x)=>{const[A,L,q]=m;A===e&&L===r&&(u=!0),x.done()}).next(()=>u)}function Yp(n){return Os(n,"mutations")}function bg(n){return Os(n,"documentMutations")}function wg(n){return Os(n,"mutationQueues")}class Vd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Vd(0)}static Mn(){return new Vd(-1)}}class ZP{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new Vd(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Tn.fromTimestamp(new ho(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Cg(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(wn(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return Cg(e).X((u,m)=>{const v=Zp(m);v.sequenceNumber<=t&&null===i.get(v.targetId)&&(r++,o.push(this.removeTargetData(e,v)))}).next(()=>Ke.waitFor(o)).next(()=>r)}forEachTarget(e,t){return Cg(e).X((i,r)=>{const o=Zp(r);t(o)})}$n(e){return SM(e).get("targetGlobalKey").next(t=>(wn(null!==t),t))}On(e,t){return SM(e).put("targetGlobalKey",t)}Fn(e,t){return Cg(e).put(UP(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Ah(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Cg(e).X({range:r,index:"queryTargetsIndex"},(u,m,v)=>{const x=Zp(m);Ev(t,x.target)&&(o=x,v.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=Rf(e);return t.forEach(u=>{const m=_c(u.path);r.push(o.put({targetId:i,path:m})),r.push(this.referenceDelegate.addReference(e,i,u))}),Ke.waitFor(r)}removeMatchingKeys(e,t,i){const r=Rf(e);return Ke.forEach(t,o=>{const u=_c(o.path);return Ke.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=Rf(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Rf(e);let o=li();return r.X({range:i,Y:!0},(u,m,v)=>{const x=Pd(u[1]),A=new qt(x);o=o.add(A)}).next(()=>o)}containsKey(e,t){const i=_c(t.path),r=IDBKeyRange.bound([i],[cx(i)],!1,!0);let o=0;return Rf(e).X({index:"documentTargetsIndex",Y:!0,range:r},([u,m],v,x)=>{0!==u&&(o++,x.done())}).next(()=>o>0)}le(e,t){return Cg(e).get(t).next(i=>i?Zp(i):null)}}function Cg(n){return Os(n,"targets")}function SM(n){return Os(n,"targetGlobal")}function Rf(n){return Os(n,"targetDocuments")}function DM([n,e],[t,i]){const r=Kn(n,t);return 0===r?Kn(e,i):r}class KP{constructor(e){this.Ln=e,this.buffer=new Hr(DM),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();DM(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class v0{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Tt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,dt.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Od(i)?Tt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Sh(i)}yield t.Qn(3e5)}))}}class YP{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Ke.resolve(gc.ct);const i=new KP(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(WP)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WP):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,o,u,m,v,x;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(L=>(L>this.params.maximumSequenceNumbersToCollect?(Tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),r=this.params.maximumSequenceNumbersToCollect):r=L,u=Date.now(),this.nthSequenceNumber(e,r))).next(L=>(i=L,m=Date.now(),this.removeTargets(e,i,t))).next(L=>(o=L,v=Date.now(),this.removeOrphanedDocuments(e,i))).next(L=>(x=Date.now(),rx()<=Ru.in.DEBUG&&Tt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-A}ms\n\tDetermined least recently used ${r} in `+(m-u)+`ms\n\tRemoved ${o} targets in `+(v-m)+`ms\n\tRemoved ${L} documents in `+(x-v)+`ms\nTotal Duration: ${x-A}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:L})))}}class QP{constructor(e,t){this.db=e,this.garbageCollector=function MM(n,e){return new YP(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return y0(e,i)}removeReference(e,t,i){return y0(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return y0(e,t)}Xn(e,t){return function(i,r){let o=!1;return wg(i).Z(u=>TM(i,u,r).next(m=>(m&&(o=!0),Ke.resolve(!m)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(e,(u,m)=>{if(m<=t){const v=this.Xn(e,u).next(x=>{if(!x)return o++,i.getEntry(e,u).next(()=>(i.removeEntry(u,Tn.min()),Rf(e).delete([0,_c(u.path)])))});r.push(v)}}).next(()=>Ke.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return y0(e,t)}Yn(e,t){const i=Rf(e);let r,o=gc.ct;return i.X({index:"documentTargetsIndex"},([u,m],{path:v,sequenceNumber:x})=>{0===u?(o!==gc.ct&&t(new qt(Pd(r)),o),o=x,r=v):o=gc.ct}).next(()=>{o!==gc.ct&&t(new qt(Pd(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function y0(n,e){return Rf(n).put((i=n.currentSequenceNumber,{targetId:0,path:_c(e.path),sequenceNumber:i}));var i}class AM{constructor(){this.changes=new Tf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ro.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Ke.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class JP{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Nf(e).put(i)}removeEntry(e,t,i){return Nf(e).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Uv(o),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=ro.newInvalidDocument(t);return Nf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Qp(t))},(r,o)=>{i=this.ts(t,o)}).next(()=>i)}es(e,t){let i={size:0,document:ro.newInvalidDocument(t)};return Nf(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Qp(t))},(r,o)=>{i={document:this.ts(t,o),size:g0(o)}}).next(()=>i)}getEntries(e,t){let i=Xc();return this.ns(e,t,(r,o)=>{const u=this.ts(r,o);i=i.insert(r,u)}).next(()=>i)}ss(e,t){let i=Xc(),r=new zr(qt.comparator);return this.ns(e,t,(o,u)=>{const m=this.ts(o,u);i=i.insert(o,m),r=r.insert(o,g0(u))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return Ke.resolve();let r=new Hr(RM);t.forEach(v=>r=r.add(v));const o=IDBKeyRange.bound(Qp(r.first()),Qp(r.last())),u=r.getIterator();let m=u.getNext();return Nf(e).X({index:"documentKeyIndex",range:o},(v,x,A)=>{const L=qt.fromSegments([...x.prefixPath,x.collectionGroup,x.documentId]);for(;m&&RM(m,L)<0;)i(m,null),m=u.getNext();m&&m.isEqual(L)&&(i(m,x),m=u.hasNext()?u.getNext():null),m?A.G(Qp(m)):A.done()}).next(()=>{for(;m;)i(m,null),m=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const o=t.path,u=[o.popLast().toArray(),o.lastSegment(),Uv(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],m=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Nf(e).j(IDBKeyRange.bound(u,m,!0)).next(v=>{let x=Xc();for(const A of v){const L=this.ts(qt.fromSegments(A.prefixPath.concat(A.collectionGroup,A.documentId)),A);L.isFoundDocument()&&(Dv(t,L)||r.has(L.key))&&(x=x.insert(L.key,L))}return x})}getAllFromCollectionGroup(e,t,i,r){let o=Xc();const u=PM(t,i),m=PM(t,Dl.max());return Nf(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,m,!0)},(v,x,A)=>{const L=this.ts(qt.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);o=o.insert(L.key,L),o.size===r&&A.done()}).next(()=>o)}newChangeBuffer(e){return new XP(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return OM(e).get("remoteDocumentGlobalKey").next(t=>(wn(!!t),t))}Zn(e,t){return OM(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function dM(n,e){let t;if(e.document)t=OP(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=qt.fromSegments(e.noDocument.path),r=Wp(e.noDocument.readTime);t=ro.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ln();{const i=qt.fromSegments(e.unknownDocument.path),r=Wp(e.unknownDocument.version);t=ro.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new ho(i[0],i[1]);return Tn.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Tn.min()))return i}return ro.newInvalidDocument(e)}}function kM(n){return new JP(n)}class XP extends AM{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Tf(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Hr((o,u)=>Kn(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const m=this.us.get(o);if(t.push(this.os.removeEntry(e,o,m.readTime)),u.isValidDocument()){const v=hM(this.os.serializer,u);r=r.add(o.path.popLast());const x=g0(v);i+=x-m.size,t.push(this.os.addEntry(e,o,v))}else if(i-=m.size,this.trackRemovals){const v=hM(this.os.serializer,u.convertToNoDocument(Tn.min()));t.push(this.os.addEntry(e,o,v))}}),r.forEach(o=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.os.updateMetadata(e,i)),Ke.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((o,u)=>{this.us.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function OM(n){return Os(n,"remoteDocumentGlobal")}function Nf(n){return Os(n,"remoteDocumentsV14")}function Qp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function PM(n,e){const t=e.documentKey.path.toArray();return[n,Uv(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function RM(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=Kn(t[o],i[o]),r)return r;return r=Kn(t.length,i.length),r||(r=Kn(t[t.length-2],i[i.length-2]),r||Kn(t[t.length-1],i[i.length-1]))}class NM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class cE{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Av(i.mutation,r,Jc.empty(),ho.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,li()).next(()=>i))}getLocalViewOfDocuments(e,t,i=li()){const r=Ld();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let u=s0();return o.forEach((m,v)=>{u=u.insert(m,v.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Ld();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,li()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((u,m)=>{t.set(u,m)})})}computeViews(e,t,i,r){let o=Xc();const u=ug(),m=ug();return t.forEach((v,x)=>{const A=i.get(x.key);r.has(x.key)&&(void 0===A||A.mutation instanceof kh)?o=o.insert(x.key,x):void 0!==A?(u.set(x.key,A.mutation.getFieldMask()),Av(A.mutation,x,A.mutation.getFieldMask(),ho.now())):u.set(x.key,Jc.empty())}),this.recalculateAndSaveOverlays(e,o).next(v=>(v.forEach((x,A)=>u.set(x,A)),t.forEach((x,A)=>{var L;return m.set(x,new NM(A,null!==(L=u.get(x))&&void 0!==L?L:null))}),m))}recalculateAndSaveOverlays(e,t){const i=ug();let r=new zr((u,m)=>u-m),o=li();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const m of u)m.keys().forEach(v=>{const x=t.get(v);if(null===x)return;let A=i.get(v)||Jc.empty();A=m.applyToLocalView(x,A),i.set(v,A);const L=(r.get(m.batchId)||li()).add(v);r=r.insert(m.batchId,L)})}).next(()=>{const u=[],m=r.getReverseIterator();for(;m.hasNext();){const v=m.getNext(),x=v.key,A=v.value,L=Nx();A.forEach(q=>{if(!o.has(q)){const ne=KD(t.get(q),i.get(q));null!==ne&&L.set(q,ne),o=o.add(q)}}),u.push(this.documentOverlayCache.saveOverlays(e,x,L))}return Ke.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return qt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ox(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):Ke.resolve(Ld());let m=-1,v=o;return u.next(x=>Ke.forEach(x,(A,L)=>(m<L.largestBatchId&&(m=L.largestBatchId),o.get(A)?Ke.resolve():this.remoteDocumentCache.getEntry(e,A).next(q=>{v=v.insert(A,q)}))).next(()=>this.populateOverlays(e,x,o)).next(()=>this.computeViews(e,v,x,li())).next(A=>({batchId:m,changes:zD(A)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qt(t)).next(i=>{let r=s0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=s0();return this.indexManager.getCollectionParents(e,r).next(u=>Ke.forEach(u,m=>{const v=(x=t,A=m.child(r),new xf(A,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt));var x,A;return this.getDocumentsMatchingCollectionQuery(e,v,i).next(x=>{x.forEach((A,L)=>{o=o.insert(A,L)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(o=>{r.forEach((m,v)=>{const x=v.getKey();null===o.get(x)&&(o=o.insert(x,ro.newInvalidDocument(x)))});let u=s0();return o.forEach((m,v)=>{const x=r.get(m);void 0!==x&&Av(x.mutation,v,Jc.empty(),ho.now()),Dv(t,v)&&(u=u.insert(m,v))}),u})}}class cU{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ke.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:os(i.createTime)}),Ke.resolve()}getNamedQuery(e,t){return Ke.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:tE(i.bundledQuery),readTime:os(i.readTime)}),Ke.resolve();var i}}class el{constructor(){this.overlays=new zr(qt.comparator),this.ls=new Map}getOverlay(e,t){return Ke.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ld();return Ke.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.we(e,t,o)}),Ke.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),Ke.resolve()}getOverlaysForCollection(e,t,i){const r=Ld(),o=t.length+1,u=new qt(t.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const v=m.getNext().value,x=v.getKey();if(!t.isPrefixOf(x.path))break;x.path.length===o&&v.largestBatchId>i&&r.set(v.getKey(),v)}return Ke.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new zr((x,A)=>x-A);const u=this.overlays.getIterator();for(;u.hasNext();){const x=u.getNext().value;if(x.getKey().getCollectionGroup()===t&&x.largestBatchId>i){let A=o.get(x.largestBatchId);null===A&&(A=Ld(),o=o.insert(x.largestBatchId,A)),A.set(x.getKey(),x)}}const m=Ld(),v=o.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((x,A)=>m.set(x,A)),!(m.size()>=r)););return Ke.resolve(m)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Hx(t,i));let o=this.ls.get(t);void 0===o&&(o=li(),this.ls.set(t,o)),this.ls.set(t,o.add(i.key))}}class b0{constructor(){this.fs=new Hr(Rs.ds),this.ws=new Hr(Rs._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Rs(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Rs(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new qt(new $i([])),i=new Rs(t,e),r=new Rs(t,e+1),o=[];return this.ws.forEachInRange([i,r],u=>{this.ys(u),o.push(u.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new qt(new $i([])),i=new Rs(t,e),r=new Rs(t,e+1);let o=li();return this.ws.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Rs(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Rs{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return qt.comparator(e.key,t.key)||Kn(e.As,t.As)}static _s(e,t){return Kn(e.As,t.As)||qt.comparator(e.key,t.key)}}class eR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Hr(Rs.ds)}checkEmpty(e){return Ke.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.vs;this.vs++;const u=new mg(o,t,i,r);this.mutationQueue.push(u);for(const m of r)this.Rs=this.Rs.add(new Rs(m.key,o)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Ke.resolve(u)}lookupMutationBatch(e,t){return Ke.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),o=r<0?0:r;return Ke.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Rs(t,0),r=new Rs(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],u=>{const m=this.Ps(u.As);o.push(m)}),Ke.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Hr(Kn);return t.forEach(r=>{const o=new Rs(r,0),u=new Rs(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,u],m=>{i=i.add(m.As)})}),Ke.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;qt.isDocumentKey(o)||(o=o.child(""));const u=new Rs(new qt(o),0);let m=new Hr(Kn);return this.Rs.forEachWhile(v=>{const x=v.key.path;return!!i.isPrefixOf(x)&&(x.length===r&&(m=m.add(v.As)),!0)},u),Ke.resolve(this.Vs(m))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){wn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return Ke.forEach(t.mutations,r=>{const o=new Rs(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Rs(t,0),r=this.Rs.firstAfterOrEqual(i);return Ke.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Ke.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class FM{constructor(e){this.Ds=e,this.docs=new zr(qt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,u=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ke.resolve(i?i.document.mutableCopy():ro.newInvalidDocument(t))}getEntries(e,t){let i=Xc();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():ro.newInvalidDocument(r))}),Ke.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Xc();const u=t.path,m=new qt(u.child("")),v=this.docs.getIteratorFrom(m);for(;v.hasNext();){const{key:x,value:{document:A}}=v.getNext();if(!u.isPrefixOf(x.path))break;x.path.length>u.length+1||ux(cD(A),i)<=0||(r.has(A.key)||Dv(t,A))&&(o=o.insert(A.key,A.mutableCopy()))}return Ke.resolve(o)}getAllFromCollectionGroup(e,t,i,r){ln()}Cs(e,t){return Ke.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new tR(this)}getSize(e){return Ke.resolve(this.size)}}class tR extends AM{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),Ke.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class lE{constructor(e){this.persistence=e,this.xs=new Tf(t=>Ah(t),Ev),this.lastRemoteSnapshotVersion=Tn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new b0,this.targetCount=0,this.Ms=Vd.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),Ke.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Vd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ke.resolve()}updateTargetData(e,t){return this.Fn(t),Ke.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.xs.forEach((u,m)=>{m.sequenceNumber<=t&&null===i.get(m.targetId)&&(this.xs.delete(u),o.push(this.removeMatchingKeysForTargetId(e,m.targetId)),r++)}),Ke.waitFor(o).next(()=>r)}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return Ke.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),Ke.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(u=>{o.push(r.markPotentiallyOrphaned(e,u))}),Ke.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ke.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return Ke.resolve(i)}containsKey(e,t){return Ke.resolve(this.ks.containsKey(t))}}class Bd{constructor(e,t){this.$s={},this.overlays={},this.Os=new gc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new lE(this),this.indexManager=new aU,this.remoteDocumentCache=new FM(i=>this.referenceDelegate.Ls(i)),this.serializer=new LP(t),this.qs=new cU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new el,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new eR(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Tt("MemoryPersistence","Starting transaction:",e);const r=new LM(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(e,t){return Ke.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class LM extends hx{constructor(e){super(),this.currentSequenceNumber=e}}class xg{constructor(e){this.persistence=e,this.Qs=new b0,this.js=null}static zs(e){return new xg(e)}get Ws(){if(this.js)return this.js;throw ln()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),Ke.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),Ke.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ke.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.Ws,i=>{const r=qt.fromPath(i);return this.Hs(e,r).next(o=>{o||t.removeEntry(r,Tn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ke.or([()=>Ke.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class nR{constructor(e){this.serializer=e}O(e,t,i,r){const o=new vv("createOrUpgrade",t);var m;i<1&&r>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fD,{unique:!0}),m.createObjectStore("documentMutations"),iR(e),function(m){m.createObjectStore("remoteDocuments")}(e));let u=Ke.resolve();return i<3&&r>=3&&(0!==i&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),iR(e)),u=u.next(()=>function(m){const v=m.store("targetGlobal"),x={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tn.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",x)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(m,v){return v.store("mutations").j().next(x=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fD,{unique:!0});const A=v.store("mutations"),L=x.map(q=>A.put(q));return Ke.waitFor(L)})}(e,o))),u=u.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Ys(o))),i<6&&r>=6&&(u=u.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),i<7&&r>=7&&(u=u.next(()=>this.Zs(o))),i<8&&r>=8&&(u=u.next(()=>this.ti(e,o))),i<9&&r>=9&&(u=u.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.ei(o))),i<11&&r>=11&&(u=u.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(m){const v=m.createObjectStore("documentOverlays",{keyPath:fP});v.createIndex("collectionPathOverlayIndex",pP,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",yv,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(m){const v=m.createObjectStore("remoteDocumentsV14",{keyPath:Zb});v.createIndex("documentKeyIndex",Qc),v.createIndex("collectionGroupIndex",tU)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.si(e,o))),i<15&&r>=15&&(u=u.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:vD}).createIndex("sequenceNumberIndex",yD,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:bD}).createIndex("documentKeyIndex",hP,{unique:!1})}(e))),u}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=g0(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>Ke.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",u).next(m=>Ke.forEach(m,v=>{wn(v.userId===o.userId);const x=kf(this.serializer,v);return aE(e,o.userId,x).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((u,m)=>{const v=new $i(u),x=[0,_c(v)];o.push(t.get(x).next(A=>A?Ke.resolve():t.put({targetId:0,path:_c(v),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ke.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:_D});const i=t.store("collectionParents"),r=new IM,o=u=>{if(r.add(u)){const m=u.lastSegment(),v=u.popLast();return i.put({collectionId:m,parent:_c(v)})}};return t.store("remoteDocuments").X({Y:!0},(u,m)=>{const v=new $i(u);return o(v.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([u,m,v],x)=>{const A=Pd(m);return o(A.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const o=Zp(r),u=UP(this.serializer,o);return t.put(u)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((o,u)=>{const m=t.store("remoteDocumentsV14"),v=(x=u,x.document?new qt($i.fromString(x.document.name).popFirst(5)):x.noDocument?qt.fromSegments(x.noDocument.path):x.unknownDocument?qt.fromSegments(x.unknownDocument.path):ln()).path.toArray();var x;const A={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(m.put(A))}).next(()=>Ke.waitFor(r))}si(e,t){const i=t.store("mutations"),r=kM(this.serializer),o=new Bd(xg.zs,this.serializer.fe);return i.j().next(u=>{const m=new Map;return u.forEach(v=>{var x;let A=null!==(x=m.get(v.userId))&&void 0!==x?x:li();kf(this.serializer,v).keys().forEach(L=>A=A.add(L)),m.set(v.userId,A)}),Ke.forEach(m,(v,x)=>{const A=new ks(x),L=m0.de(this.serializer,A),q=o.getIndexManager(A),ne=_0.de(A,this.serializer,q,o.referenceDelegate);return new cE(r,ne,L,q).recalculateAndSaveOverlaysForDocumentKeys(new Kb(t,gc.ct),v).next()})})}}function iR(n){n.createObjectStore("targetDocuments",{keyPath:gD}).createIndex("documentTargetsIndex",dP,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",mD,{unique:!0}),n.createObjectStore("targetGlobal")}const w0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class uE{constructor(e,t,i,r,o,u,m,v,x,A,L=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=o,this.window=u,this.document=m,this.ri=x,this.oi=A,this.ui=L,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=q=>Promise.resolve(),!uE.D())throw new vt(tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new QP(this,r),this.di=t+"main",this.serializer=new LP(v),this.wi=new lu(this.di,this.ui,new nR(this.serializer)),this.Bs=new ZP(this.referenceDelegate,this.serializer),this.remoteDocumentCache=kM(this.serializer),this.qs=new VP,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===A&&io("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new vt(tt.FAILED_PRECONDITION,w0);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new gc(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,dt.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,dt.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,dt.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>C0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Od(e))return Tt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Tt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return zv(e).get("owner").next(t=>Ke.resolve(this.Ri(t)))}Pi(e){return C0(e).delete(this.clientId)}bi(){var e=this;return(0,dt.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Os(i,"clientMetadata");return r.j().next(o=>{const u=e.Si(o,18e5),m=o.filter(v=>-1===u.indexOf(v));return Ke.forEach(m,v=>r.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Ke.resolve(!0):zv(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new vt(tt.FAILED_PRECONDITION,w0);return!1}}return!(!this.networkEnabled||!this.inForeground)||C0(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Tt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,dt.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Kb(t,gc.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>C0(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return _0.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new oE(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return m0.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){Tt("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(u=this.ui)?xD:14===u?bv:13===u?CD:12===u?mP:11===u?wD:void ln();var u;let m;return this.wi.runTransaction(e,r,o,v=>(m=new Kb(v,this.Os?this.Os.next():gc.ct),"readwrite-primary"===t?this.Ti(m).next(x=>!!x||this.Ei(m)).next(x=>{if(!x)throw io(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new vt(tt.FAILED_PRECONDITION,dx);return i(m)}).next(x=>this.vi(m).next(()=>x)):this.Oi(m).next(()=>i(m)))).then(v=>(m.raiseOnCommittedEvent(),v))}Oi(e){return zv(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new vt(tt.FAILED_PRECONDITION,w0)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zv(e).put("owner",t)}static D(){return lu.D()}Ai(e){const t=zv(e);return t.get("owner").next(i=>this.Ri(i)?(Tt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ke.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(io(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,ie.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Tt("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return io("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){io("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function zv(n){return Os(n,"owner")}function C0(n){return Os(n,"clientMetadata")}function dE(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class x0{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=li(),r=li();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new x0(e,t.fromCache,i,r)}}class rR{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(o=>o||this.Gi(e,t,r,i)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(FD(t))return Ke.resolve(null);let i=Ea(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Sv(t,null,"F"),i=Ea(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const u=li(...o);return this.Ui.getDocuments(e,u).next(m=>this.indexManager.getMinOffset(e,i).next(v=>{const x=this.ji(t,m);return this.zi(t,x,u,v.readTime)?this.Ki(e,Sv(t,null,"F")):this.Wi(e,x,t,v)}))})))}Gi(e,t,i,r){return FD(t)||r.isEqual(Tn.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(o=>{const u=this.ji(t,o);return this.zi(t,u,i,r)?this.Qi(e,t):(rx()<=Ru.in.DEBUG&&Tt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Rx(t)),this.Wi(e,u,t,aD(r,-1)))})}ji(e,t){let i=new Hr(UD(e));return t.forEach((r,o)=>{Dv(e,o)&&(i=i.add(o))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(e,t){return rx()<=Ru.in.DEBUG&&Tt("QueryEngine","Using full collection scan to execute query:",Rx(t)),this.Ui.getDocumentsMatchingQuery(e,t,Dl.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}class UM{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new zr(Kn),this.Yi=new Tf(o=>Ah(o),Ev),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cE(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function VM(n,e,t,i){return new UM(n,e,t,i)}function hE(n,e){return BM.apply(this,arguments)}function BM(){return BM=(0,dt.Z)(function*(n,e){const t=Gt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],m=[];let v=li();for(const x of r){u.push(x.batchId);for(const A of x.mutations)v=v.add(A.key)}for(const x of o){m.push(x.batchId);for(const A of x.mutations)v=v.add(A.key)}return t.localDocuments.getDocuments(i,v).next(x=>({er:x,removedBatchIds:u,addedBatchIds:m}))})})}),BM.apply(this,arguments)}function pE(n){const e=Gt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function zM(n,e,t){let i=li(),r=li();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let u=Xc();return t.forEach((m,v)=>{const x=o.get(m);v.isFoundDocument()!==x.isFoundDocument()&&(r=r.add(m)),v.isNoDocument()&&v.version.isEqual(Tn.min())?(e.removeEntry(m,v.readTime),u=u.insert(m,v)):!x.isValidDocument()||v.version.compareTo(x.version)>0||0===v.version.compareTo(x.version)&&x.hasPendingWrites?(e.addEntry(v),u=u.insert(m,v)):Tt("LocalStore","Ignoring outdated watch update for ",m,". Current version:",x.version," Watch version:",v.version)}),{nr:u,sr:r}})}function HM(n,e){const t=Gt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Jp(n,e){const t=Gt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(o=>o?(r=o,Ke.resolve(r)):t.Bs.allocateTargetId(i).next(u=>(r=new Gu(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function Wu(n,e,t){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,dt.Z)(function*(n,e,t){const i=Gt(n),r=i.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Od(u))throw u;Tt("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),Ig.apply(this,arguments)}function Hv(n,e,t){const i=Gt(n);let r=Tn.min(),o=li();return i.persistence.runTransaction("Execute query","readonly",u=>function(m,v,x){const A=Gt(m),L=A.Yi.get(x);return void 0!==L?Ke.resolve(A.Ji.get(L)):A.Bs.getTargetData(v,x)}(i,u,Ea(e)).next(m=>{if(m)return r=m.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(u,m.targetId).next(v=>{o=v})}).next(()=>i.Hi.getDocumentsMatchingQuery(u,e,t?r:Tn.min(),t?o:li())).next(m=>(qM(i,LD(e),m),{documents:m,ir:o})))}function mE(n,e){const t=Gt(n),i=Gt(t.Bs),r=t.Ji.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i.le(o,e).next(u=>u?u.target:null))}function $M(n,e){const t=Gt(n),i=t.Xi.get(e)||Tn.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Zi.getAllFromCollectionGroup(r,e,aD(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(qM(t,e,r),r))}function qM(n,e,t){let i=n.Xi.get(e)||Tn.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(e,i)}function E0(){return E0=(0,dt.Z)(function*(n,e,t,i){const r=Gt(n);let o=li(),u=Xc();for(const x of t){const A=e.rr(x.metadata.name);x.document&&(o=o.add(A));const L=e.ur(x);L.setReadTime(e.cr(x.metadata.readTime)),u=u.insert(A,L)}const m=r.Zi.newChangeBuffer({trackRemovals:!0}),v=yield Jp(r,(x=i,Ea(Ef($i.fromString(`__bundle__/docs/${x}`)))));var x;return r.persistence.runTransaction("Apply bundle documents","readwrite",x=>zM(x,m,u).next(A=>(m.apply(x),A)).next(A=>r.Bs.removeMatchingKeysForTargetId(x,v.targetId).next(()=>r.Bs.addMatchingKeys(x,o,v.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(x,A.nr,A.sr)).next(()=>A.nr)))}),E0.apply(this,arguments)}function oR(n,e){return gE.apply(this,arguments)}function gE(){return gE=(0,dt.Z)(function*(n,e,t=li()){const i=yield Jp(n,Ea(tE(e.bundledQuery))),r=Gt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=os(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.qs.saveNamedQuery(o,e);const m=i.withResumeToken(Ps.EMPTY_BYTE_STRING,u);return r.Ji=r.Ji.insert(m.targetId,m),r.Bs.updateTargetData(o,m).next(()=>r.Bs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Bs.addMatchingKeys(o,t,i.targetId)).next(()=>r.qs.saveNamedQuery(o,e))})}),gE.apply(this,arguments)}function sR(n,e){return`firestore_clients_${n}_${e}`}function aR(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function GM(n,e){return`firestore_targets_${n}_${e}`}class $v{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static ar(e,t,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new vt(r.error.code,r.error.message))),u?new $v(e,t,r.state,o):(io("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qv{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new vt(i.error.code,i.error.message))),o?new qv(e,i.state,r):(io("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class I0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=Fx();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=px(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new I0(e,o):(io("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class _E{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new _E(t.clientId,t.onlineState):(io("SharedClientState",`Failed to parse online state: ${e}`),null)}}class WM{constructor(){this.activeTargetIds=Fx()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZM{constructor(e,t,i,r,o){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new zr(Kn),this.started=!1,this.yr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=sR(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new WM),this.Tr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,dt.Z)(function*(){const t=yield e.syncEngine.$i();for(const r of t){if(r===e.wr)continue;const o=e.getItem(sR(e.persistenceKey,r));if(o){const u=I0.ar(r,o);u&&(e.gr=e.gr.insert(u.clientId,u))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(GM(this.persistenceKey,e));if(i){const r=qv.ar(e,i);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(GM(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Tt("SharedClientState","READ",e,t),t}setItem(e,t){Tt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Tt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Tt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void io("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,dt.Z)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.Fr(r,null)}{const r=t.Br(i.key,i.newValue);if(r)return t.Fr(r.clientId,r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.Lr(i.key,i.newValue);if(r)return t.qr(r)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const r=t.Ur(i.key,i.newValue);if(r)return t.Kr(r)}}else if(i.key===t.vr){if(null!==i.newValue){const r=t.br(i.newValue);if(r)return t.Vr(r)}}else if(i.key===t.Ir){const r=function(o){let u=gc.ct;if(null!=o)try{const m=JSON.parse(o);wn("number"==typeof m),u=m}catch(m){io("SharedClientState","Failed to read sequence number from WebStorage",m)}return u}(i.newValue);r!==gc.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Gr(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Qr(o)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const r=new $v(this.currentUser,e,t,i),o=aR(this.persistenceKey,this.currentUser,e);this.setItem(o,r.hr())}Cr(e){const t=aR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const r=GM(this.persistenceKey,e),o=new qv(e,t,i);this.setItem(r,o.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return I0.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return $v.ar(new ks(void 0!==i[2]?i[2]:null),r,t)}Ur(e,t){const i=this.Ar.exec(e),r=Number(i[1]);return qv.ar(r,t)}br(e){return _E.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,dt.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Tt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),o=this.Sr(i),u=[],m=[];return o.forEach(v=>{r.has(v)||u.push(v)}),r.forEach(v=>{o.has(v)||m.push(v)}),this.syncEngine.Wr(u,m).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Fx();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class cR{constructor(){this.Hr=new WM,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new WM,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uU{Yr(e){}shutdown(){}}class lR{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let T0=null;function Tg(){return null===T0?T0=268435456+Math.round(2147483648*Math.random()):T0++,"0x"+T0.toString(16)}const uR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dR{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ia="WebChannelConnection";class Xp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,o){const u=Tg(),m=this.To(e,t);Tt("RestConnection",`Sending RPC '${e}' ${u}:`,m,i);const v={};return this.Eo(v,r,o),this.Ao(e,m,v,i).then(x=>(Tt("RestConnection",`Received RPC '${e}' ${u}: `,x),x),x=>{throw cu("RestConnection",`RPC '${e}' ${u} failed with error: `,x,"url: ",m,"request:",i),x})}vo(e,t,i,r,o,u){return this.Io(e,t,i,r,o)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}To(e,t){return`${this.mo}/v1/${t}:${uR[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const o=Tg();return new Promise((u,m)=>{const v=new kd;v.setWithCredentials(!0),v.listenOnce(tx.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case nD.NO_ERROR:const A=v.getResponseJson();Tt(Ia,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(A)),u(A);break;case nD.TIMEOUT:Tt(Ia,`RPC '${e}' ${o} timed out`),m(new vt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case nD.HTTP_ERROR:const L=v.getStatus();if(Tt(Ia,`RPC '${e}' ${o} failed with status:`,L,"response text:",v.getResponseText()),L>0){let q=v.getResponseJson();Array.isArray(q)&&(q=q[0]);const ne=q?.error;if(ne&&ne.status&&ne.message){const ae=function(ye){const We=ye.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(We)>=0?We:tt.UNKNOWN}(ne.status);m(new vt(ae,ne.message))}else m(new vt(tt.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new vt(tt.UNAVAILABLE,"Connection failed."));break;default:ln()}}finally{Tt(Ia,`RPC '${e}' ${o} completed.`)}});const x=JSON.stringify(r);Tt(Ia,`RPC '${e}' ${o} sending request:`,r),v.send(t,"POST",x,i,15)})}Ro(e,t,i){const r=Tg(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=nP(),m=tD(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;void 0!==x&&(v.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(v.xmlHttpFactory=new iP({})),this.Eo(v.initMessageHeaders,t,i),v.encodeInitMessageHeaders=!0;const A=o.join("");Tt(Ia,`Creating RPC '${e}' stream ${r}: ${A}`,v);const L=u.createWebChannel(A,v);let q=!1,ne=!1;const ae=new dR({ro:We=>{ne?Tt(Ia,`Not sending because RPC '${e}' stream ${r} is closed:`,We):(q||(Tt(Ia,`Opening RPC '${e}' stream ${r} transport.`),L.open(),q=!0),Tt(Ia,`RPC '${e}' stream ${r} sending:`,We),L.send(We))},oo:()=>L.close()}),ye=(We,wt,kt)=>{We.listen(wt,At=>{try{kt(At)}catch(Lt){setTimeout(()=>{throw Lt},0)}})};return ye(L,mv.EventType.OPEN,()=>{ne||Tt(Ia,`RPC '${e}' stream ${r} transport opened.`)}),ye(L,mv.EventType.CLOSE,()=>{ne||(ne=!0,Tt(Ia,`RPC '${e}' stream ${r} transport closed`),ae.wo())}),ye(L,mv.EventType.ERROR,We=>{ne||(ne=!0,cu(Ia,`RPC '${e}' stream ${r} transport errored:`,We),ae.wo(new vt(tt.UNAVAILABLE,"The operation could not be completed")))}),ye(L,mv.EventType.MESSAGE,We=>{var wt;if(!ne){const kt=We.data[0];wn(!!kt);const Lt=kt.error||(null===(wt=kt[0])||void 0===wt?void 0:wt.error);if(Lt){Tt(Ia,`RPC '${e}' stream ${r} received error:`,Lt);const An=Lt.status;let Rn=function(Zo){const rl=_s[Zo];if(void 0!==rl)return JD(rl)}(An),ji=Lt.message;void 0===Rn&&(Rn=tt.INTERNAL,ji="Unknown error status: "+An+" with message "+Lt.message),ne=!0,ae.wo(new vt(Rn,ji)),L.close()}else Tt(Ia,`RPC '${e}' stream ${r} received:`,kt),ae._o(kt)}}),ye(m,nx.STAT_EVENT,We=>{We.stat===zu.PROXY?Tt(Ia,`RPC '${e}' stream ${r} detected buffering proxy`):We.stat===zu.NOPROXY&&Tt(Ia,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{ae.fo()},0),ae}}function vE(){return typeof window<"u"?window:null}function Sg(){return typeof document<"u"?document:null}function em(n){return new Yx(n,!0)}class yE{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&Tt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class S0{constructor(e,t,i,r,o,u,m,v){this.ii=e,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new yE(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,dt.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,dt.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,dt.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===tt.RESOURCE_EXHAUSTED?(io(t.toString()),io("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===tt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new vt(tt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,dt.Z)(function*(){e.state=0,e.start()}))}tu(e){return Tt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bE extends S0{constructor(e,t,i,r,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function sM(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:ln(),r=e.targetChange.targetIds||[],o=function(v,x){return v.useProto3Json?(wn(void 0===x||"string"==typeof x),Ps.fromBase64String(x||"")):(wn(void 0===x||x instanceof Uint8Array),Ps.fromUint8Array(x||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&function(v){const x=void 0===v.code?tt.UNKNOWN:JD(v.code);return new vt(x,v.message||"")}(u);t=new Zx(i,r,o,m||null)}else if("documentChange"in e){const i=e.documentChange,r=qu(n,i.document.name),o=os(i.document.updateTime),u=i.document.createTime?os(i.document.createTime):Tn.min(),m=new xa({mapValue:{fields:i.document.fields}}),v=ro.newFoundDocument(r,o,u,m);t=new _g(i.targetIds||[],i.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const i=e.documentDelete,r=qu(n,i.document),o=i.readTime?os(i.readTime):Tn.min(),u=ro.newNoDocument(r,o);t=new _g([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=qu(n,i.document);t=new _g([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return ln();{const i=e.filter,{count:r=0,unchangedNames:o}=i,u=new MP(r,o);t=new u0(i.targetId,u)}}var v;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return Tn.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Tn.min():o.readTime?os(o.readTime):Tn.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Ud(this.serializer),t.addTarget=function(r,o){let u;const m=o.target;if(u=Iv(m)?{documents:PP(r,m)}:{query:Gp(r,m)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=Qx(r,o.resumeToken);const v=h0(r,o.expectedCount);null!==v&&(u.expectedCount=v)}else if(o.snapshotVersion.compareTo(Tn.min())>0){u.readTime=$p(r,o.snapshotVersion.toTimestamp());const v=h0(r,o.expectedCount);null!==v&&(u.expectedCount=v)}return u}(this.serializer,e);const i=function Xx(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ln()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Ud(this.serializer),t.removeTarget=e,this.Wo(t)}}class D0 extends S0{constructor(e,t,i,r,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(wn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function sU(n,e){return n&&n.length>0?(wn(void 0!==e),n.map(t=>function(i,r){let o=os(i.updateTime?i.updateTime:r);return o.isEqual(Tn.min())&&(o=os(r)),new DP(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=os(e.commitTime);return this.listener.cu(i,t)}return wn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ud(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>qp(this.serializer,i))};this.Wo(t)}}class dU extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new vt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new vt(tt.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.vo(e,t,i,o,u,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new vt(tt.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class YM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(io(t),this.mu=!1):Tt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class hR{constructor(e,t,i,r,o){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(m=>{i.enqueueAndForget((0,dt.Z)(function*(){var v;tm(u)&&(Tt("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,dt.Z)(function*(x){const A=Gt(x);A.vu.add(4),yield Dg(A),A.bu.set("Unknown"),A.vu.delete(4),yield Gv(A)}),function(x){return v.apply(this,arguments)})(u))}))}),this.bu=new YM(i,r)}}function Gv(n){return wE.apply(this,arguments)}function wE(){return wE=(0,dt.Z)(function*(n){if(tm(n))for(const e of n.Ru)yield e(!0)}),wE.apply(this,arguments)}function Dg(n){return M0.apply(this,arguments)}function M0(){return M0=(0,dt.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),M0.apply(this,arguments)}function Wv(n,e){const t=Gt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Zv(t)?A0(t):Yv(t).Ko()&&CE(t,e))}function Mg(n,e){const t=Gt(n),i=Yv(t);t.Au.delete(e),i.Ko()&&QM(t,e),0===t.Au.size&&(i.Ko()?i.jo():tm(t)&&t.bu.set("Unknown"))}function CE(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yv(n).su(e)}function QM(n,e){n.Vu.qt(e),Yv(n).iu(e)}function A0(n){n.Vu=new Kx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Yv(n).start(),n.bu.gu()}function Zv(n){return tm(n)&&!Yv(n).Uo()&&n.Au.size>0}function tm(n){return 0===Gt(n).vu.size}function xE(n){n.Vu=void 0}function EE(n){return IE.apply(this,arguments)}function IE(){return IE=(0,dt.Z)(function*(n){n.Au.forEach((e,t)=>{CE(n,e)})}),IE.apply(this,arguments)}function fR(n,e){return JM.apply(this,arguments)}function JM(){return JM=(0,dt.Z)(function*(n,e){xE(n),Zv(n)?(n.bu.Iu(e),A0(n)):n.bu.set("Unknown")}),JM.apply(this,arguments)}function fU(n,e,t){return TE.apply(this,arguments)}function TE(){return TE=(0,dt.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof Zx&&2===e.state&&e.cause)try{yield(i=(0,dt.Z)(function*(r,o){const u=o.cause;for(const m of o.targetIds)r.Au.has(m)&&(yield r.remoteSyncer.rejectListen(m,u),r.Au.delete(m),r.Vu.removeTarget(m))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){Tt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield k0(n,i)}else if(e instanceof _g?n.Vu.Ht(e):e instanceof u0?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Tn.min()))try{const i=yield pE(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const u=r.Vu.ce(o);return u.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const x=r.Au.get(v);x&&r.Au.set(v,x.withResumeToken(m.resumeToken,o))}}),u.targetMismatches.forEach((m,v)=>{const x=r.Au.get(m);if(!x)return;r.Au.set(m,x.withResumeToken(Ps.EMPTY_BYTE_STRING,x.snapshotVersion)),QM(r,m);const A=new Gu(x.target,m,v,x.sequenceNumber);CE(r,A)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Tt("RemoteStore","Failed to raise snapshot:",i),yield k0(n,i)}var i}),TE.apply(this,arguments)}function k0(n,e,t){return SE.apply(this,arguments)}function SE(){return SE=(0,dt.Z)(function*(n,e,t){if(!Od(e))throw e;n.vu.add(1),yield Dg(n),n.bu.set("Offline"),t||(t=()=>pE(n.localStore)),n.asyncQueue.enqueueRetryable((0,dt.Z)(function*(){Tt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Gv(n)}))}),SE.apply(this,arguments)}function XM(n,e){return e().catch(t=>k0(n,t,e))}function nm(n){return O0.apply(this,arguments)}function O0(){return O0=(0,dt.Z)(function*(n){const e=Gt(n),t=Ff(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;pR(e);)try{const r=yield HM(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,e1(e,r)}catch(r){yield k0(e,r)}DE(e)&&mR(e)}),O0.apply(this,arguments)}function pR(n){return tm(n)&&n.Eu.length<10}function e1(n,e){n.Eu.push(e);const t=Ff(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function DE(n){return tm(n)&&!Ff(n).Uo()&&n.Eu.length>0}function mR(n){Ff(n).start()}function gR(n){return Kv.apply(this,arguments)}function Kv(){return Kv=(0,dt.Z)(function*(n){Ff(n).hu()}),Kv.apply(this,arguments)}function t1(n){return P0.apply(this,arguments)}function P0(){return P0=(0,dt.Z)(function*(n){const e=Ff(n);for(const t of n.Eu)e.uu(t.mutations)}),P0.apply(this,arguments)}function _R(n,e,t){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,dt.Z)(function*(n,e,t){const i=n.Eu.shift(),r=zx.from(i,e,t);yield XM(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield nm(n)}),Ag.apply(this,arguments)}function vR(n,e){return ME.apply(this,arguments)}function ME(){return ME=(0,dt.Z)(function*(n,e){var t;e&&Ff(n).ou&&(yield(t=(0,dt.Z)(function*(i,r){if(Ov(o=r.code)&&o!==tt.ABORTED){const u=i.Eu.shift();Ff(i).Qo(),yield XM(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield nm(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),DE(n)&&mR(n)}),ME.apply(this,arguments)}function AE(n,e){return R0.apply(this,arguments)}function R0(){return R0=(0,dt.Z)(function*(n,e){const t=Gt(n);t.asyncQueue.verifyOperationInProgress(),Tt("RemoteStore","RemoteStore received new credentials");const i=tm(t);t.vu.add(3),yield Dg(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Gv(t)}),R0.apply(this,arguments)}function n1(n,e){return kE.apply(this,arguments)}function kE(){return kE=(0,dt.Z)(function*(n,e){const t=Gt(n);e?(t.vu.delete(2),yield Gv(t)):e||(t.vu.add(2),yield Dg(t),t.bu.set("Unknown"))}),kE.apply(this,arguments)}function Yv(n){return n.Su||(n.Su=function(e,t,i){const r=Gt(e);return r.fu(),new bE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:EE.bind(null,n),ao:fR.bind(null,n),nu:fU.bind(null,n)}),n.Ru.push(function(){var e=(0,dt.Z)(function*(t){t?(n.Su.Qo(),Zv(n)?A0(n):n.bu.set("Unknown")):(yield n.Su.stop(),xE(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Ff(n){return n.Du||(n.Du=function(e,t,i){const r=Gt(e);return r.fu(),new D0(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:gR.bind(null,n),ao:vR.bind(null,n),au:t1.bind(null,n),cu:_R.bind(null,n)}),n.Ru.push(function(){var e=(0,dt.Z)(function*(t){t?(n.Du.Qo(),yield nm(n)):(yield n.Du.stop(),n.Eu.length>0&&(Tt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class r1{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,o){const u=Date.now()+i,m=new r1(e,t,u,r,o);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vt(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qv(n,e){if(io("AsyncQueue",`${e}: ${n}`),Od(n))return new vt(tt.UNAVAILABLE,`${e}: ${n}`);throw n}class kg{constructor(e){this.comparator=e?(t,i)=>e(t,i)||qt.comparator(t.key,i.key):(t,i)=>qt.comparator(t.key,i.key),this.keyedMap=s0(),this.sortedSet=new zr(this.comparator)}static emptySet(e){return new kg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof kg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new kg;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class o1{constructor(){this.Cu=new zr(qt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ln():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Jv{constructor(e,t,i,r,o,u,m,v,x){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=v,this.hasCachedResults=x}static fromInitialDocuments(e,t,i,r,o){const u=[];return t.forEach(m=>{u.push({type:0,doc:m})}),new Jv(e,t,kg.emptySet(t),u,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class pU{constructor(){this.Nu=void 0,this.listeners=[]}}class mU{constructor(){this.queries=new Tf(e=>Px(e),lg),this.onlineState="Unknown",this.ku=new Set}}function s1(n,e){return a1.apply(this,arguments)}function a1(){return a1=(0,dt.Z)(function*(n,e){const t=Gt(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new pU),r)try{o.Nu=yield t.onListen(i)}catch(u){const m=Qv(u,`Initialization of query '${Rx(e.query)}' failed`);return void e.onError(m)}t.queries.set(i,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&l1(t)}),a1.apply(this,arguments)}function OE(n,e){return c1.apply(this,arguments)}function c1(){return c1=(0,dt.Z)(function*(n,e){const t=Gt(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const u=o.listeners.indexOf(e);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),c1.apply(this,arguments)}function gU(n,e){const t=Gt(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const m of u.listeners)m.$u(r)&&(i=!0);u.Nu=r}}i&&l1(t)}function _U(n,e,t){const i=Gt(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function l1(n){n.ku.forEach(e=>{e.next()})}class u1{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Jv(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Jv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class yR{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class bR{constructor(e){this.serializer=e}rr(e){return qu(this.serializer,e)}ur(e){return e.metadata.exists?OP(this.serializer,e.document,!1):ro.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return os(e)}}class s{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=c(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=$i.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new bR(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.rr(r.metadata.name);for(const u of r.metadata.queries){const m=(t.get(u)||li()).add(o);t.set(u,m)}}return t}complete(){var e=this;return(0,dt.Z)(function*(){const t=yield function lU(n,e,t,i){return E0.apply(this,arguments)}(e.localStore,new bR(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield oR(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function c(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class d{constructor(e){this.key=e}}class p{constructor(e){this.key=e}}class _{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=li(),this.mutatedKeys=li(),this.tc=UD(e),this.ec=new kg(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new o1,r=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,u=r,m=!1;const v="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,x="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((A,L)=>{const q=r.get(A),ne=Dv(this.query,L)?L:null,ae=!!q&&this.mutatedKeys.has(q.key),ye=!!ne&&(ne.hasLocalMutations||this.mutatedKeys.has(ne.key)&&ne.hasCommittedMutations);let We=!1;q&&ne?q.data.isEqual(ne.data)?ae!==ye&&(i.track({type:3,doc:ne}),We=!0):this.rc(q,ne)||(i.track({type:2,doc:ne}),We=!0,(v&&this.tc(ne,v)>0||x&&this.tc(ne,x)<0)&&(m=!0)):!q&&ne?(i.track({type:0,doc:ne}),We=!0):q&&!ne&&(i.track({type:1,doc:q}),We=!0,(v||x)&&(m=!0)),We&&(ne?(u=u.add(ne),o=ye?o.add(A):o.delete(A)):(u=u.delete(A),o=o.delete(A)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const A="F"===this.query.limitType?u.last():u.first();u=u.delete(A.key),o=o.delete(A.key),i.track({type:1,doc:A})}return{ec:u,ic:i,zi:m,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((x,A)=>function(L,q){const ne=ae=>{switch(ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ln()}};return ne(L)-ne(q)}(x.type,A.type)||this.tc(x.doc,A.doc)),this.oc(i);const u=t?this.uc():[],m=0===this.Zu.size&&this.current?1:0,v=m!==this.Xu;return this.Xu=m,0!==o.length||v?{snapshot:new Jv(this.query,e.ec,r,o,e.mutatedKeys,0===m,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new o1,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=li(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new p(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new d(i))}),t}hc(e){this.Yu=e.ir,this.Zu=li();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Jv.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class b{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class T{constructor(e){this.key=e,this.fc=!1}}class D{constructor(e,t,i,r,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new Tf(m=>Px(m),lg),this._c=new Map,this.mc=new Set,this.gc=new zr(qt.comparator),this.yc=new Map,this.Ic=new b0,this.Tc={},this.Ec=new Map,this.Ac=Vd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function P(n,e){return B.apply(this,arguments)}function B(){return B=(0,dt.Z)(function*(n,e){const t=PR(n);let i,r;const o=t.wc.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const u=yield Jp(t.localStore,Ea(e)),m=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield W(t,e,i,"current"===m,u.resumeToken),t.isPrimaryClient&&Wv(t.remoteStore,u)}return r}),B.apply(this,arguments)}function W(n,e,t,i,r){return se.apply(this,arguments)}function se(){return se=(0,dt.Z)(function*(n,e,t,i,r){n.Rc=(L,q,ne)=>{return(ae=(0,dt.Z)(function*(ye,We,wt,kt){let At=We.view.sc(wt);At.zi&&(At=yield Hv(ye.localStore,We.query,!1).then(({documents:Rn})=>We.view.sc(Rn,At)));const Lt=kt&&kt.targetChanges.get(We.targetId),An=We.view.applyChanges(At,ye.isPrimaryClient,Lt);return CR(ye,We.targetId,An.cc),An.snapshot}),function(ye,We,wt,kt){return ae.apply(this,arguments)})(n,L,q,ne);var ae};const o=yield Hv(n.localStore,e,!0),u=new _(e,o.ir),m=u.sc(o.documents),v=Nv.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),x=u.applyChanges(m,n.isPrimaryClient,v);CR(n,t,x.cc);const A=new b(e,t,u);return n.wc.set(e,A),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),x.snapshot}),se.apply(this,arguments)}function Ie(n,e){return Be.apply(this,arguments)}function Be(){return Be=(0,dt.Z)(function*(n,e){const t=Gt(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(o=>!lg(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Wu(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Mg(t.remoteStore,i.targetId),N0(t,i.targetId)}).catch(Sh))):(N0(t,i.targetId),yield Wu(t.localStore,i.targetId,!0))}),Be.apply(this,arguments)}function St(){return St=(0,dt.Z)(function*(n,e,t){const i=RR(n);try{const r=yield function(o,u){const m=Gt(o),v=ho.now(),x=u.reduce((q,ne)=>q.add(ne.key),li());let A,L;return m.persistence.runTransaction("Locally write mutations","readwrite",q=>{let ne=Xc(),ae=li();return m.Zi.getEntries(q,x).next(ye=>{ne=ye,ne.forEach((We,wt)=>{wt.isValidDocument()||(ae=ae.add(We))})}).next(()=>m.localDocuments.getOverlayedDocuments(q,ne)).next(ye=>{A=ye;const We=[];for(const wt of u){const kt=rU(wt,A.get(wt.key).overlayedDocument);null!=kt&&We.push(new kh(wt.key,kt,DD(kt.value.mapValue),Dr.exists(!0)))}return m.mutationQueue.addMutationBatch(q,v,We,u)}).next(ye=>{L=ye;const We=ye.applyToLocalDocumentSet(A,ae);return m.documentOverlayCache.saveOverlays(q,ye.batchId,We)})}).then(()=>({batchId:L.batchId,changes:zD(A)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,m){let v=o.Tc[o.currentUser.toKey()];v||(v=new zr(Kn)),v=v.insert(u,m),o.Tc[o.currentUser.toKey()]=v}(i,r.batchId,t),yield im(i,r.changes),yield nm(i.remoteStore)}catch(r){const o=Qv(r,"Failed to persist write");t.reject(o)}}),St.apply(this,arguments)}function Wt(n,e){return vn.apply(this,arguments)}function vn(){return vn=(0,dt.Z)(function*(n,e){const t=Gt(n);try{const i=yield function jM(n,e){const t=Gt(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const m=[];e.targetChanges.forEach((A,L)=>{const q=r.get(L);if(!q)return;m.push(t.Bs.removeMatchingKeys(o,A.removedDocuments,L).next(()=>t.Bs.addMatchingKeys(o,A.addedDocuments,L)));let ne=q.withSequenceNumber(o.currentSequenceNumber);var ae,ye,We;null!==e.targetMismatches.get(L)?ne=ne.withResumeToken(Ps.EMPTY_BYTE_STRING,Tn.min()).withLastLimboFreeSnapshotVersion(Tn.min()):A.resumeToken.approximateByteSize()>0&&(ne=ne.withResumeToken(A.resumeToken,i)),r=r.insert(L,ne),ye=ne,We=A,(0===(ae=q).resumeToken.approximateByteSize()||ye.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=3e8||We.addedDocuments.size+We.modifiedDocuments.size+We.removedDocuments.size>0)&&m.push(t.Bs.updateTargetData(o,ne))});let v=Xc(),x=li();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(o,A))}),m.push(zM(o,u,e.documentUpdates).next(A=>{v=A.nr,x=A.sr})),!i.isEqual(Tn.min())){const A=t.Bs.getLastRemoteSnapshotVersion(o).next(L=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));m.push(A)}return Ke.waitFor(m).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,v,x)).next(()=>v)}).then(o=>(t.Ji=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const u=t.yc.get(o);u&&(wn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.fc=!0:r.modifiedDocuments.size>0?wn(u.fc):r.removedDocuments.size>0&&(wn(u.fc),u.fc=!1))}),yield im(t,i,e)}catch(i){yield Sh(i)}}),vn.apply(this,arguments)}function yt(n,e,t){const i=Gt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((o,u)=>{const m=u.view.Mu(e);m.snapshot&&r.push(m.snapshot)}),function(o,u){const m=Gt(o);m.onlineState=u;let v=!1;m.queries.forEach((x,A)=>{for(const L of A.listeners)L.Mu(u)&&(v=!0)}),v&&l1(m)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Yn(n,e,t){return ui.apply(this,arguments)}function ui(){return ui=(0,dt.Z)(function*(n,e,t){const i=Gt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),o=r&&r.key;if(o){let u=new zr(qt.comparator);u=u.insert(o,ro.newNoDocument(o,Tn.min()));const m=li().add(o),v=new Rv(Tn.min(),new Map,new zr(Kn),u,m);yield Wt(i,v),i.gc=i.gc.remove(o),i.yc.delete(e),xR(i)}else yield Wu(i.localStore,e,!1).then(()=>N0(i,e,t)).catch(Sh)}),ui.apply(this,arguments)}function mr(n,e){return Wa.apply(this,arguments)}function Wa(){return Wa=(0,dt.Z)(function*(n,e){const t=Gt(n),i=e.batch.batchId;try{const r=yield function fE(n,e){const t=Gt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(u,m,v,x){const A=v.batch,L=A.keys();let q=Ke.resolve();return L.forEach(ne=>{q=q.next(()=>x.getEntry(m,ne)).next(ae=>{const ye=v.docVersions.get(ne);wn(null!==ye),ae.version.compareTo(ye)<0&&(A.applyToRemoteDocument(ae,v),ae.isValidDocument()&&(ae.setReadTime(v.commitVersion),x.addEntry(ae)))})}),q.next(()=>u.mutationQueue.removeMutationBatch(m,A))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let m=li();for(let v=0;v<u.mutationResults.length;++v)u.mutationResults[v].transformResults.length>0&&(m=m.add(u.batch.mutations[v].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);wR(t,i,null),NE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield im(t,r)}catch(r){yield Sh(r)}}),Wa.apply(this,arguments)}function Ph(n,e,t){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,dt.Z)(function*(n,e,t){const i=Gt(n);try{const r=yield function(o,u){const m=Gt(o);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let x;return m.mutationQueue.lookupMutationBatch(v,u).next(A=>(wn(null!==A),x=A.keys(),m.mutationQueue.removeMutationBatch(v,A))).next(()=>m.mutationQueue.performConsistencyCheck(v)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(v,x,u)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,x)).next(()=>m.localDocuments.getDocuments(v,x))})}(i.localStore,e);wR(i,e,t),NE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield im(i,r)}catch(r){yield Sh(r)}}),Lf.apply(this,arguments)}function RE(){return RE=(0,dt.Z)(function*(n,e){const t=Gt(n);tm(t.remoteStore)||Tt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=Gt(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>u.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Ec.get(i)||[];r.push(e),t.Ec.set(i,r)}catch(i){const r=Qv(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),RE.apply(this,arguments)}function NE(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function wR(n,e,t){const i=Gt(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function N0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||vU(n,i)})}function vU(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Mg(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),xR(n))}function CR(n,e,t){for(const i of t)i instanceof d?(n.Ic.addReference(i.key,e),b5(n,i)):i instanceof p?(Tt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||vU(n,i.key)):ln()}function b5(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Tt("SyncEngine","New document in limbo: "+t),n.mc.add(i),xR(n))}function xR(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new qt($i.fromString(e)),i=n.Ac.next();n.yc.set(i,new T(t)),n.gc=n.gc.insert(t,i),Wv(n.remoteStore,new Gu(Ea(Ef(t.path)),i,"TargetPurposeLimboResolution",gc.ct))}}function im(n,e,t){return ER.apply(this,arguments)}function ER(){return ER=(0,dt.Z)(function*(n,e,t){const i=Gt(n),r=[],o=[],u=[];var m;i.wc.isEmpty()||(i.wc.forEach((m,v)=>{u.push(i.Rc(v,e,t).then(x=>{if((x||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(v.targetId,x?.fromCache?"not-current":"current"),x){r.push(x);const A=x0.Li(v.targetId,x);o.push(A)}}))}),yield Promise.all(u),i.dc.nu(r),yield(m=(0,dt.Z)(function*(v,x){const A=Gt(v);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",L=>Ke.forEach(x,q=>Ke.forEach(q.Fi,ne=>A.persistence.referenceDelegate.addReference(L,q.targetId,ne)).next(()=>Ke.forEach(q.Bi,ne=>A.persistence.referenceDelegate.removeReference(L,q.targetId,ne)))))}catch(L){if(!Od(L))throw L;Tt("LocalStore","Failed to update sequence numbers: "+L)}for(const L of x){const q=L.targetId;if(!L.fromCache){const ne=A.Ji.get(q),ye=ne.withLastLimboFreeSnapshotVersion(ne.snapshotVersion);A.Ji=A.Ji.insert(q,ye)}}}),function(v,x){return m.apply(this,arguments)})(i.localStore,o))}),ER.apply(this,arguments)}function w5(n,e){return IR.apply(this,arguments)}function IR(){return IR=(0,dt.Z)(function*(n,e){const t=Gt(n);if(!t.currentUser.isEqual(e)){Tt("SyncEngine","User change. New user:",e.toKey());const i=yield hE(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(u=>{u.forEach(m=>{m.reject(new vt(tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield im(t,i.er)}var r}),IR.apply(this,arguments)}function C5(n,e){const t=Gt(n),i=t.yc.get(e);if(i&&i.fc)return li().add(i.key);{let r=li();const o=t._c.get(e);if(!o)return r;for(const u of o){const m=t.wc.get(u);r=r.unionWith(m.view.nc)}return r}}function x5(n,e){return TR.apply(this,arguments)}function TR(){return TR=(0,dt.Z)(function*(n,e){const t=Gt(n),i=yield Hv(t.localStore,e.query,!0),r=e.view.hc(i);return t.isPrimaryClient&&CR(t,e.targetId,r.cc),r}),TR.apply(this,arguments)}function E5(n,e){return SR.apply(this,arguments)}function SR(){return SR=(0,dt.Z)(function*(n,e){const t=Gt(n);return $M(t.localStore,e).then(i=>im(t,i))}),SR.apply(this,arguments)}function I5(n,e,t,i){return DR.apply(this,arguments)}function DR(){return DR=(0,dt.Z)(function*(n,e,t,i){const r=Gt(n),o=yield function(u,m){const v=Gt(u),x=Gt(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",A=>x.Sn(A,m).next(L=>L?v.localDocuments.getDocuments(A,L):Ke.resolve(null)))}(r.localStore,e);var m;null!==o?("pending"===t?yield nm(r.remoteStore):"acknowledged"===t||"rejected"===t?(wR(r,e,i||null),NE(r,e),m=e,Gt(Gt(r.localStore).mutationQueue).Cn(m)):ln(),yield im(r,o)):Tt("SyncEngine","Cannot apply mutation batch with id: "+e)}),DR.apply(this,arguments)}function MR(){return MR=(0,dt.Z)(function*(n,e){const t=Gt(n);if(PR(t),RR(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield yU(t,i.toArray());t.vc=!0,yield n1(t.remoteStore,!0);for(const o of r)Wv(t.remoteStore,o)}else if(!1===e&&!1!==t.vc){const i=[];let r=Promise.resolve();t._c.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(N0(t,u),Wu(t.localStore,u,!0))),Mg(t.remoteStore,u)}),yield r,yield yU(t,i),function(o){const u=Gt(o);u.yc.forEach((m,v)=>{Mg(u.remoteStore,v)}),u.Ic.Ts(),u.yc=new Map,u.gc=new zr(qt.comparator)}(t),t.vc=!1,yield n1(t.remoteStore,!1)}}),MR.apply(this,arguments)}function yU(n,e,t){return AR.apply(this,arguments)}function AR(){return AR=(0,dt.Z)(function*(n,e,t){const i=Gt(n),r=[],o=[];for(const u of e){let m;const v=i._c.get(u);if(v&&0!==v.length){m=yield Jp(i.localStore,Ea(v[0]));for(const x of v){const A=i.wc.get(x),L=yield x5(i,A);L.snapshot&&o.push(L.snapshot)}}else{const x=yield mE(i.localStore,u);m=yield Jp(i.localStore,x),yield W(i,bU(x),u,!1,m.resumeToken)}r.push(m)}return i.dc.nu(o),r}),AR.apply(this,arguments)}function bU(n){return n0(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function S5(n){const e=Gt(n);return Gt(Gt(e.localStore).persistence).$i()}function D5(n,e,t,i){return kR.apply(this,arguments)}function kR(){return kR=(0,dt.Z)(function*(n,e,t,i){const r=Gt(n);if(r.vc)return void Tt("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=yield $M(r.localStore,LD(o[0])),m=Rv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ps.EMPTY_BYTE_STRING);yield im(r,u,m);break}case"rejected":yield Wu(r.localStore,e,!0),N0(r,e,i);break;default:ln()}}),kR.apply(this,arguments)}function M5(n,e,t){return OR.apply(this,arguments)}function OR(){return OR=(0,dt.Z)(function*(n,e,t){const i=PR(n);if(i.vc){for(const r of e){if(i._c.has(r)){Tt("SyncEngine","Adding an already active target "+r);continue}const o=yield mE(i.localStore,r),u=yield Jp(i.localStore,o);yield W(i,bU(o),u.targetId,!1,u.resumeToken),Wv(i.remoteStore,u)}for(const r of t)i._c.has(r)&&(yield Wu(i.localStore,r,!1).then(()=>{Mg(i.remoteStore,r),N0(i,r)}).catch(Sh))}}),OR.apply(this,arguments)}function PR(n){const e=Gt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wt.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yn.bind(null,e),e.dc.nu=gU.bind(null,e.eventManager),e.dc.Pc=_U.bind(null,e.eventManager),e}function RR(n){const e=Gt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mr.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ph.bind(null,e),e}class FE{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,dt.Z)(function*(){t.serializer=em(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return VM(this.persistence,new rR,e.initialUser,this.serializer)}createPersistence(e){return new Bd(xg.zs,this.serializer)}createSharedClientState(e){return new cR}terminate(){var e=this;return(0,dt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class NR extends FE{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,dt.Z)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield RR(i.Vc.syncEngine),yield nm(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return VM(this.persistence,new rR,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new v0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new eU(t,this.persistence);return new tg(e.asyncQueue,i)}createPersistence(e){const t=dE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ga.withCacheSize(this.cacheSizeBytes):Ga.DEFAULT;return new uE(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,vE(),Sg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new cR}}class wU extends NR{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,dt.Z)(function*(){yield t().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof ZM&&(i.sharedClientState.syncEngine={jr:I5.bind(null,r),zr:D5.bind(null,r),Wr:M5.bind(null,r),$i:S5.bind(null,r),Qr:E5.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var o=(0,dt.Z)(function*(u){yield function T5(n,e){return MR.apply(this,arguments)}(i.Vc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=vE();if(!ZM.D(t))throw new vt(tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=dE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ZM(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class F0{initialize(e,t){var i=this;return(0,dt.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>yt(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=w5.bind(null,i.syncEngine),yield n1(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new mU}createDatastore(e){const t=em(e.databaseInfo.databaseId),i=new Xp(e.databaseInfo);return new dU(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=m=>yt(this.syncEngine,m,0),u=lR.D()?new lR:new uU,new hR(t,i,r,o,u);var t,i,r,o,u}createSyncEngine(e,t){return function(i,r,o,u,m,v,x){const A=new D(i,r,o,u,m,v);return x&&(A.vc=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,dt.Z)(function*(t){const i=Gt(t);Tt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Dg(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function CU(n,e=10240){let t=0;return{read:()=>(0,dt.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,dt.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class d1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):io("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class O5{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new gs,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,dt.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,dt.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,dt.Z)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const o=yield e.$c(r);return new yR(JSON.parse(o),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,dt.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,dt.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,dt.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class P5{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,dt.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new vt(tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,dt.Z)(function*(o,u){const m=Gt(o),v=Ud(m.serializer)+"/documents",x={documents:u.map(ne=>Fv(m.serializer,ne))},A=yield m.vo("BatchGetDocuments",v,x,u.length),L=new Map;A.forEach(ne=>{const ae=function oU(n,e){return"found"in e?function(t,i){wn(!!i.found);const r=qu(t,i.found.name),o=os(i.found.updateTime),u=i.found.createTime?os(i.found.createTime):Tn.min(),m=new xa({mapValue:{fields:i.found.fields}});return ro.newFoundDocument(r,o,u,m)}(n,e):"missing"in e?function(t,i){wn(!!i.missing),wn(!!i.readTime);const r=qu(t,i.missing),o=os(i.readTime);return ro.newNoDocument(r,o)}(n,e):ln()}(m.serializer,ne);L.set(ae.key.toString(),ae)});const q=[];return u.forEach(ne=>{const ae=L.get(ne.toString());wn(!!ae),q.push(ae)}),q}),function(o,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new pg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,dt.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=qt.fromPath(r);e.mutations.push(new c0(o,e.precondition(o)))}),yield(i=(0,dt.Z)(function*(r,o){const u=Gt(r),m=Ud(u.serializer)+"/documents",v={writes:o.map(x=>qp(u.serializer,x))};yield u.Io("Commit",m,v)}),function(r,o){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ln();t=Tn.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new vt(tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Tn.min())?Dr.exists(!1):Dr.updateTime(t):Dr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Tn.min()))throw new vt(tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dr.updateTime(t)}return Dr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class R5{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.Bc=i.maxAttempts,this.qo=new yE(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,dt.Z)(function*(){const t=new P5(e.datastore),i=e.qc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.Uc(o)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const t=this.updateFunction(e);return!Gb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ov(t)}return!1}}class N5{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=ks.UNAUTHENTICATED,this.clientId=ax.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,dt.Z)(function*(m){Tt("FirestoreClient","Received user=",m.uid),yield o.authCredentialListener(m),o.user=m});return function(m){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Tt("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,dt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,dt.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Qv(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function h1(n,e){return FR.apply(this,arguments)}function FR(){return FR=(0,dt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Tt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,dt.Z)(function*(o){i.isEqual(o)||(yield hE(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),FR.apply(this,arguments)}function LR(n,e){return UR.apply(this,arguments)}function UR(){return UR=(0,dt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield VR(n);Tt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>AE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>AE(e.remoteStore,o)),n._onlineComponents=e}),UR.apply(this,arguments)}function xU(n){return"FirebaseError"===n.name?n.code===tt.FAILED_PRECONDITION||n.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function VR(n){return BR.apply(this,arguments)}function BR(){return BR=(0,dt.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Tt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield h1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!xU(t))throw t;cu("Error using user provided cache. Falling back to memory cache: "+t),yield h1(n,new FE)}}else Tt("FirestoreClient","Using default OfflineComponentProvider"),yield h1(n,new FE);return n._offlineComponents}),BR.apply(this,arguments)}function f1(n){return jR.apply(this,arguments)}function jR(){return jR=(0,dt.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Tt("FirestoreClient","Using user provided OnlineComponentProvider"),yield LR(n,n._uninitializedComponentsProvider._online)):(Tt("FirestoreClient","Using default OnlineComponentProvider"),yield LR(n,new F0))),n._onlineComponents}),jR.apply(this,arguments)}function EU(n){return VR(n).then(e=>e.persistence)}function p1(n){return VR(n).then(e=>e.localStore)}function IU(n){return f1(n).then(e=>e.remoteStore)}function zR(n){return f1(n).then(e=>e.syncEngine)}function L0(n){return HR.apply(this,arguments)}function HR(){return HR=(0,dt.Z)(function*(n){const e=yield f1(n),t=e.eventManager;return t.onListen=P.bind(null,e.syncEngine),t.onUnlisten=Ie.bind(null,e.syncEngine),t}),HR.apply(this,arguments)}function SU(n,e,t={}){const i=new gs;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function(r,o,u,m,v){const x=new d1({next:L=>{o.enqueueAndForget(()=>OE(r,A));const q=L.docs.has(u);!q&&L.fromCache?v.reject(new vt(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&L.fromCache&&m&&"server"===m.source?v.reject(new vt(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(L)},error:L=>v.reject(L)}),A=new u1(Ef(u.path),x,{includeMetadataChanges:!0,Ku:!0});return s1(r,A)}(yield L0(n),n.asyncQueue,e,t,i)})),i.promise}function DU(n,e,t={}){const i=new gs;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function(r,o,u,m,v){const x=new d1({next:L=>{o.enqueueAndForget(()=>OE(r,A)),L.fromCache&&"server"===m.source?v.reject(new vt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(L)},error:L=>v.reject(L)}),A=new u1(u,x,{includeMetadataChanges:!0,Ku:!0});return s1(r,A)}(yield L0(n),n.asyncQueue,e,t,i)})),i.promise}function MU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const AU=new Map;function $R(n,e,t){if(!t)throw new vt(tt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kU(n,e,t,i){if(!0===e&&!0===i)throw new vt(tt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function OU(n){if(!qt.isDocumentKey(n))throw new vt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function PU(n){if(qt.isDocumentKey(n))throw new vt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function m1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ln()}function qi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new vt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=m1(n);throw new vt(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function RU(n,e){if(e<=0)throw new vt(tt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class NU{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new vt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=MU(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new vt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new vt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new vt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class LE{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NU(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new rD;switch(t.type){case"firstParty":return new jb(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new vt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=AU.get(e);t&&(Tt("ComponentProvider","Removing Datastore"),AU.delete(e),t.terminate())}(this),Promise.resolve()}}function FU(n,e,t,i={}){var r;const o=(n=qi(n,LE))._getSettings(),u=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==u&&cu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:u,ssl:!1})),i.mockUserToken){let m,v;if("string"==typeof i.mockUserToken)m=i.mockUserToken,v=ks.MOCK_USER;else{m=(0,ie.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new vt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new ks(x)}n._authCredentials=new oP(new ox(m,v))}}class Oo{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Oo(this.firestore,e,this._key)}}class vc{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new vc(this.firestore,e,this._query)}}class Uf extends vc{constructor(e,t,i){super(e,t,Ef(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Oo(this.firestore,null,new qt(e))}withConverter(e){return new Uf(this.firestore,e,this._path)}}function qR(n,e,...t){if(n=(0,ie.m9)(n),$R("collection","path",e),n instanceof LE){const i=$i.fromString(e,...t);return PU(i),new Uf(n,null,i)}{if(!(n instanceof Oo||n instanceof Uf))throw new vt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child($i.fromString(e,...t));return PU(i),new Uf(n.firestore,null,i)}}function UE(n,e,...t){if(n=(0,ie.m9)(n),1===arguments.length&&(e=ax.A()),$R("doc","path",e),n instanceof LE){const i=$i.fromString(e,...t);return OU(i),new Oo(n,null,new qt(i))}{if(!(n instanceof Oo||n instanceof Uf))throw new vt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child($i.fromString(e,...t));return OU(i),new Oo(n.firestore,n instanceof Uf?n.converter:null,new qt(i))}}function LU(n,e){return n=(0,ie.m9)(n),e=(0,ie.m9)(e),(n instanceof Oo||n instanceof Uf)&&(e instanceof Oo||e instanceof Uf)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function GR(n,e){return n=(0,ie.m9)(n),e=(0,ie.m9)(e),n instanceof vc&&e instanceof vc&&n.firestore===e.firestore&&lg(n._query,e._query)&&n.converter===e.converter}class q5{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new yE(this,"async_queue_retry"),this.Xc=()=>{const t=Sg();t&&Tt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Sg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Sg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new gs;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,dt.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Od(t))throw t;Tt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,io("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=r1.createAndSchedule(this,e,t,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&ln()}verifyOperationInProgress(){}sa(){var e=this;return(0,dt.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function WR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class G5{constructor(){this._progressObserver={},this._taskCompletionResolver=new gs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Po extends LE{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new q5,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||UU(this),this._firestoreClient.terminate()}}function Z5(n,e){const t="object"==typeof n?n:(0,Ms.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,Ms._getProvider)(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=(0,ie.P0)("firestore");o&&FU(r,...o)}return r}function Ns(n){return n._firestoreClient||UU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function UU(n){var e,t,i;const r=n._freezeSettings(),o=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new _P(n._databaseId,m,n._persistenceKey,(x=r).host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,MU(x.experimentalLongPollingOptions),x.useFetchStreams));var m,x;n._firestoreClient=new N5(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function VU(n,e,t){const i=new gs;return n.asyncQueue.enqueue((0,dt.Z)(function*(){try{yield h1(n,t),yield LR(n,e),i.resolve()}catch(r){const o=r;if(!xU(o))throw o;cu("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function BU(n){if(n._initialized||n._terminated)throw new vt(tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Vf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vf(Ps.fromBase64String(e))}catch(t){throw new vt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vf(Ps.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class rm{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new vt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $o(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xv{constructor(e){this._methodName=e}}class g1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new vt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new vt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kn(this._lat,e._lat)||Kn(this._long,e._long)}}const r$=/^__.*__$/;class o${constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new kh(e,this.data,this.fieldMask,t,this.fieldTransforms):new fg(e,this.data,t,this.fieldTransforms)}}class jU{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new kh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ln()}}class _1{constructor(e,t,i,r,o,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new _1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return b1(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(zU(this.ca)&&r$.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class s${constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||em(e)}ya(e,t,i,r=!1){return new _1({ca:e,methodName:t,ga:i,path:$o.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ey(n){const e=n._freezeSettings(),t=em(n._databaseId);return new s$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function v1(n,e,t,i,r,o={}){const u=n.ya(o.merge||o.mergeFields?2:0,e,t,r);QR("Data must be an object, but it was:",u,i);const m=qU(i,u);let v,x;if(o.merge)v=new Jc(u.fieldMask),x=u.fieldTransforms;else if(o.mergeFields){const A=[];for(const L of o.mergeFields){const q=jE(e,L,t);if(!u.contains(q))throw new vt(tt.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);WU(A,q)||A.push(q)}v=new Jc(A),x=u.fieldTransforms.filter(L=>v.covers(L.field))}else v=null,x=u.fieldTransforms;return new o$(new xa(m),v,x)}class BE extends Xv{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof BE}}function HU(n,e,t){return new _1({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ZR extends Xv{_toFieldTransform(e){return new dg(e.path,new jp)}isEqual(e){return e instanceof ZR}}class a$ extends Xv{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=HU(this,e,!0),i=this.pa.map(o=>ty(o,t)),r=new Df(i);return new dg(e.path,r)}isEqual(e){return this===e}}class c$ extends Xv{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=HU(this,e,!0),i=this.pa.map(o=>ty(o,t)),r=new zp(i);return new dg(e.path,r)}isEqual(e){return this===e}}class l$ extends Xv{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Mv(e.serializer,GD(e.serializer,this.Ia));return new dg(e.path,t)}isEqual(e){return this===e}}function KR(n,e,t,i){const r=n.ya(1,e,t);QR("Data must be an object, but it was:",r,i);const o=[],u=xa.empty();uu(i,(v,x)=>{const A=y1(e,v,t);x=(0,ie.m9)(x);const L=r.da(A);if(x instanceof BE)o.push(A);else{const q=ty(x,L);null!=q&&(o.push(A),u.set(A,q))}});const m=new Jc(o);return new jU(u,m,r.fieldTransforms)}function YR(n,e,t,i,r,o){const u=n.ya(1,e,t),m=[jE(e,i,t)],v=[r];if(o.length%2!=0)throw new vt(tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let q=0;q<o.length;q+=2)m.push(jE(e,o[q])),v.push(o[q+1]);const x=[],A=xa.empty();for(let q=m.length-1;q>=0;--q)if(!WU(x,m[q])){const ne=m[q];let ae=v[q];ae=(0,ie.m9)(ae);const ye=u.da(ne);if(ae instanceof BE)x.push(ne);else{const We=ty(ae,ye);null!=We&&(x.push(ne),A.set(ne,We))}}const L=new Jc(x);return new jU(A,L,u.fieldTransforms)}function $U(n,e,t,i=!1){return ty(t,n.ya(i?4:3,e))}function ty(n,e){if(GU(n=(0,ie.m9)(n)))return QR("Unsupported field value:",e,n),qU(n,e);if(n instanceof Xv)return function(t,i){if(!zU(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const u of t){let m=ty(u,i.wa(o));null==m&&(m={nullValue:"NULL_VALUE"}),r.push(m),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,ie.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return GD(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=ho.fromDate(t);return{timestampValue:$p(i.serializer,r)}}if(t instanceof ho){const r=new ho(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:$p(i.serializer,r)}}if(t instanceof g1)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Vf)return{bytesValue:Qx(i.serializer,t._byteString)};if(t instanceof Oo){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:f0(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${m1(t)}`)}(n,e)}function qU(n,e){const t={};return rg(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uu(n,(i,r)=>{const o=ty(r,e.ha(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function GU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ho||n instanceof g1||n instanceof Vf||n instanceof Oo||n instanceof Xv)}function QR(n,e,t){if(!GU(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=m1(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function jE(n,e,t){if((e=(0,ie.m9)(e))instanceof rm)return e._internalPath;if("string"==typeof e)return y1(n,e);throw b1("Field path arguments must be of type string or ",n,!1,void 0,t)}const u$=new RegExp("[~\\*/\\[\\]]");function y1(n,e,t){if(e.search(u$)>=0)throw b1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new rm(...e.split("."))._internalPath}catch{throw b1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function b1(n,e,t,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(o||u)&&(v+=" (found",o&&(v+=` in field ${i}`),u&&(v+=` in document ${r}`),v+=")"),new vt(tt.INVALID_ARGUMENT,m+n+v)}function WU(n,e){return n.some(t=>t.isEqual(e))}class zE{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Oo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new d$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(w1("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class d$ extends zE{data(){return super.data()}}function w1(n,e){return"string"==typeof e?y1(n,e):e instanceof rm?e._internalPath:e._delegate._internalPath}function ZU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new vt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class JR{}class HE extends JR{}function om(n,e,...t){let i=[];e instanceof JR&&i.push(e),i=i.concat(t),function(r){const o=r.filter(m=>m instanceof U0).length,u=r.filter(m=>m instanceof $E).length;if(o>1||o>0&&u>0)throw new vt(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class $E extends HE{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new $E(e,t,i)}_apply(e){const t=this._parse(e);return XU(e._query,t),new vc(e.firestore,e.converter,o0(e._query,t))}_parse(e){const t=ey(e.firestore);return function(r,o,u,m,v,x,A){let L;if(v.isKeyField()){if("array-contains"===x||"array-contains-any"===x)throw new vt(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if("in"===x||"not-in"===x){JU(A,x);const q=[];for(const ne of A)q.push(QU(m,r,ne));L={arrayValue:{values:q}}}else L=QU(m,r,A)}else"in"!==x&&"not-in"!==x&&"array-contains-any"!==x||JU(A,x),L=$U(u,"where",A,"in"===x||"not-in"===x);return Ni.create(v,x,L)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function KU(n,e,t){const i=e,r=w1("where",n);return $E._create(r,i,t)}class U0 extends JR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new U0(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:pr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let o=i;const u=r.getFlattenedFilters();for(const m of u)XU(o,m),o=o0(o,m)}(e._query,t),new vc(e.firestore,e.converter,o0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class XR extends HE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new XR(e,t)}_apply(e){const t=function(i,r,o){if(null!==i.startAt)throw new vt(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new vt(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new ag(r,o);return function(m,v){if(null===r0(m)){const x=Tv(m);null!==x&&eV(0,x,v.field)}}(i,u),u}(e._query,this._field,this._direction);return new vc(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new xf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class C1 extends HE{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new C1(e,t,i)}_apply(e){return new vc(e.firestore,e.converter,Sv(e._query,this._limit,this._limitType))}}class x1 extends HE{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new x1(e,t,i)}_apply(e){const t=YU(e,this.type,this._docOrFields,this._inclusive);return new vc(e.firestore,e.converter,(r=t,new xf((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class E1 extends HE{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new E1(e,t,i)}_apply(e){const t=YU(e,this.type,this._docOrFields,this._inclusive);return new vc(e.firestore,e.converter,(r=t,new xf((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function YU(n,e,t,i){if(t[0]=(0,ie.m9)(t[0]),t[0]instanceof zE)return function(r,o,u,m,v){if(!m)throw new vt(tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const x=[];for(const A of If(r))if(A.field.isKeyField())x.push($u(o,m.key));else{const L=m.data.field(A.field);if(wv(L))throw new vt(tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===L){const q=A.field.canonicalString();throw new vt(tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${q}' (used as the orderBy) does not exist.`)}x.push(L)}return new Nd(x,v)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=ey(n.firestore);return function(o,u,m,v,x,A){const L=o.explicitOrderBy;if(x.length>L.length)throw new vt(tt.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const q=[];for(let ne=0;ne<x.length;ne++){const ae=x[ne];if(L[ne].field.isKeyField()){if("string"!=typeof ae)throw new vt(tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof ae}`);if(!Ox(o)&&-1!==ae.indexOf("/"))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${ae}' contains a slash.`);const ye=o.path.child($i.fromString(ae));if(!qt.isDocumentKey(ye))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${ye}' is not because it contains an odd number of segments.`);const We=new qt(ye);q.push($u(u,We))}else{const ye=$U(m,v,ae);q.push(ye)}}return new Nd(q,A)}(n._query,n.firestore._databaseId,r,e,t,i)}}function QU(n,e,t){if("string"==typeof(t=(0,ie.m9)(t))){if(""===t)throw new vt(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ox(e)&&-1!==t.indexOf("/"))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child($i.fromString(t));if(!qt.isDocumentKey(i))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return $u(n,new qt(i))}if(t instanceof Oo)return $u(n,t._key);throw new vt(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${m1(t)}.`)}function JU(n,e){if(!Array.isArray(n)||0===n.length)throw new vt(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XU(n,e){if(e.isInequality()){const i=Tv(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=r0(n);null!==o&&eV(0,r,o)}const t=function(i,r){for(const o of i)for(const u of o.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new vt(tt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function eV(n,e,t){if(!t.isEqual(e))throw new vt(tt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class eN{convertValue(e,t="none"){switch(Cf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ln()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return uu(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new g1(rs(e.latitude),rs(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Up(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Cv(e));default:return null}}convertTimestamp(e){const t=Lp(e);return new ho(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=$i.fromString(e);wn(Lv(i));const r=new Mh(i.get(1),i.get(3)),o=new qt(i.popFirst(5));return r.isEqual(t)||io(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function I1(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class y$ extends eN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Oo(this.firestore,null,t)}}class ny{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sm extends zE{constructor(e,t,i,r,o,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(w1("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class qE extends sm{data(e={}){return super.data(e)}}class Og{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ny(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new qE(this._firestore,this._userDataWriter,i.key,i,new ny(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new vt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new qE(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ny(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const m=new qE(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ny(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let v=-1,x=-1;return 0!==u.type&&(v=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),x=o.indexOf(u.doc.key)),{type:w$(u.type),doc:m,oldIndex:v,newIndex:x}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function w$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ln()}}function nV(n,e){return n instanceof sm&&e instanceof sm?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Og&&e instanceof Og&&n._firestore===e._firestore&&GR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Pg extends eN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Oo(this.firestore,null,t)}}function tN(n,e,t){n=qi(n,Oo);const i=qi(n.firestore,Po),r=I1(n.converter,e,t);return V0(i,[v1(ey(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Dr.none())])}function nN(n,e,t,...i){n=qi(n,Oo);const r=qi(n.firestore,Po),o=ey(r);let u;return u="string"==typeof(e=(0,ie.m9)(e))||e instanceof rm?YR(o,"updateDoc",n._key,e,t,i):KR(o,"updateDoc",n._key,e),V0(r,[u.toMutation(n._key,Dr.exists(!0))])}function iV(n,e){const t=qi(n.firestore,Po),i=UE(n),r=I1(n.converter,e);return V0(t,[v1(ey(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Dr.exists(!1))]).then(()=>i)}function iN(n,...e){var t,i,r;n=(0,ie.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||WR(e[u])||(o=e[u],u++);const m={includeMetadataChanges:o.includeMetadataChanges};if(WR(e[u])){const L=e[u];e[u]=null===(t=L.next)||void 0===t?void 0:t.bind(L),e[u+1]=null===(i=L.error)||void 0===i?void 0:i.bind(L),e[u+2]=null===(r=L.complete)||void 0===r?void 0:r.bind(L)}let v,x,A;if(n instanceof Oo)x=qi(n.firestore,Po),A=Ef(n._key.path),v={next:L=>{e[u]&&e[u](rN(x,n,L))},error:e[u+1],complete:e[u+2]};else{const L=qi(n,vc);x=qi(L.firestore,Po),A=L._query;const q=new Pg(x);v={next:ne=>{e[u]&&e[u](new Og(x,q,L,ne))},error:e[u+1],complete:e[u+2]},ZU(n._query)}return function(L,q,ne,ae){const ye=new d1(ae),We=new u1(q,ye,ne);return L.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return s1(yield L0(L),We)})),()=>{ye.Dc(),L.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return OE(yield L0(L),We)}))}}(Ns(x),A,m,v)}function V0(n,e){return function(t,i){const r=new gs;return t.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function ft(n,e,t){return St.apply(this,arguments)}(yield zR(t),i,r)})),r.promise}(Ns(n),e)}function rN(n,e,t){const i=t.docs.get(e._key),r=new Pg(n);return new sm(n,r,e._key,i,new ny(t.hasPendingWrites,t.fromCache),e.converter)}const U$={maxAttempts:5};class rV{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ey(e)}set(e,t,i){this._verifyNotCommitted();const r=Rg(e,this._firestore),o=I1(r.converter,t,i),u=v1(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Dr.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=Rg(e,this._firestore);let u;return u="string"==typeof(t=(0,ie.m9)(t))||t instanceof rm?YR(this._dataReader,"WriteBatch.update",o._key,t,i,r):KR(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,Dr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Rg(e,this._firestore);return this._mutations=this._mutations.concat(new pg(t._key,Dr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vt(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rg(n,e){if((n=(0,ie.m9)(n)).firestore!==e)throw new vt(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class V$ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ey(e)}get(e){const t=Rg(e,this._firestore),i=new y$(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return ln();const o=r[0];if(o.isFoundDocument())return new zE(this._firestore,i,o.key,o,t.converter);if(o.isNoDocument())return new zE(this._firestore,i,t._key,null,t.converter);throw ln()})}set(e,t,i){const r=Rg(e,this._firestore),o=I1(r.converter,t,i),u=v1(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const o=Rg(e,this._firestore);let u;return u="string"==typeof(t=(0,ie.m9)(t))||t instanceof rm?YR(this._dataReader,"Transaction.update",o._key,t,i,r):KR(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=Rg(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Rg(e,this._firestore),i=new Pg(this._firestore);return super.get(e).then(r=>new sm(this._firestore,i,t._key,r._document,new ny(!1,!1),t.converter))}}!function(n,e=!0){Xm=Ms.SDK_VERSION,(0,Ms._registerComponent)(new ou.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const o=t.getProvider("app").getImmediate(),u=new Po(new sP(t.getProvider("auth-internal")),new oD(t.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new vt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mh(m.options.projectId,v)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Ms.registerVersion)(ix,"3.13.0",n),(0,Ms.registerVersion)(ix,"3.13.0","esm2017")}();var gn=Q(7398),T1=function(){return T1=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},T1.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var G$={includeMetadataChanges:!1};function sN(n,e){return void 0===e&&(e=G$),new ar.y(function(t){return{unsubscribe:iN(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)})}})}function Z$(n,e){return void 0===e&&(e={}),function W$(n){return sN(n,{includeMetadataChanges:!0})}(n).pipe((0,gn.U)(function(t){return sV(t,e)}))}function sV(n,e){var t;void 0===e&&(e={});var i=n.data(e);return n.exists()&&"object"==typeof i&&null!==i&&e.idField?T1(T1({},i),((t={})[e.idField]=n.id,t)):i}function eq(n,e){return void 0===e&&(e={}),function X$(n){return sN(n,{includeMetadataChanges:!0}).pipe((0,gn.U)(function(e){return e.docs}))}(n).pipe((0,gn.U)(function(t){return t.map(function(i){return sV(i,e)})}))}class Bf{constructor(e){return e}}const uV="firestore",lN=new a.OlP("angularfire2.firestore-instances");function rq(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Bf(i)}}const oq={provide:class nq{constructor(){return(0,bn.vb)(uV)}},deps:[[new a.FiY,lN]]},sq={provide:Bf,useFactory:function iq(n,e){const t=(0,bn.JM)(uV,n,e);return t&&new Bf(t)},deps:[[new a.FiY,lN],Mm]};let dV=(()=>{class n{constructor(){(0,Id.KN)("angularfire",bn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[sq,oq]}),n})();function aq(n,...e){return{ngModule:dV,providers:[{provide:lN,useFactory:rq(n),multi:!0,deps:[a.R0b,a.zs3,bn.HU,Pw,[new a.FiY,Td],[new a.FiY,yp],...e]}]}}const Fs=(0,bn.u3)(eq,!0),cq=(0,bn.u3)(Z$,!0),lq=(0,bn.u3)(iV,!0),Rh=(0,bn.u3)(qR,!0),S1=(0,bn.u3)(UE,!0),uq=(0,bn.u3)(Z5,!0),Za=(0,bn.u3)(om,!0),hV=(0,bn.u3)(tN,!0),dq=(0,bn.u3)(nN,!0),fo=(0,bn.u3)(KU,!0),fV="firebasestorage.googleapis.com",pV="storageBucket";class ss extends ie.ZR{constructor(e,t,i=0){super(uN(e),`Firebase Storage: ${t} (${uN(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ss.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return uN(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var qo=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(qo||{});function uN(n){return"storage/"+n}function dN(){return new ss(qo.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function hN(n){return new ss(qo.INVALID_ARGUMENT,n)}function vV(){return new ss(qo.APP_DELETED,"The Firebase app was deleted.")}function GE(n,e){return new ss(qo.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function WE(n){throw new ss(qo.INTERNAL_ERROR,"Internal error: "+n)}class Al{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Al.makeFromUrl(e,t)}catch{return new Al(e,"")}if(""===i.path)return i;throw function wq(n){return new ss(qo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+r+"(/(.*))?$","i");function x(Lt){Lt.path_=decodeURIComponent(Lt.path)}const L=t.replace(/[.]/g,"\\."),At=[{regex:m,indices:{bucket:1,path:3},postModify:function o(Lt){"/"===Lt.path.charAt(Lt.path.length-1)&&(Lt.path_=Lt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${L}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:x},{regex:new RegExp(`^https?://${t===fV?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:x}];for(let Lt=0;Lt<At.length;Lt++){const An=At[Lt],Rn=An.regex.exec(e);if(Rn){let Zo=Rn[An.indices.path];Zo||(Zo=""),i=new Al(Rn[An.indices.bucket],Zo),An.postModify(i);break}}if(null==i)throw function bq(n){return new ss(qo.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class Sq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function D1(n){return"string"==typeof n||n instanceof String}function yV(n){return fN()&&n instanceof Blob}function fN(){return typeof Blob<"u"&&!(0,ie.UG)()}function pN(n,e,t,i){if(i<e)throw hN(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw hN(`Invalid value for '${n}'. Expected ${t} or less.`)}function am(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function bV(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var B0=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(B0||{});class Pq{constructor(e,t,i,r,o,u,m,v,x,A,L,q=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=v,this.timeout_=x,this.progressCallback_=A,this.connectionFactory_=L,this.retry=q,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ne,ae)=>{this.resolve_=ne,this.reject_=ae,this.start_()})}start_(){const t=(i,r)=>{const o=this.resolve_,u=this.reject_,m=r.connection;if(r.wasSuccessCode)try{const v=this.callback_(m,m.getResponse());!function Aq(n){return void 0!==n}(v)?o():o(v)}catch(v){u(v)}else if(null!==m){const v=dN();v.serverResponse=m.getErrorText(),u(this.errorCallback_?this.errorCallback_(m,v):v)}else u(r.canceled?this.appDelete_?vV():function gV(){return new ss(qo.CANCELED,"User canceled the upload/download.")}():function mV(){return new ss(qo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new M1(!1,null,!0)):this.backoffId_=function Dq(n,e,t){let i=1,r=null,o=null,u=!1,m=0;function v(){return 2===m}let x=!1;function A(...We){x||(x=!0,e.apply(null,We))}function L(We){r=setTimeout(()=>{r=null,n(ne,v())},We)}function q(){o&&clearTimeout(o)}function ne(We,...wt){if(x)return void q();if(We)return q(),void A.call(null,We,...wt);if(v()||u)return q(),void A.call(null,We,...wt);let At;i<64&&(i*=2),1===m?(m=2,At=0):At=1e3*(i+Math.random()),L(At)}let ae=!1;function ye(We){ae||(ae=!0,q(),!x&&(null!==r?(We||(m=2),clearTimeout(r),L(0)):We||(m=1)))}return L(0),o=setTimeout(()=>{u=!0,ye(!0)},t),ye}((i,r)=>{if(r)return void i(!1,new M1(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const u=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const m=o.getErrorCode()===B0.NO_ERROR,v=o.getStatus();if(!m||function wV(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||r||o}(v,this.additionalRetryCodes_)&&this.retry){const A=o.getErrorCode()===B0.ABORT;return void i(!1,new M1(!1,null,A))}const x=-1!==this.successCodes_.indexOf(v);i(!0,new M1(x,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Mq(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class M1{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function Bq(...n){const e=function Vq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(fN())return new Blob(n);throw new ss(qo.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Nh={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class mN{constructor(e,t){this.data=e,this.contentType=t||null}}function xV(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function EV(n,e){switch(n){case Nh.BASE64:{const r=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(r||o)throw GE(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Nh.BASE64URL:{const r=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(r||o)throw GE(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function zq(n){if(typeof atob>"u")throw function Iq(n){return new ss(qo.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:GE(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class IV{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw GE(Nh.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function Gq(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class cm{constructor(e,t){let i=0,r="";yV(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(yV(this.data_)){const r=function jq(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new cm(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new cm(i,!0)}}static getBlob(...e){if(fN()){const t=e.map(i=>i instanceof cm?i.data_:i);return new cm(Bq.apply(null,t))}{const t=e.map(u=>D1(u)?function CV(n,e){switch(n){case Nh.RAW:return new mN(xV(e));case Nh.BASE64:case Nh.BASE64URL:return new mN(EV(n,e));case Nh.DATA_URL:return new mN(function $q(n){const e=new IV(n);return e.base64?EV(Nh.BASE64,e.rest):function Hq(n){let e;try{e=decodeURIComponent(n)}catch{throw GE(Nh.DATA_URL,"Malformed data URL.")}return xV(e)}(e.rest)}(e),function qq(n){return new IV(n).contentType}(e))}throw dN()}(Nh.RAW,u).data:u.data_);let i=0;t.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let o=0;return t.forEach(u=>{for(let m=0;m<u.length;m++)r[o++]=u[m]}),new cm(r,!0)}}uploadData(){return this.data_}}function gN(n){let e;try{e=JSON.parse(n)}catch{return null}return function Oq(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function TV(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function Kq(n,e){return e}class kl{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||Kq}}let A1=null;function ZE(){if(A1)return A1;const n=[];n.push(new kl("bucket")),n.push(new kl("generation")),n.push(new kl("metageneration")),n.push(new kl("name","fullPath",!0));const t=new kl("name");t.xform=function e(o,u){return function Yq(n){return!D1(n)||n.length<2?n:TV(n)}(u)},n.push(t);const r=new kl("size");return r.xform=function i(o,u){return void 0!==u?Number(u):u},n.push(r),n.push(new kl("timeCreated")),n.push(new kl("updated")),n.push(new kl("md5Hash",null,!0)),n.push(new kl("cacheControl",null,!0)),n.push(new kl("contentDisposition",null,!0)),n.push(new kl("contentEncoding",null,!0)),n.push(new kl("contentLanguage",null,!0)),n.push(new kl("contentType",null,!0)),n.push(new kl("metadata","customMetadata",!0)),A1=n,A1}function SV(n,e,t){const i=gN(e);return null===i?null:function Jq(n,e,t){const i={type:"file"},r=t.length;for(let o=0;o<r;o++){const u=t[o];i[u.local]=u.xform(i,e[u.server])}return function Qq(n,e){Object.defineProperty(n,"ref",{get:function t(){const o=new Al(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(i,n),i}(n,i,t)}class jf{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function zf(n){if(!n)throw dN()}function j0(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function vq(){return new ss(qo.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function _q(){return new ss(qo.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function gq(n){return new ss(qo.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function yq(n){return new ss(qo.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function PV(n,e,t,i,r){const o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},v=function m(){let At="";for(let Lt=0;Lt<2;Lt++)At+=Math.random().toString().slice(2);return At}();u["Content-Type"]="multipart/related; boundary="+v;const x=function OV(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function cG(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}(e,i,r),A=function _N(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}(x,t),ne=cm.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+A+"\r\n--"+v+"\r\nContent-Type: "+x.contentType+"\r\n\r\n",i,"\r\n--"+v+"--");if(null===ne)throw function _V(){return new ss(qo.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const ae={name:x.fullPath},ye=am(o,n.host,n._protocol),wt=n.maxUploadRetryTime,kt=new jf(ye,"POST",function k1(n,e){return function t(i,r){const o=SV(n,r,e);return zf(null!==o),o}}(n,t),wt);return kt.urlParams=ae,kt.headers=u,kt.body=ne.uploadData(),kt.errorHandler=j0(e),kt}let NV=null;class fG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=B0.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=B0.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=B0.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw WE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw WE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw WE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw WE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw WE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class pG extends fG{initXhr(){this.xhr_.responseType="text"}}function Fh(){return NV?NV():new pG}class iy{constructor(e,t){this._service=e,this._location=t instanceof Al?t:Al.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new iy(e,t)}get root(){const e=new Al(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TV(this._location.path)}get storage(){return this._service}get parent(){const e=function Wq(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Al(this._location.bucket,e);return new iy(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function Tq(n){return new ss(qo.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function SG(n){n._throwIfRoot("getDownloadURL");const e=function oG(n,e,t){const r=am(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,m=new jf(r,"GET",function iG(n,e){return function t(i,r){const o=SV(n,r,e);return zf(null!==o),function Xq(n,e,t,i){const r=gN(e);if(null===r||!D1(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const u=encodeURIComponent;return o.split(",").map(x=>{const L=n.fullPath;return am("/b/"+u(n.bucket)+"/o/"+u(L),t,i)+bV({alt:"media",token:x})})[0]}(o,r,n.host,n._protocol)}}(n,t),u);return m.errorHandler=function KE(n){const e=j0(n);return function t(i,r){let o=e(i,r);return 404===i.getStatus()&&(o=function mq(n){return new ss(qo.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}(e),m}(n.storage,n._location,ZE());return n.storage.makeRequestWithTokens(e,Fh).then(t=>{if(null===t)throw function Eq(){return new ss(qo.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function BV(n,e){if(n instanceof wN){const t=n;if(null==t._bucket)throw function Cq(){return new ss(qo.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pV+"' property when initializing the app?")}();const i=new iy(t,t._bucket);return null!=e?BV(i,e):i}return void 0!==e?function VV(n,e){const t=function Zq(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Al(n._location.bucket,t);return new iy(n.storage,i)}(n,e):n}function jV(n,e){const t=e?.[pV];return null==t?null:Al.makeFromBucketSpec(t,n)}class wN{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=fV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Al.makeFromBucketSpec(r,this._host):jV(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Al.makeFromBucketSpec(this._url,e):jV(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,dt.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,dt.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new iy(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new Sq(vV());{const u=function Uq(n,e,t,i,r,o,u=!0){const m=bV(n.urlParams),v=n.url+m,x=Object.assign({},n.headers);return function Fq(n,e){e&&(n["X-Firebase-GMPID"]=e)}(x,e),function Rq(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(x,t),function Nq(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(x,o),function Lq(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(x,i),new Pq(v,n.method,x,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,u)}(e,this._appId,i,r,t,this._firebaseVersion,o);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var i=this;return(0,dt.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,o).getPromise()})()}}const zV="@firebase/storage",$V="storage";function PG(n,e,t){return function FV(n,e,t){n._throwIfRoot("uploadBytes");const i=PV(n.storage,n._location,ZE(),new cm(e,!0),t);return n.storage.makeRequestWithTokens(i,Fh).then(r=>({metadata:r,ref:n}))}(n=(0,ie.m9)(n),e,t)}function RG(n){return SG(n=(0,ie.m9)(n))}function NG(n,e){return function kG(n,e){if(e&&function MG(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof wN)return function AG(n,e){return new iy(n,e)}(n,e);throw hN("To use ref(service, url), the first argument must be a Storage instance.")}return BV(n,e)}(n=(0,ie.m9)(n),e)}function FG(n=(0,Ms.getApp)(),e){n=(0,ie.m9)(n);const i=(0,Ms._getProvider)(n,$V).getImmediate({identifier:e}),r=(0,ie.P0)("storage");return r&&function LG(n,e,t,i={}){!function OG(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,ie.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(i,...r),i}function UG(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new wN(t,i,r,e,Ms.SDK_VERSION)}!function VG(){(0,Ms._registerComponent)(new ou.wA($V,UG,"PUBLIC").setMultipleInstances(!0)),(0,Ms.registerVersion)(zV,"0.11.2",""),(0,Ms.registerVersion)(zV,"0.11.2","esm2017")}();class P1{constructor(e){return e}}const qV="storage",CN=new a.OlP("angularfire2.storage-instances");function zG(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new P1(i)}}const HG={provide:class BG{constructor(){return(0,bn.vb)(qV)}},deps:[[new a.FiY,CN]]},$G={provide:P1,useFactory:function jG(n,e){const t=(0,bn.JM)(qV,n,e);return t&&new P1(t)},deps:[[new a.FiY,CN],Mm]};let qG=(()=>{class n{constructor(){(0,Id.KN)("angularfire",bn.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[$G,HG]}),n})();function GG(n,...e){return{ngModule:qG,providers:[{provide:CN,useFactory:zG(n),multi:!0,deps:[a.R0b,a.zs3,bn.HU,Pw,[new a.FiY,Td],[new a.FiY,yp],...e]}]}}const WG=(0,bn.u3)(RG,!0),ZG=(0,bn.u3)(FG,!0),KG=(0,bn.u3)(NG,!0),YG=(0,bn.u3)(PG,!0);var jd=Q(4674),Mr=Q(2459),_n=Q(2096),zd=Q(5619);const{isArray:JG}=Array,{getPrototypeOf:XG,prototype:eW,keys:tW}=Object;function GV(n){if(1===n.length){const e=n[0];if(JG(e))return{args:e,keys:null};if(function nW(n){return n&&"object"==typeof n&&XG(n)===eW}(e)){const t=tW(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var YE=Q(2737);const{isArray:iW}=Array;function xN(n){return(0,gn.U)(e=>function rW(n,e){return iW(e)?n(...e):n(e)}(n,e))}var H0=Q(9940);function WV(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var oW=Q(7103);function R1(...n){const e=(0,H0.yG)(n),t=(0,H0.jO)(n),{args:i,keys:r}=GV(n);if(0===i.length)return(0,Mr.D)([],e);const o=new ar.y(function sW(n,e,t=YE.y){return i=>{ZV(e,()=>{const{length:r}=n,o=new Array(r);let u=r,m=r;for(let v=0;v<r;v++)ZV(e,()=>{const x=(0,Mr.D)(n[v],e);let A=!1;x.subscribe((0,ci.x)(i,L=>{o[v]=L,A||(A=!0,m--),m||i.next(t(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>WV(r,u):YE.y));return t?o.pipe(xN(t)):o}function ZV(n,e,t){n?(0,oW.f)(t,n,e):e()}const N1=(0,Q(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var QE=Q(7537);function JE(...n){return function cW(){return(0,QE.J)(1)}()((0,Mr.D)(n,(0,H0.yG)(n)))}var EN=Q(8407);function $0(n,e){const t=(0,jd.m)(n)?n:()=>n,i=r=>r.error(t());return new ar.y(e?r=>e.schedule(i,0,r):i)}var Hf=Q(6232),Zu=Q(7394);function IN(){return(0,Nr.e)((n,e)=>{let t=null;n._refCount++;const i=(0,ci.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class KV extends ar.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Nr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Zu.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ci.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Zu.w0.EMPTY)}return e}refCount(){return IN()(this)}}var Go=Q(4664);function tl(n){return n<=0?()=>Hf.E:(0,Nr.e)((e,t)=>{let i=0;e.subscribe((0,ci.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Ng(...n){const e=(0,H0.yG)(n);return(0,Nr.e)((t,i)=>{(e?JE(n,t,e):JE(n,t)).subscribe(i)})}var Ta=Q(1631);function F1(n){return(0,Nr.e)((e,t)=>{let i=!1;e.subscribe((0,ci.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function YV(n=lW){return(0,Nr.e)((e,t)=>{let i=!1;e.subscribe((0,ci.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function lW(){return new N1}function Fg(n,e){const t=arguments.length>=2;return i=>i.pipe(n?cr((r,o)=>n(r,o,i)):YE.y,tl(1),t?F1(e):YV(()=>new N1))}function ry(n,e){return(0,jd.m)(e)?(0,Ta.z)(n,e,1):(0,Ta.z)(n,1)}function Lg(n){return(0,Nr.e)((e,t)=>{let o,i=null,r=!1;i=e.subscribe((0,ci.x)(t,void 0,void 0,u=>{o=(0,Mo.Xf)(n(u,Lg(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function q0(n,e){return(0,Nr.e)(function uW(n,e,t,i,r){return(o,u)=>{let m=t,v=e,x=0;o.subscribe((0,ci.x)(u,A=>{const L=x++;v=m?n(v,A,L):(m=!0,A),i&&u.next(v)},r&&(()=>{m&&u.next(v),u.complete()})))}}(n,e,arguments.length>=2,!0))}function TN(n){return n<=0?()=>Hf.E:(0,Nr.e)((e,t)=>{let i=[];e.subscribe((0,ci.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function QV(n){return(0,gn.U)(()=>n)}function L1(n){return(0,Nr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var SN=Q(2420);function Hd(n){return(0,Nr.e)((e,t)=>{(0,Mo.Xf)(n).subscribe((0,ci.x)(t,()=>t.complete(),SN.Z)),!t.closed&&e.subscribe(t)})}const _i="primary",XE=Symbol("RouteTitle");class hW{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function G0(n){return new hW(n)}function fW(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],m=n[o];if(u.startsWith(":"))r[u.substring(1)]=m;else if(u!==m.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function $f(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!JV(n[r],e[r]))return!1;return!0}function JV(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function XV(n){return n.length>0?n[n.length-1]:null}function Ug(n){return function QG(n){return!!n&&(n instanceof ar.y||(0,jd.m)(n.lift)&&(0,jd.m)(n.subscribe))}(n)?n:(0,a.QGY)(n)?(0,Mr.D)(Promise.resolve(n)):(0,_n.of)(n)}const mW={exact:function nB(n,e,t){if(!oy(n.segments,e.segments)||!U1(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!nB(n.children[i],e.children[i],t))return!1;return!0},subset:iB},eB={exact:function gW(n,e){return $f(n,e)},subset:function _W(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>JV(n[t],e[t]))},ignored:()=>!0};function tB(n,e,t){return mW[t.paths](n.root,e.root,t.matrixParams)&&eB[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function iB(n,e,t){return rB(n,e,e.segments,t)}function rB(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!oy(r,t)||e.hasChildren()||!U1(r,t,i))}if(n.segments.length===t.length){if(!oy(n.segments,t)||!U1(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!iB(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(oy(n.segments,r)&&U1(n.segments,r,i)&&n.children[_i])&&rB(n.children[_i],e,o,i)}}function U1(n,e,t){return e.every((i,r)=>eB[t](n[r].parameters,i.parameters))}class W0{constructor(e=new Lr([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=G0(this.queryParams)),this._queryParamMap}toString(){return bW.serialize(this)}}class Lr{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return V1(this)}}class eI{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=G0(this.parameters)),this._parameterMap}toString(){return aB(this)}}function oy(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let tI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return new DN},providedIn:"root"})}return n})();class DN{parse(e){const t=new kW(e);return new W0(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${nI(e.root,!0)}`,i=function xW(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${B1(t)}=${B1(r)}`).join("&"):`${B1(t)}=${B1(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),r="string"==typeof e.fragment?`#${function wW(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${i}${r}`}}const bW=new DN;function V1(n){return n.segments.map(e=>aB(e)).join("/")}function nI(n,e){if(!n.hasChildren())return V1(n);if(e){const t=n.children[_i]?nI(n.children[_i],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==_i&&i.push(`${r}:${nI(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function yW(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===_i&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==_i&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===_i?[nI(n.children[_i],!1)]:[`${r}:${nI(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[_i]?`${V1(n)}/${t[0]}`:`${V1(n)}/(${t.join("//")})`}}function oB(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function B1(n){return oB(n).replace(/%3B/gi,";")}function MN(n){return oB(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function j1(n){return decodeURIComponent(n)}function sB(n){return j1(n.replace(/\+/g,"%20"))}function aB(n){return`${MN(n.path)}${function CW(n){return Object.keys(n).map(e=>`;${MN(e)}=${MN(n[e])}`).join("")}(n.parameters)}`}const EW=/^[^\/()?;#]+/;function AN(n){const e=n.match(EW);return e?e[0]:""}const IW=/^[^\/()?;=#]+/,SW=/^[^=?&#]+/,MW=/^[^&#]+/;class kW{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lr([],{}):new Lr([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[_i]=new Lr(e,t)),i}parseSegment(){const e=AN(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(e),new eI(j1(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function TW(n){const e=n.match(IW);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=AN(this.remaining);r&&(i=r,this.capture(i))}e[j1(t)]=j1(i)}parseQueryParam(e){const t=function DW(n){const e=n.match(SW);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function AW(n){const e=n.match(MW);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=sB(t),o=sB(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=AN(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new a.vHH(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=_i);const u=this.parseChildren();t[o]=1===Object.keys(u).length?u[_i]:new Lr([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new a.vHH(4011,!1)}}function cB(n){return n.segments.length>0?new Lr([],{[_i]:n}):n}function lB(n){const e={};for(const i of Object.keys(n.children)){const o=lB(n.children[i]);if(i===_i&&0===o.segments.length&&o.hasChildren())for(const[u,m]of Object.entries(o.children))e[u]=m;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function OW(n){if(1===n.numberOfChildren&&n.children[_i]){const e=n.children[_i];return new Lr(n.segments.concat(e.segments),e.children)}return n}(new Lr(n.segments,e))}function sy(n){return n instanceof W0}function uB(n){let e;const r=cB(function t(o){const u={};for(const v of o.children){const x=t(v);u[v.outlet]=x}const m=new Lr(o.url,u);return o===n&&(e=m),m}(n.root));return e??r}function dB(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return kN(r,r,r,t,i);const o=function RW(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new fB(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const m={};return Object.entries(o.outlets).forEach(([v,x])=>{m[v]="string"==typeof x?x.split("/"):x}),[...r,{outlets:m}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?t=!0:".."===m?e++:""!=m&&r.push(m))}),r):[...r,o]},[]);return new fB(t,e,i)}(e);if(o.toRoot())return kN(r,r,new Lr([],{}),t,i);const u=function NW(n,e,t){if(n.isAbsolute)return new H1(e,!0,0);if(!t)return new H1(e,!1,NaN);if(null===t.parent)return new H1(t,!0,0);const i=z1(n.commands[0])?0:1;return function FW(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new a.vHH(4005,!1);r=i.segments.length}return new H1(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),m=u.processChildren?rI(u.segmentGroup,u.index,o.commands):pB(u.segmentGroup,u.index,o.commands);return kN(r,u.segmentGroup,m,t,i)}function z1(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function iI(n){return"object"==typeof n&&null!=n&&n.outlets}function kN(n,e,t,i,r){let u,o={};i&&Object.entries(i).forEach(([v,x])=>{o[v]=Array.isArray(x)?x.map(A=>`${A}`):`${x}`}),u=n===e?t:hB(n,e,t);const m=cB(lB(u));return new W0(m,o,r)}function hB(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:hB(o,e,t)}),new Lr(n.segments,i)}class fB{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&z1(i[0]))throw new a.vHH(4003,!1);const r=i.find(iI);if(r&&r!==XV(i))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class H1{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function pB(n,e,t){if(n||(n=new Lr([],{})),0===n.segments.length&&n.hasChildren())return rI(n,e,t);const i=function UW(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const u=n.segments[r],m=t[i];if(iI(m))break;const v=`${m}`,x=i<t.length-1?t[i+1]:null;if(r>0&&void 0===v)break;if(v&&x&&"object"==typeof x&&void 0===x.outlets){if(!gB(v,x,u))return o;i+=2}else{if(!gB(v,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Lr(n.segments.slice(0,i.pathIndex),{});return o.children[_i]=new Lr(n.segments.slice(i.pathIndex),n.children),rI(o,0,r)}return i.match&&0===r.length?new Lr(n.segments,{}):i.match&&!n.hasChildren()?ON(n,e,t):i.match?rI(n,0,r):ON(n,e,t)}function rI(n,e,t){if(0===t.length)return new Lr(n.segments,{});{const i=function LW(n){return iI(n[0])?n[0].outlets:{[_i]:n}}(t),r={};if(Object.keys(i).some(o=>o!==_i)&&n.children[_i]&&1===n.numberOfChildren&&0===n.children[_i].segments.length){const o=rI(n.children[_i],e,t);return new Lr(n.segments,o.children)}return Object.entries(i).forEach(([o,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(r[o]=pB(n.children[o],e,u))}),Object.entries(n.children).forEach(([o,u])=>{void 0===i[o]&&(r[o]=u)}),new Lr(n.segments,r)}}function ON(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(iI(o)){const v=VW(o.outlets);return new Lr(i,v)}if(0===r&&z1(t[0])){i.push(new eI(n.segments[e].path,mB(t[0]))),r++;continue}const u=iI(o)?o.outlets[_i]:`${o}`,m=r<t.length-1?t[r+1]:null;u&&m&&z1(m)?(i.push(new eI(u,mB(m))),r+=2):(i.push(new eI(u,{})),r++)}return new Lr(i,{})}function VW(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=ON(new Lr([],{}),0,i))}),e}function mB(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function gB(n,e,t){return n==t.path&&$f(e,t.parameters)}const oI="imperative";class qf{constructor(e,t){this.id=e,this.url=t}}class $1 extends qf{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vg extends qf{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sI extends qf{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Z0 extends qf{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class q1 extends qf{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _B extends qf{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BW extends qf{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jW extends qf{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zW extends qf{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HW extends qf{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $W{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qW{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class GW{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WW{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZW{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KW{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vB{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class PN{}class RN{constructor(e){this.url=e}}class YW{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new aI,this.attachRef=null}}let aI=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new YW,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class yB{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=NN(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=NN(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=FN(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return FN(e,this._root).map(t=>t.value)}}function NN(n,e){if(n===e.value)return e;for(const t of e.children){const i=NN(n,t);if(i)return i}return null}function FN(n,e){if(n===e.value)return[e];for(const t of e.children){const i=FN(n,t);if(i.length)return i.unshift(e),i}return[]}class lm{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function K0(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class bB extends yB{constructor(e,t){super(e),this.snapshot=t,LN(this,e)}toString(){return this.snapshot.toString()}}function wB(n,e){const t=function QW(n,e){const u=new G1([],{},{},"",{},_i,e,null,{});return new xB("",new lm(u,[]))}(0,e),i=new zd.X([new eI("",{})]),r=new zd.X({}),o=new zd.X({}),u=new zd.X({}),m=new zd.X(""),v=new Y0(i,r,u,m,o,_i,e,t.root);return v.snapshot=t.root,new bB(new lm(v,[]),t)}class Y0{constructor(e,t,i,r,o,u,m,v){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=u,this.component=m,this._futureSnapshot=v,this.title=this.dataSubject?.pipe((0,gn.U)(x=>x[XE]))??(0,_n.of)(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gn.U)(e=>G0(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gn.U)(e=>G0(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CB(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function JW(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class G1{get title(){return this.data?.[XE]}constructor(e,t,i,r,o,u,m,v,x){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=m,this.routeConfig=v,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=G0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=G0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xB extends yB{constructor(e,t){super(t),this.url=e,LN(this,t)}toString(){return EB(this._root)}}function LN(n,e){e.value._routerState=n,e.children.forEach(t=>LN(n,t))}function EB(n){const e=n.children.length>0?` { ${n.children.map(EB).join(", ")} } `:"";return`${n.value}${e}`}function UN(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$f(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),$f(e.params,t.params)||n.paramsSubject.next(t.params),function pW(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$f(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),$f(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function VN(n,e){const t=$f(n.params,e.params)&&function vW(n,e){return oy(n,e)&&n.every((t,i)=>$f(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||VN(n.parent,e.parent))}let W1=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=_i,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(aI),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb),this.inputBinder=(0,a.f3M)(Z1,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new a.vHH(4013,!1);this._activatedRoute=t;const r=this.location,u=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,v=new XW(t,m,r.injector);this.activated=r.createComponent(u,{index:r.length,injector:v,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]})}return n})();class XW{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Y0?this.route:e===aI?this.childContexts:this.parent.get(e,t)}}const Z1=new a.OlP("");let IB=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=R1([i.queryParams,i.params,i.data]).pipe((0,Go.w)(([o,u,m],v)=>(m={...o,...u,...m},0===v?(0,_n.of)(m):Promise.resolve(m)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const u=(0,a.qFp)(i.component);if(u)for(const{templateName:m}of u.inputs)t.activatedComponentRef.setInput(m,o[m]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();function cI(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function t9(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return cI(n,i,r);return cI(n,i)})}(n,e,t);return new lm(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(m=>cI(n,m)),u}}const i=function n9(n){return new Y0(new zd.X(n.url),new zd.X(n.params),new zd.X(n.queryParams),new zd.X(n.fragment),new zd.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>cI(n,o));return new lm(i,r)}}const BN="ngNavigationCancelingError";function TB(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=sy(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=SB(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function SB(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[BN]=!0,i.cancellationCode=e,t&&(i.url=t),i}function DB(n){return n&&n[BN]}let MB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(i,r){1&i&&a._UZ(0,"router-outlet")},dependencies:[W1],encapsulation:2})}return n})();function jN(n){const e=n.children&&n.children.map(jN),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==_i&&(t.component=MB),t}function Lh(n){return n.outlet||_i}function lI(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class u9{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),UN(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=K0(t);e.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=K0(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),m=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=K0(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=K0(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new KW(o.value.snapshot))}),e.children.length&&this.forwardEvent(new WW(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(UN(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const m=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(m.contexts),u.attachRef=m.componentRef,u.route=m.route.value,u.outlet&&u.outlet.attach(m.componentRef,m.route.value),UN(m.route.value),this.activateChildRoutes(e,null,u.children)}else{const m=lI(r.snapshot);u.attachRef=null,u.route=r,u.injector=m,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class AB{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class K1{constructor(e,t){this.component=e,this.route=t}}function d9(n,e,t){const i=n._root;return uI(i,e?e._root:null,t,[i.value])}function Q0(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,a.Z0I)(n)?e.get(n):n:i}function uI(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=K0(e);return n.children.forEach(u=>{(function f9(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const v=function p9(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!oy(n.url,e.url);case"pathParamsOrQueryParamsChange":return!oy(n.url,e.url)||!$f(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!VN(n,e)||!$f(n.queryParams,e.queryParams);default:return!VN(n,e)}}(u,o,o.routeConfig.runGuardsAndResolvers);v?r.canActivateChecks.push(new AB(i)):(o.data=u.data,o._resolvedData=u._resolvedData),uI(n,e,o.component?m?m.children:null:t,i,r),v&&m&&m.outlet&&m.outlet.isActivated&&r.canDeactivateChecks.push(new K1(m.outlet.component,u))}else u&&dI(e,m,r),r.canActivateChecks.push(new AB(i)),uI(n,null,o.component?m?m.children:null:t,i,r)})(u,o[u.value.outlet],t,i.concat([u.value]),r),delete o[u.value.outlet]}),Object.entries(o).forEach(([u,m])=>dI(m,t.getContext(u),r)),r}function dI(n,e,t){const i=K0(n),r=n.value;Object.entries(i).forEach(([o,u])=>{dI(u,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new K1(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function hI(n){return"function"==typeof n}function kB(n){return n instanceof N1||"EmptyError"===n?.name}const Y1=Symbol("INITIAL_VALUE");function J0(){return(0,Go.w)(n=>R1(n.map(e=>e.pipe(tl(1),Ng(Y1)))).pipe((0,gn.U)(e=>{for(const t of e)if(!0!==t){if(t===Y1)return Y1;if(!1===t||t instanceof W0)return t}return!0}),cr(e=>e!==Y1),tl(1)))}function OB(n){return(0,EN.z)((0,tr.b)(e=>{if(sy(e))throw TB(0,e)}),(0,gn.U)(e=>!0===e))}class Q1{constructor(e){this.segmentGroup=e||null}}class PB{constructor(e){this.urlTree=e}}function X0(n){return $0(new Q1(n))}function RB(n){return $0(new PB(n))}class R9{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new a.vHH(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,_n.of)(i);if(r.numberOfChildren>1||!r.children[_i])return $0(new a.vHH(4e3,!1));r=r.children[_i]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new W0(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);i[r]=t[m]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let u={};return Object.entries(t.children).forEach(([m,v])=>{u[m]=this.createSegmentGroup(e,v,i,r)}),new Lr(o,u)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new a.vHH(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const zN={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function N9(n,e,t,i,r){const o=HN(n,e,t);return o.matched?(i=function r9(n,e){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function k9(n,e,t,i){const r=e.canMatch;if(!r||0===r.length)return(0,_n.of)(!0);const o=r.map(u=>{const m=Q0(u,n);return Ug(function b9(n){return n&&hI(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))});return(0,_n.of)(o).pipe(J0(),OB())}(i,e,t).pipe((0,gn.U)(u=>!0===u?o:{...zN}))):(0,_n.of)(o)}function HN(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...zN}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||fW)(t,n,e);if(!r)return{...zN};const o={};Object.entries(r.posParams??{}).forEach(([m,v])=>{o[m]=v.path});const u=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function NB(n,e,t,i){return t.length>0&&function U9(n,e,t){return t.some(i=>J1(n,e,i)&&Lh(i)!==_i)}(n,t,i)?{segmentGroup:new Lr(e,L9(i,new Lr(t,n.children))),slicedSegments:[]}:0===t.length&&function V9(n,e,t){return t.some(i=>J1(n,e,i))}(n,t,i)?{segmentGroup:new Lr(n.segments,F9(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Lr(n.segments,n.children),slicedSegments:t}}function F9(n,e,t,i,r){const o={};for(const u of i)if(J1(n,t,u)&&!r[Lh(u)]){const m=new Lr([],{});o[Lh(u)]=m}return{...r,...o}}function L9(n,e){const t={};t[_i]=e;for(const i of n)if(""===i.path&&Lh(i)!==_i){const r=new Lr([],{});t[Lh(i)]=r}return t}function J1(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class H9{constructor(e,t,i,r,o,u,m){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=u,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new R9(this.urlSerializer,this.urlTree)}noMatchError(e){return new a.vHH(4002,!1)}recognize(){const e=NB(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,_i).pipe(Lg(t=>{if(t instanceof PB)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Q1?this.noMatchError(t):t}),(0,gn.U)(t=>{const i=new G1([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},_i,this.rootComponentType,null,{}),r=new lm(i,t),o=new xB("",r),u=function PW(n,e,t=null,i=null){return dB(uB(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(o._root),{state:o,tree:u}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,_i).pipe(Lg(i=>{throw i instanceof Q1?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=CB(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Mr.D)(r).pipe(ry(o=>{const u=i.children[o],m=function c9(n,e){const t=n.filter(i=>Lh(i)===e);return t.push(...n.filter(i=>Lh(i)!==e)),t}(t,o);return this.processSegmentGroup(e,m,u,o)}),q0((o,u)=>(o.push(...u),o)),F1(null),function dW(n,e){const t=arguments.length>=2;return i=>i.pipe(n?cr((r,o)=>n(r,o,i)):YE.y,TN(1),t?F1(e):YV(()=>new N1))}(),(0,Ta.z)(o=>{if(null===o)return X0(i);const u=FB(o);return function $9(n){n.sort((e,t)=>e.value.outlet===_i?-1:t.value.outlet===_i?1:e.value.outlet.localeCompare(t.value.outlet))}(u),(0,_n.of)(u)}))}processSegment(e,t,i,r,o,u){return(0,Mr.D)(t).pipe(ry(m=>this.processSegmentAgainstRoute(m._injector??e,t,m,i,r,o,u).pipe(Lg(v=>{if(v instanceof Q1)return(0,_n.of)(null);throw v}))),Fg(m=>!!m),Lg(m=>{if(kB(m))return function j9(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?(0,_n.of)([]):X0(i);throw m}))}processSegmentAgainstRoute(e,t,i,r,o,u,m){return function B9(n,e,t,i){return!!(Lh(n)===i||i!==_i&&J1(e,t,n))&&("**"===n.path||HN(e,n,t).matched)}(i,r,o,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,u,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,u):X0(r):X0(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?RB(o):this.applyRedirects.lineralizeSegments(i,o).pipe((0,Ta.z)(u=>{const m=new Lr(u,{});return this.processSegment(e,t,m,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u){const{matched:m,consumedSegments:v,remainingSegments:x,positionalParamSegments:A}=HN(t,r,o);if(!m)return X0(t);const L=this.applyRedirects.applyRedirectCommands(v,r.redirectTo,A);return r.redirectTo.startsWith("/")?RB(L):this.applyRedirects.lineralizeSegments(r,L).pipe((0,Ta.z)(q=>this.processSegment(e,i,t,q.concat(x),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,o,u){let m;if("**"===i.path){const v=r.length>0?XV(r).parameters:{},x=new G1(r,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LB(i),Lh(i),i.component??i._loadedComponent??null,i,UB(i));m=(0,_n.of)({snapshot:x,consumedSegments:[],remainingSegments:[]}),t.children={}}else m=N9(t,i,r,e).pipe((0,gn.U)(({matched:v,consumedSegments:x,remainingSegments:A,parameters:L})=>v?{snapshot:new G1(x,L,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LB(i),Lh(i),i.component??i._loadedComponent??null,i,UB(i)),consumedSegments:x,remainingSegments:A}:null));return m.pipe((0,Go.w)(v=>null===v?X0(t):this.getChildConfig(e=i._injector??e,i,r).pipe((0,Go.w)(({routes:x})=>{const A=i._loadedInjector??e,{snapshot:L,consumedSegments:q,remainingSegments:ne}=v,{segmentGroup:ae,slicedSegments:ye}=NB(t,q,ne,x);if(0===ye.length&&ae.hasChildren())return this.processChildren(A,x,ae).pipe((0,gn.U)(wt=>null===wt?null:[new lm(L,wt)]));if(0===x.length&&0===ye.length)return(0,_n.of)([new lm(L,[])]);const We=Lh(i)===o;return this.processSegment(A,x,ae,ye,We?_i:o,!0).pipe((0,gn.U)(wt=>[new lm(L,wt)]))}))))}getChildConfig(e,t,i){return t.children?(0,_n.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,_n.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function A9(n,e,t,i){const r=e.canLoad;if(void 0===r||0===r.length)return(0,_n.of)(!0);const o=r.map(u=>{const m=Q0(u,n);return Ug(function g9(n){return n&&hI(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))});return(0,_n.of)(o).pipe(J0(),OB())}(e,t,i).pipe((0,Ta.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,tr.b)(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function P9(n){return $0(SB(!1,3))}())):(0,_n.of)({routes:[],injector:e})}}function q9(n){const e=n.value.routeConfig;return e&&""===e.path}function FB(n){const e=[],t=new Set;for(const i of n){if(!q9(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=FB(i.children);e.push(new lm(i.value,r))}return e.filter(i=>!t.has(i))}function LB(n){return n.data||{}}function UB(n){return n.resolve||{}}function VB(n){return"string"==typeof n.title||null===n.title}function $N(n){return(0,Go.w)(e=>{const t=n(e);return t?(0,Mr.D)(t).pipe((0,gn.U)(()=>e)):(0,_n.of)(e)})}const ew=new a.OlP("ROUTES");let qN=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,_n.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Ug(t.loadComponent()).pipe((0,gn.U)(BB),(0,tr.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),L1(()=>{this.componentLoaders.delete(t)})),r=new KV(i,()=>new Hn.x).pipe(IN());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,_n.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function J9(n,e,t,i){return Ug(n.loadChildren()).pipe((0,gn.U)(BB),(0,Ta.z)(r=>r instanceof a.YKP||Array.isArray(r)?(0,_n.of)(r):(0,Mr.D)(e.compileModuleAsync(r))),(0,gn.U)(r=>{i&&i(n);let o,u,m=!1;return Array.isArray(r)?(u=r,!0):(o=r.create(t).injector,u=o.get(ew,[],{optional:!0,self:!0}).flat()),{routes:u.map(jN),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(L1(()=>{this.childrenLoaders.delete(i)})),u=new KV(o,()=>new Hn.x).pipe(IN());return this.childrenLoaders.set(i,u),u}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function BB(n){return function X9(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let X1=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Hn.x,this.transitionAbortSubject=new Hn.x,this.configLoader=(0,a.f3M)(qN),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(tI),this.rootContexts=(0,a.f3M)(aI),this.inputBindingEnabled=null!==(0,a.f3M)(Z1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,_n.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new qW(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new $W(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new zd.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:oI,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(cr(o=>0!==o.id),(0,gn.U)(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),(0,Go.w)(o=>{this.currentTransition=o;let u=!1,m=!1;return(0,_n.of)(o).pipe((0,tr.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.rawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Go.w)(v=>{const x=v.currentBrowserUrl.toString(),A=!t.navigated||v.extractedUrl.toString()!==x||x!==v.currentUrlTree.toString();if(!A&&"reload"!==(v.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const q="";return this.events.next(new Z0(v.id,this.urlSerializer.serialize(v.rawUrl),q,0)),v.resolve(null),Hf.E}if(t.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return(0,_n.of)(v).pipe((0,Go.w)(q=>{const ne=this.transitions?.getValue();return this.events.next(new $1(q.id,this.urlSerializer.serialize(q.extractedUrl),q.source,q.restoredState)),ne!==this.transitions?.getValue()?Hf.E:Promise.resolve(q)}),function G9(n,e,t,i,r,o){return(0,Ta.z)(u=>function z9(n,e,t,i,r,o,u="emptyOnly"){return new H9(n,e,t,i,r,u,o).recognize()}(n,e,t,i,u.extractedUrl,r,o).pipe((0,gn.U)(({state:m,tree:v})=>({...u,targetSnapshot:m,urlAfterRedirects:v}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,tr.b)(q=>{o.targetSnapshot=q.targetSnapshot,o.urlAfterRedirects=q.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:q.urlAfterRedirects};const ne=new _B(q.id,this.urlSerializer.serialize(q.extractedUrl),this.urlSerializer.serialize(q.urlAfterRedirects),q.targetSnapshot);this.events.next(ne)}));if(A&&t.urlHandlingStrategy.shouldProcessUrl(v.currentRawUrl)){const{id:q,extractedUrl:ne,source:ae,restoredState:ye,extras:We}=v,wt=new $1(q,this.urlSerializer.serialize(ne),ae,ye);this.events.next(wt);const kt=wB(0,this.rootComponentType).snapshot;return this.currentTransition=o={...v,targetSnapshot:kt,urlAfterRedirects:ne,extras:{...We,skipLocationChange:!1,replaceUrl:!1}},(0,_n.of)(o)}{const q="";return this.events.next(new Z0(v.id,this.urlSerializer.serialize(v.extractedUrl),q,1)),v.resolve(null),Hf.E}}),(0,tr.b)(v=>{const x=new BW(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(x)}),(0,gn.U)(v=>(this.currentTransition=o={...v,guards:d9(v.targetSnapshot,v.currentSnapshot,this.rootContexts)},o)),function C9(n,e){return(0,Ta.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=t;return 0===u.length&&0===o.length?(0,_n.of)({...t,guardsResult:!0}):function x9(n,e,t,i){return(0,Mr.D)(n).pipe((0,Ta.z)(r=>function M9(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,_n.of)(!0);const u=o.map(m=>{const v=lI(e)??r,x=Q0(m,v);return Ug(function y9(n){return n&&hI(n.canDeactivate)}(x)?x.canDeactivate(n,e,t,i):v.runInContext(()=>x(n,e,t,i))).pipe(Fg())});return(0,_n.of)(u).pipe(J0())}(r.component,r.route,t,e,i)),Fg(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Ta.z)(m=>m&&function m9(n){return"boolean"==typeof n}(m)?function E9(n,e,t,i){return(0,Mr.D)(e).pipe(ry(r=>JE(function T9(n,e){return null!==n&&e&&e(new GW(n)),(0,_n.of)(!0)}(r.route.parent,i),function I9(n,e){return null!==n&&e&&e(new ZW(n)),(0,_n.of)(!0)}(r.route,i),function D9(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(u=>function h9(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>zc(()=>{const m=u.guards.map(v=>{const x=lI(u.node)??t,A=Q0(v,x);return Ug(function v9(n){return n&&hI(n.canActivateChild)}(A)?A.canActivateChild(i,n):x.runInContext(()=>A(i,n))).pipe(Fg())});return(0,_n.of)(m).pipe(J0())}));return(0,_n.of)(o).pipe(J0())}(n,r.path,t),function S9(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,_n.of)(!0);const r=i.map(o=>zc(()=>{const u=lI(e)??t,m=Q0(o,u);return Ug(function _9(n){return n&&hI(n.canActivate)}(m)?m.canActivate(e,n):u.runInContext(()=>m(e,n))).pipe(Fg())}));return(0,_n.of)(r).pipe(J0())}(n,r.route,t))),Fg(r=>!0!==r,!0))}(i,o,n,e):(0,_n.of)(m)),(0,gn.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,v=>this.events.next(v)),(0,tr.b)(v=>{if(o.guardsResult=v.guardsResult,sy(v.guardsResult))throw TB(0,v.guardsResult);const x=new jW(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.events.next(x)}),cr(v=>!!v.guardsResult||(this.cancelNavigationTransition(v,"",3),!1)),$N(v=>{if(v.guards.canActivateChecks.length)return(0,_n.of)(v).pipe((0,tr.b)(x=>{const A=new zW(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(A)}),(0,Go.w)(x=>{let A=!1;return(0,_n.of)(x).pipe(function W9(n,e){return(0,Ta.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,_n.of)(t);let o=0;return(0,Mr.D)(r).pipe(ry(u=>function Z9(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!VB(r)&&(o[XE]=r.title),function K9(n,e,t,i){const r=function Y9(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,_n.of)({});const o={};return(0,Mr.D)(r).pipe((0,Ta.z)(u=>function Q9(n,e,t,i){const r=lI(e)??i,o=Q0(n,r);return Ug(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[u],e,t,i).pipe(Fg(),(0,tr.b)(m=>{o[u]=m}))),TN(1),QV(o),Lg(u=>kB(u)?Hf.E:$0(u)))}(o,n,e,i).pipe((0,gn.U)(u=>(n._resolvedData=u,n.data=CB(n,t).resolve,r&&VB(r)&&(n.data[XE]=r.title),null)))}(u.route,i,n,e)),(0,tr.b)(()=>o++),TN(1),(0,Ta.z)(u=>o===r.length?(0,_n.of)(t):Hf.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,tr.b)({next:()=>A=!0,complete:()=>{A||this.cancelNavigationTransition(x,"",2)}}))}),(0,tr.b)(x=>{const A=new HW(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(A)}))}),$N(v=>{const x=A=>{const L=[];A.routeConfig?.loadComponent&&!A.routeConfig._loadedComponent&&L.push(this.configLoader.loadComponent(A.routeConfig).pipe((0,tr.b)(q=>{A.component=q}),(0,gn.U)(()=>{})));for(const q of A.children)L.push(...x(q));return L};return R1(x(v.targetSnapshot.root)).pipe(F1(),tl(1))}),$N(()=>this.afterPreactivation()),(0,gn.U)(v=>{const x=function e9(n,e,t){const i=cI(n,e._root,t?t._root:void 0);return new bB(i,e)}(t.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return this.currentTransition=o={...v,targetRouterState:x},o}),(0,tr.b)(()=>{this.events.next(new PN)}),((n,e,t,i)=>(0,gn.U)(r=>(new u9(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,v=>this.events.next(v),this.inputBindingEnabled),tl(1),(0,tr.b)({next:v=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vg(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects))),t.titleStrategy?.updateTitle(v.targetRouterState.snapshot),v.resolve(!0)},complete:()=>{u=!0}}),Hd(this.transitionAbortSubject.pipe((0,tr.b)(v=>{throw v}))),L1(()=>{u||m||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Lg(v=>{if(m=!0,DB(v))this.events.next(new sI(o.id,this.urlSerializer.serialize(o.extractedUrl),v.message,v.cancellationCode)),function i9(n){return DB(n)&&sy(n.url)}(v)?this.events.next(new RN(v.url)):o.resolve(!1);else{this.events.next(new q1(o.id,this.urlSerializer.serialize(o.extractedUrl),v,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(v))}catch(x){o.reject(x)}}return Hf.E}))}))}cancelNavigationTransition(t,i,r){const o=new sI(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jB(n){return n!==oI}let zB=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===_i);return i}getResolvedTitleForRoute(t){return t.data[XE]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(e8)},providedIn:"root"})}return n})(),e8=(()=>{class n extends zB{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(pt))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),t8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(i8)},providedIn:"root"})}return n})();class n8{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let i8=(()=>{class n extends n8{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}();static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const eA=new a.OlP("",{providedIn:"root",factory:()=>({})});let r8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(o8)},providedIn:"root"})}return n})(),o8=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fI=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(fI||{});function HB(n,e){n.events.pipe(cr(t=>t instanceof Vg||t instanceof sI||t instanceof q1||t instanceof Z0),(0,gn.U)(t=>t instanceof Vg||t instanceof Z0?fI.COMPLETE:t instanceof sI&&(0===t.code||1===t.code)?fI.REDIRECTING:fI.FAILED),cr(t=>t!==fI.REDIRECTING),tl(1)).subscribe(()=>{e()})}function s8(n){throw n}function a8(n,e,t){return e.parse("/")}const c8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},l8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yc=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this._events=new Hn.x,this.options=(0,a.f3M)(eA,{optional:!0})||{},this.pendingTasks=(0,a.f3M)(a.HDt),this.errorHandler=this.options.errorHandler||s8,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||a8,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(r8),this.routeReuseStrategy=(0,a.f3M)(t8),this.titleStrategy=(0,a.f3M)(zB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,a.f3M)(ew,{optional:!0})?.flat()??[],this.navigationTransitions=(0,a.f3M)(X1),this.urlSerializer=(0,a.f3M)(tI),this.location=(0,a.f3M)(mt),this.componentInputBindingEnabled=!!(0,a.f3M)(Z1,{optional:!0}),this.eventsSubscription=new Zu.w0,this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new W0,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wB(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void($B(i)&&this._events.next(i));if(i instanceof $1)jB(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Z0)this.rawUrlTree=r.rawUrl;else if(i instanceof _B){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof PN)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof sI)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof RN){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||jB(r.source)};this.scheduleNavigation(o,oI,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof q1&&this.restoreHistory(r,!0),i instanceof Vg&&(this.navigated=!0),$B(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),oI,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},u=r?.navigationId?r:null;if(r){const v={...r};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(o.state=v)}const m=this.parseUrl(t);this.scheduleNavigation(m,i,u,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(jN),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:m,preserveFragment:v}=i,x=v?this.currentUrlTree.fragment:u;let L,A=null;switch(m){case"merge":A={...this.currentUrlTree.queryParams,...o};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=o||null}null!==A&&(A=this.removeEmptyProps(A));try{L=uB(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),L=this.currentUrlTree.root}return dB(L,t,A,x??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=sy(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,oI,null,i)}navigate(t,i={skipLocationChange:!1}){return function u8(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new a.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...c8}:!1===i?{...l8}:i,sy(t))return tB(this.currentUrlTree,t,r);const o=this.parseUrl(t);return tB(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,u){if(this.disposed)return Promise.resolve(!1);let m,v,x;u?(m=u.resolve,v=u.reject,x=u.promise):x=new Promise((L,q)=>{m=L,v=q});const A=this.pendingTasks.add();return HB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(A))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:m,reject:v,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(L=>Promise.reject(L))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const u={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",u)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $B(n){return!(n instanceof PN||n instanceof RN)}let um=(()=>{class n{constructor(t,i,r,o,u,m){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=u,this.locationStrategy=m,this.href=null,this.commands=null,this.onChanges=new Hn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const v=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===v||"area"===v,this.isAnchorElement?this.subscription=t.events.subscribe(x=>{x instanceof Vg&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(yc),a.Y36(Y0),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Ne))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&a.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&i&&a.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",a.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",a.VuI],replaceUrl:["replaceUrl","replaceUrl",a.VuI],routerLink:"routerLink"},standalone:!0,features:[a.Xq5,a.TTD]})}return n})(),qB=(()=>{class n{get isActive(){return this._isActive}constructor(t,i,r,o,u){this.router=t,this.element=i,this.renderer=r,this.cdr=o,this.link=u,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=t.events.subscribe(m=>{m instanceof Vg&&this.update()})}ngAfterContentInit(){(0,_n.of)(this.links.changes,(0,_n.of)(null)).pipe((0,QE.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Mr.D)(t).pipe((0,QE.J)()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function d8(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(yc),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(um,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(1&i&&a.Suo(o,um,5),2&i){let u;a.iGM(u=a.CRH())&&(r.links=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.TTD]})}return n})();class GB{}let h8=(()=>{class n{constructor(t,i,r,o,u){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(cr(t=>t instanceof Vg),ry(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,a.MMx)(o.providers,t,`Route: ${o.path}`));const u=o._injector??t,m=o._loadedInjector??u;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(u,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(m,o.children??o._loadedRoutes))}return(0,Mr.D)(r).pipe((0,QE.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):(0,_n.of)(null);const o=r.pipe((0,Ta.z)(u=>null===u?(0,_n.of)(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,Mr.D)([o,u]).pipe((0,QE.J)())}return o})}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(yc),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(GB),a.LFG(qN))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const GN=new a.OlP("");let WB=(()=>{class n{constructor(t,i,r,o,u={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof $1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Vg?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Z0&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof vB&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vB(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){a.$Z()};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();function dm(n,e){return{\u0275kind:n,\u0275providers:e}}function KB(){const n=(0,a.f3M)(a.zs3);return e=>{const t=n.get(a.z2F);if(e!==t.components[0])return;const i=n.get(yc),r=n.get(YB);1===n.get(WN)&&i.initialNavigation(),n.get(QB,null,a.XFs.Optional)?.setUpPreloading(),n.get(GN,null,a.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const YB=new a.OlP("",{factory:()=>new Hn.x}),WN=new a.OlP("",{providedIn:"root",factory:()=>1}),QB=new a.OlP("");function g8(n){return dm(0,[{provide:QB,useExisting:h8},{provide:GB,useExisting:n}])}const JB=new a.OlP("ROUTER_FORROOT_GUARD"),v8=[mt,{provide:tI,useClass:DN},yc,aI,{provide:Y0,useFactory:function ZB(n){return n.routerState.root},deps:[yc]},qN,[]];function y8(){return new a.PXZ("Router",yc)}let XB=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[v8,[],{provide:ew,multi:!0,useValue:t},{provide:JB,useFactory:x8,deps:[[yc,new a.FiY,new a.tp0]]},{provide:eA,useValue:i||{}},i?.useHash?{provide:Ne,useClass:st}:{provide:Ne,useClass:lt},{provide:GN,useFactory:()=>{const n=(0,a.f3M)(Er),e=(0,a.f3M)(a.R0b),t=(0,a.f3M)(eA),i=(0,a.f3M)(X1),r=(0,a.f3M)(tI);return t.scrollOffset&&n.setOffset(t.scrollOffset),new WB(r,i,n,e,t)}},i?.preloadingStrategy?g8(i.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:y8},i?.initialNavigation?E8(i):[],i?.bindToComponentInputs?dm(8,[IB,{provide:Z1,useExisting:IB}]).\u0275providers:[],[{provide:e3,useFactory:KB},{provide:a.tb,multi:!0,useExisting:e3}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ew,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(JB,8))};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();function x8(n){return"guarded"}function E8(n){return["disabled"===n.initialNavigation?dm(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const e=(0,a.f3M)(yc);return()=>{e.setUpLocationChangeListener()}}},{provide:WN,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?dm(2,[{provide:WN,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:e=>{const t=e.get(ut,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(yc),o=e.get(YB);HB(r,()=>{i(!0)}),e.get(X1).afterPreactivation=()=>(i(!0),o.closed?(0,_n.of)(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const e3=new a.OlP(""),T8=function(n){return{"image-active":n}};function S8(n,e){if(1&n&&a._UZ(0,"img",6),2&n){const t=e.$implicit,i=e.index,r=a.oxw(2);a.Q6J("src",t.imageSrc,a.LSH)("alt",t.imageAlt)("ngClass",a.VKq(3,T8,r.selectedIndex===i))}}const D8=function(n){return{active:n}};function M8(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"span",9),a.NdJ("click",function(){const o=a.CHM(t).index,u=a.oxw(3);return a.KtG(u.selectImage(o))}),a.qZA()}if(2&n){const t=e.index,i=a.oxw(3);a.Q6J("ngClass",a.VKq(1,D8,i.selectedIndex===t))}}function A8(n,e){if(1&n&&(a.TgZ(0,"div",7),a.YNc(1,M8,1,3,"span",8),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",t.images)}}function k8(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",10)(1,"i",11),a.NdJ("click",function(){a.CHM(t);const r=a.oxw(2);return a.KtG(r.onPrevClick())}),a.qZA()()}}function O8(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",12)(1,"i",13),a.NdJ("click",function(){a.CHM(t);const r=a.oxw(2);return a.KtG(r.onNextClick())}),a.qZA()()}}function P8(n,e){if(1&n&&(a.TgZ(0,"div",1),a.YNc(1,S8,1,5,"img",2),a.YNc(2,A8,2,1,"div",3),a.YNc(3,k8,2,0,"div",4),a.YNc(4,O8,2,0,"div",5),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",t.images),a.xp6(1),a.Q6J("ngIf",t.indicators),a.xp6(1),a.Q6J("ngIf",t.controls),a.xp6(1),a.Q6J("ngIf",t.controls)}}let R8=(()=>{class n{constructor(){this.images=[],this.indicators=!0,this.controls=!0,this.autoSlide=!1,this.slideInterval=5e3,this.selectedIndex=0}ngOnInit(){this.autoSlide&&this.autoSlideImages()}autoSlideImages(){setInterval(()=>{this.onNextClick()},this.slideInterval)}selectImage(t){this.selectedIndex=t}onPrevClick(){0===this.selectedIndex?this.selectedIndex=this.images.length-1:this.selectedIndex--}onNextClick(){this.selectedIndex===this.images.length-1?this.selectedIndex=0:this.selectedIndex++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-carousel"]],inputs:{images:"images",indicators:"indicators",controls:"controls",autoSlide:"autoSlide",slideInterval:"slideInterval"},decls:1,vars:1,consts:[["class","carousel-container",4,"ngIf"],[1,"carousel-container"],["class","fade",3,"src","alt","ngClass",4,"ngFor","ngForOf"],["class","carousel-dot-container",4,"ngIf"],["class","btn-carousel btn-prev",4,"ngIf"],["class","btn-carousel btn-next",4,"ngIf"],[1,"fade",3,"src","alt","ngClass"],[1,"carousel-dot-container"],["class","dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dot",3,"ngClass","click"],[1,"btn-carousel","btn-prev"],[1,"fas","fa-arrow-circle-left","icon-carousel","icon-prev",3,"click"],[1,"btn-carousel","btn-next"],[1,"fas","fa-arrow-circle-right","icon-carousel","icon-next",3,"click"]],template:function(i,r){1&i&&a.YNc(0,P8,5,4,"div",0),2&i&&a.Q6J("ngIf",r.images&&r.images.length>0)},dependencies:[Yo,jn,ki],styles:[".carousel-container[_ngcontent-%COMP%]{position:relative;margin:auto;text-align:center;width:1000px;border-radius:15px;box-shadow:0 6px 12px #dce1e1}.carousel-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none;border-radius:15px}.carousel-container[_ngcontent-%COMP%]   img.image-active[_ngcontent-%COMP%]{display:block;width:100%;height:100%}.carousel-dot-container[_ngcontent-%COMP%]{position:absolute;right:0;left:0;bottom:0;display:flex;justify-content:center;padding:0;margin-bottom:1rem}.dot[_ngcontent-%COMP%]{cursor:pointer;height:13px;width:13px;margin:0 5px;background-color:#fff;border-radius:50%;display:inline-block;transition:opacitiy .6s ease;opacity:.5}.active[_ngcontent-%COMP%], .dot[_ngcontent-%COMP%]:hover{opacity:1}.fade[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fade;animation-duration:.7s}@keyframes _ngcontent-%COMP%_fade{0%{opacity:.8}to{opacity:1}}.btn-carousel[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:0 0;cursor:pointer}.icon-carousel[_ngcontent-%COMP%]{opacity:.5;transition:all .15s ease}.icon-carousel[_ngcontent-%COMP%]:hover{color:#fff;opacity:.9}.icon-carousel[_ngcontent-%COMP%]:active{opacity:.5}.icon-prev[_ngcontent-%COMP%], .icon-next[_ngcontent-%COMP%]{font-size:35px}.btn-prev[_ngcontent-%COMP%]{left:0}.btn-next[_ngcontent-%COMP%]{right:0}"]})}return n})(),N8=(()=>{class n{constructor(){this.images=[{imageSrc:"./assets/images/commercial/scandal_commercial_ps_copy.jpg",imageAlt:"scandal"},{imageSrc:"./assets/images/commercial/sauvage_commercial.jpg",imageAlt:"sauvage"}]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-dashboard"]],decls:1,vars:2,consts:[[3,"images","autoSlide"]],template:function(i,r){1&i&&a._UZ(0,"app-carousel",0),2&i&&a.Q6J("images",r.images)("autoSlide",!1)},dependencies:[R8],styles:['@charset "UTF-8";']})}return n})();Q(4467);const tA=[{routerLink:"dashboard",icon:"fal fa-home",label:"F\u0151oldal"},{routerLink:"products",icon:"fal fa-duotone fa-glasses",label:"Napszem\xfcvegek"},{routerLink:"accessories",icon:"fal fa-gem",label:"Kieg\xe9sz\xedt\u0151k"},{routerLink:"fragrances",icon:" fa fa-spray-can-sparkles",label:"Parf\xfcm\xf6k"},{routerLink:"media",icon:"fal fa-camera",label:"Media"},{routerLink:"user",icon:"fal fa-user",label:"Profil"},{routerLink:"shopping-cart",icon:"fal fa-cart-shopping",label:"Kos\xe1r",badge:0}];let nl=(()=>{class n{constructor(t){this.fs=t,this.cartItems=[],this.currentProduct=[]}getCollectionData(t){let i=Rh(this.fs,t);return Fs(i,{idField:"id"})}refreshData(t,i){t().subscribe(r=>{i.push(...r)})}getHawkers(){return this.getCollectionData("hawkers")}getJPG(){return this.getCollectionData("JPG")}getOrders(){return this.getCollectionData("*orders")}getUsers(){return this.getCollectionData("*users")}addToCartService(t){const i_selectedPrice=this.selectedSizePrice,r=this.cartItems.find(u=>u.product.id===t.id&&u.selectedPrice===i_selectedPrice);this.cartItems=this.getCartItems(),console.log("Cart items before modification:",this.cartItems),console.log("item: ",t),r?r.quantity<5&&r.quantity++:(this.cartItems.push({product:t,quantity:1,selectedPrice:this.selectedSizePrice,size:this.selectedSize}),console.log("Selected size price: ",this.selectedSizePrice),console.log("Selected size : ",this.selectedSize));const o=tA.find(u=>"shopping-cart"===u.routerLink);if(o){const u=this.cartItems.reduce((m,v)=>m+v.quantity,0);o.badge=u}console.log("Cart items after modification:",this.cartItems)}selectSize(t){this.selectedSize=t.size,this.selectedSizePrice=t.price,console.log("kiv\xe1lasztott \xe1r: ",t.price),console.log("kiv\xe1lasztott kiszerel\xe9s: ",t.size)}getCurrentProduct(t){return this.currentProduct.push([t]),this.currentProduct}getCartItems(){return this.cartItems}getSelectedPrice(){return console.log("valami",this.selectedSizePrice),this.selectedSizePrice}exit(){window.location.reload()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Bf))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hm=(()=>{class n{constructor(t,i,r){this.rendererFactory=t,this.services=i,this.firestore=r,this.isAllChecked=!0,this.isDiorChecked=!1,this.isLancomeChecked=!1,this.isJPGChecked=!1,this.isWomanChecked=!1,this.isManChecked=!1,this.isModalOpen=!1,this.isFilterChecked=!1,this.displayItemCount=6,this.long=9,this.fragrances$=Fs(Rh(this.firestore,"fragrances")),this.manFragrances$=Fs(Za(Rh(this.firestore,"fragrances"),fo("gender","==","man"))),this.womanFragrances$=Fs(Za(Rh(this.firestore,"fragrances"),fo("gender","==","woman"))),this.diorQuery$=Fs(Za(Rh(this.firestore,"fragrances"),fo("brand","==","Dior"))),this.lancomeQuery$=Fs(Za(Rh(this.firestore,"fragrances"),fo("brand","==","Lancome"))),this.JPGQuery$=Fs(Za(Rh(this.firestore,"fragrances"),fo("brand","==","Jean Paul Gaultier"))),this.renderer=t.createRenderer(null,null)}loadMoreItem(){this.displayItemCount+=6}filterCheck(){this.isFilterChecked=!this.isFilterChecked}onCheckboxChange(t){"isAllChecked"===t&&(this.isAllChecked=!0,this.isDiorChecked=!1,this.isLancomeChecked=!1,this.isJPGChecked=!1,this.isWomanChecked=!1,this.isManChecked=!1),("isDiorChecked"===t||"isLancomeChecked"===t||"isJPGChecked"===t||"isWomanChecked"===t||"isManChecked"===t)&&(this.isAllChecked=!(this.isDiorChecked||this.isLancomeChecked||this.isJPGChecked||this.isWomanChecked||this.isManChecked));const i=Rh(this.firestore,"fragrances");!0===this.isManChecked&&(this.diorQuery$=Fs(Za(i,fo("gender","==","man"),fo("brand","==","Dior"))),this.lancomeQuery$=Fs(Za(i,fo("gender","==","man"),fo("brand","==","Lancome"))),this.JPGQuery$=Fs(Za(i,fo("gender","==","man"),fo("brand","==","Jean Paul Gaultier"))),this.manFragrances$=Fs(!0===this.isManChecked&&(this.isDiorChecked||this.isLancomeChecked||this.isJPGChecked)?Za(i,fo("gender","==","man"),fo("brand","==","*")):Za(i,fo("gender","==","man")))),!0===this.isWomanChecked&&(this.diorQuery$=Fs(Za(i,fo("gender","==","woman"),fo("brand","==","Dior"))),this.lancomeQuery$=Fs(Za(i,fo("gender","==","woman"),fo("brand","==","Lancome"))),this.JPGQuery$=Fs(Za(i,fo("gender","==","woman"),fo("brand","==","Jean Paul Gaultier"))),this.womanFragrances$=Fs(!0===this.isWomanChecked&&(this.isDiorChecked||this.isLancomeChecked||this.isJPGChecked)?Za(i,fo("gender","==","woman"),fo("brand","==","*")):Za(i,fo("gender","==","woman")))),!1===this.isWomanChecked&&!1===this.isManChecked&&(this.diorQuery$=Fs(Za(i,fo("brand","==","Dior"))),this.lancomeQuery$=Fs(Za(i,fo("brand","==","Lancome"))),this.JPGQuery$=Fs(Za(i,fo("brand","==","Jean Paul Gaultier"))))}mouseOver(t){t.imagePath=t.modalImagePath[1]}mouseLeave(t){t.imagePath=t.modalImagePath[0]}openModal(t){this.selectedProduct=t,this.isModalOpen=!0,console.log("Kiv\xe1lasztott term\xe9k:",t),this.renderer.setStyle(document.body,"overflow","hidden"),t.type&&t.type.length>0&&this.services.selectSize(t.type[0])}closeModal(){this.renderer.removeStyle(document.body,"overflow"),this.isModalOpen=!1}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.FYo),a.LFG(nl),a.LFG(Bf))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),t3=(()=>{class n{constructor(t,i,r,o){this.rendererFactory=t,this.services=i,this.firestore=r,this.productService=o,this.screenWidthChanged=new a.vpe,this.closeModalEvent=new a.vpe,this.screenWidth=0,this.currentImage="",this.showDetailsBox=!1,this.renderer=t.createRenderer(null,null),this.updateScreenWidth(),window.addEventListener("resize",()=>this.updateScreenWidth())}updateScreenWidth(){this.screenWidth=window.innerWidth,this.screenWidthChanged.emit(this.screenWidth)}disableScroll(){this.renderer.setStyle(document.body,"overflow","hidden")}enableScroll(){this.renderer.removeStyle(document.body,"overflow")}showDetails(){this.showDetailsBox=!this.showDetailsBox}changeMainImage(t){this.currentImage=t,console.log("imagePath value: ",t)}closeModal(){this.closeModalEvent.emit(),this.services.selectedSize=null,this.services.selectedSizePrice=null,console.log("bez\xe1rt modal \xe9rt\xe9ke: ",this.services.selectedSize,this.services.selectedSizePrice),this.renderer.removeStyle(document.body,"overflow"),this.productService.isModalOpen=!1,this.showDetailsBox=!1}addToCart(t){this.services.addToCartService(t),this.closeModal()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.FYo),a.LFG(nl),a.LFG(Bf),a.LFG(hm))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function F8(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div")(1,"img",22),a.NdJ("mouseover",function(){const o=a.CHM(t).$implicit,u=a.oxw();return a.KtG(u.modalService.changeMainImage(o))}),a.qZA()()}if(2&n){const t=e.$implicit;a.xp6(1),a.Q6J("src",t,a.LSH)}}function L8(n,e){1&n&&(a.TgZ(0,"i",23),a._uU(1,"Kattintson a r\xe9szletek\xe9rt!"),a.qZA())}function U8(n,e){if(1&n&&(a.TgZ(0,"div",24),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.hij(" ",t.product.composition.compDescription," ")}}function V8(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",25),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw();return a.KtG(u.services.selectSize(o))}),a.TgZ(1,"div",26),a._uU(2),a.qZA()()}if(2&n){const t=e.$implicit,i=a.oxw();a.xp6(1),a.ekj("selected",i.services.selectedSize===t),a.xp6(1),a.AsE("",t.size," ",t.price," Ft")}}function B8(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",27)(1,"div",28)(2,"p",29),a._uU(3),a.qZA(),a.TgZ(4,"p",29),a._uU(5),a.qZA(),a.TgZ(6,"p",29),a._uU(7),a.qZA(),a.TgZ(8,"p",29),a._uU(9),a.qZA(),a.TgZ(10,"p",29),a._uU(11),a.qZA(),a.TgZ(12,"p",12),a._uU(13,"Term\xe9kjellemz\u0151: "),a.qZA(),a._uU(14),a.TgZ(15,"button",30),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.modalService.showDetails())}),a._UZ(16,"i",20),a.qZA()()()}if(2&n){const t=a.oxw();a.xp6(3),a.hij("",t.product.scent," "),a.xp6(2),a.hij("Fejillat: ",t.product.composition.head," "),a.xp6(2),a.hij("Sz\xedvillat: ",t.product.composition.hearth," "),a.xp6(2),a.hij("Alapillat: ",t.product.composition.base," "),a.xp6(2),a.hij("Illat: ",t.product.composition.scentType," "),a.xp6(3),a.hij(" ",t.product.composition.compDescription," ")}}let n3=(()=>{class n{constructor(t,i,r){this.productService=t,this.modalService=i,this.services=r}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(hm),a.Y36(t3),a.Y36(nl))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-modal"]],inputs:{product:"product"},decls:42,vars:14,consts:[[1,"modal-container"],[1,"modal-content"],[1,"left-section"],[1,"product-name"],[1,"product-description"],[1,"product-price"],[1,"modal-image",3,"src"],[1,"modal-image-selection-container"],[4,"ngFor","ngForOf"],[1,"right-section"],[1,"composition-container"],[1,"composition-description"],[1,"comp-desc-p"],[1,"composition-description",3,"click"],["class","mobile-comp-desc-i",4,"ngIf"],["class","comp-desc-p-details",4,"ngIf"],[1,"item-size-buttons-container"],[3,"click",4,"ngFor","ngForOf"],[1,"cart-btn",3,"click"],[1,"close-btn",3,"click"],[1,"fal","fa-times","close-icon"],["class","mobile-comp-desc-details-container",4,"ngIf"],["alt","Image",1,"modal-image-selection",3,"src","mouseover"],[1,"mobile-comp-desc-i"],[1,"comp-desc-p-details"],[3,"click"],["tabindex","0",1,"item-size-buttons"],[1,"mobile-comp-desc-details-container"],[1,"mobile-comp-desc-details"],[1,"mobile-comp-desc-p"],[1,"close-comp-desc-details-btn",3,"click"]],template:function(i,r){1&i&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),a._uU(4),a.qZA(),a.TgZ(5,"div",4),a._uU(6),a.qZA(),a.TgZ(7,"div",5),a._uU(8),a.qZA(),a._UZ(9,"img",6),a.TgZ(10,"div",7),a.YNc(11,F8,2,1,"div",8),a.qZA()(),a.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"p",12),a._uU(16,"Fejillat: "),a.qZA(),a._uU(17),a.qZA(),a.TgZ(18,"div",11)(19,"p",12),a._uU(20,"Sz\xedvillat: "),a.qZA(),a._uU(21),a.qZA(),a.TgZ(22,"div",11)(23,"p",12),a._uU(24,"Alapillat: "),a.qZA(),a._uU(25),a.qZA(),a.TgZ(26,"div",11)(27,"p",12),a._uU(28,"Illat: "),a.qZA(),a._uU(29),a.qZA(),a.TgZ(30,"div",13),a.NdJ("click",function(){return r.modalService.showDetails()}),a.TgZ(31,"p",12),a._uU(32,"Term\xe9kjellemz\u0151: "),a.YNc(33,L8,2,0,"i",14),a.qZA(),a.YNc(34,U8,2,1,"div",15),a.qZA()(),a.TgZ(35,"div",16),a.YNc(36,V8,3,4,"div",17),a.qZA(),a.TgZ(37,"div",18),a.NdJ("click",function(){return r.modalService.addToCart(r.product)}),a._uU(38,"Hozz\xe1ad\xe1s a kos\xe1rhoz"),a.qZA()(),a.TgZ(39,"button",19),a.NdJ("click",function(){return r.modalService.closeModal()}),a._UZ(40,"i",20),a.qZA(),a.YNc(41,B8,17,6,"div",21),a.qZA()()),2&i&&(a.xp6(4),a.AsE(" ",r.product.productName," ",r.services.selectedSize,""),a.xp6(2),a.hij("",r.product.scent," "),a.xp6(2),a.hij("",r.services.selectedSizePrice," Ft"),a.xp6(1),a.Q6J("src",r.modalService.currentImage||r.product.modalImagePath[0],a.LSH),a.xp6(2),a.Q6J("ngForOf",r.product.modalImagePath),a.xp6(6),a.hij("",r.product.composition.head," "),a.xp6(4),a.hij("",r.product.composition.hearth," "),a.xp6(4),a.hij("",r.product.composition.base," "),a.xp6(4),a.hij("",r.product.composition.scentType," "),a.xp6(4),a.Q6J("ngIf",r.modalService.screenWidth<=800),a.xp6(1),a.Q6J("ngIf",r.modalService.screenWidth>800),a.xp6(2),a.Q6J("ngForOf",r.product.type),a.xp6(5),a.Q6J("ngIf",r.modalService.showDetailsBox&&r.modalService.screenWidth<=800))},dependencies:[jn,ki],styles:['@charset "UTF-8";.modal-container[_ngcontent-%COMP%]{background-color:#00000080;display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 10px #0003;width:900px;height:700px;position:relative;display:flex;flex-direction:column}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:66.6%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:24px;padding-bottom:10px;color:#333;border-bottom:1px solid #aeaeae}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:16px;color:#666}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:360px;max-height:360px;width:auto;height:auto;position:absolute;top:50%;left:33%;transform:translate(-50%,-50%);-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;position:absolute;bottom:0}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:70px;width:auto;height:auto;margin-left:15px;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{background-color:#092c3d;position:absolute;right:0;top:auto;bottom:0;height:100%;width:33.3%;padding:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:flex;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{position:absolute;background-color:#fff;right:10px;bottom:10px;font-size:10px;font-size:14px;padding:10px 22px;cursor:pointer;transition:ease .4s;-webkit-user-select:none;user-select:none;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:active{background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;top:65%;left:10px;-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;padding-left:5px;padding-right:5px;width:90px;height:40px;align-items:center;text-align:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:focus{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#ef2158}.mobile-comp-desc-details-container[_ngcontent-%COMP%]{position:fixed;width:95%;height:95%;z-index:2;border-radius:5px;background-color:#000c}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:90%;position:absolute;bottom:0;padding:15px;border-radius:5px}.mobile-comp-desc-details-container[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:fixed;top:10%;right:0;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;overflow-x:visible}@media screen and (max-width: 550px){.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{padding:0;width:95%;height:95%;top:0}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{width:100%;z-index:1;position:absolute;height:65%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:18px;padding:10px 0 10px 5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{margin-left:8px;font-size:16px;display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;margin-left:8px;display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:60%;max-height:60%;position:absolute;width:auto;height:auto;overflow:hidden;top:50%;left:50%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]{left:0;width:100%;padding:0;box-sizing:border-box;overflow-x:auto}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:50px;margin-left:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{width:100%;padding:5px;border-radius:5px;overflow:hidden;height:35%}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){display:flex;margin-top:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .comp-desc-p-details[_ngcontent-%COMP%]{display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{right:10px;bottom:10px;padding:10px 30px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{position:relative;top:10%;left:10px}}@media screen and (min-width: 550px) and (max-width: 800px){.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:100%;margin:0 10px;height:700px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:18px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:16px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{max-width:300px;max-height:300px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .modal-image-selection-container[_ngcontent-%COMP%]   .modal-image-selection[_ngcontent-%COMP%]{max-height:60px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(1), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3), .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(4){display:none;color:#fff}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5){color:#fff;display:flex;margin-top:15px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .comp-desc-p-details[_ngcontent-%COMP%]{display:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .composition-description[_ngcontent-%COMP%]:nth-child(5)   .mobile-comp-desc-p[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .composition-container[_ngcontent-%COMP%]   .comp-desc-p[_ngcontent-%COMP%]{margin-right:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]{position:absolute;background-color:#fff;right:5px;bottom:5px;font-size:12px;padding:5px 15px;cursor:pointer;transition:ease .4s;-webkit-user-select:none;user-select:none;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .cart-btn[_ngcontent-%COMP%]:active{background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;position:absolute;top:65%;left:10px;-webkit-user-select:none;user-select:none}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]{border:1.5px solid #aeaeae;padding-left:5px;padding-right:5px;width:90px;height:40px;align-items:center;text-align:center;background-color:#fff;cursor:pointer;border-radius:3px;transition:ease .2s;font-weight:500;color:#333}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:hover{background-color:#d1d1d1}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .item-size-buttons-container[_ngcontent-%COMP%]   .item-size-buttons[_ngcontent-%COMP%]:focus{border:1.2px solid #333;background-color:#acacac;color:#000}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;z-index:2;border-radius:5px;background-color:#000c}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]   .mobile-comp-desc-details[_ngcontent-%COMP%]{background-color:#fff;width:60%;height:60%;position:relative;top:50%;left:50%;transform:translate(-50%,-50%);padding:15px;border-radius:5px}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .mobile-comp-desc-details-container[_ngcontent-%COMP%]   .close-comp-desc-details-btn[_ngcontent-%COMP%], .modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background-color:red;color:#fff;position:absolute;top:-10px;right:-10px;font-size:15px;width:30px;height:30px;border:none;border-radius:50%;cursor:pointer;z-index:100}.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:#ef2158}}@media screen and (min-width: 801px){.modal-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{margin:0 10px}}']})}return n})();function j8(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",3),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw();return a.KtG(u.productService.openModal(o))}),a.TgZ(1,"div",4),a._uU(2),a.TgZ(3,"p",5),a._uU(4),a.qZA()(),a.TgZ(5,"div",6),a._UZ(6,"img",7),a.qZA(),a.TgZ(7,"div",8),a._uU(8),a.TgZ(9,"p",9),a._uU(10,"Ft"),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.hij(" ",t.brand," "),a.xp6(2),a.Oqu(t.brandName),a.xp6(2),a.Q6J("src",t.imagePath,a.LSH),a.xp6(2),a.hij(" ",t.price," ")}}function z8(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"app-modal",10),a.NdJ("closeModalEvent",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.productService.closeModal())}),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("product",t.productService.selectedProduct)}}let H8=(()=>{class n{constructor(t,i,r,o){this.services=t,this.firestore=i,this.modalService=r,this.productService=o,this.task$=Fs(Rh(this.firestore,"hawkers"))}ngOnInit(){this.task$.subscribe(t=>console.log("task$ observable:",t)),console.log(this.task$)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(nl),a.Y36(Bf),a.Y36(t3),a.Y36(hm))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-products"]],decls:4,vars:4,consts:[[1,"product-card-container"],["class","product-card",3,"click",4,"ngFor","ngForOf"],[3,"product","closeModalEvent",4,"ngIf"],[1,"product-card",3,"click"],[1,"product-card-head"],[1,"brand-name"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"],[3,"product","closeModalEvent"]],template:function(i,r){1&i&&(a.TgZ(0,"div",0),a.YNc(1,j8,11,4,"div",1),a.ALo(2,"async"),a.qZA(),a.YNc(3,z8,1,1,"app-modal",2)),2&i&&(a.xp6(1),a.Q6J("ngForOf",a.lcZ(2,2,r.task$)),a.xp6(2),a.Q6J("ngIf",r.productService.isModalOpen))},dependencies:[jn,ki,n3,Ki],styles:[".product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000;min-width:320px;margin:10px;overflow:hidden}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:2px solid #edf1f7;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:250px;max-height:250px;width:auto;height:auto}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})(),$8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-accessories"]],decls:2,vars:0,template:function(i,r){1&i&&(a.TgZ(0,"p"),a._uU(1,"accessories works!"),a.qZA())}})}return n})(),q8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-media"]],decls:2,vars:0,template:function(i,r){1&i&&(a.TgZ(0,"h1"),a._uU(1,"K\xf6z\xf6ss\xe9gi oldal"),a.qZA())}})}return n})(),r3=(()=>{class n{constructor(t){this.services=t,this.navbarData=tA,this.insuranceIsChecked=!0,this.giftIsChecked=!1,this.shippingPrice=1390}getTotalPrice(){let t=0;for(const i of this.services.getCartItems())t+=i.selectedPrice*i.quantity;return t}calculateShippingPrice(){return this.shippingPrice=this.getTotalPrice()>=5e4?0:1390}calculateInsurance(){return this.insuranceIsChecked?500:0}calculateGiftFee(){return this.giftIsChecked?1590:0}calculateTotalPayment(){return this.calculateShippingPrice()+this.getTotalPrice()+this.calculateInsurance()+this.calculateGiftFee()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(nl))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function o3(...n){const e=(0,H0.jO)(n),{args:t,keys:i}=GV(n),r=new ar.y(o=>{const{length:u}=t;if(!u)return void o.complete();const m=new Array(u);let v=u,x=u;for(let A=0;A<u;A++){let L=!1;(0,Mo.Xf)(t[A]).subscribe((0,ci.x)(o,q=>{L||(L=!0,x--),m[A]=q},()=>v--,void 0,()=>{(!v||!L)&&(x||o.next(i?WV(i,m):m),o.complete())}))}});return e?r.pipe(xN(e)):r}let s3=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.Qsj),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:n})}return n})(),ay=(()=>{class n extends s3{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}();static#t=this.\u0275dir=a.lG2({type:n,features:[a.qOj]})}return n})();const $d=new a.OlP("NgValueAccessor"),W8={provide:$d,useExisting:(0,a.Gpc)(()=>cy),multi:!0},K8=new a.OlP("CompositionEventMode");let cy=(()=>{class n extends s3{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Z8(){const n=K()?K().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(K8,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&a.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[a._Bn([W8]),a.qOj]})}return n})();function Bg(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function c3(n){return null!=n&&"number"==typeof n.length}const Ka=new a.OlP("NgValidators"),jg=new a.OlP("NgAsyncValidators"),Y8=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bc{static min(e){return function l3(n){return e=>{if(Bg(e.value)||Bg(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function u3(n){return e=>{if(Bg(e.value)||Bg(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return d3(e)}static requiredTrue(e){return function h3(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function f3(n){return Bg(n.value)||Y8.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function p3(n){return e=>Bg(e.value)||!c3(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function m3(n){return e=>c3(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function g3(n){if(!n)return nA;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Bg(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return C3(e)}static composeAsync(e){return x3(e)}}function d3(n){return Bg(n.value)?{required:!0}:null}function nA(n){return null}function _3(n){return null!=n}function v3(n){return(0,a.QGY)(n)?(0,Mr.D)(n):n}function y3(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function b3(n,e){return e.map(t=>t(n))}function w3(n){return n.map(e=>function Q8(n){return!n.validate}(e)?e:t=>e.validate(t))}function C3(n){if(!n)return null;const e=n.filter(_3);return 0==e.length?null:function(t){return y3(b3(t,e))}}function ZN(n){return null!=n?C3(w3(n)):null}function x3(n){if(!n)return null;const e=n.filter(_3);return 0==e.length?null:function(t){return o3(b3(t,e).map(v3)).pipe((0,gn.U)(y3))}}function KN(n){return null!=n?x3(w3(n)):null}function E3(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function I3(n){return n._rawValidators}function T3(n){return n._rawAsyncValidators}function YN(n){return n?Array.isArray(n)?n:[n]:[]}function iA(n,e){return Array.isArray(n)?n.includes(e):n===e}function S3(n,e){const t=YN(e);return YN(n).forEach(r=>{iA(t,r)||t.push(r)}),t}function D3(n,e){return YN(e).filter(t=>!iA(n,t))}class M3{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ZN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=KN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ol extends M3{get formDirective(){return null}get path(){return null}}class fm extends M3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class A3{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ly=(()=>{class n extends A3{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(fm,2))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[a.qOj]})}return n})(),pI=(()=>{class n extends A3{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Ol,10))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[a.qOj]})}return n})();const mI="VALID",oA="INVALID",tw="PENDING",gI="DISABLED";function XN(n){return(sA(n)?n.validators:n)||null}function eF(n,e){return(sA(e)?e.asyncValidators:n)||null}function sA(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function O3(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new a.vHH(1e3,"");if(!i[t])throw new a.vHH(1001,"")}function P3(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new a.vHH(1002,"")})}class aA{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===mI}get invalid(){return this.status===oA}get pending(){return this.status==tw}get disabled(){return this.status===gI}get enabled(){return this.status!==gI}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(S3(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(S3(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(D3(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(D3(e,this._rawAsyncValidators))}hasValidator(e){return iA(this._rawValidators,e)}hasAsyncValidator(e){return iA(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=tw,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=gI,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=mI,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mI||this.status===tw)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gI:mI}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=tw,this._hasOwnPendingAsyncValidator=!0;const t=v3(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?gI:this.errors?oA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tw)?tw:this._anyControlsHaveStatus(oA)?oA:mI}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sA(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function tZ(n){return Array.isArray(n)?ZN(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function nZ(n){return Array.isArray(n)?KN(n):n||null}(this._rawAsyncValidators)}}class _I extends aA{constructor(e,t,i){super(XN(t),eF(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){P3(this,0,e),Object.keys(e).forEach(i=>{O3(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class R3 extends _I{}const uy=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>vI}),vI="always";function cA(n,e){return[...e.path,n]}function yI(n,e,t=vI){tF(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function rZ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&N3(n,e)})}(n,e),function sZ(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function oZ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&N3(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function iZ(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function lA(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),dA(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function uA(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function tF(n,e){const t=I3(n);null!==e.validator?n.setValidators(E3(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=T3(n);null!==e.asyncValidator?n.setAsyncValidators(E3(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();uA(e._rawValidators,r),uA(e._rawAsyncValidators,r)}function dA(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=I3(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const r=T3(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return uA(e._rawValidators,i),uA(e._rawAsyncValidators,i),t}function N3(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function F3(n,e){tF(n,e)}function iF(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function L3(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function rF(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===cy?t=o:function lZ(n){return Object.getPrototypeOf(n.constructor)===ay}(o)?i=o:r=o}),r||i||t||null}const dZ={provide:Ol,useExisting:(0,a.Gpc)(()=>hA)},bI=(()=>Promise.resolve())();let hA=(()=>{class n extends Ol{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new _I({},ZN(t),KN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){bI.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),yI(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){bI.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){bI.then(()=>{const i=this._findContainer(t.path),r=new _I({});F3(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){bI.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){bI.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,L3(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Ka,10),a.Y36(jg,10),a.Y36(uy,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&a.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([dZ]),a.qOj]})}return n})();function U3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function V3(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const wI=class extends aA{constructor(e=null,t,i){super(XN(t),eF(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sA(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=V3(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){U3(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){U3(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){V3(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},pZ={provide:fm,useExisting:(0,a.Gpc)(()=>fA)},z3=(()=>Promise.resolve())();let fA=(()=>{class n extends fm{constructor(t,i,r,o,u,m){super(),this._changeDetectorRef=u,this.callSetDisabledState=m,this.control=new wI,this._registered=!1,this.name="",this.update=new a.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=rF(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),iF(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){yI(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){z3.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,a.VuI)(i);z3.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?cA(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Ol,9),a.Y36(Ka,10),a.Y36(jg,10),a.Y36($d,10),a.Y36(a.sBO,8),a.Y36(uy,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([pZ]),a.qOj,a.TTD]})}return n})(),CI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const mZ={provide:$d,useExisting:(0,a.Gpc)(()=>xI),multi:!0};let xI=(()=>{class n extends ay{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}();static#t=this.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&a.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[a._Bn([mZ]),a.qOj]})}return n})(),H3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();const oF=new a.OlP("NgModelWithFormControlWarning"),bZ={provide:Ol,useExisting:(0,a.Gpc)(()=>zg)};let zg=(()=>{class n extends Ol{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(dA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return yI(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){lA(t.control||null,t,!1),function uZ(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,L3(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(lA(i||null,t),(n=>n instanceof wI)(r)&&(yI(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);F3(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function aZ(n,e){return dA(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tF(this.form,this),this._oldForm&&dA(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(Ka,10),a.Y36(jg,10),a.Y36(uy,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&a.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([bZ]),a.qOj,a.TTD]})}return n})();const xZ={provide:fm,useExisting:(0,a.Gpc)(()=>nw)};let nw=(()=>{class n extends fm{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,i,r,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.name=null,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=rF(0,o)}ngOnChanges(t){this._added||this._setUpControl(),iF(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return cA(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(a.Y36(Ol,13),a.Y36(Ka,10),a.Y36(jg,10),a.Y36($d,10),a.Y36(oF,8))};static#n=this.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([xZ]),a.qOj,a.TTD]})}return n})(),dy=(()=>{class n{constructor(){this._validator=nA}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):nA,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,features:[a.TTD]})}return n})();const OZ={provide:Ka,useExisting:(0,a.Gpc)(()=>pA),multi:!0};let pA=(()=>{class n extends dy{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.VuI,this.createValidator=t=>d3}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}();static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&a.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([OZ]),a.qOj]})}return n})(),rj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[H3]})}return n})();class oj extends aA{constructor(e,t,i){super(XN(t),eF(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){P3(this,0,e),e.forEach((i,r)=>{O3(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function sj(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let uF,aj=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let o={};return sj(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new _I(r,o)}record(t,i=null){const r=this._reduceControls(t);return new R3(r,i)}control(t,i,r){let o={};return this.useNonNullable?(sj(i)?o=i:(o.validators=i,o.asyncValidators=r),new wI(t,{...o,nonNullable:!0})):new wI(t,i,r)}array(t,i,r){const o=t.map(u=>this._createControl(u));return new oj(o,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof wI||t instanceof aA?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gA=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(aj).nonNullable},providedIn:"root"})}return n})(),UZ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:uy,useValue:t.callSetDisabledState??vI}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[rj]})}return n})(),cj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:oF,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:uy,useValue:t.callSetDisabledState??vI}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[rj]})}return n})();try{uF=typeof Intl<"u"&&Intl.v8BreakIterator}catch{uF=!1}let iw,Sa=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Ll(n){return n===ca}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!uF)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.Lbi))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const lj=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function uj(){if(iw)return iw;if("object"!=typeof document||!document)return iw=new Set(lj),iw;let n=document.createElement("input");return iw=new Set(lj.filter(e=>(n.setAttribute("type",e),n.type===e))),iw}let EI,hy,dF;function rw(n){return function VZ(){if(null==EI&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>EI=!0}))}finally{EI=EI||!1}return EI}()?n:!!n.capture}function BZ(){if(null==hy){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return hy=!1,hy;if("scrollBehavior"in document.documentElement.style)hy=!0;else{const n=Element.prototype.scrollTo;hy=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return hy}function Hg(n){return n.composedPath?n.composedPath()[0]:n.target}function hF(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function fj(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var ow=Q(6321);function pj(n,e=ow.z){return(0,Nr.e)((t,i)=>{let r=null,o=null,u=null;const m=()=>{if(r){r.unsubscribe(),r=null;const x=o;o=null,i.next(x)}};function v(){const x=u+n,A=e.now();if(A<x)return r=this.schedule(void 0,x-A),void i.add(r);m()}t.subscribe((0,ci.x)(i,x=>{o=x,u=e.now(),r||(r=e.schedule(v,n),i.add(r))},()=>{m(),i.complete()},void 0,()=>{o=r=null}))})}function mj(n){return cr((e,t)=>n<=t)}var mF=Q(3997);function ta(n){return null!=n&&"false"!=`${n}`}function vA(n){return Array.isArray(n)?n:[n]}function na(n){return null==n?"":"string"==typeof n?n:`${n}px`}function $g(n){return n instanceof a.SBq?n.nativeElement:n}let c7=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:[c7]})}return n})();const _j=new Set;let fy,l7=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):d7}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function u7(n,e){if(!_j.has(n))try{fy||(fy=document.createElement("style"),e&&(fy.nonce=e),fy.setAttribute("type","text/css"),document.head.appendChild(fy)),fy.sheet&&(fy.sheet.insertRule(`@media ${n} {body{ }}`,0),_j.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Sa),a.LFG(a.Ojb,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function d7(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let h7=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Hn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return vj(vA(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=R1(vj(vA(t)).map(u=>this._registerQuery(u).observable));return o=JE(o.pipe(tl(1)),o.pipe(mj(1),pj(0))),o.pipe((0,gn.U)(u=>{const m={matches:!1,breakpoints:{}};return u.forEach(({matches:v,query:x})=>{m.matches=m.matches||v,m.breakpoints[x]=v}),m}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new ar.y(u=>{const m=v=>this._zone.run(()=>u.next(v));return i.addListener(m),()=>{i.removeListener(m)}}).pipe(Ng(i),(0,gn.U)(({matches:u})=>({query:t,matches:u})),Hd(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(l7),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vj(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function yA(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const bj="cdk-describedby-message",bA="cdk-describedby-host";let gF=0,m7=(()=>{class n{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+gF++,this._document=t,this._id=(0,a.f3M)(a.AFp)+"-"+gF++}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const o=_F(i,r);"string"!=typeof i?(wj(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,i,r){if(!i||!this._isElementNode(t))return;const o=_F(i,r);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),"string"==typeof i){const u=this._messageRegistry.get(o);u&&0===u.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${bA}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(bA);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");wj(r,this._id),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(_F(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const i=yA(t,"aria-describedby").filter(r=>0!=r.indexOf(bj));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=this._messageRegistry.get(i);(function f7(n,e,t){const i=yA(n,e);i.some(r=>r.trim()==t.trim())||(i.push(t.trim()),n.setAttribute(e,i.join(" ")))})(t,"aria-describedby",r.messageElement.id),t.setAttribute(bA,this._id),r.referenceCount++}_removeMessageReference(t,i){const r=this._messageRegistry.get(i);r.referenceCount--,function p7(n,e,t){const r=yA(n,e).filter(o=>o!=t.trim());r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",r.messageElement.id),t.removeAttribute(bA)}_isElementDescribedByMessage(t,i){const r=yA(t,"aria-describedby"),o=this._messageRegistry.get(i),u=o&&o.messageElement.id;return!!u&&-1!=r.indexOf(u)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=t.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Pe),a.LFG(Sa))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _F(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function wj(n,e){n.id||(n.id=`${bj}-${e}-${gF++}`)}class g7{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Hn.x,this._typeaheadSubscription=Zu.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Hn.x,this.change=new Hn.x,e instanceof a.n_E&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,tr.b)(t=>this._pressedLetters.push(t)),pj(e),cr(()=>this._pressedLetters.length>0),(0,gn.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,u=i[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,u=this._getItemsArray().length;this._setActiveItemByIndex(o<u?o:u-1,-1);break}return;default:return void((r||fj(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof a.n_E?this._items.toArray():this._items}}class _7 extends g7{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let v7=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function b7(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function y7(n){try{return n.frameElement}catch{return null}}(function D7(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===xj(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=xj(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function T7(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function S7(n){return!function C7(n){return function E7(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function w7(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function x7(n){return function I7(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Cj(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Sa))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Cj(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function xj(n){if(!Cj(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function vF(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function yF(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const M7=new a.OlP("cdk-input-modality-detector-options"),A7={ignoreKeys:[18,17,224,91,16]},sw=rw({passive:!0,capture:!0});let k7=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new zd.X(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(m=>m===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Hg(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(vF(u)?"keyboard":"mouse"),this._mostRecentTarget=Hg(u))},this._onTouchstart=u=>{yF(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Hg(u))},this._options={...A7,...o},this.modalityDetected=this._modality.pipe(mj(1)),this.modalityChanged=this.modalityDetected.pipe((0,mF.x)()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,sw),r.addEventListener("mousedown",this._onMousedown,sw),r.addEventListener("touchstart",this._onTouchstart,sw)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,sw),document.removeEventListener("mousedown",this._onMousedown,sw),document.removeEventListener("touchstart",this._onTouchstart,sw))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Sa),a.LFG(a.R0b),a.LFG(Pe),a.LFG(M7,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const P7=new a.OlP("cdk-focus-monitor-default-options"),wA=rw({passive:!0,capture:!0});let CA=(()=>{class n{constructor(t,i,r,o,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Hn.x,this._rootNodeFocusAndBlurListener=m=>{for(let x=Hg(m);x;x=x.parentElement)"focus"===m.type?this._onFocus(m,x):this._onBlur(m,x)},this._document=o,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=$g(t);if(!this._platform.isBrowser||1!==r.nodeType)return(0,_n.of)();const o=function zZ(n){if(function jZ(){if(null==dF){const n=typeof document<"u"?document.head:null;dF=!(!n||!n.createShadowRoot&&!n.attachShadow)}return dF}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const m={checkChildren:i,subject:new Hn.x,rootNode:o};return this._elementInfo.set(r,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(t){const i=$g(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=$g(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([m,v])=>this._originChanged(m,i,v)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Hg(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,wA),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,wA)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Hd(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,wA),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,wA),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let u=0;u<o.length;u++)if(o[u].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.R0b),a.LFG(Sa),a.LFG(k7),a.LFG(Pe,8),a.LFG(P7,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ij="cdk-high-contrast-black-on-white",Tj="cdk-high-contrast-white-on-black",bF="cdk-high-contrast-active";let Sj=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,a.f3M)(h7).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(bF,Ij,Tj),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(bF,Ij):2===i&&t.add(bF,Tj)}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Sa),a.LFG(Pe))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),R7=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Sj))};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[gj]})}return n})();const N7=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function F7(){return(0,a.f3M)(Pe)}}),L7=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let wF=(()=>{class n{constructor(t){this.value="ltr",this.change=new a.vpe,t&&(this.value=function U7(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?L7.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(N7,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),II=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();const B7=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function V7(){return!0}});let ia=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!hF()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Sj),a.LFG(B7,8),a.LFG(Pe))};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[II,II]})}return n})();function TI(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=ta(e)}constructor(...e){super(...e),this._disabled=!1}}}function SI(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function xA(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ta(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function Aj(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?function s7(n,e=0){return function a7(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}function j7(n){return class extends n{updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let H7=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class $7{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const kj=rw({passive:!0,capture:!0});class q7{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Hg(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const u=o.get(i);u?u.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,kj)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,kj)))}}const Oj={enterDuration:225,exitDuration:150},Pj=rw({passive:!0,capture:!0}),Rj=["mousedown","touchstart"],Nj=["mouseup","mouseleave","touchend","touchcancel"];class EA{static#e=this._eventManager=new q7;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=$g(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Oj,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function W7(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),m=e-r.left,v=t-r.top,x=o.enterDuration,A=document.createElement("div");A.classList.add("mat-ripple-element"),A.style.left=m-u+"px",A.style.top=v-u+"px",A.style.height=2*u+"px",A.style.width=2*u+"px",null!=i.color&&(A.style.backgroundColor=i.color),A.style.transitionDuration=`${x}ms`,this._containerElement.appendChild(A);const L=window.getComputedStyle(A),ne=L.transitionDuration,ae="none"===L.transitionProperty||"0s"===ne||"0s, 0s"===ne||0===r.width&&0===r.height,ye=new $7(this,A,i,ae);A.style.transform="scale3d(1, 1, 1)",ye.state=0,i.persistent||(this._mostRecentTransientRipple=ye);let We=null;return!ae&&(x||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const wt=()=>this._finishRippleTransition(ye),kt=()=>this._destroyRipple(ye);A.addEventListener("transitionend",wt),A.addEventListener("transitioncancel",kt),We={onTransitionEnd:wt,onTransitionCancel:kt}}),this._activeRipples.set(ye,We),(ae||!x)&&this._finishRippleTransition(ye),ye}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...Oj,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=$g(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Rj.forEach(i=>{EA._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Nj.forEach(t=>{this._triggerElement.addEventListener(t,this,Pj)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=vF(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!yF(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(Rj.forEach(t=>EA._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&Nj.forEach(t=>e.removeEventListener(t,this,Pj)))}}const Fj=new a.OlP("mat-ripple-global-options");let MI=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new EA(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Sa),a.Y36(Fj,8),a.Y36(a.QbO,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&a.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),IA=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ia,ia]})}return n})();const Lj={capture:!0},Uj=["focus","click","mouseenter","touchstart"],CF="mat-ripple-loader-uninitialized",xF="mat-ripple-loader-class-name",Vj="mat-ripple-loader-centered",TA="mat-ripple-loader-disabled";let Z7=(()=>{class n{constructor(){this._document=(0,a.f3M)(Pe,{optional:!0}),this._animationMode=(0,a.f3M)(a.QbO,{optional:!0}),this._globalRippleOptions=(0,a.f3M)(Fj,{optional:!0}),this._platform=(0,a.f3M)(Sa),this._ngZone=(0,a.f3M)(a.R0b),this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${CF}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of Uj)this._document?.addEventListener(t,this._onInteraction,Lj)})}ngOnDestroy(){for(const t of Uj)this._document?.removeEventListener(t,this._onInteraction,Lj)}configureRipple(t,i){t.setAttribute(CF,""),(i.className||!t.hasAttribute(xF))&&t.setAttribute(xF,i.className||""),i.centered&&t.setAttribute(Vj,""),i.disabled&&t.setAttribute(TA,"")}getRipple(t){return t.matRipple?t.matRipple:this.createRipple(t)}setDisabled(t,i){const r=t.matRipple;r?r.disabled=i:i?t.setAttribute(TA,""):t.removeAttribute(TA)}createRipple(t){if(!this._document)return;t.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",t.getAttribute(xF)),t.append(i);const r=new MI(new a.SBq(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=t,r.centered=t.hasAttribute(Vj),r.disabled=t.hasAttribute(TA),this.attachRipple(t,r),r}attachRipple(t,i){t.removeAttribute(CF),t.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const K7=["switch"];function Y7(n,e){1&n&&(a.TgZ(0,"div",12),a.O4$(),a.TgZ(1,"svg",13),a._UZ(2,"path",14),a.qZA(),a.TgZ(3,"svg",15),a._UZ(4,"path",16),a.qZA()())}const Q7=["*"],J7=new a.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),X7={provide:$d,useExisting:(0,a.Gpc)(()=>jj),multi:!0};class Bj{constructor(e,t){this.source=e,this.checked=t}}let eK=0;const tK=Aj(SI(xA(TI(class{constructor(n){this._elementRef=n}}))));let nK=(()=>{class n extends tK{get required(){return this._required}set required(t){this._required=ta(t)}get checked(){return this._checked}set checked(t){this._checked=ta(t),this._changeDetectorRef.markForCheck()}get hideIcon(){return this._hideIcon}set hideIcon(t){this._hideIcon=ta(t)}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,u,m,v){super(t),this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=u,this._onChange=x=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this._hideIcon=!1,this.change=new a.vpe,this.toggleChange=new a.vpe,this.tabIndex=parseInt(o)||0,this.color=this.defaultColor=u.color||"accent",this._noopAnimations="NoopAnimations"===m,this.id=this._uniqueId=`${v}${++eK}`,this._hideIcon=u.hideIcon??!1}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}static#e=this.\u0275fac=function(i){a.$Z()};static#t=this.\u0275dir=a.lG2({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked",hideIcon:"hideIcon"},outputs:{change:"change",toggleChange:"toggleChange"},features:[a.qOj]})}return n})(),jj=(()=>{class n extends nK{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(t,i,r,o,u,m){super(t,i,r,o,u,m,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new Bj(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(t){return new Bj(this,t)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(CA),a.Y36(a.sBO),a.$8M("tabindex"),a.Y36(J7),a.Y36(a.QbO,8))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(1&i&&a.Gf(K7,5),2&i){let o;a.iGM(o=a.CRH())&&(r._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(i,r){2&i&&(a.Ikx("id",r.id),a.uIk("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),a.ekj("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[a._Bn([X7]),a.qOj],ngContentSelectors:Q7,decls:13,vars:25,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],["class","mdc-switch__icons",4,"ngIf"],[1,"mdc-label",3,"for","click"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(1&i&&(a.F$t(),a.TgZ(0,"div",0)(1,"button",1,2),a.NdJ("click",function(){return r._handleClick()}),a._UZ(3,"div",3),a.TgZ(4,"div",4)(5,"div",5)(6,"div",6),a._UZ(7,"div",7),a.qZA(),a.TgZ(8,"div",8),a._UZ(9,"div",9),a.qZA(),a.YNc(10,Y7,5,0,"div",10),a.qZA()()(),a.TgZ(11,"label",11),a.NdJ("click",function(u){return u.stopPropagation()}),a.Hsn(12),a.qZA()()),2&i){const o=a.MAs(2);a.ekj("mdc-form-field--align-end","before"==r.labelPosition),a.xp6(1),a.ekj("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),a.Q6J("tabIndex",r.tabIndex)("disabled",r.disabled),a.uIk("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),a.xp6(8),a.Q6J("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),a.xp6(1),a.Q6J("ngIf",!r.hideIcon),a.xp6(1),a.Q6J("for",r.buttonId),a.uIk("id",r._labelId)}},dependencies:[MI,ki],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mdc-switch{width:var(--mdc-switch-track-width);--mdc-switch-disabled-handle-opacity:0.38;--mdc-switch-disabled-selected-icon-opacity:0.38;--mdc-switch-disabled-track-opacity:0.12;--mdc-switch-disabled-unselected-icon-opacity:0.38;--mdc-switch-handle-height:20px;--mdc-switch-handle-shape:10px;--mdc-switch-handle-width:20px;--mdc-switch-selected-icon-size:18px;--mdc-switch-track-height:14px;--mdc-switch-track-shape:7px;--mdc-switch-track-width:36px;--mdc-switch-unselected-icon-size:18px;--mdc-switch-state-layer-size:40px;--mdc-switch-selected-focus-state-layer-opacity:0.12;--mdc-switch-selected-hover-state-layer-opacity:0.04;--mdc-switch-selected-pressed-state-layer-opacity:0.1;--mdc-switch-unselected-focus-state-layer-opacity:0.12;--mdc-switch-unselected-hover-state-layer-opacity:0.04;--mdc-switch-unselected-pressed-state-layer-opacity:0.1}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle .mdc-label{font-family:var(--mat-slide-toggle-label-text-font);font-size:var(--mat-slide-toggle-label-text-size);letter-spacing:var(--mat-slide-toggle-label-text-tracking);line-height:var(--mat-slide-toggle-label-text-line-height);font-weight:var(--mat-slide-toggle-label-text-weight)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}'],encapsulation:2,changeDetection:0})}return n})(),zj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})(),Hj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[zj,ia,IA,Pi,zj,ia]})}return n})();const oK=function(){return["/products"]};function sK(n,e){1&n&&(a.TgZ(0,"div",2),a._UZ(1,"img",3),a.TgZ(2,"div",4),a._uU(3,"A kosara \xfcres!"),a.TgZ(4,"p",5),a._uU(5,"Vissza a term\xe9kekhez!"),a.qZA()()()),2&n&&(a.xp6(4),a.Q6J("routerLink",a.DdM(1,oK)))}const $j=function(n){return{"disabled-button":n}};function aK(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",22),a._UZ(1,"img",23),a.TgZ(2,"div",24),a._uU(3),a.qZA(),a.TgZ(4,"div",25),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.decreaseQuantity(o))}),a._uU(5,"-"),a.qZA(),a.TgZ(6,"div",26),a._uU(7),a.qZA(),a.TgZ(8,"div",27),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.increaseQuantity(o))}),a._uU(9,"+"),a.qZA(),a.TgZ(10,"div",28),a._uU(11),a.qZA(),a.TgZ(12,"div",29),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.removeFromCart(o))}),a._uU(13,"X"),a.qZA()()}if(2&n){const t=e.$implicit;a.xp6(1),a.Q6J("src",t.product.imagePath,a.LSH),a.xp6(2),a.AsE("",t.product.productName," ",t.size,""),a.xp6(1),a.Q6J("ngClass",a.VKq(7,$j,1===t.quantity)),a.xp6(3),a.Oqu(t.quantity),a.xp6(1),a.Q6J("ngClass",a.VKq(9,$j,5===t.quantity)),a.xp6(3),a.hij(" ",t.selectedPrice*t.quantity," ")}}const qj=function(n){return{active:n}},Gj=function(n){return{opacity:n}};function cK(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",6)(1,"div",7)(2,"div",8),a.YNc(3,aK,14,11,"div",9),a.qZA()(),a.TgZ(4,"div",10)(5,"div",11)(6,"mat-slide-toggle",12),a.NdJ("ngModelChange",function(r){a.CHM(t);const o=a.oxw();return a.KtG(o.shoppingService.insuranceIsChecked=r)}),a.qZA(),a.TgZ(7,"h3",13),a._uU(8,"500 Ft"),a.qZA(),a._uU(9," K\xfcldem\xe9ny biztos\xedt\xe1sa "),a.TgZ(10,"p",14),a._uU(11,"A k\xfcldem\xe9ny megs\xe9r\xfcl\xe9se vagy elveszt\xe9se eset\xe9n nem kell v\xe1rnia a helyzet t\xf6rv\xe9nyileg el\u0151\xedrt hat\xe1rid\u0151n bel\xfcli rendez\xe9s\xe9re. El\xe9g, ha bejelenti nek\xfcnk \xe9s dokument\xe1lja a k\xfcldem\xe9ny megs\xe9r\xfcl\xe9s\xe9t vagy elveszt\xe9s\xe9t, \xe9s mi postafordult\xe1val teljesen \xfaj \xe1rut k\xfcld\xfcnk \xf6nnek. "),a.qZA()(),a.TgZ(12,"div",15)(13,"mat-slide-toggle",12),a.NdJ("ngModelChange",function(r){a.CHM(t);const o=a.oxw();return a.KtG(o.shoppingService.giftIsChecked=r)}),a.qZA(),a.TgZ(14,"h3",13),a._uU(15,"1590 Ft"),a.qZA(),a._uU(16," Luxus csomagol\xe1s "),a.TgZ(17,"p",14),a._uU(18,"Sz\xedvesen luxus kivitel\u0171 aj\xe1nd\xe9kcsomagol\xe1sba csomagolunk \xf6nnek mindent. "),a.qZA()(),a.TgZ(19,"div",16),a._uU(20,"H\xe1zhoz sz\xe1ll\xedt\xe1s "),a.TgZ(21,"h3"),a._uU(22,"1390 Ft "),a.qZA()(),a.TgZ(23,"div",17),a._uU(24,"100% Kedvezm\xe9ny a kisz\xe1ll\xedt\xe1sra! "),a.TgZ(25,"p",18),a._uU(26,"50.000 Forint v\xe1s\xe1rl\xe1s eset\xe9n ingyenesen h\xe1zhoz sz\xe1ll\xedtjuk! "),a.qZA()(),a.TgZ(27,"div",19)(28,"div",20)(29,"h3"),a._uU(30,"\xd6sszesen fizetend\u0151: "),a.TgZ(31,"p"),a._uU(32),a.qZA()()()(),a.TgZ(33,"button",21),a._uU(34,"Tov\xe1bb a sz\xe1ll\xedt\xe1sra!"),a.qZA()()()}if(2&n){const t=a.oxw();a.xp6(3),a.Q6J("ngForOf",t.services.getCartItems()),a.xp6(3),a.Q6J("ngModel",t.shoppingService.insuranceIsChecked),a.xp6(1),a.Q6J("ngClass",a.VKq(9,qj,t.shoppingService.insuranceIsChecked)),a.xp6(6),a.Q6J("ngModel",t.shoppingService.giftIsChecked),a.xp6(1),a.Q6J("ngClass",a.VKq(11,qj,t.shoppingService.giftIsChecked)),a.xp6(5),a.Q6J("ngStyle",a.VKq(13,Gj,t.getTotalPrice()<5e4?1:.5)),a.xp6(4),a.Q6J("ngStyle",a.VKq(15,Gj,t.getTotalPrice()>49999?1:.5)),a.xp6(9),a.hij("",t.calculateShippingPrice()+t.getTotalPrice()+(t.shoppingService.insuranceIsChecked?500:0)+(t.shoppingService.giftIsChecked?1590:0)," Ft"),a.xp6(1),a.Q6J("disabled",0===t.services.getCartItems().length)}}let lK=(()=>{class n{constructor(t,i){this.services=t,this.shoppingService=i,this.cartItems=[],this.selectedProducts=[],this.navbarData=tA,this.insuranceIsChecked=!0,this.giftIsChecked=!1,this.shippingPrice=1390,this.selectedProductPrice=this.services.selectedSizePrice}ngOnInit(){this.cartItems=this.services.getCartItems()}getProductPrice(){return this.selectedProductPrice}addToCart(){const t=this.navbarData.find(i=>"shopping-cart"===i.routerLink);t&&(t.badge=(t.badge||0)+1)}increaseQuantity(t){t.quantity++;const i=this.navbarData.find(r=>"shopping-cart"===r.routerLink);i&&(i.badge=(i.badge||0)+1)}decreaseQuantity(t){if(t.quantity>1){t.quantity--;const i=this.navbarData.find(r=>"shopping-cart"===r.routerLink);i&&(i.badge=(i.badge||0)-1)}}removeFromCart(t){const i=this.services.getCartItems().indexOf(t);if(-1!==i){const r=t.quantity;this.services.getCartItems().splice(i,1);const o=this.navbarData.find(u=>"shopping-cart"===u.routerLink);o&&(o.badge=Math.max((o.badge||0)-r,0))}}calculateShippingPrice(){return this.shippingPrice=this.getTotalPrice()>=5e4?0:1390}getTotalPrice(){let t=0;for(const i of this.services.getCartItems())t+=i.selectedPrice*i.quantity;return t}calculateTotalPayment(){return this.calculateShippingPrice()+this.getTotalPrice()+(this.insuranceIsChecked?500:0)+(this.giftIsChecked?1590:0)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(nl),a.Y36(r3))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-shopping-cart"]],decls:2,vars:2,consts:[["class","empty-cart",4,"ngIf"],["class","shopping-cart-component",4,"ngIf"],[1,"empty-cart"],["src","./assets/images/empty-cart.jpg",1,"empty-cart-img"],[1,"empty-cart-desc"],[1,"empty-cart-button",3,"routerLink"],[1,"shopping-cart-component"],[1,"shopping-cart-card-container"],[1,"shopping-cart-card"],["class","cart-item",4,"ngFor","ngForOf"],[1,"checkout-container"],[1,"insurance"],[3,"ngModel","ngModelChange"],[3,"ngClass"],[1,"checkout-container-desc"],[1,"gift"],[1,"shipping",3,"ngStyle"],[1,"bonus",3,"ngStyle"],[1,"bonus-desc"],[1,"checkout-card"],[1,"total-price"],["routerLink","/shipping",1,"btn-hover","color-8",3,"disabled"],[1,"cart-item"],[1,"product-image",3,"src"],[1,"shopping-cart-head"],[1,"decreaseQuantity",3,"ngClass","click"],[1,"product-quantity"],[1,"increaseQuantity",3,"ngClass","click"],[1,"shopping-cart-price"],[1,"removeFromCart",3,"click"]],template:function(i,r){1&i&&(a.YNc(0,sK,6,2,"div",0),a.YNc(1,cK,35,17,"div",1)),2&i&&(a.Q6J("ngIf",0===r.services.getCartItems().length),a.xp6(1),a.Q6J("ngIf",r.services.getCartItems().length>0))},dependencies:[Yo,jn,ki,Us,um,jj,ly,fA],styles:['@charset "UTF-8";.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:auto;position:relative;-webkit-user-select:none;user-select:none}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{color:#f0f8ff;font-size:15px;margin-bottom:5px;display:flex;flex:1}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{color:#f0f8ff;font-size:18px;flex:0 0 100px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{color:#f0f8ff;border-radius:10px;background-color:#092c3d;flex:1;display:flex;align-items:center;margin:10px 10px 5px;border-bottom:1px solid #ccc;position:relative;gap:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:120px;height:auto;border-radius:5px;margin-right:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{font-size:15px;margin-right:30px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{font-size:18px;overflow:hidden;margin-left:50px;flex:0 0 70px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:15px;display:flex;align-items:center;margin-left:auto;color:#f0f8ff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:30px;height:30px;font-size:30px;display:flex;justify-content:center;align-items:center;font-size:20px;margin:0 5px;border-radius:50%;padding:10px;border:1px solid #a5beda;cursor:pointer;color:#f0f8ff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{cursor:pointer;font-size:15px;margin-right:15px;margin-left:40px;color:#f0f8ff}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;margin:0;gap:0px;width:auto}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:0;margin-left:-5px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{margin-left:-25px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{margin-left:0}}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{gap:2px;margin:0}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{margin-right:5px;font-size:10px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{padding-left:5px}}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:25px;height:25px;font-size:18px;padding:0;margin:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{margin-left:4px;font-size:11.5px;flex:0 0 40px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;font-size:12px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{margin-right:0;width:70px}}@media screen and (max-width: 700px) and (max-width: 300px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{display:none}}.empty-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.empty-cart-img[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-22%);width:100%;max-width:600px;display:flex;overflow:hidden}.empty-cart-desc[_ngcontent-%COMP%]{text-align:center;position:absolute;width:300px;top:55%;left:50%;transform:translate(-50%,-10%);font-size:26px;font-weight:300;border-top:1px solid #ccc;padding-top:15px;transition:all .4s ease-in-out}.empty-cart-button[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer;transition:all .3s ease-in-out;font-weight:100}.empty-cart-button[_ngcontent-%COMP%]:after{background:none repeat scroll 0 0 transparent;bottom:0;content:"";display:block;height:1px;left:50%;position:absolute;background:#191818;transition:width .3s ease 0s,left .3s ease 0s;width:0}.empty-cart-button[_ngcontent-%COMP%]:hover:after{width:100%;left:0}@media screen and (max-width: 500px){.empty-cart-desc[_ngcontent-%COMP%]{top:41%;left:50%}.empty-cart-button[_ngcontent-%COMP%]{top:48%;left:50%;font-size:22px}}.bonus[_ngcontent-%COMP%]   .bonus-desc[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;font-size:13px;margin-top:15px;width:600px}.insurance[_ngcontent-%COMP%], .gift[_ngcontent-%COMP%], .bonus[_ngcontent-%COMP%], .shipping[_ngcontent-%COMP%]{font-size:15px;border-top:1px solid #ccc;margin-top:20px;padding-top:10px}.checkout-container-desc[_ngcontent-%COMP%]{font-size:13px;margin-top:15px;opacity:.5;width:600px}.shipping[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1}h3[_ngcontent-%COMP%]{float:right;opacity:.5;font-weight:800}h3.active[_ngcontent-%COMP%]{opacity:1}.disabled-button[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.checkout-container[_ngcontent-%COMP%]{background-color:#f4f7fa;padding:10px;height:100px;display:grid;position:relative;max-width:1000px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]{padding-top:20px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1;font-size:18px;font-weight:200}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:800;float:right;top:0;margin-left:40px}@media screen and (max-width: 750px){.checkout-container[_ngcontent-%COMP%]{padding:2px;display:block}.checkout-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:100%}.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:14px;margin-top:20px;padding-top:10px}}@media screen and (max-width: 750px) and (max-width: 340px){.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width: 750px){.checkout-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:-4px}.checkout-container[_ngcontent-%COMP%]   .btn-hover[_ngcontent-%COMP%]{float:right}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:100%;font-size:16px}}.btn-hover[_ngcontent-%COMP%]{width:200px;font-size:16px;font-weight:400;color:#f0f8ff;cursor:pointer;margin-left:auto;height:55px;text-align:center;border:none;background-size:300% 100%;border-radius:5px;transition:all .4s ease-in-out}[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;background-position:100% 0;transition:all .4s ease-in-out}.btn-hover[_ngcontent-%COMP%]:hover{background-position:100% 0;transition:all .4s ease-in-out}.btn-hover[_ngcontent-%COMP%]:focus{outline:none}.btn-hover.color-8[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#455669,#485563,#203542,#092c3d);box-shadow:0 4px 15px #2d3641bf}']})}return n})(),py=(()=>{class n{constructor(t){this.auth=t,this.currentUser$=N2(this.auth)}login(t,i){return(0,Mr.D)(Z2(this.auth,t,i))}logout(){return(0,Mr.D)(this.auth.signOut())}signUp(t,i){return(0,Mr.D)(pS(this.auth,t,i))}updateProfileData(t){return(0,_n.of)(this.auth.currentUser).pipe(ry(r=>{if(!r)throw new Error("Nincs hiteles\xedtve!");return Nm(r,t)}))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(wp))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),AI=(()=>{class n{get currentUserProfile$(){return this.authService.currentUser$.pipe((0,Go.w)(t=>{if(!t?.uid)return(0,_n.of)(null);const i=S1(this.firestore,"*users",t?.uid);return cq(i)}))}constructor(t,i){this.firestore=t,this.authService=i}addUser(t){const i=S1(this.firestore,"*users",t?.uid);return(0,Mr.D)(hV(i,t))}addGuest(t){const i=S1(this.firestore,"*guests",t?.uid);return(0,Mr.D)(hV(i,t))}updateUser(t){const i=S1(this.firestore,"*users",t?.uid);return(0,Mr.D)(dq(i,{...t}))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Bf),a.LFG(py))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const uK=["mat-button",""],Wj=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Zj=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],dK=["mat-mini-fab",""],fK=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],pK=SI(TI(xA(class{constructor(n){this._elementRef=n}})));let Kj=(()=>{class n extends pK{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ta(t),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=ta(t),this._updateRippleDisabled()}constructor(t,i,r,o){super(t),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=(0,a.f3M)(CA),this._rippleLoader=(0,a.f3M)(Z7),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const u=t.nativeElement.classList;for(const m of fK)this._hasHostAttributes(m.selector)&&m.mdcClasses.forEach(v=>{u.add(v)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){a.$Z()};static#t=this.\u0275dir=a.lG2({type:n,features:[a.qOj]})}return n})(),SA=(()=>{class n extends Kj{constructor(t,i,r,o){super(t,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(Sa),a.Y36(a.R0b),a.Y36(a.QbO,8))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(a.uIk("disabled",r.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:uK,ngContentSelectors:Zj,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(a.F$t(Wj),a._UZ(0,"span",0),a.Hsn(1),a.TgZ(2,"span",1),a.Hsn(3,1),a.qZA(),a.Hsn(4,2),a._UZ(5,"span",2)(6,"span",3)),2&i&&a.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})();const gK=new a.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:Yj});function Yj(){return{color:"accent"}}const Qj=Yj();let _K=(()=>{class n extends Kj{constructor(t,i,r,o,u){super(t,i,r,o),this._options=u,this._isFab=!0,this._options=this._options||Qj,this.color=this.defaultColor=this._options.color||Qj.color}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(Sa),a.Y36(a.R0b),a.Y36(a.QbO,8),a.Y36(gK,8))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-mini-fab",""]],hostVars:7,hostBindings:function(i,r){2&i&&(a.uIk("disabled",r.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:dK,ngContentSelectors:Zj,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(a.F$t(Wj),a._UZ(0,"span",0),a.Hsn(1),a.TgZ(2,"span",1),a.Hsn(3,1),a.qZA(),a.Hsn(4,2),a._UZ(5,"span",2)(6,"span",3)),2&i&&a.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab:hover{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab.mdc-ripple-upgraded--background-focused,.mdc-fab:not(.mdc-ripple-upgraded):focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-button-font-family);font-size:var(--mdc-typography-button-font-size);line-height:var(--mdc-typography-button-line-height);font-weight:var(--mdc-typography-button-font-weight);letter-spacing:var(--mdc-typography-button-letter-spacing);text-decoration:var(--mdc-typography-button-text-decoration);text-transform:var(--mdc-typography-button-text-transform);border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-fab,.mat-mdc-mini-fab{background-color:var(--mdc-fab-container-color);--mdc-fab-container-shape:50%;--mdc-fab-icon-size:24px}.mat-mdc-fab .mdc-fab__icon,.mat-mdc-mini-fab .mdc-fab__icon{width:var(--mdc-fab-icon-size);height:var(--mdc-fab-icon-size);font-size:var(--mdc-fab-icon-size)}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape)}.mat-mdc-extended-fab{font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return n})(),Jj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ia,IA,ia]})}return n})();var EF=Q(3020);class IF{}class pm{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof pm?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new pm;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof pm?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let u=this.headers.get(t);if(!u)return;u=u.filter(m=>-1===o.indexOf(m)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class vK{encodeKey(e){return Xj(e)}encodeValue(e){return Xj(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const bK=/%(\d[a-f0-9])/gi,wK={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Xj(n){return encodeURIComponent(n).replace(bK,(e,t)=>wK[t]??e)}function DA(n){return`${n}`}class qg{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new vK,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function yK(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,m]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],v=t.get(u)||[];v.push(m),t.set(u,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(DA):[DA(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new qg({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(DA(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(DA(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class CK{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function ez(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function tz(n){return typeof Blob<"u"&&n instanceof Blob}function nz(n){return typeof FormData<"u"&&n instanceof FormData}class kI{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function xK(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new pm),this.context||(this.context=new CK),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+u}}else this.params=new qg,this.urlWithParams=t}serializeBody(){return null===this.body?null:ez(this.body)||tz(this.body)||nz(this.body)||function EK(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||nz(this.body)?null:tz(this.body)?this.body.type||null:ez(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let v=e.headers||this.headers,x=e.params||this.params;const A=e.context??this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce((L,q)=>L.set(q,e.setHeaders[q]),v)),e.setParams&&(x=Object.keys(e.setParams).reduce((L,q)=>L.set(q,e.setParams[q]),x)),new kI(t,i,o,{params:x,headers:v,context:A,reportProgress:m,responseType:r,withCredentials:u})}}var SF=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(SF||{});class IK{constructor(e,t=200,i="OK"){this.headers=e.headers||new pm,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class OI extends IK{constructor(e={}){super(e),this.type=SF.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new OI({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function DF(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let MF=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof kI)o=t;else{let v,x;v=r.headers instanceof pm?r.headers:new pm(r.headers),r.params&&(x=r.params instanceof qg?r.params:new qg({fromObject:r.params})),o=new kI(t,i,void 0!==r.body?r.body:null,{headers:v,context:r.context,params:x,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=(0,_n.of)(o).pipe(ry(v=>this.handler.handle(v)));if(t instanceof kI||"events"===r.observe)return u;const m=u.pipe(cr(v=>v instanceof OI));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return m.pipe((0,gn.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return m.pipe((0,gn.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return m.pipe((0,gn.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return m.pipe((0,gn.U)(v=>v.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new qg).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,DF(r,i))}post(t,i,r={}){return this.request("POST",t,DF(r,i))}put(t,i,r={}){return this.request("PUT",t,DF(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(IF))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac})}return n})();const qK=["*"];let kA;function PI(n){return function GK(){if(void 0===kA&&(kA=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(kA=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return kA}()?.createHTML(n)||n}function hz(n){return Error(`Unable to find icon with the name "${n}"`)}function fz(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function pz(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class gy{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let OA=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new gy(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const u=this._sanitizer.sanitize(a.q3G.HTML,r);if(!u)throw pz(r);const m=PI(u);return this._addSvgIconConfig(t,i,new gy("",m,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new gy(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(a.q3G.HTML,i);if(!o)throw pz(i);const u=PI(o);return this._addSvgIconSetConfig(t,new gy("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,t);if(!i)throw fz(t);const r=this._cachedIconsByUrl.get(i);return r?(0,_n.of)(PA(r)):this._loadSvgIconFromConfig(new gy(t,null)).pipe((0,tr.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,gn.U)(o=>PA(o)))}getNamedSvgIcon(t,i=""){const r=mz(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):$0(hz(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,_n.of)(PA(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,gn.U)(i=>PA(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?(0,_n.of)(r):o3(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Lg(m=>{const x=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,u.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(x)),(0,_n.of)(null)})))).pipe((0,gn.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw hz(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(o),m=this._extractSvgIconFromSet(u,t,o.options);if(m)return m}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,tr.b)(i=>t.svgText=i),(0,gn.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,_n.of)(null):this._fetchIcon(t).pipe((0,tr.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const m=this._svgElementFromString(PI("<svg></svg>"));return m.appendChild(u),this._setSvgAttributes(m,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(PI("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:u,value:m}=r[o];"id"!==u&&i.setAttribute(u,m)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw function WK(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,i);if(!u)throw fz(i);const m=this._inProgressUrlFetches.get(u);if(m)return m;const v=this._httpClient.get(u,{responseType:"text",withCredentials:o}).pipe((0,gn.U)(x=>PI(x)),L1(()=>this._inProgressUrlFetches.delete(u)),(0,EF.B)());return this._inProgressUrlFetches.set(u,v),v}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(mz(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return KK(o)?new gy(o.url,null,o.options):new gy(o,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(MF,8),a.LFG(Xr),a.LFG(Pe,8),a.LFG(a.qLn))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function PA(n){return n.cloneNode(!0)}function mz(n,e){return n+":"+e}function KK(n){return!(!n.url||!n.options)}const YK=SI(class{constructor(n){this._elementRef=n}}),QK=new a.OlP("MAT_ICON_DEFAULT_OPTIONS"),JK=new a.OlP("mat-icon-location",{providedIn:"root",factory:function XK(){const n=(0,a.f3M)(Pe),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),gz=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],eY=gz.map(n=>`[${n}]`).join(", "),tY=/^url\(['"]?#(.*?)['"]?\)$/;let kF=(()=>{class n extends YK{get inline(){return this._inline}set inline(t){this._inline=ta(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,o,u,m){super(t),this._iconRegistry=i,this._location=o,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Zu.w0.EMPTY,m&&(m.color&&(this.color=this.defaultColor=m.color),m.fontSet&&(this.fontSet=m.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(u=>{o.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(eY),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)gz.forEach(u=>{const m=i[o],v=m.getAttribute(u),x=v?v.match(tY):null;if(x){let A=r.get(m);A||(A=[],r.set(m,A)),A.push({name:u,value:x[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(tl(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(OA),a.$8M("aria-hidden"),a.Y36(JK),a.Y36(a.qLn),a.Y36(QK,8))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(a.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),a.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:qK,decls:1,vars:0,template:function(i,r){1&i&&(a.F$t(),a.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),_z=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ia,ia]})}return n})();const nY=["*",[["mat-toolbar-row"]]],iY=["*","mat-toolbar-row"],rY=SI(class{constructor(n){this._elementRef=n}});let oY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),sY=(()=>{class n extends rY{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(Sa),a.Y36(Pe))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&a.Suo(o,oY,5),2&i){let u;a.iGM(u=a.CRH())&&(r._toolbarRows=u)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&a.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:iY,decls:2,vars:0,template:function(i,r){1&i&&(a.F$t(nY),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),vz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ia,ia]})}return n})();var Wg=Q(3019),yz=Q(1954);let OF,aY=1;const RA={};function bz(n){return n in RA&&(delete RA[n],!0)}const cY={setImmediate(n){const e=aY++;return RA[e]=!0,OF||(OF=Promise.resolve()),OF.then(()=>bz(e)&&n()),e},clearImmediate(n){bz(n)}},{setImmediate:lY,clearImmediate:uY}=cY,NA={setImmediate(...n){const{delegate:e}=NA;return(e?.setImmediate||lY)(...n)},clearImmediate(n){const{delegate:e}=NA;return(e?.clearImmediate||uY)(n)},delegate:void 0};var wz=Q(2631);const PF=new class hY extends wz.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class dY extends yz.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=NA.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(NA.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function Cz(n,e){return e?t=>JE(e.pipe(tl(1),function fY(){return(0,Nr.e)((n,e)=>{n.subscribe((0,ci.x)(e,SN.Z))})}()),t.pipe(Cz(n))):(0,Ta.z)((t,i)=>(0,Mo.Xf)(n(t,i)).pipe(tl(1),QV(t)))}var pY=Q(671);function xz(n=0,e,t=ow.P){let i=-1;return null!=e&&((0,pY.K)(e)?t=e:i=e),new ar.y(r=>{let o=function mY(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Ez(n,e=ow.z){const t=xz(n,e);return Cz(()=>t)}class RF{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class gY extends RF{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class Iz extends RF{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class _Y extends RF{constructor(e){super(),this.element=e instanceof a.SBq?e.nativeElement:e}}class vY{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof gY?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Iz?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof _Y?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class yY extends vY{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const m=u.element,v=this._document.createComment("dom-portal");m.parentNode.insertBefore(v,m),this.outletElement.appendChild(m),this._attachedPortal=u,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(m,v)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let bY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();var wY=Q(4266);const CY=["addListener","removeListener"],xY=["addEventListener","removeEventListener"],EY=["on","off"];function NF(n,e,t,i){if((0,jd.m)(t)&&(i=t,t=void 0),i)return NF(n,e,t).pipe(xN(i));const[r,o]=function SY(n){return(0,jd.m)(n.addEventListener)&&(0,jd.m)(n.removeEventListener)}(n)?xY.map(u=>m=>n[u](e,m,t)):function IY(n){return(0,jd.m)(n.addListener)&&(0,jd.m)(n.removeListener)}(n)?CY.map(Tz(n,e)):function TY(n){return(0,jd.m)(n.on)&&(0,jd.m)(n.off)}(n)?EY.map(Tz(n,e)):[];if(!r&&(0,wY.z)(n))return(0,Ta.z)(u=>NF(u,e,t))((0,Mo.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ar.y(u=>{const m=(...v)=>u.next(1<v.length?v:v[0]);return r(m),()=>o(m)})}function Tz(n,e){return t=>i=>n[t](e,i)}const RI={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=RI;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new Zu.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=RI;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=RI;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class MY extends wz.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class DY extends yz.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=RI.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(RI.cancelAnimationFrame(t),e._scheduled=void 0)}});function Sz(n,e=ow.z){return function kY(n){return(0,Nr.e)((e,t)=>{let i=!1,r=null,o=null,u=!1;const m=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const x=r;r=null,t.next(x)}u&&t.complete()},v=()=>{o=null,u&&t.complete()};e.subscribe((0,ci.x)(t,x=>{i=!0,r=x,o||(0,Mo.Xf)(n(x)).subscribe(o=(0,ci.x)(t,m,v))},()=>{u=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>xz(n,e))}let PY=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Hn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ar.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(Sz(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,_n.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(cr(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=$g(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>NF(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(a.R0b),a.LFG(Sa),a.LFG(Pe,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dz=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Hn.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Sz(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Sa),a.LFG(a.R0b),a.LFG(Pe,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),FF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})(),Mz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[II,FF,II,FF]})}return n})();const Az=BZ();class NY{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=na(-this._previousScrollPosition.left),e.style.top=na(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Az&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Az&&(i.scrollBehavior=o,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class FY{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(cr(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class kz{enable(){}disable(){}attach(){}}function LF(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Oz(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class LY{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();LF(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let UY=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new kz,this.close=u=>new FY(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new NY(this._viewportRuler,this._document),this.reposition=u=>new LY(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(PY),a.LFG(Dz),a.LFG(a.R0b),a.LFG(Pe))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Pz{constructor(e){if(this.scrollStrategy=new kz,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class VY{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let Rz=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Pe))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BY=(()=>{class n extends Rz{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const m=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>m.next(r)):m.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Pe),a.LFG(a.R0b,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jY=(()=>{class n extends Rz{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Hg(o)},this._clickListener=o=>{const u=Hg(o),m="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const v=this._attachedOverlays.slice();for(let x=v.length-1;x>-1;x--){const A=v[x];if(A._outsidePointerEvents.observers.length<1||!A.hasAttached())continue;if(A.overlayElement.contains(u)||A.overlayElement.contains(m))break;const L=A._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>L.next(o)):L.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Pe),a.LFG(Sa),a.LFG(a.R0b,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nz=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||hF()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),hF()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Pe),a.LFG(Sa))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class zY{constructor(e,t,i,r,o,u,m,v,x,A=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=u,this._document=m,this._location=v,this._outsideClickDispatcher=x,this._animationsDisabled=A,this._backdropElement=null,this._backdropClick=new Hn.x,this._attachments=new Hn.x,this._detachments=new Hn.x,this._locationChanges=Zu.w0.EMPTY,this._backdropClickHandler=L=>this._backdropClick.next(L),this._backdropTransitionendHandler=L=>{this._disposeBackdrop(L.target)},this._keydownEvents=new Hn.x,this._outsidePointerEvents=new Hn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(tl(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=na(this._config.width),e.height=na(this._config.height),e.minWidth=na(this._config.minWidth),e.minHeight=na(this._config.minHeight),e.maxWidth=na(this._config.maxWidth),e.maxHeight=na(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=vA(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Hd((0,Wg.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Fz="cdk-overlay-connected-position-bounding-box",HY=/([A-Za-z%]+)$/;class $Y{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Hn.x,this._resizeSubscription=Zu.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(Fz),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let u;for(let m of this._preferredPositions){let v=this._getOriginPoint(e,r,m),x=this._getOverlayPoint(v,t,m),A=this._getOverlayFit(x,t,i,m);if(A.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,v);this._canFitWithFlexibleDimensions(A,x,i)?o.push({position:m,origin:v,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(v,m)}):(!u||u.overlayFit.visibleArea<A.visibleArea)&&(u={overlayFit:A,overlayPoint:x,originPoint:v,position:m,overlayRect:t})}if(o.length){let m=null,v=-1;for(const x of o){const A=x.boundingBoxRect.width*x.boundingBoxRect.height*(x.position.weight||1);A>v&&(v=A,m=x)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&_y(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Fz),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,m=this._isRtl()?e.left:e.right;r="start"==i.originX?u:m}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=Uz(t);let{x:u,y:m}=e,v=this._getOffset(r,"x"),x=this._getOffset(r,"y");v&&(u+=v),x&&(m+=x);let q=0-m,ne=m+o.height-i.height,ae=this._subtractOverflows(o.width,0-u,u+o.width-i.width),ye=this._subtractOverflows(o.height,q,ne),We=ae*ye;return{visibleArea:We,isCompletelyWithinViewport:o.width*o.height===We,fitsInViewportVertically:ye===o.height,fitsInViewportHorizontally:ae==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,u=Lz(this._overlayRef.getConfig().minHeight),m=Lz(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=u&&u<=r)&&(e.fitsInViewportHorizontally||null!=m&&m<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=Uz(t),o=this._viewportRect,u=Math.max(e.x+r.width-o.width,0),m=Math.max(e.y+r.height-o.height,0),v=Math.max(o.top-i.top-e.y,0),x=Math.max(o.left-i.left-e.x,0);let A=0,L=0;return A=r.width<=o.width?x||-u:e.x<this._viewportMargin?o.left-i.left-e.x:0,L=r.height<=o.height?v||-m:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:A,y:L},{x:e.x+A,y:e.y+L}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new VY(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,u,m,A,L,q;if("top"===t.overlayY)u=e.y,o=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)m=i.height-e.y+2*this._viewportMargin,o=i.height-m+this._viewportMargin;else{const ne=Math.min(i.bottom-e.y+i.top,e.y),ae=this._lastBoundingBoxSize.height;o=2*ne,u=e.y-ne,o>ae&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-ae/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)q=i.width-e.x+this._viewportMargin,A=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)L=e.x,A=i.right-e.x;else{const ne=Math.min(i.right-e.x+i.left,e.x),ae=this._lastBoundingBoxSize.width;A=2*ne,L=e.x-ne,A>ae&&!this._isInitialRender&&!this._growAfterOpen&&(L=e.x-ae/2)}return{top:u,left:L,bottom:m,right:q,width:A,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=na(i.height),r.top=na(i.top),r.bottom=na(i.bottom),r.width=na(i.width),r.left=na(i.left),r.right=na(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=na(o)),u&&(r.maxWidth=na(u))}this._lastBoundingBoxSize=i,_y(this._boundingBox.style,r)}_resetBoundingBoxStyles(){_y(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){_y(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const A=this._viewportRuler.getViewportScrollPosition();_y(i,this._getExactOverlayY(t,e,A)),_y(i,this._getExactOverlayX(t,e,A))}else i.position="static";let m="",v=this._getOffset(t,"x"),x=this._getOffset(t,"y");v&&(m+=`translateX(${v}px) `),x&&(m+=`translateY(${x}px)`),i.transform=m.trim(),u.maxHeight&&(r?i.maxHeight=na(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=na(u.maxWidth):o&&(i.maxWidth="")),_y(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=na(o.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=na(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Oz(e,i),isOriginOutsideView:LF(e,i),isOverlayClipped:Oz(t,i),isOverlayOutsideView:LF(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&vA(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof a.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function _y(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Lz(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(HY);return t&&"px"!==t?null:parseFloat(e)}return n||null}function Uz(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Vz="cdk-global-overlay-wrapper";class qY{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Vz),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:u,maxHeight:m}=i,v=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),x=!("100%"!==o&&"100vh"!==o||m&&"100%"!==m&&"100vh"!==m),A=this._xPosition,L=this._xOffset,q="rtl"===this._overlayRef.getConfig().direction;let ne="",ae="",ye="";v?ye="flex-start":"center"===A?(ye="center",q?ae=L:ne=L):q?"left"===A||"end"===A?(ye="flex-end",ne=L):("right"===A||"start"===A)&&(ye="flex-start",ae=L):"left"===A||"start"===A?(ye="flex-start",ne=L):("right"===A||"end"===A)&&(ye="flex-end",ae=L),e.position=this._cssPosition,e.marginLeft=v?"0":ne,e.marginTop=x?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=v?"0":ae,t.justifyContent=ye,t.alignItems=x?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Vz),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let GY=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new qY}flexibleConnectedTo(t){return new $Y(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Dz),a.LFG(Pe),a.LFG(Sa),a.LFG(Nz))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WY=0,FA=(()=>{class n{constructor(t,i,r,o,u,m,v,x,A,L,q,ne){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=m,this._ngZone=v,this._document=x,this._directionality=A,this._location=L,this._outsideClickDispatcher=q,this._animationsModuleType=ne}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),u=new Pz(t);return u.direction=u.direction||this._directionality.value,new zY(o,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+WY++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new yY(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(UY),a.LFG(Nz),a.LFG(a._Vd),a.LFG(GY),a.LFG(BY),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(Pe),a.LFG(wF),a.LFG(mt),a.LFG(jY),a.LFG(a.QbO,8))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const YY={provide:new a.OlP("cdk-connected-overlay-scroll-strategy"),deps:[FA],useFactory:function KY(n){return()=>n.scrollStrategies.reposition()}};let QY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:[FA,YY],imports:[II,bY,Mz,Mz]})}return n})();const JY=["mat-menu-item",""];function XY(n,e){1&n&&(a.O4$(),a.TgZ(0,"svg",3),a._UZ(1,"polygon",4),a.qZA())}const eQ=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],tQ=["mat-icon, [matMenuItemIcon]","*"];function nQ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",0),a.NdJ("keydown",function(r){a.CHM(t);const o=a.oxw();return a.KtG(o._handleKeydown(r))})("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){a.CHM(t);const o=a.oxw();return a.KtG(o._onAnimationStart(r))})("@transformMenu.done",function(r){a.CHM(t);const o=a.oxw();return a.KtG(o._onAnimationDone(r))}),a.TgZ(1,"div",1),a.Hsn(2),a.qZA()()}if(2&n){const t=a.oxw();a.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),a.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const iQ=["*"],UF=new a.OlP("MAT_MENU_PANEL"),rQ=xA(TI(class{}));let LA=(()=>{class n extends rQ{constructor(t,i,r,o,u){super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new Hn.x,this._focused=new Hn.x,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(Pe),a.Y36(CA),a.Y36(UF,8),a.Y36(a.sBO))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(i,r){1&i&&a.NdJ("click",function(u){return r._checkDisabled(u)})("mouseenter",function(){return r._handleMouseEnter()}),2&i&&(a.uIk("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),a.ekj("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[a.qOj],attrs:JY,ngContentSelectors:tQ,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){1&i&&(a.F$t(eQ),a.Hsn(0),a.TgZ(1,"span",0),a.Hsn(2,1),a.qZA(),a._UZ(3,"div",1),a.YNc(4,XY,2,0,"svg",2)),2&i&&(a.xp6(3),a.Q6J("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),a.xp6(1),a.Q6J("ngIf",r._triggersSubmenu))},dependencies:[ki,MI],encapsulation:2,changeDetection:0})}return n})();const oQ=new a.OlP("MatMenuContent"),UA={transformMenu:qc("transformMenu",[md("void",Ti({opacity:0,transform:"scale(0.8)"})),fs("void => enter",Ri("120ms cubic-bezier(0, 0, 0.2, 1)",Ti({opacity:1,transform:"scale(1)"}))),fs("* => void",Ri("100ms 25ms linear",Ti({opacity:0})))]),fadeInItems:qc("fadeInItems",[md("showing",Ti({opacity:1})),fs("void => *",[Ti({opacity:0}),Ri("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let sQ=0;const Bz=new a.OlP("mat-menu-default-options",{providedIn:"root",factory:function aQ(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let NI=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=ta(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=ta(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,i,r,o){this._elementRef=t,this._ngZone=i,this._changeDetectorRef=o,this._directDescendantItems=new a.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new Hn.x,this.closed=new a.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+sQ++,this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this._overlapTrigger=r.overlapTrigger,this._hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new _7(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ng(this._directDescendantItems),(0,Go.w)(t=>(0,Wg.T)(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Ng(this._directDescendantItems),(0,Go.w)(i=>(0,Wg.T)(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:fj(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(tl(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Ng(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Bz),a.Y36(a.sBO))};static#t=this.\u0275dir=a.lG2({type:n,contentQueries:function(i,r,o){if(1&i&&(a.Suo(o,oQ,5),a.Suo(o,LA,5),a.Suo(o,LA,4)),2&i){let u;a.iGM(u=a.CRH())&&(r.lazyContent=u.first),a.iGM(u=a.CRH())&&(r._allItems=u),a.iGM(u=a.CRH())&&(r.items=u)}},viewQuery:function(i,r){if(1&i&&a.Gf(a.Rgc,5),2&i){let o;a.iGM(o=a.CRH())&&(r.templateRef=o.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}})}return n})(),cQ=(()=>{class n extends NI{constructor(t,i,r,o){super(t,i,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Bz),a.Y36(a.sBO))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(i,r){2&i&&a.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[a._Bn([{provide:UF,useExisting:n}]),a.qOj],ngContentSelectors:iQ,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(i,r){1&i&&(a.F$t(),a.YNc(0,nQ,3,6,"ng-template"))},dependencies:[Yo],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{--mat-menu-container-shape:4px;min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[UA.transformMenu,UA.fadeInItems]},changeDetection:0})}return n})();const jz=new a.OlP("mat-menu-scroll-strategy"),uQ={provide:jz,deps:[FA],useFactory:function lQ(n){return()=>n.scrollStrategies.reposition()}},zz=rw({passive:!0});let dQ=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,i,r,o,u,m,v,x,A){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=m,this._dir=v,this._focusMonitor=x,this._ngZone=A,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Zu.w0.EMPTY,this._hoverSubscription=Zu.w0.EMPTY,this._menuCloseSubscription=Zu.w0.EMPTY,this._changeDetectorRef=(0,a.f3M)(a.sBO),this._handleTouchStart=L=>{yF(L)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new a.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new a.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=u instanceof NI?u:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,zz)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,zz),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),o=r.positionStrategy;this._setPosition(t,o),r.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof NI&&(t._startAnimation(),t._directDescendantItems.changes.pipe(Hd(t.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof NI?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(cr(r=>"void"===r.toState),tl(1),Hd(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new Pz({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",u="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(o,u)):t.setPositionClasses(o,u)})}_setPosition(t,i){let[r,o]="before"===t.xPosition?["end","start"]:["start","end"],[u,m]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[v,x]=[u,m],[A,L]=[r,o],q=0;if(this.triggersSubmenu()){if(L=r="before"===t.xPosition?"start":"end",o=A="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const ne=this._parentMaterialMenu.items.first;this._parentInnerPadding=ne?ne._getHostElement().offsetTop:0}q="bottom"===u?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(v="top"===u?"bottom":"top",x="top"===m?"bottom":"top");i.withPositions([{originX:r,originY:v,overlayX:A,overlayY:u,offsetY:q},{originX:o,originY:v,overlayX:L,overlayY:u,offsetY:q},{originX:r,originY:x,overlayX:A,overlayY:m,offsetY:-q},{originX:o,originY:x,overlayX:L,overlayY:m,offsetY:-q}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,_n.of)(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(cr(u=>u!==this._menuItemInstance),cr(()=>this._menuOpen)):(0,_n.of)();return(0,Wg.T)(t,r,o,i)}_handleMousedown(t){vF(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(cr(t=>t===this._menuItemInstance&&!t.disabled),Ez(0,PF)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof NI&&this.menu._isAnimating?this.menu._animationDone.pipe(tl(1),Ez(0,PF),Hd(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new Iz(t.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(FA),a.Y36(a.SBq),a.Y36(a.s_b),a.Y36(jz),a.Y36(UF,8),a.Y36(LA,10),a.Y36(wF,8),a.Y36(CA),a.Y36(a.R0b))};static#t=this.\u0275dir=a.lG2({type:n,hostVars:3,hostBindings:function(i,r){1&i&&a.NdJ("click",function(u){return r._handleClick(u)})("mousedown",function(u){return r._handleMousedown(u)})("keydown",function(u){return r._handleKeydown(u)}),2&i&&a.uIk("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}})}return n})(),hQ=(()=>{class n extends dQ{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}();static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[a.qOj]})}return n})(),Hz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({providers:[uQ],imports:[Pi,IA,ia,QY,FF,ia]})}return n})();function fQ(n,e){if(1&n&&(a.TgZ(0,"h1",10),a._uU(1),a.qZA()),2&n){const t=e.ngIf;a.xp6(1),a.hij(" \xdcdv\xf6z\xf6lj\xfck, ",t.displayName,"!")}}function pQ(n,e){if(1&n&&(a.ynx(0),a.TgZ(1,"button",11),a._UZ(2,"img",12),a.TgZ(3,"mat-icon"),a._uU(4,"expand_more"),a.qZA()(),a.BQk()),2&n){const t=e.ngIf;a.oxw();const i=a.MAs(12);let r;a.xp6(1),a.Q6J("matMenuTriggerFor",i),a.xp6(1),a.Q6J("src",null!==(r=t.photoURL)&&void 0!==r?r:"assets/image-placeholder.png",a.LSH)}}function mQ(n,e){1&n&&(a.TgZ(0,"button",13)(1,"div",14),a.O4$(),a.TgZ(2,"svg",15),a._UZ(3,"path",16),a.qZA()(),a.kcU(),a.TgZ(4,"div",17),a._uU(5,"Bejelentkez\xe9s"),a.qZA()())}function gQ(n,e){1&n&&a._UZ(0,"div")}let $z=(()=>{class n{constructor(t,i,r,o){this.authService=t,this.router=i,this.usersService=r,this.services=o,this.user$=this.usersService.currentUserProfile$,this.items=[],this.users=[],this.userOrders=[]}ngOnInit(){}logout(){this.authService.logout().subscribe(()=>{this.router.navigate(["/user"])})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(py),a.Y36(yc),a.Y36(AI),a.Y36(nl))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-user"]],decls:19,vars:10,consts:[["color","primary"],["class","log-in-a",4,"ngIf"],[4,"ngIf","ngIfElse"],["loginButton",""],[4,"ngIf"],[1,"content"],["userMenu","matMenu"],["mat-menu-item","","routerLink","/home"],["mat-menu-item","","routerLink","/user/profile"],["mat-menu-item","",3,"click"],[1,"log-in-a"],["mat-button","",3,"matMenuTriggerFor"],["width","30","height","30",1,"profile-image-toolbar",3,"src"],["routerLink","login",1,"Btn"],[1,"sign"],["viewBox","0 0 512 512"],["d","M217.9 105.9L340.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L217.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1L32 320c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM352 416l64 0c17.7 0 32-14.3 32-32l0-256c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c53 0 96 43 96 96l0 256c0 53-43 96-96 96l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"],[1,"text"]],template:function(i,r){if(1&i&&(a.TgZ(0,"mat-toolbar",0),a.YNc(1,fQ,2,1,"h1",1),a.ALo(2,"async"),a.YNc(3,pQ,5,2,"ng-container",2),a.ALo(4,"async"),a.YNc(5,mQ,6,0,"ng-template",null,3,a.W1O),a.qZA(),a.YNc(7,gQ,1,0,"div",4),a.ALo(8,"async"),a.TgZ(9,"div",5),a._UZ(10,"router-outlet"),a.qZA(),a.TgZ(11,"mat-menu",null,6)(13,"button",7),a._uU(14,"Rendel\xe9sek"),a.qZA(),a.TgZ(15,"button",8),a._uU(16,"Profil"),a.qZA(),a.TgZ(17,"button",9),a.NdJ("click",function(){return r.logout()}),a._uU(18,"Kijelentkez\xe9s"),a.qZA()()),2&i){const o=a.MAs(6);a.xp6(1),a.Q6J("ngIf",a.lcZ(2,4,r.user$)),a.xp6(2),a.Q6J("ngIf",a.lcZ(4,6,r.user$))("ngIfElse",o),a.xp6(4),a.Q6J("ngIf",!a.lcZ(8,8,r.user$))}},dependencies:[ki,W1,um,SA,kF,sY,cQ,LA,hQ,Ki],styles:["mat-toolbar[_ngcontent-%COMP%]{justify-content:space-between;margin:0;background-color:#092c3d;border-radius:0;box-shadow:0 6px 20px #00000063}.conent[_ngcontent-%COMP%]{padding:32px}.profile-image-toolbar[_ngcontent-%COMP%]{border-radius:100%;margin-right:8px;margin-top:10px}.Btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;width:45px;height:45px;border:none;border-radius:50%;cursor:pointer;position:absolute;right:20px;overflow:hidden;transition-duration:.3s;box-shadow:2px 2px 10px #0003;background-color:#fff}.sign[_ngcontent-%COMP%]{width:100%;transition-duration:.3s;display:flex;align-items:center;justify-content:center}.sign[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:17px}.sign[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#092c3d}.text[_ngcontent-%COMP%]{position:absolute;right:0%;width:0%;opacity:0;color:#092c3d;font-size:1.2em;font-weight:600;transition-duration:.3s}.Btn[_ngcontent-%COMP%]:hover{width:185px;border-radius:40px;transition-duration:.3s}.Btn[_ngcontent-%COMP%]:hover   .sign[_ngcontent-%COMP%]{width:30%;transition-duration:.3s;padding-left:20px}.Btn[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{opacity:1;width:70%;transition-duration:.3s;padding-right:10px}.Btn[_ngcontent-%COMP%]:active{transform:translate(2px,2px)}"]})}return n})(),_Q=(()=>{class n{constructor(t,i,r,o){this.authService=t,this.toast=i,this.router=r,this.fb=o,this.loginForm=this.fb.group({email:["",bc.required],password:["",bc.required]}),this.isDisabled=!0}ngOnInit(){}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}submit(){const{email:t,password:i}=this.loginForm.value;!this.loginForm.valid||!t||!i||this.authService.login(t,i).pipe(this.toast.observe({success:"Sikeres bejelentkez\xe9s",loading:"Bejelentkez\xe9s...",error:"Hib\xe1s E-mail vagy jelsz\xf3!"})).subscribe(()=>{this.router.navigate(["/user"])})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(py),a.Y36(Va),a.Y36(yc),a.Y36(gA))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-login"]],decls:35,vars:1,consts:[[1,"form-container"],[1,"title"],[1,"form",3,"formGroup","ngSubmit"],[1,"inputGroup"],["type","text","required","","formControlName","email"],["for","text"],["type","password","required","","formControlName","password","autocomplete","off"],[1,"page-link"],[1,"page-link-label"],[1,"form-btn"],[1,"sign-up-label"],["routerLink","/user/sign-up",1,"sign-up-link"],[1,"buttons-container"],[1,"apple-login-button"],["stroke","currentColor","fill","currentColor","stroke-width","0","viewBox","0 0 1024 1024","height","1em","width","1em","xmlns","http://www.w3.org/2000/svg",1,"apple-icon"],["d","M747.4 535.7c-.4-68.2 30.5-119.6 92.9-157.5-34.9-50-87.7-77.5-157.3-82.8-65.9-5.2-138 38.4-164.4 38.4-27.9 0-91.7-36.6-141.9-36.6C273.1 298.8 163 379.8 163 544.6c0 48.7 8.9 99 26.7 150.8 23.8 68.2 109.6 235.3 199.1 232.6 46.8-1.1 79.9-33.2 140.8-33.2 59.1 0 89.7 33.2 141.9 33.2 90.3-1.3 167.9-153.2 190.5-221.6-121.1-57.1-114.6-167.2-114.6-170.7zm-105.1-305c50.7-60.2 46.1-115 44.6-134.7-44.8 2.6-96.6 30.5-126.1 64.8-32.5 36.8-51.6 82.3-47.5 133.6 48.4 3.7 92.6-21.2 129-63.7z"],[1,"login-with-g-a"],[1,"google-login-button"],["stroke","currentColor","fill","currentColor","stroke-width","0","version","1.1","x","0px","y","0px","viewBox","0 0 48 48","height","1em","width","1em","xmlns","http://www.w3.org/2000/svg",1,"google-icon"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\n            c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\n            c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\n            C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\n            c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\n            c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"]],template:function(i,r){1&i&&(a.TgZ(0,"div",0)(1,"p",1),a._uU(2,"Jelentkezzen be!"),a.qZA(),a.TgZ(3,"form",2),a.NdJ("ngSubmit",function(){return r.submit()}),a.TgZ(4,"div",3),a._UZ(5,"input",4),a.TgZ(6,"label",5),a._uU(7,"E-mail c\xedm"),a.qZA()(),a.TgZ(8,"div",3),a._UZ(9,"input",6),a.TgZ(10,"label",5),a._uU(11,"Jelsz\xf3"),a.qZA()(),a.TgZ(12,"p",7)(13,"span",8),a._uU(14,"Elfelejtette a jelszav\xe1t?"),a.qZA()(),a.TgZ(15,"button",9),a._uU(16,"Bejelentkez\xe9s"),a.qZA()(),a.TgZ(17,"p",10),a._uU(18," M\xe9g nincs fi\xf3kja?"),a.TgZ(19,"span",11),a._uU(20,"Regisztr\xe1ljon!"),a.qZA()(),a.TgZ(21,"div",12)(22,"div",13),a.O4$(),a.TgZ(23,"svg",14),a._UZ(24,"path",15),a.qZA(),a.kcU(),a.TgZ(25,"span",16),a._uU(26,"Bejelentkez\xe9s Apple fi\xf3kkal"),a.qZA()(),a.TgZ(27,"div",17),a.O4$(),a.TgZ(28,"svg",18),a._UZ(29,"path",19)(30,"path",20)(31,"path",21)(32,"path",22),a.qZA(),a.kcU(),a.TgZ(33,"span",16),a._uU(34,"Bejelentkez\xe9s Google fi\xf3kkal"),a.qZA()()()()),2&i&&(a.xp6(3),a.Q6J("formGroup",r.loginForm))},dependencies:[um,CI,cy,ly,pI,pA,zg,nw],styles:[".mdc-text-field--filled[_ngcontent-%COMP%]:not(.mdc-text-field--disabled){background-color:#eceff1}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.text-center[_ngcontent-%COMP%]{text-align:center}.form-container[_ngcontent-%COMP%]{width:100%;max-width:500px;height:500px;background-color:#fff;box-shadow:#00000059 0 5px 15px;border-radius:10px;box-sizing:border-box;padding:20px 30px;position:relative}.title[_ngcontent-%COMP%]{text-align:center;margin:10px 0 30px;font-size:28px;font-weight:800;color:#092c3d}.form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:18px;margin-bottom:15px}.page-link[_ngcontent-%COMP%]{text-decoration:underline;margin:0;text-align:end;color:#747474;text-decoration-color:#747474}.page-link-label[_ngcontent-%COMP%]{cursor:pointer;font-size:9px;font-weight:700}.page-link-label[_ngcontent-%COMP%]:hover{color:#000}.form-btn[_ngcontent-%COMP%]{padding:10px 15px;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;border-radius:20px;border:0!important;outline:0!important;background:#092c3d;color:#fff;cursor:pointer;box-shadow:#0000003d 0 3px 8px}.form-btn[_ngcontent-%COMP%]:active{box-shadow:none}.sign-up-label[_ngcontent-%COMP%]{margin:0;font-size:10px;color:#747474;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}.sign-up-link[_ngcontent-%COMP%]{margin-left:1px;font-size:11px;text-decoration:underline;text-decoration-color:#092c3d;color:#092c3d;cursor:pointer;font-weight:800;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}.buttons-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:flex-start;margin-top:20px;gap:15px}.apple-login-button[_ngcontent-%COMP%], .google-login-button[_ngcontent-%COMP%]{border-radius:20px;box-sizing:border-box;padding:10px 15px;box-shadow:#00000029 0 10px 36px,#0000000f 0 0 0 1px;cursor:not-allowed;display:flex;justify-content:center;align-items:center;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;font-size:11px;gap:5px;-webkit-user-select:none;user-select:none;opacity:.3}.apple-login-button[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:2px solid #000}.google-login-button[_ngcontent-%COMP%]{border:2px solid #747474}.apple-icon[_ngcontent-%COMP%], .google-icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:1px}@media screen and (max-width: 650){.form-container[_ngcontent-%COMP%]{max-width:550px;height:500px;padding:10px 15px;margin-top:35px}.form-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:10px 0 30px;font-size:22px}.form-container[_ngcontent-%COMP%]   .apple-login-button[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .google-login-button[_ngcontent-%COMP%]{font-size:10px}}@media screen and (min-width: 650px){.form-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}}.inputGroup[_ngcontent-%COMP%]{margin:1em 0 0;max-width:100%;position:relative}.inputGroup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:100%;padding:.8em;outline:none;border:2px solid rgb(200,200,200);background-color:transparent;border-radius:20px;width:100%}.inputGroup[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:100%;position:absolute;left:0;padding:.8em;margin-left:.5em;pointer-events:none;transition:all .3s ease;color:#646464}.inputGroup[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid) ~ label[_ngcontent-%COMP%]{transform:translateY(-50%) scale(.9);margin:0 0 0 1.3em;padding:.4em;background-color:#fff}.inputGroup[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid){border-color:#092c3d}"]})}return n})();const qz=rw({passive:!0});let vQ=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Hf.E;const i=$g(t),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new Hn.x,u="cdk-text-field-autofilled",m=v=>{"cdk-text-field-autofill-start"!==v.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===v.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>o.next({target:v.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>o.next({target:v.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",m,qz),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",m,qz)}}),o}stopMonitoring(t){const i=$g(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(Sa),a.LFG(a.R0b))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})();var bQ=Q(4552);class wQ extends Hn.x{constructor(e=1/0,t=1/0,i=bQ.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;t||(i.push(e),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!e.closed;u+=i?1:2)e.next(o[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=t.now();let m=0;for(let v=1;v<i.length&&i[v]<=u;v+=2)m=v;m&&i.splice(0,m+1)}}}function VF(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,EF.B)({connector:()=>new wQ(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}class CQ{constructor(e){this._box=e,this._destroyed=new Hn.x,this._resizeSubject=new Hn.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new ar.y(t=>{const i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(cr(t=>t.some(i=>i.target===e)),VF({bufferSize:1,refCount:!0}),Hd(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let xQ=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,a.f3M)(a.R0b)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new CQ(r)),this._observers.get(r).observe(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const EQ=["notch"],IQ=["matFormFieldNotchedOutline",""],TQ=["*"],SQ=["textField"],DQ=["iconPrefixContainer"],MQ=["textPrefixContainer"];function AQ(n,e){1&n&&a._UZ(0,"span",19)}function kQ(n,e){if(1&n&&(a.TgZ(0,"label",17),a.Hsn(1,1),a.YNc(2,AQ,1,0,"span",18),a.qZA()),2&n){const t=a.oxw(2);a.Q6J("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),a.uIk("for",t._control.id),a.xp6(2),a.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function OQ(n,e){if(1&n&&a.YNc(0,kQ,3,5,"label",16),2&n){const t=a.oxw();a.Q6J("ngIf",t._hasFloatingLabel())}}function PQ(n,e){1&n&&a._UZ(0,"div",20)}function RQ(n,e){}function NQ(n,e){if(1&n&&a.YNc(0,RQ,0,0,"ng-template",22),2&n){a.oxw(2);const t=a.MAs(1);a.Q6J("ngTemplateOutlet",t)}}function FQ(n,e){if(1&n&&(a.TgZ(0,"div",21),a.YNc(1,NQ,1,1,"ng-template",9),a.qZA()),2&n){const t=a.oxw();a.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),a.xp6(1),a.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function LQ(n,e){1&n&&(a.TgZ(0,"div",23,24),a.Hsn(2,2),a.qZA())}function UQ(n,e){1&n&&(a.TgZ(0,"div",25,26),a.Hsn(2,3),a.qZA())}function VQ(n,e){}function BQ(n,e){if(1&n&&a.YNc(0,VQ,0,0,"ng-template",22),2&n){a.oxw();const t=a.MAs(1);a.Q6J("ngTemplateOutlet",t)}}function jQ(n,e){1&n&&(a.TgZ(0,"div",27),a.Hsn(1,4),a.qZA())}function zQ(n,e){1&n&&(a.TgZ(0,"div",28),a.Hsn(1,5),a.qZA())}function HQ(n,e){1&n&&a._UZ(0,"div",29)}function $Q(n,e){if(1&n&&(a.TgZ(0,"div",30),a.Hsn(1,6),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState)}}function qQ(n,e){if(1&n&&(a.TgZ(0,"mat-hint",34),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.Q6J("id",t._hintLabelId),a.xp6(1),a.Oqu(t.hintLabel)}}function GQ(n,e){if(1&n&&(a.TgZ(0,"div",31),a.YNc(1,qQ,2,2,"mat-hint",32),a.Hsn(2,7),a._UZ(3,"div",33),a.Hsn(4,8),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",t.hintLabel)}}const WQ=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ZQ=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let FI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]})}return n})(),KQ=0;const Gz=new a.OlP("MatError");let YQ=(()=>{class n{constructor(t,i){this.id="mat-mdc-error-"+KQ++,t||i.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(i){return new(i||n)(a.$8M("aria-live"),a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){2&i&&a.Ikx("id",r.id)},inputs:{id:"id"},features:[a._Bn([{provide:Gz,useExisting:n}])]})}return n})(),QQ=0,Wz=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+QQ++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(a.Ikx("id",r.id),a.uIk("align",null),a.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const JQ=new a.OlP("MatPrefix"),XQ=new a.OlP("MatSuffix"),Zz=new a.OlP("FloatingLabelParent");let Kz=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,a.f3M)(xQ),this._ngZone=(0,a.f3M)(a.R0b),this._parent=(0,a.f3M)(Zz),this._resizeSubscription=new Zu.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function eJ(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&a.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const Yz="mdc-line-ripple--active",VA="mdc-line-ripple--deactivating";let Qz=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,u=o.contains(VA);"opacity"===r.propertyName&&u&&o.remove(Yz,VA)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(VA),t.add(Yz)}deactivate(){this._elementRef.nativeElement.classList.add(VA)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.R0b))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),Jz=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.R0b))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&a.Gf(EQ,5),2&i){let o;a.iGM(o=a.CRH())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&a.ekj("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:IQ,ngContentSelectors:TQ,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(a.F$t(),a._UZ(0,"div",0),a.TgZ(1,"div",1,2),a.Hsn(3),a.qZA(),a._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const tJ={transitionMessages:qc("transitionMessages",[md("enter",Ti({opacity:1,transform:"translateY(0%)"})),fs("void => enter",[Ti({opacity:0,transform:"translateY(-5px)"}),Ri("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Xz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.lG2({type:n})}return n})();const e4=new a.OlP("MatFormField"),nJ=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let t4=0,BF=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ta(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,o,u,m,v,x){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=u,this._defaults=m,this._animationMode=v,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+t4++,this._hintLabelId="mat-mdc-hint-"+t4++,this._subscriptAnimationState="",this._destroyed=new Hn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,m&&(m.appearance&&(this.appearance=m.appearance),this._hideRequiredMarker=!!m?.hideRequiredMarker,m.color&&(this.color=m.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Hd(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Wg.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Hd(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Hd(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,u=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+u}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(wF),a.Y36(Sa),a.Y36(nJ,8),a.Y36(a.QbO,8),a.Y36(Pe))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(a.Suo(o,FI,5),a.Suo(o,FI,7),a.Suo(o,Xz,5),a.Suo(o,JQ,5),a.Suo(o,XQ,5),a.Suo(o,Gz,5),a.Suo(o,Wz,5)),2&i){let u;a.iGM(u=a.CRH())&&(r._labelChildNonStatic=u.first),a.iGM(u=a.CRH())&&(r._labelChildStatic=u.first),a.iGM(u=a.CRH())&&(r._formFieldControl=u.first),a.iGM(u=a.CRH())&&(r._prefixChildren=u),a.iGM(u=a.CRH())&&(r._suffixChildren=u),a.iGM(u=a.CRH())&&(r._errorChildren=u),a.iGM(u=a.CRH())&&(r._hintChildren=u)}},viewQuery:function(i,r){if(1&i&&(a.Gf(SQ,5),a.Gf(DQ,5),a.Gf(MQ,5),a.Gf(Kz,5),a.Gf(Jz,5),a.Gf(Qz,5)),2&i){let o;a.iGM(o=a.CRH())&&(r._textField=o.first),a.iGM(o=a.CRH())&&(r._iconPrefixContainer=o.first),a.iGM(o=a.CRH())&&(r._textPrefixContainer=o.first),a.iGM(o=a.CRH())&&(r._floatingLabel=o.first),a.iGM(o=a.CRH())&&(r._notchedOutline=o.first),a.iGM(o=a.CRH())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&a.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:e4,useExisting:n},{provide:Zz,useExisting:n}])],ngContentSelectors:ZQ,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(a.F$t(WQ),a.YNc(0,OQ,1,1,"ng-template",null,0,a.W1O),a.TgZ(2,"div",1,2),a.NdJ("click",function(u){return r._control.onContainerClick(u)}),a.YNc(4,PQ,1,0,"div",3),a.TgZ(5,"div",4),a.YNc(6,FQ,2,2,"div",5),a.YNc(7,LQ,3,0,"div",6),a.YNc(8,UQ,3,0,"div",7),a.TgZ(9,"div",8),a.YNc(10,BQ,1,1,"ng-template",9),a.Hsn(11),a.qZA(),a.YNc(12,jQ,2,0,"div",10),a.YNc(13,zQ,2,0,"div",11),a.qZA(),a.YNc(14,HQ,1,0,"div",12),a.qZA(),a.TgZ(15,"div",13),a.YNc(16,$Q,2,1,"div",14),a.YNc(17,GQ,5,2,"div",15),a.qZA()),2&i&&(a.xp6(2),a.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),a.xp6(2),a.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),a.xp6(2),a.Q6J("ngIf",r._hasOutline()),a.xp6(1),a.Q6J("ngIf",r._hasIconPrefix),a.xp6(1),a.Q6J("ngIf",r._hasTextPrefix),a.xp6(2),a.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),a.xp6(2),a.Q6J("ngIf",r._hasTextSuffix),a.xp6(1),a.Q6J("ngIf",r._hasIconSuffix),a.xp6(1),a.Q6J("ngIf",!r._hasOutline()),a.xp6(1),a.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),a.Q6J("ngSwitch",r._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[ki,oa,Ls,ec,Wz,Kz,Jz,Qz],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[tJ.transitionMessages]},changeDetection:0})}return n})(),LI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ia,Pi,gj,ia]})}return n})();const oJ=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),sJ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let aJ=0;const cJ=j7(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new Hn.x}});let jF=(()=>{class n extends cJ{get disabled(){return this._disabled}set disabled(t){this._disabled=ta(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(bc.required)??!1}set required(t){this._required=ta(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&uj().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ta(t)}constructor(t,i,r,o,u,m,v,x,A,L){super(m,o,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=x,this._formField=L,this._uid="mat-input-"+aJ++,this.focused=!1,this.stateChanges=new Hn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ae=>uj().has(ae)),this._iOSKeyupListener=ae=>{const ye=ae.target;!ye.value&&0===ye.selectionStart&&0===ye.selectionEnd&&(ye.setSelectionRange(1,1),ye.setSelectionRange(0,0))};const q=this._elementRef.nativeElement,ne=q.nodeName.toLowerCase();this._inputValueAccessor=v||q,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&A.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===ne,this._isTextarea="textarea"===ne,this._isInFormField=!!L,this._isNativeSelect&&(this.controlType=q.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){sJ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(Sa),a.Y36(fm,10),a.Y36(hA,8),a.Y36(zg,8),a.Y36(H7),a.Y36(oJ,10),a.Y36(vQ),a.Y36(a.R0b),a.Y36(e4,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&a.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(a.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),a.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),a.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:Xz,useExisting:n}]),a.qOj,a.TTD]})}return n})(),r4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ia,LI,LI,yQ,ia]})}return n})();function lJ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg a vezet\xe9knev\xe9t! "),a.qZA())}function uJ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg a keresztnev\xe9t! "),a.qZA())}function dJ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg az E-mail c\xedm\xe9t! "),a.qZA())}function hJ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," K\xe9rem, val\xf3di E-mail c\xedmet haszn\xe1ljon! "),a.qZA())}function fJ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg a telefonsz\xe1m\xe1t! "),a.qZA())}function pJ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg a Sz\xe1ll\xedt\xe1si c\xedm\xe9t! "),a.qZA())}function mJ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adjon meg egy jelsz\xf3t! "),a.qZA())}function gJ(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Adja meg m\xe9gegyszer! "),a.qZA())}function _J(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," A jelsz\xf3nak egyeznie kell! "),a.qZA())}let yJ=(()=>{class n{constructor(t,i,r,o,u){this.authService=t,this.fb=i,this.router=r,this.toast=o,this.usersService=u,this.signUpForm=this.fb.group({firstName:["",bc.required],lastName:["",bc.required],email:["",[bc.required,bc.email]],phone:["",bc.required],address:["",bc.required],password:["",bc.required],confirmPassword:["",bc.required]},{validators:n=>{const e=n.get("password")?.value,t=n.get("confirmPassword")?.value;return e&&t&&e!==t?{passwordsDontMatch:!0}:null}})}ngOnInit(){}get email(){return this.signUpForm.get("email")}get password(){return this.signUpForm.get("password")}get confirmPassword(){return this.signUpForm.get("confirmPassword")}get name(){return this.signUpForm.get("name")}submit(){const{lastName:t,firstName:i,address:r,phone:o,email:u,password:m}=this.signUpForm.value;!this.signUpForm.valid||!i||!i||!m||!u||this.authService.signUp(u,m).pipe((0,Go.w)(({user:{uid:v}})=>this.usersService.addUser({uid:v,email:u,lastName:t,firstName:i,address:r,phone:o,displayName:t})),this.toast.observe({success:"Sikeres regisztr\xe1ci\xf3!",loading:"Bejelentkez\xe9s",error:({message:v})=>`${v}`})).subscribe(()=>{this.router.navigate(["/user"])})}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(py),a.Y36(gA),a.Y36(yc),a.Y36(Va),a.Y36(AI))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-sign-up"]],decls:40,vars:10,consts:[[1,"form-container","mat-elevation-z5"],[3,"formGroup","ngSubmit"],["matInput","","formControlName","firstName"],[4,"ngIf"],["matInput","","formControlName","lastName"],["matInput","","formControlName","email","formControlName","email"],["type","number","matInput","","formControlName","phone"],["matInput","","formControlName","address"],["matInput","","type","password","placeholder","Jelsz\xf3","formControlName","password"],["matInput","","type","password","placeholder","Jelsz\xf3 \xfajra","formControlName","confirmPassword"],[1,"center","margin-top"],["type","submit","mat-raised-button","","color","primary"]],template:function(i,r){1&i&&(a.TgZ(0,"div",0)(1,"h1"),a._uU(2,"\xdaj fi\xf3k l\xe9trehoz\xe1sa!"),a.qZA(),a.TgZ(3,"form",1),a.NdJ("ngSubmit",function(){return r.submit()}),a.TgZ(4,"mat-form-field")(5,"mat-label"),a._uU(6,"Vezet\xe9kn\xe9v"),a.qZA(),a._UZ(7,"input",2),a.YNc(8,lJ,2,0,"mat-error",3),a.qZA(),a.TgZ(9,"mat-form-field")(10,"mat-label"),a._uU(11,"Keresztn\xe9v"),a.qZA(),a._UZ(12,"input",4),a.YNc(13,uJ,2,0,"mat-error",3),a.qZA(),a.TgZ(14,"mat-form-field")(15,"mat-label"),a._uU(16,"E-mail c\xedm"),a.qZA(),a._UZ(17,"input",5),a.YNc(18,dJ,2,0,"mat-error",3),a.YNc(19,hJ,2,0,"mat-error",3),a.qZA(),a.TgZ(20,"mat-form-field")(21,"mat-label"),a._uU(22,"Telefonsz\xe1m"),a.qZA(),a._UZ(23,"input",6),a.YNc(24,fJ,2,0,"mat-error",3),a.qZA(),a.TgZ(25,"mat-form-field")(26,"mat-label"),a._uU(27,"Sz\xe1ll\xedt\xe1si c\xedm"),a.qZA(),a._UZ(28,"input",7),a.YNc(29,pJ,2,0,"mat-error",3),a.qZA(),a.TgZ(30,"mat-form-field"),a._UZ(31,"input",8),a.YNc(32,mJ,2,0,"mat-error",3),a.qZA(),a.TgZ(33,"mat-form-field"),a._UZ(34,"input",9),a.YNc(35,gJ,2,0,"mat-error",3),a.qZA(),a.YNc(36,_J,2,0,"mat-error",3),a.TgZ(37,"div",10)(38,"button",11),a._uU(39,"Regisztr\xe1ci\xf3!"),a.qZA()()()()),2&i&&(a.xp6(3),a.Q6J("formGroup",r.signUpForm),a.xp6(5),a.Q6J("ngIf",null==r.name||null==r.name.errors?null:r.name.errors.required),a.xp6(5),a.Q6J("ngIf",null==r.name||null==r.name.errors?null:r.name.errors.required),a.xp6(5),a.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),a.xp6(1),a.Q6J("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.email),a.xp6(5),a.Q6J("ngIf",null==r.name||null==r.name.errors?null:r.name.errors.required),a.xp6(5),a.Q6J("ngIf",null==r.name||null==r.name.errors?null:r.name.errors.required),a.xp6(3),a.Q6J("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required),a.xp6(3),a.Q6J("ngIf",null==r.confirmPassword||null==r.confirmPassword.errors?null:r.confirmPassword.errors.required),a.xp6(1),a.Q6J("ngIf",null==r.signUpForm.errors?null:r.signUpForm.errors.passwordsDontMatch))},dependencies:[ki,SA,CI,cy,xI,ly,pI,zg,nw,jF,BF,FI,YQ],styles:[".form-container[_ngcontent-%COMP%]{display:block;max-width:600px;margin:auto;background:#eceff1;padding:48px;border-radius:16px}.form-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;background:#eceff1}.mdc-text-field--filled[_ngcontent-%COMP%]:not(.mdc-text-field--disabled){background-color:#eceff1}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.text-center[_ngcontent-%COMP%]{text-align:center}"]})}return n})(),bJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-landing"]],decls:2,vars:0,template:function(i,r){1&i&&(a.TgZ(0,"p"),a._uU(1,"landing works!"),a.qZA())}})}return n})();function wJ(n,e){if(1&n&&(a.TgZ(0,"div",14)(1,"div",15),a._UZ(2,"img",16),a.qZA(),a.TgZ(3,"div",17),a._uU(4),a.qZA(),a.TgZ(5,"div",18),a._uU(6),a.qZA(),a.TgZ(7,"div",19),a._uU(8),a.qZA()()),2&n){const t=e.$implicit;a.xp6(2),a.Q6J("src",t.product.imagePath,a.LSH),a.xp6(2),a.Oqu(t.product.description),a.xp6(2),a.hij("",t.quantity," db"),a.xp6(2),a.hij("",t.product.price," Ft/db")}}function CJ(n,e){if(1&n&&(a.TgZ(0,"div",6),a.YNc(1,wJ,9,4,"div",7),a.TgZ(2,"div",8)(3,"p",9),a._uU(4),a.qZA(),a.TgZ(5,"p",10),a._uU(6),a.qZA(),a.TgZ(7,"p",11),a._uU(8),a.qZA(),a.TgZ(9,"p",12),a._uU(10),a.ALo(11,"date"),a.qZA(),a.TgZ(12,"p",13),a._uU(13),a.qZA()()()),2&n){const t=e.$implicit;a.xp6(1),a.Q6J("ngForOf",t.items),a.xp6(3),a.hij("Aj\xe1nd\xe9kcsomagol\xe1s: ",t.gift?"Igen, +1590 Ft":"Nem",""),a.xp6(2),a.hij("K\xfcldem\xe9ny biztos\xedt\xe1sa: ",t.insurance?"Igen, +500 Ft":"Nem",""),a.xp6(2),a.hij("Sz\xe1ll\xedt\xe1s d\xedja: ",t.shippingPrice," Ft"),a.xp6(2),a.hij("Rendel\xe9s d\xe1tuma: ",a.xi3(11,6,t.orderDate.toDate(),"yyyy-MM-dd"),""),a.xp6(3),a.hij("\xd6sszesen: ",t.price," Ft")}}function xJ(n,e){if(1&n&&(a.TgZ(0,"div",4),a.YNc(1,CJ,14,9,"div",5),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",t.userOrders)}}function EJ(n,e){if(1&n&&(a.TgZ(0,"div",1)(1,"div",2),a._uU(2,"Kor\xe1bbi rendel\xe9sek"),a.qZA(),a.YNc(3,xJ,2,1,"div",3),a.ALo(4,"async"),a.qZA()),2&n){const t=a.oxw();a.xp6(3),a.Q6J("ngIf",a.lcZ(4,1,t.user$))}}let IJ=(()=>{class n{constructor(t,i,r){this.authService=t,this.usersService=i,this.services=r,this.user$=this.authService.currentUser$,this.items=[],this.users=[],this.userOrders=[]}ngOnInit(){this.services.refreshData(()=>this.services.getOrders(),this.items),this.services.refreshData(()=>this.services.getUsers(),this.users),this.getUser()}getUser(){this.usersService.currentUserProfile$.subscribe(t=>{t&&t.email&&(this.userEmail=t.email,this.userOrders=this.findUserOrders(t.email))})}findUserOrders(t){return this.items.filter(i=>i.email===t)}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(py),a.Y36(AI),a.Y36(nl))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-home"]],decls:3,vars:3,consts:[["class","orders-container",4,"ngIf"],[1,"orders-container"],[1,"orders-head"],["class","order-table",4,"ngIf"],[1,"order-table"],["class","order-row",4,"ngFor","ngForOf"],[1,"order-row"],["class","item-container",4,"ngFor","ngForOf"],[1,"order-data"],[1,"gift"],[1,"insurance"],[1,"shipping-price"],[1,"order-date"],[1,"total-price"],[1,"item-container"],[1,"product-image"],[3,"src"],[1,"description"],[1,"quantity"],[1,"product-price"]],template:function(i,r){1&i&&(a._UZ(0,"app-user"),a.YNc(1,EJ,5,3,"div",0),a.ALo(2,"async")),2&i&&(a.xp6(1),a.Q6J("ngIf",a.lcZ(2,1,r.user$)))},dependencies:[jn,ki,$z,Ki,Ma],styles:[".order-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-weight:100}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]{background-color:#fff;margin:20px 0 50px;box-shadow:0 6px 20px #00000030;border-radius:1rem;overflow:hidden;border:transparent}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .order-data[_ngcontent-%COMP%]{padding:10px 10px 40px}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .order-data[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]{width:300px;padding-top:10px;text-align:center;border-top:1px solid #edf1f7;float:right;font-size:16px}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #edf1f7}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1;text-align:center}.order-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:120px;float:left}"]})}return n})();const zF=(0,gn.U)(n=>!!n);let TJ=(()=>{class n{constructor(t,i){this.router=t,this.auth=i,this.canActivate=(r,o)=>{const u=r.data.authGuardPipe||(()=>zF);return Xs(this.auth).pipe(tl(1),u(r,o),(0,gn.U)(m=>"boolean"==typeof m?m:Array.isArray(m)?this.router.createUrlTree(m):this.router.parseUrl(m)))}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(yc),a.LFG(wp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const BA=n=>({canActivate:[TJ],data:{authGuardPipe:n}});var AJ=Q(7582);const kJ=a.GuJ,PJ=Symbol("__destroy"),o4=Symbol("__decoratorApplied");function s4(n){return"string"==typeof n?Symbol(`__destroy__${n}`):PJ}function a4(n,e){n[e]||(n[e]=new Hn.x)}function c4(n,e){n[e]&&(n[e].next(),n[e].complete(),n[e]=null)}function l4(n){n instanceof Zu.w0&&n.unsubscribe()}function u4(n,e){return function(){if(n&&n.call(this),c4(this,s4()),e.arrayName&&function NJ(n){Array.isArray(n)&&n.forEach(l4)}(this[e.arrayName]),e.checkProperties)for(const t in this)e.blackList?.includes(t)||l4(this[t])}}Symbol("CheckerHasBeenSet");function HJ(n,e){return t=>{const i=s4(e);"string"==typeof e?function zJ(n,e,t){const i=n[e];a4(n,t),n[e]=function(){i.apply(this,arguments),c4(this,t),n[e]=i}}(n,e,i):a4(n,i);const r=n[i];return t.pipe(Hd(r))}}let qJ=(()=>{class n{constructor(t){this.storage=t}uploadImage(t,i){const r=KG(this.storage,i);return(0,Mr.D)(YG(r,t)).pipe((0,Go.w)(u=>WG(u.ref)))}static#e=this.\u0275fac=function(i){return new(i||n)(a.LFG(P1))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function GJ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",1)(1,"h1"),a._uU(2,"Profil"),a.qZA(),a.TgZ(3,"div",2),a._UZ(4,"img",3),a.TgZ(5,"button",4),a.NdJ("click",function(){a.CHM(t);const r=a.MAs(9);return a.KtG(r.click())}),a.TgZ(6,"mat-icon"),a._uU(7,"edit"),a.qZA()()(),a.TgZ(8,"input",5,6),a.NdJ("change",function(r){const u=a.CHM(t).ngIf,m=a.oxw();return a.KtG(m.uploadImage(r,u))}),a.qZA(),a.TgZ(10,"form",7),a.NdJ("ngSubmit",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.saveProfile())}),a.TgZ(11,"div",8)(12,"mat-form-field")(13,"mat-label"),a._uU(14,"Vezet\xe9kn\xe9v"),a.qZA(),a._UZ(15,"input",9),a.qZA(),a.TgZ(16,"mat-form-field")(17,"mat-label"),a._uU(18,"Keresztn\xe9v"),a.qZA(),a._UZ(19,"input",10),a.qZA()(),a.TgZ(20,"div",8)(21,"mat-form-field")(22,"mat-label"),a._uU(23,"Profiln\xe9v"),a.qZA(),a._UZ(24,"input",11),a.qZA(),a.TgZ(25,"mat-form-field")(26,"mat-label"),a._uU(27,"Telefonsz\xe1m"),a.qZA(),a._UZ(28,"input",12),a.qZA()(),a.TgZ(29,"mat-form-field")(30,"mat-label"),a._uU(31,"Sz\xe1ll\xedt\xe1si c\xedm"),a.qZA(),a._UZ(32,"input",13),a.qZA(),a.TgZ(33,"button",14),a._uU(34," Ment\xe9s "),a.qZA()()()}if(2&n){const t=e.ngIf,i=a.oxw();let r;a.xp6(4),a.Q6J("src",null!==(r=t.photoURL)&&void 0!==r?r:"assets/image-placeholder.png",a.LSH),a.xp6(6),a.Q6J("formGroup",i.profileForm)}}let $F=class _2{constructor(e,t,i,r,o){this.authService=e,this.imageUploadService=t,this.toast=i,this.usersService=r,this.fb=o,this.user$=this.usersService.currentUserProfile$,this.profileForm=this.fb.group({uid:[""],displayName:[""],firstName:[""],lastName:[""],phone:[""],address:[""]})}ngOnInit(){this.usersService.currentUserProfile$.pipe(HJ(this),(0,tr.b)(console.log)).subscribe(e=>{this.profileForm.patchValue({...e})})}uploadImage(e,t){this.imageUploadService.uploadImage(e.target.files[0],`images/profile/${t.uid}`).pipe(this.toast.observe({loading:"A k\xe9p t\xf6lt\u0151dik...",success:"A k\xe9p sikeresen felt\xf6ltve!",error:"Hiba a k\xe9p felt\xf6lt\xe9se k\xf6zben"}),(0,Go.w)(i=>this.usersService.updateUser({uid:t.uid,photoURL:i}))).subscribe()}saveProfile(){const{uid:e,...t}=this.profileForm.value;e&&this.usersService.updateUser({uid:e,...t}).pipe(this.toast.observe({loading:"Profil ment\xe9se...",success:"Sikeres ment\xe9s!",error:"Hiba t\xf6rt\xe9nt a profil ment\xe9se sor\xe1n!"})).subscribe()}static#e=this.\u0275fac=function(t){return new(t||_2)(a.Y36(py),a.Y36(qJ),a.Y36(Va),a.Y36(AI),a.Y36(gA))};static#t=this.\u0275cmp=a.Xpm({type:_2,selectors:[["app-profile"]],decls:2,vars:3,consts:[["class","form-container mat-elevation-z5 text-center",4,"ngIf"],[1,"form-container","mat-elevation-z5","text-center"],[1,"profile-image"],["width","120","height","120",3,"src"],["mat-mini-fab","",3,"click"],["type","file","hidden","",3,"change"],["inputField",""],[1,"margin-top",3,"formGroup","ngSubmit"],[1,"row"],["type","text","matInput","","formControlName","firstName"],["type","text","matInput","","formControlName","lastName"],["type","text","matInput","","formControlName","displayName"],["type","number","matInput","","formControlName","phone"],["type","text","matInput","","formControlName","address"],["type","submit","mat-raised-button","","color","primary",1,"save-button","margin-top"]],template:function(t,i){1&t&&(a.YNc(0,GJ,35,2,"div",0),a.ALo(1,"async")),2&t&&a.Q6J("ngIf",a.lcZ(1,1,i.user$))},dependencies:[ki,SA,_K,kF,CI,cy,xI,ly,pI,zg,nw,jF,BF,FI,Ki],styles:[".profile-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{border-radius:100%;object-fit:cover;object-position:center;box-shadow:0 .25rem .5rem #000}.profile-image[_ngcontent-%COMP%]{position:relative}.profile-image[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:35%}.form-container[_ngcontent-%COMP%]{max-width:600px;margin-top:25px}.row[_ngcontent-%COMP%]{display:flex;gap:16px}.save-button[_ngcontent-%COMP%]{background-color:#17455c}.test[_ngcontent-%COMP%]{background:yellow}"]})};$F=(0,AJ.gn)([function UJ(n={}){return e=>{!function OJ(n){return!!n[kJ]}(e)?function FJ(n,e){n.prototype.ngOnDestroy=u4(n.prototype.ngOnDestroy,e)}(e,n):function LJ(n,e){const t=n.\u0275pipe;t.onDestroy=u4(t.onDestroy,e)}(e,n),function RJ(n){n.prototype[o4]=!0}(e)}}()],$F);const WJ=function(){return["/products"]};function ZJ(n,e){1&n&&(a.TgZ(0,"div",2),a._UZ(1,"img",3),a.TgZ(2,"div",4),a._uU(3,"A kosara \xfcres!"),a.TgZ(4,"p",5),a._uU(5,"Vissza a term\xe9kekhez!"),a.qZA()()()),2&n&&(a.xp6(4),a.Q6J("routerLink",a.DdM(1,WJ)))}function KJ(n,e){1&n&&(a.TgZ(0,"mat-form-field")(1,"mat-label"),a._uU(2,"Vezet\xe9kn\xe9v"),a.qZA(),a._UZ(3,"input",16),a.qZA())}function YJ(n,e){1&n&&(a.TgZ(0,"mat-form-field")(1,"mat-label"),a._uU(2,"Keresztn\xe9v"),a.qZA(),a._UZ(3,"input",17),a.qZA())}function QJ(n,e){1&n&&(a.TgZ(0,"mat-form-field")(1,"mat-label"),a._uU(2,"E-mail c\xedm"),a.qZA(),a._UZ(3,"input",18),a.qZA())}function JJ(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",6)(1,"div",7)(2,"form",8,9),a.NdJ("ngSubmit",function(){a.CHM(t);const r=a.MAs(3),o=a.oxw();return a.KtG(o.rendelesFormSubmit(r.value))}),a.YNc(4,KJ,4,0,"mat-form-field",10),a.ALo(5,"async"),a.YNc(6,YJ,4,0,"mat-form-field",10),a.ALo(7,"async"),a.YNc(8,QJ,4,0,"mat-form-field",10),a.ALo(9,"async"),a.TgZ(10,"mat-form-field")(11,"mat-label"),a._uU(12,"Telefonsz\xe1m"),a.qZA(),a._UZ(13,"input",11),a.qZA(),a.TgZ(14,"mat-form-field")(15,"mat-label"),a._uU(16,"Szall\xedt\xe1si c\xedm"),a.qZA(),a._UZ(17,"input",12),a.qZA(),a.TgZ(18,"div",13)(19,"button",14),a._uU(20,"Rendel\xe9s meger\u0151s\xedt\xe9se"),a.qZA(),a.TgZ(21,"p",15),a._uU(22),a.qZA()()()()()}if(2&n){const t=a.oxw();a.xp6(2),a.Q6J("formGroup",t.shippingForm),a.xp6(2),a.Q6J("ngIf",!a.lcZ(5,5,t.user$)),a.xp6(2),a.Q6J("ngIf",!a.lcZ(7,7,t.user$)),a.xp6(2),a.Q6J("ngIf",!a.lcZ(9,9,t.user$)),a.xp6(14),a.hij("v\xe9g\xf6sszeg: ",t.price," Ft")}}let XJ=(()=>{class n{constructor(t,i,r,o,u,m,v,x,A){this.fb=t,this.services=i,this.authService=r,this.shoppingService=o,this.usersService=u,this.toast=m,this.router=v,this.firestore=x,this.formbuilder=A,this.shippingForm=this.fb.group({firstName:["",bc.required],lastName:["",bc.required],email:["",[bc.required,bc.email]],phone:["",bc.required],address:["",bc.required]}),this.user$=this.usersService.currentUserProfile$,this.price=this.shoppingService.calculateTotalPayment(),this.items=this.services.getCartItems(),this.gift=this.shoppingService.giftIsChecked,this.insurance=this.shoppingService.insuranceIsChecked,this.shippingPrice=this.shoppingService.shippingPrice,this.orderDate=new Date}ngOnInit(){this.user$.subscribe(t=>{t&&this.shippingForm.patchValue({firstName:t.firstName,lastName:t.lastName,email:t.email,phone:t.phone,address:t.address})})}rendelesFormSubmit(t){var i=this;return(0,dt.Z)(function*(){const{firstName:r,lastName:o,email:u,phone:m,address:v}=i.shippingForm.value;if(i.shippingForm.valid&&r&&o&&u&&m&&v)try{const x=yield i.user$.pipe(tl(1)).toPromise();let A;A=Rh(i.firestore,x?"*orders":"*guest"),t.items=i.items,t.gift=i.gift,t.insurance=i.insurance,t.shippingPrice=i.shippingPrice,t.price=i.price,t.orderDate=i.orderDate,yield lq(A,t),console.log("Rendel\xe9s elk\xfcldve a Firestore-ba"),i.router.navigate(["/dashboard"]),i.shippingForm.reset(),i.services.exit()}catch(x){console.error("Hiba t\xf6rt\xe9nt a rendel\xe9s elk\xfcld\xe9se sor\xe1n: ",x)}})()}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(gA),a.Y36(nl),a.Y36(py),a.Y36(r3),a.Y36(AI),a.Y36(Va),a.Y36(yc),a.Y36(Bf),a.Y36(aj))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-shipping"]],decls:2,vars:2,consts:[["class","empty-cart",4,"ngIf"],["class","shopping-cart-component",4,"ngIf"],[1,"empty-cart"],["src","./assets/images/empty-cart.jpg",1,"empty-cart-img"],[1,"empty-cart-desc"],[1,"empty-cart-button",3,"routerLink"],[1,"shopping-cart-component"],[1,"shipping-container"],[3,"formGroup","ngSubmit"],["rendelesForm","ngForm"],[4,"ngIf"],["type","number","matInput","","formControlName","phone"],["type","text","matInput","","formControlName","address"],[1,"button-container"],["type","submit","mat-raised-button","button-submit","color","primary"],[1,"price"],["type","text","matInput","","formControlName","firstName"],["type","text","matInput","","formControlName","lastName"],["type","email","matInput","","formControlName","email"]],template:function(i,r){1&i&&(a.YNc(0,ZJ,6,2,"div",0),a.YNc(1,JJ,23,11,"div",1)),2&i&&(a.Q6J("ngIf",0===r.services.getCartItems().length),a.xp6(1),a.Q6J("ngIf",r.services.getCartItems().length>0))},dependencies:[ki,um,SA,CI,cy,xI,ly,pI,zg,nw,jF,BF,FI,Ki],styles:[".shipping-container[_ngcontent-%COMP%]{display:block;max-width:600px;margin:auto;background:#eceff1;padding:48px;border-radius:16px}.shipping-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;background:#eceff1}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.text-center[_ngcontent-%COMP%]{text-align:center}.button-container[_ngcontent-%COMP%]{margin-top:25px}.button-container[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{float:right;font-size:18px;font-weight:100}",'@charset "UTF-8";.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:auto;position:relative;-webkit-user-select:none;user-select:none}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{color:#f0f8ff;font-size:15px;margin-bottom:5px;display:flex;flex:1}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{color:#f0f8ff;font-size:18px;flex:0 0 100px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{color:#f0f8ff;border-radius:10px;background-color:#092c3d;flex:1;display:flex;align-items:center;margin:10px 10px 5px;border-bottom:1px solid #ccc;position:relative;gap:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:120px;height:auto;border-radius:5px;margin-right:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{font-size:15px;margin-right:30px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{font-size:18px;overflow:hidden;margin-left:50px;flex:0 0 70px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:15px;display:flex;align-items:center;margin-left:auto;color:#f0f8ff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:30px;height:30px;font-size:30px;display:flex;justify-content:center;align-items:center;font-size:20px;margin:0 5px;border-radius:50%;padding:10px;border:1px solid #a5beda;cursor:pointer;color:#f0f8ff}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{cursor:pointer;font-size:15px;margin-right:15px;margin-left:40px;color:#f0f8ff}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]{display:flex;margin:0;gap:0px;width:auto}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{padding:0;margin-left:-5px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{margin-left:-25px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]{margin-left:0}}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{gap:2px;margin:0}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{margin-right:5px;font-size:10px}}@media screen and (max-width: 700px) and (max-width: 365px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-head[_ngcontent-%COMP%]{padding-left:5px}}@media screen and (max-width: 700px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]{font-size:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .decreaseQuantity[_ngcontent-%COMP%], .shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .increaseQuantity[_ngcontent-%COMP%]{width:25px;height:25px;font-size:18px;padding:0;margin:10px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .shopping-cart-price[_ngcontent-%COMP%]{margin-left:4px;font-size:11.5px;flex:0 0 40px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .removeFromCart[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;font-size:12px}.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{margin-right:0;width:70px}}@media screen and (max-width: 700px) and (max-width: 300px){.shopping-cart-card-container[_ngcontent-%COMP%]   .shopping-cart-card[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{display:none}}.empty-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.empty-cart-img[_ngcontent-%COMP%]{position:absolute;top:10%;left:50%;transform:translate(-50%,-22%);width:100%;max-width:600px;display:flex;overflow:hidden}.empty-cart-desc[_ngcontent-%COMP%]{text-align:center;position:absolute;width:300px;top:55%;left:50%;transform:translate(-50%,-10%);font-size:26px;font-weight:300;border-top:1px solid #ccc;padding-top:15px;transition:all .4s ease-in-out}.empty-cart-button[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer;transition:all .3s ease-in-out;font-weight:100}.empty-cart-button[_ngcontent-%COMP%]:after{background:none repeat scroll 0 0 transparent;bottom:0;content:"";display:block;height:1px;left:50%;position:absolute;background:#191818;transition:width .3s ease 0s,left .3s ease 0s;width:0}.empty-cart-button[_ngcontent-%COMP%]:hover:after{width:100%;left:0}@media screen and (max-width: 500px){.empty-cart-desc[_ngcontent-%COMP%]{top:41%;left:50%}.empty-cart-button[_ngcontent-%COMP%]{top:48%;left:50%;font-size:22px}}.bonus[_ngcontent-%COMP%]   .bonus-desc[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;font-size:13px;margin-top:15px;width:600px}.insurance[_ngcontent-%COMP%], .gift[_ngcontent-%COMP%], .bonus[_ngcontent-%COMP%], .shipping[_ngcontent-%COMP%]{font-size:15px;border-top:1px solid #ccc;margin-top:20px;padding-top:10px}.checkout-container-desc[_ngcontent-%COMP%]{font-size:13px;margin-top:15px;opacity:.5;width:600px}.shipping[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1}h3[_ngcontent-%COMP%]{float:right;opacity:.5;font-weight:800}h3.active[_ngcontent-%COMP%]{opacity:1}.disabled-button[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.checkout-container[_ngcontent-%COMP%]{background-color:#f4f7fa;padding:10px;height:100px;display:grid;position:relative;max-width:1000px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]{padding-top:20px}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{opacity:1;font-size:18px;font-weight:200}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:800;float:right;top:0;margin-left:40px}@media screen and (max-width: 750px){.checkout-container[_ngcontent-%COMP%]{padding:2px;display:block}.checkout-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:100%}.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:14px;margin-top:20px;padding-top:10px}}@media screen and (max-width: 750px) and (max-width: 340px){.checkout-container[_ngcontent-%COMP%]   .insurance[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .gift[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .bonus[_ngcontent-%COMP%], .checkout-container[_ngcontent-%COMP%]   .shipping[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width: 750px){.checkout-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:-4px}.checkout-container[_ngcontent-%COMP%]   .btn-hover[_ngcontent-%COMP%]{float:right}.checkout-container[_ngcontent-%COMP%]   .checkout-card[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:100%;font-size:16px}}.btn-hover[_ngcontent-%COMP%]{width:200px;font-size:16px;font-weight:400;color:#f0f8ff;cursor:pointer;margin-left:auto;height:55px;text-align:center;border:none;background-size:300% 100%;border-radius:5px;transition:all .4s ease-in-out}[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;background-position:100% 0;transition:all .4s ease-in-out}.btn-hover[_ngcontent-%COMP%]:hover{background-position:100% 0;transition:all .4s ease-in-out}.btn-hover[_ngcontent-%COMP%]:focus{outline:none}.btn-hover.color-8[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#455669,#485563,#203542,#092c3d);box-shadow:0 4px 15px #2d3641bf}']})}return n})();const eX=[qc("slideInOut",[md("in",Ti({"max-height":"500px",opacity:"1",visibility:"visible"})),md("out",Ti({"max-height":"0px",opacity:"0",visibility:"hidden"})),fs("in => out",[fc([Ri("100ms ease-in-out",Ti({opacity:"0"})),Ri("200ms ease-in-out",Ti({"max-height":"0px"})),Ri("300ms ease-in-out",Ti({visibility:"hidden"}))])]),fs("out => in",[fc([Ri("300ms ease-in-out",Ti({visibility:"visible"})),Ri("300ms ease-in-out",Ti({"max-height":"500px"})),Ri("400ms ease-in-out",Ti({opacity:"1"}))])])])],tX=["input"],nX=["label"],iX=["*"],rX=new a.OlP("mat-checkbox-default-options",{providedIn:"root",factory:p4});function p4(){return{color:"accent",clickAction:"check-indeterminate"}}const oX={provide:$d,useExisting:(0,a.Gpc)(()=>g4),multi:!0};class sX{}let aX=0;const m4=p4(),cX=Aj(SI(xA(TI(class{constructor(n){this._elementRef=n}}))));let lX=(()=>{class n extends cX{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=ta(t)}constructor(t,i,r,o,u,m,v){super(i),this._changeDetectorRef=r,this._ngZone=o,this._animationMode=m,this._options=v,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new a.vpe,this.indeterminateChange=new a.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||m4,this.color=this.defaultColor=this._options.color||m4.color,this.tabIndex=parseInt(u)||0,this.id=this._uniqueId=`${t}${++aX}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){const i=ta(t);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const i=ta(t);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const i=t!=this._indeterminate;this._indeterminate=ta(t),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_transitionCheckState(t){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==t&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?!this.disabled&&"noop"===t&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,i){if("NoopAnimations"===this._animationMode)return"";switch(t){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const i=this._inputElement;i&&(i.nativeElement.indeterminate=t)}static#e=this.\u0275fac=function(i){a.$Z()};static#t=this.\u0275dir=a.lG2({type:n,viewQuery:function(i,r){if(1&i&&(a.Gf(tX,5),a.Gf(nX,5),a.Gf(MI,5)),2&i){let o;a.iGM(o=a.CRH())&&(r._inputElement=o.first),a.iGM(o=a.CRH())&&(r._labelElement=o.first),a.iGM(o=a.CRH())&&(r.ripple=o.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[a.qOj]})}return n})(),g4=(()=>{class n extends lX{constructor(t,i,r,o,u,m){super("mat-mdc-checkbox-",t,i,r,o,u,m),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){const i=new sX;return i.source=this,i.checked=t,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.$8M("tabindex"),a.Y36(a.QbO,8),a.Y36(rX,8))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&(a.Ikx("id",r.id),a.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[a._Bn([oX]),a.qOj],ngContentSelectors:iX,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(i,r){if(1&i&&(a.F$t(),a.TgZ(0,"div",0),a.NdJ("click",function(u){return r._preventBubblingFromLabel(u)}),a.TgZ(1,"div",1,2)(3,"div",3),a.NdJ("click",function(){return r._onTouchTargetClick()}),a.qZA(),a.TgZ(4,"input",4,5),a.NdJ("blur",function(){return r._onBlur()})("click",function(){return r._onInputClick()})("change",function(u){return r._onInteractionEvent(u)}),a.qZA(),a._UZ(6,"div",6),a.TgZ(7,"div",7),a.O4$(),a.TgZ(8,"svg",8),a._UZ(9,"path",9),a.qZA(),a.kcU(),a._UZ(10,"div",10),a.qZA(),a._UZ(11,"div",11),a.qZA(),a.TgZ(12,"label",12,13),a.Hsn(14),a.qZA()()),2&i){const o=a.MAs(2);a.ekj("mdc-form-field--align-end","before"==r.labelPosition),a.xp6(4),a.ekj("mdc-checkbox--selected",r.checked),a.Q6J("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.tabIndex),a.uIk("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("name",r.name)("value",r.value),a.xp6(7),a.Q6J("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),a.xp6(1),a.Q6J("for",r.inputId)}},dependencies:[MI],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),_4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({})}return n})(),hX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[ia,IA,_4,ia,_4]})}return n})();function fX(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",3),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.openModal(o))})("mouseover",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseOver(o))})("mouseleave",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseLeave(o))}),a.TgZ(1,"div",4),a._uU(2),a.TgZ(3,"p",5),a._uU(4),a.qZA(),a.TgZ(5,"p",6),a._uU(6),a.qZA()(),a.TgZ(7,"div",7),a._UZ(8,"img",8),a.qZA(),a.TgZ(9,"div",9),a._uU(10),a.TgZ(11,"p",10),a._uU(12,"Ft-t\xf3l"),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.hij(" ",t.brand," "),a.xp6(2),a.Oqu(t.brandName),a.xp6(2),a.Oqu(t.scent),a.xp6(2),a.Q6J("src",t.imagePath,a.LSH),a.xp6(2),a.hij("",t.type[0].price," ")}}function pX(n,e){if(1&n&&(a.TgZ(0,"div",1),a.YNc(1,fX,13,5,"div",2),a.ALo(2,"slice"),a.ALo(3,"async"),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",a.Dn7(2,1,a.lcZ(3,5,t.productService.diorQuery$),0,t.productService.displayItemCount))}}let v4=(()=>{class n{constructor(t,i){this.services=t,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(nl),a.Y36(hm))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-dior-fragrances"]],decls:1,vars:1,consts:[["class","product-card-container",4,"ngIf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&a.YNc(0,pX,4,7,"div",0),2&i&&a.Q6J("ngIf",!0===r.productService.isDiorChecked)},dependencies:[jn,ki,Ki,Pn],styles:[".product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000;min-width:320px;margin:10px;overflow:hidden}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:2px solid #edf1f7;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:250px;max-height:250px;width:auto;height:auto}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})();function mX(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",3),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.openModal(o))})("mouseover",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseOver(o))})("mouseleave",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseLeave(o))}),a.TgZ(1,"div",4),a._uU(2),a.TgZ(3,"p",5),a._uU(4),a.qZA(),a.TgZ(5,"p",6),a._uU(6),a.qZA()(),a.TgZ(7,"div",7),a._UZ(8,"img",8),a.qZA(),a.TgZ(9,"div",9),a._uU(10),a.TgZ(11,"p",10),a._uU(12,"Ft-t\xf3l"),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.hij(" ",t.brand," "),a.xp6(2),a.Oqu(t.brandName),a.xp6(2),a.Oqu(t.scent),a.xp6(2),a.Q6J("src",t.imagePath,a.LSH),a.xp6(2),a.hij("",t.type[0].price," ")}}function gX(n,e){if(1&n&&(a.TgZ(0,"div",1),a.YNc(1,mX,13,5,"div",2),a.ALo(2,"slice"),a.ALo(3,"async"),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",a.Dn7(2,1,a.lcZ(3,5,t.productService.JPGQuery$),0,t.productService.displayItemCount))}}let _X=(()=>{class n{constructor(t,i){this.services=t,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(nl),a.Y36(hm))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-jpg-fragrances"]],decls:1,vars:1,consts:[["class","product-card-container",4,"ngIf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&a.YNc(0,gX,4,7,"div",0),2&i&&a.Q6J("ngIf",!0===r.productService.isJPGChecked)},dependencies:[jn,ki,Ki,Pn],styles:[".product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000;min-width:320px;margin:10px;overflow:hidden}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:2px solid #edf1f7;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:250px;max-height:250px;width:auto;height:auto}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})();function vX(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",3),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.openModal(o))})("mouseover",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseOver(o))})("mouseleave",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseLeave(o))}),a.TgZ(1,"div",4),a._uU(2),a.TgZ(3,"p",5),a._uU(4),a.qZA(),a.TgZ(5,"p",6),a._uU(6),a.qZA()(),a.TgZ(7,"div",7),a._UZ(8,"img",8),a.qZA(),a.TgZ(9,"div",9),a._uU(10),a.TgZ(11,"p",10),a._uU(12,"Ft-t\xf3l"),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.hij(" ",t.brand," "),a.xp6(2),a.Oqu(t.brandName),a.xp6(2),a.Oqu(t.scent),a.xp6(2),a.Q6J("src",t.imagePath,a.LSH),a.xp6(2),a.hij("",t.type[0].price," ")}}function yX(n,e){if(1&n&&(a.TgZ(0,"div",1),a.YNc(1,vX,13,5,"div",2),a.ALo(2,"slice"),a.ALo(3,"async"),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",a.Dn7(2,1,a.lcZ(3,5,t.productService.lancomeQuery$),0,t.productService.displayItemCount))}}let bX=(()=>{class n{constructor(t,i){this.services=t,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(nl),a.Y36(hm))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-lancome-fragrances"]],decls:1,vars:1,consts:[["class","product-card-container",4,"ngIf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&a.YNc(0,yX,4,7,"div",0),2&i&&a.Q6J("ngIf",!0===r.productService.isLancomeChecked)},dependencies:[jn,ki,Ki,Pn],styles:[".product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000;min-width:320px;margin:10px;overflow:hidden}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:2px solid #edf1f7;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:250px;max-height:250px;width:auto;height:auto}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})();function wX(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",3),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.openModal(o))})("mouseover",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseOver(o))})("mouseleave",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseLeave(o))}),a.TgZ(1,"div",4),a._uU(2),a.TgZ(3,"p",5),a._uU(4),a.qZA(),a.TgZ(5,"p",6),a._uU(6),a.qZA()(),a.TgZ(7,"div",7),a._UZ(8,"img",8),a.qZA(),a.TgZ(9,"div",9),a._uU(10),a.TgZ(11,"p",10),a._uU(12,"Ft-t\xf3l"),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.hij(" ",t.brand," "),a.xp6(2),a.Oqu(t.brandName),a.xp6(2),a.Oqu(t.scent),a.xp6(2),a.Q6J("src",t.imagePath,a.LSH),a.xp6(2),a.hij("",t.type[0].price," ")}}function CX(n,e){if(1&n&&(a.TgZ(0,"div",1),a.YNc(1,wX,13,5,"div",2),a.ALo(2,"slice"),a.ALo(3,"async"),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",a.Dn7(2,1,a.lcZ(3,5,t.productService.womanFragrances$),0,t.productService.displayItemCount))}}let xX=(()=>{class n{constructor(t,i){this.services=t,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(nl),a.Y36(hm))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-woman-fragrances"]],decls:1,vars:1,consts:[["class","product-card-container",4,"ngIf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&a.YNc(0,CX,4,7,"div",0),2&i&&a.Q6J("ngIf",!0===r.productService.isWomanChecked)},dependencies:[jn,ki,Ki,Pn],styles:[".product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000;min-width:320px;margin:10px;overflow:hidden}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:2px solid #edf1f7;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:250px;max-height:250px;width:auto;height:auto}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})();function EX(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",3),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.openModal(o))})("mouseover",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseOver(o))})("mouseleave",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseLeave(o))}),a.TgZ(1,"div",4),a._uU(2),a.TgZ(3,"p",5),a._uU(4),a.qZA(),a.TgZ(5,"p",6),a._uU(6),a.qZA()(),a.TgZ(7,"div",7),a._UZ(8,"img",8),a.qZA(),a.TgZ(9,"div",9),a._uU(10),a.TgZ(11,"p",10),a._uU(12,"Ft-t\xf3l"),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.hij(" ",t.brand," "),a.xp6(2),a.Oqu(t.brandName),a.xp6(2),a.Oqu(t.scent),a.xp6(2),a.Q6J("src",t.imagePath,a.LSH),a.xp6(2),a.hij("",t.type[0].price," ")}}function IX(n,e){if(1&n&&(a.TgZ(0,"div",1),a.YNc(1,EX,13,5,"div",2),a.ALo(2,"slice"),a.ALo(3,"async"),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",a.Dn7(2,1,a.lcZ(3,5,t.productService.manFragrances$),0,t.productService.displayItemCount))}}let TX=(()=>{class n{constructor(t,i){this.services=t,this.productService=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(nl),a.Y36(hm))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-man-fragrances"]],decls:1,vars:1,consts:[["class","product-card-container",4,"ngIf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"]],template:function(i,r){1&i&&a.YNc(0,IX,4,7,"div",0),2&i&&a.Q6J("ngIf",!0===r.productService.isManChecked)},dependencies:[jn,ki,Ki,Pn],styles:[".product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000;min-width:320px;margin:10px;overflow:hidden}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:2px solid #edf1f7;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:250px;max-height:250px;width:auto;height:auto}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"]})}return n})();function SX(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",17),a.NdJ("click",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.openModal(o))})("mouseover",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseOver(o))})("mouseleave",function(){const o=a.CHM(t).$implicit,u=a.oxw(2);return a.KtG(u.productService.mouseLeave(o))}),a.TgZ(1,"div",18),a._uU(2),a.TgZ(3,"p",19),a._uU(4),a.qZA(),a.TgZ(5,"p",20),a._uU(6),a.qZA()(),a.TgZ(7,"div",21),a._UZ(8,"img",22),a.qZA(),a.TgZ(9,"div",23),a._uU(10),a.TgZ(11,"p",24),a._uU(12,"Ft-t\xf3l"),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.hij(" ",t.brand," "),a.xp6(2),a.Oqu(t.brandName),a.xp6(2),a.Oqu(t.scent),a.xp6(2),a.Q6J("src",t.imagePath,a.LSH),a.xp6(2),a.hij("",t.type[0].price," ")}}function DX(n,e){if(1&n&&(a.TgZ(0,"div",15),a.YNc(1,SX,13,5,"div",16),a.ALo(2,"slice"),a.ALo(3,"async"),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",a.Dn7(2,1,a.lcZ(3,5,t.productService.fragrances$),0,t.productService.displayItemCount))}}function MX(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",25)(1,"div",26),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.productService.loadMoreItem())}),a.TgZ(2,"span",27),a._uU(3,"+"),a.qZA(),a.TgZ(4,"span",27),a._uU(5,"T\xf6bb"),a.qZA()()()}}function AX(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"app-modal",28),a.NdJ("closeModalEvent",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.productService.closeModal())}),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("product",t.productService.selectedProduct)}}const kX=function(){return["/jeanpaulgaultier"]},OX=function(){return["/dior"]};let PX=(()=>{class n{toggleShowDiv(t){"divA"===t&&(console.log(this.animationState),this.animationState="out"===this.animationState?"in":"out",console.log(this.animationState))}constructor(t,i,r,o){this.services=t,this.firestore=i,this.productService=r,this.renderer=o,this.animationState="out",this.jeanPaulBrandImg="./assets/images/fragrances/logo/jeanpaul_logo.jpg",this.diorBrandImg="./assets/images/fragrances/logo/dior_logo.jpg",this.lancomeBrandImg="./assets/images/fragrances/logo/lancome_logo.jpg"}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(nl),a.Y36(Bf),a.Y36(hm),a.Y36(a.Qsj))};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-fragrances"]],decls:29,vars:20,consts:[[1,"brands-container"],[1,"brands"],[1,"brand-img",3,"routerLink","src"],[1,"brand-img",3,"src"],["title","filter",1,"filter",3,"click"],["viewBox","0 0 512 512","height","1em"],["d","M0 416c0 17.7 14.3 32 32 32l54.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-246.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 384c-17.7 0-32 14.3-32 32zm128 0a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM320 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm32-80c-32.8 0-61 19.7-73.3 48L32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l246.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48l54.7 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-54.7 0c-12.3-28.3-40.5-48-73.3-48zM192 128a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm73.3-64C253 35.7 224.8 16 192 16s-61 19.7-73.3 48L32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l86.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 128c17.7 0 32-14.3 32-32s-14.3-32-32-32L265.3 64z"],[1,"divA"],[1,"checkbox-all",3,"ngModel","disabled","ngModelChange","change"],[1,"checkbox-w",3,"ngModel","disabled","ngModelChange","change"],[1,"checkbox-m",3,"ngModel","disabled","ngModelChange","change"],[1,"checkbox-b",3,"ngModel","ngModelChange","change"],["class","product-card-container",4,"ngIf"],["class","btn--circle-container",4,"ngIf"],[3,"product","closeModalEvent",4,"ngIf"],[1,"product-card-container"],["class","product-card",3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"product-card",3,"click","mouseover","mouseleave"],[1,"product-card-head"],[1,"brand-name"],[1,"scent"],[1,"main-image-container"],[1,"main-image",3,"src"],[1,"product-card-price"],[1,"tol"],[1,"btn--circle-container"],[1,"btn--circle",3,"click"],[1,"btn-stage"],[3,"product","closeModalEvent"]],template:function(i,r){1&i&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"img",2)(3,"img",2)(4,"img",3),a.qZA()(),a.TgZ(5,"button",4),a.NdJ("click",function(){return r.toggleShowDiv("divA")}),a.O4$(),a.TgZ(6,"svg",5),a._UZ(7,"path",6),a.qZA()(),a.kcU(),a.TgZ(8,"div",7)(9,"mat-checkbox",8),a.NdJ("ngModelChange",function(u){return r.productService.isAllChecked=u})("change",function(){return r.productService.onCheckboxChange("isAllChecked")}),a._uU(10,"Mindet mutat"),a.qZA(),a.TgZ(11,"mat-checkbox",9),a.NdJ("ngModelChange",function(u){return r.productService.isWomanChecked=u})("change",function(){return r.productService.onCheckboxChange("isWomanChecked")}),a._uU(12,"N\u0151i"),a.qZA(),a.TgZ(13,"mat-checkbox",10),a.NdJ("ngModelChange",function(u){return r.productService.isManChecked=u})("change",function(){return r.productService.onCheckboxChange("isManChecked")}),a._uU(14,"F\xe9rfi"),a.qZA(),a.TgZ(15,"mat-checkbox",11),a.NdJ("ngModelChange",function(u){return r.productService.isDiorChecked=u})("change",function(){return r.productService.onCheckboxChange("isDiorChecked")}),a._uU(16,"Dior"),a.qZA(),a.TgZ(17,"mat-checkbox",11),a.NdJ("ngModelChange",function(u){return r.productService.isLancomeChecked=u})("change",function(){return r.productService.onCheckboxChange("isLancomeChecked")}),a._uU(18,"Lancome"),a.qZA(),a.TgZ(19,"mat-checkbox",11),a.NdJ("ngModelChange",function(u){return r.productService.isJPGChecked=u})("change",function(){return r.productService.onCheckboxChange("isJPGChecked")}),a._uU(20,"Jean Paul Gaultier"),a.qZA()(),a.YNc(21,DX,4,7,"div",12),a._UZ(22,"app-man-fragrances")(23,"app-woman-fragrances")(24,"app-dior-fragrances")(25,"app-jpg-fragrances")(26,"app-lancome-fragrances"),a.YNc(27,MX,6,0,"div",13),a.YNc(28,AX,1,1,"app-modal",14)),2&i&&(a.xp6(2),a.Q6J("routerLink",a.DdM(18,kX))("src",r.jeanPaulBrandImg,a.LSH),a.xp6(1),a.Q6J("routerLink",a.DdM(19,OX))("src",r.diorBrandImg,a.LSH),a.xp6(1),a.Q6J("src",r.lancomeBrandImg,a.LSH),a.xp6(4),a.Q6J("@slideInOut",r.animationState),a.xp6(1),a.Q6J("ngModel",r.productService.isAllChecked)("disabled",!0===r.productService.isAllChecked),a.xp6(2),a.Q6J("ngModel",r.productService.isWomanChecked)("disabled",!0===r.productService.isManChecked),a.xp6(2),a.Q6J("ngModel",r.productService.isManChecked)("disabled",!0===r.productService.isWomanChecked),a.xp6(2),a.Q6J("ngModel",r.productService.isDiorChecked),a.xp6(2),a.Q6J("ngModel",r.productService.isLancomeChecked),a.xp6(2),a.Q6J("ngModel",r.productService.isJPGChecked),a.xp6(2),a.Q6J("ngIf",!0===r.productService.isAllChecked),a.xp6(6),a.Q6J("ngIf",r.productService.displayItemCount<r.productService.long),a.xp6(1),a.Q6J("ngIf",r.productService.isModalOpen))},dependencies:[jn,ki,um,ly,g4,fA,n3,v4,_X,bX,xX,TX,Ki,Pn],styles:[".brands-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:15px;display:flex;margin-bottom:50px;align-items:center;justify-content:center}.brands-container[_ngcontent-%COMP%]   .brand-img[_ngcontent-%COMP%]{max-width:150px;max-height:150px;width:auto;height:auto;aspect-ratio:3/2;object-fit:contain;cursor:pointer}.divA[_ngcontent-%COMP%]{display:flex;color:#333;flex-direction:column;border-radius:5px;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000}.filter[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:10px;display:flex;align-items:center;justify-content:center;border:1px solid rgba(0,0,0,.192);cursor:pointer;box-shadow:0 10px 10px #00000005;transition:all .3s;margin-left:10px}.filter[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:20px;fill:#092c3d;transition:all .3s}.filter[_ngcontent-%COMP%]:hover{box-shadow:0 10px 10px #0000001c;background-color:#092c3d}.filter[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:#fff}.btn--circle-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.btn--circle-container[_ngcontent-%COMP%]   .btn--circle[_ngcontent-%COMP%]{margin-bottom:10px;position:relative;text-decoration:none;cursor:pointer;border-radius:1000px;border:1px solid #093c3b;height:60px;width:60px;transition:all cubic-bezier(.31,-.105,.43,1.4) .2s;background-color:#092c3b}.btn--circle-container[_ngcontent-%COMP%]   .btn--circle[_ngcontent-%COMP%]:hover{width:135px}.btn--circle-container[_ngcontent-%COMP%]   .btn--circle[_ngcontent-%COMP%]:hover   .btn-stage[_ngcontent-%COMP%]:first-child{opacity:0}.btn--circle-container[_ngcontent-%COMP%]   .btn--circle[_ngcontent-%COMP%]:hover   .btn-stage[_ngcontent-%COMP%]:nth-child(n+2){opacity:1;transition:opacity linear .25s}.btn--circle-container[_ngcontent-%COMP%]   .btn-stage[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:2rem;transition:opacity linear calc(.2s - .05s)}.btn--circle-container[_ngcontent-%COMP%]   .btn-stage[_ngcontent-%COMP%]:nth-child(n+2){opacity:0;white-space:nowrap;font-size:1rem}",".product-card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;color:#333;flex-direction:column;border-radius:.5rem;background-color:#fff;margin:1.25rem;box-shadow:0 .25rem .5rem #000;min-width:320px;margin:10px;overflow:hidden}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;border-bottom:2px solid #edf1f7;font-size:18px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:16px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:14px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300;border-bottom:1px solid #edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:250px;max-height:250px;width:auto;height:auto}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-weight:400;font-size:22px;background-color:#edf1f7}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;font-weight:100;padding:15px 0 0 5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .add-to-cart[_ngcontent-%COMP%]{font-size:15px;padding:10px;margin-left:auto;margin-bottom:5px}@media screen and (min-width: 1600px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media screen and (max-width: 550px){.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{width:calc(100% - 10px);min-width:150px;margin:5px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]{padding:10px 0 5px 15px;font-size:16px;font-weight:500}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-head[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{margin:-10px 0 -5px;font-size:12px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-weight:300}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .main-image-container[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{max-width:180px;max-height:180px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .scent[_ngcontent-%COMP%]{font-weight:100;font-size:15px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]{display:flex;align-items:center;padding:25px 0 0 15px;font-size:22px}.product-card-container[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-card-price[_ngcontent-%COMP%]   .tol[_ngcontent-%COMP%]{font-size:15px;padding:15px 0 0 5px}}"],data:{animation:[eX]}})}return n})(),RX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-jean-paul-gaultier"]],decls:2,vars:0,template:function(i,r){1&i&&(a.TgZ(0,"p"),a._uU(1,"jean-paul-gaultier works!"),a.qZA())}})}return n})(),NX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-dior"]],decls:2,vars:0,template:function(i,r){1&i&&(a.TgZ(0,"h1"),a._uU(1,"dior works"),a.qZA())}})}return n})();const y4=()=>(n=>(0,EN.z)(zF,(0,gn.U)(e=>e||n)))(["login"]),b4=()=>(n=>(0,EN.z)(zF,(0,gn.U)(e=>e&&n||!0)))(["user"]),FX=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:N8},{path:"products",component:H8},{path:"accessories",component:$8},{path:"fragrances",component:PX},{path:"jeanpaulgaultier",component:RX},{path:"shopping-cart",component:lK},{path:"shipping",component:XJ},{path:"diors",component:v4},{path:"user",component:$z,children:[{path:"profile",component:$F,...BA(y4)}]},{path:"user/login",component:_Q,...BA(b4)},{path:"user/sign-up",component:yJ,...BA(b4)},{path:"home",component:IJ,...BA(y4)},{path:"",component:bJ,pathMatch:"full"},{path:"media",component:q8},{path:"dior",component:NX}];let LX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[XB.forRoot(FX,{useHash:!0}),XB]})}return n})(),UX=(()=>{class n{constructor(){this.collapsed=!1,this.screenWidth=0,this.closed=!1}getBodyClass(){let t="";return this.collapsed&&this.screenWidth>1080&&(t="body-trimmed",console.log("styleclass:",t)),this.closed&&this.screenWidth<=1080&&this.screenWidth>0&&(t="body-md-screen",t="body-mobile-closed",console.log("styleclass:",t)),t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-body"]],inputs:{collapsed:"collapsed",screenWidth:"screenWidth",closed:"closed"},decls:2,vars:1,consts:[[1,"body",3,"ngClass"]],template:function(i,r){1&i&&(a.TgZ(0,"div",0),a._UZ(1,"router-outlet"),a.qZA()),2&i&&a.Q6J("ngClass",r.getBodyClass())},dependencies:[Yo,W1],styles:[".body[_ngcontent-%COMP%]{width:calc(100% - 5rem);height:100%;margin-left:5rem;z-index:0;background-attachment:fixed;background-repeat:repeat-y;transition:all .5s ease;background:linear-gradient(to bottom,#f4f7fa,#f4f7fa)}.body-trimmed[_ngcontent-%COMP%]{width:calc(100% - 16.5625rem);margin-left:16.5625rem}.body-md-screen[_ngcontent-%COMP%]{width:calc(100% - 5rem);margin-left:5rem}.body-mobile-closed[_ngcontent-%COMP%]{width:100%;margin-left:0rem}@media screen and (min-width: 1080px){.body[_ngcontent-%COMP%]{padding:1rem .5rem .25rem .25rem}}"]})}return n})(),VX=0;const BX=TI(class{}),w4="mat-badge-content";let jX=(()=>{class n extends BX{get color(){return this._color}set color(t){this._setColor(t),this._color=t}get overlap(){return this._overlap}set overlap(t){this._overlap=ta(t)}get content(){return this._content}set content(t){this._updateRenderedContent(t)}get description(){return this._description}set description(t){this._updateDescription(t)}get hidden(){return this._hidden}set hidden(t){this._hidden=ta(t)}constructor(t,i,r,o,u){super(),this._ngZone=t,this._elementRef=i,this._ariaDescriber=r,this._renderer=o,this._animationMode=u,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=VX++,this._isInitialized=!1,this._interactivityChecker=(0,a.f3M)(v7),this._document=(0,a.f3M)(Pe)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){const t=this._renderer.createElement("span"),i="mat-badge-active";return t.setAttribute("id",`mat-badge-content-${this._id}`),t.setAttribute("aria-hidden","true"),t.classList.add(w4),"NoopAnimations"===this._animationMode&&t.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(t),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add(i)})}):t.classList.add(i),t}_updateRenderedContent(t){const i=`${t??""}`.trim();this._isInitialized&&i&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=i),this._content=i}_updateDescription(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!t||this._isHostInteractive())&&this._removeInlineDescription(),this._description=t,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,t):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(t){const i=this._elementRef.nativeElement.classList;i.remove(`mat-badge-${this._color}`),t&&i.add(`mat-badge-${t}`)}_clearExistingBadges(){const t=this._elementRef.nativeElement.querySelectorAll(`:scope > .${w4}`);for(const i of Array.from(t))i!==this._badgeElement&&i.remove()}static#e=this.\u0275fac=function(i){return new(i||n)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(m7),a.Y36(a.Qsj),a.Y36(a.QbO,8))};static#t=this.\u0275dir=a.lG2({type:n,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(i,r){2&i&&a.ekj("mat-badge-overlap",r.overlap)("mat-badge-above",r.isAbove())("mat-badge-below",!r.isAbove())("mat-badge-before",!r.isAfter())("mat-badge-after",r.isAfter())("mat-badge-small","small"===r.size)("mat-badge-medium","medium"===r.size)("mat-badge-large","large"===r.size)("mat-badge-hidden",r.hidden||!r.content)("mat-badge-disabled",r.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],position:["matBadgePosition","position"],content:["matBadge","content"],description:["matBadgeDescription","description"],size:["matBadgeSize","size"],hidden:["matBadgeHidden","hidden"]},features:[a.qOj]})}return n})(),C4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[R7,ia,ia]})}return n})();function zX(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",9),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.toggleCollapse())}),a._UZ(1,"i",10),a.qZA()}2&n&&a.Q6J("@fadeInOut",void 0)}function HX(n,e){1&n&&(a.TgZ(0,"div",11),a._uU(1,"Logo"),a.qZA()),2&n&&a.Q6J("@fadeInOut",void 0)}function $X(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",12),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.closeSidenav())}),a._UZ(1,"i",13),a.qZA()}2&n&&a.Q6J("@rotate",void 0)}function qX(n,e){if(1&n&&a._UZ(0,"i",19),2&n){const t=a.oxw().$implicit;a.Tol(t.icon),a.Q6J("@fadeInOut",void 0)}}function GX(n,e){if(1&n&&(a.TgZ(0,"span",20),a._uU(1),a.qZA()),2&n){const t=a.oxw().$implicit;a.Q6J("@fadeInOut",void 0),a.xp6(1),a.hij(" ",t.label," ")}}function WX(n,e){if(1&n&&a._UZ(0,"mat-icon",21),2&n){const t=a.oxw().$implicit;a.s9C("matBadge",t.badge),a.Q6J("@fadeInOut",void 0)("matBadgeHidden",!t.badge)}}const ZX=function(n){return[n]},KX=function(){return{exact:!0}};function YX(n,e){if(1&n&&(a.TgZ(0,"li",14)(1,"a",15),a.YNc(2,qX,1,3,"i",16),a.YNc(3,GX,2,2,"span",17),a.YNc(4,WX,1,3,"mat-icon",18),a.qZA()()),2&n){const t=e.$implicit,i=a.oxw();a.xp6(1),a.Q6J("routerLink",a.VKq(5,ZX,t.routerLink))("routerLinkActiveOptions",a.DdM(7,KX)),a.xp6(1),a.Q6J("ngIf",!1===i.closed),a.xp6(1),a.Q6J("ngIf",i.collapsed),a.xp6(1),a.Q6J("ngIf",!1===i.closed)}}function QX(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",22),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.toggleClose())}),a._UZ(1,"i",23),a.qZA()}2&n&&a.Q6J("@fadeInOut",void 0)}function JX(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"i",24),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.toggleClose())}),a.qZA()}2&n&&a.Q6J("@fadeInOut",void 0)}let XX=(()=>{class n{constructor(){this.onToggleSideNav=new a.vpe,this.collapsed=!1,this.closed=!1,this.screenwidth=0,this.navData=tA}onResize(t){this.screenwidth=window.innerWidth,this.screenwidth<=1024&&(this.collapsed=!1,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth})),this.screenwidth>1024&&(this.collapsed=!1,this.closed=!1,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth}))}ngOnInit(){this.screenwidth=window.innerWidth}toggleCollapse(){this.collapsed=!this.collapsed,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth}),!1===this.collapsed&&(this.closed=!1),console.log("toggle collapsed?: ",this.collapsed)}closeSidenav(){this.collapsed=!1,this.onToggleSideNav.emit({closed:this.closed,collapsed:this.collapsed,screenwidth:this.screenwidth}),this.closed=!1,console.log("close sidenav collapsed?: ",this.collapsed)}toggleClose(){this.closed=!this.closed,this.onToggleSideNav.emit({collapsed:this.collapsed,closed:this.closed,screenwidth:this.screenwidth}),console.log("toggleClose?: ",this.closed)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-sidenav"]],hostBindings:function(i,r){1&i&&a.NdJ("resize",function(u){return r.onResize(u)},!1,a.Jf7)},outputs:{onToggleSideNav:"onToggleSideNav"},decls:9,vars:9,consts:[[1,"sidenav",3,"ngClass"],[1,"logo-container"],["class","logo",3,"click",4,"ngIf"],["class","logo-text",4,"ngIf"],["class","btn-close",3,"click",4,"ngIf"],[1,"sidenav-nav"],["class","sidenav-nav-item",4,"ngFor","ngForOf"],["class","sidenav-link-close-container",3,"click",4,"ngIf"],["class","sidenav-link-open fa fa-angle-double-right",3,"click",4,"ngIf"],[1,"logo",3,"click"],["aria-hidden","true",1,"fa","fa-bars"],[1,"logo-text"],[1,"btn-close",3,"click"],[1,"fal","fa-times","close-icon"],[1,"sidenav-nav-item"],["href","","routerLinkActive","active",1,"sidenav-nav-link",3,"routerLink","routerLinkActiveOptions"],["class","sidenav-link-icon",3,"class",4,"ngIf"],["class","sidenav-link-text",4,"ngIf"],["class","cart-badge","matBadgeColor","warn","matBadgeOverlap","false",3,"matBadge","matBadgeHidden",4,"ngIf"],[1,"sidenav-link-icon"],[1,"sidenav-link-text"],["matBadgeColor","warn","matBadgeOverlap","false",1,"cart-badge",3,"matBadge","matBadgeHidden"],[1,"sidenav-link-close-container",3,"click"],[1,"sidenav-link-close","fal","fa-times","close-icon"],[1,"sidenav-link-open","fa","fa-angle-double-right",3,"click"]],template:function(i,r){1&i&&(a.TgZ(0,"div",0)(1,"div",1),a.YNc(2,zX,2,1,"button",2),a.YNc(3,HX,2,1,"div",3),a.YNc(4,$X,2,1,"button",4),a.qZA(),a.TgZ(5,"ul",5),a.YNc(6,YX,5,8,"li",6),a.YNc(7,QX,2,1,"div",7),a.qZA()(),a.YNc(8,JX,1,1,"i",8)),2&i&&(a.Q6J("ngClass",r.collapsed?"sidenav-collapsed":"")("ngClass",r.closed?"sidenav-closed-mobile":"")("@fadeInOut",void 0),a.xp6(2),a.Q6J("ngIf",!1===r.closed),a.xp6(1),a.Q6J("ngIf",r.collapsed),a.xp6(1),a.Q6J("ngIf",r.collapsed),a.xp6(2),a.Q6J("ngForOf",r.navData),a.xp6(1),a.Q6J("ngIf",!1===r.collapsed&&r.screenwidth<1080),a.xp6(1),a.Q6J("ngIf",!0===r.closed&&r.screenwidth<1080))},dependencies:[Yo,jn,ki,um,qB,jX,kF],styles:[".sidenav[_ngcontent-%COMP%]{background:#092c3b;-webkit-user-select:none;user-select:none;transition:all .5s ease;position:fixed;z-index:1;top:0;width:5rem;height:100vh;box-shadow:.063rem 0 1.25rem #000}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.938rem .938rem 0;width:100%}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{background:#fff;text-align:center;width:3rem;min-width:3rem;border-radius:.313rem;padding:.313rem;font-size:24px;font-weight:900;cursor:pointer;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .fa-bars[_ngcontent-%COMP%]{color:#000}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{margin-left:1.5rem;font-size:24px;font-weight:700;color:#fff}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{margin-left:auto;cursor:pointer;width:2rem;height:2rem;border-radius:50%;background-color:transparent;border:none}.sidenav[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{color:#fff;font-size:24px}.sidenav-closed-mobile[_ngcontent-%COMP%]{width:0rem;transition:.5s ease}.sidenav-closed-mobile[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%], .sidenav-closed-mobile[_ngcontent-%COMP%]   .sidenav-nav[_ngcontent-%COMP%]{display:none}.sidenav-collapsed[_ngcontent-%COMP%]{width:16.55625rem}.sidenav-nav[_ngcontent-%COMP%]{list-style:none;padding:.938rem;margin:0;display:flex;flex-direction:column;align-items:center;height:calc(100% - 3.65rem);cursor:pointer}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]{width:100%;margin-bottom:.625rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem;color:#f3f3f3;text-decoration:none;border-radius:.625rem;transition:all .3s ease}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%]{font-size:22px;width:2rem;min-width:2rem;margin:0 .5rem;text-align:center}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .cart-badge[_ngcontent-%COMP%]{position:fixed}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]   .sidenav-nav-link[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{margin-left:1.5rem}.sidenav-nav[_ngcontent-%COMP%]   .sidenav-nav-item[_ngcontent-%COMP%]:hover   .sidenav-nav-link[_ngcontent-%COMP%]{background-color:#fff;color:#000}.active[_ngcontent-%COMP%]{background-color:#fff}.active[_ngcontent-%COMP%]   .sidenav-link-icon[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]   .sidenav-link-text[_ngcontent-%COMP%]{color:#000}.sidenav-link-close-container[_ngcontent-%COMP%]   .sidenav-link-close[_ngcontent-%COMP%]{color:#f3f3f3;font-size:25px;margin-top:20px;z-index:5}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.sidenav-link-open[_ngcontent-%COMP%]{cursor:pointer;position:fixed;color:#e9e9e9;font-size:25px;bottom:0;z-index:5;animation:_ngcontent-%COMP%_fadeIn 1s;background-color:#092c3b;padding:5px 5px 5px 0;border-radius:0 5px 5px 0}"],data:{animation:[qc("fadeInOut",[fs(":enter",[Ti({opacity:0}),Ri("90ms 300ms",Ti({opacity:1}))]),fs(":leave",[Ti({opacity:1}),Ri("90ms",Ti({opacity:0}))])]),qc("rotate",[fs(":enter",[Ri("430ms",rp([Ti({transform:"rotate(0deg)",offset:"0"}),Ti({transform:"rotate(0.5turn)",offset:"1"})]))])])]}})}return n})(),eee=(()=>{class n{constructor(){this.title="webshop",this.isSideNavCollapsed=!1,this.isSideNavMobileClosed=!1,this.screenWidth=0}onToggleSideNav(t){this.screenWidth=t.screenwidth,this.isSideNavCollapsed=t.collapsed,this.isSideNavMobileClosed=t.closed}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:3,consts:[[3,"onToggleSideNav"],[3,"collapsed","closed","screenWidth"]],template:function(i,r){1&i&&(a.TgZ(0,"app-sidenav",0),a.NdJ("onToggleSideNav",function(u){return r.onToggleSideNav(u)}),a.qZA(),a._UZ(1,"app-body",1)),2&i&&(a.xp6(1),a.Q6J("collapsed",r.isSideNavCollapsed)("closed",r.isSideNavMobileClosed)("screenWidth",r.screenWidth))},dependencies:[UX,XX]})}return n})(),tee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[Pi,Hj,Jj,C4,_z,cj,vz,r4,LI,Hz,Jj,Hj,C4,_z,cj,vz,r4,LI,Hz,hX]})}return n})();function qF(){return(0,Nr.e)((n,e)=>{let t,i=!1;n.subscribe((0,ci.x)(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}var Pl=Q(6304),x4=(Q(8661),Q(3106));function GF(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new vt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function E4(){if(typeof Uint8Array>"u")throw new vt("unimplemented","Uint8Arrays are not available in this environment.")}function I4(){if(!function gP(){return typeof atob<"u"}())throw new vt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class UI{constructor(e){this._delegate=e}static fromBase64String(e){return I4(),new UI(Vf.fromBase64String(e))}static fromUint8Array(e){return E4(),new UI(Vf.fromUint8Array(e))}toBase64(){return I4(),this._delegate.toBase64()}toUint8Array(){return E4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function WF(n){return function ree(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class oee{enableIndexedDbPersistence(e,t){return function K5(n,e){BU(n=qi(n,Po));const t=Ns(n);if(t._uninitializedComponentsProvider)throw new vt(tt.FAILED_PRECONDITION,"SDK cache is already specified.");cu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new F0;return VU(t,r,new NR(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Y5(n){BU(n=qi(n,Po));const e=Ns(n);if(e._uninitializedComponentsProvider)throw new vt(tt.FAILED_PRECONDITION,"SDK cache is already specified.");cu("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new F0;return VU(e,i,new wU(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Q5(n){if(n._initialized&&!n._terminated)throw new vt(tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new gs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,dt.Z)(function*(){try{yield(t=(0,dt.Z)(function*(i){if(!lu.D())return Promise.resolve();const r=i+"main";yield lu.delete(r)}),function(i){return t.apply(this,arguments)})(dE(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class T4{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Mh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&cu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){FU(this._delegate,e,t,i)}enableNetwork(){return function X5(n){return function F5(n){return n.asyncQueue.enqueue((0,dt.Z)(function*(){const e=yield EU(n),t=yield IU(n);return e.setNetworkEnabled(!0),function(i){const r=Gt(i);return r.vu.delete(0),Gv(r)}(t)}))}(Ns(n=qi(n,Po)))}(this._delegate)}disableNetwork(){return function e$(n){return function L5(n){return n.asyncQueue.enqueue((0,dt.Z)(function*(){const e=yield EU(n),t=yield IU(n);return e.setNetworkEnabled(!1),(i=(0,dt.Z)(function*(r){const o=Gt(r);o.vu.add(0),yield Dg(o),o.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Ns(n=qi(n,Po)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,kU("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function J5(n){return function(e){const t=new gs;return e.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return function PE(n,e){return RE.apply(this,arguments)}(yield zR(e),t)})),t.promise}(Ns(n=qi(n,Po)))}(this._delegate)}onSnapshotsInSync(e){return function M$(n,e){return function B5(n,e){const t=new d1(e);return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return i=yield L0(n),r=t,Gt(i).ku.add(r),void r.next();var i,r})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return i=yield L0(n),r=t,void Gt(i).ku.delete(r);var i,r}))}}(Ns(n=qi(n,Po)),WR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new vt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new aw(this,qR(this._delegate,e))}catch(t){throw Rl(t,"collection()","Firestore.collection()")}}doc(e){try{return new qd(this,UE(this._delegate,e))}catch(t){throw Rl(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Nl(this,function $5(n,e){if(n=qi(n,LE),$R("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new vt(tt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new vc(n,null,(t=e,new xf($i.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Rl(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function B$(n,e,t){n=qi(n,Po);const i=Object.assign(Object.assign({},U$),t);return function(r){if(r.maxAttempts<1)throw new vt(tt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,u){const m=new gs;return r.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){const v=yield function TU(n){return f1(n).then(e=>e.datastore)}(r);new R5(r.asyncQueue,v,u,o,m).run()})),m.promise}(Ns(n),r=>e(new V$(n,r)),i)}(this._delegate,t=>e(new S4(this,t)))}batch(){return Ns(this._delegate),new D4(new rV(this._delegate,e=>V0(this._delegate,e)))}loadBundle(e){return function t$(n,e){const t=Ns(n=qi(n,Po)),i=new G5;return function j5(n,e,t,i){const r=function(o,u){let m;return m="string"==typeof o?qx().encode(o):o,v=function(v,x){if(v instanceof Uint8Array)return CU(v,x);if(v instanceof ArrayBuffer)return CU(new Uint8Array(v),x);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new O5(v,u);var v}(t,em(e));n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){!function A5(n,e,t){const i=Gt(n);var r;(r=(0,dt.Z)(function*(o,u,m){try{const v=yield u.getMetadata();if(yield function(q,ne){const ae=Gt(q),ye=os(ne.createTime);return ae.persistence.runTransaction("hasNewerBundle","readonly",We=>ae.qs.getBundleMetadata(We,ne.id)).then(We=>!!We&&We.createTime.compareTo(ye)>=0)}(o.localStore,v))return yield u.close(),m._completeWith({taskState:"Success",documentsLoaded:(q=v).totalDocuments,bytesLoaded:q.totalBytes,totalDocuments:q.totalDocuments,totalBytes:q.totalBytes}),Promise.resolve(new Set);m._updateProgress(c(v));const x=new s(v,o.localStore,u.serializer);let A=yield u.bc();for(;A;){const q=yield x.zu(A);q&&m._updateProgress(q),A=yield u.bc()}const L=yield x.complete();return yield im(o,L.Ju,void 0),yield function(q,ne){const ae=Gt(q);return ae.persistence.runTransaction("Save bundle","readwrite",ye=>ae.qs.saveBundleMetadata(ye,ne))}(o.localStore,v),m._completeWith(L.progress),Promise.resolve(L.Hu)}catch(v){return cu("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v),Promise.resolve(new Set)}var q}),function(o,u,m){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield zR(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function n$(n,e){return function z5(n,e){return n.asyncQueue.enqueue((0,dt.Z)(function*(){return function(t,i){const r=Gt(t);return r.persistence.runTransaction("Get named query","readonly",o=>r.qs.getNamedQuery(o,i))}(yield p1(n),e)}))}(Ns(n=qi(n,Po)),e).then(t=>t?new vc(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Nl(this,t):null)}}class jA extends eN{constructor(e){super(),this.firestore=e}convertBytes(e){return new UI(new Vf(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return qd.forKey(t,this.firestore,null)}}class S4{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new jA(e)}get(e){const t=yy(e);return this._delegate.get(t).then(i=>new VI(this._firestore,new sm(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=yy(e);return i?(GF("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=yy(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=yy(e);return this._delegate.delete(t),this}}class D4{constructor(e){this._delegate=e}set(e,t,i){const r=yy(e);return i?(GF("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=yy(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=yy(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class vy{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new qE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new BI(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=vy.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new vy(e,new jA(e),t),r.set(t,o)),o}}vy.INSTANCES=new WeakMap;class qd{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jA(e)}static forPath(e,t,i){if(e.length%2!=0)throw new vt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new qd(t,new Oo(t._delegate,i,new qt(e)))}static forKey(e,t,i){return new qd(t,new Oo(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new aw(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new aw(this.firestore,qR(this._delegate,e))}catch(t){throw Rl(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ie.m9)(e))instanceof Oo&&LU(this._delegate,e)}set(e,t){t=GF("DocumentReference.set",t);try{return t?tN(this._delegate,e,t):tN(this._delegate,e)}catch(i){throw Rl(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?nN(this._delegate,e):nN(this._delegate,e,t,...i)}catch(r){throw Rl(r,"updateDoc()","DocumentReference.update()")}}delete(){return function D$(n){return V0(qi(n.firestore,Po),[new pg(n._key,Dr.none())])}(this._delegate)}onSnapshot(...e){const t=M4(e),i=A4(e,r=>new VI(this.firestore,new sm(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return iN(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function x$(n){n=qi(n,Oo);const e=qi(n.firestore,Po),t=Ns(e),i=new Pg(e);return function U5(n,e){const t=new gs;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return(i=(0,dt.Z)(function*(r,o,u){try{const m=yield function(v,x){const A=Gt(v);return A.persistence.runTransaction("read document","readonly",L=>A.localDocuments.getDocument(L,x))}(r,o);m.isFoundDocument()?u.resolve(m):m.isNoDocument()?u.resolve(null):u.reject(new vt(tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=Qv(m,`Failed to get document '${o} from cache`);u.reject(v)}}),function(r,o,u){return i.apply(this,arguments)})(yield p1(n),e,t);var i})),t.promise}(t,n._key).then(r=>new sm(e,i,n._key,r,new ny(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function E$(n){n=qi(n,Oo);const e=qi(n.firestore,Po);return SU(Ns(e),n._key,{source:"server"}).then(t=>rN(e,n,t))}(this._delegate):function C$(n){n=qi(n,Oo);const e=qi(n.firestore,Po);return SU(Ns(e),n._key).then(t=>rN(e,n,t))}(this._delegate),t.then(i=>new VI(this.firestore,new sm(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new qd(this.firestore,this._delegate.withConverter(e?vy.getInstance(this.firestore,e):null))}}function Rl(n,e,t){return n.message=n.message.replace(e,t),n}function M4(n){for(const e of n)if("object"==typeof e&&!WF(e))return e;return{}}function A4(n,e){var t,i;let r;return r=WF(n[0])?n[0]:WF(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class VI{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new qd(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return nV(this._delegate,e._delegate)}}class BI extends VI{data(e){const t=this._delegate.data(e);return function iD(n,e){n||ln()}(void 0!==t),t}}class Nl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jA(e)}where(e,t,i){try{return new Nl(this.firestore,om(this._delegate,KU(e,t,i)))}catch(r){throw Rl(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Nl(this.firestore,om(this._delegate,function h$(n,e="asc"){const t=e,i=w1("orderBy",n);return XR._create(i,t)}(e,t)))}catch(i){throw Rl(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Nl(this.firestore,om(this._delegate,function f$(n){return RU("limit",n),C1._create("limit",n,"F")}(e)))}catch(t){throw Rl(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Nl(this.firestore,om(this._delegate,function p$(n){return RU("limitToLast",n),C1._create("limitToLast",n,"L")}(e)))}catch(t){throw Rl(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Nl(this.firestore,om(this._delegate,function m$(...n){return x1._create("startAt",n,!0)}(...e)))}catch(t){throw Rl(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Nl(this.firestore,om(this._delegate,function g$(...n){return x1._create("startAfter",n,!1)}(...e)))}catch(t){throw Rl(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Nl(this.firestore,om(this._delegate,function _$(...n){return E1._create("endBefore",n,!1)}(...e)))}catch(t){throw Rl(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Nl(this.firestore,om(this._delegate,function v$(...n){return E1._create("endAt",n,!0)}(...e)))}catch(t){throw Rl(t,"endAt()","Query.endAt()")}}isEqual(e){return GR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function T$(n){n=qi(n,vc);const e=qi(n.firestore,Po),t=Ns(e),i=new Pg(e);return function V5(n,e){const t=new gs;return n.asyncQueue.enqueueAndForget((0,dt.Z)(function*(){return(i=(0,dt.Z)(function*(r,o,u){try{const m=yield Hv(r,o,!0),v=new _(o,m.ir),x=v.sc(m.documents),A=v.applyChanges(x,!1);u.resolve(A.snapshot)}catch(m){const v=Qv(m,`Failed to execute query '${o} against cache`);u.reject(v)}}),function(r,o,u){return i.apply(this,arguments)})(yield p1(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Og(e,i,n,r))}(this._delegate):"server"===e?.source?function S$(n){n=qi(n,vc);const e=qi(n.firestore,Po),t=Ns(e),i=new Pg(e);return DU(t,n._query,{source:"server"}).then(r=>new Og(e,i,n,r))}(this._delegate):function I$(n){n=qi(n,vc);const e=qi(n.firestore,Po),t=Ns(e),i=new Pg(e);return ZU(n._query),DU(t,n._query).then(r=>new Og(e,i,n,r))}(this._delegate),t.then(i=>new ZF(this.firestore,new Og(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=M4(e),i=A4(e,r=>new ZF(this.firestore,new Og(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return iN(this._delegate,t,i)}withConverter(e){return new Nl(this.firestore,this._delegate.withConverter(e?vy.getInstance(this.firestore,e):null))}}class aee{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new BI(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ZF{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Nl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new BI(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new aee(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new BI(this._firestore,i))})}isEqual(e){return nV(this._delegate,e._delegate)}}class aw extends Nl{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new qd(this.firestore,e):null}doc(e){try{return new qd(this.firestore,void 0===e?UE(this._delegate):UE(this._delegate,e))}catch(t){throw Rl(t,"doc()","CollectionReference.doc()")}}add(e){return iV(this._delegate,e).then(t=>new qd(this.firestore,t))}isEqual(e){return LU(this._delegate,e._delegate)}withConverter(e){return new aw(this.firestore,this._delegate.withConverter(e?vy.getInstance(this.firestore,e):null))}}function yy(n){return qi(n,Oo)}class KF{constructor(...e){this._delegate=new rm(...e)}static documentId(){return new KF($o.keyField().canonicalString())}isEqual(e){return(e=(0,ie.m9)(e))instanceof rm&&this._delegate._internalPath.isEqual(e._internalPath)}}class by{constructor(e){this._delegate=e}static serverTimestamp(){const e=function z$(){return new ZR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new by(e)}static delete(){const e=function j$(){return new BE("deleteField")}();return e._methodName="FieldValue.delete",new by(e)}static arrayUnion(...e){const t=function H$(...n){return new a$("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new by(t)}static arrayRemove(...e){const t=function $$(...n){return new c$("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new by(t)}static increment(e){const t=function q$(n){return new l$("increment",n)}(e);return t._methodName="FieldValue.increment",new by(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const cee={Firestore:T4,GeoPoint:g1,Timestamp:ho,Blob:UI,Transaction:S4,WriteBatch:D4,DocumentReference:qd,DocumentSnapshot:VI,Query:Nl,QueryDocumentSnapshot:BI,QuerySnapshot:ZF,CollectionReference:aw,FieldPath:KF,FieldValue:by,setLogLevel:function see(n){!function rP(n){bf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function uee(n){(function lee(n,e){n.INTERNAL.registerComponent(new ou.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},cee)))})(n,(e,t)=>new T4(e,t,new oee)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(x4.Z);var zA=Q(3093);function k4(n,e){return(0,jd.m)(e)?(0,Go.w)(()=>n,e):(0,Go.w)(()=>n)}var YF=Q(5137),O4=Q(120);const QF=new a.OlP("angularfire2.auth.use-emulator"),JF=new a.OlP("angularfire2.auth.settings"),XF=new a.OlP("angularfire2.auth.tenant-id"),eL=new a.OlP("angularfire2.auth.langugage-code"),tL=new a.OlP("angularfire2.auth.use-device-language"),nL=new a.OlP("angularfire.auth.persistence"),iL=(n,e,t,i,r,o,u,m)=>(0,Pl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),i&&(v.tenantId=i),v.languageCode=r,o&&v.useDeviceLanguage(),u)for(const[x,A]of Object.entries(u))v.settings[x]=A;return m&&v.setPersistence(m),v},[t,i,r,o,u,m]);let rL=(()=>{class n{constructor(t,i,r,o,u,m,v,x,A,L,q,ne){const ae=new Hn.x,ye=(0,_n.of)(void 0).pipe((0,zA.Q)(u.outsideAngular),(0,Go.w)(()=>o.runOutsideAngular(()=>Promise.resolve().then(Q.bind(Q,8661)))),(0,gn.U)(()=>(0,Pl.on)(t,o,i)),(0,gn.U)(We=>iL(We,o,m,x,A,L,v,q)),VF({bufferSize:1,refCount:!1}));if(Cr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,_n.of)(null);else{ye.pipe(Fg()).subscribe();const wt=ye.pipe((0,Go.w)(Lt=>Lt.getRedirectResult().then(An=>An,()=>null)),bn.iC,VF({bufferSize:1,refCount:!1})),kt=ye.pipe((0,Go.w)(Lt=>new ar.y(An=>({unsubscribe:o.runOutsideAngular(()=>Lt.onAuthStateChanged(Rn=>An.next(Rn),Rn=>An.error(Rn),()=>An.complete()))})))),At=ye.pipe((0,Go.w)(Lt=>new ar.y(An=>({unsubscribe:o.runOutsideAngular(()=>Lt.onIdTokenChanged(Rn=>An.next(Rn),Rn=>An.error(Rn),()=>An.complete()))}))));this.authState=wt.pipe(k4(kt),(0,YF.R)(u.outsideAngular),(0,zA.Q)(u.insideAngular)),this.user=wt.pipe(k4(At),(0,YF.R)(u.outsideAngular),(0,zA.Q)(u.insideAngular)),this.idToken=this.user.pipe((0,Go.w)(Lt=>Lt?(0,Mr.D)(Lt.getIdToken()):(0,_n.of)(null))),this.idTokenResult=this.user.pipe((0,Go.w)(Lt=>Lt?(0,Mr.D)(Lt.getIdTokenResult()):(0,_n.of)(null))),this.credential=(0,Wg.T)(wt,ae,this.authState.pipe(cr(Lt=>!Lt))).pipe((0,gn.U)(Lt=>Lt?.user?Lt:null),(0,YF.R)(u.outsideAngular),(0,zA.Q)(u.insideAngular))}return(0,Pl.pX)(this,ye,o,{spy:{apply:(We,wt,kt)=>{(We.startsWith("signIn")||We.startsWith("createUser"))&&kt.then(At=>ae.next(At))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Pl.Dh),a.LFG(Pl.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(bn.HU),a.LFG(QF,8),a.LFG(JF,8),a.LFG(XF,8),a.LFG(eL,8),a.LFG(tL,8),a.LFG(nL,8),a.LFG(yp,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function P4(n,e){return function hee(n,e=ow.z){return new ar.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function oL(n,e){return P4(n,e).pipe((0,gn.U)(t=>({payload:t,type:"query"})))}function HA(n,e){return oL(n,e).pipe(Ng(void 0),qF(),(0,gn.U)(([t,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,m)=>{const v=r.find(A=>A.doc.ref.isEqual(u.ref)),x=t?.payload.docs.find(A=>A.ref.isEqual(u.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(u.metadata)||!v&&x&&JSON.stringify(x.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:u}})}),o}))}function R4(n,e,t){return HA(n,t).pipe(q0((i,r)=>function pee(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function mee(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return sL(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return sL(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return sL(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),(0,mF.x)(),(0,gn.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function sL(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function N4(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class F4{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=HA(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,gn.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Ng(void 0),qF(),cr(([i,r])=>r.length>0||!i),(0,gn.U)(([i,r])=>r),bn.iC)}auditTrail(e){return this.stateChanges(e).pipe(q0((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=N4(e);return R4(this.query,t,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(e={}){return oL(this.query,this.afs.schedulers.outsideAngular).pipe((0,gn.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),bn.iC)}get(e){return(0,Mr.D)(this.query.get(e)).pipe(bn.iC)}add(e){return this.ref.add(e)}doc(e){return new L4(this.ref.doc(e),this.afs)}}class L4{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=B4(i,t);return new F4(r,o,this.afs)}snapshotChanges(){return function fee(n,e){return P4(n,e).pipe(Ng(void 0),qF(),(0,gn.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,gn.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Mr.D)(this.ref.get(e)).pipe(bn.iC)}}class gee{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?HA(this.query,this.afs.schedulers.outsideAngular).pipe((0,gn.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),cr(t=>t.length>0),bn.iC):HA(this.query,this.afs.schedulers.outsideAngular).pipe(bn.iC)}auditTrail(e){return this.stateChanges(e).pipe(q0((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=N4(e);return R4(this.query,t,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(e={}){return oL(this.query,this.afs.schedulers.outsideAngular).pipe((0,gn.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),bn.iC)}get(e){return(0,Mr.D)(this.query.get(e)).pipe(bn.iC)}}const U4=new a.OlP("angularfire2.enableFirestorePersistence"),V4=new a.OlP("angularfire2.firestore.persistenceSettings"),_ee=new a.OlP("angularfire2.firestore.settings"),vee=new a.OlP("angularfire2.firestore.use-emulator");function B4(n,e=(t=>t)){return{query:e(n),ref:n}}let j4=(()=>{class n{constructor(t,i,r,o,u,m,v,x,A,L,q,ne,ae,ye,We,wt,kt){this.schedulers=v;const At=(0,Pl.on)(t,m,i),Lt=A;L&&iL(At,m,q,ae,ye,We,ne,wt),[this.firestore,this.persistenceEnabled$]=(0,Pl.cc)(`${At.name}.firestore`,"AngularFirestore",At.name,()=>{const An=m.runOutsideAngular(()=>At.firestore());if(o&&An.settings(o),Lt&&An.useEmulator(...Lt),r&&!Cr(u)){const Rn=()=>{try{return(0,Mr.D)(An.enablePersistence(x||void 0).then(()=>!0,()=>!1))}catch(ji){return typeof console<"u"&&console.warn(ji),(0,_n.of)(!1)}};return[An,m.runOutsideAngular(Rn)]}return[An,(0,_n.of)(!1)]},[o,Lt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:u}=B4(r,i),m=this.schedulers.ngZone.run(()=>o);return new F4(m,u,this)}collectionGroup(t,i){const r=i||(u=>u),o=this.firestore.collectionGroup(t);return new gee(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new L4(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Pl.Dh),a.LFG(Pl.xv,8),a.LFG(U4,8),a.LFG(_ee,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(bn.HU),a.LFG(V4,8),a.LFG(vee,8),a.LFG(rL,8),a.LFG(QF,8),a.LFG(JF,8),a.LFG(XF,8),a.LFG(eL,8),a.LFG(tL,8),a.LFG(nL,8),a.LFG(yp,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),yee=(()=>{class n{constructor(){O4.Z.registerVersion("angularfire",bn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:U4,useValue:!0},{provide:V4,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[j4]}),n})(),bee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n});static#n=this.\u0275inj=a.cJS({imports:[Pi]})}return n})();const z4="@firebase/database";let aL="";function $4(n){aL=n}class xee{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,ie.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,ie.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Eee{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,ie.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const q4=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new xee(e)}}catch{}return new Eee},wy=q4("localStorage"),cL=q4("sessionStorage"),cw=new Ru.Yd("@firebase/database"),G4=function(){let n=1;return function(){return n++}}(),W4=function(n){const e=(0,ie.dS)(n),t=new ie.gQ;t.update(e);const i=t.digest();return ie.US.encodeByteArray(i)},jI=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=jI.apply(null,i):e+="object"==typeof i?(0,ie.Wl)(i):i,e+=" "}return e};let Cy=null,Z4=!0;const K4=function(n,e){(0,ie.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(cw.logLevel=Ru.in.VERBOSE,Cy=cw.log.bind(cw),e&&cL.set("logging_enabled",!0)):"function"==typeof n?Cy=n:(Cy=null,cL.remove("logging_enabled"))},Ya=function(...n){if(!0===Z4&&(Z4=!1,null===Cy&&!0===cL.get("logging_enabled")&&K4(!0)),Cy){const e=jI.apply(null,n);Cy(e)}},zI=function(n){return function(...e){Ya(n,...e)}},lL=function(...n){const e="FIREBASE INTERNAL ERROR: "+jI(...n);cw.error(e)},Gf=function(...n){const e=`FIREBASE FATAL ERROR: ${jI(...n)}`;throw cw.error(e),new Error(e)},il=function(...n){const e="FIREBASE WARNING: "+jI(...n);cw.warn(e)},$A=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Zg="[MIN_NAME]",mm="[MAX_NAME]",xy=function(n,e){if(n===e)return 0;if(n===Zg||e===mm)return-1;if(e===Zg||n===mm)return 1;{const t=J4(n),i=J4(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},See=function(n,e){return n===e?0:n<e?-1:1},HI=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,ie.Wl)(e))},uL=function(n){if("object"!=typeof n||null===n)return(0,ie.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,ie.Wl)(e[i]),t+=":",t+=uL(n[e[i]]);return t+="}",t},Y4=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Qa(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const Q4=function(n){(0,ie.hu)(!$A(n),"Invalid JSON number");const i=1023;let r,o,u,m,v;0===n?(o=0,u=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(m=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=m+i,u=Math.round(n*Math.pow(2,52-m)-Math.pow(2,52))):(o=0,u=Math.round(n/Math.pow(2,-1074))));const x=[];for(v=52;v;v-=1)x.push(u%2?1:0),u=Math.floor(u/2);for(v=11;v;v-=1)x.push(o%2?1:0),o=Math.floor(o/2);x.push(r?1:0),x.reverse();const A=x.join("");let L="";for(v=0;v<64;v+=8){let q=parseInt(A.substr(v,8),2).toString(16);1===q.length&&(q="0"+q),L+=q}return L.toLowerCase()},kee=new RegExp("^-?(0*)\\d{1,10}$"),J4=function(n){if(kee.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},lw=function(n){try{n()}catch(e){setTimeout(()=>{throw il("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},$I=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class Nee{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){il(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Fee{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Ya("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',il(e)}}let qI=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const i6=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,s6="websocket",a6="long_polling";class hL{constructor(e,t,i,r,o=!1,u="",m=!1,v=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=u,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=v,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=wy.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&wy.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function c6(n,e,t){let i;if((0,ie.hu)("string"==typeof e,"typeof type must == string"),(0,ie.hu)("object"==typeof t,"typeof params must == object"),e===s6)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==a6)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Lee(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Qa(t,(o,u)=>{r.push(o+"="+u)}),i+r.join("&")}class Uee{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,ie.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,ie.p$)(this.counters_)}}const fL={},pL={};function mL(n){const e=n.toString();return fL[e]||(fL[e]=new Uee),fL[e]}class Bee{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&lw(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Kg{constructor(e,t,i,r,o,u,m){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=u,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=zI(e),this.stats_=mL(t),this.urlFn=v=>(this.appCheckToken&&(v.ac=this.appCheckToken),c6(t,a6,v))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Bee(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,ie.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gL((...o)=>{const[u,m,v,x,A]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=m,this.password=v;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[u,m]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(u,m)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&i6.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Kg.forceAllow_=!0}static forceDisallow(){Kg.forceDisallow_=!0}static isAvailable(){return!((0,ie.Yr)()||!Kg.forceAllow_&&(Kg.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,ie.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,ie.h$)(t),r=Y4(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,ie.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,ie.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class gL{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ie.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=G4(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=gL.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(m){Ya("frame writing exception"),m.stack&&Ya(m.stack),Ya(m)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ya("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const u=this.pendingSegs.shift();i=i+"&seg"+r+"="+u.seg+"&ts"+r+"="+u.ts+"&d"+r+"="+u.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,ie.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Ya("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let GA=null;typeof MozWebSocket<"u"?GA=MozWebSocket:typeof WebSocket<"u"&&(GA=WebSocket);let uw=(()=>{class n{constructor(t,i,r,o,u,m,v){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=zI(this.connId),this.stats_=mL(i),this.connURL=n.connectionURL_(i,m,v,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,u){const m={v:"5"};return!(0,ie.Yr)()&&typeof location<"u"&&location.hostname&&i6.test(location.hostname)&&(m.r="f"),i&&(m.s=i),r&&(m.ls=r),o&&(m.ac=o),u&&(m.p=u),c6(t,s6,m)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,wy.set("previous_websocket_failure",!0);try{let r;if((0,ie.Yr)()){r={headers:{"User-Agent":`Firebase/5/${aL}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,m=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;m&&(r.proxy={origin:m})}this.mySock=new GA(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==GA&&!n.forceDisallow_}static previouslyFailed(){return wy.isInMemoryStorage||!0===wy.get("previous_websocket_failure")}markConnectionHealthy(){wy.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,ie.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,ie.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,ie.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Y4(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),m6=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Kg,uw]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=uw&&uw.isAvailable();let r=i&&!uw.previouslyFailed();if(t.webSocketOnly&&(i||il("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[uw];else{const o=this.transports_=[];for(const u of n.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class C6{constructor(e,t,i,r,o,u,m,v,x,A){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=u,this.onReady_=m,this.onDisconnect_=v,this.onKill_=x,this.lastSessionId=A,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=zI("c:"+this.id+":"),this.transportManager_=new m6(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=$I(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=HI("t",e),i=HI("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=HI("t",e),i=HI("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=HI("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?lL("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):lL("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&il("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),$I(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$I(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(wy.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class x6{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class E6{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,ie.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(e){(0,ie.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class WA extends E6{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ie.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new WA}getInitialEvent(e){return(0,ie.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ar{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function lr(){return new Ar("")}function Si(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Yg(n){return n.pieces_.length-n.pieceNum_}function oo(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ar(n.pieces_,e)}function vL(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function GI(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function S6(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ar(e,0)}function Wo(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Ar)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Ar(t,0)}function Di(n){return n.pieceNum_>=n.pieces_.length}function Fl(n,e){const t=Si(n),i=Si(e);if(null===t)return e;if(t===i)return Fl(oo(n),oo(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function cte(n,e){const t=GI(n,0),i=GI(e,0);for(let r=0;r<t.length&&r<i.length;r++){const o=xy(t[r],i[r]);if(0!==o)return o}return t.length===i.length?0:t.length<i.length?-1:1}function yL(n,e){if(Yg(n)!==Yg(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Gd(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Yg(n)>Yg(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class lte{constructor(e,t){this.errorPrefix_=t,this.parts_=GI(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,ie.ug)(this.parts_[i]);D6(this)}}function D6(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ey(n))}function Ey(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class bL extends E6{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new bL}getInitialEvent(e){return(0,ie.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const WI=1e3;let KA,Iy=(()=>{class n extends x6{constructor(t,i,r,o,u,m,v,x){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=m,this.appCheckTokenProvider_=v,this.authOverride_=x,this.id=n.nextPersistentConnectionId_++,this.log_=zI("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=WI,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,x&&!(0,ie.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");bL.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&WA.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,u={r:o,a:t,b:i};this.log_((0,ie.Wl)(u)),(0,ie.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new ie.BH,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:m=>{const v=m.d;"ok"===m.s?i.resolve(v):i.reject(v)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,o){this.initConnection_();const u=t._queryIdentifier,m=t._path.toString();this.log_("Listen called for "+m+" "+u),this.listens.has(m)||this.listens.set(m,new Map),(0,ie.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ie.hu)(!this.listens.get(m).has(u),"listen() called twice for same path/queryId.");const v={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(m).set(u,v),this.connected_&&this.sendListen_(v)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r};t.tag&&(u.q=i._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest("q",u,v=>{const x=v.d,A=v.s;n.warnOnListenWarnings_(x,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",v),"ok"!==A&&this.removeListen_(r,o),t.onComplete&&t.onComplete(A,x))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,ie.r3)(t,"w")){const r=(0,ie.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();il(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,ie.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,ie.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const u=o.s,m=o.d||"error";this.authToken_===t&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,ie.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const u={p:t};o&&(u.q=r,u.t=o),this.sendRequest("n",u)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const u={p:i,d:r};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,m=>{o&&setTimeout(()=>{o(m.s,m.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,u){this.initConnection_();const m={p:i,d:r};void 0!==u&&(m.h=u),this.outstandingPuts_.push({action:t,request:m,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,ie.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):lL("Unrecognized action received from server: "+(0,ie.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,ie.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=WI,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=WI,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=WI),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,dt.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),u=t.id+":"+n.nextConnectionId_++,m=t.lastSessionId;let v=!1,x=null;const A=function(){x?x.close():(v=!0,o())};t.realtime_={close:A,sendRequest:function(ne){(0,ie.hu)(x,"sendRequest call when we're not connected not allowed."),x.sendRequest(ne)}};const q=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[ne,ae]=yield Promise.all([t.authTokenProvider_.getToken(q),t.appCheckTokenProvider_.getToken(q)]);v?Ya("getToken() completed but was canceled"):(Ya("getToken() completed. Creating connection."),t.authToken_=ne&&ne.accessToken,t.appCheckToken_=ae&&ae.token,x=new C6(u,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,o,ye=>{il(ye+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},m))}catch(ne){t.log_("Failed to get token: "+ne),v||(t.repoInfo_.nodeAdmin&&il(ne),A())}}})()}interrupt(t){Ya("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ya("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,ie.xb)(this.interruptReasons_)&&(this.reconnectDelay_=WI,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(u=>uL(u)).join("$"):"default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new Ar(t).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(i),u.delete(i),0===u.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){Ya("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Ya("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,ie.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+aL.replace(/\./g,"-")]=1,(0,ie.uI)()?t["framework.cordova"]=1:(0,ie.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=WA.getInstance().currentlyOnline();return(0,ie.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Fi{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Fi(e,t)}}class ZA{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Fi(Zg,e),r=new Fi(Zg,t);return 0!==this.compare(i,r)}minPost(){return Fi.MIN}}class k6 extends ZA{static get __EMPTY_NODE(){return KA}static set __EMPTY_NODE(e){KA=e}compare(e,t){return xy(e.name,t.name)}isDefinedOn(e){throw(0,ie.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Fi.MIN}maxPost(){return new Fi(mm,KA)}makePost(e,t){return(0,ie.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Fi(e,KA)}toString(){return".key"}}const Wf=new k6;class YA{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,r&&(u*=-1),u<0)e=this.isReverse_?e.left:e.right;else{if(0===u){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let CL,Uh=(()=>{class n{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??n.RED,this.left=o??pu.EMPTY_NODE,this.right=u??pu.EMPTY_NODE}copy(t,i,r,o,u){return new n(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):0===u?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return pu.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return pu.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class pu{constructor(e,t=pu.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new pu(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Uh.BLACK,null,null))}remove(e){return new pu(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Uh.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new YA(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new YA(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new YA(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new YA(this.root_,null,this.comparator_,!0,e)}}function _te(n,e){return xy(n.name,e.name)}function wL(n,e){return xy(n,e)}pu.EMPTY_NODE=new class gte{copy(e,t,i,r,o){return this}insert(e,t,i){return new Uh(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const O6=function(n){return"number"==typeof n?"number:"+Q4(n):"string:"+n},P6=function(n){if(n.isLeafNode()){const e=n.val();(0,ie.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,ie.r3)(e,".sv"),"Priority must be a string or number.")}else(0,ie.hu)(n===CL||n.isEmpty(),"priority of unexpected type.");(0,ie.hu)(n===CL||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let R6,N6,F6,dw=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,ie.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),P6(this.priorityNode_)}static set __childrenNodeConstructor(t){R6=t}static get __childrenNodeConstructor(){return R6}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Di(t)?this:".priority"===Si(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Si(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,ie.hu)(".priority"!==r||1===Yg(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(oo(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+O6(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?Q4(this.value_):this.value_,this.lazyHash_=W4(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,ie.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),u=n.VALUE_TYPE_ORDER.indexOf(r);return(0,ie.hu)(o>=0,"Unknown leaf type: "+i),(0,ie.hu)(u>=0,"Unknown leaf type: "+r),o===u?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const po=new class wte extends ZA{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return 0===o?xy(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Fi.MIN}maxPost(){return new Fi(mm,new dw("[PRIORITY-POST]",F6))}makePost(e,t){const i=N6(e);return new Fi(t,new dw("[PRIORITY-POST]",i))}toString(){return".priority"}},Cte=Math.log(2);class xte{constructor(e){this.count=parseInt(Math.log(e+1)/Cte,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const QA=function(n,e,t,i){n.sort(e);const r=function(v,x){const A=x-v;let L,q;if(0===A)return null;if(1===A)return L=n[v],q=t?t(L):L,new Uh(q,L.node,Uh.BLACK,null,null);{const ne=parseInt(A/2,10)+v,ae=r(v,ne),ye=r(ne+1,x);return L=n[ne],q=t?t(L):L,new Uh(q,L.node,Uh.BLACK,ae,ye)}},m=function(v){let x=null,A=null,L=n.length;const q=function(ae,ye){const We=L-ae,wt=L;L-=ae;const kt=r(We+1,wt),At=n[We],Lt=t?t(At):At;ne(new Uh(Lt,At.node,ye,null,kt))},ne=function(ae){x?(x.left=ae,x=ae):(A=ae,x=ae)};for(let ae=0;ae<v.count;++ae){const ye=v.nextBitIsOne(),We=Math.pow(2,v.count-(ae+1));ye?q(We,Uh.BLACK):(q(We,Uh.BLACK),q(We,Uh.RED))}return A}(new xte(n.length));return new pu(i||e,m)};let xL;const hw={};class gm{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,ie.hu)(hw&&po,"ChildrenNode.ts has not been loaded"),xL=xL||new gm({".priority":hw},{".priority":po}),xL}get(e){const t=(0,ie.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof pu?t:null}hasIndex(e){return(0,ie.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,ie.hu)(e!==Wf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=t.getIterator(Fi.Wrap);let m,u=o.getNext();for(;u;)r=r||e.isDefinedOn(u.node),i.push(u),u=o.getNext();m=r?QA(i,e.getCompare()):hw;const v=e.toString(),x=Object.assign({},this.indexSet_);x[v]=e;const A=Object.assign({},this.indexes_);return A[v]=m,new gm(A,x)}addToIndexes(e,t){const i=(0,ie.UI)(this.indexes_,(r,o)=>{const u=(0,ie.DV)(this.indexSet_,o);if((0,ie.hu)(u,"Missing index implementation for "+o),r===hw){if(u.isDefinedOn(e.node)){const m=[],v=t.getIterator(Fi.Wrap);let x=v.getNext();for(;x;)x.name!==e.name&&m.push(x),x=v.getNext();return m.push(e),QA(m,u.getCompare())}return hw}{const m=t.get(e.name);let v=r;return m&&(v=v.remove(new Fi(e.name,m))),v.insert(e,e.node)}});return new gm(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,ie.UI)(this.indexes_,r=>{if(r===hw)return r;{const o=t.get(e.name);return o?r.remove(new Fi(e.name,o)):r}});return new gm(i,this.indexSet_)}}let ZI,hi=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&P6(this.priorityNode_),this.children_.isEmpty()&&(0,ie.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ZI||(ZI=new n(new pu(wL),null,gm.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ZI}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?ZI:i}}getChild(t){const i=Si(t);return null===i?this:this.getImmediateChild(i).getChild(oo(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,ie.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Fi(t,i);let o,u;i.isEmpty()?(o=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(r,this.children_));const m=o.isEmpty()?ZI:this.priorityNode_;return new n(o,m,u)}}updateChild(t,i){const r=Si(t);if(null===r)return i;{(0,ie.hu)(".priority"!==Si(t)||1===Yg(t),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(oo(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,u=!0;if(this.forEachChild(po,(m,v)=>{i[m]=v.val(t),r++,u&&n.INTEGER_REGEXP_.test(m)?o=Math.max(o,Number(m)):u=!1}),!t&&u&&o<2*r){const m=[];for(const v in i)m[v]=i[v];return m}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+O6(this.getPriority().val())+":"),this.forEachChild(po,(i,r)=>{const o=r.hash();""!==o&&(t+=":"+i+":"+o)}),this.lazyHash_=""===t?"":W4(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new Fi(t,i));return u?u.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Fi(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Fi(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,Fi.Wrap);let u=o.peek();for(;null!=u&&i.compare(u,t)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,Fi.Wrap);let u=o.peek();for(;null!=u&&i.compare(u,t)>0;)o.getNext(),u=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===KI?-1:0}withIndex(t){if(t===Wf||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Wf||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(po),o=i.getIterator(po);let u=r.getNext(),m=o.getNext();for(;u&&m;){if(u.name!==m.name||!u.node.equals(m.node))return!1;u=r.getNext(),m=o.getNext()}return null===u&&null===m}return!1}return!1}}resolveIndex_(t){return t===Wf?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const KI=new class Ete extends hi{constructor(){super(new pu(wL),hi.EMPTY_NODE,gm.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return hi.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Fi,{MIN:{value:new Fi(Zg,hi.EMPTY_NODE)},MAX:{value:new Fi(mm,KI)}}),k6.__EMPTY_NODE=hi.EMPTY_NODE,dw.__childrenNodeConstructor=hi,function vte(n){CL=n}(KI),function bte(n){F6=n}(KI);const Ite=!0;function as(n,e=null){if(null===n)return hi.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,ie.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new dw(n,as(e));if(n instanceof Array||!Ite){let t=hi.EMPTY_NODE;return Qa(n,(i,r)=>{if((0,ie.r3)(n,i)&&"."!==i.substring(0,1)){const o=as(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(as(e))}{const t=[];let i=!1;if(Qa(n,(u,m)=>{if("."!==u.substring(0,1)){const v=as(m);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),t.push(new Fi(u,v)))}}),0===t.length)return hi.EMPTY_NODE;const o=QA(t,_te,u=>u.name,wL);if(i){const u=QA(t,po.getCompare());return new hi(o,as(e),new gm({".priority":u},{".priority":po}))}return new hi(o,as(e),gm.Default)}}!function yte(n){N6=n}(as);class EL extends ZA{constructor(e){super(),this.indexPath_=e,(0,ie.hu)(!Di(e)&&".priority"!==Si(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return 0===o?xy(e.name,t.name):o}makePost(e,t){const i=as(e),r=hi.EMPTY_NODE.updateChild(this.indexPath_,i);return new Fi(t,r)}maxPost(){const e=hi.EMPTY_NODE.updateChild(this.indexPath_,KI);return new Fi(mm,e)}toString(){return GI(this.indexPath_,0).join("/")}}const IL=new class Tte extends ZA{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?xy(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Fi.MIN}maxPost(){return Fi.MAX}makePost(e,t){const i=as(e);return new Fi(t,i)}toString(){return".value"}};function L6(n){return{type:"value",snapshotNode:n}}function fw(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function YI(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function QI(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class TL{constructor(e){this.index_=e}updateChild(e,t,i,r,o,u){(0,ie.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=e.getImmediateChild(t);return m.getChild(r).equals(i.getChild(r))&&m.isEmpty()===i.isEmpty()||(null!=u&&(i.isEmpty()?e.hasChild(t)?u.trackChildChange(YI(t,m)):(0,ie.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?u.trackChildChange(fw(t,i)):u.trackChildChange(QI(t,i,m))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(po,(r,o)=>{t.hasChild(r)||i.trackChildChange(YI(r,o))}),t.isLeafNode()||t.forEachChild(po,(r,o)=>{if(e.hasChild(r)){const u=e.getImmediateChild(r);u.equals(o)||i.trackChildChange(QI(r,o,u))}else i.trackChildChange(fw(r,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?hi.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class JI{constructor(e){this.indexedFilter_=new TL(e.getIndex()),this.index_=e.getIndex(),this.startPost_=JI.getStartPost_(e),this.endPost_=JI.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,o,u){return this.matches(new Fi(t,i))||(i=hi.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,o,u)}updateFullNode(e,t,i){t.isLeafNode()&&(t=hi.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(hi.EMPTY_NODE);const o=this;return t.forEachChild(po,(u,m)=>{o.matches(new Fi(u,m))||(r=r.updateImmediateChild(u,hi.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Dte{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new JI(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,o,u){return this.rangedFilter_.matches(new Fi(t,i))||(i=hi.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,o,u):this.fullLimitUpdateChild_(e,t,i,o,u)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=hi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let o;r=hi.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;o.hasNext()&&u<this.limit_;){const m=o.getNext();if(this.withinDirectionalStart(m)){if(!this.withinDirectionalEnd(m))break;r=r.updateImmediateChild(m.name,m.node),u++}}}else{let o;r=t.withIndex(this.index_),r=r.updatePriority(hi.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let u=0;for(;o.hasNext();){const m=o.getNext();u<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?u++:r=r.updateImmediateChild(m.name,hi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,o){let u;if(this.reverse_){const L=this.index_.getCompare();u=(q,ne)=>L(ne,q)}else u=this.index_.getCompare();const m=e;(0,ie.hu)(m.numChildren()===this.limit_,"");const v=new Fi(t,i),x=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),A=this.rangedFilter_.matches(v);if(m.hasChild(t)){const L=m.getImmediateChild(t);let q=r.getChildAfterChild(this.index_,x,this.reverse_);for(;null!=q&&(q.name===t||m.hasChild(q.name));)q=r.getChildAfterChild(this.index_,q,this.reverse_);const ne=null==q?1:u(q,v);if(A&&!i.isEmpty()&&ne>=0)return o?.trackChildChange(QI(t,i,L)),m.updateImmediateChild(t,i);{o?.trackChildChange(YI(t,L));const ye=m.updateImmediateChild(t,hi.EMPTY_NODE);return null!=q&&this.rangedFilter_.matches(q)?(o?.trackChildChange(fw(q.name,q.node)),ye.updateImmediateChild(q.name,q.node)):ye}}return i.isEmpty()?e:A&&u(x,v)>=0?(null!=o&&(o.trackChildChange(YI(x.name,x.node)),o.trackChildChange(fw(t,i))),m.updateImmediateChild(t,i).updateImmediateChild(x.name,hi.EMPTY_NODE)):e}}class JA{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=po}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ie.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ie.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zg}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ie.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ie.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:mm}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ie.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===po}copy(){const e=new JA;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function SL(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function DL(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function XA(n,e){const t=n.copy();return t.index_=e,t}function U6(n){const e={};if(n.isDefault())return e;let t;if(n.index_===po?t="$priority":n.index_===IL?t="$value":n.index_===Wf?t="$key":((0,ie.hu)(n.index_ instanceof EL,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,ie.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,ie.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,ie.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,ie.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,ie.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function V6(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==po&&(e.i=n.index_.toString()),e}class ek extends x6{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=zI("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,ie.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const u=ek.getListenId_(e,i),m={};this.listens_[u]=m;const v=U6(e._queryParams);this.restRequest_(o+".json",v,(x,A)=>{let L=A;if(404===x&&(L=null,x=null),null===x&&this.onDataUpdate_(o,L,!1,i),(0,ie.DV)(this.listens_,u)===m){let q;q=x?401===x?"permission_denied":"rest_error:"+x:"ok",r(q,null)}})}unlisten(e,t){const i=ek.getListenId_(e,t);delete this.listens_[i]}get(e){const t=U6(e._queryParams),i=e._path.toString(),r=new ie.BH;return this.restRequest_(i+".json",t,(o,u)=>{let m=u;404===o&&(m=null,o=null),null===o?(this.onDataUpdate_(i,m,!1,null),r.resolve(m)):r.reject(new Error(m))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,ie.xO)(t);this.log_("Sending REST request for "+u);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(i&&4===m.readyState){this.log_("REST Response for "+u+" received. status:",m.status,"response:",m.responseText);let v=null;if(m.status>=200&&m.status<300){try{v=(0,ie.cI)(m.responseText)}catch{il("Failed to parse JSON response for "+u+": "+m.responseText)}i(null,v)}else 401!==m.status&&404!==m.status&&il("Got unsuccessful REST response for "+u+" Status: "+m.status),i(m.status);i=null}},m.open("GET",u,!0),m.send()})}}class Rte{constructor(){this.rootNode_=hi.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function tk(){return{value:null,children:new Map}}function pw(n,e,t){if(Di(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Si(e);n.children.has(i)||n.children.set(i,tk()),pw(n.children.get(i),e=oo(e),t)}}function ML(n,e){if(Di(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(po,(i,r)=>{pw(n,new Ar(i),r)}),ML(n,e)}}if(n.children.size>0){const t=Si(e);return e=oo(e),n.children.has(t)&&ML(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function AL(n,e,t){null!==n.value?t(e,n.value):function Nte(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{AL(r,new Ar(e.toString()+"/"+i),t)})}class Fte{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Qa(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class Vte{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Fte(e);const i=1e4+2e4*Math.random();$I(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Qa(e,(r,o)=>{o>0&&(0,ie.r3)(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),$I(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Zf=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Zf||{});function PL(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class nk{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Zf.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Di(this.path)){if(null!=this.affectedTree.value)return(0,ie.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ar(e));return new nk(lr(),t,this.revert)}}return(0,ie.hu)(Si(this.path)===e,"operationForChild called for unrelated child."),new nk(oo(this.path),this.affectedTree,this.revert)}}class XI{constructor(e,t){this.source=e,this.path=t,this.type=Zf.LISTEN_COMPLETE}operationForChild(e){return Di(this.path)?new XI(this.source,lr()):new XI(this.source,oo(this.path))}}class Ty{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Zf.OVERWRITE}operationForChild(e){return Di(this.path)?new Ty(this.source,lr(),this.snap.getImmediateChild(e)):new Ty(this.source,oo(this.path),this.snap)}}class mw{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Zf.MERGE}operationForChild(e){if(Di(this.path)){const t=this.children.subtree(new Ar(e));return t.isEmpty()?null:t.value?new Ty(this.source,lr(),t.value):new mw(this.source,lr(),t)}return(0,ie.hu)(Si(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new mw(this.source,oo(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Qg{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Di(e))return this.isFullyInitialized()&&!this.filtered_;const t=Si(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Bte{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function eT(n,e,t,i,r,o){const u=i.filter(m=>m.type===t);u.sort((m,v)=>function Hte(n,e,t){if(null==e.childName||null==t.childName)throw(0,ie.g5)("Should only compare child_ events.");const i=new Fi(e.childName,e.snapshotNode),r=new Fi(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,m,v)),u.forEach(m=>{const v=function zte(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,m,o);r.forEach(x=>{x.respondsTo(m.type)&&e.push(x.createEvent(v,n.query_))})})}function ik(n,e){return{eventCache:n,serverCache:e}}function tT(n,e,t,i){return ik(new Qg(e,t,i),n.serverCache)}function j6(n,e,t,i){return ik(n.eventCache,new Qg(e,t,i))}function rk(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Sy(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let RL;class mo{constructor(e,t=(()=>(RL||(RL=new pu(See)),RL))()){this.value=e,this.children=t}static fromObject(e){let t=new mo(null);return Qa(e,(i,r)=>{t=t.set(new Ar(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:lr(),value:this.value};if(Di(e))return null;{const i=Si(e),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(oo(e),t);return null!=o?{path:Wo(new Ar(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Di(e))return this;{const t=Si(e),i=this.children.get(t);return null!==i?i.subtree(oo(e)):new mo(null)}}set(e,t){if(Di(e))return new mo(t,this.children);{const i=Si(e),o=(this.children.get(i)||new mo(null)).set(oo(e),t),u=this.children.insert(i,o);return new mo(this.value,u)}}remove(e){if(Di(e))return this.children.isEmpty()?new mo(null):new mo(null,this.children);{const t=Si(e),i=this.children.get(t);if(i){const r=i.remove(oo(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new mo(null):new mo(this.value,o)}return this}}get(e){if(Di(e))return this.value;{const t=Si(e),i=this.children.get(t);return i?i.get(oo(e)):null}}setTree(e,t){if(Di(e))return t;{const i=Si(e),o=(this.children.get(i)||new mo(null)).setTree(oo(e),t);let u;return u=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new mo(this.value,u)}}fold(e){return this.fold_(lr(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Wo(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,lr(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(Di(e))return null;{const o=Si(e),u=this.children.get(o);return u?u.findOnPath_(oo(e),Wo(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,lr(),t)}foreachOnPath_(e,t,i){if(Di(e))return this;{this.value&&i(t,this.value);const r=Si(e),o=this.children.get(r);return o?o.foreachOnPath_(oo(e),Wo(t,r),i):new mo(null)}}foreach(e){this.foreach_(lr(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Wo(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Vh{constructor(e){this.writeTree_=e}static empty(){return new Vh(new mo(null))}}function nT(n,e,t){if(Di(e))return new Vh(new mo(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let o=i.value;const u=Fl(r,e);return o=o.updateChild(u,t),new Vh(n.writeTree_.set(r,o))}{const r=new mo(t),o=n.writeTree_.setTree(e,r);return new Vh(o)}}}function NL(n,e,t){let i=n;return Qa(t,(r,o)=>{i=nT(i,Wo(e,r),o)}),i}function z6(n,e){if(Di(e))return Vh.empty();{const t=n.writeTree_.setTree(e,new mo(null));return new Vh(t)}}function FL(n,e){return null!=Dy(n,e)}function Dy(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Fl(t.path,e)):null}function H6(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(po,(i,r)=>{e.push(new Fi(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new Fi(i,r.value))}),e}function Jg(n,e){if(Di(e))return n;{const t=Dy(n,e);return new Vh(null!=t?new mo(t):n.writeTree_.subtree(e))}}function LL(n){return n.writeTree_.isEmpty()}function gw(n,e){return $6(lr(),n.writeTree_,e)}function $6(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{".priority"===r?((0,ie.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):t=$6(Wo(n,r),o,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Wo(n,".priority"),i)),t}}function ok(n,e){return K6(e,n)}function Kte(n,e){if(n.snap)return Gd(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Gd(Wo(n.path,t),e))return!0;return!1}function Qte(n){return n.visible}function q6(n,e,t){let i=Vh.empty();for(let r=0;r<n.length;++r){const o=n[r];if(e(o)){const u=o.path;let m;if(o.snap)Gd(t,u)?(m=Fl(t,u),i=nT(i,m,o.snap)):Gd(u,t)&&(m=Fl(u,t),i=nT(i,lr(),o.snap.getChild(m)));else{if(!o.children)throw(0,ie.g5)("WriteRecord should have .snap or .children");if(Gd(t,u))m=Fl(t,u),i=NL(i,m,o.children);else if(Gd(u,t))if(m=Fl(u,t),Di(m))i=NL(i,lr(),o.children);else{const v=(0,ie.DV)(o.children,Si(m));if(v){const x=v.getChild(oo(m));i=nT(i,lr(),x)}}}}}return i}function G6(n,e,t,i,r){if(i||r){const o=Jg(n.visibleWrites,e);return!r&&LL(o)?t:r||null!=t||FL(o,lr())?gw(q6(n.allWrites,function(x){return(x.visible||r)&&(!i||!~i.indexOf(x.writeId))&&(Gd(x.path,e)||Gd(e,x.path))},e),t||hi.EMPTY_NODE):null}{const o=Dy(n.visibleWrites,e);if(null!=o)return o;{const u=Jg(n.visibleWrites,e);return LL(u)?t:null!=t||FL(u,lr())?gw(u,t||hi.EMPTY_NODE):null}}}function sk(n,e,t,i){return G6(n.writeTree,n.treePath,e,t,i)}function UL(n,e){return function Jte(n,e,t){let i=hi.EMPTY_NODE;const r=Dy(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(po,(o,u)=>{i=i.updateImmediateChild(o,u)}),i;if(t){const o=Jg(n.visibleWrites,e);return t.forEachChild(po,(u,m)=>{const v=gw(Jg(o,new Ar(u)),m);i=i.updateImmediateChild(u,v)}),H6(o).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}return H6(Jg(n.visibleWrites,e)).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}(n.writeTree,n.treePath,e)}function W6(n,e,t,i){return function Xte(n,e,t,i,r){(0,ie.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Wo(e,t);if(FL(n.visibleWrites,o))return null;{const u=Jg(n.visibleWrites,o);return LL(u)?r.getChild(t):gw(u,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function ak(n,e){return function tne(n,e){return Dy(n.visibleWrites,e)}(n.writeTree,Wo(n.treePath,e))}function VL(n,e,t){return function ene(n,e,t,i){const r=Wo(e,t),o=Dy(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(t)?gw(Jg(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function Z6(n,e){return K6(Wo(n.treePath,e),n.writeTree)}function K6(n,e){return{treePath:n,writeTree:e}}class one{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,ie.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,ie.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(i,QI(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(i,YI(i,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(i,fw(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw(0,ie.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,QI(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const Y6=new class sne{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class BL{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Qg(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return VL(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Sy(this.viewCache_),o=function rne(n,e,t,i,r,o){return function nne(n,e,t,i,r,o,u){let m;const v=Jg(n.visibleWrites,e),x=Dy(v,lr());if(null!=x)m=x;else{if(null==t)return[];m=gw(v,t)}if(m=m.withIndex(u),m.isEmpty()||m.isLeafNode())return[];{const A=[],L=u.getCompare(),q=o?m.getReverseIteratorFrom(i,u):m.getIteratorFrom(i,u);let ne=q.getNext();for(;ne&&A.length<r;)0!==L(ne,i)&&A.push(ne),ne=q.getNext();return A}}(n.writeTree,n.treePath,e,t,i,r,o)}(this.writes_,r,t,1,i,e);return 0===o.length?null:o[0]}}function Q6(n,e,t,i,r,o){const u=e.eventCache;if(null!=ak(i,t))return e;{let m,v;if(Di(t))if((0,ie.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const x=Sy(e),L=UL(i,x instanceof hi?x:hi.EMPTY_NODE);m=n.filter.updateFullNode(e.eventCache.getNode(),L,o)}else{const x=sk(i,Sy(e));m=n.filter.updateFullNode(e.eventCache.getNode(),x,o)}else{const x=Si(t);if(".priority"===x){(0,ie.hu)(1===Yg(t),"Can't have a priority with additional path components");const A=u.getNode();v=e.serverCache.getNode();const L=W6(i,t,A,v);m=null!=L?n.filter.updatePriority(A,L):u.getNode()}else{const A=oo(t);let L;if(u.isCompleteForChild(x)){v=e.serverCache.getNode();const q=W6(i,t,u.getNode(),v);L=null!=q?u.getNode().getImmediateChild(x).updateChild(A,q):u.getNode().getImmediateChild(x)}else L=VL(i,x,e.serverCache);m=null!=L?n.filter.updateChild(u.getNode(),x,L,A,r,o):u.getNode()}}return tT(e,m,u.isFullyInitialized()||Di(t),n.filter.filtersNodes())}}function ck(n,e,t,i,r,o,u,m){const v=e.serverCache;let x;const A=u?n.filter:n.filter.getIndexedFilter();if(Di(t))x=A.updateFullNode(v.getNode(),i,null);else if(A.filtersNodes()&&!v.isFiltered()){const ne=v.getNode().updateChild(t,i);x=A.updateFullNode(v.getNode(),ne,null)}else{const ne=Si(t);if(!v.isCompleteForPath(t)&&Yg(t)>1)return e;const ae=oo(t),We=v.getNode().getImmediateChild(ne).updateChild(ae,i);x=".priority"===ne?A.updatePriority(v.getNode(),We):A.updateChild(v.getNode(),ne,We,ae,Y6,null)}const L=j6(e,x,v.isFullyInitialized()||Di(t),A.filtersNodes());return Q6(n,L,t,r,new BL(r,L,o),m)}function jL(n,e,t,i,r,o,u){const m=e.eventCache;let v,x;const A=new BL(r,e,o);if(Di(t))x=n.filter.updateFullNode(e.eventCache.getNode(),i,u),v=tT(e,x,!0,n.filter.filtersNodes());else{const L=Si(t);if(".priority"===L)x=n.filter.updatePriority(e.eventCache.getNode(),i),v=tT(e,x,m.isFullyInitialized(),m.isFiltered());else{const q=oo(t),ne=m.getNode().getImmediateChild(L);let ae;if(Di(q))ae=i;else{const ye=A.getCompleteChild(L);ae=null!=ye?".priority"===vL(q)&&ye.getChild(S6(q)).isEmpty()?ye:ye.updateChild(q,i):hi.EMPTY_NODE}v=ne.equals(ae)?e:tT(e,n.filter.updateChild(m.getNode(),L,ae,q,A,u),m.isFullyInitialized(),n.filter.filtersNodes())}}return v}function J6(n,e){return n.eventCache.isCompleteForChild(e)}function X6(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function zL(n,e,t,i,r,o,u,m){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let x,v=e;x=Di(t)?i:new mo(null).setTree(t,i);const A=e.serverCache.getNode();return x.children.inorderTraversal((L,q)=>{if(A.hasChild(L)){const ae=X6(0,e.serverCache.getNode().getImmediateChild(L),q);v=ck(n,v,new Ar(L),ae,r,o,u,m)}}),x.children.inorderTraversal((L,q)=>{const ne=!e.serverCache.isCompleteForChild(L)&&null===q.value;if(!A.hasChild(L)&&!ne){const ye=X6(0,e.serverCache.getNode().getImmediateChild(L),q);v=ck(n,v,new Ar(L),ye,r,o,u,m)}}),v}class mne{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new TL(i.getIndex()),o=function Mte(n){return n.loadsAllData()?new TL(n.getIndex()):n.hasLimit()?new Dte(n):new JI(n)}(i);this.processor_=function ane(n){return{filter:n}}(o);const u=t.serverCache,m=t.eventCache,v=r.updateFullNode(hi.EMPTY_NODE,u.getNode(),null),x=o.updateFullNode(hi.EMPTY_NODE,m.getNode(),null),A=new Qg(v,u.isFullyInitialized(),r.filtersNodes()),L=new Qg(x,m.isFullyInitialized(),o.filtersNodes());this.viewCache_=ik(L,A),this.eventGenerator_=new Bte(this.query_)}get query(){return this.query_}}function vne(n,e){const t=Sy(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Di(e)&&!t.getImmediateChild(Si(e)).isEmpty())?t.getChild(e):null}function eH(n){return 0===n.eventRegistrations_.length}function tH(n,e,t){const i=[];if(t){(0,ie.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const u=o.createCancelEvent(t,r);u&&i.push(u)})}if(e){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const u=n.eventRegistrations_[o];if(u.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(u)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function nH(n,e,t,i){e.type===Zf.MERGE&&null!==e.source.queryId&&((0,ie.hu)(Sy(n.viewCache_),"We should always have a full cache before handling merges"),(0,ie.hu)(rk(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function lne(n,e,t,i,r){const o=new one;let u,m;if(t.type===Zf.OVERWRITE){const x=t;x.source.fromUser?u=jL(n,e,x.path,x.snap,i,r,o):((0,ie.hu)(x.source.fromServer,"Unknown source."),m=x.source.tagged||e.serverCache.isFiltered()&&!Di(x.path),u=ck(n,e,x.path,x.snap,i,r,m,o))}else if(t.type===Zf.MERGE){const x=t;x.source.fromUser?u=function dne(n,e,t,i,r,o,u){let m=e;return i.foreach((v,x)=>{const A=Wo(t,v);J6(e,Si(A))&&(m=jL(n,m,A,x,r,o,u))}),i.foreach((v,x)=>{const A=Wo(t,v);J6(e,Si(A))||(m=jL(n,m,A,x,r,o,u))}),m}(n,e,x.path,x.children,i,r,o):((0,ie.hu)(x.source.fromServer,"Unknown source."),m=x.source.tagged||e.serverCache.isFiltered(),u=zL(n,e,x.path,x.children,i,r,m,o))}else if(t.type===Zf.ACK_USER_WRITE){const x=t;u=x.revert?function pne(n,e,t,i,r,o){let u;if(null!=ak(i,t))return e;{const m=new BL(i,e,r),v=e.eventCache.getNode();let x;if(Di(t)||".priority"===Si(t)){let A;if(e.serverCache.isFullyInitialized())A=sk(i,Sy(e));else{const L=e.serverCache.getNode();(0,ie.hu)(L instanceof hi,"serverChildren would be complete if leaf node"),A=UL(i,L)}x=n.filter.updateFullNode(v,A,o)}else{const A=Si(t);let L=VL(i,A,e.serverCache);null==L&&e.serverCache.isCompleteForChild(A)&&(L=v.getImmediateChild(A)),x=null!=L?n.filter.updateChild(v,A,L,oo(t),m,o):e.eventCache.getNode().hasChild(A)?n.filter.updateChild(v,A,hi.EMPTY_NODE,oo(t),m,o):v,x.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=sk(i,Sy(e)),u.isLeafNode()&&(x=n.filter.updateFullNode(x,u,o)))}return u=e.serverCache.isFullyInitialized()||null!=ak(i,lr()),tT(e,x,u,n.filter.filtersNodes())}}(n,e,x.path,i,r,o):function hne(n,e,t,i,r,o,u){if(null!=ak(r,t))return e;const m=e.serverCache.isFiltered(),v=e.serverCache;if(null!=i.value){if(Di(t)&&v.isFullyInitialized()||v.isCompleteForPath(t))return ck(n,e,t,v.getNode().getChild(t),r,o,m,u);if(Di(t)){let x=new mo(null);return v.getNode().forEachChild(Wf,(A,L)=>{x=x.set(new Ar(A),L)}),zL(n,e,t,x,r,o,m,u)}return e}{let x=new mo(null);return i.foreach((A,L)=>{const q=Wo(t,A);v.isCompleteForPath(q)&&(x=x.set(A,v.getNode().getChild(q)))}),zL(n,e,t,x,r,o,m,u)}}(n,e,x.path,x.affectedTree,i,r,o)}else{if(t.type!==Zf.LISTEN_COMPLETE)throw(0,ie.g5)("Unknown operation type: "+t.type);u=function fne(n,e,t,i,r){const o=e.serverCache;return Q6(n,j6(e,o.getNode(),o.isFullyInitialized()||Di(t),o.isFiltered()),t,i,Y6,r)}(n,e,t.path,i,o)}const v=o.getChanges();return function une(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=rk(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(L6(rk(e)))}}(e,u,v),{viewCache:u,changes:v}}(n.processor_,r,e,t,i);return function cne(n,e){(0,ie.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,ie.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,ie.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,iH(n,o.changes,o.viewCache.eventCache.getNode(),null)}function iH(n,e,t,i){return function jte(n,e,t,i){const r=[],o=[];return e.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&o.push(function Ste(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(u.childName,u.snapshotNode))}),eT(n,r,"child_removed",e,i,t),eT(n,r,"child_added",e,i,t),eT(n,r,"child_moved",o,i,t),eT(n,r,"child_changed",e,i,t),eT(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let lk,dk;class rH{constructor(){this.views=new Map}}function HL(n,e,t,i){const r=e.source.queryId;if(null!==r){const o=n.views.get(r);return(0,ie.hu)(null!=o,"SyncTree gave us an op for an invalid query."),nH(o,e,t,i)}{let o=[];for(const u of n.views.values())o=o.concat(nH(u,e,t,i));return o}}function oH(n,e,t,i,r){const u=n.views.get(e._queryIdentifier);if(!u){let m=sk(t,r?i:null),v=!1;m?v=!0:i instanceof hi?(m=UL(t,i),v=!1):(m=hi.EMPTY_NODE,v=!1);const x=ik(new Qg(m,v,!1),new Qg(i,r,!1));return new mne(e,x)}return u}function sH(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Xg(n,e){let t=null;for(const i of n.views.values())t=t||vne(i,e);return t}function aH(n,e){return e._queryParams.loadsAllData()?uk(n):n.views.get(e._queryIdentifier)}function cH(n,e){return null!=aH(n,e)}function e_(n){return null!=uk(n)}function uk(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Dne=1;class lH{constructor(e){this.listenProvider_=e,this.syncPointTree_=new mo(null),this.pendingWriteTree_=function ine(){return{visibleWrites:Vh.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function $L(n,e,t,i,r){return function qte(n,e,t,i,r){(0,ie.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=nT(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?_w(n,new Ty({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function t_(n,e,t=!1){const i=function Wte(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function Zte(n,e){const t=n.allWrites.findIndex(m=>m.writeId===e);(0,ie.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,u=n.allWrites.length-1;for(;r&&u>=0;){const m=n.allWrites[u];m.visible&&(u>=t&&Kte(m,i.path)?r=!1:Gd(i.path,m.path)&&(o=!0)),u--}return!!r&&(o?(function Yte(n){n.visibleWrites=q6(n.allWrites,Qte,lr()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=z6(n.visibleWrites,i.path):Qa(i.children,v=>{n.visibleWrites=z6(n.visibleWrites,Wo(i.path,v))}),!0))}(n.pendingWriteTree_,e)){let o=new mo(null);return null!=i.snap?o=o.set(lr(),!0):Qa(i.children,u=>{o=o.set(new Ar(u),!0)}),_w(n,new nk(i.path,o,t))}return[]}function iT(n,e,t){return _w(n,new Ty({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function hk(n,e,t,i,r=!1){const o=e._path,u=n.syncPointTree_.get(o);let m=[];if(u&&("default"===e._queryIdentifier||cH(u,e))){const v=function Ine(n,e,t,i){const r=e._queryIdentifier,o=[];let u=[];const m=e_(n);if("default"===r)for(const[v,x]of n.views.entries())u=u.concat(tH(x,t,i)),eH(x)&&(n.views.delete(v),x.query._queryParams.loadsAllData()||o.push(x.query));else{const v=n.views.get(r);v&&(u=u.concat(tH(v,t,i)),eH(v)&&(n.views.delete(r),v.query._queryParams.loadsAllData()||o.push(v.query)))}return m&&!e_(n)&&o.push(new(function Cne(){return(0,ie.hu)(lk,"Reference.ts has not been loaded"),lk}())(e._repo,e._path)),{removed:o,events:u}}(u,e,t,i);(function xne(n){return 0===n.views.size})(u)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const x=v.removed;if(m=v.events,!r){const A=-1!==x.findIndex(q=>q._queryParams.loadsAllData()),L=n.syncPointTree_.findOnPath(o,(q,ne)=>e_(ne));if(A&&!L){const q=n.syncPointTree_.subtree(o);if(!q.isEmpty()){const ne=function Nne(n){return n.fold((e,t,i)=>{if(t&&e_(t))return[uk(t)];{let r=[];return t&&(r=sH(t)),Qa(i,(o,u)=>{r=r.concat(u)}),r}})}(q);for(let ae=0;ae<ne.length;++ae){const ye=ne[ae],We=ye.query,wt=fH(n,ye);n.listenProvider_.startListening(oT(We),rT(n,We),wt.hashFn,wt.onComplete)}}}!L&&x.length>0&&!i&&(A?n.listenProvider_.stopListening(oT(e),null):x.forEach(q=>{const ne=n.queryToTagMap.get(pk(q));n.listenProvider_.stopListening(oT(q),ne)}))}!function Fne(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=pk(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,x)}return m}function uH(n,e,t,i){const r=GL(n,i);if(null!=r){const o=WL(r),u=o.path,m=o.queryId,v=Fl(u,e);return ZL(n,u,new Ty(PL(m),v,t))}return[]}function qL(n,e,t,i=!1){const r=e._path;let o=null,u=!1;n.syncPointTree_.foreachOnPath(r,(q,ne)=>{const ae=Fl(q,r);o=o||Xg(ne,ae),u=u||e_(ne)});let v,m=n.syncPointTree_.get(r);m?(u=u||e_(m),o=o||Xg(m,lr())):(m=new rH,n.syncPointTree_=n.syncPointTree_.set(r,m)),null!=o?v=!0:(v=!1,o=hi.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((ne,ae)=>{const ye=Xg(ae,lr());ye&&(o=o.updateImmediateChild(ne,ye))}));const x=cH(m,e);if(!x&&!e._queryParams.loadsAllData()){const q=pk(e);(0,ie.hu)(!n.queryToTagMap.has(q),"View does not exist, but we have a tag");const ne=function Lne(){return Dne++}();n.queryToTagMap.set(q,ne),n.tagToQueryMap.set(ne,q)}let L=function Ene(n,e,t,i,r,o){const u=oH(n,e,i,r,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,u),function yne(n,e){n.eventRegistrations_.push(e)}(u,t),function bne(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(po,(o,u)=>{i.push(fw(o,u))}),t.isFullyInitialized()&&i.push(L6(t.getNode())),iH(n,i,t.getNode(),e)}(u,t)}(m,e,t,ok(n.pendingWriteTree_,r),o,v);if(!x&&!u&&!i){const q=aH(m,e);L=L.concat(function Une(n,e,t){const i=e._path,r=rT(n,e),o=fH(n,t),u=n.listenProvider_.startListening(oT(e),r,o.hashFn,o.onComplete),m=n.syncPointTree_.subtree(i);if(r)(0,ie.hu)(!e_(m.value),"If we're adding a query, it shouldn't be shadowed");else{const v=m.fold((x,A,L)=>{if(!Di(x)&&A&&e_(A))return[uk(A).query];{let q=[];return A&&(q=q.concat(sH(A).map(ne=>ne.query))),Qa(L,(ne,ae)=>{q=q.concat(ae)}),q}});for(let x=0;x<v.length;++x){const A=v[x];n.listenProvider_.stopListening(oT(A),rT(n,A))}}return u}(n,e,q))}return L}function fk(n,e,t){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(u,m)=>{const x=Xg(m,Fl(u,e));if(x)return x});return G6(r,e,o,t,!0)}function _w(n,e){return dH(e,n.syncPointTree_,null,ok(n.pendingWriteTree_,lr()))}function dH(n,e,t,i){if(Di(n.path))return hH(n,e,t,i);{const r=e.get(lr());null==t&&null!=r&&(t=Xg(r,lr()));let o=[];const u=Si(n.path),m=n.operationForChild(u),v=e.children.get(u);if(v&&m){const x=t?t.getImmediateChild(u):null,A=Z6(i,u);o=o.concat(dH(m,v,x,A))}return r&&(o=o.concat(HL(r,n,i,t))),o}}function hH(n,e,t,i){const r=e.get(lr());null==t&&null!=r&&(t=Xg(r,lr()));let o=[];return e.children.inorderTraversal((u,m)=>{const v=t?t.getImmediateChild(u):null,x=Z6(i,u),A=n.operationForChild(u);A&&(o=o.concat(hH(A,m,v,x)))}),r&&(o=o.concat(HL(r,n,i,t))),o}function fH(n,e){const t=e.query,i=rT(n,t);return{hashFn:()=>(function gne(n){return n.viewCache_.serverCache.getNode()}(e)||hi.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function One(n,e,t){const i=GL(n,t);if(i){const r=WL(i),o=r.path,u=r.queryId,m=Fl(o,e);return ZL(n,o,new XI(PL(u),m))}return[]}(n,t._path,i):function kne(n,e){return _w(n,new XI({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const o=function Aee(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return hk(n,t,null,o)}}}}function rT(n,e){const t=pk(e);return n.queryToTagMap.get(t)}function pk(n){return n._path.toString()+"$"+n._queryIdentifier}function GL(n,e){return n.tagToQueryMap.get(e)}function WL(n){const e=n.indexOf("$");return(0,ie.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ar(n.substr(0,e))}}function ZL(n,e,t){const i=n.syncPointTree_.get(e);return(0,ie.hu)(i,"Missing sync point for query tag that we're tracking"),HL(i,t,ok(n.pendingWriteTree_,e),null)}function oT(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Sne(){return(0,ie.hu)(dk,"Reference.ts has not been loaded"),dk}())(n._repo,n._path):n}class KL{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new KL(t)}node(){return this.node_}}class YL{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Wo(this.path_,e);return new YL(this.syncTree_,t)}node(){return fk(this.syncTree_,this.path_)}}const Vne=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},pH=function(n,e,t){return n&&"object"==typeof n?((0,ie.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Bne(n[".sv"],e,t):"object"==typeof n[".sv"]?jne(n[".sv"],e):void(0,ie.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Bne=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,ie.hu)(!1,"Unexpected server value: "+n)},jne=function(n,e,t){n.hasOwnProperty("increment")||(0,ie.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,ie.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,ie.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const u=r.getValue();return"number"!=typeof u?i:u+i},mH=function(n,e,t,i){return JL(e,new YL(t,n),i)},QL=function(n,e,t){return JL(n,new KL(e),t)};function JL(n,e,t){const i=n.getPriority().val(),r=pH(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const u=n,m=pH(u.getValue(),e,t);return m!==u.getValue()||r!==u.getPriority().val()?new dw(m,as(r)):n}{const u=n;return o=u,r!==u.getPriority().val()&&(o=o.updatePriority(new dw(r))),u.forEachChild(po,(m,v)=>{const x=JL(v,e.getImmediateChild(m),t);x!==v&&(o=o.updateImmediateChild(m,x))}),o}}class XL{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function mk(n,e){let t=e instanceof Ar?e:new Ar(e),i=n,r=Si(t);for(;null!==r;){const o=(0,ie.DV)(i.node.children,r)||{children:{},childCount:0};i=new XL(r,i,o),t=oo(t),r=Si(t)}return i}function My(n){return n.node.value}function e2(n,e){n.node.value=e,t2(n)}function gH(n){return n.node.childCount>0}function gk(n,e){Qa(n.node.children,(t,i)=>{e(new XL(t,n,i))})}function _H(n,e,t,i){t&&!i&&e(n),gk(n,r=>{_H(r,e,!0,i)}),t&&i&&e(n)}function sT(n){return new Ar(null===n.parent?n.name:sT(n.parent)+"/"+n.name)}function t2(n){null!==n.parent&&function $ne(n,e,t){const i=function zne(n){return void 0===My(n)&&!gH(n)}(t),r=(0,ie.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,t2(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,t2(n))}(n.parent,n.name,n)}const qne=/[\[\].#$\/\u0000-\u001F\u007F]/,Gne=/[\[\].#$\u0000-\u001F\u007F]/,n2=10485760,_k=function(n){return"string"==typeof n&&0!==n.length&&!qne.test(n)},vH=function(n){return"string"==typeof n&&0!==n.length&&!Gne.test(n)},aT=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!$A(n)||n&&"object"==typeof n&&(0,ie.r3)(n,".sv")},Kf=function(n,e,t,i){i&&void 0===e||cT((0,ie.gK)(n,"value"),e,t)},cT=function(n,e,t){const i=t instanceof Ar?new lte(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Ey(i));if("function"==typeof e)throw new Error(n+"contains a function "+Ey(i)+" with contents = "+e.toString());if($A(e))throw new Error(n+"contains "+e.toString()+" "+Ey(i));if("string"==typeof e&&e.length>n2/3&&(0,ie.ug)(e)>n2)throw new Error(n+"contains a string greater than "+n2+" utf8 bytes "+Ey(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,o=!1;if(Qa(e,(u,m)=>{if(".value"===u)r=!0;else if(".priority"!==u&&".sv"!==u&&(o=!0,!_k(u)))throw new Error(n+" contains an invalid key ("+u+") "+Ey(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ute(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,ie.ug)(e),D6(n)})(i,u),cT(n,m,i),function dte(n){const e=n.parts_.pop();n.byteLength_-=(0,ie.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Ey(i)+" in addition to actual children.")}},yH=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,ie.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const o=[];Qa(e,(u,m)=>{const v=new Ar(u);if(cT(r,m,Wo(t,v)),".priority"===vL(v)&&!aT(m))throw new Error(r+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(v)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const o=GI(i);for(let u=0;u<o.length;u++)if((".priority"!==o[u]||u!==o.length-1)&&!_k(o[u]))throw new Error(n+"contains an invalid key ("+o[u]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(cte);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&Gd(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},r2=function(n,e,t){if(!t||void 0!==e){if($A(e))throw new Error((0,ie.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!aT(e))throw new Error((0,ie.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},lT=function(n,e,t,i){if(!(i&&void 0===t||_k(t)))throw new Error((0,ie.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},uT=function(n,e,t,i){if(!(i&&void 0===t||vH(t)))throw new Error((0,ie.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Kne=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),uT(n,e,t,i)},Wd=function(n,e){if(".info"===Si(e))throw new Error(n+" failed = Can't modify data under /.info/")},bH=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!_k(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),vH(n)}(t))throw new Error((0,ie.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Yne{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vk(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();null!==t&&!yL(o,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)}function wH(n,e,t){vk(n,t),CH(n,i=>yL(i,e))}function Ku(n,e,t){vk(n,t),CH(n,i=>Gd(i,e)||Gd(e,i))}function CH(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(Qne(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function Qne(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Cy&&Ya("event: "+t.toString()),lw(i)}}}const xH="repo_interrupt",Jne=25;class Xne{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Yne,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tk(),this.transactionQueueTree_=new XL,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function EH(n){const t=n.infoData_.getNode(new Ar(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function dT(n){return Vne({timestamp:EH(n)})}function IH(n,e,t,i,r){n.dataUpdateCount++;const o=new Ar(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let u=[];if(r)if(i){const v=(0,ie.UI)(t,x=>as(x));u=function Pne(n,e,t,i){const r=GL(n,i);if(r){const o=WL(r),u=o.path,m=o.queryId,v=Fl(u,e),x=mo.fromObject(t);return ZL(n,u,new mw(PL(m),v,x))}return[]}(n.serverSyncTree_,o,v,r)}else{const v=as(t);u=uH(n.serverSyncTree_,o,v,r)}else if(i){const v=(0,ie.UI)(t,x=>as(x));u=function Ane(n,e,t){const i=mo.fromObject(t);return _w(n,new mw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,o,v)}else{const v=as(t);u=iT(n.serverSyncTree_,o,v)}let m=o;u.length>0&&(m=yw(n,o)),Ku(n.eventQueue_,m,u)}function TH(n,e){o2(n,"connected",e),!1===e&&function rie(n){vw(n,"onDisconnectEvents");const e=dT(n),t=tk();AL(n.onDisconnect_,lr(),(r,o)=>{const u=mH(r,o,n.serverSyncTree_,e);pw(t,r,u)});let i=[];AL(t,lr(),(r,o)=>{i=i.concat(iT(n.serverSyncTree_,r,o));const u=l2(n,r);yw(n,u)}),n.onDisconnect_=tk(),Ku(n.eventQueue_,lr(),i)}(n)}function o2(n,e,t){const i=new Ar("/.info/"+e),r=as(t);n.infoData_.updateSnapshot(i,r);const o=iT(n.infoSyncTree_,i,r);Ku(n.eventQueue_,i,o)}function yk(n){return n.nextWriteId_++}function s2(n,e,t,i,r){vw(n,"set",{path:e.toString(),value:t,priority:i});const o=dT(n),u=as(t,i),m=fk(n.serverSyncTree_,e),v=QL(u,m,o),x=yk(n),A=$L(n.serverSyncTree_,e,v,x,!0);vk(n.eventQueue_,A),n.server_.put(e.toString(),u.val(!0),(q,ne)=>{const ae="ok"===q;ae||il("set at "+e+" failed: "+q);const ye=t_(n.serverSyncTree_,x,!ae);Ku(n.eventQueue_,e,ye),n_(0,r,q,ne)});const L=l2(n,e);yw(n,L),Ku(n.eventQueue_,L,[])}function oie(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&ML(n.onDisconnect_,e),n_(0,t,i,r)})}function SH(n,e,t,i){const r=as(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(o,u)=>{"ok"===o&&pw(n.onDisconnect_,e,r),n_(0,i,o,u)})}function a2(n,e,t){let i;i=".info"===Si(e._path)?hk(n.infoSyncTree_,e,t):hk(n.serverSyncTree_,e,t),wH(n.eventQueue_,e._path,i)}function DH(n){n.persistentConnection_&&n.persistentConnection_.interrupt(xH)}function vw(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Ya(t,...e)}function n_(n,e,t,i){e&&lw(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let o=r;i&&(o+=": "+i);const u=new Error(o);u.code=r,e(u)}})}function c2(n,e,t){return fk(n.serverSyncTree_,e,t)||hi.EMPTY_NODE}function bk(n,e=n.transactionQueueTree_){if(e||wk(n,e),My(e)){const t=AH(n,e);(0,ie.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function die(n,e,t){const i=t.map(x=>x.currentWriteId),r=c2(n,e,i);let o=r;const u=r.hash();for(let x=0;x<t.length;x++){const A=t[x];(0,ie.hu)(0===A.status,"tryToSendTransactionQueue_: items in queue should all be run."),A.status=1,A.retryCount++;const L=Fl(e,A.path);o=o.updateChild(L,A.currentOutputSnapshotRaw)}const m=o.val(!0),v=e;n.server_.put(v.toString(),m,x=>{vw(n,"transaction put response",{path:v.toString(),status:x});let A=[];if("ok"===x){const L=[];for(let q=0;q<t.length;q++)t[q].status=2,A=A.concat(t_(n.serverSyncTree_,t[q].currentWriteId)),t[q].onComplete&&L.push(()=>t[q].onComplete(null,!0,t[q].currentOutputSnapshotResolved)),t[q].unwatcher();wk(n,mk(n.transactionQueueTree_,e)),bk(n,n.transactionQueueTree_),Ku(n.eventQueue_,e,A);for(let q=0;q<L.length;q++)lw(L[q])}else{if("datastale"===x)for(let L=0;L<t.length;L++)t[L].status=3===t[L].status?4:0;else{il("transaction at "+v.toString()+" failed: "+x);for(let L=0;L<t.length;L++)t[L].status=4,t[L].abortReason=x}yw(n,e)}},u)}(n,sT(e),t)}else gH(e)&&gk(e,t=>{bk(n,t)})}function yw(n,e){const t=MH(n,e),i=sT(t);return function hie(n,e,t){if(0===e.length)return;const i=[];let r=[];const u=e.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<e.length;m++){const v=e[m],x=Fl(t,v.path);let L,A=!1;if((0,ie.hu)(null!==x,"rerunTransactionsUnderNode_: relativePath should not be null."),4===v.status)A=!0,L=v.abortReason,r=r.concat(t_(n.serverSyncTree_,v.currentWriteId,!0));else if(0===v.status)if(v.retryCount>=Jne)A=!0,L="maxretry",r=r.concat(t_(n.serverSyncTree_,v.currentWriteId,!0));else{const q=c2(n,v.path,u);v.currentInputSnapshot=q;const ne=e[m].update(q.val());if(void 0!==ne){cT("transaction failed: Data returned ",ne,v.path);let ae=as(ne);"object"==typeof ne&&null!=ne&&(0,ie.r3)(ne,".priority")||(ae=ae.updatePriority(q.getPriority()));const We=v.currentWriteId,wt=dT(n),kt=QL(ae,q,wt);v.currentOutputSnapshotRaw=ae,v.currentOutputSnapshotResolved=kt,v.currentWriteId=yk(n),u.splice(u.indexOf(We),1),r=r.concat($L(n.serverSyncTree_,v.path,kt,v.currentWriteId,v.applyLocally)),r=r.concat(t_(n.serverSyncTree_,We,!0))}else A=!0,L="nodata",r=r.concat(t_(n.serverSyncTree_,v.currentWriteId,!0))}Ku(n.eventQueue_,t,r),r=[],A&&(e[m].status=2,setTimeout(e[m].unwatcher,Math.floor(0)),e[m].onComplete&&i.push("nodata"===L?()=>e[m].onComplete(null,!1,e[m].currentInputSnapshot):()=>e[m].onComplete(new Error(L),!1,null)))}wk(n,n.transactionQueueTree_);for(let m=0;m<i.length;m++)lw(i[m]);bk(n,n.transactionQueueTree_)}(n,AH(n,t),i),i}function MH(n,e){let t,i=n.transactionQueueTree_;for(t=Si(e);null!==t&&void 0===My(i);)i=mk(i,t),t=Si(e=oo(e));return i}function AH(n,e){const t=[];return kH(n,e,t),t.sort((i,r)=>i.order-r.order),t}function kH(n,e,t){const i=My(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);gk(e,r=>{kH(n,r,t)})}function wk(n,e){const t=My(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,e2(e,t.length>0?t:void 0)}gk(e,i=>{wk(n,i)})}function l2(n,e){const t=sT(MH(n,e)),i=mk(n.transactionQueueTree_,e);return function Hne(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{u2(n,r)}),u2(n,i),_H(i,r=>{u2(n,r)}),t}function u2(n,e){const t=My(e);if(t){const i=[];let r=[],o=-1;for(let u=0;u<t.length;u++)3===t[u].status||(1===t[u].status?((0,ie.hu)(o===u-1,"All SENT items should be at beginning of queue."),o=u,t[u].status=3,t[u].abortReason="set"):((0,ie.hu)(0===t[u].status,"Unexpected transaction status in abort"),t[u].unwatcher(),r=r.concat(t_(n.serverSyncTree_,t[u].currentWriteId,!0)),t[u].onComplete&&i.push(t[u].onComplete.bind(null,new Error("set"),!1,null))));-1===o?e2(e,void 0):t.length=o+1,Ku(n.eventQueue_,sT(e),r);for(let u=0;u<i.length;u++)lw(i[u])}}const d2=function(n,e){const t=mie(n),i=t.namespace;return"firebase.com"===t.domain&&Gf(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Gf("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&il("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new hL(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Ar(t.pathString)}},mie=function(n){let e="",t="",i="",r="",o="",u=!0,m="https",v=443;if("string"==typeof n){let x=n.indexOf("//");x>=0&&(m=n.substring(0,x-1),n=n.substring(x+2));let A=n.indexOf("/");-1===A&&(A=n.length);let L=n.indexOf("?");-1===L&&(L=n.length),e=n.substring(0,Math.min(A,L)),A<L&&(r=function fie(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(A,L)));const q=function pie(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):il(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,L)));x=e.indexOf(":"),x>=0?(u="https"===m||"wss"===m,v=parseInt(e.substring(x+1),10)):x=e.length;const ne=e.slice(0,x);if("localhost"===ne.toLowerCase())t="localhost";else if(ne.split(".").length<=2)t=ne;else{const ae=e.indexOf(".");i=e.substring(0,ae).toLowerCase(),t=e.substring(ae+1),o=i}"ns"in q&&(o=q.ns)}return{host:e,port:v,domain:t,subdomain:i,secure:u,scheme:m,pathString:r,namespace:o}},OH="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",gie=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const o=new Array(8);for(r=7;r>=0;r--)o[r]=OH.charAt(t%64),t=Math.floor(t/64);(0,ie.hu)(0===t,"Cannot push at time == 0");let u=o.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)u+=OH.charAt(e[r]);return(0,ie.hu)(20===u.length,"nextPushId: Length should be 20."),u}}();class PH{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ie.Wl)(this.snapshot.exportVal())}}class RH{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class h2{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,ie.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class NH{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new ie.BH;return oie(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Wd("OnDisconnect.remove",this._path);const e=new ie.BH;return SH(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Wd("OnDisconnect.set",this._path),Kf("OnDisconnect.set",e,this._path,!1);const t=new ie.BH;return SH(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Wd("OnDisconnect.setWithPriority",this._path),Kf("OnDisconnect.setWithPriority",e,this._path,!1),r2("OnDisconnect.setWithPriority",t,!1);const i=new ie.BH;return function sie(n,e,t,i,r){const o=as(t,i);n.server_.onDisconnectPut(e.toString(),o.val(!0),(u,m)=>{"ok"===u&&pw(n.onDisconnect_,e,o),n_(0,r,u,m)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){Wd("OnDisconnect.update",this._path),yH("OnDisconnect.update",e,this._path,!1);const t=new ie.BH;return function aie(n,e,t,i){if((0,ie.xb)(t))return Ya("onDisconnect().update() called with empty data.  Don't do anything."),void n_(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,o)=>{"ok"===r&&Qa(t,(u,m)=>{const v=as(m);pw(n.onDisconnect_,Wo(e,u),v)}),n_(0,i,r,o)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class mu{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Di(this._path)?null:vL(this._path)}get ref(){return new Zd(this._repo,this._path)}get _queryIdentifier(){const e=V6(this._queryParams),t=uL(e);return"{}"===t?"default":t}get _queryObject(){return V6(this._queryParams)}isEqual(e){if(!((e=(0,ie.m9)(e))instanceof mu))return!1;const t=this._repo===e._repo,i=yL(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function ate(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function Ck(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function i_(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Wf){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Zg)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==mm)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===po){if(null!=e&&!aT(e)||null!=t&&!aT(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ie.hu)(n.getIndex()instanceof EL||n.getIndex()===IL,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function xk(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Zd extends mu{constructor(e,t){super(e,t,new JA,!1)}get parent(){const e=S6(this._path);return null===e?null:new Zd(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Ay{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ar(e),i=ky(this.ref,e);return new Ay(this._node.getChild(t),i,po)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new Ay(r,ky(this.ref,i),po)))}hasChild(e){const t=new Ar(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function FH(n,e){return(n=(0,ie.m9)(n))._checkNotDeleted("ref"),void 0!==e?ky(n._root,e):n._root}function LH(n,e){(n=(0,ie.m9)(n))._checkNotDeleted("refFromURL");const t=d2(e,n._repo.repoInfo_.nodeAdmin);bH("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Gf("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),FH(n,t.path.toString())}function ky(n,e){return null===Si((n=(0,ie.m9)(n))._path)?Kne("child","path",e,!1):uT("child","path",e,!1),new Zd(n._repo,Wo(n._path,e))}function f2(n,e){n=(0,ie.m9)(n),Wd("set",n._path),Kf("set",e,n._path,!1);const t=new ie.BH;return s2(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function wie(n,e){yH("update",e,n._path,!1);const t=new ie.BH;return function iie(n,e,t,i){vw(n,"update",{path:e.toString(),value:t});let r=!0;const o=dT(n),u={};if(Qa(t,(m,v)=>{r=!1,u[m]=mH(Wo(e,m),as(v),n.serverSyncTree_,o)}),r)Ya("update() called with empty data.  Don't do anything."),n_(0,i,"ok",void 0);else{const m=yk(n),v=function Mne(n,e,t,i){!function Gte(n,e,t,i){(0,ie.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=NL(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=mo.fromObject(t);return _w(n,new mw({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,u,m);vk(n.eventQueue_,v),n.server_.merge(e.toString(),t,(x,A)=>{const L="ok"===x;L||il("update at "+e+" failed: "+x);const q=t_(n.serverSyncTree_,m,!L),ne=q.length>0?yw(n,e):e;Ku(n.eventQueue_,ne,q),n_(0,i,x,A)}),Qa(t,x=>{const A=l2(n,Wo(e,x));yw(n,A)}),Ku(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function Cie(n){n=(0,ie.m9)(n);const e=new h2(()=>{}),t=new hT(e);return function nie(n,e,t){const i=function Rne(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(x,A)=>{const L=Fl(x,t);i=i||Xg(A,L)});let r=n.syncPointTree_.get(t);r?i=i||Xg(r,lr()):(r=new rH,n.syncPointTree_=n.syncPointTree_.set(t,r));const o=null!=i,u=o?new Qg(i,!0,!1):null;return function _ne(n){return rk(n.viewCache_)}(oH(r,e,ok(n.pendingWriteTree_,e._path),o?u.getNode():hi.EMPTY_NODE,o))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const o=as(r).withIndex(e._queryParams.getIndex());let u;if(qL(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())u=iT(n.serverSyncTree_,e._path,o);else{const m=rT(n.serverSyncTree_,e);u=uH(n.serverSyncTree_,e._path,o,m)}return Ku(n.eventQueue_,e._path,u),hk(n.serverSyncTree_,e,t,null,!0),o},r=>(vw(n,"get for query "+(0,ie.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new Ay(i,new Zd(n._repo,n._path),n._queryParams.getIndex()))}class hT{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new PH("value",this,new Ay(e.snapshotNode,new Zd(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new RH(this,e,t):null}matches(e){return e instanceof hT&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Ek{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new RH(this,e,t):null}createEvent(e,t){(0,ie.hu)(null!=e.childName,"Child events should have a childName.");const i=ky(new Zd(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new PH(e.type,this,new Ay(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Ek&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function fT(n,e,t,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const v=t,x=(A,L)=>{a2(n._repo,n,m),v(A,L)};x.userCallback=t.userCallback,x.context=t.context,t=x}const u=new h2(t,o||void 0),m="value"===e?new hT(u):new Ek(e,u);return function cie(n,e,t){let i;i=".info"===Si(e._path)?qL(n.infoSyncTree_,e,t):qL(n.serverSyncTree_,e,t),wH(n.eventQueue_,e._path,i)}(n._repo,n,m),()=>a2(n._repo,n,m)}function p2(n,e,t,i){return fT(n,"value",e,t,i)}function UH(n,e,t,i){return fT(n,"child_added",e,t,i)}function VH(n,e,t,i){return fT(n,"child_changed",e,t,i)}function BH(n,e,t,i){return fT(n,"child_moved",e,t,i)}function jH(n,e,t,i){return fT(n,"child_removed",e,t,i)}function zH(n,e,t){let i=null;const r=t?new h2(t):null;"value"===e?i=new hT(r):e&&(i=new Ek(e,r)),a2(n._repo,n,i)}class Bh{}class HH extends Bh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Kf("endAt",this._value,e._path,!0);const t=DL(e._queryParams,this._value,this._key);if(xk(t),i_(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mu(e._repo,e._path,t,e._orderByCalled)}}class Eie extends Bh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Kf("endBefore",this._value,e._path,!1);const t=function Pte(n,e,t){let i;return i=DL(n,e,n.index_===Wf||t?t:Zg),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(xk(t),i_(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mu(e._repo,e._path,t,e._orderByCalled)}}class $H extends Bh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Kf("startAt",this._value,e._path,!0);const t=SL(e._queryParams,this._value,this._key);if(xk(t),i_(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new mu(e._repo,e._path,t,e._orderByCalled)}}class Sie extends Bh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Kf("startAfter",this._value,e._path,!1);const t=function Ote(n,e,t){let i;return i=SL(n,e,n.index_===Wf||t?t:mm),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(xk(t),i_(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new mu(e._repo,e._path,t,e._orderByCalled)}}class Mie extends Bh{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new mu(e._repo,e._path,function Ate(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class kie extends Bh{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new mu(e._repo,e._path,function kte(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class Pie extends Bh{constructor(e){super(),this._path=e}_apply(e){Ck(e,"orderByChild");const t=new Ar(this._path);if(Di(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new EL(t),r=XA(e._queryParams,i);return i_(r),new mu(e._repo,e._path,r,!0)}}class Nie extends Bh{_apply(e){Ck(e,"orderByKey");const t=XA(e._queryParams,Wf);return i_(t),new mu(e._repo,e._path,t,!0)}}class Lie extends Bh{_apply(e){Ck(e,"orderByPriority");const t=XA(e._queryParams,po);return i_(t),new mu(e._repo,e._path,t,!0)}}class Vie extends Bh{_apply(e){Ck(e,"orderByValue");const t=XA(e._queryParams,IL);return i_(t),new mu(e._repo,e._path,t,!0)}}class jie extends Bh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Kf("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new HH(this._value,this._key)._apply(new $H(this._value,this._key)._apply(e))}}function jh(n,...e){let t=(0,ie.m9)(n);for(const i of e)t=i._apply(t);return t}(function wne(n){(0,ie.hu)(!lk,"__referenceConstructor has already been defined"),lk=n})(Zd),function Tne(n){(0,ie.hu)(!dk,"__referenceConstructor has already been defined"),dk=n}(Zd);const m2={};function GH(n,e,t,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Gf("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ya("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let v,x,u=d2(o,r),m=u.repoInfo;typeof process<"u"&&process.env&&(x=process.env.FIREBASE_DATABASE_EMULATOR_HOST),x?(v=!0,o=`http://${x}?ns=${m.namespace}`,u=d2(o,r),m=u.repoInfo):v=!u.repoInfo.secure;const A=r&&v?new qI(qI.OWNER):new Fee(n.name,n.options,e);bH("Invalid Firebase Database URL",u),Di(u.path)||Gf("Database URL must point to the root of a Firebase Database (not including a child path).");const L=function Gie(n,e,t,i){let r=m2[e.name];r||(r={},m2[e.name]=r);let o=r[n.toURLString()];return o&&Gf("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Xne(n,false,t,i),r[n.toURLString()]=o,o}(m,n,A,new Nee(n.name,t));return new Zie(L,n)}class Zie{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function eie(n,e,t){if(n.stats_=mL(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new ek(n.repoInfo_,(i,r,o,u)=>{IH(n,i,r,o,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>TH(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ie.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Iy(n.repoInfo_,e,(i,r,o,u)=>{IH(n,i,r,o,u)},i=>{TH(n,i)},i=>{!function tie(n,e){Qa(e,(t,i)=>{o2(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Vee(n,e){const t=n.toString();return pL[t]||(pL[t]=e()),pL[t]}(n.repoInfo_,()=>new Vte(n.stats_,n.server_)),n.infoData_=new Rte,n.infoSyncTree_=new lH({startListening:(i,r,o,u)=>{let m=[];const v=n.infoData_.getNode(i._path);return v.isEmpty()||(m=iT(n.infoSyncTree_,i._path,v),setTimeout(()=>{u("ok")},0)),m},stopListening:()=>{}}),o2(n,"connected",!1),n.serverSyncTree_=new lH({startListening:(i,r,o,u)=>(n.server_.listen(i,o,r,(m,v)=>{const x=u(m,v);Ku(n.eventQueue_,i._path,x)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zd(this._repo,lr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function qie(n,e){const t=m2[e];(!t||t[n.key]!==n)&&Gf(`Database ${e}(${n.repoInfo_}) has already been deleted.`),DH(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Gf("Cannot call "+e+" on a deleted database.")}}function WH(){m6.IS_TRANSPORT_INITIALIZED&&il("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Kie(){WH(),Kg.forceDisallow()}function Yie(){WH(),uw.forceDisallow(),Kg.forceAllow()}function Xie(n,e){K4(n,e)}const tre={".sv":"timestamp"};class rre{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Iy.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Iy.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function ere(n){$4(Ms.SDK_VERSION),(0,Ms._registerComponent)(new ou.wA("database",(e,{instanceIdentifier:t})=>GH(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Ms.registerVersion)(z4,"0.14.4",n),(0,Ms.registerVersion)(z4,"0.14.4","esm2017")}();const cre=new Ru.Yd("@firebase/database-compat"),KH=function(n){cre.warn("FIREBASE WARNING: "+n)};class dre{constructor(e){this._delegate=e}cancel(e){(0,ie.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ie.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,ie.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ie.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,ie.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ie.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,ie.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ie.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),o=>i(o)),r}update(e,t){if((0,ie.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let o=0;o<e.length;++o)r[""+o]=e[o];e=r,KH("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ie.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class hre{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,ie.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class r_{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,ie.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ie.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ie.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ie.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,ie.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),uT("DataSnapshot.child","path",e,!1),new r_(this._database,this._delegate.child(e))}hasChild(e){return(0,ie.Dv)("DataSnapshot.hasChild",1,1,arguments.length),uT("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,ie.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,ie.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ie.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new r_(this._database,t)))}hasChildren(){return(0,ie.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ie.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ie.Dv)("DataSnapshot.ref",0,0,arguments.length),new Yu(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class wc{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var o;(0,ie.Dv)("Query.on",2,4,arguments.length),(0,ie.Wj)("Query.on","callback",t,!1);const u=wc.getCancelAndContextArgs_("Query.on",i,r),m=(x,A)=>{t.call(u.context,new r_(this.database,x),A)};m.userCallback=t,m.context=u.context;const v=null===(o=u.cancel)||void 0===o?void 0:o.bind(u.context);switch(e){case"value":return p2(this._delegate,m,v),t;case"child_added":return UH(this._delegate,m,v),t;case"child_removed":return jH(this._delegate,m,v),t;case"child_changed":return VH(this._delegate,m,v),t;case"child_moved":return BH(this._delegate,m,v),t;default:throw new Error((0,ie.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,ie.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ie.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,ie.Wj)("Query.off","callback",t,!0),(0,ie.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,zH(this._delegate,e,r)}else zH(this._delegate,e)}get(){return Cie(this._delegate).then(e=>new r_(this.database,e))}once(e,t,i,r){(0,ie.Dv)("Query.once",1,4,arguments.length),(0,ie.Wj)("Query.once","callback",t,!0);const o=wc.getCancelAndContextArgs_("Query.once",i,r),u=new ie.BH,m=(x,A)=>{const L=new r_(this.database,x);t&&t.call(o.context,L,A),u.resolve(L)};m.userCallback=t,m.context=o.context;const v=x=>{o.cancel&&o.cancel.call(o.context,x),u.reject(x)};switch(e){case"value":p2(this._delegate,m,v,{onlyOnce:!0});break;case"child_added":UH(this._delegate,m,v,{onlyOnce:!0});break;case"child_removed":jH(this._delegate,m,v,{onlyOnce:!0});break;case"child_changed":VH(this._delegate,m,v,{onlyOnce:!0});break;case"child_moved":BH(this._delegate,m,v,{onlyOnce:!0});break;default:throw new Error((0,ie.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}limitToFirst(e){return(0,ie.Dv)("Query.limitToFirst",1,1,arguments.length),new wc(this.database,jh(this._delegate,function Aie(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Mie(n)}(e)))}limitToLast(e){return(0,ie.Dv)("Query.limitToLast",1,1,arguments.length),new wc(this.database,jh(this._delegate,function Oie(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new kie(n)}(e)))}orderByChild(e){return(0,ie.Dv)("Query.orderByChild",1,1,arguments.length),new wc(this.database,jh(this._delegate,function Rie(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return uT("orderByChild","path",n,!1),new Pie(n)}(e)))}orderByKey(){return(0,ie.Dv)("Query.orderByKey",0,0,arguments.length),new wc(this.database,jh(this._delegate,function Fie(){return new Nie}()))}orderByPriority(){return(0,ie.Dv)("Query.orderByPriority",0,0,arguments.length),new wc(this.database,jh(this._delegate,function Uie(){return new Lie}()))}orderByValue(){return(0,ie.Dv)("Query.orderByValue",0,0,arguments.length),new wc(this.database,jh(this._delegate,function Bie(){return new Vie}()))}startAt(e=null,t){return(0,ie.Dv)("Query.startAt",0,2,arguments.length),new wc(this.database,jh(this._delegate,function Tie(n=null,e){return lT("startAt","key",e,!0),new $H(n,e)}(e,t)))}startAfter(e=null,t){return(0,ie.Dv)("Query.startAfter",0,2,arguments.length),new wc(this.database,jh(this._delegate,function Die(n,e){return lT("startAfter","key",e,!0),new Sie(n,e)}(e,t)))}endAt(e=null,t){return(0,ie.Dv)("Query.endAt",0,2,arguments.length),new wc(this.database,jh(this._delegate,function xie(n,e){return lT("endAt","key",e,!0),new HH(n,e)}(e,t)))}endBefore(e=null,t){return(0,ie.Dv)("Query.endBefore",0,2,arguments.length),new wc(this.database,jh(this._delegate,function Iie(n,e){return lT("endBefore","key",e,!0),new Eie(n,e)}(e,t)))}equalTo(e,t){return(0,ie.Dv)("Query.equalTo",1,2,arguments.length),new wc(this.database,jh(this._delegate,function zie(n,e){return lT("equalTo","key",e,!0),new jie(n,e)}(e,t)))}toString(){return(0,ie.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ie.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,ie.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof wc))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,ie.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,ie.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,ie.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Yu(this.database,new Zd(this._delegate._repo,this._delegate._path))}}class Yu extends wc{constructor(e,t){super(e,new mu(t._repo,t._path,new JA,!1)),this.database=e,this._delegate=t}getKey(){return(0,ie.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,ie.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Yu(this.database,ky(this._delegate,e))}getParent(){(0,ie.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Yu(this.database,e):null}getRoot(){return(0,ie.Dv)("Reference.root",0,0,arguments.length),new Yu(this.database,this._delegate.root)}set(e,t){(0,ie.Dv)("Reference.set",1,2,arguments.length),(0,ie.Wj)("Reference.set","onComplete",t,!0);const i=f2(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,ie.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let o=0;o<e.length;++o)r[""+o]=e[o];e=r,KH("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Wd("Reference.update",this._delegate._path),(0,ie.Wj)("Reference.update","onComplete",t,!0);const i=wie(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,ie.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ie.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function bie(n,e,t){if(Wd("setWithPriority",n._path),Kf("setWithPriority",e,n._path,!1),r2("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new ie.BH;return s2(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),o=>i(o)),r}remove(e){(0,ie.Dv)("Reference.remove",0,1,arguments.length),(0,ie.Wj)("Reference.remove","onComplete",e,!0);const t=function vie(n){return Wd("remove",n._path),f2(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,ie.Dv)("Reference.transaction",1,3,arguments.length),(0,ie.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,ie.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,ie.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function ore(n,e,t){var i;if(n=(0,ie.m9)(n),Wd("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,o=new ie.BH,m=p2(n,()=>{});return function uie(n,e,t,i,r,o){vw(n,"transaction on "+e);const u={path:e,update:t,onComplete:i,status:null,order:G4(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=c2(n,e,void 0);u.currentInputSnapshot=m;const v=u.update(m.val());if(void 0===v)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{cT("transaction failed: Data returned ",v,u.path),u.status=0;const x=mk(n.transactionQueueTree_,e),A=My(x)||[];let L;A.push(u),e2(x,A),"object"==typeof v&&null!==v&&(0,ie.r3)(v,".priority")?(L=(0,ie.DV)(v,".priority"),(0,ie.hu)(aT(L),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):L=(fk(n.serverSyncTree_,e)||hi.EMPTY_NODE).getPriority().val();const q=dT(n),ne=as(v,L),ae=QL(ne,m,q);u.currentOutputSnapshotRaw=ne,u.currentOutputSnapshotResolved=ae,u.currentWriteId=yk(n);const ye=$L(n.serverSyncTree_,e,ae,u.currentWriteId,u.applyLocally);Ku(n.eventQueue_,e,ye),bk(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(v,x,A)=>{let L=null;v?o.reject(v):(L=new Ay(A,new Zd(n._repo,n._path),po),o.resolve(new rre(x,L)))},m,r),o.promise}(this._delegate,e,{applyLocally:i}).then(o=>new hre(o.committed,new r_(this.database,o.snapshot)));return t&&r.then(o=>t(null,o.committed,o.snapshot),o=>t(o,!1,null)),r}setPriority(e,t){(0,ie.Dv)("Reference.setPriority",1,2,arguments.length),(0,ie.Wj)("Reference.setPriority","onComplete",t,!0);const i=function yie(n,e){n=(0,ie.m9)(n),Wd("setPriority",n._path),r2("setPriority",e,!1);const t=new ie.BH;return s2(n._repo,Wo(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,ie.Dv)("Reference.push",0,2,arguments.length),(0,ie.Wj)("Reference.push","onComplete",t,!0);const i=function _ie(n,e){n=(0,ie.m9)(n),Wd("push",n._path),Kf("push",e,n._path,!0);const t=EH(n._repo),i=gie(t),r=ky(n,i),o=ky(n,i);let u;return u=null!=e?f2(o,e).then(()=>o):Promise.resolve(o),r.then=u.then.bind(u),r.catch=u.then.bind(u,void 0),r}(this._delegate,e),r=i.then(u=>new Yu(this.database,u));t&&r.then(()=>t(null),u=>t(u));const o=new Yu(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Wd("Reference.onDisconnect",this._delegate._path),new dre(new NH(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class pT{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Kie,forceLongPolling:Yie}}useEmulator(e,t,i={}){!function ZH(n,e,t,i={}){(n=(0,ie.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Gf("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Gf('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new qI(qI.OWNER);else if(i.mockUserToken){const u="string"==typeof i.mockUserToken?i.mockUserToken:(0,ie.Sg)(i.mockUserToken,n.app.options.projectId);o=new qI(u)}!function $ie(n,e,t,i){n.repoInfo_=new hL(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,o)}(this._delegate,e,t,i)}ref(e){if((0,ie.Dv)("database.ref",0,1,arguments.length),e instanceof Yu){const t=LH(this._delegate,e.toString());return new Yu(this,t)}{const t=FH(this._delegate,e);return new Yu(this,t)}}refFromURL(e){(0,ie.Dv)("database.refFromURL",1,1,arguments.length);const i=LH(this._delegate,e);return new Yu(this,i)}goOffline(){return(0,ie.Dv)("database.goOffline",0,0,arguments.length),function Qie(n){(n=(0,ie.m9)(n))._checkNotDeleted("goOffline"),DH(n._repo)}(this._delegate)}goOnline(){return(0,ie.Dv)("database.goOnline",0,0,arguments.length),function Jie(n){(n=(0,ie.m9)(n))._checkNotDeleted("goOnline"),function lie(n){n.persistentConnection_&&n.persistentConnection_.resume(xH)}(n._repo)}(this._delegate)}}pT.ServerValue={TIMESTAMP:function nre(){return tre}(),increment:n=>function ire(n){return{".sv":{increment:n}}}(n)};var pre=Object.freeze({__proto__:null,initStandalone:function fre({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){$4(t);const u=new ou.zt("auth-internal",new ou.H0("database-standalone"));return u.setComponent(new ou.wA("auth-internal",()=>i,"PRIVATE")),{instance:new pT(GH(n,u,void 0,e,o),n),namespace:r}}});const mre=pT.ServerValue;function YH(n){return null==n}function QH(n){return"function"==typeof n.set}function JH(n,e){return QH(e)?e:n.ref(e)}function XH(n,e){if(function _re(n){return"string"==typeof n}(n))return e.stringCase();if(QH(n))return e.firebaseCase();if(function vre(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function mT(n,e,t="on",i=ow.z){return new ar.y(r=>{let o=null;return o=n[t](e,(u,m)=>{i.schedule(()=>{r.next({snapshot:u,prevKey:m})}),"once"===t&&i.schedule(()=>r.complete())},u=>{i.schedule(()=>r.error(u))}),"on"===t?{unsubscribe(){null!=o&&n.off(e,o)}}:{unsubscribe(){}}}).pipe((0,gn.U)(r=>{const{snapshot:o,prevKey:u}=r;let m=null;return o.exists()&&(m=o.key),{type:e,payload:o,prevKey:u,key:m}}),(0,EF.B)())}function e5(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function wre(n,e){const{payload:t,prevKey:i,key:r}=e,o=e5(n,r),u=function bre(n,e){if(YH(e))return 0;{const t=e5(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let m=null;e.payload.forEach(v=>{const x={payload:v,type:"value",prevKey:m,key:v.key};return m=v.key,n=[...n,x],!1})}return n;case"child_added":if(o>-1){const m=n[o-1];(m&&m.key||null)!==i&&(n=n.filter(v=>v.payload.key!==t.key)).splice(u,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(u,0,e)}return n;case"child_removed":return n.filter(m=>m.payload.key!==t.key);case"child_changed":return n.map(m=>m.payload.key===r?e:m);case"child_moved":if(o>-1){const m=n.splice(o,1)[0];return(n=n.slice()).splice(u,0,m),n}return n;default:return n}}function t5(n){return(YH(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function n5(n,e,t){return function yre(n,e,t){return mT(n,"value","once",t).pipe((0,Go.w)(i=>{const r=[(0,_n.of)(i)];return e.forEach(o=>r.push(mT(n,o,"on",t))),(0,Wg.T)(...r).pipe(q0(wre,[]))}),(0,mF.x)())}(n,e=t5(e),t)}function r5(n,e,t){const i=(e=t5(e)).map(r=>mT(n,r,"on",t));return(0,Wg.T)(...i)}function o5(n,e){return function(i,r){return XH(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function Ire(n){return function(t){return t?XH(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function s5(n,e){return function(){return mT(n,"value","on",e)}}!function gre(n){n.INTERNAL.registerComponent(new ou.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new pT(r,i)},"PUBLIC").setServiceProps({Reference:Yu,Query:wc,Database:pT,DataSnapshot:r_,enableLogging:Xie,INTERNAL:pre,ServerValue:mre}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(x4.Z);const Dre=new a.OlP("angularfire2.realtimeDatabaseURL"),Mre=new a.OlP("angularfire2.database.use-emulator");let Are=(()=>{class n{constructor(t,i,r,o,u,m,v,x,A,L,q,ne,ae,ye,We){this.schedulers=m;const wt=v,kt=(0,Pl.on)(t,u,i);x&&iL(kt,u,A,q,ne,ae,L,ye),this.database=(0,Pl.cc)(`${kt.name}.database.${r}`,"AngularFireDatabase",kt.name,()=>{const At=u.runOutsideAngular(()=>kt.database(r||void 0));return wt&&At.useEmulator(...wt),At},[wt])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>JH(this.database,t));let o=r;return i&&(o=i(r)),function Tre(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:o5(i,"update"),set:o5(i,"set"),push:r=>i.push(r),remove:Ire(i),snapshotChanges:r=>n5(n,r,t).pipe(bn.iC),stateChanges:r=>r5(n,r,t).pipe(bn.iC),auditTrail:r=>function Cre(n,e,t){return function Ere(n,e,t){return function xre(n,e){return mT(n,"value","on",e).pipe((0,gn.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function wee(...n){const e=(0,H0.jO)(n);return(0,Nr.e)((t,i)=>{const r=n.length,o=new Array(r);let u=n.map(()=>!1),m=!1;for(let v=0;v<r;v++)(0,Mo.Xf)(n[v]).subscribe((0,ci.x)(i,x=>{o[v]=x,!m&&!u[v]&&(u[v]=!0,(m=u.every(YE.y))&&(u=null))},SN.Z));t.subscribe((0,ci.x)(i,v=>{if(m){const x=[v,...o];i.next(e?e(...x):x)}}))})}(e),(0,gn.U)(([r,o])=>{const u=r.lastKeyToLoad,m=o.map(v=>v.key);return{actions:o,lastKeyToLoad:u,loadedKeys:m}}),function Cee(n){return(0,Nr.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,ci.x)(t,o=>(i||(i=!n(o,r++)))&&t.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,gn.U)(r=>r.actions))}(n,r5(n,e).pipe(q0((r,o)=>[...r,o],[])),t)}(n,r,t).pipe(bn.iC),valueChanges:(r,o)=>n5(n,r,t).pipe((0,gn.U)(m=>m.map(v=>o&&o.idField?Object.assign(Object.assign({},v.payload.val()),{[o.idField]:v.key}):v.payload.val())),bn.iC)}}(o,this)}object(t){return function Sre(n,e){return{query:n,snapshotChanges:()=>s5(n,e.schedulers.outsideAngular)().pipe(bn.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>s5(n,e.schedulers.outsideAngular)().pipe(bn.iC,(0,gn.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>JH(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Pl.Dh),a.LFG(Pl.xv,8),a.LFG(Dre,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(bn.HU),a.LFG(Mre,8),a.LFG(rL,8),a.LFG(QF,8),a.LFG(JF,8),a.LFG(XF,8),a.LFG(eL,8),a.LFG(tL,8),a.LFG(nL,8),a.LFG(yp,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),a5=(()=>{class n{constructor(){O4.Z.registerVersion("angularfire",bn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Are]}),n})();const c5={apiKey:"AIzaSyBUhtsLE6mKhnLFA4hrTdgtPRvT9DFPews",authDomain:"pelda-4422f.firebaseapp.com",projectId:"pelda-4422f",storageBucket:"pelda-4422f.appspot.com",messagingSenderId:"999999888137",appId:"1:999999888137:web:c55fe757b0ce70c8fcd1d8",useEmulator:!0,experimentalForceLongPolling:!0};let kre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.oAB({type:n,bootstrap:[eee]});static#n=this.\u0275inj=a.cJS({providers:[nl,j4],imports:[Zk(()=>zT(c5)),aq(()=>uq()),GG(()=>ZG()),lh.forRoot(),jc,bh,LX,tee,UZ,LI,dV,Pi,bee,a5,yee,Pl.hO.initializeApp(c5),a5,fO(()=>_O())]})}return n})();Br().bootstrapModule(kre).catch(n=>console.error(n))},3219:(en,Me,Q)=>{Object.defineProperty(Me,"__esModule",{value:!0});var ce,xe,a=Q(8005),U=Q(3661),K=Q(6553),pe=Q(8836),Pe=((ce={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ce["bad-app-name"]="Illegal App name: '{$appName}",ce["duplicate-app"]="Firebase App named '{$appName}' already exists",ce["app-deleted"]="Firebase App named '{$appName}' already deleted",ce["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ce["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ce),ke=new U.ErrorFactory("app","Firebase",Pe),ut="@firebase/app",nt="[DEFAULT]",$e=((xe={})[ut]="fire-core",xe["@firebase/analytics"]="fire-analytics",xe["@firebase/auth"]="fire-auth",xe["@firebase/database"]="fire-rtdb",xe["@firebase/functions"]="fire-fn",xe["@firebase/installations"]="fire-iid",xe["@firebase/messaging"]="fire-fcm",xe["@firebase/performance"]="fire-perf",xe["@firebase/remote-config"]="fire-rc",xe["@firebase/storage"]="fire-gcs",xe["@firebase/firestore"]="fire-fst",xe["fire-js"]="fire-js",xe["firebase-wrapper"]="fire-js-all",xe),it=new pe.Logger("@firebase/app"),he=function(){function Se(Ce,He,je){var ct,gt,Mt=this;this.firebase_=je,this.isDeleted_=!1,this.name_=He.name,this.automaticDataCollectionEnabled_=He.automaticDataCollectionEnabled||!1,this.options_=U.deepCopy(Ce),this.container=new K.ComponentContainer(He.name),this._addComponent(new K.Component("app",function(){return Mt},"PUBLIC"));try{for(var bt=a.__values(this.firebase_.INTERNAL.components.values()),Sn=bt.next();!Sn.done;Sn=bt.next())this._addComponent(Sn.value)}catch(Fn){ct={error:Fn}}finally{try{Sn&&!Sn.done&&(gt=bt.return)&&gt.call(bt)}finally{if(ct)throw ct.error}}}return Object.defineProperty(Se.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Ce){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Ce},enumerable:!1,configurable:!0}),Object.defineProperty(Se.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Se.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Se.prototype.delete=function(){var Ce=this;return new Promise(function(He){Ce.checkDestroyed_(),He()}).then(function(){return Ce.firebase_.INTERNAL.removeApp(Ce.name_),Promise.all(Ce.container.getProviders().map(function(He){return He.delete()}))}).then(function(){Ce.isDeleted_=!0})},Se.prototype._getService=function(Ce,He){return void 0===He&&(He=nt),this.checkDestroyed_(),this.container.getProvider(Ce).getImmediate({identifier:He})},Se.prototype._removeServiceInstance=function(Ce,He){void 0===He&&(He=nt),this.container.getProvider(Ce).clearInstance(He)},Se.prototype._addComponent=function(Ce){try{this.container.addComponent(Ce)}catch(He){it.debug("Component "+Ce.name+" failed to register with FirebaseApp "+this.name,He)}},Se.prototype._addOrOverwriteComponent=function(Ce){this.container.addOrOverwriteComponent(Ce)},Se.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ke.create("app-deleted",{appName:this.name_})},Se}();he.prototype.name&&he.prototype.options||he.prototype.delete||console.log("dc");var Ct=function Le(){var Se=function Ge(Se){var Ce={},He=new Map,je={__esModule:!0,initializeApp:function Mt(tn,Dn){void 0===Dn&&(Dn={}),("object"!=typeof Dn||null===Dn)&&(Dn={name:Dn});var cn=Dn;void 0===cn.name&&(cn.name=nt);var Ln=cn.name;if("string"!=typeof Ln||!Ln)throw ke.create("bad-app-name",{appName:String(Ln)});if(U.contains(Ce,Ln))throw ke.create("duplicate-app",{appName:Ln});var Vn=new Se(tn,cn,je);return Ce[Ln]=Vn,Vn},app:gt,registerVersion:function dn(tn,Dn,Ut){var cn,Ln=null!==(cn=$e[tn])&&void 0!==cn?cn:tn;Ut&&(Ln+="-"+Ut);var Vn=Ln.match(/\s|\//),wi=Dn.match(/\s|\//);if(Vn||wi){var Mi=['Unable to register library "'+Ln+'" with version "'+Dn+'":'];return Vn&&Mi.push('library name "'+Ln+'" contains illegal characters (whitespace or "/")'),Vn&&wi&&Mi.push("and"),wi&&Mi.push('version name "'+Dn+'" contains illegal characters (whitespace or "/")'),void it.warn(Mi.join(" "))}Sn(new K.Component(Ln+"-version",function(){return{library:Ln,version:Dn}},"VERSION"))},setLogLevel:pe.setLogLevel,onLog:function Fn(tn,Dn){if(null!==tn&&"function"!=typeof tn)throw ke.create("invalid-log-argument",{appName:name});pe.setUserLogHandler(tn,Dn)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:Sn,removeApp:function ct(tn){delete Ce[tn]},components:He,useAsService:function fn(tn,Dn){return"serverAuth"===Dn?null:Dn}}};function gt(tn){if(!U.contains(Ce,tn=tn||nt))throw ke.create("no-app",{appName:tn});return Ce[tn]}function Sn(tn){var Dn,Ut,cn=tn.name;if(He.has(cn))return it.debug("There were multiple attempts to register component "+cn+"."),"PUBLIC"===tn.type?je[cn]:null;if(He.set(cn,tn),"PUBLIC"===tn.type){var Ln=function(ni){if(void 0===ni&&(ni=gt()),"function"!=typeof ni[cn])throw ke.create("invalid-app-argument",{appName:cn});return ni[cn]()};void 0!==tn.serviceProps&&U.deepExtend(Ln,tn.serviceProps),je[cn]=Ln,Se.prototype[cn]=function(){for(var ni=[],zi=0;zi<arguments.length;zi++)ni[zi]=arguments[zi];return this._getService.bind(this,cn).apply(this,tn.multipleInstances?ni:[])}}try{for(var Vn=a.__values(Object.keys(Ce)),wi=Vn.next();!wi.done;wi=Vn.next())Ce[wi.value]._addComponent(tn)}catch(ni){Dn={error:ni}}finally{try{wi&&!wi.done&&(Ut=Vn.return)&&Ut.call(Vn)}finally{if(Dn)throw Dn.error}}return"PUBLIC"===tn.type?je[cn]:null}return je.default=je,Object.defineProperty(je,"apps",{get:function bt(){return Object.keys(Ce).map(function(tn){return Ce[tn]})}}),gt.App=Se,je}(he);return Se.INTERNAL=a.__assign(a.__assign({},Se.INTERNAL),{createFirebaseNamespace:Le,extendNamespace:function Ce(He){U.deepExtend(Se,He)},createSubscribe:U.createSubscribe,ErrorFactory:U.ErrorFactory,deepExtend:U.deepExtend}),Se}(),ot=function(){function Se(Ce){this.container=Ce}return Se.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(He){if(function Kt(Se){var Ce=Se.getComponent();return"VERSION"===Ce?.type}(He)){var je=He.getImmediate();return je.library+"/"+je.version}return null}).filter(function(He){return He}).join(" ")},Se}();if(U.isBrowser()&&void 0!==self.firebase){it.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var un=self.firebase.SDK_VERSION;un&&un.indexOf("LITE")>=0&&it.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var rn=Ct.initializeApp;Ct.initializeApp=function(){for(var Se=[],Ce=0;Ce<arguments.length;Ce++)Se[Ce]=arguments[Ce];return U.isNode()&&it.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),rn.apply(void 0,Se)};var fi=Ct;(function nn(Se,Ce){Se.INTERNAL.registerComponent(new K.Component("platform-logger",function(He){return new ot(He)},"PRIVATE")),Se.registerVersion(ut,"0.6.11",Ce),Se.registerVersion("fire-js","")})(fi),Me.default=fi,Me.firebase=fi},6553:(en,Me,Q)=>{Object.defineProperty(Me,"__esModule",{value:!0});var a=Q(8005),U=Q(3661),K=function(){function Ve(z,G,de){this.name=z,this.instanceFactory=G,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return Ve.prototype.setInstantiationMode=function(z){return this.instantiationMode=z,this},Ve.prototype.setMultipleInstances=function(z){return this.multipleInstances=z,this},Ve.prototype.setServiceProps=function(z){return this.serviceProps=z,this},Ve}(),pe="[DEFAULT]",ce=function(){function Ve(z,G){this.name=z,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return Ve.prototype.get=function(z){void 0===z&&(z=pe);var G=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(G)){var de=new U.Deferred;this.instancesDeferred.set(G,de);try{var Ne=this.getOrInitializeService(G);Ne&&de.resolve(Ne)}catch{}}return this.instancesDeferred.get(G).promise},Ve.prototype.getImmediate=function(z){var G=a.__assign({identifier:pe,optional:!1},z),Ne=G.optional,me=this.normalizeInstanceIdentifier(G.identifier);try{var lt=this.getOrInitializeService(me);if(!lt){if(Ne)return null;throw Error("Service "+this.name+" is not available")}return lt}catch(st){if(Ne)return null;throw st}},Ve.prototype.getComponent=function(){return this.component},Ve.prototype.setComponent=function(z){var G,de;if(z.name!==this.name)throw Error("Mismatching Component "+z.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=z,function ke(Ve){return"EAGER"===Ve.instantiationMode}(z))try{this.getOrInitializeService(pe)}catch{}try{for(var Ne=a.__values(this.instancesDeferred.entries()),me=Ne.next();!me.done;me=Ne.next()){var lt=a.__read(me.value,2),mt=lt[1],Re=this.normalizeInstanceIdentifier(lt[0]);try{var at=this.getOrInitializeService(Re);mt.resolve(at)}catch{}}}catch(Ze){G={error:Ze}}finally{try{me&&!me.done&&(de=Ne.return)&&de.call(Ne)}finally{if(G)throw G.error}}},Ve.prototype.clearInstance=function(z){void 0===z&&(z=pe),this.instancesDeferred.delete(z),this.instances.delete(z)},Ve.prototype.delete=function(){return a.__awaiter(this,void 0,void 0,function(){var z;return a.__generator(this,function(G){switch(G.label){case 0:return z=Array.from(this.instances.values()),[4,Promise.all(a.__spread(z.filter(function(de){return"INTERNAL"in de}).map(function(de){return de.INTERNAL.delete()}),z.filter(function(de){return"_delete"in de}).map(function(de){return de._delete()})))];case 1:return G.sent(),[2]}})})},Ve.prototype.isComponentSet=function(){return null!=this.component},Ve.prototype.getOrInitializeService=function(z){var G=this.instances.get(z);return!G&&this.component&&(G=this.component.instanceFactory(this.container,function Pe(Ve){return Ve===pe?void 0:Ve}(z)),this.instances.set(z,G)),G||null},Ve.prototype.normalizeInstanceIdentifier=function(z){return this.component?this.component.multipleInstances?z:pe:z},Ve}(),ut=function(){function Ve(z){this.name=z,this.providers=new Map}return Ve.prototype.addComponent=function(z){var G=this.getProvider(z.name);if(G.isComponentSet())throw new Error("Component "+z.name+" has already been registered with "+this.name);G.setComponent(z)},Ve.prototype.addOrOverwriteComponent=function(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)},Ve.prototype.getProvider=function(z){if(this.providers.has(z))return this.providers.get(z);var G=new ce(z,this);return this.providers.set(z,G),G},Ve.prototype.getProviders=function(){return Array.from(this.providers.values())},Ve}();Me.Component=K,Me.ComponentContainer=ut,Me.Provider=ce},4467:(en,Me,Q)=>{var U=Q(8005),K=Q(3219),pe=Q(8836),ce=Q(3661),Pe=Q(8602),ke=Q(6553),Ve=function ut(f){return f&&"object"==typeof f&&"default"in f?f:{default:f}}(K),z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=function(f){function l(h,g){var y=this;return(y=f.call(this,g)||this).code=h,y.message=g,y.name="FirebaseError",y.toString=function(){return y.name+": [code="+y.code+"]: "+y.message},y}return U.__extends(l,f),l}(Error),de=new pe.Logger("@firebase/firestore");function Ne(){return de.logLevel}function me(f){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];if(de.logLevel<=pe.LogLevel.DEBUG){var g=l.map(mt);de.debug.apply(de,U.__spreadArrays(["Firestore (7.24.0): "+f],g))}}function lt(f){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];if(de.logLevel<=pe.LogLevel.ERROR){var g=l.map(mt);de.error.apply(de,U.__spreadArrays(["Firestore (7.24.0): "+f],g))}}function st(f){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];if(de.logLevel<=pe.LogLevel.WARN){var g=l.map(mt);de.warn.apply(de,U.__spreadArrays(["Firestore (7.24.0): "+f],g))}}function mt(f){if("string"==typeof f)return f;try{return JSON.stringify(f)}catch{return f}}function Re(f){void 0===f&&(f="Unexpected state");var l="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+f;throw lt(l),new Error(l)}function at(f,l){f||Re()}function Ze(f,l){return f}function xe(f){var l=0;for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&l++;return l}function nt(f,l){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&l(h,f[h])}function $e(f){for(var l in f)if(Object.prototype.hasOwnProperty.call(f,l))return!1;return!0}var it=function(){function f(l,h,g){void 0===h?h=0:h>l.length&&Re(),void 0===g?g=l.length-h:g>l.length-h&&Re(),this.segments=l,this.offset=h,this.t=g}return Object.defineProperty(f.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){return 0===f.i(this,l)},f.prototype.child=function(l){var h=this.segments.slice(this.offset,this.limit());return l instanceof f?l.forEach(function(g){h.push(g)}):h.push(l),this.o(h)},f.prototype.limit=function(){return this.offset+this.length},f.prototype.u=function(l){return this.o(this.segments,this.offset+(l=void 0===l?1:l),this.length-l)},f.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},f.prototype.l=function(){return this.segments[this.offset]},f.prototype._=function(){return this.get(this.length-1)},f.prototype.get=function(l){return this.segments[this.offset+l]},f.prototype.m=function(){return 0===this.length},f.prototype.T=function(l){if(l.length<this.length)return!1;for(var h=0;h<this.length;h++)if(this.get(h)!==l.get(h))return!1;return!0},f.prototype.I=function(l){if(this.length+1!==l.length)return!1;for(var h=0;h<this.length;h++)if(this.get(h)!==l.get(h))return!1;return!0},f.prototype.forEach=function(l){for(var h=this.offset,g=this.limit();h<g;h++)l(this.segments[h])},f.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},f.i=function(l,h){for(var g=Math.min(l.length,h.length),y=0;y<g;y++){var E=l.get(y),S=h.get(y);if(E<S)return-1;if(E>S)return 1}return l.length<h.length?-1:l.length>h.length?1:0},f}(),he=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.o=function(h,g,y){return new l(h,g,y)},l.prototype.R=function(){return this.A().join("/")},l.prototype.toString=function(){return this.R()},l.g=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];for(var y=[],E=0,S=h;E<S.length;E++){var R=S[E];if(R.indexOf("//")>=0)throw new G(z.INVALID_ARGUMENT,"Invalid segment ("+R+"). Paths must not contain // in them.");y.push.apply(y,R.split("/").filter(function(V){return V.length>0}))}return new l(y)},l.P=function(){return new l([])},l}(it),ue=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ge=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.o=function(h,g,y){return new l(h,g,y)},l.V=function(h){return ue.test(h)},l.prototype.R=function(){return this.A().map(function(h){return h=h.replace("\\","\\\\").replace("`","\\`"),l.V(h)||(h="`"+h+"`"),h}).join(".")},l.prototype.toString=function(){return this.R()},l.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},l.v=function(){return new l(["__name__"])},l.S=function(h){for(var g=[],y="",E=0,S=function(){if(0===y.length)throw new G(z.INVALID_ARGUMENT,"Invalid field path ("+h+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");g.push(y),y=""},R=!1;E<h.length;){var V=h[E];if("\\"===V){if(E+1===h.length)throw new G(z.INVALID_ARGUMENT,"Path has trailing escape character: "+h);var Z=h[E+1];if("\\"!==Z&&"."!==Z&&"`"!==Z)throw new G(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+h);y+=Z,E+=2}else"`"===V?(R=!R,E++):"."!==V||R?(y+=V,E++):(S(),E++)}if(S(),R)throw new G(z.INVALID_ARGUMENT,"Unterminated ` in path: "+h);return new l(g)},l.P=function(){return new l([])},l}(it),Le=function(){function f(l){this.path=l}return f.D=function(l){return new f(he.g(l))},f.C=function(l){return new f(he.g(l).u(5))},f.prototype.N=function(l){return this.path.length>=2&&this.path.get(this.path.length-2)===l},f.prototype.isEqual=function(l){return null!==l&&0===he.i(this.path,l.path)},f.prototype.toString=function(){return this.path.toString()},f.i=function(l,h){return he.i(l.path,h.path)},f.F=function(l){return l.length%2==0},f.$=function(l){return new f(new he(l.slice()))},f}();function Ct(f,l){if(0!==l.length)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() does not support arguments, but was called with "+fn(l.length,"argument")+".")}function ot(f,l,h){if(l.length!==h)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires "+fn(h,"argument")+", but was called with "+fn(l.length,"argument")+".")}function Kt(f,l,h){if(l.length<h)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires at least "+fn(h,"argument")+", but was called with "+fn(l.length,"argument")+".")}function nn(f,l,h,g){if(l.length<h||l.length>g)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires between "+h+" and "+g+" arguments, but was called with "+fn(l.length,"argument")+".")}function un(f,l,h,g){je(f,l,Fn(h)+" argument",g)}function rn(f,l,h,g){void 0!==g&&un(f,l,h,g)}function fi(f,l,h,g){je(f,l,h+" option",g)}function Se(f,l,h,g){void 0!==g&&fi(f,l,h,g)}function Ce(f,l,h,g,y){void 0!==g&&function(E,S,R,V,Z){for(var re=[],ge=0,_e=Z;ge<_e.length;ge++){var Oe=_e[ge];if(Oe===V)return;re.push(gt(Oe))}var et=gt(V);throw new G(z.INVALID_ARGUMENT,"Invalid value "+et+" provided to function "+E+'() for option "'+R+'". Acceptable values: '+re.join(", "))}(f,0,h,g,y)}function He(f,l,h,g){if(!l.some(function(y){return y===g}))throw new G(z.INVALID_ARGUMENT,"Invalid value "+gt(g)+" provided to function "+f+"() for its "+Fn(h)+" argument. Acceptable values: "+l.join(", "));return g}function je(f,l,h,g){if(!("object"===l?ct(g):"non-empty string"===l?"string"==typeof g&&""!==g:typeof g===l)){var y=gt(g);throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires its "+h+" to be of type "+l+", but it was: "+y)}}function ct(f){return"object"==typeof f&&null!==f&&(Object.getPrototypeOf(f)===Object.prototype||null===Object.getPrototypeOf(f))}function gt(f){if(void 0===f)return"undefined";if(null===f)return"null";if("string"==typeof f)return f.length>20&&(f=f.substring(0,20)+"..."),JSON.stringify(f);if("number"==typeof f||"boolean"==typeof f)return""+f;if("object"==typeof f){if(f instanceof Array)return"an array";var l=function(h){if(h.constructor){var g=/function\s+([^\s(]+)\s*\(/.exec(h.constructor.toString());if(g&&g.length>1)return g[1]}return null}(f);return l?"a custom "+l+" object":"an object"}return"function"==typeof f?"a function":Re()}function Mt(f,l,h){if(void 0===h)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires a valid "+Fn(l)+" argument, but it was undefined.")}function bt(f,l,h){nt(l,function(g,y){if(h.indexOf(g)<0)throw new G(z.INVALID_ARGUMENT,"Unknown option '"+g+"' passed to function "+f+"(). Available options: "+h.join(", "))})}function Sn(f,l,h,g){var y=gt(g);return new G(z.INVALID_ARGUMENT,"Function "+f+"() requires its "+Fn(h)+" argument to be a "+l+", but it was: "+y)}function dn(f,l,h){if(h<=0)throw new G(z.INVALID_ARGUMENT,"Function "+f+"() requires its "+Fn(l)+" argument to be a positive number, but it was: "+h+".")}function Fn(f){switch(f){case 1:return"first";case 2:return"second";case 3:return"third";default:return f+"th"}}function fn(f,l){return f+" "+l+(1===f?"":"s")}function tn(f){var l=typeof self<"u"&&(self.crypto||self.msCrypto),h=new Uint8Array(f);if(l&&"function"==typeof l.getRandomValues)l.getRandomValues(h);else for(var g=0;g<f;g++)h[g]=Math.floor(256*Math.random());return h}var Dn=function(){function f(){}return f.k=function(){for(var h=62*Math.floor(256/62),g="";g.length<20;)for(var y=tn(40),E=0;E<y.length;++E)g.length<20&&y[E]<h&&(g+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(y[E]%62));return g},f}();function Ut(f,l){return f<l?-1:f>l?1:0}function cn(f,l,h){return f.length===l.length&&f.every(function(g,y){return h(g,l[y])})}function Ln(f){return f+"\0"}var Vn=function(){function f(l){this.M=l}return f.fromBase64String=function(l){return new f(atob(l))},f.fromUint8Array=function(l){return new f(function(h){for(var g="",y=0;y<h.length;++y)g+=String.fromCharCode(h[y]);return g}(l))},f.prototype.toBase64=function(){return btoa(this.M)},f.prototype.toUint8Array=function(){return function(l){for(var h=new Uint8Array(l.length),g=0;g<l.length;g++)h[g]=l.charCodeAt(g);return h}(this.M)},f.prototype.O=function(){return 2*this.M.length},f.prototype.L=function(l){return Ut(this.M,l.M)},f.prototype.isEqual=function(l){return this.M===l.M},f}();Vn.B=new Vn("");var wi=function(){function f(l){this.q=l}return f.fromBase64String=function(l){try{return new f(Vn.fromBase64String(l))}catch(h){throw new G(z.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+h)}},f.fromUint8Array=function(l){return new f(Vn.fromUint8Array(l))},f.prototype.toBase64=function(){return this.q.toBase64()},f.prototype.toUint8Array=function(){return this.q.toUint8Array()},f.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},f.prototype.isEqual=function(l){return this.q.isEqual(l.q)},f}();function Mi(){if(typeof Uint8Array>"u")throw new G(z.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ni(){if(typeof atob>"u")throw new G(z.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var zi=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.fromBase64String=function(h){ot("Blob.fromBase64String",arguments,1),un("Blob.fromBase64String","string",1,h),ni();try{return new l(Vn.fromBase64String(h))}catch(g){throw new G(z.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+g)}},l.fromUint8Array=function(h){if(ot("Blob.fromUint8Array",arguments,1),Mi(),!(h instanceof Uint8Array))throw Sn("Blob.fromUint8Array","Uint8Array",1,h);return new l(Vn.fromUint8Array(h))},l.prototype.toBase64=function(){return ot("Blob.toBase64",arguments,0),ni(),f.prototype.toBase64.call(this)},l.prototype.toUint8Array=function(){return ot("Blob.toUint8Array",arguments,0),Mi(),f.prototype.toUint8Array.call(this)},l.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},l}(wi),Ro=function(f,l,h,g,y,E){this.U=f,this.persistenceKey=l,this.host=h,this.ssl=g,this.forceLongPolling=y,this.W=E},sn=function(){function f(l,h){this.projectId=l,this.database=h||"(default)"}return Object.defineProperty(f.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){return l instanceof f&&l.projectId===this.projectId&&l.database===this.database},f.prototype.L=function(l){return Ut(this.projectId,l.projectId)||Ut(this.database,l.database)},f}(),Yt=function(){function f(l,h){this.K=l,this.G=h,this.H={}}return f.prototype.get=function(l){var h=this.K(l),g=this.H[h];if(void 0!==g)for(var y=0,E=g;y<E.length;y++){var S=E[y],V=S[1];if(this.G(S[0],l))return V}},f.prototype.has=function(l){return void 0!==this.get(l)},f.prototype.set=function(l,h){var g=this.K(l),y=this.H[g];if(void 0!==y){for(var E=0;E<y.length;E++)if(this.G(y[E][0],l))return void(y[E]=[l,h]);y.push([l,h])}else this.H[g]=[[l,h]]},f.prototype.delete=function(l){var h=this.K(l),g=this.H[h];if(void 0===g)return!1;for(var y=0;y<g.length;y++)if(this.G(g[y][0],l))return 1===g.length?delete this.H[h]:g.splice(y,1),!0;return!1},f.prototype.forEach=function(l){nt(this.H,function(h,g){for(var y=0,E=g;y<E.length;y++){var S=E[y];l(S[0],S[1])}})},f.prototype.m=function(){return $e(this.H)},f}(),Qt=function(){function f(l,h){if(this.seconds=l,this.nanoseconds=h,h<0)throw new G(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+h);if(h>=1e9)throw new G(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+h);if(l<-62135596800)throw new G(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+l);if(l>=253402300800)throw new G(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+l)}return f.now=function(){return f.fromMillis(Date.now())},f.fromDate=function(l){return f.fromMillis(l.getTime())},f.fromMillis=function(l){var h=Math.floor(l/1e3);return new f(h,1e6*(l-1e3*h))},f.prototype.toDate=function(){return new Date(this.toMillis())},f.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},f.prototype.Y=function(l){return this.seconds===l.seconds?Ut(this.nanoseconds,l.nanoseconds):Ut(this.seconds,l.seconds)},f.prototype.isEqual=function(l){return l.seconds===this.seconds&&l.nanoseconds===this.nanoseconds},f.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},f.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},f.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},f}(),zt=function(){function f(l){this.timestamp=l}return f.J=function(l){return new f(l)},f.min=function(){return new f(new Qt(0,0))},f.prototype.L=function(l){return this.timestamp.Y(l.timestamp)},f.prototype.isEqual=function(l){return this.timestamp.isEqual(l.timestamp)},f.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},f.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},f.prototype.Z=function(){return this.timestamp},f}();function Te(f){return null==f}function we(f){return 0===f&&1/f==-1/0}function Ee(f){return"number"==typeof f&&Number.isInteger(f)&&!we(f)&&f<=Number.MAX_SAFE_INTEGER&&f>=Number.MIN_SAFE_INTEGER}var qe=function(f,l,h,g,y,E,S){void 0===l&&(l=null),void 0===h&&(h=[]),void 0===g&&(g=[]),void 0===y&&(y=null),void 0===E&&(E=null),void 0===S&&(S=null),this.path=f,this.collectionGroup=l,this.orderBy=h,this.filters=g,this.limit=y,this.startAt=E,this.endAt=S,this.tt=null};function Fe(f,l,h,g,y,E,S){return void 0===l&&(l=null),void 0===h&&(h=[]),void 0===g&&(g=[]),void 0===y&&(y=null),void 0===E&&(E=null),void 0===S&&(S=null),new qe(f,l,h,g,y,E,S)}function xt(f){var l=Ze(f);if(null===l.tt){var h=l.path.R();null!==l.collectionGroup&&(h+="|cg:"+l.collectionGroup),h+="|f:",h+=l.filters.map(function(g){return(y=g).field.R()+y.op.toString()+ls(y.value);var y}).join(","),h+="|ob:",h+=l.orderBy.map(function(g){return(y=g).field.R()+y.dir;var y}).join(","),Te(l.limit)||(h+="|l:",h+=l.limit),l.startAt&&(h+="|lb:",h+=sc(l.startAt)),l.endAt&&(h+="|ub:",h+=sc(l.endAt)),l.tt=h}return l.tt}function mn(f,l){if(f.limit!==l.limit||f.orderBy.length!==l.orderBy.length)return!1;for(var h=0;h<f.orderBy.length;h++)if(!yi(f.orderBy[h],l.orderBy[h]))return!1;if(f.filters.length!==l.filters.length)return!1;for(var g=0;g<f.filters.length;g++)if((y=f.filters[g]).op!==(E=l.filters[g]).op||!y.field.isEqual(E.field)||!Ur(y.value,E.value))return!1;var y,E;return f.collectionGroup===l.collectionGroup&&!!f.path.isEqual(l.path)&&!!zs(f.startAt,l.startAt)&&zs(f.endAt,l.endAt)}function jt(f){return Le.F(f.path)&&null===f.collectionGroup&&0===f.filters.length}var Xt,Ht,Ci=function(){function f(l,h,g,y,E,S,R){void 0===E&&(E=zt.min()),void 0===S&&(S=zt.min()),void 0===R&&(R=Vn.B),this.target=l,this.targetId=h,this.et=g,this.sequenceNumber=y,this.nt=E,this.lastLimboFreeSnapshotVersion=S,this.resumeToken=R}return f.prototype.st=function(l){return new f(this.target,this.targetId,this.et,l,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},f.prototype.it=function(l,h){return new f(this.target,this.targetId,this.et,this.sequenceNumber,h,this.lastLimboFreeSnapshotVersion,l)},f.prototype.rt=function(l){return new f(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,l,this.resumeToken)},f}(),vi=function(f){this.count=f};function $n(f){switch(f){case z.OK:return Re();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return Re()}}function Li(f){if(void 0===f)return lt("GRPC error has no .code"),z.UNKNOWN;switch(f){case Xt.OK:return z.OK;case Xt.CANCELLED:return z.CANCELLED;case Xt.UNKNOWN:return z.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return z.INTERNAL;case Xt.UNAVAILABLE:return z.UNAVAILABLE;case Xt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Xt.NOT_FOUND:return z.NOT_FOUND;case Xt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Xt.ABORTED:return z.ABORTED;case Xt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Xt.DATA_LOSS:return z.DATA_LOSS;default:return Re()}}(Ht=Xt||(Xt={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";var qn=function(){function f(l,h){this.i=l,this.root=h||pi.EMPTY}return f.prototype.ot=function(l,h){return new f(this.i,this.root.ot(l,h,this.i).copy(null,null,pi.at,null,null))},f.prototype.remove=function(l){return new f(this.i,this.root.remove(l,this.i).copy(null,null,pi.at,null,null))},f.prototype.get=function(l){for(var h=this.root;!h.m();){var g=this.i(l,h.key);if(0===g)return h.value;g<0?h=h.left:g>0&&(h=h.right)}return null},f.prototype.indexOf=function(l){for(var h=0,g=this.root;!g.m();){var y=this.i(l,g.key);if(0===y)return h+g.left.size;y<0?g=g.left:(h+=g.left.size+1,g=g.right)}return-1},f.prototype.m=function(){return this.root.m()},Object.defineProperty(f.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),f.prototype.ct=function(){return this.root.ct()},f.prototype.ut=function(){return this.root.ut()},f.prototype.ht=function(l){return this.root.ht(l)},f.prototype.forEach=function(l){this.ht(function(h,g){return l(h,g),!1})},f.prototype.toString=function(){var l=[];return this.ht(function(h,g){return l.push(h+":"+g),!1}),"{"+l.join(", ")+"}"},f.prototype.lt=function(l){return this.root.lt(l)},f.prototype._t=function(){return new gr(this.root,null,this.i,!1)},f.prototype.ft=function(l){return new gr(this.root,l,this.i,!1)},f.prototype.dt=function(){return new gr(this.root,null,this.i,!0)},f.prototype.wt=function(l){return new gr(this.root,l,this.i,!0)},f}(),gr=function(){function f(l,h,g,y){this.Tt=y,this.Et=[];for(var E=1;!l.m();)if(E=h?g(l.key,h):1,y&&(E*=-1),E<0)l=this.Tt?l.left:l.right;else{if(0===E){this.Et.push(l);break}this.Et.push(l),l=this.Tt?l.right:l.left}}return f.prototype.It=function(){var l=this.Et.pop(),h={key:l.key,value:l.value};if(this.Tt)for(l=l.left;!l.m();)this.Et.push(l),l=l.right;else for(l=l.right;!l.m();)this.Et.push(l),l=l.left;return h},f.prototype.At=function(){return this.Et.length>0},f.prototype.Rt=function(){if(0===this.Et.length)return null;var l=this.Et[this.Et.length-1];return{key:l.key,value:l.value}},f}(),pi=function(){function f(l,h,g,y,E){this.key=l,this.value=h,this.color=g??f.RED,this.left=y??f.EMPTY,this.right=E??f.EMPTY,this.size=this.left.size+1+this.right.size}return f.prototype.copy=function(l,h,g,y,E){return new f(l??this.key,h??this.value,g??this.color,y??this.left,E??this.right)},f.prototype.m=function(){return!1},f.prototype.ht=function(l){return this.left.ht(l)||l(this.key,this.value)||this.right.ht(l)},f.prototype.lt=function(l){return this.right.lt(l)||l(this.key,this.value)||this.left.lt(l)},f.prototype.min=function(){return this.left.m()?this:this.left.min()},f.prototype.ct=function(){return this.min().key},f.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},f.prototype.ot=function(l,h,g){var y=this,E=g(l,y.key);return(y=E<0?y.copy(null,null,null,y.left.ot(l,h,g),null):0===E?y.copy(null,h,null,null,null):y.copy(null,null,null,null,y.right.ot(l,h,g))).gt()},f.prototype.Pt=function(){if(this.left.m())return f.EMPTY;var l=this;return l.left.yt()||l.left.left.yt()||(l=l.Vt()),(l=l.copy(null,null,null,l.left.Pt(),null)).gt()},f.prototype.remove=function(l,h){var g,y=this;if(h(l,y.key)<0)y.left.m()||y.left.yt()||y.left.left.yt()||(y=y.Vt()),y=y.copy(null,null,null,y.left.remove(l,h),null);else{if(y.left.yt()&&(y=y.bt()),y.right.m()||y.right.yt()||y.right.left.yt()||(y=y.vt()),0===h(l,y.key)){if(y.right.m())return f.EMPTY;g=y.right.min(),y=y.copy(g.key,g.value,null,null,y.right.Pt())}y=y.copy(null,null,null,null,y.right.remove(l,h))}return y.gt()},f.prototype.yt=function(){return this.color},f.prototype.gt=function(){var l=this;return l.right.yt()&&!l.left.yt()&&(l=l.St()),l.left.yt()&&l.left.left.yt()&&(l=l.bt()),l.left.yt()&&l.right.yt()&&(l=l.Dt()),l},f.prototype.Vt=function(){var l=this.Dt();return l.right.left.yt()&&(l=(l=(l=l.copy(null,null,null,null,l.right.bt())).St()).Dt()),l},f.prototype.vt=function(){var l=this.Dt();return l.left.left.yt()&&(l=(l=l.bt()).Dt()),l},f.prototype.St=function(){var l=this.copy(null,null,f.RED,null,this.right.left);return this.right.copy(null,null,this.color,l,null)},f.prototype.bt=function(){var l=this.copy(null,null,f.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,l)},f.prototype.Dt=function(){var l=this.left.copy(null,null,!this.left.color,null,null),h=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,l,h)},f.prototype.Ct=function(){var l=this.Nt();return Math.pow(2,l)<=this.size+1},f.prototype.Nt=function(){if(this.yt()&&this.left.yt()||this.right.yt())throw Re();var l=this.left.Nt();if(l!==this.right.Nt())throw Re();return l+(this.yt()?0:1)},f}();pi.EMPTY=null,pi.RED=!0,pi.at=!1,pi.EMPTY=new(function(){function f(){this.size=0}return Object.defineProperty(f.prototype,"key",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"value",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"color",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"left",{get:function(){throw Re()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"right",{get:function(){throw Re()},enumerable:!1,configurable:!0}),f.prototype.copy=function(l,h,g,y,E){return this},f.prototype.ot=function(l,h,g){return new pi(l,h)},f.prototype.remove=function(l,h){return this},f.prototype.m=function(){return!0},f.prototype.ht=function(l){return!1},f.prototype.lt=function(l){return!1},f.prototype.ct=function(){return null},f.prototype.ut=function(){return null},f.prototype.yt=function(){return!1},f.prototype.Ct=function(){return!0},f.prototype.Nt=function(){return 0},f}());var xi=function(){function f(l){this.i=l,this.data=new qn(this.i)}return f.prototype.has=function(l){return null!==this.data.get(l)},f.prototype.first=function(){return this.data.ct()},f.prototype.last=function(){return this.data.ut()},Object.defineProperty(f.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),f.prototype.indexOf=function(l){return this.data.indexOf(l)},f.prototype.forEach=function(l){this.data.ht(function(h,g){return l(h),!1})},f.prototype.Ft=function(l,h){for(var g=this.data.ft(l[0]);g.At();){var y=g.It();if(this.i(y.key,l[1])>=0)return;h(y.key)}},f.prototype.xt=function(l,h){var g;for(g=void 0!==h?this.data.ft(h):this.data._t();g.At();)if(!l(g.It().key))return},f.prototype.$t=function(l){var h=this.data.ft(l);return h.At()?h.It().key:null},f.prototype._t=function(){return new _r(this.data._t())},f.prototype.ft=function(l){return new _r(this.data.ft(l))},f.prototype.add=function(l){return this.copy(this.data.remove(l).ot(l,!0))},f.prototype.delete=function(l){return this.has(l)?this.copy(this.data.remove(l)):this},f.prototype.m=function(){return this.data.m()},f.prototype.kt=function(l){var h=this;return h.size<l.size&&(h=l,l=this),l.forEach(function(g){h=h.add(g)}),h},f.prototype.isEqual=function(l){if(!(l instanceof f)||this.size!==l.size)return!1;for(var h=this.data._t(),g=l.data._t();h.At();){var y=h.It().key,E=g.It().key;if(0!==this.i(y,E))return!1}return!0},f.prototype.A=function(){var l=[];return this.forEach(function(h){l.push(h)}),l},f.prototype.toString=function(){var l=[];return this.forEach(function(h){return l.push(h)}),"SortedSet("+l.toString()+")"},f.prototype.copy=function(l){var h=new f(this.i);return h.data=l,h},f}(),_r=function(){function f(l){this.Mt=l}return f.prototype.It=function(){return this.Mt.It().key},f.prototype.At=function(){return this.Mt.At()},f}(),go=new qn(Le.i);function fe(){return go}function le(){return fe()}var X=new qn(Le.i);function te(){return X}var Y=new qn(Le.i),Ae=new xi(Le.i);function Qe(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];for(var h=Ae,g=0,y=f;g<y.length;g++)h=h.add(y[g]);return h}var Dt=new xi(Ut);function yn(){return Dt}var Vt=function(){function f(l){this.i=l?function(h,g){return l(h,g)||Le.i(h.key,g.key)}:function(h,g){return Le.i(h.key,g.key)},this.Ot=te(),this.Lt=new qn(this.i)}return f.Bt=function(l){return new f(l.i)},f.prototype.has=function(l){return null!=this.Ot.get(l)},f.prototype.get=function(l){return this.Ot.get(l)},f.prototype.first=function(){return this.Lt.ct()},f.prototype.last=function(){return this.Lt.ut()},f.prototype.m=function(){return this.Lt.m()},f.prototype.indexOf=function(l){var h=this.Ot.get(l);return h?this.Lt.indexOf(h):-1},Object.defineProperty(f.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),f.prototype.forEach=function(l){this.Lt.ht(function(h,g){return l(h),!1})},f.prototype.add=function(l){var h=this.delete(l.key);return h.copy(h.Ot.ot(l.key,l),h.Lt.ot(l,null))},f.prototype.delete=function(l){var h=this.get(l);return h?this.copy(this.Ot.remove(l),this.Lt.remove(h)):this},f.prototype.isEqual=function(l){if(!(l instanceof f)||this.size!==l.size)return!1;for(var h=this.Lt._t(),g=l.Lt._t();h.At();){var y=h.It().key,E=g.It().key;if(!y.isEqual(E))return!1}return!0},f.prototype.toString=function(){var l=[];return this.forEach(function(h){l.push(h.toString())}),0===l.length?"DocumentSet ()":"DocumentSet (\n  "+l.join("  \n")+"\n)"},f.prototype.copy=function(l,h){var g=new f;return g.i=this.i,g.Ot=l,g.Lt=h,g},f}(),Xn=function(){function f(){this.qt=new qn(Le.i)}return f.prototype.track=function(l){var h=l.doc.key,g=this.qt.get(h);g?0!==l.type&&3===g.type?this.qt=this.qt.ot(h,l):3===l.type&&1!==g.type?this.qt=this.qt.ot(h,{type:g.type,doc:l.doc}):2===l.type&&2===g.type?this.qt=this.qt.ot(h,{type:2,doc:l.doc}):2===l.type&&0===g.type?this.qt=this.qt.ot(h,{type:0,doc:l.doc}):1===l.type&&0===g.type?this.qt=this.qt.remove(h):1===l.type&&2===g.type?this.qt=this.qt.ot(h,{type:1,doc:g.doc}):0===l.type&&1===g.type?this.qt=this.qt.ot(h,{type:2,doc:l.doc}):Re():this.qt=this.qt.ot(h,l)},f.prototype.Ut=function(){var l=[];return this.qt.ht(function(h,g){l.push(g)}),l},f}(),xn=function(){function f(l,h,g,y,E,S,R,V){this.query=l,this.docs=h,this.Qt=g,this.docChanges=y,this.Wt=E,this.fromCache=S,this.jt=R,this.Kt=V}return f.Gt=function(l,h,g,y){var E=[];return h.forEach(function(S){E.push({type:0,doc:S})}),new f(l,h,Vt.Bt(h),E,g,y,!0,!1)},Object.defineProperty(f.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){if(!(this.fromCache===l.fromCache&&this.jt===l.jt&&this.Wt.isEqual(l.Wt)&&oc(this.query,l.query)&&this.docs.isEqual(l.docs)&&this.Qt.isEqual(l.Qt)))return!1;var h=this.docChanges,g=l.docChanges;if(h.length!==g.length)return!1;for(var y=0;y<h.length;y++)if(h[y].type!==g[y].type||!h[y].doc.isEqual(g[y].doc))return!1;return!0},f}(),ai=function(){function f(l,h,g,y,E){this.nt=l,this.zt=h,this.Ht=g,this.Yt=y,this.Jt=E}return f.Xt=function(l,h){var g=new Map;return g.set(l,Nn.Zt(l,h)),new f(zt.min(),g,yn(),fe(),Qe())},f}(),Nn=function(){function f(l,h,g,y,E){this.resumeToken=l,this.te=h,this.ee=g,this.ne=y,this.se=E}return f.Zt=function(l,h){return new f(Vn.B,h,Qe(),Qe(),Qe())},f}(),vr=function(f,l,h,g){this.ie=f,this.removedTargetIds=l,this.key=h,this.re=g},Ko=function(f,l){this.targetId=f,this.oe=l},Je=function(f,l,h,g){void 0===h&&(h=Vn.B),void 0===g&&(g=null),this.state=f,this.targetIds=l,this.resumeToken=h,this.cause=g},ze=function(){function f(){this.ae=0,this.ce=Pt(),this.ue=Vn.B,this.he=!1,this.le=!0}return Object.defineProperty(f.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),f.prototype.de=function(l){l.O()>0&&(this.le=!0,this.ue=l)},f.prototype.we=function(){var l=Qe(),h=Qe(),g=Qe();return this.ce.forEach(function(y,E){switch(E){case 0:l=l.add(y);break;case 2:h=h.add(y);break;case 1:g=g.add(y);break;default:Re()}}),new Nn(this.ue,this.he,l,h,g)},f.prototype.me=function(){this.le=!1,this.ce=Pt()},f.prototype.Te=function(l,h){this.le=!0,this.ce=this.ce.ot(l,h)},f.prototype.Ee=function(l){this.le=!0,this.ce=this.ce.remove(l)},f.prototype.Ie=function(){this.ae+=1},f.prototype.Ae=function(){this.ae-=1},f.prototype.Re=function(){this.le=!0,this.he=!0},f}(),_t=function(){function f(l){this.ge=l,this.Pe=new Map,this.ye=fe(),this.Ve=Zt(),this.pe=new xi(Ut)}return f.prototype.be=function(l){for(var h=0,g=l.ie;h<g.length;h++){var y=g[h];l.re instanceof oi?this.ve(y,l.re):l.re instanceof Pr&&this.Se(y,l.key,l.re)}for(var E=0,S=l.removedTargetIds;E<S.length;E++)this.Se(S[E],l.key,l.re)},f.prototype.De=function(l){var h=this;this.Ce(l,function(g){var y=h.Ne(g);switch(l.state){case 0:h.Fe(g)&&y.de(l.resumeToken);break;case 1:y.Ae(),y._e||y.me(),y.de(l.resumeToken);break;case 2:y.Ae(),y._e||h.removeTarget(g);break;case 3:h.Fe(g)&&(y.Re(),y.de(l.resumeToken));break;case 4:h.Fe(g)&&(h.xe(g),y.de(l.resumeToken));break;default:Re()}})},f.prototype.Ce=function(l,h){var g=this;l.targetIds.length>0?l.targetIds.forEach(h):this.Pe.forEach(function(y,E){g.Fe(E)&&h(E)})},f.prototype.$e=function(l){var h=l.targetId,g=l.oe.count,y=this.ke(h);if(y){var E=y.target;if(jt(E))if(0===g){var S=new Le(E.path);this.Se(h,S,new Pr(S,zt.min()))}else at(1===g);else this.Me(h)!==g&&(this.xe(h),this.pe=this.pe.add(h))}},f.prototype.Oe=function(l){var h=this,g=new Map;this.Pe.forEach(function(S,R){var V=h.ke(R);if(V){if(S.te&&jt(V.target)){var Z=new Le(V.target.path);null!==h.ye.get(Z)||h.Le(R,Z)||h.Se(R,Z,new Pr(Z,l))}S.fe&&(g.set(R,S.we()),S.me())}});var y=Qe();this.Ve.forEach(function(S,R){var V=!0;R.xt(function(Z){var re=h.ke(Z);return!re||2===re.et||(V=!1,!1)}),V&&(y=y.add(S))});var E=new ai(l,g,this.pe,this.ye,y);return this.ye=fe(),this.Ve=Zt(),this.pe=new xi(Ut),E},f.prototype.ve=function(l,h){if(this.Fe(l)){var g=this.Le(l,h.key)?2:0;this.Ne(l).Te(h.key,g),this.ye=this.ye.ot(h.key,h),this.Ve=this.Ve.ot(h.key,this.Be(h.key).add(l))}},f.prototype.Se=function(l,h,g){if(this.Fe(l)){var y=this.Ne(l);this.Le(l,h)?y.Te(h,1):y.Ee(h),this.Ve=this.Ve.ot(h,this.Be(h).delete(l)),g&&(this.ye=this.ye.ot(h,g))}},f.prototype.removeTarget=function(l){this.Pe.delete(l)},f.prototype.Me=function(l){var h=this.Ne(l).we();return this.ge.qe(l).size+h.ee.size-h.se.size},f.prototype.Ie=function(l){this.Ne(l).Ie()},f.prototype.Ne=function(l){var h=this.Pe.get(l);return h||(h=new ze,this.Pe.set(l,h)),h},f.prototype.Be=function(l){var h=this.Ve.get(l);return h||(h=new xi(Ut),this.Ve=this.Ve.ot(l,h)),h},f.prototype.Fe=function(l){var h=null!==this.ke(l);return h||me("WatchChangeAggregator","Detected inactive target",l),h},f.prototype.ke=function(l){var h=this.Pe.get(l);return h&&h._e?null:this.ge.Ue(l)},f.prototype.xe=function(l){var h=this;this.Pe.set(l,new ze),this.ge.qe(l).forEach(function(g){h.Se(l,g,null)})},f.prototype.Le=function(l,h){return this.ge.qe(l).has(h)},f}();function Zt(){return new qn(Le.i)}function Pt(){return new qn(Le.i)}function kn(f){var l,h;return"server_timestamp"===(null===(h=((null===(l=f?.mapValue)||void 0===l?void 0:l.fields)||{}).__type__)||void 0===h?void 0:h.stringValue)}function ri(f){var l=f.mapValue.fields.__previous_value__;return kn(l)?ri(l):l}function Gi(f){var l=Qo(f.mapValue.fields.__local_write_time__.timestampValue);return new Qt(l.seconds,l.nanos)}var Zi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(f){return"nullValue"in f?0:"booleanValue"in f?1:"integerValue"in f||"doubleValue"in f?2:"timestampValue"in f?3:"stringValue"in f?5:"bytesValue"in f?6:"referenceValue"in f?7:"geoPointValue"in f?8:"arrayValue"in f?9:"mapValue"in f?kn(f)?4:10:Re()}function Ur(f,l){var y,h=er(f);if(h!==er(l))return!1;switch(h){case 0:return!0;case 1:return f.booleanValue===l.booleanValue;case 4:return Gi(f).isEqual(Gi(l));case 3:return function(g,y){if("string"==typeof g.timestampValue&&"string"==typeof y.timestampValue&&g.timestampValue.length===y.timestampValue.length)return g.timestampValue===y.timestampValue;var E=Qo(g.timestampValue),S=Qo(y.timestampValue);return E.seconds===S.seconds&&E.nanos===S.nanos}(f,l);case 5:return f.stringValue===l.stringValue;case 6:return y=l,Ai(f.bytesValue).isEqual(Ai(y.bytesValue));case 7:return f.referenceValue===l.referenceValue;case 8:return function(g,y){return jn(g.geoPointValue.latitude)===jn(y.geoPointValue.latitude)&&jn(g.geoPointValue.longitude)===jn(y.geoPointValue.longitude)}(f,l);case 2:return function(g,y){if("integerValue"in g&&"integerValue"in y)return jn(g.integerValue)===jn(y.integerValue);if("doubleValue"in g&&"doubleValue"in y){var E=jn(g.doubleValue),S=jn(y.doubleValue);return E===S?we(E)===we(S):isNaN(E)&&isNaN(S)}return!1}(f,l);case 9:return cn(f.arrayValue.values||[],l.arrayValue.values||[],Ur);case 10:return function(g,y){var E=g.mapValue.fields||{},S=y.mapValue.fields||{};if(xe(E)!==xe(S))return!1;for(var R in E)if(E.hasOwnProperty(R)&&(void 0===S[R]||!Ur(E[R],S[R])))return!1;return!0}(f,l);default:return Re()}}function _o(f,l){return void 0!==(f.values||[]).find(function(h){return Ur(h,l)})}function Da(f,l){var y,E,S,R,h=er(f),g=er(l);if(h!==g)return Ut(h,g);switch(h){case 0:return 0;case 1:return Ut(f.booleanValue,l.booleanValue);case 2:return E=l,(S=jn((y=f).integerValue||y.doubleValue))<(R=jn(E.integerValue||E.doubleValue))?-1:S>R?1:S===R?0:isNaN(S)?isNaN(R)?0:-1:1;case 3:return Yo(f.timestampValue,l.timestampValue);case 4:return Yo(Gi(f),Gi(l));case 5:return Ut(f.stringValue,l.stringValue);case 6:return function(y,E){var S=Ai(y),R=Ai(E);return S.L(R)}(f.bytesValue,l.bytesValue);case 7:return function(y,E){for(var S=y.split("/"),R=E.split("/"),V=0;V<S.length&&V<R.length;V++){var Z=Ut(S[V],R[V]);if(0!==Z)return Z}return Ut(S.length,R.length)}(f.referenceValue,l.referenceValue);case 8:return function(y,E){var S=Ut(jn(y.latitude),jn(E.latitude));return 0!==S?S:Ut(jn(y.longitude),jn(E.longitude))}(f.geoPointValue,l.geoPointValue);case 9:return function(y,E){for(var S=y.values||[],R=E.values||[],V=0;V<S.length&&V<R.length;++V){var Z=Da(S[V],R[V]);if(Z)return Z}return Ut(S.length,R.length)}(f.arrayValue,l.arrayValue);case 10:return function(y,E){var S=y.fields||{},R=Object.keys(S),V=E.fields||{},Z=Object.keys(V);R.sort(),Z.sort();for(var re=0;re<R.length&&re<Z.length;++re){var ge=Ut(R[re],Z[re]);if(0!==ge)return ge;var _e=Da(S[R[re]],V[Z[re]]);if(0!==_e)return _e}return Ut(R.length,Z.length)}(f.mapValue,l.mapValue);default:throw Re()}}function Yo(f,l){if("string"==typeof f&&"string"==typeof l&&f.length===l.length)return Ut(f,l);var h=Qo(f),g=Qo(l),y=Ut(h.seconds,g.seconds);return 0!==y?y:Ut(h.nanos,g.nanos)}function ls(f){return vs(f)}function vs(f){return"nullValue"in f?"null":"booleanValue"in f?""+f.booleanValue:"integerValue"in f?""+f.integerValue:"doubleValue"in f?""+f.doubleValue:"timestampValue"in f?"time("+(y=Qo(f.timestampValue)).seconds+","+y.nanos+")":"stringValue"in f?f.stringValue:"bytesValue"in f?Ai(f.bytesValue).toBase64():"referenceValue"in f?Le.C(f.referenceValue).toString():"geoPointValue"in f?"geo("+(l=f.geoPointValue).latitude+","+l.longitude+")":"arrayValue"in f?function(g){for(var y="[",E=!0,S=0,R=g.values||[];S<R.length;S++)E?E=!1:y+=",",y+=vs(R[S]);return y+"]"}(f.arrayValue):"mapValue"in f?function(g){for(var y="{",E=!0,S=0,R=Object.keys(g.fields||{}).sort();S<R.length;S++){var V=R[S];E?E=!1:y+=",",y+=V+":"+vs(g.fields[V])}return y+"}"}(f.mapValue):Re();var y,l}function Qo(f){if(at(!!f),"string"==typeof f){var l=0,h=Zi.exec(f);if(at(!!h),h[1]){var g=h[1];g=(g+"000000000").substr(0,9),l=Number(g)}var y=new Date(f);return{seconds:Math.floor(y.getTime()/1e3),nanos:l}}return{seconds:jn(f.seconds),nanos:jn(f.nanos)}}function jn(f){return"number"==typeof f?f:"string"==typeof f?Number(f):0}function Ai(f){return"string"==typeof f?Vn.fromBase64String(f):Vn.fromUint8Array(f)}function vo(f,l){return{referenceValue:"projects/"+f.projectId+"/databases/"+f.database+"/documents/"+l.path.R()}}function ki(f){return!!f&&"integerValue"in f}function Cc(f){return!!f&&"arrayValue"in f}function Xa(f){return!!f&&"nullValue"in f}function $r(f){return!!f&&"doubleValue"in f&&isNaN(Number(f.doubleValue))}function Ls(f){return!!f&&"mapValue"in f}var ec={asc:"ASCENDING",desc:"DESCENDING"},Ju={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ra=function(f,l){this.U=f,this.Qe=l};function xc(f){return{integerValue:""+f}}function Ec(f,l){if(f.Qe){if(isNaN(l))return{doubleValue:"NaN"};if(l===1/0)return{doubleValue:"Infinity"};if(l===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:we(l)?"-0":l}}function Us(f,l){return Ee(l)?xc(l):Ec(f,l)}function oa(f,l){return f.Qe?new Date(1e3*l.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+l.nanoseconds).slice(-9)+"Z":{seconds:""+l.seconds,nanos:l.nanoseconds}}function sl(f,l){return f.Qe?l.toBase64():l.toUint8Array()}function No(f,l){return oa(f,l.Z())}function yo(f){return at(!!f),zt.J((h=Qo(f),new Qt(h.seconds,h.nanos)));var h}function yr(f,l){return(h=f,new he(["projects",h.projectId,"databases",h.database])).child("documents").child(l).R();var h}function tc(f){var l=he.g(f);return at(Pn(l)),l}function sa(f,l){return yr(f.U,l.path)}function Ki(f,l){var h=tc(l);return at(h.get(1)===f.U.projectId),at(!h.get(3)&&!f.U.database||h.get(3)===f.U.database),new Le(nc(h))}function Ic(f,l){return yr(f.U,l)}function aa(f){var l=tc(f);return 4===l.length?he.P():nc(l)}function ys(f){return new he(["projects",f.U.projectId,"databases",f.U.database]).R()}function nc(f){return at(f.length>4&&"documents"===f.get(4)),f.u(5)}function zn(f,l,h){return{name:sa(f,l),fields:h.proto.mapValue.fields}}function Ui(f,l){var h,y;if(l instanceof rr)h={update:zn(f,l.key,l.value)};else if(l instanceof Tr)h={delete:sa(f,l.key)};else if(l instanceof Wr)h={update:zn(f,l.key,l.data),updateMask:Bs(l.We)};else if(l instanceof Hi)h={transform:{document:sa(f,l.key),fieldTransforms:l.fieldTransforms.map(function(g){return function(y,E){var S=E.transform;if(S instanceof on)return{fieldPath:E.field.R(),setToServerValue:"REQUEST_TIME"};if(S instanceof qr)return{fieldPath:E.field.R(),appendMissingElements:{values:S.elements}};if(S instanceof Cr)return{fieldPath:E.field.R(),removeAllFromArray:{values:S.elements}};if(S instanceof bs)return{fieldPath:E.field.R(),increment:S.je};throw Re()}(0,g)})}};else{if(!(l instanceof cl))return Re();h={verify:sa(f,l.key)}}return l.Ge.Ke||(h.currentDocument=void 0!==(y=l.Ge).updateTime?{updateTime:No(f,y.updateTime)}:void 0!==y.exists?{exists:y.exists}:Re()),h}function br(f,l){var re,h=l.currentDocument?void 0!==(re=l.currentDocument).updateTime?Vi.updateTime(yo(re.updateTime)):void 0!==re.exists?Vi.exists(re.exists):Vi.ze():Vi.ze();if(l.update){var g=Ki(f,l.update.name),y=new Or({mapValue:{fields:l.update.fields}});if(l.updateMask){var E=function(re){return new Ir((re.fieldPaths||[]).map(function(_e){return Ge.S(_e)}))}(l.updateMask);return new Wr(g,y,E,h)}return new rr(g,y,h)}if(l.delete){var S=Ki(f,l.delete);return new Tr(S,h)}if(l.transform){var R=Ki(f,l.transform.document),V=l.transform.fieldTransforms.map(function(re){return function(ge,_e){var Oe=null;"setToServerValue"in _e?(at("REQUEST_TIME"===_e.setToServerValue),Oe=new on):"appendMissingElements"in _e?Oe=new qr(_e.appendMissingElements.values||[]):"removeAllFromArray"in _e?Oe=new Cr(_e.removeAllFromArray.values||[]):"increment"in _e?Oe=new bs(ge,_e.increment):Re();var an=Ge.S(_e.fieldPath);return new la(an,Oe)}(f,re)});return at(!0===h.exists),new Hi(R,V)}if(l.verify){var Z=Ki(f,l.verify);return new cl(Z,h)}return Re()}function Ma(f,l){return{documents:[Ic(f,l.path)]}}function wr(f,l){var h={structuredQuery:{}},g=l.path;null!==l.collectionGroup?(h.parent=Ic(f,g),h.structuredQuery.from=[{collectionId:l.collectionGroup,allDescendants:!0}]):(h.parent=Ic(f,g.h()),h.structuredQuery.from=[{collectionId:g._()}]);var y=function(R){if(0!==R.length){var V=R.map(function(Z){return function(re){if("=="===re.op){if($r(re.value))return{unaryFilter:{field:Et(re.field),op:"IS_NAN"}};if(Xa(re.value))return{unaryFilter:{field:Et(re.field),op:"IS_NULL"}}}else if("!="===re.op){if($r(re.value))return{unaryFilter:{field:Et(re.field),op:"IS_NOT_NAN"}};if(Xa(re.value))return{unaryFilter:{field:Et(re.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Et(re.field),op:Oi(re.op),value:re.value}}}(Z)});return 1===V.length?V[0]:{compositeFilter:{op:"AND",filters:V}}}}(l.filters);y&&(h.structuredQuery.where=y);var E=function(R){if(0!==R.length)return R.map(function(V){return{field:Et((Z=V).field),direction:Dc(Z.dir)};var Z})}(l.orderBy);E&&(h.structuredQuery.orderBy=E);var V,S=(V=l.limit,f.Qe||Te(V)?V:{value:V});return null!==S&&(h.structuredQuery.limit=S),l.startAt&&(h.structuredQuery.startAt=Fo(l.startAt)),l.endAt&&(h.structuredQuery.endAt=Fo(l.endAt)),h}function Tc(f){var l=aa(f.parent),h=f.structuredQuery,g=h.from?h.from.length:0,y=null;if(g>0){at(1===g);var E=h.from[0];E.allDescendants?y=E.collectionId:l=l.child(E.collectionId)}var S=[];h.where&&(S=Sc(h.where));var R=[];h.orderBy&&(R=h.orderBy.map(function(ge){return new pa(En((_e=ge).field),function(Oe){switch(Oe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_e.direction));var _e}));var ge,_e,V=null;h.limit&&(V=Te(_e="object"==typeof(ge=h.limit)?ge.value:ge)?null:_e);var Z=null;h.startAt&&(Z=Vs(h.startAt));var re=null;return h.endAt&&(re=Vs(h.endAt)),Vo(Ac(l,y,R,S,V,"F",Z,re))}function Sc(f){return f?void 0!==f.unaryFilter?[so(f)]:void 0!==f.fieldFilter?[Ei(f)]:void 0!==f.compositeFilter?f.compositeFilter.filters.map(function(l){return Sc(l)}).reduce(function(l,h){return l.concat(h)}):Re():[]}function Fo(f){return{before:f.before,values:f.position}}function Vs(f){return new wo(f.values||[],!!f.before)}function Dc(f){return ec[f]}function Oi(f){return Ju[f]}function Et(f){return{fieldPath:f.R()}}function En(f){return Ge.S(f.fieldPath)}function Ei(f){return Rr.create(En(f.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(f.fieldFilter.op),f.fieldFilter.value)}function so(f){switch(f.unaryFilter.op){case"IS_NAN":var l=En(f.unaryFilter.field);return Rr.create(l,"==",{doubleValue:NaN});case"IS_NULL":var h=En(f.unaryFilter.field);return Rr.create(h,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var g=En(f.unaryFilter.field);return Rr.create(g,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var y=En(f.unaryFilter.field);return Rr.create(y,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}function Bs(f){var l=[];return f.fields.forEach(function(h){return l.push(h.R())}),{fieldPaths:l}}function Pn(f){return f.length>=4&&"projects"===f.get(0)&&"databases"===f.get(2)}var Jo=function(){this.He=void 0};function Pi(f,l,h){return f instanceof on?(E={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(g=h).seconds,nanos:g.nanoseconds}}}},(y=l)&&(E.fields.__previous_value__=y),{mapValue:E}):f instanceof qr?Ll(f,l):f instanceof Cr?xr(f,l):function(g,y){var E=Xo(g,y),S=Lo(E)+Lo(g.je);return ki(E)&&ki(g.je)?xc(S):Ec(g.serializer,S)}(f,l);var g,y,E}function ca(f,l,h){return f instanceof qr?Ll(f,l):f instanceof Cr?xr(f,l):h}function Xo(f,l){return f instanceof bs?ki(h=l)||(g=h)&&"doubleValue"in g?l:{integerValue:0}:null;var g,h}var on=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l}(Jo),qr=function(f){function l(h){var g=this;return(g=f.call(this)||this).elements=h,g}return U.__extends(l,f),l}(Jo);function Ll(f,l){for(var h=Er(l),g=function(S){h.some(function(R){return Ur(R,S)})||h.push(S)},y=0,E=f.elements;y<E.length;y++)g(E[y]);return{arrayValue:{values:h}}}var Cr=function(f){function l(h){var g=this;return(g=f.call(this)||this).elements=h,g}return U.__extends(l,f),l}(Jo);function xr(f,l){for(var h=Er(l),g=function(S){h=h.filter(function(R){return!Ur(R,S)})},y=0,E=f.elements;y<E.length;y++)g(E[y]);return{arrayValue:{values:h}}}var bs=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).serializer=h,y.je=g,y}return U.__extends(l,f),l}(Jo);function Lo(f){return jn(f.integerValue||f.doubleValue)}function Er(f){return Cc(f)&&f.arrayValue.values?f.arrayValue.values.slice():[]}var Ir=function(){function f(l){this.fields=l,l.sort(Ge.i)}return f.prototype.Ye=function(l){for(var h=0,g=this.fields;h<g.length;h++)if(g[h].T(l))return!0;return!1},f.prototype.isEqual=function(l){return cn(this.fields,l.fields,function(h,g){return h.isEqual(g)})},f}(),la=function(f,l){this.field=f,this.transform=l},Aa=function(f,l){this.version=f,this.transformResults=l},Vi=function(){function f(l,h){this.updateTime=l,this.exists=h}return f.ze=function(){return new f},f.exists=function(l){return new f(void 0,l)},f.updateTime=function(l){return new f(l)},Object.defineProperty(f.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){return this.exists===l.exists&&(this.updateTime?!!l.updateTime&&this.updateTime.isEqual(l.updateTime):!l.updateTime)},f}();function Uo(f,l){return void 0!==f.updateTime?l instanceof oi&&l.version.isEqual(f.updateTime):void 0===f.exists||f.exists===l instanceof oi}var Gr=function(){};function ei(f,l,h){return f instanceof rr?new oi((g=f).key,h.version,g.value,{hasCommittedMutations:!0}):f instanceof Wr?function(g,y,E){if(!Uo(g.Ge,y))return new Ul(g.key,E.version);var S=ua(g,y);return new oi(g.key,E.version,S,{hasCommittedMutations:!0})}(f,l,h):f instanceof Hi?function(g,y,E){if(at(null!=E.transformResults),!Uo(g.Ge,y))return new Ul(g.key,E.version);var S=al(0,y),R=function(re,ge,_e){var Oe=[];at(re.length===_e.length);for(var et=0;et<_e.length;et++){var ht=re[et],an=ht.transform,Jt=null;ge instanceof oi&&(Jt=ge.field(ht.field)),Oe.push(ca(an,Jt,_e[et]))}return Oe}(g.fieldTransforms,y,E.transformResults),V=E.version,Z=Zr(g,S.data(),R);return new oi(g.key,V,Z,{hasCommittedMutations:!0})}(f,l,h):function(g,y,E){return new Pr(g.key,E.version,{hasCommittedMutations:!0})}(f,0,h);var g}function Mc(f,l,h,g){return f instanceof rr?function(y,E){if(!Uo(y.Ge,E))return E;var S=kr(E);return new oi(y.key,S,y.value,{Je:!0})}(f,l):f instanceof Wr?function(y,E){if(!Uo(y.Ge,E))return E;var S=kr(E),R=ua(y,E);return new oi(y.key,S,R,{Je:!0})}(f,l):f instanceof Hi?function(y,E,S,R){if(!Uo(y.Ge,E))return E;var V=al(0,E),Z=function(ge,_e,Oe,et){for(var ht=[],an=0,Jt=ge;an<Jt.length;an++){var On=Jt[an],Jn=On.transform,gi=null;Oe instanceof oi&&(gi=Oe.field(On.field)),null===gi&&et instanceof oi&&(gi=et.field(On.field)),ht.push(Pi(Jn,gi,_e))}return ht}(y.fieldTransforms,S,E,R),re=Zr(y,V.data(),Z);return new oi(y.key,V.version,re,{Je:!0})}(f,l,g,h):Uo((y=f).Ge,E=l)?new Pr(y.key,zt.min()):E;var y,E}function gu(f,l){return f instanceof Hi?function(h,g){for(var y=null,E=0,S=h.fieldTransforms;E<S.length;E++){var R=S[E],V=g instanceof oi?g.field(R.field):void 0,Z=Xo(R.transform,V||null);null!=Z&&(y=null==y?(new Kr).set(R.field,Z):y.set(R.field,Z))}return y?y.Xe():null}(f,l):null}function ka(f,l){return f.type===l.type&&!!f.key.isEqual(l.key)&&!!f.Ge.isEqual(l.Ge)&&(0===f.type?f.value.isEqual(l.value):1===f.type?f.data.isEqual(l.data)&&f.We.isEqual(l.We):2!==f.type||cn(f.fieldTransforms,f.fieldTransforms,function(h,g){return(y=h).field.isEqual((E=g).field)&&(R=E.transform,(S=y.transform)instanceof qr&&R instanceof qr||S instanceof Cr&&R instanceof Cr?cn(S.elements,R.elements,Ur):S instanceof bs&&R instanceof bs?Ur(S.je,R.je):S instanceof on&&R instanceof on);var y,E,S,R}))}function kr(f){return f instanceof oi?f.version:zt.min()}var rr=function(f){function l(h,g,y){var E=this;return(E=f.call(this)||this).key=h,E.value=g,E.Ge=y,E.type=0,E}return U.__extends(l,f),l}(Gr),Wr=function(f){function l(h,g,y,E){var S=this;return(S=f.call(this)||this).key=h,S.data=g,S.We=y,S.Ge=E,S.type=1,S}return U.__extends(l,f),l}(Gr);function ua(f,l){return h=f,g=l instanceof oi?l.data():Or.empty(),y=new Kr(g),h.We.fields.forEach(function(E){if(!E.m()){var S=h.data.field(E);null!==S?y.set(E,S):y.delete(E)}}),y.Xe();var h,g,y}var Hi=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).key=h,y.fieldTransforms=g,y.type=2,y.Ge=Vi.exists(!0),y}return U.__extends(l,f),l}(Gr);function al(f,l){return l}function Zr(f,l,h){for(var g=new Kr(l),y=0;y<f.fieldTransforms.length;y++)g.set(f.fieldTransforms[y].field,h[y]);return g.Xe()}var Tr=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).key=h,y.Ge=g,y.type=3,y}return U.__extends(l,f),l}(Gr),cl=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).key=h,y.Ge=g,y.type=4,y}return U.__extends(l,f),l}(Gr),Or=function(){function f(l){this.proto=l}return f.empty=function(){return new f({mapValue:{}})},f.prototype.field=function(l){if(l.m())return this.proto;for(var h=this.proto,g=0;g<l.length-1;++g)if(!h.mapValue.fields||!Ls(h=h.mapValue.fields[l.get(g)]))return null;return(h=(h.mapValue.fields||{})[l._()])||null},f.prototype.isEqual=function(l){return Ur(this.proto,l.proto)},f}(),Kr=function(){function f(l){void 0===l&&(l=Or.empty()),this.Ze=l,this.tn=new Map}return f.prototype.set=function(l,h){return this.en(l,h),this},f.prototype.delete=function(l){return this.en(l,null),this},f.prototype.en=function(l,h){for(var g=this.tn,y=0;y<l.length-1;++y){var E=l.get(y),S=g.get(E);S instanceof Map?g=S:S&&10===er(S)?(S=new Map(Object.entries(S.mapValue.fields||{})),g.set(E,S),g=S):(g.set(E,S=new Map),g=S)}g.set(l._(),h)},f.prototype.Xe=function(){var l=this.nn(Ge.P(),this.tn);return null!=l?new Or(l):this.Ze},f.prototype.nn=function(l,h){var g=this,y=!1,E=this.Ze.field(l),S=Ls(E)?Object.assign({},E.mapValue.fields):{};return h.forEach(function(R,V){if(R instanceof Map){var Z=g.nn(l.child(V),R);null!=Z&&(S[V]=Z,y=!0)}else null!==R?(S[V]=R,y=!0):S.hasOwnProperty(V)&&(delete S[V],y=!0)}),y?{mapValue:{fields:S}}:null},f}();function di(f){var l=[];return nt(f.fields||{},function(h,g){var y=new Ge([h]);if(Ls(g)){var E=di(g.mapValue).fields;if(0===E.length)l.push(y);else for(var S=0,R=E;S<R.length;S++)l.push(y.child(R[S]))}else l.push(y)}),new Ir(l)}var da=function(f,l){this.key=f,this.version=l},oi=function(f){function l(h,g,y,E){var S=this;return(S=f.call(this,h,g)||this).sn=y,S.Je=!!E.Je,S.hasCommittedMutations=!!E.hasCommittedMutations,S}return U.__extends(l,f),l.prototype.field=function(h){return this.sn.field(h)},l.prototype.data=function(){return this.sn},l.prototype.rn=function(){return this.sn.proto},l.prototype.isEqual=function(h){return h instanceof l&&this.key.isEqual(h.key)&&this.version.isEqual(h.version)&&this.Je===h.Je&&this.hasCommittedMutations===h.hasCommittedMutations&&this.sn.isEqual(h.sn)},l.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(l.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),l}(da),Pr=function(f){function l(h,g,y){var E=this;return(E=f.call(this,h,g)||this).hasCommittedMutations=!(!y||!y.hasCommittedMutations),E}return U.__extends(l,f),l.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(l.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(h){return h instanceof l&&h.hasCommittedMutations===this.hasCommittedMutations&&h.version.isEqual(this.version)&&h.key.isEqual(this.key)},l}(da),Ul=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(l.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),l.prototype.isEqual=function(h){return h instanceof l&&h.version.isEqual(this.version)&&h.key.isEqual(this.key)},l}(da),ws=function(f,l,h,g,y,E,S,R){void 0===l&&(l=null),void 0===h&&(h=[]),void 0===g&&(g=[]),void 0===y&&(y=null),void 0===E&&(E="F"),void 0===S&&(S=null),void 0===R&&(R=null),this.path=f,this.collectionGroup=l,this.on=h,this.filters=g,this.limit=y,this.an=E,this.startAt=S,this.endAt=R,this.cn=null,this.un=null};function Ac(f,l,h,g,y,E,S,R){return new ws(f,l,h,g,y,E,S,R)}function Oa(f){return new ws(f)}function kc(f){return!Te(f.limit)&&"F"===f.an}function ic(f){return!Te(f.limit)&&"L"===f.an}function Vl(f){return f.on.length>0?f.on[0].field:null}function mi(f){for(var l=0,h=f.filters;l<h.length;l++){var g=h[l];if(g.hn())return g.field}return null}function _u(f){return null!==f.collectionGroup}function Oc(f){var l=Ze(f);if(null===l.cn){l.cn=[];var h=mi(l),g=Vl(l);if(null!==h&&null===g)h.p()||l.cn.push(new pa(h)),l.cn.push(new pa(Ge.v(),"asc"));else{for(var y=!1,E=0,S=l.on;E<S.length;E++){var R=S[E];l.cn.push(R),R.field.p()&&(y=!0)}if(!y){var V=l.on.length>0?l.on[l.on.length-1].dir:"asc";l.cn.push(new pa(Ge.v(),V))}}}return l.cn}function Vo(f){var l=Ze(f);if(!l.un)if("F"===l.an)l.un=Fe(l.path,l.collectionGroup,Oc(l),l.filters,l.limit,l.startAt,l.endAt);else{for(var h=[],g=0,y=Oc(l);g<y.length;g++){var E=y[g];h.push(new pa(E.field,"desc"===E.dir?"asc":"desc"))}var R=l.endAt?new wo(l.endAt.position,!l.endAt.before):null,V=l.startAt?new wo(l.startAt.position,!l.startAt.before):null;l.un=Fe(l.path,l.collectionGroup,h,l.filters,l.limit,R,V)}return l.un}function Yd(f,l,h){return new ws(f.path,f.collectionGroup,f.on.slice(),f.filters.slice(),l,h,f.startAt,f.endAt)}function rc(f,l){return new ws(f.path,f.collectionGroup,f.on.slice(),f.filters.slice(),f.limit,f.an,l,f.endAt)}function bo(f,l){return new ws(f.path,f.collectionGroup,f.on.slice(),f.filters.slice(),f.limit,f.an,f.startAt,l)}function oc(f,l){return mn(Vo(f),Vo(l))&&f.an===l.an}function ha(f){return xt(Vo(f))+"|lt:"+f.an}function Cs(f){return"Query(target="+(h=(l=Vo(f)).path.R(),null!==l.collectionGroup&&(h+=" collectionGroup="+l.collectionGroup),l.filters.length>0&&(h+=", filters: ["+l.filters.map(function(g){return(y=g).field.R()+" "+y.op+" "+ls(y.value);var y}).join(", ")+"]"),Te(l.limit)||(h+=", limit: "+l.limit),l.orderBy.length>0&&(h+=", orderBy: ["+l.orderBy.map(function(g){return(y=g).field.R()+" ("+y.dir+")";var y}).join(", ")+"]"),l.startAt&&(h+=", startAt: "+sc(l.startAt)),l.endAt&&(h+=", endAt: "+sc(l.endAt)),"Target("+h+"); limitType=")+f.an+")";var l,h}function Bl(f,l){return y=(g=l).key.path,(null!==(h=f).collectionGroup?g.key.N(h.collectionGroup)&&h.path.T(y):Le.F(h.path)?h.path.isEqual(y):h.path.I(y))&&function(h,g){for(var y=0,E=h.on;y<E.length;y++){var S=E[y];if(!S.field.p()&&null===g.field(S.field))return!1}return!0}(f,l)&&function(h,g){for(var y=0,E=h.filters;y<E.length;y++)if(!E[y].matches(g))return!1;return!0}(f,l)&&function(h,g){return!(h.startAt&&!jl(h.startAt,Oc(h),g)||h.endAt&&jl(h.endAt,Oc(h),g))}(f,l);var h,g,y}function vu(f){return function(l,h){for(var g=!1,y=0,E=Oc(f);y<E.length;y++){var S=E[y],R=ll(S,l,h);if(0!==R)return R;g=g||S.field.p()}return 0}}var Rr=function(f){function l(h,g,y){var E=this;return(E=f.call(this)||this).field=h,E.op=g,E.value=y,E}return U.__extends(l,f),l.create=function(h,g,y){if(h.p())return"in"===g||"not-in"===g?this.ln(h,g,y):new js(h,g,y);if(Xa(y)){if("=="!==g&&"!="!==g)throw new G(z.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new l(h,g,y)}if($r(y)){if("=="!==g&&"!="!==g)throw new G(z.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new l(h,g,y)}return"array-contains"===g?new ur(h,y):"in"===g?new Pa(h,y):"not-in"===g?new Yr(h,y):"array-contains-any"===g?new Rc(h,y):new l(h,g,y)},l.ln=function(h,g,y){return"in"===g?new fa(h,y):new Pc(h,y)},l.prototype.matches=function(h){var g=h.field(this.field);return"!="===this.op?null!==g&&this._n(Da(g,this.value)):null!==g&&er(this.value)===er(g)&&this._n(Da(g,this.value))},l.prototype._n=function(h){switch(this.op){case"<":return h<0;case"<=":return h<=0;case"==":return 0===h;case"!=":return 0!==h;case">":return h>0;case">=":return h>=0;default:return Re()}},l.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},l}(function(){}),js=function(f){function l(h,g,y){var E=this;return(E=f.call(this,h,g,y)||this).key=Le.C(y.referenceValue),E}return U.__extends(l,f),l.prototype.matches=function(h){var g=Le.i(h.key,this.key);return this._n(g)},l}(Rr),fa=function(f){function l(h,g){var y=this;return(y=f.call(this,h,"in",g)||this).keys=Bo(0,g),y}return U.__extends(l,f),l.prototype.matches=function(h){return this.keys.some(function(g){return g.isEqual(h.key)})},l}(Rr),Pc=function(f){function l(h,g){var y=this;return(y=f.call(this,h,"not-in",g)||this).keys=Bo(0,g),y}return U.__extends(l,f),l.prototype.matches=function(h){return!this.keys.some(function(g){return g.isEqual(h.key)})},l}(Rr);function Bo(f,l){var h;return((null===(h=l.arrayValue)||void 0===h?void 0:h.values)||[]).map(function(g){return Le.C(g.referenceValue)})}var ur=function(f){function l(h,g){return f.call(this,h,"array-contains",g)||this}return U.__extends(l,f),l.prototype.matches=function(h){var g=h.field(this.field);return Cc(g)&&_o(g.arrayValue,this.value)},l}(Rr),Pa=function(f){function l(h,g){return f.call(this,h,"in",g)||this}return U.__extends(l,f),l.prototype.matches=function(h){var g=h.field(this.field);return null!==g&&_o(this.value.arrayValue,g)},l}(Rr),Yr=function(f){function l(h,g){return f.call(this,h,"not-in",g)||this}return U.__extends(l,f),l.prototype.matches=function(h){if(_o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var g=h.field(this.field);return null!==g&&!_o(this.value.arrayValue,g)},l}(Rr),Rc=function(f){function l(h,g){return f.call(this,h,"array-contains-any",g)||this}return U.__extends(l,f),l.prototype.matches=function(h){var g=this,y=h.field(this.field);return!(!Cc(y)||!y.arrayValue.values)&&y.arrayValue.values.some(function(E){return _o(g.value.arrayValue,E)})},l}(Rr),wo=function(f,l){this.position=f,this.before=l};function sc(f){return(f.before?"b":"a")+":"+f.position.map(function(l){return ls(l)}).join(",")}function jl(f,l,h){for(var g=0,y=0;y<f.position.length;y++){var E=l[y],S=f.position[y];if(g=E.field.p()?Le.i(Le.C(S.referenceValue),h.key):Da(S,h.field(E.field)),"desc"===E.dir&&(g*=-1),0!==g)break}return f.before?g<=0:g<0}function zs(f,l){if(null===f)return null===l;if(null===l||f.before!==l.before||f.position.length!==l.position.length)return!1;for(var h=0;h<f.position.length;h++)if(!Ur(f.position[h],l.position[h]))return!1;return!0}var pa=function(f,l){void 0===l&&(l="asc"),this.field=f,this.dir=l};function ll(f,l,h){var y,S,R,V,g=f.field.p()?Le.i(l.key,h.key):(S=h,R=l.field(y=f.field),V=S.field(y),null!==R&&null!==V?Da(R,V):Re());switch(f.dir){case"asc":return g;case"desc":return-1*g;default:return Re()}}function yi(f,l){return f.dir===l.dir&&f.field.isEqual(l.field)}var jo=function(){var f=this;this.promise=new Promise(function(l,h){f.resolve=l,f.reject=h})},Ra=function(){function f(l,h,g,y,E){void 0===g&&(g=1e3),void 0===y&&(y=1.5),void 0===E&&(E=6e4),this.fn=l,this.dn=h,this.wn=g,this.mn=y,this.Tn=E,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return f.prototype.reset=function(){this.En=0},f.prototype.Rn=function(){this.En=this.Tn},f.prototype.gn=function(l){var h=this;this.cancel();var g=Math.floor(this.En+this.Pn()),y=Math.max(0,Date.now()-this.An),E=Math.max(0,g-y);E>0&&me("ExponentialBackoff","Backing off for "+E+" ms (base delay: "+this.En+" ms, delay with jitter: "+g+" ms, last attempt: "+y+" ms ago)"),this.In=this.fn.yn(this.dn,E,function(){return h.An=Date.now(),l()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},f.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},f.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},f.prototype.Pn=function(){return(Math.random()-.5)*this.En},f}(),It=function(){function f(l){var h=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,l(function(g){h.Sn=!0,h.result=g,h.bn&&h.bn(g)},function(g){h.Sn=!0,h.error=g,h.vn&&h.vn(g)})}return f.prototype.catch=function(l){return this.next(void 0,l)},f.prototype.next=function(l,h){var g=this;return this.Dn&&Re(),this.Dn=!0,this.Sn?this.error?this.Cn(h,this.error):this.Nn(l,this.result):new f(function(y,E){g.bn=function(S){g.Nn(l,S).next(y,E)},g.vn=function(S){g.Cn(h,S).next(y,E)}})},f.prototype.Fn=function(){var l=this;return new Promise(function(h,g){l.next(h,g)})},f.prototype.xn=function(l){try{var h=l();return h instanceof f?h:f.resolve(h)}catch(g){return f.reject(g)}},f.prototype.Nn=function(l,h){return l?this.xn(function(){return l(h)}):f.resolve(h)},f.prototype.Cn=function(l,h){return l?this.xn(function(){return l(h)}):f.reject(h)},f.resolve=function(l){return new f(function(h,g){h(l)})},f.reject=function(l){return new f(function(h,g){g(l)})},f.$n=function(l){return new f(function(h,g){var y=0,E=0,S=!1;l.forEach(function(R){++y,R.next(function(){++E,S&&E===y&&h()},function(V){return g(V)})}),S=!0,E===y&&h()})},f.kn=function(l){for(var h=f.resolve(!1),g=function(S){h=h.next(function(R){return R?f.resolve(R):S()})},y=0,E=l;y<E.length;y++)g(E[y]);return h},f.forEach=function(l,h){var g=this,y=[];return l.forEach(function(E,S){y.push(h.call(g,E,S))}),this.$n(y)},f}(),es=function(){function f(l,h,g){this.name=l,this.version=h,this.Mn=g,12.2===f.On(ce.getUA())&&lt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return f.delete=function(l){return me("SimpleDb","Removing database:",l),Na(window.indexedDB.deleteDatabase(l)).Fn()},f.Ln=function(){if(typeof indexedDB>"u")return!1;if(f.Bn())return!0;var l=ce.getUA(),h=f.On(l),g=0<h&&h<10,y=f.qn(l),E=0<y&&y<4.5;return!(l.indexOf("MSIE ")>0||l.indexOf("Trident/")>0||l.indexOf("Edge/")>0||g||E)},f.Bn=function(){var l;return typeof process<"u"&&"YES"===(null===(l=process.env)||void 0===l?void 0:l.Un)},f.Qn=function(l,h){return l.store(h)},f.On=function(l){var h=l.match(/i(?:phone|pad|pod) os ([\d_]+)/i),g=h?h[1].split("_").slice(0,2).join("."):"-1";return Number(g)},f.qn=function(l){var h=l.match(/Android ([\d.]+)/i),g=h?h[1].split(".").slice(0,2).join("."):"-1";return Number(g)},f.prototype.Wn=function(l){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.db?[3,2]:(me("SimpleDb","Opening database:",this.name),h=this,[4,new Promise(function(E,S){var R=indexedDB.open(g.name,g.version);R.onsuccess=function(V){E(V.target.result)},R.onblocked=function(){S(new Co(l,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},R.onerror=function(V){var Z=V.target.error;S("VersionError"===Z.name?new G(z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Co(l,Z))},R.onupgradeneeded=function(V){me("SimpleDb",'Database "'+g.name+'" requires upgrade from version:',V.oldVersion),g.Mn.createOrUpgrade(V.target.result,R.transaction,V.oldVersion,g.version).next(function(){me("SimpleDb","Database upgrade to version "+g.version+" complete")})}})]);case 1:h.db=y.sent(),y.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(E){return g.jn(E)}),this.db)]}})})},f.prototype.Kn=function(l){this.jn=l,this.db&&(this.db.onversionchange=function(h){return l(h)})},f.prototype.runTransaction=function(l,h,g,y){return U.__awaiter(this,void 0,void 0,function(){var E,S,R,V,Z;return U.__generator(this,function(re){switch(re.label){case 0:E="readonly"===h,S=0,R=function(){var ge,_e,Oe,et,ht;return U.__generator(this,function(an){switch(an.label){case 0:++S,an.label=1;case 1:return an.trys.push([1,4,,5]),[4,V.Wn(l)];case 2:return V.db=an.sent(),ge=Fc.open(V.db,l,E?"readonly":"readwrite",g),_e=y(ge).catch(function(Jt){return ge.abort(Jt),It.reject(Jt)}).Fn(),Oe={},_e.catch(function(){}),[4,ge.Gn];case 3:return[2,(Oe.value=(an.sent(),_e),Oe)];case 4:return me("SimpleDb","Transaction failed with error:",(et=an.sent()).message,"Retrying:",ht="FirebaseError"!==et.name&&S<3),V.close(),ht?[3,5]:[2,{value:Promise.reject(et)}];case 5:return[2]}})},V=this,re.label=1;case 1:return[5,R()];case 2:if("object"==typeof(Z=re.sent()))return[2,Z.value];re.label=3;case 3:return[3,1];case 4:return[2]}})})},f.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},f}(),Nc=function(){function f(l){this.zn=l,this.Hn=!1,this.Yn=null}return Object.defineProperty(f.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cursor",{set:function(l){this.zn=l},enumerable:!1,configurable:!0}),f.prototype.done=function(){this.Hn=!0},f.prototype.Xn=function(l){this.Yn=l},f.prototype.delete=function(){return Na(this.zn.delete())},f}(),Co=function(f){function l(h,g){var y=this;return(y=f.call(this,z.UNAVAILABLE,"IndexedDB transaction '"+h+"' failed: "+g)||this).name="IndexedDbTransactionError",y}return U.__extends(l,f),l}(G);function Hs(f){return"IndexedDbTransactionError"===f.name}var Fc=function(){function f(l,h){var g=this;this.action=l,this.transaction=h,this.aborted=!1,this.Zn=new jo,this.transaction.oncomplete=function(){g.Zn.resolve()},this.transaction.onabort=function(){h.error?g.Zn.reject(new Co(l,h.error)):g.Zn.resolve()},this.transaction.onerror=function(y){var E=N(y.target.error);g.Zn.reject(new Co(l,E))}}return f.open=function(l,h,g,y){try{return new f(h,l.transaction(y,g))}catch(E){throw new Co(h,E)}},Object.defineProperty(f.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),f.prototype.abort=function(l){l&&this.Zn.reject(l),this.aborted||(me("SimpleDb","Aborting transaction:",l?l.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},f.prototype.store=function(l){var h=this.transaction.objectStore(l);return new Xu(h)},f}(),Xu=function(){function f(l){this.store=l}return f.prototype.put=function(l,h){var g;return void 0!==h?(me("SimpleDb","PUT",this.store.name,l,h),g=this.store.put(h,l)):(me("SimpleDb","PUT",this.store.name,"<auto-key>",l),g=this.store.put(l)),Na(g)},f.prototype.add=function(l){return me("SimpleDb","ADD",this.store.name,l,l),Na(this.store.add(l))},f.prototype.get=function(l){var h=this;return Na(this.store.get(l)).next(function(g){return void 0===g&&(g=null),me("SimpleDb","GET",h.store.name,l,g),g})},f.prototype.delete=function(l){return me("SimpleDb","DELETE",this.store.name,l),Na(this.store.delete(l))},f.prototype.count=function(){return me("SimpleDb","COUNT",this.store.name),Na(this.store.count())},f.prototype.ts=function(l,h){var g=this.cursor(this.options(l,h)),y=[];return this.es(g,function(E,S){y.push(S)}).next(function(){return y})},f.prototype.ns=function(l,h){me("SimpleDb","DELETE ALL",this.store.name);var g=this.options(l,h);g.ss=!1;var y=this.cursor(g);return this.es(y,function(E,S,R){return R.delete()})},f.prototype.rs=function(l,h){var g;h?g=l:(g={},h=l);var y=this.cursor(g);return this.es(y,h)},f.prototype.os=function(l){var h=this.cursor({});return new It(function(g,y){h.onerror=function(E){var S=N(E.target.error);y(S)},h.onsuccess=function(E){var S=E.target.result;S?l(S.primaryKey,S.value).next(function(R){R?S.continue():g()}):g()}})},f.prototype.es=function(l,h){var g=[];return new It(function(y,E){l.onerror=function(S){E(S.target.error)},l.onsuccess=function(S){var R=S.target.result;if(R){var V=new Nc(R),Z=h(R.primaryKey,R.value,V);if(Z instanceof It){var re=Z.catch(function(ge){return V.done(),It.reject(ge)});g.push(re)}V.Sn?y():null===V.Jn?R.continue():R.continue(V.Jn)}else y()}}).next(function(){return It.$n(g)})},f.prototype.options=function(l,h){var g=void 0;return void 0!==l&&("string"==typeof l?g=l:h=l),{index:g,range:h}},f.prototype.cursor=function(l){var h="next";if(l.reverse&&(h="prev"),l.index){var g=this.store.index(l.index);return l.ss?g.openKeyCursor(l.range,h):g.openCursor(l.range,h)}return this.store.openCursor(l.range,h)},f}();function Na(f){return new It(function(l,h){f.onsuccess=function(g){l(g.target.result)},f.onerror=function(g){var y=N(g.target.error);h(y)}})}var C=!1;function N(f){var l=es.On(ce.getUA());if(l>=12.2&&l<13){var h="An internal error was encountered in the Indexed Database server";if(f.message.indexOf(h)>=0){var g=new G("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+h+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return C||(C=!0,setTimeout(function(){throw g},0)),g}}return f}function j(){return typeof window<"u"?window:null}function ee(){return typeof document<"u"?document:null}var ve=function(){function f(l,h,g,y,E){this.cs=l,this.dn=h,this.us=g,this.op=y,this.hs=E,this.ls=new jo,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(S){})}return f._s=function(l,h,g,y,E){var S=new f(l,h,Date.now()+g,y,E);return S.start(g),S},f.prototype.start=function(l){var h=this;this.fs=setTimeout(function(){return h.ds()},l)},f.prototype.pn=function(){return this.ds()},f.prototype.cancel=function(l){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new G(z.CANCELLED,"Operation cancelled"+(l?": "+l:""))))},f.prototype.ds=function(){var l=this;this.cs.ws(function(){return null!==l.fs?(l.clearTimeout(),l.op().then(function(h){return l.ls.resolve(h)})):Promise.resolve()})},f.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},f}(),Ye=function(){function f(){var l=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new Ra(this,"async_queue_retry"),this.Vs=function(){var g=ee();g&&me("AsyncQueue","Visibility state changed to  ",g.visibilityState),l.ys.Vn()};var h=ee();h&&"function"==typeof h.addEventListener&&h.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(f.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),f.prototype.ws=function(l){this.enqueue(l)},f.prototype.bs=function(l){this.vs(),this.Ss(l)},f.prototype.Ds=function(){if(!this.Is){this.Is=!0;var l=ee();l&&"function"==typeof l.removeEventListener&&l.removeEventListener("visibilitychange",this.Vs)}},f.prototype.enqueue=function(l){return this.vs(),this.Is?new Promise(function(h){}):this.Ss(l)},f.prototype.Cs=function(l){var h=this;this.ws(function(){return h.Es.push(l),h.Ns()})},f.prototype.Ns=function(){return U.__awaiter(this,void 0,void 0,function(){var l,h=this;return U.__generator(this,function(g){switch(g.label){case 0:if(0===this.Es.length)return[3,5];g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return g.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!Hs(l=g.sent()))throw l;return me("AsyncQueue","Operation failed with retryable error: "+l),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return h.Ns()}),g.label=5;case 5:return[2]}})})},f.prototype.Ss=function(l){var h=this,g=this.Ts.then(function(){return h.gs=!0,l().catch(function(y){throw h.Rs=y,h.gs=!1,lt("INTERNAL UNHANDLED ERROR: ",(S=(E=y).message||"",E.stack&&(S=E.stack.includes(E.message)?E.stack:E.message+"\n"+E.stack),S)),y;var E,S}).then(function(y){return h.gs=!1,y})});return this.Ts=g,g},f.prototype.yn=function(l,h,g){var y=this;this.vs(),this.Ps.indexOf(l)>-1&&(h=0);var E=ve._s(this,l,h,g,function(S){return y.Fs(S)});return this.As.push(E),E},f.prototype.vs=function(){this.Rs&&Re()},f.prototype.xs=function(){},f.prototype.$s=function(){return U.__awaiter(this,void 0,void 0,function(){var l;return U.__generator(this,function(h){switch(h.label){case 0:return[4,l=this.Ts];case 1:h.sent(),h.label=2;case 2:if(l!==this.Ts)return[3,0];h.label=3;case 3:return[2]}})})},f.prototype.ks=function(l){for(var h=0,g=this.As;h<g.length;h++)if(g[h].dn===l)return!0;return!1},f.prototype.Ms=function(l){var h=this;return this.$s().then(function(){h.As.sort(function(S,R){return S.us-R.us});for(var g=0,y=h.As;g<y.length;g++){var E=y[g];if(E.pn(),"all"!==l&&E.dn===l)break}return h.$s()})},f.prototype.Os=function(l){this.Ps.push(l)},f.prototype.Fs=function(l){var h=this.As.indexOf(l);this.As.splice(h,1)},f}();function Rt(f,l){if(lt("AsyncQueue",l+": "+f),Hs(f))return new G(z.UNAVAILABLE,l+": "+f);throw f}var Gn=function(){this.Ls=void 0,this.listeners=[]},ti=function(){this.Bs=new Yt(function(f){return ha(f)},oc),this.onlineState="Unknown",this.qs=new Set};function dr(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y,E,S,R,V;return U.__generator(this,function(Z){switch(Z.label){case 0:if(h=Ze(f),y=!1,(E=h.Bs.get(g=l.query))||(y=!0,E=new Gn),!y)return[3,4];Z.label=1;case 1:return Z.trys.push([1,3,,4]),S=E,[4,h.Us(g)];case 2:return S.Ls=Z.sent(),[3,4];case 3:return R=Z.sent(),V=Rt(R,"Initialization of query '"+Cs(l.query)+"' failed"),[2,void l.onError(V)];case 4:return h.Bs.set(g,E),E.listeners.push(l),l.Qs(h.onlineState),E.Ls&&l.Ws(E.Ls)&&$s(h),[2]}})})}function xo(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y,E,S;return U.__generator(this,function(R){return h=Ze(f),y=!1,(E=h.Bs.get(g=l.query))&&(S=E.listeners.indexOf(l))>=0&&(E.listeners.splice(S,1),y=0===E.listeners.length),y?[2,(h.Bs.delete(g),h.js(g))]:[2]})})}function ts(f,l){for(var h=Ze(f),g=!1,y=0,E=l;y<E.length;y++){var S=E[y],V=h.Bs.get(S.query);if(V){for(var Z=0,re=V.listeners;Z<re.length;Z++)re[Z].Ws(S)&&(g=!0);V.Ls=S}}g&&$s(h)}function Lc(f,l,h){var g=Ze(f),y=g.Bs.get(l);if(y)for(var E=0,S=y.listeners;E<S.length;E++)S[E].onError(h);g.Bs.delete(l)}function $s(f){f.qs.forEach(function(l){l.next()})}var ul=function(){function f(l,h,g){this.query=l,this.Ks=h,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=g||{}}return f.prototype.Ws=function(l){if(!this.options.includeMetadataChanges){for(var h=[],g=0,y=l.docChanges;g<y.length;g++){var E=y[g];3!==E.type&&h.push(E)}l=new xn(l.query,l.docs,l.Qt,h,l.Wt,l.fromCache,l.jt,!0)}var S=!1;return this.Gs?this.Hs(l)&&(this.Ks.next(l),S=!0):this.Ys(l,this.onlineState)&&(this.Js(l),S=!0),this.zs=l,S},f.prototype.onError=function(l){this.Ks.error(l)},f.prototype.Qs=function(l){this.onlineState=l;var h=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,l)&&(this.Js(this.zs),h=!0),h},f.prototype.Ys=function(l,h){return!l.fromCache||!(this.options.Xs&&"Offline"!==h||l.docs.m()&&"Offline"!==h)},f.prototype.Hs=function(l){return l.docChanges.length>0||!!(l.jt||this.zs&&this.zs.hasPendingWrites!==l.hasPendingWrites)&&!0===this.options.includeMetadataChanges},f.prototype.Js=function(l){l=xn.Gt(l.query,l.docs,l.Wt,l.fromCache),this.Gs=!0,this.Ks.next(l)},f}(),Eo=function(){function f(l){this.uid=l}return f.prototype.Zs=function(){return null!=this.uid},f.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},f.prototype.isEqual=function(l){return l.uid===this.uid},f}();Eo.UNAUTHENTICATED=new Eo(null),Eo.ei=new Eo("google-credentials-uid"),Eo.ni=new Eo("first-party-uid");var Io=function(){function f(l,h){var g=this;this.previousValue=l,h&&(h.si=function(y){return g.ii(y)},this.ri=function(y){return h.oi(y)})}return f.prototype.ii=function(l){return this.previousValue=Math.max(l,this.previousValue),this.previousValue},f.prototype.next=function(){var l=++this.previousValue;return this.ri&&this.ri(l),l},f}();function ed(f,l){return"firestore_clients_"+f+"_"+l}function zh(f,l,h){var g="firestore_mutations_"+f+"_"+h;return l.Zs()&&(g+="_"+l.uid),g}function yu(f,l){return"firestore_targets_"+f+"_"+l}Io.ai=-1;var Hh=function(){function f(l,h,g,y){this.user=l,this.batchId=h,this.state=g,this.error=y}return f.ci=function(l,h,g){var y=JSON.parse(g),E="object"==typeof y&&-1!==["pending","acknowledged","rejected"].indexOf(y.state)&&(void 0===y.error||"object"==typeof y.error),S=void 0;return E&&y.error&&(E="string"==typeof y.error.message&&"string"==typeof y.error.code)&&(S=new G(y.error.code,y.error.message)),E?new f(l,h,y.state,S):(lt("SharedClientState","Failed to parse mutation state for ID '"+h+"': "+g),null)},f.prototype.ui=function(){var l={state:this.state,updateTimeMs:Date.now()};return this.error&&(l.error={code:this.error.code,message:this.error.message}),JSON.stringify(l)},f}(),zl=function(){function f(l,h,g){this.targetId=l,this.state=h,this.error=g}return f.ci=function(l,h){var g=JSON.parse(h),y="object"==typeof g&&-1!==["not-current","current","rejected"].indexOf(g.state)&&(void 0===g.error||"object"==typeof g.error),E=void 0;return y&&g.error&&(y="string"==typeof g.error.message&&"string"==typeof g.error.code)&&(E=new G(g.error.code,g.error.message)),y?new f(l,g.state,E):(lt("SharedClientState","Failed to parse target state for ID '"+l+"': "+h),null)},f.prototype.ui=function(){var l={state:this.state,updateTimeMs:Date.now()};return this.error&&(l.error={code:this.error.code,message:this.error.message}),JSON.stringify(l)},f}(),Hl=function(){function f(l,h){this.clientId=l,this.activeTargetIds=h}return f.ci=function(l,h){for(var g=JSON.parse(h),y="object"==typeof g&&g.activeTargetIds instanceof Array,E=yn(),S=0;y&&S<g.activeTargetIds.length;++S)y=Ee(g.activeTargetIds[S]),E=E.add(g.activeTargetIds[S]);return y?new f(l,E):(lt("SharedClientState","Failed to parse client data for instance '"+l+"': "+h),null)},f}(),td=function(){function f(l,h){this.clientId=l,this.onlineState=h}return f.ci=function(l){var h=JSON.parse(l);return"object"==typeof h&&-1!==["Unknown","Online","Offline"].indexOf(h.onlineState)&&"string"==typeof h.clientId?new f(h.clientId,h.onlineState):(lt("SharedClientState","Failed to parse online state: "+l),null)},f}(),xs=function(){function f(){this.activeTargetIds=yn()}return f.prototype.hi=function(l){this.activeTargetIds=this.activeTargetIds.add(l)},f.prototype.li=function(l){this.activeTargetIds=this.activeTargetIds.delete(l)},f.prototype.ui=function(){var l={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(l)},f}(),Uc=function(){function f(l,h,g,y,E){this.window=l,this.fn=h,this.persistenceKey=g,this._i=y,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new qn(Ut),this.Ei=!1,this.Ii=[];var S=g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=E,this.Ai=ed(this.persistenceKey,this._i),this.Ri="firestore_sequence_number_"+this.persistenceKey,this.Ti=this.Ti.ot(this._i,new xs),this.gi=new RegExp("^firestore_clients_"+S+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+S+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+S+"_(\\d+)$"),this.Vi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.wi)}return f.Ln=function(l){return!(!l||!l.localStorage)},f.prototype.start=function(){return U.__awaiter(this,void 0,void 0,function(){var l,h,g,y,E,S,R,V,Z,re,_e=this;return U.__generator(this,function(Oe){switch(Oe.label){case 0:return[4,this.fi.pi()];case 1:for(l=Oe.sent(),h=0,g=l;h<g.length;h++)(y=g[h])!==this._i&&(E=this.getItem(ed(this.persistenceKey,y)))&&(S=Hl.ci(y,E))&&(this.Ti=this.Ti.ot(S.clientId,S));for(this.bi(),(R=this.storage.getItem(this.Vi))&&(V=this.vi(R))&&this.Si(V),Z=0,re=this.Ii;Z<re.length;Z++)this.mi(re[Z]);return this.Ii=[],this.window.addEventListener("unload",function(){return _e.Di()}),this.Ei=!0,[2]}})})},f.prototype.oi=function(l){this.setItem(this.Ri,JSON.stringify(l))},f.prototype.Ci=function(){return this.Ni(this.Ti)},f.prototype.Fi=function(l){var h=!1;return this.Ti.forEach(function(g,y){y.activeTargetIds.has(l)&&(h=!0)}),h},f.prototype.xi=function(l){this.$i(l,"pending")},f.prototype.ki=function(l,h,g){this.$i(l,h,g),this.Mi(l)},f.prototype.Oi=function(l){var h="not-current";if(this.Fi(l)){var g=this.storage.getItem(yu(this.persistenceKey,l));if(g){var y=zl.ci(l,g);y&&(h=y.state)}}return this.Li.hi(l),this.bi(),h},f.prototype.Bi=function(l){this.Li.li(l),this.bi()},f.prototype.qi=function(l){return this.Li.activeTargetIds.has(l)},f.prototype.Ui=function(l){this.removeItem(yu(this.persistenceKey,l))},f.prototype.Qi=function(l,h,g){this.Wi(l,h,g)},f.prototype.ji=function(l,h,g){var y=this;h.forEach(function(E){y.Mi(E)}),this.currentUser=l,g.forEach(function(E){y.xi(E)})},f.prototype.Ki=function(l){this.Gi(l)},f.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},f.prototype.getItem=function(l){var h=this.storage.getItem(l);return me("SharedClientState","READ",l,h),h},f.prototype.setItem=function(l,h){me("SharedClientState","SET",l,h),this.storage.setItem(l,h)},f.prototype.removeItem=function(l){me("SharedClientState","REMOVE",l),this.storage.removeItem(l)},f.prototype.mi=function(l){var h=this,g=l;if(g.storageArea===this.storage){if(me("SharedClientState","EVENT",g.key,g.newValue),g.key===this.Ai)return void lt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return U.__awaiter(h,void 0,void 0,function(){var y,E,S,R,V,Z;return U.__generator(this,function(re){if(this.Ei){if(null!==g.key)if(this.gi.test(g.key)){if(null==g.newValue)return y=this.zi(g.key),[2,this.Hi(y,null)];if(E=this.Yi(g.key,g.newValue))return[2,this.Hi(E.clientId,E)]}else if(this.Pi.test(g.key)){if(null!==g.newValue&&(S=this.Ji(g.key,g.newValue)))return[2,this.Xi(S)]}else if(this.yi.test(g.key)){if(null!==g.newValue&&(R=this.Zi(g.key,g.newValue)))return[2,this.tr(R)]}else if(g.key===this.Vi){if(null!==g.newValue&&(V=this.vi(g.newValue)))return[2,this.Si(V)]}else g.key===this.Ri&&(Z=function(ge){var _e=Io.ai;if(null!=ge)try{var Oe=JSON.parse(ge);at("number"==typeof Oe),_e=Oe}catch(et){lt("SharedClientState","Failed to read sequence number from WebStorage",et)}return _e}(g.newValue))!==Io.ai&&this.si(Z)}else this.Ii.push(g);return[2]})})})}},Object.defineProperty(f.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),f.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},f.prototype.$i=function(l,h,g){var y=new Hh(this.currentUser,l,h,g),E=zh(this.persistenceKey,this.currentUser,l);this.setItem(E,y.ui())},f.prototype.Mi=function(l){var h=zh(this.persistenceKey,this.currentUser,l);this.removeItem(h)},f.prototype.Gi=function(l){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:l}))},f.prototype.Wi=function(l,h,g){var y=yu(this.persistenceKey,l),E=new zl(l,h,g);this.setItem(y,E.ui())},f.prototype.zi=function(l){var h=this.gi.exec(l);return h?h[1]:null},f.prototype.Yi=function(l,h){var g=this.zi(l);return Hl.ci(g,h)},f.prototype.Ji=function(l,h){var g=this.Pi.exec(l),y=Number(g[1]);return Hh.ci(new Eo(void 0!==g[2]?g[2]:null),y,h)},f.prototype.Zi=function(l,h){var g=this.yi.exec(l),y=Number(g[1]);return zl.ci(y,h)},f.prototype.vi=function(l){return td.ci(l)},f.prototype.Xi=function(l){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){return l.user.uid===this.currentUser.uid?[2,this.fi.er(l.batchId,l.state,l.error)]:(me("SharedClientState","Ignoring mutation for non-active user "+l.user.uid),[2])})})},f.prototype.tr=function(l){return this.fi.nr(l.targetId,l.state,l.error)},f.prototype.Hi=function(l,h){var g=this,y=h?this.Ti.ot(l,h):this.Ti.remove(l),E=this.Ni(this.Ti),S=this.Ni(y),R=[],V=[];return S.forEach(function(Z){E.has(Z)||R.push(Z)}),E.forEach(function(Z){S.has(Z)||V.push(Z)}),this.fi.sr(R,V).then(function(){g.Ti=y})},f.prototype.Si=function(l){this.Ti.get(l.clientId)&&this.di(l.onlineState)},f.prototype.Ni=function(l){var h=yn();return l.forEach(function(g,y){h=h.kt(y.activeTargetIds)}),h},f}(),dl=function(){function f(){this.ir=new xs,this.rr={},this.di=null,this.si=null}return f.prototype.xi=function(l){},f.prototype.ki=function(l,h,g){},f.prototype.Oi=function(l){return this.ir.hi(l),this.rr[l]||"not-current"},f.prototype.Qi=function(l,h,g){this.rr[l]=h},f.prototype.Bi=function(l){this.ir.li(l)},f.prototype.qi=function(l){return this.ir.activeTargetIds.has(l)},f.prototype.Ui=function(l){delete this.rr[l]},f.prototype.Ci=function(){return this.ir.activeTargetIds},f.prototype.Fi=function(l){return this.ir.activeTargetIds.has(l)},f.prototype.start=function(){return this.ir=new xs,Promise.resolve()},f.prototype.ji=function(l,h,g){},f.prototype.Ki=function(l){},f.prototype.Di=function(){},f.prototype.oi=function(l){},f}(),nd=function(){function f(l,h,g,y){this.batchId=l,this.ar=h,this.baseMutations=g,this.mutations=y}return f.prototype.cr=function(l,h,g){for(var y=g.ur,E=0;E<this.mutations.length;E++){var S=this.mutations[E];S.key.isEqual(l)&&(h=ei(S,h,y[E]))}return h},f.prototype.hr=function(l,h){for(var g=0,y=this.baseMutations;g<y.length;g++){var E=y[g];E.key.isEqual(l)&&(h=Mc(E,h,h,this.ar))}for(var S=h,R=0,V=this.mutations;R<V.length;R++){var Z=V[R];Z.key.isEqual(l)&&(h=Mc(Z,h,S,this.ar))}return h},f.prototype.lr=function(l){var h=this,g=l;return this.mutations.forEach(function(y){var E=h.hr(y.key,l.get(y.key));E&&(g=g.ot(y.key,E))}),g},f.prototype.keys=function(){return this.mutations.reduce(function(l,h){return l.add(h.key)},Qe())},f.prototype.isEqual=function(l){return this.batchId===l.batchId&&cn(this.mutations,l.mutations,function(h,g){return ka(h,g)})&&cn(this.baseMutations,l.baseMutations,function(h,g){return ka(h,g)})},f}(),bu=function(){function f(l,h,g,y){this.batch=l,this._r=h,this.ur=g,this.dr=y}return f.from=function(l,h,g){at(l.mutations.length===g.length);for(var y=Y,E=l.mutations,S=0;S<E.length;S++)y=y.ot(E[S].key,g[S].version);return new f(l,h,g,y)},f}(),Qf=function(){function f(){this.wr=new Yt(function(l){return l.toString()},function(l,h){return l.isEqual(h)}),this.mr=!1}return Object.defineProperty(f.prototype,"readTime",{get:function(){return this.Tr},set:function(l){this.Tr=l},enumerable:!1,configurable:!0}),f.prototype.Er=function(l,h){this.Ir(),this.readTime=h,this.wr.set(l.key,l)},f.prototype.Ar=function(l,h){this.Ir(),h&&(this.readTime=h),this.wr.set(l,null)},f.prototype.Rr=function(l,h){this.Ir();var g=this.wr.get(h);return void 0!==g?It.resolve(g):this.gr(l,h)},f.prototype.getEntries=function(l,h){return this.Pr(l,h)},f.prototype.apply=function(l){return this.Ir(),this.mr=!0,this.yr(l)},f.prototype.Ir=function(){},f}(),Es="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qd=function(){function f(){this.Vr=[]}return f.prototype.pr=function(l){this.Vr.push(l)},f.prototype.br=function(){this.Vr.forEach(function(l){return l()})},f}(),wu=function(){function f(l,h,g){this.vr=l,this.Sr=h,this.Dr=g}return f.prototype.Cr=function(l,h){var g=this;return this.Sr.Nr(l,h).next(function(y){return g.Fr(l,h,y)})},f.prototype.Fr=function(l,h,g){return this.vr.Rr(l,h).next(function(y){for(var E=0,S=g;E<S.length;E++)y=S[E].hr(h,y);return y})},f.prototype.$r=function(l,h,g){var y=le();return h.forEach(function(E,S){for(var R=0,V=g;R<V.length;R++)S=V[R].hr(E,S);y=y.ot(E,S)}),y},f.prototype.kr=function(l,h){var g=this;return this.vr.getEntries(l,h).next(function(y){return g.Mr(l,y)})},f.prototype.Mr=function(l,h){var g=this;return this.Sr.Or(l,h).next(function(y){var E=g.$r(l,h,y),S=fe();return E.forEach(function(R,V){V||(V=new Pr(R,zt.min())),S=S.ot(R,V)}),S})},f.prototype.Lr=function(l,h,g){return Le.F((y=h).path)&&null===y.collectionGroup&&0===y.filters.length?this.Br(l,h.path):_u(h)?this.qr(l,h,g):this.Ur(l,h,g);var y},f.prototype.Br=function(l,h){return this.Cr(l,new Le(h)).next(function(g){var y=te();return g instanceof oi&&(y=y.ot(g.key,g)),y})},f.prototype.qr=function(l,h,g){var y=this,E=h.collectionGroup,S=te();return this.Dr.Qr(l,E).next(function(R){return It.forEach(R,function(V){var re,ge,Z=(re=h,ge=V.child(E),new ws(ge,null,re.on.slice(),re.filters.slice(),re.limit,re.an,re.startAt,re.endAt));return y.Ur(l,Z,g).next(function(re){re.forEach(function(ge,_e){S=S.ot(ge,_e)})})}).next(function(){return S})})},f.prototype.Ur=function(l,h,g){var y,E,S=this;return this.vr.Lr(l,h,g).next(function(R){return y=R,S.Sr.Wr(l,h)}).next(function(R){return S.jr(l,E=R,y).next(function(V){y=V;for(var Z=0,re=E;Z<re.length;Z++)for(var ge=re[Z],_e=0,Oe=ge.mutations;_e<Oe.length;_e++){var et=Oe[_e],ht=et.key,an=y.get(ht),Jt=Mc(et,an,an,ge.ar);y=Jt instanceof oi?y.ot(ht,Jt):y.remove(ht)}})}).next(function(){return y.forEach(function(R,V){Bl(h,V)||(y=y.remove(R))}),y})},f.prototype.jr=function(l,h,g){for(var y=Qe(),E=0,S=h;E<S.length;E++)for(var R=0,V=S[E].mutations;R<V.length;R++){var Z=V[R];Z instanceof Wr&&null===g.get(Z.key)&&(y=y.add(Z.key))}var re=g;return this.vr.getEntries(l,y).next(function(ge){return ge.forEach(function(_e,Oe){null!==Oe&&Oe instanceof oi&&(re=re.ot(_e,Oe))}),re})},f}(),Ii=function(){function f(l,h,g,y){this.targetId=l,this.fromCache=h,this.Kr=g,this.Gr=y}return f.zr=function(l,h){for(var g=Qe(),y=Qe(),E=0,S=h.docChanges;E<S.length;E++){var R=S[E];switch(R.type){case 0:g=g.add(R.doc.key);break;case 1:y=y.add(R.doc.key)}}return new f(l,h.fromCache,g,y)},f}();function hl(f,l){var g=f[1],E=l[1],S=Ut(f[0],l[0]);return 0===S?Ut(g,E):S}var Fa=function(){function f(l){this.Hr=l,this.buffer=new xi(hl),this.Yr=0}return f.prototype.Jr=function(){return++this.Yr},f.prototype.Xr=function(l){var h=[l,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(h);else{var g=this.buffer.last();hl(h,g)<0&&(this.buffer=this.buffer.delete(g).add(h))}},Object.defineProperty(f.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),f}(),zo={Zr:!1,eo:0,no:0,so:0},Qr=function(){function f(l,h,g){this.io=l,this.ro=h,this.oo=g}return f.ao=function(l){return new f(l,f.co,f.uo)},f}();Qr.ho=-1,Qr.lo=1048576,Qr._o=41943040,Qr.co=10,Qr.uo=1e3,Qr.fo=new Qr(Qr._o,Qr.co,Qr.uo),Qr.do=new Qr(Qr.ho,0,0);var Jd=function(){function f(l,h){this.wo=l,this.cs=h,this.mo=!1,this.To=null}return f.prototype.start=function(l){this.wo.params.io!==Qr.ho&&this.Eo(l)},f.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(f.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),f.prototype.Eo=function(l){var h=this,g=this.mo?3e5:6e4;me("LruGarbageCollector","Garbage collection scheduled in "+g+"ms"),this.To=this.cs.yn("lru_garbage_collection",g,function(){return U.__awaiter(h,void 0,void 0,function(){var y;return U.__generator(this,function(E){switch(E.label){case 0:this.To=null,this.mo=!0,E.label=1;case 1:return E.trys.push([1,3,,7]),[4,l.Io(this.wo)];case 2:return E.sent(),[3,7];case 3:return Hs(y=E.sent())?(me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",y),[3,6]):[3,4];case 4:return[4,ci(y)];case 5:E.sent(),E.label=6;case 6:return[3,7];case 7:return[4,this.Eo(l)];case 8:return E.sent(),[2]}})})})},f}(),fl=function(){function f(l,h){this.Ao=l,this.params=h}return f.prototype.Ro=function(l,h){return this.Ao.Po(l).next(function(g){return Math.floor(h/100*g)})},f.prototype.yo=function(l,h){var g=this;if(0===h)return It.resolve(Io.ai);var y=new Fa(h);return this.Ao.Ce(l,function(E){return y.Xr(E.sequenceNumber)}).next(function(){return g.Ao.Vo(l,function(E){return y.Xr(E)})}).next(function(){return y.maxValue})},f.prototype.po=function(l,h,g){return this.Ao.po(l,h,g)},f.prototype.bo=function(l,h){return this.Ao.bo(l,h)},f.prototype.vo=function(l,h){var g=this;return this.params.io===Qr.ho?(me("LruGarbageCollector","Garbage collection skipped; disabled"),It.resolve(zo)):this.So(l).next(function(y){return y<g.params.io?(me("LruGarbageCollector","Garbage collection skipped; Cache size "+y+" is lower than threshold "+g.params.io),zo):g.Do(l,h)})},f.prototype.So=function(l){return this.Ao.So(l)},f.prototype.Do=function(l,h){var g,y,E,S,R,V,Z,re=this,ge=Date.now();return this.Ro(l,this.params.ro).next(function(_e){return _e>re.params.oo?(me("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+re.params.oo+" from "+_e),y=re.params.oo):y=_e,S=Date.now(),re.yo(l,y)}).next(function(_e){return g=_e,R=Date.now(),re.po(l,g,h)}).next(function(_e){return E=_e,V=Date.now(),re.bo(l,g)}).next(function(_e){return Z=Date.now(),Ne()<=pe.LogLevel.DEBUG&&me("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(S-ge)+"ms\n\tDetermined least recently used "+y+" in "+(R-S)+"ms\n\tRemoved "+E+" targets in "+(V-R)+"ms\n\tRemoved "+_e+" documents in "+(Z-V)+"ms\nTotal Duration: "+(Z-ge)+"ms"),It.resolve({Zr:!0,eo:y,no:E,so:_e})})},f}();function Yi(f){for(var l="",h=0;h<f.length;h++)l.length>0&&(l=eh(l)),l=Xd(f.get(h),l);return eh(l)}function Xd(f,l){for(var h=l,g=f.length,y=0;y<g;y++){var E=f.charAt(y);switch(E){case"\0":h+="\x01\x10";break;case"\x01":h+="\x01\x11";break;default:h+=E}}return h}function eh(f){return f+"\x01\x01"}function qs(f){var l=f.length;if(at(l>=2),2===l)return at("\x01"===f.charAt(0)&&"\x01"===f.charAt(1)),he.P();for(var h=l-2,g=[],y="",E=0;E<l;){var S=f.indexOf("\x01",E);switch((S<0||S>h)&&Re(),f.charAt(S+1)){case"\x01":var R=f.substring(E,S),V=void 0;0===y.length?V=R:(V=y+=R,y=""),g.push(V);break;case"\x10":y+=f.substring(E,S),y+="\0";break;case"\x11":y+=f.substring(E,S+1);break;default:Re()}E=S+2}return new he(g)}var pl=function(f){this.Co=f};function th(f,l){if(l.document)return V=!!l.hasCommittedMutations,Z=Ki(f.Co,(R=l.document).name),re=yo(R.updateTime),ge=new Or({mapValue:{fields:R.fields}}),new oi(Z,re,ge,{hasCommittedMutations:!!V});var R,V,Z,re,ge;if(l.noDocument){var h=Le.$(l.noDocument.path),g=Cu(l.noDocument.readTime);return new Pr(h,g,{hasCommittedMutations:!!l.hasCommittedMutations})}if(l.unknownDocument){var y=Le.$(l.unknownDocument.path),E=Cu(l.unknownDocument.version);return new Ul(y,E)}return Re()}function Vc(f,l,h){var _e,Oe,g=$h(h),y=l.key.path.h().A();if(l instanceof oi){var E={name:sa(_e=f.Co,(Oe=l).key),fields:Oe.rn().mapValue.fields,updateTime:oa(_e,Oe.version.Z())};return new or(null,null,E,l.hasCommittedMutations,g,y)}if(l instanceof Pr){var R=l.key.path.A(),V=ac(l.version),Z=l.hasCommittedMutations;return new or(null,new ep(R,V),null,Z,g,y)}if(l instanceof Ul){var re=l.key.path.A(),ge=ac(l.version);return new or(new s_(re,ge),null,null,!0,g,y)}return Re()}function $h(f){var l=f.Z();return[l.seconds,l.nanoseconds]}function Vr(f){var l=new Qt(f[0],f[1]);return zt.J(l)}function ac(f){var l=f.Z();return new rd(l.seconds,l.nanoseconds)}function Cu(f){var l=new Qt(f.seconds,f.nanoseconds);return zt.J(l)}function In(f,l){var h=(l.baseMutations||[]).map(function(E){return br(f.Co,E)}),g=l.mutations.map(function(E){return br(f.Co,E)}),y=Qt.fromMillis(l.localWriteTimeMs);return new nd(l.batchId,y,h,g)}function Bc(f){var l,h,g=Cu(f.readTime),y=void 0!==f.lastLimboFreeSnapshotVersion?Cu(f.lastLimboFreeSnapshotVersion):zt.min();return void 0!==f.query.documents?(at(1===(h=f.query).documents.length),l=Vo(Oa(aa(h.documents[0])))):l=Tc(f.query),new Ci(l,f.targetId,0,f.lastListenSequenceNumber,g,y,Vn.fromBase64String(f.resumeToken))}function Jf(f,l){var h,g=ac(l.nt),y=ac(l.lastLimboFreeSnapshotVersion);h=jt(l.target)?Ma(f.Co,l.target):wr(f.Co,l.target);var E=l.resumeToken.toBase64();return new hr(l.targetId,xt(l.target),g,E,l.sequenceNumber,y,h)}var id=function(){function f(l,h,g,y){this.userId=l,this.serializer=h,this.Dr=g,this.No=y,this.Fo={}}return f.xo=function(l,h,g,y){return at(""!==l.uid),new f(l.Zs()?l.uid:"",h,g,y)},f.prototype.$o=function(l){var h=!0,g=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wi(l).rs({index:Qi.userMutationsIndex,range:g},function(y,E,S){h=!1,S.done()}).next(function(){return h})},f.prototype.ko=function(l,h,g,y){var E=this,S=Is(l),R=Wi(l);return R.add({}).next(function(V){at("number"==typeof V);for(var Z=new nd(V,h,g,y),re=function(Jt,On,Jn){var gi=Jn.baseMutations.map(function(fr){return Ui(Jt.Co,fr)}),bi=Jn.mutations.map(function(fr){return Ui(Jt.Co,fr)});return new Qi(On,Jn.batchId,Jn.ar.toMillis(),gi,bi)}(E.serializer,E.userId,Z),ge=[],_e=new xi(function(Jt,On){return Ut(Jt.R(),On.R())}),Oe=0,et=y;Oe<et.length;Oe++){var ht=et[Oe],an=ao.key(E.userId,ht.key.path,V);_e=_e.add(ht.key.path.h()),ge.push(R.put(re)),ge.push(S.put(an,ao.PLACEHOLDER))}return _e.forEach(function(Jt){ge.push(E.Dr.Mo(l,Jt))}),l.pr(function(){E.Fo[V]=Z.keys()}),It.$n(ge).next(function(){return Z})})},f.prototype.Oo=function(l,h){var g=this;return Wi(l).get(h).next(function(y){return y?(at(y.userId===g.userId),In(g.serializer,y)):null})},f.prototype.Lo=function(l,h){var g=this;return this.Fo[h]?It.resolve(this.Fo[h]):this.Oo(l,h).next(function(y){if(y){var E=y.keys();return g.Fo[h]=E,E}return null})},f.prototype.Bo=function(l,h){var g=this,y=h+1,E=IDBKeyRange.lowerBound([this.userId,y]),S=null;return Wi(l).rs({index:Qi.userMutationsIndex,range:E},function(R,V,Z){V.userId===g.userId&&(at(V.batchId>=y),S=In(g.serializer,V)),Z.done()}).next(function(){return S})},f.prototype.qo=function(l){var h=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),g=-1;return Wi(l).rs({index:Qi.userMutationsIndex,range:h,reverse:!0},function(y,E,S){g=E.batchId,S.done()}).next(function(){return g})},f.prototype.Uo=function(l){var h=this,g=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wi(l).ts(Qi.userMutationsIndex,g).next(function(y){return y.map(function(E){return In(h.serializer,E)})})},f.prototype.Nr=function(l,h){var g=this,y=ao.prefixForPath(this.userId,h.path),E=IDBKeyRange.lowerBound(y),S=[];return Is(l).rs({range:E},function(R,V,Z){var re=R[0],_e=R[2],Oe=qs(R[1]);if(re===g.userId&&h.path.isEqual(Oe))return Wi(l).get(_e).next(function(et){if(!et)throw Re();at(et.userId===g.userId),S.push(In(g.serializer,et))});Z.done()}).next(function(){return S})},f.prototype.Or=function(l,h){var g=this,y=new xi(Ut),E=[];return h.forEach(function(S){var R=ao.prefixForPath(g.userId,S.path),V=IDBKeyRange.lowerBound(R),Z=Is(l).rs({range:V},function(re,ge,_e){var Oe=re[0],ht=re[2],an=qs(re[1]);Oe===g.userId&&S.path.isEqual(an)?y=y.add(ht):_e.done()});E.push(Z)}),It.$n(E).next(function(){return g.Qo(l,y)})},f.prototype.Wr=function(l,h){var g=this,y=h.path,E=y.length+1,S=ao.prefixForPath(this.userId,y),R=IDBKeyRange.lowerBound(S),V=new xi(Ut);return Is(l).rs({range:R},function(Z,re,ge){var _e=Z[0],et=Z[2],ht=qs(Z[1]);_e===g.userId&&y.T(ht)?ht.length===E&&(V=V.add(et)):ge.done()}).next(function(){return g.Qo(l,V)})},f.prototype.Qo=function(l,h){var g=this,y=[],E=[];return h.forEach(function(S){E.push(Wi(l).get(S).next(function(R){if(null===R)throw Re();at(R.userId===g.userId),y.push(In(g.serializer,R))}))}),It.$n(E).next(function(){return y})},f.prototype.Wo=function(l,h){var g=this;return qh(l.jo,this.userId,h).next(function(y){return l.pr(function(){g.Ko(h.batchId)}),It.forEach(y,function(E){return g.No.Go(l,E)})})},f.prototype.Ko=function(l){delete this.Fo[l]},f.prototype.zo=function(l){var h=this;return this.$o(l).next(function(g){if(!g)return It.resolve();var y=IDBKeyRange.lowerBound(ao.prefixForUser(h.userId)),E=[];return Is(l).rs({range:y},function(S,R,V){if(S[0]===h.userId){var Z=qs(S[1]);E.push(Z)}else V.done()}).next(function(){at(0===E.length)})})},f.prototype.Ho=function(l,h){return Br(l,this.userId,h)},f.prototype.Yo=function(l){var h=this;return jc(l).get(this.userId).next(function(g){return g||new Do(h.userId,-1,"")})},f}();function Br(f,l,h){var g=ao.prefixForPath(l,h.path),y=g[1],E=IDBKeyRange.lowerBound(g),S=!1;return Is(f).rs({range:E,ss:!0},function(R,V,Z){R[0]===l&&R[1]===y&&(S=!0),Z.done()}).next(function(){return S})}function qh(f,l,h){var g=f.store(Qi.store),y=f.store(ao.store),E=[],S=IDBKeyRange.only(h.batchId),R=0,V=g.rs({range:S},function(et,ht,an){return R++,an.delete()});E.push(V.next(function(){at(1===R)}));for(var Z=[],re=0,ge=h.mutations;re<ge.length;re++){var _e=ge[re],Oe=ao.key(l,_e.key.path,h.batchId);E.push(y.delete(Oe)),Z.push(_e.key)}return It.$n(E).next(function(){return Z})}function Wi(f){return us.Qn(f,Qi.store)}function Is(f){return us.Qn(f,ao.store)}function jc(f){return us.Qn(f,Do.store)}var nh=function(){function f(l,h){this.serializer=l,this.Dr=h}return f.prototype.Er=function(l,h,g){return cc(l).put(pt(h),g)},f.prototype.Ar=function(l,h){var g=cc(l),y=pt(h);return g.delete(y)},f.prototype.updateMetadata=function(l,h){var g=this;return this.getMetadata(l).next(function(y){return y.byteSize+=h,g.Jo(l,y)})},f.prototype.Rr=function(l,h){var g=this;return cc(l).get(pt(h)).next(function(y){return g.Xo(y)})},f.prototype.Zo=function(l,h){var g=this;return cc(l).get(pt(h)).next(function(y){var E=g.Xo(y);return E?{ta:E,size:ii(y)}:null})},f.prototype.getEntries=function(l,h){var g=this,y=le();return this.ea(l,h,function(E,S){var R=g.Xo(S);y=y.ot(E,R)}).next(function(){return y})},f.prototype.na=function(l,h){var g=this,y=le(),E=new qn(Le.i);return this.ea(l,h,function(S,R){var V=g.Xo(R);V?(y=y.ot(S,V),E=E.ot(S,ii(R))):(y=y.ot(S,null),E=E.ot(S,0))}).next(function(){return{sa:y,ia:E}})},f.prototype.ea=function(l,h,g){if(h.m())return It.resolve();var y=IDBKeyRange.bound(h.first().path.A(),h.last().path.A()),E=h._t(),S=E.It();return cc(l).rs({range:y},function(R,V,Z){for(var re=Le.$(R);S&&Le.i(S,re)<0;)g(S,null),S=E.It();S&&S.isEqual(re)&&(g(S,V),S=E.At()?E.It():null),S?Z.Xn(S.path.A()):Z.done()}).next(function(){for(;S;)g(S,null),S=E.At()?E.It():null})},f.prototype.Lr=function(l,h,g){var y=this,E=te(),S=h.path.length+1,R={};if(g.isEqual(zt.min())){var V=h.path.A();R.range=IDBKeyRange.lowerBound(V)}else{var Z=h.path.A(),re=$h(g);R.range=IDBKeyRange.lowerBound([Z,re],!0),R.index=or.collectionReadTimeIndex}return cc(l).rs(R,function(ge,_e,Oe){if(ge.length===S){var et=th(y.serializer,_e);h.path.T(et.key.path)?et instanceof oi&&Bl(h,et)&&(E=E.ot(et.key,et)):Oe.done()}}).next(function(){return E})},f.prototype.ra=function(l){return new Xf(this,!!l&&l.oa)},f.prototype.aa=function(l){return this.getMetadata(l).next(function(h){return h.byteSize})},f.prototype.getMetadata=function(l){return ih(l).get(Ji.key).next(function(h){return at(!!h),h})},f.prototype.Jo=function(l,h){return ih(l).put(Ji.key,h)},f.prototype.Xo=function(l){if(l){var h=th(this.serializer,l);return h instanceof Pr&&h.version.isEqual(zt.min())?null:h}return null},f}(),Xf=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).ca=h,y.oa=g,y.ua=new Yt(function(E){return E.toString()},function(E,S){return E.isEqual(S)}),y}return U.__extends(l,f),l.prototype.yr=function(h){var g=this,y=[],E=0,S=new xi(function(R,V){return Ut(R.R(),V.R())});return this.wr.forEach(function(R,V){var Z=g.ua.get(R);if(V){var re=Vc(g.ca.serializer,V,g.readTime);S=S.add(R.path.h());var ge=ii(re);E+=ge-Z,y.push(g.ca.Er(h,R,re))}else if(E-=Z,g.oa){var _e=Vc(g.ca.serializer,new Pr(R,zt.min()),g.readTime);y.push(g.ca.Er(h,R,_e))}else y.push(g.ca.Ar(h,R))}),S.forEach(function(R){y.push(g.ca.Dr.Mo(h,R))}),y.push(this.ca.updateMetadata(h,E)),It.$n(y)},l.prototype.gr=function(h,g){var y=this;return this.ca.Zo(h,g).next(function(E){return null===E?(y.ua.set(g,0),null):(y.ua.set(g,E.size),E.ta)})},l.prototype.Pr=function(h,g){var y=this;return this.ca.na(h,g).next(function(E){var S=E.sa;return E.ia.forEach(function(R,V){y.ua.set(R,V)}),S})},l}(Qf);function ih(f){return us.Qn(f,Ji.store)}function cc(f){return us.Qn(f,or.store)}function pt(f){return f.path.A()}function ii(f){var l;if(f.document)l=f.document;else if(f.unknownDocument)l=f.unknownDocument;else{if(!f.noDocument)throw Re();l=f.noDocument}return JSON.stringify(l).length}var Ts=function(){function f(){this.ha=new xu}return f.prototype.Mo=function(l,h){return this.ha.add(h),It.resolve()},f.prototype.Qr=function(l,h){return It.resolve(this.ha.getEntries(h))},f}(),xu=function(){function f(){this.index={}}return f.prototype.add=function(l){var h=l._(),g=l.h(),y=this.index[h]||new xi(he.i),E=!y.has(g);return this.index[h]=y.add(g),E},f.prototype.has=function(l){var h=l._(),g=l.h(),y=this.index[h];return y&&y.has(g)},f.prototype.getEntries=function(l){return(this.index[l]||new xi(he.i)).A()},f}(),To=function(){function f(l){this.serializer=l}return f.prototype.createOrUpgrade=function(l,h,g,y){var E=this;at(g<y&&g>=0&&y<=10);var V,S=new Fc("createOrUpgrade",h);g<1&&y>=1&&(l.createObjectStore(So.store),(V=l).createObjectStore(Do.store,{keyPath:Do.keyPath}),V.createObjectStore(Qi.store,{keyPath:Qi.keyPath,autoIncrement:!0}).createIndex(Qi.userMutationsIndex,Qi.userMutationsKeyPath,{unique:!0}),V.createObjectStore(ao.store),Gh(l),function(V){V.createObjectStore(or.store)}(l));var R=It.resolve();return g<3&&y>=3&&(0!==g&&(function(V){V.deleteObjectStore(co.store),V.deleteObjectStore(hr.store),V.deleteObjectStore(Jr.store)}(l),Gh(l)),R=R.next(function(){return function(V){var Z=V.store(Jr.store),re=new Jr(0,0,zt.min().Z(),0);return Z.put(Jr.key,re)}(S)})),g<4&&y>=4&&(0!==g&&(R=R.next(function(){return function(V,Z){return Z.store(Qi.store).ts().next(function(re){V.deleteObjectStore(Qi.store),V.createObjectStore(Qi.store,{keyPath:Qi.keyPath,autoIncrement:!0}).createIndex(Qi.userMutationsIndex,Qi.userMutationsKeyPath,{unique:!0});var ge=Z.store(Qi.store),_e=re.map(function(Oe){return ge.put(Oe)});return It.$n(_e)})}(l,S)})),R=R.next(function(){!function(V){V.createObjectStore(ma.store,{keyPath:ma.keyPath})}(l)})),g<5&&y>=5&&(R=R.next(function(){return E.removeAcknowledgedMutations(S)})),g<6&&y>=6&&(R=R.next(function(){return function(V){V.createObjectStore(Ji.store)}(l),E.addDocumentGlobal(S)})),g<7&&y>=7&&(R=R.next(function(){return E.ensureSequenceNumbers(S)})),g<8&&y>=8&&(R=R.next(function(){return E.createCollectionParentIndex(l,S)})),g<9&&y>=9&&(R=R.next(function(){(function(V){V.objectStoreNames.contains("remoteDocumentChanges")&&V.deleteObjectStore("remoteDocumentChanges")})(l),function(V){var Z=V.objectStore(or.store);Z.createIndex(or.readTimeIndex,or.readTimeIndexPath,{unique:!1}),Z.createIndex(or.collectionReadTimeIndex,or.collectionReadTimeIndexPath,{unique:!1})}(h)})),g<10&&y>=10&&(R=R.next(function(){return E.rewriteCanonicalIds(S)})),R},f.prototype.addDocumentGlobal=function(l){var h=0;return l.store(or.store).rs(function(g,y){h+=ii(y)}).next(function(){var g=new Ji(h);return l.store(Ji.store).put(Ji.key,g)})},f.prototype.removeAcknowledgedMutations=function(l){var h=this,g=l.store(Do.store),y=l.store(Qi.store);return g.ts().next(function(E){return It.forEach(E,function(S){var R=IDBKeyRange.bound([S.userId,-1],[S.userId,S.lastAcknowledgedBatchId]);return y.ts(Qi.userMutationsIndex,R).next(function(V){return It.forEach(V,function(Z){at(Z.userId===S.userId);var re=In(h.serializer,Z);return qh(l,S.userId,re).next(function(){})})})})})},f.prototype.ensureSequenceNumbers=function(l){var h=l.store(co.store),g=l.store(or.store);return l.store(Jr.store).get(Jr.key).next(function(y){var E=[];return g.rs(function(S,R){var V=new he(S),Z=[0,Yi(V)];E.push(h.get(Z).next(function(re){return re?It.resolve():h.put(new co(0,Yi(V),y.highestListenSequenceNumber))}))}).next(function(){return It.$n(E)})})},f.prototype.createCollectionParentIndex=function(l,h){l.createObjectStore(Xr.store,{keyPath:Xr.keyPath});var g=h.store(Xr.store),y=new xu,E=function(S){if(y.add(S)){var R=S._(),V=S.h();return g.put({collectionId:R,parent:Yi(V)})}};return h.store(or.store).rs({ss:!0},function(S,R){var V=new he(S);return E(V.h())}).next(function(){return h.store(ao.store).rs({ss:!0},function(S,R){var Z=qs(S[1]);return E(Z.h())})})},f.prototype.rewriteCanonicalIds=function(l){var h=this,g=l.store(hr.store);return g.rs(function(y,E){var S=Bc(E),R=Jf(h.serializer,S);return g.put(R)})},f}(),rd=function(f,l){this.seconds=f,this.nanoseconds=l},So=function(f,l,h){this.ownerId=f,this.allowTabSynchronization=l,this.leaseTimestampMs=h};So.store="owner",So.key="owner";var Do=function(f,l,h){this.userId=f,this.lastAcknowledgedBatchId=l,this.lastStreamToken=h};Do.store="mutationQueues",Do.keyPath="userId";var Qi=function(f,l,h,g,y){this.userId=f,this.batchId=l,this.localWriteTimeMs=h,this.baseMutations=g,this.mutations=y};Qi.store="mutations",Qi.keyPath="batchId",Qi.userMutationsIndex="userMutationsIndex",Qi.userMutationsKeyPath=["userId","batchId"];var ao=function(){function f(){}return f.prefixForUser=function(l){return[l]},f.prefixForPath=function(l,h){return[l,Yi(h)]},f.key=function(l,h,g){return[l,Yi(h),g]},f}();ao.store="documentMutations",ao.PLACEHOLDER=new ao;var ep=function(f,l){this.path=f,this.readTime=l},s_=function(f,l){this.path=f,this.version=l},or=function(f,l,h,g,y,E){this.unknownDocument=f,this.noDocument=l,this.document=h,this.hasCommittedMutations=g,this.readTime=y,this.parentPath=E};or.store="remoteDocuments",or.readTimeIndex="readTimeIndex",or.readTimeIndexPath="readTime",or.collectionReadTimeIndex="collectionReadTimeIndex",or.collectionReadTimeIndexPath=["parentPath","readTime"];var Ji=function(f){this.byteSize=f};Ji.store="remoteDocumentGlobal",Ji.key="remoteDocumentGlobalKey";var hr=function(f,l,h,g,y,E,S){this.targetId=f,this.canonicalId=l,this.readTime=h,this.resumeToken=g,this.lastListenSequenceNumber=y,this.lastLimboFreeSnapshotVersion=E,this.query=S};hr.store="targets",hr.keyPath="targetId",hr.queryTargetsIndexName="queryTargetsIndex",hr.queryTargetsKeyPath=["canonicalId","targetId"];var co=function(f,l,h){this.targetId=f,this.path=l,this.sequenceNumber=h};co.store="targetDocuments",co.keyPath=["targetId","path"],co.documentTargetsIndex="documentTargetsIndex",co.documentTargetsKeyPath=["path","targetId"];var Jr=function(f,l,h,g){this.highestTargetId=f,this.highestListenSequenceNumber=l,this.lastRemoteSnapshotVersion=h,this.targetCount=g};Jr.key="targetGlobalKey",Jr.store="targetGlobal";var Xr=function(f,l){this.collectionId=f,this.parent=l};function Gh(f){f.createObjectStore(co.store,{keyPath:co.keyPath}).createIndex(co.documentTargetsIndex,co.documentTargetsKeyPath,{unique:!0}),f.createObjectStore(hr.store,{keyPath:hr.keyPath}).createIndex(hr.queryTargetsIndexName,hr.queryTargetsKeyPath,{unique:!0}),f.createObjectStore(Jr.store)}Xr.store="collectionParents",Xr.keyPath=["collectionId","parent"];var ma=function(f,l,h,g){this.clientId=f,this.updateTimeMs=l,this.networkEnabled=h,this.inForeground=g};ma.store="clientMetadata",ma.keyPath="clientId";var od=U.__spreadArrays(U.__spreadArrays(U.__spreadArrays([Do.store,Qi.store,ao.store,or.store,hr.store,So.store,Jr.store,co.store],[ma.store]),[Ji.store]),[Xr.store]),vm=function(){function f(){this.la=new xu}return f.prototype.Mo=function(l,h){var g=this;if(!this.la.has(h)){var y=h._(),E=h.h();l.pr(function(){g.la.add(h)});var S={collectionId:y,parent:Yi(E)};return Eu(l).put(S)}return It.resolve()},f.prototype.Qr=function(l,h){var g=[],y=IDBKeyRange.bound([h,""],[Ln(h),""],!1,!0);return Eu(l).ts(y).next(function(E){for(var S=0,R=E;S<R.length;S++){var V=R[S];if(V.collectionId!==h)break;g.push(qs(V.parent))}return g})},f}();function Eu(f){return us.Qn(f,Xr.store)}var $l=function(){function f(l){this._a=l}return f.prototype.next=function(){return this._a+=2,this._a},f.fa=function(){return new f(0)},f.da=function(){return new f(-1)},f}(),rh=function(){function f(l,h){this.No=l,this.serializer=h}return f.prototype.wa=function(l){var h=this;return this.ma(l).next(function(g){var y=new $l(g.highestTargetId);return g.highestTargetId=y.next(),h.Ta(l,g).next(function(){return g.highestTargetId})})},f.prototype.Ea=function(l){return this.ma(l).next(function(h){return zt.J(new Qt(h.lastRemoteSnapshotVersion.seconds,h.lastRemoteSnapshotVersion.nanoseconds))})},f.prototype.Ia=function(l){return this.ma(l).next(function(h){return h.highestListenSequenceNumber})},f.prototype.Aa=function(l,h,g){var y=this;return this.ma(l).next(function(E){return E.highestListenSequenceNumber=h,g&&(E.lastRemoteSnapshotVersion=g.Z()),h>E.highestListenSequenceNumber&&(E.highestListenSequenceNumber=h),y.Ta(l,E)})},f.prototype.Ra=function(l,h){var g=this;return this.ga(l,h).next(function(){return g.ma(l).next(function(y){return y.targetCount+=1,g.Pa(h,y),g.Ta(l,y)})})},f.prototype.ya=function(l,h){return this.ga(l,h)},f.prototype.Va=function(l,h){var g=this;return this.pa(l,h.targetId).next(function(){return ml(l).delete(h.targetId)}).next(function(){return g.ma(l)}).next(function(y){return at(y.targetCount>0),y.targetCount-=1,g.Ta(l,y)})},f.prototype.po=function(l,h,g){var y=this,E=0,S=[];return ml(l).rs(function(R,V){var Z=Bc(V);Z.sequenceNumber<=h&&null===g.get(Z.targetId)&&(E++,S.push(y.Va(l,Z)))}).next(function(){return It.$n(S)}).next(function(){return E})},f.prototype.Ce=function(l,h){return ml(l).rs(function(g,y){var E=Bc(y);h(E)})},f.prototype.ma=function(l){return oh(l).get(Jr.key).next(function(h){return at(null!==h),h})},f.prototype.Ta=function(l,h){return oh(l).put(Jr.key,h)},f.prototype.ga=function(l,h){return ml(l).put(Jf(this.serializer,h))},f.prototype.Pa=function(l,h){var g=!1;return l.targetId>h.highestTargetId&&(h.highestTargetId=l.targetId,g=!0),l.sequenceNumber>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=l.sequenceNumber,g=!0),g},f.prototype.ba=function(l){return this.ma(l).next(function(h){return h.targetCount})},f.prototype.va=function(l,h){var g=xt(h),y=IDBKeyRange.bound([g,Number.NEGATIVE_INFINITY],[g,Number.POSITIVE_INFINITY]),E=null;return ml(l).rs({range:y,index:hr.queryTargetsIndexName},function(S,R,V){var Z=Bc(R);mn(h,Z.target)&&(E=Z,V.done())}).next(function(){return E})},f.prototype.Sa=function(l,h,g){var y=this,E=[],S=La(l);return h.forEach(function(R){var V=Yi(R.path);E.push(S.put(new co(g,V))),E.push(y.No.Da(l,g,R))}),It.$n(E)},f.prototype.Ca=function(l,h,g){var y=this,E=La(l);return It.forEach(h,function(S){var R=Yi(S.path);return It.$n([E.delete([g,R]),y.No.Na(l,g,S)])})},f.prototype.pa=function(l,h){var g=La(l),y=IDBKeyRange.bound([h],[h+1],!1,!0);return g.delete(y)},f.prototype.Fa=function(l,h){var g=IDBKeyRange.bound([h],[h+1],!1,!0),y=La(l),E=Qe();return y.rs({range:g,ss:!0},function(S,R,V){var Z=qs(S[1]),re=new Le(Z);E=E.add(re)}).next(function(){return E})},f.prototype.Ho=function(l,h){var g=Yi(h.path),y=IDBKeyRange.bound([g],[Ln(g)],!1,!0),E=0;return La(l).rs({index:co.documentTargetsIndex,ss:!0,range:y},function(S,R,V){0!==S[0]&&(E++,V.done())}).next(function(){return E>0})},f.prototype.Ue=function(l,h){return ml(l).get(h).next(function(g){return g?Bc(g):null})},f}();function ml(f){return us.Qn(f,hr.store)}function oh(f){return us.Qn(f,Jr.store)}function La(f){return us.Qn(f,co.store)}var ql="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Iu=function(f){function l(h,g){var y=this;return(y=f.call(this)||this).jo=h,y.xa=g,y}return U.__extends(l,f),l}(Qd),us=function(){function f(l,h,g,y,E,S,R,V,Z,re){if(this.allowTabSynchronization=l,this.persistenceKey=h,this.clientId=g,this.fn=E,this.window=S,this.document=R,this.$a=Z,this.ka=re,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(ge){return Promise.resolve()},!f.Ln())throw new G(z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new uc(this,y),this.Wa=h+"main",this.serializer=new pl(V),this.ja=new es(this.Wa,10,new To(this.serializer)),this.Ka=new rh(this.No,this.serializer),this.Dr=new vm,this.vr=new nh(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===re&&lt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return f.Qn=function(l,h){if(l instanceof Iu)return es.Qn(l.jo,h);throw Re()},f.prototype.start=function(){var l=this;return this.za().then(function(){if(!l.isPrimary&&!l.allowTabSynchronization)throw new G(z.FAILED_PRECONDITION,ql);return l.Ha(),l.Ya(),l.Ja(),l.runTransaction("getHighestListenSequenceNumber","readonly",function(h){return l.Ka.Ia(h)})}).then(function(h){l.Ma=new Io(h,l.$a)}).then(function(){l.Oa=!0}).catch(function(h){return l.ja&&l.ja.close(),Promise.reject(h)})},f.prototype.Xa=function(l){var h=this;return this.Qa=function(g){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){return this.Ei?[2,l(g)]:[2]})})},l(this.isPrimary)},f.prototype.Za=function(l){var h=this;this.ja.Kn(function(g){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){switch(y.label){case 0:return null===g.newVersion?[4,l()]:[3,2];case 1:y.sent(),y.label=2;case 2:return[2]}})})})},f.prototype.tc=function(l){var h=this;this.networkEnabled!==l&&(this.networkEnabled=l,this.fn.ws(function(){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:g.sent(),g.label=2;case 2:return[2]}})})}))},f.prototype.za=function(){var l=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(h){return lc(h).put(new ma(l.clientId,Date.now(),l.networkEnabled,l.inForeground)).next(function(){if(l.isPrimary)return l.ec(h).next(function(g){g||(l.isPrimary=!1,l.fn.Cs(function(){return l.Qa(!1)}))})}).next(function(){return l.nc(h)}).next(function(g){return l.isPrimary&&!g?l.sc(h).next(function(){return!1}):!!g&&l.ic(h).next(function(){return!0})})}).catch(function(h){if(Hs(h))return me("IndexedDbPersistence","Failed to extend owner lease: ",h),l.isPrimary;if(!l.allowTabSynchronization)throw h;return me("IndexedDbPersistence","Releasing owner lease after error during lease refresh",h),!1}).then(function(h){l.isPrimary!==h&&l.fn.Cs(function(){return l.Qa(h)}),l.isPrimary=h})},f.prototype.ec=function(l){var h=this;return gl(l).get(So.key).next(function(g){return It.resolve(h.rc(g))})},f.prototype.oc=function(l){return lc(l).delete(this.clientId)},f.prototype.ac=function(){return U.__awaiter(this,void 0,void 0,function(){var l,h,g,E=this;return U.__generator(this,function(S){switch(S.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(R){var V=f.Qn(R,ma.store);return V.ts().next(function(Z){var re=E.uc(Z,18e5),ge=Z.filter(function(_e){return-1===re.indexOf(_e)});return It.forEach(ge,function(_e){return V.delete(_e.clientId)}).next(function(){return ge})})}).catch(function(){return[]})]);case 1:if(l=S.sent(),this.Ga)for(h=0,g=l;h<g.length;h++)this.Ga.removeItem(this.hc(g[h].clientId));S.label=2;case 2:return[2]}})})},f.prototype.Ja=function(){var l=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return l.za().then(function(){return l.ac()}).then(function(){return l.Ja()})})},f.prototype.rc=function(l){return!!l&&l.ownerId===this.clientId},f.prototype.nc=function(l){var h=this;return this.ka?It.resolve(!0):gl(l).get(So.key).next(function(g){if(null!==g&&h.cc(g.leaseTimestampMs,5e3)&&!h.lc(g.ownerId)){if(h.rc(g)&&h.networkEnabled)return!0;if(!h.rc(g)){if(!g.allowTabSynchronization)throw new G(z.FAILED_PRECONDITION,ql);return!1}}return!(!h.networkEnabled||!h.inForeground)||lc(l).ts().next(function(y){return void 0===h.uc(y,5e3).find(function(E){return!(h.clientId===E.clientId||!(!h.networkEnabled&&E.networkEnabled||!h.inForeground&&E.inForeground&&h.networkEnabled===E.networkEnabled))})})}).next(function(g){return h.isPrimary!==g&&me("IndexedDbPersistence","Client "+(g?"is":"is not")+" eligible for a primary lease."),g})},f.prototype.Di=function(){return U.__awaiter(this,void 0,void 0,function(){var l=this;return U.__generator(this,function(h){switch(h.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[So.store,ma.store],function(g){var y=new Iu(g,Io.ai);return l.sc(y).next(function(){return l.oc(y)})})];case 1:return h.sent(),this.ja.close(),this.wc(),[2]}})})},f.prototype.uc=function(l,h){var g=this;return l.filter(function(y){return g.cc(y.updateTimeMs,h)&&!g.lc(y.clientId)})},f.prototype.pi=function(){var l=this;return this.runTransaction("getActiveClients","readonly",function(h){return lc(h).ts().next(function(g){return l.uc(g,18e5).map(function(y){return y.clientId})})})},Object.defineProperty(f.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),f.prototype.mc=function(l){return id.xo(l,this.serializer,this.Dr,this.No)},f.prototype.Tc=function(){return this.Ka},f.prototype.Ec=function(){return this.vr},f.prototype.Ic=function(){return this.Dr},f.prototype.runTransaction=function(l,h,g){var E,y=this;return me("IndexedDbPersistence","Starting transaction:",l),this.ja.runTransaction(l,"readonly"===h?"readonly":"readwrite",od,function(R){return E=new Iu(R,y.Ma?y.Ma.next():Io.ai),"readwrite-primary"===h?y.ec(E).next(function(V){return!!V||y.nc(E)}).next(function(V){if(!V)throw lt("Failed to obtain primary lease for action '"+l+"'."),y.isPrimary=!1,y.fn.Cs(function(){return y.Qa(!1)}),new G(z.FAILED_PRECONDITION,Es);return g(E)}).next(function(V){return y.ic(E).next(function(){return V})}):y.Ac(E).next(function(){return g(E)})}).then(function(R){return E.br(),R})},f.prototype.Ac=function(l){var h=this;return gl(l).get(So.key).next(function(g){if(null!==g&&h.cc(g.leaseTimestampMs,5e3)&&!h.lc(g.ownerId)&&!h.rc(g)&&!(h.ka||h.allowTabSynchronization&&g.allowTabSynchronization))throw new G(z.FAILED_PRECONDITION,ql)})},f.prototype.ic=function(l){var h=new So(this.clientId,this.allowTabSynchronization,Date.now());return gl(l).put(So.key,h)},f.Ln=function(){return es.Ln()},f.prototype.sc=function(l){var h=this,g=gl(l);return g.get(So.key).next(function(y){return h.rc(y)?(me("IndexedDbPersistence","Releasing primary lease."),g.delete(So.key)):It.resolve()})},f.prototype.cc=function(l,h){var g=Date.now();return!(l<g-h||l>g&&(lt("Detected an update time that is in the future: "+l+" > "+g),1))},f.prototype.Ha=function(){var l=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){l.fn.ws(function(){return l.inForeground="visible"===l.document.visibilityState,l.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},f.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},f.prototype.Ya=function(){var l,h=this;"function"==typeof(null===(l=this.window)||void 0===l?void 0:l.addEventListener)&&(this.La=function(){h._c(),h.fn.ws(function(){return h.Di()})},this.window.addEventListener("unload",this.La))},f.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},f.prototype.lc=function(l){var h;try{var g=null!==(null===(h=this.Ga)||void 0===h?void 0:h.getItem(this.hc(l)));return me("IndexedDbPersistence","Client '"+l+"' "+(g?"is":"is not")+" zombied in LocalStorage"),g}catch(y){return lt("IndexedDbPersistence","Failed to get zombied client id.",y),!1}},f.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(l){lt("Failed to set zombie client id.",l)}},f.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch{}},f.prototype.hc=function(l){return"firestore_zombie_"+this.persistenceKey+"_"+l},f}();function gl(f){return us.Qn(f,So.store)}function lc(f){return us.Qn(f,ma.store)}var uc=function(){function f(l,h){this.db=l,this.wo=new fl(this,h)}return f.prototype.Po=function(l){var h=this.Rc(l);return this.db.Tc().ba(l).next(function(g){return h.next(function(y){return g+y})})},f.prototype.Rc=function(l){var h=0;return this.Vo(l,function(g){h++}).next(function(){return h})},f.prototype.Ce=function(l,h){return this.db.Tc().Ce(l,h)},f.prototype.Vo=function(l,h){return this.gc(l,function(g,y){return h(y)})},f.prototype.Da=function(l,h,g){return dc(l,g)},f.prototype.Na=function(l,h,g){return dc(l,g)},f.prototype.po=function(l,h,g){return this.db.Tc().po(l,h,g)},f.prototype.Go=function(l,h){return dc(l,h)},f.prototype.Pc=function(l,h){return y=h,E=!1,jc(g=l).os(function(S){return Br(g,S,y).next(function(R){return R&&(E=!0),It.resolve(!R)})}).next(function(){return E});var g,y,E},f.prototype.bo=function(l,h){var g=this,y=this.db.Ec().ra(),E=[],S=0;return this.gc(l,function(R,V){if(V<=h){var Z=g.Pc(l,R).next(function(re){if(!re)return S++,y.Rr(l,R).next(function(){return y.Ar(R),La(l).delete([0,Yi(R.path)])})});E.push(Z)}}).next(function(){return It.$n(E)}).next(function(){return y.apply(l)}).next(function(){return S})},f.prototype.removeTarget=function(l,h){var g=h.st(l.xa);return this.db.Tc().ya(l,g)},f.prototype.yc=function(l,h){return dc(l,h)},f.prototype.gc=function(l,h){var g,y=La(l),E=Io.ai;return y.rs({index:co.documentTargetsIndex},function(S,R){var Z=R.path,re=R.sequenceNumber;0===S[0]?(E!==Io.ai&&h(new Le(qs(g)),E),E=re,g=Z):E=Io.ai}).next(function(){E!==Io.ai&&h(new Le(qs(g)),E)})},f.prototype.So=function(l){return this.db.Ec().aa(l)},f}();function dc(f,l){return La(f).put((g=f.xa,new co(0,Yi(l.path),g)));var g}function Gl(f,l){var h=f.projectId;return f.j||(h+="."+f.database),"firestore/"+l+"/"+h+"/"}var ns=function(){function f(l,h,g){this.persistence=l,this.Vc=h,this.bc=new qn(Ut),this.vc=new Yt(function(y){return xt(y)},mn),this.Sc=zt.min(),this.Sr=l.mc(g),this.Dc=l.Ec(),this.Ka=l.Tc(),this.Cc=new wu(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return f.prototype.Io=function(l){var h=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(g){return l.vo(g,h.bc)})},f}();function ga(f,l){var h=Ze(f);return h.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(g){var S,R,V,Z,re,ge,_e,y=l.batch.keys(),E=h.Dc.ra({oa:!0});return(S=h,R=g,V=l,Z=E,re=V.batch,ge=re.keys(),_e=It.resolve(),ge.forEach(function(Oe){_e=_e.next(function(){return Z.Rr(R,Oe)}).next(function(et){var ht=et,an=V.dr.get(Oe);at(null!==an),(!ht||ht.version.L(an)<0)&&(ht=re.cr(Oe,ht,V))&&Z.Er(ht,V._r)})}),_e.next(function(){return S.Sr.Wo(R,re)})).next(function(){return E.apply(g)}).next(function(){return h.Sr.zo(g)}).next(function(){return h.Cc.kr(g,y)})})}function sr(f){var l=Ze(f);return l.persistence.runTransaction("Get last remote snapshot version","readonly",function(h){return l.Ka.Ea(h)})}function _a(f,l){var h=Ze(f),g=l.nt,y=h.bc;return h.persistence.runTransaction("Apply remote event","readwrite-primary",function(E){var S=h.Dc.ra({oa:!0});y=h.bc;var R=[];l.zt.forEach(function(ge,_e){var an,Jt,On,Oe=y.get(_e);if(Oe){R.push(h.Ka.Ca(E,ge.se,_e).next(function(){return h.Ka.Sa(E,ge.ee,_e)}));var et=ge.resumeToken;if(et.O()>0){var ht=Oe.it(et,g).st(E.xa);y=y.ot(_e,ht),an=Oe,On=ge,at((Jt=ht).resumeToken.O()>0),(0===an.resumeToken.O()||Jt.nt.X()-an.nt.X()>=3e8||On.ee.size+On.ne.size+On.se.size>0)&&R.push(h.Ka.ya(E,ht))}}});var V=fe(),Z=Qe();if(l.Yt.forEach(function(ge,_e){Z=Z.add(ge)}),R.push(S.getEntries(E,Z).next(function(ge){l.Yt.forEach(function(_e,Oe){var et=ge.get(_e);Oe instanceof Pr&&Oe.version.isEqual(zt.min())?(S.Ar(_e,g),V=V.ot(_e,Oe)):null==et||Oe.version.L(et.version)>0||0===Oe.version.L(et.version)&&et.hasPendingWrites?(S.Er(Oe,g),V=V.ot(_e,Oe)):me("LocalStore","Ignoring outdated watch update for ",_e,". Current version:",et.version," Watch version:",Oe.version),l.Jt.has(_e)&&R.push(h.persistence.No.yc(E,_e))})})),!g.isEqual(zt.min())){var re=h.Ka.Ea(E).next(function(ge){return h.Ka.Aa(E,E.xa,g)});R.push(re)}return It.$n(R).next(function(){return S.apply(E)}).next(function(){return h.Cc.Mr(E,V)})}).then(function(E){return h.bc=y,E})}function sh(f,l){var h=Ze(f);return h.persistence.runTransaction("Get next mutation batch","readonly",function(g){return void 0===l&&(l=-1),h.Sr.Bo(g,l)})}function ds(f,l){var h=Ze(f);return h.persistence.runTransaction("Allocate target","readwrite",function(g){var y;return h.Ka.va(g,l).next(function(E){return E?It.resolve(y=E):h.Ka.wa(g).next(function(S){return y=new Ci(l,S,0,g.xa),h.Ka.Ra(g,y).next(function(){return y})})})}).then(function(g){var y=h.bc.get(g.targetId);return(null===y||g.nt.L(y.nt)>0)&&(h.bc=h.bc.ot(g.targetId,g),h.vc.set(l,g.targetId)),g})}function Hn(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E,S;return U.__generator(this,function(R){switch(R.label){case 0:g=Ze(f),y=g.bc.get(l),E=h?"readwrite":"readwrite-primary",R.label=1;case 1:return R.trys.push([1,4,,5]),h?[3,3]:[4,g.persistence.runTransaction("Release target",E,function(V){return g.persistence.No.removeTarget(V,y)})];case 2:R.sent(),R.label=3;case 3:return[3,5];case 4:if(!Hs(S=R.sent()))throw S;return me("LocalStore","Failed to update sequence numbers for target "+l+": "+S),[3,5];case 5:return g.bc=g.bc.remove(l),g.vc.delete(y.target),[2]}})})}function ar(f,l,h){var g=Ze(f),y=zt.min(),E=Qe();return g.persistence.runTransaction("Execute query","readonly",function(S){return(R=g,V=S,Z=Vo(l),re=Ze(R),ge=re.vc.get(Z),void 0!==ge?It.resolve(re.bc.get(ge)):re.Ka.va(V,Z)).next(function(R){if(R)return y=R.lastLimboFreeSnapshotVersion,g.Ka.Fa(S,R.targetId).next(function(V){E=V})}).next(function(){return g.Vc.Lr(S,l,h?y:zt.min(),h?E:Qe())}).next(function(R){return{documents:R,Fc:E}});var R,V,Z,re,ge})}function Mo(f,l){var h=Ze(f),g=Ze(h.Ka),y=h.bc.get(l);return y?Promise.resolve(y.target):h.persistence.runTransaction("Get target data","readonly",function(E){return g.Ue(E,l).next(function(S){return S?S.target:null})})}function Wl(f){var l=Ze(f);return l.persistence.runTransaction("Get new document changes","readonly",function(h){return y=h,E=l.Sc,S=Ze(l.Dc),R=fe(),V=$h(E),Z=cc(y),re=IDBKeyRange.lowerBound(V,!0),Z.rs({index:or.readTimeIndex,range:re},function(ge,_e){var Oe=th(S.serializer,_e);R=R.ot(Oe.key,Oe),V=_e.readTime}).next(function(){return{xc:R,readTime:Vr(V)}});var y,E,S,R,V,Z,re}).then(function(h){var g=h.xc;return l.Sc=h.readTime,g})}function hc(f){return U.__awaiter(this,void 0,void 0,function(){var l;return U.__generator(this,function(h){return[2,(l=Ze(f)).persistence.runTransaction("Synchronize last document change read time","readonly",function(g){return E=cc(g),S=zt.min(),E.rs({index:or.readTimeIndex,reverse:!0},function(R,V,Z){V.readTime&&(S=Vr(V.readTime)),Z.done()}).next(function(){return S});var E,S}).then(function(g){l.Sc=g})]})})}function ci(f){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){if(f.code!==z.FAILED_PRECONDITION||f.message!==Es)throw f;return me("LocalStore","Unexpectedly lost primary lease"),[2]})})}var Ua=function(){function f(){this.$c=new xi(jr.kc),this.Mc=new xi(jr.Oc)}return f.prototype.m=function(){return this.$c.m()},f.prototype.Da=function(l,h){var g=new jr(l,h);this.$c=this.$c.add(g),this.Mc=this.Mc.add(g)},f.prototype.Lc=function(l,h){var g=this;l.forEach(function(y){return g.Da(y,h)})},f.prototype.Na=function(l,h){this.Bc(new jr(l,h))},f.prototype.qc=function(l,h){var g=this;l.forEach(function(y){return g.Na(y,h)})},f.prototype.Uc=function(l){var h=this,g=new Le(new he([])),y=new jr(g,l),E=new jr(g,l+1),S=[];return this.Mc.Ft([y,E],function(R){h.Bc(R),S.push(R.key)}),S},f.prototype.Qc=function(){var l=this;this.$c.forEach(function(h){return l.Bc(h)})},f.prototype.Bc=function(l){this.$c=this.$c.delete(l),this.Mc=this.Mc.delete(l)},f.prototype.Wc=function(l){var h=new Le(new he([])),g=new jr(h,l),y=new jr(h,l+1),E=Qe();return this.Mc.Ft([g,y],function(S){E=E.add(S.key)}),E},f.prototype.Ho=function(l){var h=new jr(l,0),g=this.$c.$t(h);return null!==g&&l.isEqual(g.key)},f}(),jr=function(){function f(l,h){this.key=l,this.jc=h}return f.kc=function(l,h){return Le.i(l.key,h.key)||Ut(l.jc,h.jc)},f.Oc=function(l,h){return Ut(l.jc,h.jc)||Le.i(l.key,h.key)},f}(),zc=function(f,l){this.user=l,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+f},Nr=function(){function f(){this.Gc=null}return f.prototype.getToken=function(){return Promise.resolve(null)},f.prototype.zc=function(){},f.prototype.Hc=function(l){this.Gc=l,l(Eo.UNAUTHENTICATED)},f.prototype.Yc=function(){this.Gc=null},f}(),cr=function(){function f(l){var h=this;this.Jc=null,this.currentUser=Eo.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){h.Zc++,h.currentUser=h.tu(),h.Xc=!0,h.Gc&&h.Gc(h.currentUser)},this.Zc=0,this.auth=l.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),l.get().then(function(g){h.auth=g,h.Jc&&h.auth.addAuthTokenListener(h.Jc)},function(){}))}return f.prototype.getToken=function(){var l=this,h=this.Zc,g=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(g).then(function(y){return l.Zc!==h?(me("FirebaseCredentialsProvider","getToken aborted due to token change."),l.getToken()):y?(at("string"==typeof y.accessToken),new zc(y.accessToken,l.currentUser)):null}):Promise.resolve(null)},f.prototype.zc=function(){this.forceRefresh=!0},f.prototype.Hc=function(l){this.Gc=l,this.Xc&&l(this.currentUser)},f.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},f.prototype.tu=function(){var l=this.auth&&this.auth.getUid();return at(null===l||"string"==typeof l),new Eo(l)},f}(),tr=function(){function f(l,h){this.eu=l,this.nu=h,this.type="FirstParty",this.user=Eo.ni}return Object.defineProperty(f.prototype,"Kc",{get:function(){var l={"X-Goog-AuthUser":this.nu},h=this.eu.auth.getAuthHeaderValueForFirstParty([]);return h&&(l.Authorization=h),l},enumerable:!1,configurable:!0}),f}(),tp=function(){function f(l,h){this.eu=l,this.nu=h}return f.prototype.getToken=function(){return Promise.resolve(new tr(this.eu,this.nu))},f.prototype.Hc=function(l){l(Eo.ni)},f.prototype.Yc=function(){},f.prototype.zc=function(){},f}(),Ss=function(){function f(l,h,g,y,E,S){this.fn=l,this.su=g,this.iu=y,this.ru=E,this.listener=S,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new Ra(l,h)}return f.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},f.prototype.uu=function(){return 2===this.state},f.prototype.start=function(){3!==this.state?this.auth():this.hu()},f.prototype.stop=function(){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){switch(l.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})},f.prototype.lu=function(){this.state=0,this.ys.reset()},f.prototype._u=function(){var l=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,function(){return l.fu()}))},f.prototype.du=function(l){this.wu(),this.stream.send(l)},f.prototype.fu=function(){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){return this.uu()?[2,this.close(0)]:[2]})})},f.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},f.prototype.close=function(l,h){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==l?this.ys.reset():h&&h.code===z.RESOURCE_EXHAUSTED?(lt(h.toString()),lt("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):h&&h.code===z.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=l,[4,this.listener.Tu(h)];case 1:return g.sent(),[2]}})})},f.prototype.mu=function(){},f.prototype.auth=function(){var l=this;this.state=1;var h=this.Eu(this.ou),g=this.ou;this.ru.getToken().then(function(y){l.ou===g&&l.Iu(y)},function(y){h(function(){var E=new G(z.UNKNOWN,"Fetching auth token failed: "+y.message);return l.Au(E)})})},f.prototype.Iu=function(l){var h=this,g=this.Eu(this.ou);this.stream=this.Ru(l),this.stream.gu(function(){g(function(){return h.state=2,h.listener.gu()})}),this.stream.Tu(function(y){g(function(){return h.Au(y)})}),this.stream.onMessage(function(y){g(function(){return h.onMessage(y)})})},f.prototype.hu=function(){var l=this;this.state=4,this.ys.gn(function(){return U.__awaiter(l,void 0,void 0,function(){return U.__generator(this,function(h){return this.state=0,this.start(),[2]})})})},f.prototype.Au=function(l){return me("PersistentStream","close with error: "+l),this.stream=null,this.close(3,l)},f.prototype.Eu=function(l){var h=this;return function(g){h.fn.ws(function(){return h.ou===l?g():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},f}(),sd=function(f){function l(h,g,y,E,S){var R=this;return(R=f.call(this,h,"listen_stream_connection_backoff","listen_stream_idle",g,y,S)||this).serializer=E,R}return U.__extends(l,f),l.prototype.Ru=function(h){return this.iu.Pu("Listen",h)},l.prototype.onMessage=function(h){this.ys.reset();var g=function(E,S){var R,Qs;if("targetChange"in S){var V="NO_CHANGE"===(Qs=S.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Qs?1:"REMOVE"===Qs?2:"CURRENT"===Qs?3:"RESET"===Qs?4:Re(),Z=S.targetChange.targetIds||[],re=function(Qs,mc){return Qs.Qe?(at(void 0===mc||"string"==typeof mc),Vn.fromBase64String(mc||"")):(at(void 0===mc||mc instanceof Uint8Array),Vn.fromUint8Array(mc||new Uint8Array))}(E,S.targetChange.resumeToken),ge=S.targetChange.cause,_e=ge&&function(Qs){var mc=void 0===Qs.code?z.UNKNOWN:Li(Qs.code);return new G(mc,Qs.message||"")}(ge);R=new Je(V,Z,re,_e||null)}else if("documentChange"in S){var Oe=S.documentChange,et=Ki(E,Oe.document.name),ht=yo(Oe.document.updateTime),an=new Or({mapValue:{fields:Oe.document.fields}}),Jt=new oi(et,ht,an,{});R=new vr(Oe.targetIds||[],Oe.removedTargetIds||[],Jt.key,Jt)}else if("documentDelete"in S){var gi=S.documentDelete,bi=Ki(E,gi.document),fr=gi.readTime?yo(gi.readTime):zt.min(),Ys=new Pr(bi,fr);R=new vr([],gi.removedTargetIds||[],Ys.key,Ys)}else if("documentRemove"in S){var af=S.documentRemove,lp=Ki(E,af.document);R=new vr([],af.removedTargetIds||[],lp,null)}else{if(!("filter"in S))return Re();var _h=S.filter,xd=new vi(_h.count||0);R=new Ko(_h.targetId,xd)}return R}(this.serializer,h),y=function(E){if(!("targetChange"in E))return zt.min();var S=E.targetChange;return S.targetIds&&S.targetIds.length?zt.min():S.readTime?yo(S.readTime):zt.min()}(h);return this.listener.yu(g,y)},l.prototype.Vu=function(h){var E,S,R,V,g={};g.database=ys(this.serializer),g.addTarget=(E=this.serializer,(R=jt(V=(S=h).target)?{documents:Ma(E,V)}:{query:wr(E,V)}).targetId=S.targetId,S.resumeToken.O()>0&&(R.resumeToken=sl(E,S.resumeToken)),R);var y=function(E,S){var R=function(V,Z){switch(Z){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Re()}}(0,S.et);return null==R?null:{"goog-listen-tags":R}}(0,h);y&&(g.labels=y),this.du(g)},l.prototype.pu=function(h){var g={};g.database=ys(this.serializer),g.removeTarget=h,this.du(g)},l}(Ss),ym=function(f){function l(h,g,y,E,S){var R=this;return(R=f.call(this,h,"write_stream_connection_backoff","write_stream_idle",g,y,S)||this).serializer=E,R.bu=!1,R}return U.__extends(l,f),Object.defineProperty(l.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),l.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,f.prototype.start.call(this)},l.prototype.mu=function(){this.bu&&this.Su([])},l.prototype.Ru=function(h){return this.iu.Pu("Write",h)},l.prototype.onMessage=function(h){if(at(!!h.streamToken),this.lastStreamToken=h.streamToken,this.bu){this.ys.reset();var g=(S=h.commitTime,(E=h.writeResults)&&E.length>0?(at(void 0!==S),E.map(function(R){return function(V,Z){var re=yo(V.updateTime?V.updateTime:Z);re.isEqual(zt.min())&&(re=yo(Z));var ge=null;return V.transformResults&&V.transformResults.length>0&&(ge=V.transformResults),new Aa(re,ge)}(R,S)})):[]),y=yo(h.commitTime);return this.listener.Du(y,g)}var E,S;return at(!h.writeResults||0===h.writeResults.length),this.bu=!0,this.listener.Cu()},l.prototype.Nu=function(){var h={};h.database=ys(this.serializer),this.du(h)},l.prototype.Su=function(h){var g=this,y={streamToken:this.lastStreamToken,writes:h.map(function(E){return Ui(g.serializer,E)})};this.du(y)},l}(Ss),ad=function(f){function l(h,g,y){var E=this;return(E=f.call(this)||this).credentials=h,E.iu=g,E.serializer=y,E.Fu=!1,E}return U.__extends(l,f),l.prototype.xu=function(){if(this.Fu)throw new G(z.FAILED_PRECONDITION,"The client has already been terminated.")},l.prototype.$u=function(h,g,y){var E=this;return this.xu(),this.credentials.getToken().then(function(S){return E.iu.$u(h,g,y,S)}).catch(function(S){throw S.code===z.UNAUTHENTICATED&&E.credentials.zc(),S})},l.prototype.ku=function(h,g,y){var E=this;return this.xu(),this.credentials.getToken().then(function(S){return E.iu.ku(h,g,y,S)}).catch(function(S){throw S.code===z.UNAUTHENTICATED&&E.credentials.zc(),S})},l.prototype.terminate=function(){this.Fu=!1},l}(function(){}),cd=function(){function f(l,h){this.cs=l,this.di=h,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return f.prototype.Bu=function(){var l=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return l.Ou=null,l.Uu("Backend didn't respond within 10 seconds."),l.qu("Offline"),Promise.resolve()}))},f.prototype.Qu=function(l){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+l.toString()),this.qu("Offline")))},f.prototype.set=function(l){this.Wu(),this.Mu=0,"Online"===l&&(this.Lu=!1),this.qu(l)},f.prototype.qu=function(l){l!==this.state&&(this.state=l,this.di(l))},f.prototype.Uu=function(l){var h="Could not reach Cloud Firestore backend. "+l+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(lt(h),this.Lu=!1):me("OnlineStateTracker",h)},f.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},f}(),np=function(f,l,h,g,y){var E=this;this.ju=f,this.Ku=l,this.cs=h,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=y,this.Xu.Zu(function(S){h.ws(function(){return U.__awaiter(E,void 0,void 0,function(){return U.__generator(this,function(R){switch(R.label){case 0:return hs(this)?(me("RemoteStore","Restarting streams for network reachability change."),[4,function(V){return U.__awaiter(this,void 0,void 0,function(){var Z;return U.__generator(this,function(re){switch(re.label){case 0:return(Z=Ze(V)).Yu.add(4),[4,Zl(Z)];case 1:return re.sent(),Z.th.set("Unknown"),Z.Yu.delete(4),[4,ld(Z)];case 2:return re.sent(),[2]}})})}(this)]):[3,2];case 1:R.sent(),R.label=2;case 2:return[2]}})})})}),this.th=new cd(h,g)};function ld(f){return U.__awaiter(this,void 0,void 0,function(){var l,h;return U.__generator(this,function(g){switch(g.label){case 0:if(!hs(f))return[3,4];l=0,h=f.Ju,g.label=1;case 1:return l<h.length?[4,(0,h[l])(!0)]:[3,4];case 2:g.sent(),g.label=3;case 3:return l++,[3,1];case 4:return[2]}})})}function Zl(f){return U.__awaiter(this,void 0,void 0,function(){var l,h;return U.__generator(this,function(g){switch(g.label){case 0:l=0,h=f.Ju,g.label=1;case 1:return l<h.length?[4,(0,h[l])(!1)]:[3,4];case 2:g.sent(),g.label=3;case 3:return l++,[3,1];case 4:return[2]}})})}function Wh(f){return U.__awaiter(this,void 0,void 0,function(){var l;return U.__generator(this,function(h){switch(h.label){case 0:return l=Ze(f),me("RemoteStore","RemoteStore shutting down."),l.Yu.add(5),[4,Zl(l)];case 1:return h.sent(),l.Xu.Di(),l.th.set("Unknown"),[2]}})})}function ah(f,l){var h=Ze(f);h.Hu.has(l.targetId)||(h.Hu.set(l.targetId,l),Tu(h)?_l(h):Ws(h).uu()&&$c(h,l))}function Hc(f,l){var h=Ze(f),g=Ws(h);h.Hu.delete(l),g.uu()&&ud(h,l),0===h.Hu.size&&(g.uu()?g._u():hs(h)&&h.th.set("Unknown"))}function $c(f,l){f.eh.Ie(l.targetId),Ws(f).Vu(l)}function ud(f,l){f.eh.Ie(l),Ws(f).pu(l)}function _l(f){f.eh=new _t({qe:function(l){return f.Gu.qe(l)},Ue:function(l){return f.Hu.get(l)||null}}),Ws(f).start(),f.th.Bu()}function Tu(f){return hs(f)&&!Ws(f).cu()&&f.Hu.size>0}function hs(f){return 0===Ze(f).Yu.size}function Zh(f){f.eh=void 0}function Kh(f){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){return f.Hu.forEach(function(h,g){$c(f,h)}),[2]})})}function ch(f,l){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){return Zh(f),Tu(f)?(f.th.Qu(l),_l(f)):f.th.set("Unknown"),[2]})})}function Yh(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E;return U.__generator(this,function(S){switch(S.label){case 0:if(f.th.set("Online"),!(l instanceof Je&&2===l.state&&l.cause))return[3,6];S.label=1;case 1:return S.trys.push([1,3,,5]),[4,function(R,V){return U.__awaiter(this,void 0,void 0,function(){var Z,re,ge,_e;return U.__generator(this,function(Oe){switch(Oe.label){case 0:Z=V.cause,re=0,ge=V.targetIds,Oe.label=1;case 1:return re<ge.length?R.Hu.has(_e=ge[re])?[4,R.Gu.nh(_e,Z)]:[3,3]:[3,5];case 2:Oe.sent(),R.Hu.delete(_e),R.eh.removeTarget(_e),Oe.label=3;case 3:Oe.label=4;case 4:return re++,[3,1];case 5:return[2]}})})}(f,l)];case 2:return S.sent(),[3,5];case 3:return g=S.sent(),me("RemoteStore","Failed to remove targets %s: %s ",l.targetIds.join(","),g),[4,Ho(f,g)];case 4:return S.sent(),[3,5];case 5:return[3,13];case 6:if(l instanceof vr?f.eh.be(l):l instanceof Ko?f.eh.$e(l):f.eh.De(l),h.isEqual(zt.min()))return[3,13];S.label=7;case 7:return S.trys.push([7,11,,13]),[4,sr(f.ju)];case 8:return y=S.sent(),h.L(y)>=0?[4,(R=f,V=h,Z=R.eh.Oe(V),Z.zt.forEach(function(re,ge){if(re.resumeToken.O()>0){var _e=R.Hu.get(ge);_e&&R.Hu.set(ge,_e.it(re.resumeToken,V))}}),Z.Ht.forEach(function(re){var ge=R.Hu.get(re);if(ge){R.Hu.set(re,ge.it(Vn.B,ge.nt)),ud(R,re);var _e=new Ci(ge.target,re,1,ge.sequenceNumber);$c(R,_e)}}),R.Gu.sh(Z))]:[3,10];case 9:S.sent(),S.label=10;case 10:return[3,13];case 11:return me("RemoteStore","Failed to raise snapshot:",E=S.sent()),[4,Ho(f,E)];case 12:return S.sent(),[3,13];case 13:return[2]}var R,V,Z})})}function Ho(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g=this;return U.__generator(this,function(y){switch(y.label){case 0:if(!Hs(l))throw l;return f.Yu.add(1),[4,Zl(f)];case 1:return y.sent(),f.th.set("Offline"),h||(h=function(){return sr(f.ju)}),f.cs.Cs(function(){return U.__awaiter(g,void 0,void 0,function(){return U.__generator(this,function(E){switch(E.label){case 0:return me("RemoteStore","Retrying IndexedDB access"),[4,h()];case 1:return E.sent(),f.Yu.delete(1),[4,ld(f)];case 2:return E.sent(),[2]}})})}),[2]}})})}function dd(f,l){return l().catch(function(h){return Ho(f,h,l)})}function Gs(f){return U.__awaiter(this,void 0,void 0,function(){var l,h,g,y,E;return U.__generator(this,function(S){switch(S.label){case 0:l=Ze(f),h=Ds(l),g=l.zu.length>0?l.zu[l.zu.length-1].batchId:-1,S.label=1;case 1:if(!(hs(R=l)&&R.zu.length<10))return[3,7];S.label=2;case 2:return S.trys.push([2,4,,6]),[4,sh(l.ju,g)];case 3:return null===(y=S.sent())?(0===l.zu.length&&h._u(),[3,7]):(g=y.batchId,function(R,V){R.zu.push(V);var Z=Ds(R);Z.uu()&&Z.vu&&Z.Su(V.mutations)}(l,y),[3,6]);case 4:return E=S.sent(),[4,Ho(l,E)];case 5:return S.sent(),[3,6];case 6:return[3,1];case 7:return Kl(l)&&Su(l),[2]}var R})})}function Kl(f){return hs(f)&&!Ds(f).cu()&&f.zu.length>0}function Su(f){Ds(f).start()}function Yl(f){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){return Ds(f).Nu(),[2]})})}function Ql(f){return U.__awaiter(this,void 0,void 0,function(){var l,h,g;return U.__generator(this,function(E){for(l=Ds(f),h=0,g=f.zu;h<g.length;h++)l.Su(g[h].mutations);return[2]})})}function hd(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y;return U.__generator(this,function(E){switch(E.label){case 0:return g=f.zu.shift(),y=bu.from(g,l,h),[4,dd(f,function(){return f.Gu.ih(y)})];case 1:return E.sent(),[4,Gs(f)];case 2:return E.sent(),[2]}})})}function Jl(f,l){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){switch(h.label){case 0:return l&&Ds(f).vu?[4,function(g,y){return U.__awaiter(this,void 0,void 0,function(){var E,S;return U.__generator(this,function(R){switch(R.label){case 0:return $n(S=y.code)&&S!==z.ABORTED?(E=g.zu.shift(),Ds(g).lu(),[4,dd(g,function(){return g.Gu.rh(E.batchId,y)})]):[3,3];case 1:return R.sent(),[4,Gs(g)];case 2:R.sent(),R.label=3;case 3:return[2]}})})}(f,l)]:[3,2];case 1:h.sent(),h.label=2;case 2:return Kl(f)&&Su(f),[2]}})})}function Xl(f,l){return U.__awaiter(this,void 0,void 0,function(){var h;return U.__generator(this,function(y){switch(y.label){case 0:return h=Ze(f),l?(h.Yu.delete(2),[4,ld(h)]):[3,2];case 1:return y.sent(),[3,5];case 2:return l?[3,4]:(h.Yu.add(2),[4,Zl(h)]);case 3:y.sent(),h.th.set("Unknown"),y.label=4;case 4:y.label=5;case 5:return[2]}})})}function Ws(f){var h,g,y,E,l=this;return f.oh||(f.oh=(h=f.Ku,g=f.cs,y={gu:Kh.bind(null,f),Tu:ch.bind(null,f),yu:Yh.bind(null,f)},(E=Ze(h)).xu(),new sd(g,E.iu,E.credentials,E.serializer,y)),f.Ju.push(function(h){return U.__awaiter(l,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return h?(f.oh.lu(),Tu(f)?_l(f):f.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,f.oh.stop()];case 2:g.sent(),Zh(f),g.label=3;case 3:return[2]}})})})),f.oh}function Ds(f){var h,g,y,E,l=this;return f.ah||(f.ah=(h=f.Ku,g=f.cs,y={gu:Yl.bind(null,f),Tu:Jl.bind(null,f),Cu:Ql.bind(null,f),Du:hd.bind(null,f)},(E=Ze(h)).xu(),new ym(g,E.iu,E.credentials,E.serializer,y)),f.Ju.push(function(h){return U.__awaiter(l,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return h?(f.ah.lu(),[4,Gs(f)]):[3,2];case 1:return g.sent(),[3,4];case 2:return[4,f.ah.stop()];case 3:g.sent(),f.zu.length>0&&(me("RemoteStore","Stopping write stream with "+f.zu.length+" pending writes"),f.zu=[]),g.label=4;case 4:return[2]}})})})),f.ah}var ip=function(f){this.key=f},fd=function(f){this.key=f},Va=function(){function f(l,h){this.query=l,this.uh=h,this.hh=null,this.te=!1,this.lh=Qe(),this.Wt=Qe(),this._h=vu(l),this.fh=new Vt(this._h)}return Object.defineProperty(f.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),f.prototype.wh=function(l,h){var g=this,y=h?h.mh:new Xn,E=h?h.fh:this.fh,S=h?h.Wt:this.Wt,R=E,V=!1,Z=kc(this.query)&&E.size===this.query.limit?E.last():null,re=ic(this.query)&&E.size===this.query.limit?E.first():null;if(l.ht(function(_e,Oe){var et=E.get(_e),ht=Oe instanceof oi?Oe:null;ht&&(ht=Bl(g.query,ht)?ht:null);var an=!!et&&g.Wt.has(et.key),Jt=!!ht&&(ht.Je||g.Wt.has(ht.key)&&ht.hasCommittedMutations),On=!1;et&&ht?et.data().isEqual(ht.data())?an!==Jt&&(y.track({type:3,doc:ht}),On=!0):g.Th(et,ht)||(y.track({type:2,doc:ht}),On=!0,(Z&&g._h(ht,Z)>0||re&&g._h(ht,re)<0)&&(V=!0)):!et&&ht?(y.track({type:0,doc:ht}),On=!0):et&&!ht&&(y.track({type:1,doc:et}),On=!0,(Z||re)&&(V=!0)),On&&(ht?(R=R.add(ht),S=Jt?S.add(_e):S.delete(_e)):(R=R.delete(_e),S=S.delete(_e)))}),kc(this.query)||ic(this.query))for(;R.size>this.query.limit;){var ge=kc(this.query)?R.last():R.first();R=R.delete(ge.key),S=S.delete(ge.key),y.track({type:1,doc:ge})}return{fh:R,mh:y,Eh:V,Wt:S}},f.prototype.Th=function(l,h){return l.Je&&h.hasCommittedMutations&&!h.Je},f.prototype.yr=function(l,h,g){var y=this,E=this.fh;this.fh=l.fh,this.Wt=l.Wt;var S=l.mh.Ut();S.sort(function(re,ge){return Oe=ge.type,(et=function(ht){switch(ht){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}})(re.type)-et(Oe)||y._h(re.doc,ge.doc);var Oe,et}),this.Ih(g);var R=h?this.Ah():[],V=0===this.lh.size&&this.te?1:0,Z=V!==this.hh;return this.hh=V,0!==S.length||Z?{snapshot:new xn(this.query,l.fh,E,S,l.Wt,0===V,Z,!1),Rh:R}:{Rh:R}},f.prototype.Qs=function(l){return this.te&&"Offline"===l?(this.te=!1,this.yr({fh:this.fh,mh:new Xn,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},f.prototype.gh=function(l){return!this.uh.has(l)&&!!this.fh.has(l)&&!this.fh.get(l).Je},f.prototype.Ih=function(l){var h=this;l&&(l.ee.forEach(function(g){return h.uh=h.uh.add(g)}),l.ne.forEach(function(g){}),l.se.forEach(function(g){return h.uh=h.uh.delete(g)}),this.te=l.te)},f.prototype.Ah=function(){var l=this;if(!this.te)return[];var h=this.lh;this.lh=Qe(),this.fh.forEach(function(y){l.gh(y.key)&&(l.lh=l.lh.add(y.key))});var g=[];return h.forEach(function(y){l.lh.has(y)||g.push(new fd(y))}),this.lh.forEach(function(y){h.has(y)||g.push(new ip(y))}),g},f.prototype.Ph=function(l){this.uh=l.Fc,this.lh=Qe();var h=this.wh(l.documents);return this.yr(h,!0)},f.prototype.yh=function(){return xn.Gt(this.query,this.fh,this.Wt,0===this.hh)},f}(),lh=function(f,l,h){this.query=f,this.targetId=l,this.view=h},uh=function(f){this.key=f,this.Vh=!1},vl=function(){function f(l,h,g,y,E,S){this.ju=l,this.ph=h,this.bh=g,this.Sh=y,this.currentUser=E,this.Dh=S,this.Ch={},this.Nh=new Yt(function(R){return ha(R)},oc),this.Fh=new Map,this.xh=[],this.$h=new qn(Le.i),this.kh=new Map,this.Mh=new Ua,this.Oh={},this.Lh=new Map,this.Bh=$l.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(f.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),f}();function is(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,y,E,S,R;return U.__generator(this,function(V){switch(V.label){case 0:return h=Xi(f),(E=h.Nh.get(l))?(h.Sh.Oi(E.targetId),y=E.view.yh(),[3,4]):[3,1];case 1:return[4,ds(h.ju,Vo(l))];case 2:return S=V.sent(),R=h.Sh.Oi(S.targetId),[4,qc(h,l,S.targetId,"current"===R)];case 3:y=V.sent(),h.Uh&&ah(h.ph,S),V.label=4;case 4:return[2,y]}})})}function qc(f,l,h,g){return U.__awaiter(this,void 0,void 0,function(){var y,E,S,R,V,Z;return U.__generator(this,function(re){switch(re.label){case 0:return f.Qh=function(ge,_e,Oe){return function(et,ht,an,Jt){return U.__awaiter(this,void 0,void 0,function(){var On,Jn,gi;return U.__generator(this,function(bi){switch(bi.label){case 0:return(On=ht.view.wh(an)).Eh?[4,ar(et.ju,ht.query,!1).then(function(fr){return ht.view.wh(fr.documents,On)})]:[3,2];case 1:On=bi.sent(),bi.label=2;case 2:return Jn=Jt&&Jt.zt.get(ht.targetId),gi=ht.view.yr(On,et.Uh,Jn),[2,(k(et,ht.targetId,gi.Rh),gi.snapshot)]}})})}(f,ge,_e,Oe)},[4,ar(f.ju,l,!0)];case 1:return y=re.sent(),E=new Va(l,y.Fc),S=E.wh(y.documents),R=Nn.Zt(h,g&&"Offline"!==f.onlineState),V=E.yr(S,f.Uh,R),k(f,h,V.Rh),Z=new lh(l,h,E),[2,(f.Nh.set(l,Z),f.Fh.has(h)?f.Fh.get(h).push(l):f.Fh.set(h,[l]),V.snapshot)]}})})}function Ri(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y;return U.__generator(this,function(E){switch(E.label){case 0:return h=Ze(f),g=h.Nh.get(l),(y=h.Fh.get(g.targetId)).length>1?[2,(h.Fh.set(g.targetId,y.filter(function(S){return!oc(S,l)})),void h.Nh.delete(l))]:h.Uh?(h.Sh.Bi(g.targetId),h.Sh.Fi(g.targetId)?[3,2]:[4,Hn(h.ju,g.targetId,!1).then(function(){h.Sh.Ui(g.targetId),Hc(h.ph,g.targetId),Ba(h,g.targetId)}).catch(ci)]):[3,3];case 1:E.sent(),E.label=2;case 2:return[3,5];case 3:return Ba(h,g.targetId),[4,Hn(h.ju,g.targetId,!0)];case 4:E.sent(),E.label=5;case 5:return[2]}})})}function fc(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g;return U.__generator(this,function(y){switch(y.label){case 0:h=Ze(f),y.label=1;case 1:return y.trys.push([1,4,,6]),[4,_a(h.ju,l)];case 2:return g=y.sent(),l.zt.forEach(function(E,S){var R=h.kh.get(S);R&&(at(E.ee.size+E.ne.size+E.se.size<=1),E.ee.size>0?R.Vh=!0:E.ne.size>0?at(R.Vh):E.se.size>0&&(at(R.Vh),R.Vh=!1))}),[4,oe(h,g,l)];case 3:return y.sent(),[3,6];case 4:return[4,ci(y.sent())];case 5:return y.sent(),[3,6];case 6:return[2]}})})}function pd(f,l,h){var g=Ze(f);if(g.Uh&&0===h||!g.Uh&&1===h){var y=[];g.Nh.forEach(function(E,S){var R=S.view.Qs(l);R.snapshot&&y.push(R.snapshot)}),function(E,S){var R=Ze(E);R.onlineState=S;var V=!1;R.Bs.forEach(function(Z,re){for(var ge=0,_e=re.listeners;ge<_e.length;ge++)_e[ge].Qs(S)&&(V=!0)}),V&&$s(R)}(g.bh,l),y.length&&g.Ch.yu(y),g.onlineState=l,g.Uh&&g.Sh.Ki(l)}}function Ti(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E,S,R,V;return U.__generator(this,function(Z){switch(Z.label){case 0:return(g=Ze(f)).Sh.Qi(l,"rejected",h),y=g.kh.get(l),(E=y&&y.key)?(S=(S=new qn(Le.i)).ot(E,new Pr(E,zt.min())),R=Qe().add(E),V=new ai(zt.min(),new Map,new xi(Ut),S,R),[4,fc(g,V)]):[3,2];case 1:return Z.sent(),g.$h=g.$h.remove(E),g.kh.delete(l),H(g),[3,4];case 2:return[4,Hn(g.ju,l,!1).then(function(){return Ba(g,l,h)}).catch(ci)];case 3:Z.sent(),Z.label=4;case 4:return[2]}})})}function md(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y;return U.__generator(this,function(E){switch(E.label){case 0:h=Ze(f),g=l.batch.batchId,E.label=1;case 1:return E.trys.push([1,4,,6]),[4,ga(h.ju,l)];case 2:return y=E.sent(),yl(h,g,null),fs(h,g),h.Sh.ki(g,"acknowledged"),[4,oe(h,y)];case 3:return E.sent(),[3,6];case 4:return[4,ci(E.sent())];case 5:return E.sent(),[3,6];case 6:return[2]}})})}function rp(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y;return U.__generator(this,function(E){switch(E.label){case 0:g=Ze(f),E.label=1;case 1:return E.trys.push([1,4,,6]),[4,(S=g.ju,R=l,V=Ze(S),V.persistence.runTransaction("Reject batch","readwrite-primary",function(Z){var re;return V.Sr.Oo(Z,R).next(function(ge){return at(null!==ge),re=ge.keys(),V.Sr.Wo(Z,ge)}).next(function(){return V.Sr.zo(Z)}).next(function(){return V.Cc.kr(Z,re)})}))];case 2:return y=E.sent(),yl(g,l,h),fs(g,l),g.Sh.ki(l,"rejected",h),[4,oe(g,y)];case 3:return E.sent(),[3,6];case 4:return[4,ci(E.sent())];case 5:return E.sent(),[3,6];case 6:return[2]}var S,R,V})})}function fs(f,l){(f.Lh.get(l)||[]).forEach(function(h){h.resolve()}),f.Lh.delete(l)}function yl(f,l,h){var g=Ze(f),y=g.Oh[g.currentUser.ti()];if(y){var E=y.get(l);E&&(h?E.reject(h):E.resolve(),y=y.remove(l)),g.Oh[g.currentUser.ti()]=y}}function Ba(f,l,h){void 0===h&&(h=null),f.Sh.Bi(l);for(var g=0,y=f.Fh.get(l);g<y.length;g++){var E=y[g];f.Nh.delete(E),h&&f.Ch.Wh(E,h)}f.Fh.delete(l),f.Uh&&f.Mh.Uc(l).forEach(function(S){f.Mh.Ho(S)||Gc(f,S)})}function Gc(f,l){var h=f.$h.get(l);null!==h&&(Hc(f.ph,h),f.$h=f.$h.remove(l),f.kh.delete(h),H(f))}function k(f,l,h){for(var g=0,y=h;g<y.length;g++){var E=y[g];E instanceof ip?(f.Mh.Da(E.key,l),F(f,E)):E instanceof fd?(me("SyncEngine","Document no longer in limbo: "+E.key),f.Mh.Na(E.key,l),f.Mh.Ho(E.key)||Gc(f,E.key)):Re()}}function F(f,l){var h=l.key;f.$h.get(h)||(me("SyncEngine","New document in limbo: "+h),f.xh.push(h),H(f))}function H(f){for(;f.xh.length>0&&f.$h.size<f.Dh;){var l=f.xh.shift(),h=f.Bh.next();f.kh.set(h,new uh(l)),f.$h=f.$h.ot(l,h),ah(f.ph,new Ci(Vo(Oa(l.path)),h,2,Io.ai))}}function oe(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E,S;return U.__generator(this,function(R){switch(R.label){case 0:return g=Ze(f),y=[],E=[],S=[],g.Nh.m()?[3,3]:(g.Nh.forEach(function(V,Z){S.push(g.Qh(Z,l,h).then(function(re){if(re){g.Uh&&g.Sh.Qi(Z.targetId,re.fromCache?"not-current":"current"),y.push(re);var ge=Ii.zr(Z.targetId,re);E.push(ge)}}))}),[4,Promise.all(S)]);case 1:return R.sent(),g.Ch.yu(y),[4,function(V,Z){return U.__awaiter(this,void 0,void 0,function(){var re,ge,_e,Oe,et,ht,an,On;return U.__generator(this,function(Jn){switch(Jn.label){case 0:re=Ze(V),Jn.label=1;case 1:return Jn.trys.push([1,3,,4]),[4,re.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(gi){return It.forEach(Z,function(bi){return It.forEach(bi.Kr,function(fr){return re.persistence.No.Da(gi,bi.targetId,fr)}).next(function(){return It.forEach(bi.Gr,function(fr){return re.persistence.No.Na(gi,bi.targetId,fr)})})})})];case 2:return Jn.sent(),[3,4];case 3:if(!Hs(ge=Jn.sent()))throw ge;return me("LocalStore","Failed to update sequence numbers: "+ge),[3,4];case 4:for(_e=0,Oe=Z;_e<Oe.length;_e++)ht=(et=Oe[_e]).targetId,et.fromCache||(an=re.bc.get(ht),On=an.rt(an.nt),re.bc=re.bc.ot(ht,On));return[2]}})})}(g.ju,E)];case 2:R.sent(),R.label=3;case 3:return[2]}})})}function be(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g;return U.__generator(this,function(y){switch(y.label){case 0:return(h=Ze(f)).currentUser.isEqual(l)?[3,3]:(me("SyncEngine","User change. New user:",l.ti()),[4,function(E,S){return U.__awaiter(this,void 0,void 0,function(){var R,V,Z,re;return U.__generator(this,function(ge){switch(ge.label){case 0:return R=Ze(E),V=R.Sr,Z=R.Cc,[4,R.persistence.runTransaction("Handle user change","readonly",function(_e){var Oe;return R.Sr.Uo(_e).next(function(et){return Oe=et,V=R.persistence.mc(S),Z=new wu(R.Dc,V,R.persistence.Ic()),V.Uo(_e)}).next(function(et){for(var ht=[],an=[],Jt=Qe(),On=0,Jn=Oe;On<Jn.length;On++){var gi=Jn[On];ht.push(gi.batchId);for(var bi=0,fr=gi.mutations;bi<fr.length;bi++)Jt=Jt.add(fr[bi].key)}for(var Zc=0,af=et;Zc<af.length;Zc++){var lp=af[Zc];an.push(lp.batchId);for(var cf=0,_h=lp.mutations;cf<_h.length;cf++)Jt=Jt.add(_h[cf].key)}return Z.kr(_e,Jt).next(function(xd){return{jh:xd,Kh:ht,Gh:an}})})})];case 1:return re=ge.sent(),[2,(R.Sr=V,R.Cc=Z,R.Vc.Nc(R.Cc),re)]}})})}(h.ju,l)]);case 1:return g=y.sent(),h.currentUser=l,(E=h).Lh.forEach(function(R){R.forEach(function(V){V.reject(new G(z.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),E.Lh.clear(),h.Sh.ji(l,g.Kh,g.Gh),[4,oe(h,g.jh)];case 2:y.sent(),y.label=3;case 3:return[2]}var E})})}function Ue(f,l){var h=Ze(f),g=h.kh.get(l);if(g&&g.Vh)return Qe().add(g.key);var y=Qe(),E=h.Fh.get(l);if(!E)return y;for(var S=0,R=E;S<R.length;S++){var Z=h.Nh.get(R[S]);y=y.kt(Z.view.dh)}return y}function rt(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y;return U.__generator(this,function(E){switch(E.label){case 0:return[4,ar((h=Ze(f)).ju,l.query,!0)];case 1:return g=E.sent(),y=l.view.Ph(g),[2,(h.Uh&&k(h,l.targetId,y.Rh),y)]}})})}function Bt(f,l,h,g){return U.__awaiter(this,void 0,void 0,function(){var y,E;return U.__generator(this,function(S){switch(S.label){case 0:return[4,(R=(y=Ze(f)).ju,V=l,Z=Ze(R),re=Ze(Z.Sr),Z.persistence.runTransaction("Lookup mutation documents","readonly",function(ge){return re.Lo(ge,V).next(function(_e){return _e?Z.Cc.kr(ge,_e):It.resolve(null)})}))];case 1:return null===(E=S.sent())?[3,6]:"pending"!==h?[3,3]:[4,Gs(y.ph)];case 2:return S.sent(),[3,4];case 3:"acknowledged"===h||"rejected"===h?(yl(y,l,g||null),fs(y,l),function(R,V){Ze(Ze(R).Sr).Ko(V)}(y.ju,l)):Re(),S.label=4;case 4:return[4,oe(y,E)];case 5:return S.sent(),[3,7];case 6:me("SyncEngine","Cannot apply mutation batch with id: "+l),S.label=7;case 7:return[2]}var R,V,Z,re})})}function Ft(f,l){return U.__awaiter(this,void 0,void 0,function(){var h,g,y,E,S,V,Z;return U.__generator(this,function(re){switch(re.label){case 0:return Xi(h=Ze(f)),Du(h),!0!==l||!0===h.qh?[3,3]:(g=h.Sh.Ci(),[4,hn(h,g.A())]);case 1:return y=re.sent(),h.qh=!0,[4,Xl(h.ph,!0)];case 2:for(re.sent(),E=0,S=y;E<S.length;E++)ah(h.ph,S[E]);return[3,7];case 3:return!1!==l||!1===h.qh?[3,7]:(V=[],Z=Promise.resolve(),h.Fh.forEach(function(ge,_e){h.Sh.qi(_e)?V.push(_e):Z=Z.then(function(){return Ba(h,_e),Hn(h.ju,_e,!0)}),Hc(h.ph,_e)}),[4,Z]);case 4:return re.sent(),[4,hn(h,V)];case 5:return re.sent(),(_e=Ze(h)).kh.forEach(function(Oe,et){Hc(_e.ph,et)}),_e.Mh.Qc(),_e.kh=new Map,_e.$h=new qn(Le.i),h.qh=!1,[4,Xl(h.ph,!1)];case 6:re.sent(),re.label=7;case 7:return[2]}var _e})})}function hn(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E,S,R,V,Z,re,ge,_e,et,ht,an;return U.__generator(this,function(Jt){switch(Jt.label){case 0:g=Ze(f),y=[],E=[],S=0,R=l,Jt.label=1;case 1:return S<R.length?(Z=void 0,(re=g.Fh.get(V=R[S]))&&0!==re.length?[4,ds(g.ju,Vo(re[0]))]:[3,7]):[3,13];case 2:Z=Jt.sent(),ge=0,_e=re,Jt.label=3;case 3:return ge<_e.length?(et=g.Nh.get(_e[ge]),[4,rt(g,et)]):[3,6];case 4:(ht=Jt.sent()).snapshot&&E.push(ht.snapshot),Jt.label=5;case 5:return ge++,[3,3];case 6:return[3,11];case 7:return[4,Mo(g.ju,V)];case 8:return an=Jt.sent(),[4,ds(g.ju,an)];case 9:return Z=Jt.sent(),[4,qc(g,Un(an),V,!1)];case 10:Jt.sent(),Jt.label=11;case 11:y.push(Z),Jt.label=12;case 12:return S++,[3,1];case 13:return[2,(g.Ch.yu(E),y)]}})})}function Un(f){return Ac(f.path,f.collectionGroup,f.orderBy,f.filters,f.limit,"F",f.startAt,f.endAt)}function Mn(f){var l=Ze(f);return Ze(Ze(l.ju).persistence).pi()}function ps(f,l,h,g){return U.__awaiter(this,void 0,void 0,function(){var y,E,S;return U.__generator(this,function(R){switch(R.label){case 0:return(y=Ze(f)).qh?(me("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!y.Fh.has(l))return[3,8];switch(h){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Wl(y.ju)];case 3:return E=R.sent(),S=ai.Xt(l,"current"===h),[4,oe(y,E,S)];case 4:return R.sent(),[3,8];case 5:return[4,Hn(y.ju,l,!0)];case 6:return R.sent(),Ba(y,l,g),[3,8];case 7:Re(),R.label=8;case 8:return[2]}})})}function Ao(f,l,h){return U.__awaiter(this,void 0,void 0,function(){var g,y,E,S,R,V,Z,re,ge;return U.__generator(this,function(Oe){switch(Oe.label){case 0:if(!(g=Xi(f)).qh)return[3,10];y=0,E=l,Oe.label=1;case 1:return y<E.length?g.Fh.has(S=E[y])?(me("SyncEngine","Adding an already active target "+S),[3,5]):[4,Mo(g.ju,S)]:[3,6];case 2:return R=Oe.sent(),[4,ds(g.ju,R)];case 3:return V=Oe.sent(),[4,qc(g,Un(R),V.targetId,!1)];case 4:Oe.sent(),ah(g.ph,V),Oe.label=5;case 5:return y++,[3,1];case 6:Z=function(et){return U.__generator(this,function(ht){switch(ht.label){case 0:return g.Fh.has(et)?[4,Hn(g.ju,et,!1).then(function(){Hc(g.ph,et),Ba(g,et)}).catch(ci)]:[3,2];case 1:ht.sent(),ht.label=2;case 2:return[2]}})},re=0,ge=h,Oe.label=7;case 7:return re<ge.length?[5,Z(ge[re])]:[3,10];case 8:Oe.sent(),Oe.label=9;case 9:return re++,[3,7];case 10:return[2]}})})}function Xi(f){var l=Ze(f);return l.ph.Gu.sh=fc.bind(null,l),l.ph.Gu.qe=Ue.bind(null,l),l.ph.Gu.nh=Ti.bind(null,l),l.Ch.yu=ts.bind(null,l.bh),l.Ch.Wh=Lc.bind(null,l.bh),l}function Du(f){var l=Ze(f);return l.ph.Gu.ih=md.bind(null,l),l.ph.Gu.rh=rp.bind(null,l),l}var ja=function(){function f(){}return f.prototype.Nc=function(l){this.zh=l},f.prototype.Lr=function(l,h,g,y){var S,E=this;return 0===(S=h).filters.length&&null===S.limit&&null==S.startAt&&null==S.endAt&&(0===S.on.length||1===S.on.length&&S.on[0].field.p())||g.isEqual(zt.min())?this.Hh(l,h):this.zh.kr(l,y).next(function(S){var R=E.Yh(h,S);return(kc(h)||ic(h))&&E.Eh(h.an,R,y,g)?E.Hh(l,h):(Ne()<=pe.LogLevel.DEBUG&&me("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",g.toString(),Cs(h)),E.zh.Lr(l,h,g).next(function(V){return R.forEach(function(Z){V=V.ot(Z.key,Z)}),V}))})},f.prototype.Yh=function(l,h){var g=new xi(vu(l));return h.forEach(function(y,E){E instanceof oi&&Bl(l,E)&&(g=g.add(E))}),g},f.prototype.Eh=function(l,h,g,y){if(g.size!==h.size)return!0;var E="F"===l?h.last():h.first();return!!E&&(E.hasPendingWrites||E.version.L(y)>0)},f.prototype.Hh=function(l,h){return Ne()<=pe.LogLevel.DEBUG&&me("IndexFreeQueryEngine","Using full collection scan to execute query:",Cs(h)),this.zh.Lr(l,h,zt.min())},f}(),za=function(){function f(l,h){this.Dr=l,this.No=h,this.Sr=[],this.Jh=1,this.Xh=new xi(jr.kc)}return f.prototype.$o=function(l){return It.resolve(0===this.Sr.length)},f.prototype.ko=function(l,h,g,y){var E=this.Jh;this.Jh++;var S=new nd(E,h,g,y);this.Sr.push(S);for(var R=0,V=y;R<V.length;R++){var Z=V[R];this.Xh=this.Xh.add(new jr(Z.key,E)),this.Dr.Mo(l,Z.key.path.h())}return It.resolve(S)},f.prototype.Oo=function(l,h){return It.resolve(this.Zh(h))},f.prototype.Bo=function(l,h){var y=this.tl(h+1),E=y<0?0:y;return It.resolve(this.Sr.length>E?this.Sr[E]:null)},f.prototype.qo=function(){return It.resolve(0===this.Sr.length?-1:this.Jh-1)},f.prototype.Uo=function(l){return It.resolve(this.Sr.slice())},f.prototype.Nr=function(l,h){var g=this,y=new jr(h,0),E=new jr(h,Number.POSITIVE_INFINITY),S=[];return this.Xh.Ft([y,E],function(R){var V=g.Zh(R.jc);S.push(V)}),It.resolve(S)},f.prototype.Or=function(l,h){var g=this,y=new xi(Ut);return h.forEach(function(E){var S=new jr(E,0),R=new jr(E,Number.POSITIVE_INFINITY);g.Xh.Ft([S,R],function(V){y=y.add(V.jc)})}),It.resolve(this.el(y))},f.prototype.Wr=function(l,h){var g=h.path,y=g.length+1,E=g;Le.F(E)||(E=E.child(""));var S=new jr(new Le(E),0),R=new xi(Ut);return this.Xh.xt(function(V){var Z=V.key.path;return!!g.T(Z)&&(Z.length===y&&(R=R.add(V.jc)),!0)},S),It.resolve(this.el(R))},f.prototype.el=function(l){var h=this,g=[];return l.forEach(function(y){var E=h.Zh(y);null!==E&&g.push(E)}),g},f.prototype.Wo=function(l,h){var g=this;at(0===this.nl(h.batchId,"removed")),this.Sr.shift();var y=this.Xh;return It.forEach(h.mutations,function(E){var S=new jr(E.key,h.batchId);return y=y.delete(S),g.No.Go(l,E.key)}).next(function(){g.Xh=y})},f.prototype.Ko=function(l){},f.prototype.Ho=function(l,h){var g=new jr(h,0),y=this.Xh.$t(g);return It.resolve(h.isEqual(y&&y.key))},f.prototype.zo=function(l){return It.resolve()},f.prototype.nl=function(l,h){return this.tl(l)},f.prototype.tl=function(l){return 0===this.Sr.length?0:l-this.Sr[0].batchId},f.prototype.Zh=function(l){var h=this.tl(l);return h<0||h>=this.Sr.length?null:this.Sr[h]},f}(),Fr=function(){function f(l,h){this.Dr=l,this.sl=h,this.docs=new qn(Le.i),this.size=0}return f.prototype.Er=function(l,h,g){var y=h.key,E=this.docs.get(y),S=E?E.size:0,R=this.sl(h);return this.docs=this.docs.ot(y,{ta:h,size:R,readTime:g}),this.size+=R-S,this.Dr.Mo(l,y.path.h())},f.prototype.Ar=function(l){var h=this.docs.get(l);h&&(this.docs=this.docs.remove(l),this.size-=h.size)},f.prototype.Rr=function(l,h){var g=this.docs.get(h);return It.resolve(g?g.ta:null)},f.prototype.getEntries=function(l,h){var g=this,y=le();return h.forEach(function(E){var S=g.docs.get(E);y=y.ot(E,S?S.ta:null)}),It.resolve(y)},f.prototype.Lr=function(l,h,g){for(var y=te(),E=new Le(h.path.child("")),S=this.docs.ft(E);S.At();){var R=S.It(),Z=R.value,re=Z.ta,ge=Z.readTime;if(!h.path.T(R.key.path))break;ge.L(g)<=0||re instanceof oi&&Bl(h,re)&&(y=y.ot(re.key,re))}return It.resolve(y)},f.prototype.il=function(l,h){return It.forEach(this.docs,function(g){return h(g)})},f.prototype.ra=function(l){return new bl(this)},f.prototype.aa=function(l){return It.resolve(this.size)},f}(),bl=function(f){function l(h){var g=this;return(g=f.call(this)||this).ca=h,g}return U.__extends(l,f),l.prototype.yr=function(h){var g=this,y=[];return this.wr.forEach(function(E,S){S?y.push(g.ca.Er(h,S,g.readTime)):g.ca.Ar(E)}),It.$n(y)},l.prototype.gr=function(h,g){return this.ca.Rr(h,g)},l.prototype.Pr=function(h,g){return this.ca.getEntries(h,g)},l}(Qf),a_=function(){function f(l){this.persistence=l,this.rl=new Yt(function(h){return xt(h)},mn),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.ol=0,this.al=new Ua,this.targetCount=0,this.cl=$l.fa()}return f.prototype.Ce=function(l,h){return this.rl.forEach(function(g,y){return h(y)}),It.resolve()},f.prototype.Ea=function(l){return It.resolve(this.lastRemoteSnapshotVersion)},f.prototype.Ia=function(l){return It.resolve(this.ol)},f.prototype.wa=function(l){return this.highestTargetId=this.cl.next(),It.resolve(this.highestTargetId)},f.prototype.Aa=function(l,h,g){return g&&(this.lastRemoteSnapshotVersion=g),h>this.ol&&(this.ol=h),It.resolve()},f.prototype.ga=function(l){this.rl.set(l.target,l);var h=l.targetId;h>this.highestTargetId&&(this.cl=new $l(h),this.highestTargetId=h),l.sequenceNumber>this.ol&&(this.ol=l.sequenceNumber)},f.prototype.Ra=function(l,h){return this.ga(h),this.targetCount+=1,It.resolve()},f.prototype.ya=function(l,h){return this.ga(h),It.resolve()},f.prototype.Va=function(l,h){return this.rl.delete(h.target),this.al.Uc(h.targetId),this.targetCount-=1,It.resolve()},f.prototype.po=function(l,h,g){var y=this,E=0,S=[];return this.rl.forEach(function(R,V){V.sequenceNumber<=h&&null===g.get(V.targetId)&&(y.rl.delete(R),S.push(y.pa(l,V.targetId)),E++)}),It.$n(S).next(function(){return E})},f.prototype.ba=function(l){return It.resolve(this.targetCount)},f.prototype.va=function(l,h){var g=this.rl.get(h)||null;return It.resolve(g)},f.prototype.Sa=function(l,h,g){return this.al.Lc(h,g),It.resolve()},f.prototype.Ca=function(l,h,g){this.al.qc(h,g);var y=this.persistence.No,E=[];return y&&h.forEach(function(S){E.push(y.Go(l,S))}),It.$n(E)},f.prototype.pa=function(l,h){return this.al.Uc(h),It.resolve()},f.prototype.Fa=function(l,h){var g=this.al.Wc(h);return It.resolve(g)},f.prototype.Ho=function(l,h){return It.resolve(this.al.Ho(h))},f}(),gd=function(){function f(l){var h=this;this.ul={},this.Ma=new Io(0),this.Oa=!1,this.Oa=!0,this.No=l(this),this.Ka=new a_(this),this.Dr=new Ts,this.vr=new Fr(this.Dr,function(E){return h.No.hl(E)})}return f.prototype.start=function(){return Promise.resolve()},f.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(f.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),f.prototype.Za=function(){},f.prototype.tc=function(){},f.prototype.Ic=function(){return this.Dr},f.prototype.mc=function(l){var h=this.ul[l.ti()];return h||(h=new za(this.Dr,this.No),this.ul[l.ti()]=h),h},f.prototype.Tc=function(){return this.Ka},f.prototype.Ec=function(){return this.vr},f.prototype.runTransaction=function(l,h,g){var y=this;me("MemoryPersistence","Starting transaction:",l);var E=new _d(this.Ma.next());return this.No.ll(),g(E).next(function(S){return y.No._l(E).next(function(){return S})}).Fn().then(function(S){return E.br(),S})},f.prototype.fl=function(l,h){return It.kn(Object.values(this.ul).map(function(g){return function(){return g.Ho(l,h)}}))},f}(),_d=function(f){function l(h){var g=this;return(g=f.call(this)||this).xa=h,g}return U.__extends(l,f),l}(Qd),Qh=function(){function f(l){this.persistence=l,this.dl=new Ua,this.wl=null}return f.ml=function(l){return new f(l)},Object.defineProperty(f.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw Re()},enumerable:!1,configurable:!0}),f.prototype.Da=function(l,h,g){return this.dl.Da(g,h),this.Tl.delete(g.toString()),It.resolve()},f.prototype.Na=function(l,h,g){return this.dl.Na(g,h),this.Tl.add(g.toString()),It.resolve()},f.prototype.Go=function(l,h){return this.Tl.add(h.toString()),It.resolve()},f.prototype.removeTarget=function(l,h){var g=this;this.dl.Uc(h.targetId).forEach(function(E){return g.Tl.add(E.toString())});var y=this.persistence.Tc();return y.Fa(l,h.targetId).next(function(E){E.forEach(function(S){return g.Tl.add(S.toString())})}).next(function(){return y.Va(l,h)})},f.prototype.ll=function(){this.wl=new Set},f.prototype._l=function(l){var h=this,g=this.persistence.Ec().ra();return It.forEach(this.Tl,function(y){var E=Le.D(y);return h.El(l,E).next(function(S){S||g.Ar(E)})}).next(function(){return h.wl=null,g.apply(l)})},f.prototype.yc=function(l,h){var g=this;return this.El(l,h).next(function(y){y?g.Tl.delete(h.toString()):g.Tl.add(h.toString())})},f.prototype.hl=function(l){return 0},f.prototype.El=function(l,h){var g=this;return It.kn([function(){return It.resolve(g.dl.Ho(h))},function(){return g.persistence.Tc().Ho(l,h)},function(){return g.persistence.fl(l,h)}])},f}(),c_=function(){function f(l){this.Il=l.Il,this.Al=l.Al}return f.prototype.gu=function(l){this.Rl=l},f.prototype.Tu=function(l){this.gl=l},f.prototype.onMessage=function(l){this.Pl=l},f.prototype.close=function(){this.Al()},f.prototype.send=function(l){this.Il(l)},f.prototype.yl=function(){this.Rl()},f.prototype.Vl=function(l){this.gl(l)},f.prototype.pl=function(l){this.Pl(l)},f}(),bm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ry=function(f){function l(h){var g=this;return(g=f.call(this,h)||this).forceLongPolling=h.forceLongPolling,g.W=h.W,g}return U.__extends(l,f),l.prototype.Nl=function(h,g,y,E){return new Promise(function(S,R){var V=new Pe.XhrIo;V.listenOnce(Pe.EventType.COMPLETE,function(){try{switch(V.getLastErrorCode()){case Pe.ErrorCode.NO_ERROR:var re=V.getResponseJson();me("Connection","XHR received:",JSON.stringify(re)),S(re);break;case Pe.ErrorCode.TIMEOUT:me("Connection",'RPC "'+h+'" timed out'),R(new G(z.DEADLINE_EXCEEDED,"Request time out"));break;case Pe.ErrorCode.HTTP_ERROR:var ge=V.getStatus();if(me("Connection",'RPC "'+h+'" failed with status:',ge,"response text:",V.getResponseText()),ge>0){var _e=V.getResponseJson().error;if(_e&&_e.status&&_e.message){var Oe=(ht=_e.status.toLowerCase().replace("_","-"),Object.values(z).indexOf(ht)>=0?ht:z.UNKNOWN);R(new G(Oe,_e.message))}else R(new G(z.UNKNOWN,"Server responded with status "+V.getStatus()))}else R(new G(z.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{me("Connection",'RPC "'+h+'" completed.')}var ht});var Z=JSON.stringify(E);V.send(g,"POST",Z,y,15)})},l.prototype.Pu=function(h,g){var y=[this.vl,"/","google.firestore.v1.Firestore","/",h,"/channel"],E=Pe.createWebChannelTransport(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(S.initMessageHeaders,g),ce.isMobileCordova()||ce.isReactNative()||ce.isElectron()||ce.isIE()||ce.isUWP()||ce.isBrowserExtension()||(S.httpHeadersOverwriteParam="$httpHeaders");var R=y.join("");me("Connection","Creating WebChannel: "+R,S);var V=E.createWebChannel(R,S),Z=!1,re=!1,ge=new c_({Il:function(Oe){re?me("Connection","Not sending because WebChannel is closed:",Oe):(Z||(me("Connection","Opening WebChannel transport."),V.open(),Z=!0),me("Connection","WebChannel sending:",Oe),V.send(Oe))},Al:function(){return V.close()}}),_e=function(Oe,et){V.listen(Oe,function(ht){try{et(ht)}catch(an){setTimeout(function(){throw an},0)}})};return _e(Pe.WebChannel.EventType.OPEN,function(){re||me("Connection","WebChannel transport opened.")}),_e(Pe.WebChannel.EventType.CLOSE,function(){re||(re=!0,me("Connection","WebChannel transport closed"),ge.Vl())}),_e(Pe.WebChannel.EventType.ERROR,function(Oe){re||(re=!0,st("Connection","WebChannel transport errored:",Oe),ge.Vl(new G(z.UNAVAILABLE,"The operation could not be completed")))}),_e(Pe.WebChannel.EventType.MESSAGE,function(Oe){var et;if(!re){var ht=Oe.data[0];at(!!ht);var Jt=ht.error||(null===(et=ht[0])||void 0===et?void 0:et.error);if(Jt){me("Connection","WebChannel received error:",Jt);var On=Jt.status,Jn=function(bi){var fr=Xt[bi];if(void 0!==fr)return Li(fr)}(On),gi=Jt.message;void 0===Jn&&(Jn=z.INTERNAL,gi="Unknown error status: "+On+" with message "+Jt.message),re=!0,ge.Vl(new G(Jn,gi)),V.close()}else me("Connection","WebChannel received:",ht),ge.pl(ht)}}),setTimeout(function(){ge.yl()},0),ge},l}(function(){function f(l){this.bl=l,this.U=l.U,this.vl=(l.ssl?"https":"http")+"://"+l.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return f.prototype.$u=function(l,h,g,y){var E=this.Dl(l,h);me("RestConnection","Sending: ",E,g);var S={};return this.Cl(S,y),this.Nl(l,E,S,g).then(function(R){return me("RestConnection","Received: ",R),R},function(R){throw st("RestConnection",l+" failed with error: ",R,"url: ",E,"request:",g),R})},f.prototype.ku=function(l,h,g,y){return this.$u(l,h,g,y)},f.prototype.Cl=function(l,h){if(l["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",l["Content-Type"]="text/plain",h)for(var g in h.Kc)h.Kc.hasOwnProperty(g)&&(l[g]=h.Kc[g])},f.prototype.Dl=function(l,h){return this.vl+"/v1/"+h+":"+bm[l]},f}()),Zs=function(){function f(){var l=this;this.Fl=function(){return l.xl()},this.$l=function(){return l.kl()},this.Ml=[],this.Ol()}return f.prototype.Zu=function(l){this.Ml.push(l)},f.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},f.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},f.prototype.xl=function(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var l=0,h=this.Ml;l<h.length;l++)(0,h[l])(0)},f.prototype.kl=function(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var l=0,h=this.Ml;l<h.length;l++)(0,h[l])(1)},f.Ln=function(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},f}(),op=function(){function f(){}return f.prototype.Zu=function(l){},f.prototype.Di=function(){},f}();function eu(f){return new ra(f,!0)}var l_="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",vd=function(){function f(){}return f.prototype.initialize=function(l){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(h){switch(h.label){case 0:return this.Sh=this.Ll(l),this.persistence=this.Bl(l),[4,this.persistence.start()];case 1:return h.sent(),this.ql=this.Ul(l),this.ju=this.Ql(l),[2]}})})},f.prototype.Ul=function(l){return null},f.prototype.Ql=function(l){return h=this.persistence,g=new ja,new ns(h,g,l.Wl);var h,g},f.prototype.Bl=function(l){if(l.persistenceSettings.jl)throw new G(z.FAILED_PRECONDITION,l_);return new gd(Qh.ml)},f.prototype.Ll=function(l){return new dl},f.prototype.terminate=function(){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(l){switch(l.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return l.sent(),[4,this.persistence.Di()];case 2:return l.sent(),[2]}})})},f.prototype.clearPersistence=function(l,h){throw new G(z.FAILED_PRECONDITION,l_)},f}(),u_=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.initialize=function(h){return U.__awaiter(this,void 0,void 0,function(){var g,y=this;return U.__generator(this,function(E){switch(E.label){case 0:return[4,f.prototype.initialize.call(this,h)];case 1:return E.sent(),g=this.Kl.fi,this.Sh instanceof Uc?(this.Sh.fi={er:Bt.bind(null,g),nr:ps.bind(null,g),sr:Ao.bind(null,g),pi:Mn.bind(null,g)},[4,this.Sh.start()]):[3,3];case 2:E.sent(),E.label=3;case 3:return[4,this.persistence.Xa(function(S){return U.__awaiter(y,void 0,void 0,function(){return U.__generator(this,function(R){switch(R.label){case 0:return[4,Ft(this.Kl.fi,S)];case 1:return R.sent(),this.ql&&(S&&!this.ql.Ei?this.ql.start(this.ju):S||this.ql.stop()),[2]}})})})];case 4:return E.sent(),[2]}})})},l.prototype.Ll=function(h){if(h.persistenceSettings.jl&&h.persistenceSettings.synchronizeTabs){var g=j();if(!Uc.Ln(g))throw new G(z.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var y=Gl(h.bl.U,h.bl.persistenceKey);return new Uc(g,h.cs,y,h.clientId,h.Wl)}return new dl},l}(function(f){function l(h){var g=this;return(g=f.call(this)||this).Kl=h,g}return U.__extends(l,f),l.prototype.initialize=function(h){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(g){switch(g.label){case 0:return[4,f.prototype.initialize.call(this,h)];case 1:return g.sent(),[4,hc(this.ju)];case 2:return g.sent(),[4,this.Kl.initialize(this,h)];case 3:return g.sent(),[4,Du(this.Kl.fi)];case 4:return g.sent(),[4,Gs(this.Kl.ph)];case 5:return g.sent(),[2]}})})},l.prototype.Ul=function(h){return new Jd(this.persistence.No.wo,h.cs)},l.prototype.Bl=function(h){var g=Gl(h.bl.U,h.bl.persistenceKey),y=eu(h.bl.U);return new us(h.persistenceSettings.synchronizeTabs,g,h.clientId,Qr.ao(h.persistenceSettings.cacheSizeBytes),h.cs,j(),ee(),y,this.Sh,h.persistenceSettings.ka)},l.prototype.Ll=function(h){return new dl},l.prototype.clearPersistence=function(h,g){return function(y){return U.__awaiter(this,void 0,void 0,function(){return U.__generator(this,function(S){switch(S.label){case 0:return es.Ln()?[4,es.delete(y+"main")]:[2,Promise.resolve()];case 1:return S.sent(),[2]}})})}(Gl(h,g))},l}(vd)),Jh=function(){function f(){}return f.prototype.initialize=function(l,h){return U.__awaiter(this,void 0,void 0,function(){var g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.ju?[3,2]:(this.ju=l.ju,this.Sh=l.Sh,this.Ku=this.Gl(h),this.ph=this.zl(h),this.bh=this.Hl(h),this.fi=this.Yl(h),this.Sh.di=function(E){return pd(g.fi,E,1)},this.ph.Gu.Jl=be.bind(null,this.fi),[4,Xl(this.ph,this.fi.Uh)]);case 1:y.sent(),y.label=2;case 2:return[2]}})})},f.prototype.Hl=function(l){return new ti},f.prototype.Gl=function(l){var g=eu(l.bl.U),y=new Ry(l.bl);return new ad(l.credentials,y,g)},f.prototype.zl=function(l){var h,g,y,E,S,R=this;return h=this.ju,g=this.Ku,y=l.cs,E=function(V){return pd(R.fi,V,0)},S=Zs.Ln()?new Zs:new op,new np(h,g,y,E,S)},f.prototype.Yl=function(l){return V=!l.persistenceSettings.jl||!l.persistenceSettings.synchronizeTabs,Z=new vl(this.ju,this.ph,this.bh,this.Sh,l.Wl,l.Dh),V&&(Z.qh=!0),Z;var V,Z},f.prototype.terminate=function(){return Wh(this.ph)},f}(),M=function(){function f(l){this.observer=l,this.muted=!1}return f.prototype.next=function(l){this.observer.next&&this.Xl(this.observer.next,l)},f.prototype.error=function(l){this.observer.error?this.Xl(this.observer.error,l):console.error("Uncaught Error in snapshot listener:",l)},f.prototype.Zl=function(){this.muted=!0},f.prototype.Xl=function(l,h){var g=this;this.muted||setTimeout(function(){g.muted||l(h)},0)},f}(),w=function(f){!function(h,g,y,E){if(!(g instanceof Array)||g.length<1)throw new G(z.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+fn(1,"element")+".")}(0,f);for(var l=0;l<f.length;++l)if(un("FieldPath","string",l,f[l]),0===f[l].length)throw new G(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new Ge(f)},I=function(f){function l(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];return f.call(this,h)||this}return U.__extends(l,f),l.documentId=function(){return new l(Ge.v().R())},l.prototype.isEqual=function(h){if(!(h instanceof l))throw Sn("isEqual","FieldPath",1,h);return this.t_.isEqual(h.t_)},l}(w),O=new RegExp("[~\\*/\\[\\]]"),$=function(f){this.e_=f},J=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.n_=function(h){if(2!==h.s_)throw h.i_(1===h.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return h.We.push(h.path),null},l.prototype.isEqual=function(h){return h instanceof l},l}($);function De(f,l,h){return new Mu({s_:3,r_:l.settings.r_,methodName:f.e_,o_:h},l.U,l.serializer,l.ignoreUndefinedProperties)}var Xe=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.n_=function(h){return new la(h.path,new on)},l.prototype.isEqual=function(h){return h instanceof l},l}($),Ot=function(f){function l(h,g){var y=this;return(y=f.call(this,h)||this).a_=g,y}return U.__extends(l,f),l.prototype.n_=function(h){var g=De(this,h,!0),y=this.a_.map(function(S){return tu(S,g)}),E=new qr(y);return new la(h.path,E)},l.prototype.isEqual=function(h){return this===h},l}($),Nt=function(f){function l(h,g){var y=this;return(y=f.call(this,h)||this).a_=g,y}return U.__extends(l,f),l.prototype.n_=function(h){var g=De(this,h,!0),y=this.a_.map(function(S){return tu(S,g)}),E=new Cr(y);return new la(h.path,E)},l.prototype.isEqual=function(h){return this===h},l}($),pn=function(f){function l(h,g){var y=this;return(y=f.call(this,h)||this).c_=g,y}return U.__extends(l,f),l.prototype.n_=function(h){var g=new bs(h.serializer,Us(h.serializer,this.c_));return new la(h.path,g)},l.prototype.isEqual=function(h){return this===h},l}($),Wn=function(){function f(l,h){if(ot("GeoPoint",arguments,2),un("GeoPoint","number",1,l),un("GeoPoint","number",2,h),!isFinite(l)||l<-90||l>90)throw new G(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+l);if(!isFinite(h)||h<-180||h>180)throw new G(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+h);this.u_=l,this.h_=h}return Object.defineProperty(f.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){return this.u_===l.u_&&this.h_===l.h_},f.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},f.prototype.Y=function(l){return Ut(this.u_,l.u_)||Ut(this.h_,l.h_)},f}(),eo=function(f){this.l_=f},va=/^__.*__$/,to=function(f,l,h){this.__=f,this.f_=l,this.d_=h},sp=function(){function f(l,h,g){this.data=l,this.We=h,this.fieldTransforms=g}return f.prototype.w_=function(l,h){var g=[];return g.push(null!==this.We?new Wr(l,this.data,this.We,h):new rr(l,this.data,h)),this.fieldTransforms.length>0&&g.push(new Hi(l,this.fieldTransforms)),g},f}(),Xh=function(){function f(l,h,g){this.data=l,this.We=h,this.fieldTransforms=g}return f.prototype.w_=function(l,h){var g=[new Wr(l,this.data,this.We,h)];return this.fieldTransforms.length>0&&g.push(new Hi(l,this.fieldTransforms)),g},f}();function Wc(f){switch(f){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}var Mu=function(){function f(l,h,g,y,E,S){this.settings=l,this.U=h,this.serializer=g,this.ignoreUndefinedProperties=y,void 0===E&&this.m_(),this.fieldTransforms=E||[],this.We=S||[]}return Object.defineProperty(f.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),f.prototype.T_=function(l){return new f(Object.assign(Object.assign({},this.settings),l),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},f.prototype.E_=function(l){var h,g=null===(h=this.path)||void 0===h?void 0:h.child(l),y=this.T_({path:g,o_:!1});return y.I_(l),y},f.prototype.A_=function(l){var h,g=null===(h=this.path)||void 0===h?void 0:h.child(l),y=this.T_({path:g,o_:!1});return y.m_(),y},f.prototype.R_=function(l){return this.T_({path:void 0,o_:!0})},f.prototype.i_=function(l){return ap(l,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},f.prototype.contains=function(l){return void 0!==this.We.find(function(h){return l.T(h)})||void 0!==this.fieldTransforms.find(function(h){return l.T(h.field)})},f.prototype.m_=function(){if(this.path)for(var l=0;l<this.path.length;l++)this.I_(this.path.get(l))},f.prototype.I_=function(l){if(0===l.length)throw this.i_("Document fields must not be empty");if(Wc(this.s_)&&va.test(l))throw this.i_('Document fields cannot begin and end with "__"')},f}(),wl=function(){function f(l,h,g){this.U=l,this.ignoreUndefinedProperties=h,this.serializer=g||eu(l)}return f.prototype.P_=function(l,h,g,y){return void 0===y&&(y=!1),new Mu({s_:l,methodName:h,r_:g,path:Ge.P(),o_:!1,g_:y},this.U,this.serializer,this.ignoreUndefinedProperties)},f}();function ef(f,l,h,g,y,E){void 0===E&&(E={});var S=f.P_(E.merge||E.mergeFields?2:0,l,h,y);fh("Data must be an object, but it was:",S,g);var R,V,Z=hh(g,S);if(E.merge)R=new Ir(S.We),V=S.fieldTransforms;else if(E.mergeFields){for(var re=[],ge=0,_e=E.mergeFields;ge<_e.length;ge++){var Oe=_e[ge],et=void 0;if(Oe instanceof w)et=Oe.t_;else{if("string"!=typeof Oe)throw Re();et=h_(l,Oe,h)}if(!S.contains(et))throw new G(z.INVALID_ARGUMENT,"Field '"+et+"' is specified in your field mask but missing from your input data.");bw(re,et)||re.push(et)}R=new Ir(re),V=S.fieldTransforms.filter(function(ht){return R.Ye(ht.field)})}else R=null,V=S.fieldTransforms;return new sp(new Or(Z),R,V)}function dh(f,l,h,g){var y=f.P_(1,l,h);fh("Data must be an object, but it was:",y,g);var E=[],S=new Kr;nt(g,function(V,Z){var re=h_(l,V,h),ge=y.A_(re);if(Z instanceof J||Z instanceof eo&&Z.l_ instanceof J)E.push(re);else{var _e=tu(Z,ge);null!=_e&&(E.push(re),S.set(re,_e))}});var R=new Ir(E);return new Xh(S.Xe(),R,y.fieldTransforms)}function tf(f,l,h,g,y,E){var S=f.P_(1,l,h),R=[yd(l,g,h)],V=[y];if(E.length%2!=0)throw new G(z.INVALID_ARGUMENT,"Function "+l+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var Z=0;Z<E.length;Z+=2)R.push(yd(l,E[Z])),V.push(E[Z+1]);for(var re=[],ge=new Kr,_e=R.length-1;_e>=0;--_e)if(!bw(re,R[_e])){var Oe=R[_e],et=V[_e],ht=S.A_(Oe);if(et instanceof J||et instanceof eo&&et.l_ instanceof J)re.push(Oe);else{var an=tu(et,ht);null!=an&&(re.push(Oe),ge.set(Oe,an))}}var Jt=new Ir(re);return new Xh(ge.Xe(),Jt,S.fieldTransforms)}function wm(f,l,h,g){return void 0===g&&(g=!1),tu(h,f.P_(g?4:3,l))}function tu(f,l){if(f instanceof eo&&(f=f.l_),d_(f))return fh("Unsupported field value:",l,f),hh(f,l);if(f instanceof $)return function(h,g){if(!Wc(g.s_))throw g.i_(h.e_+"() can only be used with update() and set()");if(!g.path)throw g.i_(h.e_+"() is not currently supported inside arrays");var y=h.n_(g);y&&g.fieldTransforms.push(y)}(f,l),null;if(l.path&&l.We.push(l.path),f instanceof Array){if(l.settings.o_&&4!==l.s_)throw l.i_("Nested arrays are not supported");return function(h,g){for(var y=[],E=0,S=0,R=h;S<R.length;S++){var V=tu(R[S],g.R_(E));null==V&&(V={nullValue:"NULL_VALUE"}),y.push(V),E++}return{arrayValue:{values:y}}}(f,l)}return function(h,g){if(null===h)return{nullValue:"NULL_VALUE"};if("number"==typeof h)return Us(g.serializer,h);if("boolean"==typeof h)return{booleanValue:h};if("string"==typeof h)return{stringValue:h};if(h instanceof Date){var y=Qt.fromDate(h);return{timestampValue:oa(g.serializer,y)}}if(h instanceof Qt){var E=new Qt(h.seconds,1e3*Math.floor(h.nanoseconds/1e3));return{timestampValue:oa(g.serializer,E)}}if(h instanceof Wn)return{geoPointValue:{latitude:h.latitude,longitude:h.longitude}};if(h instanceof wi)return{bytesValue:sl(g.serializer,h.q)};if(h instanceof to){var S=g.U,R=h.__;if(!R.isEqual(S))throw g.i_("Document reference is for database "+R.projectId+"/"+R.database+" but should be for database "+S.projectId+"/"+S.database);return{referenceValue:yr(h.__||g.U,h.f_.path)}}if(void 0===h&&g.ignoreUndefinedProperties)return null;throw g.i_("Unsupported field value: "+gt(h))}(f,l)}function hh(f,l){var h={};return $e(f)?l.path&&l.path.length>0&&l.We.push(l.path):nt(f,function(g,y){var E=tu(y,l.E_(g));null!=E&&(h[g]=E)}),{mapValue:{fields:h}}}function d_(f){return!("object"!=typeof f||null===f||f instanceof Array||f instanceof Date||f instanceof Qt||f instanceof Wn||f instanceof wi||f instanceof to||f instanceof $)}function fh(f,l,h){if(!d_(h)||!ct(h)){var g=gt(h);throw l.i_("an object"===g?f+" a custom object":f+" "+g)}}function yd(f,l,h){if(l instanceof w)return l.t_;if("string"==typeof l)return h_(f,l);throw ap("Field path arguments must be of type string or FieldPath.",f,!1,void 0,h)}function h_(f,l,h){try{return function(y){if(y.search(O)>=0)throw new G(z.INVALID_ARGUMENT,"Invalid field path ("+y+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(I.bind.apply(I,U.__spreadArrays([void 0],y.split("."))))}catch{throw new G(z.INVALID_ARGUMENT,"Invalid field path ("+y+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(l).t_}catch(y){throw ap((g=y)instanceof Error?g.message:g.toString(),f,!1,void 0,h)}var g}function ap(f,l,h,g,y){var E=g&&!g.m(),S=void 0!==y,R="Function "+l+"() called with invalid data";h&&(R+=" (via `toFirestore()`)");var V="";return(E||S)&&(V+=" (found",E&&(V+=" in field "+g),S&&(V+=" in document "+y),V+=")"),new G(z.INVALID_ARGUMENT,(R+=". ")+f+V)}function bw(f,l){return f.some(function(h){return h.isEqual(l)})}var Cm=function(){function f(l){this.Ku=l,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return f.prototype.v_=function(l){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:if(this.S_(),this.mutations.length>0)throw new G(z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(E,S){return U.__awaiter(this,void 0,void 0,function(){var R,V,Z,re,ge,_e;return U.__generator(this,function(Oe){switch(Oe.label){case 0:return R=Ze(E),V=ys(R.serializer)+"/documents",Z={documents:S.map(function(et){return sa(R.serializer,et)})},[4,R.ku("BatchGetDocuments",V,Z)];case 1:return re=Oe.sent(),ge=new Map,re.forEach(function(et){var an,Jt,ht=(an=R.serializer,"found"in(Jt=et)?function(On,Jn){at(!!Jn.found);var gi=Ki(On,Jn.found.name),bi=yo(Jn.found.updateTime),fr=new Or({mapValue:{fields:Jn.found.fields}});return new oi(gi,bi,fr,{})}(an,Jt):"missing"in Jt?function(On,Jn){at(!!Jn.missing),at(!!Jn.readTime);var gi=Ki(On,Jn.missing),bi=yo(Jn.readTime);return new Pr(gi,bi)}(an,Jt):Re());ge.set(ht.key.toString(),ht)}),_e=[],[2,(S.forEach(function(et){var ht=ge.get(et.toString());at(!!ht),_e.push(ht)}),_e)]}})})}(this.Ku,l)];case 1:return[2,((h=y.sent()).forEach(function(E){E instanceof Pr||E instanceof oi?g.D_(E):Re()}),h)]}})})},f.prototype.set=function(l,h){this.write(h.w_(l,this.Ge(l))),this.b_.add(l.toString())},f.prototype.update=function(l,h){try{this.write(h.w_(l,this.C_(l)))}catch(g){this.p_=g}this.b_.add(l.toString())},f.prototype.delete=function(l){this.write([new Tr(l,this.Ge(l))]),this.b_.add(l.toString())},f.prototype.commit=function(){return U.__awaiter(this,void 0,void 0,function(){var l,h=this;return U.__generator(this,function(g){switch(g.label){case 0:if(this.S_(),this.p_)throw this.p_;return l=this.y_,this.mutations.forEach(function(y){l.delete(y.key.toString())}),l.forEach(function(y,E){var S=Le.D(E);h.mutations.push(new cl(S,h.Ge(S)))}),[4,function(y,E){return U.__awaiter(this,void 0,void 0,function(){var S,R,V;return U.__generator(this,function(Z){switch(Z.label){case 0:return S=Ze(y),R=ys(S.serializer)+"/documents",V={writes:E.map(function(re){return Ui(S.serializer,re)})},[4,S.$u("Commit",R,V)];case 1:return Z.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return g.sent(),this.V_=!0,[2]}})})},f.prototype.D_=function(l){var h;if(l instanceof oi)h=l.version;else{if(!(l instanceof Pr))throw Re();h=zt.min()}var g=this.y_.get(l.key.toString());if(g){if(!h.isEqual(g))throw new G(z.ABORTED,"Document version changed between two reads.")}else this.y_.set(l.key.toString(),h)},f.prototype.Ge=function(l){var h=this.y_.get(l.toString());return!this.b_.has(l.toString())&&h?Vi.updateTime(h):Vi.ze()},f.prototype.C_=function(l){var h=this.y_.get(l.toString());if(!this.b_.has(l.toString())&&h){if(h.isEqual(zt.min()))throw new G(z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vi.updateTime(h)}return Vi.exists(!0)},f.prototype.write=function(l){this.S_(),this.mutations=this.mutations.concat(l)},f.prototype.S_=function(){},f}(),f_=function(){function f(l,h,g,y){this.cs=l,this.Ku=h,this.updateFunction=g,this.ls=y,this.N_=5,this.ys=new Ra(this.cs,"transaction_retry")}return f.prototype.run=function(){this.F_()},f.prototype.F_=function(){var l=this;this.ys.gn(function(){return U.__awaiter(l,void 0,void 0,function(){var h,g,y=this;return U.__generator(this,function(E){return h=new Cm(this.Ku),(g=this.x_(h))&&g.then(function(S){y.cs.ws(function(){return h.commit().then(function(){y.ls.resolve(S)}).catch(function(R){y.k_(R)})})}).catch(function(S){y.k_(S)}),[2]})})})},f.prototype.x_=function(l){try{var h=this.updateFunction(l);return!Te(h)&&h.catch&&h.then?h:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(g){return this.ls.reject(g),null}},f.prototype.k_=function(l){var h=this;this.N_>0&&this.M_(l)?(this.N_-=1,this.cs.ws(function(){return h.F_(),Promise.resolve()})):this.ls.reject(l)},f.prototype.M_=function(l){if("FirebaseError"===l.name){var h=l.code;return"aborted"===h||"failed-precondition"===h||!$n(h)}return!1},f}(),xm=function(){function f(l,h){this.credentials=l,this.cs=h,this.clientId=Dn.k(),this.O_=new jo}return f.prototype.start=function(l,h,g,y){var E=this;this.L_(),this.bl=l;var S=new jo,R=!1;return this.credentials.Hc(function(V){if(!R)return R=!0,me("FirestoreClient","Initializing. user=",V.uid),E.B_(h,g,y,V,S).then(E.O_.resolve,E.O_.reject);E.cs.Cs(function(){return function(Z,re){return U.__awaiter(this,void 0,void 0,function(){var ge,_e;return U.__generator(this,function(Oe){switch(Oe.label){case 0:return(ge=Ze(Z)).cs.xs(),me("RemoteStore","RemoteStore received new credentials"),_e=hs(ge),ge.Yu.add(3),[4,Zl(ge)];case 1:return Oe.sent(),_e&&ge.th.set("Unknown"),[4,ge.Gu.Jl(re)];case 2:return Oe.sent(),ge.Yu.delete(3),[4,ld(ge)];case 3:return Oe.sent(),[2]}})})}(E.ph,V)})}),this.cs.ws(function(){return E.O_.promise}),S.promise},f.prototype.enableNetwork=function(){var l=this;return this.L_(),this.cs.enqueue(function(){return l.persistence.tc(!0),(g=Ze(l.ph)).Yu.delete(0),ld(g);var g})},f.prototype.B_=function(l,h,g,y,E){return U.__awaiter(this,void 0,void 0,function(){var S,R,V=this;return U.__generator(this,function(Z){switch(Z.label){case 0:return Z.trys.push([0,3,,4]),[4,l.initialize(S={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:y,Dh:100,persistenceSettings:g})];case 1:return Z.sent(),[4,h.initialize(l,S)];case 2:return Z.sent(),this.persistence=l.persistence,this.Sh=l.Sh,this.ju=l.ju,this.ql=l.ql,this.Ku=h.Ku,this.ph=h.ph,this.fi=h.fi,this.q_=h.bh,this.q_.Us=is.bind(null,this.fi),this.q_.js=Ri.bind(null,this.fi),this.persistence.Za(function(){return U.__awaiter(V,void 0,void 0,function(){return U.__generator(this,function(re){switch(re.label){case 0:return[4,this.terminate()];case 1:return re.sent(),[2]}})})}),E.resolve(),[3,4];case 3:if(R=Z.sent(),E.reject(R),!this.U_(R))throw R;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+R),this.B_(new vd,new Jh,{jl:!1},y,E))];case 4:return[2]}})})},f.prototype.U_=function(l){return"FirebaseError"===l.name?l.code===z.FAILED_PRECONDITION||l.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code},f.prototype.L_=function(){if(this.cs.ps)throw new G(z.FAILED_PRECONDITION,"The client has already been terminated.")},f.prototype.disableNetwork=function(){var l=this;return this.L_(),this.cs.enqueue(function(){return l.persistence.tc(!1),function(h){return U.__awaiter(this,void 0,void 0,function(){var g;return U.__generator(this,function(y){switch(y.label){case 0:return(g=Ze(h)).Yu.add(0),[4,Zl(g)];case 1:return y.sent(),g.th.set("Offline"),[2]}})})}(l.ph)})},f.prototype.terminate=function(){var l=this;this.cs.Ds();var h=new jo;return this.cs.bs(function(){return U.__awaiter(l,void 0,void 0,function(){var g,y;return U.__generator(this,function(E){switch(E.label){case 0:return E.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Wh(this.ph)];case 1:return E.sent(),[4,this.Sh.Di()];case 2:return E.sent(),[4,this.persistence.Di()];case 3:return E.sent(),this.credentials.Yc(),h.resolve(),[3,5];case 4:return g=E.sent(),y=Rt(g,"Failed to shutdown persistence"),h.reject(y),[3,5];case 5:return[2]}})})}),h.promise},f.prototype.waitForPendingWrites=function(){var l=this;this.L_();var h=new jo;return this.cs.ws(function(){return function(g,y){return U.__awaiter(this,void 0,void 0,function(){var E,S,R,V,Z;return U.__generator(this,function(re){switch(re.label){case 0:hs((E=Ze(g)).ph)||me("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),re.label=1;case 1:return re.trys.push([1,3,,4]),[4,(ge=E.ju,_e=Ze(ge),_e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(Oe){return _e.Sr.qo(Oe)}))];case 2:return-1===(S=re.sent())?[2,void y.resolve()]:((R=E.Lh.get(S)||[]).push(y),E.Lh.set(S,R),[3,4]);case 3:return V=re.sent(),Z=Rt(V,"Initialization of waitForPendingWrites() operation failed"),y.reject(Z),[3,4];case 4:return[2]}var ge,_e})})}(l.fi,h)}),h.promise},f.prototype.listen=function(l,h,g){var y=this;this.L_();var E=new M(g),S=new ul(l,E,h);return this.cs.ws(function(){return dr(y.q_,S)}),function(){E.Zl(),y.cs.ws(function(){return xo(y.q_,S)})}},f.prototype.Q_=function(l){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return y.sent(),h=new jo,[2,(this.cs.ws(function(){return function(E,S,R){return U.__awaiter(this,void 0,void 0,function(){var V,Z,re;return U.__generator(this,function(ge){switch(ge.label){case 0:return ge.trys.push([0,2,,3]),[4,(_e=E,Oe=S,et=Ze(_e),et.persistence.runTransaction("read document","readonly",function(ht){return et.Cc.Cr(ht,Oe)}))];case 1:return(V=ge.sent())instanceof oi?R.resolve(V):V instanceof Pr?R.resolve(null):R.reject(new G(z.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Z=ge.sent(),re=Rt(Z,"Failed to get document '"+S+" from cache"),R.reject(re),[3,3];case 3:return[2]}var _e,Oe,et})})}(g.ju,l,h)}),h.promise)]}})})},f.prototype.W_=function(l,h){return void 0===h&&(h={}),U.__awaiter(this,void 0,void 0,function(){var g,y=this;return U.__generator(this,function(E){switch(E.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return E.sent(),g=new jo,[2,(this.cs.ws(function(){return S=y.q_,R=y.cs,V=l,Z=h,re=g,ge=new M({next:function(Oe){R.ws(function(){return xo(S,_e)});var et=Oe.docs.has(V);!et&&Oe.fromCache?re.reject(new G(z.UNAVAILABLE,"Failed to get document because the client is offline.")):et&&Oe.fromCache&&Z&&"server"===Z.source?re.reject(new G(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):re.resolve(Oe)},error:function(Oe){return re.reject(Oe)}}),_e=new ul(Oa(V.path),ge,{includeMetadataChanges:!0,Xs:!0}),dr(S,_e);var S,R,V,Z,re,ge,_e}),g.promise)]}})})},f.prototype.j_=function(l){return U.__awaiter(this,void 0,void 0,function(){var h,g=this;return U.__generator(this,function(y){switch(y.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return y.sent(),h=new jo,[2,(this.cs.ws(function(){return function(E,S,R){return U.__awaiter(this,void 0,void 0,function(){var V,Z,re,ge,_e,Oe;return U.__generator(this,function(et){switch(et.label){case 0:return et.trys.push([0,2,,3]),[4,ar(E,S,!0)];case 1:return V=et.sent(),Z=new Va(S,V.Fc),re=Z.wh(V.documents),ge=Z.yr(re,!1),R.resolve(ge.snapshot),[3,3];case 2:return _e=et.sent(),Oe=Rt(_e,"Failed to execute query '"+S+" against cache"),R.reject(Oe),[3,3];case 3:return[2]}})})}(g.ju,l,h)}),h.promise)]}})})},f.prototype.K_=function(l,h){return void 0===h&&(h={}),U.__awaiter(this,void 0,void 0,function(){var g,y=this;return U.__generator(this,function(E){switch(E.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return E.sent(),g=new jo,[2,(this.cs.ws(function(){return S=y.q_,R=y.cs,V=l,Z=h,re=g,ge=new M({next:function(Oe){R.ws(function(){return xo(S,_e)}),Oe.fromCache&&"server"===Z.source?re.reject(new G(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):re.resolve(Oe)},error:function(Oe){return re.reject(Oe)}}),_e=new ul(V,ge,{includeMetadataChanges:!0,Xs:!0}),dr(S,_e);var S,R,V,Z,re,ge,_e}),g.promise)]}})})},f.prototype.write=function(l){var h=this;this.L_();var g=new jo;return this.cs.ws(function(){return function(y,E,S){return U.__awaiter(this,void 0,void 0,function(){var R,V,Z,re;return U.__generator(this,function(ge){switch(ge.label){case 0:R=Du(y),ge.label=1;case 1:return ge.trys.push([1,5,,6]),[4,(_e=R.ju,Oe=E,ht=Ze(_e),an=Qt.now(),Jt=Oe.reduce(function(On,Jn){return On.add(Jn.key)},Qe()),ht.persistence.runTransaction("Locally write mutations","readwrite",function(On){return ht.Cc.kr(On,Jt).next(function(Jn){et=Jn;for(var gi=[],bi=0,fr=Oe;bi<fr.length;bi++){var Ys=fr[bi],Zc=gu(Ys,et.get(Ys.key));null!=Zc&&gi.push(new Wr(Ys.key,Zc,di(Zc.proto.mapValue),Vi.exists(!0)))}return ht.Sr.ko(On,an,gi,Oe)})}).then(function(On){var Jn=On.lr(et);return{batchId:On.batchId,wr:Jn}}))];case 2:return V=ge.sent(),R.Sh.xi(V.batchId),function(_e,Oe,et){var ht=_e.Oh[_e.currentUser.ti()];ht||(ht=new qn(Ut)),ht=ht.ot(Oe,et),_e.Oh[_e.currentUser.ti()]=ht}(R,V.batchId,S),[4,oe(R,V.wr)];case 3:return ge.sent(),[4,Gs(R.ph)];case 4:return ge.sent(),[3,6];case 5:return Z=ge.sent(),re=Rt(Z,"Failed to persist write"),S.reject(re),[3,6];case 6:return[2]}var _e,Oe,et,ht,an,Jt})})}(h.fi,l,g)}),g.promise},f.prototype.U=function(){return this.bl.U},f.prototype.G_=function(l){var h=this;this.L_();var g=new M(l);return this.cs.ws(function(){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){return[2,(E=this.q_,S=g,Ze(E).qs.add(S),void S.next())];var E,S})})}),function(){g.Zl(),h.cs.ws(function(){return U.__awaiter(h,void 0,void 0,function(){return U.__generator(this,function(y){return[2,(E=this.q_,S=g,void Ze(E).qs.delete(S))];var E,S})})})}},Object.defineProperty(f.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),f.prototype.transaction=function(l){var h=this;this.L_();var g=new jo;return this.cs.ws(function(){return new f_(h.cs,h.Ku,l,g).run(),Promise.resolve()}),g.promise},f}();function bd(f){return function(l,h){if("object"!=typeof l||null===l)return!1;for(var g=l,y=0,E=["next","error","complete"];y<E.length;y++){var S=E[y];if(S in g&&"function"==typeof g[S])return!0}return!1}(f)}var cp=function(){function f(l,h,g,y,E){this.U=l,this.timestampsInSnapshots=h,this.H_=g,this.Y_=y,this.J_=E}return f.prototype.X_=function(l){switch(er(l)){case 0:return null;case 1:return l.booleanValue;case 2:return jn(l.integerValue||l.doubleValue);case 3:return this.Z_(l.timestampValue);case 4:return this.tf(l);case 5:return l.stringValue;case 6:return this.J_(Ai(l.bytesValue));case 7:return this.ef(l.referenceValue);case 8:return this.nf(l.geoPointValue);case 9:return this.sf(l.arrayValue);case 10:return this.if(l.mapValue);default:throw Re()}},f.prototype.if=function(l){var h=this,g={};return nt(l.fields||{},function(y,E){g[y]=h.X_(E)}),g},f.prototype.nf=function(l){return new Wn(jn(l.latitude),jn(l.longitude))},f.prototype.sf=function(l){var h=this;return(l.values||[]).map(function(g){return h.X_(g)})},f.prototype.tf=function(l){switch(this.H_){case"previous":var h=ri(l);return null==h?null:this.X_(h);case"estimate":return this.Z_(Gi(l));default:return null}},f.prototype.Z_=function(l){var h=Qo(l),g=new Qt(h.seconds,h.nanos);return this.timestampsInSnapshots?g:g.toDate()},f.prototype.ef=function(l){var h=he.g(l);at(Pn(h));var g=new sn(h.get(1),h.get(3)),y=new Le(h.u(5));return g.isEqual(this.U)||lt("Document "+y+" contains a document reference within a different database ("+g.projectId+"/"+g.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(y)},f}(),p_=Qr.ho,Au=function(){function f(l){var h,g,y,E,S;if(void 0===l.host){if(void 0!==l.ssl)throw new G(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else fi("settings","non-empty string","host",l.host),this.host=l.host,Se("settings","boolean","ssl",l.ssl),this.ssl=null===(h=l.ssl)||void 0===h||h;if(bt("settings",l,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),Se("settings","object","credentials",l.credentials),this.credentials=l.credentials,Se("settings","boolean","timestampsInSnapshots",l.timestampsInSnapshots),Se("settings","boolean","ignoreUndefinedProperties",l.ignoreUndefinedProperties),!0===l.timestampsInSnapshots?lt("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===l.timestampsInSnapshots&&lt("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(g=l.timestampsInSnapshots)||void 0===g||g,this.ignoreUndefinedProperties=null!==(y=l.ignoreUndefinedProperties)&&void 0!==y&&y,Se("settings","number","cacheSizeBytes",l.cacheSizeBytes),void 0===l.cacheSizeBytes)this.cacheSizeBytes=Qr._o;else{if(l.cacheSizeBytes!==p_&&l.cacheSizeBytes<Qr.lo)throw new G(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Qr.lo);this.cacheSizeBytes=l.cacheSizeBytes}Se("settings","boolean","experimentalForceLongPolling",l.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(E=l.experimentalForceLongPolling)&&void 0!==E&&E,Se("settings","boolean","experimentalAutoDetectLongPolling",l.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(S=l.experimentalAutoDetectLongPolling)&&void 0!==S&&S,function(R,V,Z,re){if(!0===V&&!0===re)throw new G(z.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,l.experimentalForceLongPolling,0,l.experimentalAutoDetectLongPolling)}return f.prototype.isEqual=function(l){return this.host===l.host&&this.ssl===l.ssl&&this.timestampsInSnapshots===l.timestampsInSnapshots&&this.credentials===l.credentials&&this.cacheSizeBytes===l.cacheSizeBytes&&this.experimentalForceLongPolling===l.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===l.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===l.ignoreUndefinedProperties},f}(),ph=function(){function f(l,h,g,y){var E=this;if(void 0===g&&(g=new vd),void 0===y&&(y=new Jh),this.rf=g,this.af=y,this.cf=null,this.uf=new Ye,this.INTERNAL={delete:function(){return U.__awaiter(E,void 0,void 0,function(){return U.__generator(this,function(V){switch(V.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return V.sent(),[2]}})})}},"object"==typeof l.options){var S=l;this.cf=S,this.__=f._f(S),this.ff=S.name,this.df=new cr(h)}else{var R=l;if(!R.projectId)throw new G(z.INVALID_ARGUMENT,"Must provide projectId");this.__=new sn(R.projectId,R.database),this.ff="[DEFAULT]",this.df=new Nr}this.wf=new Au({})}return Object.defineProperty(f.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new wl(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),f.prototype.settings=function(l){ot("Firestore.settings",arguments,1),un("Firestore.settings","object",1,l),l.merge&&delete(l=Object.assign(Object.assign({},this.wf),l)).merge;var h=new Au(l);if(this.lf&&!this.wf.isEqual(h))throw new G(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=h,void 0!==h.credentials&&(this.df=function(g){if(!g)return new Nr;switch(g.type){case"gapi":var y=g.client;return at(!("object"!=typeof y||null===y||!y.auth||!y.auth.getAuthHeaderValueForFirstParty)),new tp(y,g.sessionIndex||"0");case"provider":return g.client;default:throw new G(z.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(h.credentials))},f.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},f.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},f.prototype.enablePersistence=function(l){var h,g;if(this.lf)throw new G(z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var y=!1,E=!1;if(l&&(void 0!==l.experimentalTabSynchronization&&lt("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),y=null!==(g=null!==(h=l.synchronizeTabs)&&void 0!==h?h:l.experimentalTabSynchronization)&&void 0!==g&&g,E=!!l.experimentalForceOwningTab&&l.experimentalForceOwningTab,y&&E))throw new G(z.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:y,ka:E})},f.prototype.clearPersistence=function(){return U.__awaiter(this,void 0,void 0,function(){var l,h=this;return U.__generator(this,function(g){if(void 0!==this.lf&&!this.lf.z_)throw new G(z.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return l=new jo,[2,(this.uf.bs(function(){return U.__awaiter(h,void 0,void 0,function(){var y;return U.__generator(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return E.sent(),l.resolve(),[3,3];case 2:return y=E.sent(),l.reject(y),[3,3];case 3:return[2]}})})}),l.promise)]})})},f.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(f.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),f.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},f.prototype.onSnapshotsInSync=function(l){return this.hf(),bd(l)?this.lf.G_(l):(un("Firestore.onSnapshotsInSync","function",1,l),this.lf.G_({next:l}))},f.prototype.hf=function(){return this.lf||this.Ef(new vd,new Jh,{jl:!1}),this.lf},f.prototype.Af=function(){return new Ro(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},f.prototype.Ef=function(l,h,g){var y=this.Af();return this.lf=new xm(this.df,this.uf),this.lf.start(y,l,h,g)},f._f=function(l){if(!Object.prototype.hasOwnProperty.call(l.options,"projectId"))throw new G(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var g=l.options.projectId;if(!g||"string"!=typeof g)throw new G(z.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new sn(g)},Object.defineProperty(f.prototype,"app",{get:function(){if(!this.cf)throw new G(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),f.prototype.collection=function(l){return ot("Firestore.collection",arguments,1),un("Firestore.collection","non-empty string",1,l),this.hf(),new nu(he.g(l),this,null)},f.prototype.doc=function(l){return ot("Firestore.doc",arguments,1),un("Firestore.doc","non-empty string",1,l),this.hf(),Cl.Rf(he.g(l),this,null)},f.prototype.collectionGroup=function(l){if(ot("Firestore.collectionGroup",arguments,1),un("Firestore.collectionGroup","non-empty string",1,l),l.indexOf("/")>=0)throw new G(z.INVALID_ARGUMENT,"Invalid collection ID '"+l+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new rf((h=l,new ws(he.P(),h)),this,null);var h},f.prototype.runTransaction=function(l){var h=this;return ot("Firestore.runTransaction",arguments,1),un("Firestore.runTransaction","function",1,l),this.hf().transaction(function(g){return l(new Em(h,g))})},f.prototype.batch=function(){return this.hf(),new ww(this)},Object.defineProperty(f,"logLevel",{get:function(){switch(Ne()){case pe.LogLevel.DEBUG:return"debug";case pe.LogLevel.ERROR:return"error";case pe.LogLevel.SILENT:return"silent";case pe.LogLevel.WARN:return"warn";case pe.LogLevel.INFO:return"info";case pe.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),f.setLogLevel=function(l){ot("Firestore.setLogLevel",arguments,1),He("setLogLevel",["debug","error","silent","warn","info","verbose"],1,l),de.setLogLevel(l)},f.prototype.gf=function(){return this.wf.timestampsInSnapshots},f.prototype.Pf=function(){return this.wf},f}(),Em=function(){function f(l,h){this.yf=l,this.Vf=h}return f.prototype.get=function(l){var h=this;ot("Transaction.get",arguments,1);var g=Pu("Transaction.get",l,this.yf);return this.Vf.v_([g.f_]).then(function(y){if(!y||1!==y.length)return Re();var E=y[0];if(E instanceof Pr)return new nf(h.yf,g.f_,null,!1,!1,g.d_);if(E instanceof oi)return new nf(h.yf,g.f_,E,!1,!1,g.d_);throw Re()})},f.prototype.set=function(l,h,g){nn("Transaction.set",arguments,2,3);var y=Pu("Transaction.set",l,this.yf);g=sf("Transaction.set",g);var E=Ks(y.d_,h,g),S=ef(this.yf.mf,"Transaction.set",y.f_,E,null!==y.d_,g);return this.Vf.set(y.f_,S),this},f.prototype.update=function(l,h,g){for(var y,E,S=[],R=3;R<arguments.length;R++)S[R-3]=arguments[R];return"string"==typeof h||h instanceof I?(Kt("Transaction.update",arguments,3),y=Pu("Transaction.update",l,this.yf),E=tf(this.yf.mf,"Transaction.update",y.f_,h,g,S)):(ot("Transaction.update",arguments,2),y=Pu("Transaction.update",l,this.yf),E=dh(this.yf.mf,"Transaction.update",y.f_,h)),this.Vf.update(y.f_,E),this},f.prototype.delete=function(l){ot("Transaction.delete",arguments,1);var h=Pu("Transaction.delete",l,this.yf);return this.Vf.delete(h.f_),this},f}(),ww=function(){function f(l){this.yf=l,this.pf=[],this.bf=!1}return f.prototype.set=function(l,h,g){nn("WriteBatch.set",arguments,2,3),this.vf();var y=Pu("WriteBatch.set",l,this.yf);g=sf("WriteBatch.set",g);var E=Ks(y.d_,h,g),S=ef(this.yf.mf,"WriteBatch.set",y.f_,E,null!==y.d_,g);return this.pf=this.pf.concat(S.w_(y.f_,Vi.ze())),this},f.prototype.update=function(l,h,g){for(var y,E,S=[],R=3;R<arguments.length;R++)S[R-3]=arguments[R];return this.vf(),"string"==typeof h||h instanceof I?(Kt("WriteBatch.update",arguments,3),y=Pu("WriteBatch.update",l,this.yf),E=tf(this.yf.mf,"WriteBatch.update",y.f_,h,g,S)):(ot("WriteBatch.update",arguments,2),y=Pu("WriteBatch.update",l,this.yf),E=dh(this.yf.mf,"WriteBatch.update",y.f_,h)),this.pf=this.pf.concat(E.w_(y.f_,Vi.exists(!0))),this},f.prototype.delete=function(l){ot("WriteBatch.delete",arguments,1),this.vf();var h=Pu("WriteBatch.delete",l,this.yf);return this.pf=this.pf.concat(new Tr(h.f_,Vi.ze())),this},f.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},f.prototype.vf=function(){if(this.bf)throw new G(z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},f}(),Cl=function(f){function l(h,g,y){var E=this;return(E=f.call(this,g.__,h,y)||this).f_=h,E.firestore=g,E.d_=y,E.lf=E.firestore.hf(),E}return U.__extends(l,f),l.Rf=function(h,g,y){if(h.length%2!=0)throw new G(z.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+h.R()+" has "+h.length);return new l(new Le(h),g,y)},Object.defineProperty(l.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"parent",{get:function(){return new nu(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),l.prototype.collection=function(h){if(ot("DocumentReference.collection",arguments,1),un("DocumentReference.collection","non-empty string",1,h),!h)throw new G(z.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var g=he.g(h);return new nu(this.f_.path.child(g),this.firestore,null)},l.prototype.isEqual=function(h){if(!(h instanceof l))throw Sn("isEqual","DocumentReference",1,h);return this.firestore===h.firestore&&this.f_.isEqual(h.f_)&&this.d_===h.d_},l.prototype.set=function(h,g){nn("DocumentReference.set",arguments,1,2),g=sf("DocumentReference.set",g);var y=Ks(this.d_,h,g),E=ef(this.firestore.mf,"DocumentReference.set",this.f_,y,null!==this.d_,g);return this.lf.write(E.w_(this.f_,Vi.ze()))},l.prototype.update=function(h,g){for(var y,E=[],S=2;S<arguments.length;S++)E[S-2]=arguments[S];return"string"==typeof h||h instanceof I?(Kt("DocumentReference.update",arguments,2),y=tf(this.firestore.mf,"DocumentReference.update",this.f_,h,g,E)):(ot("DocumentReference.update",arguments,1),y=dh(this.firestore.mf,"DocumentReference.update",this.f_,h)),this.lf.write(y.w_(this.f_,Vi.exists(!0)))},l.prototype.delete=function(){return ot("DocumentReference.delete",arguments,0),this.lf.write([new Tr(this.f_,Vi.ze())])},l.prototype.onSnapshot=function(){for(var h,g,y,E=this,S=[],R=0;R<arguments.length;R++)S[R]=arguments[R];nn("DocumentReference.onSnapshot",arguments,1,4);var V={includeMetadataChanges:!1},Z=0;"object"!=typeof S[Z]||bd(S[Z])||(bt("DocumentReference.onSnapshot",V=S[Z],["includeMetadataChanges"]),Se("DocumentReference.onSnapshot","boolean","includeMetadataChanges",V.includeMetadataChanges),Z++);var re={includeMetadataChanges:V.includeMetadataChanges};if(bd(S[Z])){var ge=S[Z];S[Z]=null===(h=ge.next)||void 0===h?void 0:h.bind(ge),S[Z+1]=null===(g=ge.error)||void 0===g?void 0:g.bind(ge),S[Z+2]=null===(y=ge.complete)||void 0===y?void 0:y.bind(ge)}else un("DocumentReference.onSnapshot","function",Z,S[Z]),rn("DocumentReference.onSnapshot","function",Z+1,S[Z+1]),rn("DocumentReference.onSnapshot","function",Z+2,S[Z+2]);var _e={next:function(Oe){S[Z]&&S[Z](E.Sf(Oe))},error:S[Z+1],complete:S[Z+2]};return this.lf.listen(Oa(this.f_.path),re,_e)},l.prototype.get=function(h){var g=this;nn("DocumentReference.get",arguments,0,1),Cw("DocumentReference.get",h);var y=this.firestore.hf();return h&&"cache"===h.source?y.Q_(this.f_).then(function(E){return new nf(g.firestore,g.f_,E,!0,E instanceof oi&&E.Je,g.d_)}):y.W_(this.f_,h).then(function(E){return g.Sf(E)})},l.prototype.withConverter=function(h){return new l(this.f_,this.firestore,h)},l.prototype.Sf=function(h){var g=h.docs.get(this.f_);return new nf(this.firestore,this.f_,g,h.fromCache,h.hasPendingWrites,this.d_)},l}(to),Ny=function(){function f(l,h){this.hasPendingWrites=l,this.fromCache=h}return f.prototype.isEqual=function(l){return this.hasPendingWrites===l.hasPendingWrites&&this.fromCache===l.fromCache},f}(),nf=function(){function f(l,h,g,y,E,S){this.yf=l,this.f_=h,this.Df=g,this.Cf=y,this.Nf=E,this.d_=S}return f.prototype.data=function(l){var h=this;if(nn("DocumentSnapshot.data",arguments,0,1),l=gh("DocumentSnapshot.data",l),this.Df){if(this.d_){var g=new Im(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(g,l)}return new cp(this.yf.__,this.yf.gf(),l.serverTimestamps||"none",function(y){return new Cl(y,h.yf,null)},function(y){return new zi(y)}).X_(this.Df.rn())}},f.prototype.get=function(l,h){var g=this;if(nn("DocumentSnapshot.get",arguments,1,2),h=gh("DocumentSnapshot.get",h),this.Df){var y=this.Df.data().field(yd("DocumentSnapshot.get",l,this.f_));if(null!==y)return new cp(this.yf.__,this.yf.gf(),h.serverTimestamps||"none",function(E){return new Cl(E,g.yf,g.d_)},function(E){return new zi(E)}).X_(y)}},Object.defineProperty(f.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ref",{get:function(){return new Cl(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"metadata",{get:function(){return new Ny(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),f.prototype.isEqual=function(l){if(!(l instanceof f))throw Sn("isEqual","DocumentSnapshot",1,l);return this.yf===l.yf&&this.Cf===l.Cf&&this.f_.isEqual(l.f_)&&(null===this.Df?null===l.Df:this.Df.isEqual(l.Df))&&this.d_===l.d_},f}(),Im=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.prototype.data=function(h){return f.prototype.data.call(this,h)},l}(nf);function ku(f,l,h){if("string"==typeof h){if(""===h)throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!_u(l)&&-1!==h.indexOf("/"))throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+h+"' contains a '/' character.");var g=l.path.child(he.g(h));if(!Le.F(g))throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+g+"' is not because it has an odd number of segments ("+g.length+").");return vo(f,new Le(g))}if(h instanceof to)return vo(f,h.f_);throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+gt(h)+".")}function mh(f,l){if(!Array.isArray(f)||0===f.length)throw new G(z.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+l.toString()+"' filters.");if(f.length>10)throw new G(z.INVALID_ARGUMENT,"Invalid Query. '"+l.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===l||"array-contains-any"===l){if(f.indexOf(null)>=0)throw new G(z.INVALID_ARGUMENT,"Invalid Query. '"+l.toString()+"' filters cannot contain 'null' in the value array.");if(f.filter(function(h){return Number.isNaN(h)}).length>0)throw new G(z.INVALID_ARGUMENT,"Invalid Query. '"+l.toString()+"' filters cannot contain 'NaN' in the value array.")}}function m_(f,l,h){if(!h.isEqual(l))throw new G(z.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+l.toString()+"' and so you must also use '"+l.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+h.toString()+"' instead.")}function Ou(f){if(ic(f)&&0===f.on.length)throw new G(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var rf=function(){function f(l,h,g){this.Ff=l,this.firestore=h,this.d_=g}return f.prototype.where=function(l,h,g){ot("Query.where",arguments,3),Mt("Query.where",3,g);var R,Z,y=He("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,h),E=yd("Query.where",l),S=function xl(f,l,h,g,y,E,S){var R;if(y.p()){if("array-contains"===E||"array-contains-any"===E)throw new G(z.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+E+"' queries on FieldPath.documentId().");if("in"===E||"not-in"===E){mh(S,E);for(var V=[],Z=0,re=S;Z<re.length;Z++)V.push(ku(g,f,re[Z]));R={arrayValue:{values:V}}}else R=ku(g,f,S)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||mh(S,E),R=wm(h,l,S,"in"===E||"not-in"===E);var _e=Rr.create(y,E,R);return function(Oe,et){if(et.hn()){var ht=mi(Oe);if(null!==ht&&!ht.isEqual(et.field))throw new G(z.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+ht.toString()+"' and '"+et.field.toString()+"'");var an=Vl(Oe);null!==an&&m_(0,et.field,an)}var Jt=function(On,Jn){for(var gi=0,bi=On.filters;gi<bi.length;gi++){var fr=bi[gi];if(Jn.indexOf(fr.op)>=0)return fr.op}return null}(Oe,function(On){switch(On){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(et.op));if(null!==Jt)throw new G(z.INVALID_ARGUMENT,Jt===et.op?"Invalid query. You cannot use more than one '"+et.op.toString()+"' filter.":"Invalid query. You cannot use '"+et.op.toString()+"' filters with '"+Jt.toString()+"' filters.")}(f,_e),_e}(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,E,y,g);return new f((Z=(R=this.Ff).filters.concat([S]),new ws(R.path,R.collectionGroup,R.on.slice(),Z,R.limit,R.an,R.startAt,R.endAt)),this.firestore,this.d_)},f.prototype.orderBy=function(l,h){var g;if(nn("Query.orderBy",arguments,1,2),rn("Query.orderBy","non-empty string",2,h),void 0===h||"asc"===h)g="asc";else{if("desc"!==h)throw new G(z.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+h+"', expected 'asc' or 'desc'.");g="desc"}var S,V,y=yd("Query.orderBy",l),E=function pc(f,l,h){if(null!==f.startAt)throw new G(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==f.endAt)throw new G(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var g=new pa(l,h);return function(y,E){if(null===Vl(y)){var S=mi(y);null!==S&&m_(0,S,E.field)}}(f,g),g}(this.Ff,y,g);return new f((V=(S=this.Ff).on.concat([E]),new ws(S.path,S.collectionGroup,V,S.filters.slice(),S.limit,S.an,S.startAt,S.endAt)),this.firestore,this.d_)},f.prototype.limit=function(l){return ot("Query.limit",arguments,1),un("Query.limit","number",1,l),dn("Query.limit",1,l),new f(Yd(this.Ff,l,"F"),this.firestore,this.d_)},f.prototype.limitToLast=function(l){return ot("Query.limitToLast",arguments,1),un("Query.limitToLast","number",1,l),dn("Query.limitToLast",1,l),new f(Yd(this.Ff,l,"L"),this.firestore,this.d_)},f.prototype.startAt=function(l){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Kt("Query.startAt",arguments,1);var y=this.xf("Query.startAt",l,h,!0);return new f(rc(this.Ff,y),this.firestore,this.d_)},f.prototype.startAfter=function(l){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Kt("Query.startAfter",arguments,1);var y=this.xf("Query.startAfter",l,h,!1);return new f(rc(this.Ff,y),this.firestore,this.d_)},f.prototype.endBefore=function(l){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Kt("Query.endBefore",arguments,1);var y=this.xf("Query.endBefore",l,h,!0);return new f(bo(this.Ff,y),this.firestore,this.d_)},f.prototype.endAt=function(l){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];Kt("Query.endAt",arguments,1);var y=this.xf("Query.endAt",l,h,!1);return new f(bo(this.Ff,y),this.firestore,this.d_)},f.prototype.isEqual=function(l){if(!(l instanceof f))throw Sn("isEqual","Query",1,l);return this.firestore===l.firestore&&oc(this.Ff,l.Ff)&&this.d_===l.d_},f.prototype.withConverter=function(l){return new f(this.Ff,this.firestore,l)},f.prototype.xf=function(l,h,g,y){if(Mt(l,1,h),h instanceof nf)return ot(l,U.__spreadArrays([h],g),1),function(S,R,V,Z,re){if(!Z)throw new G(z.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+V+"().");for(var ge=[],_e=0,Oe=Oc(S);_e<Oe.length;_e++){var et=Oe[_e];if(et.field.p())ge.push(vo(R,Z.key));else{var ht=Z.field(et.field);if(kn(ht))throw new G(z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+et.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ht){var an=et.field.R();throw new G(z.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+an+"' (used as the orderBy) does not exist.")}ge.push(ht)}}return new wo(ge,re)}(this.Ff,this.firestore.__,l,h.Df,y);var E=[h].concat(g);return function(S,R,V,Z,re,ge){var _e=S.on;if(re.length>_e.length)throw new G(z.INVALID_ARGUMENT,"Too many arguments provided to "+Z+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var Oe=[],et=0;et<re.length;et++){var ht=re[et];if(_e[et].field.p()){if("string"!=typeof ht)throw new G(z.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+Z+"(), but got a "+typeof ht);if(!_u(S)&&-1!==ht.indexOf("/"))throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+Z+"() must be a plain document ID, but '"+ht+"' contains a slash.");var an=S.path.child(he.g(ht));if(!Le.F(an))throw new G(z.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+Z+"() must result in a valid document path, but '"+an+"' is not because it contains an odd number of segments.");var Jt=new Le(an);Oe.push(vo(R,Jt))}else{var On=wm(V,Z,ht);Oe.push(On)}}return new wo(Oe,ge)}(this.Ff,this.firestore.__,this.firestore.mf,l,E,y)},f.prototype.onSnapshot=function(){for(var l,h,g,y=this,E=[],S=0;S<arguments.length;S++)E[S]=arguments[S];nn("Query.onSnapshot",arguments,1,4);var R={},V=0;if("object"!=typeof E[V]||bd(E[V])||(bt("Query.onSnapshot",R=E[V],["includeMetadataChanges"]),Se("Query.onSnapshot","boolean","includeMetadataChanges",R.includeMetadataChanges),V++),bd(E[V])){var Z=E[V];E[V]=null===(l=Z.next)||void 0===l?void 0:l.bind(Z),E[V+1]=null===(h=Z.error)||void 0===h?void 0:h.bind(Z),E[V+2]=null===(g=Z.complete)||void 0===g?void 0:g.bind(Z)}else un("Query.onSnapshot","function",V,E[V]),rn("Query.onSnapshot","function",V+1,E[V+1]),rn("Query.onSnapshot","function",V+2,E[V+2]);var re={next:function(ge){E[V]&&E[V](new wd(y.firestore,y.Ff,ge,y.d_))},error:E[V+1],complete:E[V+2]};return Ou(this.Ff),this.firestore.hf().listen(this.Ff,R,re)},f.prototype.get=function(l){var h=this;nn("Query.get",arguments,0,1),Cw("Query.get",l),Ou(this.Ff);var g=this.firestore.hf();return(l&&"cache"===l.source?g.j_(this.Ff):g.K_(this.Ff,l)).then(function(y){return new wd(h.firestore,h.Ff,y,h.d_)})},f}(),wd=function(){function f(l,h,g,y){this.yf=l,this.$f=h,this.kf=g,this.d_=y,this.Mf=null,this.Of=null,this.metadata=new Ny(g.hasPendingWrites,g.fromCache)}return Object.defineProperty(f.prototype,"docs",{get:function(){var l=[];return this.forEach(function(h){return l.push(h)}),l},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),f.prototype.forEach=function(l,h){var g=this;nn("QuerySnapshot.forEach",arguments,1,2),un("QuerySnapshot.forEach","function",1,l),this.kf.docs.forEach(function(y){l.call(h,g.Lf(y,g.metadata.fromCache,g.kf.Wt.has(y.key)))})},Object.defineProperty(f.prototype,"query",{get:function(){return new rf(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),f.prototype.docChanges=function(l){l&&(bt("QuerySnapshot.docChanges",l,["includeMetadataChanges"]),Se("QuerySnapshot.docChanges","boolean","includeMetadataChanges",l.includeMetadataChanges));var h=!(!l||!l.includeMetadataChanges);if(h&&this.kf.Kt)throw new G(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===h||(this.Mf=function(g,y,E){if(g.Qt.m()){var S=0;return g.docChanges.map(function(V){return{type:"added",doc:E(V.doc,g.fromCache,g.Wt.has(V.doc.key)),oldIndex:-1,newIndex:S++}})}var R=g.Qt;return g.docChanges.filter(function(V){return y||3!==V.type}).map(function(V){var Z=E(V.doc,g.fromCache,g.Wt.has(V.doc.key)),re=-1,ge=-1;return 0!==V.type&&(re=R.indexOf(V.doc.key),R=R.delete(V.doc.key)),1!==V.type&&(ge=(R=R.add(V.doc)).indexOf(V.doc.key)),{type:xw(V.type),doc:Z,oldIndex:re,newIndex:ge}})}(this.kf,h,this.Lf.bind(this)),this.Of=h),this.Mf},f.prototype.isEqual=function(l){if(!(l instanceof f))throw Sn("isEqual","QuerySnapshot",1,l);return this.yf===l.yf&&oc(this.$f,l.$f)&&this.kf.isEqual(l.kf)&&this.d_===l.d_},f.prototype.Lf=function(l,h,g){return new Im(this.yf,l.key,l,h,g,this.d_)},f}(),nu=function(f){function l(h,g,y){var E=this;if((E=f.call(this,Oa(h),g,y)||this).Bf=h,h.length%2!=1)throw new G(z.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+h.R()+" has "+h.length);return E}return U.__extends(l,f),Object.defineProperty(l.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"parent",{get:function(){var h=this.Ff.path.h();return h.m()?null:new Cl(new Le(h),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),l.prototype.doc=function(h){nn("CollectionReference.doc",arguments,0,1),0===arguments.length&&(h=Dn.k()),un("CollectionReference.doc","non-empty string",1,h);var g=he.g(h);return Cl.Rf(this.Ff.path.child(g),this.firestore,this.d_)},l.prototype.add=function(h){ot("CollectionReference.add",arguments,1);var g=this.d_?this.d_.toFirestore(h):h;un("CollectionReference.add","object",1,g);var y=this.doc();return new Cl(y.f_,this.firestore,null).set(g).then(function(){return y})},l.prototype.withConverter=function(h){return new l(this.Bf,this.firestore,h)},l}(rf);function sf(f,l){if(void 0===l)return{merge:!1};if(bt(f,l,["merge","mergeFields"]),Se(f,"boolean","merge",l.merge),void 0!==(E=l.mergeFields)&&function(R,V,Z,re,ge){if(!(re instanceof Array))throw new G(z.INVALID_ARGUMENT,"Function "+R+"() requires its "+V+" option to be an array, but it was: "+gt(re));for(var _e=0;_e<re.length;++_e)if(!ge(re[_e]))throw new G(z.INVALID_ARGUMENT,"Function "+R+"() requires all "+V+" elements to be a string or a FieldPath, but the value at index "+_e+" was: "+gt(re[_e]))}(f,"mergeFields",0,E,function(h){return"string"==typeof h||h instanceof I}),void 0!==l.mergeFields&&void 0!==l.merge)throw new G(z.INVALID_ARGUMENT,"Invalid options passed to function "+f+'(): You cannot specify both "merge" and "mergeFields".');var E;return l}function gh(f,l){return void 0===l?{}:(bt(f,l,["serverTimestamps"]),Ce(f,0,"serverTimestamps",l.serverTimestamps,["estimate","previous","none"]),l)}function Cw(f,l){rn(f,"object",1,l),l&&(bt(f,l,["source"]),Ce(f,0,"source",l.source,["default","server","cache"]))}function Pu(f,l,h){if(l instanceof to){if(l.firestore!==h)throw new G(z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}throw Sn(f,"DocumentReference",1,l)}function xw(f){switch(f){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}function Ks(f,l,h){return f?h&&(h.merge||h.mergeFields)?f.toFirestore(l,h):f.toFirestore(l):l}var Tm=function(f){function l(){return null!==f&&f.apply(this,arguments)||this}return U.__extends(l,f),l.serverTimestamp=function(){Ct("FieldValue.serverTimestamp",arguments);var h=new Xe("serverTimestamp");return h.e_="FieldValue.serverTimestamp",new l(h)},l.delete=function(){Ct("FieldValue.delete",arguments);var h=new J("deleteField");return h.e_="FieldValue.delete",new l(h)},l.arrayUnion=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];Kt("FieldValue.arrayUnion",arguments,1);var y=function(){for(var E=[],S=0;S<arguments.length;S++)E[S]=arguments[S];return Kt("arrayUnion()",arguments,1),new Ot("arrayUnion",E)}.apply(void 0,h);return y.e_="FieldValue.arrayUnion",new l(y)},l.arrayRemove=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];Kt("FieldValue.arrayRemove",arguments,1);var y=function(){for(var E=[],S=0;S<arguments.length;S++)E[S]=arguments[S];return Kt("arrayRemove()",arguments,1),new Nt("arrayRemove",E)}.apply(void 0,h);return y.e_="FieldValue.arrayRemove",new l(y)},l.increment=function(h){un("FieldValue.increment","number",1,h),ot("FieldValue.increment",arguments,1);var g=new pn("increment",h);return g.e_="FieldValue.increment",new l(g)},l.prototype.isEqual=function(h){return this.l_.isEqual(h.l_)},l}(eo),_T={Firestore:ph,GeoPoint:Wn,Timestamp:Qt,Blob:zi,Transaction:Em,WriteBatch:ww,DocumentReference:Cl,DocumentSnapshot:nf,Query:rf,QueryDocumentSnapshot:Im,QuerySnapshot:wd,CollectionReference:nu,FieldPath:I,FieldValue:Tm,setLogLevel:ph.setLogLevel,CACHE_SIZE_UNLIMITED:p_};!function Ew(f){f.INTERNAL.registerComponent(new ke.Component("firestore",function(g){return y=g.getProvider("app").getImmediate(),E=g.getProvider("auth-internal"),S=new Jh,R=new u_(S),new ph(y,E,R,S);var y,E,S,R},"PUBLIC").setServiceProps(Object.assign({},_T))),f.registerVersion("@firebase/firestore","1.18.0")}(Ve.default)},8836:(en,Me,Q)=>{function a(){for(var de=0,Ne=0,me=arguments.length;Ne<me;Ne++)de+=arguments[Ne].length;var lt=Array(de),st=0;for(Ne=0;Ne<me;Ne++)for(var mt=arguments[Ne],Re=0,at=mt.length;Re<at;Re++,st++)lt[st]=mt[Re];return lt}Q.r(Me),Q.d(Me,{LogLevel:()=>pe,Logger:()=>Ve,setLogLevel:()=>z,setUserLogHandler:()=>G});var U,K=[],pe=function(de){return de[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",de}(pe||{}),ce={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},Pe=pe.INFO,ke=((U={})[pe.DEBUG]="log",U[pe.VERBOSE]="log",U[pe.INFO]="info",U[pe.WARN]="warn",U[pe.ERROR]="error",U),ut=function(de,Ne){for(var me=[],lt=2;lt<arguments.length;lt++)me[lt-2]=arguments[lt];if(!(Ne<de.logLevel)){var st=(new Date).toISOString(),mt=ke[Ne];if(!mt)throw new Error("Attempted to log a message with an invalid logType (value: "+Ne+")");console[mt].apply(console,a(["["+st+"]  "+de.name+":"],me))}},Ve=function(){function de(Ne){this.name=Ne,this._logLevel=Pe,this._logHandler=ut,this._userLogHandler=null,K.push(this)}return Object.defineProperty(de.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Ne){if(!(Ne in pe))throw new TypeError('Invalid value "'+Ne+'" assigned to `logLevel`');this._logLevel=Ne},enumerable:!1,configurable:!0}),de.prototype.setLogLevel=function(Ne){this._logLevel="string"==typeof Ne?ce[Ne]:Ne},Object.defineProperty(de.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Ne){if("function"!=typeof Ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ne},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Ne){this._userLogHandler=Ne},enumerable:!1,configurable:!0}),de.prototype.debug=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,a([this,pe.DEBUG],Ne)),this._logHandler.apply(this,a([this,pe.DEBUG],Ne))},de.prototype.log=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,a([this,pe.VERBOSE],Ne)),this._logHandler.apply(this,a([this,pe.VERBOSE],Ne))},de.prototype.info=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,a([this,pe.INFO],Ne)),this._logHandler.apply(this,a([this,pe.INFO],Ne))},de.prototype.warn=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,a([this,pe.WARN],Ne)),this._logHandler.apply(this,a([this,pe.WARN],Ne))},de.prototype.error=function(){for(var Ne=[],me=0;me<arguments.length;me++)Ne[me]=arguments[me];this._userLogHandler&&this._userLogHandler.apply(this,a([this,pe.ERROR],Ne)),this._logHandler.apply(this,a([this,pe.ERROR],Ne))},de}();function z(de){K.forEach(function(Ne){Ne.setLogLevel(de)})}function G(de,Ne){for(var me=function(Re){var at=null;Ne&&Ne.level&&(at=ce[Ne.level]),Re.userLogHandler=null===de?null:function(Ze,xe){for(var nt=[],$e=2;$e<arguments.length;$e++)nt[$e-2]=arguments[$e];var it=nt.map(function(he){if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch{return null}}).filter(function(he){return he}).join(" ");xe>=(at??Ze.logLevel)&&de({level:pe[xe].toLowerCase(),message:it,args:nt,type:Ze.name})}},lt=0,st=K;lt<st.length;lt++)me(st[lt])}},3661:(en,Me,Q)=>{Object.defineProperty(Me,"__esModule",{value:!0});var a=Q(8005),U={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},K=function(Te,we){if(!Te)throw pe(we)},pe=function(Te){return new Error("Firebase Database ("+U.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Te)},ce=function(Te){for(var we=[],Ee=0,qe=0;qe<Te.length;qe++){var Fe=Te.charCodeAt(qe);Fe<128?we[Ee++]=Fe:Fe<2048?(we[Ee++]=Fe>>6|192,we[Ee++]=63&Fe|128):55296==(64512&Fe)&&qe+1<Te.length&&56320==(64512&Te.charCodeAt(qe+1))?(Fe=65536+((1023&Fe)<<10)+(1023&Te.charCodeAt(++qe)),we[Ee++]=Fe>>18|240,we[Ee++]=Fe>>12&63|128,we[Ee++]=Fe>>6&63|128,we[Ee++]=63&Fe|128):(we[Ee++]=Fe>>12|224,we[Ee++]=Fe>>6&63|128,we[Ee++]=63&Fe|128)}return we},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Te,we){if(!Array.isArray(Te))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Ee=we?this.byteToCharMapWebSafe_:this.byteToCharMap_,qe=[],Fe=0;Fe<Te.length;Fe+=3){var xt=Te[Fe],mn=Fe+1<Te.length,jt=mn?Te[Fe+1]:0,Xt=Fe+2<Te.length,Ht=Xt?Te[Fe+2]:0,$n=(15&jt)<<2|Ht>>6,Li=63&Ht;Xt||(Li=64,mn||($n=64)),qe.push(Ee[xt>>2],Ee[(3&xt)<<4|jt>>4],Ee[$n],Ee[Li])}return qe.join("")},encodeString:function(Te,we){return this.HAS_NATIVE_SUPPORT&&!we?btoa(Te):this.encodeByteArray(ce(Te),we)},decodeString:function(Te,we){return this.HAS_NATIVE_SUPPORT&&!we?atob(Te):function(Te){for(var we=[],Ee=0,qe=0;Ee<Te.length;){var Fe=Te[Ee++];if(Fe<128)we[qe++]=String.fromCharCode(Fe);else if(Fe>191&&Fe<224){var xt=Te[Ee++];we[qe++]=String.fromCharCode((31&Fe)<<6|63&xt)}else if(Fe>239&&Fe<365){var Xt=((7&Fe)<<18|(63&(xt=Te[Ee++]))<<12|(63&(mn=Te[Ee++]))<<6|63&Te[Ee++])-65536;we[qe++]=String.fromCharCode(55296+(Xt>>10)),we[qe++]=String.fromCharCode(56320+(1023&Xt))}else{xt=Te[Ee++];var mn=Te[Ee++];we[qe++]=String.fromCharCode((15&Fe)<<12|(63&xt)<<6|63&mn)}}return we.join("")}(this.decodeStringToByteArray(Te,we))},decodeStringToByteArray:function(Te,we){this.init_();for(var Ee=we?this.charToByteMapWebSafe_:this.charToByteMap_,qe=[],Fe=0;Fe<Te.length;){var xt=Ee[Te.charAt(Fe++)],jt=Fe<Te.length?Ee[Te.charAt(Fe)]:0,Ht=++Fe<Te.length?Ee[Te.charAt(Fe)]:64,vi=++Fe<Te.length?Ee[Te.charAt(Fe)]:64;if(++Fe,null==xt||null==jt||null==Ht||null==vi)throw Error();qe.push(xt<<2|jt>>4),64!==Ht&&(qe.push(jt<<4&240|Ht>>2),64!==vi&&qe.push(Ht<<6&192|vi))}return qe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Te=0;Te<this.ENCODED_VALS.length;Te++)this.byteToCharMap_[Te]=this.ENCODED_VALS.charAt(Te),this.charToByteMap_[this.byteToCharMap_[Te]]=Te,this.byteToCharMapWebSafe_[Te]=this.ENCODED_VALS_WEBSAFE.charAt(Te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Te]]=Te,Te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Te)]=Te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Te)]=Te)}}},Ve=function(Te){try{return ke.decodeString(Te,!0)}catch(we){console.error("base64Decode failed: ",we)}return null};function G(Te,we){if(!(we instanceof Object))return we;switch(we.constructor){case Date:return new Date(we.getTime());case Object:void 0===Te&&(Te={});break;case Array:Te=[];break;default:return we}for(var qe in we)we.hasOwnProperty(qe)&&(Te[qe]=G(Te[qe],we[qe]));return Te}var de=function(){function Te(){var we=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Ee,qe){we.resolve=Ee,we.reject=qe})}return Te.prototype.wrapCallback=function(we){var Ee=this;return function(qe,Fe){qe?Ee.reject(qe):Ee.resolve(Fe),"function"==typeof we&&(Ee.promise.catch(function(){}),1===we.length?we(qe):we(qe,Fe))}},Te}();function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}var Le=function(Te){function we(Ee,qe){var Fe=Te.call(this,qe)||this;return Fe.code=Ee,Fe.name="FirebaseError",Object.setPrototypeOf(Fe,we.prototype),Error.captureStackTrace&&Error.captureStackTrace(Fe,Ct.prototype.create),Fe}return a.__extends(we,Te),we}(Error),Ct=function(){function Te(we,Ee,qe){this.service=we,this.serviceName=Ee,this.errors=qe}return Te.prototype.create=function(we){for(var Ee=[],qe=1;qe<arguments.length;qe++)Ee[qe-1]=arguments[qe];for(var Fe=Ee[0]||{},xt=this.service+"/"+we,mn=this.errors[we],jt=mn?function ot(Te,we){return Te.replace(Kt,function(Ee,qe){var Fe=we[qe];return null!=Fe?String(Fe):"<"+qe+"?>"})}(mn,Fe):"Error",Ht=new Le(xt,this.serviceName+": "+jt+" ("+xt+")."),Ci=0,vi=Object.keys(Fe);Ci<vi.length;Ci++){var $n=vi[Ci];"_"!==$n.slice(-1)&&($n in Ht&&console.warn('Overwriting FirebaseError base field "'+$n+'" can cause unexpected behavior.'),Ht[$n]=Fe[$n])}return Ht},Te}(),Kt=/\{\$([^}]+)}/g;function nn(Te){return JSON.parse(Te)}var rn=function(Te){var we={},Ee={},qe={},Fe="";try{var xt=Te.split(".");we=nn(Ve(xt[0])||""),Ee=nn(Ve(xt[1])||""),Fe=xt[2],qe=Ee.d||{},delete Ee.d}catch{}return{header:we,claims:Ee,data:qe,signature:Fe}},dn=function(){function Te(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var we=1;we<this.blockSize;++we)this.pad_[we]=0;this.reset()}return Te.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Te.prototype.compress_=function(we,Ee){Ee||(Ee=0);var qe=this.W_;if("string"==typeof we)for(var Fe=0;Fe<16;Fe++)qe[Fe]=we.charCodeAt(Ee)<<24|we.charCodeAt(Ee+1)<<16|we.charCodeAt(Ee+2)<<8|we.charCodeAt(Ee+3),Ee+=4;else for(Fe=0;Fe<16;Fe++)qe[Fe]=we[Ee]<<24|we[Ee+1]<<16|we[Ee+2]<<8|we[Ee+3],Ee+=4;for(Fe=16;Fe<80;Fe++)qe[Fe]=4294967295&((xt=qe[Fe-3]^qe[Fe-8]^qe[Fe-14]^qe[Fe-16])<<1|xt>>>31);var vi,$n,mn=this.chain_[0],jt=this.chain_[1],Xt=this.chain_[2],Ht=this.chain_[3],Ci=this.chain_[4];for(Fe=0;Fe<80;Fe++){Fe<40?Fe<20?(vi=Ht^jt&(Xt^Ht),$n=1518500249):(vi=jt^Xt^Ht,$n=1859775393):Fe<60?(vi=jt&Xt|Ht&(jt|Xt),$n=2400959708):(vi=jt^Xt^Ht,$n=3395469782);var xt=(mn<<5|mn>>>27)+vi+Ci+$n+qe[Fe]&4294967295;Ci=Ht,Ht=Xt,Xt=4294967295&(jt<<30|jt>>>2),jt=mn,mn=xt}this.chain_[0]=this.chain_[0]+mn&4294967295,this.chain_[1]=this.chain_[1]+jt&4294967295,this.chain_[2]=this.chain_[2]+Xt&4294967295,this.chain_[3]=this.chain_[3]+Ht&4294967295,this.chain_[4]=this.chain_[4]+Ci&4294967295},Te.prototype.update=function(we,Ee){if(null!=we){void 0===Ee&&(Ee=we.length);for(var qe=Ee-this.blockSize,Fe=0,xt=this.buf_,mn=this.inbuf_;Fe<Ee;){if(0===mn)for(;Fe<=qe;)this.compress_(we,Fe),Fe+=this.blockSize;if("string"==typeof we){for(;Fe<Ee;)if(xt[mn]=we.charCodeAt(Fe),++Fe,++mn===this.blockSize){this.compress_(xt),mn=0;break}}else for(;Fe<Ee;)if(xt[mn]=we[Fe],++Fe,++mn===this.blockSize){this.compress_(xt),mn=0;break}}this.inbuf_=mn,this.total_+=Ee}},Te.prototype.digest=function(){var we=[],Ee=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var qe=this.blockSize-1;qe>=56;qe--)this.buf_[qe]=255&Ee,Ee/=256;this.compress_(this.buf_);var Fe=0;for(qe=0;qe<5;qe++)for(var xt=24;xt>=0;xt-=8)we[Fe]=this.chain_[qe]>>xt&255,++Fe;return we},Te}(),fn=function(){function Te(we,Ee){var qe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ee,this.task.then(function(){we(qe)}).catch(function(Fe){qe.error(Fe)})}return Te.prototype.next=function(we){this.forEachObserver(function(Ee){Ee.next(we)})},Te.prototype.error=function(we){this.forEachObserver(function(Ee){Ee.error(we)}),this.close(we)},Te.prototype.complete=function(){this.forEachObserver(function(we){we.complete()}),this.close()},Te.prototype.subscribe=function(we,Ee,qe){var xt,Fe=this;if(void 0===we&&void 0===Ee&&void 0===qe)throw new Error("Missing Observer.");xt=function Dn(Te,we){if("object"!=typeof Te||null===Te)return!1;for(var Ee=0,qe=we;Ee<qe.length;Ee++){var Fe=qe[Ee];if(Fe in Te&&"function"==typeof Te[Fe])return!0}return!1}(we,["next","error","complete"])?we:{next:we,error:Ee,complete:qe},void 0===xt.next&&(xt.next=Ut),void 0===xt.error&&(xt.error=Ut),void 0===xt.complete&&(xt.complete=Ut);var mn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Fe.finalError?xt.error(Fe.finalError):xt.complete()}catch{}}),this.observers.push(xt),mn},Te.prototype.unsubscribeOne=function(we){void 0===this.observers||void 0===this.observers[we]||(delete this.observers[we],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Te.prototype.forEachObserver=function(we){if(!this.finalized)for(var Ee=0;Ee<this.observers.length;Ee++)this.sendOne(Ee,we)},Te.prototype.sendOne=function(we,Ee){var qe=this;this.task.then(function(){if(void 0!==qe.observers&&void 0!==qe.observers[we])try{Ee(qe.observers[we])}catch(Fe){typeof console<"u"&&console.error&&console.error(Fe)}})},Te.prototype.close=function(we){var Ee=this;this.finalized||(this.finalized=!0,void 0!==we&&(this.finalError=we),this.task.then(function(){Ee.observers=void 0,Ee.onNoObservers=void 0}))},Te}();function Ut(){}function Ln(Te,we,Ee){var qe="";switch(we){case 1:qe=Ee?"first":"First";break;case 2:qe=Ee?"second":"Second";break;case 3:qe=Ee?"third":"Third";break;case 4:qe=Ee?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return Te+" failed: "+(qe+" argument ")}Me.CONSTANTS=U,Me.Deferred=de,Me.ErrorFactory=Ct,Me.FirebaseError=Le,Me.MAX_VALUE_MILLIS=144e5,Me.RANDOM_FACTOR=.5,Me.Sha1=dn,Me.areCookiesEnabled=function ue(){return!(!navigator||!navigator.cookieEnabled)},Me.assert=K,Me.assertionError=pe,Me.async=function tn(Te,we){return function(){for(var Ee=[],qe=0;qe<arguments.length;qe++)Ee[qe]=arguments[qe];Promise.resolve(!0).then(function(){Te.apply(void 0,Ee)}).catch(function(Fe){we&&we(Fe)})}},Me.base64=ke,Me.base64Decode=Ve,Me.base64Encode=function(Te){var we=ce(Te);return ke.encodeByteArray(we,!0)},Me.calculateBackoffMillis=function zt(Te,we,Ee){void 0===we&&(we=1e3),void 0===Ee&&(Ee=2);var qe=we*Math.pow(Ee,Te),Fe=Math.round(.5*qe*(Math.random()-.5)*2);return Math.min(144e5,qe+Fe)},Me.contains=function je(Te,we){return Object.prototype.hasOwnProperty.call(Te,we)},Me.createSubscribe=function Fn(Te,we){var Ee=new fn(Te,we);return Ee.subscribe.bind(Ee)},Me.decode=rn,Me.deepCopy=function z(Te){return G(void 0,Te)},Me.deepExtend=G,Me.errorPrefix=Ln,Me.getUA=Ne,Me.isAdmin=function(Te){var we=rn(Te).claims;return"object"==typeof we&&!0===we.admin},Me.isBrowser=function st(){return"object"==typeof self&&self.self===self},Me.isBrowserExtension=function mt(){var Te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Te&&void 0!==Te.id},Me.isElectron=function at(){return Ne().indexOf("Electron/")>=0},Me.isEmpty=function gt(Te){for(var we in Te)if(Object.prototype.hasOwnProperty.call(Te,we))return!1;return!0},Me.isIE=function Ze(){var Te=Ne();return Te.indexOf("MSIE ")>=0||Te.indexOf("Trident/")>=0},Me.isIndexedDBAvailable=function it(){return"indexedDB"in self&&null!=indexedDB},Me.isMobileCordova=function me(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())},Me.isNode=lt,Me.isNodeSdk=function nt(){return!0===U.NODE_CLIENT||!0===U.NODE_ADMIN},Me.isReactNative=function Re(){return"object"==typeof navigator&&"ReactNative"===navigator.product},Me.isSafari=function $e(){return!lt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},Me.isUWP=function xe(){return Ne().indexOf("MSAppHost/")>=0},Me.isValidFormat=function(Te){var Ee=rn(Te).claims;return!!Ee&&"object"==typeof Ee&&Ee.hasOwnProperty("iat")},Me.isValidTimestamp=function(Te){var we=rn(Te).claims,Ee=Math.floor((new Date).getTime()/1e3),qe=0,Fe=0;return"object"==typeof we&&(we.hasOwnProperty("nbf")?qe=we.nbf:we.hasOwnProperty("iat")&&(qe=we.iat),Fe=we.hasOwnProperty("exp")?we.exp:qe+86400),!!Ee&&!!qe&&!!Fe&&Ee>=qe&&Ee<=Fe},Me.issuedAtTime=function(Te){var we=rn(Te).claims;return"object"==typeof we&&we.hasOwnProperty("iat")?we.iat:null},Me.jsonEval=nn,Me.map=function Mt(Te,we,Ee){var qe={};for(var Fe in Te)Object.prototype.hasOwnProperty.call(Te,Fe)&&(qe[Fe]=we.call(Ee,Te[Fe],Fe,Te));return qe},Me.querystring=function bt(Te){for(var we=[],Ee=function(Xt,Ht){Array.isArray(Ht)?Ht.forEach(function(Ci){we.push(encodeURIComponent(Xt)+"="+encodeURIComponent(Ci))}):we.push(encodeURIComponent(Xt)+"="+encodeURIComponent(Ht))},qe=0,Fe=Object.entries(Te);qe<Fe.length;qe++){var xt=Fe[qe];Ee(xt[0],xt[1])}return we.length?"&"+we.join("&"):""},Me.querystringDecode=function Sn(Te){var we={};return Te.replace(/^\?/,"").split("&").forEach(function(qe){if(qe){var Fe=qe.split("=");we[Fe[0]]=Fe[1]}}),we},Me.safeGet=function ct(Te,we){if(Object.prototype.hasOwnProperty.call(Te,we))return Te[we]},Me.stringLength=function(Te){for(var we=0,Ee=0;Ee<Te.length;Ee++){var qe=Te.charCodeAt(Ee);qe<128?we++:qe<2048?we+=2:qe>=55296&&qe<=56319?(we+=4,Ee++):we+=3}return we},Me.stringToByteArray=function(Te){for(var we=[],Ee=0,qe=0;qe<Te.length;qe++){var Fe=Te.charCodeAt(qe);if(Fe>=55296&&Fe<=56319){var xt=Fe-55296;qe++,K(qe<Te.length,"Surrogate pair missing trail surrogate."),Fe=65536+(xt<<10)+(Te.charCodeAt(qe)-56320)}Fe<128?we[Ee++]=Fe:Fe<2048?(we[Ee++]=Fe>>6|192,we[Ee++]=63&Fe|128):Fe<65536?(we[Ee++]=Fe>>12|224,we[Ee++]=Fe>>6&63|128,we[Ee++]=63&Fe|128):(we[Ee++]=Fe>>18|240,we[Ee++]=Fe>>12&63|128,we[Ee++]=Fe>>6&63|128,we[Ee++]=63&Fe|128)}return we},Me.stringify=function un(Te){return JSON.stringify(Te)},Me.validateArgCount=function(Te,we,Ee,qe){var Fe;if(qe<we?Fe="at least "+we:qe>Ee&&(Fe=0===Ee?"none":"no more than "+Ee),Fe)throw new Error(Te+" failed: Was called with "+qe+(1===qe?" argument.":" arguments.")+" Expects "+Fe+".")},Me.validateCallback=function wi(Te,we,Ee,qe){if((!qe||Ee)&&"function"!=typeof Ee)throw new Error(Ln(Te,we,qe)+"must be a valid function.")},Me.validateContextObject=function Mi(Te,we,Ee,qe){if((!qe||Ee)&&("object"!=typeof Ee||null===Ee))throw new Error(Ln(Te,we,qe)+"must be a valid context object.")},Me.validateIndexedDBOpenable=function he(){return new Promise(function(Te,we){try{var Ee=!0,qe="validate-browser-context-for-indexeddb-analytics-module",Fe=window.indexedDB.open(qe);Fe.onsuccess=function(){Fe.result.close(),Ee||window.indexedDB.deleteDatabase(qe),Te(!0)},Fe.onupgradeneeded=function(){Ee=!1},Fe.onerror=function(){var xt;we((null===(xt=Fe.error)||void 0===xt?void 0:xt.message)||"")}}catch(xt){we(xt)}})},Me.validateNamespace=function Vn(Te,we,Ee,qe){if((!qe||Ee)&&"string"!=typeof Ee)throw new Error(Ln(Te,we,qe)+"must be a valid firebase namespace.")}},8602:(en,Me,Q)=>{Q.r(Me),Q.d(Me,{ErrorCode:()=>Nc,EventType:()=>Co,WebChannel:()=>Hs,XhrIo:()=>Fc,createWebChannelTransport:()=>es,default:()=>Na});var a=function(C,N){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,ee){j.__proto__=ee}||function(j,ee){for(var ve in ee)Object.prototype.hasOwnProperty.call(ee,ve)&&(j[ve]=ee[ve])})(C,N)};function K(C){var N="function"==typeof Symbol&&Symbol.iterator,j=N&&C[N],ee=0;if(j)return j.call(C);if(C&&"number"==typeof C.length)return{next:function(){return C&&ee>=C.length&&(C=void 0),{value:C&&C[ee++],done:!C}}};throw new TypeError(N?"Object is not iterable.":"Symbol.iterator is not defined.")}var ce,pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pe=Pe||{},ke=pe||self;function ut(){}function Ve(C){var N=typeof C;return"object"!=N?N:C?Array.isArray(C)?"array":N:"null"}function z(C){var N=Ve(C);return"array"==N||"object"==N&&"number"==typeof C.length}function G(C){var N=typeof C;return"object"==N&&null!=C||"function"==N}var Ne="closure_uid_"+(1e9*Math.random()>>>0),me=0;function lt(C,N,j){return C.call.apply(C.bind,arguments)}function st(C,N,j){if(!C)throw Error();if(2<arguments.length){var ee=Array.prototype.slice.call(arguments,2);return function(){var ve=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ve,ee),C.apply(N,ve)}}return function(){return C.apply(N,arguments)}}function mt(C,N,j){return(mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lt:st).apply(null,arguments)}function Re(C,N){var j=Array.prototype.slice.call(arguments,1);return function(){var ee=j.slice();return ee.push.apply(ee,arguments),C.apply(this,ee)}}var at=Date.now;function Ze(C,N){function j(){}j.prototype=N.prototype,C.S=N.prototype,C.prototype=new j,C.prototype.constructor=C}function xe(){this.j=this.j,this.i=this.i}xe.prototype.j=!1,xe.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function de(C){Object.prototype.hasOwnProperty.call(C,Ne)&&C[Ne]||(C[Ne]=++me)}(this)},xe.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var $e=Array.prototype.indexOf?function(C,N){return Array.prototype.indexOf.call(C,N,void 0)}:function(C,N){if("string"==typeof C)return"string"!=typeof N||1!=N.length?-1:C.indexOf(N,0);for(var j=0;j<C.length;j++)if(j in C&&C[j]===N)return j;return-1},it=Array.prototype.forEach?function(C,N,j){Array.prototype.forEach.call(C,N,j)}:function(C,N,j){for(var ee=C.length,ve="string"==typeof C?C.split(""):C,Ye=0;Ye<ee;Ye++)Ye in ve&&N.call(j,ve[Ye],Ye,C)};function ue(C){return Array.prototype.concat.apply([],arguments)}function Ge(C){var N=C.length;if(0<N){for(var j=Array(N),ee=0;ee<N;ee++)j[ee]=C[ee];return j}return[]}function Le(C){return/^[\s\xa0]*$/.test(C)}var nn,Ct=String.prototype.trim?function(C){return C.trim()}:function(C){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(C)[1]};function ot(C,N){return-1!=C.indexOf(N)}function Kt(C,N){return C<N?-1:C>N?1:0}e:{var un=ke.navigator;if(un){var rn=un.userAgent;if(rn){nn=rn;break e}}nn=""}function fi(C,N,j){for(var ee in C)N.call(j,C[ee],ee,C)}function Se(C){var N={};for(var j in C)N[j]=C[j];return N}var Ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function He(C,N){for(var j,ee,ve=1;ve<arguments.length;ve++){for(j in ee=arguments[ve])C[j]=ee[j];for(var Ye=0;Ye<Ce.length;Ye++)j=Ce[Ye],Object.prototype.hasOwnProperty.call(ee,j)&&(C[j]=ee[j])}}function je(C){return je[" "](C),C}je[" "]=ut;var tn,C,gt=ot(nn,"Opera"),Mt=ot(nn,"Trident")||ot(nn,"MSIE"),bt=ot(nn,"Edge"),Sn=bt||Mt,dn=ot(nn,"Gecko")&&!(ot(nn.toLowerCase(),"webkit")&&!ot(nn,"Edge"))&&!(ot(nn,"Trident")||ot(nn,"MSIE"))&&!ot(nn,"Edge"),Fn=ot(nn.toLowerCase(),"webkit")&&!ot(nn,"Edge");function fn(){var C=ke.document;return C?C.documentMode:void 0}e:{var Dn="",Ut=(C=nn,dn?/rv:([^\);]+)(\)|;)/.exec(C):bt?/Edge\/([\d\.]+)/.exec(C):Mt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(C):Fn?/WebKit\/(\S+)/.exec(C):gt?/(?:Version)[ \/]?(\S+)/.exec(C):void 0);if(Ut&&(Dn=Ut?Ut[1]:""),Mt){var cn=fn();if(null!=cn&&cn>parseFloat(Dn)){tn=String(cn);break e}}tn=Dn}var Ln={};function Vn(C){return function ct(C,N){var j=Ln;return Object.prototype.hasOwnProperty.call(j,C)?j[C]:j[C]=N(C)}(C,function(){for(var N=0,j=Ct(String(tn)).split("."),ee=Ct(String(C)).split("."),ve=Math.max(j.length,ee.length),Ye=0;0==N&&Ye<ve;Ye++){var Rt=j[Ye]||"",Gn=ee[Ye]||"";do{if(Rt=/(\d*)(\D*)(.*)/.exec(Rt)||["","","",""],Gn=/(\d*)(\D*)(.*)/.exec(Gn)||["","","",""],0==Rt[0].length&&0==Gn[0].length)break;N=Kt(0==Rt[1].length?0:parseInt(Rt[1],10),0==Gn[1].length?0:parseInt(Gn[1],10))||Kt(0==Rt[2].length,0==Gn[2].length)||Kt(Rt[2],Gn[2]),Rt=Rt[3],Gn=Gn[3]}while(0==N)}return 0<=N})}var ni=ke.document&&Mt&&(fn()||parseInt(tn,10))||void 0,zi=!Mt||9<=Number(ni),Ro=Mt&&!Vn("9"),sn=function(){if(!ke.addEventListener||!Object.defineProperty)return!1;var C=!1,N=Object.defineProperty({},"passive",{get:function(){C=!0}});try{ke.addEventListener("test",ut,N),ke.removeEventListener("test",ut,N)}catch{}return C}();function Yt(C,N){this.type=C,this.a=this.target=N,this.defaultPrevented=!1}function Qt(C,N){if(Yt.call(this,C?C.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,C){var j=this.type=C.type,ee=C.changedTouches&&C.changedTouches.length?C.changedTouches[0]:null;if(this.target=C.target||C.srcElement,this.a=N,N=C.relatedTarget){if(dn){e:{try{je(N.nodeName);var ve=!0;break e}catch{}ve=!1}ve||(N=null)}}else"mouseover"==j?N=C.fromElement:"mouseout"==j&&(N=C.toElement);this.relatedTarget=N,ee?(this.clientX=void 0!==ee.clientX?ee.clientX:ee.pageX,this.clientY=void 0!==ee.clientY?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=void 0!==C.clientX?C.clientX:C.pageX,this.clientY=void 0!==C.clientY?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0),this.button=C.button,this.key=C.key||"",this.ctrlKey=C.ctrlKey,this.altKey=C.altKey,this.shiftKey=C.shiftKey,this.metaKey=C.metaKey,this.pointerId=C.pointerId||0,this.pointerType="string"==typeof C.pointerType?C.pointerType:zt[C.pointerType]||"",this.c=C,C.defaultPrevented&&this.b()}}Yt.prototype.b=function(){this.defaultPrevented=!0},Ze(Qt,Yt);var zt={2:"touch",3:"pen",4:"mouse"};Qt.prototype.b=function(){Qt.S.b.call(this);var C=this.c;if(C.preventDefault)C.preventDefault();else if(C.returnValue=!1,Ro)try{(C.ctrlKey||112<=C.keyCode&&123>=C.keyCode)&&(C.keyCode=-1)}catch{}};var Te="closure_listenable_"+(1e6*Math.random()|0),we=0;function Ee(C,N,j,ee,ve){this.listener=C,this.proxy=null,this.src=N,this.type=j,this.capture=!!ee,this.ca=ve,this.key=++we,this.Y=this.Z=!1}function qe(C){C.Y=!0,C.listener=null,C.proxy=null,C.src=null,C.ca=null}function Fe(C){this.src=C,this.a={},this.b=0}function xt(C,N){var j=N.type;if(j in C.a){var Ye,ee=C.a[j],ve=$e(ee,N);(Ye=0<=ve)&&Array.prototype.splice.call(ee,ve,1),Ye&&(qe(N),0==C.a[j].length&&(delete C.a[j],C.b--))}}function mn(C,N,j,ee){for(var ve=0;ve<C.length;++ve){var Ye=C[ve];if(!Ye.Y&&Ye.listener==N&&Ye.capture==!!j&&Ye.ca==ee)return ve}return-1}Fe.prototype.add=function(C,N,j,ee,ve){var Ye=C.toString();(C=this.a[Ye])||(C=this.a[Ye]=[],this.b++);var Rt=mn(C,N,ee,ve);return-1<Rt?(N=C[Rt],j||(N.Z=!1)):((N=new Ee(N,this.src,Ye,!!ee,ve)).Z=j,C.push(N)),N};var jt="closure_lm_"+(1e6*Math.random()|0),Xt={};function Ht(C,N,j,ee,ve){if(ee&&ee.once)return $n(C,N,j,ee,ve);if(Array.isArray(N)){for(var Ye=0;Ye<N.length;Ye++)Ht(C,N[Ye],j,ee,ve);return null}return j=fe(j),C&&C[Te]?C.va(N,j,G(ee)?!!ee.capture:!!ee,ve):Ci(C,N,j,!1,ee,ve)}function Ci(C,N,j,ee,ve,Ye){if(!N)throw Error("Invalid event type");var Rt=G(ve)?!!ve.capture:!!ve;if(Rt&&!zi)return null;var Gn=_r(C);if(Gn||(C[jt]=Gn=new Fe(C)),(j=Gn.add(N,j,ee,Rt,Ye)).proxy)return j;if(ee=function vi(){var C=xi,N=zi?function(j){return C.call(N.src,N.listener,j)}:function(j){if(!(j=C.call(N.src,N.listener,j)))return j};return N}(),j.proxy=ee,ee.src=C,ee.listener=j,C.addEventListener)sn||(ve=Rt),void 0===ve&&(ve=!1),C.addEventListener(N.toString(),ee,ve);else if(C.attachEvent)C.attachEvent(gr(N.toString()),ee);else{if(!C.addListener||!C.removeListener)throw Error("addEventListener and attachEvent are unavailable.");C.addListener(ee)}return j}function $n(C,N,j,ee,ve){if(Array.isArray(N)){for(var Ye=0;Ye<N.length;Ye++)$n(C,N[Ye],j,ee,ve);return null}return j=fe(j),C&&C[Te]?C.wa(N,j,G(ee)?!!ee.capture:!!ee,ve):Ci(C,N,j,!0,ee,ve)}function Li(C,N,j,ee,ve){if(Array.isArray(N))for(var Ye=0;Ye<N.length;Ye++)Li(C,N[Ye],j,ee,ve);else ee=G(ee)?!!ee.capture:!!ee,j=fe(j),C&&C[Te]?(C=C.c,(N=String(N).toString())in C.a&&-1<(j=mn(Ye=C.a[N],j,ee,ve))&&(qe(Ye[j]),Array.prototype.splice.call(Ye,j,1),0==Ye.length&&(delete C.a[N],C.b--))):C&&(C=_r(C))&&(N=C.a[N.toString()],C=-1,N&&(C=mn(N,j,ee,ve)),(j=-1<C?N[C]:null)&&qn(j))}function qn(C){if("number"!=typeof C&&C&&!C.Y){var N=C.src;if(N&&N[Te])xt(N.c,C);else{var j=C.type,ee=C.proxy;N.removeEventListener?N.removeEventListener(j,ee,C.capture):N.detachEvent?N.detachEvent(gr(j),ee):N.addListener&&N.removeListener&&N.removeListener(ee),(j=_r(N))?(xt(j,C),0==j.b&&(j.src=null,N[jt]=null)):qe(C)}}}function gr(C){return C in Xt?Xt[C]:Xt[C]="on"+C}function pi(C,N){var j=C.listener,ee=C.ca||C.src;return C.Z&&qn(C),j.call(ee,N)}function xi(C,N){if(C.Y)return!0;if(!zi){if(!N)e:{N=["window","event"];for(var j=ke,ee=0;ee<N.length;ee++)if(null==(j=j[N[ee]])){N=null;break e}N=j}return pi(C,N=new Qt(N,this))}return pi(C,new Qt(N,this))}function _r(C){return(C=C[jt])instanceof Fe?C:null}var go="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(C){return"function"==Ve(C)?C:(C[go]||(C[go]=function(N){return C.handleEvent(N)}),C[go])}function le(){xe.call(this),this.c=new Fe(this),this.J=this,this.C=null}function X(C,N,j,ee){if(!(N=C.c.a[String(N)]))return!0;N=N.concat();for(var ve=!0,Ye=0;Ye<N.length;++Ye){var Rt=N[Ye];if(Rt&&!Rt.Y&&Rt.capture==j){var Gn=Rt.listener,ti=Rt.ca||Rt.src;Rt.Z&&xt(C.c,Rt),ve=!1!==Gn.call(ti,ee)&&ve}}return ve&&!ee.defaultPrevented}Ze(le,xe),le.prototype[Te]=!0,(ce=le.prototype).addEventListener=function(C,N,j,ee){Ht(this,C,N,j,ee)},ce.removeEventListener=function(C,N,j,ee){Li(this,C,N,j,ee)},ce.dispatchEvent=function(C){var N,j=this.C;if(j)for(N=[];j;j=j.C)N.push(j);j=this.J;var ee=C.type||C;if("string"==typeof C)C=new Yt(C,j);else if(C instanceof Yt)C.target=C.target||j;else{var ve=C;He(C=new Yt(ee,j),ve)}if(ve=!0,N)for(var Ye=N.length-1;0<=Ye;Ye--){var Rt=C.a=N[Ye];ve=X(Rt,ee,!0,C)&&ve}if(ve=X(Rt=C.a=j,ee,!0,C)&&ve,ve=X(Rt,ee,!1,C)&&ve,N)for(Ye=0;Ye<N.length;Ye++)ve=X(Rt=C.a=N[Ye],ee,!1,C)&&ve;return ve},ce.G=function(){if(le.S.G.call(this),this.c){var N,C=this.c;for(N in C.a){for(var j=C.a[N],ee=0;ee<j.length;ee++)qe(j[ee]);delete C.a[N],C.b--}}this.C=null},ce.va=function(C,N,j,ee){return this.c.add(String(C),N,!1,j,ee)},ce.wa=function(C,N,j,ee){return this.c.add(String(C),N,!0,j,ee)};var te=ke.JSON.stringify;function Y(){this.b=this.a=null}var Xn,Ae=new(function(){function C(N,j,ee){this.f=ee,this.c=N,this.g=j,this.b=0,this.a=null}return C.prototype.get=function(){var N;return 0<this.b?(this.b--,this.a=(N=this.a).next,N.next=null):N=this.c(),N},C}())(function(){return new Dt},function(C){C.reset()},100);function Qe(){var C=Nn,N=null;return C.a&&(N=C.a,C.a=C.a.next,C.a||(C.b=null),N.next=null),N}function Dt(){this.next=this.b=this.a=null}function yn(C){ke.setTimeout(function(){throw C},0)}function Vt(C,N){Xn||function xn(){var C=ke.Promise.resolve(void 0);Xn=function(){C.then(vr)}}(),ai||(Xn(),ai=!0),Nn.add(C,N)}Y.prototype.add=function(C,N){var j=Ae.get();j.set(C,N),this.b?this.b.next=j:this.a=j,this.b=j},Dt.prototype.set=function(C,N){this.a=C,this.b=N,this.next=null},Dt.prototype.reset=function(){this.next=this.b=this.a=null};var ai=!1,Nn=new Y;function vr(){for(var C;C=Qe();){try{C.a.call(C.b)}catch(j){yn(j)}var N=Ae;N.g(C),N.b<N.f&&(N.b++,C.next=N.a,N.a=C)}ai=!1}function Ko(C,N){le.call(this),this.b=C||1,this.a=N||ke,this.f=mt(this.Ya,this),this.g=at()}function Je(C){C.aa=!1,C.M&&(C.a.clearTimeout(C.M),C.M=null)}function ze(C,N,j){if("function"==Ve(C))j&&(C=mt(C,j));else{if(!C||"function"!=typeof C.handleEvent)throw Error("Invalid listener argument");C=mt(C.handleEvent,C)}return 2147483647<Number(N)?-1:ke.setTimeout(C,N||0)}function _t(C){C.a=ze(function(){C.a=null,C.c&&(C.c=!1,_t(C))},C.h);var N=C.b;C.b=null,C.g.apply(null,N)}Ze(Ko,le),(ce=Ko.prototype).aa=!1,ce.M=null,ce.Ya=function(){if(this.aa){var C=at()-this.g;0<C&&C<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-C):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Je(this),this.start()))}},ce.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=at())},ce.G=function(){Ko.S.G.call(this),Je(this),delete this.a};var Zt=function(C){function N(j,ee,ve){var Ye=C.call(this)||this;return Ye.g=null!=ve?j.bind(ve):j,Ye.h=ee,Ye.b=null,Ye.c=!1,Ye.a=null,Ye}return function U(C,N){function j(){this.constructor=C}a(C,N),C.prototype=null===N?Object.create(N):(j.prototype=N.prototype,new j)}(N,C),N.prototype.f=function(j){this.b=arguments,this.a?this.c=!0:_t(this)},N.prototype.G=function(){C.prototype.G.call(this),this.a&&(ke.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},N}(xe);function Pt(C){xe.call(this),this.b=C,this.a={}}Ze(Pt,xe);var kn=[];function ri(C,N,j,ee){Array.isArray(j)||(j&&(kn[0]=j.toString()),j=kn);for(var ve=0;ve<j.length;ve++){var Ye=Ht(N,j[ve],ee||C.handleEvent,!1,C.b||C);if(!Ye)break;C.a[Ye.key]=Ye}}function Gi(C){fi(C.a,function(N,j){this.a.hasOwnProperty(j)&&qn(N)},C),C.a={}}function Zi(){this.a=!0}function _o(C,N,j,ee){C.info(function(){return"XMLHTTP TEXT ("+N+"): "+function Yo(C,N){if(!C.a)return N;if(!N)return null;try{var j=JSON.parse(N);if(j)for(C=0;C<j.length;C++)if(Array.isArray(j[C])){var ee=j[C];if(!(2>ee.length)){var ve=ee[1];if(Array.isArray(ve)&&!(1>ve.length)){var Ye=ve[0];if("noop"!=Ye&&"stop"!=Ye&&"close"!=Ye)for(var Rt=1;Rt<ve.length;Rt++)ve[Rt]=""}}}return te(j)}catch{return N}}(C,j)+(ee?" "+ee:"")})}Pt.prototype.G=function(){Pt.S.G.call(this),Gi(this)},Pt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zi.prototype.info=function(){};var ls=null;function vs(){return ls=ls||new le}function Qo(C){Yt.call(this,"serverreachability",C)}function jn(C){var N=vs();N.dispatchEvent(new Qo(N,C))}function Ai(C){Yt.call(this,"statevent",C)}function vo(C){var N=vs();N.dispatchEvent(new Ai(N,C))}function ki(C){Yt.call(this,"timingevent",C)}function Cc(C,N){if("function"!=Ve(C))throw Error("Fn must not be null and must be a function");return ke.setTimeout(function(){C()},N)}Ze(Qo,Yt),Ze(Ai,Yt),Ze(ki,Yt);var Xa={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},$r={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function Ls(){}function Ju(){}Ls.prototype.a=null;var Us,ra={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function xc(){Yt.call(this,"d")}function Ec(){Yt.call(this,"c")}function oa(){}function sl(C,N,j,ee){this.g=C,this.c=N,this.f=j,this.T=ee||1,this.J=new Pt(this),this.P=No,this.R=new Ko(C=Sn?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}Ze(xc,Yt),Ze(Ec,Yt),Ze(oa,Ls),Us=new oa;var No=45e3,yo={},yr={};function tc(C,N,j){C.H=1,C.i=Jo(Et(N)),C.j=j,C.I=!0,sa(C,null)}function sa(C,N){C.u=at(),aa(C),C.l=Et(C.i);var j=C.l,ee=C.T;Array.isArray(ee)||(ee=[String(ee)]),Vi(j.b,"t",ee),C.D=0,C.a=zs(C.g,C.g.C?N:null),0<C.O&&(C.F=new Zt(mt(C.Ca,C,C.a),C.O)),ri(C.J,C.a,"readystatechange",C.Wa),N=C.B?Se(C.B):{},C.j?(C.m||(C.m="POST"),N["Content-Type"]="application/x-www-form-urlencoded",C.a.ba(C.l,C.m,C.j,N)):(C.m="GET",C.a.ba(C.l,C.m,null,N)),jn(1),function er(C,N,j,ee,ve,Ye){C.info(function(){if(C.a)if(Ye)for(var Rt="",Gn=Ye.split("&"),ti=0;ti<Gn.length;ti++){var dr=Gn[ti].split("=");if(1<dr.length){var xo=dr[0];dr=dr[1];var ts=xo.split("_");Rt=2<=ts.length&&"type"==ts[1]?Rt+(xo+"=")+dr+"&":Rt+(xo+"=redacted&")}}else Rt=null;else Rt=Ye;return"XMLHTTP REQ ("+ee+") [attempt "+ve+"]: "+N+"\n"+j+"\n"+Rt})}(C.c,C.m,C.l,C.f,C.T,C.j)}function Ki(C,N,j){for(var ee=!0;!C.A&&C.D<j.length;){var ve=Ic(C,j);if(ve==yr){4==N&&(C.h=4,vo(14),ee=!1),_o(C.c,C.f,null,"[Incomplete Response]");break}if(ve==yo){C.h=4,vo(15),_o(C.c,C.f,j,"[Invalid Chunk]"),ee=!1;break}_o(C.c,C.f,ve,null),br(C,ve)}4==N&&0==j.length&&(C.h=1,vo(16),ee=!1),C.b=C.b&&ee,ee?0<j.length&&!C.W&&(C.W=!0,(N=C.g).a==C&&N.V&&!N.F&&(N.c.info("Great, no buffering proxy detected. Bytes received: "+j.length),Bo(N),N.F=!0)):(_o(C.c,C.f,j,"[Invalid Chunked Response]"),Ui(C),zn(C))}function Ic(C,N){var j=C.D,ee=N.indexOf("\n",j);return-1==ee?yr:(j=Number(N.substring(j,ee)),isNaN(j)?yo:(ee+=1)+j>N.length?yr:(N=N.substr(ee,j),C.D=ee+j,N))}function aa(C){C.U=at()+C.P,ys(C,C.P)}function ys(C,N){if(null!=C.o)throw Error("WatchDog timer not null");C.o=Cc(mt(C.Ua,C),N)}function nc(C){C.o&&(ke.clearTimeout(C.o),C.o=null)}function zn(C){0==C.g.v||C.A||Yr(C.g,C)}function Ui(C){nc(C);var N=C.F;N&&"function"==typeof N.ja&&N.ja(),C.F=null,Je(C.R),Gi(C.J),C.a&&(N=C.a,C.a=null,N.abort(),N.ja())}function br(C,N){try{var j=C.g;if(0!=j.v&&(j.a==C||rr(j.b,C)))if(j.I=C.N,!C.C&&rr(j.b,C)&&3==j.v){try{var ee=j.ka.a.parse(N)}catch{ee=null}if(Array.isArray(ee)&&3==ee.length){var ve=ee;if(0==ve[0]){e:if(!j.j){if(j.a){if(!(j.a.u+3e3<C.u))break e;Pa(j),bo(j)}Pc(j),vo(18)}}else j.oa=ve[1],0<j.oa-j.P&&37500>ve[2]&&j.H&&0==j.o&&!j.m&&(j.m=Cc(mt(j.Ra,j),6e3));if(1>=kr(j.b)&&j.ea){try{j.ea()}catch{}j.ea=void 0}}else wo(j,11)}else if((C.C||j.a==C)&&Pa(j),!Le(N))for(N=ee=j.ka.a.parse(N),ee=0;ee<N.length;ee++)if(j.P=(ve=N[ee])[0],ve=ve[1],2==j.v)if("c"==ve[0]){j.J=ve[1],j.ga=ve[2];var Ye=ve[3];null!=Ye&&(j.ha=Ye,j.c.info("VER="+j.ha));var Rt=ve[4];null!=Rt&&(j.pa=Rt,j.c.info("SVER="+j.pa));var Gn=ve[5];if(null!=Gn&&"number"==typeof Gn&&0<Gn){var ti=1.5*Gn;j.D=ti,j.c.info("backChannelRequestTimeoutMs_="+ti)}ti=j;var dr=C.a;if(dr){var xo=dr.a?dr.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(xo){var ts=ti.b;!ts.a&&(ot(xo,"spdy")||ot(xo,"quic")||ot(xo,"h2"))&&(ts.f=ts.g,ts.a=new Set,ts.b&&(Wr(ts,ts.b),ts.b=null))}if(ti.A){var Lc=dr.a?dr.a.getResponseHeader("X-HTTP-Session-Id"):null;Lc&&(ti.na=Lc,Pn(ti.B,ti.A,Lc))}}j.v=3,j.f&&j.f.ta(),j.V&&(j.N=at()-C.u,j.c.info("Handshake RTT: "+j.N+"ms"));var $s=C;if((ti=j).la=jl(ti,ti.C?ti.ga:null,ti.fa),$s.C){ua(ti.b,$s);var ul=$s,Eo=ti.D;Eo&&ul.setTimeout(Eo),ul.o&&(nc(ul),aa(ul)),ti.a=$s}else fa(ti);0<j.g.length&&Cs(j)}else"stop"!=ve[0]&&"close"!=ve[0]||wo(j,7);else 3==j.v&&("stop"==ve[0]||"close"==ve[0]?"stop"==ve[0]?wo(j,7):rc(j):"noop"!=ve[0]&&j.f&&j.f.sa(ve),j.o=0);jn(4)}catch{}}function wr(C,N){if(C.forEach&&"function"==typeof C.forEach)C.forEach(N,void 0);else if(z(C)||"string"==typeof C)it(C,N,void 0);else{if(C.L&&"function"==typeof C.L)var j=C.L();else if(C.K&&"function"==typeof C.K)j=void 0;else if(z(C)||"string"==typeof C){j=[];for(var ee=C.length,ve=0;ve<ee;ve++)j.push(ve)}else for(ve in j=[],ee=0,C)j[ee++]=ve;ee=function Ma(C){if(C.K&&"function"==typeof C.K)return C.K();if("string"==typeof C)return C.split("");if(z(C)){for(var N=[],j=C.length,ee=0;ee<j;ee++)N.push(C[ee]);return N}for(ee in N=[],j=0,C)N[j++]=C[ee];return N}(C),ve=ee.length;for(var Ye=0;Ye<ve;Ye++)N.call(void 0,ee[Ye],j&&j[Ye],C)}}function Tc(C,N){this.b={},this.a=[],this.c=0;var j=arguments.length;if(1<j){if(j%2)throw Error("Uneven number of arguments");for(var ee=0;ee<j;ee+=2)this.set(arguments[ee],arguments[ee+1])}else if(C)if(C instanceof Tc)for(j=C.L(),ee=0;ee<j.length;ee++)this.set(j[ee],C.get(j[ee]));else for(ee in C)this.set(ee,C[ee])}function Sc(C){if(C.c!=C.a.length){for(var N=0,j=0;N<C.a.length;){var ee=C.a[N];Fo(C.b,ee)&&(C.a[j++]=ee),N++}C.a.length=j}if(C.c!=C.a.length){var ve={};for(j=N=0;N<C.a.length;)Fo(ve,ee=C.a[N])||(C.a[j++]=ee,ve[ee]=1),N++;C.a.length=j}}function Fo(C,N){return Object.prototype.hasOwnProperty.call(C,N)}(ce=sl.prototype).setTimeout=function(C){this.P=C},ce.Wa=function(C){C=C.target;var N=this.F;N&&3==mi(C)?N.f():this.Ca(C)},ce.Ca=function(C){try{if(C==this.a)e:{var N=mi(this.a),j=this.a.ua(),ee=this.a.X();if(!(3>N||3==N&&!Sn&&!this.a.$())){this.A||4!=N||7==j||jn(8==j||0>=ee?3:2),nc(this);var ve=this.a.X();this.N=ve;var Ye=this.a.$();if(this.b=200==ve,function Ur(C,N,j,ee,ve,Ye,Rt){C.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+ve+"]: "+N+"\n"+j+"\n"+Ye+" "+Rt})}(this.c,this.m,this.l,this.f,this.T,N,ve),this.b){if(this.V&&!this.C){t:{if(this.a){var Rt,Gn=this.a;if((Rt=Gn.a?Gn.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Le(Rt)){var ti=Rt;break t}}ti=null}if(!ti){this.b=!1,this.h=3,vo(12),Ui(this),zn(this);break e}_o(this.c,this.f,ti,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,br(this,ti)}this.I?(Ki(this,N,Ye),Sn&&this.b&&3==N&&(ri(this.J,this.R,"tick",this.Va),this.R.start())):(_o(this.c,this.f,Ye,null),br(this,Ye)),4==N&&Ui(this),this.b&&!this.A&&(4==N?Yr(this.g,this):(this.b=!1,aa(this)))}else 400==ve&&0<Ye.indexOf("Unknown SID")?(this.h=3,vo(12)):(this.h=0,vo(13)),Ui(this),zn(this)}}}catch{}},ce.Va=function(){if(this.a){var C=mi(this.a),N=this.a.$();this.D<N.length&&(nc(this),Ki(this,C,N),this.b&&4!=C&&aa(this))}},ce.cancel=function(){this.A=!0,Ui(this)},ce.Ua=function(){this.o=null;var C=at();0<=C-this.U?(function Da(C,N){C.info(function(){return"TIMEOUT: "+N})}(this.c,this.l),2!=this.H&&(jn(3),vo(17)),Ui(this),this.h=2,zn(this)):ys(this,this.U-C)},(ce=Tc.prototype).K=function(){Sc(this);for(var C=[],N=0;N<this.a.length;N++)C.push(this.b[this.a[N]]);return C},ce.L=function(){return Sc(this),this.a.concat()},ce.get=function(C,N){return Fo(this.b,C)?this.b[C]:N},ce.set=function(C,N){Fo(this.b,C)||(this.c++,this.a.push(C)),this.b[C]=N},ce.forEach=function(C,N){for(var j=this.L(),ee=0;ee<j.length;ee++){var ve=j[ee],Ye=this.get(ve);C.call(N,Ye,ve,this)}};var Vs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Oi(C,N){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,C instanceof Oi){this.a=void 0!==N?N:C.a,En(this,C.f),this.j=C.j,Ei(this,C.c),so(this,C.h),this.g=C.g,N=C.b;var j=new Er;j.c=N.c,N.a&&(j.a=new Tc(N.a),j.b=N.b),Bs(this,j),this.i=C.i}else C&&(j=String(C).match(Vs))?(this.a=!!N,En(this,j[1]||"",!0),this.j=Xo(j[2]||""),Ei(this,j[3]||"",!0),so(this,j[4]),this.g=Xo(j[5]||"",!0),Bs(this,j[6]||"",!0),this.i=Xo(j[7]||"")):(this.a=!!N,this.b=new Er(null,this.a))}function Et(C){return new Oi(C)}function En(C,N,j){C.f=j?Xo(N,!0):N,C.f&&(C.f=C.f.replace(/:$/,""))}function Ei(C,N,j){C.c=j?Xo(N,!0):N}function so(C,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);C.h=N}else C.h=null}function Bs(C,N,j){N instanceof Er?(C.b=N,function Gr(C,N){N&&!C.f&&(Ir(C),C.c=null,C.a.forEach(function(j,ee){var ve=ee.toLowerCase();ee!=ve&&(la(this,ee),Vi(this,ve,j))},C)),C.f=N}(C.b,C.a)):(j||(N=on(N,bs)),C.b=new Er(N,C.a))}function Pn(C,N,j){C.b.set(N,j)}function Jo(C){return Pn(C,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^at()).toString(36)),C}function Xo(C,N){return C?N?decodeURI(C.replace(/%25/g,"%2525")):decodeURIComponent(C):""}function on(C,N,j){return"string"==typeof C?(C=encodeURI(C).replace(N,qr),j&&(C=C.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C):null}function qr(C){return"%"+((C=C.charCodeAt(0))>>4&15).toString(16)+(15&C).toString(16)}Oi.prototype.toString=function(){var C=[],N=this.f;N&&C.push(on(N,Ll,!0),":");var j=this.c;return(j||"file"==N)&&(C.push("//"),(N=this.j)&&C.push(on(N,Ll,!0),"@"),C.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(j=this.h)&&C.push(":",String(j))),(j=this.g)&&(this.c&&"/"!=j.charAt(0)&&C.push("/"),C.push(on(j,"/"==j.charAt(0)?xr:Cr,!0))),(j=this.b.toString())&&C.push("?",j),(j=this.i)&&C.push("#",on(j,Lo)),C.join("")};var Ll=/[#\/\?@]/g,Cr=/[#\?:]/g,xr=/[#\?]/g,bs=/[#\?@]/g,Lo=/#/g;function Er(C,N){this.b=this.a=null,this.c=C||null,this.f=!!N}function Ir(C){C.a||(C.a=new Tc,C.b=0,C.c&&function Dc(C,N){if(C){C=C.split("&");for(var j=0;j<C.length;j++){var ee=C[j].indexOf("="),ve=null;if(0<=ee){var Ye=C[j].substring(0,ee);ve=C[j].substring(ee+1)}else Ye=C[j];N(Ye,ve?decodeURIComponent(ve.replace(/\+/g," ")):"")}}}(C.c,function(N,j){C.add(decodeURIComponent(N.replace(/\+/g," ")),j)}))}function la(C,N){Ir(C),N=Uo(C,N),Fo(C.a.b,N)&&(C.c=null,C.b-=C.a.get(N).length,Fo((C=C.a).b,N)&&(delete C.b[N],C.c--,C.a.length>2*C.c&&Sc(C)))}function Aa(C,N){return Ir(C),N=Uo(C,N),Fo(C.a.b,N)}function Vi(C,N,j){la(C,N),0<j.length&&(C.c=null,C.a.set(Uo(C,N),Ge(j)),C.b+=j.length)}function Uo(C,N){return N=String(N),C.f&&(N=N.toLowerCase()),N}function ei(C,N){this.b=C,this.a=N}function Mc(C){this.g=C||gu,C=ke.PerformanceNavigationTiming?0<(C=ke.performance.getEntriesByType("navigation")).length&&("hq"==C[0].nextHopProtocol||"h2"==C[0].nextHopProtocol):!!(ke.ia&&ke.ia.ya&&ke.ia.ya()&&ke.ia.ya().qb),this.f=C?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(ce=Er.prototype).add=function(C,N){Ir(this),this.c=null,C=Uo(this,C);var j=this.a.get(C);return j||this.a.set(C,j=[]),j.push(N),this.b+=1,this},ce.forEach=function(C,N){Ir(this),this.a.forEach(function(j,ee){it(j,function(ve){C.call(N,ve,ee,this)},this)},this)},ce.L=function(){Ir(this);for(var C=this.a.K(),N=this.a.L(),j=[],ee=0;ee<N.length;ee++)for(var ve=C[ee],Ye=0;Ye<ve.length;Ye++)j.push(N[ee]);return j},ce.K=function(C){Ir(this);var N=[];if("string"==typeof C)Aa(this,C)&&(N=ue(N,this.a.get(Uo(this,C))));else{C=this.a.K();for(var j=0;j<C.length;j++)N=ue(N,C[j])}return N},ce.set=function(C,N){return Ir(this),this.c=null,Aa(this,C=Uo(this,C))&&(this.b-=this.a.get(C).length),this.a.set(C,[N]),this.b+=1,this},ce.get=function(C,N){return C&&0<(C=this.K(C)).length?String(C[0]):N},ce.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var C=[],N=this.a.L(),j=0;j<N.length;j++){var ee=N[j],ve=encodeURIComponent(String(ee));ee=this.K(ee);for(var Ye=0;Ye<ee.length;Ye++){var Rt=ve;""!==ee[Ye]&&(Rt+="="+encodeURIComponent(String(ee[Ye]))),C.push(Rt)}}return this.c=C.join("&")};var gu=10;function ka(C){return!!C.b||!!C.a&&C.a.size>=C.f}function kr(C){return C.b?1:C.a?C.a.size:0}function rr(C,N){return C.b?C.b==N:!!C.a&&C.a.has(N)}function Wr(C,N){C.a?C.a.add(N):C.b=N}function ua(C,N){C.b&&C.b==N?C.b=null:C.a&&C.a.has(N)&&C.a.delete(N)}function Hi(C){var N,j;if(null!=C.b)return C.c.concat(C.b.s);if(null!=C.a&&0!==C.a.size){var ee=C.c;try{for(var ve=K(C.a.values()),Ye=ve.next();!Ye.done;Ye=ve.next())ee=ee.concat(Ye.value.s)}catch(Gn){N={error:Gn}}finally{try{Ye&&!Ye.done&&(j=ve.return)&&j.call(ve)}finally{if(N)throw N.error}}return ee}return Ge(C.c)}function al(){}function Zr(){this.a=new al}function Tr(C,N,j){var ee=j||"";try{wr(C,function(ve,Ye){var Rt=ve;G(ve)&&(Rt=te(ve)),N.push(ee+Ye+"="+encodeURIComponent(Rt))})}catch(ve){throw N.push(ee+"type="+encodeURIComponent("_badmap")),ve}}function Or(C,N,j,ee,ve){try{N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null,ve(ee)}catch{}}Mc.prototype.cancel=function(){var C,N;if(this.c=Hi(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var j=K(this.a.values()),ee=j.next();!ee.done;ee=j.next())ee.value.cancel()}catch(Ye){C={error:Ye}}finally{try{ee&&!ee.done&&(N=j.return)&&N.call(j)}finally{if(C)throw C.error}}this.a.clear()}},al.prototype.stringify=function(C){return ke.JSON.stringify(C,void 0)},al.prototype.parse=function(C){return ke.JSON.parse(C,void 0)};var Kr=ke.JSON.parse;function di(C){le.call(this),this.headers=new Tc,this.H=C||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=da,this.D=this.F=!1}Ze(di,le);var da="",oi=/^https?$/i,Pr=["POST","PUT"];function ws(C){return"content-type"==C.toLowerCase()}function Ac(C,N){C.b=!1,C.a&&(C.g=!0,C.a.abort(),C.g=!1),C.f=N,C.h=5,Oa(C),ic(C)}function Oa(C){C.u||(C.u=!0,C.dispatchEvent("complete"),C.dispatchEvent("error"))}function kc(C){if(C.b&&typeof Pe<"u"&&(!C.s[1]||4!=mi(C)||2!=C.X()))if(C.l&&4==mi(C))ze(C.za,0,C);else if(C.dispatchEvent("readystatechange"),4==mi(C)){C.b=!1;try{var ee,N=C.X();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}if(!(ee=j)){var ve;if(ve=0===N){var Ye=String(C.B).match(Vs)[1]||null;if(!Ye&&ke.self&&ke.self.location){var Rt=ke.self.location.protocol;Ye=Rt.substr(0,Rt.length-1)}ve=!oi.test(Ye?Ye.toLowerCase():"")}ee=ve}if(ee)C.dispatchEvent("complete"),C.dispatchEvent("success");else{C.h=6;try{var Gn=2<mi(C)?C.a.statusText:""}catch{Gn=""}C.f=Gn+" ["+C.X()+"]",Oa(C)}}finally{ic(C)}}}function ic(C,N){if(C.a){Vl(C);var j=C.a,ee=C.s[0]?ut:null;C.a=null,C.s=null,N||C.dispatchEvent("ready");try{j.onreadystatechange=ee}catch{}}}function Vl(C){C.a&&C.D&&(C.a.ontimeout=null),C.m&&(ke.clearTimeout(C.m),C.m=null)}function mi(C){return C.a?C.a.readyState:0}function Oc(C,N,j){e:{for(ee in j){var ee=!1;break e}ee=!0}ee||(j=function _u(C){var N="";return fi(C,function(j,ee){N+=ee,N+=":",N+=j,N+="\r\n"}),N}(j),"string"==typeof C?null!=j&&encodeURIComponent(String(j)):Pn(C,N,j))}function Vo(C,N,j){return j&&j.internalChannelParams&&j.internalChannelParams[C]||N}function Yd(C){this.pa=0,this.g=[],this.c=new Zi,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Vo("failFast",!1,C),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Vo("baseRetryDelayMs",5e3,C),this.Ma=Vo("retryDelaySeedMs",1e4,C),this.Ja=Vo("forwardChannelMaxRetries",2,C),this.ma=Vo("forwardChannelRequestTimeoutMs",2e4,C),this.Ka=C&&C.g||void 0,this.D=void 0,this.C=C&&C.supportsCrossDomainXhr||!1,this.J="",this.b=new Mc(C&&C.concurrentRequestLimit),this.ka=new Zr,this.da=C&&C.fastHandshake||!1,this.Ga=C&&C.b||!1,C&&C.f&&(this.c.a=!1),C&&C.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&C&&C.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function rc(C){if(oc(C),3==C.v){var N=C.R++,j=Et(C.B);Pn(j,"SID",C.J),Pn(j,"RID",N),Pn(j,"TYPE","terminate"),Rr(C,j),(N=new sl(C,C.c,N,void 0)).H=2,N.i=Jo(Et(j)),j=!1,ke.navigator&&ke.navigator.sendBeacon&&(j=ke.navigator.sendBeacon(N.i.toString(),"")),!j&&ke.Image&&((new Image).src=N.i,j=!0),j||(N.a=zs(N.g,null),N.a.ba(N.i)),N.u=at(),aa(N)}sc(C)}function bo(C){C.a&&(Bo(C),C.a.cancel(),C.a=null)}function oc(C){bo(C),C.j&&(ke.clearTimeout(C.j),C.j=null),Pa(C),C.b.cancel(),C.h&&("number"==typeof C.h&&ke.clearTimeout(C.h),C.h=null)}function ha(C,N){C.g.push(new ei(C.La++,N)),3==C.v&&Cs(C)}function Cs(C){ka(C.b)||C.h||(C.h=!0,Vt(C.Ba,C),C.u=0)}function vu(C,N){var j;j=N?N.f:C.R++;var ee=Et(C.B);Pn(ee,"SID",C.J),Pn(ee,"RID",j),Pn(ee,"AID",C.P),Rr(C,ee),C.i&&C.l&&Oc(ee,C.i,C.l),j=new sl(C,C.c,j,C.u+1),null===C.i&&(j.B=C.l),N&&(C.g=N.s.concat(C.g)),N=js(C,j,1e3),j.setTimeout(Math.round(.5*C.ma)+Math.round(.5*C.ma*Math.random())),Wr(C.b,j),tc(j,ee,N)}function Rr(C,N){C.f&&wr({},function(j,ee){Pn(N,ee,j)})}function js(C,N,j){j=Math.min(C.g.length,j);var ee=C.f?mt(C.f.Ha,C.f,C):null;e:for(var ve=C.g,Ye=-1;;){var Rt=["count="+j];-1==Ye?0<j?Rt.push("ofs="+(Ye=ve[0].b)):Ye=0:Rt.push("ofs="+Ye);for(var Gn=!0,ti=0;ti<j;ti++){var dr=ve[ti].b,xo=ve[ti].a;if(0>(dr-=Ye))Ye=Math.max(0,ve[ti].b-100),Gn=!1;else try{Tr(xo,Rt,"req"+dr+"_")}catch{ee&&ee(xo)}}if(Gn){ee=Rt.join("&");break e}}return C=C.g.splice(0,j),N.s=C,ee}function fa(C){C.a||C.j||(C.U=1,Vt(C.Aa,C),C.o=0)}function Pc(C){return!(C.a||C.j||3<=C.o||(C.U++,C.j=Cc(mt(C.Aa,C),Rc(C,C.o)),C.o++,0))}function Bo(C){null!=C.s&&(ke.clearTimeout(C.s),C.s=null)}function ur(C){C.a=new sl(C,C.c,"rpc",C.U),null===C.i&&(C.a.B=C.l),C.a.O=0;var N=Et(C.la);Pn(N,"RID","rpc"),Pn(N,"SID",C.J),Pn(N,"CI",C.H?"0":"1"),Pn(N,"AID",C.P),Rr(C,N),Pn(N,"TYPE","xmlhttp"),C.i&&C.l&&Oc(N,C.i,C.l),C.D&&C.a.setTimeout(C.D);var j=C.a;C=C.ga,j.H=1,j.i=Jo(Et(N)),j.j=null,j.I=!0,sa(j,C)}function Pa(C){null!=C.m&&(ke.clearTimeout(C.m),C.m=null)}function Yr(C,N){var j=null;if(C.a==N){Pa(C),Bo(C),C.a=null;var ee=2}else{if(!rr(C.b,N))return;j=N.s,ua(C.b,N),ee=1}if(C.I=N.N,0!=C.v)if(N.b)if(1==ee){j=N.j?N.j.length:0,N=at()-N.u;var ve=C.u;(ee=vs()).dispatchEvent(new ki(ee,j,N,ve)),Cs(C)}else fa(C);else if(3==(ve=N.h)||0==ve&&0<C.I||!(1==ee&&function Bl(C,N){return!(kr(C.b)>=C.b.f-(C.h?1:0)||(C.h?(C.g=N.s.concat(C.g),0):1==C.v||2==C.v||C.u>=(C.Ia?0:C.Ja)||(C.h=Cc(mt(C.Ba,C,N),Rc(C,C.u)),C.u++,0)))}(C,N)||2==ee&&Pc(C)))switch(j&&0<j.length&&(N=C.b,N.c=N.c.concat(j)),ve){case 1:wo(C,5);break;case 4:wo(C,10);break;case 3:wo(C,6);break;default:wo(C,2)}}function Rc(C,N){var j=C.Fa+Math.floor(Math.random()*C.Ma);return C.f||(j*=2),j*N}function wo(C,N){if(C.c.info("Error code "+N),2==N){var j=null;C.f&&(j=null);var ee=mt(C.Xa,C);j||(j=new Oi("//www.google.com/images/cleardot.gif"),ke.location&&"http"==ke.location.protocol||En(j,"https"),Jo(j)),function cl(C,N){var j=new Zi;if(ke.Image){var ee=new Image;ee.onload=Re(Or,j,ee,"TestLoadImage: loaded",!0,N),ee.onerror=Re(Or,j,ee,"TestLoadImage: error",!1,N),ee.onabort=Re(Or,j,ee,"TestLoadImage: abort",!1,N),ee.ontimeout=Re(Or,j,ee,"TestLoadImage: timeout",!1,N),ke.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=C}else N(!1)}(j.toString(),ee)}else vo(2);C.v=0,C.f&&C.f.ra(N),sc(C),oc(C)}function sc(C){C.v=0,C.I=-1,C.f&&((0!=Hi(C.b).length||0!=C.g.length)&&(C.b.c.length=0,Ge(C.g),C.g.length=0),C.f.qa())}function jl(C,N,j){var ee=function Pi(C){return C instanceof Oi?Et(C):new Oi(C,void 0)}(j);if(""!=ee.c)N&&Ei(ee,N+"."+ee.c),so(ee,ee.h);else{var ve=ke.location;ee=function ca(C,N,j,ee){var ve=new Oi(null,void 0);return C&&En(ve,C),N&&Ei(ve,N),j&&so(ve,j),ee&&(ve.g=ee),ve}(ve.protocol,N?N+"."+ve.hostname:ve.hostname,+ve.port,j)}return C.W&&fi(C.W,function(Ye,Rt){Pn(ee,Rt,Ye)}),j=C.na,(N=C.A)&&j&&Pn(ee,N,j),Pn(ee,"VER",C.ha),Rr(C,ee),ee}function zs(C,N){if(N&&!C.C)throw Error("Can't create secondary domain capable XhrIo object.");return(N=new di(C.Ka)).F=C.C,N}function pa(){}function ll(){if(Mt&&!(10<=Number(ni)))throw Error("Environmental error: no available transport.")}function yi(C,N){le.call(this),this.a=new Yd(N),this.l=C,this.b=N&&N.messageUrlParams||null,C=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(C?C["X-Client-Protocol"]="webchannel":C={"X-Client-Protocol":"webchannel"}),this.a.l=C,C=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(C?C["X-WebChannel-Content-Type"]=N.messageContentType:C={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.a&&(C?C["X-WebChannel-Client-Profile"]=N.a:C={"X-WebChannel-Client-Profile":N.a}),this.a.O=C,(C=N&&N.httpHeadersOverwriteParam)&&!Le(C)&&(this.a.i=C),this.h=N&&N.supportsCrossDomainXhr||!1,this.g=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!Le(N)&&(this.a.A=N,null!==(C=this.b)&&N in C&&N in(C=this.b)&&delete C[N]),this.f=new It(this)}function jo(C){xc.call(this);var N=C.__sm__;if(N){e:{for(var j in N){C=j;break e}C=void 0}(this.c=C)?(C=this.c,this.data=null!==N&&C in N?N[C]:void 0):this.data=N}else this.data=C}function Ra(){Ec.call(this),this.status=1}function It(C){this.a=C}(ce=di.prototype).ba=function(C,N,j,ee){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+C);N=N?N.toUpperCase():"GET",this.B=C,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function ec(C){var N;return(N=C.a)||(N=C.a={}),N}(this.H?this.H:Us),this.a.onreadystatechange=mt(this.za,this);try{this.A=!0,this.a.open(N,String(C),!0),this.A=!1}catch(Ye){return void Ac(this,Ye)}C=j||"";var ve=new Tc(this.headers);ee&&wr(ee,function(Ye,Rt){ve.set(Rt,Ye)}),ee=function he(C){e:{for(var N=ws,j=C.length,ee="string"==typeof C?C.split(""):C,ve=0;ve<j;ve++)if(ve in ee&&N.call(void 0,ee[ve],ve,C)){N=ve;break e}N=-1}return 0>N?null:"string"==typeof C?C.charAt(N):C[N]}(ve.L()),j=ke.FormData&&C instanceof ke.FormData,!(0<=$e(Pr,N))||ee||j||ve.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),ve.forEach(function(Ye,Rt){this.a.setRequestHeader(Rt,Ye)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Vl(this),0<this.o&&((this.D=function Ul(C){return Mt&&Vn(9)&&"number"==typeof C.timeout&&void 0!==C.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=mt(this.xa,this)):this.m=ze(this.xa,this.o,this)),this.l=!0,this.a.send(C),this.l=!1}catch(Ye){Ac(this,Ye)}},ce.xa=function(){typeof Pe<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},ce.abort=function(C){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=C||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ic(this))},ce.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ic(this,!0)),di.S.G.call(this)},ce.za=function(){this.j||(this.A||this.l||this.g?kc(this):this.Ta())},ce.Ta=function(){kc(this)},ce.X=function(){try{return 2<mi(this)?this.a.status:-1}catch{return-1}},ce.$=function(){try{return this.a?this.a.responseText:""}catch{return""}},ce.Na=function(C){if(this.a){var N=this.a.responseText;return C&&0==N.indexOf(C)&&(N=N.substring(C.length)),Kr(N)}},ce.ua=function(){return this.h},ce.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ce=Yd.prototype).ha=8,ce.v=1,ce.Ba=function(C){if(this.h)if(this.h=null,1==this.v){if(!C){this.R=Math.floor(1e5*Math.random()),C=this.R++;var ee,N=new sl(this,this.c,C,void 0),j=this.l;if(this.O&&(j?He(j=Se(j),this.O):j=this.O),null===this.i&&(N.B=j),this.da)e:{for(var ve=ee=0;ve<this.g.length;ve++){var Ye=this.g[ve];if(void 0===(Ye="__data__"in Ye.a&&"string"==typeof(Ye=Ye.a.__data__)?Ye.length:void 0))break;if(4096<(ee+=Ye)){ee=ve;break e}if(4096===ee||ve===this.g.length-1){ee=ve+1;break e}}ee=1e3}else ee=1e3;ee=js(this,N,ee),Pn(ve=Et(this.B),"RID",C),Pn(ve,"CVER",22),this.A&&Pn(ve,"X-HTTP-Session-Id",this.A),Rr(this,ve),this.i&&j&&Oc(ve,this.i,j),Wr(this.b,N),this.Ga&&Pn(ve,"TYPE","init"),this.da?(Pn(ve,"$req",ee),Pn(ve,"SID","null"),N.V=!0,tc(N,ve,null)):tc(N,ve,ee),this.v=2}}else 3==this.v&&(C?vu(this,C):0==this.g.length||ka(this.b)||vu(this))},ce.Aa=function(){if(this.j=null,ur(this),this.V&&!(this.F||null==this.a||0>=this.N)){var C=2*this.N;this.c.info("BP detection timer enabled: "+C),this.s=Cc(mt(this.Sa,this),C)}},ce.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,bo(this),ur(this))},ce.Ra=function(){null!=this.m&&(this.m=null,bo(this),Pc(this),vo(19))},ce.Xa=function(C){C?(this.c.info("Successfully pinged google.com"),vo(2)):(this.c.info("Failed to ping google.com"),vo(1))},(ce=pa.prototype).ta=function(){},ce.sa=function(){},ce.ra=function(){},ce.qa=function(){},ce.Ha=function(){},ll.prototype.a=function(C,N){return new yi(C,N)},Ze(yi,le),(ce=yi.prototype).addEventListener=function(C,N,j,ee){yi.S.addEventListener.call(this,C,N,j,ee)},ce.removeEventListener=function(C,N,j,ee){yi.S.removeEventListener.call(this,C,N,j,ee)},ce.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var C=this.a,N=this.l,j=this.b||void 0;vo(0),C.fa=N,C.W=j||{},C.H=C.T,C.B=jl(C,null,C.fa),Cs(C)},ce.close=function(){rc(this.a)},ce.Pa=function(C){if("string"==typeof C){var N={};N.__data__=C,ha(this.a,N)}else this.g?((N={}).__data__=te(C),ha(this.a,N)):ha(this.a,C)},ce.G=function(){this.a.f=null,delete this.f,rc(this.a),delete this.a,yi.S.G.call(this)},Ze(jo,xc),Ze(Ra,Ec),Ze(It,pa),It.prototype.ta=function(){this.a.dispatchEvent("a")},It.prototype.sa=function(C){this.a.dispatchEvent(new jo(C))},It.prototype.ra=function(C){this.a.dispatchEvent(new Ra(C))},It.prototype.qa=function(){this.a.dispatchEvent("b")},ll.prototype.createWebChannel=ll.prototype.a,yi.prototype.send=yi.prototype.Pa,yi.prototype.open=yi.prototype.Oa,yi.prototype.close=yi.prototype.close,Xa.NO_ERROR=0,Xa.TIMEOUT=8,Xa.HTTP_ERROR=6,$r.COMPLETE="complete",Ju.EventType=ra,ra.OPEN="a",ra.CLOSE="b",ra.ERROR="c",ra.MESSAGE="d",le.prototype.listen=le.prototype.va,di.prototype.listenOnce=di.prototype.wa,di.prototype.getLastError=di.prototype.Qa,di.prototype.getLastErrorCode=di.prototype.ua,di.prototype.getStatus=di.prototype.X,di.prototype.getResponseJson=di.prototype.Na,di.prototype.getResponseText=di.prototype.$,di.prototype.send=di.prototype.ba;var es=function(){return new ll},Nc=Xa,Co=$r,Hs=Ju,Fc=di;const Na={createWebChannelTransport:es,ErrorCode:Xa,EventType:$r,WebChannel:Ju,XhrIo:di}},5619:(en,Me,Q)=>{Q.d(Me,{X:()=>U});var a=Q(8645);class U extends a.x{constructor(pe){super(),this._value=pe}get value(){return this.getValue()}_subscribe(pe){const ce=super._subscribe(pe);return!ce.closed&&pe.next(this._value),ce}getValue(){const{hasError:pe,thrownError:ce,_value:Pe}=this;if(pe)throw ce;return this._throwIfClosed(),Pe}next(pe){super.next(this._value=pe)}}},5592:(en,Me,Q)=>{Q.d(Me,{y:()=>ut});var a=Q(305),U=Q(7394),K=Q(4850),pe=Q(8407),ce=Q(2653),Pe=Q(4674),ke=Q(1441);let ut=(()=>{class de{constructor(me){me&&(this._subscribe=me)}lift(me){const lt=new de;return lt.source=this,lt.operator=me,lt}subscribe(me,lt,st){const mt=function G(de){return de&&de instanceof a.Lv||function z(de){return de&&(0,Pe.m)(de.next)&&(0,Pe.m)(de.error)&&(0,Pe.m)(de.complete)}(de)&&(0,U.Nn)(de)}(me)?me:new a.Hp(me,lt,st);return(0,ke.x)(()=>{const{operator:Re,source:at}=this;mt.add(Re?Re.call(mt,at):at?this._subscribe(mt):this._trySubscribe(mt))}),mt}_trySubscribe(me){try{return this._subscribe(me)}catch(lt){me.error(lt)}}forEach(me,lt){return new(lt=Ve(lt))((st,mt)=>{const Re=new a.Hp({next:at=>{try{me(at)}catch(Ze){mt(Ze),Re.unsubscribe()}},error:mt,complete:st});this.subscribe(Re)})}_subscribe(me){var lt;return null===(lt=this.source)||void 0===lt?void 0:lt.subscribe(me)}[K.L](){return this}pipe(...me){return(0,pe.U)(me)(this)}toPromise(me){return new(me=Ve(me))((lt,st)=>{let mt;this.subscribe(Re=>mt=Re,Re=>st(Re),()=>lt(mt))})}}return de.create=Ne=>new de(Ne),de})();function Ve(de){var Ne;return null!==(Ne=de??ce.config.Promise)&&void 0!==Ne?Ne:Promise}},8645:(en,Me,Q)=>{Q.d(Me,{x:()=>ke});var a=Q(5592),U=Q(7394);const pe=(0,Q(2306).d)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=Q(9039),Pe=Q(1441);let ke=(()=>{class Ve extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const de=new ut(this,this);return de.operator=G,de}_throwIfClosed(){if(this.closed)throw new pe}next(G){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const de of this.currentObservers)de.next(G)}})}error(G){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:de}=this;for(;de.length;)de.shift().error(G)}})}complete(){(0,Pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:de,isStopped:Ne,observers:me}=this;return de||Ne?U.Lc:(this.currentObservers=null,me.push(G),new U.w0(()=>{this.currentObservers=null,(0,ce.P)(me,G)}))}_checkFinalizedStatuses(G){const{hasError:de,thrownError:Ne,isStopped:me}=this;de?G.error(Ne):me&&G.complete()}asObservable(){const G=new a.y;return G.source=this,G}}return Ve.create=(z,G)=>new ut(z,G),Ve})();class ut extends ke{constructor(z,G){super(),this.destination=z,this.source=G}next(z){var G,de;null===(de=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===de||de.call(G,z)}error(z){var G,de;null===(de=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===de||de.call(G,z)}complete(){var z,G;null===(G=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===G||G.call(z)}_subscribe(z){var G,de;return null!==(de=null===(G=this.source)||void 0===G?void 0:G.subscribe(z))&&void 0!==de?de:U.Lc}}},305:(en,Me,Q)=>{Q.d(Me,{Hp:()=>st,Lv:()=>de});var a=Q(4674),U=Q(7394),K=Q(2653),pe=Q(3894),ce=Q(2420);const Pe=Ve("C",void 0,void 0);function Ve(xe,nt,$e){return{kind:xe,value:nt,error:$e}}var z=Q(7599),G=Q(1441);class de extends U.w0{constructor(nt){super(),this.isStopped=!1,nt?(this.destination=nt,(0,U.Nn)(nt)&&nt.add(this)):this.destination=Ze}static create(nt,$e,it){return new st(nt,$e,it)}next(nt){this.isStopped?at(function ut(xe){return Ve("N",xe,void 0)}(nt),this):this._next(nt)}error(nt){this.isStopped?at(function ke(xe){return Ve("E",void 0,xe)}(nt),this):(this.isStopped=!0,this._error(nt))}complete(){this.isStopped?at(Pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(nt){this.destination.next(nt)}_error(nt){try{this.destination.error(nt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function me(xe,nt){return Ne.call(xe,nt)}class lt{constructor(nt){this.partialObserver=nt}next(nt){const{partialObserver:$e}=this;if($e.next)try{$e.next(nt)}catch(it){mt(it)}}error(nt){const{partialObserver:$e}=this;if($e.error)try{$e.error(nt)}catch(it){mt(it)}else mt(nt)}complete(){const{partialObserver:nt}=this;if(nt.complete)try{nt.complete()}catch($e){mt($e)}}}class st extends de{constructor(nt,$e,it){let he;if(super(),(0,a.m)(nt)||!nt)he={next:nt??void 0,error:$e??void 0,complete:it??void 0};else{let ue;this&&K.config.useDeprecatedNextContext?(ue=Object.create(nt),ue.unsubscribe=()=>this.unsubscribe(),he={next:nt.next&&me(nt.next,ue),error:nt.error&&me(nt.error,ue),complete:nt.complete&&me(nt.complete,ue)}):he=nt}this.destination=new lt(he)}}function mt(xe){K.config.useDeprecatedSynchronousErrorHandling?(0,G.O)(xe):(0,pe.h)(xe)}function at(xe,nt){const{onStoppedNotification:$e}=K.config;$e&&z.z.setTimeout(()=>$e(xe,nt))}const Ze={closed:!0,next:ce.Z,error:function Re(xe){throw xe},complete:ce.Z}},7394:(en,Me,Q)=>{Q.d(Me,{Lc:()=>Pe,w0:()=>ce,Nn:()=>ke});var a=Q(4674);const K=(0,Q(2306).d)(Ve=>function(G){Ve(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((de,Ne)=>`${Ne+1}) ${de.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var pe=Q(9039);class ce{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const me of G)me.remove(this);else G.remove(this);const{initialTeardown:de}=this;if((0,a.m)(de))try{de()}catch(me){z=me instanceof K?me.errors:[me]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const me of Ne)try{ut(me)}catch(lt){z=z??[],lt instanceof K?z=[...z,...lt.errors]:z.push(lt)}}if(z)throw new K(z)}}add(z){var G;if(z&&z!==this)if(this.closed)ut(z);else{if(z instanceof ce){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(z)}}_hasParent(z){const{_parentage:G}=this;return G===z||Array.isArray(G)&&G.includes(z)}_addParent(z){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(z),G):G?[G,z]:z}_removeParent(z){const{_parentage:G}=this;G===z?this._parentage=null:Array.isArray(G)&&(0,pe.P)(G,z)}remove(z){const{_finalizers:G}=this;G&&(0,pe.P)(G,z),z instanceof ce&&z._removeParent(this)}}ce.EMPTY=(()=>{const Ve=new ce;return Ve.closed=!0,Ve})();const Pe=ce.EMPTY;function ke(Ve){return Ve instanceof ce||Ve&&"closed"in Ve&&(0,a.m)(Ve.remove)&&(0,a.m)(Ve.add)&&(0,a.m)(Ve.unsubscribe)}function ut(Ve){(0,a.m)(Ve)?Ve():Ve.unsubscribe()}},2653:(en,Me,Q)=>{Q.d(Me,{config:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(en,Me,Q)=>{Q.d(Me,{E:()=>U});const U=new(Q(5592).y)(ce=>ce.complete())},2459:(en,Me,Q)=>{Q.d(Me,{D:()=>nt});var a=Q(4829),U=Q(3093),K=Q(5137),Pe=Q(5592),ut=Q(4971),Ve=Q(4674),z=Q(7103);function de($e,it){if(!$e)throw new Error("Iterable cannot be null");return new Pe.y(he=>{(0,z.f)(he,it,()=>{const ue=$e[Symbol.asyncIterator]();(0,z.f)(he,it,()=>{ue.next().then(Ge=>{Ge.done?he.complete():he.next(Ge.value)})},0,!0)})})}var Ne=Q(8382),me=Q(4026),lt=Q(4266),st=Q(3664),mt=Q(5726),Re=Q(9853),at=Q(541);function nt($e,it){return it?function xe($e,it){if(null!=$e){if((0,Ne.c)($e))return function pe($e,it){return(0,a.Xf)($e).pipe((0,K.R)(it),(0,U.Q)(it))}($e,it);if((0,lt.z)($e))return function ke($e,it){return new Pe.y(he=>{let ue=0;return it.schedule(function(){ue===$e.length?he.complete():(he.next($e[ue++]),he.closed||this.schedule())})})}($e,it);if((0,me.t)($e))return function ce($e,it){return(0,a.Xf)($e).pipe((0,K.R)(it),(0,U.Q)(it))}($e,it);if((0,mt.D)($e))return de($e,it);if((0,st.T)($e))return function G($e,it){return new Pe.y(he=>{let ue;return(0,z.f)(he,it,()=>{ue=$e[ut.h](),(0,z.f)(he,it,()=>{let Ge,Le;try{({value:Ge,done:Le}=ue.next())}catch(Ct){return void he.error(Ct)}Le?he.complete():he.next(Ge)},0,!0)}),()=>(0,Ve.m)(ue?.return)&&ue.return()})}($e,it);if((0,at.L)($e))return function Ze($e,it){return de((0,at.Q)($e),it)}($e,it)}throw(0,Re.z)($e)}($e,it):(0,a.Xf)($e)}},4829:(en,Me,Q)=>{Q.d(Me,{Xf:()=>Ne});var a=Q(7582),U=Q(4266),K=Q(4026),pe=Q(5592),ce=Q(8382),Pe=Q(5726),ke=Q(9853),ut=Q(3664),Ve=Q(541),z=Q(4674),G=Q(3894),de=Q(4850);function Ne(xe){if(xe instanceof pe.y)return xe;if(null!=xe){if((0,ce.c)(xe))return function me(xe){return new pe.y(nt=>{const $e=xe[de.L]();if((0,z.m)($e.subscribe))return $e.subscribe(nt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,U.z)(xe))return function lt(xe){return new pe.y(nt=>{for(let $e=0;$e<xe.length&&!nt.closed;$e++)nt.next(xe[$e]);nt.complete()})}(xe);if((0,K.t)(xe))return function st(xe){return new pe.y(nt=>{xe.then($e=>{nt.closed||(nt.next($e),nt.complete())},$e=>nt.error($e)).then(null,G.h)})}(xe);if((0,Pe.D)(xe))return Re(xe);if((0,ut.T)(xe))return function mt(xe){return new pe.y(nt=>{for(const $e of xe)if(nt.next($e),nt.closed)return;nt.complete()})}(xe);if((0,Ve.L)(xe))return function at(xe){return Re((0,Ve.Q)(xe))}(xe)}throw(0,ke.z)(xe)}function Re(xe){return new pe.y(nt=>{(function Ze(xe,nt){var $e,it,he,ue;return(0,a.mG)(this,void 0,void 0,function*(){try{for($e=(0,a.KL)(xe);!(it=yield $e.next()).done;)if(nt.next(it.value),nt.closed)return}catch(Ge){he={error:Ge}}finally{try{it&&!it.done&&(ue=$e.return)&&(yield ue.call($e))}finally{if(he)throw he.error}}nt.complete()})})(xe,nt).catch($e=>nt.error($e))})}},3019:(en,Me,Q)=>{Q.d(Me,{T:()=>Pe});var a=Q(7537),U=Q(4829),K=Q(6232),pe=Q(9940),ce=Q(2459);function Pe(...ke){const ut=(0,pe.yG)(ke),Ve=(0,pe._6)(ke,1/0),z=ke;return z.length?1===z.length?(0,U.Xf)(z[0]):(0,a.J)(Ve)((0,ce.D)(z,ut)):K.E}},2096:(en,Me,Q)=>{Q.d(Me,{of:()=>K});var a=Q(9940),U=Q(2459);function K(...pe){const ce=(0,a.yG)(pe);return(0,U.D)(pe,ce)}},8251:(en,Me,Q)=>{Q.d(Me,{x:()=>U});var a=Q(305);function U(pe,ce,Pe,ke,ut){return new K(pe,ce,Pe,ke,ut)}class K extends a.Lv{constructor(ce,Pe,ke,ut,Ve,z){super(ce),this.onFinalize=Ve,this.shouldUnsubscribe=z,this._next=Pe?function(G){try{Pe(G)}catch(de){ce.error(de)}}:super._next,this._error=ut?function(G){try{ut(G)}catch(de){ce.error(de)}finally{this.unsubscribe()}}:super._error,this._complete=ke?function(){try{ke()}catch(G){ce.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Pe}=this;super.unsubscribe(),!Pe&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},3997:(en,Me,Q)=>{Q.d(Me,{x:()=>pe});var a=Q(2737),U=Q(9360),K=Q(8251);function pe(Pe,ke=a.y){return Pe=Pe??ce,(0,U.e)((ut,Ve)=>{let z,G=!0;ut.subscribe((0,K.x)(Ve,de=>{const Ne=ke(de);(G||!Pe(z,Ne))&&(G=!1,z=Ne,Ve.next(de))}))})}function ce(Pe,ke){return Pe===ke}},7398:(en,Me,Q)=>{Q.d(Me,{U:()=>K});var a=Q(9360),U=Q(8251);function K(pe,ce){return(0,a.e)((Pe,ke)=>{let ut=0;Pe.subscribe((0,U.x)(ke,Ve=>{ke.next(pe.call(ce,Ve,ut++))}))})}},7537:(en,Me,Q)=>{Q.d(Me,{J:()=>K});var a=Q(1631),U=Q(2737);function K(pe=1/0){return(0,a.z)(U.y,pe)}},1631:(en,Me,Q)=>{Q.d(Me,{z:()=>ut});var a=Q(7398),U=Q(4829),K=Q(9360),pe=Q(7103),ce=Q(8251),ke=Q(4674);function ut(Ve,z,G=1/0){return(0,ke.m)(z)?ut((de,Ne)=>(0,a.U)((me,lt)=>z(de,me,Ne,lt))((0,U.Xf)(Ve(de,Ne))),G):("number"==typeof z&&(G=z),(0,K.e)((de,Ne)=>function Pe(Ve,z,G,de,Ne,me,lt,st){const mt=[];let Re=0,at=0,Ze=!1;const xe=()=>{Ze&&!mt.length&&!Re&&z.complete()},nt=it=>Re<de?$e(it):mt.push(it),$e=it=>{me&&z.next(it),Re++;let he=!1;(0,U.Xf)(G(it,at++)).subscribe((0,ce.x)(z,ue=>{Ne?.(ue),me?nt(ue):z.next(ue)},()=>{he=!0},void 0,()=>{if(he)try{for(Re--;mt.length&&Re<de;){const ue=mt.shift();lt?(0,pe.f)(z,lt,()=>$e(ue)):$e(ue)}xe()}catch(ue){z.error(ue)}}))};return Ve.subscribe((0,ce.x)(z,nt,()=>{Ze=!0,xe()})),()=>{st?.()}}(de,Ne,Ve,G)))}},3093:(en,Me,Q)=>{Q.d(Me,{Q:()=>pe});var a=Q(7103),U=Q(9360),K=Q(8251);function pe(ce,Pe=0){return(0,U.e)((ke,ut)=>{ke.subscribe((0,K.x)(ut,Ve=>(0,a.f)(ut,ce,()=>ut.next(Ve),Pe),()=>(0,a.f)(ut,ce,()=>ut.complete(),Pe),Ve=>(0,a.f)(ut,ce,()=>ut.error(Ve),Pe)))})}},3020:(en,Me,Q)=>{Q.d(Me,{B:()=>ce});var a=Q(4829),U=Q(8645),K=Q(305),pe=Q(9360);function ce(ke={}){const{connector:ut=(()=>new U.x),resetOnError:Ve=!0,resetOnComplete:z=!0,resetOnRefCountZero:G=!0}=ke;return de=>{let Ne,me,lt,st=0,mt=!1,Re=!1;const at=()=>{me?.unsubscribe(),me=void 0},Ze=()=>{at(),Ne=lt=void 0,mt=Re=!1},xe=()=>{const nt=Ne;Ze(),nt?.unsubscribe()};return(0,pe.e)((nt,$e)=>{st++,!Re&&!mt&&at();const it=lt=lt??ut();$e.add(()=>{st--,0===st&&!Re&&!mt&&(me=Pe(xe,G))}),it.subscribe($e),!Ne&&st>0&&(Ne=new K.Hp({next:he=>it.next(he),error:he=>{Re=!0,at(),me=Pe(Ze,Ve,he),it.error(he)},complete:()=>{mt=!0,at(),me=Pe(Ze,z),it.complete()}}),(0,a.Xf)(nt).subscribe(Ne))})(de)}}function Pe(ke,ut,...Ve){if(!0===ut)return void ke();if(!1===ut)return;const z=new K.Hp({next:()=>{z.unsubscribe(),ke()}});return(0,a.Xf)(ut(...Ve)).subscribe(z)}},5137:(en,Me,Q)=>{Q.d(Me,{R:()=>U});var a=Q(9360);function U(K,pe=0){return(0,a.e)((ce,Pe)=>{Pe.add(K.schedule(()=>ce.subscribe(Pe),pe))})}},4664:(en,Me,Q)=>{Q.d(Me,{w:()=>pe});var a=Q(4829),U=Q(9360),K=Q(8251);function pe(ce,Pe){return(0,U.e)((ke,ut)=>{let Ve=null,z=0,G=!1;const de=()=>G&&!Ve&&ut.complete();ke.subscribe((0,K.x)(ut,Ne=>{Ve?.unsubscribe();let me=0;const lt=z++;(0,a.Xf)(ce(Ne,lt)).subscribe(Ve=(0,K.x)(ut,st=>ut.next(Pe?Pe(Ne,st,lt,me++):st),()=>{Ve=null,de()}))},()=>{G=!0,de()}))})}},9397:(en,Me,Q)=>{Q.d(Me,{b:()=>ce});var a=Q(4674),U=Q(9360),K=Q(8251),pe=Q(2737);function ce(Pe,ke,ut){const Ve=(0,a.m)(Pe)||ke||ut?{next:Pe,error:ke,complete:ut}:Pe;return Ve?(0,U.e)((z,G)=>{var de;null===(de=Ve.subscribe)||void 0===de||de.call(Ve);let Ne=!0;z.subscribe((0,K.x)(G,me=>{var lt;null===(lt=Ve.next)||void 0===lt||lt.call(Ve,me),G.next(me)},()=>{var me;Ne=!1,null===(me=Ve.complete)||void 0===me||me.call(Ve),G.complete()},me=>{var lt;Ne=!1,null===(lt=Ve.error)||void 0===lt||lt.call(Ve,me),G.error(me)},()=>{var me,lt;Ne&&(null===(me=Ve.unsubscribe)||void 0===me||me.call(Ve)),null===(lt=Ve.finalize)||void 0===lt||lt.call(Ve)}))}):pe.y}},1954:(en,Me,Q)=>{Q.d(Me,{o:()=>ce});var a=Q(7394);class U extends a.w0{constructor(ke,ut){super()}schedule(ke,ut=0){return this}}const K={setInterval(Pe,ke,...ut){const{delegate:Ve}=K;return Ve?.setInterval?Ve.setInterval(Pe,ke,...ut):setInterval(Pe,ke,...ut)},clearInterval(Pe){const{delegate:ke}=K;return(ke?.clearInterval||clearInterval)(Pe)},delegate:void 0};var pe=Q(9039);class ce extends U{constructor(ke,ut){super(ke,ut),this.scheduler=ke,this.work=ut,this.pending=!1}schedule(ke,ut=0){var Ve;if(this.closed)return this;this.state=ke;const z=this.id,G=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(G,z,ut)),this.pending=!0,this.delay=ut,this.id=null!==(Ve=this.id)&&void 0!==Ve?Ve:this.requestAsyncId(G,this.id,ut),this}requestAsyncId(ke,ut,Ve=0){return K.setInterval(ke.flush.bind(ke,this),Ve)}recycleAsyncId(ke,ut,Ve=0){if(null!=Ve&&this.delay===Ve&&!1===this.pending)return ut;null!=ut&&K.clearInterval(ut)}execute(ke,ut){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(ke,ut);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ke,ut){let z,Ve=!1;try{this.work(ke)}catch(G){Ve=!0,z=G||new Error("Scheduled action threw falsy error")}if(Ve)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:ke,scheduler:ut}=this,{actions:Ve}=ut;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(Ve,this),null!=ke&&(this.id=this.recycleAsyncId(ut,ke,null)),this.delay=null,super.unsubscribe()}}}},2631:(en,Me,Q)=>{Q.d(Me,{v:()=>K});var a=Q(4552);class U{constructor(ce,Pe=U.now){this.schedulerActionCtor=ce,this.now=Pe}schedule(ce,Pe=0,ke){return new this.schedulerActionCtor(this,ce).schedule(ke,Pe)}}U.now=a.l.now;class K extends U{constructor(ce,Pe=U.now){super(ce,Pe),this.actions=[],this._active=!1}flush(ce){const{actions:Pe}=this;if(this._active)return void Pe.push(ce);let ke;this._active=!0;do{if(ke=ce.execute(ce.state,ce.delay))break}while(ce=Pe.shift());if(this._active=!1,ke){for(;ce=Pe.shift();)ce.unsubscribe();throw ke}}}},6321:(en,Me,Q)=>{Q.d(Me,{P:()=>pe,z:()=>K});var a=Q(1954);const K=new(Q(2631).v)(a.o),pe=K},4552:(en,Me,Q)=>{Q.d(Me,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},7599:(en,Me,Q)=>{Q.d(Me,{z:()=>a});const a={setTimeout(U,K,...pe){const{delegate:ce}=a;return ce?.setTimeout?ce.setTimeout(U,K,...pe):setTimeout(U,K,...pe)},clearTimeout(U){const{delegate:K}=a;return(K?.clearTimeout||clearTimeout)(U)},delegate:void 0}},4971:(en,Me,Q)=>{Q.d(Me,{h:()=>U});const U=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(en,Me,Q)=>{Q.d(Me,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(en,Me,Q)=>{Q.d(Me,{_6:()=>Pe,jO:()=>pe,yG:()=>ce});var a=Q(4674),U=Q(671);function K(ke){return ke[ke.length-1]}function pe(ke){return(0,a.m)(K(ke))?ke.pop():void 0}function ce(ke){return(0,U.K)(K(ke))?ke.pop():void 0}function Pe(ke,ut){return"number"==typeof K(ke)?ke.pop():ut}},9039:(en,Me,Q)=>{function a(U,K){if(U){const pe=U.indexOf(K);0<=pe&&U.splice(pe,1)}}Q.d(Me,{P:()=>a})},2306:(en,Me,Q)=>{function a(U){const pe=U(ce=>{Error.call(ce),ce.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}Q.d(Me,{d:()=>a})},1441:(en,Me,Q)=>{Q.d(Me,{O:()=>pe,x:()=>K});var a=Q(2653);let U=null;function K(ce){if(a.config.useDeprecatedSynchronousErrorHandling){const Pe=!U;if(Pe&&(U={errorThrown:!1,error:null}),ce(),Pe){const{errorThrown:ke,error:ut}=U;if(U=null,ke)throw ut}}else ce()}function pe(ce){a.config.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=ce)}},7103:(en,Me,Q)=>{function a(U,K,pe,ce=0,Pe=!1){const ke=K.schedule(function(){pe(),Pe?U.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(U.add(ke),!Pe)return ke}Q.d(Me,{f:()=>a})},2737:(en,Me,Q)=>{function a(U){return U}Q.d(Me,{y:()=>a})},4266:(en,Me,Q)=>{Q.d(Me,{z:()=>a});const a=U=>U&&"number"==typeof U.length&&"function"!=typeof U},5726:(en,Me,Q)=>{Q.d(Me,{D:()=>U});var a=Q(4674);function U(K){return Symbol.asyncIterator&&(0,a.m)(K?.[Symbol.asyncIterator])}},4674:(en,Me,Q)=>{function a(U){return"function"==typeof U}Q.d(Me,{m:()=>a})},8382:(en,Me,Q)=>{Q.d(Me,{c:()=>K});var a=Q(4850),U=Q(4674);function K(pe){return(0,U.m)(pe[a.L])}},3664:(en,Me,Q)=>{Q.d(Me,{T:()=>K});var a=Q(4971),U=Q(4674);function K(pe){return(0,U.m)(pe?.[a.h])}},4026:(en,Me,Q)=>{Q.d(Me,{t:()=>U});var a=Q(4674);function U(K){return(0,a.m)(K?.then)}},541:(en,Me,Q)=>{Q.d(Me,{L:()=>pe,Q:()=>K});var a=Q(7582),U=Q(4674);function K(ce){return(0,a.FC)(this,arguments,function*(){const ke=ce.getReader();try{for(;;){const{value:ut,done:Ve}=yield(0,a.qq)(ke.read());if(Ve)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(ut)}}finally{ke.releaseLock()}})}function pe(ce){return(0,U.m)(ce?.getReader)}},671:(en,Me,Q)=>{Q.d(Me,{K:()=>U});var a=Q(4674);function U(K){return K&&(0,a.m)(K.schedule)}},9360:(en,Me,Q)=>{Q.d(Me,{A:()=>U,e:()=>K});var a=Q(4674);function U(pe){return(0,a.m)(pe?.lift)}function K(pe){return ce=>{if(U(ce))return ce.lift(function(Pe){try{return pe(Pe,this)}catch(ke){this.error(ke)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(en,Me,Q)=>{function a(){}Q.d(Me,{Z:()=>a})},8407:(en,Me,Q)=>{Q.d(Me,{U:()=>K,z:()=>U});var a=Q(2737);function U(...pe){return K(pe)}function K(pe){return 0===pe.length?a.y:1===pe.length?pe[0]:function(Pe){return pe.reduce((ke,ut)=>ut(ke),Pe)}}},3894:(en,Me,Q)=>{Q.d(Me,{h:()=>K});var a=Q(2653),U=Q(7599);function K(pe){U.z.setTimeout(()=>{const{onUnhandledError:ce}=a.config;if(!ce)throw pe;ce(pe)})}},9853:(en,Me,Q)=>{function a(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Q.d(Me,{z:()=>a})},8005:(en,Me,Q)=>{Q.r(Me),Q.d(Me,{__assign:()=>K,__asyncDelegator:()=>Re,__asyncGenerator:()=>mt,__asyncValues:()=>at,__await:()=>st,__awaiter:()=>ut,__classPrivateFieldGet:()=>$e,__classPrivateFieldSet:()=>it,__createBinding:()=>z,__decorate:()=>ce,__exportStar:()=>G,__extends:()=>U,__generator:()=>Ve,__importDefault:()=>nt,__importStar:()=>xe,__makeTemplateObject:()=>Ze,__metadata:()=>ke,__param:()=>Pe,__read:()=>Ne,__rest:()=>pe,__spread:()=>me,__spreadArrays:()=>lt,__values:()=>de});var a=function(he,ue){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ge,Le){Ge.__proto__=Le}||function(Ge,Le){for(var Ct in Le)Le.hasOwnProperty(Ct)&&(Ge[Ct]=Le[Ct])})(he,ue)};function U(he,ue){function Ge(){this.constructor=he}a(he,ue),he.prototype=null===ue?Object.create(ue):(Ge.prototype=ue.prototype,new Ge)}var K=function(){return K=Object.assign||function(ue){for(var Ge,Le=1,Ct=arguments.length;Le<Ct;Le++)for(var ot in Ge=arguments[Le])Object.prototype.hasOwnProperty.call(Ge,ot)&&(ue[ot]=Ge[ot]);return ue},K.apply(this,arguments)};function pe(he,ue){var Ge={};for(var Le in he)Object.prototype.hasOwnProperty.call(he,Le)&&ue.indexOf(Le)<0&&(Ge[Le]=he[Le]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var Ct=0;for(Le=Object.getOwnPropertySymbols(he);Ct<Le.length;Ct++)ue.indexOf(Le[Ct])<0&&Object.prototype.propertyIsEnumerable.call(he,Le[Ct])&&(Ge[Le[Ct]]=he[Le[Ct]])}return Ge}function ce(he,ue,Ge,Le){var Kt,Ct=arguments.length,ot=Ct<3?ue:null===Le?Le=Object.getOwnPropertyDescriptor(ue,Ge):Le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ot=Reflect.decorate(he,ue,Ge,Le);else for(var nn=he.length-1;nn>=0;nn--)(Kt=he[nn])&&(ot=(Ct<3?Kt(ot):Ct>3?Kt(ue,Ge,ot):Kt(ue,Ge))||ot);return Ct>3&&ot&&Object.defineProperty(ue,Ge,ot),ot}function Pe(he,ue){return function(Ge,Le){ue(Ge,Le,he)}}function ke(he,ue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(he,ue)}function ut(he,ue,Ge,Le){return new(Ge||(Ge=Promise))(function(ot,Kt){function nn(fi){try{rn(Le.next(fi))}catch(Se){Kt(Se)}}function un(fi){try{rn(Le.throw(fi))}catch(Se){Kt(Se)}}function rn(fi){fi.done?ot(fi.value):function Ct(ot){return ot instanceof Ge?ot:new Ge(function(Kt){Kt(ot)})}(fi.value).then(nn,un)}rn((Le=Le.apply(he,ue||[])).next())})}function Ve(he,ue){var Le,Ct,ot,Kt,Ge={label:0,sent:function(){if(1&ot[0])throw ot[1];return ot[1]},trys:[],ops:[]};return Kt={next:nn(0),throw:nn(1),return:nn(2)},"function"==typeof Symbol&&(Kt[Symbol.iterator]=function(){return this}),Kt;function nn(rn){return function(fi){return function un(rn){if(Le)throw new TypeError("Generator is already executing.");for(;Ge;)try{if(Le=1,Ct&&(ot=2&rn[0]?Ct.return:rn[0]?Ct.throw||((ot=Ct.return)&&ot.call(Ct),0):Ct.next)&&!(ot=ot.call(Ct,rn[1])).done)return ot;switch(Ct=0,ot&&(rn=[2&rn[0],ot.value]),rn[0]){case 0:case 1:ot=rn;break;case 4:return Ge.label++,{value:rn[1],done:!1};case 5:Ge.label++,Ct=rn[1],rn=[0];continue;case 7:rn=Ge.ops.pop(),Ge.trys.pop();continue;default:if(!(ot=(ot=Ge.trys).length>0&&ot[ot.length-1])&&(6===rn[0]||2===rn[0])){Ge=0;continue}if(3===rn[0]&&(!ot||rn[1]>ot[0]&&rn[1]<ot[3])){Ge.label=rn[1];break}if(6===rn[0]&&Ge.label<ot[1]){Ge.label=ot[1],ot=rn;break}if(ot&&Ge.label<ot[2]){Ge.label=ot[2],Ge.ops.push(rn);break}ot[2]&&Ge.ops.pop(),Ge.trys.pop();continue}rn=ue.call(he,Ge)}catch(fi){rn=[6,fi],Ct=0}finally{Le=ot=0}if(5&rn[0])throw rn[1];return{value:rn[0]?rn[1]:void 0,done:!0}}([rn,fi])}}}function z(he,ue,Ge,Le){void 0===Le&&(Le=Ge),he[Le]=ue[Ge]}function G(he,ue){for(var Ge in he)"default"!==Ge&&!ue.hasOwnProperty(Ge)&&(ue[Ge]=he[Ge])}function de(he){var ue="function"==typeof Symbol&&Symbol.iterator,Ge=ue&&he[ue],Le=0;if(Ge)return Ge.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&Le>=he.length&&(he=void 0),{value:he&&he[Le++],done:!he}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(he,ue){var Ge="function"==typeof Symbol&&he[Symbol.iterator];if(!Ge)return he;var Ct,Kt,Le=Ge.call(he),ot=[];try{for(;(void 0===ue||ue-- >0)&&!(Ct=Le.next()).done;)ot.push(Ct.value)}catch(nn){Kt={error:nn}}finally{try{Ct&&!Ct.done&&(Ge=Le.return)&&Ge.call(Le)}finally{if(Kt)throw Kt.error}}return ot}function me(){for(var he=[],ue=0;ue<arguments.length;ue++)he=he.concat(Ne(arguments[ue]));return he}function lt(){for(var he=0,ue=0,Ge=arguments.length;ue<Ge;ue++)he+=arguments[ue].length;var Le=Array(he),Ct=0;for(ue=0;ue<Ge;ue++)for(var ot=arguments[ue],Kt=0,nn=ot.length;Kt<nn;Kt++,Ct++)Le[Ct]=ot[Kt];return Le}function st(he){return this instanceof st?(this.v=he,this):new st(he)}function mt(he,ue,Ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ct,Le=Ge.apply(he,ue||[]),ot=[];return Ct={},Kt("next"),Kt("throw"),Kt("return"),Ct[Symbol.asyncIterator]=function(){return this},Ct;function Kt(Ce){Le[Ce]&&(Ct[Ce]=function(He){return new Promise(function(je,ct){ot.push([Ce,He,je,ct])>1||nn(Ce,He)})})}function nn(Ce,He){try{!function un(Ce){Ce.value instanceof st?Promise.resolve(Ce.value.v).then(rn,fi):Se(ot[0][2],Ce)}(Le[Ce](He))}catch(je){Se(ot[0][3],je)}}function rn(Ce){nn("next",Ce)}function fi(Ce){nn("throw",Ce)}function Se(Ce,He){Ce(He),ot.shift(),ot.length&&nn(ot[0][0],ot[0][1])}}function Re(he){var ue,Ge;return ue={},Le("next"),Le("throw",function(Ct){throw Ct}),Le("return"),ue[Symbol.iterator]=function(){return this},ue;function Le(Ct,ot){ue[Ct]=he[Ct]?function(Kt){return(Ge=!Ge)?{value:st(he[Ct](Kt)),done:"return"===Ct}:ot?ot(Kt):Kt}:ot}}function at(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge,ue=he[Symbol.asyncIterator];return ue?ue.call(he):(he=de(he),Ge={},Le("next"),Le("throw"),Le("return"),Ge[Symbol.asyncIterator]=function(){return this},Ge);function Le(ot){Ge[ot]=he[ot]&&function(Kt){return new Promise(function(nn,un){!function Ct(ot,Kt,nn,un){Promise.resolve(un).then(function(rn){ot({value:rn,done:nn})},Kt)}(nn,un,(Kt=he[ot](Kt)).done,Kt.value)})}}}function Ze(he,ue){return Object.defineProperty?Object.defineProperty(he,"raw",{value:ue}):he.raw=ue,he}function xe(he){if(he&&he.__esModule)return he;var ue={};if(null!=he)for(var Ge in he)Object.hasOwnProperty.call(he,Ge)&&(ue[Ge]=he[Ge]);return ue.default=he,ue}function nt(he){return he&&he.__esModule?he:{default:he}}function $e(he,ue){if(!ue.has(he))throw new TypeError("attempted to get private field on non-instance");return ue.get(he)}function it(he,ue,Ge){if(!ue.has(he))throw new TypeError("attempted to set private field on non-instance");return ue.set(he,Ge),Ge}},5879:(en,Me,Q)=>{Q.d(Me,{$8M:()=>fs,$WT:()=>Ma,$Z:()=>PO,AFp:()=>XT,ALo:()=>Ux,AaK:()=>de,AsE:()=>zb,BQk:()=>Op,CHM:()=>Ts,CRH:()=>iM,DdM:()=>Nx,Dn7:()=>dg,EEQ:()=>y,EJc:()=>jv,EiD:()=>zT,EpF:()=>BC,F$t:()=>HC,F4k:()=>Jm,FYo:()=>eC,FiY:()=>Xe,Gf:()=>$p,GfV:()=>cb,GkF:()=>Pb,Gpc:()=>lt,GuJ:()=>Gi,HDt:()=>aE,Hsn:()=>$C,Ikx:()=>Od,JOm:()=>gh,JVY:()=>Uk,JZr:()=>Ze,Jf7:()=>vO,KtG:()=>xu,L6k:()=>FT,LAX:()=>Bk,LFG:()=>Dt,LSH:()=>ou,Lbi:()=>qw,Lck:()=>ND,MAs:()=>UC,MMx:()=>Tv,NdJ:()=>Rb,O4$:()=>_a,Ojb:()=>Ww,OlP:()=>nr,Oqu:()=>sx,P3R:()=>ko,PXZ:()=>zv,Q6J:()=>Ap,QGY:()=>ov,QbO:()=>Gw,Qsj:()=>tC,R0b:()=>Xs,RDi:()=>kT,Rgc:()=>hg,SBq:()=>Rm,Sil:()=>_0,Suo:()=>Qx,TTD:()=>zl,TgZ:()=>no,Tol:()=>mv,Udp:()=>tx,VKq:()=>ug,VuI:()=>o1,W1O:()=>p0,WLB:()=>HD,X6Q:()=>gE,XFs:()=>sn,Xpm:()=>yo,Xq5:()=>DC,Xts:()=>E_,Y36:()=>Nm,YKP:()=>kx,YNc:()=>qS,Yjl:()=>nc,Yz7:()=>fn,Z0I:()=>cn,ZZ4:()=>Zv,_Bn:()=>Iv,_UZ:()=>VC,_Vd:()=>ab,_c5:()=>TE,_uU:()=>ox,aQg:()=>EE,c2e:()=>sE,cJS:()=>Dn,cg1:()=>gc,dDg:()=>eR,dqk:()=>Ee,eBb:()=>Vk,eFA:()=>UM,eJc:()=>qp,ekj:()=>nx,eoX:()=>FM,f3M:()=>Vt,g9A:()=>Jy,h0i:()=>Fd,hGG:()=>k0,hij:()=>jb,iGM:()=>h0,ifc:()=>_t,ip1:()=>Vv,jDz:()=>If,kL8:()=>ng,kcU:()=>ds,lG2:()=>ys,lcZ:()=>Vx,lqb:()=>Nu,lri:()=>b0,mCW:()=>x_,n5z:()=>pd,n_E:()=>Hp,oAB:()=>Ki,oJD:()=>dt,oxw:()=>zC,pB0:()=>jk,q3G:()=>Am,q4F:()=>cO,qFp:()=>yR,qLn:()=>Td,qOj:()=>Ip,qZA:()=>iv,qzn:()=>yh,rWj:()=>Rs,rg0:()=>Eo,s9C:()=>cv,sBO:()=>qv,s_b:()=>Ov,soG:()=>Kp,tb:()=>Eg,tp0:()=>Nt,uIk:()=>Hm,vHH:()=>xe,vpe:()=>Sd,wAp:()=>ig,xi3:()=>Bx,xp6:()=>kO,ynx:()=>rv,z2F:()=>Wu,z3N:()=>Ed,zSh:()=>Bw,zs3:()=>su});var a=Q(8645),U=Q(7394),K=Q(5592),pe=Q(3019),ce=Q(5619),Pe=Q(2096),ke=Q(3020),ut=Q(4664),Ve=Q(3997);function z(s){for(let c in s)if(s[c]===z)return c;throw Error("Could not find renamed property on target object.")}function G(s,c){for(const d in c)c.hasOwnProperty(d)&&!s.hasOwnProperty(d)&&(s[d]=c[d])}function de(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(de).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const c=s.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function Ne(s,c){return null==s||""===s?null===c?"":c:null==c||""===c?s:s+" "+c}const me=z({__forward_ref__:z});function lt(s){return s.__forward_ref__=lt,s.toString=function(){return de(this())},s}function st(s){return mt(s)?s():s}function mt(s){return"function"==typeof s&&s.hasOwnProperty(me)&&s.__forward_ref__===lt}function Re(s){return s&&!!s.\u0275providers}const Ze="https://g.co/ng/security#xss";class xe extends Error{constructor(c,d){super(function nt(s,c){return`NG0${Math.abs(s)}${c?": "+c:""}`}(c,d)),this.code=c}}function $e(s){return"string"==typeof s?s:null==s?"":String(s)}function Le(s,c){throw new xe(-201,!1)}function Mt(s,c){null==s&&function bt(s,c,d,p){throw new Error(`ASSERTION ERROR: ${s}`+(null==p?"":` [Expected=> ${d} ${p} ${c} <=Actual]`))}(c,s,null,"!=")}function fn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Dn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ut(s){return Ln(s,Mi)||Ln(s,zi)}function cn(s){return null!==Ut(s)}function Ln(s,c){return s.hasOwnProperty(c)?s[c]:null}function wi(s){return s&&(s.hasOwnProperty(ni)||s.hasOwnProperty(Ro))?s[ni]:null}const Mi=z({\u0275prov:z}),ni=z({\u0275inj:z}),zi=z({ngInjectableDef:z}),Ro=z({ngInjectorDef:z});var sn=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(sn||{});let Yt;function zt(s){const c=Yt;return Yt=s,c}function Te(s,c,d){const p=Ut(s);return p&&"root"==p.providedIn?void 0===p.value?p.value=p.factory():p.value:d&sn.Optional?null:void 0!==c?c:void Le(de(s))}const Ee=globalThis,pi={},xi="__NG_DI_FLAG__",_r="ngTempTokenPath",fe=/\n/gm,X="__source";let te;function Ae(s){const c=te;return te=s,c}function Qe(s,c=sn.Default){if(void 0===te)throw new xe(-203,!1);return null===te?Te(s,void 0,c):te.get(s,c&sn.Optional?null:void 0,c)}function Dt(s,c=sn.Default){return(function Qt(){return Yt}()||Qe)(st(s),c)}function Vt(s,c=sn.Default){return Dt(s,Xn(c))}function Xn(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function xn(s){const c=[];for(let d=0;d<s.length;d++){const p=st(s[d]);if(Array.isArray(p)){if(0===p.length)throw new xe(900,!1);let _,b=sn.Default;for(let T=0;T<p.length;T++){const D=p[T],P=Nn(D);"number"==typeof P?-1===P?_=D.token:b|=P:_=D}c.push(Dt(_,b))}else c.push(Dt(p))}return c}function ai(s,c){return s[xi]=c,s.prototype[xi]=c,s}function Nn(s){return s[xi]}function Je(s){return{toString:s}.toString()}var ze=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(ze||{}),_t=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(_t||{});const Zt={},Pt=[],kn=z({\u0275cmp:z}),ri=z({\u0275dir:z}),Gi=z({\u0275pipe:z}),Zi=z({\u0275mod:z}),er=z({\u0275fac:z}),Ur=z({__NG_ELEMENT_ID__:z}),_o=z({__NG_ENV_ID__:z});function Da(s,c,d){let p=s.length;for(;;){const _=s.indexOf(c,d);if(-1===_)return _;if(0===_||s.charCodeAt(_-1)<=32){const b=c.length;if(_+b===p||s.charCodeAt(_+b)<=32)return _}d=_+1}}function Yo(s,c,d){let p=0;for(;p<d.length;){const _=d[p];if("number"==typeof _){if(0!==_)break;p++;const b=d[p++],T=d[p++],D=d[p++];s.setAttribute(c,T,D,b)}else{const b=_,T=d[++p];vs(b)?s.setProperty(c,b,T):s.setAttribute(c,b,T),p++}}return p}function ls(s){return 3===s||4===s||6===s}function vs(s){return 64===s.charCodeAt(0)}function Qo(s,c){if(null!==c&&0!==c.length)if(null===s||0===s.length)s=c.slice();else{let d=-1;for(let p=0;p<c.length;p++){const _=c[p];"number"==typeof _?d=_:0===d||jn(s,d,_,null,-1===d||2===d?c[++p]:null)}}return s}function jn(s,c,d,p,_){let b=0,T=s.length;if(-1===c)T=-1;else for(;b<s.length;){const D=s[b++];if("number"==typeof D){if(D===c){T=-1;break}if(D>c){T=b-1;break}}}for(;b<s.length;){const D=s[b];if("number"==typeof D)break;if(D===d){if(null===p)return void(null!==_&&(s[b+1]=_));if(p===s[b+1])return void(s[b+2]=_)}b++,null!==p&&b++,null!==_&&b++}-1!==T&&(s.splice(T,0,c),b=T+1),s.splice(b++,0,d),null!==p&&s.splice(b++,0,p),null!==_&&s.splice(b++,0,_)}const Ai="ng-template";function vo(s,c,d){let p=0,_=!0;for(;p<s.length;){let b=s[p++];if("string"==typeof b&&_){const T=s[p++];if(d&&"class"===b&&-1!==Da(T.toLowerCase(),c,0))return!0}else{if(1===b){for(;p<s.length&&"string"==typeof(b=s[p++]);)if(b.toLowerCase()===c)return!0;return!1}"number"==typeof b&&(_=!1)}}return!1}function ki(s){return 4===s.type&&s.value!==Ai}function Cc(s,c,d){return c===(4!==s.type||d?s.value:Ai)}function Xa(s,c,d){let p=4;const _=s.attrs||[],b=function ra(s){for(let c=0;c<s.length;c++)if(ls(s[c]))return c;return s.length}(_);let T=!1;for(let D=0;D<c.length;D++){const P=c[D];if("number"!=typeof P){if(!T)if(4&p){if(p=2|1&p,""!==P&&!Cc(s,P,d)||""===P&&1===c.length){if($r(p))return!1;T=!0}}else{const B=8&p?P:c[++D];if(8&p&&null!==s.attrs){if(!vo(s.attrs,B,d)){if($r(p))return!1;T=!0}continue}const se=Ls(8&p?"class":P,_,ki(s),d);if(-1===se){if($r(p))return!1;T=!0;continue}if(""!==B){let Ie;Ie=se>b?"":_[se+1].toLowerCase();const Be=8&p?Ie:null;if(Be&&-1!==Da(Be,B,0)||2&p&&B!==Ie){if($r(p))return!1;T=!0}}}}else{if(!T&&!$r(p)&&!$r(P))return!1;if(T&&$r(P))continue;T=!1,p=P|1&p}}return $r(p)||T}function $r(s){return 0==(1&s)}function Ls(s,c,d,p){if(null===c)return-1;let _=0;if(p||!d){let b=!1;for(;_<c.length;){const T=c[_];if(T===s)return _;if(3===T||6===T)b=!0;else{if(1===T||2===T){let D=c[++_];for(;"string"==typeof D;)D=c[++_];continue}if(4===T)break;if(0===T){_+=4;continue}}_+=b?1:2}return-1}return function xc(s,c){let d=s.indexOf(4);if(d>-1)for(d++;d<s.length;){const p=s[d];if("number"==typeof p)return-1;if(p===c)return d;d++}return-1}(c,s)}function ec(s,c,d=!1){for(let p=0;p<c.length;p++)if(Xa(s,c[p],d))return!0;return!1}function Ec(s,c){e:for(let d=0;d<c.length;d++){const p=c[d];if(s.length===p.length){for(let _=0;_<s.length;_++)if(s[_]!==p[_])continue e;return!0}}return!1}function Us(s,c){return s?":not("+c.trim()+")":c}function oa(s){let c=s[0],d=1,p=2,_="",b=!1;for(;d<s.length;){let T=s[d];if("string"==typeof T)if(2&p){const D=s[++d];_+="["+T+(D.length>0?'="'+D+'"':"")+"]"}else 8&p?_+="."+T:4&p&&(_+=" "+T);else""!==_&&!$r(T)&&(c+=Us(b,_),_=""),p=T,b=b||!$r(p);d++}return""!==_&&(c+=Us(b,_)),c}function yo(s){return Je(()=>{const c=Tc(s),d={...c,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===ze.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||_t.Emulated,styles:s.styles||Pt,_:null,schemas:s.schemas||null,tView:null,id:""};Sc(d);const p=s.dependencies;return d.directiveDefs=Fo(p,!1),d.pipeDefs=Fo(p,!0),d.id=function Dc(s){let c=0;const d=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const _ of d)c=Math.imul(31,c)+_.charCodeAt(0)<<0;return c+=2147483648,"c"+c}(d),d})}function tc(s){return zn(s)||Ui(s)}function sa(s){return null!==s}function Ki(s){return Je(()=>({type:s.type,bootstrap:s.bootstrap||Pt,declarations:s.declarations||Pt,imports:s.imports||Pt,exports:s.exports||Pt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function aa(s,c){if(null==s)return Zt;const d={};for(const p in s)if(s.hasOwnProperty(p)){let _=s[p],b=_;Array.isArray(_)&&(b=_[1],_=_[0]),d[_]=p,c&&(c[_]=b)}return d}function ys(s){return Je(()=>{const c=Tc(s);return Sc(c),c})}function nc(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function zn(s){return s[kn]||null}function Ui(s){return s[ri]||null}function br(s){return s[Gi]||null}function Ma(s){const c=zn(s)||Ui(s)||br(s);return null!==c&&c.standalone}function wr(s,c){const d=s[Zi]||null;if(!d&&!0===c)throw new Error(`Type ${de(s)} does not have '\u0275mod' property.`);return d}function Tc(s){const c={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputTransforms:null,inputConfig:s.inputs||Zt,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||Pt,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:aa(s.inputs,c),outputs:aa(s.outputs)}}function Sc(s){s.features?.forEach(c=>c(s))}function Fo(s,c){if(!s)return null;const d=c?br:tc;return()=>("function"==typeof s?s():s).map(p=>d(p)).filter(sa)}const Oi=0,Et=1,En=2,Ei=3,so=4,Bs=5,Pn=6,Jo=7,Pi=8,ca=9,Xo=10,on=11,qr=12,Ll=13,Cr=14,xr=15,bs=16,Lo=17,Er=18,Ir=19,la=20,Aa=21,Vi=22,Uo=23,Gr=24,ei=25,gu=1,ka=2,kr=7,Wr=9,Hi=11;function Zr(s){return Array.isArray(s)&&"object"==typeof s[gu]}function Tr(s){return Array.isArray(s)&&!0===s[gu]}function cl(s){return 0!=(4&s.flags)}function Or(s){return s.componentOffset>-1}function Kr(s){return 1==(1&s.flags)}function di(s){return!!s.template}function da(s){return 0!=(512&s[En])}function js(s,c){return s.hasOwnProperty(er)?s[er]:null}let ur=null,Pa=!1;function Yr(s){const c=ur;return ur=s,c}const Rc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function sc(s){if(!Nc(s)||s.dirty){if(!s.producerMustRecompute(s)&&!jo(s))return void(s.dirty=!1);s.producerRecomputeValue(s),s.dirty=!1}}function pa(s){s.dirty=!0,function jl(s){if(void 0===s.liveConsumerNode)return;const c=Pa;Pa=!0;try{for(const d of s.liveConsumerNode)d.dirty||pa(d)}finally{Pa=c}}(s),s.consumerMarkedDirty?.(s)}function ll(s){return s&&(s.nextProducerIndex=0),Yr(s)}function yi(s,c){if(Yr(c),s&&void 0!==s.producerNode&&void 0!==s.producerIndexOfThis&&void 0!==s.producerLastReadVersion){if(Nc(s))for(let d=s.nextProducerIndex;d<s.producerNode.length;d++)es(s.producerNode[d],s.producerIndexOfThis[d]);for(;s.producerNode.length>s.nextProducerIndex;)s.producerNode.pop(),s.producerLastReadVersion.pop(),s.producerIndexOfThis.pop()}}function jo(s){Co(s);for(let c=0;c<s.producerNode.length;c++){const d=s.producerNode[c],p=s.producerLastReadVersion[c];if(p!==d.version||(sc(d),p!==d.version))return!0}return!1}function Ra(s){if(Co(s),Nc(s))for(let c=0;c<s.producerNode.length;c++)es(s.producerNode[c],s.producerIndexOfThis[c]);s.producerNode.length=s.producerLastReadVersion.length=s.producerIndexOfThis.length=0,s.liveConsumerNode&&(s.liveConsumerNode.length=s.liveConsumerIndexOfThis.length=0)}function es(s,c){if(function Hs(s){s.liveConsumerNode??=[],s.liveConsumerIndexOfThis??=[]}(s),Co(s),1===s.liveConsumerNode.length)for(let p=0;p<s.producerNode.length;p++)es(s.producerNode[p],s.producerIndexOfThis[p]);const d=s.liveConsumerNode.length-1;if(s.liveConsumerNode[c]=s.liveConsumerNode[d],s.liveConsumerIndexOfThis[c]=s.liveConsumerIndexOfThis[d],s.liveConsumerNode.length--,s.liveConsumerIndexOfThis.length--,c<s.liveConsumerNode.length){const p=s.liveConsumerIndexOfThis[c],_=s.liveConsumerNode[c];Co(_),_.producerIndexOfThis[p]=c}}function Nc(s){return s.consumerIsAlwaysLive||(s?.liveConsumerNode?.length??0)>0}function Co(s){s.producerNode??=[],s.producerIndexOfThis??=[],s.producerLastReadVersion??=[]}let ee=null;function Eo(s){const c=Yr(null);try{return s()}finally{Yr(c)}}const ed=()=>{},zh=(()=>({...Rc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:s=>{s.schedule(s.ref)},hasRun:!1,cleanupFn:ed}))();class Hh{constructor(c,d,p){this.previousValue=c,this.currentValue=d,this.firstChange=p}isFirstChange(){return this.firstChange}}function zl(){return Hl}function Hl(s){return s.type.prototype.ngOnChanges&&(s.setInput=xs),td}function td(){const s=dl(this),c=s?.current;if(c){const d=s.previous;if(d===Zt)s.previous=c;else for(let p in c)d[p]=c[p];s.current=null,this.ngOnChanges(c)}}function xs(s,c,d,p){const _=this.declaredInputs[d],b=dl(s)||function nd(s,c){return s[Uc]=c}(s,{previous:Zt,current:null}),T=b.current||(b.current={}),D=b.previous,P=D[_];T[_]=new Hh(P&&P.currentValue,c,D===Zt),s[p]=c}zl.ngInherit=!0;const Uc="__ngSimpleChanges__";function dl(s){return s[Uc]||null}const Es=function(s,c,d){},Qd="svg";function Ii(s){for(;Array.isArray(s);)s=s[Oi];return s}function Fa(s,c){return Ii(c[s])}function zo(s,c){return Ii(c[s.index])}function Jd(s,c){return s.data[c]}function fl(s,c){return s[c]}function Yi(s,c){const d=c[s];return Zr(d)?d:d[Oi]}function pl(s,c){return null==c?null:s[c]}function th(s){s[Lo]=0}function Vc(s){1024&s[En]||(s[En]|=1024,Vr(s,1))}function $h(s){1024&s[En]&&(s[En]&=-1025,Vr(s,-1))}function Vr(s,c){let d=s[Ei];if(null===d)return;d[Bs]+=c;let p=d;for(d=d[Ei];null!==d&&(1===c&&1===p[Bs]||-1===c&&0===p[Bs]);)d[Bs]+=c,p=d,d=d[Ei]}const In={lFrame:us(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Wi(){return In.bindingsEnabled}function Is(){return null!==In.skipHydrationRootTNode}function pt(){return In.lFrame.lView}function ii(){return In.lFrame.tView}function Ts(s){return In.lFrame.contextLView=s,s[Pi]}function xu(s){return In.lFrame.contextLView=null,s}function To(){let s=rd();for(;null!==s&&64===s.type;)s=s.parent;return s}function rd(){return In.lFrame.currentTNode}function Do(s,c){const d=In.lFrame;d.currentTNode=s,d.isParent=c}function Qi(){return In.lFrame.isParent}function ao(){In.lFrame.isParent=!1}function Ji(){const s=In.lFrame;let c=s.bindingRootIndex;return-1===c&&(c=s.bindingRootIndex=s.tView.bindingStartIndex),c}function Jr(){return In.lFrame.bindingIndex++}function Xr(s){const c=In.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+s,d}function od(s,c){const d=In.lFrame;d.bindingIndex=d.bindingRootIndex=s,Eu(c)}function Eu(s){In.lFrame.currentDirectiveIndex=s}function rh(){return In.lFrame.currentQueryIndex}function ml(s){In.lFrame.currentQueryIndex=s}function oh(s){const c=s[Et];return 2===c.type?c.declTNode:1===c.type?s[Pn]:null}function La(s,c,d){if(d&sn.SkipSelf){let _=c,b=s;for(;!(_=_.parent,null!==_||d&sn.Host||(_=oh(b),null===_||(b=b[Cr],10&_.type))););if(null===_)return!1;c=_,s=b}const p=In.lFrame=Iu();return p.currentTNode=c,p.lView=s,!0}function ql(s){const c=Iu(),d=s[Et];In.lFrame=c,c.currentTNode=d.firstChild,c.lView=s,c.tView=d,c.contextLView=s,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function Iu(){const s=In.lFrame,c=null===s?null:s.child;return null===c?us(s):c}function us(s){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=c),c}function gl(){const s=In.lFrame;return In.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const lc=gl;function uc(){const s=gl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ns(){return In.lFrame.selectedIndex}function ga(s){In.lFrame.selectedIndex=s}function sr(){const s=In.lFrame;return Jd(s.tView,s.selectedIndex)}function _a(){In.lFrame.currentNamespace=Qd}function ds(){!function Hn(){In.lFrame.currentNamespace=null}()}let Mo=!0;function Wl(){return Mo}function hc(s){Mo=s}function Ua(s,c){for(let d=c.directiveStart,p=c.directiveEnd;d<p;d++){const b=s.data[d].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:D,ngAfterViewInit:P,ngAfterViewChecked:B,ngOnDestroy:W}=b;T&&(s.contentHooks??=[]).push(-d,T),D&&((s.contentHooks??=[]).push(d,D),(s.contentCheckHooks??=[]).push(d,D)),P&&(s.viewHooks??=[]).push(-d,P),B&&((s.viewHooks??=[]).push(d,B),(s.viewCheckHooks??=[]).push(d,B)),null!=W&&(s.destroyHooks??=[]).push(d,W)}}function jr(s,c,d){cr(s,c,3,d)}function zc(s,c,d,p){(3&s[En])===d&&cr(s,c,d,p)}function Nr(s,c){let d=s[En];(3&d)===c&&(d&=8191,d+=1,s[En]=d)}function cr(s,c,d,p){const b=p??-1,T=c.length-1;let D=0;for(let P=void 0!==p?65535&s[Lo]:0;P<T;P++)if("number"==typeof c[P+1]){if(D=c[P],null!=p&&D>=p)break}else c[P]<0&&(s[Lo]+=65536),(D<b||-1==b)&&(tp(s,d,c,P),s[Lo]=(4294901760&s[Lo])+P+2),P++}function tr(s,c){Es(4,s,c);const d=Yr(null);try{c.call(s)}finally{Yr(d),Es(5,s,c)}}function tp(s,c,d,p){const _=d[p]<0,b=d[p+1],D=s[_?-d[p]:d[p]];_?s[En]>>13<s[Lo]>>16&&(3&s[En])===c&&(s[En]+=8192,tr(D,b)):tr(D,b)}const Ss=-1;class sd{constructor(c,d,p){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=p}}function Hc(s){return s!==Ss}function $c(s){return 32767&s}function _l(s,c){let d=function ud(s){return s>>16}(s),p=c;for(;d>0;)p=p[Cr],d--;return p}let Tu=!0;function hs(s){const c=Tu;return Tu=s,c}const Kh=255,ch=5;let Yh=0;const Ho={};function Gs(s,c){const d=Su(s,c);if(-1!==d)return d;const p=c[Et];p.firstCreatePass&&(s.injectorIndex=c.length,Kl(p.data,s),Kl(c,null),Kl(p.blueprint,null));const _=Yl(s,c),b=s.injectorIndex;if(Hc(_)){const T=$c(_),D=_l(_,c),P=D[Et].data;for(let B=0;B<8;B++)c[b+B]=D[T+B]|P[T+B]}return c[b+8]=_,b}function Kl(s,c){s.push(0,0,0,0,0,0,0,0,c)}function Su(s,c){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===c[s.injectorIndex+8]?-1:s.injectorIndex}function Yl(s,c){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let d=0,p=null,_=c;for(;null!==_;){if(p=rp(_),null===p)return Ss;if(d++,_=_[Cr],-1!==p.injectorIndex)return p.injectorIndex|d<<16}return Ss}function Ql(s,c,d){!function dd(s,c,d){let p;"string"==typeof d?p=d.charCodeAt(0)||0:d.hasOwnProperty(Ur)&&(p=d[Ur]),null==p&&(p=d[Ur]=Yh++);const _=p&Kh;c.data[s+(_>>ch)]|=1<<_}(s,c,d)}function Jl(s,c,d){if(d&sn.Optional||void 0!==s)return s;Le()}function Xl(s,c,d,p){if(d&sn.Optional&&void 0===p&&(p=null),!(d&(sn.Self|sn.Host))){const _=s[ca],b=zt(void 0);try{return _?_.get(c,p,d&sn.Optional):Te(c,p,d&sn.Optional)}finally{zt(b)}}return Jl(p,0,d)}function Ws(s,c,d,p=sn.Default,_){if(null!==s){if(2048&c[En]&&!(p&sn.Self)){const T=function md(s,c,d,p,_){let b=s,T=c;for(;null!==b&&null!==T&&2048&T[En]&&!(512&T[En]);){const D=Ds(b,T,d,p|sn.Self,Ho);if(D!==Ho)return D;let P=b.parent;if(!P){const B=T[la];if(B){const W=B.get(d,Ho,p);if(W!==Ho)return W}P=rp(T),T=T[Cr]}b=P}return _}(s,c,d,p,Ho);if(T!==Ho)return T}const b=Ds(s,c,d,p,Ho);if(b!==Ho)return b}return Xl(c,d,p,_)}function Ds(s,c,d,p,_){const b=function lh(s){if("string"==typeof s)return s.charCodeAt(0)||0;const c=s.hasOwnProperty(Ur)?s[Ur]:void 0;return"number"==typeof c?c>=0?c&Kh:fc:c}(d);if("function"==typeof b){if(!La(c,s,p))return p&sn.Host?Jl(_,0,p):Xl(c,d,p,_);try{let T;if(T=b(p),null!=T||p&sn.Optional)return T;Le()}finally{lc()}}else if("number"==typeof b){let T=null,D=Su(s,c),P=Ss,B=p&sn.Host?c[xr][Pn]:null;for((-1===D||p&sn.SkipSelf)&&(P=-1===D?Yl(s,c):c[D+8],P!==Ss&&vl(p,!1)?(T=c[Et],D=$c(P),c=_l(P,c)):D=-1);-1!==D;){const W=c[Et];if(uh(b,D,W.data)){const se=ip(D,c,d,T,p,B);if(se!==Ho)return se}P=c[D+8],P!==Ss&&vl(p,c[Et].data[D+8]===B)&&uh(b,D,c)?(T=W,D=$c(P),c=_l(P,c)):D=-1}}return _}function ip(s,c,d,p,_,b){const T=c[Et],D=T.data[s+8],W=fd(D,T,d,null==p?Or(D)&&Tu:p!=T&&0!=(3&D.type),_&sn.Host&&b===D);return null!==W?Va(c,T,W,D):Ho}function fd(s,c,d,p,_){const b=s.providerIndexes,T=c.data,D=1048575&b,P=s.directiveStart,W=b>>20,Ie=_?D+W:s.directiveEnd;for(let Be=p?D:D+W;Be<Ie;Be++){const ft=T[Be];if(Be<P&&d===ft||Be>=P&&ft.type===d)return Be}if(_){const Be=T[P];if(Be&&di(Be)&&Be.type===d)return P}return null}function Va(s,c,d,p){let _=s[d];const b=c.data;if(function ym(s){return s instanceof sd}(_)){const T=_;T.resolving&&function he(s,c){const d=c?`. Dependency path: ${c.join(" > ")} > ${s}`:"";throw new xe(-200,`Circular dependency in DI detected for ${s}${d}`)}(function it(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():$e(s)}(b[d]));const D=hs(T.canSeeViewProviders);T.resolving=!0;const B=T.injectImpl?zt(T.injectImpl):null;La(s,p,sn.Default);try{_=s[d]=T.factory(void 0,b,s,p),c.firstCreatePass&&d>=p.directiveStart&&function ci(s,c,d){const{ngOnChanges:p,ngOnInit:_,ngDoCheck:b}=c.type.prototype;if(p){const T=Hl(c);(d.preOrderHooks??=[]).push(s,T),(d.preOrderCheckHooks??=[]).push(s,T)}_&&(d.preOrderHooks??=[]).push(0-s,_),b&&((d.preOrderHooks??=[]).push(s,b),(d.preOrderCheckHooks??=[]).push(s,b))}(d,b[d],c)}finally{null!==B&&zt(B),hs(D),T.resolving=!1,lc()}}return _}function uh(s,c,d){return!!(d[c+(s>>ch)]&1<<s)}function vl(s,c){return!(s&sn.Self||s&sn.Host&&c)}class Ri{constructor(c,d){this._tNode=c,this._lView=d}get(c,d,p){return Ws(this._tNode,this._lView,c,Xn(p),d)}}function fc(){return new Ri(To(),pt())}function pd(s){return Je(()=>{const c=s.prototype.constructor,d=c[er]||Ti(c),p=Object.prototype;let _=Object.getPrototypeOf(s.prototype).constructor;for(;_&&_!==p;){const b=_[er]||Ti(_);if(b&&b!==d)return b;_=Object.getPrototypeOf(_)}return b=>new b})}function Ti(s){return mt(s)?()=>{const c=Ti(st(s));return c&&c()}:js(s)}function rp(s){const c=s[Et],d=c.type;return 2===d?c.declTNode:1===d?s[Pn]:null}function fs(s){return function hd(s,c){if("class"===c)return s.classes;if("style"===c)return s.styles;const d=s.attrs;if(d){const p=d.length;let _=0;for(;_<p;){const b=d[_];if(ls(b))break;if(0===b)_+=2;else if("number"==typeof b)for(_++;_<p&&"string"==typeof d[_];)_++;else{if(b===c)return d[_+1];_+=2}}}return null}(To(),s)}const Ba="__parameters__";function H(s,c,d){return Je(()=>{const p=function F(s){return function(...d){if(s){const p=s(...d);for(const _ in p)this[_]=p[_]}}}(c);function _(...b){if(this instanceof _)return p.apply(this,b),this;const T=new _(...b);return D.annotation=T,D;function D(P,B,W){const se=P.hasOwnProperty(Ba)?P[Ba]:Object.defineProperty(P,Ba,{value:[]})[Ba];for(;se.length<=W;)se.push(null);return(se[W]=se[W]||[]).push(T),P}}return d&&(_.prototype=Object.create(d.prototype)),_.prototype.ngMetadataName=s,_.annotationCls=_,_})}function bl(s,c){s.forEach(d=>Array.isArray(d)?bl(d,c):c(d))}function a_(s,c,d){c>=s.length?s.push(d):s.splice(c,0,d)}function gd(s,c){return c>=s.length-1?s.pop():s.splice(c,1)[0]}function _d(s,c){const d=[];for(let p=0;p<s;p++)d.push(c);return d}function Zs(s,c,d){let p=eu(s,c);return p>=0?s[1|p]=d:(p=~p,function bm(s,c,d,p){let _=s.length;if(_==c)s.push(d,p);else if(1===_)s.push(p,s[0]),s[0]=d;else{for(_--,s.push(s[_-1],s[_]);_>c;)s[_]=s[_-2],_--;s[c]=d,s[c+1]=p}}(s,p,c,d)),p}function op(s,c){const d=eu(s,c);if(d>=0)return s[1|d]}function eu(s,c){return function vd(s,c,d){let p=0,_=s.length>>d;for(;_!==p;){const b=p+(_-p>>1),T=s[b<<d];if(c===T)return b<<d;T>c?_=b:p=b+1}return~(_<<d)}(s,c,1)}const Xe=ai(H("Optional"),8),Nt=ai(H("SkipSelf"),4);function nu(s){return 128==(128&s.flags)}var gh=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(gh||{});const Cw=/^>|^->|<!--|-->|--!>|<!-$/g,Pu=/(<|>)/g,xw="\u200b$1\u200b";const Tm=new Map;let _T=0;function l(s){return Tm.get(s)||null}class g{get lView(){return l(this.lViewId)}constructor(c,d,p){this.lViewId=c,this.nodeIndex=d,this.native=p}}function y(s){let c=Z(s);if(c){if(Zr(c)){const d=c;let p,_,b;if(ge(s)){if(p=function ht(s,c){const d=s[Et].components;if(d)for(let p=0;p<d.length;p++){const _=d[p];if(Yi(_,s)[Pi]===c)return _}else if(Yi(ei,s)[Pi]===c)return ei;return-1}(d,s),-1==p)throw new Error("The provided component was not found in the application");_=s}else if(function _e(s){return s&&s.constructor&&s.constructor.\u0275dir}(s)){if(p=function an(s,c){let d=s[Et].firstChild;for(;d;){const _=d.directiveEnd;for(let b=d.directiveStart;b<_;b++)if(s[b]===c)return d.index;d=et(d)}return-1}(d,s),-1==p)throw new Error("The provided directive was not found in the application");b=function Jt(s,c){const d=c[Et].data[s];if(0===d.directiveStart)return Pt;const p=[];for(let _=d.directiveStart;_<d.directiveEnd;_++){const b=c[_];ge(b)||p.push(b)}return p}(p,d)}else if(p=Oe(d,s),-1==p)return null;const T=Ii(d[p]),D=Z(T),P=D&&!Array.isArray(D)?D:E(d,p,T);if(_&&void 0===P.component&&(P.component=_,V(P.component,P)),b&&void 0===P.directives){P.directives=b;for(let B=0;B<b.length;B++)V(b[B],P)}V(P.native,P),c=P}}else{const d=s;let p=d;for(;p=p.parentNode;){const _=Z(p);if(_){const b=Array.isArray(_)?_:_.lView;if(!b)return null;const T=Oe(b,d);if(T>=0){const D=Ii(b[T]),P=E(b,T,D);V(D,P),c=P;break}}}}return c||null}function E(s,c,d){return new g(s[Ir],c,d)}const R="__ngContext__";function V(s,c){Zr(c)?(s[R]=c[Ir],function f(s){Tm.set(s[Ir],s)}(c)):s[R]=c}function Z(s){const c=s[R];return"number"==typeof c?l(c):c||null}function ge(s){return s&&s.constructor&&s.constructor.\u0275cmp}function Oe(s,c){const d=s[Et];for(let p=ei;p<d.bindingStartIndex;p++)if(Ii(s[p])===c)return p;return-1}function et(s){if(s.child)return s.child;if(s.next)return s.next;for(;s.parent&&!s.parent.next;)s=s.parent;return s.parent&&s.parent.next}let gi;function bi(s,c){return gi(s,c)}function Ys(s){const c=s[Ei];return Tr(c)?c[Ei]:c}function lp(s){return _h(s[qr])}function cf(s){return _h(s[so])}function _h(s){for(;null!==s&&!Tr(s);)s=s[so];return s}function Cd(s,c,d,p,_){if(null!=p){let b,T=!1;Tr(p)?b=p:Zr(p)&&(T=!0,p=p[Oi]);const D=Ii(p);0===s&&null!==d?null==_?CT(c,d,D):up(c,d,D,_||null,!0):1===s&&null!==d?up(c,d,D,_||null,!0):2===s?function zy(s,c,d){const p=g_(s,c);p&&function Mk(s,c,d,p){s.removeChild(c,d,p)}(s,p,c,d)}(c,D,T):3===s&&c.destroyNode(D),null!=b&&function kk(s,c,d,p,_){const b=d[kr];b!==Ii(d)&&Cd(c,s,p,b,_);for(let D=Hi;D<d.length;D++){const P=d[D];vh(P[Et],P,s,c,p,b)}}(c,s,b,d,_)}}function Qs(s,c){return s.createComment(function Ks(s){return s.replace(Cw,c=>c.replace(Pu,xw))}(c))}function mc(s,c,d){return s.createElement(c,d)}function Dk(s,c){const d=s[Wr],p=d.indexOf(c);$h(c),d.splice(p,1)}function Uy(s,c){if(s.length<=Hi)return;const d=Hi+c,p=s[d];if(p){const _=p[bs];null!==_&&_!==s&&Dk(_,p),c>0&&(s[d-1][so]=p[so]);const b=gd(s,Hi+c);!function Ly(s,c){vh(s,c,c[on],2,null,null),c[Oi]=null,c[Pn]=null}(p[Et],p);const T=b[Er];null!==T&&T.detachView(b[Et]),p[Ei]=null,p[so]=null,p[En]&=-129}return p}function Tw(s,c){if(!(256&c[En])){const d=c[on];c[Uo]&&Ra(c[Uo]),c[Gr]&&Ra(c[Gr]),d.destroyNode&&vh(s,c,d,3,null,null),function Sk(s){let c=s[qr];if(!c)return Vy(s[Et],s);for(;c;){let d=null;if(Zr(c))d=c[qr];else{const p=c[Hi];p&&(d=p)}if(!d){for(;c&&!c[so]&&c!==s;)Zr(c)&&Vy(c[Et],c),c=c[Ei];null===c&&(c=s),Zr(c)&&Vy(c[Et],c),d=c&&c[so]}c=d}}(c)}}function Vy(s,c){if(!(256&c[En])){c[En]&=-129,c[En]|=256,function yT(s,c){let d;if(null!=s&&null!=(d=s.destroyHooks))for(let p=0;p<d.length;p+=2){const _=c[d[p]];if(!(_ instanceof sd)){const b=d[p+1];if(Array.isArray(b))for(let T=0;T<b.length;T+=2){const D=_[b[T]],P=b[T+1];Es(4,D,P);try{P.call(D)}finally{Es(5,D,P)}}else{Es(4,_,b);try{b.call(_)}finally{Es(5,_,b)}}}}}(s,c),function Sw(s,c){const d=s.cleanup,p=c[Jo];if(null!==d)for(let b=0;b<d.length-1;b+=2)if("string"==typeof d[b]){const T=d[b+3];T>=0?p[T]():p[-T].unsubscribe(),b+=2}else d[b].call(p[d[b+1]]);null!==p&&(c[Jo]=null);const _=c[Aa];if(null!==_){c[Aa]=null;for(let b=0;b<_.length;b++)(0,_[b])()}}(s,c),1===c[Et].type&&c[on].destroy();const d=c[bs];if(null!==d&&Tr(c[Ei])){d!==c[Ei]&&Dk(d,c);const p=c[Er];null!==p&&p.detachView(s)}!function h(s){Tm.delete(s[Ir])}(c)}}function bT(s,c,d){return function wT(s,c,d){let p=c;for(;null!==p&&40&p.type;)p=(c=p).parent;if(null===p)return d[Oi];{const{componentOffset:_}=p;if(_>-1){const{encapsulation:b}=s.data[p.directiveStart+_];if(b===_t.None||b===_t.Emulated)return null}return zo(p,d)}}(s,c.parent,d)}function up(s,c,d,p,_){s.insertBefore(c,d,p,_)}function CT(s,c,d){s.appendChild(c,d)}function xT(s,c,d,p,_){null!==p?up(s,c,d,p,_):CT(s,c,d)}function g_(s,c){return s.parentNode(c)}function ET(s,c,d){return IT(s,c,d)}let __,Hy,kw,C_,IT=function Dw(s,c,d){return 40&s.type?zo(s,d):null};function By(s,c,d,p){const _=bT(s,p,c),b=c[on],D=ET(p.parent||c[Pn],p,c);if(null!=_)if(Array.isArray(d))for(let P=0;P<d.length;P++)xT(b,_,d[P],D,!1);else xT(b,_,d,D,!1);void 0!==__&&__(b,p,c,d,_)}function v_(s,c){if(null!==c){const d=c.type;if(3&d)return zo(c,s);if(4&d)return jy(-1,s[c.index]);if(8&d){const p=c.child;if(null!==p)return v_(s,p);{const _=s[c.index];return Tr(_)?jy(-1,_):Ii(_)}}if(32&d)return bi(c,s)()||Ii(s[c.index]);{const p=ST(s,c);return null!==p?Array.isArray(p)?p[0]:v_(Ys(s[xr]),p):v_(s,c.next)}}return null}function ST(s,c){return null!==c?s[xr][Pn].projection[c.projection]:null}function jy(s,c){const d=Hi+s+1;if(d<c.length){const p=c[d],_=p[Et].firstChild;if(null!==_)return v_(p,_)}return c[kr]}function y_(s,c,d,p,_,b,T){for(;null!=d;){const D=p[d.index],P=d.type;if(T&&0===c&&(D&&V(Ii(D),p),d.flags|=2),32!=(32&d.flags))if(8&P)y_(s,c,d.child,p,_,b,!1),Cd(c,s,_,D,b);else if(32&P){const B=bi(d,p);let W;for(;W=B();)Cd(c,s,_,W,b);Cd(c,s,_,D,b)}else 16&P?DT(s,c,p,d,_,b):Cd(c,s,_,D,b);d=T?d.projectionNext:d.next}}function vh(s,c,d,p,_,b){y_(d,p,s.firstChild,c,_,b,!1)}function DT(s,c,d,p,_,b){const T=d[xr],P=T[Pn].projection[p.projection];if(Array.isArray(P))for(let B=0;B<P.length;B++)Cd(c,s,_,P[B],b);else{let B=P;const W=T[Ei];nu(p)&&(B.flags|=128),y_(s,c,B,W,_,b,!0)}}function MT(s,c,d){""===d?s.removeAttribute(c,"class"):s.setAttribute(c,"class",d)}function b_(s,c,d){const{mergedAttrs:p,classes:_,styles:b}=d;null!==p&&Yo(s,c,p),null!==_&&MT(s,c,_),null!==b&&function Ok(s,c,d){s.setAttribute(c,"style",d)}(s,c,b)}function dp(s){return function $y(){if(void 0===Hy&&(Hy=null,Ee.trustedTypes))try{Hy=Ee.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Hy}()?.createHTML(s)||s}function kT(s){kw=s}function Sm(){if(void 0!==kw)return kw;if(typeof document<"u")return document;throw new xe(210,!1)}function Dm(){if(void 0===C_&&(C_=null,Ee.trustedTypes))try{C_=Ee.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return C_}function OT(s){return Dm()?.createHTML(s)||s}function qy(s){return Dm()?.createScriptURL(s)||s}class hp{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ze})`}}class RT extends hp{getTypeName(){return"HTML"}}class Rk extends hp{getTypeName(){return"Style"}}class Nk extends hp{getTypeName(){return"Script"}}class Fk extends hp{getTypeName(){return"URL"}}class Lk extends hp{getTypeName(){return"ResourceURL"}}function Ed(s){return s instanceof hp?s.changingThisBreaksApplicationSecurity:s}function yh(s,c){const d=function NT(s){return s instanceof hp&&s.getTypeName()||null}(s);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see ${Ze})`)}return d===c}function Uk(s){return new RT(s)}function FT(s){return new Rk(s)}function Vk(s){return new Nk(s)}function Bk(s){return new Fk(s)}function jk(s){return new Lk(s)}class zk{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString(dp(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch{return null}}}class Hk{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const d=this.inertDocument.createElement("template");return d.innerHTML=dp(c),d}}const Ow=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function x_(s){return(s=String(s)).match(Ow)?s:"unsafe:"+s}function bh(s){const c={};for(const d of s.split(","))c[d]=!0;return c}function Gy(...s){const c={};for(const d of s)for(const p in d)d.hasOwnProperty(p)&&(c[p]=!0);return c}const $k=bh("area,br,col,hr,img,wbr"),qk=bh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Id=bh("rp,rt"),VT=Gy($k,Gy(qk,bh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gy(Id,bh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gy(Id,qk)),Rw=bh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jT=Gy(Rw,bh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Gk=bh("script,style,template");class Wk{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,p=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?p=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,p&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let _=this.checkClobberedElement(d,d.nextSibling);if(_){d=_;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!VT.hasOwnProperty(d))return this.sanitizedSomething=!0,!Gk.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const p=c.attributes;for(let _=0;_<p.length;_++){const b=p.item(_),T=b.name,D=T.toLowerCase();if(!jT.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let P=b.value;Rw[D]&&(P=x_(P)),this.buf.push(" ",T,'="',Kk(P),'"')}return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();VT.hasOwnProperty(d)&&!$k.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(Kk(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const Zk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w2=/([^\#-~ |!])/g;function Kk(s){return s.replace(/&/g,"&amp;").replace(Zk,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(w2,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nw;function zT(s,c){let d=null;try{Nw=Nw||function LT(s){const c=new Hk(s);return function UT(){try{return!!(new window.DOMParser).parseFromString(dp(""),"text/html")}catch{return!1}}()?new zk(c):c}(s);let p=c?String(c):"";d=Nw.getInertBodyElement(p);let _=5,b=p;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,p=b,b=d.innerHTML,d=Nw.getInertBodyElement(p)}while(p!==b);return dp((new Wk).sanitizeChildren(HT(d)||d))}finally{if(d){const p=HT(d)||d;for(;p.firstChild;)p.removeChild(p.firstChild)}}}function HT(s){return"content"in s&&function C2(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Am=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(Am||{});function dt(s){const c=fp();return c?OT(c.sanitize(Am.HTML,s)||""):yh(s,"HTML")?OT(Ed(s)):zT(Sm(),$e(s))}function ou(s){const c=fp();return c?c.sanitize(Am.URL,s)||"":yh(s,"URL")?Ed(s):x_($e(s))}function ie(s){const c=fp();if(c)return qy(c.sanitize(Am.RESOURCE_URL,s)||"");if(yh(s,"ResourceURL"))return qy(Ed(s));throw new xe(904,!1)}function ko(s,c,d){return function Yk(s,c){return"src"===c&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===c&&("base"===s||"link"===s)?ie:ou}(c,d)(s)}function fp(){const s=pt();return s&&s[Xo].sanitizer}class nr{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=fn({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const E_=new nr("ENVIRONMENT_INITIALIZER"),qT=new nr("INJECTOR",-1),Uw=new nr("INJECTOR_DEF_TYPES");class Vw{get(c,d=pi){if(d===pi){const p=new Error(`NullInjectorError: No provider for ${de(c)}!`);throw p.name="NullInjectorError",p}return d}}function Qk(...s){return{\u0275providers:WT(0,s),\u0275fromNgModule:!0}}function WT(s,...c){const d=[],p=new Set;let _;const b=T=>{d.push(T)};return bl(c,T=>{const D=T;pp(D,b,[],p)&&(_||=[],_.push(D))}),void 0!==_&&Js(_,b),d}function Js(s,c){for(let d=0;d<s.length;d++){const{ngModule:p,providers:_}=s[d];I_(_,b=>{c(b,p)})}}function pp(s,c,d,p){if(!(s=st(s)))return!1;let _=null,b=wi(s);const T=!b&&zn(s);if(b||T){if(T&&!T.standalone)return!1;_=s}else{const P=s.ngModule;if(b=wi(P),!b)return!1;_=P}const D=p.has(_);if(T){if(D)return!1;if(p.add(_),T.dependencies){const P="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const B of P)pp(B,c,d,p)}}else{if(!b)return!1;{if(null!=b.imports&&!D){let B;p.add(_);try{bl(b.imports,W=>{pp(W,c,d,p)&&(B||=[],B.push(W))})}finally{}void 0!==B&&Js(B,c)}if(!D){const B=js(_)||(()=>new _);c({provide:_,useFactory:B,deps:Pt},_),c({provide:Uw,useValue:_,multi:!0},_),c({provide:E_,useValue:()=>Dt(_),multi:!0},_)}const P=b.providers;if(null!=P&&!D){const B=s;I_(P,W=>{c(W,B)})}}}return _!==s&&void 0!==s.providers}function I_(s,c){for(let d of s)Re(d)&&(d=d.\u0275providers),Array.isArray(d)?I_(d,c):c(d)}const Wy=z({provide:String,useValue:z});function km(s){return null!==s&&"object"==typeof s&&Wy in s}function mp(s){return"function"==typeof s}const Bw=new nr("Set Injector scope."),Ky={},T_={};let Yy;function gp(){return void 0===Yy&&(Yy=new Vw),Yy}class Nu{}class Qy extends Nu{get destroyed(){return this._destroyed}constructor(c,d,p,_){super(),this.parent=d,this.source=p,this.scopes=_,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_p(c,T=>this.processProvider(T)),this.records.set(qT,lf(void 0,this)),_.has("environment")&&this.records.set(Nu,lf(void 0,this));const b=this.records.get(Bw);null!=b&&"string"==typeof b.value&&this.scopes.add(b.value),this.injectorDefTypes=new Set(this.get(Uw.multi,Pt,sn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const d of this._ngOnDestroyHooks)d.ngOnDestroy();const c=this._onDestroyHooks;this._onDestroyHooks=[];for(const d of c)d()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(c){return this.assertNotDestroyed(),this._onDestroyHooks.push(c),()=>this.removeOnDestroy(c)}runInContext(c){this.assertNotDestroyed();const d=Ae(this),p=zt(void 0);try{return c()}finally{Ae(d),zt(p)}}get(c,d=pi,p=sn.Default){if(this.assertNotDestroyed(),c.hasOwnProperty(_o))return c[_o](this);p=Xn(p);const b=Ae(this),T=zt(void 0);try{if(!(p&sn.SkipSelf)){let P=this.records.get(c);if(void 0===P){const B=function JT(s){return"function"==typeof s||"object"==typeof s&&s instanceof nr}(c)&&Ut(c);P=B&&this.injectableDefInScope(B)?lf(jw(c),Ky):null,this.records.set(c,P)}if(null!=P)return this.hydrate(c,P)}return(p&sn.Self?gp():this.parent).get(c,d=p&sn.Optional&&d===pi?null:d)}catch(D){if("NullInjectorError"===D.name){if((D[_r]=D[_r]||[]).unshift(de(c)),b)throw D;return function vr(s,c,d,p){const _=s[_r];throw c[X]&&_.unshift(c[X]),s.message=function Ko(s,c,d,p=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let _=de(c);if(Array.isArray(c))_=c.map(de).join(" -> ");else if("object"==typeof c){let b=[];for(let T in c)if(c.hasOwnProperty(T)){let D=c[T];b.push(T+":"+("string"==typeof D?JSON.stringify(D):de(D)))}_=`{${b.join(", ")}}`}return`${d}${p?"("+p+")":""}[${_}]: ${s.replace(fe,"\n  ")}`}("\n"+s.message,_,d,p),s.ngTokenPath=_,s[_r]=null,s}(D,c,"R3InjectorError",this.source)}throw D}finally{zt(T),Ae(b)}}resolveInjectorInitializers(){const c=Ae(this),d=zt(void 0);try{const _=this.get(E_.multi,Pt,sn.Self);for(const b of _)b()}finally{Ae(c),zt(d)}}toString(){const c=[],d=this.records;for(const p of d.keys())c.push(de(p));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(c){let d=mp(c=st(c))?c:st(c&&c.provide);const p=function Xk(s){return km(s)?lf(void 0,s.useValue):lf(zw(s),Ky)}(c);if(mp(c)||!0!==c.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=lf(void 0,Ky,!0),_.factory=()=>xn(_.multi),this.records.set(d,_)),d=c,_.multi.push(c)}this.records.set(d,p)}hydrate(c,d){return d.value===Ky&&(d.value=T_,d.value=d.factory()),"object"==typeof d.value&&d.value&&function Hw(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(c){if(!c.providedIn)return!1;const d=st(c.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}removeOnDestroy(c){const d=this._onDestroyHooks.indexOf(c);-1!==d&&this._onDestroyHooks.splice(d,1)}}function jw(s){const c=Ut(s),d=null!==c?c.factory:js(s);if(null!==d)return d;if(s instanceof nr)throw new xe(204,!1);if(s instanceof Function)return function Jk(s){const c=s.length;if(c>0)throw _d(c,"?"),new xe(204,!1);const d=function Vn(s){return s&&(s[Mi]||s[zi])||null}(s);return null!==d?()=>d.factory(s):()=>new s}(s);throw new xe(204,!1)}function zw(s,c,d){let p;if(mp(s)){const _=st(s);return js(_)||jw(_)}if(km(s))p=()=>st(s.useValue);else if(function KT(s){return!(!s||!s.useFactory)}(s))p=()=>s.useFactory(...xn(s.deps||[]));else if(function Zy(s){return!(!s||!s.useExisting)}(s))p=()=>Dt(st(s.useExisting));else{const _=st(s&&(s.useClass||s.provide));if(!function QT(s){return!!s.deps}(s))return js(_)||jw(_);p=()=>new _(...xn(s.deps))}return p}function lf(s,c,d=!1){return{factory:s,value:c,multi:d?[]:void 0}}function _p(s,c){for(const d of s)Array.isArray(d)?_p(d,c):d&&Re(d)?_p(d.\u0275providers,c):c(d)}const XT=new nr("AppId",{providedIn:"root",factory:()=>$w}),$w="ng",Jy=new nr("Platform Initializer"),qw=new nr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Gw=new nr("AnimationModuleType"),Ww=new nr("CSP nonce",{providedIn:"root",factory:()=>Sm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let tS=(s,c,d)=>null;function Yw(s,c,d=!1){return tS(s,c,d)}class sS{}class rO{}class Xw{resolveComponentFactory(c){throw function oO(s){const c=Error(`No component factory found for ${de(s)}.`);return c.ngComponent=s,c}(c)}}let ab=(()=>{class s{static#e=this.NULL=new Xw}return s})();function S2(){return Pm(To(),pt())}function Pm(s,c){return new Rm(zo(s,c))}let Rm=(()=>{class s{constructor(d){this.nativeElement=d}static#e=this.__NG_ELEMENT_ID__=S2}return s})();function aO(s){return s instanceof Rm?s.nativeElement:s}class eC{}let tC=(()=>{class s{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function yp(){const s=pt(),d=Yi(To().index,s);return(Zr(d)?d:s)[on]}()}return s})(),D2=(()=>{class s{static#e=this.\u0275prov=fn({token:s,providedIn:"root",factory:()=>null})}return s})();class cb{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const cO=new cb("16.2.7"),nC={};function bp(s,c=null,d=null,p){const _=lS(s,c,d,p);return _.resolveInjectorInitializers(),_}function lS(s,c=null,d=null,p,_=new Set){const b=[d||Pt,Qk(s)];return p=p||("object"==typeof s?void 0:de(s)),new Qy(b,c||gp(),p||null,_)}let su=(()=>{class s{static#e=this.THROW_IF_NOT_FOUND=pi;static#t=this.NULL=new Vw;static create(d,p){if(Array.isArray(d))return bp({name:""},p,d,"");{const _=d.name??"";return bp({name:_},d.parent,d.providers,_)}}static#n=this.\u0275prov=fn({token:s,providedIn:"any",factory:()=>Dt(qT)});static#i=this.__NG_ELEMENT_ID__=-1}return s})();function wp(s){return s.ngOriginalError}class Td{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c);this._console.error("ERROR",c),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(c){let d=c&&wp(c);for(;d&&wp(d);)d=wp(d);return d||null}}function oC(s){return c=>{setTimeout(s,void 0,c)}}const Sd=class hO extends a.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,p){let _=c,b=d||(()=>null),T=p;if(c&&"object"==typeof c){const P=c;_=P.next?.bind(P),b=P.error?.bind(P),T=P.complete?.bind(P)}this.__isAsync&&(b=oC(b),_&&(_=oC(_)),T&&(T=oC(T)));const D=super.subscribe({next:_,error:b,complete:T});return c instanceof U.w0&&c.add(D),D}};function dS(...s){}class Xs{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:p=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sd(!1),this.onMicrotaskEmpty=new Sd(!1),this.onStable=new Sd(!1),this.onError=new Sd(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const _=this;_._nesting=0,_._outer=_._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(_._inner=_._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(_._inner=_._inner.fork(Zone.longStackTraceZoneSpec)),_.shouldCoalesceEventChangeDetection=!p&&d,_.shouldCoalesceRunChangeDetection=p,_.lastRequestAnimationFrameId=-1,_.nativeRequestAnimationFrame=function fO(){const s="function"==typeof Ee.requestAnimationFrame;let c=Ee[s?"requestAnimationFrame":"setTimeout"],d=Ee[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&c&&d){const p=c[Zone.__symbol__("OriginalDelegate")];p&&(c=p);const _=d[Zone.__symbol__("OriginalDelegate")];_&&(d=_)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function U2(s){const c=()=>{!function L2(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ee,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,fS(s),s.isCheckStableRunning=!0,hS(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),fS(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,p,_,b,T,D)=>{if(function _O(s){return!(!Array.isArray(s)||1!==s.length)&&!0===s[0].data?.__ignore_ng_zone__}(D))return d.invokeTask(_,b,T,D);try{return pO(s),d.invokeTask(_,b,T,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||s.shouldCoalesceRunChangeDetection)&&c(),pS(s)}},onInvoke:(d,p,_,b,T,D,P)=>{try{return pO(s),d.invoke(_,b,T,D,P)}finally{s.shouldCoalesceRunChangeDetection&&c(),pS(s)}},onHasTask:(d,p,_,b)=>{d.hasTask(_,b),p===_&&("microTask"==b.change?(s._hasPendingMicrotasks=b.microTask,fS(s),hS(s)):"macroTask"==b.change&&(s.hasPendingMacrotasks=b.macroTask))},onHandleError:(d,p,_,b)=>(d.handleError(_,b),s.runOutsideAngular(()=>s.onError.emit(b)),!1)})}(_)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xs.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(Xs.isInAngularZone())throw new xe(909,!1)}run(c,d,p){return this._inner.run(c,d,p)}runTask(c,d,p,_){const b=this._inner,T=b.scheduleEventTask("NgZoneEvent: "+_,c,F2,dS,dS);try{return b.runTask(T,d,p)}finally{b.cancelTask(T)}}runGuarded(c,d,p){return this._inner.runGuarded(c,d,p)}runOutsideAngular(c){return this._outer.run(c)}}const F2={};function hS(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function fS(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function pO(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function pS(s){s._nesting--,hS(s)}class V2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sd,this.onMicrotaskEmpty=new Sd,this.onStable=new Sd,this.onError=new Sd}run(c,d,p){return c.apply(d,p)}runGuarded(c,d,p){return c.apply(d,p)}runOutsideAngular(c){return c()}runTask(c,d,p,_){return c.apply(d,p)}}const mO=new nr("",{providedIn:"root",factory:gO});function gO(){const s=Vt(Xs);let c=!0;const d=new K.y(_=>{c=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{_.next(c),_.complete()})}),p=new K.y(_=>{let b;s.runOutsideAngular(()=>{b=s.onStable.subscribe(()=>{Xs.assertNotInAngularZone(),queueMicrotask(()=>{!c&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(c=!0,_.next(!0))})})});const T=s.onUnstable.subscribe(()=>{Xs.assertInAngularZone(),c&&(c=!1,s.runOutsideAngular(()=>{_.next(!1)}))});return()=>{b.unsubscribe(),T.unsubscribe()}});return(0,pe.T)(d,p.pipe((0,ke.B)()))}function vO(s){return s.ownerDocument.defaultView}function hf(s){return s instanceof Function?s():s}let mS=(()=>{class s{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=fn({token:s,providedIn:"root",factory:()=>new s})}return s})();function lb(s){for(;s;){s[En]|=64;const c=Ys(s);if(da(s)&&!c)return s;s=c}return null}const xO=new nr("",{providedIn:"root",factory:()=>!1});let aC=null;function SO(s,c){return s[c]??AO()}function DO(s,c){const d=AO();d.producerNode?.length&&(s[c]=aC,d.lView=s,aC=MO())}const K2={...Rc,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{lb(s.lView)},lView:null};function MO(){return Object.create(K2)}function AO(){return aC??=MO(),aC}const si={};function kO(s){OO(ii(),pt(),ns()+s,!1)}function OO(s,c,d,p){if(!p)if(3==(3&c[En])){const b=s.preOrderCheckHooks;null!==b&&jr(c,b,d)}else{const b=s.preOrderHooks;null!==b&&zc(c,b,0,d)}ga(d)}function Nm(s,c=sn.Default){const d=pt();return null===d?Dt(s,c):Ws(To(),d,st(s),c)}function PO(){throw new Error("invalid")}function cC(s,c,d,p,_,b,T,D,P,B,W){const se=c.blueprint.slice();return se[Oi]=_,se[En]=140|p,(null!==B||s&&2048&s[En])&&(se[En]|=2048),th(se),se[Ei]=se[Cr]=s,se[Pi]=d,se[Xo]=T||s&&s[Xo],se[on]=D||s&&s[on],se[ca]=P||s&&s[ca]||null,se[Pn]=b,se[Ir]=function Ew(){return _T++}(),se[Vi]=W,se[la]=B,se[xr]=2==c.type?s[xr]:se,se}function Fm(s,c,d,p,_){let b=s.data[c];if(null===b)b=function El(s,c,d,p,_){const b=rd(),T=Qi(),P=s.data[c]=function LO(s,c,d,p,_,b){let T=c?c.injectorIndex:-1,D=0;return Is()&&(D|=128),{type:d,index:p,insertBeforeIndex:null,injectorIndex:T,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:_,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?b:b&&b.parent,d,c,p,_);return null===s.firstChild&&(s.firstChild=P),null!==b&&(T?null==b.child&&null!==P.parent&&(b.child=P):null===b.next&&(b.next=P,P.prev=b)),P}(s,c,d,p,_),function Gh(){return In.lFrame.inI18n}()&&(b.flags|=32);else if(64&b.type){b.type=d,b.value=p,b.attrs=_;const T=function So(){const s=In.lFrame,c=s.currentTNode;return s.isParent?c:c.parent}();b.injectorIndex=null===T?-1:T.injectorIndex}return Do(b,!0),b}function $t(s,c,d,p){if(0===d)return-1;const _=c.length;for(let b=0;b<d;b++)c.push(p),s.blueprint.push(p),s.data.push(null);return _}function ub(s,c,d,p,_){const b=SO(c,Uo),T=ns(),D=2&p;try{ga(-1),D&&c.length>ei&&OO(s,c,ei,!1),Es(D?2:0,_);const B=D?b:null,W=ll(B);try{null!==B&&(B.dirty=!1),d(p,_)}finally{yi(B,W)}}finally{D&&null===c[Uo]&&DO(c,Uo),ga(T),Es(D?3:1,_)}}function Zn(s,c,d){if(cl(c)){const p=Yr(null);try{const b=c.directiveEnd;for(let T=c.directiveStart;T<b;T++){const D=s.data[T];D.contentQueries&&D.contentQueries(1,d[T],T)}}finally{Yr(p)}}}function Lm(s,c,d){Wi()&&(function yS(s,c,d,p){const _=d.directiveStart,b=d.directiveEnd;Or(d)&&function pC(s,c,d){const p=zo(c,s),_=gS(d);let T=16;d.signals?T=4096:d.onPush&&(T=64);const D=xp(s,cC(s,_,null,T,p,c,null,s[Xo].rendererFactory.createRenderer(p,d),null,null,null));s[c.index]=D}(c,d,s.data[_+d.componentOffset]),s.firstCreatePass||Gs(d,c),V(p,c);const T=d.initialInputs;for(let D=_;D<b;D++){const P=s.data[D],B=Va(c,s,D,d);V(B,c),null!==T&&U_(0,D-_,B,P,0,T),di(P)&&(Yi(d.index,c)[Pi]=Va(c,s,D,d))}}(s,c,d,zo(d,c)),64==(64&d.flags)&&pb(s,c,d))}function Cp(s,c,d=zo){const p=c.localNames;if(null!==p){let _=c.index+1;for(let b=0;b<p.length;b+=2){const T=p[b+1],D=-1===T?d(c,s):s[T];s[_++]=D}}}function gS(s){const c=s.tView;return null===c||c.incompleteFirstPass?s.tView=N_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):c}function N_(s,c,d,p,_,b,T,D,P,B,W){const se=ei+p,Ie=se+_,Be=function RO(s,c){const d=[];for(let p=0;p<c;p++)d.push(p<s?null:si);return d}(se,Ie),ft="function"==typeof B?B():B;return Be[Et]={type:s,blueprint:Be,template:d,queries:null,viewQuery:D,declTNode:c,data:Be.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:Ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:P,consts:ft,incompleteFirstPass:!1,ssrId:W}}let ya=s=>null;function lC(s,c,d,p){for(let _ in s)if(s.hasOwnProperty(_)){d=null===d?{}:d;const b=s[_];null===p?hb(d,c,_,b):p.hasOwnProperty(_)&&hb(d,c,p[_],b)}return d}function hb(s,c,d,p){s.hasOwnProperty(d)?s[d].push(c,p):s[d]=[c,p]}function Il(s,c,d,p,_,b,T,D){const P=zo(c,d);let W,B=c.inputs;!D&&null!=B&&(W=B[p])?(z_(s,d,W,p,_),Or(c)&&function F_(s,c){const d=Yi(c,s);16&d[En]||(d[En]|=64)}(d,c.index)):3&c.type&&(p=function Ha(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(p),_=null!=T?T(_,c.value||"",p):_,b.setProperty(P,p,_))}function L_(s,c,d,p){if(Wi()){const _=null===p?null:{"":-1},b=function VO(s,c){const d=s.directiveRegistry;let p=null,_=null;if(d)for(let b=0;b<d.length;b++){const T=d[b];if(ec(c,T.selectors,!1))if(p||(p=[]),di(T))if(null!==T.findHostDirectiveDefs){const D=[];_=_||new Map,T.findHostDirectiveDefs(T,D,_),p.unshift(...D,T),mb(s,c,D.length)}else p.unshift(T),mb(s,c,0);else _=_||new Map,T.findHostDirectiveDefs?.(T,p,_),p.push(T)}return null===p?null:[p,_]}(s,d);let T,D;null===b?T=D=null:[T,D]=b,null!==T&&vS(s,c,d,T,_,D),_&&function uC(s,c,d){if(c){const p=s.localNames=[];for(let _=0;_<c.length;_+=2){const b=d[c[_+1]];if(null==b)throw new xe(-301,!1);p.push(c[_],b)}}}(d,p,_)}d.mergedAttrs=Qo(d.mergedAttrs,d.attrs)}function vS(s,c,d,p,_,b){for(let B=0;B<p.length;B++)Ql(Gs(d,c),s,p[B].type);!function hC(s,c,d){s.flags|=1,s.directiveStart=c,s.directiveEnd=c+d,s.providerIndexes=c}(d,s.data.length,p.length);for(let B=0;B<p.length;B++){const W=p[B];W.providersResolver&&W.providersResolver(W)}let T=!1,D=!1,P=$t(s,c,p.length,null);for(let B=0;B<p.length;B++){const W=p[B];d.mergedAttrs=Qo(d.mergedAttrs,W.hostAttrs),fC(s,d,c,P,W),dC(P,W,_),null!==W.contentQueries&&(d.flags|=4),(null!==W.hostBindings||null!==W.hostAttrs||0!==W.hostVars)&&(d.flags|=64);const se=W.type.prototype;!T&&(se.ngOnChanges||se.ngOnInit||se.ngDoCheck)&&((s.preOrderHooks??=[]).push(d.index),T=!0),!D&&(se.ngOnChanges||se.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(d.index),D=!0),P++}!function _S(s,c,d){const _=c.directiveEnd,b=s.data,T=c.attrs,D=[];let P=null,B=null;for(let W=c.directiveStart;W<_;W++){const se=b[W],Ie=d?d.get(se):null,ft=Ie?Ie.outputs:null;P=lC(se.inputs,W,P,Ie?Ie.inputs:null),B=lC(se.outputs,W,B,ft);const St=null===P||null===T||ki(c)?null:V_(P,W,T);D.push(St)}null!==P&&(P.hasOwnProperty("class")&&(c.flags|=8),P.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=D,c.inputs=P,c.outputs=B}(s,d,b)}function pb(s,c,d){const p=d.directiveStart,_=d.directiveEnd,b=d.index,T=function vm(){return In.lFrame.currentDirectiveIndex}();try{ga(b);for(let D=p;D<_;D++){const P=s.data[D],B=c[D];Eu(D),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&bS(P,B)}}finally{ga(-1),Eu(T)}}function bS(s,c){null!==s.hostBindings&&s.hostBindings(1,c)}function mb(s,c,d){c.componentOffset=d,(s.components??=[]).push(c.index)}function dC(s,c,d){if(d){if(c.exportAs)for(let p=0;p<c.exportAs.length;p++)d[c.exportAs[p]]=s;di(c)&&(d[""]=s)}}function fC(s,c,d,p,_){s.data[p]=_;const b=_.factory||(_.factory=js(_.type)),T=new sd(b,di(_),Nm);s.blueprint[p]=T,d[p]=T,function UO(s,c,d,p,_){const b=_.hostBindings;if(b){let T=s.hostBindingOpCodes;null===T&&(T=s.hostBindingOpCodes=[]);const D=~c.index;(function Um(s){let c=s.length;for(;c>0;){const d=s[--c];if("number"==typeof d&&d<0)return d}return 0})(T)!=D&&T.push(D),T.push(d,p,b)}}(s,c,p,$t(s,d,_.hostVars,si),_)}function Fu(s,c,d,p,_,b){const T=zo(s,c);!function mC(s,c,d,p,_,b,T){if(null==b)s.removeAttribute(c,_,d);else{const D=null==T?$e(b):T(b,p||"",_);s.setAttribute(c,_,D,d)}}(c[on],T,b,s.value,d,p,_)}function U_(s,c,d,p,_,b){const T=b[c];if(null!==T)for(let D=0;D<T.length;)wS(p,d,T[D++],T[D++],T[D++])}function wS(s,c,d,p,_){const b=Yr(null);try{const T=s.inputTransforms;null!==T&&T.hasOwnProperty(p)&&(_=T[p].call(c,_)),null!==s.setInput?s.setInput(c,_,d,p):c[p]=_}finally{Yr(b)}}function V_(s,c,d){let p=null,_=0;for(;_<d.length;){const b=d[_];if(0!==b)if(5!==b){if("number"==typeof b)break;if(s.hasOwnProperty(b)){null===p&&(p=[]);const T=s[b];for(let D=0;D<T.length;D+=2)if(T[D]===c){p.push(b,T[D+1],d[_+1]);break}}_+=2}else _+=2;else _+=4}return p}function CS(s,c,d,p){return[s,!0,!1,c,null,0,p,d,null,null,null]}function xS(s,c){const d=s.contentQueries;if(null!==d)for(let p=0;p<d.length;p+=2){const b=d[p+1];if(-1!==b){const T=s.data[b];ml(d[p]),T.contentQueries(2,c[b],b)}}}function xp(s,c){return s[qr]?s[Ll][so]=c:s[qr]=c,s[Ll]=c,c}function B_(s,c,d){ml(0);const p=Yr(null);try{c(s,d)}finally{Yr(p)}}function gC(s){return s[Jo]||(s[Jo]=[])}function _C(s){return s.cleanup||(s.cleanup=[])}function j_(s,c){const d=s[ca],p=d?d.get(Td,null):null;p&&p.handleError(c)}function z_(s,c,d,p,_){for(let b=0;b<d.length;){const T=d[b++],D=d[b++];wS(s.data[T],c[T],p,D,_)}}function Lu(s,c,d){const p=Fa(c,s);!function Fy(s,c,d){s.setValue(c,d)}(s[on],p,d)}function yC(s,c){const d=Yi(c,s),p=d[Et];!function bC(s,c){for(let d=c.length;d<s.blueprint.length;d++)c.push(s.blueprint[d])}(p,d);const _=d[Oi];null!==_&&null===d[Vi]&&(d[Vi]=Yw(_,d[ca])),gb(p,d,d[Pi])}function gb(s,c,d){ql(c);try{const p=s.viewQuery;null!==p&&B_(1,p,d);const _=s.template;null!==_&&ub(s,c,_,1,d),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&xS(s,c),s.staticViewQueries&&B_(2,s.viewQuery,d);const b=s.components;null!==b&&function ES(s,c){for(let d=0;d<c.length;d++)yC(s,c[d])}(c,b)}catch(p){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),p}finally{c[En]&=-5,uc()}}let IS=(()=>{class s{constructor(){this.all=new Set,this.queue=new Map}create(d,p,_){const b=typeof Zone>"u"?null:Zone.current,T=function Io(s,c,d){const p=Object.create(zh);d&&(p.consumerAllowSignalWrites=!0),p.fn=s,p.schedule=c;const _=T=>{p.cleanupFn=T};return p.ref={notify:()=>pa(p),run:()=>{if(p.dirty=!1,p.hasRun&&!jo(p))return;p.hasRun=!0;const T=ll(p);try{p.cleanupFn(),p.cleanupFn=ed,p.fn(_)}finally{yi(p,T)}},cleanup:()=>p.cleanupFn()},p.ref}(d,B=>{this.all.has(B)&&this.queue.set(B,b)},_);let D;this.all.add(T),T.notify();const P=()=>{T.cleanup(),D?.(),this.all.delete(T),this.queue.delete(T)};return D=p?.onDestroy(P),{destroy:P}}flush(){if(0!==this.queue.size)for(const[d,p]of this.queue)this.queue.delete(d),p?p.run(()=>d.run()):d.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=fn({token:s,providedIn:"root",factory:()=>new s})}return s})();function H_(s,c,d){let p=d?s.styles:null,_=d?s.classes:null,b=0;if(null!==c)for(let T=0;T<c.length;T++){const D=c[T];"number"==typeof D?b=D:1==b?_=Ne(_,D):2==b&&(p=Ne(p,D+": "+c[++T]+";"))}d?s.styles=p:s.stylesWithoutHost=p,d?s.classes=_:s.classesWithoutHost=_}function Ep(s,c,d,p,_=!1){for(;null!==d;){const b=c[d.index];null!==b&&p.push(Ii(b)),Tr(b)&&wC(b,p);const T=d.type;if(8&T)Ep(s,c,d.child,p);else if(32&T){const D=bi(d,c);let P;for(;P=D();)p.push(P)}else if(16&T){const D=ST(c,d);if(Array.isArray(D))p.push(...D);else{const P=Ys(c[xr]);Ep(P[Et],P,D,p,!0)}}d=_?d.projectionNext:d.next}return p}function wC(s,c){for(let d=Hi;d<s.length;d++){const p=s[d],_=p[Et].firstChild;null!==_&&Ep(p[Et],p,_,c)}s[kr]!==s[Oi]&&c.push(s[kr])}function _b(s,c,d,p=!0){const _=c[Xo],b=_.rendererFactory,T=_.afterRenderEventManager;b.begin?.(),T?.begin();try{vb(s,c,s.template,d)}catch(P){throw p&&j_(c,P),P}finally{b.end?.(),_.effectManager?.flush(),T?.end()}}function vb(s,c,d,p){const _=c[En];if(256!=(256&_)){c[Xo].effectManager?.flush(),ql(c);try{th(c),function co(s){return In.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==d&&ub(s,c,d,2,p);const T=3==(3&_);if(T){const B=s.preOrderCheckHooks;null!==B&&jr(c,B,null)}else{const B=s.preOrderHooks;null!==B&&zc(c,B,0,null),Nr(c,0)}if(function ba(s){for(let c=lp(s);null!==c;c=cf(c)){if(!c[ka])continue;const d=c[Wr];for(let p=0;p<d.length;p++){Vc(d[p])}}}(c),As(c,2),null!==s.contentQueries&&xS(s,c),T){const B=s.contentCheckHooks;null!==B&&jr(c,B)}else{const B=s.contentHooks;null!==B&&zc(c,B,1),Nr(c,1)}!function Y2(s,c){const d=s.hostBindingOpCodes;if(null===d)return;const p=SO(c,Gr);try{for(let _=0;_<d.length;_++){const b=d[_];if(b<0)ga(~b);else{const T=b,D=d[++_],P=d[++_];od(D,T),p.dirty=!1;const B=ll(p);try{P(2,c[T])}finally{yi(p,B)}}}}finally{null===c[Gr]&&DO(c,Gr),ga(-1)}}(s,c);const D=s.components;null!==D&&DS(c,D,0);const P=s.viewQuery;if(null!==P&&B_(2,P,p),T){const B=s.viewCheckHooks;null!==B&&jr(c,B)}else{const B=s.viewHooks;null!==B&&zc(c,B,2),Nr(c,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),c[En]&=-73,$h(c)}finally{uc()}}}function As(s,c){for(let d=lp(s);null!==d;d=cf(d))for(let p=Hi;p<d.length;p++)bb(d[p],c)}function yb(s,c,d){bb(Yi(c,s),d)}function bb(s,c){if(!function eh(s){return 128==(128&s[En])}(s))return;const d=s[Et],p=s[En];if(80&p&&0===c||1024&p||2===c)vb(d,s,d.template,s[Pi]);else if(s[Bs]>0){As(s,1);const _=d.components;null!==_&&DS(s,_,1)}}function DS(s,c,d){for(let p=0;p<c.length;p++)yb(s,c[p],d)}class $_{get rootNodes(){const c=this._lView,d=c[Et];return Ep(d,c,d.firstChild,[])}constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pi]}set context(c){this._lView[Pi]=c}get destroyed(){return 256==(256&this._lView[En])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[Ei];if(Tr(c)){const d=c[8],p=d?d.indexOf(this):-1;p>-1&&(Uy(c,p),gd(d,p))}this._attachedToViewContainer=!1}Tw(this._lView[Et],this._lView)}onDestroy(c){!function ac(s,c){if(256==(256&s[En]))throw new xe(911,!1);null===s[Aa]&&(s[Aa]=[]),s[Aa].push(c)}(this._lView,c)}markForCheck(){lb(this._cdRefInjectingView||this._lView)}detach(){this._lView[En]&=-129}reattach(){this._lView[En]|=128}detectChanges(){_b(this._lView[Et],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vT(s,c){vh(s,c,c[on],2,null,null)}(this._lView[Et],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=c}}class BO extends $_{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;_b(c[Et],c,c[Pi],!1)}checkNoChanges(){}get context(){return null}}class xC extends ab{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=zn(c);return new Ch(d,this.ngModule)}}function MS(s){const c=[];for(let d in s)s.hasOwnProperty(d)&&c.push({propName:s[d],templateName:d});return c}class zO{constructor(c,d){this.injector=c,this.parentInjector=d}get(c,d,p){p=Xn(p);const _=this.injector.get(c,nC,p);return _!==nC||d===nC?_:this.parentInjector.get(c,d,p)}}class Ch extends rO{get inputs(){const c=this.componentDef,d=c.inputTransforms,p=MS(c.inputs);if(null!==d)for(const _ of p)d.hasOwnProperty(_.propName)&&(_.transform=d[_.propName]);return p}get outputs(){return MS(this.componentDef.outputs)}constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=function sl(s){return s.map(oa).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}create(c,d,p,_){let b=(_=_||this.ngModule)instanceof Nu?_:_?.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const T=b?new zO(c,b):c,D=T.get(eC,null);if(null===D)throw new xe(407,!1);const se={rendererFactory:D,sanitizer:T.get(D2,null),effectManager:T.get(IS,null),afterRenderEventManager:T.get(mS,null)},Ie=D.createRenderer(null,this.componentDef),Be=this.componentDef.selectors[0][0]||"div",ft=p?function NO(s,c,d,p){const b=p.get(xO,!1)||d===_t.ShadowDom,T=s.selectRootElement(c,b);return function FO(s){ya(s)}(T),T}(Ie,p,this.componentDef.encapsulation,T):mc(Ie,Be,function jO(s){const c=s.toLowerCase();return"svg"===c?Qd:"math"===c?"math":null}(Be)),vn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let yt=null;null!==ft&&(yt=Yw(ft,T,!0));const Yn=N_(0,null,null,1,0,null,null,null,null,null,null),ui=cC(null,Yn,null,vn,null,null,se,Ie,T,null,yt);let mr,Wa;ql(ui);try{const Ph=this.componentDef;let Lf,PE=null;Ph.findHostDirectiveDefs?(Lf=[],PE=new Map,Ph.findHostDirectiveDefs(Ph,Lf,PE),Lf.push(Ph)):Lf=[Ph];const RE=function EC(s,c){const d=s[Et],p=ei;return s[p]=c,Fm(d,p,2,"#host",null)}(ui,ft),NE=function AS(s,c,d,p,_,b,T){const D=_[Et];!function HO(s,c,d,p){for(const _ of s)c.mergedAttrs=Qo(c.mergedAttrs,_.hostAttrs);null!==c.mergedAttrs&&(H_(c,c.mergedAttrs,!0),null!==d&&b_(p,d,c))}(p,s,c,T);let P=null;null!==c&&(P=Yw(c,_[ca]));const B=b.rendererFactory.createRenderer(c,d);let W=16;d.signals?W=4096:d.onPush&&(W=64);const se=cC(_,gS(d),null,W,_[s.index],s,b,B,null,null,P);return D.firstCreatePass&&mb(D,s,p.length-1),xp(_,se),_[s.index]=se}(RE,ft,Ph,Lf,ui,se,Ie);Wa=Jd(Yn,ei),ft&&function IC(s,c,d,p){if(p)Yo(s,d,["ng-version",cO.full]);else{const{attrs:_,classes:b}=function No(s){const c=[],d=[];let p=1,_=2;for(;p<s.length;){let b=s[p];if("string"==typeof b)2===_?""!==b&&c.push(b,s[++p]):8===_&&d.push(b);else{if(!$r(_))break;_=b}p++}return{attrs:c,classes:d}}(c.selectors[0]);_&&Yo(s,d,_),b&&b.length>0&&MT(s,d,b.join(" "))}}(Ie,Ph,ft,p),void 0!==d&&function TC(s,c,d){const p=s.projection=[];for(let _=0;_<c.length;_++){const b=d[_];p.push(null!=b?Array.from(b):null)}}(Wa,this.ngContentSelectors,d),mr=function wb(s,c,d,p,_,b){const T=To(),D=_[Et],P=zo(T,_);vS(D,_,T,d,null,p);for(let W=0;W<d.length;W++)V(Va(_,D,T.directiveStart+W,T),_);pb(D,_,T),P&&V(P,_);const B=Va(_,D,T.directiveStart+T.componentOffset,T);if(s[Pi]=_[Pi]=B,null!==b)for(const W of b)W(B,c);return Zn(D,T,s),B}(NE,Ph,Lf,PE,ui,[kS]),gb(Yn,ui,null)}finally{uc()}return new q_(this.componentType,mr,Pm(Wa,ui),ui,Wa)}}class q_ extends sS{constructor(c,d,p,_,b){super(),this.location=p,this._rootLView=_,this._tNode=b,this.previousInputValues=null,this.instance=d,this.hostView=this.changeDetectorRef=new BO(_),this.componentType=c}setInput(c,d){const p=this._tNode.inputs;let _;if(null!==p&&(_=p[c])){if(this.previousInputValues??=new Map,this.previousInputValues.has(c)&&Object.is(this.previousInputValues.get(c),d))return;const b=this._rootLView;z_(b[Et],b,_,c,d),this.previousInputValues.set(c,d),lb(Yi(this._tNode.index,b))}}get injector(){return new Ri(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function kS(){const s=To();Ua(pt()[Et],s)}function Ip(s){let c=function OS(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),d=!0;const p=[s];for(;c;){let _;if(di(s))_=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new xe(903,!1);_=c.\u0275dir}if(_){if(d){p.push(_);const T=s;T.inputs=G_(s.inputs),T.inputTransforms=G_(s.inputTransforms),T.declaredInputs=G_(s.declaredInputs),T.outputs=G_(s.outputs);const D=_.hostBindings;D&&$O(s,D);const P=_.viewQuery,B=_.contentQueries;if(P&&RS(s,P),B&&Cb(s,B),G(s.inputs,_.inputs),G(s.declaredInputs,_.declaredInputs),G(s.outputs,_.outputs),null!==_.inputTransforms&&(null===T.inputTransforms&&(T.inputTransforms={}),G(T.inputTransforms,_.inputTransforms)),di(_)&&_.data.animation){const W=s.data;W.animation=(W.animation||[]).concat(_.data.animation)}}const b=_.features;if(b)for(let T=0;T<b.length;T++){const D=b[T];D&&D.ngInherit&&D(s),D===Ip&&(d=!1)}}c=Object.getPrototypeOf(c)}!function PS(s){let c=0,d=null;for(let p=s.length-1;p>=0;p--){const _=s[p];_.hostVars=c+=_.hostVars,_.hostAttrs=Qo(_.hostAttrs,d=Qo(d,_.hostAttrs))}}(p)}function G_(s){return s===Zt?{}:s===Pt?[]:s}function RS(s,c){const d=s.viewQuery;s.viewQuery=d?(p,_)=>{c(p,_),d(p,_)}:c}function Cb(s,c){const d=s.contentQueries;s.contentQueries=d?(p,_,b)=>{c(p,_,b),d(p,_,b)}:c}function $O(s,c){const d=s.hostBindings;s.hostBindings=d?(p,_)=>{c(p,_),d(p,_)}:c}function DC(s){const c=s.inputConfig,d={};for(const p in c)if(c.hasOwnProperty(p)){const _=c[p];Array.isArray(_)&&_[2]&&(d[p]=_[2])}s.inputTransforms=d}function W_(s){return!!Ib(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function Ib(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Uu(s,c,d){return s[c]=d}function ms(s,c,d){return!Object.is(s[c],d)&&(s[c]=d,!0)}function xh(s,c,d,p){const _=ms(s,c,d);return ms(s,c+1,p)||_}function Hm(s,c,d,p){const _=pt();return ms(_,Jr(),c)&&(ii(),Fu(sr(),_,s,c,d,p)),Hm}function Tp(s,c,d,p){return ms(s,Jr(),d)?c+$e(d)+p:si}function $m(s,c,d,p,_,b){const D=xh(s,function hr(){return In.lFrame.bindingIndex}(),d,_);return Xr(2),D?c+$e(d)+p+$e(_)+b:si}function qS(s,c,d,p,_,b,T,D){const P=pt(),B=ii(),W=s+ei,se=B.firstCreatePass?function JO(s,c,d,p,_,b,T,D,P){const B=c.consts,W=Fm(c,s,4,T||null,pl(B,D));L_(c,d,W,pl(B,P)),Ua(c,W);const se=W.tView=N_(2,W,p,_,b,c.directiveRegistry,c.pipeRegistry,null,c.schemas,B,null);return null!==c.queries&&(c.queries.template(c,W),se.queries=c.queries.embeddedTView(W)),W}(W,B,P,c,d,p,_,b,T):B.data[W];Do(se,!1);const Ie=GS(B,P,se,s);Wl()&&By(B,P,Ie,se),V(Ie,P),xp(P,P[W]=CS(Ie,P,Ie,se)),Kr(se)&&Lm(B,P,se),null!=T&&Cp(P,se,D)}let GS=function tv(s,c,d,p){return hc(!0),c[on].createComment("")};function UC(s){return fl(function ep(){return In.lFrame.contextLView}(),ei+s)}function Ap(s,c,d){const p=pt();return ms(p,Jr(),c)&&Il(ii(),sr(),p,s,c,p[on],d,!1),Ap}function kp(s,c,d,p,_){const T=_?"class":"style";z_(s,d,c.inputs[T],T,p)}function no(s,c,d,p){const _=pt(),b=ii(),T=ei+s,D=_[on],P=b.firstCreatePass?function XO(s,c,d,p,_,b){const T=c.consts,P=Fm(c,s,2,p,pl(T,_));return L_(c,d,P,pl(T,b)),null!==P.attrs&&H_(P,P.attrs,!1),null!==P.mergedAttrs&&H_(P,P.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,P),P}(T,b,_,c,d,p):b.data[T],B=WS(b,_,P,D,c,s);_[T]=B;const W=Kr(P);return Do(P,!0),b_(D,B,P),32!=(32&P.flags)&&Wl()&&By(b,_,B,P),0===function id(){return In.lFrame.elementDepthCount}()&&V(B,_),function Br(){In.lFrame.elementDepthCount++}(),W&&(Lm(b,_,P),Zn(b,P,_)),null!==p&&Cp(_,P),no}function iv(){let s=To();Qi()?ao():(s=s.parent,Do(s,!1));const c=s;(function jc(s){return In.skipHydrationRootTNode===s})(c)&&function cc(){In.skipHydrationRootTNode=null}(),function qh(){In.lFrame.elementDepthCount--}();const d=ii();return d.firstCreatePass&&(Ua(d,s),cl(s)&&d.queries.elementEnd(s)),null!=c.classesWithoutHost&&function ld(s){return 0!=(8&s.flags)}(c)&&kp(d,c,pt(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Zl(s){return 0!=(16&s.flags)}(c)&&kp(d,c,pt(),c.stylesWithoutHost,!1),iv}function VC(s,c,d,p){return no(s,c,d,p),iv(),VC}let WS=(s,c,d,p,_,b)=>(hc(!0),mc(p,_,function ar(){return In.lFrame.currentNamespace}()));function rv(s,c,d){const p=pt(),_=ii(),b=s+ei,T=_.firstCreatePass?function KS(s,c,d,p,_){const b=c.consts,T=pl(b,p),D=Fm(c,s,8,"ng-container",T);return null!==T&&H_(D,T,!0),L_(c,d,D,pl(b,_)),null!==c.queries&&c.queries.elementStart(c,D),D}(b,_,p,c,d):_.data[b];Do(T,!0);const D=Vu(_,p,T,s);return p[b]=D,Wl()&&By(_,p,D,T),V(D,p),Kr(T)&&(Lm(_,p,T),Zn(_,T,p)),null!=d&&Cp(p,T),rv}function Op(){let s=To();const c=ii();return Qi()?ao():(s=s.parent,Do(s,!1)),c.firstCreatePass&&(Ua(c,s),cl(s)&&c.queries.elementEnd(s)),Op}function Pb(s,c,d){return rv(s,c,d),Op(),Pb}let Vu=(s,c,d,p)=>(hc(!0),Qs(c[on],""));function BC(){return pt()}function ov(s){return!!s&&"function"==typeof s.then}function Jm(s){return!!s&&"function"==typeof s.subscribe}function Rb(s,c,d,p){const _=pt(),b=ii(),T=To();return function jC(s,c,d,p,_,b,T){const D=Kr(p),B=s.firstCreatePass&&_C(s),W=c[Pi],se=gC(c);let Ie=!0;if(3&p.type||T){const St=zo(p,c),Wt=T?T(St):St,vn=se.length,yt=T?ui=>T(Ii(ui[p.index])):p.index;let Yn=null;if(!T&&D&&(Yn=function Fb(s,c,d,p){const _=s.cleanup;if(null!=_)for(let b=0;b<_.length-1;b+=2){const T=_[b];if(T===d&&_[b+1]===p){const D=c[Jo],P=_[b+2];return D.length>P?D[P]:null}"string"==typeof T&&(b+=2)}return null}(s,c,_,p.index)),null!==Yn)(Yn.__ngLastListenerFn__||Yn).__ngNextListenerFn__=b,Yn.__ngLastListenerFn__=b,Ie=!1;else{b=QS(p,c,W,b,!1);const ui=d.listen(Wt,_,b);se.push(b,ui),B&&B.push(_,yt,vn,vn+1)}}else b=QS(p,c,W,b,!1);const Be=p.outputs;let ft;if(Ie&&null!==Be&&(ft=Be[_])){const St=ft.length;if(St)for(let Wt=0;Wt<St;Wt+=2){const mr=c[ft[Wt]][ft[Wt+1]].subscribe(b),Wa=se.length;se.push(b,mr),B&&B.push(_,p.index,Wa,-(Wa+1))}}}(b,_,_[on],T,s,c,p),Rb}function sv(s,c,d,p){try{return Es(6,c,d),!1!==d(p)}catch(_){return j_(s,_),!1}finally{Es(7,c,d)}}function QS(s,c,d,p,_){return function b(T){if(T===Function)return p;lb(s.componentOffset>-1?Yi(s.index,c):c);let P=sv(c,d,p,T),B=b.__ngNextListenerFn__;for(;B;)P=sv(c,d,B,T)&&P,B=B.__ngNextListenerFn__;return _&&!1===P&&T.preventDefault(),P}}function zC(s=1){return function dc(s){return(In.lFrame.contextLView=function Gl(s,c){for(;s>0;)c=c[Cr],s--;return c}(s,In.lFrame.contextLView))[Pi]}(s)}function av(s,c){let d=null;const p=function Ju(s){const c=s.attrs;if(null!=c){const d=c.indexOf(5);if(!(1&d))return c[d+1]}return null}(s);for(let _=0;_<c.length;_++){const b=c[_];if("*"!==b){if(null===p?ec(s,b,!0):Ec(p,b))return _}else d=_}return d}function HC(s){const c=pt()[xr][Pn];if(!c.projection){const p=c.projection=_d(s?s.length:1,null),_=p.slice();let b=c.child;for(;null!==b;){const T=s?av(b,s):0;null!==T&&(_[T]?_[T].projectionNext=b:p[T]=b,_[T]=b),b=b.next}}}function $C(s,c=0,d){const p=pt(),_=ii(),b=Fm(_,ei+s,16,null,d||null);null===b.projection&&(b.projection=c),ao(),(!p[Vi]||Is())&&32!=(32&b.flags)&&function Mw(s,c,d){DT(c[on],0,c,d,bT(s,d,c),ET(d.parent||c[Pn],d,c))}(_,p,b)}function cv(s,c,d){return lv(s,"",c,"",d),cv}function lv(s,c,d,p,_){const b=pt(),T=Tp(b,c,d,p);return T!==si&&Il(ii(),sr(),b,s,T,b[on],_,!1),lv}function dv(s,c){return s<<17|c<<2}function Bu(s){return s>>17&32767}function Lb(s){return 2|s}function au(s){return(131068&s)>>2}function QC(s,c){return-131069&s|c<<2}function hv(s){return 1|s}function XC(s,c,d,p,_){const b=s[d+1],T=null===c;let D=p?Bu(b):au(b),P=!1;for(;0!==D&&(!1===P||T);){const W=s[D+1];ex(s[D],c)&&(P=!0,s[D+1]=p?hv(W):Lb(W)),D=p?Bu(W):au(W)}P&&(s[d+1]=p?Lb(b):hv(b))}function ex(s,c){return null===s||null==c||(Array.isArray(s)?s[1]:s)===c||!(!Array.isArray(s)||"string"!=typeof c)&&eu(s,c)>=0}const uo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ub(s){return s.substring(uo.key,uo.keyEnd)}function Sl(s,c){const d=uo.textEnd;return d===c?-1:(c=uo.keyEnd=function Vb(s,c,d){for(;c<d&&s.charCodeAt(c)>32;)c++;return c}(s,uo.key=c,d),Ad(s,c,d))}function Ad(s,c,d){for(;c<d&&s.charCodeAt(c)<=32;)c++;return c}function tx(s,c,d){return Hu(s,c,d,!1),tx}function nx(s,c){return Hu(s,c,null,!0),nx}function mv(s){!function $a(s,c,d,p){const _=ii(),b=Xr(2);_.firstUpdatePass&&ks(_,null,b,p);const T=pt();if(d!==si&&ms(T,b,d)){const D=_.data[ns()];if(gs(D,p)&&!ix(_,b)){let P=p?D.classesWithoutHost:D.stylesWithoutHost;null!==P&&(d=Ne(P,d||"")),kp(_,D,T,d,p)}else!function wn(s,c,d,p,_,b,T,D){_===si&&(_=Pt);let P=0,B=0,W=0<_.length?_[0]:null,se=0<b.length?b[0]:null;for(;null!==W||null!==se;){const Ie=P<_.length?_[P+1]:void 0,Be=B<b.length?b[B+1]:void 0;let St,ft=null;W===se?(P+=2,B+=2,Ie!==Be&&(ft=se,St=Be)):null===se||null!==W&&W<se?(P+=2,ft=W):(B+=2,ft=se,St=Be),null!==ft&&iD(s,c,d,p,ft,St,T,D),W=P<_.length?_[P]:null,se=B<b.length?b[B]:null}}(_,D,T,T[on],T[b+1],T[b+1]=function cu(s,c,d){if(null==d||""===d)return Pt;const p=[],_=Ed(d);if(Array.isArray(_))for(let b=0;b<_.length;b++)s(p,_[b],!0);else if("object"==typeof _)for(const b in _)_.hasOwnProperty(b)&&s(p,b,_[b]);else"string"==typeof _&&c(p,_);return p}(s,c,d),p,b)}}(ln,kd,s,!0)}function kd(s,c){for(let d=function Th(s){return function pv(s){uo.key=0,uo.keyEnd=0,uo.value=0,uo.valueEnd=0,uo.textEnd=s.length}(s),Sl(s,Ad(s,0,uo.textEnd))}(c);d>=0;d=Sl(c,d))Zs(s,Ub(c),!0)}function Hu(s,c,d,p){const _=pt(),b=ii(),T=Xr(2);b.firstUpdatePass&&ks(b,s,T,p),c!==si&&ms(_,T,c)&&iD(b,b.data[ns()],_,_[on],s,_[T+1]=function vt(s,c){return null==s||""===s||("string"==typeof c?s+=c:"object"==typeof s&&(s=de(Ed(s)))),s}(c,d),p,T)}function ix(s,c){return c>=s.expandoStartIndex}function ks(s,c,d,p){const _=s.data;if(null===_[d+1]){const b=_[ns()],T=ix(s,d);gs(b,p)&&null===c&&!T&&(c=!1),c=function Xm(s,c,d,p){const _=function $l(s){const c=In.lFrame.currentDirectiveIndex;return-1===c?null:s[c]}(s);let b=p?c.residualClasses:c.residualStyles;if(null===_)0===(p?c.classBindings:c.styleBindings)&&(d=io(d=Tt(null,s,c,d,p),c.attrs,p),b=null);else{const T=c.directiveStylingLast;if(-1===T||s[T]!==_)if(d=Tt(_,s,c,d,p),null===b){let P=function bf(s,c,d){const p=d?c.classBindings:c.styleBindings;if(0!==au(p))return s[Bu(p)]}(s,c,p);void 0!==P&&Array.isArray(P)&&(P=Tt(null,s,c,P[1],p),P=io(P,c.attrs,p),function rx(s,c,d,p){s[Bu(d?c.classBindings:c.styleBindings)]=p}(s,c,p,P))}else b=function rP(s,c,d){let p;const _=c.directiveEnd;for(let b=1+c.directiveStylingLast;b<_;b++)p=io(p,s[b].hostAttrs,d);return io(p,c.attrs,d)}(s,c,p)}return void 0!==b&&(p?c.residualClasses=b:c.residualStyles=b),d}(_,b,c,p),function JC(s,c,d,p,_,b){let T=b?c.classBindings:c.styleBindings,D=Bu(T),P=au(T);s[p]=d;let W,B=!1;if(Array.isArray(d)?(W=d[1],(null===W||eu(d,W)>0)&&(B=!0)):W=d,_)if(0!==P){const Ie=Bu(s[D+1]);s[p+1]=dv(Ie,D),0!==Ie&&(s[Ie+1]=QC(s[Ie+1],p)),s[D+1]=function JS(s,c){return 131071&s|c<<17}(s[D+1],p)}else s[p+1]=dv(D,0),0!==D&&(s[D+1]=QC(s[D+1],p)),D=p;else s[p+1]=dv(P,0),0===D?D=p:s[P+1]=QC(s[P+1],p),P=p;B&&(s[p+1]=Lb(s[p+1])),XC(s,W,p,!0),XC(s,W,p,!1),function Md(s,c,d,p,_){const b=_?s.residualClasses:s.residualStyles;null!=b&&"string"==typeof c&&eu(b,c)>=0&&(d[p+1]=hv(d[p+1]))}(c,W,s,p,b),T=dv(D,P),b?c.classBindings=T:c.styleBindings=T}(_,b,c,d,T,p)}}function Tt(s,c,d,p,_){let b=null;const T=d.directiveEnd;let D=d.directiveStylingLast;for(-1===D?D=d.directiveStart:D++;D<T&&(b=c[D],p=io(p,b.hostAttrs,_),b!==s);)D++;return null!==s&&(d.directiveStylingLast=D),p}function io(s,c,d){const p=d?1:2;let _=-1;if(null!==c)for(let b=0;b<c.length;b++){const T=c[b];"number"==typeof T?_=T:_===p&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Zs(s,T,!!d||c[++b]))}return void 0===s?null:s}function ln(s,c,d){const p=String(c);""!==p&&!p.includes(" ")&&Zs(s,p,d)}function iD(s,c,d,p,_,b,T,D){if(!(3&c.type))return;const P=s.data,B=P[D+1],W=function ju(s){return 1==(1&s)}(B)?Gt(P,c,d,_,au(B),T):void 0;tt(W)||(tt(b)||function Tl(s){return 2==(2&s)}(B)&&(b=Gt(P,null,d,_,D,T)),function Aw(s,c,d,p,_){if(c)_?s.addClass(d,p):s.removeClass(d,p);else{let b=-1===p.indexOf("-")?void 0:gh.DashCase;null==_?s.removeStyle(d,p,b):("string"==typeof _&&_.endsWith("!important")&&(_=_.slice(0,-10),b|=gh.Important),s.setStyle(d,p,_,b))}}(p,T,Fa(ns(),d),_,b))}function Gt(s,c,d,p,_,b){const T=null===c;let D;for(;_>0;){const P=s[_],B=Array.isArray(P),W=B?P[1]:P,se=null===W;let Ie=d[_+1];Ie===si&&(Ie=se?Pt:void 0);let Be=se?op(Ie,p):W===p?Ie:void 0;if(B&&!tt(Be)&&(Be=op(P,p)),tt(Be)&&(D=Be,T))return D;const ft=s[_+1];_=T?Bu(ft):au(ft)}if(null!==c){let P=b?c.residualClasses:c.residualStyles;null!=P&&(D=op(P,p))}return D}function tt(s){return void 0!==s}function gs(s,c){return 0!=(s.flags&(c?8:16))}function ox(s,c=""){const d=pt(),p=ii(),_=s+ei,b=p.firstCreatePass?Fm(p,_,1,c,null):p.data[_],T=rD(p,d,b,c,s);d[_]=T,Wl()&&By(p,d,T,b),Do(b,!1)}let rD=(s,c,d,p,_)=>(hc(!0),function xd(s,c){return s.createText(c)}(c[on],p));function sx(s){return jb("",s,""),sx}function jb(s,c,d){const p=pt(),_=Tp(p,s,c,d);return _!==si&&Lu(p,ns(),_),jb}function zb(s,c,d,p,_){const b=pt(),T=$m(b,s,c,d,p,_);return T!==si&&Lu(b,ns(),T),zb}function Od(s,c,d){const p=pt();return ms(p,Jr(),c)&&Il(ii(),sr(),p,s,c,p[on],d,!0),Od}const Ml=void 0;var fx=["en",[["a","p"],["AM","PM"],Ml],[["AM","PM"],Ml,Ml],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ml,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ml,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ml,"{1} 'at' {0}",Ml],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dD(s){const d=Math.floor(Math.abs(s)),p=s.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===p?1:5}];let tg={};function gc(s){const c=function hD(s){return s.toLowerCase().replace(/_/g,"-")}(s);let d=px(c);if(d)return d;const p=c.split("-")[0];if(d=px(p),d)return d;if("en"===p)return fx;throw new xe(701,!1)}function ng(s){return gc(s)[ig.PluralCase]}function px(s){return s in tg||(tg[s]=Ee.ng&&Ee.ng.common&&Ee.ng.common.locales&&Ee.ng.common.locales[s]),tg[s]}var ig=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(ig||{});const Dh="en-US";let mD=Dh;function Dx(s,c,d,p,_){if(s=st(s),Array.isArray(s))for(let b=0;b<s.length;b++)Dx(s[b],c,d,p,_);else{const b=ii(),T=pt(),D=To();let P=mp(s)?s:st(s.provide);const B=zw(s),W=1048575&D.providerIndexes,se=D.directiveStart,Ie=D.providerIndexes>>20;if(mp(s)||!s.multi){const Be=new sd(B,_,Nm),ft=Mx(P,c,_?W:W+Ie,se);-1===ft?(Ql(Gs(D,T),b,P),t0(b,s,c.length),c.push(P),D.directiveStart++,D.directiveEnd++,_&&(D.providerIndexes+=1048576),d.push(Be),T.push(Be)):(d[ft]=Be,T[ft]=Be)}else{const Be=Mx(P,c,W+Ie,se),ft=Mx(P,c,W,W+Ie),Wt=ft>=0&&d[ft];if(_&&!Wt||!_&&!(Be>=0&&d[Be])){Ql(Gs(D,T),b,P);const vn=function Ev(s,c,d,p,_){const b=new sd(s,d,Nm);return b.multi=[],b.index=c,b.componentProviders=0,RD(b,_,p&&!d),b}(_?Ax:xP,d.length,_,p,B);!_&&Wt&&(d[ft].providerFactory=vn),t0(b,s,c.length,0),c.push(P),D.directiveStart++,D.directiveEnd++,_&&(D.providerIndexes+=1048576),d.push(vn),T.push(vn)}else t0(b,s,Be>-1?Be:ft,RD(d[_?ft:Be],B,!_&&p));!_&&p&&Wt&&d[ft].componentProviders++}}}function t0(s,c,d,p){const _=mp(c),b=function YT(s){return!!s.useClass}(c);if(_||b){const P=(b?st(c.useClass):c).prototype.ngOnDestroy;if(P){const B=s.destroyHooks||(s.destroyHooks=[]);if(!_&&c.multi){const W=B.indexOf(d);-1===W?B.push(d,[p,P]):B[W+1].push(p,P)}else B.push(d,P)}}}function RD(s,c,d){return d&&s.componentProviders++,s.multi.push(c)-1}function Mx(s,c,d,p){for(let _=d;_<p;_++)if(c[_]===s)return _;return-1}function xP(s,c,d,p){return Ah(this.multi,[])}function Ax(s,c,d,p){const _=this.multi;let b;if(this.providerFactory){const T=this.providerFactory.componentProviders,D=Va(d,d[Et],this.providerFactory.index,p);b=D.slice(0,T),Ah(_,b);for(let P=T;P<D.length;P++)b.push(D[P])}else b=[],Ah(_,b);return b}function Ah(s,c){for(let d=0;d<s.length;d++)c.push((0,s[d])());return c}function Iv(s,c=[]){return d=>{d.providersResolver=(p,_)=>function PD(s,c,d){const p=ii();if(p.firstCreatePass){const _=di(s);Dx(d,p.data,p.blueprint,_,!0),Dx(c,p.data,p.blueprint,_,!1)}}(p,_?_(s):s,c)}}class Fd{}class kx{}function ND(s,c){return new n0(s,c??null,[])}class n0 extends Fd{constructor(c,d,p){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xC(this);const _=wr(c);this._bootstrapComponents=hf(_.bootstrap),this._r3Injector=lS(c,d,[{provide:Fd,useValue:this},{provide:ab,useValue:this.componentFactoryResolver},...p],de(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Ef extends kx{constructor(c){super(),this.moduleType=c}create(c){return new n0(this.moduleType,c,[])}}class r0 extends Fd{constructor(c){super(),this.componentFactoryResolver=new xC(this),this.instance=null;const d=new Qy([...c.providers,{provide:Fd,useValue:this},{provide:ab,useValue:this.componentFactoryResolver}],c.parent||gp(),c.debugName,new Set(["environment"]));this.injector=d,c.runEnvironmentInitializers&&d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function Tv(s,c,d=null){return new r0({providers:s,parent:c,debugName:d,runEnvironmentInitializers:!0}).injector}let Ox=(()=>{class s{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d)){const p=WT(0,d.type),_=p.length>0?Tv([p],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d,_)}return this.cachedInjectors.get(d)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=fn({token:s,providedIn:"environment",factory:()=>new s(Dt(Nu))})}return s})();function If(s){s.getStandaloneInjector=c=>c.get(Ox).getOrCreateStandaloneInjector(s)}function Nx(s,c,d){const p=Ji()+s,_=pt();return _[p]===si?Uu(_,p,d?c.call(d):c()):function jm(s,c){return s[c]}(_,p)}function ug(s,c,d,p){return WD(pt(),Ji(),s,c,d,p)}function HD(s,c,d,p,_){return ZD(pt(),Ji(),s,c,d,p,_)}function Sf(s,c){const d=s[c];return d===si?void 0:d}function WD(s,c,d,p,_,b){const T=c+d;return ms(s,T,_)?Uu(s,T+1,b?p.call(b,_):p(_)):Sf(s,T+1)}function ZD(s,c,d,p,_,b,T){const D=c+d;return xh(s,D,_,b)?Uu(s,D+2,T?p.call(T,_,b):p(_,b)):Sf(s,D+2)}function Lx(s,c,d,p,_,b,T,D){const P=c+d;return function zm(s,c,d,p,_){const b=xh(s,c,d,p);return ms(s,c+2,_)||b}(s,P,_,b,T)?Uu(s,P+3,D?p.call(D,_,b,T):p(_,b,T)):Sf(s,P+3)}function Ux(s,c){const d=ii();let p;const _=s+ei;d.firstCreatePass?(p=function zp(s,c){if(c)for(let d=c.length-1;d>=0;d--){const p=c[d];if(s===p.name)return p}}(c,d.pipeRegistry),d.data[_]=p,p.onDestroy&&(d.destroyHooks??=[]).push(_,p.onDestroy)):p=d.data[_];const b=p.factory||(p.factory=js(p.type)),D=zt(Nm);try{const P=hs(!1),B=b();return hs(P),function LC(s,c,d,p){d>=s.data.length&&(s.data[d]=null,s.blueprint[d]=null),c[d]=p}(d,pt(),_,B),B}finally{zt(D)}}function Vx(s,c,d){const p=s+ei,_=pt(),b=fl(_,p);return Dr(_,p)?WD(_,Ji(),c,b.transform,d,b):b.transform(d)}function Bx(s,c,d,p){const _=s+ei,b=pt(),T=fl(b,_);return Dr(b,_)?ZD(b,Ji(),c,T.transform,d,p,T):T.transform(d,p)}function dg(s,c,d,p,_){const b=s+ei,T=pt(),D=fl(T,b);return Dr(T,b)?Lx(T,Ji(),c,D.transform,d,p,_,D):D.transform(d,p,_)}function Dr(s,c){return s[Et].data[c].pure}function a0(){return this._results[Symbol.iterator]()}class Hp{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Sd)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Hp.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=a0)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const p=this;p.dirty=!1;const _=function Fr(s){return s.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function za(s,c,d){if(s.length!==c.length)return!1;for(let p=0;p<s.length;p++){let _=s[p],b=c[p];if(d&&(_=d(_),b=d(b)),b!==_)return!1}return!0}(p._results,_,d))&&(p._results=_,p.length=_.length,p.last=_[this.length-1],p.first=_[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Av(s,c,d,p=!0){const _=c[Et];if(function v2(s,c,d,p){const _=Hi+p,b=d.length;p>0&&(d[_-1][so]=c),p<b-Hi?(c[so]=d[_],a_(d,Hi+p,c)):(d.push(c),c[so]=null),c[Ei]=d;const T=c[bs];null!==T&&d!==T&&function Iw(s,c){const d=s[Wr];c[xr]!==c[Ei][Ei][xr]&&(s[ka]=!0),null===d?s[Wr]=[c]:d.push(c)}(T,c);const D=c[Er];null!==D&&D.insertView(s),c[En]|=128}(_,c,s,d),p){const b=jy(d,s),T=c[on],D=g_(T,s[kr]);null!==D&&function Tk(s,c,d,p,_,b){p[Oi]=_,p[Pn]=c,vh(s,p,d,1,_,b)}(_,s[Pn],T,c,D,b)}}let hg=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=YD}return s})();const fg=hg,kh=class extends fg{constructor(c,d,p){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=p}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(c,d){return this.createEmbeddedViewImpl(c,d)}createEmbeddedViewImpl(c,d,p){const _=function KD(s,c,d,p){const _=c.tView,D=cC(s,_,d,4096&s[En]?4096:16,null,c,null,null,null,p?.injector??null,p?.hydrationInfo??null);D[bs]=s[c.index];const B=s[Er];return null!==B&&(D[Er]=B.createEmbeddedView(_)),gb(_,D,d),D}(this._declarationLView,this._declarationTContainer,c,{injector:d,hydrationInfo:p});return new $_(_)}};function YD(){return kv(To(),pt())}function kv(s,c){return 4&s.type?new kh(c,s,Pm(s,c)):null}let Ov=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=JD}return s})();function JD(){return Wx(To(),pt())}const $x=Ov,Pv=class extends $x{constructor(c,d,p){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=p}get element(){return Pm(this._hostTNode,this._hostLView)}get injector(){return new Ri(this._hostTNode,this._hostLView)}get parentInjector(){const c=Yl(this._hostTNode,this._hostLView);if(Hc(c)){const d=_l(c,this._hostLView),p=$c(c);return new Ri(d[Et].data[p+8],d)}return new Ri(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=qx(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-Hi}createEmbeddedView(c,d,p){let _,b;"number"==typeof p?_=p:null!=p&&(_=p.index,b=p.injector);const D=c.createEmbeddedViewImpl(d||{},b,null);return this.insertImpl(D,_,false),D}createComponent(c,d,p,_,b){const T=c&&!function ja(s){return"function"==typeof s}(c);let D;if(T)D=d;else{const St=d||{};D=St.index,p=St.injector,_=St.projectableNodes,b=St.environmentInjector||St.ngModuleRef}const P=T?c:new Ch(zn(c)),B=p||this.parentInjector;if(!b&&null==P.ngModule){const Wt=(T?B:this.parentInjector).get(Nu,null);Wt&&(b=Wt)}zn(P.componentType??{});const Be=P.create(B,_,null,b);return this.insertImpl(Be.hostView,D,false),Be}insert(c,d){return this.insertImpl(c,d,!1)}insertImpl(c,d,p){const _=c._lView;if(function qs(s){return Tr(s[Ei])}(_)){const P=this.indexOf(c);if(-1!==P)this.detach(P);else{const B=_[Ei],W=new Pv(B,B[Pn],B[Ei]);W.detach(W.indexOf(c))}}const T=this._adjustIndex(d),D=this._lContainer;return Av(D,_,T,!p),c.attachToViewContainerRef(),a_(Gx(D),T,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=qx(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),p=Uy(this._lContainer,d);p&&(gd(Gx(this._lContainer),d),Tw(p[Et],p))}detach(c){const d=this._adjustIndex(c,-1),p=Uy(this._lContainer,d);return p&&null!=gd(Gx(this._lContainer),d)?new $_(p):null}_adjustIndex(c,d=0){return c??this.length+d}};function qx(s){return s[8]}function Gx(s){return s[8]||(s[8]=[])}function Wx(s,c){let d;const p=c[s.index];return Tr(p)?d=p:(d=CS(p,c,null,s),c[s.index]=d,xp(c,d)),l0(d,c,s,p),new Pv(d,s,c)}let l0=function gg(s,c,d,p){if(s[kr])return;let _;_=8&d.type?Ii(p):function XD(s,c){const d=s[on],p=d.createComment(""),_=zo(c,s);return up(d,g_(d,_),p,function Ak(s,c){return s.nextSibling(c)}(d,_),!1),p}(c,d),s[kr]=_};class _g{constructor(c){this.queryList=c,this.matches=null}clone(){return new _g(this.queryList)}setDirty(){this.queryList.setDirty()}}class u0{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const p=null!==c.contentQueries?c.contentQueries[0]:d.length,_=[];for(let b=0;b<p;b++){const T=d.getByIndex(b);_.push(this.queries[T.indexInDeclarationView].clone())}return new u0(_)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==qu(c,d).matches&&this.queries[d].setDirty()}}class Zx{constructor(c,d,p=null){this.predicate=c,this.flags=d,this.read=p}}class d0{constructor(c=[]){this.queries=c}elementStart(c,d){for(let p=0;p<this.queries.length;p++)this.queries[p].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let p=0;p<this.length;p++){const _=null!==d?d.length:0,b=this.getByIndex(p).embeddedTView(c,_);b&&(b.indexInDeclarationView=p,null!==d?d.push(b):d=[b])}return null!==d?new d0(d):null}template(c,d){for(let p=0;p<this.queries.length;p++)this.queries[p].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Kx{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new Kx(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let p=c.parent;for(;null!==p&&8&p.type&&p.index!==d;)p=p.parent;return d===(null!==p?p.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const p=this.metadata.predicate;if(Array.isArray(p))for(let _=0;_<p.length;_++){const b=p[_];this.matchTNodeWithReadOption(c,d,eM(d,b)),this.matchTNodeWithReadOption(c,d,fd(d,c,b,!1,!1))}else p===hg?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,fd(d,c,p,!1,!1))}matchTNodeWithReadOption(c,d,p){if(null!==p){const _=this.metadata.read;if(null!==_)if(_===Rm||_===Ov||_===hg&&4&d.type)this.addMatch(d.index,-2);else{const b=fd(d,c,_,!1,!1);null!==b&&this.addMatch(d.index,b)}else this.addMatch(d.index,p)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function eM(s,c){const d=s.localNames;if(null!==d)for(let p=0;p<d.length;p+=2)if(d[p]===c)return d[p+1];return null}function AP(s,c,d,p){return-1===d?function tM(s,c){return 11&s.type?Pm(s,c):4&s.type?kv(s,c):null}(c,s):-2===d?function kP(s,c,d){return d===Rm?Pm(c,s):d===hg?kv(c,s):d===Ov?Wx(c,s):void 0}(s,c,p):Va(s,s[Et],d,c)}function nM(s,c,d,p){const _=c[Er].queries[p];if(null===_.matches){const b=s.data,T=d.matches,D=[];for(let P=0;P<T.length;P+=2){const B=T[P];D.push(B<0?null:AP(c,b[B],T[P+1],d.metadata.read))}_.matches=D}return _.matches}function Yx(s,c,d,p){const _=s.queries.getByIndex(d),b=_.matches;if(null!==b){const T=nM(s,c,_,d);for(let D=0;D<b.length;D+=2){const P=b[D];if(P>0)p.push(T[D/2]);else{const B=b[D+1],W=c[-P];for(let se=Hi;se<W.length;se++){const Ie=W[se];Ie[bs]===Ie[Ei]&&Yx(Ie[Et],Ie,B,p)}if(null!==W[Wr]){const se=W[Wr];for(let Ie=0;Ie<se.length;Ie++){const Be=se[Ie];Yx(Be[Et],Be,B,p)}}}}}return p}function h0(s){const c=pt(),d=ii(),p=rh();ml(p+1);const _=qu(d,p);if(s.dirty&&function Xd(s){return 4==(4&s[En])}(c)===(2==(2&_.metadata.flags))){if(null===_.matches)s.reset([]);else{const b=_.crossesNgTemplate?Yx(d,c,p,[]):nM(d,c,_,p);s.reset(b,aO),s.notifyOnChanges()}return!0}return!1}function $p(s,c,d){const p=ii();p.firstCreatePass&&(Jx(p,new Zx(s,c,d),-1),2==(2&c)&&(p.staticViewQueries=!0)),f0(p,pt(),c)}function Qx(s,c,d,p){const _=ii();if(_.firstCreatePass){const b=To();Jx(_,new Zx(c,d,p),b.index),function Fv(s,c){const d=s.contentQueries||(s.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(s.queries.length-1,c)}(_,s),2==(2&d)&&(_.staticContentQueries=!0)}f0(_,pt(),d)}function iM(){return function os(s,c){return s[Er].queries[c].queryList}(pt(),rh())}function f0(s,c,d){const p=new Hp(4==(4&d));(function ff(s,c,d,p){const _=gC(c);_.push(d),s.firstCreatePass&&_C(s).push(p,_.length-1)})(s,c,p,p.destroy),null===c[Er]&&(c[Er]=new u0),c[Er].queries.push(new _g(p))}function Jx(s,c,d){null===s.queries&&(s.queries=new d0),s.queries.track(new Kx(c,d))}function qu(s,c){return s.queries.getByIndex(c)}function p0(s,c){return kv(s,c)}function qp(s){return!!wr(s)}const Vv=new nr("Application Initializer");let oE=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p}),this.appInits=Vt(Vv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const d=[];for(const _ of this.appInits){const b=_();if(ov(b))d.push(b);else if(Jm(b)){const T=new Promise((D,P)=>{b.subscribe({complete:D,error:P})});d.push(T)}}const p=()=>{this.done=!0,this.resolve()};Promise.all(d).then(()=>{p()}).catch(_=>{this.reject(_)}),0===d.length&&p(),this.initialized=!0}static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),sE=(()=>{class s{log(d){console.log(d)}warn(d){console.warn(d)}static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();const Kp=new nr("LocaleId",{providedIn:"root",factory:()=>Vt(Kp,sn.Optional|sn.SkipSelf)||function Bv(){return typeof $localize<"u"&&$localize.locale||Dh}()}),jv=new nr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let aE=(()=>{class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ce.X(!1)}add(){this.hasPendingTasks.next(!0);const d=this.taskId++;return this.pendingTasks.add(d),d}remove(d){this.pendingTasks.delete(d),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class g0{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}let _0=(()=>{class s{compileModuleSync(d){return new Ef(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const p=this.compileModuleSync(d),b=hf(wr(d).declarations).reduce((T,D)=>{const P=zn(D);return P&&T.push(new Ch(P)),T},[]);return new g0(p,b)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const b0=new nr(""),Rs=new nr("");let lE,eR=(()=>{class s{constructor(d,p,_){this._ngZone=d,this.registry=p,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,lE||(function tR(s){lE=s}(_),_.addToWindow(p)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(p=>!p.updateCb||!p.updateCb(d)||(clearTimeout(p.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,p,_){let b=-1;p&&p>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==b),d(this._didWork,this.getPendingTasks())},p)),this._callbacks.push({doneCb:d,timeoutId:b,updateCb:_})}whenStable(d,p,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,p,_),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,p,_){return[]}static#e=this.\u0275fac=function(p){return new(p||s)(Dt(Xs),Dt(FM),Dt(Rs))};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac})}return s})(),FM=(()=>{class s{constructor(){this._applications=new Map}registerApplication(d,p){this._applications.set(d,p)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,p=!0){return lE?.findTestabilityInTree(this,d,p)??null}static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})(),Bd=null;const LM=new nr("AllowMultipleToken"),xg=new nr("PlatformDestroyListeners"),Eg=new nr("appBootstrapListener");class zv{constructor(c,d){this.name=c,this.token=d}}function UM(s,c,d=[]){const p=`Platform: ${c}`,_=new nr(p);return(b=[])=>{let T=fE();if(!T||T.injector.get(LM,!1)){const D=[...d,...b,{provide:_,useValue:!0}];s?s(D):function C0(s){if(Bd&&!Bd.get(LM,!1))throw new xe(400,!1);(function w0(){!function Ye(s){ee=s}(()=>{throw new xe(600,!1)})})(),Bd=s;const c=s.get(pE);(function x0(s){s.get(Jy,null)?.forEach(d=>d())})(s)}(function hE(s=[],c){return su.create({name:c,providers:[{provide:Bw,useValue:"platform"},{provide:xg,useValue:new Set([()=>Bd=null])},...s]})}(D,p))}return function VM(s){const c=fE();if(!c)throw new xe(401,!1);return c}()}}function fE(){return Bd?.get(pE)??null}let pE=(()=>{class s{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,p){const _=function zM(s="zone.js",c){return"noop"===s?new V2:"zone.js"===s?new Xs(c):s}(p?.ngZone,function jM(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:p?.ngZoneEventCoalescing,runCoalescing:p?.ngZoneRunCoalescing}));return _.run(()=>{const b=function FD(s,c,d){return new n0(s,c,d)}(d.moduleType,this.injector,function E0(s){return[{provide:Xs,useFactory:s},{provide:E_,multi:!0,useFactory:()=>{const c=Vt(qM,{optional:!0});return()=>c.initialize()}},{provide:mE,useFactory:$M},{provide:mO,useFactory:gO}]}(()=>_)),T=b.injector.get(Td,null);return _.runOutsideAngular(()=>{const D=_.onError.subscribe({next:P=>{T.handleError(P)}});b.onDestroy(()=>{Ig(this._modules,b),D.unsubscribe()})}),function HM(s,c,d){try{const p=d();return ov(p)?p.catch(_=>{throw c.runOutsideAngular(()=>s.handleError(_)),_}):p}catch(p){throw c.runOutsideAngular(()=>s.handleError(p)),p}}(T,_,()=>{const D=b.injector.get(oE);return D.runInitializers(),D.donePromise.then(()=>(function gD(s){Mt(s,"Expected localeId to be defined"),"string"==typeof s&&(mD=s.toLowerCase().replace(/_/g,"-"))}(b.injector.get(Kp,Dh)||Dh),this._moduleDoBootstrap(b),b))})})}bootstrapModule(d,p=[]){const _=Jp({},p);return function nR(s,c,d){const p=new Ef(d);return Promise.resolve(p)}(0,0,d).then(b=>this.bootstrapModuleFactory(b,_))}_moduleDoBootstrap(d){const p=d.injector.get(Wu);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(_=>p.bootstrap(_));else{if(!d.instance.ngDoBootstrap)throw new xe(-403,!1);d.instance.ngDoBootstrap(p)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(p=>p.destroy()),this._destroyListeners.forEach(p=>p());const d=this._injector.get(xg,null);d&&(d.forEach(p=>p()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(p){return new(p||s)(Dt(su))};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function Jp(s,c){return Array.isArray(c)?c.reduce(Jp,s):{...s,...c}}let Wu=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Vt(mE),this.zoneIsStable=Vt(mO),this.componentTypes=[],this.components=[],this.isStable=Vt(aE).hasPendingTasks.pipe((0,ut.w)(d=>d?(0,Pe.of)(!1):this.zoneIsStable),(0,Ve.x)(),(0,ke.B)()),this._injector=Vt(Nu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,p){const _=d instanceof rO;if(!this._injector.get(oE).done)throw!_&&Ma(d),new xe(405,!1);let T;T=_?d:this._injector.get(ab).resolveComponentFactory(d),this.componentTypes.push(T.componentType);const D=function uE(s){return s.isBoundToModule}(T)?void 0:this._injector.get(Fd),B=T.create(su.NULL,[],p||T.selector,D),W=B.location.nativeElement,se=B.injector.get(b0,null);return se?.registerApplication(W),B.onDestroy(()=>{this.detachView(B.hostView),Ig(this.components,B),se?.unregisterApplication(W)}),this._loadComponent(B),B}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1}}attachView(d){const p=d;this._views.push(p),p.attachToAppRef(this)}detachView(d){const p=d;Ig(this._views,p),p.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const p=this._injector.get(Eg,[]);p.push(...this._bootstrapListeners),p.forEach(_=>_(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Ig(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new xe(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Ig(s,c){const d=s.indexOf(c);d>-1&&s.splice(d,1)}const mE=new nr("",{providedIn:"root",factory:()=>Vt(Td).handleError.bind(void 0)});function $M(){const s=Vt(Xs),c=Vt(Td);return d=>s.runOutsideAngular(()=>c.handleError(d))}let qM=(()=>{class s{constructor(){this.zone=Vt(Xs),this.applicationRef=Vt(Wu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(p){return new(p||s)};static#t=this.\u0275prov=fn({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function gE(){return!1}let qv=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=I0}return s})();function I0(s){return function _E(s,c,d){if(Or(s)&&!d){const p=Yi(s.index,c);return new $_(p,p)}return 47&s.type?new $_(c[xr],c):null}(To(),pt(),16==(16&s))}class YM{constructor(){}supports(c){return W_(c)}create(c){return new Gv(c)}}const hR=(s,c)=>c;class Gv{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||hR}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,p=this._removalsHead,_=0,b=null;for(;d||p;){const T=!p||d&&d.currentIndex<Wv(p,_,b)?d:p,D=Wv(T,_,b),P=T.currentIndex;if(T===p)_--,p=p._nextRemoved;else if(d=d._next,null==T.previousIndex)_++;else{b||(b=[]);const B=D-_,W=P-_;if(B!=W){for(let Ie=0;Ie<B;Ie++){const Be=Ie<b.length?b[Ie]:b[Ie]=0,ft=Be+Ie;W<=ft&&ft<B&&(b[Ie]=Be+1)}b[T.previousIndex]=W-B}}D!==P&&c(T,D,P)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!W_(c))throw new xe(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let _,b,T,d=this._itHead,p=!1;if(Array.isArray(c)){this.length=c.length;for(let D=0;D<this.length;D++)b=c[D],T=this._trackByFn(D,b),null!==d&&Object.is(d.trackById,T)?(p&&(d=this._verifyReinsertion(d,b,T,D)),Object.is(d.item,b)||this._addIdentityChange(d,b)):(d=this._mismatch(d,b,T,D),p=!0),d=d._next}else _=0,function Eb(s,c){if(Array.isArray(s))for(let d=0;d<s.length;d++)c(s[d]);else{const d=s[Symbol.iterator]();let p;for(;!(p=d.next()).done;)c(p.value)}}(c,D=>{T=this._trackByFn(_,D),null!==d&&Object.is(d.trackById,T)?(p&&(d=this._verifyReinsertion(d,D,T,_)),Object.is(d.item,D)||this._addIdentityChange(d,D)):(d=this._mismatch(d,D,T,_),p=!0),d=d._next,_++}),this.length=_;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,p,_){let b;return null===c?b=this._itTail:(b=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,b,_)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(p,_))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,b,_)):c=this._addAfter(new wE(d,p),b,_),c}_verifyReinsertion(c,d,p,_){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null);return null!==b?c=this._reinsertAfter(b,c._prev,_):c.currentIndex!=_&&(c.currentIndex=_,this._addToMoves(c,_)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,p){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const _=c._prevRemoved,b=c._nextRemoved;return null===_?this._removalsHead=b:_._nextRemoved=b,null===b?this._removalsTail=_:b._prevRemoved=_,this._insertAfter(c,d,p),this._addToMoves(c,p),c}_moveAfter(c,d,p){return this._unlink(c),this._insertAfter(c,d,p),this._addToMoves(c,p),c}_addAfter(c,d,p){return this._insertAfter(c,d,p),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,p){const _=null===d?this._itHead:d._next;return c._next=_,c._prev=d,null===_?this._itTail=c:_._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new M0),this._linkedRecords.put(c),c.currentIndex=p,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,p=c._next;return null===d?this._itHead=p:d._next=p,null===p?this._itTail=d:p._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new M0),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class wE{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Dg{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let p;for(p=this._head;null!==p;p=p._nextDup)if((null===d||d<=p.currentIndex)&&Object.is(p.trackById,c))return p;return null}remove(c){const d=c._prevDup,p=c._nextDup;return null===d?this._head=p:d._nextDup=p,null===p?this._tail=d:p._prevDup=d,null===this._head}}class M0{constructor(){this.map=new Map}put(c){const d=c.trackById;let p=this.map.get(d);p||(p=new Dg,this.map.set(d,p)),p.add(c)}get(c,d){const _=this.map.get(c);return _?_.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Wv(s,c,d){const p=s.previousIndex;if(null===p)return p;let _=0;return d&&p<d.length&&(_=d[p]),p+c+_}class Mg{constructor(){}supports(c){return c instanceof Map||Ib(c)}create(){return new CE}}class CE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||Ib(c)))throw new xe(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(p,_)=>{if(d&&d.key===_)this._maybeAddToChanges(d,p),this._appendAfter=d,d=d._next;else{const b=this._getOrCreateRecordForKey(_,p);d=this._insertBeforeOrAppend(d,b)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let p=d;null!==p;p=p._nextRemoved)p===this._mapHead&&(this._mapHead=null),this._records.delete(p.key),p._nextRemoved=p._next,p.previousValue=p.currentValue,p.currentValue=null,p._prev=null,p._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const p=c._prev;return d._next=c,d._prev=p,c._prev=d,p&&(p._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const _=this._records.get(c);this._maybeAddToChanges(_,d);const b=_._prev,T=_._next;return b&&(b._next=T),T&&(T._prev=b),_._next=null,_._prev=null,_}const p=new QM(c);return this._records.set(c,p),p.currentValue=d,this._addToAdditions(p),p}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(p=>d(c[p],p))}}class QM{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function A0(){return new Zv([new YM])}let Zv=(()=>{class s{static#e=this.\u0275prov=fn({token:s,providedIn:"root",factory:A0});constructor(d){this.factories=d}static create(d,p){if(null!=p){const _=p.factories.slice();d=d.concat(_)}return new s(d)}static extend(d){return{provide:s,useFactory:p=>s.create(d,p||A0()),deps:[[s,new Nt,new Xe]]}}find(d){const p=this.factories.find(_=>_.supports(d));if(null!=p)return p;throw new xe(901,!1)}}return s})();function xE(){return new EE([new Mg])}let EE=(()=>{class s{static#e=this.\u0275prov=fn({token:s,providedIn:"root",factory:xE});constructor(d){this.factories=d}static create(d,p){if(p){const _=p.factories.slice();d=d.concat(_)}return new s(d)}static extend(d){return{provide:s,useFactory:p=>s.create(d,p||xE()),deps:[[s,new Nt,new Xe]]}}find(d){const p=this.factories.find(_=>_.supports(d));if(p)return p;throw new xe(901,!1)}}return s})();const TE=UM(null,"core",[]);let k0=(()=>{class s{constructor(d){}static#e=this.\u0275fac=function(p){return new(p||s)(Dt(Wu))};static#t=this.\u0275mod=Ki({type:s});static#n=this.\u0275inj=Dn({})}return s})();function o1(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function yR(s){const c=zn(s);if(!c)return null;const d=new Ch(c);return{get selector(){return d.selector},get type(){return d.componentType},get inputs(){return d.inputs},get outputs(){return d.outputs},get ngContentSelectors(){return d.ngContentSelectors},get isStandalone(){return c.standalone},get isSignal(){return c.signals}}}},4097:(en,Me,Q)=>{Q.d(Me,{C6:()=>a.getApps,KN:()=>a.registerVersion,Mq:()=>a.getApp,ZF:()=>a.initializeApp});var a=Q(534);(0,a.registerVersion)("firebase","9.23.0","app")},120:(en,Me,Q)=>{Q.d(Me,{Z:()=>a.Z});var a=Q(3106);a.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(en,Me,Q)=>{Q.r(Me);var a=Q(5861),U=Q(3106),K=Q(6710),pe=Q(9058),ke=(Q(534),Q(7879),Q(4537));function ut(){return window}function G(){return G=(0,a.Z)(function*(X,te,Y){var Ae;const{BuildInfo:Qe}=ut();(0,K.as)(te.sessionId,"AuthEvent did not contain a session ID");const Dt=yield function Re(X){return at.apply(this,arguments)}(te.sessionId),yn={};return(0,K.at)()?yn.ibi=Qe.packageName:(0,K.au)()?yn.apn=Qe.packageName:(0,K.av)(X,"operation-not-supported-in-this-environment"),Qe.displayName&&(yn.appDisplayName=Qe.displayName),yn.sessionId=Dt,(0,K.aw)(X,Y,te.type,void 0,null!==(Ae=te.eventId)&&void 0!==Ae?Ae:void 0,yn)}),G.apply(this,arguments)}function Ne(){return(Ne=(0,a.Z)(function*(X){const{BuildInfo:te}=ut(),Y={};(0,K.at)()?Y.iosBundleId=te.packageName:(0,K.au)()?Y.androidPackageName=te.packageName:(0,K.av)(X,"operation-not-supported-in-this-environment"),yield(0,K.ax)(X,Y)})).apply(this,arguments)}function st(){return(st=(0,a.Z)(function*(X,te,Y){const{cordova:Ae}=ut();let Qe=()=>{};try{yield new Promise((Dt,yn)=>{let Vt=null;function Xn(){var Nn;Dt();const vr=null===(Nn=Ae.plugins.browsertab)||void 0===Nn?void 0:Nn.close;"function"==typeof vr&&vr(),"function"==typeof Y?.close&&Y.close()}function xn(){Vt||(Vt=window.setTimeout(()=>{yn((0,K.az)(X,"redirect-cancelled-by-user"))},2e3))}function ai(){"visible"===document?.visibilityState&&xn()}te.addPassiveListener(Xn),document.addEventListener("resume",xn,!1),(0,K.au)()&&document.addEventListener("visibilitychange",ai,!1),Qe=()=>{te.removePassiveListener(Xn),document.removeEventListener("resume",xn,!1),document.removeEventListener("visibilitychange",ai,!1),Vt&&window.clearTimeout(Vt)}})}finally{Qe()}})).apply(this,arguments)}function at(){return(at=(0,a.Z)(function*(X){const te=function Ze(X){if((0,K.as)(/[0-9a-zA-Z]+/.test(X),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(X);const te=new ArrayBuffer(X.length),Y=new Uint8Array(te);for(let Ae=0;Ae<X.length;Ae++)Y[Ae]=X.charCodeAt(Ae);return Y}(X),Y=yield crypto.subtle.digest("SHA-256",te);return Array.from(new Uint8Array(Y)).map(Qe=>Qe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class nt extends K.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(te=>{this.resolveInialized=te})}addPassiveListener(te){this.passiveListeners.add(te)}removePassiveListener(te){this.passiveListeners.delete(te)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(te){return this.resolveInialized(),this.passiveListeners.forEach(Y=>Y(te)),super.onEvent(te)}initialized(){var te=this;return(0,a.Z)(function*(){yield te.initPromise})()}}function he(X){return ue.apply(this,arguments)}function ue(){return(ue=(0,a.Z)(function*(X){const te=yield Ct()._get(ot(X));return te&&(yield Ct()._remove(ot(X))),te})).apply(this,arguments)}function Le(){const X=[];for(let Y=0;Y<20;Y++){const Ae=Math.floor(62*Math.random());X.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Ae))}return X.join("")}function Ct(){return(0,K.aC)(K.b)}function ot(X){return(0,K.aD)("authEvent",X.config.apiKey,X.name)}function un(X){if(!X?.includes("?"))return{};const[te,...Y]=X.split("?");return(0,pe.zd)(Y.join("?"))}const Se=class fi{constructor(){this._redirectPersistence=K.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=K.aE,this._overrideRedirectResult=K.aF}_initialize(te){var Y=this;return(0,a.Z)(function*(){const Ae=te._key();let Qe=Y.eventManagers.get(Ae);return Qe||(Qe=new nt(te),Y.eventManagers.set(Ae,Qe),Y.attachCallbackListeners(te,Qe)),Qe})()}_openPopup(te){(0,K.av)(te,"operation-not-supported-in-this-environment")}_openRedirect(te,Y,Ae,Qe){var Dt=this;return(0,a.Z)(function*(){!function mt(X){var te,Y,Ae,Qe,Dt,yn,Vt,Xn,xn,ai;const Nn=ut();(0,K.aA)("function"==typeof(null===(te=Nn?.universalLinks)||void 0===te?void 0:te.subscribe),X,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,K.aA)(typeof(null===(Y=Nn?.BuildInfo)||void 0===Y?void 0:Y.packageName)<"u",X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,K.aA)("function"==typeof(null===(Dt=null===(Qe=null===(Ae=Nn?.cordova)||void 0===Ae?void 0:Ae.plugins)||void 0===Qe?void 0:Qe.browsertab)||void 0===Dt?void 0:Dt.openUrl),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,K.aA)("function"==typeof(null===(Xn=null===(Vt=null===(yn=Nn?.cordova)||void 0===yn?void 0:yn.plugins)||void 0===Vt?void 0:Vt.browsertab)||void 0===Xn?void 0:Xn.isAvailable),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,K.aA)("function"==typeof(null===(ai=null===(xn=Nn?.cordova)||void 0===xn?void 0:xn.InAppBrowser)||void 0===ai?void 0:ai.open),X,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(te);const yn=yield Dt._initialize(te);yield yn.initialized(),yn.resetRedirect(),(0,K.aG)(),yield Dt._originValidation(te);const Vt=function $e(X,te,Y=null){return{type:te,eventId:Y,urlResponse:null,sessionId:Le(),postBody:null,tenantId:X.tenantId,error:(0,K.az)(X,"no-auth-event")}}(te,Ae,Qe);yield function it(X,te){return Ct()._set(ot(X),te)}(te,Vt);const Xn=yield function z(X,te,Y){return G.apply(this,arguments)}(te,Vt,Y),xn=yield function me(X){const{cordova:te}=ut();return new Promise(Y=>{te.plugins.browsertab.isAvailable(Ae=>{let Qe=null;Ae?te.plugins.browsertab.openUrl(X):Qe=te.InAppBrowser.open(X,(0,K.ay)()?"_blank":"_system","location=yes"),Y(Qe)})})}(Xn);return function lt(X,te,Y){return st.apply(this,arguments)}(te,yn,xn)})()}_isIframeWebStorageSupported(te,Y){throw new Error("Method not implemented.")}_originValidation(te){const Y=te._key();return this.originValidationPromises[Y]||(this.originValidationPromises[Y]=function de(X){return Ne.apply(this,arguments)}(te)),this.originValidationPromises[Y]}attachCallbackListeners(te,Y){const{universalLinks:Ae,handleOpenURL:Qe,BuildInfo:Dt}=ut(),yn=setTimeout((0,a.Z)(function*(){yield he(te),Y.onEvent(Ce())}),500),Vt=function(){var ai=(0,a.Z)(function*(Nn){clearTimeout(yn);const vr=yield he(te);let Ko=null;vr&&Nn?.url&&(Ko=function Ge(X,te){var Y,Ae;const Qe=function nn(X){const te=un(X),Y=te.link?decodeURIComponent(te.link):void 0,Ae=un(Y).link,Qe=te.deep_link_id?decodeURIComponent(te.deep_link_id):void 0;return un(Qe).link||Qe||Ae||Y||X}(te);if(Qe.includes("/__/auth/callback")){const Dt=un(Qe),yn=Dt.firebaseError?function Kt(X){try{return JSON.parse(X)}catch{return null}}(decodeURIComponent(Dt.firebaseError)):null,Vt=null===(Ae=null===(Y=yn?.code)||void 0===Y?void 0:Y.split("auth/"))||void 0===Ae?void 0:Ae[1],Xn=Vt?(0,K.az)(Vt):null;return Xn?{type:X.type,eventId:X.eventId,tenantId:X.tenantId,error:Xn,urlResponse:null,sessionId:null,postBody:null}:{type:X.type,eventId:X.eventId,tenantId:X.tenantId,sessionId:X.sessionId,urlResponse:Qe,postBody:null}}return null}(vr,Nn.url)),Y.onEvent(Ko||Ce())});return function(vr){return ai.apply(this,arguments)}}();typeof Ae<"u"&&"function"==typeof Ae.subscribe&&Ae.subscribe(null,Vt);const Xn=Qe,xn=`${Dt.packageName.toLowerCase()}://`;ut().handleOpenURL=function(){var ai=(0,a.Z)(function*(Nn){if(Nn.toLowerCase().startsWith(xn)&&Vt({url:Nn}),"function"==typeof Xn)try{Xn(Nn)}catch(vr){console.error(vr)}});return function(Nn){return ai.apply(this,arguments)}}()}};function Ce(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,K.az)("no-auth-event")}}function Mt(){var X;return(null===(X=self?.location)||void 0===X?void 0:X.protocol)||null}function Sn(X=(0,pe.z$)()){return!("file:"!==Mt()&&"ionic:"!==Mt()&&"capacitor:"!==Mt()||!X.toLowerCase().match(/iphone|ipad|ipod|android/))}function Dn(){try{const X=self.localStorage,te=K.aL();if(X)return X.setItem(te,"1"),X.removeItem(te),!function tn(X=(0,pe.z$)()){return function Fn(){return(0,pe.w1)()&&11===document?.documentMode}()||function fn(X=(0,pe.z$)()){return/Edge\/\d+/.test(X)}(X)}()||(0,pe.hl)()}catch{return Ut()&&(0,pe.hl)()}return!1}function Ut(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function cn(){return(function bt(){return"http:"===Mt()||"https:"===Mt()}()||(0,pe.ru)()||Sn())&&!function dn(){return(0,pe.b$)()||(0,pe.UG)()}()&&Dn()&&!Ut()}function Ln(){return Sn()&&typeof document<"u"}function wi(){return(wi=(0,a.Z)(function*(){return!!Ln()&&new Promise(X=>{const te=setTimeout(()=>{X(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(te),X(!0)})})})).apply(this,arguments)}const ni={LOCAL:"local",NONE:"none",SESSION:"session"},zi=K.aA,Ro="persistence";function Yt(X){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,a.Z)(function*(X){yield X._initializationPromise;const te=Te(),Y=K.aD(Ro,X.config.apiKey,X.name);te&&te.setItem(Y,X._getPersistence())})).apply(this,arguments)}function Te(){var X;try{return(null===(X=function Mi(){return typeof window<"u"?window:null}())||void 0===X?void 0:X.sessionStorage)||null}catch{return null}}const we=K.aA;class Ee{constructor(){this.browserResolver=K.aC(K.k),this.cordovaResolver=K.aC(Se),this.underlyingResolver=null,this._redirectPersistence=K.a,this._completeRedirectFn=K.aE,this._overrideRedirectResult=K.aF}_initialize(te){var Y=this;return(0,a.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._initialize(te)})()}_openPopup(te,Y,Ae,Qe){var Dt=this;return(0,a.Z)(function*(){return yield Dt.selectUnderlyingResolver(),Dt.assertedUnderlyingResolver._openPopup(te,Y,Ae,Qe)})()}_openRedirect(te,Y,Ae,Qe){var Dt=this;return(0,a.Z)(function*(){return yield Dt.selectUnderlyingResolver(),Dt.assertedUnderlyingResolver._openRedirect(te,Y,Ae,Qe)})()}_isIframeWebStorageSupported(te,Y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(te,Y)}_originValidation(te){return this.assertedUnderlyingResolver._originValidation(te)}get _shouldInitProactively(){return Ln()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return we(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var te=this;return(0,a.Z)(function*(){if(te.underlyingResolver)return;const Y=yield function Vn(){return wi.apply(this,arguments)}();te.underlyingResolver=Y?te.cordovaResolver:te.browserResolver})()}}function qe(X){return X.unwrap()}function xt(X){return jt(X)}function jt(X){const{_tokenResponse:te}=X instanceof pe.ZR?X.customData:X;if(!te)return null;if(!(X instanceof pe.ZR)&&"temporaryProof"in te&&"phoneNumber"in te)return K.P.credentialFromResult(X);const Y=te.providerId;if(!Y||Y===K.p.PASSWORD)return null;let Ae;switch(Y){case K.p.GOOGLE:Ae=K.V;break;case K.p.FACEBOOK:Ae=K.U;break;case K.p.GITHUB:Ae=K.W;break;case K.p.TWITTER:Ae=K.Z;break;default:const{oauthIdToken:Qe,oauthAccessToken:Dt,oauthTokenSecret:yn,pendingToken:Vt,nonce:Xn}=te;return Dt||yn||Qe||Vt?Vt?Y.startsWith("saml.")?K.aO._create(Y,Vt):K.L._fromParams({providerId:Y,signInMethod:Y,pendingToken:Vt,idToken:Qe,accessToken:Dt}):new K.X(Y).credential({idToken:Qe,accessToken:Dt,rawNonce:Xn}):null}return X instanceof pe.ZR?Ae.credentialFromError(X):Ae.credentialFromResult(X)}function Xt(X,te){return te.catch(Y=>{throw Y instanceof pe.ZR&&function mn(X,te){var Y;const Ae=null===(Y=te.customData)||void 0===Y?void 0:Y._tokenResponse;if("auth/multi-factor-auth-required"===te?.code)te.resolver=new vi(X,K.aq(X,te));else if(Ae){const Qe=jt(te),Dt=te;Qe&&(Dt.credential=Qe,Dt.tenantId=Ae.tenantId||void 0,Dt.email=Ae.email||void 0,Dt.phoneNumber=Ae.phoneNumber||void 0)}}(X,Y),Y}).then(Y=>{const Qe=Y.user;return{operationType:Y.operationType,credential:xt(Y),additionalUserInfo:K.ao(Y),user:$n.getOrCreate(Qe)}})}function Ht(X,te){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,a.Z)(function*(X,te){const Y=yield te;return{verificationId:Y.verificationId,confirm:Ae=>Xt(X,Y.confirm(Ae))}})).apply(this,arguments)}class vi{constructor(te,Y){this.resolver=Y,this.auth=function Fe(X){return X.wrapped()}(te)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(te){return Xt(qe(this.auth),this.resolver.resolveSignIn(te))}}class $n{constructor(te){this._delegate=te,this.multiFactor=K.ar(te)}static getOrCreate(te){return $n.USER_MAP.has(te)||$n.USER_MAP.set(te,new $n(te)),$n.USER_MAP.get(te)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(te){return this._delegate.getIdTokenResult(te)}getIdToken(te){return this._delegate.getIdToken(te)}linkAndRetrieveDataWithCredential(te){return this.linkWithCredential(te)}linkWithCredential(te){var Y=this;return(0,a.Z)(function*(){return Xt(Y.auth,K.a0(Y._delegate,te))})()}linkWithPhoneNumber(te,Y){var Ae=this;return(0,a.Z)(function*(){return Ht(Ae.auth,K.l(Ae._delegate,te,Y))})()}linkWithPopup(te){var Y=this;return(0,a.Z)(function*(){return Xt(Y.auth,K.d(Y._delegate,te,Ee))})()}linkWithRedirect(te){var Y=this;return(0,a.Z)(function*(){return yield Yt(K.aH(Y.auth)),K.g(Y._delegate,te,Ee)})()}reauthenticateAndRetrieveDataWithCredential(te){return this.reauthenticateWithCredential(te)}reauthenticateWithCredential(te){var Y=this;return(0,a.Z)(function*(){return Xt(Y.auth,K.a1(Y._delegate,te))})()}reauthenticateWithPhoneNumber(te,Y){return Ht(this.auth,K.r(this._delegate,te,Y))}reauthenticateWithPopup(te){return Xt(this.auth,K.e(this._delegate,te,Ee))}reauthenticateWithRedirect(te){var Y=this;return(0,a.Z)(function*(){return yield Yt(K.aH(Y.auth)),K.h(Y._delegate,te,Ee)})()}sendEmailVerification(te){return K.ae(this._delegate,te)}unlink(te){var Y=this;return(0,a.Z)(function*(){return yield K.an(Y._delegate,te),Y})()}updateEmail(te){return K.aj(this._delegate,te)}updatePassword(te){return K.ak(this._delegate,te)}updatePhoneNumber(te){return K.u(this._delegate,te)}updateProfile(te){return K.ai(this._delegate,te)}verifyBeforeUpdateEmail(te,Y){return K.af(this._delegate,te,Y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$n.USER_MAP=new WeakMap;const Li=K.aA;let qn=(()=>{class X{constructor(Y,Ae){if(this.app=Y,Ae.isInitialized())return this._delegate=Ae.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Qe}=Y.options;Li(Qe,"invalid-api-key",{appName:Y.name}),Li(Qe,"invalid-api-key",{appName:Y.name});const Dt=typeof window<"u"?Ee:void 0;this._delegate=Ae.initialize({options:{persistence:pi(Qe,Y.name),popupRedirectResolver:Dt}}),this._delegate._updateErrorMap(K.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$n.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Y){this._delegate.languageCode=Y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Y){this._delegate.tenantId=Y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Y,Ae){K.I(this._delegate,Y,Ae)}applyActionCode(Y){return K.a5(this._delegate,Y)}checkActionCode(Y){return K.a6(this._delegate,Y)}confirmPasswordReset(Y,Ae){return K.a4(this._delegate,Y,Ae)}createUserWithEmailAndPassword(Y,Ae){var Qe=this;return(0,a.Z)(function*(){return Xt(Qe._delegate,K.a8(Qe._delegate,Y,Ae))})()}fetchProvidersForEmail(Y){return this.fetchSignInMethodsForEmail(Y)}fetchSignInMethodsForEmail(Y){return K.ad(this._delegate,Y)}isSignInWithEmailLink(Y){return K.ab(this._delegate,Y)}getRedirectResult(){var Y=this;return(0,a.Z)(function*(){Li(cn(),Y._delegate,"operation-not-supported-in-this-environment");const Ae=yield K.j(Y._delegate,Ee);return Ae?Xt(Y._delegate,Promise.resolve(Ae)):{credential:null,user:null}})()}addFrameworkForLogging(Y){!function He(X,te){(0,K.aH)(X)._logFramework(te)}(this._delegate,Y)}onAuthStateChanged(Y,Ae,Qe){const{next:Dt,error:yn,complete:Vt}=gr(Y,Ae,Qe);return this._delegate.onAuthStateChanged(Dt,yn,Vt)}onIdTokenChanged(Y,Ae,Qe){const{next:Dt,error:yn,complete:Vt}=gr(Y,Ae,Qe);return this._delegate.onIdTokenChanged(Dt,yn,Vt)}sendSignInLinkToEmail(Y,Ae){return K.aa(this._delegate,Y,Ae)}sendPasswordResetEmail(Y,Ae){return K.a3(this._delegate,Y,Ae||void 0)}setPersistence(Y){var Ae=this;return(0,a.Z)(function*(){let Qe;switch(function sn(X,te){zi(Object.values(ni).includes(te),X,"invalid-persistence-type"),(0,pe.b$)()?zi(te!==ni.SESSION,X,"unsupported-persistence-type"):(0,pe.UG)()?zi(te===ni.NONE,X,"unsupported-persistence-type"):Ut()?zi(te===ni.NONE||te===ni.LOCAL&&(0,pe.hl)(),X,"unsupported-persistence-type"):zi(te===ni.NONE||Dn(),X,"unsupported-persistence-type")}(Ae._delegate,Y),Y){case ni.SESSION:Qe=K.a;break;case ni.LOCAL:Qe=(yield K.aC(K.i)._isAvailable())?K.i:K.b;break;case ni.NONE:Qe=K.N;break;default:return K.av("argument-error",{appName:Ae._delegate.name})}return Ae._delegate.setPersistence(Qe)})()}signInAndRetrieveDataWithCredential(Y){return this.signInWithCredential(Y)}signInAnonymously(){return Xt(this._delegate,K._(this._delegate))}signInWithCredential(Y){return Xt(this._delegate,K.$(this._delegate,Y))}signInWithCustomToken(Y){return Xt(this._delegate,K.a2(this._delegate,Y))}signInWithEmailAndPassword(Y,Ae){return Xt(this._delegate,K.a9(this._delegate,Y,Ae))}signInWithEmailLink(Y,Ae){return Xt(this._delegate,K.ac(this._delegate,Y,Ae))}signInWithPhoneNumber(Y,Ae){return Ht(this._delegate,K.s(this._delegate,Y,Ae))}signInWithPopup(Y){var Ae=this;return(0,a.Z)(function*(){return Li(cn(),Ae._delegate,"operation-not-supported-in-this-environment"),Xt(Ae._delegate,K.c(Ae._delegate,Y,Ee))})()}signInWithRedirect(Y){var Ae=this;return(0,a.Z)(function*(){return Li(cn(),Ae._delegate,"operation-not-supported-in-this-environment"),yield Yt(Ae._delegate),K.f(Ae._delegate,Y,Ee)})()}updateCurrentUser(Y){return this._delegate.updateCurrentUser(Y)}verifyPasswordResetCode(Y){return K.a7(this._delegate,Y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return X.Persistence=ni,X})();function gr(X,te,Y){let Ae=X;"function"!=typeof X&&({next:Ae,error:te,complete:Y}=X);const Qe=Ae;return{next:yn=>Qe(yn&&$n.getOrCreate(yn)),error:te,complete:Y}}function pi(X,te){const Y=function zt(X,te){const Y=Te();if(!Y)return[];const Ae=K.aD(Ro,X,te);switch(Y.getItem(Ae)){case ni.NONE:return[K.N];case ni.LOCAL:return[K.i,K.a];case ni.SESSION:return[K.a];default:return[]}}(X,te);if(typeof self<"u"&&!Y.includes(K.i)&&Y.push(K.i),typeof window<"u")for(const Ae of[K.b,K.a])Y.includes(Ae)||Y.push(Ae);return Y.includes(K.N)||Y.push(K.N),Y}class xi{constructor(){this.providerId="phone",this._delegate=new K.P(qe(U.Z.auth()))}static credential(te,Y){return K.P.credential(te,Y)}verifyPhoneNumber(te,Y){return this._delegate.verifyPhoneNumber(te,Y)}unwrap(){return this._delegate}}xi.PHONE_SIGN_IN_METHOD=K.P.PHONE_SIGN_IN_METHOD,xi.PROVIDER_ID=K.P.PROVIDER_ID;const _r=K.aA;class go{constructor(te,Y,Ae=U.Z.app()){var Qe;_r(null===(Qe=Ae.options)||void 0===Qe?void 0:Qe.apiKey,"invalid-api-key",{appName:Ae.name}),this._delegate=new K.R(te,Y,Ae.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function le(X){X.INTERNAL.registerComponent(new ke.wA("auth-compat",te=>{const Y=te.getProvider("app-compat").getImmediate(),Ae=te.getProvider("auth");return new qn(Y,Ae)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:K.A.EMAIL_SIGNIN,PASSWORD_RESET:K.A.PASSWORD_RESET,RECOVER_EMAIL:K.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:K.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:K.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:K.A.VERIFY_EMAIL}},EmailAuthProvider:K.Q,FacebookAuthProvider:K.U,GithubAuthProvider:K.W,GoogleAuthProvider:K.V,OAuthProvider:K.X,SAMLAuthProvider:K.Y,PhoneAuthProvider:xi,PhoneMultiFactorGenerator:K.m,RecaptchaVerifier:go,TwitterAuthProvider:K.Z,Auth:qn,AuthCredential:K.J,Error:pe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),X.registerVersion("@firebase/auth-compat","0.4.2")}(U.Z)},3106:(en,Me,Q)=>{Q.d(Me,{Z:()=>lt});var a=Q(9058),U=Q(4537),K=Q(534),pe=Q(7879);class ce{constructor(mt,Re){this._delegate=mt,this.firebase=Re,(0,K._addComponent)(mt,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=mt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(mt){this._delegate.automaticDataCollectionEnabled=mt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(mt=>{this._delegate.checkDestroyed(),mt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,K.deleteApp)(this._delegate)))}_getService(mt,Re=K._DEFAULT_ENTRY_NAME){var at;this._delegate.checkDestroyed();const Ze=this._delegate.container.getProvider(mt);return!Ze.isInitialized()&&"EXPLICIT"===(null===(at=Ze.getComponent())||void 0===at?void 0:at.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:Re})}_removeServiceInstance(mt,Re=K._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(mt).clearInstance(Re)}_addComponent(mt){(0,K._addComponent)(this._delegate,mt)}_addOrOverwriteComponent(mt){(0,K._addOrOverwriteComponent)(this._delegate,mt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ke=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function Ve(){const st=function ut(st){const mt={},Re={__esModule:!0,initializeApp:function xe(he,ue={}){const Ge=K.initializeApp(he,ue);if((0,a.r3)(mt,Ge.name))return mt[Ge.name];const Le=new st(Ge,Re);return mt[Ge.name]=Le,Le},app:Ze,registerVersion:K.registerVersion,setLogLevel:K.setLogLevel,onLog:K.onLog,apps:null,SDK_VERSION:K.SDK_VERSION,INTERNAL:{registerComponent:function $e(he){const ue=he.name,Ge=ue.replace("-compat","");if(K._registerComponent(he)&&"PUBLIC"===he.type){const Le=(Ct=Ze())=>{if("function"!=typeof Ct[Ge])throw ke.create("invalid-app-argument",{appName:ue});return Ct[Ge]()};void 0!==he.serviceProps&&(0,a.ZB)(Le,he.serviceProps),Re[Ge]=Le,st.prototype[Ge]=function(...Ct){return this._getService.bind(this,ue).apply(this,he.multipleInstances?Ct:[])}}return"PUBLIC"===he.type?Re[Ge]:null},removeApp:function at(he){delete mt[he]},useAsService:function it(he,ue){return"serverAuth"===ue?null:ue},modularAPIs:K}};function Ze(he){if(!(0,a.r3)(mt,he=he||K._DEFAULT_ENTRY_NAME))throw ke.create("no-app",{appName:he});return mt[he]}return Re.default=Re,Object.defineProperty(Re,"apps",{get:function nt(){return Object.keys(mt).map(he=>mt[he])}}),Ze.App=st,Re}(ce);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:Ve,extendNamespace:function mt(Re){(0,a.ZB)(st,Re)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),st}(),G=new pe.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const lt=z;!function me(st){(0,K.registerVersion)("@firebase/app-compat","0.2.13",st)}()},534:(en,Me,Q)=>{Q.r(Me),Q.d(Me,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>Ht,_DEFAULT_ENTRY_NAME:()=>sn,_addComponent:()=>Te,_addOrOverwriteComponent:()=>we,_apps:()=>Qt,_clearComponents:()=>xt,_components:()=>zt,_getProvider:()=>qe,_registerComponent:()=>Ee,_removeServiceInstance:()=>Fe,deleteApp:()=>Li,getApp:()=>vi,getApps:()=>$n,initializeApp:()=>Ci,onLog:()=>pi,registerVersion:()=>gr,setLogLevel:()=>xi});var a=Q(5861),U=Q(4537),K=Q(7879),pe=Q(9058);const ce=(Je,ze)=>ze.some(_t=>Je instanceof _t);let Pe,ke;const z=new WeakMap,G=new WeakMap,de=new WeakMap,Ne=new WeakMap,me=new WeakMap;let mt={get(Je,ze,_t){if(Je instanceof IDBTransaction){if("done"===ze)return G.get(Je);if("objectStoreNames"===ze)return Je.objectStoreNames||de.get(Je);if("store"===ze)return _t.objectStoreNames[1]?void 0:_t.objectStore(_t.objectStoreNames[0])}return xe(Je[ze])},set:(Je,ze,_t)=>(Je[ze]=_t,!0),has:(Je,ze)=>Je instanceof IDBTransaction&&("done"===ze||"store"===ze)||ze in Je};function Ze(Je){return"function"==typeof Je?function at(Je){return Je!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ve(){return ke||(ke=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Je)?function(...ze){return Je.apply(nt(this),ze),xe(z.get(this))}:function(...ze){return xe(Je.apply(nt(this),ze))}:function(ze,..._t){const Zt=Je.call(nt(this),ze,..._t);return de.set(Zt,ze.sort?ze.sort():[ze]),xe(Zt)}}(Je):(Je instanceof IDBTransaction&&function st(Je){if(G.has(Je))return;const ze=new Promise((_t,Zt)=>{const Pt=()=>{Je.removeEventListener("complete",kn),Je.removeEventListener("error",ri),Je.removeEventListener("abort",ri)},kn=()=>{_t(),Pt()},ri=()=>{Zt(Je.error||new DOMException("AbortError","AbortError")),Pt()};Je.addEventListener("complete",kn),Je.addEventListener("error",ri),Je.addEventListener("abort",ri)});G.set(Je,ze)}(Je),ce(Je,function ut(){return Pe||(Pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Je,mt):Je)}function xe(Je){if(Je instanceof IDBRequest)return function lt(Je){const ze=new Promise((_t,Zt)=>{const Pt=()=>{Je.removeEventListener("success",kn),Je.removeEventListener("error",ri)},kn=()=>{_t(xe(Je.result)),Pt()},ri=()=>{Zt(Je.error),Pt()};Je.addEventListener("success",kn),Je.addEventListener("error",ri)});return ze.then(_t=>{_t instanceof IDBCursor&&z.set(_t,Je)}).catch(()=>{}),me.set(ze,Je),ze}(Je);if(Ne.has(Je))return Ne.get(Je);const ze=Ze(Je);return ze!==Je&&(Ne.set(Je,ze),me.set(ze,Je)),ze}const nt=Je=>me.get(Je),he=["get","getKey","getAll","getAllKeys","count"],ue=["put","add","delete","clear"],Ge=new Map;function Le(Je,ze){if(!(Je instanceof IDBDatabase)||ze in Je||"string"!=typeof ze)return;if(Ge.get(ze))return Ge.get(ze);const _t=ze.replace(/FromIndex$/,""),Zt=ze!==_t,Pt=ue.includes(_t);if(!(_t in(Zt?IDBIndex:IDBObjectStore).prototype)||!Pt&&!he.includes(_t))return;const kn=function(){var ri=(0,a.Z)(function*(Gi,...Zi){const er=this.transaction(Gi,Pt?"readwrite":"readonly");let Ur=er.store;return Zt&&(Ur=Ur.index(Zi.shift())),(yield Promise.all([Ur[_t](...Zi),Pt&&er.done]))[0]});return function(Zi){return ri.apply(this,arguments)}}();return Ge.set(ze,kn),kn}!function Re(Je){mt=Je(mt)}(Je=>({...Je,get:(ze,_t,Zt)=>Le(ze,_t)||Je.get(ze,_t,Zt),has:(ze,_t)=>!!Le(ze,_t)||Je.has(ze,_t)}));class Ct{constructor(ze){this.container=ze}getPlatformInfoString(){return this.container.getProviders().map(_t=>{if(function ot(Je){const ze=Je.getComponent();return"VERSION"===ze?.type}(_t)){const Zt=_t.getImmediate();return`${Zt.library}/${Zt.version}`}return null}).filter(_t=>_t).join(" ")}}const Kt="@firebase/app",un=new K.Yd("@firebase/app"),sn="[DEFAULT]",Yt={[Kt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qt=new Map,zt=new Map;function Te(Je,ze){try{Je.container.addComponent(ze)}catch(_t){un.debug(`Component ${ze.name} failed to register with FirebaseApp ${Je.name}`,_t)}}function we(Je,ze){Je.container.addOrOverwriteComponent(ze)}function Ee(Je){const ze=Je.name;if(zt.has(ze))return un.debug(`There were multiple attempts to register component ${ze}.`),!1;zt.set(ze,Je);for(const _t of Qt.values())Te(_t,Je);return!0}function qe(Je,ze){const _t=Je.container.getProvider("heartbeat").getImmediate({optional:!0});return _t&&_t.triggerHeartbeat(),Je.container.getProvider(ze)}function Fe(Je,ze,_t=sn){qe(Je,ze).clearInstance(_t)}function xt(){zt.clear()}const jt=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xt{constructor(ze,_t,Zt){this._isDeleted=!1,this._options=Object.assign({},ze),this._config=Object.assign({},_t),this._name=_t.name,this._automaticDataCollectionEnabled=_t.automaticDataCollectionEnabled,this._container=Zt,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this.checkDestroyed(),this._automaticDataCollectionEnabled=ze}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ze){this._isDeleted=ze}checkDestroyed(){if(this.isDeleted)throw jt.create("app-deleted",{appName:this._name})}}const Ht="9.23.0";function Ci(Je,ze={}){let _t=Je;"object"!=typeof ze&&(ze={name:ze});const Zt=Object.assign({name:sn,automaticDataCollectionEnabled:!1},ze),Pt=Zt.name;if("string"!=typeof Pt||!Pt)throw jt.create("bad-app-name",{appName:String(Pt)});if(_t||(_t=(0,pe.aH)()),!_t)throw jt.create("no-options");const kn=Qt.get(Pt);if(kn){if((0,pe.vZ)(_t,kn.options)&&(0,pe.vZ)(Zt,kn.config))return kn;throw jt.create("duplicate-app",{appName:Pt})}const ri=new U.H0(Pt);for(const Zi of zt.values())ri.addComponent(Zi);const Gi=new Xt(_t,Zt,ri);return Qt.set(Pt,Gi),Gi}function vi(Je=sn){const ze=Qt.get(Je);if(!ze&&Je===sn&&(0,pe.aH)())return Ci();if(!ze)throw jt.create("no-app",{appName:Je});return ze}function $n(){return Array.from(Qt.values())}function Li(Je){return qn.apply(this,arguments)}function qn(){return(qn=(0,a.Z)(function*(Je){const ze=Je.name;Qt.has(ze)&&(Qt.delete(ze),yield Promise.all(Je.container.getProviders().map(_t=>_t.delete())),Je.isDeleted=!0)})).apply(this,arguments)}function gr(Je,ze,_t){var Zt;let Pt=null!==(Zt=Yt[Je])&&void 0!==Zt?Zt:Je;_t&&(Pt+=`-${_t}`);const kn=Pt.match(/\s|\//),ri=ze.match(/\s|\//);if(kn||ri){const Gi=[`Unable to register library "${Pt}" with version "${ze}":`];return kn&&Gi.push(`library name "${Pt}" contains illegal characters (whitespace or "/")`),kn&&ri&&Gi.push("and"),ri&&Gi.push(`version name "${ze}" contains illegal characters (whitespace or "/")`),void un.warn(Gi.join(" "))}Ee(new U.wA(`${Pt}-version`,()=>({library:Pt,version:ze}),"VERSION"))}function pi(Je,ze){if(null!==Je&&"function"!=typeof Je)throw jt.create("invalid-log-argument");(0,K.Am)(Je,ze)}function xi(Je){(0,K.Ub)(Je)}const _r="firebase-heartbeat-database",go=1,fe="firebase-heartbeat-store";let le=null;function X(){return le||(le=function $e(Je,ze,{blocked:_t,upgrade:Zt,blocking:Pt,terminated:kn}={}){const ri=indexedDB.open(Je,ze),Gi=xe(ri);return Zt&&ri.addEventListener("upgradeneeded",Zi=>{Zt(xe(ri.result),Zi.oldVersion,Zi.newVersion,xe(ri.transaction),Zi)}),_t&&ri.addEventListener("blocked",Zi=>_t(Zi.oldVersion,Zi.newVersion,Zi)),Gi.then(Zi=>{kn&&Zi.addEventListener("close",()=>kn()),Pt&&Zi.addEventListener("versionchange",er=>Pt(er.oldVersion,er.newVersion,er))}).catch(()=>{}),Gi}(_r,go,{upgrade:(Je,ze)=>{0===ze&&Je.createObjectStore(fe)}}).catch(Je=>{throw jt.create("idb-open",{originalErrorMessage:Je.message})})),le}function Y(){return(Y=(0,a.Z)(function*(Je){try{return yield(yield X()).transaction(fe).objectStore(fe).get(Dt(Je))}catch(ze){if(ze instanceof pe.ZR)un.warn(ze.message);else{const _t=jt.create("idb-get",{originalErrorMessage:ze?.message});un.warn(_t.message)}}})).apply(this,arguments)}function Ae(Je,ze){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,a.Z)(function*(Je,ze){try{const Zt=(yield X()).transaction(fe,"readwrite");yield Zt.objectStore(fe).put(ze,Dt(Je)),yield Zt.done}catch(_t){if(_t instanceof pe.ZR)un.warn(_t.message);else{const Zt=jt.create("idb-set",{originalErrorMessage:_t?.message});un.warn(Zt.message)}}})).apply(this,arguments)}function Dt(Je){return`${Je.name}!${Je.options.appId}`}class Xn{constructor(ze){this.container=ze,this._heartbeatsCache=null;const _t=this.container.getProvider("app").getImmediate();this._storage=new Nn(_t),this._heartbeatsCachePromise=this._storage.read().then(Zt=>(this._heartbeatsCache=Zt,Zt))}triggerHeartbeat(){var ze=this;return(0,a.Z)(function*(){const Zt=ze.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pt=xn();if(null===ze._heartbeatsCache&&(ze._heartbeatsCache=yield ze._heartbeatsCachePromise),ze._heartbeatsCache.lastSentHeartbeatDate!==Pt&&!ze._heartbeatsCache.heartbeats.some(kn=>kn.date===Pt))return ze._heartbeatsCache.heartbeats.push({date:Pt,agent:Zt}),ze._heartbeatsCache.heartbeats=ze._heartbeatsCache.heartbeats.filter(kn=>{const ri=new Date(kn.date).valueOf();return Date.now()-ri<=2592e6}),ze._storage.overwrite(ze._heartbeatsCache)})()}getHeartbeatsHeader(){var ze=this;return(0,a.Z)(function*(){if(null===ze._heartbeatsCache&&(yield ze._heartbeatsCachePromise),null===ze._heartbeatsCache||0===ze._heartbeatsCache.heartbeats.length)return"";const _t=xn(),{heartbeatsToSend:Zt,unsentEntries:Pt}=function ai(Je,ze=1024){const _t=[];let Zt=Je.slice();for(const Pt of Je){const kn=_t.find(ri=>ri.agent===Pt.agent);if(kn){if(kn.dates.push(Pt.date),vr(_t)>ze){kn.dates.pop();break}}else if(_t.push({agent:Pt.agent,dates:[Pt.date]}),vr(_t)>ze){_t.pop();break}Zt=Zt.slice(1)}return{heartbeatsToSend:_t,unsentEntries:Zt}}(ze._heartbeatsCache.heartbeats),kn=(0,pe.L)(JSON.stringify({version:2,heartbeats:Zt}));return ze._heartbeatsCache.lastSentHeartbeatDate=_t,Pt.length>0?(ze._heartbeatsCache.heartbeats=Pt,yield ze._storage.overwrite(ze._heartbeatsCache)):(ze._heartbeatsCache.heartbeats=[],ze._storage.overwrite(ze._heartbeatsCache)),kn})()}}function xn(){return(new Date).toISOString().substring(0,10)}class Nn{constructor(ze){this.app=ze,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ze=this;return(0,a.Z)(function*(){return(yield ze._canUseIndexedDBPromise)&&(yield function te(Je){return Y.apply(this,arguments)}(ze.app))||{heartbeats:[]}})()}overwrite(ze){var _t=this;return(0,a.Z)(function*(){var Zt;if(yield _t._canUseIndexedDBPromise){const kn=yield _t.read();return Ae(_t.app,{lastSentHeartbeatDate:null!==(Zt=ze.lastSentHeartbeatDate)&&void 0!==Zt?Zt:kn.lastSentHeartbeatDate,heartbeats:ze.heartbeats})}})()}add(ze){var _t=this;return(0,a.Z)(function*(){var Zt;if(yield _t._canUseIndexedDBPromise){const kn=yield _t.read();return Ae(_t.app,{lastSentHeartbeatDate:null!==(Zt=ze.lastSentHeartbeatDate)&&void 0!==Zt?Zt:kn.lastSentHeartbeatDate,heartbeats:[...kn.heartbeats,...ze.heartbeats]})}})()}}function vr(Je){return(0,pe.L)(JSON.stringify({version:2,heartbeats:Je})).length}!function Ko(Je){Ee(new U.wA("platform-logger",ze=>new Ct(ze),"PRIVATE")),Ee(new U.wA("heartbeat",ze=>new Xn(ze),"PRIVATE")),gr(Kt,"0.9.13",Je),gr(Kt,"0.9.13","esm2017"),gr("fire-js","")}("")},4537:(en,Me,Q)=>{Q.d(Me,{H0:()=>ut,wA:()=>K,zt:()=>ce});var a=Q(5861),U=Q(9058);class K{constructor(z,G,de){this.name=z,this.instanceFactory=G,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const pe="[DEFAULT]";class ce{constructor(z,G){this.name=z,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const G=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(G)){const de=new U.BH;if(this.instancesDeferred.set(G,de),this.isInitialized(G)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:G});Ne&&de.resolve(Ne)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(z){var G;const de=this.normalizeInstanceIdentifier(z?.identifier),Ne=null!==(G=z?.optional)&&void 0!==G&&G;if(!this.isInitialized(de)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:de})}catch(me){if(Ne)return null;throw me}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function ke(Ve){return"EAGER"===Ve.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:pe})}catch{}for(const[G,de]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(G);try{const me=this.getOrInitializeService({instanceIdentifier:Ne});de.resolve(me)}catch{}}}}clearInstance(z=pe){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,a.Z)(function*(){const G=Array.from(z.instances.values());yield Promise.all([...G.filter(de=>"INTERNAL"in de).map(de=>de.INTERNAL.delete()),...G.filter(de=>"_delete"in de).map(de=>de._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=pe){return this.instances.has(z)}getOptions(z=pe){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:G={}}=z,de=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(de))throw Error(`${this.name}(${de}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:de,options:G});for(const[me,lt]of this.instancesDeferred.entries())de===this.normalizeInstanceIdentifier(me)&&lt.resolve(Ne);return Ne}onInit(z,G){var de;const Ne=this.normalizeInstanceIdentifier(G),me=null!==(de=this.onInitCallbacks.get(Ne))&&void 0!==de?de:new Set;me.add(z),this.onInitCallbacks.set(Ne,me);const lt=this.instances.get(Ne);return lt&&z(lt,Ne),()=>{me.delete(z)}}invokeOnInitCallbacks(z,G){const de=this.onInitCallbacks.get(G);if(de)for(const Ne of de)try{Ne(z,G)}catch{}}getOrInitializeService({instanceIdentifier:z,options:G={}}){let de=this.instances.get(z);if(!de&&this.component&&(de=this.component.instanceFactory(this.container,{instanceIdentifier:(Ve=z,Ve===pe?void 0:Ve),options:G}),this.instances.set(z,de),this.instancesOptions.set(z,G),this.invokeOnInitCallbacks(de,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,de)}catch{}var Ve;return de||null}normalizeInstanceIdentifier(z=pe){return this.component?this.component.multipleInstances?z:pe:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ut{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const G=this.getProvider(z.name);if(G.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);G.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const G=new ce(z,this);return this.providers.set(z,G),G}getProviders(){return Array.from(this.providers.values())}}},7879:(en,Me,Q)=>{Q.d(Me,{Am:()=>Ve,Ub:()=>ut,Yd:()=>ke,in:()=>U});const a=[];var U=function(z){return z[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",z}(U||{});const K={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},pe=U.INFO,ce={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},Pe=(z,G,...de)=>{if(G<z.logLevel)return;const Ne=(new Date).toISOString(),me=ce[G];if(!me)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[me](`[${Ne}]  ${z.name}:`,...de)};class ke{constructor(G){this.name=G,this._logLevel=pe,this._logHandler=Pe,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in U))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?K[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...G),this._logHandler(this,U.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...G),this._logHandler(this,U.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,U.INFO,...G),this._logHandler(this,U.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,U.WARN,...G),this._logHandler(this,U.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...G),this._logHandler(this,U.ERROR,...G)}}function ut(z){a.forEach(G=>{G.setLogLevel(z)})}function Ve(z,G){for(const de of a){let Ne=null;G&&G.level&&(Ne=K[G.level]),de.userLogHandler=null===z?null:(me,lt,...st)=>{const mt=st.map(Re=>{if(null==Re)return null;if("string"==typeof Re)return Re;if("number"==typeof Re||"boolean"==typeof Re)return Re.toString();if(Re instanceof Error)return Re.message;try{return JSON.stringify(Re)}catch{return null}}).filter(Re=>Re).join(" ");lt>=(Ne??me.logLevel)&&z({level:U[lt].toLowerCase(),message:mt,args:st,type:me.name})}}}},5861:(en,Me,Q)=>{function a(K,pe,ce,Pe,ke,ut,Ve){try{var z=K[ut](Ve),G=z.value}catch(de){return void ce(de)}z.done?pe(G):Promise.resolve(G).then(Pe,ke)}function U(K){return function(){var pe=this,ce=arguments;return new Promise(function(Pe,ke){var ut=K.apply(pe,ce);function Ve(G){a(ut,Pe,ke,Ve,z,"next",G)}function z(G){a(ut,Pe,ke,Ve,z,"throw",G)}Ve(void 0)})}}Q.d(Me,{Z:()=>U})},7582:(en,Me,Q)=>{function pe(Se,Ce){var He={};for(var je in Se)Object.prototype.hasOwnProperty.call(Se,je)&&Ce.indexOf(je)<0&&(He[je]=Se[je]);if(null!=Se&&"function"==typeof Object.getOwnPropertySymbols){var ct=0;for(je=Object.getOwnPropertySymbols(Se);ct<je.length;ct++)Ce.indexOf(je[ct])<0&&Object.prototype.propertyIsEnumerable.call(Se,je[ct])&&(He[je[ct]]=Se[je[ct]])}return He}function ce(Se,Ce,He,je){var Mt,ct=arguments.length,gt=ct<3?Ce:null===je?je=Object.getOwnPropertyDescriptor(Ce,He):je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)gt=Reflect.decorate(Se,Ce,He,je);else for(var bt=Se.length-1;bt>=0;bt--)(Mt=Se[bt])&&(gt=(ct<3?Mt(gt):ct>3?Mt(Ce,He,gt):Mt(Ce,He))||gt);return ct>3&&gt&&Object.defineProperty(Ce,He,gt),gt}function de(Se,Ce,He,je){return new(He||(He=Promise))(function(gt,Mt){function bt(Fn){try{dn(je.next(Fn))}catch(fn){Mt(fn)}}function Sn(Fn){try{dn(je.throw(Fn))}catch(fn){Mt(fn)}}function dn(Fn){Fn.done?gt(Fn.value):function ct(gt){return gt instanceof He?gt:new He(function(Mt){Mt(gt)})}(Fn.value).then(bt,Sn)}dn((je=je.apply(Se,Ce||[])).next())})}function xe(Se){return this instanceof xe?(this.v=Se,this):new xe(Se)}function nt(Se,Ce,He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct,je=He.apply(Se,Ce||[]),gt=[];return ct={},Mt("next"),Mt("throw"),Mt("return"),ct[Symbol.asyncIterator]=function(){return this},ct;function Mt(tn){je[tn]&&(ct[tn]=function(Dn){return new Promise(function(Ut,cn){gt.push([tn,Dn,Ut,cn])>1||bt(tn,Dn)})})}function bt(tn,Dn){try{!function Sn(tn){tn.value instanceof xe?Promise.resolve(tn.value.v).then(dn,Fn):fn(gt[0][2],tn)}(je[tn](Dn))}catch(Ut){fn(gt[0][3],Ut)}}function dn(tn){bt("next",tn)}function Fn(tn){bt("throw",tn)}function fn(tn,Dn){tn(Dn),gt.shift(),gt.length&&bt(gt[0][0],gt[0][1])}}function it(Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,Ce=Se[Symbol.asyncIterator];return Ce?Ce.call(Se):(Se=function st(Se){var Ce="function"==typeof Symbol&&Symbol.iterator,He=Ce&&Se[Ce],je=0;if(He)return He.call(Se);if(Se&&"number"==typeof Se.length)return{next:function(){return Se&&je>=Se.length&&(Se=void 0),{value:Se&&Se[je++],done:!Se}}};throw new TypeError(Ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(Se),He={},je("next"),je("throw"),je("return"),He[Symbol.asyncIterator]=function(){return this},He);function je(gt){He[gt]=Se[gt]&&function(Mt){return new Promise(function(bt,Sn){!function ct(gt,Mt,bt,Sn){Promise.resolve(Sn).then(function(dn){gt({value:dn,done:bt})},Mt)}(bt,Sn,(Mt=Se[gt](Mt)).done,Mt.value)})}}}Q.d(Me,{FC:()=>nt,KL:()=>it,_T:()=>pe,gn:()=>ce,mG:()=>de,qq:()=>xe}),"function"==typeof SuppressedError&&SuppressedError}},en=>{en(en.s=4422)}]);